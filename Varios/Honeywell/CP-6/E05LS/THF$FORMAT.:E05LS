VERSION E05

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:1    
        1        1        /*T***********************************************************/
        2        2        /*T*                                                         */
        3        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        4        4        /*T*                                                         */
        5        5        /*T***********************************************************/
        6        6
        7        7        /*M* THF$FORMAT - ROUTINES TO BUILD INDIVIDUAL ELAN REPORTS */
        8        8        /**/
        9        9        THF$RAW: PROC(FMTTBL$);
       10       10        /**/
       11       11        /* PARAMS */
       12       12    1   DCL FMTTBL$(0:0) PTR;
       13       13        /**/
       14       14        /* INCLUDE FILES */
       15       15        %INCLUDE CP_6;
       16       96        %INCLUDE B$JIT;
       17      386        %INCLUDE EL$TABLES;
       18      709        %INCLUDE TH_DATA_R;
       19      787        %INCLUDE TH_SUBS_C;
       20     1169        %INCLUDE TH_DATA_C;
       21     1185        %INCLUDE KI_SUBS_C;
       22     1321        %INCLUDE EL_SUBS_C;
       23     1405        %INCLUDE TH_XSTATUS_R;
       24     1708        %INCLUDE CP_6_SUBS;
       25     2248        %INCLUDE B_MICROPS_C;
       26     2420        %INCLUDE TM_DATA_M;
       27     2522        %INCLUDE NI_DATA_C;
       28     2635        %INCLUDE XU_FORMAT_C;
       29     2797        /**/
       30     2798        /* ENTRY DEFS */
       31     2799    1   DCL THW$WRITE ENTRY(11);
       32     2800    1   DCL THF$CSHERR ENTRY;
       33     2801    1   DCL THF$DUMP ENTRY(3);
       34     2802    1   DCL THF$HEXDUMP ENTRY(3);
       35     2803    1   DCL THF$HISTORY ENTRY(2);
       36     2804    1   DCL THF$ADD_TEXTC ENTRY(3);
       37     2805    1   DCL THF$STATUS ENTRY(5) ALTRET;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:2    
       38     2806    1   DCL X$FORMAT ENTRY(1);
       39     2807        /**/
       40     2808        /* SYMREFS */
       41     2809    1   DCL B$JIT$ PTR SYMREF;
       42     2810        /**/
       43     2811        /* VARS */
       44     2812    1   DCL 1 INFO DALIGNED,
       45     2813    1         2 BOUND UBIN(20) UNAL,
       46     2814    1         2 * BIT(16) UNAL,
       47     2815    1         2 PTR$ PTR;
       48     2816    1   DCL CHP CHAR(3);
       49     2817    1   DCL BORD CHAR(1);
       50     2818        %EL$SCREECH_MASK (NAME=MASK);
       51     2821    1   DCL I SBIN;
       52     2822    1   DCL X SBIN;
       53     2823    1   DCL PRNTR_REG BIT(6);
       54     2824    1   DCL PR54_BYTE BIT(9);
       55     2825    1   DCL 1 PTR_BELT,
       56     2826    1       2 BYT1 UBIN(8) UNAL,
       57     2827    1       2 BYT2 UBIN(8) UNAL;
       58     2828    1   DCL 1 PR54_BELT REDEF PTR_BELT,
       59     2829    1       2 * BIT(1) UNAL,
       60     2830    1       2 CODE BIT(15) UNAL;
       61     2831    1   DCL 1 PR71_BELT REDEF PTR_BELT,
       62     2832    1       2 * BIT(1) UNAL,
       63     2833    1       2 CODE BIT(15) UNAL;
       64     2834    1   DCL 1 PR71_REG1 ALIGNED,
       65     2835    1       2 BYT1 UBIN(8) UNAL,
       66     2836    1       2 BYT2 UBIN(8) UNAL,
       67     2837    1       2 * UBIN(20) UNAL;
       68     2838    1   DCL JUNK SBIN;
       69     2839    1   DCL TEMP CHAR(63);
       70     2840    1   DCL TEMP1 CHAR(63);
       71     2841    1   DCL TEMP2 CHAR(63);
       72     2842    1   DCL NUMSTATS UBIN;
       73     2843    1   DCL J UBIN;
       74     2844    1   DCL STRT UBIN;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:3    
       75     2845    1   DCL LEN SBIN;
       76     2846    1   DCL OUTBUF CHAR(132) STATIC;
       77     2847    1   DCL DYMFMT CHAR(0) CONSTANT INIT('%/DYNAMIC DATA : %10P');
       78     2848    1   DCL INFOFMT CHAR(0) CONSTANT INIT('%/INFO : %10P');
       79     2849    1   DCL PROCERR_SS CHAR(0) CONSTANT INIT('%/SAFE-STORE FRAME:  %10P');
       80     2850    1   DCL NUMBYTES UBIN WORD;
       81     2851    1   DCL NUMWORDS UBIN WORD;
       82     2852    1   DCL CHARNUM CHAR(3);
       83     2853    1   DCL TEXTBUF CHAR(256);
       84     2854    1   DCL TAPEFMT CHAR(0) CONSTANT INIT(
       85     2855    1   '%5A %2P%4A %3P%9NS%9NS%T%18-%T%25-%T%36-%T%46-%T%51-%T%61-%T%66-%T%/%10P');
       86     2856    1   DCL DISKFMT CHAR(0) CONSTANT INIT(
       87     2857    1   '%5A %2P%4A %3P%9NS%9NS%T%19-%T%26-%T%32-%T%39-%T%44-%T%50-%T%55-%T%61-%T%67-%T%/%10
              2857        P');
       88     2858    1   DCL PR71FMT1 CHAR(0) CONSTANT INIT('ECHO CHECK REG: %0P%4.16ZH%1Q');
       89     2859    1   DCL PR71FMT3 CHAR(0) CONSTANT INIT('SHORT CIRCUIT REG: %0P%4.16ZH%1Q');
       90     2860    1   DCL 1 PR71_BUF STATIC SYMDEF,
       91     2861    1       2 * CHAR(1) UNAL,
       92     2862    1       2 STRING CHAR(35) UNAL INIT(' ');
       93     2863    1   DCL 1 PR71_VECTOR_TBL BIT(72) STATIC DALIGNED INIT(VECTOR(NIL)*0);
       94     2864    1   DCL TEMP_STATUS BIT(72) STATIC ALIGNED;
       95     2865    1   DCL 1 TEMP_STATUS1 REDEF TEMP_STATUS,
       96     2866    1         2 MAJOR_STATUS BIT(6) UNAL,
       97     2867    1         2 XX BIT(6) UNAL,
       98     2868    1         2 * BIT(6) UNAL,
       99     2869    1         2 YY BIT(6) UNAL,
      100     2870    1         2 * BIT(24) UNAL,
      101     2871    1         2 CHANNEL BIT(6) UNAL,
      102     2872    1         2 * BIT(12) UNAL,
      103     2873    1         2 FAULT_CODE BIT(6) UNAL;
      104     2874    1   DCL 1 TVEC DALIGNED,
      105     2875    1           2 BOUND UBIN(20) UNAL,
      106     2876    1           2 * BIT(16),
      107     2877    1           2 PTR$ PTR;
      108     2878    1   DCL 1 FEPERR_CODE STATIC UNAL,
      109     2879    1         2 FCG UBIN(18) UNAL,
      110     2880    1         2 MON BIT(1),
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:4    
      111     2881    1         2 CODE UBIN(14) UNAL,
      112     2882    1         2 SEV UBIN(3) UNAL;
      113     2883    1   DCL TEXT$ PTR;
      114     2884    1   DCL 1 DFNAME BASED(TEXT$),
      115     2885    1           2 N UBIN BYTE UNAL,
      116     2886    1           2 DF CHAR(3),
      117     2887    1           2 MONID CHAR(4) UNAL,
      118     2888    1           2 SCOUNT CHAR(3);
      119     2889    1   DCL CTL$ PTR;
      120     2890    1   DCL STATS$ PTR;
      121     2891    1   DCL 1 TAPE_STATS BASED(STATS$) ALIGNED,   /* MPC AND TPUR TAPE STATISTICS */
      122     2892    1       2 RECORDS_READ UBIN,
      123     2893    1       2 RECORDS_WRITTEN UBIN,
      124     2894    1       2 WRITE_ERRS UBIN,
      125     2895    1       2 READ_ERRS UBIN,
      126     2896    1       2 TRANS_TIMING_ERRS UBIN,
      127     2897    1       2 MARGINAL_RECS UBIN,
      128     2898    1       2 PARITY_ERRS UBIN,
      129     2899    1       2 MTC_READ_COUNT UBIN;
      130     2900    1   DCL 1 DISK_STATS BASED(STATS$) ALIGNED,  /* MPC AND DAU DISK STATISTICS */
      131     2901    1       2 SEEKS UBIN,
      132     2902    1       2 SECTORS_WRITTEN UBIN,
      133     2903    1       2 SECTORS_READ UBIN,
      134     2904    1       2 DATA_TRANSFERS UBIN,
      135     2905    1       2 SEEK_INCOMPLETES UBIN,
      136     2906    1       2 HDR_VER_ERRS UBIN,
      137     2907    1       2 TRANS_TIMING_ERRS UBIN,
      138     2908    1       2 DATA_CHK_ALERTS UBIN,
      139     2909    1       2 CNT_CHK_ALERTS UBIN,
      140     2910    1       2 DLI_PARITY_ERRS UBIN,
      141     2911    1       2 ALT_TRKS_PROCESSED UBIN,
      142     2912    1       2 EDAC_CORR_ERRS UBIN,
      143     2913    1       2 EDAC_UNCORR_ERRS UBIN,
      144     2914    1       2 LATENCY_RETRIES UBIN,
      145     2915    1       2 DATA_RETRIES UBIN,
      146     2916    1       2 SEARCH_ALERTS UBIN;
      147     2917    1   DCL 1 MDS_STATS BASED(STATS$) ALIGNED,  /* MDS DISK STATISTICS */
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:5    
      148     2918    1       2 BYTES_READ UBIN,
      149     2919    1       2 BYTES_WRITTEN UBIN,
      150     2920    1       2 IPC_SEEK_CNT UBIN(18) UNAL,
      151     2921    1       2 SEEK_ERRS UBIN(18) UNAL,
      152     2922    1       2 DATA_CHKS_CORR UBIN(18) UNAL,
      153     2923    1       2 DATA_CHKS_UNCORR UBIN(18) UNAL,
      154     2924    1       2 CM_SEEK_CNT UBIN,
      155     2925    1       2 SEEK_READS UBIN,
      156     2926    1       2 SECTORS_READ UBIN,
      157     2927    1       2 SEEK_WRITES UBIN,
      158     2928    1       2 SECTORS_WRITTEN UBIN,
      159     2929    1       2 RETRIES UBIN,
      160     2930    1       2 LATENCIES_LOST UBIN;
      161     2931    1   DCL 1 EURC_STATS BASED(STATS$) ALIGNED,   /* EURC/IPC-UR STATISTICS */
      162     2932    1       2 RECEIVER_ERRS(0:3) UBIN(18) UNAL,
      163     2933    1       2 TRANSMITTER_ERRS(0:3) UBIN(18) UNAL,
      164     2934    1       2 CARDS_PUNCHED(0:3) UBIN(18) UNAL,
      165     2935    1       2 CARDS_READ(0:3) UBIN(18) UNAL,
      166     2936    1       2 FRAMES_RECEIVED(0:3) UBIN(18) UNAL,
      167     2937    1       2 FRAMES_TRANSMITTED(0:3) UBIN(18) UNAL,
      168     2938    1       2 CONNECT_PCWS(0:3) UBIN(18) UNAL,
      169     2939    1       2 PCWS_ON_IMU_INTERFACE(0:3) UBIN(18) UNAL,
      170     2940    1       2 TOTAL_TRANSACTIONS(0:3) UBIN,
      171     2941    1       2 WORD_TRANSFERS(0:3) UBIN,
      172     2942    1       2 LINES_PRINTED(0:3) UBIN(18) UNAL,
      173     2943    1       2 RETRANSMISSIONS(0:3) UBIN(18) UNAL,
      174     2944    1       2 PAGES_PRINTED(0:3) UBIN(18) UNAL,
      175     2945    1       2 UPTIME UBIN,
      176     2946    1       2 LOST_INTS UBIN(18) UNAL,
      177     2947    1       2 UNSOLICITED_FRAMES UBIN(18) UNAL,
      178     2948    1       2 PROMS(0:7) UBIN(9) UNAL;
      179     2949    1   DCL TYPE UBIN;
      180     2950    1   DCL LOC_UTS UBIN STATIC;
      181     2951    1   DCL DBUF CHAR(8) STATIC;
      182     2952    1   DCL TBUF CHAR(11) STATIC;
      183     2953    1   DCL DUMP_HDR CHAR(0) CONSTANT INIT('%2/ TYPE = %D  TIME = %A - %A %10P');
      184     2954    1   DCL DEV_FLAG BIT(1);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:6    
      185     2955    1   DCL DEV$ PTR;
      186     2956    1   DCL 1 DEVTBL(0:207) BASED(DEV$) ALIGNED,
      187     2957    1         2 CODE UBIN BYTE UNAL,
      188     2958    1         2 COUNT UBIN BYTE UNAL,
      189     2959    1         2 TEXT CHAR(35) UNAL;
      190     2960    1   DCL OCTET$ PTR;
      191     2961    1   DCL 1 PARAM_TBL(0:7) BASED(OCTET$) ALIGNED,
      192     2962    1       2 COUNT UBIN BYTE UNAL,
      193     2963    1       2 TEXT CHAR(44) UNAL;
      194     2964    1   DCL MDS_TBL$ PTR;
      195     2965    1   DCL 1 MDS_TBL(0:25) BASED(MDS_TBL$) ALIGNED,
      196     2966    1       2 CODE UBIN BYTE UNAL,
      197     2967    1       2 COUNT UBIN BYTE UNAL,
      198     2968    1       2 TEXT CHAR(44) UNAL;
      199     2969    1   DCL MODEL_CHAR CHAR(3);
      200     2970    1   DCL IO_MASK(0:35) UBIN(8) UNAL;
      201     2971    1   DCL IO_MASK1(0:287) REDEF IO_MASK BIT(1);
      202     2972    1   DCL NEW_IO_MASK(0:35) UBIN(8) UNAL;
      203     2973    1   DCL IO_MASK2(0:287) REDEF NEW_IO_MASK BIT(1);
      204     2974    1   DCL 1 OCTET_BYTE(0:25) UBIN(8) UNAL;
      205     2975    1   DCL 1 OCTET_NIBBLE(0:51) REDEF OCTET_BYTE UBIN(4) UNAL;
      206     2976    1   DCL 1 XSTATUS_BYTE(0:10) UBIN(8) UNAL;
      207     2977    1   DCL 1 XSTATUS_NIBBLE(0:21) REDEF XSTATUS_BYTE UBIN(4) UNAL;
      208     2978    1   DCL 1 HEX_NUM UBIN(8) UNAL;
      209     2979    1   DCL 1 HEX_NIBBLE(0:1) REDEF HEX_NUM UBIN(4) UNAL;
      210     2980    1   DCL 1 PARAM_INDX SBIN;
      211     2981    1   DCL 1 PARAMETER_ID UBIN(8) UNAL;
      212     2982    1   DCL 1 PARAM_ID REDEF PARAMETER_ID,
      213     2983    1       2 BYT1 UBIN(4) UNAL,
      214     2984    1       2 BYT2 UBIN(4) UNAL;
      215     2985    1   DCL 1 PARAMETER_LENGTH UBIN(8);
      216     2986    1   DCL 1 MDS_STATUS_REG1 UBIN(8) UNAL;
      217     2987    1   DCL 1 MDS_DRIVE_STATUS REDEF MDS_STATUS_REG1,
      218     2988    1       2 DRIVE_END_STATUS UBIN(4) UNAL,
      219     2989    1       2 OP_END_STATUS UBIN(4) UNAL;
      220     2990    1   DCL 1 MDS_STATUS_REG2(0:1) UBIN(8) UNAL;
      221     2991    1   DCL 1 MDS_CMD_ENDING_STAT REDEF MDS_STATUS_REG2,
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:7    
      222     2992    1       2 CMD_IDENT UBIN(8) UNAL,
      223     2993    1       2 ERROR_LOC UBIN(2) UNAL,
      224     2994    1       2 ERROR_CAT UBIN(2) UNAL,
      225     2995    1       2 ERROR_CODE UBIN(3) UNAL,
      226     2996    1       2 * UBIN(1) UNAL;
      227     2997    1   DCL 1 F_INDX UBIN(8) UNAL;
      228     2998    1   DCL 1 FRU_INDX(0:1) REDEF F_INDX UBIN(4) UNAL;
      229     2999    1   DCL 1 MAX_ENTRY UBIN;
      230     3000    1   DCL 1 OCTET_NUM SBIN;
      231     3001    1   DCL 1 BINHEX(0:15) CHAR(1) CONSTANT UNAL INIT('0','1','2','3','4','5','6',
      232     3002    1                      '7','8','9','A','B','C','D','E','F');
      233     3003    1   DCL 1 ASCII_EXTST(0:31),         /* ASCII FORMAT FOR EXTENDED STATUS */
      234     3004    1       2 * BIT(1) UNAL,
      235     3005    1       2 BYT UBIN(8) UNAL;
      236     3006    1   DCL 1 FRU_STRING STATIC,
      237     3007    1       2 * CHAR(4) UNAL INIT('  = '),
      238     3008    1       2 OCTET(0:3),
      239     3009    1         3 NIB1 CHAR(1) UNAL,
      240     3010    1         3 NIB2 CHAR(1) UNAL,
      241     3011    1         3 * CHAR(1) INIT(' '*0) UNAL;
      242     3012    1   DCL 1 FRU_STR REDEF FRU_STRING CHAR(16);
      243     3013    1   DCL 1 MDS_REG1 UBIN;
      244     3014    1   DCL 1 MDS_REG2 REDEF MDS_REG1,
      245     3015    1       2 * UBIN(20) UNAL,
      246     3016    1       2 OCTET(0:1) UBIN(8) UNAL;
      247     3017    1   DCL 1 MDS_CYL CHAR(4) UNAL;
      248     3018    1   DCL 1 MDS_SECTOR CHAR(2) UNAL;
      249     3019    1   DCL 1 MDS_HEAD CHAR(2) UNAL;
      250     3020    1   DCL FIPS_TAPE BIT(1);
      251     3021    1   DCL XST$ PTR;
      252     3022    1   DCL 1 XST_TEMP BASED(XST$),
      253     3023    1         2 N UBIN WORD;
      254     3024    1   DCL XSTBUF CHAR(6000) STATIC INIT(' ');
      255     3025    1   DCL 1 XSTVEC DALIGNED,
      256     3026    1         2 BOUND UBIN(20) UNAL,
      257     3027    1         2 * BIT(16) UNAL,
      258     3028    1         2 PTR$ PTR;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:8    
      259     3029    1   DCL XST_TEXT CHAR(35);
      260     3030    1   DCL MDS_TEXT CHAR(80);
      261     3031    1   DCL 1 MDS_TEXT_POSITION SBIN;
      262     3032    1   DCL XST_CNT SBIN;
      263     3033    1   DCL NXST UBIN;
      264     3034    1   DCL N UBIN;
      265     3035    1   DCL MDSFMT CHAR(0) CONSTANT INIT('%N(%/%2-%T%) %10P');
      266     3036    1   DCL EVENFMT CHAR(0) CONSTANT INIT('%N(%/%2-%T%37-%T%) %10P');
      267     3037    1   DCL ODDFMT CHAR(0) CONSTANT INIT('%N(%/%2-%T%37-%T%) %/%2-%T %10P');
      268     3038    1   DCL ODDFLAG BIT(1);
      269     3039    1   DCL MAJBUF CHAR(32);
      270     3040    1   DCL MINBUF CHAR(32);
      271     3041    1   DCL MAJCNT SBIN WORD;
      272     3042    1   DCL MINCNT SBIN WORD;
      273     3043    1   DCL MMBUF CHAR(256) STATIC INIT(' ');
      274     3044    1   DCL MM$ PTR;
      275     3045    1   DCL 1 TXT_TEMP BASED(MM$),
      276     3046    1         2 N UBIN WORD;
      277     3047    1   DCL 1 MMVEC DALIGNED,
      278     3048    1         2 BOUND UBIN(20) UNAL,
      279     3049    1         2 * BIT(16) UNAL,
      280     3050    1         2 PTR$ PTR;
      281     3051    1   DCL SECTOR SBIN;
      282     3052    1   DCL CYL SBIN;
      283     3053    1   DCL HD SBIN;
      284     3054    1   DCL SE SBIN;
      285     3055    1   DCL IOMN CHAR(1);
      286     3056    1   DCL CPUN CHAR(1);     /* CPU NUMBER */
      287     3057    1   DCL SCUN CHAR(1);     /* SCU NUMBER */
      288     3058    1   DCL IOM_DEVN CHAR(8);
      289     3059    1   DCL CPU_DEVN CHAR(8);
      290     3060    1   DCL SCU_DEVN CHAR(8);
      291     3061    1   DCL SECBUF CHAR(20) STATIC INIT(' ');
      292     3062    1   DCL SEC$ PTR;
      293     3063    1   DCL CCYL CHAR(4);
      294     3064    1   DCL TEMPBUF(0:5) UBIN;
      295     3065    1   DCL CHD CHAR(3);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:9    
      296     3066    1   DCL CSE CHAR(3);
      297     3067    1   DCL HDCH CHAR(2);
      298     3068    1   DCL SECH CHAR(2);
      299     3069    1   DCL 1 MT_POSITION STATIC CALIGNED,
      300     3070    1       2 FILE CHAR(4) UNAL,
      301     3071    1       2 * CHAR(1) INIT('-') UNAL,
      302     3072    1       2 RECCNT CHAR(6) UNAL;
      303     3073    1   DCL 1 DP_POSITION STATIC CALIGNED,
      304     3074    1       2 CYL CHAR(4) UNAL,
      305     3075    1       2 * CHAR(1) INIT('-') UNAL,
      306     3076    1       2 HD CHAR(2) UNAL,
      307     3077    1       2 * CHAR(1) INIT('-') UNAL,
      308     3078    1       2 SEC CHAR(2) UNAL;
      309     3079    1   DCL SEEK_ADDR CHAR(8) CALIGNED;
      310     3080    1   DCL 1 SECVEC DALIGNED,
      311     3081    1         2 BOUND UBIN(20) UNAL,
      312     3082    1         2 * BIT(16) UNAL,
      313     3083    1         2 PTR$ PTR;
      314     3084    1   DCL FC$ PTR;
      315     3085    1   DCL FCBUF CHAR(300) STATIC INIT(' ');
      316     3086    1   DCL 1 FCVEC DALIGNED,
      317     3087    1         2 BOUND UBIN(20) UNAL,
      318     3088    1         2 * BIT(16) UNAL,
      319     3089    1         2 PTR$ PTR;
      320     3090    1   DCL FC_TEXT CHAR(37);
      321     3091    1   DCL FC_CNT SBIN;
      322     3092    1   DCL FCPTR$ PTR;
      323     3093    1   DCL 1 FCTBL(0:71) BASED (FCPTR$) ALIGNED,
      324     3094    1         2 CODE UBIN BYTE UNAL,
      325     3095    1         2 COUNT UBIN BYTE UNAL,
      326     3096    1         2 TEXT CHAR(37) UNAL;
      327     3097    1   DCL FLT_REG BIT(72);
      328     3098    1   DCL FLT_REG_T(0:71) REDEF FLT_REG BIT(1);
      329     3099    1   DCL FLT_REG_TT(0:17) REDEF FLT_REG BIT(4);
      330     3100    1   DCL FCFMT CHAR(0) CONSTANT INIT('%/FAULT CODE:  %T%10P');
      331     3101    1   DCL FRFMT CHAR(0) CONSTANT INIT(
      332     3102    1       '%/FAULT REGISTER INTERPRETATION: %N(%/%5-%T%) %10P');
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:10   
      333     3103    1   DCL 1 FC_TEMP BASED (FC$),
      334     3104    1         2 N UBIN WORD;
      335     3105    1   DCL II UBIN;
      336     3106    1   DCL JJ UBIN;
      337     3107    1   DCL FCFLAG UBIN;
      338     3108    1   DCL BIT_CNT UBIN;
      339     3109    1   DCL FEP_COUNT UBIN;
      340     3110    1   DCL 1 SPTBL(0:6) BASED(SPC$) ALIGNED,
      341     3111    1         2 CODE CHAR(5) UNAL,
      342     3112    1         2 COUNT UBIN BYTE UNAL,
      343     3113    1         2 TEXT CHAR(35) UNAL;
      344     3114    1   DCL SP_BIT(0:4) CHAR(1) STATIC INIT(' '*0);
      345     3115    1   DCL SPBIT$ PTR STATIC INIT(ADDR(SP_BIT));
      346     3116    1   DCL SP_CHAR CHAR(LENN) BASED(SPBIT$);
      347     3117    1   DCL LENN UBIN;
      348     3118    1   DCL SPC$ PTR;
      349     3119    1   DCL DP_BIT(0:3) BIT(1);
      350     3120    1   DCL DP_FORMAT REDEF DP_BIT UBIN(4) UNAL;
      351     3121    1   DCL DP_FORM_MSG REDEF DP_BIT UBIN(4) UNAL;
      352     3122    1   DCL FT_BIT(0:7) BIT(1);
      353     3123    1   DCL FT_CODE REDEF FT_BIT UBIN(8) UNAL;
      354     3124    1   DCL 1 DP_FORM_TBL(0:15) BASED(DPC$) ALIGNED,
      355     3125    1         2 CODE UBIN(4) UNAL,
      356     3126    1         2 COUNT UBIN BYTE UNAL,
      357     3127    1         2 TEXT CHAR(30) UNAL;
      358     3128    1   DCL DPC$ PTR;
      359     3129    1   DCL ERR_MSG STATIC CHAR(120) INIT(' ');
      360     3130    1   DCL ERR_MSG_T CHAR(43);
      361     3131    1   DCL COMPONENT_HDR CHAR(0) CONSTANT INIT(
      362     3132        '%/COMPONENT - %1.20P%4A      ICCCDD - %1.5.0.6P%1.3D%3.9ZD%1.5P%2.6ZD%/
      363     3133                  COUNT  ERROR TYPE%/
      364     3134    1             -----  ----------%10P');
      365     3135    1   DCL COMPONENT_FMT BIT(72) DALIGNED STATIC INIT(VECTOR(COMPONENT_HDR));
      366     3136    1   DCL STATUS_DATA CHAR(0) CONSTANT INIT(
      367     3137    1   '       %1P%3D    %2P%35A%10P');
      368     3138    1   DCL STATUS_FMT BIT(72) DALIGNED STATIC INIT(VECTOR(STATUS_DATA));
      369     3139    1   DCL NO_XSTAT_HDR CHAR(0) CONSTANT INIT(
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:11   
      370     3140        '%/%2P %8-%3D %3P %13-%T,%28-%T %1.1P %48-%2.6ZO/%51-%2.6ZO %/
      371     3141    1                          Device Id-%1.24P%8A Tracks-%2.19P%1A Operation-%2.1P%8A %10P'
              3141        '%/%2P %8-%3D %3P %13-%T,%28-%T %1.1P %48-%2.6ZO/%51-%2.6ZO %/            Device Id-
              3141        %1.24P%8A Tracks-%2.19P%1A Operation-%2.1P%8A %10P');
      372     3142    1   DCL NO_XSTAT_FMT BIT(72) DALIGNED STATIC INIT(VECTOR(NO_XSTAT_HDR));
      373     3143    1   DCL NON_TAPE_HDR CHAR(0) CONSTANT INIT(
      374     3144    1   '%/%2P %8-%3D %3P %13-%T,%28-%T %1.1P %48-%2.6ZO/%51-%2.6ZO %10P');
      375     3145    1   DCL NON_TAPE_FMT BIT(72) DALIGNED STATIC INIT(VECTOR(NON_TAPE_HDR));
      376     3146    1   DCL NINE_TRK_HDR CHAR(0) CONSTANT INIT(
      377     3147        '            Data/Trk in Err 0/7  1/6  2/5  3/3  4/9  5/1  6/8  7/2  P/4 %/
      378     3148    1                     err counts =   %1P%3A  %3A  %3A  %3A  %3A  %3A  %3A  %3A  %3A%10P'
              3148        '            Data/Trk in Err 0/7  1/6  2/5  3/3  4/9  5/1  6/8  7/2  P/4 %/
              3148            err counts =   %1P%3A  %3A  %3A  %3A  %3A  %3A  %3A  %3A  %3A%10P');
      379     3149    1   DCL NINE_TRK_FMT BIT(72) DALIGNED STATIC INIT(VECTOR(NINE_TRK_HDR));
      380     3150    1   DCL SEVEN_TRK_HDR CHAR(0) CONSTANT INIT(
      381     3151        '            Data/Trk in Err           2/6  3/5  4/4  5/3  6/2  7/1  P/7 %/
      382     3152    1                     err counts =             %1P%3A  %3A  %3A  %3A  %3A  %3A  %3A%10P'
              3152        '            Data/Trk in Err           2/6  3/5  4/4  5/3  6/2  7/1  P/7 %/
              3152            err counts =             %1P%3A  %3A  %3A  %3A  %3A  %3A  %3A%10P');
      383     3153    1   DCL SEVEN_TRK_FMT BIT(72) DALIGNED STATIC INIT(VECTOR(SEVEN_TRK_HDR));
      384     3154    1   DCL EXTENDED_HDR CHAR(0) CONSTANT INIT(
      385     3155    1   '            EXTENDED STATUS:%10P');
      386     3156    1   DCL EXTENDED_FMT BIT(72) DALIGNED STATIC INIT(VECTOR(EXTENDED_HDR));
      387     3157    1   DCL NEW_OP BIT(36);
      388     3158    1   DCL NEW_OP_RDF(0:5) REDEF NEW_OP BIT(6);
      389     3159    1   DCL OPERATION CHAR(8);
      390     3160    1   DCL 1 OTHER_IOERR_TBL STATIC SYMDEF ALIGNED,
      391     3161    1         2 COUNT UBIN WORD,
      392     3162    1         2 OPERATION CHAR(8),
      393     3163    1         2 SPEED CHAR(32),
      394     3164    1         2 DENSITY CHAR(32),
      395     3165    1         2 TRACK CHAR(1);
      396     3166    1   DCL 1 XSTAT_TBL(0:207) STATIC SYMDEF ALIGNED,
      397     3167    1         2 COUNT UBIN WORD,
      398     3168    1         2 TEXT CHAR(35);
      399     3169    1   DCL ALL_MATCH BIT(1);
      400     3170    1   DCL DEV_OP$ PTR;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:12   
      401     3171    1   DCL 1 DEV_OP_TBL(0:30) BASED(DEV_OP$) ALIGNED,
      402     3172    1         2 CODE BIT(6) UNAL,
      403     3173    1         2 COUNT UBIN BYTE UNAL,
      404     3174    1         2 TEXT CHAR(8) UNAL;
      405     3175    1   DCL OLD_DENSE UBIN(8) UNAL;
      406     3176    1   DCL 1 OLD_DENSE_RDF REDEF OLD_DENSE,
      407     3177    1       2 DENSITY UBIN(3) UNAL,
      408     3178    1       2 * UBIN(5) UNAL;
      409     3179    1   DCL NEW_DENSE UBIN(8) UNAL;
      410     3180    1   DCL 1 NEW_DENSE_RDF REDEF NEW_DENSE,
      411     3181    1       2 DENSITY UBIN(3) UNAL,
      412     3182    1       2 * UBIN(5) UNAL;
      413     3183    1   DCL NUM_XSTATUS UBIN WORD ALIGNED;
      414     3184    1   DCL TRACK_NINE BIT(1);
      415     3185    1   DCL TRACK_SEVEN BIT(1);
      416     3186    1   DCL FOUND_ST BIT(1);
      417     3187    1   DCL 1 NINE_TRACK_TBL STATIC SYMDEF CALIGNED,
      418     3188    1         2 SEVEN UBIN BYTE CALIGNED,
      419     3189    1         2 SIX UBIN BYTE CALIGNED,
      420     3190    1         2 FIVE UBIN BYTE CALIGNED,
      421     3191    1         2 THREE UBIN BYTE CALIGNED,
      422     3192    1         2 NINE UBIN BYTE CALIGNED,
      423     3193    1         2 ONE UBIN BYTE CALIGNED,
      424     3194    1         2 EIGHT UBIN BYTE CALIGNED,
      425     3195    1         2 TWO UBIN BYTE CALIGNED,
      426     3196    1         2 FOUR UBIN BYTE CALIGNED;
      427     3197    1   DCL 1 NINE_TRACK_RDF(0:8) REDEF NINE_TRACK_TBL UBIN BYTE CALIGNED;
      428     3198    1   DCL NINE_TRACK_BLNK(0:8) CHAR(3);
      429     3199    1   DCL NINE_TRACK_STRING REDEF NINE_TRACK_BLNK CHAR(27);
      430     3200    1   DCL NO_LEADING_ZEROS(0:2) BIT(9) CONSTANT UNAL INIT(%MVZB2,%SES10,%MVC1);
      431     3201    1   DCL FEP_HDR CHAR(0) CONSTANT INIT(
      432     3202        '%/FEP# - %3.16D  CHAN - %1.5.2.1P%2.8ZH%1.5.3.1P%2.8ZH%/
      433     3203        COUNT       ERROR CODE    ERROR MESSAGE%/
      434     3204    1   %5(-%)       %12(-%)  %44(-%)%10P');
      435     3205    1   DCL FEP_FMT BIT(72) DALIGNED STATIC INIT(VECTOR(FEP_HDR));
      436     3206        %FPT_ERRMSG (FPTN = ERR_MSGS,
      437     3207                     BUF = ERR_MSG,
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:13   
      438     3208                     CODE = FEPERR_CODE,
      439     3209                     INCLCODE=NO,
      440     3210                     FILEACCT = ERR_MSG_ACCT,
      441     3211                     RESULTS = TEMP_VLR,
      442     3212                     FILENAME = ERR_MSG_NAME);
      443     3239        %FPT_TIME (FPTN=LOC_DATE,
      444     3240                   STCLASS=CONSTANT,
      445     3241                   SOURCE=UTS,
      446     3242                   TSTAMP=LOC_UTS,
      447     3243                   DATE=DBUF,
      448     3244                   TIME=TBUF,
      449     3245                   DEST=LOCAL);
      450     3264        %VLP_ACCT (FPTN = ERR_MSG_ACCT,
      451     3265                   ACCT = ':SYS');
      452     3278        %VLP_NAME (FPTN = ERR_MSG_NAME,
      453     3279                   NAME = ':GGERRMSG');
      454     3306        %VLR_ERRMSG (FPTN = TEMP_VLR);
      455     3328        /**/
      456     3329        /* MACRO INVOCATIONS */
      457     3330        %CTL (STCLASS="BASED(CTL$)");
      458     3340        %EL$ENTRY (NAME=RECORD,STCLASS="BASED(TH_RECORD.PTR$)");
      459     3344        %EL$IOERR (STCLASS="BASED(INFO.PTR$)");
      460     3354        %EL$SCREECH (STCLASS="BASED(INFO.PTR$)");
      461     3360        %EL$FILERR (STCLASS="BASED(INFO.PTR$)");
      462     3367        %EL$FWLOAD (STCLASS="BASED(INFO.PTR$)");
      463     3370        %EL$OSFI (STCLASS="BASED(INFO.PTR$)");
      464     3377        %EL$SPURINT (STCLASS="BASED(INFO.PTR$)");
      465     3381        %EL$MTDMT (STCLASS="BASED(INFO.PTR$)");
      466     3384        %EL$FECRASH (STCLASS="BASED(INFO.PTR$)");
      467     3389        %EL$FEPFLT (STCLASS="BASED(INFO.PTR$)");
      468     3392        %EL$OPER (STCLASS="BASED(INFO.PTR$)");
      469     3395        %EL$CMPSTRT (STCLASS="BASED(INFO.PTR$)");
      470     3398        %EL$PROCERR (STCLASS="BASED(INFO.PTR$)");
      471     3408        %EL$EDAC (STCLASS="BASED(INFO.PTR$)");
      472     3417        %EL$GABRT (STCLASS="BASED(INFO.PTR$)");
      473     3422        %EL$SYSCON (STCLASS="BASED(INFO.PTR$)");
      474     3426        %EL$ANLZ (STCLASS="BASED(INFO.PTR$)");
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:14   
      475     3430        %EL$MPCSTATS (STCLASS="BASED(INFO.PTR$)");
      476     3433        %EL$DEVSTATS (STCLASS="BASED(INFO.PTR$)");
      477     3436        %EL$FEPERR (STCLASS="BASED(INFO.PTR$)");
      478     3515        %EL$ZAP (STCLASS="BASED(INFO.PTR$)");
      479     3518        %EL$CGERR (STCLASS="BASED(INFO.PTR$)");
      480     3522        %EL$DIAG (STCLASS="BASED(INFO.PTR$)");
      481     3525        %VLR_SITEINFO (FPTN=EL$SYSID,STCLASS="BASED(INFO.PTR$)");
      482     3544        %EL$FEPERR (NAME=FEPERR_TBL,STCLASS="STATIC SYMDEF");
      483     3623        %EL$IOERR (NAME=IOERR_TBL,STCLASS="STATIC SYMDEF");
      484     3633        %EL$CHANTRAN (STCLASS="BASED(INFO.PTR$)");
      485     3637        %EL$MSOSSAYS (STCLASS="BASED(INFO.PTR$)");
      486     3643        %EL$CP6SAYS (STCLASS="BASED(INFO.PTR$)");
      487     3649        %EL$CHNGAARD (STCLASS="BASED(INFO.PTR$)");
      488     3653        %EL$MIRROR (STCLASS="BASED(INFO.PTR$)");
      489     3657        %F_FDS(NAME=FDS_PR71,NVECS=1,TRUNC=YES,VECTR=PR71_VECTOR_TBL,
      490     3658               BUF=PR71_BUF);
      491     3771        /**/
      492     3772        %SUB NUMMODELS = 29;    /* THE MAX IS 29, THERE ARE 9 EXTRA SLOTS NOW! */
      493     3773        /**/
      494     3774        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:15   
      495     3775    1        IF TH_RECOV AND (TH_ITYPE = %TH_SUA OR TH_ITYPE = %TH_SNAP)
      496     3776    1           THEN TH_ITYPE = %TH_SCREECH;
      497     3777    1        CTL$ = FMTTBL$(TH_ITYPE);
      498     3778    1        IF CTL$ = ADDR(NIL) OR TH_ITYPE > %TH_LASTITYPE
      499     3779    2           THEN DO;                        /* DUMP RECORD IN OCTAL               */
      500     3780    2              LOC_UTS = RECORD.UTS;
      501     3781    2              CALL M$TIME(LOC_DATE);
      502     3782    2              TYPE = RECORD.TYPE;
      503     3783    2              CALL THW$WRITE(VECTOR(DUMP_HDR),
      504     3784    2                             VECTOR(TYPE),
      505     3785    2                             VECTOR(DBUF),
      506     3786    2                             VECTOR(TBUF));
      507     3787    2              CALL THF$DUMP(TH_RECORD.PTR$);
      508     3788    2              TH_LASTTYPE = -1;
      509     3789    2              RETURN;
      510     3790    2              END;
      511     3791    1        IF TH_DETAIL_FLG AND TH_IOERR_FLG
      512     3792    1        THEN CALL THF$IOERR;
      513     3793    1        ELSE IF TH_FEPERR_FLG AND TH_DETAIL_FLG
      514     3794    1        THEN CALL THF$FEPERR;
      515     3795    2        ELSE DO;
      516     3796    2        INFO = TH_INFO;
      517     3797    2        TEXTBUF = ' ';
      518     3798    2        TEXT$ = ADDR(TEXTBUF);
      519     3799    2        MMBUF = ' ';
      520     3800    2        MM$ = ADDR(MMBUF);
      521     3801    2        SECBUF = ' ';
      522     3802    2        SEC$ = ADDR(SECBUF);
      523     3803    3        DO I = 0 TO 5;
      524     3804    3          TEMPBUF(I) = 0;
      525     3805    3        END;
      526     3806    2        CYL = 0;
      527     3807    2        HD = 0;
      528     3808    2        SE = 0;
      529     3809    3        DO CASE(TH_ITYPE);
      530     3810    3            CASE(%TH_CMPSTRT);
      531     3811    3              CALL BUILDTIME(EL$CMPSTRT.LAST_STATE_CHANGE);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:16   
      532     3812    4              DO CASE(EL$CMPSTRT.STATE);
      533     3813    4               CASE(0);
      534     3814    4                 CALL ADD_TEXTC('STOPPED',7);
      535     3815    4               CASE(1,2);
      536     3816    4                 IF EL$CMPSTRT.PNO=0
      537     3817    4                 THEN CALL ADD_TEXTC('MASTER RUNNING',14);
      538     3818    4                 ELSE CALL ADD_TEXTC('RUNNING',7);
      539     3819    4               CASE(ELSE);
      540     3820    4                 CALL ADD_TEXTC('HUNG UP',7);
      541     3821    4               END;
      542     3822    3            CASE(%TH_MOUNT,%TH_DSMT);
      543     3823    3              IF TH_ITYPE = %TH_MOUNT
      544     3824    3                 THEN CALL ADD_TEXTC('MOUNT',5);
      545     3825    3                 ELSE CALL ADD_TEXTC('DISMOUNT',8);
      546     3826    3            CASE(%TH_FWLOAD);
      547     3827    3              IF EL$FWLOAD.LOADED THEN CALL ADD_TEXTC('SUCCESSFUL',10);
      548     3828    3              ELSE CALL ADD_TEXTC('FAILED',6);
      549     3829    3            CASE(%TH_SPURINT);
      550     3830    4              IF EL$SPURINT.STATUS.DOWN THEN DO CASE(EL$SPURINT.STATUS.TND);
      551     3831    4               CASE(0);
      552     3832    4                 CALL ADD_TEXTC('PART ',5);
      553     3833    4               CASE(1);
      554     3834    4                 CALL ADD_TEXTC('POLTS',5);
      555     3835    4               CASE(2);
      556     3836    4                 CALL ADD_TEXTC('ITR  ',5);
      557     3837    4               CASE(3);
      558     3838    4                 CALL ADD_TEXTC('MDR  ',5);
      559     3839    4               CASE(ELSE);
      560     3840    4                 CALL ADD_TEXTC('?????',5);
      561     3841    4               END;
      562     3842    3              ELSE CALL ADD_TEXTC('     ',5);
      563     3843    4              DO CASE(EL$SPURINT.STATE);
      564     3844    4               CASE(0);
      565     3845    4                 CALL ADD_TEXTC('IDLE',4);
      566     3846    4               CASE(1);
      567     3847    4                 CALL ADD_TEXTC('REQUESTED',9);
      568     3848    4               CASE(2);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:17   
      569     3849    4                 CALL ADD_TEXTC('ASSIGNED',8);
      570     3850    4               CASE(3);
      571     3851    4                 CALL ADD_TEXTC('SPWAIT',6);
      572     3852    4               CASE(4);
      573     3853    4                 CALL ADD_TEXTC('KIWAIT',6);
      574     3854    4               CASE(5);
      575     3855    4                 CALL ADD_TEXTC('BUSY',4);
      576     3856    4               CASE(6);
      577     3857    4                 CALL ADD_TEXTC('SUSPENDED',9);
      578     3858    4               CASE(ELSE);
      579     3859    4                 CALL ADD_TEXTC('UNKNOWN',7);
      580     3860    4               END;
      581     3861    3            CASE(%TH_SCREECH,%TH_SUA,%TH_SNAP);
      582     3862    3              CALL ERROR_CODE(EL$SCREECH.SCODE);
      583     3863    4              IF EL$SCREECH.DUMP~=0 THEN DO;
      584     3864    4                 CALL ADD_TEXTC('NONE',4);
      585     3865    4                 END;
      586     3866    4              ELSE DO;
      587     3867    4                 DFNAME.N=SIZEC(DFNAME)-1;
      588     3868    4                 DFNAME.DF=':DF';
      589     3869    4                 DFNAME.MONID = EL$SCREECH.MONID;
      590     3870    4                 CALL BINCHAR(DFNAME.SCOUNT,EL$SCREECH.SCOUNT);
      591     3871    4                 TEXT$=PINCRC(TEXT$,SIZEC(DFNAME));
      592     3872    4                 END;
      593     3873    3              IF (MASK & EL$SCREECH.RTRAP)
      594     3874    4                 THEN DO;
      595     3875    4                    CALL ADD_TEXTC('TRAPPED',7);
      596     3876    4                 END;
      597     3877    4                 ELSE DO;
      598     3878    4                    CALL ADD_TEXTC(' ',1);
      599     3879    4                 END;
      600     3880    3            CASE(%TH_FI);
      601     3881    3              CALL INSERT(TEXTBUF,1,3,'DP#');
      602     3882    3              I=4;
      603     3883    3               CALL INDEX(JUNK,' ',EL$FILERR.SN);
      604     3884    3              CALL INSERT(TEXTBUF,I,JUNK,EL$FILERR.SN);
      605     3885    3              I=I+JUNK;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:18   
      606     3886    4              IF EL$FILERR.FNAME.L>0 THEN DO;
      607     3887    4                 CALL INSERT(TEXTBUF,I,EL$FILERR.FNAME.L+1,'/',EL$FILERR.FNAME.C);
      608     3888    4                 I=I+EL$FILERR.FNAME.L+1;
      609     3889    4                 END;
      610     3890    3                  CALL INDEX(JUNK,' ',EL$FILERR.ACCT);
      611     3891    4              IF JUNK>0 THEN DO;
      612     3892    4                 CALL INSERT(TEXTBUF,I,JUNK+1,'.',EL$FILERR.ACCT);
      613     3893    4                 I=I+JUNK+1;
      614     3894    4                 END;
      615     3895    3              TEXT$=PINCRC(TEXT$,I);
      616     3896    3              CALL INSERT(TEXTBUF,0,1,BINASC(I-1));
      617     3897    3              IF (SUBSTR(EL$FILERR.DEVNM,0,2) = 'DP')
      618     3898    3                THEN
      619     3899    4                 DO I = 0 TO TH_NUM_DEVS - 1;
      620     3900    4                   IF TH_SYS_DEVS.DEVN(I) = EL$FILERR.DEVNM
      621     3901    4                      THEN GOTO FOUND;
      622     3902    4                 END;
      623     3903    3   FOUND:
      624     3904    3                 SECTOR = EL$FILERR.SECTOR;
      625     3905    4                DO SELECT( TH_SYS_DEVS.MODEL(I) );
      626     3906    4                  SELECT('MSU0501','MSU0509');
      627     3907    4                      CYL = SECTOR/(8*40);
      628     3908    4                      HD = MOD(SECTOR /8,40);
      629     3909    4                      SE = MOD(SECTOR,8);
      630     3910    4                  SELECT('MSU0451');
      631     3911    4                      CYL = SECTOR / (40*19);
      632     3912    4                      HD = MOD(SECTOR/40,19);
      633     3913    4                      SE = MOD(SECTOR,40);
      634     3914    4                  SELECT('MSU3380','MSU3381','MSU3382','MSU3383',  /* FIPS D&E */
      635     3915    4                         'MSU3390','MSU3391','MSU3392','MSU3393'); /* FIPS J&K */
      636     3916    4                     CYL = SECTOR / (17*15);
      637     3917    4                     HD = MOD(SECTOR/17,15);
      638     3918    4                     SE = MOD(SECTOR,17);
      639     3919    4                  SELECT('MSU8082');                   /* MDS I - FDS II        */
      640     3920    4                      CYL = SECTOR / (11*24);
      641     3921    4                      HD = MOD(SECTOR/11,24);
      642     3922    4                      SE = MOD(SECTOR,11);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:19   
      643     3923    4                  SELECT('MSU8092');                  /* MDS II - SABRE V       */
      644     3924    4                      CYL = SECTOR / (19*15);
      645     3925    4                      HD = MOD(SECTOR/19,15);
      646     3926    4                      SE = MOD(SECTOR,19);
      647     3927    4                  END;  /*SELECT*/
      648     3928    3            CASE(%TH_CGERR);
      649     3929    3              CALL INSERT(TEXTBUF,1,3,'DP#');
      650     3930    3              I=4;
      651     3931    3                 CALL INDEX(JUNK,' ',EL$CGERR.PSN);
      652     3932    3              CALL INSERT(TEXTBUF,I,JUNK,EL$CGERR.PSN);
      653     3933    3              I=I+JUNK;
      654     3934    4              IF EL$CGERR.FNAME.L>0 THEN DO;
      655     3935    4                 CALL INSERT(TEXTBUF,I,EL$CGERR.FNAME.L+1,'/',EL$CGERR.FNAME.C);
      656     3936    4                 I=I+EL$CGERR.FNAME.L+1;
      657     3937    4                 END;
      658     3938    3            CALL INDEX(JUNK,' ',EL$CGERR.ACCT);
      659     3939    4              IF JUNK>0 THEN DO;
      660     3940    4                 CALL INSERT(TEXTBUF,I,JUNK+1,'.',EL$CGERR.ACCT);
      661     3941    4                 I=I+JUNK+1;
      662     3942    4                 END;
      663     3943    3              TEXT$=PINCRC(TEXT$,I);
      664     3944    3              CALL INSERT(TEXTBUF,0,1,BINASC(I-1));
      665     3945    3            CASE(%TH_GABRT);
      666     3946    3              CALL ERROR_CODE(EL$GABRT.ERR);
      667     3947    3              CALL ERROR_CODE(EL$GABRT.USRERR);
      668     3948    3            CASE(%TH_EDAC);
      669     3949    4              DO CASE(EL$EDAC.PORT#);
      670     3950    4                 CASE(0);                  /* PORT A                             */
      671     3951    4                    CALL ADD_TEXTC('A',1);
      672     3952    4                 CASE(1);                  /* PORT B                             */
      673     3953    4                    CALL ADD_TEXTC('B',1);
      674     3954    4                 CASE(2);                  /* PORT C                             */
      675     3955    4                    CALL ADD_TEXTC('C',1);
      676     3956    4                 CASE(3);                  /* PORT D                             */
      677     3957    4                    CALL ADD_TEXTC('D',1);
      678     3958    4              END;                         /* CASE EL$EDAC.PORT#                 */
      679     3959    4              DO CASE(EL$EDAC.STORE_UNIT);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:20   
      680     3960    4                 CASE(0);                  /* A                                  */
      681     3961    4                    CALL ADD_TEXTC('A ',2);
      682     3962    4                 CASE(1);                  /* A1                                 */
      683     3963    4                    CALL ADD_TEXTC('A1',2);
      684     3964    4                 CASE(2);                  /* B                                  */
      685     3965    4                    CALL ADD_TEXTC('B ',2);
      686     3966    4                 CASE(3);                  /* B1                                 */
      687     3967    4                    CALL ADD_TEXTC('B1',2);
      688     3968    4              END;                         /* CASE EL$EDAC.STORE_UNIT            */
      689     3969    3              CALL EDAC(INFO.PTR$,BORD,CHP);
      690     3970    3              CALL ADD_TEXTC(BORD,1);
      691     3971    3              CALL ADD_TEXTC(CHP,3);
      692     3972    3            CASE(%TH_FEPERR);
      693     3973    3              FEPERR_CODE = EL$FEPERR.STATDATA.ERRCODE;
      694     3974    3              IF INFO.BOUND > SIZEC(EL$FEPERR.STATDATA)
      695     3975    4                 THEN DO;                  /* DYNAMIC DATA IS PRESENT            */
      696     3976    4                    NUMBYTES = INFO.BOUND - SIZEC(EL$FEPERR.STATDATA);
      697     3977    4                    CALL ADD_TEXTC(' YES',4);
      698     3978    4                 END;
      699     3979    4                 ELSE DO;                  /* NO DYNAMIC DATA                    */
      700     3980    4                    NUMBYTES = 0;
      701     3981    4                    CALL ADD_TEXTC('  NO',4);
      702     3982    4                 END;
      703     3983    3              CALL ERROR_CODE(FEPERR_CODE);
      704     3984    3              ERR_MSG = ' ';
      705     3985    3              CALL M$ERRMSG (ERR_MSGS) ALTRET(NO_MSG);
      706     3986    3              I = 0;
      707     3987    4              DO WHILE (SUBSTR(ERR_MSG,I,1) = ' ');
      708     3988    4                 I = I + 1;
      709     3989    4              END;
      710     3990    3              ERR_MSG_T = SUBSTR(ERR_MSG,I,43);
      711     3991    3              CALL ADD_TEXTC (ERR_MSG_T,43);
      712     3992    4              DO NEVER;
      713     3993    4   NO_MSG:       CALL ADD_TEXTC ('NO ERROR MESSAGE',16);
      714     3994    4              END;
      715     3995    3            CASE(%TH_MIRROR);
      716     3996    3              IF EL$MIRROR.PRI
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:21   
      717     3997    3                 THEN CALL ADD_TEXTC('P',1);
      718     3998    3                 ELSE CALL ADD_TEXTC('S',1);
      719     3999    4              DO CASE(EL$MIRROR.STATE.NEW);
      720     4000    4                 CASE(%NI_MIRROR_FAIL);
      721     4001    4                   CALL ADD_TEXTC('FAIL',4);
      722     4002    4                 CASE(%NI_MIRROR_OPER);
      723     4003    4                   CALL ADD_TEXTC('OPER',4);
      724     4004    4                 CASE(%NI_MIRROR_REST);
      725     4005    4                   CALL ADD_TEXTC('REST',4);
      726     4006    4                 CASE(%NI_MIRROR_WAIT);
      727     4007    4                   CALL ADD_TEXTC('WAIT',4);
      728     4008    4                 CASE(%NI_MIRROR_NONE);
      729     4009    4                   CALL ADD_TEXTC('NONE',4);
      730     4010    4              END;
      731     4011    3            CASE(%TH_SYSCON);
      732     4012    4              DO CASE(EL$SYSCON.FUNCTION);
      733     4013    4                 CASE(1);                  /* PARTITION                          */
      734     4014    4                    CALL ADD_TEXTC('PARTITION',9);
      735     4015    4                 CASE(2);                  /* RETURN                             */
      736     4016    4                    CALL ADD_TEXTC('RETURN',6);
      737     4017    4                 CASE(3);                   /* DISPLAY */
      738     4018    4                    CALL ADD_TEXTC('DISPLAY',7);
      739     4019    4                 CASE(4);                  /* SETFLAG */
      740     4020    4                    CALL ADD_TEXTC('SETFLAG',7);
      741     4021    4                 CASE(5);                    /* RELEASE */
      742     4022    4                    CALL ADD_TEXTC('RELEASE',7);
      743     4023    4              END;                         /* CASE FUNCTION                      */
      744     4024    4              DO CASE(EL$SYSCON.COMPONENT);
      745     4025    4                CASE(%CHANNEL#);               /* CHANNEL                            */
      746     4026    4                   CALL ADD_TEXTC('CHAN',4);
      747     4027    4                   STRT = 0;
      748     4028    4                   CALL BINCHAR(TEMP1,EL$SYSCON.IOM);
      749     4029    4                   J = 0;
      750     4030    5                   DO WHILE (SUBSTR(TEMP1,J,1) = '0');
      751     4031    5                      J = J + 1;
      752     4032    5                   END;                    /* DO WHILE                           */
      753     4033    4                   LEN = 63 - J;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:22   
      754     4034    4                   IF LEN = 0
      755     4035    4                      THEN
      756     4036    5                      DO;
      757     4037    5                         LEN = 1;
      758     4038    5                         J = 0;
      759     4039    5                      END;                 /* IF LEN = 0                         */
      760     4040    4                   CALL INSERT(TEMP2,STRT,LEN+1,SUBSTR(TEMP1,J,LEN),'-');
      761     4041    4                   STRT = STRT + LEN + 1;
      762     4042    4                   CALL BINCHAR(TEMP1,EL$SYSCON.CHAN);
      763     4043    4                   J = 0;
      764     4044    5                   DO WHILE (SUBSTR(TEMP1,J,1) = '0');
      765     4045    5                       J = J + 1;
      766     4046    5                   END;                    /* DO WHILE                           */
      767     4047    4                   LEN = 63 - J;
      768     4048    4                   IF LEN = 0
      769     4049    4                      THEN
      770     4050    5                      DO;
      771     4051    5                         LEN = 1;
      772     4052    5                         J = 0;
      773     4053    5                      END;                 /* IF LEN = 0                         */
      774     4054    4                   CALL INSERT(TEMP2,STRT,LEN,SUBSTR(TEMP1,J,LEN));
      775     4055    4                   STRT = STRT + LEN;
      776     4056    4                   CALL ADD_TEXTC(TEMP2,STRT);
      777     4057    4                   CALL ADD_TEXTC(' ',1);
      778     4058    4                CASE(%DVC#);                   /* DEVICE                             */
      779     4059    4                   CALL ADD_TEXTC('DVC',3);
      780     4060    4                   CALL ADD_TEXTC(' ',1);
      781     4061    4                   CALL ADD_TEXTC(EL$SYSCON.DEVNM,8);
      782     4062    4                CASE(%MPC#);                   /* MPC                                */
      783     4063    4                   CALL ADD_TEXTC('MPC',3);
      784     4064    4                   CALL ADD_TEXTC(' ',1);
      785     4065    4                   CALL ADD_TEXTC(EL$SYSCON.DEVNM,8);
      786     4066    4                CASE(%FEP##);                  /* FEP                                */
      787     4067    4                   CALL ADD_TEXTC('FEP',3);
      788     4068    4                   CALL BINCHAR(TEMP1,EL$SYSCON.CHAN);
      789     4069    4                   J = 0;
      790     4070    5                   DO WHILE (SUBSTR(TEMP1,J,1) = '0');
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:23   
      791     4071    5                      J = J + 1;
      792     4072    5                   END;                    /* DO WHILE                           */
      793     4073    4                   LEN = 63 - J;
      794     4074    4                   IF LEN = 0
      795     4075    4                      THEN
      796     4076    5                      DO;
      797     4077    5                         LEN = 1;
      798     4078    5                         J = 0;
      799     4079    5                      END;                 /* IF LEN = 0                         */
      800     4080    4                   CALL INSERT(TEMP2,0,LEN+4,'FEP#',SUBSTR(TEMP1,J,LEN));
      801     4081    4                   CALL ADD_TEXTC(TEMP2,LEN+4);
      802     4082    4                   CALL ADD_TEXTC(' ',1);
      803     4083    4                CASE(%IOM##);                      /* IOM           */
      804     4084    4                   IOM_DEVN = ' ';
      805     4085    4                   CALL BINCHAR(IOMN,EL$SYSCON.IOM);
      806     4086    4                   CALL CONCAT(IOM_DEVN,'IOM',IOMN);
      807     4087    4                   CALL ADD_TEXTC('IOM',3);
      808     4088    4                   CALL ADD_TEXTC(' ',1);
      809     4089    4                   CALL ADD_TEXTC(IOM_DEVN,8);
      810     4090    4                CASE(%CPU##);
      811     4091    4                   CALL ADD_TEXTC('CPU',3);
      812     4092    4                   CALL ADD_TEXTC(' ',1);
      813     4093    4                   CPU_DEVN = ' ';
      814     4094    4                   CALL BINCHAR(CPUN, EL$SYSCON.IOM);   /* CPU PORT # */
      815     4095    4                   CALL CONCAT(CPU_DEVN, 'CPU', CPUN);
      816     4096    4                   CALL ADD_TEXTC(CPU_DEVN,8);
      817     4097    4                CASE(%SCU##);
      818     4098    4                   CALL ADD_TEXTC('SCU', 3);
      819     4099    4                   CALL ADD_TEXTC(' ', 1);
      820     4100    4                   SCU_DEVN = ' ';
      821     4101    4                   CALL BINCHAR(SCUN, EL$SYSCON.IOM);   /* SCU PORT # */
      822     4102    4                   CALL CONCAT(SCU_DEVN,'SCU',SCUN);
      823     4103    4                   CALL ADD_TEXTC(SCU_DEVN,8);
      824     4104    4              END;                         /* CASE COMPONENT                     */
      825     4105    3            CASE(%TH_SYSID);
      826     4106    3              CALL BUILDTIME(EL$SYSID.MON_UTS#);
      827     4107    3              LEN = EL$SYSID.SITE_NAME#.L;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:24   
      828     4108    3              CALL ADD_TEXTC(SUBSTR(EL$SYSID.SITE_NAME#.C,0,LEN),LEN);
      829     4109    3            CASE(%TH_ANLZ);
      830     4110    3              I = 119;
      831     4111    4              DO WHILE (SUBSTR(EL$ANLZ.TXT,I,1) = ' ');
      832     4112    4                 I = I - 1;
      833     4113    4              END;
      834     4114    3              CALL ADD_TEXTC(SUBSTR(EL$ANLZ.TXT,0,I+1),I+1);
      835     4115    3            CASE(%TH_FEPEVENT);
      836     4116    4              DO CASE(EL$FECRASH.FENM.PROBLEM);
      837     4117    4                 CASE(KIER_OK);
      838     4118    4                    CALL ADD_TEXTC('UP AND OK',9);
      839     4119    4                 CASE(KIER_TO);
      840     4120    4                    CALL ADD_TEXTC('TIMEOUT',7);
      841     4121    4                 CASE(KIER_QFL);
      842     4122    4                    CALL ADD_TEXTC('OUTPUT QUEUE FULL',17);
      843     4123    4                 CASE(KIER_NOBT);
      844     4124    4                    CALL ADD_TEXTC('FEP WONT BOOT',13);
      845     4125    4                 CASE(KIER_FESC);
      846     4126    4                    CALL ADD_TEXTC('SOFTWARE CRASH',14);
      847     4127    4                 CASE(KIER_CPLR);
      848     4128    4                    CALL ADD_TEXTC('COUPLER',7);
      849     4129    4                 CASE(KIER_BINT);
      850     4130    4                    CALL ADD_TEXTC('BAD INTERRUPT',13);
      851     4131    4                 CASE(KIER_BDLN);
      852     4132    4                    CALL ADD_TEXTC('BAD LINE NUMBER',15);
      853     4133    4                 CASE(KIER_MFMT);
      854     4134    4                    CALL ADD_TEXTC('BAD MESSAGE FORMAT',18);
      855     4135    4                 CASE(KIER_BFCN);
      856     4136    4                    CALL ADD_TEXTC('BAD FUNCTION CODE',17);
      857     4137    4                 CASE(KIER_DCFT);
      858     4138    4                    CALL ADD_TEXTC('IOM MEMORY FAULT',16);
      859     4139    4                 CASE(KIER_BCMD);
      860     4140    4                    CALL ADD_TEXTC('BOOT REQUESTED',14);
      861     4141    4                 CASE(KIER_6ALZ);
      862     4142    4                    CALL ADD_TEXTC('REQUEST FROM L6ANLZ',19);
      863     4143    4                 CASE(KIER_STOP);
      864     4144    4                    CALL ADD_TEXTC('STOP REQUESTED',14);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:25   
      865     4145    4                 CASE(KIER_PART);
      866     4146    4                    CALL ADD_TEXTC('PARTITIONED',11);
      867     4147    4                 CASE(KIER_UPRT);
      868     4148    4                    CALL ADD_TEXTC('NOT PARTITIONED',15);
      869     4149    4                 CASE(KIER_FREQ);
      870     4150    4                    CALL ADD_TEXTC('FEP REQUEST',11);
      871     4151    4                 CASE(KIER_LNKUP);
      872     4152    4                    CALL ADD_TEXTC('LINK UP',7);
      873     4153    4                 CASE(KIER_LNKDWN);
      874     4154    4                    CALL ADD_TEXTC('LINK DOWN',9);
      875     4155    4                 CASE(KIER_QOSCHG);
      876     4156    4                    CALL ADD_TEXTC('ROUTING CHANGE',14);
      877     4157    4                 CASE(ELSE);
      878     4158    4                    CALL ADD_TEXTC('????',4);
      879     4159    4                 END;  /* DO CASE PROBLEM */
      880     4160    4              DO CASE(EL$FECRASH.FENM.STATE);
      881     4161    4                 CASE(KIST_DN);
      882     4162    4                    CALL ADD_TEXTC('DOWN',4);
      883     4163    4                 CASE(KIST_TOK);
      884     4164    4                    CALL ADD_TEXTC('CHECKING FOR UP',15);
      885     4165    4                 CASE(KIST_RUN);
      886     4166    4                    CALL ADD_TEXTC('RUNNING',7);
      887     4167    4                 CASE(KIST_QFL);
      888     4168    4                    CALL ADD_TEXTC('OUTPUT QUEUE FULL',17);
      889     4169    4                 CASE(KIST_DB);
      890     4170    4                    CALL ADD_TEXTC('DEBUG MODE',10);
      891     4171    4                 CASE(KIST_DMP);
      892     4172    4                    CALL ADD_TEXTC('DUMPING',7);
      893     4173    4                 CASE(KIST_BT);
      894     4174    4                    CALL ADD_TEXTC('BOOTING',7);
      895     4175    4                 CASE ( KIST_STOPPING ) ;
      896     4176    4                    CALL ADD_TEXTC ( 'STOPPING' , 8 ) ;
      897     4177    4                 CASE ( KIST_MASKED ) ;
      898     4178    4                    CALL ADD_TEXTC ( 'MASKED' , 6 ) ;
      899     4179    4                 CASE(ELSE);
      900     4180    4                    CALL ADD_TEXTC('????',4);
      901     4181    4                 END;  /* DO CASE STATE */
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:26   
      902     4182    3            CASE(%TH_ZAP);
      903     4183    3              J = 139;
      904     4184    3              IF EL$ZAP.OPER_TEXT = ' '
      905     4185    3                 THEN J = 0;
      906     4186    3                 ELSE
      907     4187    4              DO WHILE (SUBSTR(EL$ZAP.OPER_TEXT,J,1) = ' ');
      908     4188    4                 J = J - 1;
      909     4189    4              END;
      910     4190    3              CALL ADD_TEXTC(SUBSTR(EL$ZAP.OPER_TEXT,0,J+1),J+1);
      911     4191    3            CASE(%TH_CHANTRAN);
      912     4192    3              IF(EL$CHANTRAN.STATUS.CHAN ~= 4)
      913     4193    3              THEN
      914     4194    4                   DO CASE(EL$CHANTRAN.STATUS.CHAN_STAT);
      915     4195    4                      CASE(%CHAN_SUSPEND);
      916     4196    4                        CALL ADD_TEXTC('CHANNEL SUSPENDED',17);
      917     4197    4                      CASE(%CHAN_RELEASED);
      918     4198    4                        CALL ADD_TEXTC('CHANNEL RELEASED',16);
      919     4199    4                      CASE(%CHAN_STOPPED);
      920     4200    4                        CALL ADD_TEXTC('CHANNEL STOPPED',15);
      921     4201    4                      CASE(%CHAN_AVAILABLE);
      922     4202    4                        CALL ADD_TEXTC('CHANNEL AVAILABLE',17);
      923     4203    4                      CASE(ELSE);
      924     4204    4                        CALL ADD_TEXTC('IMPROPER STATE',14);
      925     4205    4                   END;  /*do case channel not = to 4 */
      926     4206    3              ELSE IF(EL$CHANTRAN.STATUS.CHAN = 4)
      927     4207    3              THEN
      928     4208    4                   DO CASE(EL$CHANTRAN.STATUS.MSOS_REQ);
      929     4209    4                      CASE(%RSR_ASSIGN_RELEASE);
      930     4210    4                        CALL ADD_TEXTC('RESOURCE ASSIGN/RELEASE',23);
      931     4211    4                      CASE(%IOP_AUTO_REBOOT);
      932     4212    4                        CALL ADD_TEXTC('IOP AUTO REBOOT',15);
      933     4213    4                      CASE(%IOP_ASSIGN);
      934     4214    4                        CALL ADD_TEXTC('IOP ASSIGN',10);
      935     4215    4                   END;  /*do case channel = 4 */
      936     4216    3            CASE(%TH_MSOSSAYS);
      937     4217    4              DO SELECT(EL$MSOSSAYS.IDCW.CODE);
      938     4218    4                 SELECT(%REQ_TIME);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:27   
      939     4219    4                   CALL ADD_TEXTC('TIME CORRECTION REQUEST',23);
      940     4220    4                 SELECT(%REQ_MEM_EXPANSION);
      941     4221    4                   CALL ADD_TEXTC('MEMORY EXPANSION REQUEST',24);
      942     4222    4                 SELECT(%REQ_ASSIGN_EPU);
      943     4223    4                   CALL ADD_TEXTC('ASSIGN EPU REQUEST',18);
      944     4224    4                 SELECT(%REQ_ASSIGN_DEVICE);
      945     4225    4                   CALL ADD_TEXTC('ASSIGN DEVICE REQUEST',21);
      946     4226    4                 SELECT(%REQ_RELEASE_EPU);
      947     4227    4                   CALL ADD_TEXTC('RELEASE EPU REQUEST',19);
      948     4228    4                 SELECT(%REQ_RELEASE_MEM1);
      949     4229    4                   CALL ADD_TEXTC('RELEASE MEMORY REQUEST',22);
      950     4230    4                 SELECT(%REQ_RELEASE_DEVICE);
      951     4231    4                   CALL ADD_TEXTC('RELEASE DEVICE REQUEST',22);
      952     4232    4                 SELECT(%REQ_RELEASE_MEM2);
      953     4233    4                   CALL ADD_TEXTC('RELEASE MEMORY REQUEST',22);
      954     4234    4              END;  /* do case */
      955     4235    3            CASE(%TH_CP6SAYS);
      956     4236    4              DO SELECT(EL$CP6SAYS.IDCW.CODE);
      957     4237    4                 SELECT(%RSP_INIT);
      958     4238    4                   CALL ADD_TEXTC('RESPONSE INITIALIZATION',23);
      959     4239    4                 SELECT(%RSP_BUSY);
      960     4240    4                   CALL ADD_TEXTC('RESPONSE BUSY',13);
      961     4241    4                 SELECT(%RSP_REJECT);
      962     4242    4                   CALL ADD_TEXTC('RESPONSE REJECT',15);
      963     4243    4                 SELECT(%RSP_COMPLETE);
      964     4244    4                   CALL ADD_TEXTC('RESPONSE COMPLETE',17);
      965     4245    4                 SELECT(%RSP_IOP_RECOV);
      966     4246    4                   CALL ADD_TEXTC('RESPONSE IOP RECOVERY',21);
      967     4247    4                 SELECT(%RSP_ILL_CMND);
      968     4248    4                   CALL ADD_TEXTC('RESPONSE ILLEGAL COMMAND',24);
      969     4249    4                 SELECT(%RSP_UNMSK_IOP);
      970     4250    4                   CALL ADD_TEXTC('RESPONSE UNMASK IOP',19);
      971     4251    4              END;  /* do case */
      972     4252    3              IF EL$CP6SAYS.REASON = %REAS_USE_RC
      973     4253    3              THEN
      974     4254    4              DO SELECT(EL$CP6SAYS.IDCWE.RC);
      975     4255    4                 SELECT(%RC_INV_CMND);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:28   
      976     4256    4                   CALL ADD_TEXTC('INVALID COMMAND FROM MSOS',25);
      977     4257    4                 SELECT(%RC_INV_ADD);
      978     4258    4                   CALL ADD_TEXTC('INVAL ADDR/MEM SZ FROM MSOS',27);
      979     4259    4                 SELECT(%RC_INV_IOP);
      980     4260    4                   CALL ADD_TEXTC('INVALID IOP FROM MSOS',21);
      981     4261    4                 SELECT(%RC_INV_CHN);
      982     4262    4                   CALL ADD_TEXTC('INVALID CHANNEL FROM MSOS',25);
      983     4263    4                 SELECT(%RC_INV_DEV);
      984     4264    4                   CALL ADD_TEXTC('INVALID DEVICE FROM MSOS',24);
      985     4265    4                 SELECT(%RC_RES_NCONF);
      986     4266    4                   CALL ADD_TEXTC('RESOURCE NOT CONFIGURED',23);
      987     4267    4                 SELECT(%RC_SHA_FILE);
      988     4268    4                   CALL ADD_TEXTC('SHARED FILE UNIT ~= DISK',24);
      989     4269    4                 SELECT(%RC_RES_ASSGND);
      990     4270    4                   CALL ADD_TEXTC('RESOURCE ALREADY ASSIGNED',25);
      991     4271    4                 SELECT(%RC_PER_NCONF);
      992     4272    4                   CALL ADD_TEXTC('PERIPHERAL NOT DEFINED',22);
      993     4273    4                 SELECT(%RC_REL_MON);
      994     4274    4                   CALL ADD_TEXTC('REQUIRE RELEASE OF MONITOR',26);
      995     4275    4                 SELECT(%RC_REL_IMPOS);
      996     4276    4                   CALL ADD_TEXTC('RELEASE UNSWAPPABLE PROGRAM',27);
      997     4277    4                 SELECT(%RC_MEM_RLSD);
      998     4278    4                   CALL ADD_TEXTC('MEMORY ALREADY RELEASED',23);
      999     4279    4                 SELECT(%RC_INV_PRCS);
     1000     4280    4                   CALL ADD_TEXTC('INVALID PROCESSOR #',19);
     1001     4281    4                 SELECT(%RC_EPU_RCONF);
     1002     4282    4                   CALL ADD_TEXTC('EPU IN RECONFIG',15);
     1003     4283    4                 SELECT(%RC_PER_RLSD);
     1004     4284    4                   CALL ADD_TEXTC('PERIPHERAL ALREADY RELEASED',27);
     1005     4285    4                 SELECT(%RC_PER_ASSGND);
     1006     4286    4                   CALL ADD_TEXTC('PERIPHERAL ALREADY ASSIGNED',27);
     1007     4287    4                 SELECT(ELSE);
     1008     4288    4                   CALL ADD_TEXTC('NOT USED IN CP6',15);
     1009     4289    4              END;  /* do case */
     1010     4290    3              ELSE
     1011     4291    4              DO SELECT(EL$CP6SAYS.REASON);
     1012     4292    4                 SELECT(%REAS_MSOS_CMD_OK);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:29   
     1013     4293    4                   CALL ADD_TEXTC('MSOS CMD ACCEPTED & PROCESSED',29);
     1014     4294    4                 SELECT(%REAS_RES_IN_USE);
     1015     4295    4                   CALL ADD_TEXTC('RESOURCE REQUESTED IN USE',25);
     1016     4296    4                 SELECT(%REAS_PER_NOT_PART);
     1017     4297    4                   CALL ADD_TEXTC('PERIPH NOT PARTITIONED-CP6 CAN''T RELEASE',40);
     1018     4298    4              END;  /* do select el$cp6says.reason */
     1019     4299    3            CASE(%TH_IOERR);
     1020     4300    3              IF ((EL$IOERR.MPC_MODEL = 'URPEURP ')
     1021     4301    3                OR (EL$IOERR.MPC_MODEL = 'URP8011 ')
     1022     4302    3                OR (EL$IOERR.MPC_MODEL = 'URP8012 ')
     1023     4303    3                OR (EL$IOERR.MPC_MODEL = 'URP8013 ')
     1024     4304    3                OR (EL$IOERR.MPC_MODEL = 'URP8600 ')
     1025     4305    3                OR (EL$IOERR.MPC_MODEL = 'URP8601 '))
     1026     4306    4                  THEN DO;
     1027     4307    4                      ASCII_EXTST = EL$IOERR.EXTST;  /* REFORMAT EXTENDED STATUS */
     1028     4308    5                      DO J = 0 TO 31;
     1029     4309    5                         EL$IOERR.EXTST(J) = ASCII_EXTST.BYT(J);
     1030     4310    5                      END;
     1031     4311    4                  END;
     1032     4312    3              IF ((EL$IOERR.MODEL = 'PRU1200')
     1033     4313    3                OR (EL$IOERR.MODEL = 'PRU1600')) THEN
     1034     4314    4                   DO J = 15 TO 35;        /* CLEAR UNNECESSARY JUNK FROM EXT STATUS */
     1035     4315    4                      EL$IOERR.EXTST(J) = 0;
     1036     4316    4                   END;
     1037     4317    3              IF EL$IOERR.THRESH.DEVICE
     1038     4318    3                 THEN CALL BINCHAR(TEMP,EL$IOERR.CONNECTS.DEVICE);
     1039     4319    3                 ELSE
     1040     4320    3              IF EL$IOERR.THRESH.IOM
     1041     4321    3                 THEN CALL BINCHAR(TEMP,EL$IOERR.CONNECTS.IOM);
     1042     4322    3                 ELSE
     1043     4323    3              IF EL$IOERR.THRESH.CHANNEL
     1044     4324    3                 THEN CALL BINCHAR(TEMP,EL$IOERR.CONNECTS.CHANNEL);
     1045     4325    3                 ELSE
     1046     4326    3              IF EL$IOERR.THRESH.MPC
     1047     4327    3                 THEN CALL BINCHAR(TEMP,EL$IOERR.CONNECTS.MPC);
     1048     4328    3                 ELSE CALL BINCHAR(TEMP,0);
     1049     4329    3              J = 0;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:30   
     1050     4330    4              DO WHILE ((SUBSTR(TEMP,J,1) = '0') & (J < 63));
     1051     4331    4                 J = J + 1;
     1052     4332    4              END;                         /* DO WHILE                           */
     1053     4333    3              LEN = 63 - J;
     1054     4334    3              IF LEN = 0
     1055     4335    3                 THEN
     1056     4336    4                 DO;
     1057     4337    4                    LEN = 1;
     1058     4338    4                    J = 0;
     1059     4339    4                 END;
     1060     4340    3              CALL ADD_TEXTC(SUBSTR(TEMP,J,LEN),LEN);
     1061     4341    3              IF TH_LAST_REQID  = EL$IOERR.REQID
     1062     4342    3                 THEN CALL ADD_TEXTC('  *',3);
     1063     4343    3                 ELSE CALL ADD_TEXTC('   ',3);
     1064     4344    3              TH_LAST_REQID = EL$IOERR.REQID;
     1065     4345
     1066     4346                                                /* CHECK FOR SPECIAL STATUS           */
     1067     4347    3              TEMP_STATUS = EL$IOERR.STATUS;
     1068     4348    3              IF TEMP_STATUS1.MAJOR_STATUS = '101111'B /* '57'O                  */
     1069     4349    3                 THEN
     1070     4350    4                 DO;
     1071     4351    4                    TEMP_STATUS1.XX = TEMP_STATUS1.FAULT_CODE;
     1072     4352    4                    TEMP_STATUS1.YY = TEMP_STATUS1.CHANNEL;
     1073     4353    4                    EL$IOERR.STATUS = TEMP_STATUS;
     1074     4354    4                 END;                      /* IF MAJOR_STATUS = '57'O            */
     1075     4355    3              CALL THF$STATUS(EL$IOERR,MAJBUF,MAJCNT,MINBUF,MINCNT)
     1076     4356    3                              ALTRET(NO_STAT);
     1077     4357    3              CALL THF$ADD_TEXTC(MM$,MAJBUF,MAJCNT);
     1078     4358    3              CALL THF$ADD_TEXTC(MM$,MINBUF,MINCNT);
     1079     4359    4              DO NEVER;
     1080     4360    4   NO_STAT:
     1081     4361    4                 CALL THF$ADD_TEXTC(MM$,'***',3);
     1082     4362    4                 CALL THF$ADD_TEXTC(MM$,'***',3);
     1083     4363    4                 MMVEC = VECTOR(MMBUF);
     1084     4364    4                 MMVEC.BOUND = POFFC(MM$,ADDR(MMBUF)) - 1;
     1085     4365    4              END;
     1086     4366    3                 NXST = 0;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:31   
     1087     4367    3                 DEV_FLAG = %FALSE;
     1088     4368    4                 DO I = 0 TO NUMMODELS;
     1089     4369    4                   IF EL$IOERR.MODEL = X_DEV_TYPE.DEV(I)
     1090     4370    5                      THEN DO;
     1091     4371    5                           IO_MASK = EL$IOERR.EXTST;
     1092     4372    5                           IF IO_MASK1
     1093     4373    5                               THEN;
     1094     4374    5                               ELSE GOTO NO_INTERP;
     1095     4375    5                           IF EL$IOERR.MODEL = 'MTU0610'  AND
     1096     4376    5                              IO_MASK1(53) AND IO_MASK1(54)
     1097     4377    5                               THEN I = I + 1;
     1098     4378        /* REMOVE THE FOLLOWING TEST WHEN #39334 IS FIXED                */
     1099     4379    5                           IF EL$IOERR.MODEL = 'PRU1200'
     1100     4380    5                           AND IO_MASK1(47) THEN        /* ITS A PR54 */
     1101     4381    5                               I = I - 1;
     1102     4382    5                           DEV$ = X_DEV_TYPE.SUB$(I);
     1103     4383    5                           DEV_FLAG = %TRUE;
     1104     4384    5                           J = X_DEV_TYPE.COUNT(I);
     1105     4385    5                           GOTO FND;
     1106     4386    5                           END;
     1107     4387    4                 END;
     1108     4388    3   FND:
     1109     4389    3                 IF DEV_FLAG
     1110     4390    4                   THEN DO;
     1111     4391    4                      XST$ = ADDR(XSTBUF);
     1112     4392    4                      CALL THF$ADD_TEXTC (XST$,'   ',3);
     1113     4393    4                      MODEL_CHAR = EL$IOERR.MODEL;
     1114     4394    5                      DO I = 0 TO J;
     1115     4395    5                        IF (((MODEL_CHAR = 'MTU') AND (EL$IOERR.MODEL ~= 'MTU8200') AND
     1116     4396    5                           (DEVTBL.CODE(I) = 16 OR DEVTBL.CODE(I) = 20
     1117     4397    5                            OR DEVTBL.CODE(I) = 27 OR DEVTBL.CODE(I) = 35))
     1118     4398    5                           OR (EL$IOERR.MODEL = 'MTU0400' AND
     1119     4399    5                               DEVTBL.CODE(I) = 96))
     1120     4400    6                           THEN DO;
     1121     4401    7                             DO CASE (DEVTBL.CODE(I));
     1122     4402    7                                CASE (16);
     1123     4403    7                                   LENN = 3;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:32   
     1124     4404    7                                CASE (20);
     1125     4405    7                                   LENN = 4;
     1126     4406    7                                CASE (27);
     1127     4407    7                                   LENN = 5;
     1128     4408    7                                CASE (35);
     1129     4409    7                                   LENN = 5;
     1130     4410    7                                CASE (96);
     1131     4411    7                                   LENN = 4;
     1132     4412    7                             END;
     1133     4413    7                             DO II = 0 TO LENN - 1;
     1134     4414    7                                IF IO_MASK1(DEVTBL.CODE(I) + II)
     1135     4415    7                                     THEN SP_BIT(II) = '1';
     1136     4416    7                                     ELSE SP_BIT(II) = '0';
     1137     4417    7                             END;
     1138     4418    7                             DO II = 0 TO 4;
     1139     4419    7                                IF DEVTBL.CODE(I) = SP_CASES.BYTEN(II)
     1140     4420    8                                   THEN DO;
     1141     4421    8                                     SPC$ = SP_CASES.SUB$(II);
     1142     4422    8                                     JJ = SP_CASES.COUNT(II);
     1143     4423    8                                     GOTO FND_SP;
     1144     4424    8                                   END;
     1145     4425    7                             END;
     1146     4426    6   FND_SP:
     1147     4427    7                             DO II = 0 TO JJ;
     1148     4428    7                                IF SP_CHAR = SPTBL.CODE(II)
     1149     4429    8                                  THEN DO;
     1150     4430    8                                     XST_TEXT = SPTBL.TEXT(II);
     1151     4431    8                                     XST_CNT = SPTBL.COUNT(II);
     1152     4432    8                                     GOTO NEXT_I;
     1153     4433    8                                  END;
     1154     4434    7                             END;
     1155     4435    6                           END;                /* OF THEN */
     1156     4436    5                           ELSE IF ((EL$IOERR.MODEL = 'PRU0901')
     1157     4437    5                                 OR (EL$IOERR.MODEL = 'PRU0903')
     1158     4438    5                                 OR (EL$IOERR.MODEL = 'PRU0908')
     1159     4439    5                                 OR (EL$IOERR.MODEL = 'PRU1201')
     1160     4440    5                                 OR (EL$IOERR.MODEL = 'PRU1203')
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:33   
     1161     4441    5                                 OR (EL$IOERR.MODEL = 'PRU1208')) THEN
     1162     4442    5                               CALL EURC_PR54;
     1163     4443    5                           ELSE IF ((EL$IOERR.MODEL = 'PRU1200')
     1164     4444    5                                 OR (EL$IOERR.MODEL = 'PRU1600')) THEN
     1165     4445    5                                    CALL MPC_PR71;
     1166     4446    5                           ELSE IF (EL$IOERR.MODEL = 'MTU8200')AND
     1167     4447    5                                  ((DEVTBL.CODE(I) = 29)OR(DEVTBL.CODE(I) = 53)
     1168     4448    5                                  OR(DEVTBL.CODE(I) = 176))
     1169     4449    6                           THEN DO CASE(DEVTBL.CODE(I));
     1170     4450    6                                   CASE(29); /* if byte 3, bit 5  */
     1171     4451    6                                       CALL FIND_DEN_MODE;/* check for density*/
     1172     4452    6                                   CASE(53);  /* if byte 6, bits 5-7 */
     1173     4453                                                   /* check for speed     */
     1174     4454    6                                    IF IO_MASK1(DEVTBL.CODE(I)) AND
     1175     4455    6                                       IO_MASK1(DEVTBL.CODE(I+1))
     1176     4456    7                                       THEN DO;
     1177     4457    7                                         XST_TEXT = 'DEV SPEED: 200 IPS';
     1178     4458    7                                         XST_CNT = 18;
     1179     4459    7                                         GOTO NEXT_I;
     1180     4460    7                                    END;  /* if bits 53 & 54 set */
     1181     4461    6                                   CASE(176); /* if it's byte 22, check*/
     1182     4462                                                   /* for fault symptom code*/
     1183     4463    7                                    DO II = 0 TO 7;/* pickup byte 22 */
     1184     4464    7                                       IF IO_MASK1(DEVTBL.CODE(I) + II)
     1185     4465    7                                       THEN FT_BIT(II) =  '1'B;
     1186     4466    7                                       ELSE FT_BIT(II) =  '0'B;
     1187     4467    7                                    END;  /* do */
     1188     4468    7                                    DO II = 0 TO 70;/* go thru tbl for a match */
     1189     4469    7                                       IF FT_CODE = FAULT_SYMP_TBL.CODE(II)
     1190     4470    8                                       THEN DO;
     1191     4471    8                                         XST_TEXT = FAULT_SYMP_TBL.TEXT(II);
     1192     4472    8                                         XST_CNT = FAULT_SYMP_TBL.COUNT(II);
     1193     4473    8                                         GOTO NEXT_I;
     1194     4474    8                                       END;  /* if fault code is found */
     1195     4475    7                                    END; /* do II */
     1196     4476    6                                END; /* do case */
     1197     4477    5                           ELSE IF((EL$IOERR.MODEL='MSU3380')
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:34   
     1198     4478    5                                OR (EL$IOERR.MODEL='MSU3381')
     1199     4479    5                                OR (EL$IOERR.MODEL='MSU3382')
     1200     4480    5                                OR (EL$IOERR.MODEL='MSU3383')
     1201     4481    5                                OR (EL$IOERR.MODEL='MSU3390')
     1202     4482    5                                OR (EL$IOERR.MODEL='MSU3391')
     1203     4483    5                                OR (EL$IOERR.MODEL='MSU3392')
     1204     4484    5                                OR (EL$IOERR.MODEL='MSU3393'))
     1205     4485    5                                AND  (DEVTBL.CODE(I) = 56)
     1206     4486    5                                THEN
     1207     4487    5                                    CALL FIND_FORMAT_MSG;
     1208     4488    5                           ELSE IF((EL$IOERR.MODEL='MSU8082')
     1209     4489    5                                OR (EL$IOERR.MODEL='MSU8092'))
     1210     4490    5                                THEN
     1211     4491    5                                    CALL IPC_MDSII;
     1212     4492    6                           ELSE DO;
     1213     4493    6                             IF IO_MASK1(DEVTBL.CODE(I))
     1214     4494    7                                THEN DO;
     1215     4495    7                                  XST_TEXT = DEVTBL.TEXT(I);
     1216     4496    7                                  XST_CNT = DEVTBL.COUNT(I);
     1217     4497    7   NEXT_I:
     1218     4498    7                                  CALL THF$ADD_TEXTC(XST$,
     1219     4499    7                                                     XST_TEXT,
     1220     4500    7                                                     XST_CNT);
     1221     4501    7                                  NXST = NXST + 1;
     1222     4502    7                                END;
     1223     4503    6                           END;                /* OF ELSE */
     1224     4504    5                      END;
     1225     4505    4        NO_INTERP:
     1226     4506    4                 END;
     1227     4507    3                 MODEL_CHAR = EL$IOERR.MODEL;
     1228     4508    3                 SECTOR = EL$IOERR.SEEK.SECTOR;
     1229     4509    4                DO SELECT( EL$IOERR.MODEL );
     1230     4510    4                  SELECT('MSU0501','MSU0509');
     1231     4511    4                      CYL = SECTOR/(8*40);
     1232     4512    4                      HD = MOD(SECTOR /8,40);
     1233     4513    4                      SE = MOD(SECTOR,8);
     1234     4514    4                  SELECT('MSU0451');
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:35   
     1235     4515    4                      CYL = SECTOR / (40*19);
     1236     4516    4                      HD = MOD(SECTOR/40,19);
     1237     4517    4                      SE = MOD(SECTOR,40);
     1238     4518    4                  SELECT('MSU3380','MSU3381','MSU3382','MSU3383',  /* FIPS D&E */
     1239     4519    4                         'MSU3390','MSU3391','MSU3392','MSU3393'); /* FIPS J&K */
     1240     4520    4                     CYL = SECTOR / (17*15);
     1241     4521    4                     HD = MOD(SECTOR/17,15);
     1242     4522    4                     SE = MOD(SECTOR,17);
     1243     4523    4                  SELECT('MSU8082');                   /* MDS I - FDS II        */
     1244     4524    4                      CYL = SECTOR / (11*24);
     1245     4525    4                      HD = MOD(SECTOR/11,24);
     1246     4526    4                      SE = MOD(SECTOR,11);
     1247     4527    4                  SELECT('MSU8092');                  /* MDS II - SABRE V       */
     1248     4528    4                      CYL = SECTOR / (19*15);
     1249     4529    4                      HD = MOD(SECTOR/19,15);
     1250     4530    4                      SE = MOD(SECTOR,19);
     1251     4531    4                  END;  /*SELECT*/
     1252     4532    3            CASE(%TH_DEVSTATS);
     1253     4533    3              STATS$ = ADDR(EL$DEVSTATS.STATISTICS(0));
     1254     4534    4              DO SELECT(EL$DEVSTATS.FW_NAME);
     1255     4535    4                 SELECT('M601', 'M610', 'TPUR');   /* MPC OR TPUR TAPES */
     1256     4536    4                 SELECT('M191', 'D500', 'MSP8');   /* MPC OR DAU DISCS */
     1257     4537    4                   TH_ITYPE = %TH_DEVSTATS_DISK;
     1258     4538    4                   TEMPBUF(0) = DISK_STATS.SEEK_INCOMPLETES
              4538                            /* SEEK ERRS = SEEK INCOMPLETES */
     1259     4539    4                              + DISK_STATS.HDR_VER_ERRS;     /* + HDR VER ERRORS */
     1260     4540    4                   TEMPBUF(1) = DISK_STATS.TRANS_TIMING_ERRS
              4540                            /* OTHER ERRS = TRANS TIM ERRS */
     1261     4541    4                              + DISK_STATS.CNT_CHK_ALERTS     /* + CNT CHECK ALERTS */
     1262     4542    4                              + DISK_STATS.DLI_PARITY_ERRS    /* + DLI PARITY ERRS */
     1263     4543    4                              + DISK_STATS.LATENCY_RETRIES    /*  + LATENCY RETRIES */
     1264     4544    4                              + DISK_STATS.DATA_CHK_ALERTS   /*  + DATA CHECK ALERTS */
     1265     4545    4                              + DISK_STATS.SEARCH_ALERTS;     /* + SYNC FAILURES */
     1266     4546    4                 SELECT('IIDK');                   /* MDS DISKS */
     1267     4547    4                   TH_ITYPE = %TH_DEVSTATS_MDS;
     1268     4548    4                   TEMPBUF(0) = MDS_STATS.SEEK_READS      /* # OF SEEKS = SEEK-READS */
     1269     4549    4                              + MDS_STATS.SEEK_WRITES;      /* + SEEK-WRITES */
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:36   
     1270     4550    4              END;  /* DO SELECT */
     1271     4551    3              CTL$ = FMTTBL$(TH_ITYPE);
     1272     4552    3            CASE ( %TH_MPCSTAT );
     1273     4553    3              STATS$ = ADDR(EL$MPCSTATS.STATS(0));
     1274     4554    3              TEMPBUF(0) = EURC_STATS.CARDS_READ(0)
     1275     4555    3                         + EURC_STATS.CARDS_READ(1)
     1276     4556    3                         + EURC_STATS.CARDS_READ(2)
     1277     4557    3                         + EURC_STATS.CARDS_READ(3);
     1278     4558    3              TEMPBUF(1) = EURC_STATS.CARDS_PUNCHED(0)
     1279     4559    3                         + EURC_STATS.CARDS_PUNCHED(1)
     1280     4560    3                         + EURC_STATS.CARDS_PUNCHED(2)
     1281     4561    3                         + EURC_STATS.CARDS_PUNCHED(3);
     1282     4562    3              TEMPBUF(2) = EURC_STATS.LINES_PRINTED(0)
     1283     4563    3                         + EURC_STATS.LINES_PRINTED(1)
     1284     4564    3                         + EURC_STATS.LINES_PRINTED(2)
     1285     4565    3                         + EURC_STATS.LINES_PRINTED(3);
     1286     4566    3              TEMPBUF(3) = EURC_STATS.PAGES_PRINTED(0)
     1287     4567    3                         + EURC_STATS.PAGES_PRINTED(1)
     1288     4568    3                         + EURC_STATS.PAGES_PRINTED(2)
     1289     4569    3                         + EURC_STATS.PAGES_PRINTED(3);
     1290     4570    3              TEMPBUF(4) = EURC_STATS.WORD_TRANSFERS(0)
     1291     4571    3                         + EURC_STATS.WORD_TRANSFERS(1)
     1292     4572    3                         + EURC_STATS.WORD_TRANSFERS(2)
     1293     4573    3                         + EURC_STATS.WORD_TRANSFERS(3);
     1294     4574    3              TEMPBUF(5) = EURC_STATS.RECEIVER_ERRS(0)
     1295     4575    3                         + EURC_STATS.RECEIVER_ERRS(1)
     1296     4576    3                         + EURC_STATS.RECEIVER_ERRS(2)
     1297     4577    3                         + EURC_STATS.RECEIVER_ERRS(3)
     1298     4578    3                         + EURC_STATS.TRANSMITTER_ERRS(0)
     1299     4579    3                         + EURC_STATS.TRANSMITTER_ERRS(1)
     1300     4580    3                         + EURC_STATS.TRANSMITTER_ERRS(2)
     1301     4581    3                         + EURC_STATS.TRANSMITTER_ERRS(3);
     1302     4582    3            CASE (%TH_DIAG);
     1303     4583    4               DO CASE (EL$DIAG.TEST);
     1304     4584    4                 CASE (%TD_TEST_POLTS);
     1305     4585    4                   CALL THF$ADD_TEXTC (TEXT$,'POLTS         ',14);
     1306     4586    4                 CASE (%TD_TEST_ITR);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:37   
     1307     4587    4                   CALL THF$ADD_TEXTC (TEXT$,'ITR           ',14);
     1308     4588    4                 CASE (%TD_TEST_MDR);
     1309     4589    4                   CALL THF$ADD_TEXTC (TEXT$,'MDR           ',14);
     1310     4590    4                 CASE (%TD_TEST_MTAR);
     1311     4591    4                   CALL THF$ADD_TEXTC (TEXT$,'MTAR          ',14);
     1312     4592    4                 CASE (%TD_TEST_FEP);
     1313     4593    4                   CALL THF$ADD_TEXTC (TEXT$,'FEP           ',14);
     1314     4594    4                 CASE(%TD_TEST_MPC);
     1315     4595    4                   CALL THF$ADD_TEXTC (TEXT$,'CTRLR PRE-OPEN',14);
     1316     4596    4                 CASE(%TD_TEST_MCA);
     1317     4597    4                   CALL THF$ADD_TEXTC (TEXT$,'MCA           ',14);
     1318     4598    4                 CASE(%TD_TEST_DEVICE);
     1319     4599    4                   CALL THF$ADD_TEXTC (TEXT$,'DEV PRE-OPEN  ',14);
     1320     4600    4                 CASE (ELSE);
     1321     4601    4                   CALL THF$ADD_TEXTC (TEXT$,' *** ',5);
     1322     4602    4               END;
     1323     4603    3            CASE ( %TH_CHNGAARD ) ;
     1324     4604    4               IF EL$CHNGAARD.OLD THEN DO ;
     1325     4605    4                  CALL BINCHAR ( TEMP1, EL$CHNGAARD.OLDIOM ) ;
     1326     4606    4                  CALL INSERT ( TEMP2, 0, 2, SUBSTR(TEMP1,LENGTHC(TEMP1)-1,1), '-' ) ;
     1327     4607    4                  CALL BINCHAR ( TEMP1, EL$CHNGAARD.OLDCHAN ) ;
     1328     4608    4                  CALL INSERT ( TEMP2, 2, 3, SUBSTR(TEMP1,LENGTHC(TEMP1)-3,3) ) ;
     1329     4609    4                  CALL ADD_TEXTC ( TEMP2, 5 ) ;
     1330     4610    4                  END ;
     1331     4611    3               ELSE
     1332     4612    3                  CALL ADD_TEXTC ( '     ', 5 ) ;
     1333     4613
     1334     4614    4               IF EL$CHNGAARD.NEW THEN DO ;
     1335     4615    4                  CALL BINCHAR ( TEMP1, EL$CHNGAARD.NEWIOM ) ;
     1336     4616    4                  CALL INSERT ( TEMP2, 0, 2, SUBSTR(TEMP1,LENGTHC(TEMP1)-1,1), '-' ) ;
     1337     4617    4                  CALL BINCHAR ( TEMP1, EL$CHNGAARD.NEWCHAN ) ;
     1338     4618    4                  CALL INSERT ( TEMP2, 2, 3, SUBSTR(TEMP1,LENGTHC(TEMP1)-3,3) ) ;
     1339     4619    4                  CALL ADD_TEXTC ( TEMP2, 5 ) ;
     1340     4620    4                  END ;
     1341     4621    3               ELSE
     1342     4622    3                  CALL ADD_TEXTC ( '     ', 5 ) ;
     1343     4623
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:38   
     1344     4624    3               IF EL$CHNGAARD.ERR THEN
     1345     4625    3                  CALL ADD_TEXTC ( 'DP#CP-6''S error.  Do Tape Boot ASAP.', 36 ) ;
     1346     4626    3               ELSE
     1347     4627    3                  CALL ADD_TEXTC ( '     ', 5 ) ;
     1348     4628
     1349     4629    3        END;                               /*  DO CASE TH_ITYPE                  */
     1350     4630    2        IF TH_ITYPE = %TH_MPCSTAT
     1351     4631    2           OR TH_ITYPE = %TH_DEVSTATS
     1352     4632    2           OR TH_ITYPE = %TH_DEVSTATS_DISK
     1353     4633    2           OR TH_ITYPE = %TH_DEVSTATS_MDS
     1354     4634    2           THEN TVEC = VECTOR(TEMPBUF);
     1355     4635    2        ELSE IF TEXT$ = ADDR(TEXTBUF)
     1356     4636    2           THEN TVEC = VECTOR(NIL);
     1357     4637    2           ELSE                            /* TEXT HAS BEEN PUT INTO TBUF        */
     1358     4638    3           DO;
     1359     4639    3              TVEC = VECTOR(TEXTBUF);
     1360     4640    3              TVEC.BOUND = POFFC(TEXT$,ADDR(TEXTBUF)) - 1;
     1361     4641    3           END;
     1362     4642    2     IF MM$ = ADDR(MMBUF)
     1363     4643    2       THEN MMVEC = VECTOR(NIL);
     1364     4644    2   ELSE
     1365     4645    3       DO;
     1366     4646    3      MMVEC = VECTOR(MMBUF);
     1367     4647    3      MMVEC.BOUND = POFFC(MM$,ADDR(MMBUF)) - 1;
     1368     4648    3   END;
     1369     4649    3   IF TH_ITYPE = %TH_IOERR OR TH_ITYPE = %TH_FI THEN DO;
     1370     4650    4      IF MODEL_CHAR = 'MTU' AND NOT TH_DETAIL_FLG THEN DO;
     1371     4651    4        SEEK_ADDR = ' ';
     1372     4652    4        CALL THF$ADD_TEXTC(SEC$,SEEK_ADDR,8);
     1373     4653    4        CALL BINCHAR(MT_POSITION.FILE, EL$IOERR.TAPEPOS.FILECNT);
     1374     4654    4        CALL BINCHAR(MT_POSITION.RECCNT, EL$IOERR.TAPEPOS.CURECNT);
     1375     4655    4        CALL THF$ADD_TEXTC(SEC$, MT_POSITION, 11);
     1376     4656    4      END;
     1377     4657    4      ELSE DO;
     1378     4658    4        CALL BINCHAR(SEEK_ADDR, SECTOR);
     1379     4659    4        CALL THF$ADD_TEXTC(SEC$, SEEK_ADDR, 8);
     1380     4660    4        CALL BINCHAR(DP_POSITION.CYL, CYL);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:39   
     1381     4661    4        CALL BINCHAR(DP_POSITION.HD, HD);
     1382     4662    4        CALL BINCHAR(DP_POSITION.SEC, SE);
     1383     4663    4        CALL THF$ADD_TEXTC(SEC$, DP_POSITION, 10);
     1384     4664    4      END;
     1385     4665    3   END;
     1386     4666    2        SECVEC = VECTOR(SECBUF);
     1387     4667    2        SECVEC.BOUND = POFFC(SEC$,ADDR(SECBUF)) - 1;
     1388     4668    2        IF (RECORD.TYPE ~= TH_LASTTYPE) AND
     1389     4669    2           NOT ((RECORD.TYPE = EL_SUA OR RECORD.TYPE = EL_SNAP) AND TH_LASTTYPE =
              4669                    EL_SCREECH)
     1390     4670    2           AND NOT(RECORD.TYPE = EL_DSMT AND TH_LASTTYPE = EL_MOUNT)
     1391     4671    2           THEN
     1392     4672    3           DO I = 1 TO CTL.NHDR;
     1393     4673    3            CALL THW$WRITE(CTL.FMT(I),VECTOR(TH_TIME),INFO,TVEC,SECVEC,MMVEC);
     1394     4674    3           END;
     1395     4675    2        ELSE IF RECORD.TYPE = EL_DEVSTAT
     1396     4676    2                AND TH_RAW_FLG
     1397     4677    2                AND (TH_LAST_DEVTYPE ~= SUBSTR(EL$DEVSTATS.DEVNM,0,2))
     1398     4678    3                THEN DO I = 2 TO CTL.NHDR;
     1399     4679    3                  CALL THW$WRITE(CTL.FMT(I),VECTOR(TH_TIME),INFO,TVEC,SECVEC,MMVEC);
     1400     4680    3                END;
     1401     4681    2        IF RECORD.TYPE = EL_DEVSTAT THEN
     1402     4682    2           TH_LAST_DEVTYPE = SUBSTR(EL$DEVSTATS.DEVNM,0,2);
     1403     4683    2        IF CTL.HDRFLG THEN TH_LASTTYPE = RECORD.TYPE;
     1404     4684    2                      ELSE TH_LASTTYPE = -1;
     1405     4685    2        IF TH_LASTTYPE = EL_SNAP OR TH_LASTTYPE = EL_SUA
     1406     4686    2           THEN TH_LASTTYPE = EL_SCREECH;
     1407     4687    2        IF TH_LASTTYPE = EL_DSMT
     1408     4688    2           THEN TH_LASTTYPE = EL_MOUNT;
     1409     4689    3        DO I = CTL.NHDR + 1 TO CTL.NFMT + CTL.NHDR;
     1410     4690    3        IF (TH_ITYPE = %TH_MOUNT OR TH_ITYPE = %TH_DSMT) AND
     1411     4691    3        (  TH_CONSTRAINTS.M_MED_S AND TH_CONSTRAINTS.M_MED ~= EL$MTDMT.VOLUME)
     1412     4692    3            THEN;
     1413     4693    3            ELSE
     1414     4694    3            CALL THW$WRITE(CTL.FMT(I),VECTOR(TH_TIME),INFO,TVEC,SECVEC,MMVEC);
     1415     4695    3        END;
     1416     4696    3        IF CTL.SPECIAL THEN DO CASE(TH_ITYPE);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:40   
     1417     4697    3          CASE (%TH_IOERR);
     1418     4698    3            IF (NXST > 0) AND (EL$IOERR.MODEL = 'MSU8082' OR EL$IOERR.MODEL = 'MSU8092'
              4698                     )
     1419     4699    4              THEN DO;
     1420     4700    4                 N = NXST;
     1421     4701    4                 ADDR(XSTBUF) -> XST_TEMP.N = N;
     1422     4702    4                 XSTVEC = VECTOR(XSTBUF);
     1423     4703    4                 XSTVEC.BOUND = POFFC(XST$, ADDR(XSTBUF)) - 1;
     1424     4704    4                 CALL THW$WRITE(VECTOR(MDSFMT), XSTVEC);
     1425     4705    4                 END;
     1426     4706    3            ELSE IF NXST > 0
     1427     4707    4              THEN DO;
     1428     4708    4                 N = NXST / 2;
     1429     4709    4                 ADDR(XSTBUF) -> XST_TEMP.N = N;
     1430     4710    4                 IF MOD(NXST,2) = 0
     1431     4711    4                      THEN ODDFLAG = '0'B;
     1432     4712    4                      ELSE ODDFLAG = '1'B;
     1433     4713    4                 XSTVEC = VECTOR(XSTBUF);
     1434     4714    4                 XSTVEC.BOUND = POFFC(XST$,ADDR(XSTBUF)) - 1;
     1435     4715    4                 IF ODDFLAG
     1436     4716    4                      THEN CALL THW$WRITE(VECTOR(ODDFMT),XSTVEC);
     1437     4717    4                      ELSE CALL THW$WRITE(VECTOR(EVENFMT),XSTVEC);
     1438     4718    4                 END;
     1439     4719    3           CASE(%TH_FEPERR);
     1440     4720    4              IF NUMBYTES > 0 THEN DO;
     1441     4721    4                 CALL THW$WRITE(VECTOR(DYMFMT));
     1442     4722    4                 NUMWORDS = (NUMBYTES+3)/4;
     1443     4723    4                 CALL THF$HEXDUMP(ADDR(EL$FEPERR.X),NUMWORDS);
     1444     4724    4                 END;  /* IF NUMBYTES > 0 */
     1445     4725    3           CASE(%TH_CGERR);
     1446     4726    4              IF EL$CGERR.SIZ > 0 THEN DO;
     1447     4727    4                 TH_LASTTYPE = -1;
     1448     4728    4                 CALL THW$WRITE(VECTOR(INFOFMT));
     1449     4729    4                 CALL THF$DUMP(ADDR(EL$CGERR.INFO),EL$CGERR.SIZ);
     1450     4730    4                 END;  /* IF EL$CGERR.SIZ > 0 */
     1451     4731    3           CASE(%TH_PROCERR);
     1452     4732    3              FCBUF = ' ';
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:41   
     1453     4733    3              FC$ = ADDR(FCBUF);
     1454     4734    3              I = 0;
     1455     4735    3              IF EL$PROCERR.FC > 21
     1456     4736    3                 THEN CALL THF$ADD_TEXTC(FC$,'***',3);
     1457     4737    4                 ELSE DO;
     1458     4738    4                      I = EL$PROCERR.FC;
     1459     4739    4                      FC_TEXT = FC.TEXT(I);
     1460     4740    4                      FC_CNT = FC.COUNT(I);
     1461     4741    4                      CALL THF$ADD_TEXTC(FC$,FC_TEXT,FC_CNT);
     1462     4742    4                      END;
     1463     4743    3              FCVEC = VECTOR(FCBUF);
     1464     4744    3              FCVEC.BOUND = POFFC(FC$,ADDR(FCBUF)) - 1;
     1465     4745    3              CALL THW$WRITE(VECTOR(FCFMT),FCVEC);
     1466     4746    3              FCBUF = ' ';
     1467     4747    3              FC$ = ADDR(FCBUF);
     1468     4748    3              CALL THF$ADD_TEXTC(FC$,'   ',3);
     1469     4749    3              I = 0;
     1470     4750    3              N = 0;
     1471     4751    3              FCFLAG = 0;
     1472     4752    3              IF EL$PROCERR.PROCTYPE = %L66  OR
     1473     4753    3                 EL$PROCERR.PROCTYPE = %DPSE OR
     1474     4754    3                 EL$PROCERR.PROCTYPE = %ELS1
     1475     4755    4                  THEN DO;
     1476     4756    4                      I = EL$PROCERR.PROCTYPE;
     1477     4757    4                      FCPTR$ = FLTREG_TYPE.SUB$(I);
     1478     4758    4                      J = FLTREG_TYPE.COUNT(I);
     1479     4759    4                      FLT_REG = EL$PROCERR.FLTREG;
     1480     4760    5                      DO I = 0 TO J;
     1481     4761    5                         IF FCTBL.CODE(I) > 16 AND FCFLAG = 0
     1482     4762    6                           THEN DO;
     1483     4763    6                                IF EL$PROCERR.PROCTYPE = %ELS1
     1484     4764    6                                  THEN JJ = 5;
     1485     4765    6                                  ELSE JJ = 7;
     1486     4766    7                                DO II = 4 TO JJ;
     1487     4767    7                                   BIT_CNT = BITBIN(FLT_REG_TT(II));
     1488     4768    7                                   IF BIT_CNT = 0
     1489     4769    7                                   THEN GOTO NON_CODE;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:42   
     1490     4770    8                                   ELSE DO;
     1491     4771    9                                   DO CASE(II);
     1492     4772    9                                      CASE(4);
     1493     4773    9                                       CALL INSERT(FC_TEXT,0,7,'PORT A ');
     1494     4774    9                                      CASE(5);
     1495     4775    9                                       CALL INSERT(FC_TEXT,0,7,'PORT B ');
     1496     4776    9                                      CASE(6);
     1497     4777    9                                       CALL INSERT(FC_TEXT,0,7,'PORT C ');
     1498     4778    9                                      CASE(7);
     1499     4779    9                                       CALL INSERT(FC_TEXT,0,7,'PORT D ');
     1500     4780    9                                   END;  /* do case */
     1501     4781    8                                   FC_CNT = 7;
     1502     4782    8                                    CALL INSERT(FC_TEXT,FC_CNT,
     1503     4783    8                                                ILL_CODE.COUNT(BIT_CNT),
     1504     4784    8                                                ILL_CODE.TEXT(BIT_CNT));
     1505     4785    8                                    FC_CNT = FC_CNT+ILL_CODE.COUNT(BIT_CNT);
     1506     4786    8                                    CALL THF$ADD_TEXTC(FC$,FC_TEXT,FC_CNT);
     1507     4787    8                                    N = N + 1;
     1508     4788    8                                   END;  /* else do */
     1509     4789    7                NON_CODE:
     1510     4790    7                                    FCFLAG = 1;
     1511     4791    7                                 END;        /*  OF DO II = ... */
     1512     4792    6                                 END;        /*  OF THEN DO     */
     1513     4793    5                      IF FLT_REG_T(FCTBL.CODE(I))
     1514     4794    6                         THEN DO;
     1515     4795    6                              FC_TEXT = FCTBL.TEXT(I);
     1516     4796    6                              FC_CNT = FCTBL.COUNT(I);
     1517     4797    6                              CALL THF$ADD_TEXTC(FC$,FC_TEXT,FC_CNT);
     1518     4798    6                              N = N +1;
     1519     4799    6                              END;
     1520     4800    5                    END;         /*  OF DO I = ... */
     1521     4801    4                      END;                /* OF THEN DO */
     1522     4802    3               IF N > 0
     1523     4803    4                 THEN DO;
     1524     4804    4                      ADDR(FCBUF) -> FC_TEMP.N = N;
     1525     4805    4                      FCVEC = VECTOR(FCBUF);
     1526     4806    4                      FCVEC.BOUND = POFFC(FC$,ADDR(FCBUF)) - 1;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:43   
     1527     4807    4                      CALL THW$WRITE(VECTOR(FRFMT),FCVEC);
     1528     4808    4                      END;
     1529     4809    3              IF EL$PROCERR.FC = 9       /* PARITY FAULT                          */
     1530     4810    4              THEN DO;
     1531     4811    4                 TH_LASTTYPE = -1;
     1532     4812    4                 CALL THF$CSHERR;
     1533     4813    4                 IF EL$PROCERR.SAFESTORE.CSHERR ~= '0'B
     1534     4814    4                 THEN GOTO PROCERR_DONE;
     1535     4815    4                 END;
     1536     4816    3              IF EL$PROCERR.SSSIZE > 0
     1537     4817    4              THEN DO;
     1538     4818    4                 TH_LASTTYPE = -1;
     1539     4819    4                 CALL THW$WRITE(VECTOR(PROCERR_SS));
     1540     4820    4                 I = EL$PROCERR.SSSIZE;
     1541     4821    4                 CALL THF$DUMP(ADDR(EL$PROCERR.SAFESTORE),I,'1'B);
     1542     4822    4                 IF EL$PROCERR.HRSIZE > 0
     1543     4823    5                 THEN DO;
     1544     4824    5                    I = EL$PROCERR.PROCTYPE;
     1545     4825    5                    CALL THF$HISTORY(ADDR(EL$PROCERR.HISTREGS),I);
     1546     4826    5                    END;
     1547     4827    4                 END;
     1548     4828    3   PROCERR_DONE: ;
     1549     4829    3           CASE(ELSE);
     1550     4830                   /* DO NOTHING */
     1551     4831    3           END;  /* do case */
     1552     4832    2        END; /* else do */
     1553     4833    1        RETURN;
     1554     4834        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:44   
     1555     4835    1   BUILDTIME: PROC(UTS);
     1556     4836    2   DCL UTS UBIN UNAL;
     1557     4837    2   DCL TSTAMP UBIN;
     1558     4838        %FPT_TIME (SOURCE=UTS,DEST=LOCAL);
     1559     4857    2   DCL 1 TBUF BASED(TEXT$),
     1560     4858    2           2 N UBIN BYTE UNAL,
     1561     4859    2           2 TIME CHAR(5),
     1562     4860    2           2 * CHAR(1),
     1563     4861    2           2 DATE CHAR(8);
     1564     4862        /**/
     1565     4863    2           TBUF.N=14;
     1566     4864    2           FPT_TIME.TIME_=VECTOR(TBUF.TIME);
     1567     4865    2           FPT_TIME.DATE_=VECTOR(TBUF.DATE);
     1568     4866    2           FPT_TIME.TSTAMP_=VECTOR(TSTAMP);
     1569     4867    2           TSTAMP=UTS;
     1570     4868    2           CALL M$TIME(FPT_TIME);
     1571     4869    2           TEXT$=PINCRC(TEXT$,SIZEC(TBUF));
     1572     4870    2           RETURN;
     1573     4871    2   END BUILDTIME;
     1574     4872        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:45   
     1575     4873    1   ADD_TEXTC: PROC(TXT,SIZ);
     1576     4874    2   DCL TXT CHAR(SIZ);
     1577     4875    2   DCL SIZ SBIN;
     1578     4876    2   DCL 1 TBUF BASED(TEXT$),
     1579     4877    2           2 N UBIN BYTE UNAL,
     1580     4878    2           2 C CHAR(SIZ);
     1581     4879        /**/
     1582     4880    2           TBUF.N=SIZ;
     1583     4881    2           TBUF.C=TXT;
     1584     4882    2           TEXT$=PINCRC(TEXT$,SIZ+1);
     1585     4883    2           RETURN;
     1586     4884    2   END ADD_TEXTC;
     1587     4885        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:46   
     1588     4886    1   ERROR_CODE: PROC(ERR);
     1589     4887    2   DCL 1 ERR UNAL,
     1590     4888    2           2 FCG(0:2) UBIN(6) UNAL,
     1591     4889    2           2 MON BIT(1),
     1592     4890    2           2 CODE UBIN(14) UNAL,
     1593     4891    2           2 SEV UBIN(3) UNAL;
     1594     4892    2   DCL 1 TBUF BASED(TEXT$),
     1595     4893    2           2 N UBIN BYTE UNAL,
     1596     4894    2           2 C CHAR(12),
     1597     4895    2           2 C_ARRAY(0:11) REDEF C CHAR(1) UNAL,
     1598     4896    2           2 C_UBIN(0:11) REDEF C UBIN(9) UNAL;
     1599     4897    2   DCL I SBIN;
     1600     4898        /**/
     1601     4899    3           DO I=0 TO 2;
     1602     4900    3              IF ERR.FCG(I) = 0
     1603     4901    3              THEN TBUF.C_ARRAY(I) = ' ';
     1604     4902    3              ELSE IF ERR.FCG(I) < 48
     1605     4903    3                   THEN TBUF.C_UBIN(I) = ERR.FCG(I) + 64;  /*its a letter*/
     1606     4904    3                   ELSE TBUF.C_UBIN(I) = ERR.FCG(I);       /*its a number*/
     1607     4905    3              END;
     1608     4906    2           CALL INSERT(TBUF.C,3,1,'-');
     1609     4907    2           I=4;
     1610     4908    3           IF ERR.MON THEN DO;
     1611     4909    3              CALL INSERT(TBUF.C,I,1,'M');
     1612     4910    3              I=5;
     1613     4911    3              END;
     1614     4912    2           CALL BINCHAR(SUBSTR(TBUF.C,I,5),ERR.CODE);
     1615     4913    2           CALL INSERT(TBUF.C,I+5,1,'-');
     1616     4914    2           CALL BINCHAR(SUBSTR(TBUF.C,I+6,1),ERR.SEV);
     1617     4915    2           TBUF.N=SIZEC(TBUF.C);
     1618     4916    2           TEXT$=PINCRC(TEXT$,SIZEC(TBUF));
     1619     4917    2           RETURN;
     1620     4918    2   END ERROR_CODE;
     1621     4919        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:47   
     1622     4920        /*    CONVERT EDAC SYNDROME NUMBER TO TEXT                            */
     1623     4921        /**/
     1624     4922    1   EDAC: PROC(STATUS$,BOARD,CHIP);
     1625     4923    2   DCL BIT_4K(0:127) SBIN BYTE CALIGNED CONSTANT SYMDEF INIT(
     1626     4924    2           19,18,17,15,16,14,13,-1,19,12,11,9,10,8,7,-1,
     1627     4925    2           18,6,5,3,4,2,1,-1,-1,0,19,-1,18,-1,-1,-1,
     1628     4926    2           17,-1,-1,17,-1,16,15,-1,-1,14,13,11,12,10,9,-1,
     1629     4927    2           -1,8,7,5,6,4,3,-1,-1,2,1,-1,0,-1,-1,-1,
     1630     4928    2           16,-1,-1,15,-1,14,13,-1,-1,12,11,9,10,8,7,-1,
     1631     4929    2           -1,6,5,3,4,2,1,-1,-1,0,19,-1,18,-1,-1,-1,
     1632     4930    2           -1,-1,-1,17,-1,16,15,-1,-1,14,13,11,12,10,9,-1,
     1633     4931    2           -1,8,7,5,6,4,3,-1,-1,2,1,-1,0,-1,-1,-1);
     1634     4932    2   DCL QUAD_4K(0:127) SBIN BYTE CALIGNED CONSTANT SYMDEF INIT(
     1635     4933    2           4,4,4,4,4,4,4,0,2,4,4,4,4,4,4,0,
     1636     4934    2           2,4,4,4,4,4,4,0,0,4,3,0,3,0,0,0,
     1637     4935    2           2,0,0,3,0,3,3,0,0,3,3,3,3,3,3,0,
     1638     4936    2           0,3,3,3,3,3,3,0,0,3,3,0,3,0,0,0,
     1639     4937    2           2,0,0,2,0,2,2,0,0,2,2,2,2,2,2,0,
     1640     4938    2           0,2,2,2,2,2,2,0,0,2,1,0,1,0,0,0,
     1641     4939    2           0,0,0,1,0,1,1,0,0,1,1,1,1,1,1,0,
     1642     4940    2           0,1,1,1,1,1,1,0,0,1,1,0,1,0,0,0);
     1643     4941    2   DCL BOARD_4K(0:3) CHAR(4) STATIC INIT(
     1644     4942    2           'ABCD','FGHJ','KLMN','QRST');
     1645     4943    2   DCL CHIP_LTTR(0:9) STATIC CHAR(1) INIT('A','B','C','D','E','G',
     1646     4944    2       'H','J','K','L');
     1647     4945    2   DCL BIT# SBIN;
     1648     4946    2   DCL QUAD# SBIN;
     1649     4947    2   DCL CHIP# CHAR(2);
     1650     4948    2   DCL BOARD CHAR(1);
     1651     4949    2   DCL CHIP CHAR(3);
     1652     4950    2   DCL STATUS$ PTR;
     1653     4951        /**/
     1654     4952    2   DCL BIT_64K (0:127) SBIN BYTE CALIGNED CONSTANT SYMDEF INIT(
     1655     4953    2         79,78,77,71,76,70,69,-1,75,68,67,
     1656     4954    2         65,66,64,63,-1,74,62,61,59,60,58,
     1657     4955    2         57,-1,-1,56,55,-1,54,-1,-1,-1,73,-1,-1,53,-1,52,51,-1,-1,50,49,
     1658     4956    2         47,48,46,45,-1,-1,44,43,41,42,40,39,
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:48   
     1659     4957    2         -1,-1,38,37,-1,36,-1,-1,-1,72,-1,-1,35,-1,34,33,-1,-1,32,31,29,
     1660     4958    2         30,28,27,-1,-1,26,25,23,24,22,21,-1,-1,20,
     1661     4959    2         19,-1,18,-1,-1,-1,-1,-1,-1,17,-1,16,15,-1,-1,14,13,11,12,10,
     1662     4960    2         9,-1,-1,8,7,5,6,4,3,-1,-1,2,1,-1,0,-1*0);
     1663     4961    2   DCL CHIP_64K_CHAR (0:7) CHAR(2) CALIGNED CONSTANT SYMDEF INIT(
     1664     4962    2         '01','10','19','28','37','46','55','64');
     1665     4963    2   DCL CHIP_64K_LET (0:19) CHAR(1) CALIGNED CONSTANT SYMDEF INIT(
     1666     4964    2         'A','B','C','D','E','F','G','H','J','K',
     1667     4965    2         'N','P','Q','R','S','T','U','V','W','X');
     1668     4966    2   DCL BOARD_64K (0:15) CHAR(1) CALIGNED CONSTANT SYMDEF INIT(
     1669     4967    2         'A','B','C','D','E','F','G','H',
     1670     4968    2         'J','K','L','M','N','P','Q','R');
     1671     4969        /*                                                                    */
     1672     4970        /*                                                                    */
     1673     4971        %EL$EDAC;
     1674     4980        /*                                                                    */
     1675     4981        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:49   
     1676     4982    2           IF STATUS$->EL$EDAC.STORE_MODE.MOSID = '1010'B
     1677     4983    2           THEN GOTO EDAC_64K;
     1678     4984    2           BIT#=BIT_4K(STATUS$->EL$EDAC.STORE_MODE.SYNDROME.NUMB);
     1679     4985    2           QUAD#=QUAD_4K(STATUS$->EL$EDAC.STORE_MODE.SYNDROME.NUMB);
     1680     4986    2           IF BIT#=-1 OR QUAD#=0 THEN
     1681     4987    3              DO;
     1682     4988    3                 BOARD=' ';
     1683     4989    3                 CHIP=' ';
     1684     4990    3                 RETURN;
     1685     4991    3              END;
     1686     4992    2           BOARD=SUBSTR(BOARD_4K(QUAD#-1),STATUS$->EL$EDAC.STORE_MODE.A45,1);
     1687     4993    2           IF MOD(BIT#,2) = 1 THEN
     1688     4994    3              DO;
     1689     4995    3                 CALL BINCHAR(CHIP#,7-STATUS$->EL$EDAC.STORE_MODE.A678);
     1690     4996    3                 CALL CONCAT(CHIP,SUBSTR(CHIP#,1,1),CHIP_LTTR(BIT#/2));
     1691     4997    3              END;
     1692     4998    2           ELSE
     1693     4999    3              DO;
     1694     5000    3                 CALL BINCHAR(CHIP#,18-STATUS$->EL$EDAC.STORE_MODE.A678);
     1695     5001    3                 CALL CONCAT(CHIP,CHIP#,CHIP_LTTR(BIT#/2));
     1696     5002    3              END;
     1697     5003    2           RETURN;
     1698     5004    2   EDAC_64K:
     1699     5005    2           BIT# = BIT_64K(STATUS$->EL$EDAC.STORE_MODE.SYNDROME.NUMB);
     1700     5006    2           IF BIT# < 0
     1701     5007    3           THEN DO;
     1702     5008    3              BOARD = ' ';
     1703     5009    3              CHIP = ' ';
     1704     5010    3              RETURN;
     1705     5011    3              END;
     1706     5012    2           BOARD = BOARD_64K(STATUS$->EL$EDAC.STORE_MODE.A45 * 4
     1707     5013    2                           + STATUS$->EL$EDAC.STORE_MODE.A678 / 2);
     1708     5014    2           QUAD# = BIT# * 2 + MOD(STATUS$->EL$EDAC.STORE_MODE.A678,2);
     1709     5015    2           CALL CONCAT (CHIP,
     1710     5016    2                        CHIP_64K_CHAR(MOD(QUAD#,8)),
     1711     5017    2                        CHIP_64K_LET(QUAD#/8));
     1712     5018    2           RETURN;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:50   
     1713     5019    2   END EDAC;
     1714     5020        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:51   
     1715     5021        /* HANDLING OF DETAIL REPORT FORMAT FOR IOERR                       */
     1716     5022        /**/
     1717     5023    1   THF$IOERR: PROC;
     1718     5024        /**/
     1719     5025    2   ALL_MATCH = %FALSE;
     1720     5026    3   IF TH_FIRST_TIME THEN DO;    /* if it's the first I/O record read */
     1721     5027    3      CALL INIT_TABLES;  /* call procedure to initialize tables */
     1722     5028    3      MMBUF = ' ';
     1723     5029    3      MM$ = ADDR(MMBUF);
     1724     5030    3      INFO = TH_XSA_BUF_VECTOR;   /* EL$IOERR now frames the data record */
     1725     5031    3      IF ((EL$IOERR.MPC_MODEL = 'URPEURP ')
     1726     5032    3        OR (EL$IOERR.MPC_MODEL = 'URP8011 ')
     1727     5033    3        OR (EL$IOERR.MPC_MODEL = 'URP8012 ')
     1728     5034    3        OR (EL$IOERR.MPC_MODEL = 'URP8013 ')
     1729     5035    3        OR (EL$IOERR.MPC_MODEL = 'URP8600 ')
     1730     5036    3        OR (EL$IOERR.MPC_MODEL = 'URP8601 '))
     1731     5037    4          THEN DO;
     1732     5038    4            ASCII_EXTST = EL$IOERR.EXTST;  /* REFORMAT EXTENDED STATUS */
     1733     5039    5            DO J = 0 TO 31;
     1734     5040    5               EL$IOERR.EXTST(J) = ASCII_EXTST.BYT(J);
     1735     5041    5            END;
     1736     5042    4          END;
     1737     5043    3      CALL THW$WRITE(COMPONENT_FMT,INFO);  /* write header for component */
     1738     5044    3      IOERR_TBL = EL$IOERR; /* store data record to detail_tbl */
     1739     5045    3      OTHER_IOERR_TBL.COUNT = OTHER_IOERR_TBL.COUNT + 1;
     1740     5046    3      NEW_OP = EL$IOERR.IDCW;
     1741     5047    3      GOTO FIND_STATUS_ETC;
     1742     5048    3   END;  /* if first record read */
     1743     5049    2   ELSE IF TH_EOF_FLG THEN GOTO NOT_ALL_MATCH;
     1744     5050    3   ELSE IF NOT TH_EOF_FLG AND NOT TH_FIRST_TIME THEN DO;
     1745     5051    3      MM$ = ADDR(MMBUF);
     1746     5052    3      INFO = TH_XSA_BUF_VECTOR;   /* EL$IOERR now frames the data record */
     1747     5053    3      IF ((EL$IOERR.MPC_MODEL = 'URPEURP ')
     1748     5054    3        OR (EL$IOERR.MPC_MODEL = 'URP8011 ')
     1749     5055    3        OR (EL$IOERR.MPC_MODEL = 'URP8012 ')
     1750     5056    3        OR (EL$IOERR.MPC_MODEL = 'URP8013 ')
     1751     5057    3        OR (EL$IOERR.MPC_MODEL = 'URP8600 ')
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:52   
     1752     5058    3        OR (EL$IOERR.MPC_MODEL = 'URP8601 '))
     1753     5059    4          THEN DO;
     1754     5060    4            ASCII_EXTST = EL$IOERR.EXTST;  /* REFORMAT EXTENDED STATUS */
     1755     5061    5            DO J = 0 TO 31;
     1756     5062    5               EL$IOERR.EXTST(J) = ASCII_EXTST.BYT(J);
     1757     5063    5            END;
     1758     5064    4          END;
     1759     5065    3      NEW_OP = EL$IOERR.IDCW;
     1760     5066    3      NEW_DENSE = EL$IOERR.EXTST(2);
     1761     5067    3      OLD_DENSE = IOERR_TBL.EXTST(2);
     1762     5068    3      J = 0;
     1763     5069    4      DO I = 0 TO NUMMODELS;
     1764     5070    5         IF EL$IOERR.MODEL = DEVICE_CMND.DEV(I) THEN DO;
     1765     5071    5            DEV_OP$ = DEVICE_CMND.SUB$(I);
     1766     5072    5            J = DEVICE_CMND.COUNT(I);
     1767     5073    5         END;  /* if el$ioerr.model = device_cmnd.dev(i)  */
     1768     5074    4      END;  /* do i = 0 to 19 */
     1769     5075    3      IF J > 0 THEN
     1770     5076    4      DO I = 0 TO J;
     1771     5077    4         IF NEW_OP_RDF(0) = DEV_OP_TBL.CODE(I)
     1772     5078    4         THEN OPERATION = DEV_OP_TBL.TEXT(I);
     1773     5079    4      END;  /* do i = 0 to j */
     1774     5080    3      IF EL$IOERR.DEVNM = IOERR_TBL.DEVNM
     1775     5081    4      THEN DO;
     1776     5082    4          IF EL$IOERR.STATUS.MAJOR = IOERR_TBL.STATUS.MAJOR
     1777     5083    5          THEN DO;
     1778     5084    5            IF EL$IOERR.STATUS.MINOR = IOERR_TBL.STATUS.MINOR
     1779     5085    6            THEN DO;
     1780     5086    6              IF EL$IOERR.MODEL = IOERR_TBL.MODEL
     1781     5087    7              THEN DO;
     1782     5088    7                MODEL_CHAR = IOERR_TBL.MODEL;
     1783     5089    8                IF MODEL_CHAR = 'MTU' THEN DO;
     1784     5090    8                  IF EL$IOERR.MODEL = 'MTU8200'
     1785     5091    9                  THEN DO;
     1786     5092    9                     NEW_IO_MASK = EL$IOERR.EXTST;
     1787     5093    9                     IO_MASK = IOERR_TBL.EXTST;
     1788     5094    9                     IF IO_MASK1(29) = IO_MASK2(29) THEN;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:53   
     1789     5095    9                     ELSE IF IO_MASK1(51) = IO_MASK2(51) THEN;
     1790     5096    9                     ELSE IF IO_MASK1(52) = IO_MASK2(52) THEN;
     1791     5097    9                     ELSE GOTO NOT_ALL_MATCH;
     1792     5098    9                       GOTO COMP_OP;
     1793     5099    9                  END; /* if model is mtu8200 */
     1794     5100    8                  ELSE IF NEW_DENSE_RDF.DENSITY = OLD_DENSE_RDF.DENSITY
     1795     5101    9                  THEN DO;
     1796     5102    9   COMP_OP:        IF OPERATION = OTHER_IOERR_TBL.OPERATION
     1797     5103   10                   THEN DO;
     1798     5104   10                      OTHER_IOERR_TBL.COUNT = OTHER_IOERR_TBL.COUNT + 1;
     1799     5105   10                      ALL_MATCH = %TRUE;
     1800     5106   10                      GOTO FIND_STATUS_ETC;
     1801     5107   10                   END;  /*  if new_operation = old_operation */
     1802     5108    9                   ELSE GOTO NOT_ALL_MATCH;
     1803     5109    9                  END; /* if new density = old density */
     1804     5110    8                  ELSE GOTO NOT_ALL_MATCH;
     1805     5111    8                END; /* if model_char = 'MTU' */
     1806     5112    8                ELSE DO;
     1807     5113    8                  OTHER_IOERR_TBL.COUNT = OTHER_IOERR_TBL.COUNT + 1;
     1808     5114    8                  ALL_MATCH = %TRUE;
     1809     5115    8                  GOTO FIND_STATUS_ETC;
     1810     5116    8                END; /* else do */
     1811     5117    7              END;
     1812     5118    6              ELSE GOTO NOT_ALL_MATCH;
     1813     5119    6            END;
     1814     5120    5            ELSE GOTO NOT_ALL_MATCH;
     1815     5121    5          END;
     1816     5122    4          ELSE GOTO NOT_ALL_MATCH;
     1817     5123    4      END;
     1818     5124    3      ELSE GOTO NOT_ALL_MATCH;
     1819     5125    3   END;
     1820     5126    3      DO NEVER;
     1821     5127    3   NOT_ALL_MATCH: MMVEC = VECTOR(MMBUF);
     1822     5128    3                  MMVEC.BOUND = POFFC(MM$,ADDR(MMBUF)) - 1;
     1823     5129    3                  IO_MASK = IOERR_TBL.EXTST;
     1824     5130    3                  MODEL_CHAR = IOERR_TBL.MODEL;
     1825     5131    3                  IF IOERR_TBL.MODEL = 'MTU0400' OR IOERR_TBL.MODEL = 'MTU0500'
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:54   
     1826     5132    3                  THEN OTHER_IOERR_TBL.TRACK = '7';
     1827     5133    3                  ELSE IF IOERR_TBL.MODEL = 'MTU0610' OR IOERR_TBL.MODEL = 'MTU0630' OR
              5133                           IOERR_TBL.MODEL = 'MTU8200'
     1828     5134    3                  THEN OTHER_IOERR_TBL.TRACK = '9';
     1829     5135    4                  DO I = CTL.NHDR + 1 TO CTL.NFMT + CTL.NHDR;
     1830     5136    4                    IF MODEL_CHAR = 'MTU' AND IO_MASK1 THEN
     1831     5137    4                    CALL THW$WRITE(CTL.FMT(I),VECTOR(IOERR_TBL),VECTOR(OTHER_IOERR_TBL)
              5137                             ,MMVEC);
     1832     5138    4                    ELSE IF MODEL_CHAR = 'MTU' THEN
     1833     5139    4                    CALL THW$WRITE(NO_XSTAT_FMT,VECTOR(IOERR_TBL),VECTOR(
              5139                             OTHER_IOERR_TBL),MMVEC);
     1834     5140    4                    ELSE CALL THW$WRITE(NON_TAPE_FMT,VECTOR(IOERR_TBL),VECTOR(
              5140                             OTHER_IOERR_TBL),MMVEC);
     1835     5141    5                    IF IO_MASK1 THEN DO;
     1836     5142    6                       IF TRACK_NINE THEN DO;
     1837     5143    7                          DO X = 0 TO 8;
     1838     5144    8                             IF NINE_TRACK_RDF(X) > 0 THEN DO;
     1839     5145    8                             CALL BINCHAR(NINE_TRACK_BLNK(X),NINE_TRACK_RDF(X));
     1840     5146    8                             CALL EDITCHAR(NINE_TRACK_BLNK(X), , ,NO_LEADING_ZEROS,
              5146                                      NINE_TRACK_BLNK(X));
     1841     5147    8                             END;  /* if nine_track_rdf(x) > 0 */
     1842     5148    7                          END;
     1843     5149    6                          CALL THW$WRITE(NINE_TRK_FMT,VECTOR(NINE_TRACK_BLNK));
     1844     5150    6                       END;  /* if track_nine */
     1845     5151    5                    END;  /* if io_mask1 */
     1846     5152    4                  END;   /* do i = ctl.nhdr+1 to ctl.nfmt+ctl.nhdr */
     1847     5153    4         IF CTL.SPECIAL THEN DO;
     1848     5154    5            IF NUM_XSTATUS > 0 AND MODEL_CHAR = 'MTU' THEN DO;/* if stats bits*/
     1849     5155    5               CALL THW$WRITE(EXTENDED_FMT);  /* write extended stats hdr */
     1850     5156    6               DO I = 0 TO NUM_XSTATUS-1;
     1851     5157    6                   CALL THW$WRITE(STATUS_FMT,VECTOR(XSTAT_TBL.COUNT(I)),VECTOR(
              5157                            XSTAT_TBL.TEXT(I)));
     1852     5158    6               END; /*  do i = 0 to num_xstatus */
     1853     5159    5            END; /* if num_xstatus > 0 */
     1854     5160    4         END; /* if ctl.special */
     1855     5161    3         IF TH_EOF_FLG THEN RETURN;
     1856     5162    3         CALL INIT_TABLES;  /* call procedure to initialize tables */
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:55   
     1857     5163    3         IF EL$IOERR.DEVNM ~= IOERR_TBL.DEVNM THEN
     1858     5164    3              CALL THW$WRITE(COMPONENT_FMT,INFO);
     1859     5165    3            IOERR_TBL = EL$IOERR;  /* save new data record */
     1860     5166    3            OTHER_IOERR_TBL.COUNT = OTHER_IOERR_TBL.COUNT + 1;
     1861     5167    3      END;  /* do never */
     1862     5168    2   FIND_STATUS_ETC: TEMP_STATUS = EL$IOERR.STATUS;
     1863     5169    3         IF TEMP_STATUS1.MAJOR_STATUS = '101111'B THEN DO;
     1864     5170    3            TEMP_STATUS1.XX = TEMP_STATUS1.FAULT_CODE;
     1865     5171    3            TEMP_STATUS1.YY = TEMP_STATUS1.CHANNEL;
     1866     5172    3            EL$IOERR.STATUS = TEMP_STATUS;
     1867     5173    3         END;
     1868     5174    2         CALL THF$STATUS(EL$IOERR,MAJBUF,MAJCNT,MINBUF,MINCNT) ALTRET(SORRY_NO_STATS);
     1869     5175    2         CALL THF$ADD_TEXTC(MM$,MAJBUF,MAJCNT);
     1870     5176    2         CALL THF$ADD_TEXTC(MM$,MINBUF,MINCNT);
     1871     5177
     1872     5178    3      DO NEVER;
     1873     5179    3   SORRY_NO_STATS: CALL THF$ADD_TEXTC(MM$,'***',3);
     1874     5180    3                   CALL THF$ADD_TEXTC(MM$,'***',3);
     1875     5181    3                   MMVEC = VECTOR(MMBUF);
     1876     5182    3                   MMVEC.BOUND = POFFC(MM$,ADDR(MMBUF)) - 1;
     1877     5183    3      END;  /* do never */
     1878     5184
     1879     5185    2      NXST = 0;
     1880     5186    2      DEV_FLAG = %FALSE;
     1881     5187    3      DO I = 0 TO NUMMODELS;
     1882     5188    4         IF EL$IOERR.MODEL = X_DEV_TYPE.DEV(I) THEN DO;
     1883     5189    4            IO_MASK = EL$IOERR.EXTST;
     1884     5190    4            IF IO_MASK1 THEN;
     1885     5191    4            ELSE GOTO NO_INT;
     1886     5192    4              IF EL$IOERR.MODEL = 'MTU0610' AND IO_MASK1(53) AND IO_MASK1(54)
     1887     5193    4              THEN I = I + 1;
     1888     5194    4              IF EL$IOERR.MODEL = 'MTU0400' THEN I = I + 1;
     1889     5195    4              IF EL$IOERR.MODEL = 'MTU8200'
     1890     5196    4              THEN FIPS_TAPE = %TRUE;
     1891     5197    4            DEV$ = X_DEV_TYPE.SUB$(I);
     1892     5198    4            DEV_FLAG = %TRUE;
     1893     5199    4            J = X_DEV_TYPE.COUNT(I);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:56   
     1894     5200    4            GOTO FOUND_XSTATS;
     1895     5201    4         END;
     1896     5202    3      END;   /* do i = 0 to 19 */
     1897     5203    2      GOTO NO_INT;
     1898     5204    3   FOUND_XSTATS:   IF DEV_FLAG THEN DO;
     1899     5205    3        IO_MASK = EL$IOERR.EXTST;
     1900     5206    3        MODEL_CHAR = EL$IOERR.MODEL;
     1901     5207    4          DO I = 0 TO J; /* go through device's text tables */
     1902     5208    4            IF (((MODEL_CHAR = 'MTU')AND NOT FIPS_TAPE AND
     1903     5209    4               (DEVTBL.CODE(I) = 16 OR DEVTBL.CODE(I) = 20
     1904     5210    4                 OR DEVTBL.CODE(I) = 27 OR DEVTBL.CODE(I) = 35))
     1905     5211    4               OR (EL$IOERR.MODEL = 'MTU0400' AND DEVTBL.CODE(I) = 96))
     1906     5212    5            THEN DO;
     1907     5213    6              DO CASE(DEVTBL.CODE(I));
     1908     5214    6                 CASE (16);
     1909     5215    6                    LENN = 3;
     1910     5216    6                 CASE (20);
     1911     5217    6                    LENN = 4;
     1912     5218    6                 CASE (27);
     1913     5219    6                    LENN = 5;
     1914     5220    6                 CASE (35);
     1915     5221    6                    LENN = 5;
     1916     5222    6                 CASE (96);
     1917     5223    6                    LENN = 4;
     1918     5224    6              END;  /* do case */
     1919     5225    6              DO II = 0 TO LENN -1;
     1920     5226    6                IF IO_MASK1(DEVTBL.CODE(I) + II)
     1921     5227    6                   THEN SP_BIT(II) = '1';
     1922     5228    6                   ELSE SP_BIT(II) = '0';
     1923     5229    6              END;  /* do II */
     1924     5230    6              DO II = 0 TO 4;
     1925     5231    6                IF DEVTBL.CODE(I) = SP_CASES.BYTEN(II)
     1926     5232    7                THEN DO;
     1927     5233    7                   SPC$ = SP_CASES.SUB$(II);
     1928     5234    7                   JJ = SP_CASES.COUNT(II);
     1929     5235    7                   GOTO FOUND_SP;
     1930     5236    7                END;  /* if devtbl.code(i) = sp_cases.byten(ii) */
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:57   
     1931     5237    6              END; /* do II = 0 to 4 */
     1932     5238    5   FOUND_SP:
     1933     5239    6              DO II = 0 TO JJ;
     1934     5240    6                IF SP_CHAR = SPTBL.CODE(II)
     1935     5241    7                THEN DO;
     1936     5242    7                    XST_TEXT = SPTBL.TEXT(II);
     1937     5243    7                    XST_CNT = SPTBL.COUNT(II);
     1938     5244    7                    GOTO CONT_NEXT_I;
     1939     5245    7                END;   /* if sp_char = sptbl.code(ii) */
     1940     5246    6              END;  /* do ii = 0 to jj */
     1941     5247    5            END; /* if model_char='MTU'... */
     1942     5248    4            ELSE IF FIPS_TAPE AND ((DEVTBL.CODE(I)=29)OR(DEVTBL.CODE(I)=53)OR(DEVTBL.
              5248                     CODE(I)=176))
     1943     5249    5            THEN DO CASE(DEVTBL.CODE(I));
     1944     5250    5                    CASE(29);
     1945     5251    5                      CALL FIND_DEN_MODE;
     1946     5252    5                      GOTO CONT_NEXT_I;
     1947     5253    5                    CASE(53);
     1948     5254    5                      IF IO_MASK1(DEVTBL.CODE(I))AND
     1949     5255    5                         IO_MASK1(DEVTBL.CODE(I+1))
     1950     5256    6                      THEN DO;
     1951     5257    6                         XST_TEXT = 'DEV SPEED: 200 IPS';
     1952     5258    6                         GOTO CONT_NEXT_I;
     1953     5259    6                      END;
     1954     5260    5                    CASE(176);
     1955     5261    5                      CALL FIND_FAULT_CODE;
     1956     5262    5                      GOTO CONT_NEXT_I;
     1957     5263    5                 END;  /* do case */
     1958     5264    5            ELSE DO;
     1959     5265    6              IF IO_MASK1(DEVTBL.CODE(I)) THEN DO;
     1960     5266    6                 XST_TEXT = DEVTBL.TEXT(I);
     1961     5267    6                 XST_CNT = DEVTBL.COUNT(I);
     1962     5268    6   CONT_NEXT_I: IF FIPS_TAPE
     1963     5269    6                THEN CALL FIND_NINE_TRACKS; /* mtu8200s are always 9 trks */
     1964     5270    7                ELSE IF MODEL_CHAR = 'MTU' THEN DO;
     1965     5271    7                  IF IO_MASK1(16) THEN CALL FIND_TRACKS; /* if nrzi mode */
     1966     5272    7                  ELSE CALL FIND_NINE_TRACKS;  /* else pe, or gcr mode */
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:58   
     1967     5273    7                END; /*  if model_char='mtu' */
     1968     5274    6                CALL CHECK_MODEL_CODES;  /* checking current bit */
     1969     5275    7                 IF ALL_MATCH THEN DO;  /* if all data  match */
     1970     5276    7                    X = 0;
     1971     5277    8                    DO WHILE X <= J AND NOT FOUND_ST;
     1972     5278    8                       IF XST_TEXT = XSTAT_TBL.TEXT(X)
     1973     5279    9                       THEN DO; XSTAT_TBL.COUNT(X) = XSTAT_TBL.COUNT(X) + 1;
     1974     5280    9                                FOUND_ST = %TRUE;
     1975     5281    9                       END;
     1976     5282    8                       ELSE X = X + 1;
     1977     5283    8                    END;  /* do while */
     1978     5284    7                    X = 0;
     1979     5285    7                    IF MODEL_CHAR = 'MTU' AND (I = 16 OR DEVTBL.CODE(I) = 27)
     1980     5286    7                    THEN;
     1981     5287    7                    ELSE IF FIPS_TAPE AND (DEVTBL.CODE(I)=29) OR (DEVTBL.CODE(I)=53)
              5287                             THEN;
     1982     5288    7                    ELSE
     1983     5289    8                     DO WHILE NOT FOUND_ST AND X <= J;
     1984     5290    9                       IF XSTAT_TBL.TEXT(X) = ' ' THEN DO;
     1985     5291    9                          XSTAT_TBL.TEXT(X) = XST_TEXT;
     1986     5292    9                          XSTAT_TBL.COUNT(X) = XSTAT_TBL.COUNT(X) + 1;
     1987     5293    9                          NUM_XSTATUS = NUM_XSTATUS + 1;
     1988     5294    9                          FOUND_ST = %TRUE;
     1989     5295    9                       END;
     1990     5296    8                       ELSE X = X + 1;
     1991     5297    8                     END;  /* do while */
     1992     5298    7                  END;  /* if all_match */
     1993     5299    7                  ELSE DO;  /* if not all_match */
     1994     5300    7                   IF FIPS_TAPE AND (DEVTBL.CODE(I)=29) THEN
     1995     5301    7                     OTHER_IOERR_TBL.DENSITY = XST_TEXT;
     1996     5302    7                   ELSE IF FIPS_TAPE AND (DEVTBL.CODE(I)=53) THEN
     1997     5303    7                     OTHER_IOERR_TBL.SPEED = XST_TEXT;
     1998     5304    7                   ELSE IF I= 16 AND MODEL_CHAR = 'MTU' THEN
     1999     5305    7                     OTHER_IOERR_TBL.DENSITY = XST_TEXT;
     2000     5306    7                   ELSE IF DEVTBL.CODE(I) = 27 AND MODEL_CHAR = 'MTU' THEN
     2001     5307    7                     OTHER_IOERR_TBL.SPEED = XST_TEXT;
     2002     5308    8                   ELSE IF NOT FOUND_ST THEN DO;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:59   
     2003     5309    8                      XSTAT_TBL.TEXT(NUM_XSTATUS) = XST_TEXT; /* save status */
     2004     5310    8                      XSTAT_TBL.COUNT(NUM_XSTATUS) = XSTAT_TBL.COUNT(NUM_XSTATUS) + 1;
     2005     5311    8                      NUM_XSTATUS = NUM_XSTATUS + 1;
     2006     5312    8                   END; /* if not found_st  */
     2007     5313    7                  END; /* else do */
     2008     5314    6                 NXST = NXST + 1;
     2009     5315    6              END;  /* if io_mask1(devtbl.code(I)) */
     2010     5316    5            END;  /* else do */
     2011     5317    4          END;   /* do i = 0 to j */
     2012     5318    3   NO_INT:MODEL_CHAR = EL$IOERR.MODEL;
     2013     5319    4          IF NOT ALL_MATCH AND MODEL_CHAR = 'MTU' THEN DO;
     2014     5320    5             DO I = 0 TO NUMMODELS;  /* go through device command table */
     2015     5321    6                IF EL$IOERR.MODEL = DEVICE_CMND.DEV(I) THEN DO; /* if model is found */
     2016     5322    6                   DEV_OP$ = DEVICE_CMND.SUB$(I);  /* get start of model table */
     2017     5323    6                   J = DEVICE_CMND.COUNT(I);  /* get size of model table */
     2018     5324    6                END; /* if el$ioerr.model = device_cmnd.dev(i) */
     2019     5325    5             END; /* do i = 0 to 19 */
     2020     5326    5             DO I = 0 TO J;  /* go through model table */
     2021     5327    5                IF NEW_OP_RDF(0) = DEV_OP_TBL.CODE(I) /* if new operation found */
     2022     5328    5                THEN
     2023     5329    5                    OTHER_IOERR_TBL.OPERATION = DEV_OP_TBL.TEXT(I);
              5329                             /* store new operation */
     2024     5330    5             END; /* do i = 0 to j */
     2025     5331    4          END; /* if not_all_match and model_char = 'mtu' */
     2026     5332    3          IF TH_FIRST_TIME THEN TH_FIRST_TIME = %FALSE;
     2027     5333    3       END;  /* if dev_flag */
     2028     5334    2   END THF$IOERR;
     2029     5335        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:60   
     2030     5336        /*  LOOK FOR TRACKS IN ERR IF NRZI MODE */
     2031     5337        /**/
     2032     5338    1   FIND_TRACKS: PROC;
     2033     5339        /**/
     2034     5340    3   IF EL$IOERR.MODEL = 'MTU0610' OR EL$IOERR.MODEL = 'MTU0630' THEN DO;
     2035     5341    4     IF IO_MASK1(9) THEN DO;   /* if write mode for 9 track tapes */
     2036     5342    5       DO CASE(DEVTBL.CODE(I));
     2037     5343    5          CASE(144);
     2038     5344    5            NINE_TRACK_TBL.SEVEN = NINE_TRACK_TBL.SEVEN + 1;
     2039     5345    5          CASE(145);
     2040     5346    5            NINE_TRACK_TBL.SIX = NINE_TRACK_TBL.SIX + 1;
     2041     5347    5          CASE(146);
     2042     5348    5            NINE_TRACK_TBL.FIVE = NINE_TRACK_TBL.FIVE + 1;
     2043     5349    5          CASE(147);
     2044     5350    5            NINE_TRACK_TBL.THREE = NINE_TRACK_TBL.THREE + 1;
     2045     5351    5          CASE(148);
     2046     5352    5            NINE_TRACK_TBL.NINE = NINE_TRACK_TBL.NINE + 1;
     2047     5353    5          CASE(149);
     2048     5354    5            NINE_TRACK_TBL.ONE = NINE_TRACK_TBL.ONE + 1;
     2049     5355    5          CASE(150);
     2050     5356    5            NINE_TRACK_TBL.EIGHT = NINE_TRACK_TBL.EIGHT + 1;
     2051     5357    5          CASE(151);
     2052     5358    5            NINE_TRACK_TBL.TWO = NINE_TRACK_TBL.TWO + 1;
     2053     5359    5          CASE(137);
     2054     5360    5            NINE_TRACK_TBL.FOUR = NINE_TRACK_TBL.FOUR + 1;
     2055     5361    5       END;  /* do case */
     2056     5362    5       DO X = 0 TO 8;
     2057     5363    5          IF NINE_TRACK_RDF(X) > 0 THEN TRACK_NINE = %TRUE;
     2058     5364    5       END;
     2059     5365    4     END;  /* if write mode */
     2060     5366    3   END; /* if 9 track tapes */
     2061     5367    2   END FIND_TRACKS;
     2062     5368        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:61   
     2063     5369        /*    FIND DATA/TRACK IN ERR FOR NINE TRACK TAPES */
     2064     5370        /**/
     2065     5371    1   FIND_NINE_TRACKS: PROC;
     2066     5372        /**/
     2067     5373    2      IF EL$IOERR.MODEL = 'MTU8200'
     2068     5374    3      THEN DO CASE(DEVTBL.CODE(I));
     2069     5375    3              CASE(16);
     2070     5376    3                 NINE_TRACK_TBL.SEVEN = NINE_TRACK_TBL.SEVEN + 1;
     2071     5377    3              CASE(17);
     2072     5378    3                 NINE_TRACK_TBL.SIX = NINE_TRACK_TBL.SIX + 1;
     2073     5379    3              CASE(18);
     2074     5380    3                 NINE_TRACK_TBL.FIVE = NINE_TRACK_TBL.FIVE + 1;
     2075     5381    3              CASE(19);
     2076     5382    3                 NINE_TRACK_TBL.THREE = NINE_TRACK_TBL.THREE + 1;
     2077     5383    3              CASE(20);
     2078     5384    3                 NINE_TRACK_TBL.NINE = NINE_TRACK_TBL.NINE + 1;
     2079     5385    3              CASE(21);
     2080     5386    3                 NINE_TRACK_TBL.ONE = NINE_TRACK_TBL.ONE + 1;
     2081     5387    3              CASE(22);
     2082     5388    3                 NINE_TRACK_TBL.EIGHT = NINE_TRACK_TBL.EIGHT + 1;
     2083     5389    3              CASE(23);
     2084     5390    3                 NINE_TRACK_TBL.TWO = NINE_TRACK_TBL.TWO + 1;
     2085     5391    3              CASE(24);
     2086     5392    3                 NINE_TRACK_TBL.FOUR = NINE_TRACK_TBL.FOUR +1;
     2087     5393    3           END;
     2088     5394    3      ELSE DO CASE(DEVTBL.CODE(I));
     2089     5395    3         CASE(128);
     2090     5396    3           NINE_TRACK_TBL.SEVEN = NINE_TRACK_TBL.SEVEN + 1;
     2091     5397    3         CASE(129);
     2092     5398    3           NINE_TRACK_TBL.SIX = NINE_TRACK_TBL.SIX + 1;
     2093     5399    3         CASE(130);
     2094     5400    3           NINE_TRACK_TBL.FIVE = NINE_TRACK_TBL.FIVE + 1;
     2095     5401    3         CASE(131);
     2096     5402    3           NINE_TRACK_TBL.THREE = NINE_TRACK_TBL.THREE + 1;
     2097     5403    3         CASE(132);
     2098     5404    3           NINE_TRACK_TBL.NINE = NINE_TRACK_TBL.NINE + 1;
     2099     5405    3         CASE(133);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:62   
     2100     5406    3           NINE_TRACK_TBL.ONE = NINE_TRACK_TBL.ONE + 1;
     2101     5407    3         CASE(134);
     2102     5408    3           NINE_TRACK_TBL.EIGHT = NINE_TRACK_TBL.EIGHT + 1;
     2103     5409    3         CASE(135);
     2104     5410    3           NINE_TRACK_TBL.TWO = NINE_TRACK_TBL.TWO + 1;
     2105     5411    3         CASE(136);
     2106     5412    3           NINE_TRACK_TBL.FOUR = NINE_TRACK_TBL.FOUR + 1;
     2107     5413    3      END;  /*  do case  */
     2108     5414    3      DO X = 0 TO 8;
     2109     5415    3         IF NINE_TRACK_RDF(X) > 0 THEN TRACK_NINE = %TRUE;
     2110     5416    3      END;
     2111     5417    2   END FIND_NINE_TRACKS;
     2112     5418        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:63   
     2113     5419        /**/
     2114     5420        /* PROCEDURE TO CHECK TABLES FOR EXTENDED STATUS BIT MATCH */
     2115     5421        /**/
     2116     5422    1   CHECK_MODEL_CODES: PROC;
     2117     5423        /**/
     2118     5424    2   FOUND_ST = %TRUE;
     2119     5425    2   IF FIPS_TAPE
     2120     5426    3   THEN DO X = 0 TO 26;
     2121     5427    3           IF DEVTBL.CODE(I) = TBL_EIGHTY_TWO.CODE(X)
     2122     5428    4           THEN DO;
     2123     5429    4              FOUND_ST = %FALSE;
     2124     5430    4              GOTO FOUND_CODE;
     2125     5431    4           END;
     2126     5432    3        END; /* do x */
     2127     5433    2   ELSE IF IO_MASK1(16) AND (TRACK_SEVEN OR TRACK_NINE) AND
     2128     5434    2      ((DEVTBL.CODE(I) >= 130 AND DEVTBL.CODE(I) <= 137)
     2129     5435    2     OR(DEVTBL.CODE(I) >= 144 AND DEVTBL.CODE(I) <= 151)) THEN;
     2130     5436    2   ELSE IF TRACK_NINE AND
     2131     5437    2          (DEVTBL.CODE(I) >= 128 AND DEVTBL.CODE(I) <= 136) THEN;
     2132     5438    2   ELSE IF EL$IOERR.MODEL = 'MTU0610' OR EL$IOERR.MODEL = 'MTU0630'
     2133     5439    3   THEN DO;
     2134     5440    4         DO X = 0 TO 9;
     2135     5441    4            IF DEVTBL.CODE(I) = TBL_SIX.CODE(X)
     2136     5442    5            THEN DO;
     2137     5443    5              FOUND_ST = %FALSE;
     2138     5444    5              GOTO FOUND_CODE;
     2139     5445    5            END;
     2140     5446    4         END;  /* do x */
     2141     5447    3         IF EL$IOERR.MODEL = 'MTU0610'
     2142     5448    4         THEN   DO X = 0 TO 9;
     2143     5449    4                  IF DEVTBL.CODE(I) = TBL_SIX_TEN.CODE(X)
     2144     5450    4                  THEN FOUND_ST = %FALSE;
     2145     5451    4                END;
     2146     5452    3         ELSE IF EL$IOERR.MODEL = 'MTU0630'
     2147     5453    4         THEN  DO X = 0 TO 7;
     2148     5454    4                  IF DEVTBL.CODE(I) = TBL_SIX_THIRTY.CODE(X)
     2149     5455    4                  THEN FOUND_ST = %FALSE;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:64   
     2150     5456    4               END; /* do x */
     2151     5457    3   END;  /* if el$ioerr.model = 'mtu0610' or 'mtu0630' */
     2152     5458    2   ELSE FOUND_ST = %FALSE;
     2153     5459    2   FOUND_CODE:;
     2154     5460    2   END CHECK_MODEL_CODES;
     2155     5461        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:65   
     2156     5462        /**/
     2157     5463        /*  PROCEDURE TO INITIALIZE TABLES FOR IOERR DETAIL REPORT */
     2158     5464        /**/
     2159     5465    1   INIT_TABLES: PROC;
     2160     5466    2         NUM_XSTATUS = 0;
     2161     5467    2         TRACK_SEVEN = %FALSE;
     2162     5468    2         TRACK_NINE = %FALSE;
     2163     5469    2         OTHER_IOERR_TBL.COUNT = 0;
     2164     5470    2         OTHER_IOERR_TBL.OPERATION = OPERATION;
     2165     5471    2         OTHER_IOERR_TBL.SPEED = ' ';
     2166     5472    2         OTHER_IOERR_TBL.DENSITY = ' ';
     2167     5473    2         OTHER_IOERR_TBL.TRACK = ' ';
     2168     5474    3         DO I = 0 TO 207;
     2169     5475    3            XSTAT_TBL.TEXT(I) = ' ';
     2170     5476    3            XSTAT_TBL.COUNT(I) = 0;
     2171     5477    3         END;  /* do i = 0 to 207  */
     2172     5478    2         NINE_TRACK_TBL = '0'B;
     2173     5479    2         NINE_TRACK_STRING = ' ';
     2174     5480    2         FIPS_TAPE = %FALSE;
     2175     5481    2   END INIT_TABLES;
     2176     5482        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:66   
     2177     5483        /**/
     2178     5484        /* ROUTINE TO FIND THE DENSITY FOR FIPS TAPES                     */
     2179     5485        /**/
     2180     5486    1   FIND_DEN_MODE: PROC;
     2181     5487        /**/
     2182     5488    2     IF IO_MASK1(DEVTBL.CODE(I))   /* if byte 3, bit 5 is set */
     2183     5489    3     THEN DO;
     2184     5490    3        XST_TEXT = 'CURR DEN: 1600 BPI';   /* its PE mode */
     2185     5491    3        XST_CNT = 18;
     2186     5492    3     END;
     2187     5493    2     ELSE IF IO_MASK1(51)  /* if not PE mode, check byte 6, bit 3 */
     2188     5494    3     THEN DO;
     2189     5495    3        XST_TEXT = 'CURR DEN: 6250 BPI'; /* its GCR mode */
     2190     5496    3        XST_CNT = 18;
     2191     5497    3     END;
     2192     5498    2     ELSE IF NOT IO_MASK1(52)   /* if not GCR, check byte 6, bit 4 */
     2193     5499    3     THEN DO;
     2194     5500    3        XST_TEXT = 'CURR DEN: 200/556/800 BPI'; /* its NRZI mode */
     2195     5501    3        XST_CNT = 25;
     2196     5502    3     END;
     2197     5503    3     IF NOT TH_DETAIL_FLG THEN DO;
     2198     5504    3       CALL THF$ADD_TEXTC(XST$,XST_TEXT,XST_CNT);
     2199     5505    3       NXST = NXST + 1;
     2200     5506    3     END;  /* if not detail */
     2201     5507    2   END FIND_DEN_MODE;
     2202     5508        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:67   
     2203     5509        /**/
     2204     5510        /* ROUTINE TO FIND FORMAT# AND MESSAGE# TO INTERPRET BYTE 7 OF  */
     2205     5511        /* EXTENDED STATUS BITS FOR FIPS TAPES                          */
     2206     5512        /**/
     2207     5513    1   FIND_FORMAT_MSG: PROC;
     2208     5514        /**/
     2209     5515    3     DO II = 0 TO 3;   /* get bits 0-3 of byte 7 for format type */
     2210     5516    3       IF IO_MASK1(DEVTBL.CODE(I) + II)
     2211     5517    3       THEN DP_BIT(II) = '1'B;
     2212     5518    3       ELSE DP_BIT(II) = '0'B;
     2213     5519    3     END;
     2214     5520    3     DO II = 0 TO 8;   /* go through list of formats to find format */
     2215     5521                            /* match in byte 7, bits 0-3                 */
     2216     5522    3       IF (DP_FORMAT = II)AND NOT IO_MASK1(11) /* if format 0       */
     2217     5523    4       THEN DO;                           /* but byte 1, bit 3 = 0  */
     2218     5524    4         DPC$ = ADDR(FORM0_NOTB1_B3);
     2219     5525    4         LENN = 9;
     2220     5526    4         GOTO FOUND_FORMAT;
     2221     5527    4       END;
     2222     5528    3       ELSE IF(DP_FORMAT = II)  /* if format type found in list     */
     2223     5529    4       THEN DO;
     2224     5530    4         DPC$ = FORMAT_TBLS.SUB$(II);
     2225     5531    4         LENN = FORMAT_TBLS.COUNT(II);
     2226     5532    4         GOTO FOUND_FORMAT;
     2227     5533    4       END;
     2228     5534    3     END; /* do ii */
     2229     5535    2     GOTO NEXT_BIT;  /* if not found format match */
     2230     5536    2   FOUND_FORMAT:
     2231     5537    3     DO II = 0 TO 3;  /* for message code, get bits 4-7 of byte 7  */
     2232     5538    3       IF IO_MASK1(DEVTBL.CODE(I) + 3 + II)
     2233     5539    3       THEN DP_BIT(II) = '1'B;
     2234     5540    3       ELSE DP_BIT(II) = '0'B;
     2235     5541    3     END;
     2236     5542    3     DO II = 0 TO LENN; /* go thru the found format tbl for the msg.*/
     2237     5543    3       IF DP_FORM_MSG = DP_FORM_TBL.CODE(II)  /* if msg found in tbl*/
     2238     5544    4       THEN DO;
     2239     5545    4         XST_TEXT = DP_FORM_TBL.TEXT(II);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:68   
     2240     5546    4         XST_CNT = DP_FORM_TBL.COUNT(II);
     2241     5547    4         GOTO NEXT_BIT;
     2242     5548    4       END;  /* if */
     2243     5549    3     END;  /* do ii */
     2244     5550    2   NEXT_BIT:  IF LENN > 20 THEN RETURN; /* if format match not found */
     2245     5551    3              IF NOT TH_DETAIL_FLG THEN DO;
     2246     5552    3                CALL THF$ADD_TEXTC(XST$,XST_TEXT,XST_CNT);
     2247     5553    3                NXST = NXST + 1;
     2248     5554    3              END; /* if not detail */
     2249     5555    2   END FIND_FORMAT_MSG;
     2250     5556        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:69   
     2251     5557        /**/
     2252     5558        /* PROCEDURE TO FIND FAULT CODE */
     2253     5559        /**/
     2254     5560    1   FIND_FAULT_CODE: PROC;
     2255     5561        /**/
     2256     5562    3   DO II = 0 TO 7;
     2257     5563    3      IF IO_MASK1(DEVTBL.CODE(I) + II)
     2258     5564    3      THEN FT_BIT(II) = '1'B;
     2259     5565    3      ELSE FT_BIT(II) = '0'B;
     2260     5566    3   END;
     2261     5567    3   DO II = 0 TO 70;
     2262     5568    3      IF FT_CODE = FAULT_SYMP_TBL.CODE(II)
     2263     5569    4      THEN DO;
     2264     5570    4        XST_TEXT = FAULT_SYMP_TBL.TEXT(II);
     2265     5571    4        XST_CNT = FAULT_SYMP_TBL.COUNT(II);
     2266     5572    4        GOTO FOUND_FAULT_CODE;
     2267     5573    4      END;
     2268     5574    3   END;
     2269     5575    2   FOUND_FAULT_CODE: IF NOT TH_DETAIL_FLG
     2270     5576    3                     THEN DO;
     2271     5577    3                       CALL THF$ADD_TEXTC(XST$,XST_TEXT,XST_CNT);
     2272     5578    3                       NXST = NXST + 1;
     2273     5579    3                     END;
     2274     5580    2   END FIND_FAULT_CODE;
     2275     5581        /* HANDLING OF DETAIL REPORT FORMAT FOR FEPERR */
     2276     5582        /**/
     2277     5583    1   THF$FEPERR: PROC;
     2278     5584        /**/
     2279     5585    2   ALL_MATCH = %FALSE;
     2280     5586    3   IF TH_FIRST_TIME THEN DO;
     2281     5587    3      FEP_COUNT = 0;
     2282     5588    3      TEXTBUF = ' ';
     2283     5589    3      TEXT$ = ADDR(TEXTBUF);
     2284     5590    3      INFO = TH_XSA_BUF_VECTOR;
     2285     5591    3        CALL THW$WRITE(FEP_FMT,INFO);
     2286     5592    3      FEPERR_TBL = EL$FEPERR;
     2287     5593    3      FEP_COUNT = FEP_COUNT + 1;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:70   
     2288     5594    3      TH_FIRST_TIME = %FALSE;
     2289     5595    3      GOTO NEXT_RECORD_PLEASE;
     2290     5596    3   END;  /* if th_first_time */
     2291     5597    2   ELSE IF TH_EOF_FLG THEN GOTO NOT_MATCH_AT_ALL;
     2292     5598    3   ELSE IF NOT TH_FIRST_TIME AND NOT TH_EOF_FLG THEN DO;
     2293     5599    3      TEXT$ = ADDR(TEXTBUF);
     2294     5600    3      INFO = TH_XSA_BUF_VECTOR;
     2295     5601    3     IF EL$FEPERR.STATDATA.NODE = FEPERR_TBL.STATDATA.NODE
     2296     5602    4     THEN DO;
     2297     5603    4       IF EL$FEPERR.STATDATA.TERMID.TERM.CHANNEL = FEPERR_TBL.STATDATA.TERMID.TERM.
              5603                CHANNEL
     2298     5604    5       THEN DO;
     2299     5605    5           IF EL$FEPERR.STATDATA.ERRCODE.FCG = FEPERR_TBL.STATDATA.ERRCODE.FCG
     2300     5606    6           THEN DO;
     2301     5607    6             IF EL$FEPERR.STATDATA.ERRCODE.ERR# = FEPERR_TBL.STATDATA.ERRCODE.ERR#
     2302     5608    7             THEN DO;
     2303     5609    7               IF EL$FEPERR.STATDATA.ERRCODE.SEV = FEPERR_TBL.STATDATA.ERRCODE.SEV
     2304     5610    8               THEN DO;
     2305     5611    8                 FEP_COUNT = FEP_COUNT + 1;
     2306     5612    8                 ALL_MATCH = %TRUE;
     2307     5613    8                 GOTO NEXT_RECORD_PLEASE;
     2308     5614    8               END; /* if errcode.sev equals */
     2309     5615    7               ELSE GOTO NOT_MATCH_AT_ALL;
     2310     5616    7             END; /* if errcode.err# equals */
     2311     5617    6             ELSE GOTO NOT_MATCH_AT_ALL;
     2312     5618    6           END; /* if errcode.fcg equals */
     2313     5619    5           ELSE GOTO NOT_MATCH_AT_ALL;
     2314     5620    5       END; /* if channel number equals */
     2315     5621    4       ELSE GOTO NOT_MATCH_AT_ALL;
     2316     5622    4     END; /* if fep number equals */
     2317     5623    3     ELSE GOTO NOT_MATCH_AT_ALL;
     2318     5624    3   END; /* if not first time and not eof */
     2319     5625    2   NOT_MATCH_AT_ALL:
     2320     5626    2       FEPERR_CODE = FEPERR_TBL.STATDATA.ERRCODE;
     2321     5627    2       CALL ERROR_CODE(FEPERR_CODE);
     2322     5628    2       ERR_MSG = ' ';
     2323     5629    2         CALL M$ERRMSG(ERR_MSGS) ALTRET(NO_MESSAGE);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:71   
     2324     5630    2         I = 0;
     2325     5631    3           DO WHILE(SUBSTR(ERR_MSG,I,1) = ' ');
     2326     5632    3              I = I + 1;
     2327     5633    3           END;  /* do while */
     2328     5634    2         ERR_MSG_T = SUBSTR(ERR_MSG,I,43);
     2329     5635    2       CALL ADD_TEXTC(ERR_MSG_T,43);
     2330     5636    3   DO NEVER;
     2331     5637    3   NO_MESSAGE: CALL ADD_TEXTC('NO ERROR MESSAGE',16);
     2332     5638    3      END; /* do never */
     2333     5639    2      TVEC = VECTOR(TEXTBUF);
     2334     5640    2      TVEC.BOUND = POFFC(TEXT$,ADDR(TEXTBUF)) - 1;
     2335     5641    3        DO I = CTL.NHDR + 1 TO CTL.NFMT + CTL.NHDR;
     2336     5642    3          CALL THW$WRITE(CTL.FMT(I),VECTOR(FEP_COUNT),TVEC);
     2337     5643    3        END; /*  do i */
     2338     5644    2      IF TH_EOF_FLG THEN RETURN;
     2339     5645    2      FEP_COUNT = 0;
     2340     5646    2      TEXTBUF = ' ';
     2341     5647    2      TEXT$ = ADDR(TEXTBUF);
     2342     5648    2      IF EL$FEPERR.STATDATA.NODE ~= FEPERR_TBL.STATDATA.NODE OR
     2343     5649    2         EL$FEPERR.STATDATA.TERMID.TERM.CHANNEL ~= FEPERR_TBL.STATDATA.TERMID.TERM.
              5649                  CHANNEL
     2344     5650    2         THEN CALL THW$WRITE(FEP_FMT,INFO);
     2345     5651    2      FEPERR_TBL = EL$FEPERR;
     2346     5652    2      FEP_COUNT = FEP_COUNT + 1;
     2347     5653    2   NEXT_RECORD_PLEASE: ;
     2348     5654    2   END THF$FEPERR;
     2349     5655        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:72   
     2350     5656        /* HANDLING OF PR54 PRINTERS FOR IOERR RECORDS */
     2351     5657        /**/
     2352     5658    1   EURC_PR54: PROC;
     2353     5659        /**/
     2354     5660    2   IF DEVTBL.CODE(I) = 0 AND NOT IO_MASK1(0)
     2355     5661    2       THEN GOTO EURC_RETURN;
     2356     5662    3   ELSE IF DEVTBL.CODE(I) = 6 THEN DO;  /* BELT TYPE */
     2357     5663    3       PTR_BELT.BYT1 = IO_MASK(0);
     2358     5664    3       PTR_BELT.BYT2 = IO_MASK(1);
     2359     5665    4       DO X = 0 TO 3;         /* GO THRU PR54_BELT_TBL */
     2360     5666    4          IF PR54_BELT.CODE = PR54_BELT_TBL.CODE(X)
     2361     5667    5          THEN DO;
     2362     5668    5             XST_TEXT = PR54_BELT_TBL.TEXT(X);
     2363     5669    5             XST_CNT = PR54_BELT_TBL.COUNT(X);
     2364     5670    5             GOTO FOUND_IT;
     2365     5671    5          END;
     2366     5672    4       END;  /* DO X = 0 TO 3 */
     2367     5673    3       GOTO EURC_RETURN;        /* NOT FOUND */
     2368     5674    3     END;
     2369     5675    2   ELSE IF DEVTBL.CODE(I) = 24 AND NOT IO_MASK1(24)
     2370     5676    3   THEN DO;
     2371     5677    3       XST_TEXT = 'VFC NOT LOADED';  XST_CNT = 14;
     2372     5678    3   END;
     2373     5679    2   ELSE IF DEVTBL.CODE(I) = 25 AND NOT IO_MASK1(25)
     2374     5680    3   THEN DO;
     2375     5681    3       XST_TEXT = 'VFC OUT OF SYNC';  XST_CNT = 15;
     2376     5682    3   END;
     2377     5683    2   ELSE IF DEVTBL.CODE(I) = 16 AND NOT IO_MASK1(16)   /* BELT SPEED */
     2378     5684    3   THEN DO;
     2379     5685    3       XST_TEXT = '900 LPM';   XST_CNT = 7;
     2380     5686    3   END;
     2381     5687    2   ELSE IF DEVTBL.CODE(I) = 17 AND NOT IO_MASK1(17) /* slew speed */
     2382     5688    3   THEN DO;
     2383     5689    3       XST_TEXT = '25 IN/SEC';   XST_CNT = 9;
     2384     5690    3   END;
     2385     5691    2   ELSE IF DEVTBL.CODE(I) = 120 AND NOT IO_MASK1(120) /* line density*/
     2386     5692    3   THEN DO;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:73   
     2387     5693    3       XST_TEXT = '6 LINES/IN';   XST_CNT = 10;
     2388     5694    3   END;
     2389     5695    3   ELSE IF DEVTBL.CODE(I) = 113 THEN DO; /* if its byte 14, bit 1 */
     2390     5696    3       PRNTR_REG = '0'B;
     2391     5697    3       PRNTR_REG = BINBIT(IO_MASK(14),6); /* GET PTR CMD FROM BYTE 14 */
     2392     5698    4     IF IO_MASK1(113) THEN DO; /* if byte 14, bit 1 is set */
     2393     5699    5       DO X = 0 TO 16;   /* go through register command table */
     2394     5700    5         IF PRNTR_REG = REGISTER_TBL.CODE(X)  /* if reg.addr. is found*/
     2395     5701    6         THEN DO;
     2396     5702    6             XST_TEXT = REGISTER_TBL.TEXT(X);
     2397     5703    6             XST_CNT = REGISTER_TBL.COUNT(X);
     2398     5704    6             GOTO FOUND_IT;
     2399     5705    6         END; /* if prntr_reg is in reg cmnd tbl */
     2400     5706    5       END;/* do x */
     2401     5707    4       GOTO EURC_RETURN;             /* CMD NOT FOUND */
     2402     5708    4     END; /* if byte 14,bit1 set */
     2403     5709    4     IF NOT IO_MASK1(113) THEN DO; /* if byte 14,bit 1 not set */
     2404     5710    5       DO X = 0 TO 10;   /* go thru non_register command table */
     2405     5711    5         IF PRNTR_REG = NON_REG_TBL.CODE(X) /* if cmnd is found */
     2406     5712    6         THEN DO;
     2407     5713    6             XST_TEXT = NON_REG_TBL.TEXT(X);
     2408     5714    6             XST_CNT = NON_REG_TBL.COUNT(X);
     2409     5715    6             GOTO FOUND_IT;
     2410     5716    6         END; /* if prntr_reg is in non-reg cmnd tbl */
     2411     5717    5       END; /* do x */
     2412     5718    4       GOTO EURC_RETURN;              /* CMD NOT FOUND */
     2413     5719    4     END; /* if byte 14,bit1 not set */
     2414     5720    3   END; /* if its byte 14, bit 1 */
     2415     5721    3   ELSE IF DEVTBL.CODE(I) = 96 THEN DO; /* if its byte 12 */
     2416     5722    3       PR54_BYTE = '0'B;
     2417     5723    3       PR54_BYTE = BINBIT(IO_MASK(12),9);  /* GET BYTE 12 - CONTROLLER ERR CODE */
     2418     5724    4       DO X = 0 TO 65;  /* go thru controller error table */
     2419     5725    4         IF PR54_BYTE = CTRL_ERR_TBL.CODE(X) /* if ctrl err is found*/
     2420     5726    5         THEN DO;
     2421     5727    5             XST_TEXT = CTRL_ERR_TBL.TEXT(X);
     2422     5728    5             XST_CNT = CTRL_ERR_TBL.COUNT(X);
     2423     5729    5             GOTO FOUND_IT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:74   
     2424     5730    5         END; /* if ctrl err is in tbl */
     2425     5731    4       END; /* do x */
     2426     5732    3       GOTO EURC_RETURN;              /* ERR CODE NOT FOUND */
     2427     5733    3   END;  /* if byte 12 */
     2428     5734    3   ELSE IF DEVTBL.CODE(I) = 104 THEN DO; /* if its byte 13 */
     2429     5735    3       PR54_BYTE = '0'B;
     2430     5736    3       PR54_BYTE = BINBIT(IO_MASK(13),9); /* GET BYTE 13 - PTR STATUS REGISTER */
     2431     5737    4       DO X = 0 TO 32; /* go thru prntr status tbl */
     2432     5738    4         IF PR54_BYTE = LED_TBL.CODE(X) /* if printer status found */
     2433     5739    5         THEN DO;
     2434     5740    5             XST_TEXT = LED_TBL.TEXT(X);
     2435     5741    5             XST_CNT = LED_TBL.COUNT(X);
     2436     5742    5             GOTO FOUND_IT;
     2437     5743    5         END; /* if prntr status is found */
     2438     5744    4       END; /* do x */
     2439     5745    3       GOTO EURC_RETURN;             /* PTR STATUS NOT FOUND */
     2440     5746    3   END; /* if byte 13 */
     2441     5747    3   ELSE DO;
     2442     5748    3       XST_TEXT = DEVTBL.TEXT(I);
     2443     5749    3       XST_CNT = DEVTBL.COUNT(I);
     2444     5750    3   END;
     2445     5751    2   FOUND_IT: CALL THF$ADD_TEXTC(XST$,XST_TEXT,XST_CNT);
     2446     5752    2             NXST = NXST + 1;
     2447     5753    2   EURC_RETURN:
     2448     5754    2       RETURN;
     2449     5755    2   END EURC_PR54;
     2450     5756        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:75   
     2451     5757        /* HANDLING OF PR71 PRINTERS FOR IOERR RECORDS */
     2452     5758        /**/
     2453     5759    1   MPC_PR71: PROC;
     2454     5760        /**/
     2455     5761    3   IF DEVTBL.CODE(I) = 6 THEN DO;                  /* BELT TYPE */
     2456     5762    3       PTR_BELT.BYT1 = IO_MASK(0);
     2457     5763    3       PTR_BELT.BYT2 = IO_MASK(1);
     2458     5764    4       DO X = 0 TO 3;                             /* GO THRU BELT TABLE */
     2459     5765    4          IF PR71_BELT.CODE = PR71_BELT_TBL.CODE(X)
     2460     5766    5             THEN DO;
     2461     5767    5               XST_TEXT = PR71_BELT_TBL.TEXT(X);
     2462     5768    5               XST_CNT = PR71_BELT_TBL.COUNT(X);
     2463     5769    5               GOTO FOUND_ENTRY;
     2464     5770    5             END;
     2465     5771    4       END;   /* DO X = 0 TO 3 */
     2466     5772    3       GOTO MPC_RETURN;                           /* NOT FOUND */
     2467     5773    3   END;
     2468     5774    3   ELSE IF DEVTBL.CODE(I) = 88 THEN DO;           /* ECHO CHK REGISTER */
     2469     5775    3       PR71_BUF.STRING = ' ';
     2470     5776    3       PR71_REG1.BYT1 = IO_MASK(11);
     2471     5777    3       PR71_REG1.BYT2 = IO_MASK(12);
     2472     5778    3       PR71_VECTOR_TBL = VECTOR(PR71_REG1);
     2473     5779    3       FDS_PR71.FMT_ = VECTOR(PR71FMT1);
     2474     5780    3       CALL X$FORMAT(FDS_PR71);
     2475     5781    3       XST_TEXT = PR71_BUF.STRING;  XST_CNT = FDS_PR71.BUFSIZE -1;
     2476     5782    3       GOTO FOUND_ENTRY;
     2477     5783    3   END;
     2478     5784    3   ELSE IF DEVTBL.CODE(I) = 104 THEN DO;          /* SHORT CIRCUIT REGISTER */
     2479     5785    3       PR71_BUF.STRING = ' ';
     2480     5786    3       PR71_REG1.BYT1 =  IO_MASK(13);
     2481     5787    3       PR71_REG1.BYT2 =  IO_MASK(14);
     2482     5788    3       PR71_VECTOR_TBL = VECTOR(PR71_REG1);
     2483     5789    3       FDS_PR71.FMT_ = VECTOR(PR71FMT3);
     2484     5790    3       CALL X$FORMAT(FDS_PR71);
     2485     5791    3       XST_TEXT = PR71_BUF.STRING;   XST_CNT = FDS_PR71.BUFSIZE -1;
     2486     5792    3       GOTO FOUND_ENTRY;
     2487     5793    3   END;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:76   
     2488     5794    3   ELSE DO;
     2489     5795    3       IF IO_MASK1(DEVTBL.CODE(I))
     2490     5796    4          THEN DO;
     2491     5797    4            XST_TEXT = DEVTBL.TEXT(I);  XST_CNT = DEVTBL.COUNT(I);
     2492     5798    4          END;
     2493     5799    3          ELSE GOTO MPC_RETURN;
     2494     5800    3   END;
     2495     5801    2   FOUND_ENTRY:
     2496     5802    2       CALL THF$ADD_TEXTC(XST$, XST_TEXT, XST_CNT);
     2497     5803    2       NXST = NXST +1;
     2498     5804    2   MPC_RETURN:
     2499     5805    2       RETURN;
     2500     5806    2   END MPC_PR71;
     2501     5807        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:77   
     2502     5808        /* HANDLING OF MDSII DISKS FOR IOERR RECORDS (EXTENDED STATUS)  */
     2503     5809        /**/
     2504     5810    1   IPC_MDSII: PROC;
     2505     5811        /**/
     2506     5812    2      MDS_TEXT = ' ';
     2507     5813    2      MDS_TEXT = DEVTBL.TEXT(I);
     2508     5814    2      XST_CNT = DEVTBL.COUNT(I);
     2509     5815    3      IF DEVTBL.CODE(I) =0 THEN DO;             /* BYTE 0 - PATH COMPONENT */
     2510     5816    3         PARAMETER_ID = 0;
     2511     5817    3         PARAMETER_LENGTH = 0;
     2512     5818    3         OCTET_NUM = 0;
     2513     5819    4         DO X = 0 TO 10;
     2514     5820    4            XSTATUS_BYTE(X) = IO_MASK(X);
     2515     5821    4         END;
     2516     5822    4         DO X = 0 TO 25;
     2517     5823    4            OCTET_BYTE(X) = IO_MASK(X + 10);
     2518     5824    4         END;
     2519     5825    3         IF XSTATUS_BYTE(0) = 1 THEN
     2520     5826    3            MDS_TEXT = DEVTBL.TEXT(I);
     2521     5827    3         ELSE IF XSTATUS_BYTE(0) = 4 THEN
     2522     5828    3            MDS_TEXT = 'PATH COMPONENT = IPC-IPI';
     2523     5829    3         ELSE IF (XSTATUS_BYTE(0) = 2 OR XSTATUS_BYTE(0) = 3) THEN
     2524     5830    3            MDS_TEXT = 'PATH COMPONENT = DEVICE ';
     2525     5831    3         ELSE
     2526     5832    3            MDS_TEXT = 'UNKNOWN PATH COMPONENT  ';
     2527     5833    3         GOTO FOUND_OCTET;
     2528     5834    3      END;
     2529     5835    3      ELSE IF DEVTBL.CODE(I) = 1 THEN DO;       /* BYTE 1 - REFERENCE # */
     2530     5836    3         CALL INSERT(MDS_TEXT,19,2,BINHEX(XSTATUS_NIBBLE(2)), BINHEX(XSTATUS_NIBBLE(3))
              5836                  );
     2531     5837    3         GOTO FOUND_OCTET;
     2532     5838    3      END;
     2533     5839    3      ELSE IF DEVTBL.CODE(I) = 2 THEN DO;       /* BYTE 2 - TRANSACTION # */
     2534     5840    3         CALL INSERT(MDS_TEXT,25,2,BINHEX(XSTATUS_NIBBLE(4)), BINHEX(XSTATUS_NIBBLE(5))
              5840                  );
     2535     5841    3         GOTO FOUND_OCTET;
     2536     5842    3      END;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:78   
     2537     5843    3      ELSE IF DEVTBL.CODE(I) = 3 THEN DO;       /* BYTE3 - OP CODE */
     2538     5844    4         DO X = 0 TO 41;
     2539     5845    4            IF XSTATUS_BYTE(3) = MDS_OP_CODE_TBL.CODE(X)
     2540     5846    5               THEN DO;
     2541     5847    5                  XST_CNT = XST_CNT + MDS_OP_CODE_TBL.COUNT(X);
     2542     5848    5                  CALL INSERT(MDS_TEXT, 17, MDS_OP_CODE_TBL.COUNT(X),
     2543     5849    5                              MDS_OP_CODE_TBL.TEXT(X));
     2544     5850    5                  GOTO FOUND_OCTET;
     2545     5851    5               END;
     2546     5852    4         END;  /* DO X = 0 TO 41 */
     2547     5853    4         IF XSTATUS_BYTE(3) = %HEX_86 THEN DO;
     2548     5854    4            CALL INSERT(MDS_TEXT, 0, 15, 'ASYNC INTERRUPT');
     2549     5855    4            XST_CNT = 15;
     2550     5856    4            GOTO FOUND_OCTET;
     2551     5857    4         END;
     2552     5858    4         ELSE DO;
     2553     5859    4            CALL INSERT(MDS_TEXT, 0, 35, MDS_OP_CODE_TBL.TEXT(42));
     2554     5860    4            XST_CNT = MDS_OP_CODE_TBL.COUNT(42);
     2555     5861    4            GOTO FOUND_OCTET;
     2556     5862    4         END;
     2557     5863    3      END;
     2558     5864    3      ELSE IF DEVTBL.CODE(I) = 4 THEN DO;       /* BYTE 4 - CMD MODIFIERS */
     2559     5865    3         CALL INSERT(MDS_TEXT, 16, 1, BINHEX(XSTATUS_NIBBLE(8)));
     2560     5866    3         CALL INSERT(MDS_TEXT, 33, 1, BINHEX(XSTATUS_NIBBLE(9)));
     2561     5867    3         GOTO FOUND_OCTET;
     2562     5868    3      END;
     2563     5869    3      ELSE IF DEVTBL.CODE(I) = 5 THEN DO;       /* BYTE 5 - CM # */
     2564     5870    3         CALL INSERT(MDS_TEXT, 12, 2, BINHEX(XSTATUS_NIBBLE(10)), BINHEX(XSTATUS_NIBBLE
              5870                  (11)));
     2565     5871    3         GOTO FOUND_OCTET;
     2566     5872    3      END;
     2567     5873    3      ELSE IF DEVTBL.CODE(I) = 6 THEN DO;       /* BYTE 6 - DEV # */
     2568     5874    3         CALL INSERT(MDS_TEXT, 16, 2, BINHEX(XSTATUS_NIBBLE(12)), BINHEX(XSTATUS_NIBBLE
              5874                  (13)));
     2569     5875    3         GOTO FOUND_OCTET;
     2570     5876    3      END;
     2571     5877    3      ELSE IF DEVTBL.CODE(I) = 7 THEN DO;       /* BYTE 7 - IPI STATUS */
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:79   
     2572     5878    3         CALL INSERT(MDS_TEXT, 28, 3, BINHEX(XSTATUS_NIBBLE(14)), BINHEX(XSTATUS_NIBBLE
              5878                  (15)),
     2573     5879    3                     BINHEX(XSTATUS_NIBBLE(17)));
     2574     5880    3         GOTO FOUND_OCTET;
     2575     5881    3      END;
     2576     5882    2      ELSE IF (DEVTBL.CODE(I) >= 56 AND IO_MASK1(DEVTBL.CODE(I))) THEN
     2577     5883    3         DO;
     2578     5884    3           MDS_TEXT = ' ';
     2579     5885    3           CALL INSERT(MDS_TEXT,15,DEVTBL.COUNT(I),DEVTBL.TEXT(I));
     2580     5886    3           XST_CNT = DEVTBL.COUNT(I) + 15;
     2581     5887    3           GOTO FOUND_OCTET;
     2582     5888    3         END;
     2583     5889    3      ELSE IF DEVTBL.CODE(I) = 8 THEN DO;       /* BYTE 8 - STATUS TYPE */
     2584     5890    3         CALL INSERT(MDS_TEXT, 29, 1, BINHEX(XSTATUS_NIBBLE(16)));
     2585     5891    4         DO CASE(XSTATUS_NIBBLE(16));                /* STATUS TYPE */
     2586     5892    4            CASE(%STD_COMPLETION);
     2587     5893    4               CALL INSERT(MDS_TEXT, 30, 35, ' -- STD COMMAND COMPLETION RESPONSE');
     2588     5894    4               XST_CNT = XST_CNT +35;
     2589     5895    4            CASE(%EXT_COMPLETION);
     2590     5896    4               CALL INSERT(MDS_TEXT, 30, 36, ' -- EXTENDED CMD COMPLETION RESPONSE');
     2591     5897    4               XST_CNT = XST_CNT + 36;
     2592     5898    4            CASE(%ASYNC_COMPLETION);
     2593     5899    4               CALL INSERT(MDS_TEXT, 30, 36, ' -- ASYNCHRONOUS COMPLETION RESPONSE');
     2594     5900    4               XST_CNT = XST_CNT + 36;
     2595     5901    4            CASE(%TRANSFER_NOTF);
     2596     5902    4               CALL INSERT(MDS_TEXT, 30, 25, ' -- TRANSFER NOTIFICATION');
     2597     5903    4               XST_CNT = XST_CNT + 25;
     2598     5904    4            CASE(ELSE);
     2599     5905    4               CALL INSERT(MDS_TEXT, 30, 20, '  ** NO SUCH CODE **');
     2600     5906    4               XST_CNT = XST_CNT + 20;
     2601     5907    4         END;   /* DO CASE */
     2602     5908    3         GOTO FOUND_OCTET;
     2603     5909    3      END;
     2604     5910    3      ELSE IF DEVTBL.CODE(I) = 9 THEN DO;   /* BYTE 9 - PARAM LENGTH */
     2605     5911    3         PARAMETER_LENGTH = XSTATUS_BYTE(9);
     2606     5912    3         CALL INSERT(MDS_TEXT, 30, 2, BINHEX(XSTATUS_NIBBLE(18)),
     2607     5913    3                     BINHEX(XSTATUS_NIBBLE(19)));
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:80   
     2608     5914    3         GOTO FOUND_OCTET;
     2609     5915    3      END;
     2610     5916    3      ELSE IF DEVTBL.CODE(I) = 10 THEN DO;     /* BYTE 10 - PARAMETER ID */
     2611     5917    3         PARAMETER_ID = XSTATUS_BYTE(10);
     2612     5918    3         CALL INSERT(MDS_TEXT, 30, 2, BINHEX(PARAM_ID.BYT1), BINHEX(PARAM_ID.BYT2));
     2613     5919    3         IF ((PARAM_ID.BYT1 = 1 OR PARAM_ID.BYT1 = 2)
     2614     5920    4            AND (PARAM_ID.BYT2 <= 10)) THEN DO;
     2615     5921    4            CALL INSERT(MDS_TEXT, 32, MDS_PARAM_ID_TBL.COUNT(PARAM_ID.BYT2),
     2616     5922    4                        MDS_PARAM_ID_TBL.TEXT(PARAM_ID.BYT2));
     2617     5923    4            XST_CNT = XST_CNT + MDS_PARAM_ID_TBL.COUNT(PARAM_ID.BYT2);
     2618     5924    4            GOTO FOUND_OCTET;
     2619     5925    4         END;
     2620     5926    3         IF (PARAMETER_ID = %HEX_51 AND XSTATUS_NIBBLE(16) = %STD_COMPLETION)
     2621     5927    4            THEN DO;
     2622     5928    4              CALL INSERT(MDS_TEXT, 32, 26, ' -- REPORT DEVICE''S STATUS');
     2623     5929    4              XST_CNT = 58;
     2624     5930    4            END;
     2625     5931    4         ELSE DO;
     2626     5932    4            CALL INSERT(MDS_TEXT, 32, 27, ' ** ILLEGAL PARAMETER ID **');
     2627     5933    4            XST_CNT = XST_CNT + 27;
     2628     5934    4            PARAMETER_ID = 0;
     2629     5935    4         END;
     2630     5936    3         GOTO FOUND_OCTET;
     2631     5937    3      END;
     2632     5938    2      ELSE IF ((DEVTBL.CODE(I) > 10 AND DEVTBL.CODE(I) < 36)  AND PARAMETER_ID ~= 0)
     2633     5939    3        THEN DO;
     2634     5940    3         OCTET_NUM = DEVTBL.CODE(I) - 10;
     2635     5941    3         IF PARAMETER_ID = %HEX_51 THEN
     2636     5942    3            CALL DECODE_PARAM_51;
     2637     5943    4         ELSE DO CASE(PARAM_ID.BYT2);                  /* SUBSTATUS */
     2638     5944    4                 CASE(%DEFECT_MGMT);
     2639     5945    4                    CALL DECODE_PARAM_X2;
     2640     5946    4                 CASE(%MICROCODE_EXP);
     2641     5947    4                    CALL DECODE_PARAM_X3;
     2642     5948    4                 CASE(%INTERVENTION_REQ);
     2643     5949    4                    CALL DECODE_PARAM_X4;
     2644     5950    4                 CASE(%ALT_PORT_EXP);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:81   
     2645     5951    4                    CALL DECODE_PARAM_X5;
     2646     5952    4                 CASE(%MACHINE_EXP);
     2647     5953    4                    CALL DECODE_PARAM_X6;
     2648     5954    4                 CASE(%CMD_EXP);
     2649     5955    4                    CALL DECODE_PARAM_X7;
     2650     5956    4                 CASE(%CMD_ABORTED);
     2651     5957    4                    CALL DECODE_PARAM_X8;
     2652     5958    4                 CASE(%COND_SUCCESS);
     2653     5959    4                    CALL DECODE_PARAM_X9;
     2654     5960    4                 CASE(%INCOMPLETE);
     2655     5961    4                    CALL DECODE_PARAM_XA;
     2656     5962    4                 CASE(ELSE);
     2657     5963    4                    PARAMETER_ID = 0;
     2658     5964    4                 END;  /* DO CASE */
     2659     5965    3            RETURN;
     2660     5966    3         END;
     2661     5967    2      ELSE RETURN;
     2662     5968    2   FOUND_OCTET:
     2663     5969    2      CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2664     5970    2      NXST = NXST + 1;
     2665     5971    2      RETURN;
     2666     5972    2   END IPC_MDSII;
     2667     5973        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:82   
     2668     5974        /**/
     2669     5975        /* PROCEDURE TO DECODE DEFECT MANAGEMENT STATUS CODE FOR MDS DISCS */
     2670     5976        /**/
     2671     5977    1   DECODE_PARAM_X2: PROC;
     2672     5978        /**/
     2673     5979    2      MDS_TEXT = ' ';
     2674     5980    2      OCTET$ = MDS_PARAM_X2.SUB$(OCTET_NUM - 1);
     2675     5981    2      IF (OCTET_NUM > 0 AND OCTET_NUM < 5) THEN
     2676     5982    3         DO;
     2677     5983    3           HEX_NUM = OCTET_NUM;
     2678     5984    3           CALL INSERT (MDS_TEXT, 17, 11, 'OCTET ', BINHEX(HEX_NIBBLE(0)),
     2679     5985    3                        BINHEX(HEX_NIBBLE(1)), ' = ');
     2680     5986    3           CALL INSERT (MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)), BINHEX(
              5986                    OCTET_NIBBLE(2 * OCTET_NUM + 1)));
     2681     5987    3           XST_CNT = 30;
     2682     5988    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2683     5989    3           NXST = NXST + 1;
     2684     5990    3           PARAM_INDX = 0;
     2685     5991    4           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) +7);
     2686     5992    4              IF (IO_MASK1(X)) AND (PARAM_TBL.COUNT(PARAM_INDX) > 1)
     2687     5993    5                 THEN DO;
     2688     5994    5                   MDS_TEXT = ' ';
     2689     5995    5                   CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(PARAM_INDX), PARAM_TBL.
              5995                            TEXT(PARAM_INDX));
     2690     5996    5                   XST_CNT = PARAM_TBL.COUNT(PARAM_INDX) + 17;
     2691     5997    5                   CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2692     5998    5                   NXST = NXST + 1;
     2693     5999    5                 END;
     2694     6000    4              PARAM_INDX = PARAM_INDX + 1;
     2695     6001    4           END;  /* DO X */
     2696     6002    3           IF OCTET_NUM >= PARAMETER_LENGTH - 1 THEN
     2697     6003    3              GOTO PARAM_X2_DONE;
     2698     6004    3           ELSE RETURN;
     2699     6005    3         END;         /* FOR OCTET_NUM < 5 */
     2700     6006    2         ELSE IF OCTET_NUM = 5
     2701     6007    3           THEN DO;
     2702     6008    3             IF IO_MASK(DEVTBL.CODE(I)) = %HEX_80        /* TEST FOR '80'X */
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:83   
     2703     6009    3                THEN GOTO PARAM_X2_DONE;
     2704     6010    3             MDS_TEXT = ' ';
     2705     6011    3             CALL INSERT(MDS_TEXT, 0, 57,
     2706     6012    3                  'THE FOLLOWING OCTETS CONTAIN THE FAILING PHYSICAL ADDRESS');
     2707     6013    3             XST_CNT = 57;
     2708     6014    3             CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2709     6015    3             NXST = NXST + 1;
     2710     6016    3             MDS_TEXT = ' ';
     2711     6017    3             MDS_REG1 = 0;
     2712     6018    3             MDS_REG2.OCTET(0) = OCTET_BYTE(5);
     2713     6019    3             MDS_REG2.OCTET(1) = OCTET_BYTE(6);
     2714     6020    3             CALL BINCHAR(MDS_CYL, MDS_REG1);
     2715     6021    3             CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(0), PARAM_TBL.TEXT(0));
     2716     6022    3             CALL INSERT(MDS_TEXT, 34, 4, MDS_CYL);
     2717     6023    3             XST_CNT = PARAM_TBL.COUNT(0) + 17;
     2718     6024    3             CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2719     6025    3             NXST = NXST + 1;
     2720     6026    3             IF IO_MASK(DEVTBL.CODE(I+2)) = %HEX_80      /* TEST FOR '80'X */
     2721     6027    3                THEN GOTO PARAM_X2_DONE;
     2722     6028    3             MDS_TEXT = ' ';
     2723     6029    3             MDS_REG1 = 0;
     2724     6030    3             MDS_REG2.OCTET(1) = OCTET_BYTE(7);
     2725     6031    3             CALL BINCHAR(MDS_HEAD, MDS_REG1);
     2726     6032    3             CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(1), PARAM_TBL.TEXT(1));
     2727     6033    3             CALL INSERT(MDS_TEXT, 28, 2, MDS_HEAD);
     2728     6034    3             XST_CNT = PARAM_TBL.COUNT(1) + 17;
     2729     6035    3             CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2730     6036    3             NXST = NXST + 1;
     2731     6037    3             IF IO_MASK(DEVTBL.CODE(I+3)) = %HEX_80      /* TEST FOR '80'X */
     2732     6038    3                THEN GOTO PARAM_X2_DONE;
     2733     6039    3             MDS_TEXT = ' ';
     2734     6040    3             MDS_REG1 = 0;
     2735     6041    3             MDS_REG2.OCTET(1) = OCTET_BYTE(8);
     2736     6042    3             CALL BINCHAR(MDS_SECTOR, MDS_REG1);
     2737     6043    3             CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(2), PARAM_TBL.TEXT(2));
     2738     6044    3             CALL INSERT(MDS_TEXT, 28, 2, MDS_SECTOR);
     2739     6045    3             XST_CNT = PARAM_TBL.COUNT(2) + 17;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:84   
     2740     6046    3             CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2741     6047    3             NXST = NXST + 1;
     2742     6048    3   PARAM_X2_DONE:
     2743     6049    3             PARAMETER_ID = 0;
     2744     6050    3             RETURN;
     2745     6051    3           END;
     2746     6052    2         ELSE RETURN;
     2747     6053    2   END DECODE_PARAM_X2;
     2748     6054        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:85   
     2749     6055        /**/
     2750     6056        /* PROCEDURE TO DECODE MESSAGE/MICROCODE EXCEPTION STATUS CODE FOR  MDS DISCS */
     2751     6057        /**/
     2752     6058    1   DECODE_PARAM_X3: PROC;
     2753     6059        /**/
     2754     6060                            /* NOTE: CODE MAY BE IMPLEMENTED AT A LATER TIME.  */
     2755     6061    2          RETURN;      /* THESE PARAMETERS ARE RETURNED FROM T&D I/O ONLY */
     2756     6062    2   END DECODE_PARAM_X3;
     2757     6063        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:86   
     2758     6064        /**/
     2759     6065        /* PROCEDURE TO DECODE INTERVENTION REQUIRED STATUS CODE FOR  MDS DISCS */
     2760     6066        /**/
     2761     6067    1   DECODE_PARAM_X4: PROC;
     2762     6068        /**/
     2763     6069    2      MDS_TEXT = ' ';
     2764     6070    2      OCTET$ = MDS_PARAM_X4.SUB$(OCTET_NUM - 1);
     2765     6071    2      IF (OCTET_NUM > 0 AND OCTET_NUM < 7) THEN
     2766     6072    3         DO;
     2767     6073    3           HEX_NUM = OCTET_NUM;
     2768     6074    3           CALL INSERT(MDS_TEXT, 17, 11, 'OCTET ', BINHEX(HEX_NIBBLE(0)),
     2769     6075    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     2770     6076    3           CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),
     2771     6077    3                       BINHEX(OCTET_NIBBLE(2*OCTET_NUM +1)));
     2772     6078    3           XST_CNT = 30;
     2773     6079    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2774     6080    3           NXST = NXST + 1;
     2775     6081    3         END;
     2776     6082    2      IF (OCTET_NUM = 1 OR OCTET_NUM = 5 OR OCTET_NUM = 6) THEN
     2777     6083    3         DO;
     2778     6084    3           PARAM_INDX = 0;
     2779     6085    4           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) + 7);
     2780     6086    4              IF (IO_MASK1(X)) AND (PARAM_TBL.COUNT(PARAM_INDX) > 1)
     2781     6087    5                 THEN DO;
     2782     6088    5                    MDS_TEXT = ' ';
     2783     6089    5                    CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(PARAM_INDX), PARAM_TBL.
              6089                             TEXT(PARAM_INDX));
     2784     6090    5                    XST_CNT = PARAM_TBL.COUNT(PARAM_INDX) + 17;
     2785     6091    5                    CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2786     6092    5                    NXST = NXST + 1;
     2787     6093    5                 END;
     2788     6094    4              PARAM_INDX = PARAM_INDX + 1;
     2789     6095    4           END;  /* DO X */
     2790     6096    3           IF (OCTET_NUM = 6 OR OCTET_NUM >= PARAMETER_LENGTH -1)THEN
     2791     6097    3              PARAMETER_ID = 0;
     2792     6098    3           RETURN;
     2793     6099    3         END;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:87   
     2794     6100    3         ELSE DO;
     2795     6101    3           IF OCTET_NUM >= PARAMETER_LENGTH - 1 THEN
     2796     6102    3              PARAMETER_ID = 0;
     2797     6103    3           RETURN;
     2798     6104    3         END;
     2799     6105    2   END DECODE_PARAM_X4;
     2800     6106        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:88   
     2801     6107        /**/
     2802     6108        /* PROCEDURE TO DECODE ALT PORT EXCEPTION STATUS CODE FOR  MDS DISCS */
     2803     6109        /**/
     2804     6110    1   DECODE_PARAM_X5: PROC;
     2805     6111        /**/
     2806     6112    2      MDS_TEXT = ' ';
     2807     6113    2      OCTET$ = MDS_PARAM_X5.SUB$(OCTET_NUM - 1);
     2808     6114    2      IF (OCTET_NUM > 0 AND OCTET_NUM < 6) THEN
     2809     6115    3         DO;
     2810     6116    3           HEX_NUM = OCTET_NUM;
     2811     6117    3           CALL INSERT(MDS_TEXT, 17, 11, 'OCTET ', BINHEX(HEX_NIBBLE(0)),
     2812     6118    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     2813     6119    3           CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),
     2814     6120    3                       BINHEX(OCTET_NIBBLE(2*OCTET_NUM +1)));
     2815     6121    3           XST_CNT = 30;
     2816     6122    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2817     6123    3           NXST = NXST + 1;
     2818     6124    3         END;
     2819     6125    2      IF (OCTET_NUM = 1 OR OCTET_NUM = 2 OR OCTET_NUM = 5) THEN
     2820     6126    3         DO;
     2821     6127    3           PARAM_INDX = 0;
     2822     6128    4           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) + 7);
     2823     6129    4              IF (IO_MASK1(X)) AND (PARAM_TBL.COUNT(PARAM_INDX) > 1)
     2824     6130    5                 THEN DO;
     2825     6131    5                    MDS_TEXT = ' ';
     2826     6132    5                    CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(PARAM_INDX), PARAM_TBL.
              6132                             TEXT(PARAM_INDX));
     2827     6133    5                    XST_CNT = PARAM_TBL.COUNT(PARAM_INDX) + 17;
     2828     6134    5                    CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2829     6135    5                    NXST = NXST + 1;
     2830     6136    5                 END;
     2831     6137    4              PARAM_INDX = PARAM_INDX + 1;
     2832     6138    4           END;  /* DO X */
     2833     6139    3           IF OCTET_NUM = 5 THEN PARAMETER_ID = 0;
     2834     6140    3           RETURN;
     2835     6141    3         END;
     2836     6142    2         ELSE RETURN;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:89   
     2837     6143    2   END DECODE_PARAM_X5;
     2838     6144        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:90   
     2839     6145        /**/
     2840     6146        /* PROCEDURE TO DECODE MACHINE EXCEPTION STATUS CODE FOR  MDS DISCS */
     2841     6147        /**/
     2842     6148    1   DECODE_PARAM_X6: PROC;
     2843     6149        /**/
     2844     6150    2      MDS_TEXT = ' ';
     2845     6151    2      IF (OCTET_NUM > 0 AND OCTET_NUM < 7) THEN
     2846     6152    3         DO;
     2847     6153    3           OCTET$ = MDS_PARAM_X6.SUB$(OCTET_NUM - 1);
     2848     6154    3           HEX_NUM = OCTET_NUM;
     2849     6155    3           CALL INSERT(MDS_TEXT, 17, 11, 'OCTET ', BINHEX(HEX_NIBBLE(0)),
     2850     6156    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     2851     6157    3           CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),
     2852     6158    3                       BINHEX(OCTET_NIBBLE(2*OCTET_NUM +1)));
     2853     6159    3           XST_CNT = 30;
     2854     6160    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2855     6161    3           NXST = NXST + 1;
     2856     6162    3           PARAM_INDX = 0;
     2857     6163    4           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) + 7);
     2858     6164    4              IF (IO_MASK1(X)) AND (PARAM_TBL.COUNT(PARAM_INDX) > 1)
     2859     6165    5                 THEN DO;
     2860     6166    5                    MDS_TEXT = ' ';
     2861     6167    5                    CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(PARAM_INDX), PARAM_TBL.
              6167                             TEXT(PARAM_INDX));
     2862     6168    5                    XST_CNT = PARAM_TBL.COUNT(PARAM_INDX) + 17;
     2863     6169    5                    CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2864     6170    5                    NXST = NXST + 1;
     2865     6171    5                 END;
     2866     6172    4              PARAM_INDX = PARAM_INDX + 1;
     2867     6173    4           END;  /* DO X */
     2868     6174    3         END;  /* OCTET_NUM = 1 TO 6 */
     2869     6175    2      ELSE IF OCTET_NUM = 7 THEN
     2870     6176    3         DO;                           /* DRIVE ENDING STATUS */
     2871     6177    3           CALL INSERT(MDS_TEXT, 17, 44,
     2872     6178    3                       'OCTET 07 TO 08 = 0000  - DRIVE ENDING STATUS');
     2873     6179    3           CALL INSERT(MDS_TEXT, 34, 4, BINHEX(OCTET_NIBBLE(14)),
     2874     6180    3                                        BINHEX(OCTET_NIBBLE(15)),
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:91   
     2875     6181    3                                        BINHEX(OCTET_NIBBLE(16)),
     2876     6182    3                                        BINHEX(OCTET_NIBBLE(17)));
     2877     6183    3           XST_CNT = 61;
     2878     6184    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2879     6185    3           NXST = NXST + 1;
     2880     6186    3         END;  /* OCTET 7 */
     2881     6187    2      ELSE IF OCTET_NUM = 8 THEN
     2882     6188    3         DO;
     2883     6189    3           MDS_STATUS_REG1 = OCTET_BYTE(8);
     2884     6190    3           CALL DECODE_DRIVE_STAT;
     2885     6191    3         END;  /* OCTET_NUM = 8 */
     2886     6192    2      ELSE IF OCTET_NUM = 9 THEN     /* OCTETS 9 & A - CMD ENDING STATUS */
     2887     6193    3         DO;
     2888     6194    3           CALL INSERT(MDS_TEXT, 17, 47,
     2889     6195    3                       'OCTETS 09 TO 0A = 0000  - COMMAND ENDING STATUS');
     2890     6196    3           CALL INSERT(MDS_TEXT, 35, 4, BINHEX(OCTET_NIBBLE(18)),
     2891     6197    3                                        BINHEX(OCTET_NIBBLE(19)),
     2892     6198    3                                        BINHEX(OCTET_NIBBLE(20)),
     2893     6199    3                                        BINHEX(OCTET_NIBBLE(21)));
     2894     6200    3           XST_CNT = 64;
     2895     6201    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2896     6202    3           NXST = NXST + 1;
     2897     6203    3           MDS_STATUS_REG2(0) = OCTET_BYTE(9);
     2898     6204    4           DO X = 0 TO 48;              /* DECODE CMD IDENTIFIER */
     2899     6205    4              IF MDS_CMD_ENDING_STAT.CMD_IDENT = MDS_CMD_IDENT.CODE(X) THEN
     2900     6206    5                 DO;
     2901     6207    5                   MDS_TEXT = ' ';
     2902     6208    5                   CALL INSERT(MDS_TEXT,19,MDS_CMD_IDENT.COUNT(X) + 19,
     2903     6209    5                               'COMMAND IDENTIFIER:',
     2904     6210    5                               MDS_CMD_IDENT.TEXT(X));
     2905     6211    5                   XST_CNT = MDS_CMD_IDENT.COUNT(X) + 38;
     2906     6212    5                   CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2907     6213    5                   NXST = NXST + 1;
     2908     6214    5                 END;
     2909     6215    4           END;  /* DO X */
     2910     6216    3         END;    /* OCTET 9 */
     2911     6217    2      ELSE IF OCTET_NUM = 10 THEN
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:92   
     2912     6218    3         DO;                          /* DECODE ERROR CODE */
     2913     6219    3           MDS_STATUS_REG2(1) = OCTET_BYTE(10);
     2914     6220    3           CALL DECODE_CMD_STAT;
     2915     6221    3           IF PARAMETER_LENGTH = %HEX_0B    /* TEST FOR SHORT PARAMETER */
     2916     6222    4              THEN DO;
     2917     6223    4                 CALL DECODE_PARAM_3X;
     2918     6224    4                 RETURN;
     2919     6225    4              END;
     2920     6226    3         END;    /* OCTET_NUM = 10 */
     2921     6227    2      ELSE IF OCTET_NUM = 11 THEN
     2922     6228    3         DO;
     2923     6229    3           CALL INSERT(MDS_TEXT, 17, 43,
     2924     6230    3                       'OCTET 0B = 00 -- DRIVE''S STATUS/ERROR CODES');
     2925     6231    3           CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(22)),
     2926     6232    3                                        BINHEX(OCTET_NIBBLE(23)));
     2927     6233    3           XST_CNT = 60;
     2928     6234    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2929     6235    3           NXST = NXST + 1;
     2930     6236    3           IF EL$IOERR.MODEL = 'MSU8092' THEN
     2931     6237    4              DO;                       /* DECODE STATUS FOR MDS II DISC */
     2932     6238    4                MDS_TBL$ = ADDR(MDSII_STATUS);
     2933     6239    4                MAX_ENTRY = %MDSII_MAX_STATUS;
     2934     6240    5                DO X = 0 TO MAX_ENTRY;
     2935     6241    5                   IF OCTET_BYTE(11) = MDS_TBL.CODE(X) THEN
     2936     6242    6                      DO;
     2937     6243    6                        MDS_TEXT = ' ';
     2938     6244    6                        CALL INSERT(MDS_TEXT, 19, MDS_TBL.COUNT(X),
     2939     6245    6                                    MDS_TBL.TEXT(X));
     2940     6246    6                        XST_CNT = MDS_TBL.COUNT(X) + 19;
     2941     6247    6                        CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2942     6248    6                        NXST = NXST + 1;
     2943     6249    6                      END;
     2944     6250    5                END;  /* DO X */
     2945     6251    4              END;  /* MODEL = MSU8092 */
     2946     6252    3         END;
     2947     6253    2      ELSE IF OCTET_NUM = 12 THEN
     2948     6254    3         DO;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:93   
     2949     6255    4           DO X = 0 TO 3;
     2950     6256    4              FRU_STRING.OCTET.NIB1(X) = BINHEX(OCTET_NIBBLE(2 * X + 24));
     2951     6257    4              FRU_STRING.OCTET.NIB2(X) = BINHEX(OCTET_NIBBLE(2 * X + 25));
     2952     6258    4           END;  /* DO X */
     2953     6259    3           CALL INSERT(MDS_TEXT, 17, 39, 'OCTETS 1B TO 1E', FRU_STR, '  - FRUS');
     2954     6260    3           XST_CNT = 56;
     2955     6261    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2956     6262    3           NXST = NXST + 1;
     2957     6263    3           IF EL$IOERR.MODEL = 'MSU8092' THEN
     2958     6264    4              DO;
     2959     6265    4                MAX_ENTRY = %MDSII_MAX_FRUS;
     2960     6266    4                MDS_TBL$ = ADDR(MDSII_FRUS);
     2961     6267    4              END;
     2962     6268    4              ELSE DO;
     2963     6269    4                MAX_ENTRY = %MDSI_MAX_FRUS;
     2964     6270    4                MDS_TBL$ = ADDR(MDSI_FRUS);
     2965     6271    4              END;
     2966     6272    4           DO X = 12 TO 15;
     2967     6273    4              F_INDX = OCTET_BYTE(X);
     2968     6274    4              IF (FRU_INDX(1) >0 AND FRU_INDX(1) <= MAX_ENTRY) THEN
     2969     6275    5                DO;
     2970     6276    5                  MDS_TEXT = ' ';
     2971     6277    5                  CALL INSERT(MDS_TEXT, 19, MDS_TBL.COUNT(FRU_INDX(1)),
     2972     6278    5                              MDS_TBL.TEXT(FRU_INDX(1)));
     2973     6279    5                  XST_CNT = MDS_TBL.COUNT(FRU_INDX(1)) + 19;
     2974     6280    5                  CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     2975     6281    5                  NXST = NXST + 1;
     2976     6282    5                END;
     2977     6283    4           END;  /* DO X */
     2978     6284    3         END;    /* DO OCTET_NUM = 12 */
     2979     6285    2      ELSE IF OCTET_NUM = 16 THEN
     2980     6286    3         DO;
     2981     6287    3           CALL INSERT(MDS_TEXT,17,27,'OCTET 1F = 00 -- FAULT CODE');
     2982     6288    3           CALL INSERT(MDS_TEXT,28,2,BINHEX(OCTET_NIBBLE(32)),
     2983     6289    3                                     BINHEX(OCTET_NIBBLE(33)));
     2984     6290    3           XST_CNT = 44;
     2985     6291    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:94   
     2986     6292    3           NXST = NXST + 1;
     2987     6293    3           IF EL$IOERR.MODEL = 'MSU8092' THEN
     2988     6294    4             DO;
     2989     6295    4               MAX_ENTRY = %MDSII_MAX_FC;
     2990     6296    4               MDS_TBL$ = ADDR(MDSII_FCODE);
     2991     6297    4             END;
     2992     6298    4             ELSE DO;
     2993     6299    4               MAX_ENTRY = %MDSI_MAX_FC;
     2994     6300    4               MDS_TBL$ = ADDR(MDSI_FCODE);
     2995     6301    4             END;
     2996     6302    4           DO X = 0 TO MAX_ENTRY;
     2997     6303    4             IF OCTET_BYTE(16) = MDS_TBL.CODE(X) THEN
     2998     6304    5                DO;
     2999     6305    5                  MDS_TEXT = ' ';
     3000     6306    5                  CALL INSERT(MDS_TEXT, 19, MDS_TBL.COUNT(X),
     3001     6307    5                              MDS_TBL.TEXT(X));
     3002     6308    5                  XST_CNT = MDS_TBL.COUNT(X) + 19;
     3003     6309    5                  CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3004     6310    5                  NXST = NXST + 1;
     3005     6311    5                END;
     3006     6312    4           END;  /* DO X */
     3007     6313    3           CALL DECODE_PARAM_3X;  /* DECODING FINISHED FOR X6 */
     3008     6314    3           RETURN;
     3009     6315    3         END;
     3010     6316    2      ELSE RETURN;
     3011     6317    2         IF OCTET_NUM >= PARAMETER_LENGTH - 1 THEN
     3012     6318    2            CALL DECODE_PARAM_3X;
     3013     6319    2         RETURN;
     3014     6320    2   END DECODE_PARAM_X6;
     3015     6321        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:95   
     3016     6322        /**/
     3017     6323        /* PROCEDURE TO DECODE COMMAND EXCEPTION STATUS CODE FOR  MDS DISCS */
     3018     6324        /**/
     3019     6325    1   DECODE_PARAM_X7: PROC;
     3020     6326        /**/
     3021     6327    2      MDS_TEXT = ' ';
     3022     6328    2      OCTET$ = MDS_PARAM_X7.SUB$(OCTET_NUM -1);
     3023     6329    2      IF (OCTET_NUM > 0 AND OCTET_NUM < 7) THEN
     3024     6330    3         DO;
     3025     6331    3           HEX_NUM = OCTET_NUM;
     3026     6332    3           CALL INSERT(MDS_TEXT, 17, 11, ' OCTET ',BINHEX(HEX_NIBBLE(0)),
     3027     6333    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     3028     6334    3           CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),
     3029     6335    3                       BINHEX(OCTET_NIBBLE(2 * OCTET_NUM + 1)));
     3030     6336    3           XST_CNT = 30;
     3031     6337    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3032     6338    3           NXST = NXST + 1;
     3033     6339    3         END;
     3034     6340    2      IF (OCTET_NUM = 1 OR OCTET_NUM = 2 OR OCTET_NUM = 5) THEN
     3035     6341    3         DO;
     3036     6342    3           PARAM_INDX = 0;
     3037     6343    4           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) +7);
     3038     6344    4              IF (IO_MASK1(X)) AND (PARAM_TBL.COUNT(PARAM_INDX) > 1)
     3039     6345    5                 THEN DO;
     3040     6346    5                   MDS_TEXT = ' ';
     3041     6347    5                   CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(PARAM_INDX), PARAM_TBL.
              6347                            TEXT(PARAM_INDX));
     3042     6348    5                   XST_CNT = PARAM_TBL.COUNT(PARAM_INDX) + 17;
     3043     6349    5                   CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3044     6350    5                   NXST = NXST + 1;
     3045     6351    5                 END;
     3046     6352    4           PARAM_INDX = PARAM_INDX + 1;
     3047     6353    4           END;  /* DO X */
     3048     6354    3           IF OCTET_NUM >= PARAMETER_LENGTH -1
     3049     6355    3              THEN PARAMETER_ID = 0;
     3050     6356    3           RETURN;
     3051     6357    3         END;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:96   
     3052     6358    2      IF OCTET_NUM = 7 THEN
     3053     6359    3         DO;
     3054     6360    3             CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(0), PARAM_TBL.TEXT(0));
     3055     6361    3             CALL INSERT(MDS_TEXT, 36, 4, BINHEX(OCTET_NIBBLE(14)),
     3056     6362    3                                          BINHEX(OCTET_NIBBLE(15)),
     3057     6363    3                                          BINHEX(OCTET_NIBBLE(16)),
     3058     6364    3                                          BINHEX(OCTET_NIBBLE(17)));
     3059     6365    3             XST_CNT = PARAM_TBL.COUNT(0) + 17;
     3060     6366    3             CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3061     6367    3             NXST = NXST + 1;
     3062     6368    3             MDS_TEXT = ' ';
     3063     6369    3             CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(1), PARAM_TBL.TEXT(1));
     3064     6370    3             CALL INSERT(MDS_TEXT, 36, 2, BINHEX(OCTET_NIBBLE(18)),
     3065     6371    3                                          BINHEX(OCTET_NIBBLE(19)));
     3066     6372    3             XST_CNT = PARAM_TBL.COUNT(1) + 17;
     3067     6373    3             CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3068     6374    3             NXST = NXST + 1;
     3069     6375    3             MDS_TEXT = ' ';
     3070     6376    3             CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(2), PARAM_TBL.TEXT(2));
     3071     6377    3             CALL INSERT(MDS_TEXT, 36, 2, BINHEX(OCTET_NIBBLE(20)),
     3072     6378    3                                          BINHEX(OCTET_NIBBLE(21)));
     3073     6379    3             XST_CNT = PARAM_TBL.COUNT(2) + 17;
     3074     6380    3             CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3075     6381    3             NXST = NXST + 1;
     3076     6382    3             PARAMETER_ID = 0;               /* DECODING FINISHED FOR X7 */
     3077     6383    3             RETURN;
     3078     6384    3         END;
     3079     6385    2      IF OCTET_NUM >= PARAMETER_LENGTH - 1
     3080     6386    2         THEN PARAMETER_ID = 0;
     3081     6387    2      RETURN;
     3082     6388    2   END DECODE_PARAM_X7;
     3083     6389        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:97   
     3084     6390        /**/
     3085     6391        /* PROCEDURE TO DECODE COMMAND ABORTED STATUS CODE FOR  MDS DISCS */
     3086     6392        /**/
     3087     6393    1   DECODE_PARAM_X8: PROC;
     3088     6394        /**/
     3089     6395    2      MDS_TEXT = ' ';
     3090     6396    2      OCTET$ = MDS_PARAM_X8.SUB$;
     3091     6397    2      IF (OCTET_NUM > 0 AND OCTET_NUM<5) THEN
     3092     6398    3         DO;
     3093     6399    3           HEX_NUM = OCTET_NUM;
     3094     6400    3           CALL INSERT(MDS_TEXT, 17, 11, ' OCTET ',BINHEX(HEX_NIBBLE(0)),
     3095     6401    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     3096     6402    3           CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),
     3097     6403    3                       BINHEX(OCTET_NIBBLE(2 * OCTET_NUM + 1)));
     3098     6404    3           XST_CNT = 30;
     3099     6405    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3100     6406    3           NXST = NXST + 1;
     3101     6407    3         END;
     3102     6408    2      IF OCTET_NUM = 1 THEN
     3103     6409    3         DO;
     3104     6410    3           PARAM_INDX = 0;
     3105     6411    4           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) +7);
     3106     6412    4              IF (IO_MASK1(X)) AND (PARAM_TBL.COUNT(PARAM_INDX) > 1)
     3107     6413    5                 THEN DO;
     3108     6414    5                   MDS_TEXT = ' ';
     3109     6415    5                   CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(PARAM_INDX), PARAM_TBL.
              6415                            TEXT(PARAM_INDX));
     3110     6416    5                   XST_CNT = PARAM_TBL.COUNT(PARAM_INDX) + 17;
     3111     6417    5                   CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3112     6418    5                   NXST = NXST + 1;
     3113     6419    5                 END;
     3114     6420    4           PARAM_INDX = PARAM_INDX + 1;
     3115     6421    4           END;  /* DO X */
     3116     6422    3           RETURN;
     3117     6423    3         END;
     3118     6424    2      IF OCTET_NUM = 5 THEN
     3119     6425    3         DO;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:98   
     3120     6426    3           HEX_NUM = PARAMETER_LENGTH - 1;
     3121     6427    3           CALL INSERT(MDS_TEXT, 17, 19, ' OCTETS 05 TO ',BINHEX(HEX_NIBBLE(0)),
     3122     6428    3                       BINHEX(HEX_NIBBLE(1)),' = ');
     3123     6429    3           MDS_TEXT_POSITION = 36;
     3124     6430    4           DO X = 5 TO PARAMETER_LENGTH - 1;
     3125     6431    4              CALL INSERT(MDS_TEXT, MDS_TEXT_POSITION, 2, BINHEX(OCTET_NIBBLE(2 * X)),
     3126     6432    4                          BINHEX(OCTET_NIBBLE(2 * X + 1)));
     3127     6433    4              MDS_TEXT_POSITION = MDS_TEXT_POSITION + 3;
     3128     6434    4           END;
     3129     6435    3           CALL INSERT(MDS_TEXT, MDS_TEXT_POSITION, 21, ' - EXTENDED SUBSTATUS');
     3130     6436    3           XST_CNT = MDS_TEXT_POSITION + 21;
     3131     6437    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3132     6438    3           NXST = NXST + 1;
     3133     6439    3           PARAMETER_ID = 0;                  /* DECODING DONE FOR X8 */
     3134     6440    3           RETURN;
     3135     6441    3         END;       /* OCTET_NUM = 5 */
     3136     6442    2      IF OCTET_NUM >= PARAMETER_LENGTH - 1 THEN
     3137     6443    2         PARAMETER_ID = 0;
     3138     6444    2      RETURN;
     3139     6445    2   END DECODE_PARAM_X8;
     3140     6446        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:99   
     3141     6447        /**/
     3142     6448        /* PROCEDURE TO DECODE CONDITIONAL SUCCESS STATUS CODE FOR  MDS DISCS */
     3143     6449        /**/
     3144     6450    1   DECODE_PARAM_X9: PROC;
     3145     6451        /**/
     3146     6452    2      MDS_TEXT = ' ';
     3147     6453    2      OCTET$ = MDS_PARAM_X9.SUB$(OCTET_NUM - 1);
     3148     6454    2      IF (OCTET_NUM > 0 AND OCTET_NUM < 5) THEN
     3149     6455    3         DO;
     3150     6456    3           HEX_NUM = OCTET_NUM;
     3151     6457    3           CALL INSERT(MDS_TEXT, 17, 11, 'OCTET ',BINHEX(HEX_NIBBLE(0)),
     3152     6458    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     3153     6459    3           CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),
     3154     6460    3                       BINHEX(OCTET_NIBBLE(2 * OCTET_NUM + 1)));
     3155     6461    3           XST_CNT = 30;
     3156     6462    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3157     6463    3           NXST = NXST + 1;
     3158     6464    3         END;
     3159     6465    2      IF (OCTET_NUM > 0 AND OCTET_NUM < 4) THEN
     3160     6466    3         DO;
     3161     6467    3           PARAM_INDX = 0;
     3162     6468    4           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) +7);
     3163     6469    4              IF (IO_MASK1(X)) AND (PARAM_TBL.COUNT(PARAM_INDX) > 1)
     3164     6470    5                 THEN DO;
     3165     6471    5                   MDS_TEXT = ' ';
     3166     6472    5                   CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(PARAM_INDX), PARAM_TBL.
              6472                            TEXT(PARAM_INDX));
     3167     6473    5                   XST_CNT = PARAM_TBL.COUNT(PARAM_INDX) + 17;
     3168     6474    5                   CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3169     6475    5                   NXST = NXST + 1;
     3170     6476    5                 END;
     3171     6477    4           PARAM_INDX = PARAM_INDX + 1;
     3172     6478    4           END;  /* DO X */
     3173     6479    3           IF OCTET_NUM >= PARAMETER_LENGTH - 1 THEN
     3174     6480    3              CALL DECODE_PARAM_3X;
     3175     6481    3           RETURN;
     3176     6482    3         END;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:100  
     3177     6483    2      IF OCTET_NUM = 5 THEN
     3178     6484    3         DO;                            /* DECODE DRIVE ENDING STATUS */
     3179     6485    3           HEX_NUM = OCTET_NUM + 4;     /* THIS CORRESPONDS TO OCTET 9 IN SPECS */
     3180     6486    3           CALL INSERT(MDS_TEXT, 17, 11, 'OCTET ', BINHEX(HEX_NIBBLE(0)),
     3181     6487    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     3182     6488    3           CALL INSERT(MDS_TEXT, 28, 25,
     3183     6489    3                       BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),
     3184     6490    3                       BINHEX(OCTET_NIBBLE(2 * OCTET_NUM + 1)),
     3185     6491    3                       ' -- DRIVE ENDING STATUS');
     3186     6492    3           XST_CNT = 53;
     3187     6493    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3188     6494    3           NXST = NXST + 1;
     3189     6495    3           MDS_STATUS_REG1 = OCTET_BYTE(5);
     3190     6496    3           CALL DECODE_DRIVE_STAT;
     3191     6497    3         END;  /* OCTET_NUM = 5 */
     3192     6498    2         ELSE IF OCTET_NUM = 6 THEN
     3193     6499    3         DO;                            /* DECODE CMD ENDING STATUS */
     3194     6500    3           HEX_NUM = OCTET_NUM + 4;     /* THIS CORRESPONDS TO OCTET A IN SPECS */
     3195     6501    3           CALL INSERT(MDS_TEXT, 17, 11, 'OCTET ', BINHEX(HEX_NIBBLE(0)),
     3196     6502    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     3197     6503    3           CALL INSERT(MDS_TEXT, 28, 23,
     3198     6504    3                       BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),
     3199     6505    3                       BINHEX(OCTET_NIBBLE(2 * OCTET_NUM + 1)),
     3200     6506    3                       ' -- CMD ENDING STATUS');
     3201     6507    3           XST_CNT = 51;
     3202     6508    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3203     6509    3           NXST = NXST + 1;
     3204     6510    3           MDS_STATUS_REG2(1) = OCTET_BYTE(6);
     3205     6511    3           CALL DECODE_CMD_STAT;
     3206     6512    3         END;  /* OCTET_NUM = 6 */
     3207     6513    2         ELSE IF OCTET_NUM = 7 THEN
     3208     6514    3           DO;
     3209     6515    3             CALL INSERT(MDS_TEXT, 17, 46,
     3210     6516    3                         'OCTETS 0B TO 0C = 0000 -- COUNT OF SOFT ERRORS');
     3211     6517    3             CALL INSERT(MDS_TEXT, 35, 4, BINHEX(OCTET_NIBBLE(14)),
     3212     6518    3                                          BINHEX(OCTET_NIBBLE(15)),
     3213     6519    3                                          BINHEX(OCTET_NIBBLE(16)),
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:101  
     3214     6520    3                                          BINHEX(OCTET_NIBBLE(17)));
     3215     6521    3             XST_CNT = 63;
     3216     6522    3             CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3217     6523    3             NXST = NXST + 1;
     3218     6524    3           END;  /* OCTET_NUM = 7 */
     3219     6525    2         ELSE IF OCTET_NUM = 9 THEN
     3220     6526    3           DO;                        /* OCTETS 9 AND 10 - RETRY CNT */
     3221     6527    3             CALL INSERT(MDS_TEXT, 17, 62,
     3222     6528    3                       'OCTETS 0D TO 0E = 0000 -- TOTAL # OF RETRIES & ECC CORRECTIONS'
              6528                                  );
     3223     6529    3             CALL INSERT(MDS_TEXT, 35, 4, BINHEX(OCTET_NIBBLE(18)),
     3224     6530    3                                          BINHEX(OCTET_NIBBLE(19)),
     3225     6531    3                                          BINHEX(OCTET_NIBBLE(20)),
     3226     6532    3                                          BINHEX(OCTET_NIBBLE(21)));
     3227     6533    3             XST_CNT = 79;
     3228     6534    3             CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3229     6535    3             NXST = NXST + 1;
     3230     6536    3             IF PARAMETER_LENGTH = %HEX_0F    /* TEST FOR SHORT PARAMETER */
     3231     6537    4                THEN DO;
     3232     6538    4                   CALL DECODE_PARAM_3X;
     3233     6539    4                   RETURN;
     3234     6540    4                END;
     3235     6541    3           END;  /* OCTET_NUM = 9 */
     3236     6542    2         ELSE IF OCTET_NUM = 11 THEN
     3237     6543    3            DO;                                /* OCTET 11 - DEVICE STATUS */
     3238     6544    3              CALL INSERT(MDS_TEXT, 17, 43,
     3239     6545    3                          'OCTET 0F = 00 -- DRIVE''S STATUS/ERROR CODES');
     3240     6546    3              CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(22)),
     3241     6547    3                                           BINHEX(OCTET_NIBBLE(23)));
     3242     6548    3              XST_CNT = 60;
     3243     6549    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3244     6550    3              NXST = NXST + 1;
     3245     6551    3              IF EL$IOERR.MODEL = 'MSU8092' THEN
     3246     6552    4                 DO;                       /* DECODE STATUS FOR MDS II DISC */
     3247     6553    4                   MDS_TBL$ = ADDR(MDSII_STATUS);
     3248     6554    4                   MAX_ENTRY = %MDSII_MAX_STATUS;
     3249     6555    5                   DO X = 0 TO MAX_ENTRY;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:102  
     3250     6556    5                      IF OCTET_BYTE(11) = MDS_TBL.CODE(X) THEN
     3251     6557    6                         DO;
     3252     6558    6                           MDS_TEXT = ' ';
     3253     6559    6                           CALL INSERT(MDS_TEXT, 19, MDS_TBL.COUNT(X),
     3254     6560    6                                       MDS_TBL.TEXT(X));
     3255     6561    6                           XST_CNT = MDS_TBL.COUNT(X) + 19;
     3256     6562    6                           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3257     6563    6                           NXST = NXST + 1;
     3258     6564    6                         END;
     3259     6565    5                   END;  /* DO X */
     3260     6566    4                 END;  /* MODEL = MSU8092 */
     3261     6567    3            END;
     3262     6568    2         ELSE IF OCTET_NUM = 12 THEN
     3263     6569    3            DO;
     3264     6570    4              DO X = 0 TO 3;
     3265     6571    4                 FRU_STRING.OCTET.NIB1(X) = BINHEX(OCTET_NIBBLE(2 * X + 24));
     3266     6572    4                 FRU_STRING.OCTET.NIB2(X) = BINHEX(OCTET_NIBBLE(2 * X + 25));
     3267     6573    4              END;  /* DO X */
     3268     6574    3              CALL INSERT(MDS_TEXT, 17, 39, 'OCTETS 20 TO 23', FRU_STR, '  - FRUS');
     3269     6575    3              XST_CNT = 56;
     3270     6576    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3271     6577    3              NXST = NXST + 1;
     3272     6578    3              IF EL$IOERR.MODEL = 'MSU8092' THEN
     3273     6579    4                 DO;
     3274     6580    4                   MAX_ENTRY = %MDSII_MAX_FRUS;
     3275     6581    4                   MDS_TBL$ = ADDR(MDSII_FRUS);
     3276     6582    4                 END;
     3277     6583    4                 ELSE DO;
     3278     6584    4                   MAX_ENTRY = %MDSI_MAX_FRUS;
     3279     6585    4                   MDS_TBL$ = ADDR(MDSI_FRUS);
     3280     6586    4                 END;
     3281     6587    4              DO X = 12 TO 15;
     3282     6588    4                 F_INDX = OCTET_BYTE(X);
     3283     6589    4                 IF (FRU_INDX(1) >0 AND FRU_INDX(1) <= MAX_ENTRY) THEN
     3284     6590    5                   DO;
     3285     6591    5                     MDS_TEXT = ' ';
     3286     6592    5                     CALL INSERT(MDS_TEXT, 19, MDS_TBL.COUNT(FRU_INDX(1)),
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:103  
     3287     6593    5                                 MDS_TBL.TEXT(FRU_INDX(1)));
     3288     6594    5                     XST_CNT = MDS_TBL.COUNT(FRU_INDX(1)) + 19;
     3289     6595    5                     CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3290     6596    5                     NXST = NXST + 1;
     3291     6597    5                   END;
     3292     6598    4              END;  /* DO X */
     3293     6599    3            END;    /* DO OCTET_NUM = 12 */
     3294     6600    2         ELSE IF OCTET_NUM = 16 THEN
     3295     6601    3            DO;
     3296     6602    3              CALL INSERT(MDS_TEXT,17,27,'OCTET 24 = 00 -- FAULT CODE');
     3297     6603    3              CALL INSERT(MDS_TEXT,28,2,BINHEX(OCTET_NIBBLE(32)),
     3298     6604    3                                        BINHEX(OCTET_NIBBLE(33)));
     3299     6605    3              XST_CNT = 44;
     3300     6606    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3301     6607    3              NXST = NXST + 1;
     3302     6608    3              IF EL$IOERR.MODEL = 'MSU8092' THEN
     3303     6609    4                DO;
     3304     6610    4                  MAX_ENTRY = %MDSII_MAX_FC;
     3305     6611    4                  MDS_TBL$ = ADDR(MDSII_FCODE);
     3306     6612    4                END;
     3307     6613    4                ELSE DO;
     3308     6614    4                  MAX_ENTRY = %MDSI_MAX_FC;
     3309     6615    4                  MDS_TBL$ = ADDR(MDSI_FCODE);
     3310     6616    4                END;
     3311     6617    4              DO X = 0 TO MAX_ENTRY;
     3312     6618    4                IF OCTET_BYTE(16) = MDS_TBL.CODE(X) THEN
     3313     6619    5                   DO;
     3314     6620    5                     MDS_TEXT = ' ';
     3315     6621    5                     CALL INSERT(MDS_TEXT, 19, MDS_TBL.COUNT(X),
     3316     6622    5                                 MDS_TBL.TEXT(X));
     3317     6623    5                     XST_CNT = MDS_TBL.COUNT(X) + 19;
     3318     6624    5                     CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3319     6625    5                     NXST = NXST + 1;
     3320     6626    5                   END;
     3321     6627    4              END;  /* DO X */
     3322     6628    3              CALL DECODE_PARAM_3X;  /* DECODING FINISHED FOR X9 */
     3323     6629    3              RETURN;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:104  
     3324     6630    3            END;
     3325     6631    2         ELSE RETURN;
     3326     6632    2      IF OCTET_NUM >= PARAMETER_LENGTH -1 THEN
     3327     6633    2         CALL DECODE_PARAM_3X;
     3328     6634    2      RETURN;
     3329     6635    2   END DECODE_PARAM_X9;
     3330     6636        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:105  
     3331     6637        /**/
     3332     6638        /* PROCEDURE TO DECODE INCOMPLETE STATUS CODE FOR  MDS DISCS */
     3333     6639        /**/
     3334     6640    1   DECODE_PARAM_XA: PROC;
     3335     6641        /**/
     3336     6642    2      MDS_TEXT = ' ';
     3337     6643    2      OCTET$ = MDS_PARAM_XA.SUB$(OCTET_NUM - 1);
     3338     6644    2      IF (OCTET_NUM > 0 AND OCTET_NUM < 6) THEN
     3339     6645    3         DO;
     3340     6646    3           HEX_NUM = OCTET_NUM;
     3341     6647    3           CALL INSERT(MDS_TEXT, 17, 12, ' OCTET ',BINHEX(HEX_NIBBLE(0)),
     3342     6648    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     3343     6649    3           CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),
     3344     6650    3                       BINHEX(OCTET_NIBBLE(2 * OCTET_NUM + 1)));
     3345     6651    3           XST_CNT = 30;
     3346     6652    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3347     6653    3           NXST = NXST + 1;
     3348     6654    3         END;
     3349     6655    2      IF (OCTET_NUM =1 OR OCTET_NUM = 3 OR OCTET_NUM = 5) THEN
     3350     6656    3         DO;
     3351     6657    3           PARAM_INDX = 0;
     3352     6658    4           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) +7);
     3353     6659    4              IF (IO_MASK1(X)) AND (PARAM_TBL.COUNT(PARAM_INDX) > 1)
     3354     6660    5                 THEN DO;
     3355     6661    5                   MDS_TEXT = ' ';
     3356     6662    5                   CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(PARAM_INDX), PARAM_TBL.
              6662                            TEXT(PARAM_INDX));
     3357     6663    5                   XST_CNT = PARAM_TBL.COUNT(PARAM_INDX) + 17;
     3358     6664    5                   CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3359     6665    5                   NXST = NXST + 1;
     3360     6666    5                 END;
     3361     6667    4           PARAM_INDX = PARAM_INDX + 1;
     3362     6668    4           END;  /* DO X */
     3363     6669    3           IF OCTET_NUM >= PARAMETER_LENGTH -1
     3364     6670    3              THEN PARAMETER_ID = 0;
     3365     6671    3           RETURN;
     3366     6672    3         END;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:106  
     3367     6673    2      IF OCTET_NUM = 6 THEN
     3368     6674    3         DO;
     3369     6675    3           HEX_NUM = PARAMETER_LENGTH - 1;
     3370     6676    3           CALL INSERT(MDS_TEXT, 17, 36, ' OCTET 06 TO ',BINHEX(HEX_NIBBLE(0)),
     3371     6677    3                       BINHEX(HEX_NIBBLE(1)),' - EXTENDED SUBSTATUS');
     3372     6678    3           XST_CNT = 53;
     3373     6679    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3374     6680    3           NXST = NXST + 1;
     3375     6681    3           MDS_TEXT = ' ';
     3376     6682    3           CALL INSERT(MDS_TEXT,19,1,'=');
     3377     6683    3           MDS_TEXT_POSITION = 21;
     3378     6684    4           DO X = 6 TO PARAMETER_LENGTH - 1;
     3379     6685    4              CALL INSERT(MDS_TEXT, MDS_TEXT_POSITION, 2, BINHEX(OCTET_NIBBLE(2 * X)),
     3380     6686    4                          BINHEX(OCTET_NIBBLE(2 * X + 1)));
     3381     6687    4              MDS_TEXT_POSITION = MDS_TEXT_POSITION + 3;
     3382     6688    4           END;
     3383     6689    3           XST_CNT = MDS_TEXT_POSITION;
     3384     6690    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3385     6691    3           NXST = NXST + 1;
     3386     6692    3           PARAMETER_ID = 0;                  /* DECODING DONE FOR X8 */
     3387     6693    3           RETURN;
     3388     6694    3         END;
     3389     6695    2      IF OCTET_NUM >= PARAMETER_LENGTH -1 THEN
     3390     6696    2         PARAMETER_ID = 0;
     3391     6697    2      RETURN;
     3392     6698    2   END DECODE_PARAM_XA;
     3393     6699        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:107  
     3394     6700        /**/
     3395     6701        /* PROCEDURE TO DECODE DRIVE ENDING STATUS CODE FOR  MDS DISCS */
     3396     6702        /**/
     3397     6703    1   DECODE_DRIVE_STAT: PROC;
     3398     6704        /**/
     3399     6705    2           PARAM_INDX = 0;
     3400     6706    3           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) + 3);
     3401     6707    3              IF IO_MASK1(X) THEN
     3402     6708    4                 DO;              /* DECODE DRIVE ENDING STATUS */
     3403     6709    4                   MDS_TEXT = ' ';
     3404     6710    4                   CALL INSERT(MDS_TEXT,17,MDS_DRIVE_ENDING_STATUS.COUNT(PARAM_INDX),
     3405     6711    4                               MDS_DRIVE_ENDING_STATUS.TEXT(PARAM_INDX));
     3406     6712    4                   XST_CNT = MDS_DRIVE_ENDING_STATUS.COUNT(PARAM_INDX) + 17;
     3407     6713    4                   CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3408     6714    4                   NXST = NXST + 1;
     3409     6715    4                 END;
     3410     6716    3              PARAM_INDX = PARAM_INDX + 1;
     3411     6717    3           END;  /* DO X */
     3412     6718    2           MDS_TEXT = ' ';
     3413     6719    3           DO CASE(MDS_DRIVE_STATUS.OP_END_STATUS);  /* DECODE OP ENDING STATUS */
     3414     6720    3              CASE(%BUS_CNTL_EXECUTED);
     3415     6721    3                CALL INSERT(MDS_TEXT,17,24,' -- BUS CONTROL EXECUTED');
     3416     6722    3                XST_CNT = 41;
     3417     6723    3              CASE(%BUS_CNTL_REJECT);
     3418     6724    3                CALL INSERT(MDS_TEXT,17,29,' -- BUSY - BUS CONTROL REJECT');
     3419     6725    3                XST_CNT = 46;
     3420     6726    3              CASE(%MISSING_AM);
     3421     6727    3                CALL INSERT(MDS_TEXT,17,24,' -- MISSING ADDRESS MARK');
     3422     6728    3                XST_CNT = 41;
     3423     6729    3              CASE(%MISSING_SYNC_BYTE);
     3424     6730    3                CALL INSERT(MDS_TEXT,17,21,' -- MISSING SYNC BYTE');
     3425     6731    3                XST_CNT = 38;
     3426     6732    3              CASE(%ECC_ERROR);
     3427     6733    3                CALL INSERT(MDS_TEXT,17,13,' -- ECC ERROR');
     3428     6734    3                XST_CNT = 30;
     3429     6735    3              CASE(%HDR_VERIFY_ERR);
     3430     6736    3                CALL INSERT(MDS_TEXT,17,23,' -- HEADER VERIFY ERROR');
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:108  
     3431     6737    3                XST_CNT = 40;
     3432     6738    3              CASE(%OPERATION_EXCEPTION);
     3433     6739    3                CALL INSERT(MDS_TEXT,17,23,' -- OPERATION EXCEPTION');
     3434     6740    3                XST_CNT = 40;
     3435     6741    3              CASE(%UNSOLICIT_EXCEPTION);
     3436     6742    3                CALL INSERT(MDS_TEXT,17,25,' -- UNSOLICITED EXCEPTION');
     3437     6743    3                XST_CNT = 42;
     3438     6744    3           END;  /* DO CASE */
     3439     6745    2           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3440     6746    2           NXST = NXST + 1;
     3441     6747    2           RETURN;
     3442     6748    2   END DECODE_DRIVE_STAT;
     3443     6749        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:109  
     3444     6750        /**/
     3445     6751        /* PROCEDURE TO DECODE COMMAND ENDING STATUS (BYTE 2) FOR PARAM_X6 AND PARAM_X9 */
     3446     6752        /**/
     3447     6753    1   DECODE_CMD_STAT: PROC;
     3448     6754        /**/
     3449     6755    2      MDS_TEXT = ' ';
     3450     6756    2      CALL INSERT(MDS_TEXT, 19, 51, 'ERROR LOCATION:',
     3451     6757    2                  MDS_ERROR_LOC.TEXT(MDS_CMD_ENDING_STAT.ERROR_LOC));
     3452     6758    2      XST_CNT = 70;
     3453     6759    2      CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3454     6760    2      NXST = NXST + 1;
     3455     6761    2      MDS_TEXT = ' ';
     3456     6762    2      CALL INSERT(MDS_TEXT, 19, 17, 'ERROR CATAGORY:  ');
     3457     6763    3      DO CASE(MDS_CMD_ENDING_STAT.ERROR_CAT);
     3458     6764    3         CASE(%TIMEOUT_ERR);
     3459     6765    3              CALL INSERT(MDS_TEXT, 36, 13, 'TIMEOUT ERROR');
     3460     6766    3              XST_CNT = 47;
     3461     6767    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3462     6768    3              NXST = NXST + 1;
     3463     6769    3              MDS_TEXT = ' ';
     3464     6770    3              CALL INSERT(MDS_TEXT, 19, 35, 'ERROR CODE:',
     3465     6771    3                          MDS_TIMEOUT_ERRS.TEXT(MDS_CMD_ENDING_STAT.ERROR_CODE));
     3466     6772    3              XST_CNT = 54;
     3467     6773    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3468     6774    3              NXST = NXST + 1;
     3469     6775    3         CASE(%RW_ERR);
     3470     6776    3              CALL INSERT(MDS_TEXT, 36, 16, 'READ/WRITE ERROR');
     3471     6777    3              XST_CNT = 50;
     3472     6778    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3473     6779    3              NXST = NXST + 1;
     3474     6780    3              MDS_TEXT = ' ';
     3475     6781    3              CALL INSERT(MDS_TEXT, 19, 37, 'ERROR CODE:',
     3476     6782    3                          MDS_RW_ERRS.TEXT(MDS_CMD_ENDING_STAT.ERROR_CODE));
     3477     6783    3              XST_CNT = 56;
     3478     6784    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3479     6785    3              NXST = NXST + 1;
     3480     6786    3         CASE(%MISC_ERR);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:110  
     3481     6787    3              CALL INSERT(MDS_TEXT, 36, 10, 'MISC ERROR');
     3482     6788    3              XST_CNT = 44;
     3483     6789    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3484     6790    3              NXST = NXST + 1;
     3485     6791    3              MDS_TEXT = ' ';
     3486     6792    3              IF (MDS_CMD_ENDING_STAT.ERROR_CODE = 0 OR
     3487     6793    3                  MDS_CMD_ENDING_STAT.ERROR_CODE = 1)
     3488     6794    3                  THEN CALL INSERT(MDS_TEXT, 19, 25, 'ERROR CODE:',
     3489     6795    3                                   MDS_MISC_ERRS.TEXT(MDS_CMD_ENDING_STAT.ERROR_CODE));
     3490     6796    3                  ELSE CALL INSERT(MDS_TEXT, 19, 25, 'ERROR CODE:  UNKNOWN TYPE');
     3491     6797    3              XST_CNT = 44;
     3492     6798    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3493     6799    3              NXST = NXST + 1;
     3494     6800    3         CASE(%INFO_XFR_ERR);
     3495     6801    3              CALL INSERT(MDS_TEXT, 36, 20, 'INFORMATION TRANSFER');
     3496     6802    3              XST_CNT = 65;
     3497     6803    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3498     6804    3              NXST = NXST + 1;
     3499     6805    3              MDS_TEXT = ' ';
     3500     6806    3              IF (MDS_CMD_ENDING_STAT.ERROR_CODE > 0 OR
     3501     6807    3                  MDS_CMD_ENDING_STAT.ERROR_CODE < 6) THEN
     3502     6808    3                  CALL INSERT(MDS_TEXT, 19, 45, 'ERROR CODE:',
     3503     6809    3                       MDS_INFO_ERRS.TEXT(MDS_CMD_ENDING_STAT.ERROR_CODE));
     3504     6810    3                  ELSE CALL INSERT(MDS_TEXT, 19, 25, 'ERROR CODE:  UNKNOWN TYPE');
     3505     6811    3              XST_CNT = 64;
     3506     6812    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3507     6813    3              NXST = NXST + 1;
     3508     6814    3      END;  /* DO CASE */
     3509     6815    2      RETURN;
     3510     6816    2   END DECODE_CMD_STAT;
     3511     6817        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:111  
     3512     6818        /**/
     3513     6819        /* PROCEDURE TO DECODE COMMON PARAMETERS (TYPE 3X) FOR MDS DISCS */
     3514     6820        /**/
     3515     6821    1   DECODE_PARAM_3X: PROC;
     3516     6822        /**/
     3517     6823    2      PARAMETER_LENGTH = IO_MASK(27);  /* THIS PARAM ALWAYS STARTS AT OCTET 27 */
     3518     6824    2      PARAMETER_ID = IO_MASK(28);
     3519     6825    2      IF NOT (PARAMETER_LENGTH = 9 AND PARAMETER_ID = %HEX_32)
     3520     6826    2         THEN GOTO PARAM_3X_DONE;
     3521     6827    3      DO X = 0 TO 6;
     3522     6828    3         OCTET_BYTE(X) = IO_MASK(28 + X);
     3523     6829    3      END;
     3524     6830    2      MDS_TEXT = ' ';
     3525     6831    2      HEX_NUM = PARAMETER_LENGTH;
     3526     6832    2      CALL INSERT(MDS_TEXT, 15, 17, 'PARAM LENGTH = ',
     3527     6833    2                                    BINHEX(HEX_NIBBLE(0)),
     3528     6834    2                                    BINHEX(HEX_NIBBLE(1)));
     3529     6835    2      XST_CNT = 32;
     3530     6836    2      CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3531     6837    2      NXST = NXST + 1;
     3532     6838    2      MDS_TEXT = ' ';
     3533     6839    2      CALL INSERT(MDS_TEXT, 15, 46, 'PARAMETER ID = ',
     3534     6840    2                                    BINHEX(PARAM_ID.BYT1),
     3535     6841    2                                    BINHEX(PARAM_ID.BYT2),
     3536     6842    2                                    ' -- RESPONSE EXTENT PARAMETER');
     3537     6843    2      XST_CNT = 61;
     3538     6844    2      CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3539     6845    2      NXST = NXST + 1;
     3540     6846    2      MDS_TEXT = ' ';
     3541     6847    2      CALL INSERT(MDS_TEXT,17,46,'OCTETS 01 TO 04 = ', BINHEX(OCTET_NIBBLE(2)),
     3542     6848    2                  BINHEX(OCTET_NIBBLE(3)), BINHEX(OCTET_NIBBLE(4)),
     3543     6849    2                  BINHEX(OCTET_NIBBLE(5)), ' -- RESIDUAL COUNT (HEX)');
     3544     6850    2      XST_CNT = 63;
     3545     6851    2      CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3546     6852    2      NXST = NXST + 1;
     3547     6853    2      MDS_TEXT = ' ';
     3548     6854    2      MDS_REG1 = 0;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:112  
     3549     6855    2      MDS_REG2.OCTET(0) = OCTET_BYTE(3);
     3550     6856    2      MDS_REG2.OCTET(1) = OCTET_BYTE(4);
     3551     6857    2      CALL BINCHAR(MDS_CYL, MDS_REG1);
     3552     6858    2      CALL INSERT(MDS_TEXT, 17, 34, 'OCTETS 05 TO 06 = ', MDS_CYL,
     3553     6859    2                  ' -- CYLINDER');
     3554     6860    2      XST_CNT = 51;
     3555     6861    2      CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3556     6862    2      NXST = NXST + 1;
     3557     6863    2      MDS_TEXT = ' ';
     3558     6864    2      MDS_REG1 = 0;
     3559     6865    2      MDS_REG2.OCTET(1) = OCTET_BYTE(5);
     3560     6866    2      CALL BINCHAR(MDS_HEAD, MDS_REG1);
     3561     6867    2      CALL INSERT(MDS_TEXT, 17, 21, 'OCTET 07 = ', MDS_HEAD, ' -- HEAD');
     3562     6868    2      XST_CNT = 38;
     3563     6869    2      CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3564     6870    2      NXST = NXST + 1;
     3565     6871    2      MDS_TEXT = ' ';
     3566     6872    2      MDS_REG1 = 0;
     3567     6873    2      MDS_REG2.OCTET(1) = OCTET_BYTE(6);
     3568     6874    2      CALL BINCHAR(MDS_SECTOR, MDS_REG1);
     3569     6875    2      CALL INSERT(MDS_TEXT, 17, 23, 'OCTET 08 = ', MDS_SECTOR, ' -- SECTOR');
     3570     6876    2      XST_CNT = 40;
     3571     6877    2      CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3572     6878    2      NXST = NXST + 1;
     3573     6879    2   PARAM_3X_DONE:
     3574     6880    2      PARAMETER_ID = 0;                /* DECODING DONE FOR PARAM_3X */
     3575     6881    2          RETURN;
     3576     6882    2   END DECODE_PARAM_3X;
     3577     6883        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:113  
     3578     6884        /**/
     3579     6885        /* PROCEDURE TO DECODE DEVICE STATUS PARAMETER (TYPE 51) FOR MDS DISCS */
     3580     6886        /**/
     3581     6887    1   DECODE_PARAM_51:  PROC;
     3582     6888        /**/
     3583     6889    2      MDS_TEXT = ' ';
     3584     6890    2      OCTET$ = MDS_PARAM_51.SUB$(OCTET_NUM - 1);
     3585     6891    2      IF (OCTET_NUM = 1 OR OCTET_NUM = 2) THEN
     3586     6892    3         DO;
     3587     6893    3           HEX_NUM = OCTET_NUM;
     3588     6894    3           CALL INSERT(MDS_TEXT, 17, 11, 'OCTET ',BINHEX(HEX_NIBBLE(0)),
     3589     6895    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     3590     6896    3           CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),
     3591     6897    3                       BINHEX(OCTET_NIBBLE(2 * OCTET_NUM + 1)));
     3592     6898    3           XST_CNT = 30;
     3593     6899    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3594     6900    3           NXST = NXST + 1;
     3595     6901    3           PARAM_INDX = 0;
     3596     6902    4           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) +7);
     3597     6903    4              IF (IO_MASK1(X)) AND (PARAM_TBL.COUNT(PARAM_INDX) > 1)
     3598     6904    5                 THEN DO;
     3599     6905    5                   MDS_TEXT = ' ';
     3600     6906    5                   CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(PARAM_INDX), PARAM_TBL.
              6906                            TEXT(PARAM_INDX));
     3601     6907    5                   XST_CNT = PARAM_TBL.COUNT(PARAM_INDX) + 17;
     3602     6908    5                   CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);
     3603     6909    5                   NXST = NXST + 1;
     3604     6910    5                 END;
     3605     6911    4           PARAM_INDX = PARAM_INDX + 1;
     3606     6912    4           END;  /* DO X */
     3607     6913    3         END;
     3608     6914    2         ELSE RETURN;
     3609     6915    2      IF OCTET_NUM = 2 THEN
     3610     6916    2         PARAMETER_ID = 0;           /* FINISHED DECODING PARAM_51 */
     3611     6917    2      RETURN;
     3612     6918    2   END DECODE_PARAM_51;
     3613     6919    1   END THF$RAW;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:114  
     3614     6920        %EOD;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:115  
--  Include file information  --

   XU_FORMAT_C.:E05TOU  is referenced.
   NI_DATA_C.:E05TOU  is referenced.
   TM_DATA_M.:E05TOU  is referenced.
   B_MICROPS_C.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   TH_XSTATUS_R.:E05TOU  cannot be made into a system file and is referenced.
   EL_SUBS_C.:E05TOU  is referenced.
   KI_SUBS_C.:E05TOU  is referenced.
   TH_DATA_C.:E05TOU  is referenced.
   B_STRINGS_C.:E05TOU  is referenced.
   TH_SUBS_C.:E05TOU  is referenced.
   TH_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   EL$TABLES.:E05TOU  is referenced.
   B$JIT.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure THF$RAW.

   Procedure THF$RAW requires 11633 words for executable code.
   Procedure THF$RAW requires 366 words of local(AUTO) storage.

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:116  

 Object Unit name= THF$RAW                                    File name= THF$FORMAT.:E05TOU
 UTS= JUL 30 '97 06:08:02.04 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1  RoData even  UTS   1424   2620  THF$RAW
    2   Data  even  none  4009   7651  THF$RAW
    3   Proc  even  none 11633  26561  THF$RAW
    4  RoData even  none   304    460  THF$RAW

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     3      0   yes            yes      Std        1  THF$RAW

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    2     41  PR71_BUF                           2   3332  OTHER_IOERR_TBL
    2   3356  XSTAT_TBL                          2   7416  NINE_TRACK_TBL
    2   7470  FEPERR_TBL                         2   7532  IOERR_TBL
    1    526  BIT_4K                             1    566  QUAD_4K
    1    626  BIT_64K                            1    666  CHIP_64K_CHAR
    1    672  CHIP_64K_LET                       1    677  BOARD_64K
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:117  

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       3 THF$DUMP
         yes           Std      11 THW$WRITE
 yes     yes           Std       5 THF$STATUS
         yes           Std       2 THF$HISTORY
         yes           Std       0 THF$CSHERR
         yes           Std       3 THF$ADD_TEXTC
         yes           Std       3 THF$HEXDUMP
         yes           Std       1 X$FORMAT
                       nStd      0 X66_AUTO_1
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  TH_CONSTRAINTS                        TH_SYS_DEVS
     TH_NUM_DEVS                           TH_RECORD                             TH_INFO
     TH_ITYPE                              TH_LASTTYPE                           TH_TIME
     TH_LAST_DEVTYPE                       TH_LAST_REQID                         TH_RECOV
     TH_XSA_BUF_VECTOR                     TH_DETAIL_FLG                         TH_RAW_FLG
     TH_IOERR_FLG                          TH_FEPERR_FLG                         TH_FIRST_TIME
     TH_EOF_FLG                       r    X_DEV_TYPE                       r    MDS_OP_CODE_TBL
r    MDS_PARAM_ID_TBL                 r    MDS_PARAM_X2                     r    MDS_PARAM_X4
r    MDS_PARAM_X5                     r    MDS_PARAM_X8                     r    MDS_PARAM_XA
r    MDS_PARAM_X7                     r    MDS_PARAM_X6                     r    MDS_DRIVE_ENDING_STATUS
r    MDS_PARAM_X9                     r    MDSI_FRUS                        r    MDSII_FRUS
r    MDSI_FCODE                       r    MDSII_FCODE                      r    MDSII_STATUS
r    MDS_CMD_IDENT                    r    MDS_ERROR_LOC                    r    MDS_TIMEOUT_ERRS
r    MDS_RW_ERRS                      r    MDS_MISC_ERRS                    r    MDS_INFO_ERRS
r    MDS_PARAM_51                     r    PR54_BELT_TBL                    r    PR71_BELT_TBL
r    CTRL_ERR_TBL                     r    LED_TBL                          r    REGISTER_TBL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:118  
r    NON_REG_TBL                      r    FC                               r    FLTREG_TYPE
r    ILL_CODE                         r    SP_CASES                         r    DEVICE_CMND
r    TBL_EIGHTY_TWO                   r    TBL_SIX                          r    TBL_SIX_TEN
r    TBL_SIX_THIRTY                   r    FORMAT_TBLS                      r    FORM0_NOTB1_B3
r    FAULT_SYMP_TBL                        B$JIT$                                B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:119  


        1        1        /*T***********************************************************/
        2        2        /*T*                                                         */
        3        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        4        4        /*T*                                                         */
        5        5        /*T***********************************************************/
        6        6
        7        7        /*M* THF$FORMAT - ROUTINES TO BUILD INDIVIDUAL ELAN REPORTS */
        8        8        /**/
        9        9        THF$RAW: PROC(FMTTBL$);

      9  3 000000   000000 700200 xent  THF$RAW      TSX0  ! X66_AUTO_1
         3 000001   000556 000001                    ZERO    366,1

       10       10        /**/
       11       11        /* PARAMS */
       12       12    1   DCL FMTTBL$(0:0) PTR;
       13       13        /**/
       14       14        /* INCLUDE FILES */
       15       15        %INCLUDE CP_6;
       16       96        %INCLUDE B$JIT;
       17      386        %INCLUDE EL$TABLES;
       18      709        %INCLUDE TH_DATA_R;
       19      787        %INCLUDE TH_SUBS_C;
       20     1169        %INCLUDE TH_DATA_C;
       21     1185        %INCLUDE KI_SUBS_C;
       22     1321        %INCLUDE EL_SUBS_C;
       23     1405        %INCLUDE TH_XSTATUS_R;
       24     1708        %INCLUDE CP_6_SUBS;
       25     2248        %INCLUDE B_MICROPS_C;
       26     2420        %INCLUDE TM_DATA_M;
       27     2522        %INCLUDE NI_DATA_C;
       28     2635        %INCLUDE XU_FORMAT_C;
       29     2797        /**/
       30     2798        /* ENTRY DEFS */
       31     2799    1   DCL THW$WRITE ENTRY(11);
       32     2800    1   DCL THF$CSHERR ENTRY;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:120  
       33     2801    1   DCL THF$DUMP ENTRY(3);
       34     2802    1   DCL THF$HEXDUMP ENTRY(3);
       35     2803    1   DCL THF$HISTORY ENTRY(2);
       36     2804    1   DCL THF$ADD_TEXTC ENTRY(3);
       37     2805    1   DCL THF$STATUS ENTRY(5) ALTRET;
       38     2806    1   DCL X$FORMAT ENTRY(1);
       39     2807        /**/
       40     2808        /* SYMREFS */
       41     2809    1   DCL B$JIT$ PTR SYMREF;
       42     2810        /**/
       43     2811        /* VARS */
       44     2812    1   DCL 1 INFO DALIGNED,
       45     2813    1         2 BOUND UBIN(20) UNAL,
       46     2814    1         2 * BIT(16) UNAL,
       47     2815    1         2 PTR$ PTR;
       48     2816    1   DCL CHP CHAR(3);
       49     2817    1   DCL BORD CHAR(1);
       50     2818        %EL$SCREECH_MASK (NAME=MASK);
       51     2821    1   DCL I SBIN;
       52     2822    1   DCL X SBIN;
       53     2823    1   DCL PRNTR_REG BIT(6);
       54     2824    1   DCL PR54_BYTE BIT(9);
       55     2825    1   DCL 1 PTR_BELT,
       56     2826    1       2 BYT1 UBIN(8) UNAL,
       57     2827    1       2 BYT2 UBIN(8) UNAL;
       58     2828    1   DCL 1 PR54_BELT REDEF PTR_BELT,
       59     2829    1       2 * BIT(1) UNAL,
       60     2830    1       2 CODE BIT(15) UNAL;
       61     2831    1   DCL 1 PR71_BELT REDEF PTR_BELT,
       62     2832    1       2 * BIT(1) UNAL,
       63     2833    1       2 CODE BIT(15) UNAL;
       64     2834    1   DCL 1 PR71_REG1 ALIGNED,
       65     2835    1       2 BYT1 UBIN(8) UNAL,
       66     2836    1       2 BYT2 UBIN(8) UNAL,
       67     2837    1       2 * UBIN(20) UNAL;
       68     2838    1   DCL JUNK SBIN;
       69     2839    1   DCL TEMP CHAR(63);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:121  
       70     2840    1   DCL TEMP1 CHAR(63);
       71     2841    1   DCL TEMP2 CHAR(63);
       72     2842    1   DCL NUMSTATS UBIN;
       73     2843    1   DCL J UBIN;
       74     2844    1   DCL STRT UBIN;
       75     2845    1   DCL LEN SBIN;
       76     2846    1   DCL OUTBUF CHAR(132) STATIC;
       77     2847    1   DCL DYMFMT CHAR(0) CONSTANT INIT('%/DYNAMIC DATA : %10P');
       78     2848    1   DCL INFOFMT CHAR(0) CONSTANT INIT('%/INFO : %10P');
       79     2849    1   DCL PROCERR_SS CHAR(0) CONSTANT INIT('%/SAFE-STORE FRAME:  %10P');
       80     2850    1   DCL NUMBYTES UBIN WORD;
       81     2851    1   DCL NUMWORDS UBIN WORD;
       82     2852    1   DCL CHARNUM CHAR(3);
       83     2853    1   DCL TEXTBUF CHAR(256);
       84     2854    1   DCL TAPEFMT CHAR(0) CONSTANT INIT(
       85     2855    1   '%5A %2P%4A %3P%9NS%9NS%T%18-%T%25-%T%36-%T%46-%T%51-%T%61-%T%66-%T%/%10P');
       86     2856    1   DCL DISKFMT CHAR(0) CONSTANT INIT(
       87     2857    1  '%5A %2P%4A %3P%9NS%9NS%T%19-%T%26-%T%32-%T%39-%T%44-%T%50-%T%55-%T%61-%T%67-%T%/%10
              2857        P');
       88     2858    1   DCL PR71FMT1 CHAR(0) CONSTANT INIT('ECHO CHECK REG: %0P%4.16ZH%1Q');
       89     2859    1   DCL PR71FMT3 CHAR(0) CONSTANT INIT('SHORT CIRCUIT REG: %0P%4.16ZH%1Q');
       90     2860    1   DCL 1 PR71_BUF STATIC SYMDEF,
       91     2861    1       2 * CHAR(1) UNAL,
       92     2862    1       2 STRING CHAR(35) UNAL INIT(' ');
       93     2863    1   DCL 1 PR71_VECTOR_TBL BIT(72) STATIC DALIGNED INIT(VECTOR(NIL)*0);
       94     2864    1   DCL TEMP_STATUS BIT(72) STATIC ALIGNED;
       95     2865    1   DCL 1 TEMP_STATUS1 REDEF TEMP_STATUS,
       96     2866    1         2 MAJOR_STATUS BIT(6) UNAL,
       97     2867    1         2 XX BIT(6) UNAL,
       98     2868    1         2 * BIT(6) UNAL,
       99     2869    1         2 YY BIT(6) UNAL,
      100     2870    1         2 * BIT(24) UNAL,
      101     2871    1         2 CHANNEL BIT(6) UNAL,
      102     2872    1         2 * BIT(12) UNAL,
      103     2873    1         2 FAULT_CODE BIT(6) UNAL;
      104     2874    1   DCL 1 TVEC DALIGNED,
      105     2875    1           2 BOUND UBIN(20) UNAL,
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:122  
      106     2876    1           2 * BIT(16),
      107     2877    1           2 PTR$ PTR;
      108     2878    1   DCL 1 FEPERR_CODE STATIC UNAL,
      109     2879    1         2 FCG UBIN(18) UNAL,
      110     2880    1         2 MON BIT(1),
      111     2881    1         2 CODE UBIN(14) UNAL,
      112     2882    1         2 SEV UBIN(3) UNAL;
      113     2883    1   DCL TEXT$ PTR;
      114     2884    1   DCL 1 DFNAME BASED(TEXT$),
      115     2885    1           2 N UBIN BYTE UNAL,
      116     2886    1           2 DF CHAR(3),
      117     2887    1           2 MONID CHAR(4) UNAL,
      118     2888    1           2 SCOUNT CHAR(3);
      119     2889    1   DCL CTL$ PTR;
      120     2890    1   DCL STATS$ PTR;
      121     2891    1   DCL 1 TAPE_STATS BASED(STATS$) ALIGNED,   /* MPC AND TPUR TAPE STATISTICS */
      122     2892    1       2 RECORDS_READ UBIN,
      123     2893    1       2 RECORDS_WRITTEN UBIN,
      124     2894    1       2 WRITE_ERRS UBIN,
      125     2895    1       2 READ_ERRS UBIN,
      126     2896    1       2 TRANS_TIMING_ERRS UBIN,
      127     2897    1       2 MARGINAL_RECS UBIN,
      128     2898    1       2 PARITY_ERRS UBIN,
      129     2899    1       2 MTC_READ_COUNT UBIN;
      130     2900    1   DCL 1 DISK_STATS BASED(STATS$) ALIGNED,  /* MPC AND DAU DISK STATISTICS */
      131     2901    1       2 SEEKS UBIN,
      132     2902    1       2 SECTORS_WRITTEN UBIN,
      133     2903    1       2 SECTORS_READ UBIN,
      134     2904    1       2 DATA_TRANSFERS UBIN,
      135     2905    1       2 SEEK_INCOMPLETES UBIN,
      136     2906    1       2 HDR_VER_ERRS UBIN,
      137     2907    1       2 TRANS_TIMING_ERRS UBIN,
      138     2908    1       2 DATA_CHK_ALERTS UBIN,
      139     2909    1       2 CNT_CHK_ALERTS UBIN,
      140     2910    1       2 DLI_PARITY_ERRS UBIN,
      141     2911    1       2 ALT_TRKS_PROCESSED UBIN,
      142     2912    1       2 EDAC_CORR_ERRS UBIN,
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:123  
      143     2913    1       2 EDAC_UNCORR_ERRS UBIN,
      144     2914    1       2 LATENCY_RETRIES UBIN,
      145     2915    1       2 DATA_RETRIES UBIN,
      146     2916    1       2 SEARCH_ALERTS UBIN;
      147     2917    1   DCL 1 MDS_STATS BASED(STATS$) ALIGNED,  /* MDS DISK STATISTICS */
      148     2918    1       2 BYTES_READ UBIN,
      149     2919    1       2 BYTES_WRITTEN UBIN,
      150     2920    1       2 IPC_SEEK_CNT UBIN(18) UNAL,
      151     2921    1       2 SEEK_ERRS UBIN(18) UNAL,
      152     2922    1       2 DATA_CHKS_CORR UBIN(18) UNAL,
      153     2923    1       2 DATA_CHKS_UNCORR UBIN(18) UNAL,
      154     2924    1       2 CM_SEEK_CNT UBIN,
      155     2925    1       2 SEEK_READS UBIN,
      156     2926    1       2 SECTORS_READ UBIN,
      157     2927    1       2 SEEK_WRITES UBIN,
      158     2928    1       2 SECTORS_WRITTEN UBIN,
      159     2929    1       2 RETRIES UBIN,
      160     2930    1       2 LATENCIES_LOST UBIN;
      161     2931    1   DCL 1 EURC_STATS BASED(STATS$) ALIGNED,   /* EURC/IPC-UR STATISTICS */
      162     2932    1       2 RECEIVER_ERRS(0:3) UBIN(18) UNAL,
      163     2933    1       2 TRANSMITTER_ERRS(0:3) UBIN(18) UNAL,
      164     2934    1       2 CARDS_PUNCHED(0:3) UBIN(18) UNAL,
      165     2935    1       2 CARDS_READ(0:3) UBIN(18) UNAL,
      166     2936    1       2 FRAMES_RECEIVED(0:3) UBIN(18) UNAL,
      167     2937    1       2 FRAMES_TRANSMITTED(0:3) UBIN(18) UNAL,
      168     2938    1       2 CONNECT_PCWS(0:3) UBIN(18) UNAL,
      169     2939    1       2 PCWS_ON_IMU_INTERFACE(0:3) UBIN(18) UNAL,
      170     2940    1       2 TOTAL_TRANSACTIONS(0:3) UBIN,
      171     2941    1       2 WORD_TRANSFERS(0:3) UBIN,
      172     2942    1       2 LINES_PRINTED(0:3) UBIN(18) UNAL,
      173     2943    1       2 RETRANSMISSIONS(0:3) UBIN(18) UNAL,
      174     2944    1       2 PAGES_PRINTED(0:3) UBIN(18) UNAL,
      175     2945    1       2 UPTIME UBIN,
      176     2946    1       2 LOST_INTS UBIN(18) UNAL,
      177     2947    1       2 UNSOLICITED_FRAMES UBIN(18) UNAL,
      178     2948    1       2 PROMS(0:7) UBIN(9) UNAL;
      179     2949    1   DCL TYPE UBIN;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:124  
      180     2950    1   DCL LOC_UTS UBIN STATIC;
      181     2951    1   DCL DBUF CHAR(8) STATIC;
      182     2952    1   DCL TBUF CHAR(11) STATIC;
      183     2953    1   DCL DUMP_HDR CHAR(0) CONSTANT INIT('%2/ TYPE = %D  TIME = %A - %A %10P');
      184     2954    1   DCL DEV_FLAG BIT(1);
      185     2955    1   DCL DEV$ PTR;
      186     2956    1   DCL 1 DEVTBL(0:207) BASED(DEV$) ALIGNED,
      187     2957    1         2 CODE UBIN BYTE UNAL,
      188     2958    1         2 COUNT UBIN BYTE UNAL,
      189     2959    1         2 TEXT CHAR(35) UNAL;
      190     2960    1   DCL OCTET$ PTR;
      191     2961    1   DCL 1 PARAM_TBL(0:7) BASED(OCTET$) ALIGNED,
      192     2962    1       2 COUNT UBIN BYTE UNAL,
      193     2963    1       2 TEXT CHAR(44) UNAL;
      194     2964    1   DCL MDS_TBL$ PTR;
      195     2965    1   DCL 1 MDS_TBL(0:25) BASED(MDS_TBL$) ALIGNED,
      196     2966    1       2 CODE UBIN BYTE UNAL,
      197     2967    1       2 COUNT UBIN BYTE UNAL,
      198     2968    1       2 TEXT CHAR(44) UNAL;
      199     2969    1   DCL MODEL_CHAR CHAR(3);
      200     2970    1   DCL IO_MASK(0:35) UBIN(8) UNAL;
      201     2971    1   DCL IO_MASK1(0:287) REDEF IO_MASK BIT(1);
      202     2972    1   DCL NEW_IO_MASK(0:35) UBIN(8) UNAL;
      203     2973    1   DCL IO_MASK2(0:287) REDEF NEW_IO_MASK BIT(1);
      204     2974    1   DCL 1 OCTET_BYTE(0:25) UBIN(8) UNAL;
      205     2975    1   DCL 1 OCTET_NIBBLE(0:51) REDEF OCTET_BYTE UBIN(4) UNAL;
      206     2976    1   DCL 1 XSTATUS_BYTE(0:10) UBIN(8) UNAL;
      207     2977    1   DCL 1 XSTATUS_NIBBLE(0:21) REDEF XSTATUS_BYTE UBIN(4) UNAL;
      208     2978    1   DCL 1 HEX_NUM UBIN(8) UNAL;
      209     2979    1   DCL 1 HEX_NIBBLE(0:1) REDEF HEX_NUM UBIN(4) UNAL;
      210     2980    1   DCL 1 PARAM_INDX SBIN;
      211     2981    1   DCL 1 PARAMETER_ID UBIN(8) UNAL;
      212     2982    1   DCL 1 PARAM_ID REDEF PARAMETER_ID,
      213     2983    1       2 BYT1 UBIN(4) UNAL,
      214     2984    1       2 BYT2 UBIN(4) UNAL;
      215     2985    1   DCL 1 PARAMETER_LENGTH UBIN(8);
      216     2986    1   DCL 1 MDS_STATUS_REG1 UBIN(8) UNAL;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:125  
      217     2987    1   DCL 1 MDS_DRIVE_STATUS REDEF MDS_STATUS_REG1,
      218     2988    1       2 DRIVE_END_STATUS UBIN(4) UNAL,
      219     2989    1       2 OP_END_STATUS UBIN(4) UNAL;
      220     2990    1   DCL 1 MDS_STATUS_REG2(0:1) UBIN(8) UNAL;
      221     2991    1   DCL 1 MDS_CMD_ENDING_STAT REDEF MDS_STATUS_REG2,
      222     2992    1       2 CMD_IDENT UBIN(8) UNAL,
      223     2993    1       2 ERROR_LOC UBIN(2) UNAL,
      224     2994    1       2 ERROR_CAT UBIN(2) UNAL,
      225     2995    1       2 ERROR_CODE UBIN(3) UNAL,
      226     2996    1       2 * UBIN(1) UNAL;
      227     2997    1   DCL 1 F_INDX UBIN(8) UNAL;
      228     2998    1   DCL 1 FRU_INDX(0:1) REDEF F_INDX UBIN(4) UNAL;
      229     2999    1   DCL 1 MAX_ENTRY UBIN;
      230     3000    1   DCL 1 OCTET_NUM SBIN;
      231     3001    1   DCL 1 BINHEX(0:15) CHAR(1) CONSTANT UNAL INIT('0','1','2','3','4','5','6',
      232     3002    1                      '7','8','9','A','B','C','D','E','F');
      233     3003    1   DCL 1 ASCII_EXTST(0:31),         /* ASCII FORMAT FOR EXTENDED STATUS */
      234     3004    1       2 * BIT(1) UNAL,
      235     3005    1       2 BYT UBIN(8) UNAL;
      236     3006    1   DCL 1 FRU_STRING STATIC,
      237     3007    1       2 * CHAR(4) UNAL INIT('  = '),
      238     3008    1       2 OCTET(0:3),
      239     3009    1         3 NIB1 CHAR(1) UNAL,
      240     3010    1         3 NIB2 CHAR(1) UNAL,
      241     3011    1         3 * CHAR(1) INIT(' '*0) UNAL;
      242     3012    1   DCL 1 FRU_STR REDEF FRU_STRING CHAR(16);
      243     3013    1   DCL 1 MDS_REG1 UBIN;
      244     3014    1   DCL 1 MDS_REG2 REDEF MDS_REG1,
      245     3015    1       2 * UBIN(20) UNAL,
      246     3016    1       2 OCTET(0:1) UBIN(8) UNAL;
      247     3017    1   DCL 1 MDS_CYL CHAR(4) UNAL;
      248     3018    1   DCL 1 MDS_SECTOR CHAR(2) UNAL;
      249     3019    1   DCL 1 MDS_HEAD CHAR(2) UNAL;
      250     3020    1   DCL FIPS_TAPE BIT(1);
      251     3021    1   DCL XST$ PTR;
      252     3022    1   DCL 1 XST_TEMP BASED(XST$),
      253     3023    1         2 N UBIN WORD;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:126  
      254     3024    1   DCL XSTBUF CHAR(6000) STATIC INIT(' ');
      255     3025    1   DCL 1 XSTVEC DALIGNED,
      256     3026    1         2 BOUND UBIN(20) UNAL,
      257     3027    1         2 * BIT(16) UNAL,
      258     3028    1         2 PTR$ PTR;
      259     3029    1   DCL XST_TEXT CHAR(35);
      260     3030    1   DCL MDS_TEXT CHAR(80);
      261     3031    1   DCL 1 MDS_TEXT_POSITION SBIN;
      262     3032    1   DCL XST_CNT SBIN;
      263     3033    1   DCL NXST UBIN;
      264     3034    1   DCL N UBIN;
      265     3035    1   DCL MDSFMT CHAR(0) CONSTANT INIT('%N(%/%2-%T%) %10P');
      266     3036    1   DCL EVENFMT CHAR(0) CONSTANT INIT('%N(%/%2-%T%37-%T%) %10P');
      267     3037    1   DCL ODDFMT CHAR(0) CONSTANT INIT('%N(%/%2-%T%37-%T%) %/%2-%T %10P');
      268     3038    1   DCL ODDFLAG BIT(1);
      269     3039    1   DCL MAJBUF CHAR(32);
      270     3040    1   DCL MINBUF CHAR(32);
      271     3041    1   DCL MAJCNT SBIN WORD;
      272     3042    1   DCL MINCNT SBIN WORD;
      273     3043    1   DCL MMBUF CHAR(256) STATIC INIT(' ');
      274     3044    1   DCL MM$ PTR;
      275     3045    1   DCL 1 TXT_TEMP BASED(MM$),
      276     3046    1         2 N UBIN WORD;
      277     3047    1   DCL 1 MMVEC DALIGNED,
      278     3048    1         2 BOUND UBIN(20) UNAL,
      279     3049    1         2 * BIT(16) UNAL,
      280     3050    1         2 PTR$ PTR;
      281     3051    1   DCL SECTOR SBIN;
      282     3052    1   DCL CYL SBIN;
      283     3053    1   DCL HD SBIN;
      284     3054    1   DCL SE SBIN;
      285     3055    1   DCL IOMN CHAR(1);
      286     3056    1   DCL CPUN CHAR(1);     /* CPU NUMBER */
      287     3057    1   DCL SCUN CHAR(1);     /* SCU NUMBER */
      288     3058    1   DCL IOM_DEVN CHAR(8);
      289     3059    1   DCL CPU_DEVN CHAR(8);
      290     3060    1   DCL SCU_DEVN CHAR(8);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:127  
      291     3061    1   DCL SECBUF CHAR(20) STATIC INIT(' ');
      292     3062    1   DCL SEC$ PTR;
      293     3063    1   DCL CCYL CHAR(4);
      294     3064    1   DCL TEMPBUF(0:5) UBIN;
      295     3065    1   DCL CHD CHAR(3);
      296     3066    1   DCL CSE CHAR(3);
      297     3067    1   DCL HDCH CHAR(2);
      298     3068    1   DCL SECH CHAR(2);
      299     3069    1   DCL 1 MT_POSITION STATIC CALIGNED,
      300     3070    1       2 FILE CHAR(4) UNAL,
      301     3071    1       2 * CHAR(1) INIT('-') UNAL,
      302     3072    1       2 RECCNT CHAR(6) UNAL;
      303     3073    1   DCL 1 DP_POSITION STATIC CALIGNED,
      304     3074    1       2 CYL CHAR(4) UNAL,
      305     3075    1       2 * CHAR(1) INIT('-') UNAL,
      306     3076    1       2 HD CHAR(2) UNAL,
      307     3077    1       2 * CHAR(1) INIT('-') UNAL,
      308     3078    1       2 SEC CHAR(2) UNAL;
      309     3079    1   DCL SEEK_ADDR CHAR(8) CALIGNED;
      310     3080    1   DCL 1 SECVEC DALIGNED,
      311     3081    1         2 BOUND UBIN(20) UNAL,
      312     3082    1         2 * BIT(16) UNAL,
      313     3083    1         2 PTR$ PTR;
      314     3084    1   DCL FC$ PTR;
      315     3085    1   DCL FCBUF CHAR(300) STATIC INIT(' ');
      316     3086    1   DCL 1 FCVEC DALIGNED,
      317     3087    1         2 BOUND UBIN(20) UNAL,
      318     3088    1         2 * BIT(16) UNAL,
      319     3089    1         2 PTR$ PTR;
      320     3090    1   DCL FC_TEXT CHAR(37);
      321     3091    1   DCL FC_CNT SBIN;
      322     3092    1   DCL FCPTR$ PTR;
      323     3093    1   DCL 1 FCTBL(0:71) BASED (FCPTR$) ALIGNED,
      324     3094    1         2 CODE UBIN BYTE UNAL,
      325     3095    1         2 COUNT UBIN BYTE UNAL,
      326     3096    1         2 TEXT CHAR(37) UNAL;
      327     3097    1   DCL FLT_REG BIT(72);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:128  
      328     3098    1   DCL FLT_REG_T(0:71) REDEF FLT_REG BIT(1);
      329     3099    1   DCL FLT_REG_TT(0:17) REDEF FLT_REG BIT(4);
      330     3100    1   DCL FCFMT CHAR(0) CONSTANT INIT('%/FAULT CODE:  %T%10P');
      331     3101    1   DCL FRFMT CHAR(0) CONSTANT INIT(
      332     3102    1       '%/FAULT REGISTER INTERPRETATION: %N(%/%5-%T%) %10P');
      333     3103    1   DCL 1 FC_TEMP BASED (FC$),
      334     3104    1         2 N UBIN WORD;
      335     3105    1   DCL II UBIN;
      336     3106    1   DCL JJ UBIN;
      337     3107    1   DCL FCFLAG UBIN;
      338     3108    1   DCL BIT_CNT UBIN;
      339     3109    1   DCL FEP_COUNT UBIN;
      340     3110    1   DCL 1 SPTBL(0:6) BASED(SPC$) ALIGNED,
      341     3111    1         2 CODE CHAR(5) UNAL,
      342     3112    1         2 COUNT UBIN BYTE UNAL,
      343     3113    1         2 TEXT CHAR(35) UNAL;
      344     3114    1   DCL SP_BIT(0:4) CHAR(1) STATIC INIT(' '*0);
      345     3115    1   DCL SPBIT$ PTR STATIC INIT(ADDR(SP_BIT));
      346     3116    1   DCL SP_CHAR CHAR(LENN) BASED(SPBIT$);
      347     3117    1   DCL LENN UBIN;
      348     3118    1   DCL SPC$ PTR;
      349     3119    1   DCL DP_BIT(0:3) BIT(1);
      350     3120    1   DCL DP_FORMAT REDEF DP_BIT UBIN(4) UNAL;
      351     3121    1   DCL DP_FORM_MSG REDEF DP_BIT UBIN(4) UNAL;
      352     3122    1   DCL FT_BIT(0:7) BIT(1);
      353     3123    1   DCL FT_CODE REDEF FT_BIT UBIN(8) UNAL;
      354     3124    1   DCL 1 DP_FORM_TBL(0:15) BASED(DPC$) ALIGNED,
      355     3125    1         2 CODE UBIN(4) UNAL,
      356     3126    1         2 COUNT UBIN BYTE UNAL,
      357     3127    1         2 TEXT CHAR(30) UNAL;
      358     3128    1   DCL DPC$ PTR;
      359     3129    1   DCL ERR_MSG STATIC CHAR(120) INIT(' ');
      360     3130    1   DCL ERR_MSG_T CHAR(43);
      361     3131    1   DCL COMPONENT_HDR CHAR(0) CONSTANT INIT(
      362     3132        '%/COMPONENT - %1.20P%4A      ICCCDD - %1.5.0.6P%1.3D%3.9ZD%1.5P%2.6ZD%/
      363     3133                  COUNT  ERROR TYPE%/
      364     3134    1             -----  ----------%10P');
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:129  
      365     3135    1   DCL COMPONENT_FMT BIT(72) DALIGNED STATIC INIT(VECTOR(COMPONENT_HDR));
      366     3136    1   DCL STATUS_DATA CHAR(0) CONSTANT INIT(
      367     3137    1   '       %1P%3D    %2P%35A%10P');
      368     3138    1   DCL STATUS_FMT BIT(72) DALIGNED STATIC INIT(VECTOR(STATUS_DATA));
      369     3139    1   DCL NO_XSTAT_HDR CHAR(0) CONSTANT INIT(
      370     3140        '%/%2P %8-%3D %3P %13-%T,%28-%T %1.1P %48-%2.6ZO/%51-%2.6ZO %/
      371     3141    1                         Device Id-%1.24P%8A Tracks-%2.19P%1A Operation-%2.1P%8A %10P'
              3141        '%/%2P %8-%3D %3P %13-%T,%28-%T %1.1P %48-%2.6ZO/%51-%2.6ZO %/           Device Id-
              3141        %1.24P%8A Tracks-%2.19P%1A Operation-%2.1P%8A %10P');
      372     3142    1   DCL NO_XSTAT_FMT BIT(72) DALIGNED STATIC INIT(VECTOR(NO_XSTAT_HDR));
      373     3143    1   DCL NON_TAPE_HDR CHAR(0) CONSTANT INIT(
      374     3144    1   '%/%2P %8-%3D %3P %13-%T,%28-%T %1.1P %48-%2.6ZO/%51-%2.6ZO %10P');
      375     3145    1   DCL NON_TAPE_FMT BIT(72) DALIGNED STATIC INIT(VECTOR(NON_TAPE_HDR));
      376     3146    1   DCL NINE_TRK_HDR CHAR(0) CONSTANT INIT(
      377     3147        '            Data/Trk in Err 0/7  1/6  2/5  3/3  4/9  5/1  6/8  7/2  P/4 %/
      378     3148    1                     err counts =   %1P%3A  %3A  %3A  %3A  %3A  %3A  %3A  %3A %3A%10P'
              3148        '            Data/Trk in Err 0/7  1/6  2/5  3/3  4/9  5/1  6/8  7/2  P/4 %/
              3148            err counts =   %1P%3A  %3A  %3A  %3A  %3A  %3A  %3A  %3A  %3A%10P');
      379     3149    1   DCL NINE_TRK_FMT BIT(72) DALIGNED STATIC INIT(VECTOR(NINE_TRK_HDR));
      380     3150    1   DCL SEVEN_TRK_HDR CHAR(0) CONSTANT INIT(
      381     3151        '            Data/Trk in Err           2/6  3/5  4/4  5/3  6/2  7/1  P/7 %/
      382     3152    1                     err counts =             %1P%3A  %3A  %3A  %3A  %3A  %3A %3A%10P'
              3152        '            Data/Trk in Err           2/6  3/5  4/4  5/3  6/2  7/1  P/7 %/
              3152            err counts =             %1P%3A  %3A  %3A  %3A  %3A  %3A  %3A%10P');
      383     3153    1   DCL SEVEN_TRK_FMT BIT(72) DALIGNED STATIC INIT(VECTOR(SEVEN_TRK_HDR));
      384     3154    1   DCL EXTENDED_HDR CHAR(0) CONSTANT INIT(
      385     3155    1   '            EXTENDED STATUS:%10P');
      386     3156    1   DCL EXTENDED_FMT BIT(72) DALIGNED STATIC INIT(VECTOR(EXTENDED_HDR));
      387     3157    1   DCL NEW_OP BIT(36);
      388     3158    1   DCL NEW_OP_RDF(0:5) REDEF NEW_OP BIT(6);
      389     3159    1   DCL OPERATION CHAR(8);
      390     3160    1   DCL 1 OTHER_IOERR_TBL STATIC SYMDEF ALIGNED,
      391     3161    1         2 COUNT UBIN WORD,
      392     3162    1         2 OPERATION CHAR(8),
      393     3163    1         2 SPEED CHAR(32),
      394     3164    1         2 DENSITY CHAR(32),
      395     3165    1         2 TRACK CHAR(1);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:130  
      396     3166    1   DCL 1 XSTAT_TBL(0:207) STATIC SYMDEF ALIGNED,
      397     3167    1         2 COUNT UBIN WORD,
      398     3168    1         2 TEXT CHAR(35);
      399     3169    1   DCL ALL_MATCH BIT(1);
      400     3170    1   DCL DEV_OP$ PTR;
      401     3171    1   DCL 1 DEV_OP_TBL(0:30) BASED(DEV_OP$) ALIGNED,
      402     3172    1         2 CODE BIT(6) UNAL,
      403     3173    1         2 COUNT UBIN BYTE UNAL,
      404     3174    1         2 TEXT CHAR(8) UNAL;
      405     3175    1   DCL OLD_DENSE UBIN(8) UNAL;
      406     3176    1   DCL 1 OLD_DENSE_RDF REDEF OLD_DENSE,
      407     3177    1       2 DENSITY UBIN(3) UNAL,
      408     3178    1       2 * UBIN(5) UNAL;
      409     3179    1   DCL NEW_DENSE UBIN(8) UNAL;
      410     3180    1   DCL 1 NEW_DENSE_RDF REDEF NEW_DENSE,
      411     3181    1       2 DENSITY UBIN(3) UNAL,
      412     3182    1       2 * UBIN(5) UNAL;
      413     3183    1   DCL NUM_XSTATUS UBIN WORD ALIGNED;
      414     3184    1   DCL TRACK_NINE BIT(1);
      415     3185    1   DCL TRACK_SEVEN BIT(1);
      416     3186    1   DCL FOUND_ST BIT(1);
      417     3187    1   DCL 1 NINE_TRACK_TBL STATIC SYMDEF CALIGNED,
      418     3188    1         2 SEVEN UBIN BYTE CALIGNED,
      419     3189    1         2 SIX UBIN BYTE CALIGNED,
      420     3190    1         2 FIVE UBIN BYTE CALIGNED,
      421     3191    1         2 THREE UBIN BYTE CALIGNED,
      422     3192    1         2 NINE UBIN BYTE CALIGNED,
      423     3193    1         2 ONE UBIN BYTE CALIGNED,
      424     3194    1         2 EIGHT UBIN BYTE CALIGNED,
      425     3195    1         2 TWO UBIN BYTE CALIGNED,
      426     3196    1         2 FOUR UBIN BYTE CALIGNED;
      427     3197    1   DCL 1 NINE_TRACK_RDF(0:8) REDEF NINE_TRACK_TBL UBIN BYTE CALIGNED;
      428     3198    1   DCL NINE_TRACK_BLNK(0:8) CHAR(3);
      429     3199    1   DCL NINE_TRACK_STRING REDEF NINE_TRACK_BLNK CHAR(27);
      430     3200    1   DCL NO_LEADING_ZEROS(0:2) BIT(9) CONSTANT UNAL INIT(%MVZB2,%SES10,%MVC1);
      431     3201    1   DCL FEP_HDR CHAR(0) CONSTANT INIT(
      432     3202        '%/FEP# - %3.16D  CHAN - %1.5.2.1P%2.8ZH%1.5.3.1P%2.8ZH%/
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:131  
      433     3203        COUNT       ERROR CODE    ERROR MESSAGE%/
      434     3204    1   %5(-%)       %12(-%)  %44(-%)%10P');
      435     3205    1   DCL FEP_FMT BIT(72) DALIGNED STATIC INIT(VECTOR(FEP_HDR));
      436     3206        %FPT_ERRMSG (FPTN = ERR_MSGS,
      437     3207                     BUF = ERR_MSG,
      438     3208                     CODE = FEPERR_CODE,
      439     3209                     INCLCODE=NO,
      440     3210                     FILEACCT = ERR_MSG_ACCT,
      441     3211                     RESULTS = TEMP_VLR,
      442     3212                     FILENAME = ERR_MSG_NAME);
      443     3239        %FPT_TIME (FPTN=LOC_DATE,
      444     3240                   STCLASS=CONSTANT,
      445     3241                   SOURCE=UTS,
      446     3242                   TSTAMP=LOC_UTS,
      447     3243                   DATE=DBUF,
      448     3244                   TIME=TBUF,
      449     3245                   DEST=LOCAL);
      450     3264        %VLP_ACCT (FPTN = ERR_MSG_ACCT,
      451     3265                   ACCT = ':SYS');
      452     3278        %VLP_NAME (FPTN = ERR_MSG_NAME,
      453     3279                   NAME = ':GGERRMSG');
      454     3306        %VLR_ERRMSG (FPTN = TEMP_VLR);
      455     3328        /**/
      456     3329        /* MACRO INVOCATIONS */
      457     3330        %CTL (STCLASS="BASED(CTL$)");
      458     3340        %EL$ENTRY (NAME=RECORD,STCLASS="BASED(TH_RECORD.PTR$)");
      459     3344        %EL$IOERR (STCLASS="BASED(INFO.PTR$)");
      460     3354        %EL$SCREECH (STCLASS="BASED(INFO.PTR$)");
      461     3360        %EL$FILERR (STCLASS="BASED(INFO.PTR$)");
      462     3367        %EL$FWLOAD (STCLASS="BASED(INFO.PTR$)");
      463     3370        %EL$OSFI (STCLASS="BASED(INFO.PTR$)");
      464     3377        %EL$SPURINT (STCLASS="BASED(INFO.PTR$)");
      465     3381        %EL$MTDMT (STCLASS="BASED(INFO.PTR$)");
      466     3384        %EL$FECRASH (STCLASS="BASED(INFO.PTR$)");
      467     3389        %EL$FEPFLT (STCLASS="BASED(INFO.PTR$)");
      468     3392        %EL$OPER (STCLASS="BASED(INFO.PTR$)");
      469     3395        %EL$CMPSTRT (STCLASS="BASED(INFO.PTR$)");
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:132  
      470     3398        %EL$PROCERR (STCLASS="BASED(INFO.PTR$)");
      471     3408        %EL$EDAC (STCLASS="BASED(INFO.PTR$)");
      472     3417        %EL$GABRT (STCLASS="BASED(INFO.PTR$)");
      473     3422        %EL$SYSCON (STCLASS="BASED(INFO.PTR$)");
      474     3426        %EL$ANLZ (STCLASS="BASED(INFO.PTR$)");
      475     3430        %EL$MPCSTATS (STCLASS="BASED(INFO.PTR$)");
      476     3433        %EL$DEVSTATS (STCLASS="BASED(INFO.PTR$)");
      477     3436        %EL$FEPERR (STCLASS="BASED(INFO.PTR$)");
      478     3515        %EL$ZAP (STCLASS="BASED(INFO.PTR$)");
      479     3518        %EL$CGERR (STCLASS="BASED(INFO.PTR$)");
      480     3522        %EL$DIAG (STCLASS="BASED(INFO.PTR$)");
      481     3525        %VLR_SITEINFO (FPTN=EL$SYSID,STCLASS="BASED(INFO.PTR$)");
      482     3544        %EL$FEPERR (NAME=FEPERR_TBL,STCLASS="STATIC SYMDEF");
      483     3623        %EL$IOERR (NAME=IOERR_TBL,STCLASS="STATIC SYMDEF");
      484     3633        %EL$CHANTRAN (STCLASS="BASED(INFO.PTR$)");
      485     3637        %EL$MSOSSAYS (STCLASS="BASED(INFO.PTR$)");
      486     3643        %EL$CP6SAYS (STCLASS="BASED(INFO.PTR$)");
      487     3649        %EL$CHNGAARD (STCLASS="BASED(INFO.PTR$)");
      488     3653        %EL$MIRROR (STCLASS="BASED(INFO.PTR$)");
      489     3657        %F_FDS(NAME=FDS_PR71,NVECS=1,TRUNC=YES,VECTR=PR71_VECTOR_TBL,
      490     3658               BUF=PR71_BUF);
      491     3771        /**/
      492     3772        %SUB NUMMODELS = 29;    /* THE MAX IS 29, THERE ARE 9 EXTRA SLOTS NOW! */
      493     3773        /**/
      494     3774        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:133  
      495     3775    1        IF TH_RECOV AND (TH_ITYPE = %TH_SUA OR TH_ITYPE = %TH_SNAP)

   3775  3 000002   000000 234000 xsym               SZN     TH_RECOV
         3 000003   000013 605000 3                  TPL     s:3777
         3 000004   000000 235000 xsym               LDA     TH_ITYPE
         3 000005   000035 115007                    CMPA    29,DL
         3 000006   000011 600000 3                  TZE     s:3776
         3 000007   000036 115007                    CMPA    30,DL
         3 000010   000013 601000 3                  TNZ     s:3777

      496     3776    1           THEN TH_ITYPE = %TH_SCREECH;

   3776  3 000011   000030 236007                    LDQ     24,DL
         3 000012   000000 756000 xsym               STQ     TH_ITYPE

      497     3777    1        CTL$ = FMTTBL$(TH_ITYPE);

   3777  3 000013   200003 470500                    LDP0    @FMTTBL$,,AUTO
         3 000014   000000 720000 xsym               LXL0    TH_ITYPE
         3 000015   000000 236110                    LDQ     0,X0,PR0
         3 000016   200211 756100                    STQ     CTL$,,AUTO

      498     3778    1        IF CTL$ = ADDR(NIL) OR TH_ITYPE > %TH_LASTITYPE

   3778  3 000017   000001 116000 xsym               CMPQ    B_VECTNIL+1
         3 000020   000024 600000 3                  TZE     s:3780
         3 000021   000000 235000 xsym               LDA     TH_ITYPE
         3 000022   000046 115007                    CMPA    38,DL
         3 000023   000066 602000 3                  TNC     s:3791

      499     3779    2           THEN DO;                        /* DUMP RECORD IN OCTAL               */

      500     3780    2              LOC_UTS = RECORD.UTS;

   3780  3 000024   000001 471400 xsym               LDP1    TH_RECORD+1
         3 000025   100000 235100                    LDA     0,,PR1
         3 000026   100001 236100                    LDQ     1,,PR1
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:134  
         3 000027   000011 773000                    LRL     9
         3 000030   000057 756000 2                  STQ     LOC_UTS

      501     3781    2              CALL M$TIME(LOC_DATE);

   3781  3 000031   000512 630400 1                  EPPR0   LOC_DATE
         3 000032   020004 713400                    CLIMB   8196
         3 000033   402000 401760                    pmme    nvectors=5

      502     3782    2              TYPE = RECORD.TYPE;

   3782  3 000034   000001 470400 xsym               LDP0    TH_RECORD+1
         3 000035   000000 236100                    LDQ     0,,PR0
         3 000036   000033 772000                    QRL     27
         3 000037   200213 756100                    STQ     TYPE,,AUTO

      503     3783    2              CALL THW$WRITE(VECTOR(DUMP_HDR),

   3783  3 000040   777640 235007                    LDA     -96,DL
         3 000041   200534 452500                    STP2    CHIP#+2,,AUTO
         3 000042   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 000043   000213 036003                    ADLQ    139,DU
         3 000044   200536 757100                    STAQ    CHIP#+4,,AUTO
         3 000045   000006 237000 4                  LDAQ    6
         3 000046   200542 757100                    STAQ    CHIP#+8,,AUTO
         3 000047   200536 631500                    EPPR1   CHIP#+4,,AUTO
         3 000050   200541 451500                    STP1    CHIP#+7,,AUTO
         3 000051   000010 236000 4                  LDQ     8
         3 000052   200540 756100                    STQ     CHIP#+6,,AUTO
         3 000053   200540 630500                    EPPR0   CHIP#+6,,AUTO
         3 000054   000022 631400 xsym               EPPR1   B_VECTNIL+18
         3 000055   000000 701000 xent               TSX1    THW$WRITE
         3 000056   000000 011000                    NOP     0

      504     3784    2                             VECTOR(TYPE),
      505     3785    2                             VECTOR(DBUF),
      506     3786    2                             VECTOR(TBUF));
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:135  
      507     3787    2              CALL THF$DUMP(TH_RECORD.PTR$);

   3787  3 000057   000011 630400 4                  EPPR0   9
         3 000060   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000061   000000 701000 xent               TSX1    THF$DUMP
         3 000062   000000 011000                    NOP     0

      508     3788    2              TH_LASTTYPE = -1;

   3788  3 000063   000001 335007                    LCA     1,DL
         3 000064   000000 755000 xsym               STA     TH_LASTTYPE

      509     3789    2              RETURN;

   3789  3 000065   000000 702200 xent               TSX2  ! X66_ARET

      510     3790    2              END;
      511     3791    1        IF TH_DETAIL_FLG AND TH_IOERR_FLG

   3791  3 000066   000000 234000 xsym               SZN     TH_DETAIL_FLG
         3 000067   000075 605000 3                  TPL     s:3793
         3 000070   000000 234000 xsym               SZN     TH_IOERR_FLG
         3 000071   000075 605000 3                  TPL     s:3793

      512     3792    1        THEN CALL THF$IOERR;

   3792  3 000072   011221 701000 3                  TSX1    THF$IOERR
         3 000073   000000 011000                    NOP     0
         3 000074   010513 710000 3                  TRA     s:4833

      513     3793    1        ELSE IF TH_FEPERR_FLG AND TH_DETAIL_FLG

   3793  3 000075   000000 234000 xsym               SZN     TH_FEPERR_FLG
         3 000076   000104 605000 3                  TPL     s:3796
         3 000077   000000 234000 xsym               SZN     TH_DETAIL_FLG
         3 000100   000104 605000 3                  TPL     s:3796

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:136  
      514     3794    1        THEN CALL THF$FEPERR;

   3794  3 000101   015067 701000 3                  TSX1    THF$FEPERR
         3 000102   000000 011000                    NOP     0
         3 000103   010513 710000 3                  TRA     s:4833

      515     3795    2        ELSE DO;

      516     3796    2        INFO = TH_INFO;

   3796  3 000104   000000 237000 xsym               LDAQ    TH_INFO
         3 000105   200004 757100                    STAQ    INFO,,AUTO

      517     3797    2        TEXTBUF = ' ';

   3797  3 000106   040100 100400                    MLR     fill='040'O
         3 000107   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 000110   200106 000400                    ADSC9   TEXTBUF,,AUTO            cn=0,n=256

      518     3798    2        TEXT$ = ADDR(TEXTBUF);

   3798  3 000111   200106 631500                    EPPR1   TEXTBUF,,AUTO
         3 000112   200210 451500                    STP1    TEXT$,,AUTO

      519     3799    2        MMBUF = ' ';

   3799  3 000113   040000 100400                    MLR     fill='040'O
         3 000114   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 000115   003025 000400 2                  ADSC9   MMBUF                    cn=0,n=256

      520     3800    2        MM$ = ADDR(MMBUF);

   3800  3 000116   000012 236000 4                  LDQ     10
         3 000117   200370 756100                    STQ     MM$,,AUTO

      521     3801    2        SECBUF = ' ';

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:137  
   3801  3 000120   040000 100400                    MLR     fill='040'O
         3 000121   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 000122   003125 000024 2                  ADSC9   SECBUF                   cn=0,n=20

      522     3802    2        SEC$ = ADDR(SECBUF);

   3802  3 000123   000013 236000 4                  LDQ     11
         3 000124   200411 756100                    STQ     SEC$,,AUTO

      523     3803    3        DO I = 0 TO 5;

   3803  3 000125   200010 450100                    STZ     I,,AUTO

      524     3804    3          TEMPBUF(I) = 0;

   3804  3 000126   200010 720100                    LXL0    I,,AUTO
         3 000127   200413 450110                    STZ     TEMPBUF,X0,AUTO

      525     3805    3        END;

   3805  3 000130   200010 054100                    AOS     I,,AUTO
         3 000131   200010 235100                    LDA     I,,AUTO
         3 000132   000005 115007                    CMPA    5,DL
         3 000133   000126 604400 3                  TMOZ    s:3804

      526     3806    2        CYL = 0;

   3806  3 000134   200375 450100                    STZ     CYL,,AUTO

      527     3807    2        HD = 0;

   3807  3 000135   200376 450100                    STZ     HD,,AUTO

      528     3808    2        SE = 0;

   3808  3 000136   200377 450100                    STZ     SE,,AUTO

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:138  
      529     3809    3        DO CASE(TH_ITYPE);

   3809  3 000137   000000 236000 xsym               LDQ     TH_ITYPE
         3 000140   000046 116007                    CMPQ    38,DL
         3 000141   000143 602006 3                  TNC     s:3809+4,QL
         3 000142   007070 710000 3                  TRA     s:4630
         3 000143   007070 710000 3                  TRA     s:4630
         3 000144   000211 710000 3                  TRA     s:3811
         3 000145   000264 710000 3                  TRA     s:3823
         3 000146   000264 710000 3                  TRA     s:3823
         3 000147   007070 710000 3                  TRA     s:4630
         3 000150   007070 710000 3                  TRA     s:4630
         3 000151   007070 710000 3                  TRA     s:4630
         3 000152   000304 710000 3                  TRA     s:3827
         3 000153   006545 710000 3                  TRA     s:4583
         3 000154   001632 710000 3                  TRA     s:4012
         3 000155   002427 710000 3                  TRA     s:4106
         3 000156   006344 710000 3                  TRA     s:4553
         3 000157   002450 710000 3                  TRA     s:4110
         3 000160   003077 710000 3                  TRA     s:4183
         3 000161   006257 710000 3                  TRA     s:4533
         3 000162   003134 710000 3                  TRA     s:4192
         3 000163   003271 710000 3                  TRA     s:4217
         3 000164   003446 710000 3                  TRA     s:4236
         3 000165   004214 710000 3                  TRA     s:4300
         3 000166   001274 710000 3                  TRA     s:3949
         3 000167   001435 710000 3                  TRA     s:3973
         3 000170   007070 710000 3                  TRA     s:4630
         3 000171   000325 710000 3                  TRA     s:3830
         3 000172   007070 710000 3                  TRA     s:4630
         3 000173   000521 710000 3                  TRA     s:3862
         3 000174   000611 710000 3                  TRA     s:3881
         3 000175   007070 710000 3                  TRA     s:4630
         3 000176   002475 710000 3                  TRA     s:4116
         3 000177   001262 710000 3                  TRA     s:3946
         3 000200   000521 710000 3                  TRA     s:3862
         3 000201   000521 710000 3                  TRA     s:3862
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:139  
         3 000202   001144 710000 3                  TRA     s:3929
         3 000203   007070 710000 3                  TRA     s:4630
         3 000204   007070 710000 3                  TRA     s:4630
         3 000205   006725 710000 3                  TRA     s:4604
         3 000206   007070 710000 3                  TRA     s:4630
         3 000207   007070 710000 3                  TRA     s:4630
         3 000210   001532 710000 3                  TRA     s:3996

      530     3810    3            CASE(%TH_CMPSTRT);

      531     3811    3              CALL BUILDTIME(EL$CMPSTRT.LAST_STATE_CHANGE);

   3811  3 000211   200005 236100                    LDQ     INFO+1,,AUTO
         3 000212   000003 036003                    ADLQ    3,DU
         3 000213   200525 756100                    STQ     NINE_TRACK_BLNK+9,,AUTO
         3 000214   010514 701000 3                  TSX1    BUILDTIME
         3 000215   000000 011000                    NOP     0

      532     3812    4              DO CASE(EL$CMPSTRT.STATE);

   3812  3 000216   200005 470500                    LDP0    INFO+1,,AUTO
         3 000217   000005 235100                    LDA     5,,PR0
         3 000220   000003 115007                    CMPA    3,DL
         3 000221   000223 602005 3                  TNC     s:3812+5,AL
         3 000222   000255 710000 3                  TRA     s:3820
         3 000223   000226 710000 3                  TRA     s:3814
         3 000224   000235 710000 3                  TRA     s:3816
         3 000225   000235 710000 3                  TRA     s:3816

      533     3813    4               CASE(0);

      534     3814    4                 CALL ADD_TEXTC('STOPPED',7);

   3814  3 000226   000014 236000 4                  LDQ     12
         3 000227   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000230   000015 236000 4                  LDQ     13
         3 000231   200527 756100                    STQ     @BOARD+1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:140  
         3 000232   010552 701000 3                  TSX1    ADD_TEXTC
         3 000233   000000 011000                    NOP     0
         3 000234   007070 710000 3                  TRA     s:4630

      535     3815    4               CASE(1,2);

      536     3816    4                 IF EL$CMPSTRT.PNO=0

   3816  3 000235   000002 235100                    LDA     2,,PR0
         3 000236   000246 601000 3                  TNZ     s:3818

      537     3817    4                 THEN CALL ADD_TEXTC('MASTER RUNNING',14);

   3817  3 000237   000017 236000 4                  LDQ     15
         3 000240   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000241   000020 236000 4                  LDQ     16
         3 000242   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000243   010552 701000 3                  TSX1    ADD_TEXTC
         3 000244   000000 011000                    NOP     0
         3 000245   007070 710000 3                  TRA     s:4630

      538     3818    4                 ELSE CALL ADD_TEXTC('RUNNING',7);

   3818  3 000246   000014 236000 4                  LDQ     12
         3 000247   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000250   000021 236000 4                  LDQ     17
         3 000251   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000252   010552 701000 3                  TSX1    ADD_TEXTC
         3 000253   000000 011000                    NOP     0
         3 000254   007070 710000 3                  TRA     s:4630

      539     3819    4               CASE(ELSE);

      540     3820    4                 CALL ADD_TEXTC('HUNG UP',7);

   3820  3 000255   000014 236000 4                  LDQ     12
         3 000256   200530 756100                    STQ     @CHIP+1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:141  
         3 000257   000022 236000 4                  LDQ     18
         3 000260   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000261   010552 701000 3                  TSX1    ADD_TEXTC
         3 000262   000000 011000                    NOP     0

      541     3821    4               END;

   3821  3 000263   007070 710000 3                  TRA     s:4630

      542     3822    3            CASE(%TH_MOUNT,%TH_DSMT);

      543     3823    3              IF TH_ITYPE = %TH_MOUNT

   3823  3 000264   000002 116007                    CMPQ    2,DL
         3 000265   000275 601000 3                  TNZ     s:3825

      544     3824    3                 THEN CALL ADD_TEXTC('MOUNT',5);

   3824  3 000266   000023 236000 4                  LDQ     19
         3 000267   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000270   000024 236000 4                  LDQ     20
         3 000271   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000272   010552 701000 3                  TSX1    ADD_TEXTC
         3 000273   000000 011000                    NOP     0
         3 000274   007070 710000 3                  TRA     s:4630

      545     3825    3                 ELSE CALL ADD_TEXTC('DISMOUNT',8);

   3825  3 000275   000025 236000 4                  LDQ     21
         3 000276   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000277   000026 236000 4                  LDQ     22
         3 000300   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000301   010552 701000 3                  TSX1    ADD_TEXTC
         3 000302   000000 011000                    NOP     0
         3 000303   007070 710000 3                  TRA     s:4630

      546     3826    3            CASE(%TH_FWLOAD);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:142  

      547     3827    3              IF EL$FWLOAD.LOADED THEN CALL ADD_TEXTC('SUCCESSFUL',10);

   3827  3 000304   200005 470500                    LDP0    INFO+1,,AUTO
         3 000305   000002 234100                    SZN     2,,PR0
         3 000306   000316 605000 3                  TPL     s:3828

   3827  3 000307   000027 236000 4                  LDQ     23
         3 000310   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000311   000030 236000 4                  LDQ     24
         3 000312   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000313   010552 701000 3                  TSX1    ADD_TEXTC
         3 000314   000000 011000                    NOP     0
         3 000315   007070 710000 3                  TRA     s:4630

      548     3828    3              ELSE CALL ADD_TEXTC('FAILED',6);

   3828  3 000316   000031 236000 4                  LDQ     25
         3 000317   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000320   000032 236000 4                  LDQ     26
         3 000321   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000322   010552 701000 3                  TSX1    ADD_TEXTC
         3 000323   000000 011000                    NOP     0
         3 000324   007070 710000 3                  TRA     s:4630

      549     3829    3            CASE(%TH_SPURINT);

      550     3830    4              IF EL$SPURINT.STATUS.DOWN THEN DO CASE(EL$SPURINT.STATUS.TND);

   3830  3 000325   200005 470500                    LDP0    INFO+1,,AUTO
         3 000326   000000 236100                    LDQ     0,,PR0
         3 000327   040000 316007                    CANQ    16384,DL
         3 000330   000406 600000 3                  TZE     s:3842

   3830  3 000331   000000 236100                    LDQ     0,,PR0
         3 000332   000014 772000                    QRL     12
         3 000333   000003 376007                    ANQ     3,DL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:143  
         3 000334   000004 116007                    CMPQ    4,DL
         3 000335   000337 602006 3                  TNC     s:3830+10,QL
         3 000336   000377 710000 3                  TRA     s:3840
         3 000337   000343 710000 3                  TRA     s:3832
         3 000340   000352 710000 3                  TRA     s:3834
         3 000341   000361 710000 3                  TRA     s:3836
         3 000342   000370 710000 3                  TRA     s:3838

      551     3831    4               CASE(0);

      552     3832    4                 CALL ADD_TEXTC('PART ',5);

   3832  3 000343   000023 236000 4                  LDQ     19
         3 000344   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000345   000033 236000 4                  LDQ     27
         3 000346   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000347   010552 701000 3                  TSX1    ADD_TEXTC
         3 000350   000000 011000                    NOP     0
         3 000351   000414 710000 3                  TRA     s:3843

      553     3833    4               CASE(1);

      554     3834    4                 CALL ADD_TEXTC('POLTS',5);

   3834  3 000352   000023 236000 4                  LDQ     19
         3 000353   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000354   000034 236000 4                  LDQ     28
         3 000355   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000356   010552 701000 3                  TSX1    ADD_TEXTC
         3 000357   000000 011000                    NOP     0
         3 000360   000414 710000 3                  TRA     s:3843

      555     3835    4               CASE(2);

      556     3836    4                 CALL ADD_TEXTC('ITR  ',5);

   3836  3 000361   000023 236000 4                  LDQ     19
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:144  
         3 000362   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000363   000035 236000 4                  LDQ     29
         3 000364   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000365   010552 701000 3                  TSX1    ADD_TEXTC
         3 000366   000000 011000                    NOP     0
         3 000367   000414 710000 3                  TRA     s:3843

      557     3837    4               CASE(3);

      558     3838    4                 CALL ADD_TEXTC('MDR  ',5);

   3838  3 000370   000023 236000 4                  LDQ     19
         3 000371   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000372   000036 236000 4                  LDQ     30
         3 000373   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000374   010552 701000 3                  TSX1    ADD_TEXTC
         3 000375   000000 011000                    NOP     0
         3 000376   000414 710000 3                  TRA     s:3843

      559     3839    4               CASE(ELSE);

      560     3840    4                 CALL ADD_TEXTC('?????',5);

   3840  3 000377   000023 236000 4                  LDQ     19
         3 000400   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000401   000037 236000 4                  LDQ     31
         3 000402   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000403   010552 701000 3                  TSX1    ADD_TEXTC
         3 000404   000000 011000                    NOP     0

      561     3841    4               END;

   3841  3 000405   000414 710000 3                  TRA     s:3843

      562     3842    3              ELSE CALL ADD_TEXTC('     ',5);

   3842  3 000406   000023 236000 4                  LDQ     19
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:145  
         3 000407   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000410   000040 236000 4                  LDQ     32
         3 000411   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000412   010552 701000 3                  TSX1    ADD_TEXTC
         3 000413   000000 011000                    NOP     0

      563     3843    4              DO CASE(EL$SPURINT.STATE);

   3843  3 000414   200005 470500                    LDP0    INFO+1,,AUTO
         3 000415   000000 220100                    LDX0    0,,PR0
         3 000416   000077 360003                    ANX0    63,DU
         3 000417   000007 100003                    CMPX0   7,DU
         3 000420   000422 602010 3                  TNC     s:3843+6,X0
         3 000421   000512 710000 3                  TRA     s:3859
         3 000422   000431 710000 3                  TRA     s:3845
         3 000423   000440 710000 3                  TRA     s:3847
         3 000424   000447 710000 3                  TRA     s:3849
         3 000425   000456 710000 3                  TRA     s:3851
         3 000426   000465 710000 3                  TRA     s:3853
         3 000427   000474 710000 3                  TRA     s:3855
         3 000430   000503 710000 3                  TRA     s:3857

      564     3844    4               CASE(0);

      565     3845    4                 CALL ADD_TEXTC('IDLE',4);

   3845  3 000431   000041 236000 4                  LDQ     33
         3 000432   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000433   000042 236000 4                  LDQ     34
         3 000434   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000435   010552 701000 3                  TSX1    ADD_TEXTC
         3 000436   000000 011000                    NOP     0
         3 000437   007070 710000 3                  TRA     s:4630

      566     3846    4               CASE(1);

      567     3847    4                 CALL ADD_TEXTC('REQUESTED',9);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:146  

   3847  3 000440   000043 236000 4                  LDQ     35
         3 000441   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000442   000044 236000 4                  LDQ     36
         3 000443   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000444   010552 701000 3                  TSX1    ADD_TEXTC
         3 000445   000000 011000                    NOP     0
         3 000446   007070 710000 3                  TRA     s:4630

      568     3848    4               CASE(2);

      569     3849    4                 CALL ADD_TEXTC('ASSIGNED',8);

   3849  3 000447   000025 236000 4                  LDQ     21
         3 000450   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000451   000045 236000 4                  LDQ     37
         3 000452   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000453   010552 701000 3                  TSX1    ADD_TEXTC
         3 000454   000000 011000                    NOP     0
         3 000455   007070 710000 3                  TRA     s:4630

      570     3850    4               CASE(3);

      571     3851    4                 CALL ADD_TEXTC('SPWAIT',6);

   3851  3 000456   000031 236000 4                  LDQ     25
         3 000457   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000460   000046 236000 4                  LDQ     38
         3 000461   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000462   010552 701000 3                  TSX1    ADD_TEXTC
         3 000463   000000 011000                    NOP     0
         3 000464   007070 710000 3                  TRA     s:4630

      572     3852    4               CASE(4);

      573     3853    4                 CALL ADD_TEXTC('KIWAIT',6);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:147  
   3853  3 000465   000031 236000 4                  LDQ     25
         3 000466   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000467   000047 236000 4                  LDQ     39
         3 000470   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000471   010552 701000 3                  TSX1    ADD_TEXTC
         3 000472   000000 011000                    NOP     0
         3 000473   007070 710000 3                  TRA     s:4630

      574     3854    4               CASE(5);

      575     3855    4                 CALL ADD_TEXTC('BUSY',4);

   3855  3 000474   000041 236000 4                  LDQ     33
         3 000475   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000476   000050 236000 4                  LDQ     40
         3 000477   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000500   010552 701000 3                  TSX1    ADD_TEXTC
         3 000501   000000 011000                    NOP     0
         3 000502   007070 710000 3                  TRA     s:4630

      576     3856    4               CASE(6);

      577     3857    4                 CALL ADD_TEXTC('SUSPENDED',9);

   3857  3 000503   000043 236000 4                  LDQ     35
         3 000504   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000505   000051 236000 4                  LDQ     41
         3 000506   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000507   010552 701000 3                  TSX1    ADD_TEXTC
         3 000510   000000 011000                    NOP     0
         3 000511   007070 710000 3                  TRA     s:4630

      578     3858    4               CASE(ELSE);

      579     3859    4                 CALL ADD_TEXTC('UNKNOWN',7);

   3859  3 000512   000014 236000 4                  LDQ     12
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:148  
         3 000513   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000514   000052 236000 4                  LDQ     42
         3 000515   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000516   010552 701000 3                  TSX1    ADD_TEXTC
         3 000517   000000 011000                    NOP     0

      580     3860    4               END;

   3860  3 000520   007070 710000 3                  TRA     s:4630

      581     3861    3            CASE(%TH_SCREECH,%TH_SUA,%TH_SNAP);

      582     3862    3              CALL ERROR_CODE(EL$SCREECH.SCODE);

   3862  3 000521   200005 236100                    LDQ     INFO+1,,AUTO
         3 000522   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000523   010575 701000 3                  TSX1    ERROR_CODE
         3 000524   000000 011000                    NOP     0

      583     3863    4              IF EL$SCREECH.DUMP~=0 THEN DO;

   3863  3 000525   200005 470500                    LDP0    INFO+1,,AUTO
         3 000526   000005 235100                    LDA     5,,PR0
         3 000527   000537 600000 3                  TZE     s:3867

      584     3864    4                 CALL ADD_TEXTC('NONE',4);

   3864  3 000530   000041 236000 4                  LDQ     33
         3 000531   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000532   000053 236000 4                  LDQ     43
         3 000533   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000534   010552 701000 3                  TSX1    ADD_TEXTC
         3 000535   000000 011000                    NOP     0

      585     3865    4                 END;

   3865  3 000536   000567 710000 3                  TRA     s:3873
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:149  

      586     3866    4              ELSE DO;

      587     3867    4                 DFNAME.N=SIZEC(DFNAME)-1;

   3867  3 000537   200210 471500                    LDP1    TEXT$,,AUTO
         3 000540   000100 101400                    MRL     fill='000'O
         3 000541   000014 000004 xsym               ADSC9   B_VECTNIL+12             cn=0,n=4
         3 000542   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1

      588     3868    4                 DFNAME.DF=':DF';

   3868  3 000543   200210 470500                    LDP0    TEXT$,,AUTO
         3 000544   040100 100400                    MLR     fill='040'O
         3 000545   000763 000003 1                  ADSC9   BOARD_64K+52             cn=0,n=3
         3 000546   000000 200003                    ADSC9   0,,PR0                   cn=1,n=3

      589     3869    4                 DFNAME.MONID = EL$SCREECH.MONID;

   3869  3 000547   200005 470500                    LDP0    INFO+1,,AUTO
         3 000550   200210 471500                    LDP1    TEXT$,,AUTO
         3 000551   040100 100500                    MLR     fill='040'O
         3 000552   000003 000004                    ADSC9   3,,PR0                   cn=0,n=4
         3 000553   100001 000004                    ADSC9   1,,PR1                   cn=0,n=4

      590     3870    4                 CALL BINCHAR(DFNAME.SCOUNT,EL$SCREECH.SCOUNT);

   3870  3 000554   200005 470500                    LDP0    INFO+1,,AUTO
         3 000555   000004 235100                    LDA     4,,PR0
         3 000556   000044 773000                    LRL     36
         3 000557   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 000560   200210 471500                    LDP1    TEXT$,,AUTO
         3 000561   000100 301500                    BTD
         3 000562   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 000563   100002 030003                    NDSC9   2,,PR1                   cn=0,s=nosgn,sf=0,n=3

      591     3871    4                 TEXT$=PINCRC(TEXT$,SIZEC(DFNAME));
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:150  

   3871  3 000564   200210 236100                    LDQ     TEXT$,,AUTO
         3 000565   000054 036000 4                  ADLQ    44
         3 000566   200210 756100                    STQ     TEXT$,,AUTO

      592     3872    4                 END;

      593     3873    3              IF (MASK & EL$SCREECH.RTRAP)

   3873  3 000567   200005 470500                    LDP0    INFO+1,,AUTO
         3 000570   000000 236000 1                  LDQ     MASK
         3 000571   000006 376100                    ANQ     6,,PR0
         3 000572   000602 600000 3                  TZE     s:3878

      594     3874    4                 THEN DO;

      595     3875    4                    CALL ADD_TEXTC('TRAPPED',7);

   3875  3 000573   000014 236000 4                  LDQ     12
         3 000574   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000575   000055 236000 4                  LDQ     45
         3 000576   200527 756100                    STQ     @BOARD+1,,AUTO
         3 000577   010552 701000 3                  TSX1    ADD_TEXTC
         3 000600   000000 011000                    NOP     0

      596     3876    4                 END;

   3876  3 000601   007070 710000 3                  TRA     s:4630

      597     3877    4                 ELSE DO;

      598     3878    4                    CALL ADD_TEXTC(' ',1);

   3878  3 000602   000056 236000 4                  LDQ     46
         3 000603   200530 756100                    STQ     @CHIP+1,,AUTO
         3 000604   000057 236000 4                  LDQ     47
         3 000605   200527 756100                    STQ     @BOARD+1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:151  
         3 000606   010552 701000 3                  TSX1    ADD_TEXTC
         3 000607   000000 011000                    NOP     0

      599     3879    4                 END;

   3879  3 000610   007070 710000 3                  TRA     s:4630

      600     3880    3            CASE(%TH_FI);

      601     3881    3              CALL INSERT(TEXTBUF,1,3,'DP#');

   3881  3 000611   000766 236000 1                  LDQ     BOARD_64K+55
         3 000612   000011 772000                    QRL     9
         3 000613   200106 552134                    STBQ    TEXTBUF,'34'O,AUTO

      602     3882    3              I=4;

   3882  3 000614   000004 236007                    LDQ     4,DL
         3 000615   200010 756100                    STQ     I,,AUTO

      603     3883    3               CALL INDEX(JUNK,' ',EL$FILERR.SN);

   3883  3 000616   200005 470500                    LDP0    INFO+1,,AUTO
         3 000617   000000 124500                    SCM     mask='000'O
         3 000620   000021 000006                    ADSC9   17,,PR0                  cn=0,n=6
         3 000621   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 000622   200016 000100                    ARG     JUNK,,AUTO

      604     3884    3              CALL INSERT(TEXTBUF,I,JUNK,EL$FILERR.SN);

   3884  3 000623   200016 720100                    LXL0    JUNK,,AUTO
         3 000624   040146 100500                    MLR     fill='040'O
         3 000625   000021 000006                    ADSC9   17,,PR0                  cn=0,n=6
         3 000626   200106 000010                    ADSC9   TEXTBUF,Q,AUTO           cn=0,n=*X0

      605     3885    3              I=I+JUNK;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:152  
   3885  3 000627   200010 236100                    LDQ     I,,AUTO
         3 000630   200016 036100                    ADLQ    JUNK,,AUTO
         3 000631   200010 756100                    STQ     I,,AUTO

      606     3886    4              IF EL$FILERR.FNAME.L>0 THEN DO;

   3886  3 000632   200005 470500                    LDP0    INFO+1,,AUTO
         3 000633   000025 236100                    LDQ     21,,PR0
         3 000634   777000 316003                    CANQ    -512,DU
         3 000635   000665 600000 3                  TZE     s:3890

      607     3887    4                 CALL INSERT(TEXTBUF,I,EL$FILERR.FNAME.L+1,'/',EL$FILERR.FNAME.C);

   3887  3 000636   000025 236100                    LDQ     21,,PR0
         3 000637   000033 772000                    QRL     27
         3 000640   000001 621006                    EAX1    1,QL
         3 000641   200010 235100                    LDA     I,,AUTO
         3 000642   040145 100400                    MLR     fill='040'O
         3 000643   000060 000001 4                  ADSC9   48                       cn=0,n=1
         3 000644   200106 000011                    ADSC9   TEXTBUF,A,AUTO           cn=0,n=*X1
         3 000645   000000 636011                    EAQ     0,X1
         3 000646   000022 772000                    QRL     18
         3 000647   000002 116007                    CMPQ    2,DL
         3 000650   000657 602000 3                  TNC     s:3888
         3 000651   777777 622011                    EAX2    -1,X1
         3 000652   200005 470500                    LDP0    INFO+1,,AUTO
         3 000653   200010 235100                    LDA     I,,AUTO
         3 000654   040145 100500                    MLR     fill='040'O
         3 000655   000025 200037                    ADSC9   21,,PR0                  cn=1,n=31
         3 000656   200106 200012                    ADSC9   TEXTBUF,A,AUTO           cn=1,n=*X2

      608     3888    4                 I=I+EL$FILERR.FNAME.L+1;

   3888  3 000657   200005 470500                    LDP0    INFO+1,,AUTO
         3 000660   000025 236100                    LDQ     21,,PR0
         3 000661   000033 772000                    QRL     27
         3 000662   200010 036100                    ADLQ    I,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:153  
         3 000663   000001 036007                    ADLQ    1,DL
         3 000664   200010 756100                    STQ     I,,AUTO

      609     3889    4                 END;

      610     3890    3                  CALL INDEX(JUNK,' ',EL$FILERR.ACCT);

   3890  3 000665   000000 124500                    SCM     mask='000'O
         3 000666   000023 000010                    ADSC9   19,,PR0                  cn=0,n=8
         3 000667   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 000670   200016 000100                    ARG     JUNK,,AUTO

      611     3891    4              IF JUNK>0 THEN DO;

   3891  3 000671   200016 235100                    LDA     JUNK,,AUTO
         3 000672   000715 604400 3                  TMOZ    s:3895

      612     3892    4                 CALL INSERT(TEXTBUF,I,JUNK+1,'.',EL$FILERR.ACCT);

   3892  3 000673   000001 620005                    EAX0    1,AL
         3 000674   200010 236100                    LDQ     I,,AUTO
         3 000675   040146 100400                    MLR     fill='040'O
         3 000676   000061 000001 4                  ADSC9   49                       cn=0,n=1
         3 000677   200106 000010                    ADSC9   TEXTBUF,Q,AUTO           cn=0,n=*X0
         3 000700   200016 236100                    LDQ     JUNK,,AUTO
         3 000701   000000 116003                    CMPQ    0,DU
         3 000702   000711 604400 3                  TMOZ    s:3893
         3 000703   200005 470500                    LDP0    INFO+1,,AUTO
         3 000704   000000 621006                    EAX1    0,QL
         3 000705   200010 236100                    LDQ     I,,AUTO
         3 000706   040146 100500                    MLR     fill='040'O
         3 000707   000023 000010                    ADSC9   19,,PR0                  cn=0,n=8
         3 000710   200106 200011                    ADSC9   TEXTBUF,Q,AUTO           cn=1,n=*X1

      613     3893    4                 I=I+JUNK+1;

   3893  3 000711   200010 236100                    LDQ     I,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:154  
         3 000712   200016 036100                    ADLQ    JUNK,,AUTO
         3 000713   000001 036007                    ADLQ    1,DL
         3 000714   200010 756100                    STQ     I,,AUTO

      614     3894    4                 END;

      615     3895    3              TEXT$=PINCRC(TEXT$,I);

   3895  3 000715   200010 236100                    LDQ     I,,AUTO
         3 000716   000020 736000                    QLS     16
         3 000717   200210 036100                    ADLQ    TEXT$,,AUTO
         3 000720   200210 756100                    STQ     TEXT$,,AUTO

      616     3896    3              CALL INSERT(TEXTBUF,0,1,BINASC(I-1));

   3896  3 000721   200010 236100                    LDQ     I,,AUTO
         3 000722   000001 136007                    SBLQ    1,DL
         3 000723   000033 736000                    QLS     27
         3 000724   000062 276000 4                  ORQ     50
         3 000725   200106 552140                    STBQ    TEXTBUF,'40'O,AUTO

      617     3897    3              IF (SUBSTR(EL$FILERR.DEVNM,0,2) = 'DP')

   3897  3 000726   200005 470500                    LDP0    INFO+1,,AUTO
         3 000727   000017 220100                    LDX0    15,,PR0
         3 000730   000766 100000 1                  CMPX0   BOARD_64K+55
         3 000731   000750 601000 3                  TNZ     FOUND

      618     3898    3                THEN
      619     3899    4                 DO I = 0 TO TH_NUM_DEVS - 1;

   3899  3 000732   200010 450100                    STZ     I,,AUTO
         3 000733   000744 710000 3                  TRA     s:3902+1

      620     3900    4                   IF TH_SYS_DEVS.DEVN(I) = EL$FILERR.DEVNM

   3900  3 000734   200010 235100                    LDA     I,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:155  
         3 000735   000004 735000                    ALS     4
         3 000736   200005 470500                    LDP0    INFO+1,,AUTO
         3 000737   040100 106405                    CMPC    fill='040'O
         3 000740   000000 000010 xsym               ADSC9   TH_SYS_DEVS,A            cn=0,n=8
         3 000741   000017 000010                    ADSC9   15,,PR0                  cn=0,n=8
         3 000742   000750 600000 3                  TZE     FOUND

      621     3901    4                      THEN GOTO FOUND;
      622     3902    4                 END;

   3902  3 000743   200010 054100                    AOS     I,,AUTO
         3 000744   200010 236100                    LDQ     I,,AUTO
         3 000745   000734 604000 3                  TMI     s:3900
         3 000746   000000 116000 xsym               CMPQ    TH_NUM_DEVS
         3 000747   000734 602000 3                  TNC     s:3900

      623     3903    3   FOUND:
      624     3904    3                 SECTOR = EL$FILERR.SECTOR;

   3904  3 000750   000004 235100       FOUND        LDA     4,,PR0
         3 000751   200374 755100                    STA     SECTOR,,AUTO

      625     3905    4                DO SELECT( TH_SYS_DEVS.MODEL(I) );

   3905  3 000752   200010 236100                    LDQ     I,,AUTO
         3 000753   000004 736000                    QLS     4
         3 000754   040000 106406                    CMPC    fill='040'O
         3 000755   000002 000010 xsym               ADSC9   TH_SYS_DEVS+2,Q          cn=0,n=8
         3 000756   000767 000007 1                  ADSC9   BOARD_64K+56             cn=0,n=7
         3 000757   001012 602000 3                  TNC     s:3905+32
         3 000760   001103 600000 3                  TZE     s:3916
         3 000761   040000 106406                    CMPC    fill='040'O
         3 000762   000002 000010 xsym               ADSC9   TH_SYS_DEVS+2,Q          cn=0,n=8
         3 000763   000771 000007 1                  ADSC9   BOARD_64K+58             cn=0,n=7
         3 000764   001005 602000 3                  TNC     s:3905+27
         3 000765   001103 600000 3                  TZE     s:3916
         3 000766   040000 106406                    CMPC    fill='040'O
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:156  
         3 000767   000002 000010 xsym               ADSC9   TH_SYS_DEVS+2,Q          cn=0,n=8
         3 000770   000773 000007 1                  ADSC9   BOARD_64K+60             cn=0,n=7
         3 000771   001000 602000 3                  TNC     s:3905+22
         3 000772   001116 600000 3                  TZE     s:3920
         3 000773   040000 106406                    CMPC    fill='040'O
         3 000774   000002 000010 xsym               ADSC9   TH_SYS_DEVS+2,Q          cn=0,n=8
         3 000775   000775 000007 1                  ADSC9   BOARD_64K+62             cn=0,n=7
         3 000776   007070 601000 3                  TNZ     s:4630
         3 000777   001131 710000 3                  TRA     s:3924
         3 001000   040000 106406                    CMPC    fill='040'O
         3 001001   000002 000010 xsym               ADSC9   TH_SYS_DEVS+2,Q          cn=0,n=8
         3 001002   000777 000007 1                  ADSC9   BOARD_64K+64             cn=0,n=7
         3 001003   007070 601000 3                  TNZ     s:4630
         3 001004   001103 710000 3                  TRA     s:3916
         3 001005   040000 106406                    CMPC    fill='040'O
         3 001006   000002 000010 xsym               ADSC9   TH_SYS_DEVS+2,Q          cn=0,n=8
         3 001007   001001 000007 1                  ADSC9   BOARD_64K+66             cn=0,n=7
         3 001010   007070 601000 3                  TNZ     s:4630
         3 001011   001103 710000 3                  TRA     s:3916
         3 001012   040000 106406                    CMPC    fill='040'O
         3 001013   000002 000010 xsym               ADSC9   TH_SYS_DEVS+2,Q          cn=0,n=8
         3 001014   001003 000007 1                  ADSC9   BOARD_64K+68             cn=0,n=7
         3 001015   001036 602000 3                  TNC     s:3905+52
         3 001016   001103 600000 3                  TZE     s:3916
         3 001017   040000 106406                    CMPC    fill='040'O
         3 001020   000002 000010 xsym               ADSC9   TH_SYS_DEVS+2,Q          cn=0,n=8
         3 001021   001005 000007 1                  ADSC9   BOARD_64K+70             cn=0,n=7
         3 001022   001031 602000 3                  TNC     s:3905+47
         3 001023   001103 600000 3                  TZE     s:3916
         3 001024   040000 106406                    CMPC    fill='040'O
         3 001025   000002 000010 xsym               ADSC9   TH_SYS_DEVS+2,Q          cn=0,n=8
         3 001026   001007 000007 1                  ADSC9   BOARD_64K+72             cn=0,n=7
         3 001027   007070 601000 3                  TNZ     s:4630
         3 001030   001103 710000 3                  TRA     s:3916
         3 001031   040000 106406                    CMPC    fill='040'O
         3 001032   000002 000010 xsym               ADSC9   TH_SYS_DEVS+2,Q          cn=0,n=8
         3 001033   001011 000007 1                  ADSC9   BOARD_64K+74             cn=0,n=7
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:157  
         3 001034   007070 601000 3                  TNZ     s:4630
         3 001035   001103 710000 3                  TRA     s:3916
         3 001036   040000 106406                    CMPC    fill='040'O
         3 001037   000002 000010 xsym               ADSC9   TH_SYS_DEVS+2,Q          cn=0,n=8
         3 001040   001013 000007 1                  ADSC9   BOARD_64K+76             cn=0,n=7
         3 001041   001050 602000 3                  TNC     s:3905+62
         3 001042   001055 600000 3                  TZE     s:3907
         3 001043   040000 106406                    CMPC    fill='040'O
         3 001044   000002 000010 xsym               ADSC9   TH_SYS_DEVS+2,Q          cn=0,n=8
         3 001045   001015 000007 1                  ADSC9   BOARD_64K+78             cn=0,n=7
         3 001046   007070 601000 3                  TNZ     s:4630
         3 001047   001055 710000 3                  TRA     s:3907
         3 001050   040000 106406                    CMPC    fill='040'O
         3 001051   000002 000010 xsym               ADSC9   TH_SYS_DEVS+2,Q          cn=0,n=8
         3 001052   001017 000007 1                  ADSC9   BOARD_64K+80             cn=0,n=7
         3 001053   007070 601000 3                  TNZ     s:4630
         3 001054   001070 710000 3                  TRA     s:3911

      626     3906    4                  SELECT('MSU0501','MSU0509');

      627     3907    4                      CYL = SECTOR/(8*40);

   3907  3 001055   200374 236100                    LDQ     SECTOR,,AUTO
         3 001056   000500 506007                    DIV     320,DL
         3 001057   200375 756100                    STQ     CYL,,AUTO

      628     3908    4                      HD = MOD(SECTOR /8,40);

   3908  3 001060   200374 236100                    LDQ     SECTOR,,AUTO
         3 001061   000010 506007                    DIV     8,DL
         3 001062   000050 506007                    DIV     40,DL
         3 001063   200376 755100                    STA     HD,,AUTO

      629     3909    4                      SE = MOD(SECTOR,8);

   3909  3 001064   200374 236100                    LDQ     SECTOR,,AUTO
         3 001065   000010 506007                    DIV     8,DL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:158  
         3 001066   200377 755100                    STA     SE,,AUTO
         3 001067   007070 710000 3                  TRA     s:4630

      630     3910    4                  SELECT('MSU0451');

      631     3911    4                      CYL = SECTOR / (40*19);

   3911  3 001070   200374 236100                    LDQ     SECTOR,,AUTO
         3 001071   001370 506007                    DIV     760,DL
         3 001072   200375 756100                    STQ     CYL,,AUTO

      632     3912    4                      HD = MOD(SECTOR/40,19);

   3912  3 001073   200374 236100                    LDQ     SECTOR,,AUTO
         3 001074   000050 506007                    DIV     40,DL
         3 001075   000023 506007                    DIV     19,DL
         3 001076   200376 755100                    STA     HD,,AUTO

      633     3913    4                      SE = MOD(SECTOR,40);

   3913  3 001077   200374 236100                    LDQ     SECTOR,,AUTO
         3 001100   000050 506007                    DIV     40,DL
         3 001101   200377 755100                    STA     SE,,AUTO
         3 001102   007070 710000 3                  TRA     s:4630

      634     3914    4                  SELECT('MSU3380','MSU3381','MSU3382','MSU3383',  /* FIPS D&E */

      635     3915    4                         'MSU3390','MSU3391','MSU3392','MSU3393'); /* FIPS J&K */
      636     3916    4                     CYL = SECTOR / (17*15);

   3916  3 001103   200374 236100                    LDQ     SECTOR,,AUTO
         3 001104   000377 506007                    DIV     255,DL
         3 001105   200375 756100                    STQ     CYL,,AUTO

      637     3917    4                     HD = MOD(SECTOR/17,15);

   3917  3 001106   200374 236100                    LDQ     SECTOR,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:159  
         3 001107   000021 506007                    DIV     17,DL
         3 001110   000017 506007                    DIV     15,DL
         3 001111   200376 755100                    STA     HD,,AUTO

      638     3918    4                     SE = MOD(SECTOR,17);

   3918  3 001112   200374 236100                    LDQ     SECTOR,,AUTO
         3 001113   000021 506007                    DIV     17,DL
         3 001114   200377 755100                    STA     SE,,AUTO
         3 001115   007070 710000 3                  TRA     s:4630

      639     3919    4                  SELECT('MSU8082');                   /* MDS I - FDS II        */

      640     3920    4                      CYL = SECTOR / (11*24);

   3920  3 001116   200374 236100                    LDQ     SECTOR,,AUTO
         3 001117   000410 506007                    DIV     264,DL
         3 001120   200375 756100                    STQ     CYL,,AUTO

      641     3921    4                      HD = MOD(SECTOR/11,24);

   3921  3 001121   200374 236100                    LDQ     SECTOR,,AUTO
         3 001122   000013 506007                    DIV     11,DL
         3 001123   000030 506007                    DIV     24,DL
         3 001124   200376 755100                    STA     HD,,AUTO

      642     3922    4                      SE = MOD(SECTOR,11);

   3922  3 001125   200374 236100                    LDQ     SECTOR,,AUTO
         3 001126   000013 506007                    DIV     11,DL
         3 001127   200377 755100                    STA     SE,,AUTO
         3 001130   007070 710000 3                  TRA     s:4630

      643     3923    4                  SELECT('MSU8092');                  /* MDS II - SABRE V       */

      644     3924    4                      CYL = SECTOR / (19*15);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:160  
   3924  3 001131   200374 236100                    LDQ     SECTOR,,AUTO
         3 001132   000435 506007                    DIV     285,DL
         3 001133   200375 756100                    STQ     CYL,,AUTO

      645     3925    4                      HD = MOD(SECTOR/19,15);

   3925  3 001134   200374 236100                    LDQ     SECTOR,,AUTO
         3 001135   000023 506007                    DIV     19,DL
         3 001136   000017 506007                    DIV     15,DL
         3 001137   200376 755100                    STA     HD,,AUTO

      646     3926    4                      SE = MOD(SECTOR,19);

   3926  3 001140   200374 236100                    LDQ     SECTOR,,AUTO
         3 001141   000023 506007                    DIV     19,DL
         3 001142   200377 755100                    STA     SE,,AUTO

      647     3927    4                  END;  /*SELECT*/

   3927  3 001143   007070 710000 3                  TRA     s:4630

      648     3928    3            CASE(%TH_CGERR);

      649     3929    3              CALL INSERT(TEXTBUF,1,3,'DP#');

   3929  3 001144   000766 236000 1                  LDQ     BOARD_64K+55
         3 001145   000011 772000                    QRL     9
         3 001146   200106 552134                    STBQ    TEXTBUF,'34'O,AUTO

      650     3930    3              I=4;

   3930  3 001147   000004 236007                    LDQ     4,DL
         3 001150   200010 756100                    STQ     I,,AUTO

      651     3931    3                 CALL INDEX(JUNK,' ',EL$CGERR.PSN);

   3931  3 001151   200005 470500                    LDP0    INFO+1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:161  
         3 001152   000000 124500                    SCM     mask='000'O
         3 001153   000001 400006                    ADSC9   1,,PR0                   cn=2,n=6
         3 001154   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 001155   200016 000100                    ARG     JUNK,,AUTO

      652     3932    3              CALL INSERT(TEXTBUF,I,JUNK,EL$CGERR.PSN);

   3932  3 001156   200016 720100                    LXL0    JUNK,,AUTO
         3 001157   040146 100500                    MLR     fill='040'O
         3 001160   000001 400006                    ADSC9   1,,PR0                   cn=2,n=6
         3 001161   200106 000010                    ADSC9   TEXTBUF,Q,AUTO           cn=0,n=*X0

      653     3933    3              I=I+JUNK;

   3933  3 001162   200010 236100                    LDQ     I,,AUTO
         3 001163   200016 036100                    ADLQ    JUNK,,AUTO
         3 001164   200010 756100                    STQ     I,,AUTO

      654     3934    4              IF EL$CGERR.FNAME.L>0 THEN DO;

   3934  3 001165   200005 470500                    LDP0    INFO+1,,AUTO
         3 001166   000005 236100                    LDQ     5,,PR0
         3 001167   777000 316003                    CANQ    -512,DU
         3 001170   001220 600000 3                  TZE     s:3938

      655     3935    4                 CALL INSERT(TEXTBUF,I,EL$CGERR.FNAME.L+1,'/',EL$CGERR.FNAME.C);

   3935  3 001171   000005 236100                    LDQ     5,,PR0
         3 001172   000033 772000                    QRL     27
         3 001173   000001 621006                    EAX1    1,QL
         3 001174   200010 235100                    LDA     I,,AUTO
         3 001175   040145 100400                    MLR     fill='040'O
         3 001176   000060 000001 4                  ADSC9   48                       cn=0,n=1
         3 001177   200106 000011                    ADSC9   TEXTBUF,A,AUTO           cn=0,n=*X1
         3 001200   000000 636011                    EAQ     0,X1
         3 001201   000022 772000                    QRL     18
         3 001202   000002 116007                    CMPQ    2,DL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:162  
         3 001203   001212 602000 3                  TNC     s:3936
         3 001204   777777 622011                    EAX2    -1,X1
         3 001205   200005 470500                    LDP0    INFO+1,,AUTO
         3 001206   200010 235100                    LDA     I,,AUTO
         3 001207   040145 100500                    MLR     fill='040'O
         3 001210   000005 200037                    ADSC9   5,,PR0                   cn=1,n=31
         3 001211   200106 200012                    ADSC9   TEXTBUF,A,AUTO           cn=1,n=*X2

      656     3936    4                 I=I+EL$CGERR.FNAME.L+1;

   3936  3 001212   200005 470500                    LDP0    INFO+1,,AUTO
         3 001213   000005 236100                    LDQ     5,,PR0
         3 001214   000033 772000                    QRL     27
         3 001215   200010 036100                    ADLQ    I,,AUTO
         3 001216   000001 036007                    ADLQ    1,DL
         3 001217   200010 756100                    STQ     I,,AUTO

      657     3937    4                 END;

      658     3938    3            CALL INDEX(JUNK,' ',EL$CGERR.ACCT);

   3938  3 001220   000000 124500                    SCM     mask='000'O
         3 001221   000003 000010                    ADSC9   3,,PR0                   cn=0,n=8
         3 001222   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 001223   200016 000100                    ARG     JUNK,,AUTO

      659     3939    4              IF JUNK>0 THEN DO;

   3939  3 001224   200016 235100                    LDA     JUNK,,AUTO
         3 001225   001250 604400 3                  TMOZ    s:3943

      660     3940    4                 CALL INSERT(TEXTBUF,I,JUNK+1,'.',EL$CGERR.ACCT);

   3940  3 001226   000001 620005                    EAX0    1,AL
         3 001227   200010 236100                    LDQ     I,,AUTO
         3 001230   040146 100400                    MLR     fill='040'O
         3 001231   000061 000001 4                  ADSC9   49                       cn=0,n=1
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:163  
         3 001232   200106 000010                    ADSC9   TEXTBUF,Q,AUTO           cn=0,n=*X0
         3 001233   200016 236100                    LDQ     JUNK,,AUTO
         3 001234   000000 116003                    CMPQ    0,DU
         3 001235   001244 604400 3                  TMOZ    s:3941
         3 001236   200005 470500                    LDP0    INFO+1,,AUTO
         3 001237   000000 621006                    EAX1    0,QL
         3 001240   200010 236100                    LDQ     I,,AUTO
         3 001241   040146 100500                    MLR     fill='040'O
         3 001242   000003 000010                    ADSC9   3,,PR0                   cn=0,n=8
         3 001243   200106 200011                    ADSC9   TEXTBUF,Q,AUTO           cn=1,n=*X1

      661     3941    4                 I=I+JUNK+1;

   3941  3 001244   200010 236100                    LDQ     I,,AUTO
         3 001245   200016 036100                    ADLQ    JUNK,,AUTO
         3 001246   000001 036007                    ADLQ    1,DL
         3 001247   200010 756100                    STQ     I,,AUTO

      662     3942    4                 END;

      663     3943    3              TEXT$=PINCRC(TEXT$,I);

   3943  3 001250   200010 236100                    LDQ     I,,AUTO
         3 001251   000020 736000                    QLS     16
         3 001252   200210 036100                    ADLQ    TEXT$,,AUTO
         3 001253   200210 756100                    STQ     TEXT$,,AUTO

      664     3944    3              CALL INSERT(TEXTBUF,0,1,BINASC(I-1));

   3944  3 001254   200010 236100                    LDQ     I,,AUTO
         3 001255   000001 136007                    SBLQ    1,DL
         3 001256   000033 736000                    QLS     27
         3 001257   000062 276000 4                  ORQ     50
         3 001260   200106 552140                    STBQ    TEXTBUF,'40'O,AUTO
         3 001261   007070 710000 3                  TRA     s:4630

      665     3945    3            CASE(%TH_GABRT);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:164  

      666     3946    3              CALL ERROR_CODE(EL$GABRT.ERR);

   3946  3 001262   200005 236100                    LDQ     INFO+1,,AUTO
         3 001263   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001264   010575 701000 3                  TSX1    ERROR_CODE
         3 001265   000000 011000                    NOP     0

      667     3947    3              CALL ERROR_CODE(EL$GABRT.USRERR);

   3947  3 001266   200005 236100                    LDQ     INFO+1,,AUTO
         3 001267   000001 036003                    ADLQ    1,DU
         3 001270   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001271   010575 701000 3                  TSX1    ERROR_CODE
         3 001272   000000 011000                    NOP     0
         3 001273   007070 710000 3                  TRA     s:4630

      668     3948    3            CASE(%TH_EDAC);

      669     3949    4              DO CASE(EL$EDAC.PORT#);

   3949  3 001274   200005 470500                    LDP0    INFO+1,,AUTO
         3 001275   000010 236100                    LDQ     8,,PR0
         3 001276   000041 772000                    QRL     33
         3 001277   000003 376007                    ANQ     3,DL
         3 001300   000004 116007                    CMPQ    4,DL
         3 001301   001303 602006 3                  TNC     s:3949+7,QL
         3 001302   001342 710000 3                  TRA     s:3959
         3 001303   001307 710000 3                  TRA     s:3951
         3 001304   001316 710000 3                  TRA     s:3953
         3 001305   001325 710000 3                  TRA     s:3955
         3 001306   001334 710000 3                  TRA     s:3957

      670     3950    4                 CASE(0);                  /* PORT A                             */

      671     3951    4                    CALL ADD_TEXTC('A',1);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:165  
   3951  3 001307   000056 236000 4                  LDQ     46
         3 001310   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001311   000064 236000 4                  LDQ     52
         3 001312   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001313   010552 701000 3                  TSX1    ADD_TEXTC
         3 001314   000000 011000                    NOP     0
         3 001315   001342 710000 3                  TRA     s:3959

      672     3952    4                 CASE(1);                  /* PORT B                             */

      673     3953    4                    CALL ADD_TEXTC('B',1);

   3953  3 001316   000056 236000 4                  LDQ     46
         3 001317   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001320   000066 236000 4                  LDQ     54
         3 001321   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001322   010552 701000 3                  TSX1    ADD_TEXTC
         3 001323   000000 011000                    NOP     0
         3 001324   001342 710000 3                  TRA     s:3959

      674     3954    4                 CASE(2);                  /* PORT C                             */

      675     3955    4                    CALL ADD_TEXTC('C',1);

   3955  3 001325   000056 236000 4                  LDQ     46
         3 001326   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001327   000070 236000 4                  LDQ     56
         3 001330   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001331   010552 701000 3                  TSX1    ADD_TEXTC
         3 001332   000000 011000                    NOP     0
         3 001333   001342 710000 3                  TRA     s:3959

      676     3956    4                 CASE(3);                  /* PORT D                             */

      677     3957    4                    CALL ADD_TEXTC('D',1);

   3957  3 001334   000056 236000 4                  LDQ     46
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:166  
         3 001335   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001336   000072 236000 4                  LDQ     58
         3 001337   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001340   010552 701000 3                  TSX1    ADD_TEXTC
         3 001341   000000 011000                    NOP     0

      678     3958    4              END;                         /* CASE EL$EDAC.PORT#                 */

      679     3959    4              DO CASE(EL$EDAC.STORE_UNIT);

   3959  3 001342   200005 470500                    LDP0    INFO+1,,AUTO
         3 001343   000010 236100                    LDQ     8,,PR0
         3 001344   000036 772000                    QRL     30
         3 001345   000003 376007                    ANQ     3,DL
         3 001346   000004 116007                    CMPQ    4,DL
         3 001347   001351 602006 3                  TNC     s:3959+7,QL
         3 001350   001410 710000 3                  TRA     s:3969
         3 001351   001355 710000 3                  TRA     s:3961
         3 001352   001364 710000 3                  TRA     s:3963
         3 001353   001373 710000 3                  TRA     s:3965
         3 001354   001402 710000 3                  TRA     s:3967

      680     3960    4                 CASE(0);                  /* A                                  */

      681     3961    4                    CALL ADD_TEXTC('A ',2);

   3961  3 001355   000073 236000 4                  LDQ     59
         3 001356   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001357   000074 236000 4                  LDQ     60
         3 001360   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001361   010552 701000 3                  TSX1    ADD_TEXTC
         3 001362   000000 011000                    NOP     0
         3 001363   001410 710000 3                  TRA     s:3969

      682     3962    4                 CASE(1);                  /* A1                                 */

      683     3963    4                    CALL ADD_TEXTC('A1',2);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:167  

   3963  3 001364   000073 236000 4                  LDQ     59
         3 001365   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001366   000075 236000 4                  LDQ     61
         3 001367   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001370   010552 701000 3                  TSX1    ADD_TEXTC
         3 001371   000000 011000                    NOP     0
         3 001372   001410 710000 3                  TRA     s:3969

      684     3964    4                 CASE(2);                  /* B                                  */

      685     3965    4                    CALL ADD_TEXTC('B ',2);

   3965  3 001373   000073 236000 4                  LDQ     59
         3 001374   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001375   000076 236000 4                  LDQ     62
         3 001376   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001377   010552 701000 3                  TSX1    ADD_TEXTC
         3 001400   000000 011000                    NOP     0
         3 001401   001410 710000 3                  TRA     s:3969

      686     3966    4                 CASE(3);                  /* B1                                 */

      687     3967    4                    CALL ADD_TEXTC('B1',2);

   3967  3 001402   000073 236000 4                  LDQ     59
         3 001403   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001404   000077 236000 4                  LDQ     63
         3 001405   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001406   010552 701000 3                  TSX1    ADD_TEXTC
         3 001407   000000 011000                    NOP     0

      688     3968    4              END;                         /* CASE EL$EDAC.STORE_UNIT            */

      689     3969    3              CALL EDAC(INFO.PTR$,BORD,CHP);

   3969  3 001410   200006 630500                    EPPR0   CHP,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:168  
         3 001411   200527 450500                    STP0    @BOARD+1,,AUTO
         3 001412   200007 631500                    EPPR1   BORD,,AUTO
         3 001413   200526 451500                    STP1    @STATUS$+1,,AUTO
         3 001414   200005 633500                    EPPR3   INFO+1,,AUTO
         3 001415   200525 453500                    STP3    NINE_TRACK_BLNK+9,,AUTO
         3 001416   010764 701000 3                  TSX1    EDAC
         3 001417   000000 011000                    NOP     0

      690     3970    3              CALL ADD_TEXTC(BORD,1);

   3970  3 001420   000056 236000 4                  LDQ     46
         3 001421   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001422   200007 630500                    EPPR0   BORD,,AUTO
         3 001423   200527 450500                    STP0    @BOARD+1,,AUTO
         3 001424   010552 701000 3                  TSX1    ADD_TEXTC
         3 001425   000000 011000                    NOP     0

      691     3971    3              CALL ADD_TEXTC(CHP,3);

   3971  3 001426   000100 236000 4                  LDQ     64
         3 001427   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001430   200006 630500                    EPPR0   CHP,,AUTO
         3 001431   200527 450500                    STP0    @BOARD+1,,AUTO
         3 001432   010552 701000 3                  TSX1    ADD_TEXTC
         3 001433   000000 011000                    NOP     0
         3 001434   007070 710000 3                  TRA     s:4630

      692     3972    3            CASE(%TH_FEPERR);

      693     3973    3              FEPERR_CODE = EL$FEPERR.STATDATA.ERRCODE;

   3973  3 001435   200005 470500                    LDP0    INFO+1,,AUTO
         3 001436   000001 236100                    LDQ     1,,PR0
         3 001437   000056 756000 2                  STQ     FEPERR_CODE

      694     3974    3              IF INFO.BOUND > SIZEC(EL$FEPERR.STATDATA)

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:169  
   3974  3 001440   200004 236100                    LDQ     INFO,,AUTO
         3 001441   000034 376000 xsym               ANQ     B_VECTNIL+28
         3 001442   000101 116000 4                  CMPQ    65
         3 001443   001457 602000 3                  TNC     s:3980

      695     3975    4                 THEN DO;                  /* DYNAMIC DATA IS PRESENT            */

      696     3976    4                    NUMBYTES = INFO.BOUND - SIZEC(EL$FEPERR.STATDATA);

   3976  3 001444   200004 236100                    LDQ     INFO,,AUTO
         3 001445   000020 772000                    QRL     16
         3 001446   000044 136007                    SBLQ    36,DL
         3 001447   200103 756100                    STQ     NUMBYTES,,AUTO

      697     3977    4                    CALL ADD_TEXTC(' YES',4);

   3977  3 001450   000041 236000 4                  LDQ     33
         3 001451   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001452   000102 236000 4                  LDQ     66
         3 001453   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001454   010552 701000 3                  TSX1    ADD_TEXTC
         3 001455   000000 011000                    NOP     0

      698     3978    4                 END;

   3978  3 001456   001466 710000 3                  TRA     s:3983

      699     3979    4                 ELSE DO;                  /* NO DYNAMIC DATA                    */

      700     3980    4                    NUMBYTES = 0;

   3980  3 001457   200103 450100                    STZ     NUMBYTES,,AUTO

      701     3981    4                    CALL ADD_TEXTC('  NO',4);

   3981  3 001460   000041 236000 4                  LDQ     33
         3 001461   200530 756100                    STQ     @CHIP+1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:170  
         3 001462   000103 236000 4                  LDQ     67
         3 001463   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001464   010552 701000 3                  TSX1    ADD_TEXTC
         3 001465   000000 011000                    NOP     0

      702     3982    4                 END;

      703     3983    3              CALL ERROR_CODE(FEPERR_CODE);

   3983  3 001466   000104 236000 4                  LDQ     68
         3 001467   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001470   010575 701000 3                  TSX1    ERROR_CODE
         3 001471   000000 011000                    NOP     0

      704     3984    3              ERR_MSG = ' ';

   3984  3 001472   040000 100400                    MLR     fill='040'O
         3 001473   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 001474   003256 000170 2                  ADSC9   ERR_MSG                  cn=0,n=120

      705     3985    3              CALL M$ERRMSG (ERR_MSGS) ALTRET(NO_MSG);

   3985  3 001475   007424 630400 2                  EPPR0   ERR_MSGS
         3 001476   420000 713400                    CLIMB   alt,+8192
         3 001477   405000 401760                    pmme    nvectors=11
         3 001500   001523 702000 3                  TSX2    NO_MSG

      706     3986    3              I = 0;

   3986  3 001501   200010 450100                    STZ     I,,AUTO

      707     3987    4              DO WHILE (SUBSTR(ERR_MSG,I,1) = ' ');

   3987  3 001502   001504 710000 3                  TRA     s:3989

      708     3988    4                 I = I + 1;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:171  
   3988  3 001503   200010 054100                    AOS     I,,AUTO

      709     3989    4              END;

   3989  3 001504   200010 235100                    LDA     I,,AUTO
         3 001505   040000 106405                    CMPC    fill='040'O
         3 001506   003256 000001 2                  ADSC9   ERR_MSG,A                cn=0,n=1
         3 001507   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 001510   001503 600000 3                  TZE     s:3988

      710     3990    3              ERR_MSG_T = SUBSTR(ERR_MSG,I,43);

   3990  3 001511   040100 100405                    MLR     fill='040'O
         3 001512   003256 000053 2                  ADSC9   ERR_MSG,A                cn=0,n=43
         3 001513   200466 000053                    ADSC9   ERR_MSG_T,,AUTO          cn=0,n=43

      711     3991    3              CALL ADD_TEXTC (ERR_MSG_T,43);

   3991  3 001514   000106 236000 4                  LDQ     70
         3 001515   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001516   200466 630500                    EPPR0   ERR_MSG_T,,AUTO
         3 001517   200527 450500                    STP0    @BOARD+1,,AUTO
         3 001520   010552 701000 3                  TSX1    ADD_TEXTC
         3 001521   000000 011000                    NOP     0

      712     3992    4              DO NEVER;

   3992  3 001522   007070 710000 3                  TRA     s:4630

      713     3993    4   NO_MSG:       CALL ADD_TEXTC ('NO ERROR MESSAGE',16);

   3993  3 001523   000110 236000 4     NO_MSG       LDQ     72
         3 001524   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001525   000111 236000 4                  LDQ     73
         3 001526   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001527   010552 701000 3                  TSX1    ADD_TEXTC
         3 001530   000000 011000                    NOP     0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:172  

      714     3994    4              END;

   3994  3 001531   007070 710000 3                  TRA     s:4630

      715     3995    3            CASE(%TH_MIRROR);

      716     3996    3              IF EL$MIRROR.PRI

   3996  3 001532   200005 470500                    LDP0    INFO+1,,AUTO
         3 001533   000006 236100                    LDQ     6,,PR0
         3 001534   000040 316003                    CANQ    32,DU
         3 001535   001545 600000 3                  TZE     s:3998

      717     3997    3                 THEN CALL ADD_TEXTC('P',1);

   3997  3 001536   000056 236000 4                  LDQ     46
         3 001537   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001540   000113 236000 4                  LDQ     75
         3 001541   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001542   010552 701000 3                  TSX1    ADD_TEXTC
         3 001543   000000 011000                    NOP     0
         3 001544   001553 710000 3                  TRA     s:3999

      718     3998    3                 ELSE CALL ADD_TEXTC('S',1);

   3998  3 001545   000056 236000 4                  LDQ     46
         3 001546   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001547   000115 236000 4                  LDQ     77
         3 001550   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001551   010552 701000 3                  TSX1    ADD_TEXTC
         3 001552   000000 011000                    NOP     0

      719     3999    4              DO CASE(EL$MIRROR.STATE.NEW);

   3999  3 001553   200005 470500                    LDP0    INFO+1,,AUTO
         3 001554   000006 236100                    LDQ     6,,PR0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:173  
         3 001555   000030 772000                    QRL     24
         3 001556   000077 376007                    ANQ     63,DL
         3 001557   000005 116007                    CMPQ    5,DL
         3 001560   001562 602006 3                  TNC     s:3999+7,QL
         3 001561   007070 710000 3                  TRA     s:4630
         3 001562   001576 710000 3                  TRA     s:4003
         3 001563   001567 710000 3                  TRA     s:4001
         3 001564   001605 710000 3                  TRA     s:4005
         3 001565   001614 710000 3                  TRA     s:4007
         3 001566   001623 710000 3                  TRA     s:4009

      720     4000    4                 CASE(%NI_MIRROR_FAIL);

      721     4001    4                   CALL ADD_TEXTC('FAIL',4);

   4001  3 001567   000041 236000 4                  LDQ     33
         3 001570   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001571   000032 236000 4                  LDQ     26
         3 001572   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001573   010552 701000 3                  TSX1    ADD_TEXTC
         3 001574   000000 011000                    NOP     0
         3 001575   007070 710000 3                  TRA     s:4630

      722     4002    4                 CASE(%NI_MIRROR_OPER);

      723     4003    4                   CALL ADD_TEXTC('OPER',4);

   4003  3 001576   000041 236000 4                  LDQ     33
         3 001577   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001600   000116 236000 4                  LDQ     78
         3 001601   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001602   010552 701000 3                  TSX1    ADD_TEXTC
         3 001603   000000 011000                    NOP     0
         3 001604   007070 710000 3                  TRA     s:4630

      724     4004    4                 CASE(%NI_MIRROR_REST);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:174  
      725     4005    4                   CALL ADD_TEXTC('REST',4);

   4005  3 001605   000041 236000 4                  LDQ     33
         3 001606   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001607   000117 236000 4                  LDQ     79
         3 001610   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001611   010552 701000 3                  TSX1    ADD_TEXTC
         3 001612   000000 011000                    NOP     0
         3 001613   007070 710000 3                  TRA     s:4630

      726     4006    4                 CASE(%NI_MIRROR_WAIT);

      727     4007    4                   CALL ADD_TEXTC('WAIT',4);

   4007  3 001614   000041 236000 4                  LDQ     33
         3 001615   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001616   000120 236000 4                  LDQ     80
         3 001617   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001620   010552 701000 3                  TSX1    ADD_TEXTC
         3 001621   000000 011000                    NOP     0
         3 001622   007070 710000 3                  TRA     s:4630

      728     4008    4                 CASE(%NI_MIRROR_NONE);

      729     4009    4                   CALL ADD_TEXTC('NONE',4);

   4009  3 001623   000041 236000 4                  LDQ     33
         3 001624   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001625   000053 236000 4                  LDQ     43
         3 001626   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001627   010552 701000 3                  TSX1    ADD_TEXTC
         3 001630   000000 011000                    NOP     0

      730     4010    4              END;

   4010  3 001631   007070 710000 3                  TRA     s:4630

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:175  
      731     4011    3            CASE(%TH_SYSCON);

      732     4012    4              DO CASE(EL$SYSCON.FUNCTION);

   4012  3 001632   200005 470500                    LDP0    INFO+1,,AUTO
         3 001633   000000 236100                    LDQ     0,,PR0
         3 001634   000033 772000                    QRL     27
         3 001635   000006 116007                    CMPQ    6,DL
         3 001636   001640 602006 3                  TNC     s:4012+6,QL
         3 001637   001710 710000 3                  TRA     s:4024
         3 001640   001710 710000 3                  TRA     s:4024
         3 001641   001646 710000 3                  TRA     s:4014
         3 001642   001655 710000 3                  TRA     s:4016
         3 001643   001664 710000 3                  TRA     s:4018
         3 001644   001673 710000 3                  TRA     s:4020
         3 001645   001702 710000 3                  TRA     s:4022

      733     4013    4                 CASE(1);                  /* PARTITION                          */

      734     4014    4                    CALL ADD_TEXTC('PARTITION',9);

   4014  3 001646   000043 236000 4                  LDQ     35
         3 001647   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001650   000121 236000 4                  LDQ     81
         3 001651   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001652   010552 701000 3                  TSX1    ADD_TEXTC
         3 001653   000000 011000                    NOP     0
         3 001654   001710 710000 3                  TRA     s:4024

      735     4015    4                 CASE(2);                  /* RETURN                             */

      736     4016    4                    CALL ADD_TEXTC('RETURN',6);

   4016  3 001655   000031 236000 4                  LDQ     25
         3 001656   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001657   000122 236000 4                  LDQ     82
         3 001660   200527 756100                    STQ     @BOARD+1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:176  
         3 001661   010552 701000 3                  TSX1    ADD_TEXTC
         3 001662   000000 011000                    NOP     0
         3 001663   001710 710000 3                  TRA     s:4024

      737     4017    4                 CASE(3);                   /* DISPLAY */

      738     4018    4                    CALL ADD_TEXTC('DISPLAY',7);

   4018  3 001664   000014 236000 4                  LDQ     12
         3 001665   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001666   000123 236000 4                  LDQ     83
         3 001667   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001670   010552 701000 3                  TSX1    ADD_TEXTC
         3 001671   000000 011000                    NOP     0
         3 001672   001710 710000 3                  TRA     s:4024

      739     4019    4                 CASE(4);                  /* SETFLAG */

      740     4020    4                    CALL ADD_TEXTC('SETFLAG',7);

   4020  3 001673   000014 236000 4                  LDQ     12
         3 001674   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001675   000124 236000 4                  LDQ     84
         3 001676   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001677   010552 701000 3                  TSX1    ADD_TEXTC
         3 001700   000000 011000                    NOP     0
         3 001701   001710 710000 3                  TRA     s:4024

      741     4021    4                 CASE(5);                    /* RELEASE */

      742     4022    4                    CALL ADD_TEXTC('RELEASE',7);

   4022  3 001702   000014 236000 4                  LDQ     12
         3 001703   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001704   000125 236000 4                  LDQ     85
         3 001705   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001706   010552 701000 3                  TSX1    ADD_TEXTC
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:177  
         3 001707   000000 011000                    NOP     0

      743     4023    4              END;                         /* CASE FUNCTION                      */

      744     4024    4              DO CASE(EL$SYSCON.COMPONENT);

   4024  3 001710   200005 470500                    LDP0    INFO+1,,AUTO
         3 001711   000000 220100                    LDX0    0,,PR0
         3 001712   000777 360003                    ANX0    511,DU
         3 001713   000010 100003                    CMPX0   8,DU
         3 001714   001716 602010 3                  TNC     s:4024+6,X0
         3 001715   007070 710000 3                  TRA     s:4630
         3 001716   002426 710000 3                  TRA     s:4104
         3 001717   001726 710000 3                  TRA     s:4026
         3 001720   002076 710000 3                  TRA     s:4059
         3 001721   002122 710000 3                  TRA     s:4063
         3 001722   002146 710000 3                  TRA     s:4067
         3 001723   002243 710000 3                  TRA     s:4084
         3 001724   002311 710000 3                  TRA     s:4091
         3 001725   002360 710000 3                  TRA     s:4098

      745     4025    4                CASE(%CHANNEL#);               /* CHANNEL                           */

      746     4026    4                   CALL ADD_TEXTC('CHAN',4);

   4026  3 001726   000041 236000 4                  LDQ     33
         3 001727   200530 756100                    STQ     @CHIP+1,,AUTO
         3 001730   000126 236000 4                  LDQ     86
         3 001731   200527 756100                    STQ     @BOARD+1,,AUTO
         3 001732   010552 701000 3                  TSX1    ADD_TEXTC
         3 001733   000000 011000                    NOP     0

      747     4027    4                   STRT = 0;

   4027  3 001734   200101 450100                    STZ     STRT,,AUTO

      748     4028    4                   CALL BINCHAR(TEMP1,EL$SYSCON.IOM);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:178  

   4028  3 001735   200005 470500                    LDP0    INFO+1,,AUTO
         3 001736   000000 236100                    LDQ     0,,PR0
         3 001737   000011 772000                    QRL     9
         3 001740   000777 376007                    ANQ     511,DL
         3 001741   000000 235003                    LDA     0,DU
         3 001742   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 001743   000100 301500                    BTD
         3 001744   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 001745   200037 030077                    NDSC9   TEMP1,,AUTO              cn=0,s=nosgn,sf=0,n=63

      749     4029    4                   J = 0;

   4029  3 001746   200100 450100                    STZ     J,,AUTO

      750     4030    5                   DO WHILE (SUBSTR(TEMP1,J,1) = '0');

   4030  3 001747   001753 710000 3                  TRA     s:4032

      751     4031    5                      J = J + 1;

   4031  3 001750   200100 235100                    LDA     J,,AUTO
         3 001751   000001 035007                    ADLA    1,DL
         3 001752   200100 755100                    STA     J,,AUTO

      752     4032    5                   END;                    /* DO WHILE                           */

   4032  3 001753   200100 235100                    LDA     J,,AUTO
         3 001754   040000 106505                    CMPC    fill='040'O
         3 001755   200037 000001                    ADSC9   TEMP1,A,AUTO             cn=0,n=1
         3 001756   000127 000001 4                  ADSC9   87                       cn=0,n=1
         3 001757   001750 600000 3                  TZE     s:4031

      753     4033    4                   LEN = 63 - J;

   4033  3 001760   000027 675000 xsym               ERA     B_VECTNIL+23
         3 001761   000100 035007                    ADLA    64,DL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:179  
         3 001762   200102 755100                    STA     LEN,,AUTO

      754     4034    4                   IF LEN = 0

   4034  3 001763   001767 601000 3                  TNZ     s:4040

      755     4035    4                      THEN
      756     4036    5                      DO;

      757     4037    5                         LEN = 1;

   4037  3 001764   000001 236007                    LDQ     1,DL
         3 001765   200102 756100                    STQ     LEN,,AUTO

      758     4038    5                         J = 0;

   4038  3 001766   200100 450100                    STZ     J,,AUTO

      759     4039    5                      END;                 /* IF LEN = 0                         */

      760     4040    4                   CALL INSERT(TEMP2,STRT,LEN+1,SUBSTR(TEMP1,J,LEN),'-');

   4040  3 001767   200102 720100                    LXL0    LEN,,AUTO
         3 001770   000001 621010                    EAX1    1,X0
         3 001771   200102 722100                    LXL2    LEN,,AUTO
         3 001772   200100 235100                    LDA     J,,AUTO
         3 001773   200101 236100                    LDQ     STRT,,AUTO
         3 001774   040146 100545                    MLR     fill='040'O
         3 001775   200037 000012                    ADSC9   TEMP1,A,AUTO             cn=0,n=*X2
         3 001776   200057 000011                    ADSC9   TEMP2,Q,AUTO             cn=0,n=*X1
         3 001777   200102 236100                    LDQ     LEN,,AUTO
         3 002000   200102 136100                    SBLQ    LEN,,AUTO
         3 002001   000027 116000 xsym               CMPQ    B_VECTNIL+23
         3 002002   002013 604400 3                  TMOZ    s:4041
         3 002003   200534 756100                    STQ     CHIP#+2,,AUTO
         3 002004   200101 236100                    LDQ     STRT,,AUTO
         3 002005   200102 036100                    ADLQ    LEN,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:180  
         3 002006   200534 720100                    LXL0    CHIP#+2,,AUTO
         3 002007   000001 621010                    EAX1    1,X0
         3 002010   040146 100400                    MLR     fill='040'O
         3 002011   000130 000001 4                  ADSC9   88                       cn=0,n=1
         3 002012   200057 000011                    ADSC9   TEMP2,Q,AUTO             cn=0,n=*X1

      761     4041    4                   STRT = STRT + LEN + 1;

   4041  3 002013   200101 236100                    LDQ     STRT,,AUTO
         3 002014   200102 036100                    ADLQ    LEN,,AUTO
         3 002015   000001 036007                    ADLQ    1,DL
         3 002016   200101 756100                    STQ     STRT,,AUTO

      762     4042    4                   CALL BINCHAR(TEMP1,EL$SYSCON.CHAN);

   4042  3 002017   200005 470500                    LDP0    INFO+1,,AUTO
         3 002020   000000 236100                    LDQ     0,,PR0
         3 002021   000777 376007                    ANQ     511,DL
         3 002022   000000 235003                    LDA     0,DU
         3 002023   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 002024   000100 301500                    BTD
         3 002025   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 002026   200037 030077                    NDSC9   TEMP1,,AUTO              cn=0,s=nosgn,sf=0,n=63

      763     4043    4                   J = 0;

   4043  3 002027   200100 450100                    STZ     J,,AUTO

      764     4044    5                   DO WHILE (SUBSTR(TEMP1,J,1) = '0');

   4044  3 002030   002034 710000 3                  TRA     s:4046

      765     4045    5                       J = J + 1;

   4045  3 002031   200100 235100                    LDA     J,,AUTO
         3 002032   000001 035007                    ADLA    1,DL
         3 002033   200100 755100                    STA     J,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:181  

      766     4046    5                   END;                    /* DO WHILE                           */

   4046  3 002034   200100 235100                    LDA     J,,AUTO
         3 002035   040000 106505                    CMPC    fill='040'O
         3 002036   200037 000001                    ADSC9   TEMP1,A,AUTO             cn=0,n=1
         3 002037   000127 000001 4                  ADSC9   87                       cn=0,n=1
         3 002040   002031 600000 3                  TZE     s:4045

      767     4047    4                   LEN = 63 - J;

   4047  3 002041   000027 675000 xsym               ERA     B_VECTNIL+23
         3 002042   000100 035007                    ADLA    64,DL
         3 002043   200102 755100                    STA     LEN,,AUTO

      768     4048    4                   IF LEN = 0

   4048  3 002044   002050 601000 3                  TNZ     s:4054

      769     4049    4                      THEN
      770     4050    5                      DO;

      771     4051    5                         LEN = 1;

   4051  3 002045   000001 236007                    LDQ     1,DL
         3 002046   200102 756100                    STQ     LEN,,AUTO

      772     4052    5                         J = 0;

   4052  3 002047   200100 450100                    STZ     J,,AUTO

      773     4053    5                      END;                 /* IF LEN = 0                         */

      774     4054    4                   CALL INSERT(TEMP2,STRT,LEN,SUBSTR(TEMP1,J,LEN));

   4054  3 002050   200102 720100                    LXL0    LEN,,AUTO
         3 002051   200100 235100                    LDA     J,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:182  
         3 002052   200101 236100                    LDQ     STRT,,AUTO
         3 002053   040146 100545                    MLR     fill='040'O
         3 002054   200037 000010                    ADSC9   TEMP1,A,AUTO             cn=0,n=*X0
         3 002055   200057 000010                    ADSC9   TEMP2,Q,AUTO             cn=0,n=*X0

      775     4055    4                   STRT = STRT + LEN;

   4055  3 002056   200101 236100                    LDQ     STRT,,AUTO
         3 002057   200102 036100                    ADLQ    LEN,,AUTO
         3 002060   200101 756100                    STQ     STRT,,AUTO

      776     4056    4                   CALL ADD_TEXTC(TEMP2,STRT);

   4056  3 002061   200101 630500                    EPPR0   STRT,,AUTO
         3 002062   200530 450500                    STP0    @CHIP+1,,AUTO
         3 002063   200057 631500                    EPPR1   TEMP2,,AUTO
         3 002064   200527 451500                    STP1    @BOARD+1,,AUTO
         3 002065   010552 701000 3                  TSX1    ADD_TEXTC
         3 002066   000000 011000                    NOP     0

      777     4057    4                   CALL ADD_TEXTC(' ',1);

   4057  3 002067   000056 236000 4                  LDQ     46
         3 002070   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002071   000057 236000 4                  LDQ     47
         3 002072   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002073   010552 701000 3                  TSX1    ADD_TEXTC
         3 002074   000000 011000                    NOP     0
         3 002075   007070 710000 3                  TRA     s:4630

      778     4058    4                CASE(%DVC#);                   /* DEVICE                            */

      779     4059    4                   CALL ADD_TEXTC('DVC',3);

   4059  3 002076   000100 236000 4                  LDQ     64
         3 002077   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002100   000131 236000 4                  LDQ     89
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:183  
         3 002101   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002102   010552 701000 3                  TSX1    ADD_TEXTC
         3 002103   000000 011000                    NOP     0

      780     4060    4                   CALL ADD_TEXTC(' ',1);

   4060  3 002104   000056 236000 4                  LDQ     46
         3 002105   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002106   000057 236000 4                  LDQ     47
         3 002107   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002110   010552 701000 3                  TSX1    ADD_TEXTC
         3 002111   000000 011000                    NOP     0

      781     4061    4                   CALL ADD_TEXTC(EL$SYSCON.DEVNM,8);

   4061  3 002112   000025 236000 4                  LDQ     21
         3 002113   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002114   200005 236100                    LDQ     INFO+1,,AUTO
         3 002115   000001 036003                    ADLQ    1,DU
         3 002116   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002117   010552 701000 3                  TSX1    ADD_TEXTC
         3 002120   000000 011000                    NOP     0
         3 002121   007070 710000 3                  TRA     s:4630

      782     4062    4                CASE(%MPC#);                   /* MPC                               */

      783     4063    4                   CALL ADD_TEXTC('MPC',3);

   4063  3 002122   000100 236000 4                  LDQ     64
         3 002123   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002124   000132 236000 4                  LDQ     90
         3 002125   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002126   010552 701000 3                  TSX1    ADD_TEXTC
         3 002127   000000 011000                    NOP     0

      784     4064    4                   CALL ADD_TEXTC(' ',1);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:184  
   4064  3 002130   000056 236000 4                  LDQ     46
         3 002131   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002132   000057 236000 4                  LDQ     47
         3 002133   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002134   010552 701000 3                  TSX1    ADD_TEXTC
         3 002135   000000 011000                    NOP     0

      785     4065    4                   CALL ADD_TEXTC(EL$SYSCON.DEVNM,8);

   4065  3 002136   000025 236000 4                  LDQ     21
         3 002137   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002140   200005 236100                    LDQ     INFO+1,,AUTO
         3 002141   000001 036003                    ADLQ    1,DU
         3 002142   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002143   010552 701000 3                  TSX1    ADD_TEXTC
         3 002144   000000 011000                    NOP     0
         3 002145   007070 710000 3                  TRA     s:4630

      786     4066    4                CASE(%FEP##);                  /* FEP                               */

      787     4067    4                   CALL ADD_TEXTC('FEP',3);

   4067  3 002146   000100 236000 4                  LDQ     64
         3 002147   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002150   000133 236000 4                  LDQ     91
         3 002151   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002152   010552 701000 3                  TSX1    ADD_TEXTC
         3 002153   000000 011000                    NOP     0

      788     4068    4                   CALL BINCHAR(TEMP1,EL$SYSCON.CHAN);

   4068  3 002154   200005 470500                    LDP0    INFO+1,,AUTO
         3 002155   000000 236100                    LDQ     0,,PR0
         3 002156   000777 376007                    ANQ     511,DL
         3 002157   000000 235003                    LDA     0,DU
         3 002160   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 002161   000100 301500                    BTD
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:185  
         3 002162   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 002163   200037 030077                    NDSC9   TEMP1,,AUTO              cn=0,s=nosgn,sf=0,n=63

      789     4069    4                   J = 0;

   4069  3 002164   200100 450100                    STZ     J,,AUTO

      790     4070    5                   DO WHILE (SUBSTR(TEMP1,J,1) = '0');

   4070  3 002165   002171 710000 3                  TRA     s:4072

      791     4071    5                      J = J + 1;

   4071  3 002166   200100 235100                    LDA     J,,AUTO
         3 002167   000001 035007                    ADLA    1,DL
         3 002170   200100 755100                    STA     J,,AUTO

      792     4072    5                   END;                    /* DO WHILE                           */

   4072  3 002171   200100 235100                    LDA     J,,AUTO
         3 002172   040000 106505                    CMPC    fill='040'O
         3 002173   200037 000001                    ADSC9   TEMP1,A,AUTO             cn=0,n=1
         3 002174   000127 000001 4                  ADSC9   87                       cn=0,n=1
         3 002175   002166 600000 3                  TZE     s:4071

      793     4073    4                   LEN = 63 - J;

   4073  3 002176   000027 675000 xsym               ERA     B_VECTNIL+23
         3 002177   000100 035007                    ADLA    64,DL
         3 002200   200102 755100                    STA     LEN,,AUTO

      794     4074    4                   IF LEN = 0

   4074  3 002201   002205 601000 3                  TNZ     s:4080

      795     4075    4                      THEN
      796     4076    5                      DO;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:186  

      797     4077    5                         LEN = 1;

   4077  3 002202   000001 236007                    LDQ     1,DL
         3 002203   200102 756100                    STQ     LEN,,AUTO

      798     4078    5                         J = 0;

   4078  3 002204   200100 450100                    STZ     J,,AUTO

      799     4079    5                      END;                 /* IF LEN = 0                         */

      800     4080    4                   CALL INSERT(TEMP2,0,LEN+4,'FEP#',SUBSTR(TEMP1,J,LEN));

   4080  3 002205   200102 720100                    LXL0    LEN,,AUTO
         3 002206   000004 621010                    EAX1    4,X0
         3 002207   040140 100400                    MLR     fill='040'O
         3 002210   001055 000004 1                  ADSC9   BOARD_64K+110            cn=0,n=4
         3 002211   200057 000011                    ADSC9   TEMP2,,AUTO              cn=0,n=*X1
         3 002212   200102 236100                    LDQ     LEN,,AUTO
         3 002213   000000 116003                    CMPQ    0,DU
         3 002214   002223 604400 3                  TMOZ    s:4081
         3 002215   000000 620006                    EAX0    0,QL
         3 002216   200100 235100                    LDA     J,,AUTO
         3 002217   200102 721100                    LXL1    LEN,,AUTO
         3 002220   040140 100545                    MLR     fill='040'O
         3 002221   200037 000010                    ADSC9   TEMP1,A,AUTO             cn=0,n=*X0
         3 002222   200060 000011                    ADSC9   TEMP2+1,,AUTO            cn=0,n=*X1

      801     4081    4                   CALL ADD_TEXTC(TEMP2,LEN+4);

   4081  3 002223   200102 235100                    LDA     LEN,,AUTO
         3 002224   000004 035007                    ADLA    4,DL
         3 002225   200553 755100                    STA     CHIP#+17,,AUTO
         3 002226   200553 630500                    EPPR0   CHIP#+17,,AUTO
         3 002227   200530 450500                    STP0    @CHIP+1,,AUTO
         3 002230   200057 631500                    EPPR1   TEMP2,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:187  
         3 002231   200527 451500                    STP1    @BOARD+1,,AUTO
         3 002232   010552 701000 3                  TSX1    ADD_TEXTC
         3 002233   000000 011000                    NOP     0

      802     4082    4                   CALL ADD_TEXTC(' ',1);

   4082  3 002234   000056 236000 4                  LDQ     46
         3 002235   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002236   000057 236000 4                  LDQ     47
         3 002237   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002240   010552 701000 3                  TSX1    ADD_TEXTC
         3 002241   000000 011000                    NOP     0
         3 002242   007070 710000 3                  TRA     s:4630

      803     4083    4                CASE(%IOM##);                      /* IOM           */

      804     4084    4                   IOM_DEVN = ' ';

   4084  3 002243   000035 235000 xsym               LDA     B_VECTNIL+29
         3 002244   000035 236000 xsym               LDQ     B_VECTNIL+29
         3 002245   200403 755100                    STA     IOM_DEVN,,AUTO
         3 002246   200404 756100                    STQ     IOM_DEVN+1,,AUTO

      805     4085    4                   CALL BINCHAR(IOMN,EL$SYSCON.IOM);

   4085  3 002247   000000 236100                    LDQ     0,,PR0
         3 002250   000011 772000                    QRL     9
         3 002251   000777 376007                    ANQ     511,DL
         3 002252   000000 235003                    LDA     0,DU
         3 002253   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 002254   000100 301500                    BTD
         3 002255   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 002256   200400 030001                    NDSC9   IOMN,,AUTO               cn=0,s=nosgn,sf=0,n=1

      806     4086    4                   CALL CONCAT(IOM_DEVN,'IOM',IOMN);

   4086  3 002257   001056 236000 1                  LDQ     BOARD_64K+111
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:188  
         3 002260   000134 376000 4                  ANQ     92
         3 002261   000040 276007                    ORQ     32,DL
         3 002262   200403 756100                    STQ     IOM_DEVN,,AUTO
         3 002263   040100 100500                    MLR     fill='040'O
         3 002264   200400 000001                    ADSC9   IOMN,,AUTO               cn=0,n=1
         3 002265   200403 600005                    ADSC9   IOM_DEVN,,AUTO           cn=3,n=5

      807     4087    4                   CALL ADD_TEXTC('IOM',3);

   4087  3 002266   000100 236000 4                  LDQ     64
         3 002267   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002270   000135 236000 4                  LDQ     93
         3 002271   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002272   010552 701000 3                  TSX1    ADD_TEXTC
         3 002273   000000 011000                    NOP     0

      808     4088    4                   CALL ADD_TEXTC(' ',1);

   4088  3 002274   000056 236000 4                  LDQ     46
         3 002275   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002276   000057 236000 4                  LDQ     47
         3 002277   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002300   010552 701000 3                  TSX1    ADD_TEXTC
         3 002301   000000 011000                    NOP     0

      809     4089    4                   CALL ADD_TEXTC(IOM_DEVN,8);

   4089  3 002302   000025 236000 4                  LDQ     21
         3 002303   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002304   200403 630500                    EPPR0   IOM_DEVN,,AUTO
         3 002305   200527 450500                    STP0    @BOARD+1,,AUTO
         3 002306   010552 701000 3                  TSX1    ADD_TEXTC
         3 002307   000000 011000                    NOP     0
         3 002310   007070 710000 3                  TRA     s:4630

      810     4090    4                CASE(%CPU##);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:189  
      811     4091    4                   CALL ADD_TEXTC('CPU',3);

   4091  3 002311   000100 236000 4                  LDQ     64
         3 002312   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002313   000136 236000 4                  LDQ     94
         3 002314   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002315   010552 701000 3                  TSX1    ADD_TEXTC
         3 002316   000000 011000                    NOP     0

      812     4092    4                   CALL ADD_TEXTC(' ',1);

   4092  3 002317   000056 236000 4                  LDQ     46
         3 002320   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002321   000057 236000 4                  LDQ     47
         3 002322   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002323   010552 701000 3                  TSX1    ADD_TEXTC
         3 002324   000000 011000                    NOP     0

      813     4093    4                   CPU_DEVN = ' ';

   4093  3 002325   000035 235000 xsym               LDA     B_VECTNIL+29
         3 002326   000035 236000 xsym               LDQ     B_VECTNIL+29
         3 002327   200405 755100                    STA     CPU_DEVN,,AUTO
         3 002330   200406 756100                    STQ     CPU_DEVN+1,,AUTO

      814     4094    4                   CALL BINCHAR(CPUN, EL$SYSCON.IOM);   /* CPU PORT # */

   4094  3 002331   200005 470500                    LDP0    INFO+1,,AUTO
         3 002332   000000 236100                    LDQ     0,,PR0
         3 002333   000011 772000                    QRL     9
         3 002334   000777 376007                    ANQ     511,DL
         3 002335   000000 235003                    LDA     0,DU
         3 002336   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 002337   000100 301500                    BTD
         3 002340   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 002341   200401 030001                    NDSC9   CPUN,,AUTO               cn=0,s=nosgn,sf=0,n=1

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:190  
      815     4095    4                   CALL CONCAT(CPU_DEVN, 'CPU', CPUN);

   4095  3 002342   001057 236000 1                  LDQ     BOARD_64K+112
         3 002343   000134 376000 4                  ANQ     92
         3 002344   000040 276007                    ORQ     32,DL
         3 002345   200405 756100                    STQ     CPU_DEVN,,AUTO
         3 002346   040100 100500                    MLR     fill='040'O
         3 002347   200401 000001                    ADSC9   CPUN,,AUTO               cn=0,n=1
         3 002350   200405 600005                    ADSC9   CPU_DEVN,,AUTO           cn=3,n=5

      816     4096    4                   CALL ADD_TEXTC(CPU_DEVN,8);

   4096  3 002351   000025 236000 4                  LDQ     21
         3 002352   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002353   200405 630500                    EPPR0   CPU_DEVN,,AUTO
         3 002354   200527 450500                    STP0    @BOARD+1,,AUTO
         3 002355   010552 701000 3                  TSX1    ADD_TEXTC
         3 002356   000000 011000                    NOP     0
         3 002357   007070 710000 3                  TRA     s:4630

      817     4097    4                CASE(%SCU##);

      818     4098    4                   CALL ADD_TEXTC('SCU', 3);

   4098  3 002360   000100 236000 4                  LDQ     64
         3 002361   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002362   000137 236000 4                  LDQ     95
         3 002363   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002364   010552 701000 3                  TSX1    ADD_TEXTC
         3 002365   000000 011000                    NOP     0

      819     4099    4                   CALL ADD_TEXTC(' ', 1);

   4099  3 002366   000056 236000 4                  LDQ     46
         3 002367   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002370   000057 236000 4                  LDQ     47
         3 002371   200527 756100                    STQ     @BOARD+1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:191  
         3 002372   010552 701000 3                  TSX1    ADD_TEXTC
         3 002373   000000 011000                    NOP     0

      820     4100    4                   SCU_DEVN = ' ';

   4100  3 002374   000035 235000 xsym               LDA     B_VECTNIL+29
         3 002375   000035 236000 xsym               LDQ     B_VECTNIL+29
         3 002376   200407 755100                    STA     SCU_DEVN,,AUTO
         3 002377   200410 756100                    STQ     SCU_DEVN+1,,AUTO

      821     4101    4                   CALL BINCHAR(SCUN, EL$SYSCON.IOM);   /* SCU PORT # */

   4101  3 002400   200005 470500                    LDP0    INFO+1,,AUTO
         3 002401   000000 236100                    LDQ     0,,PR0
         3 002402   000011 772000                    QRL     9
         3 002403   000777 376007                    ANQ     511,DL
         3 002404   000000 235003                    LDA     0,DU
         3 002405   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 002406   000100 301500                    BTD
         3 002407   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 002410   200402 030001                    NDSC9   SCUN,,AUTO               cn=0,s=nosgn,sf=0,n=1

      822     4102    4                   CALL CONCAT(SCU_DEVN,'SCU',SCUN);

   4102  3 002411   001060 236000 1                  LDQ     BOARD_64K+113
         3 002412   000134 376000 4                  ANQ     92
         3 002413   000040 276007                    ORQ     32,DL
         3 002414   200407 756100                    STQ     SCU_DEVN,,AUTO
         3 002415   040100 100500                    MLR     fill='040'O
         3 002416   200402 000001                    ADSC9   SCUN,,AUTO               cn=0,n=1
         3 002417   200407 600005                    ADSC9   SCU_DEVN,,AUTO           cn=3,n=5

      823     4103    4                   CALL ADD_TEXTC(SCU_DEVN,8);

   4103  3 002420   000025 236000 4                  LDQ     21
         3 002421   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002422   200407 630500                    EPPR0   SCU_DEVN,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:192  
         3 002423   200527 450500                    STP0    @BOARD+1,,AUTO
         3 002424   010552 701000 3                  TSX1    ADD_TEXTC
         3 002425   000000 011000                    NOP     0

      824     4104    4              END;                         /* CASE COMPONENT                     */

   4104  3 002426   007070 710000 3                  TRA     s:4630

      825     4105    3            CASE(%TH_SYSID);

      826     4106    3              CALL BUILDTIME(EL$SYSID.MON_UTS#);

   4106  3 002427   200005 236100                    LDQ     INFO+1,,AUTO
         3 002430   000065 036003                    ADLQ    53,DU
         3 002431   200525 756100                    STQ     NINE_TRACK_BLNK+9,,AUTO
         3 002432   010514 701000 3                  TSX1    BUILDTIME
         3 002433   000000 011000                    NOP     0

      827     4107    3              LEN = EL$SYSID.SITE_NAME#.L;

   4107  3 002434   200005 470500                    LDP0    INFO+1,,AUTO
         3 002435   000001 236100                    LDQ     1,,PR0
         3 002436   000033 772000                    QRL     27
         3 002437   200102 756100                    STQ     LEN,,AUTO

      828     4108    3              CALL ADD_TEXTC(SUBSTR(EL$SYSID.SITE_NAME#.C,0,LEN),LEN);

   4108  3 002440   200102 631500                    EPPR1   LEN,,AUTO
         3 002441   200530 451500                    STP1    @CHIP+1,,AUTO
         3 002442   200005 236100                    LDQ     INFO+1,,AUTO
         3 002443   000140 036000 4                  ADLQ    96
         3 002444   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002445   010552 701000 3                  TSX1    ADD_TEXTC
         3 002446   000000 011000                    NOP     0
         3 002447   007070 710000 3                  TRA     s:4630

      829     4109    3            CASE(%TH_ANLZ);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:193  

      830     4110    3              I = 119;

   4110  3 002450   000167 235007                    LDA     119,DL
         3 002451   200010 755100                    STA     I,,AUTO

      831     4111    4              DO WHILE (SUBSTR(EL$ANLZ.TXT,I,1) = ' ');

   4111  3 002452   002455 710000 3                  TRA     s:4113

      832     4112    4                 I = I - 1;

   4112  3 002453   000001 336007                    LCQ     1,DL
         3 002454   200010 056100                    ASQ     I,,AUTO

      833     4113    4              END;

   4113  3 002455   200005 470500                    LDP0    INFO+1,,AUTO
         3 002456   200010 235100                    LDA     I,,AUTO
         3 002457   040000 106505                    CMPC    fill='040'O
         3 002460   000007 000001                    ADSC9   7,A,PR0                  cn=0,n=1
         3 002461   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 002462   002453 600000 3                  TZE     s:4112

      834     4114    3              CALL ADD_TEXTC(SUBSTR(EL$ANLZ.TXT,0,I+1),I+1);

   4114  3 002463   000001 035007                    ADLA    1,DL
         3 002464   200554 755100                    STA     CHIP#+18,,AUTO
         3 002465   200554 631500                    EPPR1   CHIP#+18,,AUTO
         3 002466   200530 451500                    STP1    @CHIP+1,,AUTO
         3 002467   200005 236100                    LDQ     INFO+1,,AUTO
         3 002470   000007 036003                    ADLQ    7,DU
         3 002471   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002472   010552 701000 3                  TSX1    ADD_TEXTC
         3 002473   000000 011000                    NOP     0
         3 002474   007070 710000 3                  TRA     s:4630

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:194  
      835     4115    3            CASE(%TH_FEPEVENT);

      836     4116    4              DO CASE(EL$FECRASH.FENM.PROBLEM);

   4116  3 002475   200005 470500                    LDP0    INFO+1,,AUTO
         3 002476   000000 236100                    LDQ     0,,PR0
         3 002477   000011 772000                    QRL     9
         3 002500   000777 376007                    ANQ     511,DL
         3 002501   000024 116007                    CMPQ    20,DL
         3 002502   002504 602006 3                  TNC     s:4116+7,QL
         3 002503   002744 710000 3                  TRA     s:4158
         3 002504   002530 710000 3                  TRA     s:4118
         3 002505   002537 710000 3                  TRA     s:4120
         3 002506   002546 710000 3                  TRA     s:4122
         3 002507   002555 710000 3                  TRA     s:4124
         3 002510   002564 710000 3                  TRA     s:4126
         3 002511   002573 710000 3                  TRA     s:4128
         3 002512   002602 710000 3                  TRA     s:4130
         3 002513   002611 710000 3                  TRA     s:4132
         3 002514   002620 710000 3                  TRA     s:4134
         3 002515   002627 710000 3                  TRA     s:4136
         3 002516   002636 710000 3                  TRA     s:4138
         3 002517   002645 710000 3                  TRA     s:4140
         3 002520   002654 710000 3                  TRA     s:4142
         3 002521   002663 710000 3                  TRA     s:4144
         3 002522   002672 710000 3                  TRA     s:4146
         3 002523   002701 710000 3                  TRA     s:4148
         3 002524   002710 710000 3                  TRA     s:4150
         3 002525   002717 710000 3                  TRA     s:4152
         3 002526   002726 710000 3                  TRA     s:4154
         3 002527   002735 710000 3                  TRA     s:4156

      837     4117    4                 CASE(KIER_OK);

      838     4118    4                    CALL ADD_TEXTC('UP AND OK',9);

   4118  3 002530   000043 236000 4                  LDQ     35
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:195  
         3 002531   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002532   000141 236000 4                  LDQ     97
         3 002533   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002534   010552 701000 3                  TSX1    ADD_TEXTC
         3 002535   000000 011000                    NOP     0
         3 002536   002752 710000 3                  TRA     s:4160

      839     4119    4                 CASE(KIER_TO);

      840     4120    4                    CALL ADD_TEXTC('TIMEOUT',7);

   4120  3 002537   000014 236000 4                  LDQ     12
         3 002540   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002541   000142 236000 4                  LDQ     98
         3 002542   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002543   010552 701000 3                  TSX1    ADD_TEXTC
         3 002544   000000 011000                    NOP     0
         3 002545   002752 710000 3                  TRA     s:4160

      841     4121    4                 CASE(KIER_QFL);

      842     4122    4                    CALL ADD_TEXTC('OUTPUT QUEUE FULL',17);

   4122  3 002546   000144 236000 4                  LDQ     100
         3 002547   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002550   000145 236000 4                  LDQ     101
         3 002551   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002552   010552 701000 3                  TSX1    ADD_TEXTC
         3 002553   000000 011000                    NOP     0
         3 002554   002752 710000 3                  TRA     s:4160

      843     4123    4                 CASE(KIER_NOBT);

      844     4124    4                    CALL ADD_TEXTC('FEP WONT BOOT',13);

   4124  3 002555   000147 236000 4                  LDQ     103
         3 002556   200530 756100                    STQ     @CHIP+1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:196  
         3 002557   000150 236000 4                  LDQ     104
         3 002560   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002561   010552 701000 3                  TSX1    ADD_TEXTC
         3 002562   000000 011000                    NOP     0
         3 002563   002752 710000 3                  TRA     s:4160

      845     4125    4                 CASE(KIER_FESC);

      846     4126    4                    CALL ADD_TEXTC('SOFTWARE CRASH',14);

   4126  3 002564   000017 236000 4                  LDQ     15
         3 002565   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002566   000151 236000 4                  LDQ     105
         3 002567   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002570   010552 701000 3                  TSX1    ADD_TEXTC
         3 002571   000000 011000                    NOP     0
         3 002572   002752 710000 3                  TRA     s:4160

      847     4127    4                 CASE(KIER_CPLR);

      848     4128    4                    CALL ADD_TEXTC('COUPLER',7);

   4128  3 002573   000014 236000 4                  LDQ     12
         3 002574   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002575   000152 236000 4                  LDQ     106
         3 002576   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002577   010552 701000 3                  TSX1    ADD_TEXTC
         3 002600   000000 011000                    NOP     0
         3 002601   002752 710000 3                  TRA     s:4160

      849     4129    4                 CASE(KIER_BINT);

      850     4130    4                    CALL ADD_TEXTC('BAD INTERRUPT',13);

   4130  3 002602   000147 236000 4                  LDQ     103
         3 002603   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002604   000153 236000 4                  LDQ     107
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:197  
         3 002605   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002606   010552 701000 3                  TSX1    ADD_TEXTC
         3 002607   000000 011000                    NOP     0
         3 002610   002752 710000 3                  TRA     s:4160

      851     4131    4                 CASE(KIER_BDLN);

      852     4132    4                    CALL ADD_TEXTC('BAD LINE NUMBER',15);

   4132  3 002611   000155 236000 4                  LDQ     109
         3 002612   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002613   000156 236000 4                  LDQ     110
         3 002614   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002615   010552 701000 3                  TSX1    ADD_TEXTC
         3 002616   000000 011000                    NOP     0
         3 002617   002752 710000 3                  TRA     s:4160

      853     4133    4                 CASE(KIER_MFMT);

      854     4134    4                    CALL ADD_TEXTC('BAD MESSAGE FORMAT',18);

   4134  3 002620   000160 236000 4                  LDQ     112
         3 002621   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002622   000161 236000 4                  LDQ     113
         3 002623   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002624   010552 701000 3                  TSX1    ADD_TEXTC
         3 002625   000000 011000                    NOP     0
         3 002626   002752 710000 3                  TRA     s:4160

      855     4135    4                 CASE(KIER_BFCN);

      856     4136    4                    CALL ADD_TEXTC('BAD FUNCTION CODE',17);

   4136  3 002627   000144 236000 4                  LDQ     100
         3 002630   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002631   000162 236000 4                  LDQ     114
         3 002632   200527 756100                    STQ     @BOARD+1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:198  
         3 002633   010552 701000 3                  TSX1    ADD_TEXTC
         3 002634   000000 011000                    NOP     0
         3 002635   002752 710000 3                  TRA     s:4160

      857     4137    4                 CASE(KIER_DCFT);

      858     4138    4                    CALL ADD_TEXTC('IOM MEMORY FAULT',16);

   4138  3 002636   000110 236000 4                  LDQ     72
         3 002637   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002640   000163 236000 4                  LDQ     115
         3 002641   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002642   010552 701000 3                  TSX1    ADD_TEXTC
         3 002643   000000 011000                    NOP     0
         3 002644   002752 710000 3                  TRA     s:4160

      859     4139    4                 CASE(KIER_BCMD);

      860     4140    4                    CALL ADD_TEXTC('BOOT REQUESTED',14);

   4140  3 002645   000017 236000 4                  LDQ     15
         3 002646   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002647   000164 236000 4                  LDQ     116
         3 002650   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002651   010552 701000 3                  TSX1    ADD_TEXTC
         3 002652   000000 011000                    NOP     0
         3 002653   002752 710000 3                  TRA     s:4160

      861     4141    4                 CASE(KIER_6ALZ);

      862     4142    4                    CALL ADD_TEXTC('REQUEST FROM L6ANLZ',19);

   4142  3 002654   000166 236000 4                  LDQ     118
         3 002655   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002656   000167 236000 4                  LDQ     119
         3 002657   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002660   010552 701000 3                  TSX1    ADD_TEXTC
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:199  
         3 002661   000000 011000                    NOP     0
         3 002662   002752 710000 3                  TRA     s:4160

      863     4143    4                 CASE(KIER_STOP);

      864     4144    4                    CALL ADD_TEXTC('STOP REQUESTED',14);

   4144  3 002663   000017 236000 4                  LDQ     15
         3 002664   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002665   000170 236000 4                  LDQ     120
         3 002666   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002667   010552 701000 3                  TSX1    ADD_TEXTC
         3 002670   000000 011000                    NOP     0
         3 002671   002752 710000 3                  TRA     s:4160

      865     4145    4                 CASE(KIER_PART);

      866     4146    4                    CALL ADD_TEXTC('PARTITIONED',11);

   4146  3 002672   000171 236000 4                  LDQ     121
         3 002673   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002674   000172 236000 4                  LDQ     122
         3 002675   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002676   010552 701000 3                  TSX1    ADD_TEXTC
         3 002677   000000 011000                    NOP     0
         3 002700   002752 710000 3                  TRA     s:4160

      867     4147    4                 CASE(KIER_UPRT);

      868     4148    4                    CALL ADD_TEXTC('NOT PARTITIONED',15);

   4148  3 002701   000155 236000 4                  LDQ     109
         3 002702   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002703   000173 236000 4                  LDQ     123
         3 002704   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002705   010552 701000 3                  TSX1    ADD_TEXTC
         3 002706   000000 011000                    NOP     0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:200  
         3 002707   002752 710000 3                  TRA     s:4160

      869     4149    4                 CASE(KIER_FREQ);

      870     4150    4                    CALL ADD_TEXTC('FEP REQUEST',11);

   4150  3 002710   000171 236000 4                  LDQ     121
         3 002711   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002712   000174 236000 4                  LDQ     124
         3 002713   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002714   010552 701000 3                  TSX1    ADD_TEXTC
         3 002715   000000 011000                    NOP     0
         3 002716   002752 710000 3                  TRA     s:4160

      871     4151    4                 CASE(KIER_LNKUP);

      872     4152    4                    CALL ADD_TEXTC('LINK UP',7);

   4152  3 002717   000014 236000 4                  LDQ     12
         3 002720   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002721   000175 236000 4                  LDQ     125
         3 002722   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002723   010552 701000 3                  TSX1    ADD_TEXTC
         3 002724   000000 011000                    NOP     0
         3 002725   002752 710000 3                  TRA     s:4160

      873     4153    4                 CASE(KIER_LNKDWN);

      874     4154    4                    CALL ADD_TEXTC('LINK DOWN',9);

   4154  3 002726   000043 236000 4                  LDQ     35
         3 002727   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002730   000176 236000 4                  LDQ     126
         3 002731   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002732   010552 701000 3                  TSX1    ADD_TEXTC
         3 002733   000000 011000                    NOP     0
         3 002734   002752 710000 3                  TRA     s:4160
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:201  

      875     4155    4                 CASE(KIER_QOSCHG);

      876     4156    4                    CALL ADD_TEXTC('ROUTING CHANGE',14);

   4156  3 002735   000017 236000 4                  LDQ     15
         3 002736   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002737   000177 236000 4                  LDQ     127
         3 002740   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002741   010552 701000 3                  TSX1    ADD_TEXTC
         3 002742   000000 011000                    NOP     0
         3 002743   002752 710000 3                  TRA     s:4160

      877     4157    4                 CASE(ELSE);

      878     4158    4                    CALL ADD_TEXTC('????',4);

   4158  3 002744   000041 236000 4                  LDQ     33
         3 002745   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002746   000037 236000 4                  LDQ     31
         3 002747   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002750   010552 701000 3                  TSX1    ADD_TEXTC
         3 002751   000000 011000                    NOP     0

      879     4159    4                 END;  /* DO CASE PROBLEM */

      880     4160    4              DO CASE(EL$FECRASH.FENM.STATE);

   4160  3 002752   200005 470500                    LDP0    INFO+1,,AUTO
         3 002753   000000 720100                    LXL0    0,,PR0
         3 002754   000777 360003                    ANX0    511,DU
         3 002755   000011 100003                    CMPX0   9,DU
         3 002756   002760 602010 3                  TNC     s:4160+6,X0
         3 002757   003070 710000 3                  TRA     s:4180
         3 002760   002771 710000 3                  TRA     s:4162
         3 002761   003000 710000 3                  TRA     s:4164
         3 002762   003007 710000 3                  TRA     s:4166
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:202  
         3 002763   003016 710000 3                  TRA     s:4168
         3 002764   003025 710000 3                  TRA     s:4170
         3 002765   003034 710000 3                  TRA     s:4172
         3 002766   003043 710000 3                  TRA     s:4174
         3 002767   003061 710000 3                  TRA     s:4178
         3 002770   003052 710000 3                  TRA     s:4176

      881     4161    4                 CASE(KIST_DN);

      882     4162    4                    CALL ADD_TEXTC('DOWN',4);

   4162  3 002771   000041 236000 4                  LDQ     33
         3 002772   200530 756100                    STQ     @CHIP+1,,AUTO
         3 002773   000200 236000 4                  LDQ     128
         3 002774   200527 756100                    STQ     @BOARD+1,,AUTO
         3 002775   010552 701000 3                  TSX1    ADD_TEXTC
         3 002776   000000 011000                    NOP     0
         3 002777   007070 710000 3                  TRA     s:4630

      883     4163    4                 CASE(KIST_TOK);

      884     4164    4                    CALL ADD_TEXTC('CHECKING FOR UP',15);

   4164  3 003000   000155 236000 4                  LDQ     109
         3 003001   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003002   000201 236000 4                  LDQ     129
         3 003003   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003004   010552 701000 3                  TSX1    ADD_TEXTC
         3 003005   000000 011000                    NOP     0
         3 003006   007070 710000 3                  TRA     s:4630

      885     4165    4                 CASE(KIST_RUN);

      886     4166    4                    CALL ADD_TEXTC('RUNNING',7);

   4166  3 003007   000014 236000 4                  LDQ     12
         3 003010   200530 756100                    STQ     @CHIP+1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:203  
         3 003011   000021 236000 4                  LDQ     17
         3 003012   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003013   010552 701000 3                  TSX1    ADD_TEXTC
         3 003014   000000 011000                    NOP     0
         3 003015   007070 710000 3                  TRA     s:4630

      887     4167    4                 CASE(KIST_QFL);

      888     4168    4                    CALL ADD_TEXTC('OUTPUT QUEUE FULL',17);

   4168  3 003016   000144 236000 4                  LDQ     100
         3 003017   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003020   000145 236000 4                  LDQ     101
         3 003021   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003022   010552 701000 3                  TSX1    ADD_TEXTC
         3 003023   000000 011000                    NOP     0
         3 003024   007070 710000 3                  TRA     s:4630

      889     4169    4                 CASE(KIST_DB);

      890     4170    4                    CALL ADD_TEXTC('DEBUG MODE',10);

   4170  3 003025   000027 236000 4                  LDQ     23
         3 003026   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003027   000202 236000 4                  LDQ     130
         3 003030   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003031   010552 701000 3                  TSX1    ADD_TEXTC
         3 003032   000000 011000                    NOP     0
         3 003033   007070 710000 3                  TRA     s:4630

      891     4171    4                 CASE(KIST_DMP);

      892     4172    4                    CALL ADD_TEXTC('DUMPING',7);

   4172  3 003034   000014 236000 4                  LDQ     12
         3 003035   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003036   000203 236000 4                  LDQ     131
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:204  
         3 003037   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003040   010552 701000 3                  TSX1    ADD_TEXTC
         3 003041   000000 011000                    NOP     0
         3 003042   007070 710000 3                  TRA     s:4630

      893     4173    4                 CASE(KIST_BT);

      894     4174    4                    CALL ADD_TEXTC('BOOTING',7);

   4174  3 003043   000014 236000 4                  LDQ     12
         3 003044   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003045   000204 236000 4                  LDQ     132
         3 003046   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003047   010552 701000 3                  TSX1    ADD_TEXTC
         3 003050   000000 011000                    NOP     0
         3 003051   007070 710000 3                  TRA     s:4630

      895     4175    4                 CASE ( KIST_STOPPING ) ;

      896     4176    4                    CALL ADD_TEXTC ( 'STOPPING' , 8 ) ;

   4176  3 003052   000025 236000 4                  LDQ     21
         3 003053   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003054   000205 236000 4                  LDQ     133
         3 003055   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003056   010552 701000 3                  TSX1    ADD_TEXTC
         3 003057   000000 011000                    NOP     0
         3 003060   007070 710000 3                  TRA     s:4630

      897     4177    4                 CASE ( KIST_MASKED ) ;

      898     4178    4                    CALL ADD_TEXTC ( 'MASKED' , 6 ) ;

   4178  3 003061   000031 236000 4                  LDQ     25
         3 003062   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003063   000206 236000 4                  LDQ     134
         3 003064   200527 756100                    STQ     @BOARD+1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:205  
         3 003065   010552 701000 3                  TSX1    ADD_TEXTC
         3 003066   000000 011000                    NOP     0
         3 003067   007070 710000 3                  TRA     s:4630

      899     4179    4                 CASE(ELSE);

      900     4180    4                    CALL ADD_TEXTC('????',4);

   4180  3 003070   000041 236000 4                  LDQ     33
         3 003071   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003072   000037 236000 4                  LDQ     31
         3 003073   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003074   010552 701000 3                  TSX1    ADD_TEXTC
         3 003075   000000 011000                    NOP     0

      901     4181    4                 END;  /* DO CASE STATE */

   4181  3 003076   007070 710000 3                  TRA     s:4630

      902     4182    3            CASE(%TH_ZAP);

      903     4183    3              J = 139;

   4183  3 003077   000213 235007                    LDA     139,DL
         3 003100   200100 755100                    STA     J,,AUTO

      904     4184    3              IF EL$ZAP.OPER_TEXT = ' '

   4184  3 003101   200005 470500                    LDP0    INFO+1,,AUTO
         3 003102   040000 106500                    CMPC    fill='040'O
         3 003103   000002 000214                    ADSC9   2,,PR0                   cn=0,n=140
         3 003104   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 003105   003110 601000 3                  TNZ     s:4187

      905     4185    3                 THEN J = 0;

   4185  3 003106   200100 450100                    STZ     J,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:206  
         3 003107   003121 710000 3                  TRA     s:4190

      906     4186    3                 ELSE
      907     4187    4              DO WHILE (SUBSTR(EL$ZAP.OPER_TEXT,J,1) = ' ');

   4187  3 003110   003114 710000 3                  TRA     s:4189

      908     4188    4                 J = J - 1;

   4188  3 003111   200100 235100                    LDA     J,,AUTO
         3 003112   000001 135007                    SBLA    1,DL
         3 003113   200100 755100                    STA     J,,AUTO

      909     4189    4              END;

   4189  3 003114   200005 470500                    LDP0    INFO+1,,AUTO
         3 003115   040000 106505                    CMPC    fill='040'O
         3 003116   000002 000001                    ADSC9   2,A,PR0                  cn=0,n=1
         3 003117   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 003120   003111 600000 3                  TZE     s:4188

      910     4190    3              CALL ADD_TEXTC(SUBSTR(EL$ZAP.OPER_TEXT,0,J+1),J+1);

   4190  3 003121   200100 235100                    LDA     J,,AUTO
         3 003122   000001 035007                    ADLA    1,DL
         3 003123   200555 755100                    STA     CHIP#+19,,AUTO
         3 003124   200555 631500                    EPPR1   CHIP#+19,,AUTO
         3 003125   200530 451500                    STP1    @CHIP+1,,AUTO
         3 003126   200005 236100                    LDQ     INFO+1,,AUTO
         3 003127   000002 036003                    ADLQ    2,DU
         3 003130   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003131   010552 701000 3                  TSX1    ADD_TEXTC
         3 003132   000000 011000                    NOP     0
         3 003133   007070 710000 3                  TRA     s:4630

      911     4191    3            CASE(%TH_CHANTRAN);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:207  
      912     4192    3              IF(EL$CHANTRAN.STATUS.CHAN ~= 4)

   4192  3 003134   200005 470500                    LDP0    INFO+1,,AUTO
         3 003135   000001 236100                    LDQ     1,,PR0
         3 003136   377000 376003                    ANQ     130560,DU
         3 003137   004000 116003                    CMPQ    2048,DU
         3 003140   003233 600000 3                  TZE     s:4206

      913     4193    3              THEN
      914     4194    4                   DO CASE(EL$CHANTRAN.STATUS.CHAN_STAT);

   4194  3 003141   000001 236100                    LDQ     1,,PR0
         3 003142   000011 772000                    QRL     9
         3 003143   000377 376007                    ANQ     255,DL
         3 003144   000021 116007                    CMPQ    17,DL
         3 003145   003147 602006 3                  TNC     s:4194+6,QL
         3 003146   003224 710000 3                  TRA     s:4204
         3 003147   003224 710000 3                  TRA     s:4204
         3 003150   003170 710000 3                  TRA     s:4196
         3 003151   003177 710000 3                  TRA     s:4198
         3 003152   003224 710000 3                  TRA     s:4204
         3 003153   003224 710000 3                  TRA     s:4204
         3 003154   003224 710000 3                  TRA     s:4204
         3 003155   003224 710000 3                  TRA     s:4204
         3 003156   003224 710000 3                  TRA     s:4204
         3 003157   003206 710000 3                  TRA     s:4200
         3 003160   003224 710000 3                  TRA     s:4204
         3 003161   003224 710000 3                  TRA     s:4204
         3 003162   003224 710000 3                  TRA     s:4204
         3 003163   003224 710000 3                  TRA     s:4204
         3 003164   003224 710000 3                  TRA     s:4204
         3 003165   003224 710000 3                  TRA     s:4204
         3 003166   003224 710000 3                  TRA     s:4204
         3 003167   003215 710000 3                  TRA     s:4202

      915     4195    4                      CASE(%CHAN_SUSPEND);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:208  
      916     4196    4                        CALL ADD_TEXTC('CHANNEL SUSPENDED',17);

   4196  3 003170   000144 236000 4                  LDQ     100
         3 003171   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003172   000207 236000 4                  LDQ     135
         3 003173   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003174   010552 701000 3                  TSX1    ADD_TEXTC
         3 003175   000000 011000                    NOP     0
         3 003176   007070 710000 3                  TRA     s:4630

      917     4197    4                      CASE(%CHAN_RELEASED);

      918     4198    4                        CALL ADD_TEXTC('CHANNEL RELEASED',16);

   4198  3 003177   000110 236000 4                  LDQ     72
         3 003200   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003201   000210 236000 4                  LDQ     136
         3 003202   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003203   010552 701000 3                  TSX1    ADD_TEXTC
         3 003204   000000 011000                    NOP     0
         3 003205   007070 710000 3                  TRA     s:4630

      919     4199    4                      CASE(%CHAN_STOPPED);

      920     4200    4                        CALL ADD_TEXTC('CHANNEL STOPPED',15);

   4200  3 003206   000155 236000 4                  LDQ     109
         3 003207   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003210   000211 236000 4                  LDQ     137
         3 003211   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003212   010552 701000 3                  TSX1    ADD_TEXTC
         3 003213   000000 011000                    NOP     0
         3 003214   007070 710000 3                  TRA     s:4630

      921     4201    4                      CASE(%CHAN_AVAILABLE);

      922     4202    4                        CALL ADD_TEXTC('CHANNEL AVAILABLE',17);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:209  

   4202  3 003215   000144 236000 4                  LDQ     100
         3 003216   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003217   000212 236000 4                  LDQ     138
         3 003220   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003221   010552 701000 3                  TSX1    ADD_TEXTC
         3 003222   000000 011000                    NOP     0
         3 003223   007070 710000 3                  TRA     s:4630

      923     4203    4                      CASE(ELSE);

      924     4204    4                        CALL ADD_TEXTC('IMPROPER STATE',14);

   4204  3 003224   000017 236000 4                  LDQ     15
         3 003225   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003226   000213 236000 4                  LDQ     139
         3 003227   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003230   010552 701000 3                  TSX1    ADD_TEXTC
         3 003231   000000 011000                    NOP     0

      925     4205    4                   END;  /*do case channel not = to 4 */

   4205  3 003232   007070 710000 3                  TRA     s:4630

      926     4206    3              ELSE IF(EL$CHANTRAN.STATUS.CHAN = 4)

   4206  3 003233   007070 601000 3                  TNZ     s:4630

      927     4207    3              THEN
      928     4208    4                   DO CASE(EL$CHANTRAN.STATUS.MSOS_REQ);

   4208  3 003234   000001 720100                    LXL0    1,,PR0
         3 003235   000377 360003                    ANX0    255,DU
         3 003236   000003 100003                    CMPX0   3,DU
         3 003237   003241 602010 3                  TNC     s:4208+5,X0
         3 003240   007070 710000 3                  TRA     s:4630
         3 003241   003244 710000 3                  TRA     s:4210
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:210  
         3 003242   003253 710000 3                  TRA     s:4212
         3 003243   003262 710000 3                  TRA     s:4214

      929     4209    4                      CASE(%RSR_ASSIGN_RELEASE);

      930     4210    4                        CALL ADD_TEXTC('RESOURCE ASSIGN/RELEASE',23);

   4210  3 003244   000215 236000 4                  LDQ     141
         3 003245   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003246   000216 236000 4                  LDQ     142
         3 003247   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003250   010552 701000 3                  TSX1    ADD_TEXTC
         3 003251   000000 011000                    NOP     0
         3 003252   007070 710000 3                  TRA     s:4630

      931     4211    4                      CASE(%IOP_AUTO_REBOOT);

      932     4212    4                        CALL ADD_TEXTC('IOP AUTO REBOOT',15);

   4212  3 003253   000155 236000 4                  LDQ     109
         3 003254   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003255   000217 236000 4                  LDQ     143
         3 003256   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003257   010552 701000 3                  TSX1    ADD_TEXTC
         3 003260   000000 011000                    NOP     0
         3 003261   007070 710000 3                  TRA     s:4630

      933     4213    4                      CASE(%IOP_ASSIGN);

      934     4214    4                        CALL ADD_TEXTC('IOP ASSIGN',10);

   4214  3 003262   000027 236000 4                  LDQ     23
         3 003263   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003264   000220 236000 4                  LDQ     144
         3 003265   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003266   010552 701000 3                  TSX1    ADD_TEXTC
         3 003267   000000 011000                    NOP     0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:211  

      935     4215    4                   END;  /*do case channel = 4 */

   4215  3 003270   007070 710000 3                  TRA     s:4630

      936     4216    3            CASE(%TH_MSOSSAYS);

      937     4217    4              DO SELECT(EL$MSOSSAYS.IDCW.CODE);

   4217  3 003271   200005 470500                    LDP0    INFO+1,,AUTO
         3 003272   000004 236100                    LDQ     4,,PR0
         3 003273   770000 376003                    ANQ     -4096,DU
         3 003274   420000 116003                    CMPQ    -122880,DU
         3 003275   003334 602000 3                  TNC     s:4217+35
         3 003276   000004 236100                    LDQ     4,,PR0
         3 003277   770000 376003                    ANQ     -4096,DU
         3 003300   420000 116003                    CMPQ    -122880,DU
         3 003301   003403 600000 3                  TZE     s:4225
         3 003302   000004 236100                    LDQ     4,,PR0
         3 003303   770000 376003                    ANQ     -4096,DU
         3 003304   610000 116003                    CMPQ    -61440,DU
         3 003305   003327 602000 3                  TNC     s:4217+30
         3 003306   000004 236100                    LDQ     4,,PR0
         3 003307   770000 376003                    ANQ     -4096,DU
         3 003310   610000 116003                    CMPQ    -61440,DU
         3 003311   003421 600000 3                  TZE     s:4229
         3 003312   000004 236100                    LDQ     4,,PR0
         3 003313   770000 376003                    ANQ     -4096,DU
         3 003314   620000 116003                    CMPQ    -57344,DU
         3 003315   007070 602000 3                  TNC     s:4630
         3 003316   000004 236100                    LDQ     4,,PR0
         3 003317   770000 376003                    ANQ     -4096,DU
         3 003320   620000 116003                    CMPQ    -57344,DU
         3 003321   003430 600000 3                  TZE     s:4231
         3 003322   000004 236100                    LDQ     4,,PR0
         3 003323   770000 376003                    ANQ     -4096,DU
         3 003324   640000 116003                    CMPQ    -49152,DU
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:212  
         3 003325   007070 601000 3                  TNZ     s:4630
         3 003326   003437 710000 3                  TRA     s:4233
         3 003327   000004 236100                    LDQ     4,,PR0
         3 003330   770000 376003                    ANQ     -4096,DU
         3 003331   600000 116003                    CMPQ    -65536,DU
         3 003332   007070 601000 3                  TNZ     s:4630
         3 003333   003412 710000 3                  TRA     s:4227
         3 003334   000004 236100                    LDQ     4,,PR0
         3 003335   770000 376003                    ANQ     -4096,DU
         3 003336   070000 116003                    CMPQ    28672,DU
         3 003337   003351 602000 3                  TNC     s:4217+48
         3 003340   000004 236100                    LDQ     4,,PR0
         3 003341   770000 376003                    ANQ     -4096,DU
         3 003342   070000 116003                    CMPQ    28672,DU
         3 003343   003365 600000 3                  TZE     s:4221
         3 003344   000004 236100                    LDQ     4,,PR0
         3 003345   770000 376003                    ANQ     -4096,DU
         3 003346   400000 116003                    CMPQ    -131072,DU
         3 003347   007070 601000 3                  TNZ     s:4630
         3 003350   003374 710000 3                  TRA     s:4223
         3 003351   000004 236100                    LDQ     4,,PR0
         3 003352   770000 376003                    ANQ     -4096,DU
         3 003353   030000 116003                    CMPQ    12288,DU
         3 003354   007070 601000 3                  TNZ     s:4630
         3 003355   003356 710000 3                  TRA     s:4219

      938     4218    4                 SELECT(%REQ_TIME);

      939     4219    4                   CALL ADD_TEXTC('TIME CORRECTION REQUEST',23);

   4219  3 003356   000215 236000 4                  LDQ     141
         3 003357   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003360   000221 236000 4                  LDQ     145
         3 003361   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003362   010552 701000 3                  TSX1    ADD_TEXTC
         3 003363   000000 011000                    NOP     0
         3 003364   007070 710000 3                  TRA     s:4630
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:213  

      940     4220    4                 SELECT(%REQ_MEM_EXPANSION);

      941     4221    4                   CALL ADD_TEXTC('MEMORY EXPANSION REQUEST',24);

   4221  3 003365   000223 236000 4                  LDQ     147
         3 003366   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003367   000224 236000 4                  LDQ     148
         3 003370   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003371   010552 701000 3                  TSX1    ADD_TEXTC
         3 003372   000000 011000                    NOP     0
         3 003373   007070 710000 3                  TRA     s:4630

      942     4222    4                 SELECT(%REQ_ASSIGN_EPU);

      943     4223    4                   CALL ADD_TEXTC('ASSIGN EPU REQUEST',18);

   4223  3 003374   000160 236000 4                  LDQ     112
         3 003375   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003376   000225 236000 4                  LDQ     149
         3 003377   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003400   010552 701000 3                  TSX1    ADD_TEXTC
         3 003401   000000 011000                    NOP     0
         3 003402   007070 710000 3                  TRA     s:4630

      944     4224    4                 SELECT(%REQ_ASSIGN_DEVICE);

      945     4225    4                   CALL ADD_TEXTC('ASSIGN DEVICE REQUEST',21);

   4225  3 003403   000227 236000 4                  LDQ     151
         3 003404   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003405   000230 236000 4                  LDQ     152
         3 003406   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003407   010552 701000 3                  TSX1    ADD_TEXTC
         3 003410   000000 011000                    NOP     0
         3 003411   007070 710000 3                  TRA     s:4630

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:214  
      946     4226    4                 SELECT(%REQ_RELEASE_EPU);

      947     4227    4                   CALL ADD_TEXTC('RELEASE EPU REQUEST',19);

   4227  3 003412   000166 236000 4                  LDQ     118
         3 003413   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003414   000231 236000 4                  LDQ     153
         3 003415   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003416   010552 701000 3                  TSX1    ADD_TEXTC
         3 003417   000000 011000                    NOP     0
         3 003420   007070 710000 3                  TRA     s:4630

      948     4228    4                 SELECT(%REQ_RELEASE_MEM1);

      949     4229    4                   CALL ADD_TEXTC('RELEASE MEMORY REQUEST',22);

   4229  3 003421   000233 236000 4                  LDQ     155
         3 003422   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003423   000234 236000 4                  LDQ     156
         3 003424   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003425   010552 701000 3                  TSX1    ADD_TEXTC
         3 003426   000000 011000                    NOP     0
         3 003427   007070 710000 3                  TRA     s:4630

      950     4230    4                 SELECT(%REQ_RELEASE_DEVICE);

      951     4231    4                   CALL ADD_TEXTC('RELEASE DEVICE REQUEST',22);

   4231  3 003430   000233 236000 4                  LDQ     155
         3 003431   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003432   000235 236000 4                  LDQ     157
         3 003433   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003434   010552 701000 3                  TSX1    ADD_TEXTC
         3 003435   000000 011000                    NOP     0
         3 003436   007070 710000 3                  TRA     s:4630

      952     4232    4                 SELECT(%REQ_RELEASE_MEM2);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:215  

      953     4233    4                   CALL ADD_TEXTC('RELEASE MEMORY REQUEST',22);

   4233  3 003437   000233 236000 4                  LDQ     155
         3 003440   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003441   000234 236000 4                  LDQ     156
         3 003442   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003443   010552 701000 3                  TSX1    ADD_TEXTC
         3 003444   000000 011000                    NOP     0

      954     4234    4              END;  /* do case */

   4234  3 003445   007070 710000 3                  TRA     s:4630

      955     4235    3            CASE(%TH_CP6SAYS);

      956     4236    4              DO SELECT(EL$CP6SAYS.IDCW.CODE);

   4236  3 003446   200005 470500                    LDP0    INFO+1,,AUTO
         3 003447   000004 236100                    LDQ     4,,PR0
         3 003450   770000 376003                    ANQ     -4096,DU
         3 003451   030000 116003                    CMPQ    12288,DU
         3 003452   003501 602000 3                  TNC     s:4236+27
         3 003453   000004 236100                    LDQ     4,,PR0
         3 003454   770000 376003                    ANQ     -4096,DU
         3 003455   030000 116003                    CMPQ    12288,DU
         3 003456   003551 600000 3                  TZE     s:4244
         3 003457   000004 236100                    LDQ     4,,PR0
         3 003460   770000 376003                    ANQ     -4096,DU
         3 003461   050000 116003                    CMPQ    20480,DU
         3 003462   003474 602000 3                  TNC     s:4236+22
         3 003463   000004 236100                    LDQ     4,,PR0
         3 003464   770000 376003                    ANQ     -4096,DU
         3 003465   050000 116003                    CMPQ    20480,DU
         3 003466   003567 600000 3                  TZE     s:4248
         3 003467   000004 236100                    LDQ     4,,PR0
         3 003470   770000 376003                    ANQ     -4096,DU
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:216  
         3 003471   150000 116003                    CMPQ    53248,DU
         3 003472   003604 601000 3                  TNZ     s:4252
         3 003473   003576 710000 3                  TRA     s:4250
         3 003474   000004 236100                    LDQ     4,,PR0
         3 003475   770000 376003                    ANQ     -4096,DU
         3 003476   040000 116003                    CMPQ    16384,DU
         3 003477   003604 601000 3                  TNZ     s:4252
         3 003500   003560 710000 3                  TRA     s:4246
         3 003501   000004 236100                    LDQ     4,,PR0
         3 003502   770000 376003                    ANQ     -4096,DU
         3 003503   010000 116003                    CMPQ    4096,DU
         3 003504   003516 602000 3                  TNC     s:4236+40
         3 003505   000004 236100                    LDQ     4,,PR0
         3 003506   770000 376003                    ANQ     -4096,DU
         3 003507   010000 116003                    CMPQ    4096,DU
         3 003510   003533 600000 3                  TZE     s:4240
         3 003511   000004 236100                    LDQ     4,,PR0
         3 003512   770000 376003                    ANQ     -4096,DU
         3 003513   020000 116003                    CMPQ    8192,DU
         3 003514   003604 601000 3                  TNZ     s:4252
         3 003515   003542 710000 3                  TRA     s:4242
         3 003516   000004 236100                    LDQ     4,,PR0
         3 003517   770000 376003                    ANQ     -4096,DU
         3 003520   000000 116003                    CMPQ    0,DU
         3 003521   003524 602000 3                  TNC     s:4238
         3 003522   003524 600000 3                  TZE     s:4238
         3 003523   003604 710000 3                  TRA     s:4252

      957     4237    4                 SELECT(%RSP_INIT);

      958     4238    4                   CALL ADD_TEXTC('RESPONSE INITIALIZATION',23);

   4238  3 003524   000215 236000 4                  LDQ     141
         3 003525   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003526   000236 236000 4                  LDQ     158
         3 003527   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003530   010552 701000 3                  TSX1    ADD_TEXTC
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:217  
         3 003531   000000 011000                    NOP     0
         3 003532   003604 710000 3                  TRA     s:4252

      959     4239    4                 SELECT(%RSP_BUSY);

      960     4240    4                   CALL ADD_TEXTC('RESPONSE BUSY',13);

   4240  3 003533   000147 236000 4                  LDQ     103
         3 003534   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003535   000237 236000 4                  LDQ     159
         3 003536   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003537   010552 701000 3                  TSX1    ADD_TEXTC
         3 003540   000000 011000                    NOP     0
         3 003541   003604 710000 3                  TRA     s:4252

      961     4241    4                 SELECT(%RSP_REJECT);

      962     4242    4                   CALL ADD_TEXTC('RESPONSE REJECT',15);

   4242  3 003542   000155 236000 4                  LDQ     109
         3 003543   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003544   000240 236000 4                  LDQ     160
         3 003545   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003546   010552 701000 3                  TSX1    ADD_TEXTC
         3 003547   000000 011000                    NOP     0
         3 003550   003604 710000 3                  TRA     s:4252

      963     4243    4                 SELECT(%RSP_COMPLETE);

      964     4244    4                   CALL ADD_TEXTC('RESPONSE COMPLETE',17);

   4244  3 003551   000144 236000 4                  LDQ     100
         3 003552   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003553   000241 236000 4                  LDQ     161
         3 003554   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003555   010552 701000 3                  TSX1    ADD_TEXTC
         3 003556   000000 011000                    NOP     0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:218  
         3 003557   003604 710000 3                  TRA     s:4252

      965     4245    4                 SELECT(%RSP_IOP_RECOV);

      966     4246    4                   CALL ADD_TEXTC('RESPONSE IOP RECOVERY',21);

   4246  3 003560   000227 236000 4                  LDQ     151
         3 003561   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003562   000242 236000 4                  LDQ     162
         3 003563   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003564   010552 701000 3                  TSX1    ADD_TEXTC
         3 003565   000000 011000                    NOP     0
         3 003566   003604 710000 3                  TRA     s:4252

      967     4247    4                 SELECT(%RSP_ILL_CMND);

      968     4248    4                   CALL ADD_TEXTC('RESPONSE ILLEGAL COMMAND',24);

   4248  3 003567   000223 236000 4                  LDQ     147
         3 003570   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003571   000243 236000 4                  LDQ     163
         3 003572   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003573   010552 701000 3                  TSX1    ADD_TEXTC
         3 003574   000000 011000                    NOP     0
         3 003575   003604 710000 3                  TRA     s:4252

      969     4249    4                 SELECT(%RSP_UNMSK_IOP);

      970     4250    4                   CALL ADD_TEXTC('RESPONSE UNMASK IOP',19);

   4250  3 003576   000166 236000 4                  LDQ     118
         3 003577   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003600   000244 236000 4                  LDQ     164
         3 003601   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003602   010552 701000 3                  TSX1    ADD_TEXTC
         3 003603   000000 011000                    NOP     0

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:219  
      971     4251    4              END;  /* do case */

      972     4252    3              IF EL$CP6SAYS.REASON = %REAS_USE_RC

   4252  3 003604   200005 470500                    LDP0    INFO+1,,AUTO
         3 003605   000000 236100                    LDQ     0,,PR0
         3 003606   000777 316003                    CANQ    511,DU
         3 003607   004150 601000 3                  TNZ     s:4291

      973     4253    3              THEN
      974     4254    4              DO SELECT(EL$CP6SAYS.IDCWE.RC);

   4254  3 003610   000003 236100                    LDQ     3,,PR0
         3 003611   770000 376003                    ANQ     -4096,DU
         3 003612   100000 116003                    CMPQ    32768,DU
         3 003613   003704 602000 3                  TNC     s:4254+60
         3 003614   000003 236100                    LDQ     3,,PR0
         3 003615   770000 376003                    ANQ     -4096,DU
         3 003616   100000 116003                    CMPQ    32768,DU
         3 003617   004042 600000 3                  TZE     s:4270
         3 003620   000003 236100                    LDQ     3,,PR0
         3 003621   770000 376003                    ANQ     -4096,DU
         3 003622   210000 116003                    CMPQ    69632,DU
         3 003623   003662 602000 3                  TNC     s:4254+42
         3 003624   000003 236100                    LDQ     3,,PR0
         3 003625   770000 376003                    ANQ     -4096,DU
         3 003626   210000 116003                    CMPQ    69632,DU
         3 003627   004076 600000 3                  TZE     s:4278
         3 003630   000003 236100                    LDQ     3,,PR0
         3 003631   770000 376003                    ANQ     -4096,DU
         3 003632   260000 116003                    CMPQ    90112,DU
         3 003633   003655 602000 3                  TNC     s:4254+37
         3 003634   000003 236100                    LDQ     3,,PR0
         3 003635   770000 376003                    ANQ     -4096,DU
         3 003636   260000 116003                    CMPQ    90112,DU
         3 003637   004114 600000 3                  TZE     s:4282
         3 003640   000003 236100                    LDQ     3,,PR0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:220  
         3 003641   770000 376003                    ANQ     -4096,DU
         3 003642   270000 116003                    CMPQ    94208,DU
         3 003643   004141 602000 3                  TNC     s:4288
         3 003644   000003 236100                    LDQ     3,,PR0
         3 003645   770000 376003                    ANQ     -4096,DU
         3 003646   270000 116003                    CMPQ    94208,DU
         3 003647   004123 600000 3                  TZE     s:4284
         3 003650   000003 236100                    LDQ     3,,PR0
         3 003651   770000 376003                    ANQ     -4096,DU
         3 003652   300000 116003                    CMPQ    98304,DU
         3 003653   004141 601000 3                  TNZ     s:4288
         3 003654   004132 710000 3                  TRA     s:4286
         3 003655   000003 236100                    LDQ     3,,PR0
         3 003656   770000 376003                    ANQ     -4096,DU
         3 003657   220000 116003                    CMPQ    73728,DU
         3 003660   004141 601000 3                  TNZ     s:4288
         3 003661   004105 710000 3                  TRA     s:4280
         3 003662   000003 236100                    LDQ     3,,PR0
         3 003663   770000 376003                    ANQ     -4096,DU
         3 003664   140000 116003                    CMPQ    49152,DU
         3 003665   003677 602000 3                  TNC     s:4254+55
         3 003666   000003 236100                    LDQ     3,,PR0
         3 003667   770000 376003                    ANQ     -4096,DU
         3 003670   140000 116003                    CMPQ    49152,DU
         3 003671   004060 600000 3                  TZE     s:4274
         3 003672   000003 236100                    LDQ     3,,PR0
         3 003673   770000 376003                    ANQ     -4096,DU
         3 003674   150000 116003                    CMPQ    53248,DU
         3 003675   004141 601000 3                  TNZ     s:4288
         3 003676   004067 710000 3                  TRA     s:4276
         3 003677   000003 236100                    LDQ     3,,PR0
         3 003700   770000 376003                    ANQ     -4096,DU
         3 003701   110000 116003                    CMPQ    36864,DU
         3 003702   004141 601000 3                  TNZ     s:4288
         3 003703   004051 710000 3                  TRA     s:4272
         3 003704   000003 236100                    LDQ     3,,PR0
         3 003705   770000 376003                    ANQ     -4096,DU
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:221  
         3 003706   040000 116003                    CMPQ    16384,DU
         3 003707   003736 602000 3                  TNC     s:4254+86
         3 003710   000003 236100                    LDQ     3,,PR0
         3 003711   770000 376003                    ANQ     -4096,DU
         3 003712   040000 116003                    CMPQ    16384,DU
         3 003713   004006 600000 3                  TZE     s:4262
         3 003714   000003 236100                    LDQ     3,,PR0
         3 003715   770000 376003                    ANQ     -4096,DU
         3 003716   060000 116003                    CMPQ    24576,DU
         3 003717   003731 602000 3                  TNC     s:4254+81
         3 003720   000003 236100                    LDQ     3,,PR0
         3 003721   770000 376003                    ANQ     -4096,DU
         3 003722   060000 116003                    CMPQ    24576,DU
         3 003723   004024 600000 3                  TZE     s:4266
         3 003724   000003 236100                    LDQ     3,,PR0
         3 003725   770000 376003                    ANQ     -4096,DU
         3 003726   070000 116003                    CMPQ    28672,DU
         3 003727   004141 601000 3                  TNZ     s:4288
         3 003730   004033 710000 3                  TRA     s:4268
         3 003731   000003 236100                    LDQ     3,,PR0
         3 003732   770000 376003                    ANQ     -4096,DU
         3 003733   050000 116003                    CMPQ    20480,DU
         3 003734   004141 601000 3                  TNZ     s:4288
         3 003735   004015 710000 3                  TRA     s:4264
         3 003736   000003 236100                    LDQ     3,,PR0
         3 003737   770000 376003                    ANQ     -4096,DU
         3 003740   020000 116003                    CMPQ    8192,DU
         3 003741   003753 602000 3                  TNC     s:4254+99
         3 003742   000003 236100                    LDQ     3,,PR0
         3 003743   770000 376003                    ANQ     -4096,DU
         3 003744   020000 116003                    CMPQ    8192,DU
         3 003745   003770 600000 3                  TZE     s:4258
         3 003746   000003 236100                    LDQ     3,,PR0
         3 003747   770000 376003                    ANQ     -4096,DU
         3 003750   030000 116003                    CMPQ    12288,DU
         3 003751   004141 601000 3                  TNZ     s:4288
         3 003752   003777 710000 3                  TRA     s:4260
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:222  
         3 003753   000003 236100                    LDQ     3,,PR0
         3 003754   770000 376003                    ANQ     -4096,DU
         3 003755   000000 116003                    CMPQ    0,DU
         3 003756   003761 602000 3                  TNC     s:4256
         3 003757   003761 600000 3                  TZE     s:4256
         3 003760   004141 710000 3                  TRA     s:4288

      975     4255    4                 SELECT(%RC_INV_CMND);

      976     4256    4                   CALL ADD_TEXTC('INVALID COMMAND FROM MSOS',25);

   4256  3 003761   000246 236000 4                  LDQ     166
         3 003762   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003763   000247 236000 4                  LDQ     167
         3 003764   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003765   010552 701000 3                  TSX1    ADD_TEXTC
         3 003766   000000 011000                    NOP     0
         3 003767   007070 710000 3                  TRA     s:4630

      977     4257    4                 SELECT(%RC_INV_ADD);

      978     4258    4                   CALL ADD_TEXTC('INVAL ADDR/MEM SZ FROM MSOS',27);

   4258  3 003770   000251 236000 4                  LDQ     169
         3 003771   200530 756100                    STQ     @CHIP+1,,AUTO
         3 003772   000252 236000 4                  LDQ     170
         3 003773   200527 756100                    STQ     @BOARD+1,,AUTO
         3 003774   010552 701000 3                  TSX1    ADD_TEXTC
         3 003775   000000 011000                    NOP     0
         3 003776   007070 710000 3                  TRA     s:4630

      979     4259    4                 SELECT(%RC_INV_IOP);

      980     4260    4                   CALL ADD_TEXTC('INVALID IOP FROM MSOS',21);

   4260  3 003777   000227 236000 4                  LDQ     151
         3 004000   200530 756100                    STQ     @CHIP+1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:223  
         3 004001   000253 236000 4                  LDQ     171
         3 004002   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004003   010552 701000 3                  TSX1    ADD_TEXTC
         3 004004   000000 011000                    NOP     0
         3 004005   007070 710000 3                  TRA     s:4630

      981     4261    4                 SELECT(%RC_INV_CHN);

      982     4262    4                   CALL ADD_TEXTC('INVALID CHANNEL FROM MSOS',25);

   4262  3 004006   000246 236000 4                  LDQ     166
         3 004007   200530 756100                    STQ     @CHIP+1,,AUTO
         3 004010   000254 236000 4                  LDQ     172
         3 004011   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004012   010552 701000 3                  TSX1    ADD_TEXTC
         3 004013   000000 011000                    NOP     0
         3 004014   007070 710000 3                  TRA     s:4630

      983     4263    4                 SELECT(%RC_INV_DEV);

      984     4264    4                   CALL ADD_TEXTC('INVALID DEVICE FROM MSOS',24);

   4264  3 004015   000223 236000 4                  LDQ     147
         3 004016   200530 756100                    STQ     @CHIP+1,,AUTO
         3 004017   000255 236000 4                  LDQ     173
         3 004020   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004021   010552 701000 3                  TSX1    ADD_TEXTC
         3 004022   000000 011000                    NOP     0
         3 004023   007070 710000 3                  TRA     s:4630

      985     4265    4                 SELECT(%RC_RES_NCONF);

      986     4266    4                   CALL ADD_TEXTC('RESOURCE NOT CONFIGURED',23);

   4266  3 004024   000215 236000 4                  LDQ     141
         3 004025   200530 756100                    STQ     @CHIP+1,,AUTO
         3 004026   000256 236000 4                  LDQ     174
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:224  
         3 004027   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004030   010552 701000 3                  TSX1    ADD_TEXTC
         3 004031   000000 011000                    NOP     0
         3 004032   007070 710000 3                  TRA     s:4630

      987     4267    4                 SELECT(%RC_SHA_FILE);

      988     4268    4                   CALL ADD_TEXTC('SHARED FILE UNIT ~= DISK',24);

   4268  3 004033   000223 236000 4                  LDQ     147
         3 004034   200530 756100                    STQ     @CHIP+1,,AUTO
         3 004035   000257 236000 4                  LDQ     175
         3 004036   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004037   010552 701000 3                  TSX1    ADD_TEXTC
         3 004040   000000 011000                    NOP     0
         3 004041   007070 710000 3                  TRA     s:4630

      989     4269    4                 SELECT(%RC_RES_ASSGND);

      990     4270    4                   CALL ADD_TEXTC('RESOURCE ALREADY ASSIGNED',25);

   4270  3 004042   000246 236000 4                  LDQ     166
         3 004043   200530 756100                    STQ     @CHIP+1,,AUTO
         3 004044   000260 236000 4                  LDQ     176
         3 004045   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004046   010552 701000 3                  TSX1    ADD_TEXTC
         3 004047   000000 011000                    NOP     0
         3 004050   007070 710000 3                  TRA     s:4630

      991     4271    4                 SELECT(%RC_PER_NCONF);

      992     4272    4                   CALL ADD_TEXTC('PERIPHERAL NOT DEFINED',22);

   4272  3 004051   000233 236000 4                  LDQ     155
         3 004052   200530 756100                    STQ     @CHIP+1,,AUTO
         3 004053   000261 236000 4                  LDQ     177
         3 004054   200527 756100                    STQ     @BOARD+1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:225  
         3 004055   010552 701000 3                  TSX1    ADD_TEXTC
         3 004056   000000 011000                    NOP     0
         3 004057   007070 710000 3                  TRA     s:4630

      993     4273    4                 SELECT(%RC_REL_MON);

      994     4274    4                   CALL ADD_TEXTC('REQUIRE RELEASE OF MONITOR',26);

   4274  3 004060   000263 236000 4                  LDQ     179
         3 004061   200530 756100                    STQ     @CHIP+1,,AUTO
         3 004062   000264 236000 4                  LDQ     180
         3 004063   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004064   010552 701000 3                  TSX1    ADD_TEXTC
         3 004065   000000 011000                    NOP     0
         3 004066   007070 710000 3                  TRA     s:4630

      995     4275    4                 SELECT(%RC_REL_IMPOS);

      996     4276    4                   CALL ADD_TEXTC('RELEASE UNSWAPPABLE PROGRAM',27);

   4276  3 004067   000251 236000 4                  LDQ     169
         3 004070   200530 756100                    STQ     @CHIP+1,,AUTO
         3 004071   000265 236000 4                  LDQ     181
         3 004072   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004073   010552 701000 3                  TSX1    ADD_TEXTC
         3 004074   000000 011000                    NOP     0
         3 004075   007070 710000 3                  TRA     s:4630

      997     4277    4                 SELECT(%RC_MEM_RLSD);

      998     4278    4                   CALL ADD_TEXTC('MEMORY ALREADY RELEASED',23);

   4278  3 004076   000215 236000 4                  LDQ     141
         3 004077   200530 756100                    STQ     @CHIP+1,,AUTO
         3 004100   000266 236000 4                  LDQ     182
         3 004101   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004102   010552 701000 3                  TSX1    ADD_TEXTC
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:226  
         3 004103   000000 011000                    NOP     0
         3 004104   007070 710000 3                  TRA     s:4630

      999     4279    4                 SELECT(%RC_INV_PRCS);

     1000     4280    4                   CALL ADD_TEXTC('INVALID PROCESSOR #',19);

   4280  3 004105   000166 236000 4                  LDQ     118
         3 004106   200530 756100                    STQ     @CHIP+1,,AUTO
         3 004107   000267 236000 4                  LDQ     183
         3 004110   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004111   010552 701000 3                  TSX1    ADD_TEXTC
         3 004112   000000 011000                    NOP     0
         3 004113   007070 710000 3                  TRA     s:4630

     1001     4281    4                 SELECT(%RC_EPU_RCONF);

     1002     4282    4                   CALL ADD_TEXTC('EPU IN RECONFIG',15);

   4282  3 004114   000155 236000 4                  LDQ     109
         3 004115   200530 756100                    STQ     @CHIP+1,,AUTO
         3 004116   000270 236000 4                  LDQ     184
         3 004117   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004120   010552 701000 3                  TSX1    ADD_TEXTC
         3 004121   000000 011000                    NOP     0
         3 004122   007070 710000 3                  TRA     s:4630

     1003     4283    4                 SELECT(%RC_PER_RLSD);

     1004     4284    4                   CALL ADD_TEXTC('PERIPHERAL ALREADY RELEASED',27);

   4284  3 004123   000251 236000 4                  LDQ     169
         3 004124   200530 756100                    STQ     @CHIP+1,,AUTO
         3 004125   000271 236000 4                  LDQ     185
         3 004126   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004127   010552 701000 3                  TSX1    ADD_TEXTC
         3 004130   000000 011000                    NOP     0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:227  
         3 004131   007070 710000 3                  TRA     s:4630

     1005     4285    4                 SELECT(%RC_PER_ASSGND);

     1006     4286    4                   CALL ADD_TEXTC('PERIPHERAL ALREADY ASSIGNED',27);

   4286  3 004132   000251 236000 4                  LDQ     169
         3 004133   200530 756100                    STQ     @CHIP+1,,AUTO
         3 004134   000272 236000 4                  LDQ     186
         3 004135   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004136   010552 701000 3                  TSX1    ADD_TEXTC
         3 004137   000000 011000                    NOP     0
         3 004140   007070 710000 3                  TRA     s:4630

     1007     4287    4                 SELECT(ELSE);

     1008     4288    4                   CALL ADD_TEXTC('NOT USED IN CP6',15);

   4288  3 004141   000155 236000 4                  LDQ     109
         3 004142   200530 756100                    STQ     @CHIP+1,,AUTO
         3 004143   000273 236000 4                  LDQ     187
         3 004144   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004145   010552 701000 3                  TSX1    ADD_TEXTC
         3 004146   000000 011000                    NOP     0

     1009     4289    4              END;  /* do case */

   4289  3 004147   007070 710000 3                  TRA     s:4630

     1010     4290    3              ELSE
     1011     4291    4              DO SELECT(EL$CP6SAYS.REASON);

   4291  3 004150   000000 236100                    LDQ     0,,PR0
         3 004151   000022 772000                    QRL     18
         3 004152   000777 376007                    ANQ     511,DL
         3 004153   000002 116007                    CMPQ    2,DL
         3 004154   004162 602000 3                  TNC     s:4291+10
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:228  
         3 004155   004176 600000 3                  TZE     s:4295
         3 004156   000022 736000                    QLS     18
         3 004157   000003 116003                    CMPQ    3,DU
         3 004160   007070 601000 3                  TNZ     s:4630
         3 004161   004205 710000 3                  TRA     s:4297
         3 004162   000000 236100                    LDQ     0,,PR0
         3 004163   000777 376003                    ANQ     511,DU
         3 004164   000001 116003                    CMPQ    1,DU
         3 004165   007070 601000 3                  TNZ     s:4630
         3 004166   004167 710000 3                  TRA     s:4293

     1012     4292    4                 SELECT(%REAS_MSOS_CMD_OK);

     1013     4293    4                   CALL ADD_TEXTC('MSOS CMD ACCEPTED & PROCESSED',29);

   4293  3 004167   000275 236000 4                  LDQ     189
         3 004170   200530 756100                    STQ     @CHIP+1,,AUTO
         3 004171   000276 236000 4                  LDQ     190
         3 004172   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004173   010552 701000 3                  TSX1    ADD_TEXTC
         3 004174   000000 011000                    NOP     0
         3 004175   007070 710000 3                  TRA     s:4630

     1014     4294    4                 SELECT(%REAS_RES_IN_USE);

     1015     4295    4                   CALL ADD_TEXTC('RESOURCE REQUESTED IN USE',25);

   4295  3 004176   000246 236000 4                  LDQ     166
         3 004177   200530 756100                    STQ     @CHIP+1,,AUTO
         3 004200   000277 236000 4                  LDQ     191
         3 004201   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004202   010552 701000 3                  TSX1    ADD_TEXTC
         3 004203   000000 011000                    NOP     0
         3 004204   007070 710000 3                  TRA     s:4630

     1016     4296    4                 SELECT(%REAS_PER_NOT_PART);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:229  
     1017     4297    4                   CALL ADD_TEXTC('PERIPH NOT PARTITIONED-CP6 CAN''T RELEASE',40);

   4297  3 004205   000301 236000 4                  LDQ     193
         3 004206   200530 756100                    STQ     @CHIP+1,,AUTO
         3 004207   000302 236000 4                  LDQ     194
         3 004210   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004211   010552 701000 3                  TSX1    ADD_TEXTC
         3 004212   000000 011000                    NOP     0

     1018     4298    4              END;  /* do select el$cp6says.reason */

   4298  3 004213   007070 710000 3                  TRA     s:4630

     1019     4299    3            CASE(%TH_IOERR);

     1020     4300    3              IF ((EL$IOERR.MPC_MODEL = 'URPEURP ')

   4300  3 004214   200005 470500                    LDP0    INFO+1,,AUTO
         3 004215   040000 106500                    CMPC    fill='040'O
         3 004216   000032 000010                    ADSC9   26,,PR0                  cn=0,n=8
         3 004217   001574 000010 1                  ADSC9   BOARD_64K+445            cn=0,n=8
         3 004220   004245 600000 3                  TZE     s:4307
         3 004221   040000 106500                    CMPC    fill='040'O
         3 004222   000032 000010                    ADSC9   26,,PR0                  cn=0,n=8
         3 004223   001576 000010 1                  ADSC9   BOARD_64K+447            cn=0,n=8
         3 004224   004245 600000 3                  TZE     s:4307
         3 004225   040000 106500                    CMPC    fill='040'O
         3 004226   000032 000010                    ADSC9   26,,PR0                  cn=0,n=8
         3 004227   001600 000010 1                  ADSC9   BOARD_64K+449            cn=0,n=8
         3 004230   004245 600000 3                  TZE     s:4307
         3 004231   040000 106500                    CMPC    fill='040'O
         3 004232   000032 000010                    ADSC9   26,,PR0                  cn=0,n=8
         3 004233   001602 000010 1                  ADSC9   BOARD_64K+451            cn=0,n=8
         3 004234   004245 600000 3                  TZE     s:4307
         3 004235   040000 106500                    CMPC    fill='040'O
         3 004236   000032 000010                    ADSC9   26,,PR0                  cn=0,n=8
         3 004237   001604 000010 1                  ADSC9   BOARD_64K+453            cn=0,n=8
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:230  
         3 004240   004245 600000 3                  TZE     s:4307
         3 004241   040000 106500                    CMPC    fill='040'O
         3 004242   000032 000010                    ADSC9   26,,PR0                  cn=0,n=8
         3 004243   001606 000010 1                  ADSC9   BOARD_64K+455            cn=0,n=8
         3 004244   004266 601000 3                  TNZ     s:4312

     1021     4301    3                OR (EL$IOERR.MPC_MODEL = 'URP8011 ')
     1022     4302    3                OR (EL$IOERR.MPC_MODEL = 'URP8012 ')
     1023     4303    3                OR (EL$IOERR.MPC_MODEL = 'URP8013 ')
     1024     4304    3                OR (EL$IOERR.MPC_MODEL = 'URP8600 ')
     1025     4305    3                OR (EL$IOERR.MPC_MODEL = 'URP8601 '))
     1026     4306    4                  THEN DO;

     1027     4307    4                      ASCII_EXTST = EL$IOERR.EXTST;  /* REFORMAT EXTENDED STATUS */

   4307  3 004245   000100 100500                    MLR     fill='000'O
         3 004246   000013 000040                    ADSC9   11,,PR0                  cn=0,n=32
         3 004247   200263 000040                    ADSC9   ASCII_EXTST,,AUTO        cn=0,n=32

     1028     4308    5                      DO J = 0 TO 31;

   4308  3 004250   200100 450100                    STZ     J,,AUTO

     1029     4309    5                         EL$IOERR.EXTST(J) = ASCII_EXTST.BYT(J);

   4309  3 004251   200100 236100                    LDQ     J,,AUTO
         3 004252   000011 402007                    MPY     9,DL
         3 004253   200100 235100                    LDA     J,,AUTO
         3 004254   000003 735000                    ALS     3
         3 004255   200005 470500                    LDP0    INFO+1,,AUTO
         3 004256   003105 060506                    CSL     bolr='003'O
         3 004257   200263 010010                    BDSC    ASCII_EXTST,Q,AUTO       by=0,bit=1,n=8
         3 004260   000013 000010                    BDSC    11,A,PR0                 by=0,bit=0,n=8

     1030     4310    5                      END;

   4310  3 004261   200100 235100                    LDA     J,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:231  
         3 004262   000001 035007                    ADLA    1,DL
         3 004263   200100 755100                    STA     J,,AUTO
         3 004264   000040 115007                    CMPA    32,DL
         3 004265   004251 602000 3                  TNC     s:4309

     1031     4311    4                  END;

     1032     4312    3              IF ((EL$IOERR.MODEL = 'PRU1200')

   4312  3 004266   200005 470500                    LDP0    INFO+1,,AUTO
         3 004267   040000 106500                    CMPC    fill='040'O
         3 004270   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 004271   001610 000007 1                  ADSC9   BOARD_64K+457            cn=0,n=7
         3 004272   004277 600000 3                  TZE     s:4314
         3 004273   040000 106500                    CMPC    fill='040'O
         3 004274   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 004275   001612 000007 1                  ADSC9   BOARD_64K+459            cn=0,n=7
         3 004276   004314 601000 3                  TNZ     s:4317

     1033     4313    3                OR (EL$IOERR.MODEL = 'PRU1600')) THEN
     1034     4314    4                   DO J = 15 TO 35;       /* CLEAR UNNECESSARY JUNK FROM EXT STATUS */

   4314  3 004277   000017 235007                    LDA     15,DL
         3 004300   200100 755100                    STA     J,,AUTO

     1035     4315    4                      EL$IOERR.EXTST(J) = 0;

   4315  3 004301   200100 235100                    LDA     J,,AUTO
         3 004302   000003 735000                    ALS     3
         3 004303   200005 470500                    LDP0    INFO+1,,AUTO
         3 004304   003105 061400                    CSR     bolr='003'O
         3 004305   000002 000044 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=36
         3 004306   000013 000010                    BDSC    11,A,PR0                 by=0,bit=0,n=8

     1036     4316    4                   END;

   4316  3 004307   200100 236100                    LDQ     J,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:232  
         3 004310   000001 036007                    ADLQ    1,DL
         3 004311   200100 756100                    STQ     J,,AUTO
         3 004312   000044 116007                    CMPQ    36,DL
         3 004313   004301 602000 3                  TNC     s:4315

     1037     4317    3              IF EL$IOERR.THRESH.DEVICE

   4317  3 004314   200005 470500                    LDP0    INFO+1,,AUTO
         3 004315   000027 236100                    LDQ     23,,PR0
         3 004316   040000 316007                    CANQ    16384,DL
         3 004317   004330 600000 3                  TZE     s:4320

     1038     4318    3                 THEN CALL BINCHAR(TEMP,EL$IOERR.CONNECTS.DEVICE);

   4318  3 004320   000007 236100                    LDQ     7,,PR0
         3 004321   777777 376007                    ANQ     -1,DL
         3 004322   000000 235003                    LDA     0,DU
         3 004323   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 004324   000100 301500                    BTD
         3 004325   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 004326   200017 030077                    NDSC9   TEMP,,AUTO               cn=0,s=nosgn,sf=0,n=63
         3 004327   004374 710000 3                  TRA     s:4329

     1039     4319    3                 ELSE
     1040     4320    3              IF EL$IOERR.THRESH.IOM

   4320  3 004330   400000 316007                    CANQ    -131072,DL
         3 004331   004342 600000 3                  TZE     s:4323

     1041     4321    3                 THEN CALL BINCHAR(TEMP,EL$IOERR.CONNECTS.IOM);

   4321  3 004332   000006 236100                    LDQ     6,,PR0
         3 004333   000022 772000                    QRL     18
         3 004334   000000 235003                    LDA     0,DU
         3 004335   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 004336   000100 301500                    BTD
         3 004337   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:233  
         3 004340   200017 030077                    NDSC9   TEMP,,AUTO               cn=0,s=nosgn,sf=0,n=63
         3 004341   004374 710000 3                  TRA     s:4329

     1042     4322    3                 ELSE
     1043     4323    3              IF EL$IOERR.THRESH.CHANNEL

   4323  3 004342   200000 316007                    CANQ    65536,DL
         3 004343   004354 600000 3                  TZE     s:4326

     1044     4324    3                 THEN CALL BINCHAR(TEMP,EL$IOERR.CONNECTS.CHANNEL);

   4324  3 004344   000006 236100                    LDQ     6,,PR0
         3 004345   777777 376007                    ANQ     -1,DL
         3 004346   000000 235003                    LDA     0,DU
         3 004347   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 004350   000100 301500                    BTD
         3 004351   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 004352   200017 030077                    NDSC9   TEMP,,AUTO               cn=0,s=nosgn,sf=0,n=63
         3 004353   004374 710000 3                  TRA     s:4329

     1045     4325    3                 ELSE
     1046     4326    3              IF EL$IOERR.THRESH.MPC

   4326  3 004354   100000 316007                    CANQ    32768,DL
         3 004355   004366 600000 3                  TZE     s:4328

     1047     4327    3                 THEN CALL BINCHAR(TEMP,EL$IOERR.CONNECTS.MPC);

   4327  3 004356   000007 236100                    LDQ     7,,PR0
         3 004357   000022 772000                    QRL     18
         3 004360   000000 235003                    LDA     0,DU
         3 004361   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 004362   000100 301500                    BTD
         3 004363   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 004364   200017 030077                    NDSC9   TEMP,,AUTO               cn=0,s=nosgn,sf=0,n=63
         3 004365   004374 710000 3                  TRA     s:4329

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:234  
     1048     4328    3                 ELSE CALL BINCHAR(TEMP,0);

   4328  3 004366   000000 235003                    LDA     0,DU
         3 004367   000044 773000                    LRL     36
         3 004370   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 004371   000100 301500                    BTD
         3 004372   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 004373   200017 030077                    NDSC9   TEMP,,AUTO               cn=0,s=nosgn,sf=0,n=63

     1049     4329    3              J = 0;

   4329  3 004374   200100 450100                    STZ     J,,AUTO

     1050     4330    4              DO WHILE ((SUBSTR(TEMP,J,1) = '0') & (J < 63));

   4330  3 004375   004401 710000 3                  TRA     s:4332

     1051     4331    4                 J = J + 1;

   4331  3 004376   200100 235100                    LDA     J,,AUTO
         3 004377   000001 035007                    ADLA    1,DL
         3 004400   200100 755100                    STA     J,,AUTO

     1052     4332    4              END;                         /* DO WHILE                           */

   4332  3 004401   400000 220003                    LDX0    -131072,DU
         3 004402   200100 235100                    LDA     J,,AUTO
         3 004403   040000 106505                    CMPC    fill='040'O
         3 004404   200017 000001                    ADSC9   TEMP,A,AUTO              cn=0,n=1
         3 004405   000127 000001 4                  ADSC9   87                       cn=0,n=1
         3 004406   004410 600000 3                  TZE     s:4332+7
         3 004407   000000 220003                    LDX0    0,DU
         3 004410   400000 221003                    LDX1    -131072,DU
         3 004411   000077 115007                    CMPA    63,DL
         3 004412   004414 602000 3                  TNC     s:4332+11
         3 004413   000000 221003                    LDX1    0,DU
         3 004414   000000 636011                    EAQ     0,X1
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:235  
         3 004415   200534 756100                    STQ     CHIP#+2,,AUTO
         3 004416   000000 636010                    EAQ     0,X0
         3 004417   200534 376100                    ANQ     CHIP#+2,,AUTO
         3 004420   004376 601000 3                  TNZ     s:4331

     1053     4333    3              LEN = 63 - J;

   4333  3 004421   000027 675000 xsym               ERA     B_VECTNIL+23
         3 004422   000100 035007                    ADLA    64,DL
         3 004423   200102 755100                    STA     LEN,,AUTO

     1054     4334    3              IF LEN = 0

   4334  3 004424   004430 601000 3                  TNZ     s:4340

     1055     4335    3                 THEN
     1056     4336    4                 DO;

     1057     4337    4                    LEN = 1;

   4337  3 004425   000001 236007                    LDQ     1,DL
         3 004426   200102 756100                    STQ     LEN,,AUTO

     1058     4338    4                    J = 0;

   4338  3 004427   200100 450100                    STZ     J,,AUTO

     1059     4339    4                 END;

     1060     4340    3              CALL ADD_TEXTC(SUBSTR(TEMP,J,LEN),LEN);

   4340  3 004430   200102 630500                    EPPR0   LEN,,AUTO
         3 004431   200530 450500                    STP0    @CHIP+1,,AUTO
         3 004432   200534 452500                    STP2    CHIP#+2,,AUTO
         3 004433   200100 236100                    LDQ     J,,AUTO
         3 004434   000020 736000                    QLS     16
         3 004435   000017 036003                    ADLQ    15,DU
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:236  
         3 004436   200534 036100                    ADLQ    CHIP#+2,,AUTO
         3 004437   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004440   010552 701000 3                  TSX1    ADD_TEXTC
         3 004441   000000 011000                    NOP     0

     1061     4341    3              IF TH_LAST_REQID  = EL$IOERR.REQID

   4341  3 004442   200005 470500                    LDP0    INFO+1,,AUTO
         3 004443   000000 236000 xsym               LDQ     TH_LAST_REQID
         3 004444   000000 116100                    CMPQ    0,,PR0
         3 004445   004455 601000 3                  TNZ     s:4343

     1062     4342    3                 THEN CALL ADD_TEXTC('  *',3);

   4342  3 004446   000100 236000 4                  LDQ     64
         3 004447   200530 756100                    STQ     @CHIP+1,,AUTO
         3 004450   000303 236000 4                  LDQ     195
         3 004451   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004452   010552 701000 3                  TSX1    ADD_TEXTC
         3 004453   000000 011000                    NOP     0
         3 004454   004463 710000 3                  TRA     s:4344

     1063     4343    3                 ELSE CALL ADD_TEXTC('   ',3);

   4343  3 004455   000100 236000 4                  LDQ     64
         3 004456   200530 756100                    STQ     @CHIP+1,,AUTO
         3 004457   000304 236000 4                  LDQ     196
         3 004460   200527 756100                    STQ     @BOARD+1,,AUTO
         3 004461   010552 701000 3                  TSX1    ADD_TEXTC
         3 004462   000000 011000                    NOP     0

     1064     4344    3              TH_LAST_REQID = EL$IOERR.REQID;

   4344  3 004463   200005 470500                    LDP0    INFO+1,,AUTO
         3 004464   000000 235100                    LDA     0,,PR0
         3 004465   000000 755000 xsym               STA     TH_LAST_REQID

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:237  
     1065     4345
     1066     4346                                                /* CHECK FOR SPECIAL STATUS           */
     1067     4347    3              TEMP_STATUS = EL$IOERR.STATUS;

   4347  3 004466   000000 100500                    MLR     fill='000'O
         3 004467   000001 000010                    ADSC9   1,,PR0                   cn=0,n=8
         3 004470   000054 000010 2                  ADSC9   TEMP_STATUS              cn=0,n=8

     1068     4348    3              IF TEMP_STATUS1.MAJOR_STATUS = '101111'B /* '57'O                  */

   4348  3 004471   000054 236000 2                  LDQ     TEMP_STATUS
         3 004472   770000 376003                    ANQ     -4096,DU
         3 004473   570000 116003                    CMPQ    -69632,DU
         3 004474   004506 601000 3                  TNZ     s:4355

     1069     4349    3                 THEN
     1070     4350    4                 DO;

     1071     4351    4                    TEMP_STATUS1.XX = TEMP_STATUS1.FAULT_CODE;

   4351  3 004475   000055 236000 2                  LDQ     TEMP_STATUS+1
         3 004476   000030 736000                    QLS     24
         3 004477   000054 752020 2                  STCQ    TEMP_STATUS,'20'O

     1072     4352    4                    TEMP_STATUS1.YY = TEMP_STATUS1.CHANNEL;

   4352  3 004500   000055 236000 2                  LDQ     TEMP_STATUS+1
         3 004501   000006 772000                    QRL     6
         3 004502   000054 752004 2                  STCQ    TEMP_STATUS,'04'O

     1073     4353    4                    EL$IOERR.STATUS = TEMP_STATUS;

   4353  3 004503   000054 237000 2                  LDAQ    TEMP_STATUS
         3 004504   000001 755100                    STA     1,,PR0
         3 004505   000002 756100                    STQ     2,,PR0

     1074     4354    4                 END;                      /* IF MAJOR_STATUS = '57'O            */
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:238  

     1075     4355    3              CALL THF$STATUS(EL$IOERR,MAJBUF,MAJCNT,MINBUF,MINCNT)

   4355  3 004506   200367 630500                    EPPR0   MINCNT,,AUTO
         3 004507   200540 450500                    STP0    CHIP#+6,,AUTO
         3 004510   200356 631500                    EPPR1   MINBUF,,AUTO
         3 004511   200537 451500                    STP1    CHIP#+5,,AUTO
         3 004512   200366 633500                    EPPR3   MAJCNT,,AUTO
         3 004513   200536 453500                    STP3    CHIP#+4,,AUTO
         3 004514   200346 634500                    EPPR4   MAJBUF,,AUTO
         3 004515   200535 454500                    STP4    CHIP#+3,,AUTO
         3 004516   200005 236100                    LDQ     INFO+1,,AUTO
         3 004517   200534 756100                    STQ     CHIP#+2,,AUTO
         3 004520   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 004521   000023 631400 xsym               EPPR1   B_VECTNIL+19
         3 004522   000000 701000 xent               TSX1    THF$STATUS
         3 004523   004551 702000 3                  TSX2    NO_STAT

     1076     4356    3                              ALTRET(NO_STAT);
     1077     4357    3              CALL THF$ADD_TEXTC(MM$,MAJBUF,MAJCNT);

   4357  3 004524   200366 630500                    EPPR0   MAJCNT,,AUTO
         3 004525   200536 450500                    STP0    CHIP#+4,,AUTO
         3 004526   200346 631500                    EPPR1   MAJBUF,,AUTO
         3 004527   200535 451500                    STP1    CHIP#+3,,AUTO
         3 004530   200370 633500                    EPPR3   MM$,,AUTO
         3 004531   200534 453500                    STP3    CHIP#+2,,AUTO
         3 004532   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 004533   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 004534   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 004535   000000 011000                    NOP     0

     1078     4358    3              CALL THF$ADD_TEXTC(MM$,MINBUF,MINCNT);

   4358  3 004536   200367 630500                    EPPR0   MINCNT,,AUTO
         3 004537   200536 450500                    STP0    CHIP#+4,,AUTO
         3 004540   200356 631500                    EPPR1   MINBUF,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:239  
         3 004541   200535 451500                    STP1    CHIP#+3,,AUTO
         3 004542   200370 633500                    EPPR3   MM$,,AUTO
         3 004543   200534 453500                    STP3    CHIP#+2,,AUTO
         3 004544   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 004545   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 004546   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 004547   000000 011000                    NOP     0

     1079     4359    4              DO NEVER;

   4359  3 004550   004612 710000 3                  TRA     s:4366

     1080     4360    4   NO_STAT:
     1081     4361    4                 CALL THF$ADD_TEXTC(MM$,'***',3);

   4361  3 004551   000100 236000 4     NO_STAT      LDQ     64
         3 004552   200536 756100                    STQ     CHIP#+4,,AUTO
         3 004553   000305 236000 4                  LDQ     197
         3 004554   200535 756100                    STQ     CHIP#+3,,AUTO
         3 004555   200370 630500                    EPPR0   MM$,,AUTO
         3 004556   200534 450500                    STP0    CHIP#+2,,AUTO
         3 004557   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 004560   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 004561   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 004562   000000 011000                    NOP     0

     1082     4362    4                 CALL THF$ADD_TEXTC(MM$,'***',3);

   4362  3 004563   000100 236000 4                  LDQ     64
         3 004564   200536 756100                    STQ     CHIP#+4,,AUTO
         3 004565   000305 236000 4                  LDQ     197
         3 004566   200535 756100                    STQ     CHIP#+3,,AUTO
         3 004567   200370 630500                    EPPR0   MM$,,AUTO
         3 004570   200534 450500                    STP0    CHIP#+2,,AUTO
         3 004571   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 004572   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 004573   000000 701000 xent               TSX1    THF$ADD_TEXTC
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:240  
         3 004574   000000 011000                    NOP     0

     1083     4363    4                 MMVEC = VECTOR(MMBUF);

   4363  3 004575   000306 237000 4                  LDAQ    198
         3 004576   200372 757100                    STAQ    MMVEC,,AUTO

     1084     4364    4                 MMVEC.BOUND = POFFC(MM$,ADDR(MMBUF)) - 1;

   4364  3 004577   000012 236000 4                  LDQ     10
         3 004600   000020 772000                    QRL     16
         3 004601   200534 756100                    STQ     CHIP#+2,,AUTO
         3 004602   200370 236100                    LDQ     MM$,,AUTO
         3 004603   000020 772000                    QRL     16
         3 004604   200534 136100                    SBLQ    CHIP#+2,,AUTO
         3 004605   000001 136007                    SBLQ    1,DL
         3 004606   000020 736000                    QLS     16
         3 004607   200372 676100                    ERQ     MMVEC,,AUTO
         3 004610   000034 376000 xsym               ANQ     B_VECTNIL+28
         3 004611   200372 656100                    ERSQ    MMVEC,,AUTO

     1085     4365    4              END;

     1086     4366    3                 NXST = 0;

   4366  3 004612   200343 450100                    STZ     NXST,,AUTO

     1087     4367    3                 DEV_FLAG = %FALSE;

   4367  3 004613   200214 450100                    STZ     DEV_FLAG,,AUTO

     1088     4368    4                 DO I = 0 TO NUMMODELS;

   4368  3 004614   200010 450100                    STZ     I,,AUTO

     1089     4369    4                   IF EL$IOERR.MODEL = X_DEV_TYPE.DEV(I)

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:241  
   4369  3 004615   200010 235100                    LDA     I,,AUTO
         3 004616   000004 735000                    ALS     4
         3 004617   200005 470500                    LDP0    INFO+1,,AUTO
         3 004620   040005 106500                    CMPC    fill='040'O
         3 004621   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 004622   000000 000010 xsym               ADSC9   X_DEV_TYPE,A             cn=0,n=8
         3 004623   004671 601000 3                  TNZ     s:4387

     1090     4370    5                      THEN DO;

     1091     4371    5                           IO_MASK = EL$IOERR.EXTST;

   4371  3 004624   000100 100500                    MLR     fill='000'O
         3 004625   000013 000040                    ADSC9   11,,PR0                  cn=0,n=32
         3 004626   200221 000040                    ADSC9   IO_MASK,,AUTO            cn=0,n=32

     1092     4372    5                           IF IO_MASK1

   4372  3 004627   000000 106500                    CMPC    fill='000'O
         3 004630   200221 000040                    ADSC9   IO_MASK,,AUTO            cn=0,n=32
         3 004631   000002 000002 xsym               ADSC9   B_VECTNIL+2              cn=0,n=2
         3 004632   006064 600000 3                  TZE     NO_INTERP

   4368  3 004633   004634 710000 3                  TRA     s:4375

     1093     4373    5                               THEN;
     1094     4374    5                               ELSE GOTO NO_INTERP;
     1095     4375    5                           IF EL$IOERR.MODEL = 'MTU0610'  AND

   4375  3 004634   040000 106500                    CMPC    fill='040'O
         3 004635   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 004636   001617 000007 1                  ADSC9   BOARD_64K+464            cn=0,n=7
         3 004637   004646 601000 3                  TNZ     s:4379
         3 004640   200222 236100                    LDQ     IO_MASK+1,,AUTO
         3 004641   000001 316003                    CANQ    1,DU
         3 004642   004646 600000 3                  TZE     s:4379
         3 004643   400000 316007                    CANQ    -131072,DL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:242  
         3 004644   004646 600000 3                  TZE     s:4379

     1096     4376    5                              IO_MASK1(53) AND IO_MASK1(54)
     1097     4377    5                               THEN I = I + 1;

   4377  3 004645   200010 054100                    AOS     I,,AUTO

     1098     4378        /* REMOVE THE FOLLOWING TEST WHEN #39334 IS FIXED                */
     1099     4379    5                           IF EL$IOERR.MODEL = 'PRU1200'

   4379  3 004646   040000 106500                    CMPC    fill='040'O
         3 004647   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 004650   001610 000007 1                  ADSC9   BOARD_64K+457            cn=0,n=7
         3 004651   004657 601000 3                  TNZ     s:4382
         3 004652   200222 236100                    LDQ     IO_MASK+1,,AUTO
         3 004653   000100 316003                    CANQ    64,DU
         3 004654   004657 600000 3                  TZE     s:4382

     1100     4380    5                           AND IO_MASK1(47) THEN        /* ITS A PR54 */
     1101     4381    5                               I = I - 1;

   4381  3 004655   000001 336007                    LCQ     1,DL
         3 004656   200010 056100                    ASQ     I,,AUTO

     1102     4382    5                           DEV$ = X_DEV_TYPE.SUB$(I);

   4382  3 004657   200010 235100                    LDA     I,,AUTO
         3 004660   000002 735000                    ALS     2
         3 004661   000002 236005 xsym               LDQ     X_DEV_TYPE+2,AL
         3 004662   200215 756100                    STQ     DEV$,,AUTO

     1103     4383    5                           DEV_FLAG = %TRUE;

   4383  3 004663   400000 236003                    LDQ     -131072,DU
         3 004664   200214 756100                    STQ     DEV_FLAG,,AUTO

     1104     4384    5                           J = X_DEV_TYPE.COUNT(I);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:243  

   4384  3 004665   000003 236005 xsym               LDQ     X_DEV_TYPE+3,AL
         3 004666   000033 772000                    QRL     27
         3 004667   200100 756100                    STQ     J,,AUTO

     1105     4385    5                           GOTO FND;

   4385  3 004670   004675 710000 3                  TRA     FND

     1106     4386    5                           END;
     1107     4387    4                 END;

   4387  3 004671   200010 054100                    AOS     I,,AUTO
         3 004672   200010 235100                    LDA     I,,AUTO
         3 004673   000035 115007                    CMPA    29,DL
         3 004674   004615 604400 3                  TMOZ    s:4369

     1108     4388    3   FND:
     1109     4389    3                 IF DEV_FLAG

   4389  3 004675   200214 234100       FND          SZN     DEV_FLAG,,AUTO
         3 004676   006064 605000 3                  TPL     NO_INTERP

     1110     4390    4                   THEN DO;

     1111     4391    4                      XST$ = ADDR(XSTBUF);

   4391  3 004677   000310 236000 4                  LDQ     200
         3 004700   200300 756100                    STQ     XST$,,AUTO

     1112     4392    4                      CALL THF$ADD_TEXTC (XST$,'   ',3);

   4392  3 004701   000100 236000 4                  LDQ     64
         3 004702   200536 756100                    STQ     CHIP#+4,,AUTO
         3 004703   000304 236000 4                  LDQ     196
         3 004704   200535 756100                    STQ     CHIP#+3,,AUTO
         3 004705   200300 631500                    EPPR1   XST$,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:244  
         3 004706   200534 451500                    STP1    CHIP#+2,,AUTO
         3 004707   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 004710   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 004711   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 004712   000000 011000                    NOP     0

     1113     4393    4                      MODEL_CHAR = EL$IOERR.MODEL;

   4393  3 004713   200005 470500                    LDP0    INFO+1,,AUTO
         3 004714   000030 236100                    LDQ     24,,PR0
         3 004715   000134 376000 4                  ANQ     92
         3 004716   000040 276007                    ORQ     32,DL
         3 004717   200220 756100                    STQ     MODEL_CHAR,,AUTO

     1114     4394    5                      DO I = 0 TO J;

   4394  3 004720   200010 450100                    STZ     I,,AUTO
         3 004721   006060 710000 3                  TRA     s:4504+1

     1115     4395    5                       IF (((MODEL_CHAR = 'MTU') AND (EL$IOERR.MODEL ~= 'MTU8200') AND

   4395  3 004722   200220 236100                    LDQ     MODEL_CHAR,,AUTO
         3 004723   001617 676000 1                  ERQ     BOARD_64K+464
         3 004724   000134 376000 4                  ANQ     92
         3 004725   004764 601000 3                  TNZ     s:4395+34
         3 004726   200005 470500                    LDP0    INFO+1,,AUTO
         3 004727   040000 106500                    CMPC    fill='040'O
         3 004730   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 004731   001621 000007 1                  ADSC9   BOARD_64K+466            cn=0,n=7
         3 004732   004764 600000 3                  TZE     s:4395+34
         3 004733   200010 236100                    LDQ     I,,AUTO
         3 004734   000012 402007                    MPY     10,DL
         3 004735   200215 471500                    LDP1    DEV$,,AUTO
         3 004736   100000 236106                    LDQ     0,QL,PR1
         3 004737   777000 376003                    ANQ     -512,DU
         3 004740   020000 116003                    CMPQ    8192,DU
         3 004741   005000 600000 3                  TZE     s:4401
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:245  
         3 004742   200010 236100                    LDQ     I,,AUTO
         3 004743   000012 402007                    MPY     10,DL
         3 004744   100000 236106                    LDQ     0,QL,PR1
         3 004745   777000 376003                    ANQ     -512,DU
         3 004746   024000 116003                    CMPQ    10240,DU
         3 004747   005000 600000 3                  TZE     s:4401
         3 004750   200010 236100                    LDQ     I,,AUTO
         3 004751   000012 402007                    MPY     10,DL
         3 004752   100000 236106                    LDQ     0,QL,PR1
         3 004753   777000 376003                    ANQ     -512,DU
         3 004754   033000 116003                    CMPQ    13824,DU
         3 004755   005000 600000 3                  TZE     s:4401
         3 004756   200010 236100                    LDQ     I,,AUTO
         3 004757   000012 402007                    MPY     10,DL
         3 004760   100000 236106                    LDQ     0,QL,PR1
         3 004761   777000 376003                    ANQ     -512,DU
         3 004762   043000 116003                    CMPQ    17920,DU
         3 004763   005000 600000 3                  TZE     s:4401
         3 004764   200005 470500                    LDP0    INFO+1,,AUTO
         3 004765   040000 106500                    CMPC    fill='040'O
         3 004766   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 004767   001623 000007 1                  ADSC9   BOARD_64K+468            cn=0,n=7
         3 004770   005263 601000 3                  TNZ     s:4436
         3 004771   200010 236100                    LDQ     I,,AUTO
         3 004772   000012 402007                    MPY     10,DL
         3 004773   200215 471500                    LDP1    DEV$,,AUTO
         3 004774   100000 236106                    LDQ     0,QL,PR1
         3 004775   777000 376003                    ANQ     -512,DU
         3 004776   140000 116003                    CMPQ    49152,DU
         3 004777   005263 601000 3                  TNZ     s:4436

     1116     4396    5                           (DEVTBL.CODE(I) = 16 OR DEVTBL.CODE(I) = 20
     1117     4397    5                            OR DEVTBL.CODE(I) = 27 OR DEVTBL.CODE(I) = 35))
     1118     4398    5                           OR (EL$IOERR.MODEL = 'MTU0400' AND
     1119     4399    5                               DEVTBL.CODE(I) = 96))
     1120     4400    6                           THEN DO;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:246  
     1121     4401    7                             DO CASE (DEVTBL.CODE(I));

   4401  3 005000   200010 236100                    LDQ     I,,AUTO
         3 005001   000012 402007                    MPY     10,DL
         3 005002   100000 236106                    LDQ     0,QL,PR1
         3 005003   000033 772000                    QRL     27
         3 005004   000020 136007                    SBLQ    16,DL
         3 005005   000121 116007                    CMPQ    81,DL
         3 005006   005010 602006 3                  TNC     s:4401+8,QL
         3 005007   005147 710000 3                  TRA     s:4413
         3 005010   005131 710000 3                  TRA     s:4403
         3 005011   005147 710000 3                  TRA     s:4413
         3 005012   005147 710000 3                  TRA     s:4413
         3 005013   005147 710000 3                  TRA     s:4413
         3 005014   005134 710000 3                  TRA     s:4405
         3 005015   005147 710000 3                  TRA     s:4413
         3 005016   005147 710000 3                  TRA     s:4413
         3 005017   005147 710000 3                  TRA     s:4413
         3 005020   005147 710000 3                  TRA     s:4413
         3 005021   005147 710000 3                  TRA     s:4413
         3 005022   005147 710000 3                  TRA     s:4413
         3 005023   005137 710000 3                  TRA     s:4407
         3 005024   005147 710000 3                  TRA     s:4413
         3 005025   005147 710000 3                  TRA     s:4413
         3 005026   005147 710000 3                  TRA     s:4413
         3 005027   005147 710000 3                  TRA     s:4413
         3 005030   005147 710000 3                  TRA     s:4413
         3 005031   005147 710000 3                  TRA     s:4413
         3 005032   005147 710000 3                  TRA     s:4413
         3 005033   005142 710000 3                  TRA     s:4409
         3 005034   005147 710000 3                  TRA     s:4413
         3 005035   005147 710000 3                  TRA     s:4413
         3 005036   005147 710000 3                  TRA     s:4413
         3 005037   005147 710000 3                  TRA     s:4413
         3 005040   005147 710000 3                  TRA     s:4413
         3 005041   005147 710000 3                  TRA     s:4413
         3 005042   005147 710000 3                  TRA     s:4413
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:247  
         3 005043   005147 710000 3                  TRA     s:4413
         3 005044   005147 710000 3                  TRA     s:4413
         3 005045   005147 710000 3                  TRA     s:4413
         3 005046   005147 710000 3                  TRA     s:4413
         3 005047   005147 710000 3                  TRA     s:4413
         3 005050   005147 710000 3                  TRA     s:4413
         3 005051   005147 710000 3                  TRA     s:4413
         3 005052   005147 710000 3                  TRA     s:4413
         3 005053   005147 710000 3                  TRA     s:4413
         3 005054   005147 710000 3                  TRA     s:4413
         3 005055   005147 710000 3                  TRA     s:4413
         3 005056   005147 710000 3                  TRA     s:4413
         3 005057   005147 710000 3                  TRA     s:4413
         3 005060   005147 710000 3                  TRA     s:4413
         3 005061   005147 710000 3                  TRA     s:4413
         3 005062   005147 710000 3                  TRA     s:4413
         3 005063   005147 710000 3                  TRA     s:4413
         3 005064   005147 710000 3                  TRA     s:4413
         3 005065   005147 710000 3                  TRA     s:4413
         3 005066   005147 710000 3                  TRA     s:4413
         3 005067   005147 710000 3                  TRA     s:4413
         3 005070   005147 710000 3                  TRA     s:4413
         3 005071   005147 710000 3                  TRA     s:4413
         3 005072   005147 710000 3                  TRA     s:4413
         3 005073   005147 710000 3                  TRA     s:4413
         3 005074   005147 710000 3                  TRA     s:4413
         3 005075   005147 710000 3                  TRA     s:4413
         3 005076   005147 710000 3                  TRA     s:4413
         3 005077   005147 710000 3                  TRA     s:4413
         3 005100   005147 710000 3                  TRA     s:4413
         3 005101   005147 710000 3                  TRA     s:4413
         3 005102   005147 710000 3                  TRA     s:4413
         3 005103   005147 710000 3                  TRA     s:4413
         3 005104   005147 710000 3                  TRA     s:4413
         3 005105   005147 710000 3                  TRA     s:4413
         3 005106   005147 710000 3                  TRA     s:4413
         3 005107   005147 710000 3                  TRA     s:4413
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:248  
         3 005110   005147 710000 3                  TRA     s:4413
         3 005111   005147 710000 3                  TRA     s:4413
         3 005112   005147 710000 3                  TRA     s:4413
         3 005113   005147 710000 3                  TRA     s:4413
         3 005114   005147 710000 3                  TRA     s:4413
         3 005115   005147 710000 3                  TRA     s:4413
         3 005116   005147 710000 3                  TRA     s:4413
         3 005117   005147 710000 3                  TRA     s:4413
         3 005120   005147 710000 3                  TRA     s:4413
         3 005121   005147 710000 3                  TRA     s:4413
         3 005122   005147 710000 3                  TRA     s:4413
         3 005123   005147 710000 3                  TRA     s:4413
         3 005124   005147 710000 3                  TRA     s:4413
         3 005125   005147 710000 3                  TRA     s:4413
         3 005126   005147 710000 3                  TRA     s:4413
         3 005127   005147 710000 3                  TRA     s:4413
         3 005130   005145 710000 3                  TRA     s:4411

     1122     4402    7                                CASE (16);

     1123     4403    7                                   LENN = 3;

   4403  3 005131   000003 235007                    LDA     3,DL
         3 005132   200461 755100                    STA     LENN,,AUTO
         3 005133   005147 710000 3                  TRA     s:4413

     1124     4404    7                                CASE (20);

     1125     4405    7                                   LENN = 4;

   4405  3 005134   000004 235007                    LDA     4,DL
         3 005135   200461 755100                    STA     LENN,,AUTO
         3 005136   005147 710000 3                  TRA     s:4413

     1126     4406    7                                CASE (27);

     1127     4407    7                                   LENN = 5;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:249  

   4407  3 005137   000005 235007                    LDA     5,DL
         3 005140   200461 755100                    STA     LENN,,AUTO
         3 005141   005147 710000 3                  TRA     s:4413

     1128     4408    7                                CASE (35);

     1129     4409    7                                   LENN = 5;

   4409  3 005142   000005 235007                    LDA     5,DL
         3 005143   200461 755100                    STA     LENN,,AUTO
         3 005144   005147 710000 3                  TRA     s:4413

     1130     4410    7                                CASE (96);

     1131     4411    7                                   LENN = 4;

   4411  3 005145   000004 235007                    LDA     4,DL
         3 005146   200461 755100                    STA     LENN,,AUTO

     1132     4412    7                             END;

     1133     4413    7                             DO II = 0 TO LENN - 1;

   4413  3 005147   200454 450100                    STZ     II,,AUTO
         3 005150   005176 710000 3                  TRA     s:4417+2

     1134     4414    7                                IF IO_MASK1(DEVTBL.CODE(I) + II)

   4414  3 005151   200010 236100                    LDQ     I,,AUTO
         3 005152   000012 402007                    MPY     10,DL
         3 005153   200215 470500                    LDP0    DEV$,,AUTO
         3 005154   000000 236106                    LDQ     0,QL,PR0
         3 005155   000033 772000                    QRL     27
         3 005156   200454 036100                    ADLQ    II,,AUTO
         3 005157   000000 066506                    CMPB    filb='0'B
         3 005160   200221 000001                    BDSC    IO_MASK,Q,AUTO           by=0,bit=0,n=1
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:250  
         3 005161   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 005162   005170 600000 3                  TZE     s:4416

     1135     4415    7                                     THEN SP_BIT(II) = '1';

   4415  3 005163   200454 235100                    LDA     II,,AUTO
         3 005164   040005 100400                    MLR     fill='040'O
         3 005165   000311 000001 4                  ADSC9   201                      cn=0,n=1
         3 005166   003253 000001 2                  ADSC9   SP_BIT,A                 cn=0,n=1
         3 005167   005174 710000 3                  TRA     s:4417

     1136     4416    7                                     ELSE SP_BIT(II) = '0';

   4416  3 005170   200454 235100                    LDA     II,,AUTO
         3 005171   040005 100400                    MLR     fill='040'O
         3 005172   000127 000001 4                  ADSC9   87                       cn=0,n=1
         3 005173   003253 000001 2                  ADSC9   SP_BIT,A                 cn=0,n=1

     1137     4417    7                             END;

   4417  3 005174   000001 035007                    ADLA    1,DL
         3 005175   200454 755100                    STA     II,,AUTO
         3 005176   200454 236100                    LDQ     II,,AUTO
         3 005177   200461 116100                    CMPQ    LENN,,AUTO
         3 005200   005151 602000 3                  TNC     s:4414

     1138     4418    7                             DO II = 0 TO 4;

   4418  3 005201   200454 450100                    STZ     II,,AUTO

     1139     4419    7                                IF DEVTBL.CODE(I) = SP_CASES.BYTEN(II)

   4419  3 005202   200454 236100                    LDQ     II,,AUTO
         3 005203   000003 402007                    MPY     3,DL
         3 005204   000000 620006                    EAX0    0,QL
         3 005205   200010 236100                    LDQ     I,,AUTO
         3 005206   000012 402007                    MPY     10,DL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:251  
         3 005207   200215 470500                    LDP0    DEV$,,AUTO
         3 005210   000000 236106                    LDQ     0,QL,PR0
         3 005211   000000 676010 xsym               ERQ     SP_CASES,X0
         3 005212   777000 376003                    ANQ     -512,DU
         3 005213   005222 601000 3                  TNZ     s:4425

     1140     4420    8                                   THEN DO;

     1141     4421    8                                     SPC$ = SP_CASES.SUB$(II);

   4421  3 005214   000001 236010 xsym               LDQ     SP_CASES+1,X0
         3 005215   200462 756100                    STQ     SPC$,,AUTO

     1142     4422    8                                     JJ = SP_CASES.COUNT(II);

   4422  3 005216   000002 236010 xsym               LDQ     SP_CASES+2,X0
         3 005217   000033 772000                    QRL     27
         3 005220   200455 756100                    STQ     JJ,,AUTO

     1143     4423    8                                     GOTO FND_SP;

   4423  3 005221   005227 710000 3                  TRA     FND_SP

     1144     4424    8                                   END;
     1145     4425    7                             END;

   4425  3 005222   200454 235100                    LDA     II,,AUTO
         3 005223   000001 035007                    ADLA    1,DL
         3 005224   200454 755100                    STA     II,,AUTO
         3 005225   000005 115007                    CMPA    5,DL
         3 005226   005202 602000 3                  TNC     s:4419

     1146     4426    6   FND_SP:
     1147     4427    7                             DO II = 0 TO JJ;

   4427  3 005227   200454 450100       FND_SP       STZ     II,,AUTO
         3 005230   005257 710000 3                  TRA     s:4434+3
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:252  

     1148     4428    7                                IF SP_CHAR = SPTBL.CODE(II)

   4428  3 005231   200454 236100                    LDQ     II,,AUTO
         3 005232   000054 402007                    MPY     44,DL
         3 005233   003255 470400 2                  LDP0    SPBIT$
         3 005234   200461 720100                    LXL0    LENN,,AUTO
         3 005235   200462 471500                    LDP1    SPC$,,AUTO
         3 005236   040106 106540                    CMPC    fill='040'O
         3 005237   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0
         3 005240   100000 000005                    ADSC9   0,Q,PR1                  cn=0,n=5
         3 005241   005254 601000 3                  TNZ     s:4434

     1149     4429    8                                  THEN DO;

     1150     4430    8                                     XST_TEXT = SPTBL.TEXT(II);

   4430  3 005242   040100 100506                    MLR     fill='040'O
         3 005243   100001 400043                    ADSC9   1,Q,PR1                  cn=2,n=35
         3 005244   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

     1151     4431    8                                     XST_CNT = SPTBL.COUNT(II);

   4431  3 005245   200454 236100                    LDQ     II,,AUTO
         3 005246   000013 402007                    MPY     11,DL
         3 005247   100001 236106                    LDQ     1,QL,PR1
         3 005250   000022 772000                    QRL     18
         3 005251   000777 376007                    ANQ     511,DL
         3 005252   200342 756100                    STQ     XST_CNT,,AUTO

     1152     4432    8                                     GOTO NEXT_I;

   4432  3 005253   006042 710000 3                  TRA     NEXT_I

     1153     4433    8                                  END;
     1154     4434    7                             END;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:253  
   4434  3 005254   200454 235100                    LDA     II,,AUTO
         3 005255   000001 035007                    ADLA    1,DL
         3 005256   200454 755100                    STA     II,,AUTO
         3 005257   200455 236100                    LDQ     JJ,,AUTO
         3 005260   200454 116100                    CMPQ    II,,AUTO
         3 005261   005231 603000 3                  TRC     s:4428

     1155     4435    6                           END;                /* OF THEN */

   4435  3 005262   006057 710000 3                  TRA     s:4504

     1156     4436    5                           ELSE IF ((EL$IOERR.MODEL = 'PRU0901')

   4436  3 005263   040000 106500                    CMPC    fill='040'O
         3 005264   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 005265   001625 000007 1                  ADSC9   BOARD_64K+470            cn=0,n=7
         3 005266   005313 600000 3                  TZE     s:4442
         3 005267   040000 106500                    CMPC    fill='040'O
         3 005270   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 005271   001627 000007 1                  ADSC9   BOARD_64K+472            cn=0,n=7
         3 005272   005313 600000 3                  TZE     s:4442
         3 005273   040000 106500                    CMPC    fill='040'O
         3 005274   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 005275   001631 000007 1                  ADSC9   BOARD_64K+474            cn=0,n=7
         3 005276   005313 600000 3                  TZE     s:4442
         3 005277   040000 106500                    CMPC    fill='040'O
         3 005300   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 005301   001633 000007 1                  ADSC9   BOARD_64K+476            cn=0,n=7
         3 005302   005313 600000 3                  TZE     s:4442
         3 005303   040000 106500                    CMPC    fill='040'O
         3 005304   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 005305   001635 000007 1                  ADSC9   BOARD_64K+478            cn=0,n=7
         3 005306   005313 600000 3                  TZE     s:4442
         3 005307   040000 106500                    CMPC    fill='040'O
         3 005310   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 005311   001637 000007 1                  ADSC9   BOARD_64K+480            cn=0,n=7
         3 005312   005316 601000 3                  TNZ     s:4443
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:254  

     1157     4437    5                                 OR (EL$IOERR.MODEL = 'PRU0903')
     1158     4438    5                                 OR (EL$IOERR.MODEL = 'PRU0908')
     1159     4439    5                                 OR (EL$IOERR.MODEL = 'PRU1201')
     1160     4440    5                                 OR (EL$IOERR.MODEL = 'PRU1203')
     1161     4441    5                                 OR (EL$IOERR.MODEL = 'PRU1208')) THEN
     1162     4442    5                               CALL EURC_PR54;

   4442  3 005313   015372 701000 3                  TSX1    EURC_PR54
         3 005314   000000 011000                    NOP     0
         3 005315   006057 710000 3                  TRA     s:4504

     1163     4443    5                           ELSE IF ((EL$IOERR.MODEL = 'PRU1200')

   4443  3 005316   040000 106500                    CMPC    fill='040'O
         3 005317   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 005320   001610 000007 1                  ADSC9   BOARD_64K+457            cn=0,n=7
         3 005321   005326 600000 3                  TZE     s:4445
         3 005322   040000 106500                    CMPC    fill='040'O
         3 005323   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 005324   001612 000007 1                  ADSC9   BOARD_64K+459            cn=0,n=7
         3 005325   005331 601000 3                  TNZ     s:4446

     1164     4444    5                                 OR (EL$IOERR.MODEL = 'PRU1600')) THEN
     1165     4445    5                                    CALL MPC_PR71;

   4445  3 005326   016027 701000 3                  TSX1    MPC_PR71
         3 005327   000000 011000                    NOP     0
         3 005330   006057 710000 3                  TRA     s:4504

     1166     4446    5                           ELSE IF (EL$IOERR.MODEL = 'MTU8200')AND

   4446  3 005331   040000 106500                    CMPC    fill='040'O
         3 005332   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 005333   001621 000007 1                  ADSC9   BOARD_64K+466            cn=0,n=7
         3 005334   005731 601000 3                  TNZ     s:4477
         3 005335   200010 236100                    LDQ     I,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:255  
         3 005336   000012 402007                    MPY     10,DL
         3 005337   200215 471500                    LDP1    DEV$,,AUTO
         3 005340   100000 236106                    LDQ     0,QL,PR1
         3 005341   777000 376003                    ANQ     -512,DU
         3 005342   035000 116003                    CMPQ    14848,DU
         3 005343   005360 600000 3                  TZE     s:4449
         3 005344   200010 236100                    LDQ     I,,AUTO
         3 005345   000012 402007                    MPY     10,DL
         3 005346   100000 236106                    LDQ     0,QL,PR1
         3 005347   777000 376003                    ANQ     -512,DU
         3 005350   065000 116003                    CMPQ    27136,DU
         3 005351   005360 600000 3                  TZE     s:4449
         3 005352   200010 236100                    LDQ     I,,AUTO
         3 005353   000012 402007                    MPY     10,DL
         3 005354   100000 236106                    LDQ     0,QL,PR1
         3 005355   777000 376003                    ANQ     -512,DU
         3 005356   260000 116003                    CMPQ    90112,DU
         3 005357   005731 601000 3                  TNZ     s:4477

     1167     4447    5                                  ((DEVTBL.CODE(I) = 29)OR(DEVTBL.CODE(I) = 53)
     1168     4448    5                                  OR(DEVTBL.CODE(I) = 176))
     1169     4449    6                           THEN DO CASE(DEVTBL.CODE(I));

   4449  3 005360   200010 236100                    LDQ     I,,AUTO
         3 005361   000012 402007                    MPY     10,DL
         3 005362   100000 236106                    LDQ     0,QL,PR1
         3 005363   000033 772000                    QRL     27
         3 005364   000035 136007                    SBLQ    29,DL
         3 005365   000224 116007                    CMPQ    148,DL
         3 005366   005370 602006 3                  TNC     s:4449+8,QL
         3 005367   006057 710000 3                  TRA     s:4504
         3 005370   005614 710000 3                  TRA     s:4451
         3 005371   005730 710000 3                  TRA     s:4476
         3 005372   005730 710000 3                  TRA     s:4476
         3 005373   005730 710000 3                  TRA     s:4476
         3 005374   005730 710000 3                  TRA     s:4476
         3 005375   005730 710000 3                  TRA     s:4476
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:256  
         3 005376   005730 710000 3                  TRA     s:4476
         3 005377   005730 710000 3                  TRA     s:4476
         3 005400   005730 710000 3                  TRA     s:4476
         3 005401   005730 710000 3                  TRA     s:4476
         3 005402   005730 710000 3                  TRA     s:4476
         3 005403   005730 710000 3                  TRA     s:4476
         3 005404   005730 710000 3                  TRA     s:4476
         3 005405   005730 710000 3                  TRA     s:4476
         3 005406   005730 710000 3                  TRA     s:4476
         3 005407   005730 710000 3                  TRA     s:4476
         3 005410   005730 710000 3                  TRA     s:4476
         3 005411   005730 710000 3                  TRA     s:4476
         3 005412   005730 710000 3                  TRA     s:4476
         3 005413   005730 710000 3                  TRA     s:4476
         3 005414   005730 710000 3                  TRA     s:4476
         3 005415   005730 710000 3                  TRA     s:4476
         3 005416   005730 710000 3                  TRA     s:4476
         3 005417   005730 710000 3                  TRA     s:4476
         3 005420   005617 710000 3                  TRA     s:4454
         3 005421   005730 710000 3                  TRA     s:4476
         3 005422   005730 710000 3                  TRA     s:4476
         3 005423   005730 710000 3                  TRA     s:4476
         3 005424   005730 710000 3                  TRA     s:4476
         3 005425   005730 710000 3                  TRA     s:4476
         3 005426   005730 710000 3                  TRA     s:4476
         3 005427   005730 710000 3                  TRA     s:4476
         3 005430   005730 710000 3                  TRA     s:4476
         3 005431   005730 710000 3                  TRA     s:4476
         3 005432   005730 710000 3                  TRA     s:4476
         3 005433   005730 710000 3                  TRA     s:4476
         3 005434   005730 710000 3                  TRA     s:4476
         3 005435   005730 710000 3                  TRA     s:4476
         3 005436   005730 710000 3                  TRA     s:4476
         3 005437   005730 710000 3                  TRA     s:4476
         3 005440   005730 710000 3                  TRA     s:4476
         3 005441   005730 710000 3                  TRA     s:4476
         3 005442   005730 710000 3                  TRA     s:4476
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:257  
         3 005443   005730 710000 3                  TRA     s:4476
         3 005444   005730 710000 3                  TRA     s:4476
         3 005445   005730 710000 3                  TRA     s:4476
         3 005446   005730 710000 3                  TRA     s:4476
         3 005447   005730 710000 3                  TRA     s:4476
         3 005450   005730 710000 3                  TRA     s:4476
         3 005451   005730 710000 3                  TRA     s:4476
         3 005452   005730 710000 3                  TRA     s:4476
         3 005453   005730 710000 3                  TRA     s:4476
         3 005454   005730 710000 3                  TRA     s:4476
         3 005455   005730 710000 3                  TRA     s:4476
         3 005456   005730 710000 3                  TRA     s:4476
         3 005457   005730 710000 3                  TRA     s:4476
         3 005460   005730 710000 3                  TRA     s:4476
         3 005461   005730 710000 3                  TRA     s:4476
         3 005462   005730 710000 3                  TRA     s:4476
         3 005463   005730 710000 3                  TRA     s:4476
         3 005464   005730 710000 3                  TRA     s:4476
         3 005465   005730 710000 3                  TRA     s:4476
         3 005466   005730 710000 3                  TRA     s:4476
         3 005467   005730 710000 3                  TRA     s:4476
         3 005470   005730 710000 3                  TRA     s:4476
         3 005471   005730 710000 3                  TRA     s:4476
         3 005472   005730 710000 3                  TRA     s:4476
         3 005473   005730 710000 3                  TRA     s:4476
         3 005474   005730 710000 3                  TRA     s:4476
         3 005475   005730 710000 3                  TRA     s:4476
         3 005476   005730 710000 3                  TRA     s:4476
         3 005477   005730 710000 3                  TRA     s:4476
         3 005500   005730 710000 3                  TRA     s:4476
         3 005501   005730 710000 3                  TRA     s:4476
         3 005502   005730 710000 3                  TRA     s:4476
         3 005503   005730 710000 3                  TRA     s:4476
         3 005504   005730 710000 3                  TRA     s:4476
         3 005505   005730 710000 3                  TRA     s:4476
         3 005506   005730 710000 3                  TRA     s:4476
         3 005507   005730 710000 3                  TRA     s:4476
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:258  
         3 005510   005730 710000 3                  TRA     s:4476
         3 005511   005730 710000 3                  TRA     s:4476
         3 005512   005730 710000 3                  TRA     s:4476
         3 005513   005730 710000 3                  TRA     s:4476
         3 005514   005730 710000 3                  TRA     s:4476
         3 005515   005730 710000 3                  TRA     s:4476
         3 005516   005730 710000 3                  TRA     s:4476
         3 005517   005730 710000 3                  TRA     s:4476
         3 005520   005730 710000 3                  TRA     s:4476
         3 005521   005730 710000 3                  TRA     s:4476
         3 005522   005730 710000 3                  TRA     s:4476
         3 005523   005730 710000 3                  TRA     s:4476
         3 005524   005730 710000 3                  TRA     s:4476
         3 005525   005730 710000 3                  TRA     s:4476
         3 005526   005730 710000 3                  TRA     s:4476
         3 005527   005730 710000 3                  TRA     s:4476
         3 005530   005730 710000 3                  TRA     s:4476
         3 005531   005730 710000 3                  TRA     s:4476
         3 005532   005730 710000 3                  TRA     s:4476
         3 005533   005730 710000 3                  TRA     s:4476
         3 005534   005730 710000 3                  TRA     s:4476
         3 005535   005730 710000 3                  TRA     s:4476
         3 005536   005730 710000 3                  TRA     s:4476
         3 005537   005730 710000 3                  TRA     s:4476
         3 005540   005730 710000 3                  TRA     s:4476
         3 005541   005730 710000 3                  TRA     s:4476
         3 005542   005730 710000 3                  TRA     s:4476
         3 005543   005730 710000 3                  TRA     s:4476
         3 005544   005730 710000 3                  TRA     s:4476
         3 005545   005730 710000 3                  TRA     s:4476
         3 005546   005730 710000 3                  TRA     s:4476
         3 005547   005730 710000 3                  TRA     s:4476
         3 005550   005730 710000 3                  TRA     s:4476
         3 005551   005730 710000 3                  TRA     s:4476
         3 005552   005730 710000 3                  TRA     s:4476
         3 005553   005730 710000 3                  TRA     s:4476
         3 005554   005730 710000 3                  TRA     s:4476
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:259  
         3 005555   005730 710000 3                  TRA     s:4476
         3 005556   005730 710000 3                  TRA     s:4476
         3 005557   005730 710000 3                  TRA     s:4476
         3 005560   005730 710000 3                  TRA     s:4476
         3 005561   005730 710000 3                  TRA     s:4476
         3 005562   005730 710000 3                  TRA     s:4476
         3 005563   005730 710000 3                  TRA     s:4476
         3 005564   005730 710000 3                  TRA     s:4476
         3 005565   005730 710000 3                  TRA     s:4476
         3 005566   005730 710000 3                  TRA     s:4476
         3 005567   005730 710000 3                  TRA     s:4476
         3 005570   005730 710000 3                  TRA     s:4476
         3 005571   005730 710000 3                  TRA     s:4476
         3 005572   005730 710000 3                  TRA     s:4476
         3 005573   005730 710000 3                  TRA     s:4476
         3 005574   005730 710000 3                  TRA     s:4476
         3 005575   005730 710000 3                  TRA     s:4476
         3 005576   005730 710000 3                  TRA     s:4476
         3 005577   005730 710000 3                  TRA     s:4476
         3 005600   005730 710000 3                  TRA     s:4476
         3 005601   005730 710000 3                  TRA     s:4476
         3 005602   005730 710000 3                  TRA     s:4476
         3 005603   005730 710000 3                  TRA     s:4476
         3 005604   005730 710000 3                  TRA     s:4476
         3 005605   005730 710000 3                  TRA     s:4476
         3 005606   005730 710000 3                  TRA     s:4476
         3 005607   005730 710000 3                  TRA     s:4476
         3 005610   005730 710000 3                  TRA     s:4476
         3 005611   005730 710000 3                  TRA     s:4476
         3 005612   005730 710000 3                  TRA     s:4476
         3 005613   005645 710000 3                  TRA     s:4463

     1170     4450    6                                   CASE(29); /* if byte 3, bit 5  */

     1171     4451    6                                       CALL FIND_DEN_MODE;/* check for density*/

   4451  3 005614   014501 701000 3                  TSX1    FIND_DEN_MODE
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:260  
         3 005615   000000 011000                    NOP     0
         3 005616   006057 710000 3                  TRA     s:4504

     1172     4452    6                                   CASE(53);  /* if byte 6, bits 5-7 */

     1173     4453                                                   /* check for speed     */
     1174     4454    6                                    IF IO_MASK1(DEVTBL.CODE(I)) AND

   4454  3 005617   200010 236100                    LDQ     I,,AUTO
         3 005620   000012 402007                    MPY     10,DL
         3 005621   100000 236106                    LDQ     0,QL,PR1
         3 005622   000033 772000                    QRL     27
         3 005623   000000 066506                    CMPB    filb='0'B
         3 005624   200221 000001                    BDSC    IO_MASK,Q,AUTO           by=0,bit=0,n=1
         3 005625   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 005626   006057 600000 3                  TZE     s:4504
         3 005627   200010 236100                    LDQ     I,,AUTO
         3 005630   000012 402007                    MPY     10,DL
         3 005631   100012 236106                    LDQ     10,QL,PR1
         3 005632   000033 772000                    QRL     27
         3 005633   000000 066506                    CMPB    filb='0'B
         3 005634   200221 000001                    BDSC    IO_MASK,Q,AUTO           by=0,bit=0,n=1
         3 005635   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 005636   006057 600000 3                  TZE     s:4504

     1175     4455    6                                       IO_MASK1(DEVTBL.CODE(I+1))
     1176     4456    7                                       THEN DO;

     1177     4457    7                                         XST_TEXT = 'DEV SPEED: 200 IPS';

   4457  3 005637   040100 100400                    MLR     fill='040'O
         3 005640   001641 000022 1                  ADSC9   BOARD_64K+482            cn=0,n=18
         3 005641   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

     1178     4458    7                                         XST_CNT = 18;

   4458  3 005642   000022 235007                    LDA     18,DL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:261  
         3 005643   200342 755100                    STA     XST_CNT,,AUTO

     1179     4459    7                                         GOTO NEXT_I;

   4459  3 005644   006042 710000 3                  TRA     NEXT_I

     1180     4460    7                                    END;  /* if bits 53 & 54 set */
     1181     4461    6                                   CASE(176); /* if it's byte 22, check*/

     1182     4462                                                   /* for fault symptom code*/
     1183     4463    7                                    DO II = 0 TO 7;/* pickup byte 22 */

   4463  3 005645   200454 450100                    STZ     II,,AUTO

     1184     4464    7                                       IF IO_MASK1(DEVTBL.CODE(I) + II)

   4464  3 005646   200010 236100                    LDQ     I,,AUTO
         3 005647   000012 402007                    MPY     10,DL
         3 005650   200215 470500                    LDP0    DEV$,,AUTO
         3 005651   000000 236106                    LDQ     0,QL,PR0
         3 005652   000033 772000                    QRL     27
         3 005653   200454 036100                    ADLQ    II,,AUTO
         3 005654   000000 066506                    CMPB    filb='0'B
         3 005655   200221 000001                    BDSC    IO_MASK,Q,AUTO           by=0,bit=0,n=1
         3 005656   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 005657   005665 600000 3                  TZE     s:4466

     1185     4465    7                                       THEN FT_BIT(II) =  '1'B;

   4465  3 005660   200454 235100                    LDA     II,,AUTO
         3 005661   003105 060400                    CSL     bolr='003'O
         3 005662   000030 000001 xsym               BDSC    B_VECTNIL+24             by=0,bit=0,n=1
         3 005663   200464 000001                    BDSC    FT_BIT,A,AUTO            by=0,bit=0,n=1
         3 005664   005671 710000 3                  TRA     s:4467

     1186     4466    7                                       ELSE FT_BIT(II) =  '0'B;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:262  
   4466  3 005665   200454 235100                    LDA     II,,AUTO
         3 005666   003105 060400                    CSL     bolr='003'O
         3 005667   000002 000001 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=1
         3 005670   200464 000001                    BDSC    FT_BIT,A,AUTO            by=0,bit=0,n=1

     1187     4467    7                                    END;  /* do */

   4467  3 005671   000001 035007                    ADLA    1,DL
         3 005672   200454 755100                    STA     II,,AUTO
         3 005673   000010 115007                    CMPA    8,DL
         3 005674   005646 602000 3                  TNC     s:4464

     1188     4468    7                                    DO II = 0 TO 70;/* go thru tbl for a match */

   4468  3 005675   200454 450100                    STZ     II,,AUTO

     1189     4469    7                                       IF FT_CODE = FAULT_SYMP_TBL.CODE(II)

   4469  3 005676   200454 236100                    LDQ     II,,AUTO
         3 005677   000012 402007                    MPY     10,DL
         3 005700   000000 236006 xsym               LDQ     FAULT_SYMP_TBL,QL
         3 005701   000033 772000                    QRL     27
         3 005702   200534 756100                    STQ     CHIP#+2,,AUTO
         3 005703   200464 236100                    LDQ     FT_BIT,,AUTO
         3 005704   000034 772000                    QRL     28
         3 005705   200534 116100                    CMPQ    CHIP#+2,,AUTO
         3 005706   005723 601000 3                  TNZ     s:4475

     1190     4470    8                                       THEN DO;

     1191     4471    8                                         XST_TEXT = FAULT_SYMP_TBL.TEXT(II);

   4471  3 005707   200454 236100                    LDQ     II,,AUTO
         3 005710   000050 402007                    MPY     40,DL
         3 005711   040100 100406                    MLR     fill='040'O
         3 005712   000000 400043 xsym               ADSC9   FAULT_SYMP_TBL,Q         cn=2,n=35
         3 005713   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:263  

     1192     4472    8                                         XST_CNT = FAULT_SYMP_TBL.COUNT(II);

   4472  3 005714   200454 236100                    LDQ     II,,AUTO
         3 005715   000012 402007                    MPY     10,DL
         3 005716   000000 236006 xsym               LDQ     FAULT_SYMP_TBL,QL
         3 005717   000022 772000                    QRL     18
         3 005720   000777 376007                    ANQ     511,DL
         3 005721   200342 756100                    STQ     XST_CNT,,AUTO

     1193     4473    8                                         GOTO NEXT_I;

   4473  3 005722   006042 710000 3                  TRA     NEXT_I

     1194     4474    8                                       END;  /* if fault code is found */
     1195     4475    7                                    END; /* do II */

   4475  3 005723   200454 235100                    LDA     II,,AUTO
         3 005724   000001 035007                    ADLA    1,DL
         3 005725   200454 755100                    STA     II,,AUTO
         3 005726   000107 115007                    CMPA    71,DL
         3 005727   005676 602000 3                  TNC     s:4469

     1196     4476    6                                END; /* do case */

   4476  3 005730   006057 710000 3                  TRA     s:4504

     1197     4477    5                           ELSE IF((EL$IOERR.MODEL='MSU3380')

   4477  3 005731   040000 106500                    CMPC    fill='040'O
         3 005732   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 005733   001646 000007 1                  ADSC9   BOARD_64K+487            cn=0,n=7
         3 005734   005771 600000 3                  TZE     s:4477+32
         3 005735   040000 106500                    CMPC    fill='040'O
         3 005736   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 005737   001650 000007 1                  ADSC9   BOARD_64K+489            cn=0,n=7
         3 005740   005771 600000 3                  TZE     s:4477+32
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:264  
         3 005741   040000 106500                    CMPC    fill='040'O
         3 005742   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 005743   001652 000007 1                  ADSC9   BOARD_64K+491            cn=0,n=7
         3 005744   005771 600000 3                  TZE     s:4477+32
         3 005745   040000 106500                    CMPC    fill='040'O
         3 005746   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 005747   001654 000007 1                  ADSC9   BOARD_64K+493            cn=0,n=7
         3 005750   005771 600000 3                  TZE     s:4477+32
         3 005751   040000 106500                    CMPC    fill='040'O
         3 005752   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 005753   001656 000007 1                  ADSC9   BOARD_64K+495            cn=0,n=7
         3 005754   005771 600000 3                  TZE     s:4477+32
         3 005755   040000 106500                    CMPC    fill='040'O
         3 005756   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 005757   001660 000007 1                  ADSC9   BOARD_64K+497            cn=0,n=7
         3 005760   005771 600000 3                  TZE     s:4477+32
         3 005761   040000 106500                    CMPC    fill='040'O
         3 005762   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 005763   001662 000007 1                  ADSC9   BOARD_64K+499            cn=0,n=7
         3 005764   005771 600000 3                  TZE     s:4477+32
         3 005765   040000 106500                    CMPC    fill='040'O
         3 005766   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 005767   001664 000007 1                  ADSC9   BOARD_64K+501            cn=0,n=7
         3 005770   006003 601000 3                  TNZ     s:4488
         3 005771   200010 236100                    LDQ     I,,AUTO
         3 005772   000012 402007                    MPY     10,DL
         3 005773   200215 471500                    LDP1    DEV$,,AUTO
         3 005774   100000 236106                    LDQ     0,QL,PR1
         3 005775   777000 376003                    ANQ     -512,DU
         3 005776   070000 116003                    CMPQ    28672,DU
         3 005777   006003 601000 3                  TNZ     s:4488

     1198     4478    5                                OR (EL$IOERR.MODEL='MSU3381')
     1199     4479    5                                OR (EL$IOERR.MODEL='MSU3382')
     1200     4480    5                                OR (EL$IOERR.MODEL='MSU3383')
     1201     4481    5                                OR (EL$IOERR.MODEL='MSU3390')
     1202     4482    5                                OR (EL$IOERR.MODEL='MSU3391')
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:265  
     1203     4483    5                                OR (EL$IOERR.MODEL='MSU3392')
     1204     4484    5                                OR (EL$IOERR.MODEL='MSU3393'))
     1205     4485    5                                AND  (DEVTBL.CODE(I) = 56)
     1206     4486    5                                THEN
     1207     4487    5                                    CALL FIND_FORMAT_MSG;

   4487  3 006000   014562 701000 3                  TSX1    FIND_FORMAT_MSG
         3 006001   000000 011000                    NOP     0
         3 006002   006057 710000 3                  TRA     s:4504

     1208     4488    5                           ELSE IF((EL$IOERR.MODEL='MSU8082')

   4488  3 006003   040000 106500                    CMPC    fill='040'O
         3 006004   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 006005   001666 000007 1                  ADSC9   BOARD_64K+503            cn=0,n=7
         3 006006   006013 600000 3                  TZE     s:4491
         3 006007   040000 106500                    CMPC    fill='040'O
         3 006010   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 006011   001670 000007 1                  ADSC9   BOARD_64K+505            cn=0,n=7
         3 006012   006016 601000 3                  TNZ     s:4493

     1209     4489    5                                OR (EL$IOERR.MODEL='MSU8092'))
     1210     4490    5                                THEN
     1211     4491    5                                    CALL IPC_MDSII;

   4491  3 006013   016262 701000 3                  TSX1    IPC_MDSII
         3 006014   000000 011000                    NOP     0
         3 006015   006057 710000 3                  TRA     s:4504

     1212     4492    6                           ELSE DO;

     1213     4493    6                             IF IO_MASK1(DEVTBL.CODE(I))

   4493  3 006016   200010 236100                    LDQ     I,,AUTO
         3 006017   000012 402007                    MPY     10,DL
         3 006020   200215 471500                    LDP1    DEV$,,AUTO
         3 006021   100000 236106                    LDQ     0,QL,PR1
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:266  
         3 006022   000033 772000                    QRL     27
         3 006023   000000 066506                    CMPB    filb='0'B
         3 006024   200221 000001                    BDSC    IO_MASK,Q,AUTO           by=0,bit=0,n=1
         3 006025   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 006026   006057 600000 3                  TZE     s:4504

     1214     4494    7                                THEN DO;

     1215     4495    7                                  XST_TEXT = DEVTBL.TEXT(I);

   4495  3 006027   200010 236100                    LDQ     I,,AUTO
         3 006030   000050 402007                    MPY     40,DL
         3 006031   040100 100506                    MLR     fill='040'O
         3 006032   100000 400043                    ADSC9   0,Q,PR1                  cn=2,n=35
         3 006033   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

     1216     4496    7                                  XST_CNT = DEVTBL.COUNT(I);

   4496  3 006034   200010 236100                    LDQ     I,,AUTO
         3 006035   000012 402007                    MPY     10,DL
         3 006036   100000 236106                    LDQ     0,QL,PR1
         3 006037   000022 772000                    QRL     18
         3 006040   000777 376007                    ANQ     511,DL
         3 006041   200342 756100                    STQ     XST_CNT,,AUTO

     1217     4497    7   NEXT_I:
     1218     4498    7                                  CALL THF$ADD_TEXTC(XST$,

   4498  3 006042   200342 630500       NEXT_I       EPPR0   XST_CNT,,AUTO
         3 006043   200536 450500                    STP0    CHIP#+4,,AUTO
         3 006044   200304 631500                    EPPR1   XST_TEXT,,AUTO
         3 006045   200535 451500                    STP1    CHIP#+3,,AUTO
         3 006046   200300 633500                    EPPR3   XST$,,AUTO
         3 006047   200534 453500                    STP3    CHIP#+2,,AUTO
         3 006050   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 006051   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 006052   000000 701000 xent               TSX1    THF$ADD_TEXTC
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:267  
         3 006053   000000 011000                    NOP     0

     1219     4499    7                                                     XST_TEXT,
     1220     4500    7                                                     XST_CNT);
     1221     4501    7                                  NXST = NXST + 1;

   4501  3 006054   200343 235100                    LDA     NXST,,AUTO
         3 006055   000001 035007                    ADLA    1,DL
         3 006056   200343 755100                    STA     NXST,,AUTO

     1222     4502    7                                END;

     1223     4503    6                           END;                /* OF ELSE */

     1224     4504    5                      END;

   4504  3 006057   200010 054100                    AOS     I,,AUTO
         3 006060   200100 236100                    LDQ     J,,AUTO
         3 006061   004722 604000 3                  TMI     s:4395
         3 006062   200010 116100                    CMPQ    I,,AUTO
         3 006063   004722 605000 3                  TPL     s:4395

     1225     4505    4        NO_INTERP:
     1226     4506    4                 END;

   4506  3 006064                       NO_INTERP    null
     1227     4507    3                 MODEL_CHAR = EL$IOERR.MODEL;

   4507  3 006064   200005 470500                    LDP0    INFO+1,,AUTO
         3 006065   000030 236100                    LDQ     24,,PR0
         3 006066   000134 376000 4                  ANQ     92
         3 006067   000040 276007                    ORQ     32,DL
         3 006070   200220 756100                    STQ     MODEL_CHAR,,AUTO

     1228     4508    3                 SECTOR = EL$IOERR.SEEK.SECTOR;

   4508  3 006071   000023 236100                    LDQ     19,,PR0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:268  
         3 006072   000312 376000 4                  ANQ     202
         3 006073   200374 756100                    STQ     SECTOR,,AUTO

     1229     4509    4                DO SELECT( EL$IOERR.MODEL );

   4509  3 006074   040000 106500                    CMPC    fill='040'O
         3 006075   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 006076   001656 000007 1                  ADSC9   BOARD_64K+495            cn=0,n=7
         3 006077   006132 602000 3                  TNC     s:4509+30
         3 006100   006221 600000 3                  TZE     s:4520
         3 006101   040000 106500                    CMPC    fill='040'O
         3 006102   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 006103   001662 000007 1                  ADSC9   BOARD_64K+499            cn=0,n=7
         3 006104   006125 602000 3                  TNC     s:4509+25
         3 006105   006221 600000 3                  TZE     s:4520
         3 006106   040000 106500                    CMPC    fill='040'O
         3 006107   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 006110   001666 000007 1                  ADSC9   BOARD_64K+503            cn=0,n=7
         3 006111   006120 602000 3                  TNC     s:4509+20
         3 006112   006233 600000 3                  TZE     s:4524
         3 006113   040000 106500                    CMPC    fill='040'O
         3 006114   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 006115   001670 000007 1                  ADSC9   BOARD_64K+505            cn=0,n=7
         3 006116   007070 601000 3                  TNZ     s:4630
         3 006117   006245 710000 3                  TRA     s:4528
         3 006120   040000 106500                    CMPC    fill='040'O
         3 006121   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 006122   001664 000007 1                  ADSC9   BOARD_64K+501            cn=0,n=7
         3 006123   007070 601000 3                  TNZ     s:4630
         3 006124   006221 710000 3                  TRA     s:4520
         3 006125   040000 106500                    CMPC    fill='040'O
         3 006126   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 006127   001660 000007 1                  ADSC9   BOARD_64K+497            cn=0,n=7
         3 006130   007070 601000 3                  TNZ     s:4630
         3 006131   006221 710000 3                  TRA     s:4520
         3 006132   040000 106500                    CMPC    fill='040'O
         3 006133   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:269  
         3 006134   001646 000007 1                  ADSC9   BOARD_64K+487            cn=0,n=7
         3 006135   006156 602000 3                  TNC     s:4509+50
         3 006136   006221 600000 3                  TZE     s:4520
         3 006137   040000 106500                    CMPC    fill='040'O
         3 006140   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 006141   001652 000007 1                  ADSC9   BOARD_64K+491            cn=0,n=7
         3 006142   006151 602000 3                  TNC     s:4509+45
         3 006143   006221 600000 3                  TZE     s:4520
         3 006144   040000 106500                    CMPC    fill='040'O
         3 006145   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 006146   001654 000007 1                  ADSC9   BOARD_64K+493            cn=0,n=7
         3 006147   007070 601000 3                  TNZ     s:4630
         3 006150   006221 710000 3                  TRA     s:4520
         3 006151   040000 106500                    CMPC    fill='040'O
         3 006152   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 006153   001650 000007 1                  ADSC9   BOARD_64K+489            cn=0,n=7
         3 006154   007070 601000 3                  TNZ     s:4630
         3 006155   006221 710000 3                  TRA     s:4520
         3 006156   040000 106500                    CMPC    fill='040'O
         3 006157   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 006160   001672 000007 1                  ADSC9   BOARD_64K+507            cn=0,n=7
         3 006161   006170 602000 3                  TNC     s:4509+60
         3 006162   006175 600000 3                  TZE     s:4511
         3 006163   040000 106500                    CMPC    fill='040'O
         3 006164   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 006165   001674 000007 1                  ADSC9   BOARD_64K+509            cn=0,n=7
         3 006166   007070 601000 3                  TNZ     s:4630
         3 006167   006175 710000 3                  TRA     s:4511
         3 006170   040000 106500                    CMPC    fill='040'O
         3 006171   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 006172   001676 000007 1                  ADSC9   BOARD_64K+511            cn=0,n=7
         3 006173   007070 601000 3                  TNZ     s:4630
         3 006174   006207 710000 3                  TRA     s:4515

     1230     4510    4                  SELECT('MSU0501','MSU0509');

     1231     4511    4                      CYL = SECTOR/(8*40);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:270  

   4511  3 006175   000500 506007                    DIV     320,DL
         3 006176   200375 756100                    STQ     CYL,,AUTO

     1232     4512    4                      HD = MOD(SECTOR /8,40);

   4512  3 006177   200374 236100                    LDQ     SECTOR,,AUTO
         3 006200   000010 506007                    DIV     8,DL
         3 006201   000050 506007                    DIV     40,DL
         3 006202   200376 755100                    STA     HD,,AUTO

     1233     4513    4                      SE = MOD(SECTOR,8);

   4513  3 006203   200374 236100                    LDQ     SECTOR,,AUTO
         3 006204   000010 506007                    DIV     8,DL
         3 006205   200377 755100                    STA     SE,,AUTO
         3 006206   007070 710000 3                  TRA     s:4630

     1234     4514    4                  SELECT('MSU0451');

     1235     4515    4                      CYL = SECTOR / (40*19);

   4515  3 006207   001370 506007                    DIV     760,DL
         3 006210   200375 756100                    STQ     CYL,,AUTO

     1236     4516    4                      HD = MOD(SECTOR/40,19);

   4516  3 006211   200374 236100                    LDQ     SECTOR,,AUTO
         3 006212   000050 506007                    DIV     40,DL
         3 006213   000023 506007                    DIV     19,DL
         3 006214   200376 755100                    STA     HD,,AUTO

     1237     4517    4                      SE = MOD(SECTOR,40);

   4517  3 006215   200374 236100                    LDQ     SECTOR,,AUTO
         3 006216   000050 506007                    DIV     40,DL
         3 006217   200377 755100                    STA     SE,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:271  
         3 006220   007070 710000 3                  TRA     s:4630

     1238     4518    4                  SELECT('MSU3380','MSU3381','MSU3382','MSU3383',  /* FIPS D&E */

     1239     4519    4                         'MSU3390','MSU3391','MSU3392','MSU3393'); /* FIPS J&K */
     1240     4520    4                     CYL = SECTOR / (17*15);

   4520  3 006221   000377 506007                    DIV     255,DL
         3 006222   200375 756100                    STQ     CYL,,AUTO

     1241     4521    4                     HD = MOD(SECTOR/17,15);

   4521  3 006223   200374 236100                    LDQ     SECTOR,,AUTO
         3 006224   000021 506007                    DIV     17,DL
         3 006225   000017 506007                    DIV     15,DL
         3 006226   200376 755100                    STA     HD,,AUTO

     1242     4522    4                     SE = MOD(SECTOR,17);

   4522  3 006227   200374 236100                    LDQ     SECTOR,,AUTO
         3 006230   000021 506007                    DIV     17,DL
         3 006231   200377 755100                    STA     SE,,AUTO
         3 006232   007070 710000 3                  TRA     s:4630

     1243     4523    4                  SELECT('MSU8082');                   /* MDS I - FDS II        */

     1244     4524    4                      CYL = SECTOR / (11*24);

   4524  3 006233   000410 506007                    DIV     264,DL
         3 006234   200375 756100                    STQ     CYL,,AUTO

     1245     4525    4                      HD = MOD(SECTOR/11,24);

   4525  3 006235   200374 236100                    LDQ     SECTOR,,AUTO
         3 006236   000013 506007                    DIV     11,DL
         3 006237   000030 506007                    DIV     24,DL
         3 006240   200376 755100                    STA     HD,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:272  

     1246     4526    4                      SE = MOD(SECTOR,11);

   4526  3 006241   200374 236100                    LDQ     SECTOR,,AUTO
         3 006242   000013 506007                    DIV     11,DL
         3 006243   200377 755100                    STA     SE,,AUTO
         3 006244   007070 710000 3                  TRA     s:4630

     1247     4527    4                  SELECT('MSU8092');                  /* MDS II - SABRE V       */

     1248     4528    4                      CYL = SECTOR / (19*15);

   4528  3 006245   000435 506007                    DIV     285,DL
         3 006246   200375 756100                    STQ     CYL,,AUTO

     1249     4529    4                      HD = MOD(SECTOR/19,15);

   4529  3 006247   200374 236100                    LDQ     SECTOR,,AUTO
         3 006250   000023 506007                    DIV     19,DL
         3 006251   000017 506007                    DIV     15,DL
         3 006252   200376 755100                    STA     HD,,AUTO

     1250     4530    4                      SE = MOD(SECTOR,19);

   4530  3 006253   200374 236100                    LDQ     SECTOR,,AUTO
         3 006254   000023 506007                    DIV     19,DL
         3 006255   200377 755100                    STA     SE,,AUTO

     1251     4531    4                  END;  /*SELECT*/

   4531  3 006256   007070 710000 3                  TRA     s:4630

     1252     4532    3            CASE(%TH_DEVSTATS);

     1253     4533    3              STATS$ = ADDR(EL$DEVSTATS.STATISTICS(0));

   4533  3 006257   200005 236100                    LDQ     INFO+1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:273  
         3 006260   000005 036003                    ADLQ    5,DU
         3 006261   200212 756100                    STQ     STATS$,,AUTO

     1254     4534    4              DO SELECT(EL$DEVSTATS.FW_NAME);

   4534  3 006262   200005 470500                    LDP0    INFO+1,,AUTO
         3 006263   000004 236100                    LDQ     4,,PR0
         3 006264   001700 116000 1                  CMPQ    BOARD_64K+513
         3 006265   006276 602000 3                  TNC     s:4534+12
         3 006266   006312 600000 3                  TZE     s:4535
         3 006267   001701 116000 1                  CMPQ    BOARD_64K+514
         3 006270   006273 602000 3                  TNC     s:4534+9
         3 006271   006312 600000 3                  TZE     s:4535
         3 006272   006337 710000 3                  TRA     s:4551
         3 006273   001702 116000 1                  CMPQ    BOARD_64K+515
         3 006274   006337 601000 3                  TNZ     s:4551
         3 006275   006313 710000 3                  TRA     s:4537
         3 006276   001703 116000 1                  CMPQ    BOARD_64K+516
         3 006277   006304 602000 3                  TNC     s:4534+18
         3 006300   006313 600000 3                  TZE     s:4537
         3 006301   001704 116000 1                  CMPQ    BOARD_64K+517
         3 006302   006337 601000 3                  TNZ     s:4551
         3 006303   006312 710000 3                  TRA     s:4535
         3 006304   001705 116000 1                  CMPQ    BOARD_64K+518
         3 006305   006337 602000 3                  TNC     s:4551
         3 006306   006313 600000 3                  TZE     s:4537
         3 006307   001706 116000 1                  CMPQ    BOARD_64K+519
         3 006310   006337 601000 3                  TNZ     s:4551
         3 006311   006331 710000 3                  TRA     s:4547

     1255     4535    4                 SELECT('M601', 'M610', 'TPUR');   /* MPC OR TPUR TAPES */

   4535  3 006312   006337 710000 3                  TRA     s:4551

     1256     4536    4                 SELECT('M191', 'D500', 'MSP8');   /* MPC OR DAU DISCS */

     1257     4537    4                   TH_ITYPE = %TH_DEVSTATS_DISK;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:274  

   4537  3 006313   000043 235007                    LDA     35,DL
         3 006314   000000 755000 xsym               STA     TH_ITYPE

     1258     4538    4                   TEMPBUF(0) = DISK_STATS.SEEK_INCOMPLETES
              4538                            /* SEEK ERRS = SEEK INCOMPLETES */

   4538  3 006315   200212 471500                    LDP1    STATS$,,AUTO
         3 006316   100004 236100                    LDQ     4,,PR1
         3 006317   100005 036100                    ADLQ    5,,PR1
         3 006320   200413 756100                    STQ     TEMPBUF,,AUTO

     1259     4539    4                              + DISK_STATS.HDR_VER_ERRS;     /* + HDR VER ERRORS */
     1260     4540    4                   TEMPBUF(1) = DISK_STATS.TRANS_TIMING_ERRS
              4540                            /* OTHER ERRS = TRANS TIM ERRS */

   4540  3 006321   100006 236100                    LDQ     6,,PR1
         3 006322   100010 036100                    ADLQ    8,,PR1
         3 006323   100011 036100                    ADLQ    9,,PR1
         3 006324   100015 036100                    ADLQ    13,,PR1
         3 006325   100007 036100                    ADLQ    7,,PR1
         3 006326   100017 036100                    ADLQ    15,,PR1
         3 006327   200414 756100                    STQ     TEMPBUF+1,,AUTO
         3 006330   006337 710000 3                  TRA     s:4551

     1261     4541    4                              + DISK_STATS.CNT_CHK_ALERTS     /* + CNT CHECK ALERTS */
     1262     4542    4                              + DISK_STATS.DLI_PARITY_ERRS    /* + DLI PARITY ERRS */
     1263     4543    4                              + DISK_STATS.LATENCY_RETRIES    /*  + LATENCY RETRIES */
     1264     4544    4                              + DISK_STATS.DATA_CHK_ALERTS   /* + DATA CHECK ALERTS */
     1265     4545    4                              + DISK_STATS.SEARCH_ALERTS;     /* + SYNC FAILURES */
     1266     4546    4                 SELECT('IIDK');                   /* MDS DISKS */

     1267     4547    4                   TH_ITYPE = %TH_DEVSTATS_MDS;

   4547  3 006331   000044 235007                    LDA     36,DL
         3 006332   000000 755000 xsym               STA     TH_ITYPE

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:275  
     1268     4548    4                   TEMPBUF(0) = MDS_STATS.SEEK_READS     /* # OF SEEKS = SEEK-READS */

   4548  3 006333   200212 471500                    LDP1    STATS$,,AUTO
         3 006334   100005 236100                    LDQ     5,,PR1
         3 006335   100007 036100                    ADLQ    7,,PR1
         3 006336   200413 756100                    STQ     TEMPBUF,,AUTO

     1269     4549    4                              + MDS_STATS.SEEK_WRITES;      /* + SEEK-WRITES */
     1270     4550    4              END;  /* DO SELECT */

     1271     4551    3              CTL$ = FMTTBL$(TH_ITYPE);

   4551  3 006337   200003 471500                    LDP1    @FMTTBL$,,AUTO
         3 006340   000000 720000 xsym               LXL0    TH_ITYPE
         3 006341   100000 236110                    LDQ     0,X0,PR1
         3 006342   200211 756100                    STQ     CTL$,,AUTO
         3 006343   007070 710000 3                  TRA     s:4630

     1272     4552    3            CASE ( %TH_MPCSTAT );

     1273     4553    3              STATS$ = ADDR(EL$MPCSTATS.STATS(0));

   4553  3 006344   200005 236100                    LDQ     INFO+1,,AUTO
         3 006345   000003 036003                    ADLQ    3,DU
         3 006346   200212 756100                    STQ     STATS$,,AUTO

     1274     4554    3              TEMPBUF(0) = EURC_STATS.CARDS_READ(0)

   4554  3 006347   200212 470500                    LDP0    STATS$,,AUTO
         3 006350   000006 236100                    LDQ     6,,PR0
         3 006351   777777 376007                    ANQ     -1,DL
         3 006352   200534 756100                    STQ     CHIP#+2,,AUTO
         3 006353   000006 236100                    LDQ     6,,PR0
         3 006354   000022 772000                    QRL     18
         3 006355   200534 036100                    ADLQ    CHIP#+2,,AUTO
         3 006356   200535 756100                    STQ     CHIP#+3,,AUTO
         3 006357   000007 236100                    LDQ     7,,PR0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:276  
         3 006360   000022 772000                    QRL     18
         3 006361   200536 756100                    STQ     CHIP#+4,,AUTO
         3 006362   200535 236100                    LDQ     CHIP#+3,,AUTO
         3 006363   200536 036100                    ADLQ    CHIP#+4,,AUTO
         3 006364   200537 756100                    STQ     CHIP#+5,,AUTO
         3 006365   000007 236100                    LDQ     7,,PR0
         3 006366   777777 376007                    ANQ     -1,DL
         3 006367   200540 756100                    STQ     CHIP#+6,,AUTO
         3 006370   200537 236100                    LDQ     CHIP#+5,,AUTO
         3 006371   200540 036100                    ADLQ    CHIP#+6,,AUTO
         3 006372   200413 756100                    STQ     TEMPBUF,,AUTO

     1275     4555    3                         + EURC_STATS.CARDS_READ(1)
     1276     4556    3                         + EURC_STATS.CARDS_READ(2)
     1277     4557    3                         + EURC_STATS.CARDS_READ(3);
     1278     4558    3              TEMPBUF(1) = EURC_STATS.CARDS_PUNCHED(0)

   4558  3 006373   000004 236100                    LDQ     4,,PR0
         3 006374   777777 376007                    ANQ     -1,DL
         3 006375   200534 756100                    STQ     CHIP#+2,,AUTO
         3 006376   000004 236100                    LDQ     4,,PR0
         3 006377   000022 772000                    QRL     18
         3 006400   200534 036100                    ADLQ    CHIP#+2,,AUTO
         3 006401   200535 756100                    STQ     CHIP#+3,,AUTO
         3 006402   000005 236100                    LDQ     5,,PR0
         3 006403   000022 772000                    QRL     18
         3 006404   200536 756100                    STQ     CHIP#+4,,AUTO
         3 006405   200535 236100                    LDQ     CHIP#+3,,AUTO
         3 006406   200536 036100                    ADLQ    CHIP#+4,,AUTO
         3 006407   200537 756100                    STQ     CHIP#+5,,AUTO
         3 006410   000005 236100                    LDQ     5,,PR0
         3 006411   777777 376007                    ANQ     -1,DL
         3 006412   200540 756100                    STQ     CHIP#+6,,AUTO
         3 006413   200537 236100                    LDQ     CHIP#+5,,AUTO
         3 006414   200540 036100                    ADLQ    CHIP#+6,,AUTO
         3 006415   200414 756100                    STQ     TEMPBUF+1,,AUTO

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:277  
     1279     4559    3                         + EURC_STATS.CARDS_PUNCHED(1)
     1280     4560    3                         + EURC_STATS.CARDS_PUNCHED(2)
     1281     4561    3                         + EURC_STATS.CARDS_PUNCHED(3);
     1282     4562    3              TEMPBUF(2) = EURC_STATS.LINES_PRINTED(0)

   4562  3 006416   000030 236100                    LDQ     24,,PR0
         3 006417   777777 376007                    ANQ     -1,DL
         3 006420   200534 756100                    STQ     CHIP#+2,,AUTO
         3 006421   000030 236100                    LDQ     24,,PR0
         3 006422   000022 772000                    QRL     18
         3 006423   200534 036100                    ADLQ    CHIP#+2,,AUTO
         3 006424   200535 756100                    STQ     CHIP#+3,,AUTO
         3 006425   000031 236100                    LDQ     25,,PR0
         3 006426   000022 772000                    QRL     18
         3 006427   200536 756100                    STQ     CHIP#+4,,AUTO
         3 006430   200535 236100                    LDQ     CHIP#+3,,AUTO
         3 006431   200536 036100                    ADLQ    CHIP#+4,,AUTO
         3 006432   200537 756100                    STQ     CHIP#+5,,AUTO
         3 006433   000031 236100                    LDQ     25,,PR0
         3 006434   777777 376007                    ANQ     -1,DL
         3 006435   200540 756100                    STQ     CHIP#+6,,AUTO
         3 006436   200537 236100                    LDQ     CHIP#+5,,AUTO
         3 006437   200540 036100                    ADLQ    CHIP#+6,,AUTO
         3 006440   200415 756100                    STQ     TEMPBUF+2,,AUTO

     1283     4563    3                         + EURC_STATS.LINES_PRINTED(1)
     1284     4564    3                         + EURC_STATS.LINES_PRINTED(2)
     1285     4565    3                         + EURC_STATS.LINES_PRINTED(3);
     1286     4566    3              TEMPBUF(3) = EURC_STATS.PAGES_PRINTED(0)

   4566  3 006441   000034 236100                    LDQ     28,,PR0
         3 006442   777777 376007                    ANQ     -1,DL
         3 006443   200534 756100                    STQ     CHIP#+2,,AUTO
         3 006444   000034 236100                    LDQ     28,,PR0
         3 006445   000022 772000                    QRL     18
         3 006446   200534 036100                    ADLQ    CHIP#+2,,AUTO
         3 006447   200535 756100                    STQ     CHIP#+3,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:278  
         3 006450   000035 236100                    LDQ     29,,PR0
         3 006451   000022 772000                    QRL     18
         3 006452   200536 756100                    STQ     CHIP#+4,,AUTO
         3 006453   200535 236100                    LDQ     CHIP#+3,,AUTO
         3 006454   200536 036100                    ADLQ    CHIP#+4,,AUTO
         3 006455   200537 756100                    STQ     CHIP#+5,,AUTO
         3 006456   000035 236100                    LDQ     29,,PR0
         3 006457   777777 376007                    ANQ     -1,DL
         3 006460   200540 756100                    STQ     CHIP#+6,,AUTO
         3 006461   200537 236100                    LDQ     CHIP#+5,,AUTO
         3 006462   200540 036100                    ADLQ    CHIP#+6,,AUTO
         3 006463   200416 756100                    STQ     TEMPBUF+3,,AUTO

     1287     4567    3                         + EURC_STATS.PAGES_PRINTED(1)
     1288     4568    3                         + EURC_STATS.PAGES_PRINTED(2)
     1289     4569    3                         + EURC_STATS.PAGES_PRINTED(3);
     1290     4570    3              TEMPBUF(4) = EURC_STATS.WORD_TRANSFERS(0)

   4570  3 006464   000024 236100                    LDQ     20,,PR0
         3 006465   000025 036100                    ADLQ    21,,PR0
         3 006466   000026 036100                    ADLQ    22,,PR0
         3 006467   000027 036100                    ADLQ    23,,PR0
         3 006470   200417 756100                    STQ     TEMPBUF+4,,AUTO

     1291     4571    3                         + EURC_STATS.WORD_TRANSFERS(1)
     1292     4572    3                         + EURC_STATS.WORD_TRANSFERS(2)
     1293     4573    3                         + EURC_STATS.WORD_TRANSFERS(3);
     1294     4574    3              TEMPBUF(5) = EURC_STATS.RECEIVER_ERRS(0)

   4574  3 006471   000000 236100                    LDQ     0,,PR0
         3 006472   777777 376007                    ANQ     -1,DL
         3 006473   200534 756100                    STQ     CHIP#+2,,AUTO
         3 006474   000000 236100                    LDQ     0,,PR0
         3 006475   000022 772000                    QRL     18
         3 006476   200534 036100                    ADLQ    CHIP#+2,,AUTO
         3 006477   200535 756100                    STQ     CHIP#+3,,AUTO
         3 006500   000001 236100                    LDQ     1,,PR0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:279  
         3 006501   000022 772000                    QRL     18
         3 006502   200536 756100                    STQ     CHIP#+4,,AUTO
         3 006503   200535 236100                    LDQ     CHIP#+3,,AUTO
         3 006504   200536 036100                    ADLQ    CHIP#+4,,AUTO
         3 006505   200537 756100                    STQ     CHIP#+5,,AUTO
         3 006506   000001 236100                    LDQ     1,,PR0
         3 006507   777777 376007                    ANQ     -1,DL
         3 006510   200540 756100                    STQ     CHIP#+6,,AUTO
         3 006511   200537 236100                    LDQ     CHIP#+5,,AUTO
         3 006512   200540 036100                    ADLQ    CHIP#+6,,AUTO
         3 006513   200541 756100                    STQ     CHIP#+7,,AUTO
         3 006514   000002 236100                    LDQ     2,,PR0
         3 006515   000022 772000                    QRL     18
         3 006516   200542 756100                    STQ     CHIP#+8,,AUTO
         3 006517   200541 236100                    LDQ     CHIP#+7,,AUTO
         3 006520   200542 036100                    ADLQ    CHIP#+8,,AUTO
         3 006521   200543 756100                    STQ     CHIP#+9,,AUTO
         3 006522   000002 236100                    LDQ     2,,PR0
         3 006523   777777 376007                    ANQ     -1,DL
         3 006524   200544 756100                    STQ     CHIP#+10,,AUTO
         3 006525   200543 236100                    LDQ     CHIP#+9,,AUTO
         3 006526   200544 036100                    ADLQ    CHIP#+10,,AUTO
         3 006527   200545 756100                    STQ     CHIP#+11,,AUTO
         3 006530   000003 236100                    LDQ     3,,PR0
         3 006531   000022 772000                    QRL     18
         3 006532   200546 756100                    STQ     CHIP#+12,,AUTO
         3 006533   200545 236100                    LDQ     CHIP#+11,,AUTO
         3 006534   200546 036100                    ADLQ    CHIP#+12,,AUTO
         3 006535   200547 756100                    STQ     CHIP#+13,,AUTO
         3 006536   000003 236100                    LDQ     3,,PR0
         3 006537   777777 376007                    ANQ     -1,DL
         3 006540   200550 756100                    STQ     CHIP#+14,,AUTO
         3 006541   200547 236100                    LDQ     CHIP#+13,,AUTO
         3 006542   200550 036100                    ADLQ    CHIP#+14,,AUTO
         3 006543   200420 756100                    STQ     TEMPBUF+5,,AUTO
         3 006544   007070 710000 3                  TRA     s:4630

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:280  
     1295     4575    3                         + EURC_STATS.RECEIVER_ERRS(1)
     1296     4576    3                         + EURC_STATS.RECEIVER_ERRS(2)
     1297     4577    3                         + EURC_STATS.RECEIVER_ERRS(3)
     1298     4578    3                         + EURC_STATS.TRANSMITTER_ERRS(0)
     1299     4579    3                         + EURC_STATS.TRANSMITTER_ERRS(1)
     1300     4580    3                         + EURC_STATS.TRANSMITTER_ERRS(2)
     1301     4581    3                         + EURC_STATS.TRANSMITTER_ERRS(3);
     1302     4582    3            CASE (%TH_DIAG);

     1303     4583    4               DO CASE (EL$DIAG.TEST);

   4583  3 006545   200005 470500                    LDP0    INFO+1,,AUTO
         3 006546   000010 235100                    LDA     8,,PR0
         3 006547   000010 115007                    CMPA    8,DL
         3 006550   006552 602005 3                  TNC     s:4583+5,AL
         3 006551   006712 710000 3                  TRA     s:4601
         3 006552   006677 710000 3                  TRA     s:4599
         3 006553   006562 710000 3                  TRA     s:4585
         3 006554   006575 710000 3                  TRA     s:4587
         3 006555   006610 710000 3                  TRA     s:4589
         3 006556   006623 710000 3                  TRA     s:4591
         3 006557   006636 710000 3                  TRA     s:4593
         3 006560   006651 710000 3                  TRA     s:4595
         3 006561   006664 710000 3                  TRA     s:4597

     1304     4584    4                 CASE (%TD_TEST_POLTS);

     1305     4585    4                   CALL THF$ADD_TEXTC (TEXT$,'POLTS         ',14);

   4585  3 006562   000017 236000 4                  LDQ     15
         3 006563   200536 756100                    STQ     CHIP#+4,,AUTO
         3 006564   000313 236000 4                  LDQ     203
         3 006565   200535 756100                    STQ     CHIP#+3,,AUTO
         3 006566   200210 631500                    EPPR1   TEXT$,,AUTO
         3 006567   200534 451500                    STP1    CHIP#+2,,AUTO
         3 006570   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 006571   000021 631400 xsym               EPPR1   B_VECTNIL+17
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:281  
         3 006572   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 006573   000000 011000                    NOP     0
         3 006574   007070 710000 3                  TRA     s:4630

     1306     4586    4                 CASE (%TD_TEST_ITR);

     1307     4587    4                   CALL THF$ADD_TEXTC (TEXT$,'ITR           ',14);

   4587  3 006575   000017 236000 4                  LDQ     15
         3 006576   200536 756100                    STQ     CHIP#+4,,AUTO
         3 006577   000314 236000 4                  LDQ     204
         3 006600   200535 756100                    STQ     CHIP#+3,,AUTO
         3 006601   200210 631500                    EPPR1   TEXT$,,AUTO
         3 006602   200534 451500                    STP1    CHIP#+2,,AUTO
         3 006603   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 006604   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 006605   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 006606   000000 011000                    NOP     0
         3 006607   007070 710000 3                  TRA     s:4630

     1308     4588    4                 CASE (%TD_TEST_MDR);

     1309     4589    4                   CALL THF$ADD_TEXTC (TEXT$,'MDR           ',14);

   4589  3 006610   000017 236000 4                  LDQ     15
         3 006611   200536 756100                    STQ     CHIP#+4,,AUTO
         3 006612   000315 236000 4                  LDQ     205
         3 006613   200535 756100                    STQ     CHIP#+3,,AUTO
         3 006614   200210 631500                    EPPR1   TEXT$,,AUTO
         3 006615   200534 451500                    STP1    CHIP#+2,,AUTO
         3 006616   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 006617   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 006620   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 006621   000000 011000                    NOP     0
         3 006622   007070 710000 3                  TRA     s:4630

     1310     4590    4                 CASE (%TD_TEST_MTAR);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:282  

     1311     4591    4                   CALL THF$ADD_TEXTC (TEXT$,'MTAR          ',14);

   4591  3 006623   000017 236000 4                  LDQ     15
         3 006624   200536 756100                    STQ     CHIP#+4,,AUTO
         3 006625   000316 236000 4                  LDQ     206
         3 006626   200535 756100                    STQ     CHIP#+3,,AUTO
         3 006627   200210 631500                    EPPR1   TEXT$,,AUTO
         3 006630   200534 451500                    STP1    CHIP#+2,,AUTO
         3 006631   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 006632   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 006633   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 006634   000000 011000                    NOP     0
         3 006635   007070 710000 3                  TRA     s:4630

     1312     4592    4                 CASE (%TD_TEST_FEP);

     1313     4593    4                   CALL THF$ADD_TEXTC (TEXT$,'FEP           ',14);

   4593  3 006636   000017 236000 4                  LDQ     15
         3 006637   200536 756100                    STQ     CHIP#+4,,AUTO
         3 006640   000317 236000 4                  LDQ     207
         3 006641   200535 756100                    STQ     CHIP#+3,,AUTO
         3 006642   200210 631500                    EPPR1   TEXT$,,AUTO
         3 006643   200534 451500                    STP1    CHIP#+2,,AUTO
         3 006644   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 006645   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 006646   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 006647   000000 011000                    NOP     0
         3 006650   007070 710000 3                  TRA     s:4630

     1314     4594    4                 CASE(%TD_TEST_MPC);

     1315     4595    4                   CALL THF$ADD_TEXTC (TEXT$,'CTRLR PRE-OPEN',14);

   4595  3 006651   000017 236000 4                  LDQ     15
         3 006652   200536 756100                    STQ     CHIP#+4,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:283  
         3 006653   000320 236000 4                  LDQ     208
         3 006654   200535 756100                    STQ     CHIP#+3,,AUTO
         3 006655   200210 631500                    EPPR1   TEXT$,,AUTO
         3 006656   200534 451500                    STP1    CHIP#+2,,AUTO
         3 006657   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 006660   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 006661   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 006662   000000 011000                    NOP     0
         3 006663   007070 710000 3                  TRA     s:4630

     1316     4596    4                 CASE(%TD_TEST_MCA);

     1317     4597    4                   CALL THF$ADD_TEXTC (TEXT$,'MCA           ',14);

   4597  3 006664   000017 236000 4                  LDQ     15
         3 006665   200536 756100                    STQ     CHIP#+4,,AUTO
         3 006666   000321 236000 4                  LDQ     209
         3 006667   200535 756100                    STQ     CHIP#+3,,AUTO
         3 006670   200210 631500                    EPPR1   TEXT$,,AUTO
         3 006671   200534 451500                    STP1    CHIP#+2,,AUTO
         3 006672   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 006673   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 006674   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 006675   000000 011000                    NOP     0
         3 006676   007070 710000 3                  TRA     s:4630

     1318     4598    4                 CASE(%TD_TEST_DEVICE);

     1319     4599    4                   CALL THF$ADD_TEXTC (TEXT$,'DEV PRE-OPEN  ',14);

   4599  3 006677   000017 236000 4                  LDQ     15
         3 006700   200536 756100                    STQ     CHIP#+4,,AUTO
         3 006701   000322 236000 4                  LDQ     210
         3 006702   200535 756100                    STQ     CHIP#+3,,AUTO
         3 006703   200210 631500                    EPPR1   TEXT$,,AUTO
         3 006704   200534 451500                    STP1    CHIP#+2,,AUTO
         3 006705   200534 630500                    EPPR0   CHIP#+2,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:284  
         3 006706   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 006707   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 006710   000000 011000                    NOP     0
         3 006711   007070 710000 3                  TRA     s:4630

     1320     4600    4                 CASE (ELSE);

     1321     4601    4                   CALL THF$ADD_TEXTC (TEXT$,' *** ',5);

   4601  3 006712   000023 236000 4                  LDQ     19
         3 006713   200536 756100                    STQ     CHIP#+4,,AUTO
         3 006714   000323 236000 4                  LDQ     211
         3 006715   200535 756100                    STQ     CHIP#+3,,AUTO
         3 006716   200210 631500                    EPPR1   TEXT$,,AUTO
         3 006717   200534 451500                    STP1    CHIP#+2,,AUTO
         3 006720   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 006721   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 006722   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 006723   000000 011000                    NOP     0

     1322     4602    4               END;

   4602  3 006724   007070 710000 3                  TRA     s:4630

     1323     4603    3            CASE ( %TH_CHNGAARD ) ;

     1324     4604    4               IF EL$CHNGAARD.OLD THEN DO ;

   4604  3 006725   200005 470500                    LDP0    INFO+1,,AUTO
         3 006726   000000 234100                    SZN     0,,PR0
         3 006727   006770 605000 3                  TPL     s:4612

     1325     4605    4                  CALL BINCHAR ( TEMP1, EL$CHNGAARD.OLDIOM ) ;

   4605  3 006730   000000 236100                    LDQ     0,,PR0
         3 006731   000031 772000                    QRL     25
         3 006732   000003 376007                    ANQ     3,DL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:285  
         3 006733   000000 235003                    LDA     0,DU
         3 006734   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 006735   000100 301500                    BTD
         3 006736   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 006737   200037 030077                    NDSC9   TEMP1,,AUTO              cn=0,s=nosgn,sf=0,n=63

     1326     4606    4                  CALL INSERT ( TEMP2, 0, 2, SUBSTR(TEMP1,LENGTHC(TEMP1)-1,1), '-' ) ;

   4606  3 006740   200056 236100                    LDQ     TEMP1+15,,AUTO
         3 006741   000022 736000                    QLS     18
         3 006742   200057 552140                    STBQ    TEMP2,'40'O,AUTO
         3 006743   000055 236003                    LDQ     45,DU
         3 006744   200057 552120                    STBQ    TEMP2,'20'O,AUTO

     1327     4607    4                  CALL BINCHAR ( TEMP1, EL$CHNGAARD.OLDCHAN ) ;

   4607  3 006745   200005 470500                    LDP0    INFO+1,,AUTO
         3 006746   000000 236100                    LDQ     0,,PR0
         3 006747   000022 772000                    QRL     18
         3 006750   000177 376007                    ANQ     127,DL
         3 006751   000000 235003                    LDA     0,DU
         3 006752   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 006753   000100 301500                    BTD
         3 006754   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 006755   200037 030077                    NDSC9   TEMP1,,AUTO              cn=0,s=nosgn,sf=0,n=63

     1328     4608    4                  CALL INSERT ( TEMP2, 2, 3, SUBSTR(TEMP1,LENGTHC(TEMP1)-3,3) ) ;

   4608  3 006756   040100 100500                    MLR     fill='040'O
         3 006757   200056 000003                    ADSC9   TEMP1+15,,AUTO           cn=0,n=3
         3 006760   200057 400003                    ADSC9   TEMP2,,AUTO              cn=2,n=3

     1329     4609    4                  CALL ADD_TEXTC ( TEMP2, 5 ) ;

   4609  3 006761   000023 236000 4                  LDQ     19
         3 006762   200530 756100                    STQ     @CHIP+1,,AUTO
         3 006763   200057 631500                    EPPR1   TEMP2,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:286  
         3 006764   200527 451500                    STP1    @BOARD+1,,AUTO
         3 006765   010552 701000 3                  TSX1    ADD_TEXTC
         3 006766   000000 011000                    NOP     0

     1330     4610    4                  END ;

   4610  3 006767   006776 710000 3                  TRA     s:4614

     1331     4611    3               ELSE
     1332     4612    3                  CALL ADD_TEXTC ( '     ', 5 ) ;

   4612  3 006770   000023 236000 4                  LDQ     19
         3 006771   200530 756100                    STQ     @CHIP+1,,AUTO
         3 006772   000324 236000 4                  LDQ     212
         3 006773   200527 756100                    STQ     @BOARD+1,,AUTO
         3 006774   010552 701000 3                  TSX1    ADD_TEXTC
         3 006775   000000 011000                    NOP     0

     1333     4613
     1334     4614    4               IF EL$CHNGAARD.NEW THEN DO ;

   4614  3 006776   200005 470500                    LDP0    INFO+1,,AUTO
         3 006777   000000 236100                    LDQ     0,,PR0
         3 007000   200000 316003                    CANQ    65536,DU
         3 007001   007041 600000 3                  TZE     s:4622

     1335     4615    4                  CALL BINCHAR ( TEMP1, EL$CHNGAARD.NEWIOM ) ;

   4615  3 007002   000000 236100                    LDQ     0,,PR0
         3 007003   000007 772000                    QRL     7
         3 007004   000003 376007                    ANQ     3,DL
         3 007005   000000 235003                    LDA     0,DU
         3 007006   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 007007   000100 301500                    BTD
         3 007010   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 007011   200037 030077                    NDSC9   TEMP1,,AUTO              cn=0,s=nosgn,sf=0,n=63

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:287  
     1336     4616    4                  CALL INSERT ( TEMP2, 0, 2, SUBSTR(TEMP1,LENGTHC(TEMP1)-1,1), '-' ) ;

   4616  3 007012   200056 236100                    LDQ     TEMP1+15,,AUTO
         3 007013   000022 736000                    QLS     18
         3 007014   200057 552140                    STBQ    TEMP2,'40'O,AUTO
         3 007015   000055 236003                    LDQ     45,DU
         3 007016   200057 552120                    STBQ    TEMP2,'20'O,AUTO

     1337     4617    4                  CALL BINCHAR ( TEMP1, EL$CHNGAARD.NEWCHAN ) ;

   4617  3 007017   200005 470500                    LDP0    INFO+1,,AUTO
         3 007020   000000 236100                    LDQ     0,,PR0
         3 007021   000177 376007                    ANQ     127,DL
         3 007022   000000 235003                    LDA     0,DU
         3 007023   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 007024   000100 301500                    BTD
         3 007025   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 007026   200037 030077                    NDSC9   TEMP1,,AUTO              cn=0,s=nosgn,sf=0,n=63

     1338     4618    4                  CALL INSERT ( TEMP2, 2, 3, SUBSTR(TEMP1,LENGTHC(TEMP1)-3,3) ) ;

   4618  3 007027   040100 100500                    MLR     fill='040'O
         3 007030   200056 000003                    ADSC9   TEMP1+15,,AUTO           cn=0,n=3
         3 007031   200057 400003                    ADSC9   TEMP2,,AUTO              cn=2,n=3

     1339     4619    4                  CALL ADD_TEXTC ( TEMP2, 5 ) ;

   4619  3 007032   000023 236000 4                  LDQ     19
         3 007033   200530 756100                    STQ     @CHIP+1,,AUTO
         3 007034   200057 631500                    EPPR1   TEMP2,,AUTO
         3 007035   200527 451500                    STP1    @BOARD+1,,AUTO
         3 007036   010552 701000 3                  TSX1    ADD_TEXTC
         3 007037   000000 011000                    NOP     0

     1340     4620    4                  END ;

   4620  3 007040   007047 710000 3                  TRA     s:4624
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:288  

     1341     4621    3               ELSE
     1342     4622    3                  CALL ADD_TEXTC ( '     ', 5 ) ;

   4622  3 007041   000023 236000 4                  LDQ     19
         3 007042   200530 756100                    STQ     @CHIP+1,,AUTO
         3 007043   000324 236000 4                  LDQ     212
         3 007044   200527 756100                    STQ     @BOARD+1,,AUTO
         3 007045   010552 701000 3                  TSX1    ADD_TEXTC
         3 007046   000000 011000                    NOP     0

     1343     4623
     1344     4624    3               IF EL$CHNGAARD.ERR THEN

   4624  3 007047   200005 470500                    LDP0    INFO+1,,AUTO
         3 007050   000000 236100                    LDQ     0,,PR0
         3 007051   100000 316003                    CANQ    32768,DU
         3 007052   007062 600000 3                  TZE     s:4627

     1345     4625    3                  CALL ADD_TEXTC ( 'DP#CP-6''S error.  Do Tape Boot ASAP.', 36 ) ;

   4625  3 007053   000326 236000 4                  LDQ     214
         3 007054   200530 756100                    STQ     @CHIP+1,,AUTO
         3 007055   000327 236000 4                  LDQ     215
         3 007056   200527 756100                    STQ     @BOARD+1,,AUTO
         3 007057   010552 701000 3                  TSX1    ADD_TEXTC
         3 007060   000000 011000                    NOP     0
         3 007061   007070 710000 3                  TRA     s:4630

     1346     4626    3               ELSE
     1347     4627    3                  CALL ADD_TEXTC ( '     ', 5 ) ;

   4627  3 007062   000023 236000 4                  LDQ     19
         3 007063   200530 756100                    STQ     @CHIP+1,,AUTO
         3 007064   000324 236000 4                  LDQ     212
         3 007065   200527 756100                    STQ     @BOARD+1,,AUTO
         3 007066   010552 701000 3                  TSX1    ADD_TEXTC
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:289  
         3 007067   000000 011000                    NOP     0

     1348     4628
     1349     4629    3        END;                               /*  DO CASE TH_ITYPE                  */

     1350     4630    2        IF TH_ITYPE = %TH_MPCSTAT

   4630  3 007070   000000 235000 xsym               LDA     TH_ITYPE
         3 007071   000013 115007                    CMPA    11,DL
         3 007072   007101 600000 3                  TZE     s:4634
         3 007073   000016 115007                    CMPA    14,DL
         3 007074   007101 600000 3                  TZE     s:4634
         3 007075   000043 115007                    CMPA    35,DL
         3 007076   007101 600000 3                  TZE     s:4634
         3 007077   000044 115007                    CMPA    36,DL
         3 007100   007107 601000 3                  TNZ     s:4635

     1351     4631    2           OR TH_ITYPE = %TH_DEVSTATS
     1352     4632    2           OR TH_ITYPE = %TH_DEVSTATS_DISK
     1353     4633    2           OR TH_ITYPE = %TH_DEVSTATS_MDS
     1354     4634    2           THEN TVEC = VECTOR(TEMPBUF);

   4634  3 007101   000330 235000 4                  LDA     216
         3 007102   200534 452500                    STP2    CHIP#+2,,AUTO
         3 007103   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 007104   000413 036003                    ADLQ    267,DU
         3 007105   200206 757100                    STAQ    TVEC,,AUTO
         3 007106   007141 710000 3                  TRA     s:4642

     1355     4635    2        ELSE IF TEXT$ = ADDR(TEXTBUF)

   4635  3 007107   200534 452500                    STP2    CHIP#+2,,AUTO
         3 007110   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 007111   000106 036003                    ADLQ    70,DU
         3 007112   200210 116100                    CMPQ    TEXT$,,AUTO
         3 007113   007117 601000 3                  TNZ     s:4639

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:290  
     1356     4636    2           THEN TVEC = VECTOR(NIL);

   4636  3 007114   000332 237000 4                  LDAQ    218
         3 007115   200206 757100                    STAQ    TVEC,,AUTO
         3 007116   007141 710000 3                  TRA     s:4642

     1357     4637    2           ELSE                            /* TEXT HAS BEEN PUT INTO TBUF        */
     1358     4638    3           DO;

     1359     4639    3              TVEC = VECTOR(TEXTBUF);

   4639  3 007117   000306 235000 4                  LDA     198
         3 007120   200534 452500                    STP2    CHIP#+2,,AUTO
         3 007121   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 007122   000106 036003                    ADLQ    70,DU
         3 007123   200206 757100                    STAQ    TVEC,,AUTO

     1360     4640    3              TVEC.BOUND = POFFC(TEXT$,ADDR(TEXTBUF)) - 1;

   4640  3 007124   200534 452500                    STP2    CHIP#+2,,AUTO
         3 007125   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 007126   000106 036003                    ADLQ    70,DU
         3 007127   000020 772000                    QRL     16
         3 007130   200535 756100                    STQ     CHIP#+3,,AUTO
         3 007131   200210 236100                    LDQ     TEXT$,,AUTO
         3 007132   000020 772000                    QRL     16
         3 007133   200535 136100                    SBLQ    CHIP#+3,,AUTO
         3 007134   000001 136007                    SBLQ    1,DL
         3 007135   000020 736000                    QLS     16
         3 007136   200206 676100                    ERQ     TVEC,,AUTO
         3 007137   000034 376000 xsym               ANQ     B_VECTNIL+28
         3 007140   200206 656100                    ERSQ    TVEC,,AUTO

     1361     4641    3           END;

     1362     4642    2     IF MM$ = ADDR(MMBUF)

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:291  
   4642  3 007141   000012 236000 4                  LDQ     10
         3 007142   200370 116100                    CMPQ    MM$,,AUTO
         3 007143   007147 601000 3                  TNZ     s:4646

     1363     4643    2       THEN MMVEC = VECTOR(NIL);

   4643  3 007144   000332 237000 4                  LDAQ    218
         3 007145   200372 757100                    STAQ    MMVEC,,AUTO
         3 007146   007164 710000 3                  TRA     s:4649

     1364     4644    2   ELSE
     1365     4645    3       DO;

     1366     4646    3      MMVEC = VECTOR(MMBUF);

   4646  3 007147   000306 237000 4                  LDAQ    198
         3 007150   200372 757100                    STAQ    MMVEC,,AUTO

     1367     4647    3      MMVEC.BOUND = POFFC(MM$,ADDR(MMBUF)) - 1;

   4647  3 007151   000012 236000 4                  LDQ     10
         3 007152   000020 772000                    QRL     16
         3 007153   200534 756100                    STQ     CHIP#+2,,AUTO
         3 007154   200370 236100                    LDQ     MM$,,AUTO
         3 007155   000020 772000                    QRL     16
         3 007156   200534 136100                    SBLQ    CHIP#+2,,AUTO
         3 007157   000001 136007                    SBLQ    1,DL
         3 007160   000020 736000                    QLS     16
         3 007161   200372 676100                    ERQ     MMVEC,,AUTO
         3 007162   000034 376000 xsym               ANQ     B_VECTNIL+28
         3 007163   200372 656100                    ERSQ    MMVEC,,AUTO

     1368     4648    3   END;

     1369     4649    3   IF TH_ITYPE = %TH_IOERR OR TH_ITYPE = %TH_FI THEN DO;

   4649  3 007164   000000 235000 xsym               LDA     TH_ITYPE
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:292  
         3 007165   000022 115007                    CMPA    18,DL
         3 007166   007171 600000 3                  TZE     s:4650
         3 007167   000031 115007                    CMPA    25,DL
         3 007170   007307 601000 3                  TNZ     s:4666

     1370     4650    4      IF MODEL_CHAR = 'MTU' AND NOT TH_DETAIL_FLG THEN DO;

   4650  3 007171   200220 236100                    LDQ     MODEL_CHAR,,AUTO
         3 007172   001617 676000 1                  ERQ     BOARD_64K+464
         3 007173   000134 376000 4                  ANQ     92
         3 007174   007247 601000 3                  TNZ     s:4658
         3 007175   000000 234000 xsym               SZN     TH_DETAIL_FLG
         3 007176   007247 604000 3                  TMI     s:4658

     1371     4651    4        SEEK_ADDR = ' ';

   4651  3 007177   000035 235000 xsym               LDA     B_VECTNIL+29
         3 007200   000035 236000 xsym               LDQ     B_VECTNIL+29
         3 007201   200425 755100                    STA     SEEK_ADDR,,AUTO
         3 007202   200426 756100                    STQ     SEEK_ADDR+1,,AUTO

     1372     4652    4        CALL THF$ADD_TEXTC(SEC$,SEEK_ADDR,8);

   4652  3 007203   000025 236000 4                  LDQ     21
         3 007204   200536 756100                    STQ     CHIP#+4,,AUTO
         3 007205   200425 630500                    EPPR0   SEEK_ADDR,,AUTO
         3 007206   200535 450500                    STP0    CHIP#+3,,AUTO
         3 007207   200411 631500                    EPPR1   SEC$,,AUTO
         3 007210   200534 451500                    STP1    CHIP#+2,,AUTO
         3 007211   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 007212   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 007213   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 007214   000000 011000                    NOP     0

     1373     4653    4        CALL BINCHAR(MT_POSITION.FILE, EL$IOERR.TAPEPOS.FILECNT);

   4653  3 007215   200005 470500                    LDP0    INFO+1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:293  
         3 007216   000023 236100                    LDQ     19,,PR0
         3 007217   777777 376007                    ANQ     -1,DL
         3 007220   000000 235003                    LDA     0,DU
         3 007221   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 007222   000000 301500                    BTD
         3 007223   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 007224   003132 030004 2                  NDSC9   MT_POSITION              cn=0,s=nosgn,sf=0,n=4

     1374     4654    4        CALL BINCHAR(MT_POSITION.RECCNT, EL$IOERR.TAPEPOS.CURECNT);

   4654  3 007225   000023 236100                    LDQ     19,,PR0
         3 007226   000022 772000                    QRL     18
         3 007227   000000 235003                    LDA     0,DU
         3 007230   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 007231   000000 301500                    BTD
         3 007232   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 007233   003133 230006 2                  NDSC9   MT_POSITION+1            cn=1,s=nosgn,sf=0,n=6

     1375     4655    4        CALL THF$ADD_TEXTC(SEC$, MT_POSITION, 11);

   4655  3 007234   000171 236000 4                  LDQ     121
         3 007235   200536 756100                    STQ     CHIP#+4,,AUTO
         3 007236   000331 236000 4                  LDQ     217
         3 007237   200535 756100                    STQ     CHIP#+3,,AUTO
         3 007240   200411 631500                    EPPR1   SEC$,,AUTO
         3 007241   200534 451500                    STP1    CHIP#+2,,AUTO
         3 007242   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 007243   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 007244   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 007245   000000 011000                    NOP     0

     1376     4656    4      END;

   4656  3 007246   007307 710000 3                  TRA     s:4666

     1377     4657    4      ELSE DO;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:294  
     1378     4658    4        CALL BINCHAR(SEEK_ADDR, SECTOR);

   4658  3 007247   000100 301500                    BTD
         3 007250   200374 000004                    NDSC9   SECTOR,,AUTO             cn=0,s=lsgnf,sf=0,n=4
         3 007251   200425 030010                    NDSC9   SEEK_ADDR,,AUTO          cn=0,s=nosgn,sf=0,n=8

     1379     4659    4        CALL THF$ADD_TEXTC(SEC$, SEEK_ADDR, 8);

   4659  3 007252   000025 236000 4                  LDQ     21
         3 007253   200536 756100                    STQ     CHIP#+4,,AUTO
         3 007254   200425 630500                    EPPR0   SEEK_ADDR,,AUTO
         3 007255   200535 450500                    STP0    CHIP#+3,,AUTO
         3 007256   200411 631500                    EPPR1   SEC$,,AUTO
         3 007257   200534 451500                    STP1    CHIP#+2,,AUTO
         3 007260   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 007261   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 007262   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 007263   000000 011000                    NOP     0

     1380     4660    4        CALL BINCHAR(DP_POSITION.CYL, CYL);

   4660  3 007264   000000 301500                    BTD
         3 007265   200375 000004                    NDSC9   CYL,,AUTO                cn=0,s=lsgnf,sf=0,n=4
         3 007266   003135 030004 2                  NDSC9   DP_POSITION              cn=0,s=nosgn,sf=0,n=4

     1381     4661    4        CALL BINCHAR(DP_POSITION.HD, HD);

   4661  3 007267   000000 301500                    BTD
         3 007270   200376 000004                    NDSC9   HD,,AUTO                 cn=0,s=lsgnf,sf=0,n=4
         3 007271   003136 230002 2                  NDSC9   DP_POSITION+1            cn=1,s=nosgn,sf=0,n=2

     1382     4662    4        CALL BINCHAR(DP_POSITION.SEC, SE);

   4662  3 007272   000000 301500                    BTD
         3 007273   200377 000004                    NDSC9   SE,,AUTO                 cn=0,s=lsgnf,sf=0,n=4
         3 007274   003137 030002 2                  NDSC9   DP_POSITION+2            cn=0,s=nosgn,sf=0,n=2

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:295  
     1383     4663    4        CALL THF$ADD_TEXTC(SEC$, DP_POSITION, 10);

   4663  3 007275   000027 236000 4                  LDQ     23
         3 007276   200536 756100                    STQ     CHIP#+4,,AUTO
         3 007277   000334 236000 4                  LDQ     220
         3 007300   200535 756100                    STQ     CHIP#+3,,AUTO
         3 007301   200411 630500                    EPPR0   SEC$,,AUTO
         3 007302   200534 450500                    STP0    CHIP#+2,,AUTO
         3 007303   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 007304   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 007305   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 007306   000000 011000                    NOP     0

     1384     4664    4      END;

     1385     4665    3   END;

     1386     4666    2        SECVEC = VECTOR(SECBUF);

   4666  3 007307   000336 237000 4                  LDAQ    222
         3 007310   200430 757100                    STAQ    SECVEC,,AUTO

     1387     4667    2        SECVEC.BOUND = POFFC(SEC$,ADDR(SECBUF)) - 1;

   4667  3 007311   000013 236000 4                  LDQ     11
         3 007312   000020 772000                    QRL     16
         3 007313   200534 756100                    STQ     CHIP#+2,,AUTO
         3 007314   200411 236100                    LDQ     SEC$,,AUTO
         3 007315   000020 772000                    QRL     16
         3 007316   200534 136100                    SBLQ    CHIP#+2,,AUTO
         3 007317   000001 136007                    SBLQ    1,DL
         3 007320   000020 736000                    QLS     16
         3 007321   200430 676100                    ERQ     SECVEC,,AUTO
         3 007322   000034 376000 xsym               ANQ     B_VECTNIL+28
         3 007323   200430 656100                    ERSQ    SECVEC,,AUTO

     1388     4668    2        IF (RECORD.TYPE ~= TH_LASTTYPE) AND
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:296  

   4668  3 007324   000001 470400 xsym               LDP0    TH_RECORD+1
         3 007325   000000 236100                    LDQ     0,,PR0
         3 007326   000033 772000                    QRL     27
         3 007327   000000 116000 xsym               CMPQ    TH_LASTTYPE
         3 007330   007403 600000 3                  TZE     s:4675
         3 007331   000033 736000                    QLS     27
         3 007332   462000 116003                    CMPQ    -105472,DU
         3 007333   007336 600000 3                  TZE     s:4668+10
         3 007334   463000 116003                    CMPQ    -104960,DU
         3 007335   007341 601000 3                  TNZ     s:4668+13
         3 007336   000000 235000 xsym               LDA     TH_LASTTYPE
         3 007337   000455 115007                    CMPA    301,DL
         3 007340   007403 600000 3                  TZE     s:4675
         3 007341   147000 116003                    CMPQ    52736,DU
         3 007342   007346 601000 3                  TNZ     s:4672
         3 007343   000000 235000 xsym               LDA     TH_LASTTYPE
         3 007344   000146 115007                    CMPA    102,DL
         3 007345   007403 600000 3                  TZE     s:4675

     1389     4669    2           NOT ((RECORD.TYPE = EL_SUA OR RECORD.TYPE = EL_SNAP) AND TH_LASTTYPE =
              4669                    EL_SCREECH)
     1390     4670    2           AND NOT(RECORD.TYPE = EL_DSMT AND TH_LASTTYPE = EL_MOUNT)
     1391     4671    2           THEN
     1392     4672    3           DO I = 1 TO CTL.NHDR;

   4672  3 007346   000001 235007                    LDA     1,DL
         3 007347   200010 755100                    STA     I,,AUTO
         3 007350   007375 710000 3                  TRA     s:4674+1

     1393     4673    3            CALL THW$WRITE(CTL.FMT(I),VECTOR(TH_TIME),INFO,TVEC,SECVEC,MMVEC);

   4673  3 007351   200372 630500                    EPPR0   MMVEC,,AUTO
         3 007352   200541 450500                    STP0    CHIP#+7,,AUTO
         3 007353   200430 631500                    EPPR1   SECVEC,,AUTO
         3 007354   200540 451500                    STP1    CHIP#+6,,AUTO
         3 007355   200206 633500                    EPPR3   TVEC,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:297  
         3 007356   200537 453500                    STP3    CHIP#+5,,AUTO
         3 007357   200004 634500                    EPPR4   INFO,,AUTO
         3 007360   200536 454500                    STP4    CHIP#+4,,AUTO
         3 007361   000342 236000 4                  LDQ     226
         3 007362   200535 756100                    STQ     CHIP#+3,,AUTO
         3 007363   200010 236100                    LDQ     I,,AUTO
         3 007364   000023 736000                    QLS     19
         3 007365   000002 036003                    ADLQ    2,DU
         3 007366   200211 036100                    ADLQ    CTL$,,AUTO
         3 007367   200534 756100                    STQ     CHIP#+2,,AUTO
         3 007370   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 007371   000024 631400 xsym               EPPR1   B_VECTNIL+20
         3 007372   000000 701000 xent               TSX1    THW$WRITE
         3 007373   000000 011000                    NOP     0

     1394     4674    3           END;

   4674  3 007374   200010 054100                    AOS     I,,AUTO
         3 007375   200211 470500                    LDP0    CTL$,,AUTO
         3 007376   000000 236100                    LDQ     0,,PR0
         3 007377   000033 772000                    QRL     27
         3 007400   200010 116100                    CMPQ    I,,AUTO
         3 007401   007351 605000 3                  TPL     s:4673
         3 007402   007451 710000 3                  TRA     s:4681

     1395     4675    2        ELSE IF RECORD.TYPE = EL_DEVSTAT

   4675  3 007403   000000 236100                    LDQ     0,,PR0
         3 007404   777000 376003                    ANQ     -512,DU
         3 007405   164000 116003                    CMPQ    59392,DU
         3 007406   007451 601000 3                  TNZ     s:4681
         3 007407   000000 234000 xsym               SZN     TH_RAW_FLG
         3 007410   007451 605000 3                  TPL     s:4681
         3 007411   000000 220000 xsym               LDX0    TH_LAST_DEVTYPE
         3 007412   200005 471500                    LDP1    INFO+1,,AUTO
         3 007413   100000 100100                    CMPX0   0,,PR1
         3 007414   007451 600000 3                  TZE     s:4681
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:298  

     1396     4676    2                AND TH_RAW_FLG
     1397     4677    2                AND (TH_LAST_DEVTYPE ~= SUBSTR(EL$DEVSTATS.DEVNM,0,2))
     1398     4678    3                THEN DO I = 2 TO CTL.NHDR;

   4678  3 007415   000002 235007                    LDA     2,DL
         3 007416   200010 755100                    STA     I,,AUTO
         3 007417   007444 710000 3                  TRA     s:4680+1

     1399     4679    3                  CALL THW$WRITE(CTL.FMT(I),VECTOR(TH_TIME),INFO,TVEC,SECVEC,MMVEC);

   4679  3 007420   200372 630500                    EPPR0   MMVEC,,AUTO
         3 007421   200541 450500                    STP0    CHIP#+7,,AUTO
         3 007422   200430 631500                    EPPR1   SECVEC,,AUTO
         3 007423   200540 451500                    STP1    CHIP#+6,,AUTO
         3 007424   200206 633500                    EPPR3   TVEC,,AUTO
         3 007425   200537 453500                    STP3    CHIP#+5,,AUTO
         3 007426   200004 634500                    EPPR4   INFO,,AUTO
         3 007427   200536 454500                    STP4    CHIP#+4,,AUTO
         3 007430   000342 236000 4                  LDQ     226
         3 007431   200535 756100                    STQ     CHIP#+3,,AUTO
         3 007432   200010 236100                    LDQ     I,,AUTO
         3 007433   000023 736000                    QLS     19
         3 007434   000002 036003                    ADLQ    2,DU
         3 007435   200211 036100                    ADLQ    CTL$,,AUTO
         3 007436   200534 756100                    STQ     CHIP#+2,,AUTO
         3 007437   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 007440   000024 631400 xsym               EPPR1   B_VECTNIL+20
         3 007441   000000 701000 xent               TSX1    THW$WRITE
         3 007442   000000 011000                    NOP     0

     1400     4680    3                END;

   4680  3 007443   200010 054100                    AOS     I,,AUTO
         3 007444   200211 470500                    LDP0    CTL$,,AUTO
         3 007445   000000 236100                    LDQ     0,,PR0
         3 007446   000033 772000                    QRL     27
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:299  
         3 007447   200010 116100                    CMPQ    I,,AUTO
         3 007450   007420 605000 3                  TPL     s:4679

     1401     4681    2        IF RECORD.TYPE = EL_DEVSTAT THEN

   4681  3 007451   000001 470400 xsym               LDP0    TH_RECORD+1
         3 007452   000000 236100                    LDQ     0,,PR0
         3 007453   777000 376003                    ANQ     -512,DU
         3 007454   164000 116003                    CMPQ    59392,DU
         3 007455   007461 601000 3                  TNZ     s:4683

     1402     4682    2           TH_LAST_DEVTYPE = SUBSTR(EL$DEVSTATS.DEVNM,0,2);

   4682  3 007456   200005 471500                    LDP1    INFO+1,,AUTO
         3 007457   100000 220100                    LDX0    0,,PR1
         3 007460   000000 740000 xsym               STX0    TH_LAST_DEVTYPE

     1403     4683    2        IF CTL.HDRFLG THEN TH_LASTTYPE = RECORD.TYPE;

   4683  3 007461   200211 471500                    LDP1    CTL$,,AUTO
         3 007462   100000 236100                    LDQ     0,,PR1
         3 007463   400000 316007                    CANQ    -131072,DL
         3 007464   007471 600000 3                  TZE     s:4684

   4683  3 007465   000000 236100                    LDQ     0,,PR0
         3 007466   000033 772000                    QRL     27
         3 007467   000000 756000 xsym               STQ     TH_LASTTYPE
         3 007470   007473 710000 3                  TRA     s:4685

     1404     4684    2                      ELSE TH_LASTTYPE = -1;

   4684  3 007471   000001 335007                    LCA     1,DL
         3 007472   000000 755000 xsym               STA     TH_LASTTYPE

     1405     4685    2        IF TH_LASTTYPE = EL_SNAP OR TH_LASTTYPE = EL_SUA

   4685  3 007473   000000 235000 xsym               LDA     TH_LASTTYPE
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:300  
         3 007474   000463 115007                    CMPA    307,DL
         3 007475   007500 600000 3                  TZE     s:4686
         3 007476   000462 115007                    CMPA    306,DL
         3 007477   007502 601000 3                  TNZ     s:4687

     1406     4686    2           THEN TH_LASTTYPE = EL_SCREECH;

   4686  3 007500   000455 236007                    LDQ     301,DL
         3 007501   000000 756000 xsym               STQ     TH_LASTTYPE

     1407     4687    2        IF TH_LASTTYPE = EL_DSMT

   4687  3 007502   000000 235000 xsym               LDA     TH_LASTTYPE
         3 007503   000147 115007                    CMPA    103,DL
         3 007504   007507 601000 3                  TNZ     s:4689

     1408     4688    2           THEN TH_LASTTYPE = EL_MOUNT;

   4688  3 007505   000146 236007                    LDQ     102,DL
         3 007506   000000 756000 xsym               STQ     TH_LASTTYPE

     1409     4689    3        DO I = CTL.NHDR + 1 TO CTL.NFMT + CTL.NHDR;

   4689  3 007507   100000 236100                    LDQ     0,,PR1
         3 007510   000033 772000                    QRL     27
         3 007511   000001 036007                    ADLQ    1,DL
         3 007512   200010 756100                    STQ     I,,AUTO
         3 007513   007554 710000 3                  TRA     s:4695+1

     1410     4690    3        IF (TH_ITYPE = %TH_MOUNT OR TH_ITYPE = %TH_DSMT) AND

   4690  3 007514   000000 235000 xsym               LDA     TH_ITYPE
         3 007515   000002 115007                    CMPA    2,DL
         3 007516   007521 600000 3                  TZE     s:4690+5
         3 007517   000003 115007                    CMPA    3,DL
         3 007520   007530 601000 3                  TNZ     s:4694
         3 007521   000016 234000 xsym               SZN     TH_CONSTRAINTS+14
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:301  
         3 007522   007530 605000 3                  TPL     s:4694
         3 007523   200005 470500                    LDP0    INFO+1,,AUTO
         3 007524   040100 106400                    CMPC    fill='040'O
         3 007525   000014 400006 xsym               ADSC9   TH_CONSTRAINTS+12        cn=2,n=6
         3 007526   000001 000006                    ADSC9   1,,PR0                   cn=0,n=6
         3 007527   007553 601000 3                  TNZ     s:4695

     1411     4691    3        (  TH_CONSTRAINTS.M_MED_S AND TH_CONSTRAINTS.M_MED ~= EL$MTDMT.VOLUME)
     1412     4692    3            THEN;
     1413     4693    3            ELSE
     1414     4694    3            CALL THW$WRITE(CTL.FMT(I),VECTOR(TH_TIME),INFO,TVEC,SECVEC,MMVEC);

   4694  3 007530   200372 630500                    EPPR0   MMVEC,,AUTO
         3 007531   200541 450500                    STP0    CHIP#+7,,AUTO
         3 007532   200430 631500                    EPPR1   SECVEC,,AUTO
         3 007533   200540 451500                    STP1    CHIP#+6,,AUTO
         3 007534   200206 633500                    EPPR3   TVEC,,AUTO
         3 007535   200537 453500                    STP3    CHIP#+5,,AUTO
         3 007536   200004 634500                    EPPR4   INFO,,AUTO
         3 007537   200536 454500                    STP4    CHIP#+4,,AUTO
         3 007540   000342 236000 4                  LDQ     226
         3 007541   200535 756100                    STQ     CHIP#+3,,AUTO
         3 007542   200010 236100                    LDQ     I,,AUTO
         3 007543   000023 736000                    QLS     19
         3 007544   000002 036003                    ADLQ    2,DU
         3 007545   200211 036100                    ADLQ    CTL$,,AUTO
         3 007546   200534 756100                    STQ     CHIP#+2,,AUTO
         3 007547   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 007550   000024 631400 xsym               EPPR1   B_VECTNIL+20
         3 007551   000000 701000 xent               TSX1    THW$WRITE
         3 007552   000000 011000                    NOP     0

     1415     4695    3        END;

   4695  3 007553   200010 054100                    AOS     I,,AUTO
         3 007554   200211 470500                    LDP0    CTL$,,AUTO
         3 007555   000000 236100                    LDQ     0,,PR0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:302  
         3 007556   000033 772000                    QRL     27
         3 007557   200534 756100                    STQ     CHIP#+2,,AUTO
         3 007560   000000 236100                    LDQ     0,,PR0
         3 007561   000022 772000                    QRL     18
         3 007562   000777 376007                    ANQ     511,DL
         3 007563   200534 036100                    ADLQ    CHIP#+2,,AUTO
         3 007564   007514 604000 3                  TMI     s:4690
         3 007565   200010 116100                    CMPQ    I,,AUTO
         3 007566   007514 605000 3                  TPL     s:4690

     1416     4696    3        IF CTL.SPECIAL THEN DO CASE(TH_ITYPE);

   4696  3 007567   000000 236100                    LDQ     0,,PR0
         3 007570   200000 316007                    CANQ    65536,DL
         3 007571   010513 600000 3                  TZE     s:4833

   4696  3 007572   000000 235000 xsym               LDA     TH_ITYPE
         3 007573   000022 135007                    SBLA    18,DL
         3 007574   000016 115007                    CMPA    14,DL
         3 007575   007577 602005 3                  TNC     s:4696+8,AL
         3 007576   010513 710000 3                  TRA     s:4833
         3 007577   007615 710000 3                  TRA     s:4698
         3 007600   010513 710000 3                  TRA     s:4833
         3 007601   007736 710000 3                  TRA     s:4720
         3 007602   010012 710000 3                  TRA     s:4732
         3 007603   010513 710000 3                  TRA     s:4833
         3 007604   010513 710000 3                  TRA     s:4833
         3 007605   010513 710000 3                  TRA     s:4833
         3 007606   010513 710000 3                  TRA     s:4833
         3 007607   010513 710000 3                  TRA     s:4833
         3 007610   010513 710000 3                  TRA     s:4833
         3 007611   010513 710000 3                  TRA     s:4833
         3 007612   010513 710000 3                  TRA     s:4833
         3 007613   010513 710000 3                  TRA     s:4833
         3 007614   007764 710000 3                  TRA     s:4726

     1417     4697    3          CASE (%TH_IOERR);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:303  

     1418     4698    3           IF (NXST > 0) AND (EL$IOERR.MODEL = 'MSU8082' OR EL$IOERR.MODEL = 'MSU8092'
              4698                     )

   4698  3 007615   200343 235100                    LDA     NXST,,AUTO
         3 007616   007660 600000 3                  TZE     s:4706
         3 007617   200005 471500                    LDP1    INFO+1,,AUTO
         3 007620   040000 106500                    CMPC    fill='040'O
         3 007621   100030 000010                    ADSC9   24,,PR1                  cn=0,n=8
         3 007622   001666 000007 1                  ADSC9   BOARD_64K+503            cn=0,n=7
         3 007623   007630 600000 3                  TZE     s:4700
         3 007624   040000 106500                    CMPC    fill='040'O
         3 007625   100030 000010                    ADSC9   24,,PR1                  cn=0,n=8
         3 007626   001670 000007 1                  ADSC9   BOARD_64K+505            cn=0,n=7
         3 007627   007660 601000 3                  TNZ     s:4706

     1419     4699    4              THEN DO;

     1420     4700    4                 N = NXST;

   4700  3 007630   200344 755100                    STA     N,,AUTO

     1421     4701    4                 ADDR(XSTBUF) -> XST_TEMP.N = N;

   4701  3 007631   000071 755000 2                  STA     XSTBUF

     1422     4702    4                 XSTVEC = VECTOR(XSTBUF);

   4702  3 007632   000344 237000 4                  LDAQ    228
         3 007633   200302 757100                    STAQ    XSTVEC,,AUTO

     1423     4703    4                 XSTVEC.BOUND = POFFC(XST$, ADDR(XSTBUF)) - 1;

   4703  3 007634   000310 236000 4                  LDQ     200
         3 007635   000020 772000                    QRL     16
         3 007636   200534 756100                    STQ     CHIP#+2,,AUTO
         3 007637   200300 236100                    LDQ     XST$,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:304  
         3 007640   000020 772000                    QRL     16
         3 007641   200534 136100                    SBLQ    CHIP#+2,,AUTO
         3 007642   000001 136007                    SBLQ    1,DL
         3 007643   000020 736000                    QLS     16
         3 007644   200302 676100                    ERQ     XSTVEC,,AUTO
         3 007645   000034 376000 xsym               ANQ     B_VECTNIL+28
         3 007646   200302 656100                    ERSQ    XSTVEC,,AUTO

     1424     4704    4                 CALL THW$WRITE(VECTOR(MDSFMT), XSTVEC);

   4704  3 007647   200302 633500                    EPPR3   XSTVEC,,AUTO
         3 007650   200535 453500                    STP3    CHIP#+3,,AUTO
         3 007651   000350 236000 4                  LDQ     232
         3 007652   200534 756100                    STQ     CHIP#+2,,AUTO
         3 007653   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 007654   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 007655   000000 701000 xent               TSX1    THW$WRITE
         3 007656   000000 011000                    NOP     0

     1425     4705    4                 END;

   4705  3 007657   010513 710000 3                  TRA     s:4833

     1426     4706    3            ELSE IF NXST > 0

   4706  3 007660   000000 115003                    CMPA    0,DU
         3 007661   010513 600000 3                  TZE     s:4833

     1427     4707    4              THEN DO;

     1428     4708    4                 N = NXST / 2;

   4708  3 007662   200343 236100                    LDQ     NXST,,AUTO
         3 007663   000001 772000                    QRL     1
         3 007664   200344 756100                    STQ     N,,AUTO

     1429     4709    4                 ADDR(XSTBUF) -> XST_TEMP.N = N;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:305  

   4709  3 007665   000071 756000 2                  STQ     XSTBUF

     1430     4710    4                 IF MOD(NXST,2) = 0

   4710  3 007666   200343 236100                    LDQ     NXST,,AUTO
         3 007667   000001 376007                    ANQ     1,DL
         3 007670   007673 601000 3                  TNZ     s:4712

     1431     4711    4                      THEN ODDFLAG = '0'B;

   4711  3 007671   200345 450100                    STZ     ODDFLAG,,AUTO
         3 007672   007675 710000 3                  TRA     s:4713

     1432     4712    4                      ELSE ODDFLAG = '1'B;

   4712  3 007673   400000 236003                    LDQ     -131072,DU
         3 007674   200345 756100                    STQ     ODDFLAG,,AUTO

     1433     4713    4                 XSTVEC = VECTOR(XSTBUF);

   4713  3 007675   000344 237000 4                  LDAQ    228
         3 007676   200302 757100                    STAQ    XSTVEC,,AUTO

     1434     4714    4                 XSTVEC.BOUND = POFFC(XST$,ADDR(XSTBUF)) - 1;

   4714  3 007677   000310 236000 4                  LDQ     200
         3 007700   000020 772000                    QRL     16
         3 007701   200534 756100                    STQ     CHIP#+2,,AUTO
         3 007702   200300 236100                    LDQ     XST$,,AUTO
         3 007703   000020 772000                    QRL     16
         3 007704   200534 136100                    SBLQ    CHIP#+2,,AUTO
         3 007705   000001 136007                    SBLQ    1,DL
         3 007706   000020 736000                    QLS     16
         3 007707   200302 676100                    ERQ     XSTVEC,,AUTO
         3 007710   000034 376000 xsym               ANQ     B_VECTNIL+28
         3 007711   200302 656100                    ERSQ    XSTVEC,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:306  

     1435     4715    4                 IF ODDFLAG

   4715  3 007712   200345 234100                    SZN     ODDFLAG,,AUTO
         3 007713   007725 605000 3                  TPL     s:4717

     1436     4716    4                      THEN CALL THW$WRITE(VECTOR(ODDFMT),XSTVEC);

   4716  3 007714   200302 631500                    EPPR1   XSTVEC,,AUTO
         3 007715   200535 451500                    STP1    CHIP#+3,,AUTO
         3 007716   000354 236000 4                  LDQ     236
         3 007717   200534 756100                    STQ     CHIP#+2,,AUTO
         3 007720   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 007721   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 007722   000000 701000 xent               TSX1    THW$WRITE
         3 007723   000000 011000                    NOP     0
         3 007724   010513 710000 3                  TRA     s:4833

     1437     4717    4                      ELSE CALL THW$WRITE(VECTOR(EVENFMT),XSTVEC);

   4717  3 007725   200302 631500                    EPPR1   XSTVEC,,AUTO
         3 007726   200535 451500                    STP1    CHIP#+3,,AUTO
         3 007727   000360 236000 4                  LDQ     240
         3 007730   200534 756100                    STQ     CHIP#+2,,AUTO
         3 007731   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 007732   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 007733   000000 701000 xent               TSX1    THW$WRITE
         3 007734   000000 011000                    NOP     0

     1438     4718    4                 END;

   4718  3 007735   010513 710000 3                  TRA     s:4833

     1439     4719    3           CASE(%TH_FEPERR);

     1440     4720    4              IF NUMBYTES > 0 THEN DO;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:307  
   4720  3 007736   200103 235100                    LDA     NUMBYTES,,AUTO
         3 007737   010513 600000 3                  TZE     s:4833

     1441     4721    4                 CALL THW$WRITE(VECTOR(DYMFMT));

   4721  3 007740   000364 630400 4                  EPPR0   244
         3 007741   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 007742   000000 701000 xent               TSX1    THW$WRITE
         3 007743   000000 011000                    NOP     0

     1442     4722    4                 NUMWORDS = (NUMBYTES+3)/4;

   4722  3 007744   200103 236100                    LDQ     NUMBYTES,,AUTO
         3 007745   000003 036007                    ADLQ    3,DL
         3 007746   000002 772000                    QRL     2
         3 007747   200104 756100                    STQ     NUMWORDS,,AUTO

     1443     4723    4                 CALL THF$HEXDUMP(ADDR(EL$FEPERR.X),NUMWORDS);

   4723  3 007750   200005 236100                    LDQ     INFO+1,,AUTO
         3 007751   000011 036003                    ADLQ    9,DU
         3 007752   200534 756100                    STQ     CHIP#+2,,AUTO
         3 007753   200104 630500                    EPPR0   NUMWORDS,,AUTO
         3 007754   200537 450500                    STP0    CHIP#+5,,AUTO
         3 007755   200534 631500                    EPPR1   CHIP#+2,,AUTO
         3 007756   200536 451500                    STP1    CHIP#+4,,AUTO
         3 007757   200536 630500                    EPPR0   CHIP#+4,,AUTO
         3 007760   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 007761   000000 701000 xent               TSX1    THF$HEXDUMP
         3 007762   000000 011000                    NOP     0

     1444     4724    4                 END;  /* IF NUMBYTES > 0 */

   4724  3 007763   010513 710000 3                  TRA     s:4833

     1445     4725    3           CASE(%TH_CGERR);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:308  
     1446     4726    4              IF EL$CGERR.SIZ > 0 THEN DO;

   4726  3 007764   200005 471500                    LDP1    INFO+1,,AUTO
         3 007765   100015 235100                    LDA     13,,PR1
         3 007766   010513 600000 3                  TZE     s:4833

     1447     4727    4                 TH_LASTTYPE = -1;

   4727  3 007767   000001 335007                    LCA     1,DL
         3 007770   000000 755000 xsym               STA     TH_LASTTYPE

     1448     4728    4                 CALL THW$WRITE(VECTOR(INFOFMT));

   4728  3 007771   000370 630400 4                  EPPR0   248
         3 007772   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 007773   000000 701000 xent               TSX1    THW$WRITE
         3 007774   000000 011000                    NOP     0

     1449     4729    4                 CALL THF$DUMP(ADDR(EL$CGERR.INFO),EL$CGERR.SIZ);

   4729  3 007775   200005 236100                    LDQ     INFO+1,,AUTO
         3 007776   000016 036003                    ADLQ    14,DU
         3 007777   200534 756100                    STQ     CHIP#+2,,AUTO
         3 010000   200005 236100                    LDQ     INFO+1,,AUTO
         3 010001   000015 036003                    ADLQ    13,DU
         3 010002   200537 756100                    STQ     CHIP#+5,,AUTO
         3 010003   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 010004   200536 450500                    STP0    CHIP#+4,,AUTO
         3 010005   200536 630500                    EPPR0   CHIP#+4,,AUTO
         3 010006   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 010007   000000 701000 xent               TSX1    THF$DUMP
         3 010010   000000 011000                    NOP     0

     1450     4730    4                 END;  /* IF EL$CGERR.SIZ > 0 */

   4730  3 010011   010513 710000 3                  TRA     s:4833

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:309  
     1451     4731    3           CASE(%TH_PROCERR);

     1452     4732    3              FCBUF = ' ';

   4732  3 010012   040000 100400                    MLR     fill='040'O
         3 010013   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 010014   003140 000454 2                  ADSC9   FCBUF                    cn=0,n=300

     1453     4733    3              FC$ = ADDR(FCBUF);

   4733  3 010015   000371 236000 4                  LDQ     249
         3 010016   200432 756100                    STQ     FC$,,AUTO

     1454     4734    3              I = 0;

   4734  3 010017   200010 450100                    STZ     I,,AUTO

     1455     4735    3              IF EL$PROCERR.FC > 21

   4735  3 010020   200005 471500                    LDP1    INFO+1,,AUTO
         3 010021   100005 236100                    LDQ     5,,PR1
         3 010022   000037 376007                    ANQ     31,DL
         3 010023   000026 116007                    CMPQ    22,DL
         3 010024   010040 602000 3                  TNC     s:4738

     1456     4736    3                 THEN CALL THF$ADD_TEXTC(FC$,'***',3);

   4736  3 010025   000100 236000 4                  LDQ     64
         3 010026   200536 756100                    STQ     CHIP#+4,,AUTO
         3 010027   000305 236000 4                  LDQ     197
         3 010030   200535 756100                    STQ     CHIP#+3,,AUTO
         3 010031   200432 633500                    EPPR3   FC$,,AUTO
         3 010032   200534 453500                    STP3    CHIP#+2,,AUTO
         3 010033   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 010034   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 010035   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 010036   000000 011000                    NOP     0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:310  
         3 010037   010064 710000 3                  TRA     s:4743

     1457     4737    4                 ELSE DO;

     1458     4738    4                      I = EL$PROCERR.FC;

   4738  3 010040   200010 756100                    STQ     I,,AUTO

     1459     4739    4                      FC_TEXT = FC.TEXT(I);

   4739  3 010041   000044 402007                    MPY     36,DL
         3 010042   040100 100406                    MLR     fill='040'O
         3 010043   000000 200041 xsym               ADSC9   FC,Q                     cn=1,n=33
         3 010044   200436 000045                    ADSC9   FC_TEXT,,AUTO            cn=0,n=37

     1460     4740    4                      FC_CNT = FC.COUNT(I);

   4740  3 010045   200010 236100                    LDQ     I,,AUTO
         3 010046   000011 402007                    MPY     9,DL
         3 010047   000000 236006 xsym               LDQ     FC,QL
         3 010050   000033 772000                    QRL     27
         3 010051   200450 756100                    STQ     FC_CNT,,AUTO

     1461     4741    4                      CALL THF$ADD_TEXTC(FC$,FC_TEXT,FC_CNT);

   4741  3 010052   200450 633500                    EPPR3   FC_CNT,,AUTO
         3 010053   200536 453500                    STP3    CHIP#+4,,AUTO
         3 010054   200436 634500                    EPPR4   FC_TEXT,,AUTO
         3 010055   200535 454500                    STP4    CHIP#+3,,AUTO
         3 010056   200432 635500                    EPPR5   FC$,,AUTO
         3 010057   200534 455500                    STP5    CHIP#+2,,AUTO
         3 010060   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 010061   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 010062   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 010063   000000 011000                    NOP     0

     1462     4742    4                      END;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:311  

     1463     4743    3              FCVEC = VECTOR(FCBUF);

   4743  3 010064   000372 237000 4                  LDAQ    250
         3 010065   200434 757100                    STAQ    FCVEC,,AUTO

     1464     4744    3              FCVEC.BOUND = POFFC(FC$,ADDR(FCBUF)) - 1;

   4744  3 010066   000371 236000 4                  LDQ     249
         3 010067   000020 772000                    QRL     16
         3 010070   200534 756100                    STQ     CHIP#+2,,AUTO
         3 010071   200432 236100                    LDQ     FC$,,AUTO
         3 010072   000020 772000                    QRL     16
         3 010073   200534 136100                    SBLQ    CHIP#+2,,AUTO
         3 010074   000001 136007                    SBLQ    1,DL
         3 010075   000020 736000                    QLS     16
         3 010076   200434 676100                    ERQ     FCVEC,,AUTO
         3 010077   000034 376000 xsym               ANQ     B_VECTNIL+28
         3 010100   200434 656100                    ERSQ    FCVEC,,AUTO

     1465     4745    3              CALL THW$WRITE(VECTOR(FCFMT),FCVEC);

   4745  3 010101   200434 630500                    EPPR0   FCVEC,,AUTO
         3 010102   200535 450500                    STP0    CHIP#+3,,AUTO
         3 010103   000376 236000 4                  LDQ     254
         3 010104   200534 756100                    STQ     CHIP#+2,,AUTO
         3 010105   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 010106   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 010107   000000 701000 xent               TSX1    THW$WRITE
         3 010110   000000 011000                    NOP     0

     1466     4746    3              FCBUF = ' ';

   4746  3 010111   040000 100400                    MLR     fill='040'O
         3 010112   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 010113   003140 000454 2                  ADSC9   FCBUF                    cn=0,n=300

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:312  
     1467     4747    3              FC$ = ADDR(FCBUF);

   4747  3 010114   000371 236000 4                  LDQ     249
         3 010115   200432 756100                    STQ     FC$,,AUTO

     1468     4748    3              CALL THF$ADD_TEXTC(FC$,'   ',3);

   4748  3 010116   000100 236000 4                  LDQ     64
         3 010117   200536 756100                    STQ     CHIP#+4,,AUTO
         3 010120   000304 236000 4                  LDQ     196
         3 010121   200535 756100                    STQ     CHIP#+3,,AUTO
         3 010122   200432 630500                    EPPR0   FC$,,AUTO
         3 010123   200534 450500                    STP0    CHIP#+2,,AUTO
         3 010124   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 010125   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 010126   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 010127   000000 011000                    NOP     0

     1469     4749    3              I = 0;

   4749  3 010130   200010 450100                    STZ     I,,AUTO

     1470     4750    3              N = 0;

   4750  3 010131   200344 450100                    STZ     N,,AUTO

     1471     4751    3              FCFLAG = 0;

   4751  3 010132   200456 450100                    STZ     FCFLAG,,AUTO

     1472     4752    3              IF EL$PROCERR.PROCTYPE = %L66  OR

   4752  3 010133   200005 470500                    LDP0    INFO+1,,AUTO
         3 010134   000005 236100                    LDQ     5,,PR0
         3 010135   000740 316007                    CANQ    480,DL
         3 010136   010145 600000 3                  TZE     s:4756
         3 010137   000005 236100                    LDQ     5,,PR0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:313  
         3 010140   000740 376007                    ANQ     480,DL
         3 010141   000040 116007                    CMPQ    32,DL
         3 010142   010145 600000 3                  TZE     s:4756
         3 010143   000100 116007                    CMPQ    64,DL
         3 010144   010370 601000 3                  TNZ     s:4802

     1473     4753    3                 EL$PROCERR.PROCTYPE = %DPSE OR
     1474     4754    3                 EL$PROCERR.PROCTYPE = %ELS1
     1475     4755    4                  THEN DO;

     1476     4756    4                      I = EL$PROCERR.PROCTYPE;

   4756  3 010145   000005 236100                    LDQ     5,,PR0
         3 010146   000005 772000                    QRL     5
         3 010147   000017 376007                    ANQ     15,DL
         3 010150   200010 756100                    STQ     I,,AUTO

     1477     4757    4                      FCPTR$ = FLTREG_TYPE.SUB$(I);

   4757  3 010151   200010 235100                    LDA     I,,AUTO
         3 010152   000001 735000                    ALS     1
         3 010153   000000 236005 xsym               LDQ     FLTREG_TYPE,AL
         3 010154   200451 756100                    STQ     FCPTR$,,AUTO

     1478     4758    4                      J = FLTREG_TYPE.COUNT(I);

   4758  3 010155   000001 236005 xsym               LDQ     FLTREG_TYPE+1,AL
         3 010156   000033 772000                    QRL     27
         3 010157   200100 756100                    STQ     J,,AUTO

     1479     4759    4                      FLT_REG = EL$PROCERR.FLTREG;

   4759  3 010160   000100 100500                    MLR     fill='000'O
         3 010161   000002 000010                    ADSC9   2,,PR0                   cn=0,n=8
         3 010162   200452 000010                    ADSC9   FLT_REG,,AUTO            cn=0,n=8

     1480     4760    5                      DO I = 0 TO J;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:314  

   4760  3 010163   200010 450100                    STZ     I,,AUTO
         3 010164   010364 710000 3                  TRA     s:4800+1

     1481     4761    5                         IF FCTBL.CODE(I) > 16 AND FCFLAG = 0

   4761  3 010165   200010 236100                    LDQ     I,,AUTO
         3 010166   000012 402007                    MPY     10,DL
         3 010167   200451 470500                    LDP0    FCPTR$,,AUTO
         3 010170   000000 236106                    LDQ     0,QL,PR0
         3 010171   777000 376003                    ANQ     -512,DU
         3 010172   021000 116003                    CMPQ    8704,DU
         3 010173   010322 602000 3                  TNC     s:4793
         3 010174   200456 235100                    LDA     FCFLAG,,AUTO
         3 010175   010322 601000 3                  TNZ     s:4793

     1482     4762    6                           THEN DO;

     1483     4763    6                                IF EL$PROCERR.PROCTYPE = %ELS1

   4763  3 010176   200005 471500                    LDP1    INFO+1,,AUTO
         3 010177   100005 236100                    LDQ     5,,PR1
         3 010200   000740 376007                    ANQ     480,DL
         3 010201   000100 116007                    CMPQ    64,DL
         3 010202   010206 601000 3                  TNZ     s:4765

     1484     4764    6                                  THEN JJ = 5;

   4764  3 010203   000005 235007                    LDA     5,DL
         3 010204   200455 755100                    STA     JJ,,AUTO
         3 010205   010210 710000 3                  TRA     s:4766

     1485     4765    6                                  ELSE JJ = 7;

   4765  3 010206   000007 235007                    LDA     7,DL
         3 010207   200455 755100                    STA     JJ,,AUTO

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:315  
     1486     4766    7                                DO II = 4 TO JJ;

   4766  3 010210   000004 235007                    LDA     4,DL
         3 010211   200454 755100                    STA     II,,AUTO
         3 010212   010317 710000 3                  TRA     s:4791+3

     1487     4767    7                                   BIT_CNT = BITBIN(FLT_REG_TT(II));

   4767  3 010213   200454 235100                    LDA     II,,AUTO
         3 010214   000002 735000                    ALS     2
         3 010215   003100 061505                    CSR     bolr='003'O
         3 010216   200452 000004                    BDSC    FLT_REG,A,AUTO           by=0,bit=0,n=4
         3 010217   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 010220   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 010221   200457 756100                    STQ     BIT_CNT,,AUTO

     1488     4768    7                                   IF BIT_CNT = 0

   4768  3 010222   010312 600000 3                  TZE     NON_CODE

     1489     4769    7                                   THEN GOTO NON_CODE;
     1490     4770    8                                   ELSE DO;

     1491     4771    9                                   DO CASE(II);

   4771  3 010223   200454 235100                    LDA     II,,AUTO
         3 010224   000004 135007                    SBLA    4,DL
         3 010225   000004 115007                    CMPA    4,DL
         3 010226   010230 602005 3                  TNC     s:4771+5,AL
         3 010227   010253 710000 3                  TRA     s:4781
         3 010230   010234 710000 3                  TRA     s:4773
         3 010231   010240 710000 3                  TRA     s:4775
         3 010232   010244 710000 3                  TRA     s:4777
         3 010233   010250 710000 3                  TRA     s:4779

     1492     4772    9                                      CASE(4);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:316  
     1493     4773    9                                       CALL INSERT(FC_TEXT,0,7,'PORT A ');

   4773  3 010234   040100 100400                    MLR     fill='040'O
         3 010235   001762 000007 1                  ADSC9   BOARD_64K+563            cn=0,n=7
         3 010236   200436 000007                    ADSC9   FC_TEXT,,AUTO            cn=0,n=7
         3 010237   010253 710000 3                  TRA     s:4781

     1494     4774    9                                      CASE(5);

     1495     4775    9                                       CALL INSERT(FC_TEXT,0,7,'PORT B ');

   4775  3 010240   040100 100400                    MLR     fill='040'O
         3 010241   001764 000007 1                  ADSC9   BOARD_64K+565            cn=0,n=7
         3 010242   200436 000007                    ADSC9   FC_TEXT,,AUTO            cn=0,n=7
         3 010243   010253 710000 3                  TRA     s:4781

     1496     4776    9                                      CASE(6);

     1497     4777    9                                       CALL INSERT(FC_TEXT,0,7,'PORT C ');

   4777  3 010244   040100 100400                    MLR     fill='040'O
         3 010245   001766 000007 1                  ADSC9   BOARD_64K+567            cn=0,n=7
         3 010246   200436 000007                    ADSC9   FC_TEXT,,AUTO            cn=0,n=7
         3 010247   010253 710000 3                  TRA     s:4781

     1498     4778    9                                      CASE(7);

     1499     4779    9                                       CALL INSERT(FC_TEXT,0,7,'PORT D ');

   4779  3 010250   040100 100400                    MLR     fill='040'O
         3 010251   001770 000007 1                  ADSC9   BOARD_64K+569            cn=0,n=7
         3 010252   200436 000007                    ADSC9   FC_TEXT,,AUTO            cn=0,n=7

     1500     4780    9                                   END;  /* do case */

     1501     4781    8                                   FC_CNT = 7;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:317  
   4781  3 010253   000007 235007                    LDA     7,DL
         3 010254   200450 755100                    STA     FC_CNT,,AUTO

     1502     4782    8                                    CALL INSERT(FC_TEXT,FC_CNT,

   4782  3 010255   000012 402007                    MPY     10,DL
         3 010256   000000 236006 xsym               LDQ     ILL_CODE,QL
         3 010257   000033 772000                    QRL     27
         3 010260   000000 620006                    EAX0    0,QL
         3 010261   200457 236100                    LDQ     BIT_CNT,,AUTO
         3 010262   000050 402007                    MPY     40,DL
         3 010263   200450 235100                    LDA     FC_CNT,,AUTO
         3 010264   040145 100406                    MLR     fill='040'O
         3 010265   000000 200045 xsym               ADSC9   ILL_CODE,Q               cn=1,n=37
         3 010266   200436 000010                    ADSC9   FC_TEXT,A,AUTO           cn=0,n=*X0

     1503     4783    8                                                ILL_CODE.COUNT(BIT_CNT),
     1504     4784    8                                                ILL_CODE.TEXT(BIT_CNT));
     1505     4785    8                                    FC_CNT = FC_CNT+ILL_CODE.COUNT(BIT_CNT);

   4785  3 010267   200457 236100                    LDQ     BIT_CNT,,AUTO
         3 010270   000012 402007                    MPY     10,DL
         3 010271   000000 236006 xsym               LDQ     ILL_CODE,QL
         3 010272   000033 772000                    QRL     27
         3 010273   200450 036100                    ADLQ    FC_CNT,,AUTO
         3 010274   200450 756100                    STQ     FC_CNT,,AUTO

     1506     4786    8                                    CALL THF$ADD_TEXTC(FC$,FC_TEXT,FC_CNT);

   4786  3 010275   200450 630500                    EPPR0   FC_CNT,,AUTO
         3 010276   200536 450500                    STP0    CHIP#+4,,AUTO
         3 010277   200436 631500                    EPPR1   FC_TEXT,,AUTO
         3 010300   200535 451500                    STP1    CHIP#+3,,AUTO
         3 010301   200432 633500                    EPPR3   FC$,,AUTO
         3 010302   200534 453500                    STP3    CHIP#+2,,AUTO
         3 010303   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 010304   000021 631400 xsym               EPPR1   B_VECTNIL+17
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:318  
         3 010305   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 010306   000000 011000                    NOP     0

     1507     4787    8                                    N = N + 1;

   4787  3 010307   200344 235100                    LDA     N,,AUTO
         3 010310   000001 035007                    ADLA    1,DL
         3 010311   200344 755100                    STA     N,,AUTO

     1508     4788    8                                   END;  /* else do */

     1509     4789    7                NON_CODE:
     1510     4790    7                                    FCFLAG = 1;

   4790  3 010312   000001 235007       NON_CODE     LDA     1,DL
         3 010313   200456 755100                    STA     FCFLAG,,AUTO

     1511     4791    7                                 END;        /*  OF DO II = ... */

   4791  3 010314   200454 236100                    LDQ     II,,AUTO
         3 010315   000001 036007                    ADLQ    1,DL
         3 010316   200454 756100                    STQ     II,,AUTO
         3 010317   200455 236100                    LDQ     JJ,,AUTO
         3 010320   200454 116100                    CMPQ    II,,AUTO
         3 010321   010213 603000 3                  TRC     s:4767

     1512     4792    6                                 END;        /*  OF THEN DO     */

     1513     4793    5                      IF FLT_REG_T(FCTBL.CODE(I))

   4793  3 010322   200010 236100                    LDQ     I,,AUTO
         3 010323   000012 402007                    MPY     10,DL
         3 010324   200451 470500                    LDP0    FCPTR$,,AUTO
         3 010325   000000 236106                    LDQ     0,QL,PR0
         3 010326   000033 772000                    QRL     27
         3 010327   000000 066506                    CMPB    filb='0'B
         3 010330   200452 000001                    BDSC    FLT_REG,Q,AUTO           by=0,bit=0,n=1
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:319  
         3 010331   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 010332   010363 600000 3                  TZE     s:4800

     1514     4794    6                         THEN DO;

     1515     4795    6                              FC_TEXT = FCTBL.TEXT(I);

   4795  3 010333   200010 236100                    LDQ     I,,AUTO
         3 010334   000050 402007                    MPY     40,DL
         3 010335   040100 100506                    MLR     fill='040'O
         3 010336   000000 400045                    ADSC9   0,Q,PR0                  cn=2,n=37
         3 010337   200436 000045                    ADSC9   FC_TEXT,,AUTO            cn=0,n=37

     1516     4796    6                              FC_CNT = FCTBL.COUNT(I);

   4796  3 010340   200010 236100                    LDQ     I,,AUTO
         3 010341   000012 402007                    MPY     10,DL
         3 010342   000000 236106                    LDQ     0,QL,PR0
         3 010343   000022 772000                    QRL     18
         3 010344   000777 376007                    ANQ     511,DL
         3 010345   200450 756100                    STQ     FC_CNT,,AUTO

     1517     4797    6                              CALL THF$ADD_TEXTC(FC$,FC_TEXT,FC_CNT);

   4797  3 010346   200450 631500                    EPPR1   FC_CNT,,AUTO
         3 010347   200536 451500                    STP1    CHIP#+4,,AUTO
         3 010350   200436 633500                    EPPR3   FC_TEXT,,AUTO
         3 010351   200535 453500                    STP3    CHIP#+3,,AUTO
         3 010352   200432 634500                    EPPR4   FC$,,AUTO
         3 010353   200534 454500                    STP4    CHIP#+2,,AUTO
         3 010354   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 010355   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 010356   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 010357   000000 011000                    NOP     0

     1518     4798    6                              N = N +1;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:320  
   4798  3 010360   200344 235100                    LDA     N,,AUTO
         3 010361   000001 035007                    ADLA    1,DL
         3 010362   200344 755100                    STA     N,,AUTO

     1519     4799    6                              END;

     1520     4800    5                    END;         /*  OF DO I = ... */

   4800  3 010363   200010 054100                    AOS     I,,AUTO
         3 010364   200100 236100                    LDQ     J,,AUTO
         3 010365   010165 604000 3                  TMI     s:4761
         3 010366   200010 116100                    CMPQ    I,,AUTO
         3 010367   010165 605000 3                  TPL     s:4761

     1521     4801    4                      END;                /* OF THEN DO */

     1522     4802    3               IF N > 0

   4802  3 010370   200344 235100                    LDA     N,,AUTO
         3 010371   010420 600000 3                  TZE     s:4809

     1523     4803    4                 THEN DO;

     1524     4804    4                      ADDR(FCBUF) -> FC_TEMP.N = N;

   4804  3 010372   003140 755000 2                  STA     FCBUF

     1525     4805    4                      FCVEC = VECTOR(FCBUF);

   4805  3 010373   000372 237000 4                  LDAQ    250
         3 010374   200434 757100                    STAQ    FCVEC,,AUTO

     1526     4806    4                      FCVEC.BOUND = POFFC(FC$,ADDR(FCBUF)) - 1;

   4806  3 010375   000371 236000 4                  LDQ     249
         3 010376   000020 772000                    QRL     16
         3 010377   200534 756100                    STQ     CHIP#+2,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:321  
         3 010400   200432 236100                    LDQ     FC$,,AUTO
         3 010401   000020 772000                    QRL     16
         3 010402   200534 136100                    SBLQ    CHIP#+2,,AUTO
         3 010403   000001 136007                    SBLQ    1,DL
         3 010404   000020 736000                    QLS     16
         3 010405   200434 676100                    ERQ     FCVEC,,AUTO
         3 010406   000034 376000 xsym               ANQ     B_VECTNIL+28
         3 010407   200434 656100                    ERSQ    FCVEC,,AUTO

     1527     4807    4                      CALL THW$WRITE(VECTOR(FRFMT),FCVEC);

   4807  3 010410   200434 630500                    EPPR0   FCVEC,,AUTO
         3 010411   200535 450500                    STP0    CHIP#+3,,AUTO
         3 010412   000402 236000 4                  LDQ     258
         3 010413   200534 756100                    STQ     CHIP#+2,,AUTO
         3 010414   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 010415   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 010416   000000 701000 xent               TSX1    THW$WRITE
         3 010417   000000 011000                    NOP     0

     1528     4808    4                      END;

     1529     4809    3              IF EL$PROCERR.FC = 9       /* PARITY FAULT                          */

   4809  3 010420   200005 470500                    LDP0    INFO+1,,AUTO
         3 010421   000005 236100                    LDQ     5,,PR0
         3 010422   000037 376007                    ANQ     31,DL
         3 010423   000011 116007                    CMPQ    9,DL
         3 010424   010437 601000 3                  TNZ     s:4816

     1530     4810    4              THEN DO;

     1531     4811    4                 TH_LASTTYPE = -1;

   4811  3 010425   000001 335007                    LCA     1,DL
         3 010426   000000 755000 xsym               STA     TH_LASTTYPE

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:322  
     1532     4812    4                 CALL THF$CSHERR;

   4812  3 010427   000002 631400 xsym               EPPR1   B_VECTNIL+2
         3 010430   000000 701000 xent               TSX1    THF$CSHERR
         3 010431   000000 011000                    NOP     0

     1533     4813    4                 IF EL$PROCERR.SAFESTORE.CSHERR ~= '0'B

   4813  3 010432   200005 470500                    LDP0    INFO+1,,AUTO
         3 010433   000000 106500                    CMPC    fill='000'O
         3 010434   000102 000030                    ADSC9   66,,PR0                  cn=0,n=24
         3 010435   000002 000002 xsym               ADSC9   B_VECTNIL+2              cn=0,n=2
         3 010436   010512 601000 3                  TNZ     PROCERR_DONE

     1534     4814    4                 THEN GOTO PROCERR_DONE;
     1535     4815    4                 END;

     1536     4816    3              IF EL$PROCERR.SSSIZE > 0

   4816  3 010437   000011 220100                    LDX0    9,,PR0
         3 010440   010512 600000 3                  TZE     PROCERR_DONE

     1537     4817    4              THEN DO;

     1538     4818    4                 TH_LASTTYPE = -1;

   4818  3 010441   000001 335007                    LCA     1,DL
         3 010442   000000 755000 xsym               STA     TH_LASTTYPE

     1539     4819    4                 CALL THW$WRITE(VECTOR(PROCERR_SS));

   4819  3 010443   000406 630400 4                  EPPR0   262
         3 010444   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 010445   000000 701000 xent               TSX1    THW$WRITE
         3 010446   000000 011000                    NOP     0

     1540     4820    4                 I = EL$PROCERR.SSSIZE;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:323  

   4820  3 010447   200005 470500                    LDP0    INFO+1,,AUTO
         3 010450   000011 236100                    LDQ     9,,PR0
         3 010451   000022 772000                    QRL     18
         3 010452   200010 756100                    STQ     I,,AUTO

     1541     4821    4                 CALL THF$DUMP(ADDR(EL$PROCERR.SAFESTORE),I,'1'B);

   4821  3 010453   200005 236100                    LDQ     INFO+1,,AUTO
         3 010454   000012 036003                    ADLQ    10,DU
         3 010455   200534 756100                    STQ     CHIP#+2,,AUTO
         3 010456   000407 236000 4                  LDQ     263
         3 010457   200537 756100                    STQ     CHIP#+5,,AUTO
         3 010460   200010 631500                    EPPR1   I,,AUTO
         3 010461   200536 451500                    STP1    CHIP#+4,,AUTO
         3 010462   200534 633500                    EPPR3   CHIP#+2,,AUTO
         3 010463   200535 453500                    STP3    CHIP#+3,,AUTO
         3 010464   200535 630500                    EPPR0   CHIP#+3,,AUTO
         3 010465   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 010466   000000 701000 xent               TSX1    THF$DUMP
         3 010467   000000 011000                    NOP     0

     1542     4822    4                 IF EL$PROCERR.HRSIZE > 0

   4822  3 010470   200005 470500                    LDP0    INFO+1,,AUTO
         3 010471   000011 720100                    LXL0    9,,PR0
         3 010472   010512 600000 3                  TZE     PROCERR_DONE

     1543     4823    5                 THEN DO;

     1544     4824    5                    I = EL$PROCERR.PROCTYPE;

   4824  3 010473   000005 236100                    LDQ     5,,PR0
         3 010474   000005 772000                    QRL     5
         3 010475   000017 376007                    ANQ     15,DL
         3 010476   200010 756100                    STQ     I,,AUTO

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:324  
     1545     4825    5                    CALL THF$HISTORY(ADDR(EL$PROCERR.HISTREGS),I);

   4825  3 010477   200005 236100                    LDQ     INFO+1,,AUTO
         3 010500   000112 036003                    ADLQ    74,DU
         3 010501   200534 756100                    STQ     CHIP#+2,,AUTO
         3 010502   200010 631500                    EPPR1   I,,AUTO
         3 010503   200537 451500                    STP1    CHIP#+5,,AUTO
         3 010504   200534 633500                    EPPR3   CHIP#+2,,AUTO
         3 010505   200536 453500                    STP3    CHIP#+4,,AUTO
         3 010506   200536 630500                    EPPR0   CHIP#+4,,AUTO
         3 010507   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 010510   000000 701000 xent               TSX1    THF$HISTORY
         3 010511   000000 011000                    NOP     0

     1546     4826    5                    END;

     1547     4827    4                 END;

   4823  3 010512   010513 710000 3     PROCERR_DONE TRA     s:4833

     1548     4828    3   PROCERR_DONE: ;
     1549     4829    3           CASE(ELSE);

     1550     4830                   /* DO NOTHING */
     1551     4831    3           END;  /* do case */

     1552     4832    2        END; /* else do */

     1553     4833    1        RETURN;

   4833  3 010513   000000 702200 xent               TSX2  ! X66_ARET

     1554     4834        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:325  
     1555     4835    1   BUILDTIME: PROC(UTS);

   4835  3 010514   200524 741300       BUILDTIME    STX1  ! NINE_TRACK_BLNK+8,,AUTO

     1556     4836    2   DCL UTS UBIN UNAL;
     1557     4837    2   DCL TSTAMP UBIN;
     1558     4838        %FPT_TIME (SOURCE=UTS,DEST=LOCAL);
     1559     4857    2   DCL 1 TBUF BASED(TEXT$),
     1560     4858    2           2 N UBIN BYTE UNAL,
     1561     4859    2           2 TIME CHAR(5),
     1562     4860    2           2 * CHAR(1),
     1563     4861    2           2 DATE CHAR(8);
     1564     4862        /**/
     1565     4863    2           TBUF.N=14;

   4863  3 010515   200210 470500                    LDP0    TEXT$,,AUTO
         3 010516   000100 101400                    MRL     fill='000'O
         3 010517   000016 000004 4                  ADSC9   14                       cn=0,n=4
         3 010520   000000 000001                    ADSC9   0,,PR0                   cn=0,n=1

     1566     4864    2           FPT_TIME.TIME_=VECTOR(TBUF.TIME);

   4864  3 010521   000410 235000 4                  LDA     264
         3 010522   200210 236100                    LDQ     TEXT$,,AUTO
         3 010523   200000 036007                    ADLQ    65536,DL
         3 010524   007632 757000 2                  STAQ    FPT_TIME+4

     1567     4865    2           FPT_TIME.DATE_=VECTOR(TBUF.DATE);

   4865  3 010525   000002 235000 4                  LDA     2
         3 010526   200210 236100                    LDQ     TEXT$,,AUTO
         3 010527   000411 036000 4                  ADLQ    265
         3 010530   007630 757000 2                  STAQ    FPT_TIME+2

     1568     4866    2           FPT_TIME.TSTAMP_=VECTOR(TSTAMP);

   4866  3 010531   777640 235007                    LDA     -96,DL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:326  
         3 010532   200534 452500                    STP2    CHIP#+2,,AUTO
         3 010533   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 010534   000526 036003                    ADLQ    342,DU
         3 010535   007636 757000 2                  STAQ    FPT_TIME+8

     1569     4867    2           TSTAMP=UTS;

   4867  3 010536   200525 470500                    LDP0    @UTS,,AUTO
         3 010537   003100 060500                    CSL     bolr='003'O
         3 010540   000000 000044                    BDSC    0,,PR0                   by=0,bit=0,n=36
         3 010541   200526 000044                    BDSC    TSTAMP,,AUTO             by=0,bit=0,n=36

     1570     4868    2           CALL M$TIME(FPT_TIME);

   4868  3 010542   007626 630400 2                  EPPR0   FPT_TIME
         3 010543   020004 713400                    CLIMB   8196
         3 010544   402000 401760                    pmme    nvectors=5

     1571     4869    2           TEXT$=PINCRC(TEXT$,SIZEC(TBUF));

   4869  3 010545   200210 236100                    LDQ     TEXT$,,AUTO
         3 010546   000412 036000 4                  ADLQ    266
         3 010547   200210 756100                    STQ     TEXT$,,AUTO

     1572     4870    2           RETURN;

   4870  3 010550   200524 221300                    LDX1  ! NINE_TRACK_BLNK+8,,AUTO
         3 010551   000001 702211                    TSX2  ! 1,X1

     1573     4871    2   END BUILDTIME;
     1574     4872        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:327  
     1575     4873    1   ADD_TEXTC: PROC(TXT,SIZ);

   4873  3 010552   200526 741300       ADD_TEXTC    STX1  ! TSTAMP,,AUTO

     1576     4874    2   DCL TXT CHAR(SIZ);
     1577     4875    2   DCL SIZ SBIN;
     1578     4876    2   DCL 1 TBUF BASED(TEXT$),
     1579     4877    2           2 N UBIN BYTE UNAL,
     1580     4878    2           2 C CHAR(SIZ);
     1581     4879        /**/
     1582     4880    2           TBUF.N=SIZ;

   4880  3 010553   200530 470500                    LDP0    @SIZ,,AUTO
         3 010554   200210 471500                    LDP1    TEXT$,,AUTO
         3 010555   000100 101500                    MRL     fill='000'O
         3 010556   000000 000004                    ADSC9   0,,PR0                   cn=0,n=4
         3 010557   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1

     1583     4881    2           TBUF.C=TXT;

   4881  3 010560   000000 720100                    LXL0    0,,PR0
         3 010561   200527 471500                    LDP1    @TXT,,AUTO
         3 010562   200210 473500                    LDP3    TEXT$,,AUTO
         3 010563   040140 100540                    MLR     fill='040'O
         3 010564   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0
         3 010565   300000 200010                    ADSC9   0,,PR3                   cn=1,n=*X0

     1584     4882    2           TEXT$=PINCRC(TEXT$,SIZ+1);

   4882  3 010566   000000 236100                    LDQ     0,,PR0
         3 010567   000020 736000                    QLS     16
         3 010570   200000 036007                    ADLQ    65536,DL
         3 010571   200210 036100                    ADLQ    TEXT$,,AUTO
         3 010572   200210 756100                    STQ     TEXT$,,AUTO

     1585     4883    2           RETURN;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:328  
   4883  3 010573   200526 221300                    LDX1  ! TSTAMP,,AUTO
         3 010574   000001 702211                    TSX2  ! 1,X1

     1586     4884    2   END ADD_TEXTC;
     1587     4885        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:329  
     1588     4886    1   ERROR_CODE: PROC(ERR);

   4886  3 010575   200526 741300       ERROR_CODE   STX1  ! TSTAMP,,AUTO

     1589     4887    2   DCL 1 ERR UNAL,
     1590     4888    2           2 FCG(0:2) UBIN(6) UNAL,
     1591     4889    2           2 MON BIT(1),
     1592     4890    2           2 CODE UBIN(14) UNAL,
     1593     4891    2           2 SEV UBIN(3) UNAL;
     1594     4892    2   DCL 1 TBUF BASED(TEXT$),
     1595     4893    2           2 N UBIN BYTE UNAL,
     1596     4894    2           2 C CHAR(12),
     1597     4895    2           2 C_ARRAY(0:11) REDEF C CHAR(1) UNAL,
     1598     4896    2           2 C_UBIN(0:11) REDEF C UBIN(9) UNAL;
     1599     4897    2   DCL I SBIN;
     1600     4898        /**/
     1601     4899    3           DO I=0 TO 2;

   4899  3 010576   200530 450100                    STZ     I,,AUTO

     1602     4900    3              IF ERR.FCG(I) = 0

   4900  3 010577   200530 236100                    LDQ     I,,AUTO
         3 010600   000006 402007                    MPY     6,DL
         3 010601   000000 116003                    CMPQ    0,DU
         3 010602   010604 605000 3                  TPL     s:4900+5
         3 010603   000044 036003                    ADLQ    36,DU
         3 010604   200527 470500                    LDP0    @ERR,,AUTO
         3 010605   003100 061506                    CSR     bolr='003'O
         3 010606   000000 000006                    BDSC    0,Q,PR0                  by=0,bit=0,n=6
         3 010607   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 010610   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 010611   000000 116003                    CMPQ    0,DU
         3 010612   010621 601000 3                  TNZ     s:4902

     1603     4901    3              THEN TBUF.C_ARRAY(I) = ' ';

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:330  
   4901  3 010613   200210 471500                    LDP1    TEXT$,,AUTO
         3 010614   200530 235100                    LDA     I,,AUTO
         3 010615   040105 100400                    MLR     fill='040'O
         3 010616   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 010617   100000 200001                    ADSC9   0,A,PR1                  cn=1,n=1
         3 010620   010675 710000 3                  TRA     s:4905

     1604     4902    3              ELSE IF ERR.FCG(I) < 48

   4902  3 010621   200530 236100                    LDQ     I,,AUTO
         3 010622   000006 402007                    MPY     6,DL
         3 010623   000000 116003                    CMPQ    0,DU
         3 010624   010626 605000 3                  TPL     s:4902+5
         3 010625   000044 036003                    ADLQ    36,DU
         3 010626   003100 061506                    CSR     bolr='003'O
         3 010627   000000 000006                    BDSC    0,Q,PR0                  by=0,bit=0,n=6
         3 010630   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 010631   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 010632   000060 116007                    CMPQ    48,DL
         3 010633   010655 605000 3                  TPL     s:4904

     1605     4903    3                   THEN TBUF.C_UBIN(I) = ERR.FCG(I) + 64;  /*its a letter*/

   4903  3 010634   200530 236100                    LDQ     I,,AUTO
         3 010635   000006 402007                    MPY     6,DL
         3 010636   000000 116003                    CMPQ    0,DU
         3 010637   010641 605000 3                  TPL     s:4903+5
         3 010640   000044 036003                    ADLQ    36,DU
         3 010641   003100 061506                    CSR     bolr='003'O
         3 010642   000000 000006                    BDSC    0,Q,PR0                  by=0,bit=0,n=6
         3 010643   200535 000044                    BDSC    CHIP#+3,,AUTO            by=0,bit=0,n=36
         3 010644   200535 236100                    LDQ     CHIP#+3,,AUTO
         3 010645   000100 036007                    ADLQ    64,DL
         3 010646   200534 756100                    STQ     CHIP#+2,,AUTO
         3 010647   200210 471500                    LDP1    TEXT$,,AUTO
         3 010650   200530 235100                    LDA     I,,AUTO
         3 010651   000105 101500                    MRL     fill='000'O
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:331  
         3 010652   200534 000004                    ADSC9   CHIP#+2,,AUTO            cn=0,n=4
         3 010653   100000 200001                    ADSC9   0,A,PR1                  cn=1,n=1
         3 010654   010675 710000 3                  TRA     s:4905

     1606     4904    3                   ELSE TBUF.C_UBIN(I) = ERR.FCG(I);       /*its a number*/

   4904  3 010655   200530 236100                    LDQ     I,,AUTO
         3 010656   000006 402007                    MPY     6,DL
         3 010657   000000 116003                    CMPQ    0,DU
         3 010660   010662 605000 3                  TPL     s:4904+5
         3 010661   000044 036003                    ADLQ    36,DU
         3 010662   200534 756100                    STQ     CHIP#+2,,AUTO
         3 010663   200530 236100                    LDQ     I,,AUTO
         3 010664   000011 402007                    MPY     9,DL
         3 010665   000000 116003                    CMPQ    0,DU
         3 010666   010670 605000 3                  TPL     s:4904+11
         3 010667   000044 036003                    ADLQ    36,DU
         3 010670   200534 235100                    LDA     CHIP#+2,,AUTO
         3 010671   200210 471500                    LDP1    TEXT$,,AUTO
         3 010672   003106 061505                    CSR     bolr='003'O
         3 010673   000000 000006                    BDSC    0,A,PR0                  by=0,bit=0,n=6
         3 010674   100000 200011                    BDSC    0,Q,PR1                  by=1,bit=0,n=9

     1607     4905    3              END;

   4905  3 010675   200530 054100                    AOS     I,,AUTO
         3 010676   200530 235100                    LDA     I,,AUTO
         3 010677   000002 115007                    CMPA    2,DL
         3 010700   010577 604400 3                  TMOZ    s:4900

     1608     4906    2           CALL INSERT(TBUF.C,3,1,'-');

   4906  3 010701   200210 471500                    LDP1    TEXT$,,AUTO
         3 010702   040100 100400                    MLR     fill='040'O
         3 010703   000130 000001 4                  ADSC9   88                       cn=0,n=1
         3 010704   100001 000001                    ADSC9   1,,PR1                   cn=0,n=1

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:332  
     1609     4907    2           I=4;

   4907  3 010705   000004 236007                    LDQ     4,DL
         3 010706   200530 756100                    STQ     I,,AUTO

     1610     4908    3           IF ERR.MON THEN DO;

   4908  3 010707   000000 066500                    CMPB    filb='0'B
         3 010710   000000 400001                    BDSC    0,,PR0                   by=2,bit=0,n=1
         3 010711   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 010712   010721 600000 3                  TZE     s:4912

     1611     4909    3              CALL INSERT(TBUF.C,I,1,'M');

   4909  3 010713   200210 471500                    LDP1    TEXT$,,AUTO
         3 010714   040106 100400                    MLR     fill='040'O
         3 010715   000413 000001 4                  ADSC9   267                      cn=0,n=1
         3 010716   100000 200001                    ADSC9   0,Q,PR1                  cn=1,n=1

     1612     4910    3              I=5;

   4910  3 010717   000005 235007                    LDA     5,DL
         3 010720   200530 755100                    STA     I,,AUTO

     1613     4911    3              END;

     1614     4912    2           CALL BINCHAR(SUBSTR(TBUF.C,I,5),ERR.CODE);

   4912  3 010721   003100 061500                    CSR     bolr='003'O
         3 010722   000000 410016                    BDSC    0,,PR0                   by=2,bit=1,n=14
         3 010723   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 010724   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 010725   000000 235003                    LDA     0,DU
         3 010726   200536 757100                    STAQ    CHIP#+4,,AUTO
         3 010727   200210 471500                    LDP1    TEXT$,,AUTO
         3 010730   200530 235100                    LDA     I,,AUTO
         3 010731   000105 301500                    BTD
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:333  
         3 010732   200536 000010                    NDSC9   CHIP#+4,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 010733   100000 230005                    NDSC9   0,A,PR1                  cn=1,s=nosgn,sf=0,n=5

     1615     4913    2           CALL INSERT(TBUF.C,I+5,1,'-');

   4913  3 010734   200210 471500                    LDP1    TEXT$,,AUTO
         3 010735   040105 100400                    MLR     fill='040'O
         3 010736   000130 000001 4                  ADSC9   88                       cn=0,n=1
         3 010737   100001 400001                    ADSC9   1,A,PR1                  cn=2,n=1

     1616     4914    2           CALL BINCHAR(SUBSTR(TBUF.C,I+6,1),ERR.SEV);

   4914  3 010740   003100 061500                    CSR     bolr='003'O
         3 010741   000000 660003                    BDSC    0,,PR0                   by=3,bit=6,n=3
         3 010742   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 010743   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 010744   000000 235003                    LDA     0,DU
         3 010745   200536 757100                    STAQ    CHIP#+4,,AUTO
         3 010746   200210 471500                    LDP1    TEXT$,,AUTO
         3 010747   200530 235100                    LDA     I,,AUTO
         3 010750   000105 301500                    BTD
         3 010751   200536 000010                    NDSC9   CHIP#+4,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 010752   100001 630001                    NDSC9   1,A,PR1                  cn=3,s=nosgn,sf=0,n=1

     1617     4915    2           TBUF.N=SIZEC(TBUF.C);

   4915  3 010753   200210 471500                    LDP1    TEXT$,,AUTO
         3 010754   000100 101400                    MRL     fill='000'O
         3 010755   000414 000004 4                  ADSC9   268                      cn=0,n=4
         3 010756   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1

     1618     4916    2           TEXT$=PINCRC(TEXT$,SIZEC(TBUF));

   4916  3 010757   200210 236100                    LDQ     TEXT$,,AUTO
         3 010760   000415 036000 4                  ADLQ    269
         3 010761   200210 756100                    STQ     TEXT$,,AUTO

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:334  
     1619     4917    2           RETURN;

   4917  3 010762   200526 221300                    LDX1  ! TSTAMP,,AUTO
         3 010763   000001 702211                    TSX2  ! 1,X1

     1620     4918    2   END ERROR_CODE;
     1621     4919        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:335  
     1622     4920        /*    CONVERT EDAC SYNDROME NUMBER TO TEXT                            */
     1623     4921        /**/
     1624     4922    1   EDAC: PROC(STATUS$,BOARD,CHIP);

   4922  3 010764   200524 741300       EDAC         STX1  ! NINE_TRACK_BLNK+8,,AUTO

     1625     4923    2   DCL BIT_4K(0:127) SBIN BYTE CALIGNED CONSTANT SYMDEF INIT(
     1626     4924    2           19,18,17,15,16,14,13,-1,19,12,11,9,10,8,7,-1,
     1627     4925    2           18,6,5,3,4,2,1,-1,-1,0,19,-1,18,-1,-1,-1,
     1628     4926    2           17,-1,-1,17,-1,16,15,-1,-1,14,13,11,12,10,9,-1,
     1629     4927    2           -1,8,7,5,6,4,3,-1,-1,2,1,-1,0,-1,-1,-1,
     1630     4928    2           16,-1,-1,15,-1,14,13,-1,-1,12,11,9,10,8,7,-1,
     1631     4929    2           -1,6,5,3,4,2,1,-1,-1,0,19,-1,18,-1,-1,-1,
     1632     4930    2           -1,-1,-1,17,-1,16,15,-1,-1,14,13,11,12,10,9,-1,
     1633     4931    2           -1,8,7,5,6,4,3,-1,-1,2,1,-1,0,-1,-1,-1);
     1634     4932    2   DCL QUAD_4K(0:127) SBIN BYTE CALIGNED CONSTANT SYMDEF INIT(
     1635     4933    2           4,4,4,4,4,4,4,0,2,4,4,4,4,4,4,0,
     1636     4934    2           2,4,4,4,4,4,4,0,0,4,3,0,3,0,0,0,
     1637     4935    2           2,0,0,3,0,3,3,0,0,3,3,3,3,3,3,0,
     1638     4936    2           0,3,3,3,3,3,3,0,0,3,3,0,3,0,0,0,
     1639     4937    2           2,0,0,2,0,2,2,0,0,2,2,2,2,2,2,0,
     1640     4938    2           0,2,2,2,2,2,2,0,0,2,1,0,1,0,0,0,
     1641     4939    2           0,0,0,1,0,1,1,0,0,1,1,1,1,1,1,0,
     1642     4940    2           0,1,1,1,1,1,1,0,0,1,1,0,1,0,0,0);
     1643     4941    2   DCL BOARD_4K(0:3) CHAR(4) STATIC INIT(
     1644     4942    2           'ABCD','FGHJ','KLMN','QRST');
     1645     4943    2   DCL CHIP_LTTR(0:9) STATIC CHAR(1) INIT('A','B','C','D','E','G',
     1646     4944    2       'H','J','K','L');
     1647     4945    2   DCL BIT# SBIN;
     1648     4946    2   DCL QUAD# SBIN;
     1649     4947    2   DCL CHIP# CHAR(2);
     1650     4948    2   DCL BOARD CHAR(1);
     1651     4949    2   DCL CHIP CHAR(3);
     1652     4950    2   DCL STATUS$ PTR;
     1653     4951        /**/
     1654     4952    2   DCL BIT_64K (0:127) SBIN BYTE CALIGNED CONSTANT SYMDEF INIT(
     1655     4953    2         79,78,77,71,76,70,69,-1,75,68,67,
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:336  
     1656     4954    2         65,66,64,63,-1,74,62,61,59,60,58,
     1657     4955    2         57,-1,-1,56,55,-1,54,-1,-1,-1,73,-1,-1,53,-1,52,51,-1,-1,50,49,
     1658     4956    2         47,48,46,45,-1,-1,44,43,41,42,40,39,
     1659     4957    2         -1,-1,38,37,-1,36,-1,-1,-1,72,-1,-1,35,-1,34,33,-1,-1,32,31,29,
     1660     4958    2         30,28,27,-1,-1,26,25,23,24,22,21,-1,-1,20,
     1661     4959    2         19,-1,18,-1,-1,-1,-1,-1,-1,17,-1,16,15,-1,-1,14,13,11,12,10,
     1662     4960    2         9,-1,-1,8,7,5,6,4,3,-1,-1,2,1,-1,0,-1*0);
     1663     4961    2   DCL CHIP_64K_CHAR (0:7) CHAR(2) CALIGNED CONSTANT SYMDEF INIT(
     1664     4962    2         '01','10','19','28','37','46','55','64');
     1665     4963    2   DCL CHIP_64K_LET (0:19) CHAR(1) CALIGNED CONSTANT SYMDEF INIT(
     1666     4964    2         'A','B','C','D','E','F','G','H','J','K',
     1667     4965    2         'N','P','Q','R','S','T','U','V','W','X');
     1668     4966    2   DCL BOARD_64K (0:15) CHAR(1) CALIGNED CONSTANT SYMDEF INIT(
     1669     4967    2         'A','B','C','D','E','F','G','H',
     1670     4968    2         'J','K','L','M','N','P','Q','R');
     1671     4969        /*                                                                    */
     1672     4970        /*                                                                    */
     1673     4971        %EL$EDAC;
     1674     4980        /*                                                                    */
     1675     4981        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:337  
     1676     4982    2           IF STATUS$->EL$EDAC.STORE_MODE.MOSID = '1010'B

   4982  3 010765   200525 470500                    LDP0    @STATUS$,,AUTO
         3 010766   000000 471500                    LDP1    0,,PR0
         3 010767   100004 236100                    LDQ     4,,PR1
         3 010770   000017 376003                    ANQ     15,DU
         3 010771   000012 116003                    CMPQ    10,DU
         3 010772   011126 600000 3                  TZE     EDAC_64K

     1677     4983    2           THEN GOTO EDAC_64K;
     1678     4984    2           BIT#=BIT_4K(STATUS$->EL$EDAC.STORE_MODE.SYNDROME.NUMB);

   4984  3 010773   100004 236100                    LDQ     4,,PR1
         3 010774   000027 772000                    QRL     23
         3 010775   000177 376007                    ANQ     127,DL
         3 010776   000100 100406                    MLR     fill='000'O
         3 010777   000526 000001 1                  ADSC9   BIT_4K,Q                 cn=0,n=1
         3 011000   200534 000004                    ADSC9   CHIP#+2,,AUTO            cn=0,n=4
         3 011001   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 011002   000033 732000                    QRS     27
         3 011003   200530 756100                    STQ     BIT#,,AUTO

     1679     4985    2           QUAD#=QUAD_4K(STATUS$->EL$EDAC.STORE_MODE.SYNDROME.NUMB);

   4985  3 011004   000000 471500                    LDP1    0,,PR0
         3 011005   100004 236100                    LDQ     4,,PR1
         3 011006   000027 772000                    QRL     23
         3 011007   000177 376007                    ANQ     127,DL
         3 011010   000100 100406                    MLR     fill='000'O
         3 011011   000566 000001 1                  ADSC9   QUAD_4K,Q                cn=0,n=1
         3 011012   200534 000004                    ADSC9   CHIP#+2,,AUTO            cn=0,n=4
         3 011013   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 011014   000033 732000                    QRS     27
         3 011015   200531 756100                    STQ     QUAD#,,AUTO

     1680     4986    2           IF BIT#=-1 OR QUAD#=0 THEN

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:338  
   4986  3 011016   200530 235100                    LDA     BIT#,,AUTO
         3 011017   000027 115000 xsym               CMPA    B_VECTNIL+23
         3 011020   011023 600000 3                  TZE     s:4988
         3 011021   000000 116003                    CMPQ    0,DU
         3 011022   011035 601000 3                  TNZ     s:4992

     1681     4987    3              DO;

     1682     4988    3                 BOARD=' ';

   4988  3 011023   200526 471500                    LDP1    @BOARD,,AUTO
         3 011024   040100 100400                    MLR     fill='040'O
         3 011025   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 011026   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1

     1683     4989    3                 CHIP=' ';

   4989  3 011027   200527 473500                    LDP3    @CHIP,,AUTO
         3 011030   040100 100400                    MLR     fill='040'O
         3 011031   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 011032   300000 000003                    ADSC9   0,,PR3                   cn=0,n=3

     1684     4990    3                 RETURN;

   4990  3 011033   200524 221300                    LDX1  ! NINE_TRACK_BLNK+8,,AUTO
         3 011034   000001 702211                    TSX2  ! 1,X1

     1685     4991    3              END;
     1686     4992    2           BOARD=SUBSTR(BOARD_4K(QUAD#-1),STATUS$->EL$EDAC.STORE_MODE.A45,1);

   4992  3 011035   000000 471500                    LDP1    0,,PR0
         3 011036   100004 236100                    LDQ     4,,PR1
         3 011037   000042 772000                    QRL     34
         3 011040   200534 756100                    STQ     CHIP#+2,,AUTO
         3 011041   200531 236100                    LDQ     QUAD#,,AUTO
         3 011042   000002 736000                    QLS     2
         3 011043   200534 036100                    ADLQ    CHIP#+2,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:339  
         3 011044   200526 471500                    LDP1    @BOARD,,AUTO
         3 011045   040100 100406                    MLR     fill='040'O
         3 011046   007641 000001 2                  ADSC9   FPT_TIME+11,Q            cn=0,n=1
         3 011047   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1

     1687     4993    2           IF MOD(BIT#,2) = 1 THEN

   4993  3 011050   200530 236100                    LDQ     BIT#,,AUTO
         3 011051   000002 506007                    DIV     2,DL
         3 011052   000044 733000                    LRS     36
         3 011053   000001 116007                    CMPQ    1,DL
         3 011054   011101 601000 3                  TNZ     s:5000

     1688     4994    3              DO;

     1689     4995    3                 CALL BINCHAR(CHIP#,7-STATUS$->EL$EDAC.STORE_MODE.A678);

   4995  3 011055   000000 473500                    LDP3    0,,PR0
         3 011056   300004 236100                    LDQ     4,,PR3
         3 011057   000037 772000                    QRL     31
         3 011060   000007 376007                    ANQ     7,DL
         3 011061   000027 676000 xsym               ERQ     B_VECTNIL+23
         3 011062   000010 036007                    ADLQ    8,DL
         3 011063   200534 756100                    STQ     CHIP#+2,,AUTO
         3 011064   000100 301500                    BTD
         3 011065   200534 000004                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=4
         3 011066   200532 030002                    NDSC9   CHIP#,,AUTO              cn=0,s=nosgn,sf=0,n=2

     1690     4996    3                 CALL CONCAT(CHIP,SUBSTR(CHIP#,1,1),CHIP_LTTR(BIT#/2));

   4996  3 011067   200530 236100                    LDQ     BIT#,,AUTO
         3 011070   000002 506007                    DIV     2,DL
         3 011071   200527 473500                    LDP3    @CHIP,,AUTO
         3 011072   040100 100500                    MLR     fill='040'O
         3 011073   200532 200001                    ADSC9   CHIP#,,AUTO              cn=1,n=1
         3 011074   300000 000001                    ADSC9   0,,PR3                   cn=0,n=1
         3 011075   040100 100406                    MLR     fill='040'O
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:340  
         3 011076   007646 000001 2                  ADSC9   CHIP_LTTR,Q              cn=0,n=1
         3 011077   300000 200002                    ADSC9   0,,PR3                   cn=1,n=2

     1691     4997    3              END;

   4997  3 011100   011124 710000 3                  TRA     s:5003

     1692     4998    2           ELSE
     1693     4999    3              DO;

     1694     5000    3                 CALL BINCHAR(CHIP#,18-STATUS$->EL$EDAC.STORE_MODE.A678);

   5000  3 011101   000000 473500                    LDP3    0,,PR0
         3 011102   300004 236100                    LDQ     4,,PR3
         3 011103   000037 772000                    QRL     31
         3 011104   000007 376007                    ANQ     7,DL
         3 011105   000027 676000 xsym               ERQ     B_VECTNIL+23
         3 011106   000023 036007                    ADLQ    19,DL
         3 011107   200534 756100                    STQ     CHIP#+2,,AUTO
         3 011110   000100 301500                    BTD
         3 011111   200534 000004                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=4
         3 011112   200532 030002                    NDSC9   CHIP#,,AUTO              cn=0,s=nosgn,sf=0,n=2

     1695     5001    3                 CALL CONCAT(CHIP,CHIP#,CHIP_LTTR(BIT#/2));

   5001  3 011113   200530 236100                    LDQ     BIT#,,AUTO
         3 011114   000002 506007                    DIV     2,DL
         3 011115   200527 473500                    LDP3    @CHIP,,AUTO
         3 011116   040100 100500                    MLR     fill='040'O
         3 011117   200532 000002                    ADSC9   CHIP#,,AUTO              cn=0,n=2
         3 011120   300000 000002                    ADSC9   0,,PR3                   cn=0,n=2
         3 011121   040100 100406                    MLR     fill='040'O
         3 011122   007646 000001 2                  ADSC9   CHIP_LTTR,Q              cn=0,n=1
         3 011123   300000 400001                    ADSC9   0,,PR3                   cn=2,n=1

     1696     5002    3              END;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:341  
     1697     5003    2           RETURN;

   5003  3 011124   200524 221300                    LDX1  ! NINE_TRACK_BLNK+8,,AUTO
         3 011125   000001 702211                    TSX2  ! 1,X1

     1698     5004    2   EDAC_64K:
     1699     5005    2           BIT# = BIT_64K(STATUS$->EL$EDAC.STORE_MODE.SYNDROME.NUMB);

   5005  3 011126   100004 236100       EDAC_64K     LDQ     4,,PR1
         3 011127   000027 772000                    QRL     23
         3 011130   000177 376007                    ANQ     127,DL
         3 011131   000100 100406                    MLR     fill='000'O
         3 011132   000626 000001 1                  ADSC9   BIT_64K,Q                cn=0,n=1
         3 011133   200534 000004                    ADSC9   CHIP#+2,,AUTO            cn=0,n=4
         3 011134   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 011135   000033 732000                    QRS     27
         3 011136   200530 756100                    STQ     BIT#,,AUTO

     1700     5006    2           IF BIT# < 0

   5006  3 011137   011152 605000 3                  TPL     s:5012

     1701     5007    3           THEN DO;

     1702     5008    3              BOARD = ' ';

   5008  3 011140   200526 471500                    LDP1    @BOARD,,AUTO
         3 011141   040100 100400                    MLR     fill='040'O
         3 011142   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 011143   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1

     1703     5009    3              CHIP = ' ';

   5009  3 011144   200527 473500                    LDP3    @CHIP,,AUTO
         3 011145   040100 100400                    MLR     fill='040'O
         3 011146   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 011147   300000 000003                    ADSC9   0,,PR3                   cn=0,n=3
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:342  

     1704     5010    3              RETURN;

   5010  3 011150   200524 221300                    LDX1  ! NINE_TRACK_BLNK+8,,AUTO
         3 011151   000001 702211                    TSX2  ! 1,X1

     1705     5011    3              END;
     1706     5012    2           BOARD = BOARD_64K(STATUS$->EL$EDAC.STORE_MODE.A45 * 4

   5012  3 011152   000000 471500                    LDP1    0,,PR0
         3 011153   100004 236100                    LDQ     4,,PR1
         3 011154   000037 772000                    QRL     31
         3 011155   000007 376007                    ANQ     7,DL
         3 011156   000001 772000                    QRL     1
         3 011157   200534 756100                    STQ     CHIP#+2,,AUTO
         3 011160   100004 236100                    LDQ     4,,PR1
         3 011161   000040 772000                    QRL     32
         3 011162   000014 376007                    ANQ     12,DL
         3 011163   200534 036100                    ADLQ    CHIP#+2,,AUTO
         3 011164   200526 471500                    LDP1    @BOARD,,AUTO
         3 011165   040100 100406                    MLR     fill='040'O
         3 011166   000677 000001 1                  ADSC9   BOARD_64K,Q              cn=0,n=1
         3 011167   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1

     1707     5013    2                           + STATUS$->EL$EDAC.STORE_MODE.A678 / 2);
     1708     5014    2           QUAD# = BIT# * 2 + MOD(STATUS$->EL$EDAC.STORE_MODE.A678,2);

   5014  3 011170   000000 473500                    LDP3    0,,PR0
         3 011171   300004 236100                    LDQ     4,,PR3
         3 011172   000037 772000                    QRL     31
         3 011173   000007 376007                    ANQ     7,DL
         3 011174   000001 376007                    ANQ     1,DL
         3 011175   200534 756100                    STQ     CHIP#+2,,AUTO
         3 011176   200530 236100                    LDQ     BIT#,,AUTO
         3 011177   000001 736000                    QLS     1
         3 011200   200534 036100                    ADLQ    CHIP#+2,,AUTO
         3 011201   200531 756100                    STQ     QUAD#,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:343  

     1709     5015    2           CALL CONCAT (CHIP,

   5015  3 011202   000010 506007                    DIV     8,DL
         3 011203   200531 236100                    LDQ     QUAD#,,AUTO
         3 011204   200534 755100                    STA     CHIP#+2,,AUTO
         3 011205   000010 506007                    DIV     8,DL
         3 011206   200534 235100                    LDA     CHIP#+2,,AUTO
         3 011207   000001 735000                    ALS     1
         3 011210   200527 473500                    LDP3    @CHIP,,AUTO
         3 011211   040100 100405                    MLR     fill='040'O
         3 011212   000666 000002 1                  ADSC9   CHIP_64K_CHAR,A          cn=0,n=2
         3 011213   300000 000002                    ADSC9   0,,PR3                   cn=0,n=2
         3 011214   040100 100406                    MLR     fill='040'O
         3 011215   000672 000001 1                  ADSC9   CHIP_64K_LET,Q           cn=0,n=1
         3 011216   300000 400001                    ADSC9   0,,PR3                   cn=2,n=1

     1710     5016    2                        CHIP_64K_CHAR(MOD(QUAD#,8)),
     1711     5017    2                        CHIP_64K_LET(QUAD#/8));
     1712     5018    2           RETURN;

   5018  3 011217   200524 221300                    LDX1  ! NINE_TRACK_BLNK+8,,AUTO
         3 011220   000001 702211                    TSX2  ! 1,X1

     1713     5019    2   END EDAC;
     1714     5020        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:344  
     1715     5021        /* HANDLING OF DETAIL REPORT FORMAT FOR IOERR                       */
     1716     5022        /**/
     1717     5023    1   THF$IOERR: PROC;

   5023  3 011221   200524 741300       THF$IOERR    STX1  ! NINE_TRACK_BLNK+8,,AUTO

     1718     5024        /**/
     1719     5025    2   ALL_MATCH = %FALSE;

   5025  3 011222   200504 450100                    STZ     ALL_MATCH,,AUTO

     1720     5026    3   IF TH_FIRST_TIME THEN DO;    /* if it's the first I/O record read */

   5026  3 011223   000000 234000 xsym               SZN     TH_FIRST_TIME
         3 011224   011333 605000 3                  TPL     s:5049

     1721     5027    3      CALL INIT_TABLES;  /* call procedure to initialize tables */

   5027  3 011225   014433 701000 3                  TSX1    INIT_TABLES
         3 011226   000000 011000                    NOP     0

     1722     5028    3      MMBUF = ' ';

   5028  3 011227   040000 100400                    MLR     fill='040'O
         3 011230   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 011231   003025 000400 2                  ADSC9   MMBUF                    cn=0,n=256

     1723     5029    3      MM$ = ADDR(MMBUF);

   5029  3 011232   000012 236000 4                  LDQ     10
         3 011233   200370 756100                    STQ     MM$,,AUTO

     1724     5030    3      INFO = TH_XSA_BUF_VECTOR;   /* EL$IOERR now frames the data record */

   5030  3 011234   000100 100400                    MLR     fill='000'O
         3 011235   000000 000010 xsym               ADSC9   TH_XSA_BUF_VECTOR        cn=0,n=8
         3 011236   200004 000010                    ADSC9   INFO,,AUTO               cn=0,n=8
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:345  

     1725     5031    3      IF ((EL$IOERR.MPC_MODEL = 'URPEURP ')

   5031  3 011237   200005 470500                    LDP0    INFO+1,,AUTO
         3 011240   040000 106500                    CMPC    fill='040'O
         3 011241   000032 000010                    ADSC9   26,,PR0                  cn=0,n=8
         3 011242   001574 000010 1                  ADSC9   BOARD_64K+445            cn=0,n=8
         3 011243   011270 600000 3                  TZE     s:5038
         3 011244   040000 106500                    CMPC    fill='040'O
         3 011245   000032 000010                    ADSC9   26,,PR0                  cn=0,n=8
         3 011246   001576 000010 1                  ADSC9   BOARD_64K+447            cn=0,n=8
         3 011247   011270 600000 3                  TZE     s:5038
         3 011250   040000 106500                    CMPC    fill='040'O
         3 011251   000032 000010                    ADSC9   26,,PR0                  cn=0,n=8
         3 011252   001600 000010 1                  ADSC9   BOARD_64K+449            cn=0,n=8
         3 011253   011270 600000 3                  TZE     s:5038
         3 011254   040000 106500                    CMPC    fill='040'O
         3 011255   000032 000010                    ADSC9   26,,PR0                  cn=0,n=8
         3 011256   001602 000010 1                  ADSC9   BOARD_64K+451            cn=0,n=8
         3 011257   011270 600000 3                  TZE     s:5038
         3 011260   040000 106500                    CMPC    fill='040'O
         3 011261   000032 000010                    ADSC9   26,,PR0                  cn=0,n=8
         3 011262   001604 000010 1                  ADSC9   BOARD_64K+453            cn=0,n=8
         3 011263   011270 600000 3                  TZE     s:5038
         3 011264   040000 106500                    CMPC    fill='040'O
         3 011265   000032 000010                    ADSC9   26,,PR0                  cn=0,n=8
         3 011266   001606 000010 1                  ADSC9   BOARD_64K+455            cn=0,n=8
         3 011267   011311 601000 3                  TNZ     s:5043

     1726     5032    3        OR (EL$IOERR.MPC_MODEL = 'URP8011 ')
     1727     5033    3        OR (EL$IOERR.MPC_MODEL = 'URP8012 ')
     1728     5034    3        OR (EL$IOERR.MPC_MODEL = 'URP8013 ')
     1729     5035    3        OR (EL$IOERR.MPC_MODEL = 'URP8600 ')
     1730     5036    3        OR (EL$IOERR.MPC_MODEL = 'URP8601 '))
     1731     5037    4          THEN DO;

     1732     5038    4            ASCII_EXTST = EL$IOERR.EXTST;  /* REFORMAT EXTENDED STATUS */
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:346  

   5038  3 011270   000100 100500                    MLR     fill='000'O
         3 011271   000013 000040                    ADSC9   11,,PR0                  cn=0,n=32
         3 011272   200263 000040                    ADSC9   ASCII_EXTST,,AUTO        cn=0,n=32

     1733     5039    5            DO J = 0 TO 31;

   5039  3 011273   200100 450100                    STZ     J,,AUTO

     1734     5040    5               EL$IOERR.EXTST(J) = ASCII_EXTST.BYT(J);

   5040  3 011274   200100 236100                    LDQ     J,,AUTO
         3 011275   000011 402007                    MPY     9,DL
         3 011276   200100 235100                    LDA     J,,AUTO
         3 011277   000003 735000                    ALS     3
         3 011300   200005 470500                    LDP0    INFO+1,,AUTO
         3 011301   003105 060506                    CSL     bolr='003'O
         3 011302   200263 010010                    BDSC    ASCII_EXTST,Q,AUTO       by=0,bit=1,n=8
         3 011303   000013 000010                    BDSC    11,A,PR0                 by=0,bit=0,n=8

     1735     5041    5            END;

   5041  3 011304   200100 235100                    LDA     J,,AUTO
         3 011305   000001 035007                    ADLA    1,DL
         3 011306   200100 755100                    STA     J,,AUTO
         3 011307   000040 115007                    CMPA    32,DL
         3 011310   011274 602000 3                  TNC     s:5040

     1736     5042    4          END;

     1737     5043    3      CALL THW$WRITE(COMPONENT_FMT,INFO);  /* write header for component */

   5043  3 011311   200004 630500                    EPPR0   INFO,,AUTO
         3 011312   200535 450500                    STP0    CHIP#+3,,AUTO
         3 011313   000416 236000 4                  LDQ     270
         3 011314   200534 756100                    STQ     CHIP#+2,,AUTO
         3 011315   200534 630500                    EPPR0   CHIP#+2,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:347  
         3 011316   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 011317   000000 701000 xent               TSX1    THW$WRITE
         3 011320   000000 011000                    NOP     0

     1738     5044    3      IOERR_TBL = EL$IOERR; /* store data record to detail_tbl */

   5044  3 011321   200005 470500                    LDP0    INFO+1,,AUTO
         3 011322   000000 100500                    MLR     fill='000'O
         3 011323   000000 000170                    ADSC9   0,,PR0                   cn=0,n=120
         3 011324   007532 000170 2                  ADSC9   IOERR_TBL                cn=0,n=120

     1739     5045    3      OTHER_IOERR_TBL.COUNT = OTHER_IOERR_TBL.COUNT + 1;

   5045  3 011325   003332 235000 2                  LDA     OTHER_IOERR_TBL
         3 011326   000001 035007                    ADLA    1,DL
         3 011327   003332 755000 2                  STA     OTHER_IOERR_TBL

     1740     5046    3      NEW_OP = EL$IOERR.IDCW;

   5046  3 011330   000010 236100                    LDQ     8,,PR0
         3 011331   200501 756100                    STQ     NEW_OP,,AUTO

     1741     5047    3      GOTO FIND_STATUS_ETC;

   5047  3 011332   012173 710000 3                  TRA     FIND_STATUS_ETC

     1742     5048    3   END;  /* if first record read */
     1743     5049    2   ELSE IF TH_EOF_FLG THEN GOTO NOT_ALL_MATCH;

   5049  3 011333   000000 234000 xsym               SZN     TH_EOF_FLG
         3 011334   011616 604000 3                  TMI     NOT_ALL_MATCH

     1744     5050    3   ELSE IF NOT TH_EOF_FLG AND NOT TH_FIRST_TIME THEN DO;

   5050  3 011335   011615 604000 3                  TMI     s:5126
         3 011336   000000 234000 xsym               SZN     TH_FIRST_TIME
         3 011337   011615 604000 3                  TMI     s:5126
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:348  

     1745     5051    3      MM$ = ADDR(MMBUF);

   5051  3 011340   000012 236000 4                  LDQ     10
         3 011341   200370 756100                    STQ     MM$,,AUTO

     1746     5052    3      INFO = TH_XSA_BUF_VECTOR;   /* EL$IOERR now frames the data record */

   5052  3 011342   000100 100400                    MLR     fill='000'O
         3 011343   000000 000010 xsym               ADSC9   TH_XSA_BUF_VECTOR        cn=0,n=8
         3 011344   200004 000010                    ADSC9   INFO,,AUTO               cn=0,n=8

     1747     5053    3      IF ((EL$IOERR.MPC_MODEL = 'URPEURP ')

   5053  3 011345   200005 470500                    LDP0    INFO+1,,AUTO
         3 011346   040000 106500                    CMPC    fill='040'O
         3 011347   000032 000010                    ADSC9   26,,PR0                  cn=0,n=8
         3 011350   001574 000010 1                  ADSC9   BOARD_64K+445            cn=0,n=8
         3 011351   011376 600000 3                  TZE     s:5060
         3 011352   040000 106500                    CMPC    fill='040'O
         3 011353   000032 000010                    ADSC9   26,,PR0                  cn=0,n=8
         3 011354   001576 000010 1                  ADSC9   BOARD_64K+447            cn=0,n=8
         3 011355   011376 600000 3                  TZE     s:5060
         3 011356   040000 106500                    CMPC    fill='040'O
         3 011357   000032 000010                    ADSC9   26,,PR0                  cn=0,n=8
         3 011360   001600 000010 1                  ADSC9   BOARD_64K+449            cn=0,n=8
         3 011361   011376 600000 3                  TZE     s:5060
         3 011362   040000 106500                    CMPC    fill='040'O
         3 011363   000032 000010                    ADSC9   26,,PR0                  cn=0,n=8
         3 011364   001602 000010 1                  ADSC9   BOARD_64K+451            cn=0,n=8
         3 011365   011376 600000 3                  TZE     s:5060
         3 011366   040000 106500                    CMPC    fill='040'O
         3 011367   000032 000010                    ADSC9   26,,PR0                  cn=0,n=8
         3 011370   001604 000010 1                  ADSC9   BOARD_64K+453            cn=0,n=8
         3 011371   011376 600000 3                  TZE     s:5060
         3 011372   040000 106500                    CMPC    fill='040'O
         3 011373   000032 000010                    ADSC9   26,,PR0                  cn=0,n=8
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:349  
         3 011374   001606 000010 1                  ADSC9   BOARD_64K+455            cn=0,n=8
         3 011375   011417 601000 3                  TNZ     s:5065

     1748     5054    3        OR (EL$IOERR.MPC_MODEL = 'URP8011 ')
     1749     5055    3        OR (EL$IOERR.MPC_MODEL = 'URP8012 ')
     1750     5056    3        OR (EL$IOERR.MPC_MODEL = 'URP8013 ')
     1751     5057    3        OR (EL$IOERR.MPC_MODEL = 'URP8600 ')
     1752     5058    3        OR (EL$IOERR.MPC_MODEL = 'URP8601 '))
     1753     5059    4          THEN DO;

     1754     5060    4            ASCII_EXTST = EL$IOERR.EXTST;  /* REFORMAT EXTENDED STATUS */

   5060  3 011376   000100 100500                    MLR     fill='000'O
         3 011377   000013 000040                    ADSC9   11,,PR0                  cn=0,n=32
         3 011400   200263 000040                    ADSC9   ASCII_EXTST,,AUTO        cn=0,n=32

     1755     5061    5            DO J = 0 TO 31;

   5061  3 011401   200100 450100                    STZ     J,,AUTO

     1756     5062    5               EL$IOERR.EXTST(J) = ASCII_EXTST.BYT(J);

   5062  3 011402   200100 236100                    LDQ     J,,AUTO
         3 011403   000011 402007                    MPY     9,DL
         3 011404   200100 235100                    LDA     J,,AUTO
         3 011405   000003 735000                    ALS     3
         3 011406   200005 470500                    LDP0    INFO+1,,AUTO
         3 011407   003105 060506                    CSL     bolr='003'O
         3 011410   200263 010010                    BDSC    ASCII_EXTST,Q,AUTO       by=0,bit=1,n=8
         3 011411   000013 000010                    BDSC    11,A,PR0                 by=0,bit=0,n=8

     1757     5063    5            END;

   5063  3 011412   200100 235100                    LDA     J,,AUTO
         3 011413   000001 035007                    ADLA    1,DL
         3 011414   200100 755100                    STA     J,,AUTO
         3 011415   000040 115007                    CMPA    32,DL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:350  
         3 011416   011402 602000 3                  TNC     s:5062

     1758     5064    4          END;

     1759     5065    3      NEW_OP = EL$IOERR.IDCW;

   5065  3 011417   200005 470500                    LDP0    INFO+1,,AUTO
         3 011420   000010 236100                    LDQ     8,,PR0
         3 011421   200501 756100                    STQ     NEW_OP,,AUTO

     1760     5066    3      NEW_DENSE = EL$IOERR.EXTST(2);

   5066  3 011422   000013 236100                    LDQ     11,,PR0
         3 011423   000020 736000                    QLS     16
         3 011424   200507 676100                    ERQ     NEW_DENSE,,AUTO
         3 011425   776000 376003                    ANQ     -1024,DU
         3 011426   200507 656100                    ERSQ    NEW_DENSE,,AUTO

     1761     5067    3      OLD_DENSE = IOERR_TBL.EXTST(2);

   5067  3 011427   007545 236000 2                  LDQ     IOERR_TBL+11
         3 011430   000020 736000                    QLS     16
         3 011431   200506 676100                    ERQ     OLD_DENSE,,AUTO
         3 011432   776000 376003                    ANQ     -1024,DU
         3 011433   200506 656100                    ERSQ    OLD_DENSE,,AUTO

     1762     5068    3      J = 0;

   5068  3 011434   200100 450100                    STZ     J,,AUTO

     1763     5069    4      DO I = 0 TO NUMMODELS;

   5069  3 011435   200010 450100                    STZ     I,,AUTO

     1764     5070    5         IF EL$IOERR.MODEL = DEVICE_CMND.DEV(I) THEN DO;

   5070  3 011436   200010 235100                    LDA     I,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:351  
         3 011437   000004 735000                    ALS     4
         3 011440   200005 470500                    LDP0    INFO+1,,AUTO
         3 011441   040005 106500                    CMPC    fill='040'O
         3 011442   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 011443   000000 000010 xsym               ADSC9   DEVICE_CMND,A            cn=0,n=8
         3 011444   011456 601000 3                  TNZ     s:5074

     1765     5071    5            DEV_OP$ = DEVICE_CMND.SUB$(I);

   5071  3 011445   200010 236100                    LDQ     I,,AUTO
         3 011446   000002 736000                    QLS     2
         3 011447   000002 236006 xsym               LDQ     DEVICE_CMND+2,QL
         3 011450   200505 756100                    STQ     DEV_OP$,,AUTO

     1766     5072    5            J = DEVICE_CMND.COUNT(I);

   5072  3 011451   200010 235100                    LDA     I,,AUTO
         3 011452   000002 735000                    ALS     2
         3 011453   000003 236005 xsym               LDQ     DEVICE_CMND+3,AL
         3 011454   000033 772000                    QRL     27
         3 011455   200100 756100                    STQ     J,,AUTO

     1767     5073    5         END;  /* if el$ioerr.model = device_cmnd.dev(i)  */

     1768     5074    4      END;  /* do i = 0 to 19 */

   5074  3 011456   200010 054100                    AOS     I,,AUTO
         3 011457   200010 235100                    LDA     I,,AUTO
         3 011460   000035 115007                    CMPA    29,DL
         3 011461   011436 604400 3                  TMOZ    s:5070

     1769     5075    3      IF J > 0 THEN

   5075  3 011462   200100 236100                    LDQ     J,,AUTO
         3 011463   011510 600000 3                  TZE     s:5080

     1770     5076    4      DO I = 0 TO J;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:352  

   5076  3 011464   200010 450100                    STZ     I,,AUTO
         3 011465   011504 710000 3                  TRA     s:5079+1

     1771     5077    4         IF NEW_OP_RDF(0) = DEV_OP_TBL.CODE(I)

   5077  3 011466   200010 236100                    LDQ     I,,AUTO
         3 011467   000003 402007                    MPY     3,DL
         3 011470   200505 470500                    LDP0    DEV_OP$,,AUTO
         3 011471   000000 620006                    EAX0    0,QL
         3 011472   200501 236100                    LDQ     NEW_OP,,AUTO
         3 011473   000000 676110                    ERQ     0,X0,PR0
         3 011474   770000 376003                    ANQ     -4096,DU
         3 011475   011503 601000 3                  TNZ     s:5079

     1772     5078    4         THEN OPERATION = DEV_OP_TBL.TEXT(I);

   5078  3 011476   200010 236100                    LDQ     I,,AUTO
         3 011477   000014 402007                    MPY     12,DL
         3 011500   040100 100506                    MLR     fill='040'O
         3 011501   000000 400010                    ADSC9   0,Q,PR0                  cn=2,n=8
         3 011502   200502 000010                    ADSC9   OPERATION,,AUTO          cn=0,n=8

     1773     5079    4      END;  /* do i = 0 to j */

   5079  3 011503   200010 054100                    AOS     I,,AUTO
         3 011504   200100 236100                    LDQ     J,,AUTO
         3 011505   011466 604000 3                  TMI     s:5077
         3 011506   200010 116100                    CMPQ    I,,AUTO
         3 011507   011466 605000 3                  TPL     s:5077

     1774     5080    3      IF EL$IOERR.DEVNM = IOERR_TBL.DEVNM

   5080  3 011510   200005 470500                    LDP0    INFO+1,,AUTO
         3 011511   040000 106500                    CMPC    fill='040'O
         3 011512   000024 000010                    ADSC9   20,,PR0                  cn=0,n=8
         3 011513   007556 000010 2                  ADSC9   IOERR_TBL+20             cn=0,n=8
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:353  
         3 011514   011616 601000 3                  TNZ     NOT_ALL_MATCH

     1775     5081    4      THEN DO;

     1776     5082    4          IF EL$IOERR.STATUS.MAJOR = IOERR_TBL.STATUS.MAJOR

   5082  3 011515   000001 236100                    LDQ     1,,PR0
         3 011516   007533 676000 2                  ERQ     IOERR_TBL+1
         3 011517   170000 376003                    ANQ     61440,DU
         3 011520   011616 601000 3                  TNZ     NOT_ALL_MATCH

     1777     5083    5          THEN DO;

     1778     5084    5            IF EL$IOERR.STATUS.MINOR = IOERR_TBL.STATUS.MINOR

   5084  3 011521   000001 236100                    LDQ     1,,PR0
         3 011522   007533 676000 2                  ERQ     IOERR_TBL+1
         3 011523   007700 376003                    ANQ     4032,DU
         3 011524   011616 601000 3                  TNZ     NOT_ALL_MATCH

     1779     5085    6            THEN DO;

     1780     5086    6              IF EL$IOERR.MODEL = IOERR_TBL.MODEL

   5086  3 011525   040000 106500                    CMPC    fill='040'O
         3 011526   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 011527   007562 000010 2                  ADSC9   IOERR_TBL+24             cn=0,n=8
         3 011530   011616 601000 3                  TNZ     NOT_ALL_MATCH

     1781     5087    7              THEN DO;

     1782     5088    7                MODEL_CHAR = IOERR_TBL.MODEL;

   5088  3 011531   007562 236000 2                  LDQ     IOERR_TBL+24
         3 011532   000134 376000 4                  ANQ     92
         3 011533   000040 276007                    ORQ     32,DL
         3 011534   200220 756100                    STQ     MODEL_CHAR,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:354  

     1783     5089    8                IF MODEL_CHAR = 'MTU' THEN DO;

   5089  3 011535   200220 236100                    LDQ     MODEL_CHAR,,AUTO
         3 011536   001617 676000 1                  ERQ     BOARD_64K+464
         3 011537   000134 376000 4                  ANQ     92
         3 011540   011607 601000 3                  TNZ     s:5113

     1784     5090    8                  IF EL$IOERR.MODEL = 'MTU8200'

   5090  3 011541   040000 106500                    CMPC    fill='040'O
         3 011542   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 011543   001621 000007 1                  ADSC9   BOARD_64K+466            cn=0,n=7
         3 011544   011571 601000 3                  TNZ     s:5100

     1785     5091    9                  THEN DO;

     1786     5092    9                     NEW_IO_MASK = EL$IOERR.EXTST;

   5092  3 011545   000100 100500                    MLR     fill='000'O
         3 011546   000013 000040                    ADSC9   11,,PR0                  cn=0,n=32
         3 011547   200231 000040                    ADSC9   NEW_IO_MASK,,AUTO        cn=0,n=32

     1787     5093    9                     IO_MASK = IOERR_TBL.EXTST;

   5093  3 011550   000100 100400                    MLR     fill='000'O
         3 011551   007545 000040 2                  ADSC9   IOERR_TBL+11             cn=0,n=32
         3 011552   200221 000040                    ADSC9   IO_MASK,,AUTO            cn=0,n=32

     1788     5094    9                     IF IO_MASK1(29) = IO_MASK2(29) THEN;

   5094  3 011553   200221 236100                    LDQ     IO_MASK,,AUTO
         3 011554   200231 676100                    ERQ     NEW_IO_MASK,,AUTO
         3 011555   000100 376007                    ANQ     64,DL
         3 011556   011570 600000 3                  TZE     s:5098

     1789     5095    9                     ELSE IF IO_MASK1(51) = IO_MASK2(51) THEN;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:355  

   5095  3 011557   200222 236100                    LDQ     IO_MASK+1,,AUTO
         3 011560   200232 676100                    ERQ     NEW_IO_MASK+1,,AUTO
         3 011561   000004 376003                    ANQ     4,DU
         3 011562   011570 600000 3                  TZE     s:5098

     1790     5096    9                     ELSE IF IO_MASK1(52) = IO_MASK2(52) THEN;

   5096  3 011563   200222 236100                    LDQ     IO_MASK+1,,AUTO
         3 011564   200232 676100                    ERQ     NEW_IO_MASK+1,,AUTO
         3 011565   000002 376003                    ANQ     2,DU
         3 011566   011616 601000 3                  TNZ     NOT_ALL_MATCH

   5096  3 011567   011570 710000 3                  TRA     s:5098

     1791     5097    9                     ELSE GOTO NOT_ALL_MATCH;
     1792     5098    9                       GOTO COMP_OP;

   5098  3 011570   011575 710000 3                  TRA     COMP_OP

     1793     5099    9                  END; /* if model is mtu8200 */
     1794     5100    8                  ELSE IF NEW_DENSE_RDF.DENSITY = OLD_DENSE_RDF.DENSITY

   5100  3 011571   200507 236100                    LDQ     NEW_DENSE,,AUTO
         3 011572   200506 676100                    ERQ     OLD_DENSE,,AUTO
         3 011573   700000 376003                    ANQ     -32768,DU
         3 011574   011616 601000 3                  TNZ     NOT_ALL_MATCH

     1795     5101    9                  THEN DO;

     1796     5102    9   COMP_OP:        IF OPERATION = OTHER_IOERR_TBL.OPERATION

   5102  3 011575   040000 106500       COMP_OP      CMPC    fill='040'O
         3 011576   200502 000010                    ADSC9   OPERATION,,AUTO          cn=0,n=8
         3 011577   003333 000010 2                  ADSC9   OTHER_IOERR_TBL+1        cn=0,n=8
         3 011600   011616 601000 3                  TNZ     NOT_ALL_MATCH

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:356  
     1797     5103   10                   THEN DO;

     1798     5104   10                      OTHER_IOERR_TBL.COUNT = OTHER_IOERR_TBL.COUNT + 1;

   5104  3 011601   003332 235000 2                  LDA     OTHER_IOERR_TBL
         3 011602   000001 035007                    ADLA    1,DL
         3 011603   003332 755000 2                  STA     OTHER_IOERR_TBL

     1799     5105   10                      ALL_MATCH = %TRUE;

   5105  3 011604   400000 236003                    LDQ     -131072,DU
         3 011605   200504 756100                    STQ     ALL_MATCH,,AUTO

     1800     5106   10                      GOTO FIND_STATUS_ETC;

   5106  3 011606   012173 710000 3                  TRA     FIND_STATUS_ETC

     1801     5107   10                   END;  /*  if new_operation = old_operation */
     1802     5108    9                   ELSE GOTO NOT_ALL_MATCH;
     1803     5109    9                  END; /* if new density = old density */
     1804     5110    8                  ELSE GOTO NOT_ALL_MATCH;
     1805     5111    8                END; /* if model_char = 'MTU' */
     1806     5112    8                ELSE DO;

     1807     5113    8                  OTHER_IOERR_TBL.COUNT = OTHER_IOERR_TBL.COUNT + 1;

   5113  3 011607   003332 235000 2                  LDA     OTHER_IOERR_TBL
         3 011610   000001 035007                    ADLA    1,DL
         3 011611   003332 755000 2                  STA     OTHER_IOERR_TBL

     1808     5114    8                  ALL_MATCH = %TRUE;

   5114  3 011612   400000 236003                    LDQ     -131072,DU
         3 011613   200504 756100                    STQ     ALL_MATCH,,AUTO

     1809     5115    8                  GOTO FIND_STATUS_ETC;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:357  
   5115  3 011614   012173 710000 3                  TRA     FIND_STATUS_ETC

     1810     5116    8                END; /* else do */
     1811     5117    7              END;
     1812     5118    6              ELSE GOTO NOT_ALL_MATCH;
     1813     5119    6            END;
     1814     5120    5            ELSE GOTO NOT_ALL_MATCH;
     1815     5121    5          END;
     1816     5122    4          ELSE GOTO NOT_ALL_MATCH;
     1817     5123    4      END;
     1818     5124    3      ELSE GOTO NOT_ALL_MATCH;
     1819     5125    3   END;
     1820     5126    3      DO NEVER;

   5126  3 011615   012173 710000 3                  TRA     FIND_STATUS_ETC

     1821     5127    3   NOT_ALL_MATCH: MMVEC = VECTOR(MMBUF);

   5127  3 011616   000306 237000 4     NOT_ALL_MAT* LDAQ    198
         3 011617   200372 757100                    STAQ    MMVEC,,AUTO

     1822     5128    3                  MMVEC.BOUND = POFFC(MM$,ADDR(MMBUF)) - 1;

   5128  3 011620   000012 236000 4                  LDQ     10
         3 011621   000020 772000                    QRL     16
         3 011622   200534 756100                    STQ     CHIP#+2,,AUTO
         3 011623   200370 236100                    LDQ     MM$,,AUTO
         3 011624   000020 772000                    QRL     16
         3 011625   200534 136100                    SBLQ    CHIP#+2,,AUTO
         3 011626   000001 136007                    SBLQ    1,DL
         3 011627   000020 736000                    QLS     16
         3 011630   200372 676100                    ERQ     MMVEC,,AUTO
         3 011631   000034 376000 xsym               ANQ     B_VECTNIL+28
         3 011632   200372 656100                    ERSQ    MMVEC,,AUTO

     1823     5129    3                  IO_MASK = IOERR_TBL.EXTST;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:358  
   5129  3 011633   000100 100400                    MLR     fill='000'O
         3 011634   007545 000040 2                  ADSC9   IOERR_TBL+11             cn=0,n=32
         3 011635   200221 000040                    ADSC9   IO_MASK,,AUTO            cn=0,n=32

     1824     5130    3                  MODEL_CHAR = IOERR_TBL.MODEL;

   5130  3 011636   007562 236000 2                  LDQ     IOERR_TBL+24
         3 011637   000134 376000 4                  ANQ     92
         3 011640   000040 276007                    ORQ     32,DL
         3 011641   200220 756100                    STQ     MODEL_CHAR,,AUTO

     1825     5131    3                  IF IOERR_TBL.MODEL = 'MTU0400' OR IOERR_TBL.MODEL = 'MTU0500'

   5131  3 011642   040000 106400                    CMPC    fill='040'O
         3 011643   007562 000010 2                  ADSC9   IOERR_TBL+24             cn=0,n=8
         3 011644   001623 000007 1                  ADSC9   BOARD_64K+468            cn=0,n=7
         3 011645   011652 600000 3                  TZE     s:5132
         3 011646   040000 106400                    CMPC    fill='040'O
         3 011647   007562 000010 2                  ADSC9   IOERR_TBL+24             cn=0,n=8
         3 011650   001772 000007 1                  ADSC9   BOARD_64K+571            cn=0,n=7
         3 011651   011655 601000 3                  TNZ     s:5133

     1826     5132    3                  THEN OTHER_IOERR_TBL.TRACK = '7';

   5132  3 011652   067000 236003                    LDQ     28160,DU
         3 011653   003355 756000 2                  STQ     OTHER_IOERR_TBL+19
         3 011654   011673 710000 3                  TRA     s:5135

     1827     5133    3                 ELSE IF IOERR_TBL.MODEL = 'MTU0610' OR IOERR_TBL.MODEL = 'MTU0630' OR
              5133                           IOERR_TBL.MODEL = 'MTU8200'

   5133  3 011655   040000 106400                    CMPC    fill='040'O
         3 011656   007562 000010 2                  ADSC9   IOERR_TBL+24             cn=0,n=8
         3 011657   001617 000007 1                  ADSC9   BOARD_64K+464            cn=0,n=7
         3 011660   011671 600000 3                  TZE     s:5134
         3 011661   040000 106400                    CMPC    fill='040'O
         3 011662   007562 000010 2                  ADSC9   IOERR_TBL+24             cn=0,n=8
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:359  
         3 011663   001774 000007 1                  ADSC9   BOARD_64K+573            cn=0,n=7
         3 011664   011671 600000 3                  TZE     s:5134
         3 011665   040000 106400                    CMPC    fill='040'O
         3 011666   007562 000010 2                  ADSC9   IOERR_TBL+24             cn=0,n=8
         3 011667   001621 000007 1                  ADSC9   BOARD_64K+466            cn=0,n=7
         3 011670   011673 601000 3                  TNZ     s:5135

     1828     5134    3                  THEN OTHER_IOERR_TBL.TRACK = '9';

   5134  3 011671   071000 236003                    LDQ     29184,DU
         3 011672   003355 756000 2                  STQ     OTHER_IOERR_TBL+19

     1829     5135    4                  DO I = CTL.NHDR + 1 TO CTL.NFMT + CTL.NHDR;

   5135  3 011673   200211 470500                    LDP0    CTL$,,AUTO
         3 011674   000000 236100                    LDQ     0,,PR0
         3 011675   000033 772000                    QRL     27
         3 011676   000001 036007                    ADLQ    1,DL
         3 011677   200010 756100                    STQ     I,,AUTO
         3 011700   012046 710000 3                  TRA     s:5152+1

     1830     5136    4                    IF MODEL_CHAR = 'MTU' AND IO_MASK1 THEN

   5136  3 011701   200220 236100                    LDQ     MODEL_CHAR,,AUTO
         3 011702   001617 676000 1                  ERQ     BOARD_64K+464
         3 011703   000134 376000 4                  ANQ     92
         3 011704   011731 601000 3                  TNZ     s:5138
         3 011705   000000 106500                    CMPC    fill='000'O
         3 011706   200221 000040                    ADSC9   IO_MASK,,AUTO            cn=0,n=32
         3 011707   000002 000002 xsym               ADSC9   B_VECTNIL+2              cn=0,n=2
         3 011710   011731 600000 3                  TZE     s:5138

     1831     5137    4                   CALL THW$WRITE(CTL.FMT(I),VECTOR(IOERR_TBL),VECTOR(OTHER_IOERR_TBL)
              5137                             ,MMVEC);

   5137  3 011711   200372 630500                    EPPR0   MMVEC,,AUTO
         3 011712   200537 450500                    STP0    CHIP#+5,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:360  
         3 011713   000424 236000 4                  LDQ     276
         3 011714   200536 756100                    STQ     CHIP#+4,,AUTO
         3 011715   000425 236000 4                  LDQ     277
         3 011716   200535 756100                    STQ     CHIP#+3,,AUTO
         3 011717   200010 236100                    LDQ     I,,AUTO
         3 011720   000023 736000                    QLS     19
         3 011721   000002 036003                    ADLQ    2,DU
         3 011722   200211 036100                    ADLQ    CTL$,,AUTO
         3 011723   200534 756100                    STQ     CHIP#+2,,AUTO
         3 011724   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 011725   000022 631400 xsym               EPPR1   B_VECTNIL+18
         3 011726   000000 701000 xent               TSX1    THW$WRITE
         3 011727   000000 011000                    NOP     0
         3 011730   011762 710000 3                  TRA     s:5141

     1832     5138    4                    ELSE IF MODEL_CHAR = 'MTU' THEN

   5138  3 011731   200220 236100                    LDQ     MODEL_CHAR,,AUTO
         3 011732   001617 676000 1                  ERQ     BOARD_64K+464
         3 011733   000134 376000 4                  ANQ     92
         3 011734   011750 601000 3                  TNZ     s:5140

     1833     5139    4                    CALL THW$WRITE(NO_XSTAT_FMT,VECTOR(IOERR_TBL),VECTOR(
              5139                             OTHER_IOERR_TBL),MMVEC);

   5139  3 011735   200372 630500                    EPPR0   MMVEC,,AUTO
         3 011736   200537 450500                    STP0    CHIP#+5,,AUTO
         3 011737   000424 236000 4                  LDQ     276
         3 011740   200536 756100                    STQ     CHIP#+4,,AUTO
         3 011741   000426 237000 4                  LDAQ    278
         3 011742   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 011743   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 011744   000022 631400 xsym               EPPR1   B_VECTNIL+18
         3 011745   000000 701000 xent               TSX1    THW$WRITE
         3 011746   000000 011000                    NOP     0
         3 011747   011762 710000 3                  TRA     s:5141

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:361  
     1834     5140    4                    ELSE CALL THW$WRITE(NON_TAPE_FMT,VECTOR(IOERR_TBL),VECTOR(
              5140                             OTHER_IOERR_TBL),MMVEC);

   5140  3 011750   200372 630500                    EPPR0   MMVEC,,AUTO
         3 011751   200537 450500                    STP0    CHIP#+5,,AUTO
         3 011752   000424 236000 4                  LDQ     276
         3 011753   200536 756100                    STQ     CHIP#+4,,AUTO
         3 011754   000430 237000 4                  LDAQ    280
         3 011755   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 011756   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 011757   000022 631400 xsym               EPPR1   B_VECTNIL+18
         3 011760   000000 701000 xent               TSX1    THW$WRITE
         3 011761   000000 011000                    NOP     0

     1835     5141    5                    IF IO_MASK1 THEN DO;

   5141  3 011762   000000 106500                    CMPC    fill='000'O
         3 011763   200221 000040                    ADSC9   IO_MASK,,AUTO            cn=0,n=32
         3 011764   000002 000002 xsym               ADSC9   B_VECTNIL+2              cn=0,n=2
         3 011765   012045 600000 3                  TZE     s:5152

     1836     5142    6                       IF TRACK_NINE THEN DO;

   5142  3 011766   200511 234100                    SZN     TRACK_NINE,,AUTO
         3 011767   012045 605000 3                  TPL     s:5152

     1837     5143    7                          DO X = 0 TO 8;

   5143  3 011770   200011 450100                    STZ     X,,AUTO

     1838     5144    8                             IF NINE_TRACK_RDF(X) > 0 THEN DO;

   5144  3 011771   200011 235100                    LDA     X,,AUTO
         3 011772   000100 101405                    MRL     fill='000'O
         3 011773   007416 000001 2                  ADSC9   NINE_TRACK_TBL,A         cn=0,n=1
         3 011774   200534 000004                    ADSC9   CHIP#+2,,AUTO            cn=0,n=4
         3 011775   200534 236100                    LDQ     CHIP#+2,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:362  
         3 011776   000000 116003                    CMPQ    0,DU
         3 011777   012024 600000 3                  TZE     s:5148

     1839     5145    8                             CALL BINCHAR(NINE_TRACK_BLNK(X),NINE_TRACK_RDF(X));

   5145  3 012000   200011 236100                    LDQ     X,,AUTO
         3 012001   000003 402007                    MPY     3,DL
         3 012002   200011 235100                    LDA     X,,AUTO
         3 012003   000100 101405                    MRL     fill='000'O
         3 012004   007416 000001 2                  ADSC9   NINE_TRACK_TBL,A         cn=0,n=1
         3 012005   200534 000004                    ADSC9   CHIP#+2,,AUTO            cn=0,n=4
         3 012006   200535 756100                    STQ     CHIP#+3,,AUTO
         3 012007   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 012010   000000 235003                    LDA     0,DU
         3 012011   200536 757100                    STAQ    CHIP#+4,,AUTO
         3 012012   200535 235100                    LDA     CHIP#+3,,AUTO
         3 012013   000105 301500                    BTD
         3 012014   200536 000010                    NDSC9   CHIP#+4,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 012015   200514 030003                    NDSC9   NINE_TRACK_BLNK,A,AUTO   cn=0,s=nosgn,sf=0,n=3

     1840     5146    8                             CALL EDITCHAR(NINE_TRACK_BLNK(X), , ,NO_LEADING_ZEROS,
              5146                                      NINE_TRACK_BLNK(X));

   5146  3 012016   200011 236100                    LDQ     X,,AUTO
         3 012017   000003 402007                    MPY     3,DL
         3 012020   106000 024506                    MVNE
         3 012021   200514 030003                    NDSC9   NINE_TRACK_BLNK,Q,AUTO   cn=0,s=nosgn,sf=0,n=3
         3 012022   000450 000003 1                  ADSC9   NO_LEADING_ZEROS         cn=0,n=3
         3 012023   200514 000003                    ADSC9   NINE_TRACK_BLNK,Q,AUTO   cn=0,n=3

     1841     5147    8                             END;  /* if nine_track_rdf(x) > 0 */

     1842     5148    7                          END;

   5148  3 012024   200011 054100                    AOS     X,,AUTO
         3 012025   200011 235100                    LDA     X,,AUTO
         3 012026   000010 115007                    CMPA    8,DL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:363  
         3 012027   011771 604400 3                  TMOZ    s:5144

     1843     5149    6                          CALL THW$WRITE(NINE_TRK_FMT,VECTOR(NINE_TRACK_BLNK));

   5149  3 012030   000432 235000 4                  LDA     282
         3 012031   200534 452500                    STP2    CHIP#+2,,AUTO
         3 012032   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 012033   000514 036003                    ADLQ    332,DU
         3 012034   200536 757100                    STAQ    CHIP#+4,,AUTO
         3 012035   200536 630500                    EPPR0   CHIP#+4,,AUTO
         3 012036   200541 450500                    STP0    CHIP#+7,,AUTO
         3 012037   000433 236000 4                  LDQ     283
         3 012040   200540 756100                    STQ     CHIP#+6,,AUTO
         3 012041   200540 630500                    EPPR0   CHIP#+6,,AUTO
         3 012042   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 012043   000000 701000 xent               TSX1    THW$WRITE
         3 012044   000000 011000                    NOP     0

     1844     5150    6                       END;  /* if track_nine */

     1845     5151    5                    END;  /* if io_mask1 */

     1846     5152    4                  END;   /* do i = ctl.nhdr+1 to ctl.nfmt+ctl.nhdr */

   5152  3 012045   200010 054100                    AOS     I,,AUTO
         3 012046   200211 470500                    LDP0    CTL$,,AUTO
         3 012047   000000 236100                    LDQ     0,,PR0
         3 012050   000033 772000                    QRL     27
         3 012051   200534 756100                    STQ     CHIP#+2,,AUTO
         3 012052   000000 236100                    LDQ     0,,PR0
         3 012053   000022 772000                    QRL     18
         3 012054   000777 376007                    ANQ     511,DL
         3 012055   200534 036100                    ADLQ    CHIP#+2,,AUTO
         3 012056   011701 604000 3                  TMI     s:5136
         3 012057   200010 116100                    CMPQ    I,,AUTO
         3 012060   011701 605000 3                  TPL     s:5136

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:364  
     1847     5153    4         IF CTL.SPECIAL THEN DO;

   5153  3 012061   000000 236100                    LDQ     0,,PR0
         3 012062   200000 316007                    CANQ    65536,DL
         3 012063   012141 600000 3                  TZE     s:5161

     1848     5154    5            IF NUM_XSTATUS > 0 AND MODEL_CHAR = 'MTU' THEN DO;/* if stats bits*/

   5154  3 012064   200510 235100                    LDA     NUM_XSTATUS,,AUTO
         3 012065   012141 600000 3                  TZE     s:5161
         3 012066   200220 236100                    LDQ     MODEL_CHAR,,AUTO
         3 012067   001617 676000 1                  ERQ     BOARD_64K+464
         3 012070   000134 376000 4                  ANQ     92
         3 012071   012141 601000 3                  TNZ     s:5161

     1849     5155    5               CALL THW$WRITE(EXTENDED_FMT);  /* write extended stats hdr */

   5155  3 012072   000434 630400 4                  EPPR0   284
         3 012073   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 012074   000000 701000 xent               TSX1    THW$WRITE
         3 012075   000000 011000                    NOP     0

     1850     5156    6               DO I = 0 TO NUM_XSTATUS-1;

   5156  3 012076   200010 450100                    STZ     I,,AUTO
         3 012077   012135 710000 3                  TRA     s:5158+1

     1851     5157    6                   CALL THW$WRITE(STATUS_FMT,VECTOR(XSTAT_TBL.COUNT(I)),VECTOR(
              5157                            XSTAT_TBL.TEXT(I)));

   5157  3 012100   777640 235007                    LDA     -96,DL
         3 012101   200010 236100                    LDQ     I,,AUTO
         3 012102   200534 755100                    STA     CHIP#+2,,AUTO
         3 012103   000012 402003                    MPY     10,DU
         3 012104   000435 036000 4                  ADLQ    285
         3 012105   200534 235100                    LDA     CHIP#+2,,AUTO
         3 012106   200536 757100                    STAQ    CHIP#+4,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:365  
         3 012107   000436 235000 4                  LDA     286
         3 012110   200010 236100                    LDQ     I,,AUTO
         3 012111   200540 755100                    STA     CHIP#+6,,AUTO
         3 012112   000012 402003                    MPY     10,DU
         3 012113   000437 036000 4                  ADLQ    287
         3 012114   200540 235100                    LDA     CHIP#+6,,AUTO
         3 012115   200544 757100                    STAQ    CHIP#+10,,AUTO
         3 012116   200536 237100                    LDAQ    CHIP#+4,,AUTO
         3 012117   200542 757100                    STAQ    CHIP#+8,,AUTO
         3 012120   200544 237100                    LDAQ    CHIP#+10,,AUTO
         3 012121   200546 757100                    STAQ    CHIP#+12,,AUTO
         3 012122   200546 630500                    EPPR0   CHIP#+12,,AUTO
         3 012123   200552 450500                    STP0    CHIP#+16,,AUTO
         3 012124   200542 631500                    EPPR1   CHIP#+8,,AUTO
         3 012125   200551 451500                    STP1    CHIP#+15,,AUTO
         3 012126   000440 236000 4                  LDQ     288
         3 012127   200550 756100                    STQ     CHIP#+14,,AUTO
         3 012130   200550 630500                    EPPR0   CHIP#+14,,AUTO
         3 012131   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 012132   000000 701000 xent               TSX1    THW$WRITE
         3 012133   000000 011000                    NOP     0

     1852     5158    6               END; /*  do i = 0 to num_xstatus */

   5158  3 012134   200010 054100                    AOS     I,,AUTO
         3 012135   200010 236100                    LDQ     I,,AUTO
         3 012136   012100 604000 3                  TMI     s:5157
         3 012137   200510 116100                    CMPQ    NUM_XSTATUS,,AUTO
         3 012140   012100 602000 3                  TNC     s:5157

     1853     5159    5            END; /* if num_xstatus > 0 */

     1854     5160    4         END; /* if ctl.special */

     1855     5161    3         IF TH_EOF_FLG THEN RETURN;

   5161  3 012141   000000 234000 xsym               SZN     TH_EOF_FLG
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:366  
         3 012142   012145 605000 3                  TPL     s:5162

   5161  3 012143   200524 221300                    LDX1  ! NINE_TRACK_BLNK+8,,AUTO
         3 012144   000001 702211                    TSX2  ! 1,X1

     1856     5162    3         CALL INIT_TABLES;  /* call procedure to initialize tables */

   5162  3 012145   014433 701000 3                  TSX1    INIT_TABLES
         3 012146   000000 011000                    NOP     0

     1857     5163    3         IF EL$IOERR.DEVNM ~= IOERR_TBL.DEVNM THEN

   5163  3 012147   200005 470500                    LDP0    INFO+1,,AUTO
         3 012150   040000 106500                    CMPC    fill='040'O
         3 012151   000024 000010                    ADSC9   20,,PR0                  cn=0,n=8
         3 012152   007556 000010 2                  ADSC9   IOERR_TBL+20             cn=0,n=8
         3 012153   012164 600000 3                  TZE     s:5165

     1858     5164    3              CALL THW$WRITE(COMPONENT_FMT,INFO);

   5164  3 012154   200004 631500                    EPPR1   INFO,,AUTO
         3 012155   200535 451500                    STP1    CHIP#+3,,AUTO
         3 012156   000416 236000 4                  LDQ     270
         3 012157   200534 756100                    STQ     CHIP#+2,,AUTO
         3 012160   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 012161   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 012162   000000 701000 xent               TSX1    THW$WRITE
         3 012163   000000 011000                    NOP     0

     1859     5165    3            IOERR_TBL = EL$IOERR;  /* save new data record */

   5165  3 012164   200005 470500                    LDP0    INFO+1,,AUTO
         3 012165   000000 100500                    MLR     fill='000'O
         3 012166   000000 000170                    ADSC9   0,,PR0                   cn=0,n=120
         3 012167   007532 000170 2                  ADSC9   IOERR_TBL                cn=0,n=120

     1860     5166    3            OTHER_IOERR_TBL.COUNT = OTHER_IOERR_TBL.COUNT + 1;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:367  

   5166  3 012170   003332 235000 2                  LDA     OTHER_IOERR_TBL
         3 012171   000001 035007                    ADLA    1,DL
         3 012172   003332 755000 2                  STA     OTHER_IOERR_TBL

     1861     5167    3      END;  /* do never */

     1862     5168    2   FIND_STATUS_ETC: TEMP_STATUS = EL$IOERR.STATUS;

   5168  3 012173   200005 470500       FIND_STATUS* LDP0    INFO+1,,AUTO
         3 012174   000000 100500                    MLR     fill='000'O
         3 012175   000001 000010                    ADSC9   1,,PR0                   cn=0,n=8
         3 012176   000054 000010 2                  ADSC9   TEMP_STATUS              cn=0,n=8

     1863     5169    3         IF TEMP_STATUS1.MAJOR_STATUS = '101111'B THEN DO;

   5169  3 012177   000054 236000 2                  LDQ     TEMP_STATUS
         3 012200   770000 376003                    ANQ     -4096,DU
         3 012201   570000 116003                    CMPQ    -69632,DU
         3 012202   012214 601000 3                  TNZ     s:5174

     1864     5170    3            TEMP_STATUS1.XX = TEMP_STATUS1.FAULT_CODE;

   5170  3 012203   000055 236000 2                  LDQ     TEMP_STATUS+1
         3 012204   000030 736000                    QLS     24
         3 012205   000054 752020 2                  STCQ    TEMP_STATUS,'20'O

     1865     5171    3            TEMP_STATUS1.YY = TEMP_STATUS1.CHANNEL;

   5171  3 012206   000055 236000 2                  LDQ     TEMP_STATUS+1
         3 012207   000006 772000                    QRL     6
         3 012210   000054 752004 2                  STCQ    TEMP_STATUS,'04'O

     1866     5172    3            EL$IOERR.STATUS = TEMP_STATUS;

   5172  3 012211   000054 237000 2                  LDAQ    TEMP_STATUS
         3 012212   000001 755100                    STA     1,,PR0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:368  
         3 012213   000002 756100                    STQ     2,,PR0

     1867     5173    3         END;

     1868     5174    2         CALL THF$STATUS(EL$IOERR,MAJBUF,MAJCNT,MINBUF,MINCNT) ALTRET(SORRY_NO_STATS);

   5174  3 012214   200367 630500                    EPPR0   MINCNT,,AUTO
         3 012215   200540 450500                    STP0    CHIP#+6,,AUTO
         3 012216   200356 631500                    EPPR1   MINBUF,,AUTO
         3 012217   200537 451500                    STP1    CHIP#+5,,AUTO
         3 012220   200366 633500                    EPPR3   MAJCNT,,AUTO
         3 012221   200536 453500                    STP3    CHIP#+4,,AUTO
         3 012222   200346 634500                    EPPR4   MAJBUF,,AUTO
         3 012223   200535 454500                    STP4    CHIP#+3,,AUTO
         3 012224   200005 236100                    LDQ     INFO+1,,AUTO
         3 012225   200534 756100                    STQ     CHIP#+2,,AUTO
         3 012226   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 012227   000023 631400 xsym               EPPR1   B_VECTNIL+19
         3 012230   000000 701000 xent               TSX1    THF$STATUS
         3 012231   012257 702000 3                  TSX2    SORRY_NO_STATS

     1869     5175    2         CALL THF$ADD_TEXTC(MM$,MAJBUF,MAJCNT);

   5175  3 012232   200366 630500                    EPPR0   MAJCNT,,AUTO
         3 012233   200536 450500                    STP0    CHIP#+4,,AUTO
         3 012234   200346 631500                    EPPR1   MAJBUF,,AUTO
         3 012235   200535 451500                    STP1    CHIP#+3,,AUTO
         3 012236   200370 633500                    EPPR3   MM$,,AUTO
         3 012237   200534 453500                    STP3    CHIP#+2,,AUTO
         3 012240   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 012241   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 012242   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 012243   000000 011000                    NOP     0

     1870     5176    2         CALL THF$ADD_TEXTC(MM$,MINBUF,MINCNT);

   5176  3 012244   200367 630500                    EPPR0   MINCNT,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:369  
         3 012245   200536 450500                    STP0    CHIP#+4,,AUTO
         3 012246   200356 631500                    EPPR1   MINBUF,,AUTO
         3 012247   200535 451500                    STP1    CHIP#+3,,AUTO
         3 012250   200370 633500                    EPPR3   MM$,,AUTO
         3 012251   200534 453500                    STP3    CHIP#+2,,AUTO
         3 012252   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 012253   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 012254   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 012255   000000 011000                    NOP     0

     1871     5177
     1872     5178    3      DO NEVER;

   5178  3 012256   012320 710000 3                  TRA     s:5185

     1873     5179    3   SORRY_NO_STATS: CALL THF$ADD_TEXTC(MM$,'***',3);

   5179  3 012257   000100 236000 4     SORRY_NO_ST* LDQ     64
         3 012260   200536 756100                    STQ     CHIP#+4,,AUTO
         3 012261   000305 236000 4                  LDQ     197
         3 012262   200535 756100                    STQ     CHIP#+3,,AUTO
         3 012263   200370 630500                    EPPR0   MM$,,AUTO
         3 012264   200534 450500                    STP0    CHIP#+2,,AUTO
         3 012265   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 012266   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 012267   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 012270   000000 011000                    NOP     0

     1874     5180    3                   CALL THF$ADD_TEXTC(MM$,'***',3);

   5180  3 012271   000100 236000 4                  LDQ     64
         3 012272   200536 756100                    STQ     CHIP#+4,,AUTO
         3 012273   000305 236000 4                  LDQ     197
         3 012274   200535 756100                    STQ     CHIP#+3,,AUTO
         3 012275   200370 630500                    EPPR0   MM$,,AUTO
         3 012276   200534 450500                    STP0    CHIP#+2,,AUTO
         3 012277   200534 630500                    EPPR0   CHIP#+2,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:370  
         3 012300   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 012301   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 012302   000000 011000                    NOP     0

     1875     5181    3                   MMVEC = VECTOR(MMBUF);

   5181  3 012303   000306 237000 4                  LDAQ    198
         3 012304   200372 757100                    STAQ    MMVEC,,AUTO

     1876     5182    3                   MMVEC.BOUND = POFFC(MM$,ADDR(MMBUF)) - 1;

   5182  3 012305   000012 236000 4                  LDQ     10
         3 012306   000020 772000                    QRL     16
         3 012307   200534 756100                    STQ     CHIP#+2,,AUTO
         3 012310   200370 236100                    LDQ     MM$,,AUTO
         3 012311   000020 772000                    QRL     16
         3 012312   200534 136100                    SBLQ    CHIP#+2,,AUTO
         3 012313   000001 136007                    SBLQ    1,DL
         3 012314   000020 736000                    QLS     16
         3 012315   200372 676100                    ERQ     MMVEC,,AUTO
         3 012316   000034 376000 xsym               ANQ     B_VECTNIL+28
         3 012317   200372 656100                    ERSQ    MMVEC,,AUTO

     1877     5183    3      END;  /* do never */

     1878     5184
     1879     5185    2      NXST = 0;

   5185  3 012320   200343 450100                    STZ     NXST,,AUTO

     1880     5186    2      DEV_FLAG = %FALSE;

   5186  3 012321   200214 450100                    STZ     DEV_FLAG,,AUTO

     1881     5187    3      DO I = 0 TO NUMMODELS;

   5187  3 012322   200010 450100                    STZ     I,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:371  

     1882     5188    4         IF EL$IOERR.MODEL = X_DEV_TYPE.DEV(I) THEN DO;

   5188  3 012323   200010 235100                    LDA     I,,AUTO
         3 012324   000004 735000                    ALS     4
         3 012325   200005 470500                    LDP0    INFO+1,,AUTO
         3 012326   040005 106500                    CMPC    fill='040'O
         3 012327   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 012330   000000 000010 xsym               ADSC9   X_DEV_TYPE,A             cn=0,n=8
         3 012331   012401 601000 3                  TNZ     s:5202

     1883     5189    4            IO_MASK = EL$IOERR.EXTST;

   5189  3 012332   000100 100500                    MLR     fill='000'O
         3 012333   000013 000040                    ADSC9   11,,PR0                  cn=0,n=32
         3 012334   200221 000040                    ADSC9   IO_MASK,,AUTO            cn=0,n=32

     1884     5190    4            IF IO_MASK1 THEN;

   5190  3 012335   000000 106500                    CMPC    fill='000'O
         3 012336   200221 000040                    ADSC9   IO_MASK,,AUTO            cn=0,n=32
         3 012337   000002 000002 xsym               ADSC9   B_VECTNIL+2              cn=0,n=2
         3 012340   013603 600000 3                  TZE     NO_INT

   5185  3 012341   012342 710000 3                  TRA     s:5192

     1885     5191    4            ELSE GOTO NO_INT;
     1886     5192    4              IF EL$IOERR.MODEL = 'MTU0610' AND IO_MASK1(53) AND IO_MASK1(54)

   5192  3 012342   040000 106500                    CMPC    fill='040'O
         3 012343   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 012344   001617 000007 1                  ADSC9   BOARD_64K+464            cn=0,n=7
         3 012345   012354 601000 3                  TNZ     s:5194
         3 012346   200222 236100                    LDQ     IO_MASK+1,,AUTO
         3 012347   000001 316003                    CANQ    1,DU
         3 012350   012354 600000 3                  TZE     s:5194
         3 012351   400000 316007                    CANQ    -131072,DL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:372  
         3 012352   012354 600000 3                  TZE     s:5194

     1887     5193    4              THEN I = I + 1;

   5193  3 012353   200010 054100                    AOS     I,,AUTO

     1888     5194    4              IF EL$IOERR.MODEL = 'MTU0400' THEN I = I + 1;

   5194  3 012354   040000 106500                    CMPC    fill='040'O
         3 012355   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 012356   001623 000007 1                  ADSC9   BOARD_64K+468            cn=0,n=7
         3 012357   012361 601000 3                  TNZ     s:5195

   5194  3 012360   200010 054100                    AOS     I,,AUTO

     1889     5195    4              IF EL$IOERR.MODEL = 'MTU8200'

   5195  3 012361   040000 106500                    CMPC    fill='040'O
         3 012362   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 012363   001621 000007 1                  ADSC9   BOARD_64K+466            cn=0,n=7
         3 012364   012367 601000 3                  TNZ     s:5197

     1890     5196    4              THEN FIPS_TAPE = %TRUE;

   5196  3 012365   400000 236003                    LDQ     -131072,DU
         3 012366   200277 756100                    STQ     FIPS_TAPE,,AUTO

     1891     5197    4            DEV$ = X_DEV_TYPE.SUB$(I);

   5197  3 012367   200010 235100                    LDA     I,,AUTO
         3 012370   000002 735000                    ALS     2
         3 012371   000002 236005 xsym               LDQ     X_DEV_TYPE+2,AL
         3 012372   200215 756100                    STQ     DEV$,,AUTO

     1892     5198    4            DEV_FLAG = %TRUE;

   5198  3 012373   400000 236003                    LDQ     -131072,DU
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:373  
         3 012374   200214 756100                    STQ     DEV_FLAG,,AUTO

     1893     5199    4            J = X_DEV_TYPE.COUNT(I);

   5199  3 012375   000003 236005 xsym               LDQ     X_DEV_TYPE+3,AL
         3 012376   000033 772000                    QRL     27
         3 012377   200100 756100                    STQ     J,,AUTO

     1894     5200    4            GOTO FOUND_XSTATS;

   5200  3 012400   012406 710000 3                  TRA     FOUND_XSTATS

     1895     5201    4         END;
     1896     5202    3      END;   /* do i = 0 to 19 */

   5202  3 012401   200010 054100                    AOS     I,,AUTO
         3 012402   200010 235100                    LDA     I,,AUTO
         3 012403   000035 115007                    CMPA    29,DL
         3 012404   012323 604400 3                  TMOZ    s:5188

     1897     5203    2      GOTO NO_INT;

   5203  3 012405   013603 710000 3                  TRA     NO_INT

     1898     5204    3   FOUND_XSTATS:   IF DEV_FLAG THEN DO;

   5204  3 012406   200214 234100       FOUND_XSTATS SZN     DEV_FLAG,,AUTO
         3 012407   013672 605000 3                  TPL     s:5334

     1899     5205    3        IO_MASK = EL$IOERR.EXTST;

   5205  3 012410   000100 100500                    MLR     fill='000'O
         3 012411   000013 000040                    ADSC9   11,,PR0                  cn=0,n=32
         3 012412   200221 000040                    ADSC9   IO_MASK,,AUTO            cn=0,n=32

     1900     5206    3        MODEL_CHAR = EL$IOERR.MODEL;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:374  
   5206  3 012413   000030 236100                    LDQ     24,,PR0
         3 012414   000134 376000 4                  ANQ     92
         3 012415   000040 276007                    ORQ     32,DL
         3 012416   200220 756100                    STQ     MODEL_CHAR,,AUTO

     1901     5207    4          DO I = 0 TO J; /* go through device's text tables */

   5207  3 012417   200010 450100                    STZ     I,,AUTO
         3 012420   013577 710000 3                  TRA     s:5317+1

     1902     5208    4            IF (((MODEL_CHAR = 'MTU')AND NOT FIPS_TAPE AND

   5208  3 012421   200220 236100                    LDQ     MODEL_CHAR,,AUTO
         3 012422   001617 676000 1                  ERQ     BOARD_64K+464
         3 012423   000134 376000 4                  ANQ     92
         3 012424   012460 601000 3                  TNZ     s:5208+31
         3 012425   200277 234100                    SZN     FIPS_TAPE,,AUTO
         3 012426   012460 604000 3                  TMI     s:5208+31
         3 012427   200010 236100                    LDQ     I,,AUTO
         3 012430   000012 402007                    MPY     10,DL
         3 012431   200215 470500                    LDP0    DEV$,,AUTO
         3 012432   000000 236106                    LDQ     0,QL,PR0
         3 012433   777000 376003                    ANQ     -512,DU
         3 012434   020000 116003                    CMPQ    8192,DU
         3 012435   012474 600000 3                  TZE     s:5213
         3 012436   200010 236100                    LDQ     I,,AUTO
         3 012437   000012 402007                    MPY     10,DL
         3 012440   000000 236106                    LDQ     0,QL,PR0
         3 012441   777000 376003                    ANQ     -512,DU
         3 012442   024000 116003                    CMPQ    10240,DU
         3 012443   012474 600000 3                  TZE     s:5213
         3 012444   200010 236100                    LDQ     I,,AUTO
         3 012445   000012 402007                    MPY     10,DL
         3 012446   000000 236106                    LDQ     0,QL,PR0
         3 012447   777000 376003                    ANQ     -512,DU
         3 012450   033000 116003                    CMPQ    13824,DU
         3 012451   012474 600000 3                  TZE     s:5213
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:375  
         3 012452   200010 236100                    LDQ     I,,AUTO
         3 012453   000012 402007                    MPY     10,DL
         3 012454   000000 236106                    LDQ     0,QL,PR0
         3 012455   777000 376003                    ANQ     -512,DU
         3 012456   043000 116003                    CMPQ    17920,DU
         3 012457   012474 600000 3                  TZE     s:5213
         3 012460   200005 470500                    LDP0    INFO+1,,AUTO
         3 012461   040000 106500                    CMPC    fill='040'O
         3 012462   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 012463   001623 000007 1                  ADSC9   BOARD_64K+468            cn=0,n=7
         3 012464   012760 601000 3                  TNZ     s:5248
         3 012465   200010 236100                    LDQ     I,,AUTO
         3 012466   000012 402007                    MPY     10,DL
         3 012467   200215 471500                    LDP1    DEV$,,AUTO
         3 012470   100000 236106                    LDQ     0,QL,PR1
         3 012471   777000 376003                    ANQ     -512,DU
         3 012472   140000 116003                    CMPQ    49152,DU
         3 012473   012760 601000 3                  TNZ     s:5248

     1903     5209    4               (DEVTBL.CODE(I) = 16 OR DEVTBL.CODE(I) = 20
     1904     5210    4                 OR DEVTBL.CODE(I) = 27 OR DEVTBL.CODE(I) = 35))
     1905     5211    4               OR (EL$IOERR.MODEL = 'MTU0400' AND DEVTBL.CODE(I) = 96))
     1906     5212    5            THEN DO;

     1907     5213    6              DO CASE(DEVTBL.CODE(I));

   5213  3 012474   200010 236100                    LDQ     I,,AUTO
         3 012475   000012 402007                    MPY     10,DL
         3 012476   200215 470500                    LDP0    DEV$,,AUTO
         3 012477   000000 236106                    LDQ     0,QL,PR0
         3 012500   000033 772000                    QRL     27
         3 012501   000020 136007                    SBLQ    16,DL
         3 012502   000121 116007                    CMPQ    81,DL
         3 012503   012505 602006 3                  TNC     s:5213+9,QL
         3 012504   012644 710000 3                  TRA     s:5225
         3 012505   012626 710000 3                  TRA     s:5215
         3 012506   012644 710000 3                  TRA     s:5225
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:376  
         3 012507   012644 710000 3                  TRA     s:5225
         3 012510   012644 710000 3                  TRA     s:5225
         3 012511   012631 710000 3                  TRA     s:5217
         3 012512   012644 710000 3                  TRA     s:5225
         3 012513   012644 710000 3                  TRA     s:5225
         3 012514   012644 710000 3                  TRA     s:5225
         3 012515   012644 710000 3                  TRA     s:5225
         3 012516   012644 710000 3                  TRA     s:5225
         3 012517   012644 710000 3                  TRA     s:5225
         3 012520   012634 710000 3                  TRA     s:5219
         3 012521   012644 710000 3                  TRA     s:5225
         3 012522   012644 710000 3                  TRA     s:5225
         3 012523   012644 710000 3                  TRA     s:5225
         3 012524   012644 710000 3                  TRA     s:5225
         3 012525   012644 710000 3                  TRA     s:5225
         3 012526   012644 710000 3                  TRA     s:5225
         3 012527   012644 710000 3                  TRA     s:5225
         3 012530   012637 710000 3                  TRA     s:5221
         3 012531   012644 710000 3                  TRA     s:5225
         3 012532   012644 710000 3                  TRA     s:5225
         3 012533   012644 710000 3                  TRA     s:5225
         3 012534   012644 710000 3                  TRA     s:5225
         3 012535   012644 710000 3                  TRA     s:5225
         3 012536   012644 710000 3                  TRA     s:5225
         3 012537   012644 710000 3                  TRA     s:5225
         3 012540   012644 710000 3                  TRA     s:5225
         3 012541   012644 710000 3                  TRA     s:5225
         3 012542   012644 710000 3                  TRA     s:5225
         3 012543   012644 710000 3                  TRA     s:5225
         3 012544   012644 710000 3                  TRA     s:5225
         3 012545   012644 710000 3                  TRA     s:5225
         3 012546   012644 710000 3                  TRA     s:5225
         3 012547   012644 710000 3                  TRA     s:5225
         3 012550   012644 710000 3                  TRA     s:5225
         3 012551   012644 710000 3                  TRA     s:5225
         3 012552   012644 710000 3                  TRA     s:5225
         3 012553   012644 710000 3                  TRA     s:5225
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:377  
         3 012554   012644 710000 3                  TRA     s:5225
         3 012555   012644 710000 3                  TRA     s:5225
         3 012556   012644 710000 3                  TRA     s:5225
         3 012557   012644 710000 3                  TRA     s:5225
         3 012560   012644 710000 3                  TRA     s:5225
         3 012561   012644 710000 3                  TRA     s:5225
         3 012562   012644 710000 3                  TRA     s:5225
         3 012563   012644 710000 3                  TRA     s:5225
         3 012564   012644 710000 3                  TRA     s:5225
         3 012565   012644 710000 3                  TRA     s:5225
         3 012566   012644 710000 3                  TRA     s:5225
         3 012567   012644 710000 3                  TRA     s:5225
         3 012570   012644 710000 3                  TRA     s:5225
         3 012571   012644 710000 3                  TRA     s:5225
         3 012572   012644 710000 3                  TRA     s:5225
         3 012573   012644 710000 3                  TRA     s:5225
         3 012574   012644 710000 3                  TRA     s:5225
         3 012575   012644 710000 3                  TRA     s:5225
         3 012576   012644 710000 3                  TRA     s:5225
         3 012577   012644 710000 3                  TRA     s:5225
         3 012600   012644 710000 3                  TRA     s:5225
         3 012601   012644 710000 3                  TRA     s:5225
         3 012602   012644 710000 3                  TRA     s:5225
         3 012603   012644 710000 3                  TRA     s:5225
         3 012604   012644 710000 3                  TRA     s:5225
         3 012605   012644 710000 3                  TRA     s:5225
         3 012606   012644 710000 3                  TRA     s:5225
         3 012607   012644 710000 3                  TRA     s:5225
         3 012610   012644 710000 3                  TRA     s:5225
         3 012611   012644 710000 3                  TRA     s:5225
         3 012612   012644 710000 3                  TRA     s:5225
         3 012613   012644 710000 3                  TRA     s:5225
         3 012614   012644 710000 3                  TRA     s:5225
         3 012615   012644 710000 3                  TRA     s:5225
         3 012616   012644 710000 3                  TRA     s:5225
         3 012617   012644 710000 3                  TRA     s:5225
         3 012620   012644 710000 3                  TRA     s:5225
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:378  
         3 012621   012644 710000 3                  TRA     s:5225
         3 012622   012644 710000 3                  TRA     s:5225
         3 012623   012644 710000 3                  TRA     s:5225
         3 012624   012644 710000 3                  TRA     s:5225
         3 012625   012642 710000 3                  TRA     s:5223

     1908     5214    6                 CASE (16);

     1909     5215    6                    LENN = 3;

   5215  3 012626   000003 235007                    LDA     3,DL
         3 012627   200461 755100                    STA     LENN,,AUTO
         3 012630   012644 710000 3                  TRA     s:5225

     1910     5216    6                 CASE (20);

     1911     5217    6                    LENN = 4;

   5217  3 012631   000004 235007                    LDA     4,DL
         3 012632   200461 755100                    STA     LENN,,AUTO
         3 012633   012644 710000 3                  TRA     s:5225

     1912     5218    6                 CASE (27);

     1913     5219    6                    LENN = 5;

   5219  3 012634   000005 235007                    LDA     5,DL
         3 012635   200461 755100                    STA     LENN,,AUTO
         3 012636   012644 710000 3                  TRA     s:5225

     1914     5220    6                 CASE (35);

     1915     5221    6                    LENN = 5;

   5221  3 012637   000005 235007                    LDA     5,DL
         3 012640   200461 755100                    STA     LENN,,AUTO
         3 012641   012644 710000 3                  TRA     s:5225
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:379  

     1916     5222    6                 CASE (96);

     1917     5223    6                    LENN = 4;

   5223  3 012642   000004 235007                    LDA     4,DL
         3 012643   200461 755100                    STA     LENN,,AUTO

     1918     5224    6              END;  /* do case */

     1919     5225    6              DO II = 0 TO LENN -1;

   5225  3 012644   200454 450100                    STZ     II,,AUTO
         3 012645   012673 710000 3                  TRA     s:5229+2

     1920     5226    6                IF IO_MASK1(DEVTBL.CODE(I) + II)

   5226  3 012646   200010 236100                    LDQ     I,,AUTO
         3 012647   000012 402007                    MPY     10,DL
         3 012650   200215 470500                    LDP0    DEV$,,AUTO
         3 012651   000000 236106                    LDQ     0,QL,PR0
         3 012652   000033 772000                    QRL     27
         3 012653   200454 036100                    ADLQ    II,,AUTO
         3 012654   000000 066506                    CMPB    filb='0'B
         3 012655   200221 000001                    BDSC    IO_MASK,Q,AUTO           by=0,bit=0,n=1
         3 012656   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 012657   012665 600000 3                  TZE     s:5228

     1921     5227    6                   THEN SP_BIT(II) = '1';

   5227  3 012660   200454 235100                    LDA     II,,AUTO
         3 012661   040005 100400                    MLR     fill='040'O
         3 012662   000311 000001 4                  ADSC9   201                      cn=0,n=1
         3 012663   003253 000001 2                  ADSC9   SP_BIT,A                 cn=0,n=1
         3 012664   012671 710000 3                  TRA     s:5229

     1922     5228    6                   ELSE SP_BIT(II) = '0';
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:380  

   5228  3 012665   200454 235100                    LDA     II,,AUTO
         3 012666   040005 100400                    MLR     fill='040'O
         3 012667   000127 000001 4                  ADSC9   87                       cn=0,n=1
         3 012670   003253 000001 2                  ADSC9   SP_BIT,A                 cn=0,n=1

     1923     5229    6              END;  /* do II */

   5229  3 012671   000001 035007                    ADLA    1,DL
         3 012672   200454 755100                    STA     II,,AUTO
         3 012673   200454 236100                    LDQ     II,,AUTO
         3 012674   200461 116100                    CMPQ    LENN,,AUTO
         3 012675   012646 602000 3                  TNC     s:5226

     1924     5230    6              DO II = 0 TO 4;

   5230  3 012676   200454 450100                    STZ     II,,AUTO

     1925     5231    6                IF DEVTBL.CODE(I) = SP_CASES.BYTEN(II)

   5231  3 012677   200454 236100                    LDQ     II,,AUTO
         3 012700   000003 402007                    MPY     3,DL
         3 012701   000000 620006                    EAX0    0,QL
         3 012702   200010 236100                    LDQ     I,,AUTO
         3 012703   000012 402007                    MPY     10,DL
         3 012704   200215 470500                    LDP0    DEV$,,AUTO
         3 012705   000000 236106                    LDQ     0,QL,PR0
         3 012706   000000 676010 xsym               ERQ     SP_CASES,X0
         3 012707   777000 376003                    ANQ     -512,DU
         3 012710   012717 601000 3                  TNZ     s:5237

     1926     5232    7                THEN DO;

     1927     5233    7                   SPC$ = SP_CASES.SUB$(II);

   5233  3 012711   000001 236010 xsym               LDQ     SP_CASES+1,X0
         3 012712   200462 756100                    STQ     SPC$,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:381  

     1928     5234    7                   JJ = SP_CASES.COUNT(II);

   5234  3 012713   000002 236010 xsym               LDQ     SP_CASES+2,X0
         3 012714   000033 772000                    QRL     27
         3 012715   200455 756100                    STQ     JJ,,AUTO

     1929     5235    7                   GOTO FOUND_SP;

   5235  3 012716   012724 710000 3                  TRA     FOUND_SP

     1930     5236    7                END;  /* if devtbl.code(i) = sp_cases.byten(ii) */
     1931     5237    6              END; /* do II = 0 to 4 */

   5237  3 012717   200454 235100                    LDA     II,,AUTO
         3 012720   000001 035007                    ADLA    1,DL
         3 012721   200454 755100                    STA     II,,AUTO
         3 012722   000005 115007                    CMPA    5,DL
         3 012723   012677 602000 3                  TNC     s:5231

     1932     5238    5   FOUND_SP:
     1933     5239    6              DO II = 0 TO JJ;

   5239  3 012724   200454 450100       FOUND_SP     STZ     II,,AUTO
         3 012725   012754 710000 3                  TRA     s:5246+3

     1934     5240    6                IF SP_CHAR = SPTBL.CODE(II)

   5240  3 012726   200454 236100                    LDQ     II,,AUTO
         3 012727   000054 402007                    MPY     44,DL
         3 012730   003255 470400 2                  LDP0    SPBIT$
         3 012731   200461 720100                    LXL0    LENN,,AUTO
         3 012732   200462 471500                    LDP1    SPC$,,AUTO
         3 012733   040106 106540                    CMPC    fill='040'O
         3 012734   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0
         3 012735   100000 000005                    ADSC9   0,Q,PR1                  cn=0,n=5
         3 012736   012751 601000 3                  TNZ     s:5246
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:382  

     1935     5241    7                THEN DO;

     1936     5242    7                    XST_TEXT = SPTBL.TEXT(II);

   5242  3 012737   040100 100506                    MLR     fill='040'O
         3 012740   100001 400043                    ADSC9   1,Q,PR1                  cn=2,n=35
         3 012741   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

     1937     5243    7                    XST_CNT = SPTBL.COUNT(II);

   5243  3 012742   200454 236100                    LDQ     II,,AUTO
         3 012743   000013 402007                    MPY     11,DL
         3 012744   100001 236106                    LDQ     1,QL,PR1
         3 012745   000022 772000                    QRL     18
         3 012746   000777 376007                    ANQ     511,DL
         3 012747   200342 756100                    STQ     XST_CNT,,AUTO

     1938     5244    7                    GOTO CONT_NEXT_I;

   5244  3 012750   013320 710000 3                  TRA     CONT_NEXT_I

     1939     5245    7                END;   /* if sp_char = sptbl.code(ii) */
     1940     5246    6              END;  /* do ii = 0 to jj */

   5246  3 012751   200454 235100                    LDA     II,,AUTO
         3 012752   000001 035007                    ADLA    1,DL
         3 012753   200454 755100                    STA     II,,AUTO
         3 012754   200455 236100                    LDQ     JJ,,AUTO
         3 012755   200454 116100                    CMPQ    II,,AUTO
         3 012756   012726 603000 3                  TRC     s:5240

     1941     5247    5            END; /* if model_char='MTU'... */

   5247  3 012757   013576 710000 3                  TRA     s:5317

     1942     5248    4            ELSE IF FIPS_TAPE AND ((DEVTBL.CODE(I)=29)OR(DEVTBL.CODE(I)=53)OR(DEVTBL.
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:383  
              5248                     CODE(I)=176))

   5248  3 012760   200277 234100                    SZN     FIPS_TAPE,,AUTO
         3 012761   013274 605000 3                  TPL     s:5265
         3 012762   200010 236100                    LDQ     I,,AUTO
         3 012763   000012 402007                    MPY     10,DL
         3 012764   200215 471500                    LDP1    DEV$,,AUTO
         3 012765   100000 236106                    LDQ     0,QL,PR1
         3 012766   777000 376003                    ANQ     -512,DU
         3 012767   035000 116003                    CMPQ    14848,DU
         3 012770   013005 600000 3                  TZE     s:5249
         3 012771   200010 236100                    LDQ     I,,AUTO
         3 012772   000012 402007                    MPY     10,DL
         3 012773   100000 236106                    LDQ     0,QL,PR1
         3 012774   777000 376003                    ANQ     -512,DU
         3 012775   065000 116003                    CMPQ    27136,DU
         3 012776   013005 600000 3                  TZE     s:5249
         3 012777   200010 236100                    LDQ     I,,AUTO
         3 013000   000012 402007                    MPY     10,DL
         3 013001   100000 236106                    LDQ     0,QL,PR1
         3 013002   777000 376003                    ANQ     -512,DU
         3 013003   260000 116003                    CMPQ    90112,DU
         3 013004   013274 601000 3                  TNZ     s:5265

     1943     5249    5            THEN DO CASE(DEVTBL.CODE(I));

   5249  3 013005   200010 236100                    LDQ     I,,AUTO
         3 013006   000012 402007                    MPY     10,DL
         3 013007   100000 236106                    LDQ     0,QL,PR1
         3 013010   000033 772000                    QRL     27
         3 013011   000035 136007                    SBLQ    29,DL
         3 013012   000224 116007                    CMPQ    148,DL
         3 013013   013015 602006 3                  TNC     s:5249+8,QL
         3 013014   013576 710000 3                  TRA     s:5317
         3 013015   013241 710000 3                  TRA     s:5251
         3 013016   013273 710000 3                  TRA     s:5263
         3 013017   013273 710000 3                  TRA     s:5263
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:384  
         3 013020   013273 710000 3                  TRA     s:5263
         3 013021   013273 710000 3                  TRA     s:5263
         3 013022   013273 710000 3                  TRA     s:5263
         3 013023   013273 710000 3                  TRA     s:5263
         3 013024   013273 710000 3                  TRA     s:5263
         3 013025   013273 710000 3                  TRA     s:5263
         3 013026   013273 710000 3                  TRA     s:5263
         3 013027   013273 710000 3                  TRA     s:5263
         3 013030   013273 710000 3                  TRA     s:5263
         3 013031   013273 710000 3                  TRA     s:5263
         3 013032   013273 710000 3                  TRA     s:5263
         3 013033   013273 710000 3                  TRA     s:5263
         3 013034   013273 710000 3                  TRA     s:5263
         3 013035   013273 710000 3                  TRA     s:5263
         3 013036   013273 710000 3                  TRA     s:5263
         3 013037   013273 710000 3                  TRA     s:5263
         3 013040   013273 710000 3                  TRA     s:5263
         3 013041   013273 710000 3                  TRA     s:5263
         3 013042   013273 710000 3                  TRA     s:5263
         3 013043   013273 710000 3                  TRA     s:5263
         3 013044   013273 710000 3                  TRA     s:5263
         3 013045   013244 710000 3                  TRA     s:5254
         3 013046   013273 710000 3                  TRA     s:5263
         3 013047   013273 710000 3                  TRA     s:5263
         3 013050   013273 710000 3                  TRA     s:5263
         3 013051   013273 710000 3                  TRA     s:5263
         3 013052   013273 710000 3                  TRA     s:5263
         3 013053   013273 710000 3                  TRA     s:5263
         3 013054   013273 710000 3                  TRA     s:5263
         3 013055   013273 710000 3                  TRA     s:5263
         3 013056   013273 710000 3                  TRA     s:5263
         3 013057   013273 710000 3                  TRA     s:5263
         3 013060   013273 710000 3                  TRA     s:5263
         3 013061   013273 710000 3                  TRA     s:5263
         3 013062   013273 710000 3                  TRA     s:5263
         3 013063   013273 710000 3                  TRA     s:5263
         3 013064   013273 710000 3                  TRA     s:5263
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:385  
         3 013065   013273 710000 3                  TRA     s:5263
         3 013066   013273 710000 3                  TRA     s:5263
         3 013067   013273 710000 3                  TRA     s:5263
         3 013070   013273 710000 3                  TRA     s:5263
         3 013071   013273 710000 3                  TRA     s:5263
         3 013072   013273 710000 3                  TRA     s:5263
         3 013073   013273 710000 3                  TRA     s:5263
         3 013074   013273 710000 3                  TRA     s:5263
         3 013075   013273 710000 3                  TRA     s:5263
         3 013076   013273 710000 3                  TRA     s:5263
         3 013077   013273 710000 3                  TRA     s:5263
         3 013100   013273 710000 3                  TRA     s:5263
         3 013101   013273 710000 3                  TRA     s:5263
         3 013102   013273 710000 3                  TRA     s:5263
         3 013103   013273 710000 3                  TRA     s:5263
         3 013104   013273 710000 3                  TRA     s:5263
         3 013105   013273 710000 3                  TRA     s:5263
         3 013106   013273 710000 3                  TRA     s:5263
         3 013107   013273 710000 3                  TRA     s:5263
         3 013110   013273 710000 3                  TRA     s:5263
         3 013111   013273 710000 3                  TRA     s:5263
         3 013112   013273 710000 3                  TRA     s:5263
         3 013113   013273 710000 3                  TRA     s:5263
         3 013114   013273 710000 3                  TRA     s:5263
         3 013115   013273 710000 3                  TRA     s:5263
         3 013116   013273 710000 3                  TRA     s:5263
         3 013117   013273 710000 3                  TRA     s:5263
         3 013120   013273 710000 3                  TRA     s:5263
         3 013121   013273 710000 3                  TRA     s:5263
         3 013122   013273 710000 3                  TRA     s:5263
         3 013123   013273 710000 3                  TRA     s:5263
         3 013124   013273 710000 3                  TRA     s:5263
         3 013125   013273 710000 3                  TRA     s:5263
         3 013126   013273 710000 3                  TRA     s:5263
         3 013127   013273 710000 3                  TRA     s:5263
         3 013130   013273 710000 3                  TRA     s:5263
         3 013131   013273 710000 3                  TRA     s:5263
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:386  
         3 013132   013273 710000 3                  TRA     s:5263
         3 013133   013273 710000 3                  TRA     s:5263
         3 013134   013273 710000 3                  TRA     s:5263
         3 013135   013273 710000 3                  TRA     s:5263
         3 013136   013273 710000 3                  TRA     s:5263
         3 013137   013273 710000 3                  TRA     s:5263
         3 013140   013273 710000 3                  TRA     s:5263
         3 013141   013273 710000 3                  TRA     s:5263
         3 013142   013273 710000 3                  TRA     s:5263
         3 013143   013273 710000 3                  TRA     s:5263
         3 013144   013273 710000 3                  TRA     s:5263
         3 013145   013273 710000 3                  TRA     s:5263
         3 013146   013273 710000 3                  TRA     s:5263
         3 013147   013273 710000 3                  TRA     s:5263
         3 013150   013273 710000 3                  TRA     s:5263
         3 013151   013273 710000 3                  TRA     s:5263
         3 013152   013273 710000 3                  TRA     s:5263
         3 013153   013273 710000 3                  TRA     s:5263
         3 013154   013273 710000 3                  TRA     s:5263
         3 013155   013273 710000 3                  TRA     s:5263
         3 013156   013273 710000 3                  TRA     s:5263
         3 013157   013273 710000 3                  TRA     s:5263
         3 013160   013273 710000 3                  TRA     s:5263
         3 013161   013273 710000 3                  TRA     s:5263
         3 013162   013273 710000 3                  TRA     s:5263
         3 013163   013273 710000 3                  TRA     s:5263
         3 013164   013273 710000 3                  TRA     s:5263
         3 013165   013273 710000 3                  TRA     s:5263
         3 013166   013273 710000 3                  TRA     s:5263
         3 013167   013273 710000 3                  TRA     s:5263
         3 013170   013273 710000 3                  TRA     s:5263
         3 013171   013273 710000 3                  TRA     s:5263
         3 013172   013273 710000 3                  TRA     s:5263
         3 013173   013273 710000 3                  TRA     s:5263
         3 013174   013273 710000 3                  TRA     s:5263
         3 013175   013273 710000 3                  TRA     s:5263
         3 013176   013273 710000 3                  TRA     s:5263
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:387  
         3 013177   013273 710000 3                  TRA     s:5263
         3 013200   013273 710000 3                  TRA     s:5263
         3 013201   013273 710000 3                  TRA     s:5263
         3 013202   013273 710000 3                  TRA     s:5263
         3 013203   013273 710000 3                  TRA     s:5263
         3 013204   013273 710000 3                  TRA     s:5263
         3 013205   013273 710000 3                  TRA     s:5263
         3 013206   013273 710000 3                  TRA     s:5263
         3 013207   013273 710000 3                  TRA     s:5263
         3 013210   013273 710000 3                  TRA     s:5263
         3 013211   013273 710000 3                  TRA     s:5263
         3 013212   013273 710000 3                  TRA     s:5263
         3 013213   013273 710000 3                  TRA     s:5263
         3 013214   013273 710000 3                  TRA     s:5263
         3 013215   013273 710000 3                  TRA     s:5263
         3 013216   013273 710000 3                  TRA     s:5263
         3 013217   013273 710000 3                  TRA     s:5263
         3 013220   013273 710000 3                  TRA     s:5263
         3 013221   013273 710000 3                  TRA     s:5263
         3 013222   013273 710000 3                  TRA     s:5263
         3 013223   013273 710000 3                  TRA     s:5263
         3 013224   013273 710000 3                  TRA     s:5263
         3 013225   013273 710000 3                  TRA     s:5263
         3 013226   013273 710000 3                  TRA     s:5263
         3 013227   013273 710000 3                  TRA     s:5263
         3 013230   013273 710000 3                  TRA     s:5263
         3 013231   013273 710000 3                  TRA     s:5263
         3 013232   013273 710000 3                  TRA     s:5263
         3 013233   013273 710000 3                  TRA     s:5263
         3 013234   013273 710000 3                  TRA     s:5263
         3 013235   013273 710000 3                  TRA     s:5263
         3 013236   013273 710000 3                  TRA     s:5263
         3 013237   013273 710000 3                  TRA     s:5263
         3 013240   013270 710000 3                  TRA     s:5261

     1944     5250    5                    CASE(29);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:388  
     1945     5251    5                      CALL FIND_DEN_MODE;

   5251  3 013241   014501 701000 3                  TSX1    FIND_DEN_MODE
         3 013242   000000 011000                    NOP     0

     1946     5252    5                      GOTO CONT_NEXT_I;

   5252  3 013243   013320 710000 3                  TRA     CONT_NEXT_I

     1947     5253    5                    CASE(53);

     1948     5254    5                      IF IO_MASK1(DEVTBL.CODE(I))AND

   5254  3 013244   200010 236100                    LDQ     I,,AUTO
         3 013245   000012 402007                    MPY     10,DL
         3 013246   100000 236106                    LDQ     0,QL,PR1
         3 013247   000033 772000                    QRL     27
         3 013250   000000 066506                    CMPB    filb='0'B
         3 013251   200221 000001                    BDSC    IO_MASK,Q,AUTO           by=0,bit=0,n=1
         3 013252   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 013253   013576 600000 3                  TZE     s:5317
         3 013254   200010 236100                    LDQ     I,,AUTO
         3 013255   000012 402007                    MPY     10,DL
         3 013256   100012 236106                    LDQ     10,QL,PR1
         3 013257   000033 772000                    QRL     27
         3 013260   000000 066506                    CMPB    filb='0'B
         3 013261   200221 000001                    BDSC    IO_MASK,Q,AUTO           by=0,bit=0,n=1
         3 013262   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 013263   013576 600000 3                  TZE     s:5317

     1949     5255    5                         IO_MASK1(DEVTBL.CODE(I+1))
     1950     5256    6                      THEN DO;

     1951     5257    6                         XST_TEXT = 'DEV SPEED: 200 IPS';

   5257  3 013264   040100 100400                    MLR     fill='040'O
         3 013265   001641 000022 1                  ADSC9   BOARD_64K+482            cn=0,n=18
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:389  
         3 013266   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

     1952     5258    6                         GOTO CONT_NEXT_I;

   5258  3 013267   013320 710000 3                  TRA     CONT_NEXT_I

     1953     5259    6                      END;
     1954     5260    5                    CASE(176);

     1955     5261    5                      CALL FIND_FAULT_CODE;

   5261  3 013270   014762 701000 3                  TSX1    FIND_FAULT_CODE
         3 013271   000000 011000                    NOP     0

     1956     5262    5                      GOTO CONT_NEXT_I;

   5262  3 013272   013320 710000 3                  TRA     CONT_NEXT_I

     1957     5263    5                 END;  /* do case */

   5263  3 013273   013576 710000 3                  TRA     s:5317

     1958     5264    5            ELSE DO;

     1959     5265    6              IF IO_MASK1(DEVTBL.CODE(I)) THEN DO;

   5265  3 013274   200010 236100                    LDQ     I,,AUTO
         3 013275   000012 402007                    MPY     10,DL
         3 013276   200215 471500                    LDP1    DEV$,,AUTO
         3 013277   100000 236106                    LDQ     0,QL,PR1
         3 013300   000033 772000                    QRL     27
         3 013301   000000 066506                    CMPB    filb='0'B
         3 013302   200221 000001                    BDSC    IO_MASK,Q,AUTO           by=0,bit=0,n=1
         3 013303   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 013304   013576 600000 3                  TZE     s:5317

     1960     5266    6                 XST_TEXT = DEVTBL.TEXT(I);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:390  

   5266  3 013305   200010 236100                    LDQ     I,,AUTO
         3 013306   000050 402007                    MPY     40,DL
         3 013307   040100 100506                    MLR     fill='040'O
         3 013310   100000 400043                    ADSC9   0,Q,PR1                  cn=2,n=35
         3 013311   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

     1961     5267    6                 XST_CNT = DEVTBL.COUNT(I);

   5267  3 013312   200010 236100                    LDQ     I,,AUTO
         3 013313   000012 402007                    MPY     10,DL
         3 013314   100000 236106                    LDQ     0,QL,PR1
         3 013315   000022 772000                    QRL     18
         3 013316   000777 376007                    ANQ     511,DL
         3 013317   200342 756100                    STQ     XST_CNT,,AUTO

     1962     5268    6   CONT_NEXT_I: IF FIPS_TAPE

   5268  3 013320   200277 234100       CONT_NEXT_I  SZN     FIPS_TAPE,,AUTO
         3 013321   013325 605000 3                  TPL     s:5270

     1963     5269    6                THEN CALL FIND_NINE_TRACKS; /* mtu8200s are always 9 trks */

   5269  3 013322   014024 701000 3                  TSX1    FIND_NINE_TRACKS
         3 013323   000000 011000                    NOP     0
         3 013324   013341 710000 3                  TRA     s:5274

     1964     5270    7                ELSE IF MODEL_CHAR = 'MTU' THEN DO;

   5270  3 013325   200220 236100                    LDQ     MODEL_CHAR,,AUTO
         3 013326   001617 676000 1                  ERQ     BOARD_64K+464
         3 013327   000134 376000 4                  ANQ     92
         3 013330   013341 601000 3                  TNZ     s:5274

     1965     5271    7                  IF IO_MASK1(16) THEN CALL FIND_TRACKS; /* if nrzi mode */

   5271  3 013331   200221 236100                    LDQ     IO_MASK,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:391  
         3 013332   000002 316003                    CANQ    2,DU
         3 013333   013337 600000 3                  TZE     s:5272

   5271  3 013334   013674 701000 3                  TSX1    FIND_TRACKS
         3 013335   000000 011000                    NOP     0
         3 013336   013341 710000 3                  TRA     s:5274

     1966     5272    7                  ELSE CALL FIND_NINE_TRACKS;  /* else pe, or gcr mode */

   5272  3 013337   014024 701000 3                  TSX1    FIND_NINE_TRACKS
         3 013340   000000 011000                    NOP     0

     1967     5273    7                END; /*  if model_char='mtu' */

     1968     5274    6                CALL CHECK_MODEL_CODES;  /* checking current bit */

   5274  3 013341   014225 701000 3                  TSX1    CHECK_MODEL_CODES
         3 013342   000000 011000                    NOP     0

     1969     5275    7                 IF ALL_MATCH THEN DO;  /* if all data  match */

   5275  3 013343   200504 234100                    SZN     ALL_MATCH,,AUTO
         3 013344   013470 605000 3                  TPL     s:5300

     1970     5276    7                    X = 0;

   5276  3 013345   200011 450100                    STZ     X,,AUTO

     1971     5277    8                    DO WHILE X <= J AND NOT FOUND_ST;

   5277  3 013346   013366 710000 3                  TRA     s:5283

     1972     5278    8                       IF XST_TEXT = XSTAT_TBL.TEXT(X)

   5278  3 013347   200011 236100                    LDQ     X,,AUTO
         3 013350   000050 402007                    MPY     40,DL
         3 013351   040006 106500                    CMPC    fill='040'O
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:392  
         3 013352   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35
         3 013353   003357 000043 2                  ADSC9   XSTAT_TBL+1,Q            cn=0,n=35
         3 013354   013365 601000 3                  TNZ     s:5282

     1973     5279    9                       THEN DO; XSTAT_TBL.COUNT(X) = XSTAT_TBL.COUNT(X) + 1;

   5279  3 013355   200011 236100                    LDQ     X,,AUTO
         3 013356   000012 402007                    MPY     10,DL
         3 013357   003356 235006 2                  LDA     XSTAT_TBL,QL
         3 013360   000001 035007                    ADLA    1,DL
         3 013361   003356 755006 2                  STA     XSTAT_TBL,QL

     1974     5280    9                                FOUND_ST = %TRUE;

   5280  3 013362   400000 236003                    LDQ     -131072,DU
         3 013363   200513 756100                    STQ     FOUND_ST,,AUTO

     1975     5281    9                       END;

   5281  3 013364   013366 710000 3                  TRA     s:5283

     1976     5282    8                       ELSE X = X + 1;

   5282  3 013365   200011 054100                    AOS     X,,AUTO

     1977     5283    8                    END;  /* do while */

   5283  3 013366   200100 236100                    LDQ     J,,AUTO
         3 013367   013372 604000 3                  TMI     s:5283+4
         3 013370   200011 116100                    CMPQ    X,,AUTO
         3 013371   013374 604000 3                  TMI     s:5284
         3 013372   200513 234100                    SZN     FOUND_ST,,AUTO
         3 013373   013347 605000 3                  TPL     s:5278

     1978     5284    7                    X = 0;

   5284  3 013374   200011 450100                    STZ     X,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:393  

     1979     5285    7                    IF MODEL_CHAR = 'MTU' AND (I = 16 OR DEVTBL.CODE(I) = 27)

   5285  3 013375   200220 236100                    LDQ     MODEL_CHAR,,AUTO
         3 013376   001617 676000 1                  ERQ     BOARD_64K+464
         3 013377   000134 376000 4                  ANQ     92
         3 013400   013413 601000 3                  TNZ     s:5287
         3 013401   200010 235100                    LDA     I,,AUTO
         3 013402   000020 115007                    CMPA    16,DL
         3 013403   013573 600000 3                  TZE     s:5314
         3 013404   200010 236100                    LDQ     I,,AUTO
         3 013405   000012 402007                    MPY     10,DL
         3 013406   200215 470500                    LDP0    DEV$,,AUTO
         3 013407   000000 236106                    LDQ     0,QL,PR0
         3 013410   777000 376003                    ANQ     -512,DU
         3 013411   033000 116003                    CMPQ    13824,DU
         3 013412   013573 600000 3                  TZE     s:5314

     1980     5286    7                    THEN;
     1981     5287    7                    ELSE IF FIPS_TAPE AND (DEVTBL.CODE(I)=29) OR (DEVTBL.CODE(I)=53)
              5287                             THEN;

   5287  3 013413   200277 234100                    SZN     FIPS_TAPE,,AUTO
         3 013414   013424 605000 3                  TPL     s:5287+9
         3 013415   200010 236100                    LDQ     I,,AUTO
         3 013416   000012 402007                    MPY     10,DL
         3 013417   200215 470500                    LDP0    DEV$,,AUTO
         3 013420   000000 236106                    LDQ     0,QL,PR0
         3 013421   777000 376003                    ANQ     -512,DU
         3 013422   035000 116003                    CMPQ    14848,DU
         3 013423   013573 600000 3                  TZE     s:5314
         3 013424   200010 236100                    LDQ     I,,AUTO
         3 013425   000012 402007                    MPY     10,DL
         3 013426   200215 470500                    LDP0    DEV$,,AUTO
         3 013427   000000 236106                    LDQ     0,QL,PR0
         3 013430   777000 376003                    ANQ     -512,DU
         3 013431   065000 116003                    CMPQ    27136,DU
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:394  
         3 013432   013573 600000 3                  TZE     s:5314

     1982     5288    7                    ELSE
     1983     5289    8                     DO WHILE NOT FOUND_ST AND X <= J;

   5289  3 013433   013461 710000 3                  TRA     s:5297

     1984     5290    9                       IF XSTAT_TBL.TEXT(X) = ' ' THEN DO;

   5290  3 013434   200011 236100                    LDQ     X,,AUTO
         3 013435   000050 402007                    MPY     40,DL
         3 013436   040000 106406                    CMPC    fill='040'O
         3 013437   003357 000043 2                  ADSC9   XSTAT_TBL+1,Q            cn=0,n=35
         3 013440   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 013441   013460 601000 3                  TNZ     s:5296

     1985     5291    9                          XSTAT_TBL.TEXT(X) = XST_TEXT;

   5291  3 013442   040006 100500                    MLR     fill='040'O
         3 013443   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35
         3 013444   003357 000043 2                  ADSC9   XSTAT_TBL+1,Q            cn=0,n=35

     1986     5292    9                          XSTAT_TBL.COUNT(X) = XSTAT_TBL.COUNT(X) + 1;

   5292  3 013445   200011 236100                    LDQ     X,,AUTO
         3 013446   000012 402007                    MPY     10,DL
         3 013447   003356 235006 2                  LDA     XSTAT_TBL,QL
         3 013450   000001 035007                    ADLA    1,DL
         3 013451   003356 755006 2                  STA     XSTAT_TBL,QL

     1987     5293    9                          NUM_XSTATUS = NUM_XSTATUS + 1;

   5293  3 013452   200510 235100                    LDA     NUM_XSTATUS,,AUTO
         3 013453   000001 035007                    ADLA    1,DL
         3 013454   200510 755100                    STA     NUM_XSTATUS,,AUTO

     1988     5294    9                          FOUND_ST = %TRUE;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:395  

   5294  3 013455   400000 236003                    LDQ     -131072,DU
         3 013456   200513 756100                    STQ     FOUND_ST,,AUTO

     1989     5295    9                       END;

   5295  3 013457   013461 710000 3                  TRA     s:5297

     1990     5296    8                       ELSE X = X + 1;

   5296  3 013460   200011 054100                    AOS     X,,AUTO

     1991     5297    8                     END;  /* do while */

   5297  3 013461   200513 234100                    SZN     FOUND_ST,,AUTO
         3 013462   013467 604000 3                  TMI     s:5298
         3 013463   200100 236100                    LDQ     J,,AUTO
         3 013464   013434 604000 3                  TMI     s:5290
         3 013465   200011 116100                    CMPQ    X,,AUTO
         3 013466   013434 605000 3                  TPL     s:5290

     1992     5298    7                  END;  /* if all_match */

   5298  3 013467   013573 710000 3                  TRA     s:5314

     1993     5299    7                  ELSE DO;  /* if not all_match */

     1994     5300    7                   IF FIPS_TAPE AND (DEVTBL.CODE(I)=29) THEN

   5300  3 013470   200277 234100                    SZN     FIPS_TAPE,,AUTO
         3 013471   013505 605000 3                  TPL     s:5302
         3 013472   200010 236100                    LDQ     I,,AUTO
         3 013473   000012 402007                    MPY     10,DL
         3 013474   200215 470500                    LDP0    DEV$,,AUTO
         3 013475   000000 236106                    LDQ     0,QL,PR0
         3 013476   777000 376003                    ANQ     -512,DU
         3 013477   035000 116003                    CMPQ    14848,DU
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:396  
         3 013500   013505 601000 3                  TNZ     s:5302

     1995     5301    7                     OTHER_IOERR_TBL.DENSITY = XST_TEXT;

   5301  3 013501   040000 100500                    MLR     fill='040'O
         3 013502   200304 000040                    ADSC9   XST_TEXT,,AUTO           cn=0,n=32
         3 013503   003345 000040 2                  ADSC9   OTHER_IOERR_TBL+11       cn=0,n=32
         3 013504   013573 710000 3                  TRA     s:5314

     1996     5302    7                   ELSE IF FIPS_TAPE AND (DEVTBL.CODE(I)=53) THEN

   5302  3 013505   200277 234100                    SZN     FIPS_TAPE,,AUTO
         3 013506   013522 605000 3                  TPL     s:5304
         3 013507   200010 236100                    LDQ     I,,AUTO
         3 013510   000012 402007                    MPY     10,DL
         3 013511   200215 470500                    LDP0    DEV$,,AUTO
         3 013512   000000 236106                    LDQ     0,QL,PR0
         3 013513   777000 376003                    ANQ     -512,DU
         3 013514   065000 116003                    CMPQ    27136,DU
         3 013515   013522 601000 3                  TNZ     s:5304

     1997     5303    7                     OTHER_IOERR_TBL.SPEED = XST_TEXT;

   5303  3 013516   040000 100500                    MLR     fill='040'O
         3 013517   200304 000040                    ADSC9   XST_TEXT,,AUTO           cn=0,n=32
         3 013520   003335 000040 2                  ADSC9   OTHER_IOERR_TBL+3        cn=0,n=32
         3 013521   013573 710000 3                  TRA     s:5314

     1998     5304    7                   ELSE IF I= 16 AND MODEL_CHAR = 'MTU' THEN

   5304  3 013522   200010 235100                    LDA     I,,AUTO
         3 013523   000020 115007                    CMPA    16,DL
         3 013524   013535 601000 3                  TNZ     s:5306
         3 013525   200220 236100                    LDQ     MODEL_CHAR,,AUTO
         3 013526   001617 676000 1                  ERQ     BOARD_64K+464
         3 013527   000134 376000 4                  ANQ     92
         3 013530   013535 601000 3                  TNZ     s:5306
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:397  

     1999     5305    7                     OTHER_IOERR_TBL.DENSITY = XST_TEXT;

   5305  3 013531   040000 100500                    MLR     fill='040'O
         3 013532   200304 000040                    ADSC9   XST_TEXT,,AUTO           cn=0,n=32
         3 013533   003345 000040 2                  ADSC9   OTHER_IOERR_TBL+11       cn=0,n=32
         3 013534   013573 710000 3                  TRA     s:5314

     2000     5306    7                   ELSE IF DEVTBL.CODE(I) = 27 AND MODEL_CHAR = 'MTU' THEN

   5306  3 013535   200010 236100                    LDQ     I,,AUTO
         3 013536   000012 402007                    MPY     10,DL
         3 013537   200215 470500                    LDP0    DEV$,,AUTO
         3 013540   000000 236106                    LDQ     0,QL,PR0
         3 013541   777000 376003                    ANQ     -512,DU
         3 013542   033000 116003                    CMPQ    13824,DU
         3 013543   013554 601000 3                  TNZ     s:5308
         3 013544   200220 236100                    LDQ     MODEL_CHAR,,AUTO
         3 013545   001617 676000 1                  ERQ     BOARD_64K+464
         3 013546   000134 376000 4                  ANQ     92
         3 013547   013554 601000 3                  TNZ     s:5308

     2001     5307    7                     OTHER_IOERR_TBL.SPEED = XST_TEXT;

   5307  3 013550   040000 100500                    MLR     fill='040'O
         3 013551   200304 000040                    ADSC9   XST_TEXT,,AUTO           cn=0,n=32
         3 013552   003335 000040 2                  ADSC9   OTHER_IOERR_TBL+3        cn=0,n=32
         3 013553   013573 710000 3                  TRA     s:5314

     2002     5308    8                   ELSE IF NOT FOUND_ST THEN DO;

   5308  3 013554   200513 234100                    SZN     FOUND_ST,,AUTO
         3 013555   013573 604000 3                  TMI     s:5314

     2003     5309    8                      XSTAT_TBL.TEXT(NUM_XSTATUS) = XST_TEXT; /* save status */

   5309  3 013556   200510 236100                    LDQ     NUM_XSTATUS,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:398  
         3 013557   000050 402007                    MPY     40,DL
         3 013560   040006 100500                    MLR     fill='040'O
         3 013561   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35
         3 013562   003357 000043 2                  ADSC9   XSTAT_TBL+1,Q            cn=0,n=35

     2004     5310    8                      XSTAT_TBL.COUNT(NUM_XSTATUS) = XSTAT_TBL.COUNT(NUM_XSTATUS) + 1;

   5310  3 013563   200510 236100                    LDQ     NUM_XSTATUS,,AUTO
         3 013564   000012 402007                    MPY     10,DL
         3 013565   003356 235006 2                  LDA     XSTAT_TBL,QL
         3 013566   000001 035007                    ADLA    1,DL
         3 013567   003356 755006 2                  STA     XSTAT_TBL,QL

     2005     5311    8                      NUM_XSTATUS = NUM_XSTATUS + 1;

   5311  3 013570   200510 235100                    LDA     NUM_XSTATUS,,AUTO
         3 013571   000001 035007                    ADLA    1,DL
         3 013572   200510 755100                    STA     NUM_XSTATUS,,AUTO

     2006     5312    8                   END; /* if not found_st  */

     2007     5313    7                  END; /* else do */

     2008     5314    6                 NXST = NXST + 1;

   5314  3 013573   200343 235100                    LDA     NXST,,AUTO
         3 013574   000001 035007                    ADLA    1,DL
         3 013575   200343 755100                    STA     NXST,,AUTO

     2009     5315    6              END;  /* if io_mask1(devtbl.code(I)) */

     2010     5316    5            END;  /* else do */

     2011     5317    4          END;   /* do i = 0 to j */

   5317  3 013576   200010 054100                    AOS     I,,AUTO
         3 013577   200100 236100                    LDQ     J,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:399  
         3 013600   012421 604000 3                  TMI     s:5208
         3 013601   200010 116100                    CMPQ    I,,AUTO
         3 013602   012421 605000 3                  TPL     s:5208

     2012     5318    3   NO_INT:MODEL_CHAR = EL$IOERR.MODEL;

   5318  3 013603   200005 470500       NO_INT       LDP0    INFO+1,,AUTO
         3 013604   000030 236100                    LDQ     24,,PR0
         3 013605   000134 376000 4                  ANQ     92
         3 013606   000040 276007                    ORQ     32,DL
         3 013607   200220 756100                    STQ     MODEL_CHAR,,AUTO

     2013     5319    4          IF NOT ALL_MATCH AND MODEL_CHAR = 'MTU' THEN DO;

   5319  3 013610   200504 234100                    SZN     ALL_MATCH,,AUTO
         3 013611   013667 604000 3                  TMI     s:5332
         3 013612   200220 236100                    LDQ     MODEL_CHAR,,AUTO
         3 013613   001617 676000 1                  ERQ     BOARD_64K+464
         3 013614   000134 376000 4                  ANQ     92
         3 013615   013667 601000 3                  TNZ     s:5332

     2014     5320    5             DO I = 0 TO NUMMODELS;  /* go through device command table */

   5320  3 013616   200010 450100                    STZ     I,,AUTO

     2015     5321    6               IF EL$IOERR.MODEL = DEVICE_CMND.DEV(I) THEN DO; /* if model is found */

   5321  3 013617   200010 235100                    LDA     I,,AUTO
         3 013620   000004 735000                    ALS     4
         3 013621   200005 470500                    LDP0    INFO+1,,AUTO
         3 013622   040005 106500                    CMPC    fill='040'O
         3 013623   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 013624   000000 000010 xsym               ADSC9   DEVICE_CMND,A            cn=0,n=8
         3 013625   013637 601000 3                  TNZ     s:5325

     2016     5322    6                   DEV_OP$ = DEVICE_CMND.SUB$(I);  /* get start of model table */

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:400  
   5322  3 013626   200010 236100                    LDQ     I,,AUTO
         3 013627   000002 736000                    QLS     2
         3 013630   000002 236006 xsym               LDQ     DEVICE_CMND+2,QL
         3 013631   200505 756100                    STQ     DEV_OP$,,AUTO

     2017     5323    6                   J = DEVICE_CMND.COUNT(I);  /* get size of model table */

   5323  3 013632   200010 235100                    LDA     I,,AUTO
         3 013633   000002 735000                    ALS     2
         3 013634   000003 236005 xsym               LDQ     DEVICE_CMND+3,AL
         3 013635   000033 772000                    QRL     27
         3 013636   200100 756100                    STQ     J,,AUTO

     2018     5324    6                END; /* if el$ioerr.model = device_cmnd.dev(i) */

     2019     5325    5             END; /* do i = 0 to 19 */

   5325  3 013637   200010 054100                    AOS     I,,AUTO
         3 013640   200010 235100                    LDA     I,,AUTO
         3 013641   000035 115007                    CMPA    29,DL
         3 013642   013617 604400 3                  TMOZ    s:5321

     2020     5326    5             DO I = 0 TO J;  /* go through model table */

   5326  3 013643   200010 450100                    STZ     I,,AUTO
         3 013644   013663 710000 3                  TRA     s:5330+1

     2021     5327    5                IF NEW_OP_RDF(0) = DEV_OP_TBL.CODE(I) /* if new operation found */

   5327  3 013645   200010 236100                    LDQ     I,,AUTO
         3 013646   000003 402007                    MPY     3,DL
         3 013647   200505 470500                    LDP0    DEV_OP$,,AUTO
         3 013650   000000 620006                    EAX0    0,QL
         3 013651   200501 236100                    LDQ     NEW_OP,,AUTO
         3 013652   000000 676110                    ERQ     0,X0,PR0
         3 013653   770000 376003                    ANQ     -4096,DU
         3 013654   013662 601000 3                  TNZ     s:5330
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:401  

     2022     5328    5                THEN
     2023     5329    5                    OTHER_IOERR_TBL.OPERATION = DEV_OP_TBL.TEXT(I);
              5329                             /* store new operation */

   5329  3 013655   200010 236100                    LDQ     I,,AUTO
         3 013656   000014 402007                    MPY     12,DL
         3 013657   040000 100506                    MLR     fill='040'O
         3 013660   000000 400010                    ADSC9   0,Q,PR0                  cn=2,n=8
         3 013661   003333 000010 2                  ADSC9   OTHER_IOERR_TBL+1        cn=0,n=8

     2024     5330    5             END; /* do i = 0 to j */

   5330  3 013662   200010 054100                    AOS     I,,AUTO
         3 013663   200100 236100                    LDQ     J,,AUTO
         3 013664   013645 604000 3                  TMI     s:5327
         3 013665   200010 116100                    CMPQ    I,,AUTO
         3 013666   013645 605000 3                  TPL     s:5327

     2025     5331    4          END; /* if not_all_match and model_char = 'mtu' */

     2026     5332    3          IF TH_FIRST_TIME THEN TH_FIRST_TIME = %FALSE;

   5332  3 013667   000000 234000 xsym               SZN     TH_FIRST_TIME
         3 013670   013672 605000 3                  TPL     s:5334

   5332  3 013671   000000 450000 xsym               STZ     TH_FIRST_TIME

     2027     5333    3       END;  /* if dev_flag */

     2028     5334    2   END THF$IOERR;

   5334  3 013672   200524 221300                    LDX1  ! NINE_TRACK_BLNK+8,,AUTO
         3 013673   000001 702211                    TSX2  ! 1,X1

     2029     5335        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:402  
     2030     5336        /*  LOOK FOR TRACKS IN ERR IF NRZI MODE */
     2031     5337        /**/
     2032     5338    1   FIND_TRACKS: PROC;

   5338  3 013674   200526 741300       FIND_TRACKS  STX1  ! @BOARD,,AUTO

     2033     5339        /**/
     2034     5340    3   IF EL$IOERR.MODEL = 'MTU0610' OR EL$IOERR.MODEL = 'MTU0630' THEN DO;

   5340  3 013675   200005 470500                    LDP0    INFO+1,,AUTO
         3 013676   040000 106500                    CMPC    fill='040'O
         3 013677   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 013700   001617 000007 1                  ADSC9   BOARD_64K+464            cn=0,n=7
         3 013701   013706 600000 3                  TZE     s:5341
         3 013702   040000 106500                    CMPC    fill='040'O
         3 013703   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 013704   001774 000007 1                  ADSC9   BOARD_64K+573            cn=0,n=7
         3 013705   014022 601000 3                  TNZ     s:5367

     2035     5341    4     IF IO_MASK1(9) THEN DO;   /* if write mode for 9 track tapes */

   5341  3 013706   200221 236100                    LDQ     IO_MASK,,AUTO
         3 013707   000400 316003                    CANQ    256,DU
         3 013710   014022 600000 3                  TZE     s:5367

     2036     5342    5       DO CASE(DEVTBL.CODE(I));

   5342  3 013711   200010 236100                    LDQ     I,,AUTO
         3 013712   000012 402007                    MPY     10,DL
         3 013713   200215 471500                    LDP1    DEV$,,AUTO
         3 013714   100000 236106                    LDQ     0,QL,PR1
         3 013715   000033 772000                    QRL     27
         3 013716   000211 136007                    SBLQ    137,DL
         3 013717   000017 116007                    CMPQ    15,DL
         3 013720   013722 602006 3                  TNC     s:5342+9,QL
         3 013721   014004 710000 3                  TRA     s:5362
         3 013722   014001 710000 3                  TRA     s:5360
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:403  
         3 013723   014004 710000 3                  TRA     s:5362
         3 013724   014004 710000 3                  TRA     s:5362
         3 013725   014004 710000 3                  TRA     s:5362
         3 013726   014004 710000 3                  TRA     s:5362
         3 013727   014004 710000 3                  TRA     s:5362
         3 013730   014004 710000 3                  TRA     s:5362
         3 013731   013741 710000 3                  TRA     s:5344
         3 013732   013745 710000 3                  TRA     s:5346
         3 013733   013751 710000 3                  TRA     s:5348
         3 013734   013755 710000 3                  TRA     s:5350
         3 013735   013761 710000 3                  TRA     s:5352
         3 013736   013765 710000 3                  TRA     s:5354
         3 013737   013771 710000 3                  TRA     s:5356
         3 013740   013775 710000 3                  TRA     s:5358

     2037     5343    5          CASE(144);

     2038     5344    5            NINE_TRACK_TBL.SEVEN = NINE_TRACK_TBL.SEVEN + 1;

   5344  3 013741   007416 236000 2                  LDQ     NINE_TRACK_TBL
         3 013742   001000 036003                    ADLQ    512,DU
         3 013743   007416 552040 2                  STBQ    NINE_TRACK_TBL,'40'O
         3 013744   014004 710000 3                  TRA     s:5362

     2039     5345    5          CASE(145);

     2040     5346    5            NINE_TRACK_TBL.SIX = NINE_TRACK_TBL.SIX + 1;

   5346  3 013745   007416 236000 2                  LDQ     NINE_TRACK_TBL
         3 013746   000001 036003                    ADLQ    1,DU
         3 013747   007416 552020 2                  STBQ    NINE_TRACK_TBL,'20'O
         3 013750   014004 710000 3                  TRA     s:5362

     2041     5347    5          CASE(146);

     2042     5348    5            NINE_TRACK_TBL.FIVE = NINE_TRACK_TBL.FIVE + 1;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:404  
   5348  3 013751   007416 236000 2                  LDQ     NINE_TRACK_TBL
         3 013752   001000 036007                    ADLQ    512,DL
         3 013753   007416 552010 2                  STBQ    NINE_TRACK_TBL,'10'O
         3 013754   014004 710000 3                  TRA     s:5362

     2043     5349    5          CASE(147);

     2044     5350    5            NINE_TRACK_TBL.THREE = NINE_TRACK_TBL.THREE + 1;

   5350  3 013755   007416 236000 2                  LDQ     NINE_TRACK_TBL
         3 013756   000001 036007                    ADLQ    1,DL
         3 013757   007416 552004 2                  STBQ    NINE_TRACK_TBL,'04'O
         3 013760   014004 710000 3                  TRA     s:5362

     2045     5351    5          CASE(148);

     2046     5352    5            NINE_TRACK_TBL.NINE = NINE_TRACK_TBL.NINE + 1;

   5352  3 013761   007417 236000 2                  LDQ     NINE_TRACK_TBL+1
         3 013762   001000 036003                    ADLQ    512,DU
         3 013763   007417 552040 2                  STBQ    NINE_TRACK_TBL+1,'40'O
         3 013764   014004 710000 3                  TRA     s:5362

     2047     5353    5          CASE(149);

     2048     5354    5            NINE_TRACK_TBL.ONE = NINE_TRACK_TBL.ONE + 1;

   5354  3 013765   007417 236000 2                  LDQ     NINE_TRACK_TBL+1
         3 013766   000001 036003                    ADLQ    1,DU
         3 013767   007417 552020 2                  STBQ    NINE_TRACK_TBL+1,'20'O
         3 013770   014004 710000 3                  TRA     s:5362

     2049     5355    5          CASE(150);

     2050     5356    5            NINE_TRACK_TBL.EIGHT = NINE_TRACK_TBL.EIGHT + 1;

   5356  3 013771   007417 236000 2                  LDQ     NINE_TRACK_TBL+1
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:405  
         3 013772   001000 036007                    ADLQ    512,DL
         3 013773   007417 552010 2                  STBQ    NINE_TRACK_TBL+1,'10'O
         3 013774   014004 710000 3                  TRA     s:5362

     2051     5357    5          CASE(151);

     2052     5358    5            NINE_TRACK_TBL.TWO = NINE_TRACK_TBL.TWO + 1;

   5358  3 013775   007417 236000 2                  LDQ     NINE_TRACK_TBL+1
         3 013776   000001 036007                    ADLQ    1,DL
         3 013777   007417 552004 2                  STBQ    NINE_TRACK_TBL+1,'04'O
         3 014000   014004 710000 3                  TRA     s:5362

     2053     5359    5          CASE(137);

     2054     5360    5            NINE_TRACK_TBL.FOUR = NINE_TRACK_TBL.FOUR + 1;

   5360  3 014001   007420 236000 2                  LDQ     NINE_TRACK_TBL+2
         3 014002   001000 036003                    ADLQ    512,DU
         3 014003   007420 552040 2                  STBQ    NINE_TRACK_TBL+2,'40'O

     2055     5361    5       END;  /* do case */

     2056     5362    5       DO X = 0 TO 8;

   5362  3 014004   200011 450100                    STZ     X,,AUTO

     2057     5363    5          IF NINE_TRACK_RDF(X) > 0 THEN TRACK_NINE = %TRUE;

   5363  3 014005   200011 235100                    LDA     X,,AUTO
         3 014006   000100 101405                    MRL     fill='000'O
         3 014007   007416 000001 2                  ADSC9   NINE_TRACK_TBL,A         cn=0,n=1
         3 014010   200534 000004                    ADSC9   CHIP#+2,,AUTO            cn=0,n=4
         3 014011   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 014012   000000 116003                    CMPQ    0,DU
         3 014013   014016 600000 3                  TZE     s:5364

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:406  
   5363  3 014014   400000 236003                    LDQ     -131072,DU
         3 014015   200511 756100                    STQ     TRACK_NINE,,AUTO

     2058     5364    5       END;

   5364  3 014016   200011 054100                    AOS     X,,AUTO
         3 014017   200011 235100                    LDA     X,,AUTO
         3 014020   000010 115007                    CMPA    8,DL
         3 014021   014005 604400 3                  TMOZ    s:5363

     2059     5365    4     END;  /* if write mode */

     2060     5366    3   END; /* if 9 track tapes */

     2061     5367    2   END FIND_TRACKS;

   5367  3 014022   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 014023   000001 702211                    TSX2  ! 1,X1

     2062     5368        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:407  
     2063     5369        /*    FIND DATA/TRACK IN ERR FOR NINE TRACK TAPES */
     2064     5370        /**/
     2065     5371    1   FIND_NINE_TRACKS: PROC;

   5371  3 014024   200526 741300       FIND_NINE_T* STX1  ! @BOARD,,AUTO

     2066     5372        /**/
     2067     5373    2      IF EL$IOERR.MODEL = 'MTU8200'

   5373  3 014025   200005 470500                    LDP0    INFO+1,,AUTO
         3 014026   040000 106500                    CMPC    fill='040'O
         3 014027   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 014030   001621 000007 1                  ADSC9   BOARD_64K+466            cn=0,n=7
         3 014031   014120 601000 3                  TNZ     s:5394

     2068     5374    3      THEN DO CASE(DEVTBL.CODE(I));

   5374  3 014032   200010 236100                    LDQ     I,,AUTO
         3 014033   000012 402007                    MPY     10,DL
         3 014034   200215 471500                    LDP1    DEV$,,AUTO
         3 014035   100000 236106                    LDQ     0,QL,PR1
         3 014036   000033 772000                    QRL     27
         3 014037   000020 136007                    SBLQ    16,DL
         3 014040   000011 116007                    CMPQ    9,DL
         3 014041   014043 602006 3                  TNC     s:5374+9,QL
         3 014042   014205 710000 3                  TRA     s:5414
         3 014043   014054 710000 3                  TRA     s:5376
         3 014044   014060 710000 3                  TRA     s:5378
         3 014045   014064 710000 3                  TRA     s:5380
         3 014046   014070 710000 3                  TRA     s:5382
         3 014047   014074 710000 3                  TRA     s:5384
         3 014050   014100 710000 3                  TRA     s:5386
         3 014051   014104 710000 3                  TRA     s:5388
         3 014052   014110 710000 3                  TRA     s:5390
         3 014053   014114 710000 3                  TRA     s:5392

     2069     5375    3              CASE(16);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:408  

     2070     5376    3                 NINE_TRACK_TBL.SEVEN = NINE_TRACK_TBL.SEVEN + 1;

   5376  3 014054   007416 236000 2                  LDQ     NINE_TRACK_TBL
         3 014055   001000 036003                    ADLQ    512,DU
         3 014056   007416 552040 2                  STBQ    NINE_TRACK_TBL,'40'O
         3 014057   014205 710000 3                  TRA     s:5414

     2071     5377    3              CASE(17);

     2072     5378    3                 NINE_TRACK_TBL.SIX = NINE_TRACK_TBL.SIX + 1;

   5378  3 014060   007416 236000 2                  LDQ     NINE_TRACK_TBL
         3 014061   000001 036003                    ADLQ    1,DU
         3 014062   007416 552020 2                  STBQ    NINE_TRACK_TBL,'20'O
         3 014063   014205 710000 3                  TRA     s:5414

     2073     5379    3              CASE(18);

     2074     5380    3                 NINE_TRACK_TBL.FIVE = NINE_TRACK_TBL.FIVE + 1;

   5380  3 014064   007416 236000 2                  LDQ     NINE_TRACK_TBL
         3 014065   001000 036007                    ADLQ    512,DL
         3 014066   007416 552010 2                  STBQ    NINE_TRACK_TBL,'10'O
         3 014067   014205 710000 3                  TRA     s:5414

     2075     5381    3              CASE(19);

     2076     5382    3                 NINE_TRACK_TBL.THREE = NINE_TRACK_TBL.THREE + 1;

   5382  3 014070   007416 236000 2                  LDQ     NINE_TRACK_TBL
         3 014071   000001 036007                    ADLQ    1,DL
         3 014072   007416 552004 2                  STBQ    NINE_TRACK_TBL,'04'O
         3 014073   014205 710000 3                  TRA     s:5414

     2077     5383    3              CASE(20);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:409  
     2078     5384    3                 NINE_TRACK_TBL.NINE = NINE_TRACK_TBL.NINE + 1;

   5384  3 014074   007417 236000 2                  LDQ     NINE_TRACK_TBL+1
         3 014075   001000 036003                    ADLQ    512,DU
         3 014076   007417 552040 2                  STBQ    NINE_TRACK_TBL+1,'40'O
         3 014077   014205 710000 3                  TRA     s:5414

     2079     5385    3              CASE(21);

     2080     5386    3                 NINE_TRACK_TBL.ONE = NINE_TRACK_TBL.ONE + 1;

   5386  3 014100   007417 236000 2                  LDQ     NINE_TRACK_TBL+1
         3 014101   000001 036003                    ADLQ    1,DU
         3 014102   007417 552020 2                  STBQ    NINE_TRACK_TBL+1,'20'O
         3 014103   014205 710000 3                  TRA     s:5414

     2081     5387    3              CASE(22);

     2082     5388    3                 NINE_TRACK_TBL.EIGHT = NINE_TRACK_TBL.EIGHT + 1;

   5388  3 014104   007417 236000 2                  LDQ     NINE_TRACK_TBL+1
         3 014105   001000 036007                    ADLQ    512,DL
         3 014106   007417 552010 2                  STBQ    NINE_TRACK_TBL+1,'10'O
         3 014107   014205 710000 3                  TRA     s:5414

     2083     5389    3              CASE(23);

     2084     5390    3                 NINE_TRACK_TBL.TWO = NINE_TRACK_TBL.TWO + 1;

   5390  3 014110   007417 236000 2                  LDQ     NINE_TRACK_TBL+1
         3 014111   000001 036007                    ADLQ    1,DL
         3 014112   007417 552004 2                  STBQ    NINE_TRACK_TBL+1,'04'O
         3 014113   014205 710000 3                  TRA     s:5414

     2085     5391    3              CASE(24);

     2086     5392    3                 NINE_TRACK_TBL.FOUR = NINE_TRACK_TBL.FOUR +1;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:410  

   5392  3 014114   007420 236000 2                  LDQ     NINE_TRACK_TBL+2
         3 014115   001000 036003                    ADLQ    512,DU
         3 014116   007420 552040 2                  STBQ    NINE_TRACK_TBL+2,'40'O

     2087     5393    3           END;

   5393  3 014117   014205 710000 3                  TRA     s:5414

     2088     5394    3      ELSE DO CASE(DEVTBL.CODE(I));

   5394  3 014120   200010 236100                    LDQ     I,,AUTO
         3 014121   000012 402007                    MPY     10,DL
         3 014122   200215 471500                    LDP1    DEV$,,AUTO
         3 014123   100000 236106                    LDQ     0,QL,PR1
         3 014124   000033 772000                    QRL     27
         3 014125   000200 136007                    SBLQ    128,DL
         3 014126   000011 116007                    CMPQ    9,DL
         3 014127   014131 602006 3                  TNC     s:5394+9,QL
         3 014130   014205 710000 3                  TRA     s:5414
         3 014131   014142 710000 3                  TRA     s:5396
         3 014132   014146 710000 3                  TRA     s:5398
         3 014133   014152 710000 3                  TRA     s:5400
         3 014134   014156 710000 3                  TRA     s:5402
         3 014135   014162 710000 3                  TRA     s:5404
         3 014136   014166 710000 3                  TRA     s:5406
         3 014137   014172 710000 3                  TRA     s:5408
         3 014140   014176 710000 3                  TRA     s:5410
         3 014141   014202 710000 3                  TRA     s:5412

     2089     5395    3         CASE(128);

     2090     5396    3           NINE_TRACK_TBL.SEVEN = NINE_TRACK_TBL.SEVEN + 1;

   5396  3 014142   007416 236000 2                  LDQ     NINE_TRACK_TBL
         3 014143   001000 036003                    ADLQ    512,DU
         3 014144   007416 552040 2                  STBQ    NINE_TRACK_TBL,'40'O
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:411  
         3 014145   014205 710000 3                  TRA     s:5414

     2091     5397    3         CASE(129);

     2092     5398    3           NINE_TRACK_TBL.SIX = NINE_TRACK_TBL.SIX + 1;

   5398  3 014146   007416 236000 2                  LDQ     NINE_TRACK_TBL
         3 014147   000001 036003                    ADLQ    1,DU
         3 014150   007416 552020 2                  STBQ    NINE_TRACK_TBL,'20'O
         3 014151   014205 710000 3                  TRA     s:5414

     2093     5399    3         CASE(130);

     2094     5400    3           NINE_TRACK_TBL.FIVE = NINE_TRACK_TBL.FIVE + 1;

   5400  3 014152   007416 236000 2                  LDQ     NINE_TRACK_TBL
         3 014153   001000 036007                    ADLQ    512,DL
         3 014154   007416 552010 2                  STBQ    NINE_TRACK_TBL,'10'O
         3 014155   014205 710000 3                  TRA     s:5414

     2095     5401    3         CASE(131);

     2096     5402    3           NINE_TRACK_TBL.THREE = NINE_TRACK_TBL.THREE + 1;

   5402  3 014156   007416 236000 2                  LDQ     NINE_TRACK_TBL
         3 014157   000001 036007                    ADLQ    1,DL
         3 014160   007416 552004 2                  STBQ    NINE_TRACK_TBL,'04'O
         3 014161   014205 710000 3                  TRA     s:5414

     2097     5403    3         CASE(132);

     2098     5404    3           NINE_TRACK_TBL.NINE = NINE_TRACK_TBL.NINE + 1;

   5404  3 014162   007417 236000 2                  LDQ     NINE_TRACK_TBL+1
         3 014163   001000 036003                    ADLQ    512,DU
         3 014164   007417 552040 2                  STBQ    NINE_TRACK_TBL+1,'40'O
         3 014165   014205 710000 3                  TRA     s:5414
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:412  

     2099     5405    3         CASE(133);

     2100     5406    3           NINE_TRACK_TBL.ONE = NINE_TRACK_TBL.ONE + 1;

   5406  3 014166   007417 236000 2                  LDQ     NINE_TRACK_TBL+1
         3 014167   000001 036003                    ADLQ    1,DU
         3 014170   007417 552020 2                  STBQ    NINE_TRACK_TBL+1,'20'O
         3 014171   014205 710000 3                  TRA     s:5414

     2101     5407    3         CASE(134);

     2102     5408    3           NINE_TRACK_TBL.EIGHT = NINE_TRACK_TBL.EIGHT + 1;

   5408  3 014172   007417 236000 2                  LDQ     NINE_TRACK_TBL+1
         3 014173   001000 036007                    ADLQ    512,DL
         3 014174   007417 552010 2                  STBQ    NINE_TRACK_TBL+1,'10'O
         3 014175   014205 710000 3                  TRA     s:5414

     2103     5409    3         CASE(135);

     2104     5410    3           NINE_TRACK_TBL.TWO = NINE_TRACK_TBL.TWO + 1;

   5410  3 014176   007417 236000 2                  LDQ     NINE_TRACK_TBL+1
         3 014177   000001 036007                    ADLQ    1,DL
         3 014200   007417 552004 2                  STBQ    NINE_TRACK_TBL+1,'04'O
         3 014201   014205 710000 3                  TRA     s:5414

     2105     5411    3         CASE(136);

     2106     5412    3           NINE_TRACK_TBL.FOUR = NINE_TRACK_TBL.FOUR + 1;

   5412  3 014202   007420 236000 2                  LDQ     NINE_TRACK_TBL+2
         3 014203   001000 036003                    ADLQ    512,DU
         3 014204   007420 552040 2                  STBQ    NINE_TRACK_TBL+2,'40'O

     2107     5413    3      END;  /*  do case  */
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:413  

     2108     5414    3      DO X = 0 TO 8;

   5414  3 014205   200011 450100                    STZ     X,,AUTO

     2109     5415    3         IF NINE_TRACK_RDF(X) > 0 THEN TRACK_NINE = %TRUE;

   5415  3 014206   200011 235100                    LDA     X,,AUTO
         3 014207   000100 101405                    MRL     fill='000'O
         3 014210   007416 000001 2                  ADSC9   NINE_TRACK_TBL,A         cn=0,n=1
         3 014211   200534 000004                    ADSC9   CHIP#+2,,AUTO            cn=0,n=4
         3 014212   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 014213   000000 116003                    CMPQ    0,DU
         3 014214   014217 600000 3                  TZE     s:5416

   5415  3 014215   400000 236003                    LDQ     -131072,DU
         3 014216   200511 756100                    STQ     TRACK_NINE,,AUTO

     2110     5416    3      END;

   5416  3 014217   200011 054100                    AOS     X,,AUTO
         3 014220   200011 235100                    LDA     X,,AUTO
         3 014221   000010 115007                    CMPA    8,DL
         3 014222   014206 604400 3                  TMOZ    s:5415

     2111     5417    2   END FIND_NINE_TRACKS;

   5417  3 014223   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 014224   000001 702211                    TSX2  ! 1,X1

     2112     5418        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:414  
     2113     5419        /**/
     2114     5420        /* PROCEDURE TO CHECK TABLES FOR EXTENDED STATUS BIT MATCH */
     2115     5421        /**/
     2116     5422    1   CHECK_MODEL_CODES: PROC;

   5422  3 014225   200526 741300       CHECK_MODEL* STX1  ! @BOARD,,AUTO

     2117     5423        /**/
     2118     5424    2   FOUND_ST = %TRUE;

   5424  3 014226   400000 236003                    LDQ     -131072,DU
         3 014227   200513 756100                    STQ     FOUND_ST,,AUTO

     2119     5425    2   IF FIPS_TAPE

   5425  3 014230   200277 234100                    SZN     FIPS_TAPE,,AUTO
         3 014231   014252 605000 3                  TPL     s:5433

     2120     5426    3   THEN DO X = 0 TO 26;

   5426  3 014232   200011 450100                    STZ     X,,AUTO

     2121     5427    3           IF DEVTBL.CODE(I) = TBL_EIGHTY_TWO.CODE(X)

   5427  3 014233   200011 720100                    LXL0    X,,AUTO
         3 014234   200010 236100                    LDQ     I,,AUTO
         3 014235   000012 402007                    MPY     10,DL
         3 014236   200215 470500                    LDP0    DEV$,,AUTO
         3 014237   000000 236106                    LDQ     0,QL,PR0
         3 014240   000000 676010 xsym               ERQ     TBL_EIGHTY_TWO,X0
         3 014241   777000 376003                    ANQ     -512,DU
         3 014242   014245 601000 3                  TNZ     s:5432

     2122     5428    4           THEN DO;

     2123     5429    4              FOUND_ST = %FALSE;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:415  
   5429  3 014243   200513 450100                    STZ     FOUND_ST,,AUTO

     2124     5430    4              GOTO FOUND_CODE;

   5430  3 014244   014431 710000 3                  TRA     FOUND_CODE

     2125     5431    4           END;
     2126     5432    3        END; /* do x */

   5432  3 014245   200011 054100                    AOS     X,,AUTO
         3 014246   200011 235100                    LDA     X,,AUTO
         3 014247   000032 115007                    CMPA    26,DL
         3 014250   014233 604400 3                  TMOZ    s:5427
         3 014251   014431 710000 3                  TRA     FOUND_CODE

     2127     5433    2   ELSE IF IO_MASK1(16) AND (TRACK_SEVEN OR TRACK_NINE) AND

   5433  3 014252   200221 236100                    LDQ     IO_MASK,,AUTO
         3 014253   000002 316003                    CANQ    2,DU
         3 014254   014312 600000 3                  TZE     s:5436
         3 014255   200512 234100                    SZN     TRACK_SEVEN,,AUTO
         3 014256   014261 604000 3                  TMI     s:5433+7
         3 014257   200511 234100                    SZN     TRACK_NINE,,AUTO
         3 014260   014312 605000 3                  TPL     s:5436
         3 014261   200010 236100                    LDQ     I,,AUTO
         3 014262   000012 402007                    MPY     10,DL
         3 014263   200215 470500                    LDP0    DEV$,,AUTO
         3 014264   000000 236106                    LDQ     0,QL,PR0
         3 014265   777000 376003                    ANQ     -512,DU
         3 014266   202000 116003                    CMPQ    66560,DU
         3 014267   014276 602000 3                  TNC     s:5433+20
         3 014270   200010 236100                    LDQ     I,,AUTO
         3 014271   000012 402007                    MPY     10,DL
         3 014272   000000 236106                    LDQ     0,QL,PR0
         3 014273   777000 376003                    ANQ     -512,DU
         3 014274   212000 116003                    CMPQ    70656,DU
         3 014275   014431 602000 3                  TNC     FOUND_CODE
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:416  
         3 014276   200010 236100                    LDQ     I,,AUTO
         3 014277   000012 402007                    MPY     10,DL
         3 014300   000000 236106                    LDQ     0,QL,PR0
         3 014301   777000 376003                    ANQ     -512,DU
         3 014302   220000 116003                    CMPQ    73728,DU
         3 014303   014312 602000 3                  TNC     s:5436
         3 014304   200010 236100                    LDQ     I,,AUTO
         3 014305   000012 402007                    MPY     10,DL
         3 014306   000000 236106                    LDQ     0,QL,PR0
         3 014307   777000 376003                    ANQ     -512,DU
         3 014310   230000 116003                    CMPQ    77824,DU
         3 014311   014431 602000 3                  TNC     FOUND_CODE

     2128     5434    2      ((DEVTBL.CODE(I) >= 130 AND DEVTBL.CODE(I) <= 137)
     2129     5435    2     OR(DEVTBL.CODE(I) >= 144 AND DEVTBL.CODE(I) <= 151)) THEN;
     2130     5436    2   ELSE IF TRACK_NINE AND

   5436  3 014312   200511 234100                    SZN     TRACK_NINE,,AUTO
         3 014313   014331 605000 3                  TPL     s:5438
         3 014314   200010 236100                    LDQ     I,,AUTO
         3 014315   000012 402007                    MPY     10,DL
         3 014316   200215 470500                    LDP0    DEV$,,AUTO
         3 014317   000000 236106                    LDQ     0,QL,PR0
         3 014320   777000 376003                    ANQ     -512,DU
         3 014321   200000 116003                    CMPQ    65536,DU
         3 014322   014331 602000 3                  TNC     s:5438
         3 014323   200010 236100                    LDQ     I,,AUTO
         3 014324   000012 402007                    MPY     10,DL
         3 014325   000000 236106                    LDQ     0,QL,PR0
         3 014326   777000 376003                    ANQ     -512,DU
         3 014327   211000 116003                    CMPQ    70144,DU
         3 014330   014431 602000 3                  TNC     FOUND_CODE

     2131     5437    2          (DEVTBL.CODE(I) >= 128 AND DEVTBL.CODE(I) <= 136) THEN;
     2132     5438    2   ELSE IF EL$IOERR.MODEL = 'MTU0610' OR EL$IOERR.MODEL = 'MTU0630'

   5438  3 014331   200005 470500                    LDP0    INFO+1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:417  
         3 014332   040000 106500                    CMPC    fill='040'O
         3 014333   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 014334   001617 000007 1                  ADSC9   BOARD_64K+464            cn=0,n=7
         3 014335   014342 600000 3                  TZE     s:5440
         3 014336   040000 106500                    CMPC    fill='040'O
         3 014337   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 014340   001774 000007 1                  ADSC9   BOARD_64K+573            cn=0,n=7
         3 014341   014430 601000 3                  TNZ     s:5458

     2133     5439    3   THEN DO;

     2134     5440    4         DO X = 0 TO 9;

   5440  3 014342   200011 450100                    STZ     X,,AUTO

     2135     5441    4            IF DEVTBL.CODE(I) = TBL_SIX.CODE(X)

   5441  3 014343   200011 720100                    LXL0    X,,AUTO
         3 014344   200010 236100                    LDQ     I,,AUTO
         3 014345   000012 402007                    MPY     10,DL
         3 014346   200215 470500                    LDP0    DEV$,,AUTO
         3 014347   000000 236106                    LDQ     0,QL,PR0
         3 014350   000000 676010 xsym               ERQ     TBL_SIX,X0
         3 014351   777000 376003                    ANQ     -512,DU
         3 014352   014355 601000 3                  TNZ     s:5446

     2136     5442    5            THEN DO;

     2137     5443    5              FOUND_ST = %FALSE;

   5443  3 014353   200513 450100                    STZ     FOUND_ST,,AUTO

     2138     5444    5              GOTO FOUND_CODE;

   5444  3 014354   014431 710000 3                  TRA     FOUND_CODE

     2139     5445    5            END;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:418  
     2140     5446    4         END;  /* do x */

   5446  3 014355   200011 054100                    AOS     X,,AUTO
         3 014356   200011 235100                    LDA     X,,AUTO
         3 014357   000011 115007                    CMPA    9,DL
         3 014360   014343 604400 3                  TMOZ    s:5441

     2141     5447    3         IF EL$IOERR.MODEL = 'MTU0610'

   5447  3 014361   200005 471500                    LDP1    INFO+1,,AUTO
         3 014362   040000 106500                    CMPC    fill='040'O
         3 014363   100030 000010                    ADSC9   24,,PR1                  cn=0,n=8
         3 014364   001617 000007 1                  ADSC9   BOARD_64K+464            cn=0,n=7
         3 014365   014405 601000 3                  TNZ     s:5452

     2142     5448    4         THEN   DO X = 0 TO 9;

   5448  3 014366   200011 450100                    STZ     X,,AUTO

     2143     5449    4                  IF DEVTBL.CODE(I) = TBL_SIX_TEN.CODE(X)

   5449  3 014367   200011 720100                    LXL0    X,,AUTO
         3 014370   200010 236100                    LDQ     I,,AUTO
         3 014371   000012 402007                    MPY     10,DL
         3 014372   200215 470500                    LDP0    DEV$,,AUTO
         3 014373   000000 236106                    LDQ     0,QL,PR0
         3 014374   000000 676010 xsym               ERQ     TBL_SIX_TEN,X0
         3 014375   777000 376003                    ANQ     -512,DU
         3 014376   014400 601000 3                  TNZ     s:5451

     2144     5450    4                  THEN FOUND_ST = %FALSE;

   5450  3 014377   200513 450100                    STZ     FOUND_ST,,AUTO

     2145     5451    4                END;

   5451  3 014400   200011 054100                    AOS     X,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:419  
         3 014401   200011 235100                    LDA     X,,AUTO
         3 014402   000011 115007                    CMPA    9,DL
         3 014403   014367 604400 3                  TMOZ    s:5449
         3 014404   014431 710000 3                  TRA     FOUND_CODE

     2146     5452    3         ELSE IF EL$IOERR.MODEL = 'MTU0630'

   5452  3 014405   040000 106500                    CMPC    fill='040'O
         3 014406   100030 000010                    ADSC9   24,,PR1                  cn=0,n=8
         3 014407   001774 000007 1                  ADSC9   BOARD_64K+573            cn=0,n=7
         3 014410   014431 601000 3                  TNZ     FOUND_CODE

     2147     5453    4         THEN  DO X = 0 TO 7;

   5453  3 014411   200011 450100                    STZ     X,,AUTO

     2148     5454    4                  IF DEVTBL.CODE(I) = TBL_SIX_THIRTY.CODE(X)

   5454  3 014412   200011 720100                    LXL0    X,,AUTO
         3 014413   200010 236100                    LDQ     I,,AUTO
         3 014414   000012 402007                    MPY     10,DL
         3 014415   200215 470500                    LDP0    DEV$,,AUTO
         3 014416   000000 236106                    LDQ     0,QL,PR0
         3 014417   000000 676010 xsym               ERQ     TBL_SIX_THIRTY,X0
         3 014420   777000 376003                    ANQ     -512,DU
         3 014421   014423 601000 3                  TNZ     s:5456

     2149     5455    4                  THEN FOUND_ST = %FALSE;

   5455  3 014422   200513 450100                    STZ     FOUND_ST,,AUTO

     2150     5456    4               END; /* do x */

   5456  3 014423   200011 054100                    AOS     X,,AUTO
         3 014424   200011 235100                    LDA     X,,AUTO
         3 014425   000007 115007                    CMPA    7,DL
         3 014426   014412 604400 3                  TMOZ    s:5454
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:420  

     2151     5457    3   END;  /* if el$ioerr.model = 'mtu0610' or 'mtu0630' */

   5457  3 014427   014431 710000 3                  TRA     FOUND_CODE

     2152     5458    2   ELSE FOUND_ST = %FALSE;

   5458  3 014430   200513 450100                    STZ     FOUND_ST,,AUTO

   5452  3 014431                       FOUND_CODE   null
     2153     5459    2   FOUND_CODE:;
     2154     5460    2   END CHECK_MODEL_CODES;

   5460  3 014431   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 014432   000001 702211                    TSX2  ! 1,X1

     2155     5461        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:421  
     2156     5462        /**/
     2157     5463        /*  PROCEDURE TO INITIALIZE TABLES FOR IOERR DETAIL REPORT */
     2158     5464        /**/
     2159     5465    1   INIT_TABLES: PROC;

   5465  3 014433   200526 741300       INIT_TABLES  STX1  ! @BOARD,,AUTO

     2160     5466    2         NUM_XSTATUS = 0;

   5466  3 014434   200510 450100                    STZ     NUM_XSTATUS,,AUTO

     2161     5467    2         TRACK_SEVEN = %FALSE;

   5467  3 014435   200512 450100                    STZ     TRACK_SEVEN,,AUTO

     2162     5468    2         TRACK_NINE = %FALSE;

   5468  3 014436   200511 450100                    STZ     TRACK_NINE,,AUTO

     2163     5469    2         OTHER_IOERR_TBL.COUNT = 0;

   5469  3 014437   003332 450000 2                  STZ     OTHER_IOERR_TBL

     2164     5470    2         OTHER_IOERR_TBL.OPERATION = OPERATION;

   5470  3 014440   200502 237100                    LDAQ    OPERATION,,AUTO
         3 014441   003333 755000 2                  STA     OTHER_IOERR_TBL+1
         3 014442   003334 756000 2                  STQ     OTHER_IOERR_TBL+2

     2165     5471    2         OTHER_IOERR_TBL.SPEED = ' ';

   5471  3 014443   040000 100400                    MLR     fill='040'O
         3 014444   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 014445   003335 000040 2                  ADSC9   OTHER_IOERR_TBL+3        cn=0,n=32

     2166     5472    2         OTHER_IOERR_TBL.DENSITY = ' ';

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:422  
   5472  3 014446   040000 100400                    MLR     fill='040'O
         3 014447   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 014450   003345 000040 2                  ADSC9   OTHER_IOERR_TBL+11       cn=0,n=32

     2167     5473    2         OTHER_IOERR_TBL.TRACK = ' ';

   5473  3 014451   040000 236003                    LDQ     16384,DU
         3 014452   003355 756000 2                  STQ     OTHER_IOERR_TBL+19

     2168     5474    3         DO I = 0 TO 207;

   5474  3 014453   200010 450100                    STZ     I,,AUTO

     2169     5475    3            XSTAT_TBL.TEXT(I) = ' ';

   5475  3 014454   200010 236100                    LDQ     I,,AUTO
         3 014455   000050 402007                    MPY     40,DL
         3 014456   040006 100400                    MLR     fill='040'O
         3 014457   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 014460   003357 000043 2                  ADSC9   XSTAT_TBL+1,Q            cn=0,n=35

     2170     5476    3            XSTAT_TBL.COUNT(I) = 0;

   5476  3 014461   200010 236100                    LDQ     I,,AUTO
         3 014462   000012 402007                    MPY     10,DL
         3 014463   003356 450006 2                  STZ     XSTAT_TBL,QL

     2171     5477    3         END;  /* do i = 0 to 207  */

   5477  3 014464   200010 054100                    AOS     I,,AUTO
         3 014465   200010 235100                    LDA     I,,AUTO
         3 014466   000317 115007                    CMPA    207,DL
         3 014467   014454 604400 3                  TMOZ    s:5475

     2172     5478    2         NINE_TRACK_TBL = '0'B;

   5478  3 014470   000000 100400                    MLR     fill='000'O
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:423  
         3 014471   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         3 014472   007416 000011 2                  ADSC9   NINE_TRACK_TBL           cn=0,n=9

     2173     5479    2         NINE_TRACK_STRING = ' ';

   5479  3 014473   040100 100400                    MLR     fill='040'O
         3 014474   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 014475   200514 000033                    ADSC9   NINE_TRACK_BLNK,,AUTO    cn=0,n=27

     2174     5480    2         FIPS_TAPE = %FALSE;

   5480  3 014476   200277 450100                    STZ     FIPS_TAPE,,AUTO

     2175     5481    2   END INIT_TABLES;

   5481  3 014477   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 014500   000001 702211                    TSX2  ! 1,X1

     2176     5482        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:424  
     2177     5483        /**/
     2178     5484        /* ROUTINE TO FIND THE DENSITY FOR FIPS TAPES                     */
     2179     5485        /**/
     2180     5486    1   FIND_DEN_MODE: PROC;

   5486  3 014501   200526 741300       FIND_DEN_MO* STX1  ! @BOARD,,AUTO

     2181     5487        /**/
     2182     5488    2     IF IO_MASK1(DEVTBL.CODE(I))   /* if byte 3, bit 5 is set */

   5488  3 014502   200010 236100                    LDQ     I,,AUTO
         3 014503   000012 402007                    MPY     10,DL
         3 014504   200215 470500                    LDP0    DEV$,,AUTO
         3 014505   000000 236106                    LDQ     0,QL,PR0
         3 014506   000033 772000                    QRL     27
         3 014507   000000 066506                    CMPB    filb='0'B
         3 014510   200221 000001                    BDSC    IO_MASK,Q,AUTO           by=0,bit=0,n=1
         3 014511   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 014512   014521 600000 3                  TZE     s:5493

     2183     5489    3     THEN DO;

     2184     5490    3        XST_TEXT = 'CURR DEN: 1600 BPI';   /* its PE mode */

   5490  3 014513   040100 100400                    MLR     fill='040'O
         3 014514   001776 000022 1                  ADSC9   BOARD_64K+575            cn=0,n=18
         3 014515   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

     2185     5491    3        XST_CNT = 18;

   5491  3 014516   000022 235007                    LDA     18,DL
         3 014517   200342 755100                    STA     XST_CNT,,AUTO

     2186     5492    3     END;

   5492  3 014520   014541 710000 3                  TRA     s:5503

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:425  
     2187     5493    2     ELSE IF IO_MASK1(51)  /* if not PE mode, check byte 6, bit 3 */

   5493  3 014521   200222 236100                    LDQ     IO_MASK+1,,AUTO
         3 014522   000004 316003                    CANQ    4,DU
         3 014523   014532 600000 3                  TZE     s:5498

     2188     5494    3     THEN DO;

     2189     5495    3        XST_TEXT = 'CURR DEN: 6250 BPI'; /* its GCR mode */

   5495  3 014524   040100 100400                    MLR     fill='040'O
         3 014525   002003 000022 1                  ADSC9   BOARD_64K+580            cn=0,n=18
         3 014526   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

     2190     5496    3        XST_CNT = 18;

   5496  3 014527   000022 235007                    LDA     18,DL
         3 014530   200342 755100                    STA     XST_CNT,,AUTO

     2191     5497    3     END;

   5497  3 014531   014541 710000 3                  TRA     s:5503

     2192     5498    2     ELSE IF NOT IO_MASK1(52)   /* if not GCR, check byte 6, bit 4 */

   5498  3 014532   000002 316003                    CANQ    2,DU
         3 014533   014541 601000 3                  TNZ     s:5503

     2193     5499    3     THEN DO;

     2194     5500    3        XST_TEXT = 'CURR DEN: 200/556/800 BPI'; /* its NRZI mode */

   5500  3 014534   040100 100400                    MLR     fill='040'O
         3 014535   002010 000031 1                  ADSC9   BOARD_64K+585            cn=0,n=25
         3 014536   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

     2195     5501    3        XST_CNT = 25;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:426  

   5501  3 014537   000031 235007                    LDA     25,DL
         3 014540   200342 755100                    STA     XST_CNT,,AUTO

     2196     5502    3     END;

     2197     5503    3     IF NOT TH_DETAIL_FLG THEN DO;

   5503  3 014541   000000 234000 xsym               SZN     TH_DETAIL_FLG
         3 014542   014560 604000 3                  TMI     s:5507

     2198     5504    3       CALL THF$ADD_TEXTC(XST$,XST_TEXT,XST_CNT);

   5504  3 014543   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 014544   200536 451500                    STP1    CHIP#+4,,AUTO
         3 014545   200304 633500                    EPPR3   XST_TEXT,,AUTO
         3 014546   200535 453500                    STP3    CHIP#+3,,AUTO
         3 014547   200300 634500                    EPPR4   XST$,,AUTO
         3 014550   200534 454500                    STP4    CHIP#+2,,AUTO
         3 014551   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 014552   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 014553   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 014554   000000 011000                    NOP     0

     2199     5505    3       NXST = NXST + 1;

   5505  3 014555   200343 235100                    LDA     NXST,,AUTO
         3 014556   000001 035007                    ADLA    1,DL
         3 014557   200343 755100                    STA     NXST,,AUTO

     2200     5506    3     END;  /* if not detail */

     2201     5507    2   END FIND_DEN_MODE;

   5507  3 014560   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 014561   000001 702211                    TSX2  ! 1,X1

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:427  
     2202     5508        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:428  
     2203     5509        /**/
     2204     5510        /* ROUTINE TO FIND FORMAT# AND MESSAGE# TO INTERPRET BYTE 7 OF  */
     2205     5511        /* EXTENDED STATUS BITS FOR FIPS TAPES                          */
     2206     5512        /**/
     2207     5513    1   FIND_FORMAT_MSG: PROC;

   5513  3 014562   200524 741300       FIND_FORMAT* STX1  ! NINE_TRACK_BLNK+8,,AUTO

     2208     5514        /**/
     2209     5515    3     DO II = 0 TO 3;   /* get bits 0-3 of byte 7 for format type */

   5515  3 014563   200454 450100                    STZ     II,,AUTO

     2210     5516    3       IF IO_MASK1(DEVTBL.CODE(I) + II)

   5516  3 014564   200010 236100                    LDQ     I,,AUTO
         3 014565   000012 402007                    MPY     10,DL
         3 014566   200215 470500                    LDP0    DEV$,,AUTO
         3 014567   000000 236106                    LDQ     0,QL,PR0
         3 014570   000033 772000                    QRL     27
         3 014571   200454 036100                    ADLQ    II,,AUTO
         3 014572   000000 066506                    CMPB    filb='0'B
         3 014573   200221 000001                    BDSC    IO_MASK,Q,AUTO           by=0,bit=0,n=1
         3 014574   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 014575   014603 600000 3                  TZE     s:5518

     2211     5517    3       THEN DP_BIT(II) = '1'B;

   5517  3 014576   200454 235100                    LDA     II,,AUTO
         3 014577   003105 060400                    CSL     bolr='003'O
         3 014600   000030 000001 xsym               BDSC    B_VECTNIL+24             by=0,bit=0,n=1
         3 014601   200463 000001                    BDSC    DP_BIT,A,AUTO            by=0,bit=0,n=1
         3 014602   014607 710000 3                  TRA     s:5519

     2212     5518    3       ELSE DP_BIT(II) = '0'B;

   5518  3 014603   200454 235100                    LDA     II,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:429  
         3 014604   003105 060400                    CSL     bolr='003'O
         3 014605   000002 000001 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=1
         3 014606   200463 000001                    BDSC    DP_BIT,A,AUTO            by=0,bit=0,n=1

     2213     5519    3     END;

   5519  3 014607   000001 035007                    ADLA    1,DL
         3 014610   200454 755100                    STA     II,,AUTO
         3 014611   000004 115007                    CMPA    4,DL
         3 014612   014564 602000 3                  TNC     s:5516

     2214     5520    3     DO II = 0 TO 8;   /* go through list of formats to find format */

   5520  3 014613   200454 450100                    STZ     II,,AUTO

     2215     5521                            /* match in byte 7, bits 0-3                 */
     2216     5522    3       IF (DP_FORMAT = II)AND NOT IO_MASK1(11) /* if format 0       */

   5522  3 014614   200463 236100                    LDQ     DP_BIT,,AUTO
         3 014615   000040 772000                    QRL     32
         3 014616   200454 116100                    CMPQ    II,,AUTO
         3 014617   014630 601000 3                  TNZ     s:5528
         3 014620   200221 236100                    LDQ     IO_MASK,,AUTO
         3 014621   000100 316003                    CANQ    64,DU
         3 014622   014630 601000 3                  TNZ     s:5528

     2217     5523    4       THEN DO;                           /* but byte 1, bit 3 = 0  */

     2218     5524    4         DPC$ = ADDR(FORM0_NOTB1_B3);

   5524  3 014623   000441 236000 4                  LDQ     289
         3 014624   200465 756100                    STQ     DPC$,,AUTO

     2219     5525    4         LENN = 9;

   5525  3 014625   000011 235007                    LDA     9,DL
         3 014626   200461 755100                    STA     LENN,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:430  

     2220     5526    4         GOTO FOUND_FORMAT;

   5526  3 014627   014652 710000 3                  TRA     FOUND_FORMAT

     2221     5527    4       END;
     2222     5528    3       ELSE IF(DP_FORMAT = II)  /* if format type found in list     */

   5528  3 014630   200463 236100                    LDQ     DP_BIT,,AUTO
         3 014631   000040 772000                    QRL     32
         3 014632   200454 116100                    CMPQ    II,,AUTO
         3 014633   014644 601000 3                  TNZ     s:5534

     2223     5529    4       THEN DO;

     2224     5530    4         DPC$ = FORMAT_TBLS.SUB$(II);

   5530  3 014634   200454 235100                    LDA     II,,AUTO
         3 014635   000001 735000                    ALS     1
         3 014636   000000 236005 xsym               LDQ     FORMAT_TBLS,AL
         3 014637   200465 756100                    STQ     DPC$,,AUTO

     2225     5531    4         LENN = FORMAT_TBLS.COUNT(II);

   5531  3 014640   000001 236005 xsym               LDQ     FORMAT_TBLS+1,AL
         3 014641   000033 772000                    QRL     27
         3 014642   200461 756100                    STQ     LENN,,AUTO

     2226     5532    4         GOTO FOUND_FORMAT;

   5532  3 014643   014652 710000 3                  TRA     FOUND_FORMAT

     2227     5533    4       END;
     2228     5534    3     END; /* do ii */

   5534  3 014644   200454 235100                    LDA     II,,AUTO
         3 014645   000001 035007                    ADLA    1,DL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:431  
         3 014646   200454 755100                    STA     II,,AUTO
         3 014647   000011 115007                    CMPA    9,DL
         3 014650   014614 602000 3                  TNC     s:5522

     2229     5535    2     GOTO NEXT_BIT;  /* if not found format match */

   5535  3 014651   014734 710000 3                  TRA     NEXT_BIT

     2230     5536    2   FOUND_FORMAT:
     2231     5537    3     DO II = 0 TO 3;  /* for message code, get bits 4-7 of byte 7  */

   5537  3 014652   200454 450100       FOUND_FORMAT STZ     II,,AUTO

     2232     5538    3       IF IO_MASK1(DEVTBL.CODE(I) + 3 + II)

   5538  3 014653   200010 236100                    LDQ     I,,AUTO
         3 014654   000012 402007                    MPY     10,DL
         3 014655   200215 470500                    LDP0    DEV$,,AUTO
         3 014656   000000 236106                    LDQ     0,QL,PR0
         3 014657   000033 772000                    QRL     27
         3 014660   200454 036100                    ADLQ    II,,AUTO
         3 014661   000000 066506                    CMPB    filb='0'B
         3 014662   200221 030001                    BDSC    IO_MASK,Q,AUTO           by=0,bit=3,n=1
         3 014663   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 014664   014672 600000 3                  TZE     s:5540

     2233     5539    3       THEN DP_BIT(II) = '1'B;

   5539  3 014665   200454 235100                    LDA     II,,AUTO
         3 014666   003105 060400                    CSL     bolr='003'O
         3 014667   000030 000001 xsym               BDSC    B_VECTNIL+24             by=0,bit=0,n=1
         3 014670   200463 000001                    BDSC    DP_BIT,A,AUTO            by=0,bit=0,n=1
         3 014671   014676 710000 3                  TRA     s:5541

     2234     5540    3       ELSE DP_BIT(II) = '0'B;

   5540  3 014672   200454 235100                    LDA     II,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:432  
         3 014673   003105 060400                    CSL     bolr='003'O
         3 014674   000002 000001 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=1
         3 014675   200463 000001                    BDSC    DP_BIT,A,AUTO            by=0,bit=0,n=1

     2235     5541    3     END;

   5541  3 014676   000001 035007                    ADLA    1,DL
         3 014677   200454 755100                    STA     II,,AUTO
         3 014700   000004 115007                    CMPA    4,DL
         3 014701   014653 602000 3                  TNC     s:5538

     2236     5542    3     DO II = 0 TO LENN; /* go thru the found format tbl for the msg.*/

   5542  3 014702   200454 450100                    STZ     II,,AUTO
         3 014703   014731 710000 3                  TRA     s:5549+3

     2237     5543    3       IF DP_FORM_MSG = DP_FORM_TBL.CODE(II)  /* if msg found in tbl*/

   5543  3 014704   200454 235100                    LDA     II,,AUTO
         3 014705   000003 735000                    ALS     3
         3 014706   200465 470500                    LDP0    DPC$,,AUTO
         3 014707   000000 620005                    EAX0    0,AL
         3 014710   200463 236100                    LDQ     DP_BIT,,AUTO
         3 014711   000000 676110                    ERQ     0,X0,PR0
         3 014712   740000 376003                    ANQ     -16384,DU
         3 014713   014726 601000 3                  TNZ     s:5549

     2238     5544    4       THEN DO;

     2239     5545    4         XST_TEXT = DP_FORM_TBL.TEXT(II);

   5545  3 014714   200454 236100                    LDQ     II,,AUTO
         3 014715   000005 736000                    QLS     5
         3 014716   040100 100506                    MLR     fill='040'O
         3 014717   000000 400036                    ADSC9   0,Q,PR0                  cn=2,n=30
         3 014720   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:433  
     2240     5546    4         XST_CNT = DP_FORM_TBL.COUNT(II);

   5546  3 014721   000000 236110                    LDQ     0,X0,PR0
         3 014722   000027 772000                    QRL     23
         3 014723   000777 376007                    ANQ     511,DL
         3 014724   200342 756100                    STQ     XST_CNT,,AUTO

     2241     5547    4         GOTO NEXT_BIT;

   5547  3 014725   014734 710000 3                  TRA     NEXT_BIT

     2242     5548    4       END;  /* if */
     2243     5549    3     END;  /* do ii */

   5549  3 014726   200454 236100                    LDQ     II,,AUTO
         3 014727   000001 036007                    ADLQ    1,DL
         3 014730   200454 756100                    STQ     II,,AUTO
         3 014731   200461 236100                    LDQ     LENN,,AUTO
         3 014732   200454 116100                    CMPQ    II,,AUTO
         3 014733   014704 603000 3                  TRC     s:5543

     2244     5550    2   NEXT_BIT:  IF LENN > 20 THEN RETURN; /* if format match not found */

   5550  3 014734   200461 235100       NEXT_BIT     LDA     LENN,,AUTO
         3 014735   000025 115007                    CMPA    21,DL
         3 014736   014741 602000 3                  TNC     s:5551

   5550  3 014737   200524 221300                    LDX1  ! NINE_TRACK_BLNK+8,,AUTO
         3 014740   000001 702211                    TSX2  ! 1,X1

     2245     5551    3              IF NOT TH_DETAIL_FLG THEN DO;

   5551  3 014741   000000 234000 xsym               SZN     TH_DETAIL_FLG
         3 014742   014760 604000 3                  TMI     s:5555

     2246     5552    3                CALL THF$ADD_TEXTC(XST$,XST_TEXT,XST_CNT);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:434  
   5552  3 014743   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 014744   200536 450500                    STP0    CHIP#+4,,AUTO
         3 014745   200304 631500                    EPPR1   XST_TEXT,,AUTO
         3 014746   200535 451500                    STP1    CHIP#+3,,AUTO
         3 014747   200300 633500                    EPPR3   XST$,,AUTO
         3 014750   200534 453500                    STP3    CHIP#+2,,AUTO
         3 014751   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 014752   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 014753   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 014754   000000 011000                    NOP     0

     2247     5553    3                NXST = NXST + 1;

   5553  3 014755   200343 235100                    LDA     NXST,,AUTO
         3 014756   000001 035007                    ADLA    1,DL
         3 014757   200343 755100                    STA     NXST,,AUTO

     2248     5554    3              END; /* if not detail */

     2249     5555    2   END FIND_FORMAT_MSG;

   5555  3 014760   200524 221300                    LDX1  ! NINE_TRACK_BLNK+8,,AUTO
         3 014761   000001 702211                    TSX2  ! 1,X1

     2250     5556        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:435  
     2251     5557        /**/
     2252     5558        /* PROCEDURE TO FIND FAULT CODE */
     2253     5559        /**/
     2254     5560    1   FIND_FAULT_CODE: PROC;

   5560  3 014762   200526 741300       FIND_FAULT_* STX1  ! @BOARD,,AUTO

     2255     5561        /**/
     2256     5562    3   DO II = 0 TO 7;

   5562  3 014763   200454 450100                    STZ     II,,AUTO

     2257     5563    3      IF IO_MASK1(DEVTBL.CODE(I) + II)

   5563  3 014764   200010 236100                    LDQ     I,,AUTO
         3 014765   000012 402007                    MPY     10,DL
         3 014766   200215 470500                    LDP0    DEV$,,AUTO
         3 014767   000000 236106                    LDQ     0,QL,PR0
         3 014770   000033 772000                    QRL     27
         3 014771   200454 036100                    ADLQ    II,,AUTO
         3 014772   000000 066506                    CMPB    filb='0'B
         3 014773   200221 000001                    BDSC    IO_MASK,Q,AUTO           by=0,bit=0,n=1
         3 014774   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 014775   015003 600000 3                  TZE     s:5565

     2258     5564    3      THEN FT_BIT(II) = '1'B;

   5564  3 014776   200454 235100                    LDA     II,,AUTO
         3 014777   003105 060400                    CSL     bolr='003'O
         3 015000   000030 000001 xsym               BDSC    B_VECTNIL+24             by=0,bit=0,n=1
         3 015001   200464 000001                    BDSC    FT_BIT,A,AUTO            by=0,bit=0,n=1
         3 015002   015007 710000 3                  TRA     s:5566

     2259     5565    3      ELSE FT_BIT(II) = '0'B;

   5565  3 015003   200454 235100                    LDA     II,,AUTO
         3 015004   003105 060400                    CSL     bolr='003'O
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:436  
         3 015005   000002 000001 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=1
         3 015006   200464 000001                    BDSC    FT_BIT,A,AUTO            by=0,bit=0,n=1

     2260     5566    3   END;

   5566  3 015007   000001 035007                    ADLA    1,DL
         3 015010   200454 755100                    STA     II,,AUTO
         3 015011   000010 115007                    CMPA    8,DL
         3 015012   014764 602000 3                  TNC     s:5563

     2261     5567    3   DO II = 0 TO 70;

   5567  3 015013   200454 450100                    STZ     II,,AUTO

     2262     5568    3      IF FT_CODE = FAULT_SYMP_TBL.CODE(II)

   5568  3 015014   200454 236100                    LDQ     II,,AUTO
         3 015015   000012 402007                    MPY     10,DL
         3 015016   000000 236006 xsym               LDQ     FAULT_SYMP_TBL,QL
         3 015017   000033 772000                    QRL     27
         3 015020   200534 756100                    STQ     CHIP#+2,,AUTO
         3 015021   200464 236100                    LDQ     FT_BIT,,AUTO
         3 015022   000034 772000                    QRL     28
         3 015023   200534 116100                    CMPQ    CHIP#+2,,AUTO
         3 015024   015041 601000 3                  TNZ     s:5574

     2263     5569    4      THEN DO;

     2264     5570    4        XST_TEXT = FAULT_SYMP_TBL.TEXT(II);

   5570  3 015025   200454 236100                    LDQ     II,,AUTO
         3 015026   000050 402007                    MPY     40,DL
         3 015027   040100 100406                    MLR     fill='040'O
         3 015030   000000 400043 xsym               ADSC9   FAULT_SYMP_TBL,Q         cn=2,n=35
         3 015031   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

     2265     5571    4        XST_CNT = FAULT_SYMP_TBL.COUNT(II);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:437  

   5571  3 015032   200454 236100                    LDQ     II,,AUTO
         3 015033   000012 402007                    MPY     10,DL
         3 015034   000000 236006 xsym               LDQ     FAULT_SYMP_TBL,QL
         3 015035   000022 772000                    QRL     18
         3 015036   000777 376007                    ANQ     511,DL
         3 015037   200342 756100                    STQ     XST_CNT,,AUTO

     2266     5572    4        GOTO FOUND_FAULT_CODE;

   5572  3 015040   015046 710000 3                  TRA     FOUND_FAULT_CODE

     2267     5573    4      END;
     2268     5574    3   END;

   5574  3 015041   200454 235100                    LDA     II,,AUTO
         3 015042   000001 035007                    ADLA    1,DL
         3 015043   200454 755100                    STA     II,,AUTO
         3 015044   000107 115007                    CMPA    71,DL
         3 015045   015014 602000 3                  TNC     s:5568

     2269     5575    2   FOUND_FAULT_CODE: IF NOT TH_DETAIL_FLG

   5575  3 015046   000000 234000 xsym  FOUND_FAULT* SZN     TH_DETAIL_FLG
         3 015047   015065 604000 3                  TMI     s:5580

     2270     5576    3                     THEN DO;

     2271     5577    3                       CALL THF$ADD_TEXTC(XST$,XST_TEXT,XST_CNT);

   5577  3 015050   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 015051   200536 450500                    STP0    CHIP#+4,,AUTO
         3 015052   200304 631500                    EPPR1   XST_TEXT,,AUTO
         3 015053   200535 451500                    STP1    CHIP#+3,,AUTO
         3 015054   200300 633500                    EPPR3   XST$,,AUTO
         3 015055   200534 453500                    STP3    CHIP#+2,,AUTO
         3 015056   200534 630500                    EPPR0   CHIP#+2,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:438  
         3 015057   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 015060   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 015061   000000 011000                    NOP     0

     2272     5578    3                       NXST = NXST + 1;

   5578  3 015062   200343 235100                    LDA     NXST,,AUTO
         3 015063   000001 035007                    ADLA    1,DL
         3 015064   200343 755100                    STA     NXST,,AUTO

     2273     5579    3                     END;

     2274     5580    2   END FIND_FAULT_CODE;

   5580  3 015065   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 015066   000001 702211                    TSX2  ! 1,X1

     2275     5581        /* HANDLING OF DETAIL REPORT FORMAT FOR FEPERR */
     2276     5582        /**/
     2277     5583    1   THF$FEPERR: PROC;

   5583  3 015067   200524 741300       THF$FEPERR   STX1  ! NINE_TRACK_BLNK+8,,AUTO

     2278     5584        /**/
     2279     5585    2   ALL_MATCH = %FALSE;

   5585  3 015070   200504 450100                    STZ     ALL_MATCH,,AUTO

     2280     5586    3   IF TH_FIRST_TIME THEN DO;

   5586  3 015071   000000 234000 xsym               SZN     TH_FIRST_TIME
         3 015072   015125 605000 3                  TPL     s:5597

     2281     5587    3      FEP_COUNT = 0;

   5587  3 015073   200460 450100                    STZ     FEP_COUNT,,AUTO

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:439  
     2282     5588    3      TEXTBUF = ' ';

   5588  3 015074   040100 100400                    MLR     fill='040'O
         3 015075   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 015076   200106 000400                    ADSC9   TEXTBUF,,AUTO            cn=0,n=256

     2283     5589    3      TEXT$ = ADDR(TEXTBUF);

   5589  3 015077   200106 630500                    EPPR0   TEXTBUF,,AUTO
         3 015100   200210 450500                    STP0    TEXT$,,AUTO

     2284     5590    3      INFO = TH_XSA_BUF_VECTOR;

   5590  3 015101   000100 100400                    MLR     fill='000'O
         3 015102   000000 000010 xsym               ADSC9   TH_XSA_BUF_VECTOR        cn=0,n=8
         3 015103   200004 000010                    ADSC9   INFO,,AUTO               cn=0,n=8

     2285     5591    3        CALL THW$WRITE(FEP_FMT,INFO);

   5591  3 015104   200004 631500                    EPPR1   INFO,,AUTO
         3 015105   200535 451500                    STP1    CHIP#+3,,AUTO
         3 015106   000442 236000 4                  LDQ     290
         3 015107   200534 756100                    STQ     CHIP#+2,,AUTO
         3 015110   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 015111   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 015112   000000 701000 xent               TSX1    THW$WRITE
         3 015113   000000 011000                    NOP     0

     2286     5592    3      FEPERR_TBL = EL$FEPERR;

   5592  3 015114   200005 470500                    LDP0    INFO+1,,AUTO
         3 015115   000000 100500                    MLR     fill='000'O
         3 015116   000000 000210                    ADSC9   0,,PR0                   cn=0,n=136
         3 015117   007470 000210 2                  ADSC9   FEPERR_TBL               cn=0,n=136

     2287     5593    3      FEP_COUNT = FEP_COUNT + 1;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:440  
   5593  3 015120   200460 235100                    LDA     FEP_COUNT,,AUTO
         3 015121   000001 035007                    ADLA    1,DL
         3 015122   200460 755100                    STA     FEP_COUNT,,AUTO

     2288     5594    3      TH_FIRST_TIME = %FALSE;

   5594  3 015123   000000 450000 xsym               STZ     TH_FIRST_TIME

     2289     5595    3      GOTO NEXT_RECORD_PLEASE;

   5595  3 015124   015370 710000 3                  TRA     NEXT_RECORD_PLEASE

     2290     5596    3   END;  /* if th_first_time */
     2291     5597    2   ELSE IF TH_EOF_FLG THEN GOTO NOT_MATCH_AT_ALL;

   5597  3 015125   000000 234000 xsym               SZN     TH_EOF_FLG
         3 015126   015173 604000 3                  TMI     NOT_MATCH_AT_ALL

     2292     5598    3   ELSE IF NOT TH_FIRST_TIME AND NOT TH_EOF_FLG THEN DO;

   5598  3 015127   000000 234000 xsym               SZN     TH_FIRST_TIME
         3 015130   015173 604000 3                  TMI     NOT_MATCH_AT_ALL
         3 015131   000000 234000 xsym               SZN     TH_EOF_FLG
         3 015132   015173 604000 3                  TMI     NOT_MATCH_AT_ALL

     2293     5599    3      TEXT$ = ADDR(TEXTBUF);

   5599  3 015133   200106 630500                    EPPR0   TEXTBUF,,AUTO
         3 015134   200210 450500                    STP0    TEXT$,,AUTO

     2294     5600    3      INFO = TH_XSA_BUF_VECTOR;

   5600  3 015135   000100 100400                    MLR     fill='000'O
         3 015136   000000 000010 xsym               ADSC9   TH_XSA_BUF_VECTOR        cn=0,n=8
         3 015137   200004 000010                    ADSC9   INFO,,AUTO               cn=0,n=8

     2295     5601    3     IF EL$FEPERR.STATDATA.NODE = FEPERR_TBL.STATDATA.NODE
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:441  

   5601  3 015140   200005 471500                    LDP1    INFO+1,,AUTO
         3 015141   100000 236100                    LDQ     0,,PR1
         3 015142   007470 676000 2                  ERQ     FEPERR_TBL
         3 015143   777774 376003                    ANQ     -4,DU
         3 015144   015173 601000 3                  TNZ     NOT_MATCH_AT_ALL

     2296     5602    4     THEN DO;

     2297     5603    4       IF EL$FEPERR.STATDATA.TERMID.TERM.CHANNEL = FEPERR_TBL.STATDATA.TERMID.TERM.
              5603                CHANNEL

   5603  3 015145   100005 236100                    LDQ     5,,PR1
         3 015146   007475 676000 2                  ERQ     FEPERR_TBL+5
         3 015147   777777 376007                    ANQ     -1,DL
         3 015150   015173 601000 3                  TNZ     NOT_MATCH_AT_ALL

     2298     5604    5       THEN DO;

     2299     5605    5           IF EL$FEPERR.STATDATA.ERRCODE.FCG = FEPERR_TBL.STATDATA.ERRCODE.FCG

   5605  3 015151   100001 236100                    LDQ     1,,PR1
         3 015152   007471 676000 2                  ERQ     FEPERR_TBL+1
         3 015153   777700 376003                    ANQ     -64,DU
         3 015154   015173 601000 3                  TNZ     NOT_MATCH_AT_ALL

     2300     5606    6           THEN DO;

     2301     5607    6             IF EL$FEPERR.STATDATA.ERRCODE.ERR# = FEPERR_TBL.STATDATA.ERRCODE.ERR#

   5607  3 015155   100001 236100                    LDQ     1,,PR1
         3 015156   007471 676000 2                  ERQ     FEPERR_TBL+1
         3 015157   377770 376007                    ANQ     131064,DL
         3 015160   015173 601000 3                  TNZ     NOT_MATCH_AT_ALL

     2302     5608    7             THEN DO;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:442  
     2303     5609    7               IF EL$FEPERR.STATDATA.ERRCODE.SEV = FEPERR_TBL.STATDATA.ERRCODE.SEV

   5609  3 015161   100001 236100                    LDQ     1,,PR1
         3 015162   007471 676000 2                  ERQ     FEPERR_TBL+1
         3 015163   000007 376007                    ANQ     7,DL
         3 015164   015173 601000 3                  TNZ     NOT_MATCH_AT_ALL

     2304     5610    8               THEN DO;

     2305     5611    8                 FEP_COUNT = FEP_COUNT + 1;

   5611  3 015165   200460 235100                    LDA     FEP_COUNT,,AUTO
         3 015166   000001 035007                    ADLA    1,DL
         3 015167   200460 755100                    STA     FEP_COUNT,,AUTO

     2306     5612    8                 ALL_MATCH = %TRUE;

   5612  3 015170   400000 236003                    LDQ     -131072,DU
         3 015171   200504 756100                    STQ     ALL_MATCH,,AUTO

     2307     5613    8                 GOTO NEXT_RECORD_PLEASE;

   5613  3 015172   015370 710000 3                  TRA     NEXT_RECORD_PLEASE

     2308     5614    8               END; /* if errcode.sev equals */
     2309     5615    7               ELSE GOTO NOT_MATCH_AT_ALL;
     2310     5616    7             END; /* if errcode.err# equals */
     2311     5617    6             ELSE GOTO NOT_MATCH_AT_ALL;
     2312     5618    6           END; /* if errcode.fcg equals */
     2313     5619    5           ELSE GOTO NOT_MATCH_AT_ALL;
     2314     5620    5       END; /* if channel number equals */
     2315     5621    4       ELSE GOTO NOT_MATCH_AT_ALL;
     2316     5622    4     END; /* if fep number equals */
     2317     5623    3     ELSE GOTO NOT_MATCH_AT_ALL;
     2318     5624    3   END; /* if not first time and not eof */
     2319     5625    2   NOT_MATCH_AT_ALL:
     2320     5626    2       FEPERR_CODE = FEPERR_TBL.STATDATA.ERRCODE;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:443  

   5626  3 015173   007471 236000 2     NOT_MATCH_A* LDQ     FEPERR_TBL+1
         3 015174   000056 756000 2                  STQ     FEPERR_CODE

     2321     5627    2       CALL ERROR_CODE(FEPERR_CODE);

   5627  3 015175   000104 236000 4                  LDQ     68
         3 015176   200527 756100                    STQ     @CHIP,,AUTO
         3 015177   010575 701000 3                  TSX1    ERROR_CODE
         3 015200   000000 011000                    NOP     0

     2322     5628    2       ERR_MSG = ' ';

   5628  3 015201   040000 100400                    MLR     fill='040'O
         3 015202   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 015203   003256 000170 2                  ADSC9   ERR_MSG                  cn=0,n=120

     2323     5629    2         CALL M$ERRMSG(ERR_MSGS) ALTRET(NO_MESSAGE);

   5629  3 015204   007424 630400 2                  EPPR0   ERR_MSGS
         3 015205   420000 713400                    CLIMB   alt,+8192
         3 015206   405000 401760                    pmme    nvectors=11
         3 015207   015232 702000 3                  TSX2    NO_MESSAGE

     2324     5630    2         I = 0;

   5630  3 015210   200010 450100                    STZ     I,,AUTO

     2325     5631    3           DO WHILE(SUBSTR(ERR_MSG,I,1) = ' ');

   5631  3 015211   015213 710000 3                  TRA     s:5633

     2326     5632    3              I = I + 1;

   5632  3 015212   200010 054100                    AOS     I,,AUTO

     2327     5633    3           END;  /* do while */
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:444  

   5633  3 015213   200010 235100                    LDA     I,,AUTO
         3 015214   040000 106405                    CMPC    fill='040'O
         3 015215   003256 000001 2                  ADSC9   ERR_MSG,A                cn=0,n=1
         3 015216   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 015217   015212 600000 3                  TZE     s:5632

     2328     5634    2         ERR_MSG_T = SUBSTR(ERR_MSG,I,43);

   5634  3 015220   040100 100405                    MLR     fill='040'O
         3 015221   003256 000053 2                  ADSC9   ERR_MSG,A                cn=0,n=43
         3 015222   200466 000053                    ADSC9   ERR_MSG_T,,AUTO          cn=0,n=43

     2329     5635    2       CALL ADD_TEXTC(ERR_MSG_T,43);

   5635  3 015223   000106 236000 4                  LDQ     70
         3 015224   200530 756100                    STQ     BIT#,,AUTO
         3 015225   200466 630500                    EPPR0   ERR_MSG_T,,AUTO
         3 015226   200527 450500                    STP0    @CHIP,,AUTO
         3 015227   010552 701000 3                  TSX1    ADD_TEXTC
         3 015230   000000 011000                    NOP     0

     2330     5636    3   DO NEVER;

   5636  3 015231   015240 710000 3                  TRA     s:5639

     2331     5637    3   NO_MESSAGE: CALL ADD_TEXTC('NO ERROR MESSAGE',16);

   5637  3 015232   000110 236000 4     NO_MESSAGE   LDQ     72
         3 015233   200530 756100                    STQ     BIT#,,AUTO
         3 015234   000443 236000 4                  LDQ     291
         3 015235   200527 756100                    STQ     @CHIP,,AUTO
         3 015236   010552 701000 3                  TSX1    ADD_TEXTC
         3 015237   000000 011000                    NOP     0

     2332     5638    3      END; /* do never */

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:445  
     2333     5639    2      TVEC = VECTOR(TEXTBUF);

   5639  3 015240   000306 235000 4                  LDA     198
         3 015241   200534 452500                    STP2    CHIP#+2,,AUTO
         3 015242   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 015243   000106 036003                    ADLQ    70,DU
         3 015244   200206 757100                    STAQ    TVEC,,AUTO

     2334     5640    2      TVEC.BOUND = POFFC(TEXT$,ADDR(TEXTBUF)) - 1;

   5640  3 015245   200534 452500                    STP2    CHIP#+2,,AUTO
         3 015246   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 015247   000106 036003                    ADLQ    70,DU
         3 015250   000020 772000                    QRL     16
         3 015251   200535 756100                    STQ     CHIP#+3,,AUTO
         3 015252   200210 236100                    LDQ     TEXT$,,AUTO
         3 015253   000020 772000                    QRL     16
         3 015254   200535 136100                    SBLQ    CHIP#+3,,AUTO
         3 015255   000001 136007                    SBLQ    1,DL
         3 015256   000020 736000                    QLS     16
         3 015257   200206 676100                    ERQ     TVEC,,AUTO
         3 015260   000034 376000 xsym               ANQ     B_VECTNIL+28
         3 015261   200206 656100                    ERSQ    TVEC,,AUTO

     2335     5641    3        DO I = CTL.NHDR + 1 TO CTL.NFMT + CTL.NHDR;

   5641  3 015262   200211 470500                    LDP0    CTL$,,AUTO
         3 015263   000000 236100                    LDQ     0,,PR0
         3 015264   000033 772000                    QRL     27
         3 015265   000001 036007                    ADLQ    1,DL
         3 015266   200010 756100                    STQ     I,,AUTO
         3 015267   015313 710000 3                  TRA     s:5643+1

     2336     5642    3          CALL THW$WRITE(CTL.FMT(I),VECTOR(FEP_COUNT),TVEC);

   5642  3 015270   777640 235007                    LDA     -96,DL
         3 015271   200534 452500                    STP2    CHIP#+2,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:446  
         3 015272   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 015273   000460 036003                    ADLQ    304,DU
         3 015274   200536 757100                    STAQ    CHIP#+4,,AUTO
         3 015275   200206 630500                    EPPR0   TVEC,,AUTO
         3 015276   200542 450500                    STP0    CHIP#+8,,AUTO
         3 015277   200536 631500                    EPPR1   CHIP#+4,,AUTO
         3 015300   200541 451500                    STP1    CHIP#+7,,AUTO
         3 015301   200010 236100                    LDQ     I,,AUTO
         3 015302   000023 736000                    QLS     19
         3 015303   000002 036003                    ADLQ    2,DU
         3 015304   200211 036100                    ADLQ    CTL$,,AUTO
         3 015305   200540 756100                    STQ     CHIP#+6,,AUTO
         3 015306   200540 630500                    EPPR0   CHIP#+6,,AUTO
         3 015307   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 015310   000000 701000 xent               TSX1    THW$WRITE
         3 015311   000000 011000                    NOP     0

     2337     5643    3        END; /*  do i */

   5643  3 015312   200010 054100                    AOS     I,,AUTO
         3 015313   200211 470500                    LDP0    CTL$,,AUTO
         3 015314   000000 236100                    LDQ     0,,PR0
         3 015315   000033 772000                    QRL     27
         3 015316   200534 756100                    STQ     CHIP#+2,,AUTO
         3 015317   000000 236100                    LDQ     0,,PR0
         3 015320   000022 772000                    QRL     18
         3 015321   000777 376007                    ANQ     511,DL
         3 015322   200534 036100                    ADLQ    CHIP#+2,,AUTO
         3 015323   015270 604000 3                  TMI     s:5642
         3 015324   200010 116100                    CMPQ    I,,AUTO
         3 015325   015270 605000 3                  TPL     s:5642

     2338     5644    2      IF TH_EOF_FLG THEN RETURN;

   5644  3 015326   000000 234000 xsym               SZN     TH_EOF_FLG
         3 015327   015332 605000 3                  TPL     s:5645

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:447  
   5644  3 015330   200524 221300                    LDX1  ! NINE_TRACK_BLNK+8,,AUTO
         3 015331   000001 702211                    TSX2  ! 1,X1

     2339     5645    2      FEP_COUNT = 0;

   5645  3 015332   200460 450100                    STZ     FEP_COUNT,,AUTO

     2340     5646    2      TEXTBUF = ' ';

   5646  3 015333   040100 100400                    MLR     fill='040'O
         3 015334   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 015335   200106 000400                    ADSC9   TEXTBUF,,AUTO            cn=0,n=256

     2341     5647    2      TEXT$ = ADDR(TEXTBUF);

   5647  3 015336   200106 631500                    EPPR1   TEXTBUF,,AUTO
         3 015337   200210 451500                    STP1    TEXT$,,AUTO

     2342     5648    2      IF EL$FEPERR.STATDATA.NODE ~= FEPERR_TBL.STATDATA.NODE OR

   5648  3 015340   200005 473500                    LDP3    INFO+1,,AUTO
         3 015341   300000 236100                    LDQ     0,,PR3
         3 015342   007470 676000 2                  ERQ     FEPERR_TBL
         3 015343   777774 376003                    ANQ     -4,DU
         3 015344   015351 601000 3                  TNZ     s:5650
         3 015345   300005 236100                    LDQ     5,,PR3
         3 015346   007475 676000 2                  ERQ     FEPERR_TBL+5
         3 015347   777777 376007                    ANQ     -1,DL
         3 015350   015361 600000 3                  TZE     s:5651

     2343     5649    2         EL$FEPERR.STATDATA.TERMID.TERM.CHANNEL ~= FEPERR_TBL.STATDATA.TERMID.TERM.
              5649                  CHANNEL
     2344     5650    2         THEN CALL THW$WRITE(FEP_FMT,INFO);

   5650  3 015351   200004 634500                    EPPR4   INFO,,AUTO
         3 015352   200535 454500                    STP4    CHIP#+3,,AUTO
         3 015353   000442 236000 4                  LDQ     290
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:448  
         3 015354   200534 756100                    STQ     CHIP#+2,,AUTO
         3 015355   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 015356   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 015357   000000 701000 xent               TSX1    THW$WRITE
         3 015360   000000 011000                    NOP     0

     2345     5651    2      FEPERR_TBL = EL$FEPERR;

   5651  3 015361   200005 470500                    LDP0    INFO+1,,AUTO
         3 015362   000000 100500                    MLR     fill='000'O
         3 015363   000000 000210                    ADSC9   0,,PR0                   cn=0,n=136
         3 015364   007470 000210 2                  ADSC9   FEPERR_TBL               cn=0,n=136

     2346     5652    2      FEP_COUNT = FEP_COUNT + 1;

   5652  3 015365   200460 235100                    LDA     FEP_COUNT,,AUTO
         3 015366   000001 035007                    ADLA    1,DL
         3 015367   200460 755100                    STA     FEP_COUNT,,AUTO

   5652  3 015370                       NEXT_RECORD* null
     2347     5653    2   NEXT_RECORD_PLEASE: ;
     2348     5654    2   END THF$FEPERR;

   5654  3 015370   200524 221300                    LDX1  ! NINE_TRACK_BLNK+8,,AUTO
         3 015371   000001 702211                    TSX2  ! 1,X1

     2349     5655        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:449  
     2350     5656        /* HANDLING OF PR54 PRINTERS FOR IOERR RECORDS */
     2351     5657        /**/
     2352     5658    1   EURC_PR54: PROC;

   5658  3 015372   200524 741300       EURC_PR54    STX1  ! NINE_TRACK_BLNK+8,,AUTO

     2353     5659        /**/
     2354     5660    2   IF DEVTBL.CODE(I) = 0 AND NOT IO_MASK1(0)

   5660  3 015373   200010 236100                    LDQ     I,,AUTO
         3 015374   000012 402007                    MPY     10,DL
         3 015375   200215 470500                    LDP0    DEV$,,AUTO
         3 015376   000000 236106                    LDQ     0,QL,PR0
         3 015377   777000 316003                    CANQ    -512,DU
         3 015400   015403 601000 3                  TNZ     s:5662
         3 015401   200221 234100                    SZN     IO_MASK,,AUTO
         3 015402   016025 605000 3                  TPL     EURC_RETURN

     2355     5661    2       THEN GOTO EURC_RETURN;
     2356     5662    3   ELSE IF DEVTBL.CODE(I) = 6 THEN DO;  /* BELT TYPE */

   5662  3 015403   200010 236100                    LDQ     I,,AUTO
         3 015404   000012 402007                    MPY     10,DL
         3 015405   000000 236106                    LDQ     0,QL,PR0
         3 015406   777000 376003                    ANQ     -512,DU
         3 015407   006000 116003                    CMPQ    3072,DU
         3 015410   015454 601000 3                  TNZ     s:5675

     2357     5663    3       PTR_BELT.BYT1 = IO_MASK(0);

   5663  3 015411   200221 236100                    LDQ     IO_MASK,,AUTO
         3 015412   200014 676100                    ERQ     PTR_BELT,,AUTO
         3 015413   776000 376003                    ANQ     -1024,DU
         3 015414   200014 656100                    ERSQ    PTR_BELT,,AUTO

     2358     5664    3       PTR_BELT.BYT2 = IO_MASK(1);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:450  
   5664  3 015415   200221 236100                    LDQ     IO_MASK,,AUTO
         3 015416   200014 676100                    ERQ     PTR_BELT,,AUTO
         3 015417   001774 376003                    ANQ     1020,DU
         3 015420   200014 656100                    ERSQ    PTR_BELT,,AUTO

     2359     5665    4       DO X = 0 TO 3;         /* GO THRU PR54_BELT_TBL */

   5665  3 015421   200011 450100                    STZ     X,,AUTO

     2360     5666    4          IF PR54_BELT.CODE = PR54_BELT_TBL.CODE(X)

   5666  3 015422   200011 236100                    LDQ     X,,AUTO
         3 015423   000330 402007                    MPY     216,DL
         3 015424   000000 116003                    CMPQ    0,DU
         3 015425   015427 605000 3                  TPL     s:5666+5
         3 015426   000044 036003                    ADLQ    36,DU
         3 015427   000006 066500                    CMPB    filb='0'B
         3 015430   200014 010017                    BDSC    PTR_BELT,,AUTO           by=0,bit=1,n=15
         3 015431   000000 000017 xsym               BDSC    PR54_BELT_TBL,Q          by=0,bit=0,n=15
         3 015432   015447 601000 3                  TNZ     s:5672

     2361     5667    5          THEN DO;

     2362     5668    5             XST_TEXT = PR54_BELT_TBL.TEXT(X);

   5668  3 015433   200011 236100                    LDQ     X,,AUTO
         3 015434   000030 402007                    MPY     24,DL
         3 015435   040100 100406                    MLR     fill='040'O
         3 015436   000000 600022 xsym               ADSC9   PR54_BELT_TBL,Q          cn=3,n=18
         3 015437   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

     2363     5669    5             XST_CNT = PR54_BELT_TBL.COUNT(X);

   5669  3 015440   200011 236100                    LDQ     X,,AUTO
         3 015441   000006 402007                    MPY     6,DL
         3 015442   000000 236006 xsym               LDQ     PR54_BELT_TBL,QL
         3 015443   000014 772000                    QRL     12
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:451  
         3 015444   000777 376007                    ANQ     511,DL
         3 015445   200342 756100                    STQ     XST_CNT,,AUTO

     2364     5670    5             GOTO FOUND_IT;

   5670  3 015446   016010 710000 3                  TRA     FOUND_IT

     2365     5671    5          END;
     2366     5672    4       END;  /* DO X = 0 TO 3 */

   5672  3 015447   200011 054100                    AOS     X,,AUTO
         3 015450   200011 235100                    LDA     X,,AUTO
         3 015451   000003 115007                    CMPA    3,DL
         3 015452   015422 604400 3                  TMOZ    s:5666

     2367     5673    3       GOTO EURC_RETURN;        /* NOT FOUND */

   5673  3 015453   016025 710000 3                  TRA     EURC_RETURN

     2368     5674    3     END;
     2369     5675    2   ELSE IF DEVTBL.CODE(I) = 24 AND NOT IO_MASK1(24)

   5675  3 015454   200010 236100                    LDQ     I,,AUTO
         3 015455   000012 402007                    MPY     10,DL
         3 015456   000000 236106                    LDQ     0,QL,PR0
         3 015457   777000 376003                    ANQ     -512,DU
         3 015460   030000 116003                    CMPQ    12288,DU
         3 015461   015473 601000 3                  TNZ     s:5679
         3 015462   200221 236100                    LDQ     IO_MASK,,AUTO
         3 015463   004000 316007                    CANQ    2048,DL
         3 015464   015473 601000 3                  TNZ     s:5679

     2370     5676    3   THEN DO;

     2371     5677    3       XST_TEXT = 'VFC NOT LOADED';  XST_CNT = 14;

   5677  3 015465   040100 100400                    MLR     fill='040'O
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:452  
         3 015466   002023 000016 1                  ADSC9   BOARD_64K+596            cn=0,n=14
         3 015467   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

   5677  3 015470   000016 235007                    LDA     14,DL
         3 015471   200342 755100                    STA     XST_CNT,,AUTO

     2372     5678    3   END;

   5678  3 015472   016010 710000 3                  TRA     FOUND_IT

     2373     5679    2   ELSE IF DEVTBL.CODE(I) = 25 AND NOT IO_MASK1(25)

   5679  3 015473   200010 236100                    LDQ     I,,AUTO
         3 015474   000012 402007                    MPY     10,DL
         3 015475   000000 236106                    LDQ     0,QL,PR0
         3 015476   777000 376003                    ANQ     -512,DU
         3 015477   031000 116003                    CMPQ    12800,DU
         3 015500   015512 601000 3                  TNZ     s:5683
         3 015501   200221 236100                    LDQ     IO_MASK,,AUTO
         3 015502   002000 316007                    CANQ    1024,DL
         3 015503   015512 601000 3                  TNZ     s:5683

     2374     5680    3   THEN DO;

     2375     5681    3       XST_TEXT = 'VFC OUT OF SYNC';  XST_CNT = 15;

   5681  3 015504   040100 100400                    MLR     fill='040'O
         3 015505   002027 000017 1                  ADSC9   BOARD_64K+600            cn=0,n=15
         3 015506   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

   5681  3 015507   000017 235007                    LDA     15,DL
         3 015510   200342 755100                    STA     XST_CNT,,AUTO

     2376     5682    3   END;

   5682  3 015511   016010 710000 3                  TRA     FOUND_IT

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:453  
     2377     5683    2   ELSE IF DEVTBL.CODE(I) = 16 AND NOT IO_MASK1(16)   /* BELT SPEED */

   5683  3 015512   200010 236100                    LDQ     I,,AUTO
         3 015513   000012 402007                    MPY     10,DL
         3 015514   000000 236106                    LDQ     0,QL,PR0
         3 015515   777000 376003                    ANQ     -512,DU
         3 015516   020000 116003                    CMPQ    8192,DU
         3 015517   015531 601000 3                  TNZ     s:5687
         3 015520   200221 236100                    LDQ     IO_MASK,,AUTO
         3 015521   000002 316003                    CANQ    2,DU
         3 015522   015531 601000 3                  TNZ     s:5687

     2378     5684    3   THEN DO;

     2379     5685    3       XST_TEXT = '900 LPM';   XST_CNT = 7;

   5685  3 015523   040100 100400                    MLR     fill='040'O
         3 015524   002033 000007 1                  ADSC9   BOARD_64K+604            cn=0,n=7
         3 015525   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

   5685  3 015526   000007 235007                    LDA     7,DL
         3 015527   200342 755100                    STA     XST_CNT,,AUTO

     2380     5686    3   END;

   5686  3 015530   016010 710000 3                  TRA     FOUND_IT

     2381     5687    2   ELSE IF DEVTBL.CODE(I) = 17 AND NOT IO_MASK1(17) /* slew speed */

   5687  3 015531   200010 236100                    LDQ     I,,AUTO
         3 015532   000012 402007                    MPY     10,DL
         3 015533   000000 236106                    LDQ     0,QL,PR0
         3 015534   777000 376003                    ANQ     -512,DU
         3 015535   021000 116003                    CMPQ    8704,DU
         3 015536   015550 601000 3                  TNZ     s:5691
         3 015537   200221 236100                    LDQ     IO_MASK,,AUTO
         3 015540   000001 316003                    CANQ    1,DU
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:454  
         3 015541   015550 601000 3                  TNZ     s:5691

     2382     5688    3   THEN DO;

     2383     5689    3       XST_TEXT = '25 IN/SEC';   XST_CNT = 9;

   5689  3 015542   040100 100400                    MLR     fill='040'O
         3 015543   002035 000011 1                  ADSC9   BOARD_64K+606            cn=0,n=9
         3 015544   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

   5689  3 015545   000011 235007                    LDA     9,DL
         3 015546   200342 755100                    STA     XST_CNT,,AUTO

     2384     5690    3   END;

   5690  3 015547   016010 710000 3                  TRA     FOUND_IT

     2385     5691    2   ELSE IF DEVTBL.CODE(I) = 120 AND NOT IO_MASK1(120) /* line density*/

   5691  3 015550   200010 236100                    LDQ     I,,AUTO
         3 015551   000012 402007                    MPY     10,DL
         3 015552   000000 236106                    LDQ     0,QL,PR0
         3 015553   777000 376003                    ANQ     -512,DU
         3 015554   170000 116003                    CMPQ    61440,DU
         3 015555   015567 601000 3                  TNZ     s:5695
         3 015556   200224 236100                    LDQ     IO_MASK+3,,AUTO
         3 015557   000040 316003                    CANQ    32,DU
         3 015560   015567 601000 3                  TNZ     s:5695

     2386     5692    3   THEN DO;

     2387     5693    3       XST_TEXT = '6 LINES/IN';   XST_CNT = 10;

   5693  3 015561   040100 100400                    MLR     fill='040'O
         3 015562   002040 000012 1                  ADSC9   BOARD_64K+609            cn=0,n=10
         3 015563   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:455  
   5693  3 015564   000012 235007                    LDA     10,DL
         3 015565   200342 755100                    STA     XST_CNT,,AUTO

     2388     5694    3   END;

   5694  3 015566   016010 710000 3                  TRA     FOUND_IT

     2389     5695    3   ELSE IF DEVTBL.CODE(I) = 113 THEN DO; /* if its byte 14, bit 1 */

   5695  3 015567   200010 236100                    LDQ     I,,AUTO
         3 015570   000012 402007                    MPY     10,DL
         3 015571   000000 236106                    LDQ     0,QL,PR0
         3 015572   777000 376003                    ANQ     -512,DU
         3 015573   161000 116003                    CMPQ    57856,DU
         3 015574   015666 601000 3                  TNZ     s:5721

     2390     5696    3       PRNTR_REG = '0'B;

   5696  3 015575   200012 450100                    STZ     PRNTR_REG,,AUTO

     2391     5697    3       PRNTR_REG = BINBIT(IO_MASK(14),6); /* GET PTR CMD FROM BYTE 14 */

   5697  3 015576   200224 236100                    LDQ     IO_MASK+3,,AUTO
         3 015577   000030 772000                    QRL     24
         3 015600   000377 376007                    ANQ     255,DL
         3 015601   000036 736000                    QLS     30
         3 015602   200012 756100                    STQ     PRNTR_REG,,AUTO

     2392     5698    4     IF IO_MASK1(113) THEN DO; /* if byte 14, bit 1 is set */

   5698  3 015603   200224 236100                    LDQ     IO_MASK+3,,AUTO
         3 015604   010000 316003                    CANQ    4096,DU
         3 015605   015635 600000 3                  TZE     s:5709

     2393     5699    5       DO X = 0 TO 16;   /* go through register command table */

   5699  3 015606   200011 450100                    STZ     X,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:456  

     2394     5700    5         IF PRNTR_REG = REGISTER_TBL.CODE(X)  /* if reg.addr. is found*/

   5700  3 015607   200011 236100                    LDQ     X,,AUTO
         3 015610   000012 402007                    MPY     10,DL
         3 015611   000000 620006                    EAX0    0,QL
         3 015612   200012 236100                    LDQ     PRNTR_REG,,AUTO
         3 015613   000000 676010 xsym               ERQ     REGISTER_TBL,X0
         3 015614   770000 376003                    ANQ     -4096,DU
         3 015615   015630 601000 3                  TNZ     s:5706

     2395     5701    6         THEN DO;

     2396     5702    6             XST_TEXT = REGISTER_TBL.TEXT(X);

   5702  3 015616   200011 236100                    LDQ     X,,AUTO
         3 015617   000050 402007                    MPY     40,DL
         3 015620   040100 100406                    MLR     fill='040'O
         3 015621   000000 400043 xsym               ADSC9   REGISTER_TBL,Q           cn=2,n=35
         3 015622   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

     2397     5703    6             XST_CNT = REGISTER_TBL.COUNT(X);

   5703  3 015623   000000 236010 xsym               LDQ     REGISTER_TBL,X0
         3 015624   000025 772000                    QRL     21
         3 015625   000777 376007                    ANQ     511,DL
         3 015626   200342 756100                    STQ     XST_CNT,,AUTO

     2398     5704    6             GOTO FOUND_IT;

   5704  3 015627   016010 710000 3                  TRA     FOUND_IT

     2399     5705    6         END; /* if prntr_reg is in reg cmnd tbl */
     2400     5706    5       END;/* do x */

   5706  3 015630   200011 054100                    AOS     X,,AUTO
         3 015631   200011 235100                    LDA     X,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:457  
         3 015632   000020 115007                    CMPA    16,DL
         3 015633   015607 604400 3                  TMOZ    s:5700

     2401     5707    4       GOTO EURC_RETURN;             /* CMD NOT FOUND */

   5707  3 015634   016025 710000 3                  TRA     EURC_RETURN

     2402     5708    4     END; /* if byte 14,bit1 set */
     2403     5709    4     IF NOT IO_MASK1(113) THEN DO; /* if byte 14,bit 1 not set */

   5709  3 015635   010000 316003                    CANQ    4096,DU
         3 015636   016010 601000 3                  TNZ     FOUND_IT

     2404     5710    5       DO X = 0 TO 10;   /* go thru non_register command table */

   5710  3 015637   200011 450100                    STZ     X,,AUTO

     2405     5711    5         IF PRNTR_REG = NON_REG_TBL.CODE(X) /* if cmnd is found */

   5711  3 015640   200011 236100                    LDQ     X,,AUTO
         3 015641   000012 402007                    MPY     10,DL
         3 015642   000000 620006                    EAX0    0,QL
         3 015643   200012 236100                    LDQ     PRNTR_REG,,AUTO
         3 015644   000000 676010 xsym               ERQ     NON_REG_TBL,X0
         3 015645   770000 376003                    ANQ     -4096,DU
         3 015646   015661 601000 3                  TNZ     s:5717

     2406     5712    6         THEN DO;

     2407     5713    6             XST_TEXT = NON_REG_TBL.TEXT(X);

   5713  3 015647   200011 236100                    LDQ     X,,AUTO
         3 015650   000050 402007                    MPY     40,DL
         3 015651   040100 100406                    MLR     fill='040'O
         3 015652   000000 400043 xsym               ADSC9   NON_REG_TBL,Q            cn=2,n=35
         3 015653   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:458  
     2408     5714    6             XST_CNT = NON_REG_TBL.COUNT(X);

   5714  3 015654   000000 236010 xsym               LDQ     NON_REG_TBL,X0
         3 015655   000025 772000                    QRL     21
         3 015656   000777 376007                    ANQ     511,DL
         3 015657   200342 756100                    STQ     XST_CNT,,AUTO

     2409     5715    6             GOTO FOUND_IT;

   5715  3 015660   016010 710000 3                  TRA     FOUND_IT

     2410     5716    6         END; /* if prntr_reg is in non-reg cmnd tbl */
     2411     5717    5       END; /* do x */

   5717  3 015661   200011 054100                    AOS     X,,AUTO
         3 015662   200011 235100                    LDA     X,,AUTO
         3 015663   000012 115007                    CMPA    10,DL
         3 015664   015640 604400 3                  TMOZ    s:5711

     2412     5718    4       GOTO EURC_RETURN;              /* CMD NOT FOUND */

   5718  3 015665   016025 710000 3                  TRA     EURC_RETURN

     2413     5719    4     END; /* if byte 14,bit1 not set */
     2414     5720    3   END; /* if its byte 14, bit 1 */
     2415     5721    3   ELSE IF DEVTBL.CODE(I) = 96 THEN DO; /* if its byte 12 */

   5721  3 015666   200010 236100                    LDQ     I,,AUTO
         3 015667   000012 402007                    MPY     10,DL
         3 015670   000000 236106                    LDQ     0,QL,PR0
         3 015671   777000 376003                    ANQ     -512,DU
         3 015672   140000 116003                    CMPQ    49152,DU
         3 015673   015731 601000 3                  TNZ     s:5734

     2416     5722    3       PR54_BYTE = '0'B;

   5722  3 015674   200013 450100                    STZ     PR54_BYTE,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:459  

     2417     5723    3       PR54_BYTE = BINBIT(IO_MASK(12),9);  /* GET BYTE 12 - CONTROLLER ERR CODE */

   5723  3 015675   200223 236100                    LDQ     IO_MASK+2,,AUTO
         3 015676   000004 772000                    QRL     4
         3 015677   000377 376007                    ANQ     255,DL
         3 015700   000033 736000                    QLS     27
         3 015701   200013 756100                    STQ     PR54_BYTE,,AUTO

     2418     5724    4       DO X = 0 TO 65;  /* go thru controller error table */

   5724  3 015702   200011 450100                    STZ     X,,AUTO

     2419     5725    4         IF PR54_BYTE = CTRL_ERR_TBL.CODE(X) /* if ctrl err is found*/

   5725  3 015703   200011 236100                    LDQ     X,,AUTO
         3 015704   000012 402007                    MPY     10,DL
         3 015705   000000 620006                    EAX0    0,QL
         3 015706   200013 236100                    LDQ     PR54_BYTE,,AUTO
         3 015707   000000 676010 xsym               ERQ     CTRL_ERR_TBL,X0
         3 015710   777000 376003                    ANQ     -512,DU
         3 015711   015724 601000 3                  TNZ     s:5731

     2420     5726    5         THEN DO;

     2421     5727    5             XST_TEXT = CTRL_ERR_TBL.TEXT(X);

   5727  3 015712   200011 236100                    LDQ     X,,AUTO
         3 015713   000050 402007                    MPY     40,DL
         3 015714   040100 100406                    MLR     fill='040'O
         3 015715   000000 400043 xsym               ADSC9   CTRL_ERR_TBL,Q           cn=2,n=35
         3 015716   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

     2422     5728    5             XST_CNT = CTRL_ERR_TBL.COUNT(X);

   5728  3 015717   000000 236010 xsym               LDQ     CTRL_ERR_TBL,X0
         3 015720   000022 772000                    QRL     18
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:460  
         3 015721   000777 376007                    ANQ     511,DL
         3 015722   200342 756100                    STQ     XST_CNT,,AUTO

     2423     5729    5             GOTO FOUND_IT;

   5729  3 015723   016010 710000 3                  TRA     FOUND_IT

     2424     5730    5         END; /* if ctrl err is in tbl */
     2425     5731    4       END; /* do x */

   5731  3 015724   200011 054100                    AOS     X,,AUTO
         3 015725   200011 235100                    LDA     X,,AUTO
         3 015726   000101 115007                    CMPA    65,DL
         3 015727   015703 604400 3                  TMOZ    s:5725

     2426     5732    3       GOTO EURC_RETURN;              /* ERR CODE NOT FOUND */

   5732  3 015730   016025 710000 3                  TRA     EURC_RETURN

     2427     5733    3   END;  /* if byte 12 */
     2428     5734    3   ELSE IF DEVTBL.CODE(I) = 104 THEN DO; /* if its byte 13 */

   5734  3 015731   200010 236100                    LDQ     I,,AUTO
         3 015732   000012 402007                    MPY     10,DL
         3 015733   000000 236106                    LDQ     0,QL,PR0
         3 015734   777000 376003                    ANQ     -512,DU
         3 015735   150000 116003                    CMPQ    53248,DU
         3 015736   015775 601000 3                  TNZ     s:5748

     2429     5735    3       PR54_BYTE = '0'B;

   5735  3 015737   200013 450100                    STZ     PR54_BYTE,,AUTO

     2430     5736    3       PR54_BYTE = BINBIT(IO_MASK(13),9); /* GET BYTE 13 - PTR STATUS REGISTER */

   5736  3 015740   200223 235100                    LDA     IO_MASK+2,,AUTO
         3 015741   200224 236100                    LDQ     IO_MASK+3,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:461  
         3 015742   000040 773000                    LRL     32
         3 015743   000377 376007                    ANQ     255,DL
         3 015744   000033 736000                    QLS     27
         3 015745   200013 756100                    STQ     PR54_BYTE,,AUTO

     2431     5737    4       DO X = 0 TO 32; /* go thru prntr status tbl */

   5737  3 015746   200011 450100                    STZ     X,,AUTO

     2432     5738    4         IF PR54_BYTE = LED_TBL.CODE(X) /* if printer status found */

   5738  3 015747   200011 236100                    LDQ     X,,AUTO
         3 015750   000012 402007                    MPY     10,DL
         3 015751   000000 620006                    EAX0    0,QL
         3 015752   200013 236100                    LDQ     PR54_BYTE,,AUTO
         3 015753   000000 676010 xsym               ERQ     LED_TBL,X0
         3 015754   777000 376003                    ANQ     -512,DU
         3 015755   015770 601000 3                  TNZ     s:5744

     2433     5739    5         THEN DO;

     2434     5740    5             XST_TEXT = LED_TBL.TEXT(X);

   5740  3 015756   200011 236100                    LDQ     X,,AUTO
         3 015757   000050 402007                    MPY     40,DL
         3 015760   040100 100406                    MLR     fill='040'O
         3 015761   000000 400043 xsym               ADSC9   LED_TBL,Q                cn=2,n=35
         3 015762   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

     2435     5741    5             XST_CNT = LED_TBL.COUNT(X);

   5741  3 015763   000000 236010 xsym               LDQ     LED_TBL,X0
         3 015764   000022 772000                    QRL     18
         3 015765   000777 376007                    ANQ     511,DL
         3 015766   200342 756100                    STQ     XST_CNT,,AUTO

     2436     5742    5             GOTO FOUND_IT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:462  

   5742  3 015767   016010 710000 3                  TRA     FOUND_IT

     2437     5743    5         END; /* if prntr status is found */
     2438     5744    4       END; /* do x */

   5744  3 015770   200011 054100                    AOS     X,,AUTO
         3 015771   200011 235100                    LDA     X,,AUTO
         3 015772   000040 115007                    CMPA    32,DL
         3 015773   015747 604400 3                  TMOZ    s:5738

     2439     5745    3       GOTO EURC_RETURN;             /* PTR STATUS NOT FOUND */

   5745  3 015774   016025 710000 3                  TRA     EURC_RETURN

     2440     5746    3   END; /* if byte 13 */
     2441     5747    3   ELSE DO;

     2442     5748    3       XST_TEXT = DEVTBL.TEXT(I);

   5748  3 015775   200010 236100                    LDQ     I,,AUTO
         3 015776   000050 402007                    MPY     40,DL
         3 015777   040100 100506                    MLR     fill='040'O
         3 016000   000000 400043                    ADSC9   0,Q,PR0                  cn=2,n=35
         3 016001   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

     2443     5749    3       XST_CNT = DEVTBL.COUNT(I);

   5749  3 016002   200010 236100                    LDQ     I,,AUTO
         3 016003   000012 402007                    MPY     10,DL
         3 016004   000000 236106                    LDQ     0,QL,PR0
         3 016005   000022 772000                    QRL     18
         3 016006   000777 376007                    ANQ     511,DL
         3 016007   200342 756100                    STQ     XST_CNT,,AUTO

     2444     5750    3   END;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:463  
     2445     5751    2   FOUND_IT: CALL THF$ADD_TEXTC(XST$,XST_TEXT,XST_CNT);

   5751  3 016010   200342 630500       FOUND_IT     EPPR0   XST_CNT,,AUTO
         3 016011   200536 450500                    STP0    CHIP#+4,,AUTO
         3 016012   200304 631500                    EPPR1   XST_TEXT,,AUTO
         3 016013   200535 451500                    STP1    CHIP#+3,,AUTO
         3 016014   200300 633500                    EPPR3   XST$,,AUTO
         3 016015   200534 453500                    STP3    CHIP#+2,,AUTO
         3 016016   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 016017   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 016020   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 016021   000000 011000                    NOP     0

     2446     5752    2             NXST = NXST + 1;

   5752  3 016022   200343 235100                    LDA     NXST,,AUTO
         3 016023   000001 035007                    ADLA    1,DL
         3 016024   200343 755100                    STA     NXST,,AUTO

     2447     5753    2   EURC_RETURN:
     2448     5754    2       RETURN;

   5754  3 016025   200524 221300       EURC_RETURN  LDX1  ! NINE_TRACK_BLNK+8,,AUTO
         3 016026   000001 702211                    TSX2  ! 1,X1

     2449     5755    2   END EURC_PR54;
     2450     5756        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:464  
     2451     5757        /* HANDLING OF PR71 PRINTERS FOR IOERR RECORDS */
     2452     5758        /**/
     2453     5759    1   MPC_PR71: PROC;

   5759  3 016027   200524 741300       MPC_PR71     STX1  ! NINE_TRACK_BLNK+8,,AUTO

     2454     5760        /**/
     2455     5761    3   IF DEVTBL.CODE(I) = 6 THEN DO;                  /* BELT TYPE */

   5761  3 016030   200010 236100                    LDQ     I,,AUTO
         3 016031   000012 402007                    MPY     10,DL
         3 016032   200215 470500                    LDP0    DEV$,,AUTO
         3 016033   000000 236106                    LDQ     0,QL,PR0
         3 016034   777000 376003                    ANQ     -512,DU
         3 016035   006000 116003                    CMPQ    3072,DU
         3 016036   016102 601000 3                  TNZ     s:5774

     2456     5762    3       PTR_BELT.BYT1 = IO_MASK(0);

   5762  3 016037   200221 236100                    LDQ     IO_MASK,,AUTO
         3 016040   200014 676100                    ERQ     PTR_BELT,,AUTO
         3 016041   776000 376003                    ANQ     -1024,DU
         3 016042   200014 656100                    ERSQ    PTR_BELT,,AUTO

     2457     5763    3       PTR_BELT.BYT2 = IO_MASK(1);

   5763  3 016043   200221 236100                    LDQ     IO_MASK,,AUTO
         3 016044   200014 676100                    ERQ     PTR_BELT,,AUTO
         3 016045   001774 376003                    ANQ     1020,DU
         3 016046   200014 656100                    ERSQ    PTR_BELT,,AUTO

     2458     5764    4       DO X = 0 TO 3;                             /* GO THRU BELT TABLE */

   5764  3 016047   200011 450100                    STZ     X,,AUTO

     2459     5765    4          IF PR71_BELT.CODE = PR71_BELT_TBL.CODE(X)

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:465  
   5765  3 016050   200011 236100                    LDQ     X,,AUTO
         3 016051   000330 402007                    MPY     216,DL
         3 016052   000000 116003                    CMPQ    0,DU
         3 016053   016055 605000 3                  TPL     s:5765+5
         3 016054   000044 036003                    ADLQ    36,DU
         3 016055   000006 066500                    CMPB    filb='0'B
         3 016056   200014 010017                    BDSC    PTR_BELT,,AUTO           by=0,bit=1,n=15
         3 016057   000000 000017 xsym               BDSC    PR71_BELT_TBL,Q          by=0,bit=0,n=15
         3 016060   016075 601000 3                  TNZ     s:5771

     2460     5766    5             THEN DO;

     2461     5767    5               XST_TEXT = PR71_BELT_TBL.TEXT(X);

   5767  3 016061   200011 236100                    LDQ     X,,AUTO
         3 016062   000030 402007                    MPY     24,DL
         3 016063   040100 100406                    MLR     fill='040'O
         3 016064   000000 600022 xsym               ADSC9   PR71_BELT_TBL,Q          cn=3,n=18
         3 016065   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

     2462     5768    5               XST_CNT = PR71_BELT_TBL.COUNT(X);

   5768  3 016066   200011 236100                    LDQ     X,,AUTO
         3 016067   000006 402007                    MPY     6,DL
         3 016070   000000 236006 xsym               LDQ     PR71_BELT_TBL,QL
         3 016071   000014 772000                    QRL     12
         3 016072   000777 376007                    ANQ     511,DL
         3 016073   200342 756100                    STQ     XST_CNT,,AUTO

     2463     5769    5               GOTO FOUND_ENTRY;

   5769  3 016074   016243 710000 3                  TRA     FOUND_ENTRY

     2464     5770    5             END;
     2465     5771    4       END;   /* DO X = 0 TO 3 */

   5771  3 016075   200011 054100                    AOS     X,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:466  
         3 016076   200011 235100                    LDA     X,,AUTO
         3 016077   000003 115007                    CMPA    3,DL
         3 016100   016050 604400 3                  TMOZ    s:5765

     2466     5772    3       GOTO MPC_RETURN;                           /* NOT FOUND */

   5772  3 016101   016260 710000 3                  TRA     MPC_RETURN

     2467     5773    3   END;
     2468     5774    3   ELSE IF DEVTBL.CODE(I) = 88 THEN DO;           /* ECHO CHK REGISTER */

   5774  3 016102   200010 236100                    LDQ     I,,AUTO
         3 016103   000012 402007                    MPY     10,DL
         3 016104   000000 236106                    LDQ     0,QL,PR0
         3 016105   777000 376003                    ANQ     -512,DU
         3 016106   130000 116003                    CMPQ    45056,DU
         3 016107   016147 601000 3                  TNZ     s:5784

     2469     5775    3       PR71_BUF.STRING = ' ';

   5775  3 016110   040000 100400                    MLR     fill='040'O
         3 016111   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 016112   000041 200043 2                  ADSC9   PR71_BUF                 cn=1,n=35

     2470     5776    3       PR71_REG1.BYT1 = IO_MASK(11);

   5776  3 016113   200223 236100                    LDQ     IO_MASK+2,,AUTO
         3 016114   000020 736000                    QLS     16
         3 016115   200015 676100                    ERQ     PR71_REG1,,AUTO
         3 016116   776000 376003                    ANQ     -1024,DU
         3 016117   200015 656100                    ERSQ    PR71_REG1,,AUTO

     2471     5777    3       PR71_REG1.BYT2 = IO_MASK(12);

   5777  3 016120   200223 236100                    LDQ     IO_MASK+2,,AUTO
         3 016121   000020 736000                    QLS     16
         3 016122   200015 676100                    ERQ     PR71_REG1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:467  
         3 016123   001774 376003                    ANQ     1020,DU
         3 016124   200015 656100                    ERSQ    PR71_REG1,,AUTO

     2472     5778    3       PR71_VECTOR_TBL = VECTOR(PR71_REG1);

   5778  3 016125   777640 235007                    LDA     -96,DL
         3 016126   200534 452500                    STP2    CHIP#+2,,AUTO
         3 016127   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 016130   000015 036003                    ADLQ    13,DU
         3 016131   000052 757000 2                  STAQ    PR71_VECTOR_TBL

     2473     5779    3       FDS_PR71.FMT_ = VECTOR(PR71FMT1);

   5779  3 016132   000444 237000 4                  LDAQ    292
         3 016133   007570 757000 2                  STAQ    FDS_PR71

     2474     5780    3       CALL X$FORMAT(FDS_PR71);

   5780  3 016134   000446 630400 4                  EPPR0   294
         3 016135   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 016136   000000 701000 xent               TSX1    X$FORMAT
         3 016137   000000 011000                    NOP     0

     2475     5781    3       XST_TEXT = PR71_BUF.STRING;  XST_CNT = FDS_PR71.BUFSIZE -1;

   5781  3 016140   040100 100400                    MLR     fill='040'O
         3 016141   000041 200043 2                  ADSC9   PR71_BUF                 cn=1,n=35
         3 016142   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

   5781  3 016143   007600 235000 2                  LDA     FDS_PR71+8
         3 016144   000001 135007                    SBLA    1,DL
         3 016145   200342 755100                    STA     XST_CNT,,AUTO

     2476     5782    3       GOTO FOUND_ENTRY;

   5782  3 016146   016243 710000 3                  TRA     FOUND_ENTRY

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:468  
     2477     5783    3   END;
     2478     5784    3   ELSE IF DEVTBL.CODE(I) = 104 THEN DO;          /* SHORT CIRCUIT REGISTER */

   5784  3 016147   200010 236100                    LDQ     I,,AUTO
         3 016150   000012 402007                    MPY     10,DL
         3 016151   000000 236106                    LDQ     0,QL,PR0
         3 016152   777000 376003                    ANQ     -512,DU
         3 016153   150000 116003                    CMPQ    53248,DU
         3 016154   016217 601000 3                  TNZ     s:5795

     2479     5785    3       PR71_BUF.STRING = ' ';

   5785  3 016155   040000 100400                    MLR     fill='040'O
         3 016156   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 016157   000041 200043 2                  ADSC9   PR71_BUF                 cn=1,n=35

     2480     5786    3       PR71_REG1.BYT1 =  IO_MASK(13);

   5786  3 016160   200223 235100                    LDA     IO_MASK+2,,AUTO
         3 016161   200224 236100                    LDQ     IO_MASK+3,,AUTO
         3 016162   000040 773000                    LRL     32
         3 016163   000377 376007                    ANQ     255,DL
         3 016164   000034 736000                    QLS     28
         3 016165   200015 676100                    ERQ     PR71_REG1,,AUTO
         3 016166   776000 376003                    ANQ     -1024,DU
         3 016167   200015 656100                    ERSQ    PR71_REG1,,AUTO

     2481     5787    3       PR71_REG1.BYT2 =  IO_MASK(14);

   5787  3 016170   200224 236100                    LDQ     IO_MASK+3,,AUTO
         3 016171   000004 772000                    QRL     4
         3 016172   200015 676100                    ERQ     PR71_REG1,,AUTO
         3 016173   001774 376003                    ANQ     1020,DU
         3 016174   200015 656100                    ERSQ    PR71_REG1,,AUTO

     2482     5788    3       PR71_VECTOR_TBL = VECTOR(PR71_REG1);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:469  
   5788  3 016175   777640 235007                    LDA     -96,DL
         3 016176   200534 452500                    STP2    CHIP#+2,,AUTO
         3 016177   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 016200   000015 036003                    ADLQ    13,DU
         3 016201   000052 757000 2                  STAQ    PR71_VECTOR_TBL

     2483     5789    3       FDS_PR71.FMT_ = VECTOR(PR71FMT3);

   5789  3 016202   000450 237000 4                  LDAQ    296
         3 016203   007570 757000 2                  STAQ    FDS_PR71

     2484     5790    3       CALL X$FORMAT(FDS_PR71);

   5790  3 016204   000446 630400 4                  EPPR0   294
         3 016205   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 016206   000000 701000 xent               TSX1    X$FORMAT
         3 016207   000000 011000                    NOP     0

     2485     5791    3       XST_TEXT = PR71_BUF.STRING;   XST_CNT = FDS_PR71.BUFSIZE -1;

   5791  3 016210   040100 100400                    MLR     fill='040'O
         3 016211   000041 200043 2                  ADSC9   PR71_BUF                 cn=1,n=35
         3 016212   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

   5791  3 016213   007600 235000 2                  LDA     FDS_PR71+8
         3 016214   000001 135007                    SBLA    1,DL
         3 016215   200342 755100                    STA     XST_CNT,,AUTO

     2486     5792    3       GOTO FOUND_ENTRY;

   5792  3 016216   016243 710000 3                  TRA     FOUND_ENTRY

     2487     5793    3   END;
     2488     5794    3   ELSE DO;

     2489     5795    3       IF IO_MASK1(DEVTBL.CODE(I))

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:470  
   5795  3 016217   200010 236100                    LDQ     I,,AUTO
         3 016220   000012 402007                    MPY     10,DL
         3 016221   000000 236106                    LDQ     0,QL,PR0
         3 016222   000033 772000                    QRL     27
         3 016223   000000 066506                    CMPB    filb='0'B
         3 016224   200221 000001                    BDSC    IO_MASK,Q,AUTO           by=0,bit=0,n=1
         3 016225   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 016226   016260 600000 3                  TZE     MPC_RETURN

     2490     5796    4          THEN DO;

     2491     5797    4            XST_TEXT = DEVTBL.TEXT(I);  XST_CNT = DEVTBL.COUNT(I);

   5797  3 016227   200010 236100                    LDQ     I,,AUTO
         3 016230   000050 402007                    MPY     40,DL
         3 016231   040100 100506                    MLR     fill='040'O
         3 016232   000000 400043                    ADSC9   0,Q,PR0                  cn=2,n=35
         3 016233   200304 000043                    ADSC9   XST_TEXT,,AUTO           cn=0,n=35

   5797  3 016234   200010 236100                    LDQ     I,,AUTO
         3 016235   000012 402007                    MPY     10,DL
         3 016236   000000 236106                    LDQ     0,QL,PR0
         3 016237   000022 772000                    QRL     18
         3 016240   000777 376007                    ANQ     511,DL
         3 016241   200342 756100                    STQ     XST_CNT,,AUTO

     2492     5798    4          END;

   5798  3 016242   016243 710000 3                  TRA     FOUND_ENTRY

     2493     5799    3          ELSE GOTO MPC_RETURN;
     2494     5800    3   END;
     2495     5801    2   FOUND_ENTRY:
     2496     5802    2       CALL THF$ADD_TEXTC(XST$, XST_TEXT, XST_CNT);

   5802  3 016243   200342 630500       FOUND_ENTRY  EPPR0   XST_CNT,,AUTO
         3 016244   200536 450500                    STP0    CHIP#+4,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:471  
         3 016245   200304 631500                    EPPR1   XST_TEXT,,AUTO
         3 016246   200535 451500                    STP1    CHIP#+3,,AUTO
         3 016247   200300 633500                    EPPR3   XST$,,AUTO
         3 016250   200534 453500                    STP3    CHIP#+2,,AUTO
         3 016251   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 016252   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 016253   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 016254   000000 011000                    NOP     0

     2497     5803    2       NXST = NXST +1;

   5803  3 016255   200343 235100                    LDA     NXST,,AUTO
         3 016256   000001 035007                    ADLA    1,DL
         3 016257   200343 755100                    STA     NXST,,AUTO

     2498     5804    2   MPC_RETURN:
     2499     5805    2       RETURN;

   5805  3 016260   200524 221300       MPC_RETURN   LDX1  ! NINE_TRACK_BLNK+8,,AUTO
         3 016261   000001 702211                    TSX2  ! 1,X1

     2500     5806    2   END MPC_PR71;
     2501     5807        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:472  
     2502     5808        /* HANDLING OF MDSII DISKS FOR IOERR RECORDS (EXTENDED STATUS)  */
     2503     5809        /**/
     2504     5810    1   IPC_MDSII: PROC;

   5810  3 016262   200524 741300       IPC_MDSII    STX1  ! NINE_TRACK_BLNK+8,,AUTO

     2505     5811        /**/
     2506     5812    2      MDS_TEXT = ' ';

   5812  3 016263   040100 100400                    MLR     fill='040'O
         3 016264   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 016265   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     2507     5813    2      MDS_TEXT = DEVTBL.TEXT(I);

   5813  3 016266   200010 236100                    LDQ     I,,AUTO
         3 016267   000050 402007                    MPY     40,DL
         3 016270   200215 470500                    LDP0    DEV$,,AUTO
         3 016271   040100 100506                    MLR     fill='040'O
         3 016272   000000 400043                    ADSC9   0,Q,PR0                  cn=2,n=35
         3 016273   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     2508     5814    2      XST_CNT = DEVTBL.COUNT(I);

   5814  3 016274   200010 236100                    LDQ     I,,AUTO
         3 016275   000012 402007                    MPY     10,DL
         3 016276   000000 236106                    LDQ     0,QL,PR0
         3 016277   000022 772000                    QRL     18
         3 016300   000777 376007                    ANQ     511,DL
         3 016301   200342 756100                    STQ     XST_CNT,,AUTO

     2509     5815    3      IF DEVTBL.CODE(I) =0 THEN DO;             /* BYTE 0 - PATH COMPONENT */

   5815  3 016302   200010 236100                    LDQ     I,,AUTO
         3 016303   000012 402007                    MPY     10,DL
         3 016304   000000 236106                    LDQ     0,QL,PR0
         3 016305   777000 316003                    CANQ    -512,DU
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:473  
         3 016306   016410 601000 3                  TNZ     s:5835

     2510     5816    3         PARAMETER_ID = 0;

   5816  3 016307   000452 236000 4                  LDQ     298
         3 016310   200254 356100                    ANSQ    PARAMETER_ID,,AUTO

     2511     5817    3         PARAMETER_LENGTH = 0;

   5817  3 016311   200255 450100                    STZ     PARAMETER_LENGTH,,AUTO

     2512     5818    3         OCTET_NUM = 0;

   5818  3 016312   200262 450100                    STZ     OCTET_NUM,,AUTO

     2513     5819    4         DO X = 0 TO 10;

   5819  3 016313   200011 450100                    STZ     X,,AUTO

     2514     5820    4            XSTATUS_BYTE(X) = IO_MASK(X);

   5820  3 016314   200011 235100                    LDA     X,,AUTO
         3 016315   000003 735000                    ALS     3
         3 016316   016320 605000 3                  TPL     s:5820+4
         3 016317   000044 035003                    ADLA    36,DU
         3 016320   200011 236100                    LDQ     X,,AUTO
         3 016321   000003 736000                    QLS     3
         3 016322   016324 605000 3                  TPL     s:5820+8
         3 016323   000044 036003                    ADLQ    36,DU
         3 016324   003106 060505                    CSL     bolr='003'O
         3 016325   200221 000010                    BDSC    IO_MASK,A,AUTO           by=0,bit=0,n=8
         3 016326   200247 000010                    BDSC    XSTATUS_BYTE,Q,AUTO      by=0,bit=0,n=8

     2515     5821    4         END;

   5821  3 016327   200011 054100                    AOS     X,,AUTO
         3 016330   200011 235100                    LDA     X,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:474  
         3 016331   000012 115007                    CMPA    10,DL
         3 016332   016314 604400 3                  TMOZ    s:5820

     2516     5822    4         DO X = 0 TO 25;

   5822  3 016333   200011 450100                    STZ     X,,AUTO

     2517     5823    4            OCTET_BYTE(X) = IO_MASK(X + 10);

   5823  3 016334   200011 235100                    LDA     X,,AUTO
         3 016335   000003 735000                    ALS     3
         3 016336   016340 605000 3                  TPL     s:5823+4
         3 016337   000044 035003                    ADLA    36,DU
         3 016340   200011 236100                    LDQ     X,,AUTO
         3 016341   000003 736000                    QLS     3
         3 016342   016344 605000 3                  TPL     s:5823+8
         3 016343   000044 036003                    ADLQ    36,DU
         3 016344   003106 060505                    CSL     bolr='003'O
         3 016345   200223 100010                    BDSC    IO_MASK+2,A,AUTO         by=0,bit=8,n=8
         3 016346   200241 000010                    BDSC    OCTET_BYTE,Q,AUTO        by=0,bit=0,n=8

     2518     5824    4         END;

   5824  3 016347   200011 054100                    AOS     X,,AUTO
         3 016350   200011 235100                    LDA     X,,AUTO
         3 016351   000031 115007                    CMPA    25,DL
         3 016352   016334 604400 3                  TMOZ    s:5823

     2519     5825    3         IF XSTATUS_BYTE(0) = 1 THEN

   5825  3 016353   200247 236100                    LDQ     XSTATUS_BYTE,,AUTO
         3 016354   776000 376003                    ANQ     -1024,DU
         3 016355   002000 116003                    CMPQ    1024,DU
         3 016356   016366 601000 3                  TNZ     s:5827

     2520     5826    3            MDS_TEXT = DEVTBL.TEXT(I);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:475  
   5826  3 016357   200010 236100                    LDQ     I,,AUTO
         3 016360   000050 402007                    MPY     40,DL
         3 016361   200215 470500                    LDP0    DEV$,,AUTO
         3 016362   040100 100506                    MLR     fill='040'O
         3 016363   000000 400043                    ADSC9   0,Q,PR0                  cn=2,n=35
         3 016364   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80
         3 016365   016407 710000 3                  TRA     s:5833

     2521     5827    3         ELSE IF XSTATUS_BYTE(0) = 4 THEN

   5827  3 016366   010000 116003                    CMPQ    4096,DU
         3 016367   016374 601000 3                  TNZ     s:5829

     2522     5828    3            MDS_TEXT = 'PATH COMPONENT = IPC-IPI';

   5828  3 016370   040100 100400                    MLR     fill='040'O
         3 016371   002043 000030 1                  ADSC9   BOARD_64K+612            cn=0,n=24
         3 016372   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80
         3 016373   016407 710000 3                  TRA     s:5833

     2523     5829    3         ELSE IF (XSTATUS_BYTE(0) = 2 OR XSTATUS_BYTE(0) = 3) THEN

   5829  3 016374   004000 116003                    CMPQ    2048,DU
         3 016375   016400 600000 3                  TZE     s:5830
         3 016376   006000 116003                    CMPQ    3072,DU
         3 016377   016404 601000 3                  TNZ     s:5832

     2524     5830    3            MDS_TEXT = 'PATH COMPONENT = DEVICE ';

   5830  3 016400   040100 100400                    MLR     fill='040'O
         3 016401   002051 000030 1                  ADSC9   BOARD_64K+618            cn=0,n=24
         3 016402   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80
         3 016403   016407 710000 3                  TRA     s:5833

     2525     5831    3         ELSE
     2526     5832    3            MDS_TEXT = 'UNKNOWN PATH COMPONENT  ';

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:476  
   5832  3 016404   040100 100400                    MLR     fill='040'O
         3 016405   002057 000030 1                  ADSC9   BOARD_64K+624            cn=0,n=24
         3 016406   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     2527     5833    3         GOTO FOUND_OCTET;

   5833  3 016407   017304 710000 3                  TRA     FOUND_OCTET

     2528     5834    3      END;
     2529     5835    3      ELSE IF DEVTBL.CODE(I) = 1 THEN DO;       /* BYTE 1 - REFERENCE # */

   5835  3 016410   200010 236100                    LDQ     I,,AUTO
         3 016411   000012 402007                    MPY     10,DL
         3 016412   000000 236106                    LDQ     0,QL,PR0
         3 016413   777000 376003                    ANQ     -512,DU
         3 016414   001000 116003                    CMPQ    512,DU
         3 016415   016435 601000 3                  TNZ     s:5839

     2530     5836    3        CALL INSERT(MDS_TEXT,19,2,BINHEX(XSTATUS_NIBBLE(2)), BINHEX(XSTATUS_NIBBLE(3))
              5836                  );

   5836  3 016416   200247 236100                    LDQ     XSTATUS_BYTE,,AUTO
         3 016417   000030 772000                    QRL     24
         3 016420   000017 376007                    ANQ     15,DL
         3 016421   200534 756100                    STQ     CHIP#+2,,AUTO
         3 016422   200247 236100                    LDQ     XSTATUS_BYTE,,AUTO
         3 016423   000024 772000                    QRL     20
         3 016424   000017 376007                    ANQ     15,DL
         3 016425   200534 235100                    LDA     CHIP#+2,,AUTO
         3 016426   040100 100405                    MLR     fill='040'O
         3 016427   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 016430   200321 600001                    ADSC9   MDS_TEXT+4,,AUTO         cn=3,n=1
         3 016431   040100 100406                    MLR     fill='040'O
         3 016432   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 016433   200322 000001                    ADSC9   MDS_TEXT+5,,AUTO         cn=0,n=1

     2531     5837    3         GOTO FOUND_OCTET;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:477  

   5837  3 016434   017304 710000 3                  TRA     FOUND_OCTET

     2532     5838    3      END;
     2533     5839    3      ELSE IF DEVTBL.CODE(I) = 2 THEN DO;       /* BYTE 2 - TRANSACTION # */

   5839  3 016435   200010 236100                    LDQ     I,,AUTO
         3 016436   000012 402007                    MPY     10,DL
         3 016437   000000 236106                    LDQ     0,QL,PR0
         3 016440   777000 376003                    ANQ     -512,DU
         3 016441   002000 116003                    CMPQ    1024,DU
         3 016442   016462 601000 3                  TNZ     s:5843

     2534     5840    3        CALL INSERT(MDS_TEXT,25,2,BINHEX(XSTATUS_NIBBLE(4)), BINHEX(XSTATUS_NIBBLE(5))
              5840                  );

   5840  3 016443   200247 236100                    LDQ     XSTATUS_BYTE,,AUTO
         3 016444   000020 772000                    QRL     16
         3 016445   000017 376007                    ANQ     15,DL
         3 016446   200534 756100                    STQ     CHIP#+2,,AUTO
         3 016447   200247 236100                    LDQ     XSTATUS_BYTE,,AUTO
         3 016450   000014 772000                    QRL     12
         3 016451   000017 376007                    ANQ     15,DL
         3 016452   200534 235100                    LDA     CHIP#+2,,AUTO
         3 016453   040100 100405                    MLR     fill='040'O
         3 016454   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 016455   200323 200001                    ADSC9   MDS_TEXT+6,,AUTO         cn=1,n=1
         3 016456   040100 100406                    MLR     fill='040'O
         3 016457   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 016460   200323 400001                    ADSC9   MDS_TEXT+6,,AUTO         cn=2,n=1

     2535     5841    3         GOTO FOUND_OCTET;

   5841  3 016461   017304 710000 3                  TRA     FOUND_OCTET

     2536     5842    3      END;
     2537     5843    3      ELSE IF DEVTBL.CODE(I) = 3 THEN DO;       /* BYTE3 - OP CODE */
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:478  

   5843  3 016462   200010 236100                    LDQ     I,,AUTO
         3 016463   000012 402007                    MPY     10,DL
         3 016464   000000 236106                    LDQ     0,QL,PR0
         3 016465   777000 376003                    ANQ     -512,DU
         3 016466   003000 116003                    CMPQ    1536,DU
         3 016467   016551 601000 3                  TNZ     s:5864

     2538     5844    4         DO X = 0 TO 41;

   5844  3 016470   200011 450100                    STZ     X,,AUTO

     2539     5845    4            IF XSTATUS_BYTE(3) = MDS_OP_CODE_TBL.CODE(X)

   5845  3 016471   200011 236100                    LDQ     X,,AUTO
         3 016472   000012 402007                    MPY     10,DL
         3 016473   000000 236006 xsym               LDQ     MDS_OP_CODE_TBL,QL
         3 016474   000033 772000                    QRL     27
         3 016475   200534 756100                    STQ     CHIP#+2,,AUTO
         3 016476   200247 236100                    LDQ     XSTATUS_BYTE,,AUTO
         3 016477   000004 772000                    QRL     4
         3 016500   000377 376007                    ANQ     255,DL
         3 016501   200534 116100                    CMPQ    CHIP#+2,,AUTO
         3 016502   016524 601000 3                  TNZ     s:5852

     2540     5846    5               THEN DO;

     2541     5847    5                  XST_CNT = XST_CNT + MDS_OP_CODE_TBL.COUNT(X);

   5847  3 016503   200011 236100                    LDQ     X,,AUTO
         3 016504   000012 402007                    MPY     10,DL
         3 016505   000000 236006 xsym               LDQ     MDS_OP_CODE_TBL,QL
         3 016506   000022 772000                    QRL     18
         3 016507   000777 376007                    ANQ     511,DL
         3 016510   200342 036100                    ADLQ    XST_CNT,,AUTO
         3 016511   200342 756100                    STQ     XST_CNT,,AUTO

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:479  
     2542     5848    5                  CALL INSERT(MDS_TEXT, 17, MDS_OP_CODE_TBL.COUNT(X),

   5848  3 016512   200011 236100                    LDQ     X,,AUTO
         3 016513   000012 402007                    MPY     10,DL
         3 016514   000000 220006 xsym               LDX0    MDS_OP_CODE_TBL,QL
         3 016515   000777 360003                    ANX0    511,DU
         3 016516   200011 236100                    LDQ     X,,AUTO
         3 016517   000050 402007                    MPY     40,DL
         3 016520   040140 100406                    MLR     fill='040'O
         3 016521   000000 400043 xsym               ADSC9   MDS_OP_CODE_TBL,Q        cn=2,n=35
         3 016522   200321 200010                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=*X0

     2543     5849    5                              MDS_OP_CODE_TBL.TEXT(X));
     2544     5850    5                  GOTO FOUND_OCTET;

   5850  3 016523   017304 710000 3                  TRA     FOUND_OCTET

     2545     5851    5               END;
     2546     5852    4         END;  /* DO X = 0 TO 41 */

   5852  3 016524   200011 054100                    AOS     X,,AUTO
         3 016525   200011 235100                    LDA     X,,AUTO
         3 016526   000051 115007                    CMPA    41,DL
         3 016527   016471 604400 3                  TMOZ    s:5845

     2547     5853    4         IF XSTATUS_BYTE(3) = %HEX_86 THEN DO;

   5853  3 016530   000004 736000                    QLS     4
         3 016531   004140 116007                    CMPQ    2144,DL
         3 016532   016541 601000 3                  TNZ     s:5859

     2548     5854    4            CALL INSERT(MDS_TEXT, 0, 15, 'ASYNC INTERRUPT');

   5854  3 016533   040100 100400                    MLR     fill='040'O
         3 016534   002065 000017 1                  ADSC9   BOARD_64K+630            cn=0,n=15
         3 016535   200315 000017                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=15

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:480  
     2549     5855    4            XST_CNT = 15;

   5855  3 016536   000017 235007                    LDA     15,DL
         3 016537   200342 755100                    STA     XST_CNT,,AUTO

     2550     5856    4            GOTO FOUND_OCTET;

   5856  3 016540   017304 710000 3                  TRA     FOUND_OCTET

     2551     5857    4         END;
     2552     5858    4         ELSE DO;

     2553     5859    4            CALL INSERT(MDS_TEXT, 0, 35, MDS_OP_CODE_TBL.TEXT(42));

   5859  3 016541   040100 100400                    MLR     fill='040'O
         3 016542   000644 400043 xsym               ADSC9   MDS_OP_CODE_TBL+420      cn=2,n=35
         3 016543   200315 000043                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=35

     2554     5860    4            XST_CNT = MDS_OP_CODE_TBL.COUNT(42);

   5860  3 016544   000644 236000 xsym               LDQ     MDS_OP_CODE_TBL+420
         3 016545   000022 772000                    QRL     18
         3 016546   000777 376007                    ANQ     511,DL
         3 016547   200342 756100                    STQ     XST_CNT,,AUTO

     2555     5861    4            GOTO FOUND_OCTET;

   5861  3 016550   017304 710000 3                  TRA     FOUND_OCTET

     2556     5862    4         END;
     2557     5863    3      END;
     2558     5864    3      ELSE IF DEVTBL.CODE(I) = 4 THEN DO;       /* BYTE 4 - CMD MODIFIERS */

   5864  3 016551   200010 236100                    LDQ     I,,AUTO
         3 016552   000012 402007                    MPY     10,DL
         3 016553   000000 236106                    LDQ     0,QL,PR0
         3 016554   777000 376003                    ANQ     -512,DU
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:481  
         3 016555   004000 116003                    CMPQ    2048,DU
         3 016556   016572 601000 3                  TNZ     s:5869

     2559     5865    3         CALL INSERT(MDS_TEXT, 16, 1, BINHEX(XSTATUS_NIBBLE(8)));

   5865  3 016557   200247 236100                    LDQ     XSTATUS_BYTE,,AUTO
         3 016560   000017 376007                    ANQ     15,DL
         3 016561   040100 100406                    MLR     fill='040'O
         3 016562   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 016563   200321 000001                    ADSC9   MDS_TEXT+4,,AUTO         cn=0,n=1

     2560     5866    3         CALL INSERT(MDS_TEXT, 33, 1, BINHEX(XSTATUS_NIBBLE(9)));

   5866  3 016564   200250 236100                    LDQ     XSTATUS_BYTE+1,,AUTO
         3 016565   000040 772000                    QRL     32
         3 016566   040100 100406                    MLR     fill='040'O
         3 016567   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 016570   200325 200001                    ADSC9   MDS_TEXT+8,,AUTO         cn=1,n=1

     2561     5867    3         GOTO FOUND_OCTET;

   5867  3 016571   017304 710000 3                  TRA     FOUND_OCTET

     2562     5868    3      END;
     2563     5869    3      ELSE IF DEVTBL.CODE(I) = 5 THEN DO;       /* BYTE 5 - CM # */

   5869  3 016572   200010 236100                    LDQ     I,,AUTO
         3 016573   000012 402007                    MPY     10,DL
         3 016574   000000 236106                    LDQ     0,QL,PR0
         3 016575   777000 376003                    ANQ     -512,DU
         3 016576   005000 116003                    CMPQ    2560,DU
         3 016577   016617 601000 3                  TNZ     s:5873

     2564     5870    3        CALL INSERT(MDS_TEXT, 12, 2, BINHEX(XSTATUS_NIBBLE(10)), BINHEX(XSTATUS_NIBBLE
              5870                  (11)));

   5870  3 016600   200250 236100                    LDQ     XSTATUS_BYTE+1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:482  
         3 016601   000034 772000                    QRL     28
         3 016602   000017 376007                    ANQ     15,DL
         3 016603   200534 756100                    STQ     CHIP#+2,,AUTO
         3 016604   200250 236100                    LDQ     XSTATUS_BYTE+1,,AUTO
         3 016605   000030 772000                    QRL     24
         3 016606   000017 376007                    ANQ     15,DL
         3 016607   200534 235100                    LDA     CHIP#+2,,AUTO
         3 016610   040100 100405                    MLR     fill='040'O
         3 016611   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 016612   200320 000001                    ADSC9   MDS_TEXT+3,,AUTO         cn=0,n=1
         3 016613   040100 100406                    MLR     fill='040'O
         3 016614   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 016615   200320 200001                    ADSC9   MDS_TEXT+3,,AUTO         cn=1,n=1

     2565     5871    3         GOTO FOUND_OCTET;

   5871  3 016616   017304 710000 3                  TRA     FOUND_OCTET

     2566     5872    3      END;
     2567     5873    3      ELSE IF DEVTBL.CODE(I) = 6 THEN DO;       /* BYTE 6 - DEV # */

   5873  3 016617   200010 236100                    LDQ     I,,AUTO
         3 016620   000012 402007                    MPY     10,DL
         3 016621   000000 236106                    LDQ     0,QL,PR0
         3 016622   777000 376003                    ANQ     -512,DU
         3 016623   006000 116003                    CMPQ    3072,DU
         3 016624   016644 601000 3                  TNZ     s:5877

     2568     5874    3        CALL INSERT(MDS_TEXT, 16, 2, BINHEX(XSTATUS_NIBBLE(12)), BINHEX(XSTATUS_NIBBLE
              5874                  (13)));

   5874  3 016625   200250 236100                    LDQ     XSTATUS_BYTE+1,,AUTO
         3 016626   000024 772000                    QRL     20
         3 016627   000017 376007                    ANQ     15,DL
         3 016630   200534 756100                    STQ     CHIP#+2,,AUTO
         3 016631   200250 236100                    LDQ     XSTATUS_BYTE+1,,AUTO
         3 016632   000020 772000                    QRL     16
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:483  
         3 016633   000017 376007                    ANQ     15,DL
         3 016634   200534 235100                    LDA     CHIP#+2,,AUTO
         3 016635   040100 100405                    MLR     fill='040'O
         3 016636   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 016637   200321 000001                    ADSC9   MDS_TEXT+4,,AUTO         cn=0,n=1
         3 016640   040100 100406                    MLR     fill='040'O
         3 016641   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 016642   200321 200001                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=1

     2569     5875    3         GOTO FOUND_OCTET;

   5875  3 016643   017304 710000 3                  TRA     FOUND_OCTET

     2570     5876    3      END;
     2571     5877    3      ELSE IF DEVTBL.CODE(I) = 7 THEN DO;       /* BYTE 7 - IPI STATUS */

   5877  3 016644   200010 236100                    LDQ     I,,AUTO
         3 016645   000012 402007                    MPY     10,DL
         3 016646   000000 236106                    LDQ     0,QL,PR0
         3 016647   777000 376003                    ANQ     -512,DU
         3 016650   007000 116003                    CMPQ    3584,DU
         3 016651   016700 601000 3                  TNZ     s:5882

     2572     5878    3        CALL INSERT(MDS_TEXT, 28, 3, BINHEX(XSTATUS_NIBBLE(14)), BINHEX(XSTATUS_NIBBLE
              5878                  (15)),

   5878  3 016652   200250 236100                    LDQ     XSTATUS_BYTE+1,,AUTO
         3 016653   000014 772000                    QRL     12
         3 016654   000017 376007                    ANQ     15,DL
         3 016655   200534 756100                    STQ     CHIP#+2,,AUTO
         3 016656   200250 236100                    LDQ     XSTATUS_BYTE+1,,AUTO
         3 016657   000010 772000                    QRL     8
         3 016660   000017 376007                    ANQ     15,DL
         3 016661   200535 756100                    STQ     CHIP#+3,,AUTO
         3 016662   200250 236100                    LDQ     XSTATUS_BYTE+1,,AUTO
         3 016663   000017 376007                    ANQ     15,DL
         3 016664   200534 235100                    LDA     CHIP#+2,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:484  
         3 016665   040100 100405                    MLR     fill='040'O
         3 016666   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 016667   200324 000001                    ADSC9   MDS_TEXT+7,,AUTO         cn=0,n=1
         3 016670   200535 235100                    LDA     CHIP#+3,,AUTO
         3 016671   040100 100405                    MLR     fill='040'O
         3 016672   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 016673   200324 200001                    ADSC9   MDS_TEXT+7,,AUTO         cn=1,n=1
         3 016674   040100 100406                    MLR     fill='040'O
         3 016675   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 016676   200324 400001                    ADSC9   MDS_TEXT+7,,AUTO         cn=2,n=1

     2573     5879    3                     BINHEX(XSTATUS_NIBBLE(17)));
     2574     5880    3         GOTO FOUND_OCTET;

   5880  3 016677   017304 710000 3                  TRA     FOUND_OCTET

     2575     5881    3      END;
     2576     5882    2      ELSE IF (DEVTBL.CODE(I) >= 56 AND IO_MASK1(DEVTBL.CODE(I))) THEN

   5882  3 016700   200010 236100                    LDQ     I,,AUTO
         3 016701   000012 402007                    MPY     10,DL
         3 016702   000000 236106                    LDQ     0,QL,PR0
         3 016703   777000 376003                    ANQ     -512,DU
         3 016704   070000 116003                    CMPQ    28672,DU
         3 016705   016742 602000 3                  TNC     s:5889
         3 016706   200010 236100                    LDQ     I,,AUTO
         3 016707   000012 402007                    MPY     10,DL
         3 016710   000000 236106                    LDQ     0,QL,PR0
         3 016711   000033 772000                    QRL     27
         3 016712   000000 066506                    CMPB    filb='0'B
         3 016713   200221 000001                    BDSC    IO_MASK,Q,AUTO           by=0,bit=0,n=1
         3 016714   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 016715   016742 600000 3                  TZE     s:5889

     2577     5883    3         DO;

     2578     5884    3           MDS_TEXT = ' ';
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:485  

   5884  3 016716   040100 100400                    MLR     fill='040'O
         3 016717   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 016720   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     2579     5885    3           CALL INSERT(MDS_TEXT,15,DEVTBL.COUNT(I),DEVTBL.TEXT(I));

   5885  3 016721   200010 236100                    LDQ     I,,AUTO
         3 016722   000012 402007                    MPY     10,DL
         3 016723   000000 220106                    LDX0    0,QL,PR0
         3 016724   000777 360003                    ANX0    511,DU
         3 016725   200010 236100                    LDQ     I,,AUTO
         3 016726   000050 402007                    MPY     40,DL
         3 016727   040140 100506                    MLR     fill='040'O
         3 016730   000000 400043                    ADSC9   0,Q,PR0                  cn=2,n=35
         3 016731   200320 600010                    ADSC9   MDS_TEXT+3,,AUTO         cn=3,n=*X0

     2580     5886    3           XST_CNT = DEVTBL.COUNT(I) + 15;

   5886  3 016732   200010 236100                    LDQ     I,,AUTO
         3 016733   000012 402007                    MPY     10,DL
         3 016734   000000 236106                    LDQ     0,QL,PR0
         3 016735   000022 772000                    QRL     18
         3 016736   000777 376007                    ANQ     511,DL
         3 016737   000017 036007                    ADLQ    15,DL
         3 016740   200342 756100                    STQ     XST_CNT,,AUTO

     2581     5887    3           GOTO FOUND_OCTET;

   5887  3 016741   017304 710000 3                  TRA     FOUND_OCTET

     2582     5888    3         END;
     2583     5889    3      ELSE IF DEVTBL.CODE(I) = 8 THEN DO;       /* BYTE 8 - STATUS TYPE */

   5889  3 016742   200010 236100                    LDQ     I,,AUTO
         3 016743   000012 402007                    MPY     10,DL
         3 016744   000000 236106                    LDQ     0,QL,PR0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:486  
         3 016745   777000 376003                    ANQ     -512,DU
         3 016746   010000 116003                    CMPQ    4096,DU
         3 016747   017025 601000 3                  TNZ     s:5910

     2584     5890    3         CALL INSERT(MDS_TEXT, 29, 1, BINHEX(XSTATUS_NIBBLE(16)));

   5890  3 016750   200250 236100                    LDQ     XSTATUS_BYTE+1,,AUTO
         3 016751   000004 772000                    QRL     4
         3 016752   000017 376007                    ANQ     15,DL
         3 016753   040100 100406                    MLR     fill='040'O
         3 016754   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 016755   200324 200001                    ADSC9   MDS_TEXT+7,,AUTO         cn=1,n=1

     2585     5891    4         DO CASE(XSTATUS_NIBBLE(16));                /* STATUS TYPE */

   5891  3 016756   000006 116007                    CMPQ    6,DL
         3 016757   016761 602006 3                  TNC     s:5891+3,QL
         3 016760   017017 710000 3                  TRA     s:5905
         3 016761   017017 710000 3                  TRA     s:5905
         3 016762   016767 710000 3                  TRA     s:5893
         3 016763   017017 710000 3                  TRA     s:5905
         3 016764   016775 710000 3                  TRA     s:5896
         3 016765   017003 710000 3                  TRA     s:5899
         3 016766   017011 710000 3                  TRA     s:5902

     2586     5892    4            CASE(%STD_COMPLETION);

     2587     5893    4               CALL INSERT(MDS_TEXT, 30, 35, ' -- STD COMMAND COMPLETION RESPONSE');

   5893  3 016767   040100 100400                    MLR     fill='040'O
         3 016770   002071 000043 1                  ADSC9   BOARD_64K+634            cn=0,n=35
         3 016771   200324 400043                    ADSC9   MDS_TEXT+7,,AUTO         cn=2,n=35

     2588     5894    4               XST_CNT = XST_CNT +35;

   5894  3 016772   000043 236007                    LDQ     35,DL
         3 016773   200342 056100                    ASQ     XST_CNT,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:487  
         3 016774   017024 710000 3                  TRA     s:5908

     2589     5895    4            CASE(%EXT_COMPLETION);

     2590     5896    4               CALL INSERT(MDS_TEXT, 30, 36, ' -- EXTENDED CMD COMPLETION RESPONSE');

   5896  3 016775   040100 100400                    MLR     fill='040'O
         3 016776   002102 000044 1                  ADSC9   BOARD_64K+643            cn=0,n=36
         3 016777   200324 400044                    ADSC9   MDS_TEXT+7,,AUTO         cn=2,n=36

     2591     5897    4               XST_CNT = XST_CNT + 36;

   5897  3 017000   000044 236007                    LDQ     36,DL
         3 017001   200342 056100                    ASQ     XST_CNT,,AUTO
         3 017002   017024 710000 3                  TRA     s:5908

     2592     5898    4            CASE(%ASYNC_COMPLETION);

     2593     5899    4               CALL INSERT(MDS_TEXT, 30, 36, ' -- ASYNCHRONOUS COMPLETION RESPONSE');

   5899  3 017003   040100 100400                    MLR     fill='040'O
         3 017004   002113 000044 1                  ADSC9   BOARD_64K+652            cn=0,n=36
         3 017005   200324 400044                    ADSC9   MDS_TEXT+7,,AUTO         cn=2,n=36

     2594     5900    4               XST_CNT = XST_CNT + 36;

   5900  3 017006   000044 236007                    LDQ     36,DL
         3 017007   200342 056100                    ASQ     XST_CNT,,AUTO
         3 017010   017024 710000 3                  TRA     s:5908

     2595     5901    4            CASE(%TRANSFER_NOTF);

     2596     5902    4               CALL INSERT(MDS_TEXT, 30, 25, ' -- TRANSFER NOTIFICATION');

   5902  3 017011   040100 100400                    MLR     fill='040'O
         3 017012   002124 000031 1                  ADSC9   BOARD_64K+661            cn=0,n=25
         3 017013   200324 400031                    ADSC9   MDS_TEXT+7,,AUTO         cn=2,n=25
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:488  

     2597     5903    4               XST_CNT = XST_CNT + 25;

   5903  3 017014   000031 236007                    LDQ     25,DL
         3 017015   200342 056100                    ASQ     XST_CNT,,AUTO
         3 017016   017024 710000 3                  TRA     s:5908

     2598     5904    4            CASE(ELSE);

     2599     5905    4               CALL INSERT(MDS_TEXT, 30, 20, '  ** NO SUCH CODE **');

   5905  3 017017   040100 100400                    MLR     fill='040'O
         3 017020   002133 000024 1                  ADSC9   BOARD_64K+668            cn=0,n=20
         3 017021   200324 400024                    ADSC9   MDS_TEXT+7,,AUTO         cn=2,n=20

     2600     5906    4               XST_CNT = XST_CNT + 20;

   5906  3 017022   000024 236007                    LDQ     20,DL
         3 017023   200342 056100                    ASQ     XST_CNT,,AUTO

     2601     5907    4         END;   /* DO CASE */

     2602     5908    3         GOTO FOUND_OCTET;

   5908  3 017024   017304 710000 3                  TRA     FOUND_OCTET

     2603     5909    3      END;
     2604     5910    3      ELSE IF DEVTBL.CODE(I) = 9 THEN DO;   /* BYTE 9 - PARAM LENGTH */

   5910  3 017025   200010 236100                    LDQ     I,,AUTO
         3 017026   000012 402007                    MPY     10,DL
         3 017027   000000 236106                    LDQ     0,QL,PR0
         3 017030   777000 376003                    ANQ     -512,DU
         3 017031   011000 116003                    CMPQ    4608,DU
         3 017032   017055 601000 3                  TNZ     s:5916

     2605     5911    3         PARAMETER_LENGTH = XSTATUS_BYTE(9);
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:489  

   5911  3 017033   200251 236100                    LDQ     XSTATUS_BYTE+2,,AUTO
         3 017034   000034 772000                    QRL     28
         3 017035   000034 736000                    QLS     28
         3 017036   200255 756100                    STQ     PARAMETER_LENGTH,,AUTO

     2606     5912    3         CALL INSERT(MDS_TEXT, 30, 2, BINHEX(XSTATUS_NIBBLE(18)),

   5912  3 017037   200251 236100                    LDQ     XSTATUS_BYTE+2,,AUTO
         3 017040   000040 772000                    QRL     32
         3 017041   200534 756100                    STQ     CHIP#+2,,AUTO
         3 017042   200251 236100                    LDQ     XSTATUS_BYTE+2,,AUTO
         3 017043   000034 772000                    QRL     28
         3 017044   000017 376007                    ANQ     15,DL
         3 017045   200534 235100                    LDA     CHIP#+2,,AUTO
         3 017046   040100 100405                    MLR     fill='040'O
         3 017047   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 017050   200324 400001                    ADSC9   MDS_TEXT+7,,AUTO         cn=2,n=1
         3 017051   040100 100406                    MLR     fill='040'O
         3 017052   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 017053   200324 600001                    ADSC9   MDS_TEXT+7,,AUTO         cn=3,n=1

     2607     5913    3                     BINHEX(XSTATUS_NIBBLE(19)));
     2608     5914    3         GOTO FOUND_OCTET;

   5914  3 017054   017304 710000 3                  TRA     FOUND_OCTET

     2609     5915    3      END;
     2610     5916    3      ELSE IF DEVTBL.CODE(I) = 10 THEN DO;     /* BYTE 10 - PARAMETER ID */

   5916  3 017055   200010 236100                    LDQ     I,,AUTO
         3 017056   000012 402007                    MPY     10,DL
         3 017057   000000 236106                    LDQ     0,QL,PR0
         3 017060   777000 376003                    ANQ     -512,DU
         3 017061   012000 116003                    CMPQ    5120,DU
         3 017062   017167 601000 3                  TNZ     s:5938

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:490  
     2611     5917    3         PARAMETER_ID = XSTATUS_BYTE(10);

   5917  3 017063   200251 236100                    LDQ     XSTATUS_BYTE+2,,AUTO
         3 017064   000010 736000                    QLS     8
         3 017065   200254 676100                    ERQ     PARAMETER_ID,,AUTO
         3 017066   776000 376003                    ANQ     -1024,DU
         3 017067   200254 656100                    ERSQ    PARAMETER_ID,,AUTO

     2612     5918    3         CALL INSERT(MDS_TEXT, 30, 2, BINHEX(PARAM_ID.BYT1), BINHEX(PARAM_ID.BYT2));

   5918  3 017070   200254 236100                    LDQ     PARAMETER_ID,,AUTO
         3 017071   000040 772000                    QRL     32
         3 017072   200534 756100                    STQ     CHIP#+2,,AUTO
         3 017073   200254 236100                    LDQ     PARAMETER_ID,,AUTO
         3 017074   000034 772000                    QRL     28
         3 017075   000017 376007                    ANQ     15,DL
         3 017076   200534 235100                    LDA     CHIP#+2,,AUTO
         3 017077   040100 100405                    MLR     fill='040'O
         3 017100   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 017101   200324 400001                    ADSC9   MDS_TEXT+7,,AUTO         cn=2,n=1
         3 017102   040100 100406                    MLR     fill='040'O
         3 017103   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 017104   200324 600001                    ADSC9   MDS_TEXT+7,,AUTO         cn=3,n=1

     2613     5919    3         IF ((PARAM_ID.BYT1 = 1 OR PARAM_ID.BYT1 = 2)

   5919  3 017105   200254 236100                    LDQ     PARAMETER_ID,,AUTO
         3 017106   740000 376003                    ANQ     -16384,DU
         3 017107   040000 116003                    CMPQ    16384,DU
         3 017110   017113 600000 3                  TZE     s:5919+6
         3 017111   100000 116003                    CMPQ    32768,DU
         3 017112   017141 601000 3                  TNZ     s:5926
         3 017113   200254 236100                    LDQ     PARAMETER_ID,,AUTO
         3 017114   036000 376003                    ANQ     15360,DU
         3 017115   026000 116003                    CMPQ    11264,DU
         3 017116   017141 603000 3                  TRC     s:5926

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:491  
     2614     5920    4            AND (PARAM_ID.BYT2 <= 10)) THEN DO;

     2615     5921    4            CALL INSERT(MDS_TEXT, 32, MDS_PARAM_ID_TBL.COUNT(PARAM_ID.BYT2),

   5921  3 017117   200254 236100                    LDQ     PARAMETER_ID,,AUTO
         3 017120   000034 772000                    QRL     28
         3 017121   000017 376007                    ANQ     15,DL
         3 017122   000011 402007                    MPY     9,DL
         3 017123   000000 620006                    EAX0    0,QL
         3 017124   000000 236006 xsym               LDQ     MDS_PARAM_ID_TBL,QL
         3 017125   000033 772000                    QRL     27
         3 017126   000000 635010                    EAA     0,X0
         3 017127   000020 771000                    ARL     16
         3 017130   000000 621006                    EAX1    0,QL
         3 017131   040140 100405                    MLR     fill='040'O
         3 017132   000000 200043 xsym               ADSC9   MDS_PARAM_ID_TBL,A       cn=1,n=35
         3 017133   200325 000011                    ADSC9   MDS_TEXT+8,,AUTO         cn=0,n=*X1

     2616     5922    4                        MDS_PARAM_ID_TBL.TEXT(PARAM_ID.BYT2));
     2617     5923    4            XST_CNT = XST_CNT + MDS_PARAM_ID_TBL.COUNT(PARAM_ID.BYT2);

   5923  3 017134   000000 236010 xsym               LDQ     MDS_PARAM_ID_TBL,X0
         3 017135   000033 772000                    QRL     27
         3 017136   200342 036100                    ADLQ    XST_CNT,,AUTO
         3 017137   200342 756100                    STQ     XST_CNT,,AUTO

     2618     5924    4            GOTO FOUND_OCTET;

   5924  3 017140   017304 710000 3                  TRA     FOUND_OCTET

     2619     5925    4         END;
     2620     5926    3         IF (PARAMETER_ID = %HEX_51 AND XSTATUS_NIBBLE(16) = %STD_COMPLETION)

   5926  3 017141   200254 236100                    LDQ     PARAMETER_ID,,AUTO
         3 017142   776000 376003                    ANQ     -1024,DU
         3 017143   242000 116003                    CMPQ    82944,DU
         3 017144   017157 601000 3                  TNZ     s:5932
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:492  
         3 017145   200250 236100                    LDQ     XSTATUS_BYTE+1,,AUTO
         3 017146   000360 376007                    ANQ     240,DL
         3 017147   000020 116007                    CMPQ    16,DL
         3 017150   017157 601000 3                  TNZ     s:5932

     2621     5927    4            THEN DO;

     2622     5928    4              CALL INSERT(MDS_TEXT, 32, 26, ' -- REPORT DEVICE''S STATUS');

   5928  3 017151   040100 100400                    MLR     fill='040'O
         3 017152   002140 000032 1                  ADSC9   BOARD_64K+673            cn=0,n=26
         3 017153   200325 000032                    ADSC9   MDS_TEXT+8,,AUTO         cn=0,n=26

     2623     5929    4              XST_CNT = 58;

   5929  3 017154   000072 235007                    LDA     58,DL
         3 017155   200342 755100                    STA     XST_CNT,,AUTO

     2624     5930    4            END;

   5930  3 017156   017166 710000 3                  TRA     s:5936

     2625     5931    4         ELSE DO;

     2626     5932    4            CALL INSERT(MDS_TEXT, 32, 27, ' ** ILLEGAL PARAMETER ID **');

   5932  3 017157   040100 100400                    MLR     fill='040'O
         3 017160   002147 000033 1                  ADSC9   BOARD_64K+680            cn=0,n=27
         3 017161   200325 000033                    ADSC9   MDS_TEXT+8,,AUTO         cn=0,n=27

     2627     5933    4            XST_CNT = XST_CNT + 27;

   5933  3 017162   000033 236007                    LDQ     27,DL
         3 017163   200342 056100                    ASQ     XST_CNT,,AUTO

     2628     5934    4            PARAMETER_ID = 0;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:493  
   5934  3 017164   000452 236000 4                  LDQ     298
         3 017165   200254 356100                    ANSQ    PARAMETER_ID,,AUTO

     2629     5935    4         END;

     2630     5936    3         GOTO FOUND_OCTET;

   5936  3 017166   017304 710000 3                  TRA     FOUND_OCTET

     2631     5937    3      END;
     2632     5938    2      ELSE IF ((DEVTBL.CODE(I) > 10 AND DEVTBL.CODE(I) < 36)  AND PARAMETER_ID ~= 0)

   5938  3 017167   200010 236100                    LDQ     I,,AUTO
         3 017170   000012 402007                    MPY     10,DL
         3 017171   000000 236106                    LDQ     0,QL,PR0
         3 017172   777000 376003                    ANQ     -512,DU
         3 017173   013000 116003                    CMPQ    5632,DU
         3 017174   017303 602000 3                  TNC     s:5967
         3 017175   200010 236100                    LDQ     I,,AUTO
         3 017176   000012 402007                    MPY     10,DL
         3 017177   000000 236106                    LDQ     0,QL,PR0
         3 017200   777000 376003                    ANQ     -512,DU
         3 017201   044000 116003                    CMPQ    18432,DU
         3 017202   017303 603000 3                  TRC     s:5967
         3 017203   200254 236100                    LDQ     PARAMETER_ID,,AUTO
         3 017204   776000 316003                    CANQ    -1024,DU
         3 017205   017303 600000 3                  TZE     s:5967

     2633     5939    3        THEN DO;

     2634     5940    3         OCTET_NUM = DEVTBL.CODE(I) - 10;

   5940  3 017206   200010 236100                    LDQ     I,,AUTO
         3 017207   000012 402007                    MPY     10,DL
         3 017210   000000 236106                    LDQ     0,QL,PR0
         3 017211   000033 772000                    QRL     27
         3 017212   000012 136007                    SBLQ    10,DL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:494  
         3 017213   200262 756100                    STQ     OCTET_NUM,,AUTO

     2635     5941    3         IF PARAMETER_ID = %HEX_51 THEN

   5941  3 017214   200254 236100                    LDQ     PARAMETER_ID,,AUTO
         3 017215   776000 376003                    ANQ     -1024,DU
         3 017216   242000 116003                    CMPQ    82944,DU
         3 017217   017223 601000 3                  TNZ     s:5943

     2636     5942    3            CALL DECODE_PARAM_51;

   5942  3 017220   026333 701000 3                  TSX1    DECODE_PARAM_51
         3 017221   000000 011000                    NOP     0
         3 017222   017301 710000 3                  TRA     s:5965

     2637     5943    4         ELSE DO CASE(PARAM_ID.BYT2);                  /* SUBSTATUS */

   5943  3 017223   200254 236100                    LDQ     PARAMETER_ID,,AUTO
         3 017224   000034 772000                    QRL     28
         3 017225   000017 376007                    ANQ     15,DL
         3 017226   000013 116007                    CMPQ    11,DL
         3 017227   017231 602006 3                  TNC     s:5943+6,QL
         3 017230   017277 710000 3                  TRA     s:5963
         3 017231   017277 710000 3                  TRA     s:5963
         3 017232   017277 710000 3                  TRA     s:5963
         3 017233   017244 710000 3                  TRA     s:5945
         3 017234   017247 710000 3                  TRA     s:5947
         3 017235   017252 710000 3                  TRA     s:5949
         3 017236   017255 710000 3                  TRA     s:5951
         3 017237   017260 710000 3                  TRA     s:5953
         3 017240   017263 710000 3                  TRA     s:5955
         3 017241   017266 710000 3                  TRA     s:5957
         3 017242   017271 710000 3                  TRA     s:5959
         3 017243   017274 710000 3                  TRA     s:5961

     2638     5944    4                 CASE(%DEFECT_MGMT);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:495  
     2639     5945    4                    CALL DECODE_PARAM_X2;

   5945  3 017244   017323 701000 3                  TSX1    DECODE_PARAM_X2
         3 017245   000000 011000                    NOP     0
         3 017246   017301 710000 3                  TRA     s:5965

     2640     5946    4                 CASE(%MICROCODE_EXP);

     2641     5947    4                    CALL DECODE_PARAM_X3;

   5947  3 017247   020046 701000 3                  TSX1    DECODE_PARAM_X3
         3 017250   000000 011000                    NOP     0
         3 017251   017301 710000 3                  TRA     s:5965

     2642     5948    4                 CASE(%INTERVENTION_REQ);

     2643     5949    4                    CALL DECODE_PARAM_X4;

   5949  3 017252   020050 701000 3                  TSX1    DECODE_PARAM_X4
         3 017253   000000 011000                    NOP     0
         3 017254   017301 710000 3                  TRA     s:5965

     2644     5950    4                 CASE(%ALT_PORT_EXP);

     2645     5951    4                    CALL DECODE_PARAM_X5;

   5951  3 017255   020320 701000 3                  TSX1    DECODE_PARAM_X5
         3 017256   000000 011000                    NOP     0
         3 017257   017301 710000 3                  TRA     s:5965

     2646     5952    4                 CASE(%MACHINE_EXP);

     2647     5953    4                    CALL DECODE_PARAM_X6;

   5953  3 017260   020554 701000 3                  TSX1    DECODE_PARAM_X6
         3 017261   000000 011000                    NOP     0
         3 017262   017301 710000 3                  TRA     s:5965
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:496  

     2648     5954    4                 CASE(%CMD_EXP);

     2649     5955    4                    CALL DECODE_PARAM_X7;

   5955  3 017263   022002 701000 3                  TSX1    DECODE_PARAM_X7
         3 017264   000000 011000                    NOP     0
         3 017265   017301 710000 3                  TRA     s:5965

     2650     5956    4                 CASE(%CMD_ABORTED);

     2651     5957    4                    CALL DECODE_PARAM_X8;

   5957  3 017266   022465 701000 3                  TSX1    DECODE_PARAM_X8
         3 017267   000000 011000                    NOP     0
         3 017270   017301 710000 3                  TRA     s:5965

     2652     5958    4                 CASE(%COND_SUCCESS);

     2653     5959    4                    CALL DECODE_PARAM_X9;

   5959  3 017271   023047 701000 3                  TSX1    DECODE_PARAM_X9
         3 017272   000000 011000                    NOP     0
         3 017273   017301 710000 3                  TRA     s:5965

     2654     5960    4                 CASE(%INCOMPLETE);

     2655     5961    4                    CALL DECODE_PARAM_XA;

   5961  3 017274   024427 701000 3                  TSX1    DECODE_PARAM_XA
         3 017275   000000 011000                    NOP     0
         3 017276   017301 710000 3                  TRA     s:5965

     2656     5962    4                 CASE(ELSE);

     2657     5963    4                    PARAMETER_ID = 0;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:497  
   5963  3 017277   000452 236000 4                  LDQ     298
         3 017300   200254 356100                    ANSQ    PARAMETER_ID,,AUTO

     2658     5964    4                 END;  /* DO CASE */

     2659     5965    3            RETURN;

   5965  3 017301   200524 221300                    LDX1  ! NINE_TRACK_BLNK+8,,AUTO
         3 017302   000001 702211                    TSX2  ! 1,X1

     2660     5966    3         END;
     2661     5967    2      ELSE RETURN;

   5967  3 017303   000001 702211                    TSX2  ! 1,X1

     2662     5968    2   FOUND_OCTET:
     2663     5969    2      CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   5969  3 017304   200342 630500       FOUND_OCTET  EPPR0   XST_CNT,,AUTO
         3 017305   200536 450500                    STP0    CHIP#+4,,AUTO
         3 017306   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 017307   200535 451500                    STP1    CHIP#+3,,AUTO
         3 017310   200300 633500                    EPPR3   XST$,,AUTO
         3 017311   200534 453500                    STP3    CHIP#+2,,AUTO
         3 017312   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 017313   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 017314   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 017315   000000 011000                    NOP     0

     2664     5970    2      NXST = NXST + 1;

   5970  3 017316   200343 235100                    LDA     NXST,,AUTO
         3 017317   000001 035007                    ADLA    1,DL
         3 017320   200343 755100                    STA     NXST,,AUTO

     2665     5971    2      RETURN;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:498  
   5971  3 017321   200524 221300                    LDX1  ! NINE_TRACK_BLNK+8,,AUTO
         3 017322   000001 702211                    TSX2  ! 1,X1

     2666     5972    2   END IPC_MDSII;
     2667     5973        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:499  
     2668     5974        /**/
     2669     5975        /* PROCEDURE TO DECODE DEFECT MANAGEMENT STATUS CODE FOR MDS DISCS */
     2670     5976        /**/
     2671     5977    1   DECODE_PARAM_X2: PROC;

   5977  3 017323   200526 741300       DECODE_PARA* STX1  ! @BOARD,,AUTO

     2672     5978        /**/
     2673     5979    2      MDS_TEXT = ' ';

   5979  3 017324   040100 100400                    MLR     fill='040'O
         3 017325   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 017326   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     2674     5980    2      OCTET$ = MDS_PARAM_X2.SUB$(OCTET_NUM - 1);

   5980  3 017327   200262 720100                    LXL0    OCTET_NUM,,AUTO
         3 017330   777777 236010 xsym               LDQ     MDS_PARAM_X2-1,X0
         3 017331   200216 756100                    STQ     OCTET$,,AUTO

     2675     5981    2      IF (OCTET_NUM > 0 AND OCTET_NUM < 5) THEN

   5981  3 017332   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 017333   017546 604400 3                  TMOZ    s:6006
         3 017334   000005 115007                    CMPA    5,DL
         3 017335   017546 605000 3                  TPL     s:6006

     2676     5982    3         DO;

     2677     5983    3           HEX_NUM = OCTET_NUM;

   5983  3 017336   200262 236100                    LDQ     OCTET_NUM,,AUTO
         3 017337   000034 736000                    QLS     28
         3 017340   200252 676100                    ERQ     HEX_NUM,,AUTO
         3 017341   776000 376003                    ANQ     -1024,DU
         3 017342   200252 656100                    ERSQ    HEX_NUM,,AUTO

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:500  
     2678     5984    3           CALL INSERT (MDS_TEXT, 17, 11, 'OCTET ', BINHEX(HEX_NIBBLE(0)),

   5984  3 017343   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 017344   000040 772000                    QRL     32
         3 017345   200534 756100                    STQ     CHIP#+2,,AUTO
         3 017346   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 017347   000034 772000                    QRL     28
         3 017350   000017 376007                    ANQ     15,DL
         3 017351   040100 100400                    MLR     fill='040'O
         3 017352   002156 000006 1                  ADSC9   BOARD_64K+687            cn=0,n=6
         3 017353   200321 200006                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=6
         3 017354   200534 235100                    LDA     CHIP#+2,,AUTO
         3 017355   040100 100405                    MLR     fill='040'O
         3 017356   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 017357   200322 600001                    ADSC9   MDS_TEXT+5,,AUTO         cn=3,n=1
         3 017360   040100 100406                    MLR     fill='040'O
         3 017361   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 017362   200323 000001                    ADSC9   MDS_TEXT+6,,AUTO         cn=0,n=1
         3 017363   002160 236000 1                  LDQ     BOARD_64K+689
         3 017364   000011 772000                    QRL     9
         3 017365   200323 552134                    STBQ    MDS_TEXT+6,'34'O,AUTO

     2679     5985    3                        BINHEX(HEX_NIBBLE(1)), ' = ');
     2680     5986    3           CALL INSERT (MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)), BINHEX(
              5986                    OCTET_NIBBLE(2 * OCTET_NUM + 1)));

   5986  3 017366   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 017367   000003 735000                    ALS     3
         3 017370   017372 605000 3                  TPL     s:5986+4
         3 017371   000044 035003                    ADLA    36,DU
         3 017372   003100 061505                    CSR     bolr='003'O
         3 017373   200241 000004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=0,n=4
         3 017374   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 017375   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 017376   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 017377   000003 735000                    ALS     3
         3 017400   017402 605000 3                  TPL     s:5986+12
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:501  
         3 017401   000044 035003                    ADLA    36,DU
         3 017402   003100 061505                    CSR     bolr='003'O
         3 017403   200241 040004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=4,n=4
         3 017404   200535 000044                    BDSC    CHIP#+3,,AUTO            by=0,bit=0,n=36
         3 017405   200536 756100                    STQ     CHIP#+4,,AUTO
         3 017406   200535 236100                    LDQ     CHIP#+3,,AUTO
         3 017407   200536 235100                    LDA     CHIP#+4,,AUTO
         3 017410   040100 100405                    MLR     fill='040'O
         3 017411   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 017412   200324 000001                    ADSC9   MDS_TEXT+7,,AUTO         cn=0,n=1
         3 017413   040100 100406                    MLR     fill='040'O
         3 017414   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 017415   200324 200001                    ADSC9   MDS_TEXT+7,,AUTO         cn=1,n=1

     2681     5987    3           XST_CNT = 30;

   5987  3 017416   000036 235007                    LDA     30,DL
         3 017417   200342 755100                    STA     XST_CNT,,AUTO

     2682     5988    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   5988  3 017420   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 017421   200536 450500                    STP0    CHIP#+4,,AUTO
         3 017422   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 017423   200535 451500                    STP1    CHIP#+3,,AUTO
         3 017424   200300 633500                    EPPR3   XST$,,AUTO
         3 017425   200534 453500                    STP3    CHIP#+2,,AUTO
         3 017426   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 017427   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 017430   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 017431   000000 011000                    NOP     0

     2683     5989    3           NXST = NXST + 1;

   5989  3 017432   200343 235100                    LDA     NXST,,AUTO
         3 017433   000001 035007                    ADLA    1,DL
         3 017434   200343 755100                    STA     NXST,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:502  

     2684     5990    3           PARAM_INDX = 0;

   5990  3 017435   200253 450100                    STZ     PARAM_INDX,,AUTO

     2685     5991    4           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) +7);

   5991  3 017436   200010 236100                    LDQ     I,,AUTO
         3 017437   000012 402007                    MPY     10,DL
         3 017440   200215 470500                    LDP0    DEV$,,AUTO
         3 017441   000000 236106                    LDQ     0,QL,PR0
         3 017442   000030 772000                    QRL     24
         3 017443   007770 376007                    ANQ     4088,DL
         3 017444   200011 756100                    STQ     X,,AUTO
         3 017445   017526 710000 3                  TRA     s:6001+1

     2686     5992    4              IF (IO_MASK1(X)) AND (PARAM_TBL.COUNT(PARAM_INDX) > 1)

   5992  3 017446   200011 235100                    LDA     X,,AUTO
         3 017447   017451 605000 3                  TPL     s:5992+3
         3 017450   000044 035003                    ADLA    36,DU
         3 017451   000000 066505                    CMPB    filb='0'B
         3 017452   200221 000001                    BDSC    IO_MASK,A,AUTO           by=0,bit=0,n=1
         3 017453   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 017454   017524 600000 3                  TZE     s:6000
         3 017455   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 017456   000014 402007                    MPY     12,DL
         3 017457   200216 470500                    LDP0    OCTET$,,AUTO
         3 017460   000000 236106                    LDQ     0,QL,PR0
         3 017461   777000 376003                    ANQ     -512,DU
         3 017462   002000 116003                    CMPQ    1024,DU
         3 017463   017524 602000 3                  TNC     s:6000

     2687     5993    5                 THEN DO;

     2688     5994    5                   MDS_TEXT = ' ';

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:503  
   5994  3 017464   040100 100400                    MLR     fill='040'O
         3 017465   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 017466   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     2689     5995    5                   CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(PARAM_INDX), PARAM_TBL.
              5995                            TEXT(PARAM_INDX));

   5995  3 017467   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 017470   000014 402007                    MPY     12,DL
         3 017471   000000 236106                    LDQ     0,QL,PR0
         3 017472   000033 772000                    QRL     27
         3 017473   000000 620006                    EAX0    0,QL
         3 017474   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 017475   000060 402007                    MPY     48,DL
         3 017476   040140 100506                    MLR     fill='040'O
         3 017477   000000 200054                    ADSC9   0,Q,PR0                  cn=1,n=44
         3 017500   200321 200010                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=*X0

     2690     5996    5                   XST_CNT = PARAM_TBL.COUNT(PARAM_INDX) + 17;

   5996  3 017501   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 017502   000014 402007                    MPY     12,DL
         3 017503   000000 236106                    LDQ     0,QL,PR0
         3 017504   000033 772000                    QRL     27
         3 017505   000021 036007                    ADLQ    17,DL
         3 017506   200342 756100                    STQ     XST_CNT,,AUTO

     2691     5997    5                   CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   5997  3 017507   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 017510   200536 451500                    STP1    CHIP#+4,,AUTO
         3 017511   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 017512   200535 453500                    STP3    CHIP#+3,,AUTO
         3 017513   200300 634500                    EPPR4   XST$,,AUTO
         3 017514   200534 454500                    STP4    CHIP#+2,,AUTO
         3 017515   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 017516   000021 631400 xsym               EPPR1   B_VECTNIL+17
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:504  
         3 017517   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 017520   000000 011000                    NOP     0

     2692     5998    5                   NXST = NXST + 1;

   5998  3 017521   200343 235100                    LDA     NXST,,AUTO
         3 017522   000001 035007                    ADLA    1,DL
         3 017523   200343 755100                    STA     NXST,,AUTO

     2693     5999    5                 END;

     2694     6000    4              PARAM_INDX = PARAM_INDX + 1;

   6000  3 017524   200253 054100                    AOS     PARAM_INDX,,AUTO

     2695     6001    4           END;  /* DO X */

   6001  3 017525   200011 054100                    AOS     X,,AUTO
         3 017526   200010 236100                    LDQ     I,,AUTO
         3 017527   000012 402007                    MPY     10,DL
         3 017530   200215 470500                    LDP0    DEV$,,AUTO
         3 017531   000000 236106                    LDQ     0,QL,PR0
         3 017532   000030 772000                    QRL     24
         3 017533   007770 376007                    ANQ     4088,DL
         3 017534   000007 036007                    ADLQ    7,DL
         3 017535   200011 116100                    CMPQ    X,,AUTO
         3 017536   017446 605000 3                  TPL     s:5992

     2696     6002    3           IF OCTET_NUM >= PARAMETER_LENGTH - 1 THEN

   6002  3 017537   200255 236100                    LDQ     PARAMETER_LENGTH,,AUTO
         3 017540   000034 772000                    QRL     28
         3 017541   000001 136007                    SBLQ    1,DL
         3 017542   200262 116100                    CMPQ    OCTET_NUM,,AUTO
         3 017543   020041 604400 3                  TMOZ    PARAM_X2_DONE

     2697     6003    3              GOTO PARAM_X2_DONE;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:505  
     2698     6004    3           ELSE RETURN;

   6004  3 017544   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 017545   000001 702211                    TSX2  ! 1,X1

     2699     6005    3         END;         /* FOR OCTET_NUM < 5 */
     2700     6006    2         ELSE IF OCTET_NUM = 5

   6006  3 017546   000005 115007                    CMPA    5,DL
         3 017547   020045 601000 3                  TNZ     s:6052

     2701     6007    3           THEN DO;

     2702     6008    3             IF IO_MASK(DEVTBL.CODE(I)) = %HEX_80        /* TEST FOR '80'X */

   6008  3 017550   200010 236100                    LDQ     I,,AUTO
         3 017551   000012 402007                    MPY     10,DL
         3 017552   200215 470500                    LDP0    DEV$,,AUTO
         3 017553   000000 236106                    LDQ     0,QL,PR0
         3 017554   000030 772000                    QRL     24
         3 017555   007770 376007                    ANQ     4088,DL
         3 017556   003100 061506                    CSR     bolr='003'O
         3 017557   200221 000010                    BDSC    IO_MASK,Q,AUTO           by=0,bit=0,n=8
         3 017560   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 017561   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 017562   000200 116007                    CMPQ    128,DL
         3 017563   020041 600000 3                  TZE     PARAM_X2_DONE

     2703     6009    3                THEN GOTO PARAM_X2_DONE;
     2704     6010    3             MDS_TEXT = ' ';

   6010  3 017564   040100 100400                    MLR     fill='040'O
         3 017565   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 017566   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     2705     6011    3             CALL INSERT(MDS_TEXT, 0, 57,

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:506  
   6011  3 017567   040100 100400                    MLR     fill='040'O
         3 017570   002161 000071 1                  ADSC9   BOARD_64K+690            cn=0,n=57
         3 017571   200315 000071                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=57

     2706     6012    3                  'THE FOLLOWING OCTETS CONTAIN THE FAILING PHYSICAL ADDRESS');
     2707     6013    3             XST_CNT = 57;

   6013  3 017572   000071 235007                    LDA     57,DL
         3 017573   200342 755100                    STA     XST_CNT,,AUTO

     2708     6014    3             CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6014  3 017574   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 017575   200536 451500                    STP1    CHIP#+4,,AUTO
         3 017576   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 017577   200535 453500                    STP3    CHIP#+3,,AUTO
         3 017600   200300 634500                    EPPR4   XST$,,AUTO
         3 017601   200534 454500                    STP4    CHIP#+2,,AUTO
         3 017602   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 017603   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 017604   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 017605   000000 011000                    NOP     0

     2709     6015    3             NXST = NXST + 1;

   6015  3 017606   200343 235100                    LDA     NXST,,AUTO
         3 017607   000001 035007                    ADLA    1,DL
         3 017610   200343 755100                    STA     NXST,,AUTO

     2710     6016    3             MDS_TEXT = ' ';

   6016  3 017611   040100 100400                    MLR     fill='040'O
         3 017612   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 017613   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     2711     6017    3             MDS_REG1 = 0;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:507  
   6017  3 017614   200273 450100                    STZ     MDS_REG1,,AUTO

     2712     6018    3             MDS_REG2.OCTET(0) = OCTET_BYTE(5);

   6018  3 017615   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 017616   000020 772000                    QRL     16
         3 017617   200273 676100                    ERQ     MDS_REG1,,AUTO
         3 017620   177400 376007                    ANQ     65280,DL
         3 017621   200273 656100                    ERSQ    MDS_REG1,,AUTO

     2713     6019    3             MDS_REG2.OCTET(1) = OCTET_BYTE(6);

   6019  3 017622   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 017623   000020 772000                    QRL     16
         3 017624   200273 676100                    ERQ     MDS_REG1,,AUTO
         3 017625   000377 376007                    ANQ     255,DL
         3 017626   200273 656100                    ERSQ    MDS_REG1,,AUTO

     2714     6020    3             CALL BINCHAR(MDS_CYL, MDS_REG1);

   6020  3 017627   200273 236100                    LDQ     MDS_REG1,,AUTO
         3 017630   000000 235003                    LDA     0,DU
         3 017631   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 017632   000100 301500                    BTD
         3 017633   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 017634   200274 030004                    NDSC9   MDS_CYL,,AUTO            cn=0,s=nosgn,sf=0,n=4

     2715     6021    3             CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(0), PARAM_TBL.TEXT(0));

   6021  3 017635   200216 470500                    LDP0    OCTET$,,AUTO
         3 017636   000000 236100                    LDQ     0,,PR0
         3 017637   000033 772000                    QRL     27
         3 017640   000000 620006                    EAX0    0,QL
         3 017641   040140 100500                    MLR     fill='040'O
         3 017642   000000 200054                    ADSC9   0,,PR0                   cn=1,n=44
         3 017643   200321 200010                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=*X0

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:508  
     2716     6022    3             CALL INSERT(MDS_TEXT, 34, 4, MDS_CYL);

   6022  3 017644   040100 100500                    MLR     fill='040'O
         3 017645   200274 000004                    ADSC9   MDS_CYL,,AUTO            cn=0,n=4
         3 017646   200325 400004                    ADSC9   MDS_TEXT+8,,AUTO         cn=2,n=4

     2717     6023    3             XST_CNT = PARAM_TBL.COUNT(0) + 17;

   6023  3 017647   000000 236100                    LDQ     0,,PR0
         3 017650   000033 772000                    QRL     27
         3 017651   000021 036007                    ADLQ    17,DL
         3 017652   200342 756100                    STQ     XST_CNT,,AUTO

     2718     6024    3             CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6024  3 017653   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 017654   200536 451500                    STP1    CHIP#+4,,AUTO
         3 017655   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 017656   200535 453500                    STP3    CHIP#+3,,AUTO
         3 017657   200300 634500                    EPPR4   XST$,,AUTO
         3 017660   200534 454500                    STP4    CHIP#+2,,AUTO
         3 017661   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 017662   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 017663   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 017664   000000 011000                    NOP     0

     2719     6025    3             NXST = NXST + 1;

   6025  3 017665   200343 235100                    LDA     NXST,,AUTO
         3 017666   000001 035007                    ADLA    1,DL
         3 017667   200343 755100                    STA     NXST,,AUTO

     2720     6026    3             IF IO_MASK(DEVTBL.CODE(I+2)) = %HEX_80      /* TEST FOR '80'X */

   6026  3 017670   200010 236100                    LDQ     I,,AUTO
         3 017671   000012 402007                    MPY     10,DL
         3 017672   200215 470500                    LDP0    DEV$,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:509  
         3 017673   000024 236106                    LDQ     20,QL,PR0
         3 017674   000030 772000                    QRL     24
         3 017675   007770 376007                    ANQ     4088,DL
         3 017676   003100 061506                    CSR     bolr='003'O
         3 017677   200221 000010                    BDSC    IO_MASK,Q,AUTO           by=0,bit=0,n=8
         3 017700   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 017701   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 017702   000200 116007                    CMPQ    128,DL
         3 017703   020041 600000 3                  TZE     PARAM_X2_DONE

     2721     6027    3                THEN GOTO PARAM_X2_DONE;
     2722     6028    3             MDS_TEXT = ' ';

   6028  3 017704   040100 100400                    MLR     fill='040'O
         3 017705   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 017706   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     2723     6029    3             MDS_REG1 = 0;

   6029  3 017707   200273 450100                    STZ     MDS_REG1,,AUTO

     2724     6030    3             MDS_REG2.OCTET(1) = OCTET_BYTE(7);

   6030  3 017710   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 017711   000010 772000                    QRL     8
         3 017712   200273 676100                    ERQ     MDS_REG1,,AUTO
         3 017713   000377 376007                    ANQ     255,DL
         3 017714   200273 656100                    ERSQ    MDS_REG1,,AUTO

     2725     6031    3             CALL BINCHAR(MDS_HEAD, MDS_REG1);

   6031  3 017715   200273 235100                    LDA     MDS_REG1,,AUTO
         3 017716   000044 773000                    LRL     36
         3 017717   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 017720   000100 301500                    BTD
         3 017721   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 017722   200276 030002                    NDSC9   MDS_HEAD,,AUTO           cn=0,s=nosgn,sf=0,n=2
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:510  

     2726     6032    3             CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(1), PARAM_TBL.TEXT(1));

   6032  3 017723   200216 471500                    LDP1    OCTET$,,AUTO
         3 017724   100014 236100                    LDQ     12,,PR1
         3 017725   000033 772000                    QRL     27
         3 017726   000000 620006                    EAX0    0,QL
         3 017727   040140 100500                    MLR     fill='040'O
         3 017730   100014 200054                    ADSC9   12,,PR1                  cn=1,n=44
         3 017731   200321 200010                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=*X0

     2727     6033    3             CALL INSERT(MDS_TEXT, 28, 2, MDS_HEAD);

   6033  3 017732   200276 220100                    LDX0    MDS_HEAD,,AUTO
         3 017733   200324 740100                    STX0    MDS_TEXT+7,,AUTO

     2728     6034    3             XST_CNT = PARAM_TBL.COUNT(1) + 17;

   6034  3 017734   100014 236100                    LDQ     12,,PR1
         3 017735   000033 772000                    QRL     27
         3 017736   000021 036007                    ADLQ    17,DL
         3 017737   200342 756100                    STQ     XST_CNT,,AUTO

     2729     6035    3             CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6035  3 017740   200342 633500                    EPPR3   XST_CNT,,AUTO
         3 017741   200536 453500                    STP3    CHIP#+4,,AUTO
         3 017742   200315 634500                    EPPR4   MDS_TEXT,,AUTO
         3 017743   200535 454500                    STP4    CHIP#+3,,AUTO
         3 017744   200300 635500                    EPPR5   XST$,,AUTO
         3 017745   200534 455500                    STP5    CHIP#+2,,AUTO
         3 017746   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 017747   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 017750   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 017751   000000 011000                    NOP     0

     2730     6036    3             NXST = NXST + 1;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:511  

   6036  3 017752   200343 235100                    LDA     NXST,,AUTO
         3 017753   000001 035007                    ADLA    1,DL
         3 017754   200343 755100                    STA     NXST,,AUTO

     2731     6037    3             IF IO_MASK(DEVTBL.CODE(I+3)) = %HEX_80      /* TEST FOR '80'X */

   6037  3 017755   200010 236100                    LDQ     I,,AUTO
         3 017756   000012 402007                    MPY     10,DL
         3 017757   200215 470500                    LDP0    DEV$,,AUTO
         3 017760   000036 236106                    LDQ     30,QL,PR0
         3 017761   000030 772000                    QRL     24
         3 017762   007770 376007                    ANQ     4088,DL
         3 017763   003100 061506                    CSR     bolr='003'O
         3 017764   200221 000010                    BDSC    IO_MASK,Q,AUTO           by=0,bit=0,n=8
         3 017765   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 017766   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 017767   000200 116007                    CMPQ    128,DL
         3 017770   020041 600000 3                  TZE     PARAM_X2_DONE

     2732     6038    3                THEN GOTO PARAM_X2_DONE;
     2733     6039    3             MDS_TEXT = ' ';

   6039  3 017771   040100 100400                    MLR     fill='040'O
         3 017772   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 017773   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     2734     6040    3             MDS_REG1 = 0;

   6040  3 017774   200273 450100                    STZ     MDS_REG1,,AUTO

     2735     6041    3             MDS_REG2.OCTET(1) = OCTET_BYTE(8);

   6041  3 017775   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 017776   200273 676100                    ERQ     MDS_REG1,,AUTO
         3 017777   000377 376007                    ANQ     255,DL
         3 020000   200273 656100                    ERSQ    MDS_REG1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:512  

     2736     6042    3             CALL BINCHAR(MDS_SECTOR, MDS_REG1);

   6042  3 020001   200273 235100                    LDA     MDS_REG1,,AUTO
         3 020002   000044 773000                    LRL     36
         3 020003   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 020004   000100 301500                    BTD
         3 020005   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 020006   200275 030002                    NDSC9   MDS_SECTOR,,AUTO         cn=0,s=nosgn,sf=0,n=2

     2737     6043    3             CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(2), PARAM_TBL.TEXT(2));

   6043  3 020007   200216 471500                    LDP1    OCTET$,,AUTO
         3 020010   100030 236100                    LDQ     24,,PR1
         3 020011   000033 772000                    QRL     27
         3 020012   000000 620006                    EAX0    0,QL
         3 020013   040140 100500                    MLR     fill='040'O
         3 020014   100030 200054                    ADSC9   24,,PR1                  cn=1,n=44
         3 020015   200321 200010                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=*X0

     2738     6044    3             CALL INSERT(MDS_TEXT, 28, 2, MDS_SECTOR);

   6044  3 020016   200275 220100                    LDX0    MDS_SECTOR,,AUTO
         3 020017   200324 740100                    STX0    MDS_TEXT+7,,AUTO

     2739     6045    3             XST_CNT = PARAM_TBL.COUNT(2) + 17;

   6045  3 020020   100030 236100                    LDQ     24,,PR1
         3 020021   000033 772000                    QRL     27
         3 020022   000021 036007                    ADLQ    17,DL
         3 020023   200342 756100                    STQ     XST_CNT,,AUTO

     2740     6046    3             CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6046  3 020024   200342 633500                    EPPR3   XST_CNT,,AUTO
         3 020025   200536 453500                    STP3    CHIP#+4,,AUTO
         3 020026   200315 634500                    EPPR4   MDS_TEXT,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:513  
         3 020027   200535 454500                    STP4    CHIP#+3,,AUTO
         3 020030   200300 635500                    EPPR5   XST$,,AUTO
         3 020031   200534 455500                    STP5    CHIP#+2,,AUTO
         3 020032   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 020033   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 020034   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 020035   000000 011000                    NOP     0

     2741     6047    3             NXST = NXST + 1;

   6047  3 020036   200343 235100                    LDA     NXST,,AUTO
         3 020037   000001 035007                    ADLA    1,DL
         3 020040   200343 755100                    STA     NXST,,AUTO

     2742     6048    3   PARAM_X2_DONE:
     2743     6049    3             PARAMETER_ID = 0;

   6049  3 020041   000452 236000 4     PARAM_X2_DO* LDQ     298
         3 020042   200254 356100                    ANSQ    PARAMETER_ID,,AUTO

     2744     6050    3             RETURN;

   6050  3 020043   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 020044   000001 702211                    TSX2  ! 1,X1

     2745     6051    3           END;
     2746     6052    2         ELSE RETURN;

   6052  3 020045   000001 702211                    TSX2  ! 1,X1

     2747     6053    2   END DECODE_PARAM_X2;
     2748     6054        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:514  
     2749     6055        /**/
     2750     6056        /* PROCEDURE TO DECODE MESSAGE/MICROCODE EXCEPTION STATUS CODE FOR  MDS DISCS */
     2751     6057        /**/
     2752     6058    1   DECODE_PARAM_X3: PROC;

   6058  3 020046   200526 741300       DECODE_PARA* STX1  ! @BOARD,,AUTO

     2753     6059        /**/
     2754     6060                            /* NOTE: CODE MAY BE IMPLEMENTED AT A LATER TIME.  */
     2755     6061    2          RETURN;      /* THESE PARAMETERS ARE RETURNED FROM T&D I/O ONLY */

   6061  3 020047   000001 702211                    TSX2  ! 1,X1

     2756     6062    2   END DECODE_PARAM_X3;
     2757     6063        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:515  
     2758     6064        /**/
     2759     6065        /* PROCEDURE TO DECODE INTERVENTION REQUIRED STATUS CODE FOR  MDS DISCS */
     2760     6066        /**/
     2761     6067    1   DECODE_PARAM_X4: PROC;

   6067  3 020050   200526 741300       DECODE_PARA* STX1  ! @BOARD,,AUTO

     2762     6068        /**/
     2763     6069    2      MDS_TEXT = ' ';

   6069  3 020051   040100 100400                    MLR     fill='040'O
         3 020052   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 020053   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     2764     6070    2      OCTET$ = MDS_PARAM_X4.SUB$(OCTET_NUM - 1);

   6070  3 020054   200262 720100                    LXL0    OCTET_NUM,,AUTO
         3 020055   777777 236010 xsym               LDQ     MDS_PARAM_X4-1,X0
         3 020056   200216 756100                    STQ     OCTET$,,AUTO

     2765     6071    2      IF (OCTET_NUM > 0 AND OCTET_NUM < 7) THEN

   6071  3 020057   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 020060   020162 604400 3                  TMOZ    s:6082
         3 020061   000007 115007                    CMPA    7,DL
         3 020062   020162 605000 3                  TPL     s:6082

     2766     6072    3         DO;

     2767     6073    3           HEX_NUM = OCTET_NUM;

   6073  3 020063   200262 236100                    LDQ     OCTET_NUM,,AUTO
         3 020064   000034 736000                    QLS     28
         3 020065   200252 676100                    ERQ     HEX_NUM,,AUTO
         3 020066   776000 376003                    ANQ     -1024,DU
         3 020067   200252 656100                    ERSQ    HEX_NUM,,AUTO

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:516  
     2768     6074    3           CALL INSERT(MDS_TEXT, 17, 11, 'OCTET ', BINHEX(HEX_NIBBLE(0)),

   6074  3 020070   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 020071   000040 772000                    QRL     32
         3 020072   200534 756100                    STQ     CHIP#+2,,AUTO
         3 020073   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 020074   000034 772000                    QRL     28
         3 020075   000017 376007                    ANQ     15,DL
         3 020076   040100 100400                    MLR     fill='040'O
         3 020077   002156 000006 1                  ADSC9   BOARD_64K+687            cn=0,n=6
         3 020100   200321 200006                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=6
         3 020101   200534 235100                    LDA     CHIP#+2,,AUTO
         3 020102   040100 100405                    MLR     fill='040'O
         3 020103   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 020104   200322 600001                    ADSC9   MDS_TEXT+5,,AUTO         cn=3,n=1
         3 020105   040100 100406                    MLR     fill='040'O
         3 020106   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 020107   200323 000001                    ADSC9   MDS_TEXT+6,,AUTO         cn=0,n=1
         3 020110   002160 236000 1                  LDQ     BOARD_64K+689
         3 020111   000011 772000                    QRL     9
         3 020112   200323 552134                    STBQ    MDS_TEXT+6,'34'O,AUTO

     2769     6075    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     2770     6076    3           CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),

   6076  3 020113   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 020114   000003 735000                    ALS     3
         3 020115   020117 605000 3                  TPL     s:6076+4
         3 020116   000044 035003                    ADLA    36,DU
         3 020117   003100 061505                    CSR     bolr='003'O
         3 020120   200241 000004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=0,n=4
         3 020121   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 020122   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 020123   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 020124   000003 735000                    ALS     3
         3 020125   020127 605000 3                  TPL     s:6076+12
         3 020126   000044 035003                    ADLA    36,DU
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:517  
         3 020127   003100 061505                    CSR     bolr='003'O
         3 020130   200241 040004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=4,n=4
         3 020131   200535 000044                    BDSC    CHIP#+3,,AUTO            by=0,bit=0,n=36
         3 020132   200536 756100                    STQ     CHIP#+4,,AUTO
         3 020133   200535 236100                    LDQ     CHIP#+3,,AUTO
         3 020134   200536 235100                    LDA     CHIP#+4,,AUTO
         3 020135   040100 100405                    MLR     fill='040'O
         3 020136   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 020137   200324 000001                    ADSC9   MDS_TEXT+7,,AUTO         cn=0,n=1
         3 020140   040100 100406                    MLR     fill='040'O
         3 020141   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 020142   200324 200001                    ADSC9   MDS_TEXT+7,,AUTO         cn=1,n=1

     2771     6077    3                       BINHEX(OCTET_NIBBLE(2*OCTET_NUM +1)));
     2772     6078    3           XST_CNT = 30;

   6078  3 020143   000036 235007                    LDA     30,DL
         3 020144   200342 755100                    STA     XST_CNT,,AUTO

     2773     6079    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6079  3 020145   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 020146   200536 450500                    STP0    CHIP#+4,,AUTO
         3 020147   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 020150   200535 451500                    STP1    CHIP#+3,,AUTO
         3 020151   200300 633500                    EPPR3   XST$,,AUTO
         3 020152   200534 453500                    STP3    CHIP#+2,,AUTO
         3 020153   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 020154   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 020155   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 020156   000000 011000                    NOP     0

     2774     6080    3           NXST = NXST + 1;

   6080  3 020157   200343 235100                    LDA     NXST,,AUTO
         3 020160   000001 035007                    ADLA    1,DL
         3 020161   200343 755100                    STA     NXST,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:518  

     2775     6081    3         END;

     2776     6082    2      IF (OCTET_NUM = 1 OR OCTET_NUM = 5 OR OCTET_NUM = 6) THEN

   6082  3 020162   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 020163   000001 115007                    CMPA    1,DL
         3 020164   020171 600000 3                  TZE     s:6084
         3 020165   000005 115007                    CMPA    5,DL
         3 020166   020171 600000 3                  TZE     s:6084
         3 020167   000006 115007                    CMPA    6,DL
         3 020170   020307 601000 3                  TNZ     s:6101

     2777     6083    3         DO;

     2778     6084    3           PARAM_INDX = 0;

   6084  3 020171   200253 450100                    STZ     PARAM_INDX,,AUTO

     2779     6085    4           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) + 7);

   6085  3 020172   200010 236100                    LDQ     I,,AUTO
         3 020173   000012 402007                    MPY     10,DL
         3 020174   200215 470500                    LDP0    DEV$,,AUTO
         3 020175   000000 236106                    LDQ     0,QL,PR0
         3 020176   000030 772000                    QRL     24
         3 020177   007770 376007                    ANQ     4088,DL
         3 020200   200011 756100                    STQ     X,,AUTO
         3 020201   020262 710000 3                  TRA     s:6095+1

     2780     6086    4              IF (IO_MASK1(X)) AND (PARAM_TBL.COUNT(PARAM_INDX) > 1)

   6086  3 020202   200011 235100                    LDA     X,,AUTO
         3 020203   020205 605000 3                  TPL     s:6086+3
         3 020204   000044 035003                    ADLA    36,DU
         3 020205   000000 066505                    CMPB    filb='0'B
         3 020206   200221 000001                    BDSC    IO_MASK,A,AUTO           by=0,bit=0,n=1
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:519  
         3 020207   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 020210   020260 600000 3                  TZE     s:6094
         3 020211   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 020212   000014 402007                    MPY     12,DL
         3 020213   200216 470500                    LDP0    OCTET$,,AUTO
         3 020214   000000 236106                    LDQ     0,QL,PR0
         3 020215   777000 376003                    ANQ     -512,DU
         3 020216   002000 116003                    CMPQ    1024,DU
         3 020217   020260 602000 3                  TNC     s:6094

     2781     6087    5                 THEN DO;

     2782     6088    5                    MDS_TEXT = ' ';

   6088  3 020220   040100 100400                    MLR     fill='040'O
         3 020221   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 020222   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     2783     6089    5                    CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(PARAM_INDX), PARAM_TBL.
              6089                             TEXT(PARAM_INDX));

   6089  3 020223   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 020224   000014 402007                    MPY     12,DL
         3 020225   000000 236106                    LDQ     0,QL,PR0
         3 020226   000033 772000                    QRL     27
         3 020227   000000 620006                    EAX0    0,QL
         3 020230   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 020231   000060 402007                    MPY     48,DL
         3 020232   040140 100506                    MLR     fill='040'O
         3 020233   000000 200054                    ADSC9   0,Q,PR0                  cn=1,n=44
         3 020234   200321 200010                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=*X0

     2784     6090    5                    XST_CNT = PARAM_TBL.COUNT(PARAM_INDX) + 17;

   6090  3 020235   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 020236   000014 402007                    MPY     12,DL
         3 020237   000000 236106                    LDQ     0,QL,PR0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:520  
         3 020240   000033 772000                    QRL     27
         3 020241   000021 036007                    ADLQ    17,DL
         3 020242   200342 756100                    STQ     XST_CNT,,AUTO

     2785     6091    5                    CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6091  3 020243   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 020244   200536 451500                    STP1    CHIP#+4,,AUTO
         3 020245   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 020246   200535 453500                    STP3    CHIP#+3,,AUTO
         3 020247   200300 634500                    EPPR4   XST$,,AUTO
         3 020250   200534 454500                    STP4    CHIP#+2,,AUTO
         3 020251   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 020252   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 020253   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 020254   000000 011000                    NOP     0

     2786     6092    5                    NXST = NXST + 1;

   6092  3 020255   200343 235100                    LDA     NXST,,AUTO
         3 020256   000001 035007                    ADLA    1,DL
         3 020257   200343 755100                    STA     NXST,,AUTO

     2787     6093    5                 END;

     2788     6094    4              PARAM_INDX = PARAM_INDX + 1;

   6094  3 020260   200253 054100                    AOS     PARAM_INDX,,AUTO

     2789     6095    4           END;  /* DO X */

   6095  3 020261   200011 054100                    AOS     X,,AUTO
         3 020262   200010 236100                    LDQ     I,,AUTO
         3 020263   000012 402007                    MPY     10,DL
         3 020264   200215 470500                    LDP0    DEV$,,AUTO
         3 020265   000000 236106                    LDQ     0,QL,PR0
         3 020266   000030 772000                    QRL     24
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:521  
         3 020267   007770 376007                    ANQ     4088,DL
         3 020270   000007 036007                    ADLQ    7,DL
         3 020271   200011 116100                    CMPQ    X,,AUTO
         3 020272   020202 605000 3                  TPL     s:6086

     2790     6096    3           IF (OCTET_NUM = 6 OR OCTET_NUM >= PARAMETER_LENGTH -1)THEN

   6096  3 020273   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 020274   000006 115007                    CMPA    6,DL
         3 020275   020303 600000 3                  TZE     s:6097
         3 020276   200255 236100                    LDQ     PARAMETER_LENGTH,,AUTO
         3 020277   000034 772000                    QRL     28
         3 020300   000001 136007                    SBLQ    1,DL
         3 020301   200262 116100                    CMPQ    OCTET_NUM,,AUTO
         3 020302   020305 605400 3                  TPNZ    s:6098

     2791     6097    3              PARAMETER_ID = 0;

   6097  3 020303   000452 236000 4                  LDQ     298
         3 020304   200254 356100                    ANSQ    PARAMETER_ID,,AUTO

     2792     6098    3           RETURN;

   6098  3 020305   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 020306   000001 702211                    TSX2  ! 1,X1

     2793     6099    3         END;
     2794     6100    3         ELSE DO;

     2795     6101    3           IF OCTET_NUM >= PARAMETER_LENGTH - 1 THEN

   6101  3 020307   200255 236100                    LDQ     PARAMETER_LENGTH,,AUTO
         3 020310   000034 772000                    QRL     28
         3 020311   000001 136007                    SBLQ    1,DL
         3 020312   200262 116100                    CMPQ    OCTET_NUM,,AUTO
         3 020313   020316 605400 3                  TPNZ    s:6103

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:522  
     2796     6102    3              PARAMETER_ID = 0;

   6102  3 020314   000452 236000 4                  LDQ     298
         3 020315   200254 356100                    ANSQ    PARAMETER_ID,,AUTO

     2797     6103    3           RETURN;

   6103  3 020316   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 020317   000001 702211                    TSX2  ! 1,X1

     2798     6104    3         END;
     2799     6105    2   END DECODE_PARAM_X4;
     2800     6106        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:523  
     2801     6107        /**/
     2802     6108        /* PROCEDURE TO DECODE ALT PORT EXCEPTION STATUS CODE FOR  MDS DISCS */
     2803     6109        /**/
     2804     6110    1   DECODE_PARAM_X5: PROC;

   6110  3 020320   200526 741300       DECODE_PARA* STX1  ! @BOARD,,AUTO

     2805     6111        /**/
     2806     6112    2      MDS_TEXT = ' ';

   6112  3 020321   040100 100400                    MLR     fill='040'O
         3 020322   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 020323   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     2807     6113    2      OCTET$ = MDS_PARAM_X5.SUB$(OCTET_NUM - 1);

   6113  3 020324   200262 720100                    LXL0    OCTET_NUM,,AUTO
         3 020325   777777 236010 xsym               LDQ     MDS_PARAM_X5-1,X0
         3 020326   200216 756100                    STQ     OCTET$,,AUTO

     2808     6114    2      IF (OCTET_NUM > 0 AND OCTET_NUM < 6) THEN

   6114  3 020327   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 020330   020432 604400 3                  TMOZ    s:6125
         3 020331   000006 115007                    CMPA    6,DL
         3 020332   020432 605000 3                  TPL     s:6125

     2809     6115    3         DO;

     2810     6116    3           HEX_NUM = OCTET_NUM;

   6116  3 020333   200262 236100                    LDQ     OCTET_NUM,,AUTO
         3 020334   000034 736000                    QLS     28
         3 020335   200252 676100                    ERQ     HEX_NUM,,AUTO
         3 020336   776000 376003                    ANQ     -1024,DU
         3 020337   200252 656100                    ERSQ    HEX_NUM,,AUTO

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:524  
     2811     6117    3           CALL INSERT(MDS_TEXT, 17, 11, 'OCTET ', BINHEX(HEX_NIBBLE(0)),

   6117  3 020340   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 020341   000040 772000                    QRL     32
         3 020342   200534 756100                    STQ     CHIP#+2,,AUTO
         3 020343   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 020344   000034 772000                    QRL     28
         3 020345   000017 376007                    ANQ     15,DL
         3 020346   040100 100400                    MLR     fill='040'O
         3 020347   002156 000006 1                  ADSC9   BOARD_64K+687            cn=0,n=6
         3 020350   200321 200006                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=6
         3 020351   200534 235100                    LDA     CHIP#+2,,AUTO
         3 020352   040100 100405                    MLR     fill='040'O
         3 020353   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 020354   200322 600001                    ADSC9   MDS_TEXT+5,,AUTO         cn=3,n=1
         3 020355   040100 100406                    MLR     fill='040'O
         3 020356   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 020357   200323 000001                    ADSC9   MDS_TEXT+6,,AUTO         cn=0,n=1
         3 020360   002160 236000 1                  LDQ     BOARD_64K+689
         3 020361   000011 772000                    QRL     9
         3 020362   200323 552134                    STBQ    MDS_TEXT+6,'34'O,AUTO

     2812     6118    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     2813     6119    3           CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),

   6119  3 020363   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 020364   000003 735000                    ALS     3
         3 020365   020367 605000 3                  TPL     s:6119+4
         3 020366   000044 035003                    ADLA    36,DU
         3 020367   003100 061505                    CSR     bolr='003'O
         3 020370   200241 000004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=0,n=4
         3 020371   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 020372   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 020373   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 020374   000003 735000                    ALS     3
         3 020375   020377 605000 3                  TPL     s:6119+12
         3 020376   000044 035003                    ADLA    36,DU
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:525  
         3 020377   003100 061505                    CSR     bolr='003'O
         3 020400   200241 040004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=4,n=4
         3 020401   200535 000044                    BDSC    CHIP#+3,,AUTO            by=0,bit=0,n=36
         3 020402   200536 756100                    STQ     CHIP#+4,,AUTO
         3 020403   200535 236100                    LDQ     CHIP#+3,,AUTO
         3 020404   200536 235100                    LDA     CHIP#+4,,AUTO
         3 020405   040100 100405                    MLR     fill='040'O
         3 020406   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 020407   200324 000001                    ADSC9   MDS_TEXT+7,,AUTO         cn=0,n=1
         3 020410   040100 100406                    MLR     fill='040'O
         3 020411   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 020412   200324 200001                    ADSC9   MDS_TEXT+7,,AUTO         cn=1,n=1

     2814     6120    3                       BINHEX(OCTET_NIBBLE(2*OCTET_NUM +1)));
     2815     6121    3           XST_CNT = 30;

   6121  3 020413   000036 235007                    LDA     30,DL
         3 020414   200342 755100                    STA     XST_CNT,,AUTO

     2816     6122    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6122  3 020415   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 020416   200536 450500                    STP0    CHIP#+4,,AUTO
         3 020417   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 020420   200535 451500                    STP1    CHIP#+3,,AUTO
         3 020421   200300 633500                    EPPR3   XST$,,AUTO
         3 020422   200534 453500                    STP3    CHIP#+2,,AUTO
         3 020423   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 020424   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 020425   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 020426   000000 011000                    NOP     0

     2817     6123    3           NXST = NXST + 1;

   6123  3 020427   200343 235100                    LDA     NXST,,AUTO
         3 020430   000001 035007                    ADLA    1,DL
         3 020431   200343 755100                    STA     NXST,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:526  

     2818     6124    3         END;

     2819     6125    2      IF (OCTET_NUM = 1 OR OCTET_NUM = 2 OR OCTET_NUM = 5) THEN

   6125  3 020432   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 020433   000001 115007                    CMPA    1,DL
         3 020434   020441 600000 3                  TZE     s:6127
         3 020435   000002 115007                    CMPA    2,DL
         3 020436   020441 600000 3                  TZE     s:6127
         3 020437   000005 115007                    CMPA    5,DL
         3 020440   020552 601000 3                  TNZ     s:6142

     2820     6126    3         DO;

     2821     6127    3           PARAM_INDX = 0;

   6127  3 020441   200253 450100                    STZ     PARAM_INDX,,AUTO

     2822     6128    4           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) + 7);

   6128  3 020442   200010 236100                    LDQ     I,,AUTO
         3 020443   000012 402007                    MPY     10,DL
         3 020444   200215 470500                    LDP0    DEV$,,AUTO
         3 020445   000000 236106                    LDQ     0,QL,PR0
         3 020446   000030 772000                    QRL     24
         3 020447   007770 376007                    ANQ     4088,DL
         3 020450   200011 756100                    STQ     X,,AUTO
         3 020451   020532 710000 3                  TRA     s:6138+1

     2823     6129    4              IF (IO_MASK1(X)) AND (PARAM_TBL.COUNT(PARAM_INDX) > 1)

   6129  3 020452   200011 235100                    LDA     X,,AUTO
         3 020453   020455 605000 3                  TPL     s:6129+3
         3 020454   000044 035003                    ADLA    36,DU
         3 020455   000000 066505                    CMPB    filb='0'B
         3 020456   200221 000001                    BDSC    IO_MASK,A,AUTO           by=0,bit=0,n=1
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:527  
         3 020457   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 020460   020530 600000 3                  TZE     s:6137
         3 020461   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 020462   000014 402007                    MPY     12,DL
         3 020463   200216 470500                    LDP0    OCTET$,,AUTO
         3 020464   000000 236106                    LDQ     0,QL,PR0
         3 020465   777000 376003                    ANQ     -512,DU
         3 020466   002000 116003                    CMPQ    1024,DU
         3 020467   020530 602000 3                  TNC     s:6137

     2824     6130    5                 THEN DO;

     2825     6131    5                    MDS_TEXT = ' ';

   6131  3 020470   040100 100400                    MLR     fill='040'O
         3 020471   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 020472   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     2826     6132    5                    CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(PARAM_INDX), PARAM_TBL.
              6132                             TEXT(PARAM_INDX));

   6132  3 020473   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 020474   000014 402007                    MPY     12,DL
         3 020475   000000 236106                    LDQ     0,QL,PR0
         3 020476   000033 772000                    QRL     27
         3 020477   000000 620006                    EAX0    0,QL
         3 020500   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 020501   000060 402007                    MPY     48,DL
         3 020502   040140 100506                    MLR     fill='040'O
         3 020503   000000 200054                    ADSC9   0,Q,PR0                  cn=1,n=44
         3 020504   200321 200010                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=*X0

     2827     6133    5                    XST_CNT = PARAM_TBL.COUNT(PARAM_INDX) + 17;

   6133  3 020505   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 020506   000014 402007                    MPY     12,DL
         3 020507   000000 236106                    LDQ     0,QL,PR0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:528  
         3 020510   000033 772000                    QRL     27
         3 020511   000021 036007                    ADLQ    17,DL
         3 020512   200342 756100                    STQ     XST_CNT,,AUTO

     2828     6134    5                    CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6134  3 020513   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 020514   200536 451500                    STP1    CHIP#+4,,AUTO
         3 020515   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 020516   200535 453500                    STP3    CHIP#+3,,AUTO
         3 020517   200300 634500                    EPPR4   XST$,,AUTO
         3 020520   200534 454500                    STP4    CHIP#+2,,AUTO
         3 020521   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 020522   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 020523   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 020524   000000 011000                    NOP     0

     2829     6135    5                    NXST = NXST + 1;

   6135  3 020525   200343 235100                    LDA     NXST,,AUTO
         3 020526   000001 035007                    ADLA    1,DL
         3 020527   200343 755100                    STA     NXST,,AUTO

     2830     6136    5                 END;

     2831     6137    4              PARAM_INDX = PARAM_INDX + 1;

   6137  3 020530   200253 054100                    AOS     PARAM_INDX,,AUTO

     2832     6138    4           END;  /* DO X */

   6138  3 020531   200011 054100                    AOS     X,,AUTO
         3 020532   200010 236100                    LDQ     I,,AUTO
         3 020533   000012 402007                    MPY     10,DL
         3 020534   200215 470500                    LDP0    DEV$,,AUTO
         3 020535   000000 236106                    LDQ     0,QL,PR0
         3 020536   000030 772000                    QRL     24
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:529  
         3 020537   007770 376007                    ANQ     4088,DL
         3 020540   000007 036007                    ADLQ    7,DL
         3 020541   200011 116100                    CMPQ    X,,AUTO
         3 020542   020452 605000 3                  TPL     s:6129

     2833     6139    3           IF OCTET_NUM = 5 THEN PARAMETER_ID = 0;

   6139  3 020543   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 020544   000005 115007                    CMPA    5,DL
         3 020545   020550 601000 3                  TNZ     s:6140

   6139  3 020546   000452 236000 4                  LDQ     298
         3 020547   200254 356100                    ANSQ    PARAMETER_ID,,AUTO

     2834     6140    3           RETURN;

   6140  3 020550   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 020551   000001 702211                    TSX2  ! 1,X1

     2835     6141    3         END;
     2836     6142    2         ELSE RETURN;

   6142  3 020552   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 020553   000001 702211                    TSX2  ! 1,X1

     2837     6143    2   END DECODE_PARAM_X5;
     2838     6144        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:530  
     2839     6145        /**/
     2840     6146        /* PROCEDURE TO DECODE MACHINE EXCEPTION STATUS CODE FOR  MDS DISCS */
     2841     6147        /**/
     2842     6148    1   DECODE_PARAM_X6: PROC;

   6148  3 020554   200526 741300       DECODE_PARA* STX1  ! @BOARD,,AUTO

     2843     6149        /**/
     2844     6150    2      MDS_TEXT = ' ';

   6150  3 020555   040100 100400                    MLR     fill='040'O
         3 020556   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 020557   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     2845     6151    2      IF (OCTET_NUM > 0 AND OCTET_NUM < 7) THEN

   6151  3 020560   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 020561   020770 604400 3                  TMOZ    s:6175
         3 020562   000007 115007                    CMPA    7,DL
         3 020563   020770 605000 3                  TPL     s:6175

     2846     6152    3         DO;

     2847     6153    3           OCTET$ = MDS_PARAM_X6.SUB$(OCTET_NUM - 1);

   6153  3 020564   777777 236005 xsym               LDQ     MDS_PARAM_X6-1,AL
         3 020565   200216 756100                    STQ     OCTET$,,AUTO

     2848     6154    3           HEX_NUM = OCTET_NUM;

   6154  3 020566   200262 236100                    LDQ     OCTET_NUM,,AUTO
         3 020567   000034 736000                    QLS     28
         3 020570   200252 676100                    ERQ     HEX_NUM,,AUTO
         3 020571   776000 376003                    ANQ     -1024,DU
         3 020572   200252 656100                    ERSQ    HEX_NUM,,AUTO

     2849     6155    3           CALL INSERT(MDS_TEXT, 17, 11, 'OCTET ', BINHEX(HEX_NIBBLE(0)),
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:531  

   6155  3 020573   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 020574   000040 772000                    QRL     32
         3 020575   200534 756100                    STQ     CHIP#+2,,AUTO
         3 020576   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 020577   000034 772000                    QRL     28
         3 020600   000017 376007                    ANQ     15,DL
         3 020601   040100 100400                    MLR     fill='040'O
         3 020602   002156 000006 1                  ADSC9   BOARD_64K+687            cn=0,n=6
         3 020603   200321 200006                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=6
         3 020604   200534 235100                    LDA     CHIP#+2,,AUTO
         3 020605   040100 100405                    MLR     fill='040'O
         3 020606   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 020607   200322 600001                    ADSC9   MDS_TEXT+5,,AUTO         cn=3,n=1
         3 020610   040100 100406                    MLR     fill='040'O
         3 020611   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 020612   200323 000001                    ADSC9   MDS_TEXT+6,,AUTO         cn=0,n=1
         3 020613   002160 236000 1                  LDQ     BOARD_64K+689
         3 020614   000011 772000                    QRL     9
         3 020615   200323 552134                    STBQ    MDS_TEXT+6,'34'O,AUTO

     2850     6156    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     2851     6157    3           CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),

   6157  3 020616   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 020617   000003 735000                    ALS     3
         3 020620   020622 605000 3                  TPL     s:6157+4
         3 020621   000044 035003                    ADLA    36,DU
         3 020622   003100 061505                    CSR     bolr='003'O
         3 020623   200241 000004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=0,n=4
         3 020624   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 020625   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 020626   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 020627   000003 735000                    ALS     3
         3 020630   020632 605000 3                  TPL     s:6157+12
         3 020631   000044 035003                    ADLA    36,DU
         3 020632   003100 061505                    CSR     bolr='003'O
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:532  
         3 020633   200241 040004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=4,n=4
         3 020634   200535 000044                    BDSC    CHIP#+3,,AUTO            by=0,bit=0,n=36
         3 020635   200536 756100                    STQ     CHIP#+4,,AUTO
         3 020636   200535 236100                    LDQ     CHIP#+3,,AUTO
         3 020637   200536 235100                    LDA     CHIP#+4,,AUTO
         3 020640   040100 100405                    MLR     fill='040'O
         3 020641   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 020642   200324 000001                    ADSC9   MDS_TEXT+7,,AUTO         cn=0,n=1
         3 020643   040100 100406                    MLR     fill='040'O
         3 020644   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 020645   200324 200001                    ADSC9   MDS_TEXT+7,,AUTO         cn=1,n=1

     2852     6158    3                       BINHEX(OCTET_NIBBLE(2*OCTET_NUM +1)));
     2853     6159    3           XST_CNT = 30;

   6159  3 020646   000036 235007                    LDA     30,DL
         3 020647   200342 755100                    STA     XST_CNT,,AUTO

     2854     6160    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6160  3 020650   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 020651   200536 450500                    STP0    CHIP#+4,,AUTO
         3 020652   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 020653   200535 451500                    STP1    CHIP#+3,,AUTO
         3 020654   200300 633500                    EPPR3   XST$,,AUTO
         3 020655   200534 453500                    STP3    CHIP#+2,,AUTO
         3 020656   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 020657   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 020660   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 020661   000000 011000                    NOP     0

     2855     6161    3           NXST = NXST + 1;

   6161  3 020662   200343 235100                    LDA     NXST,,AUTO
         3 020663   000001 035007                    ADLA    1,DL
         3 020664   200343 755100                    STA     NXST,,AUTO

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:533  
     2856     6162    3           PARAM_INDX = 0;

   6162  3 020665   200253 450100                    STZ     PARAM_INDX,,AUTO

     2857     6163    4           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) + 7);

   6163  3 020666   200010 236100                    LDQ     I,,AUTO
         3 020667   000012 402007                    MPY     10,DL
         3 020670   200215 470500                    LDP0    DEV$,,AUTO
         3 020671   000000 236106                    LDQ     0,QL,PR0
         3 020672   000030 772000                    QRL     24
         3 020673   007770 376007                    ANQ     4088,DL
         3 020674   200011 756100                    STQ     X,,AUTO
         3 020675   020756 710000 3                  TRA     s:6173+1

     2858     6164    4              IF (IO_MASK1(X)) AND (PARAM_TBL.COUNT(PARAM_INDX) > 1)

   6164  3 020676   200011 235100                    LDA     X,,AUTO
         3 020677   020701 605000 3                  TPL     s:6164+3
         3 020700   000044 035003                    ADLA    36,DU
         3 020701   000000 066505                    CMPB    filb='0'B
         3 020702   200221 000001                    BDSC    IO_MASK,A,AUTO           by=0,bit=0,n=1
         3 020703   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 020704   020754 600000 3                  TZE     s:6172
         3 020705   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 020706   000014 402007                    MPY     12,DL
         3 020707   200216 470500                    LDP0    OCTET$,,AUTO
         3 020710   000000 236106                    LDQ     0,QL,PR0
         3 020711   777000 376003                    ANQ     -512,DU
         3 020712   002000 116003                    CMPQ    1024,DU
         3 020713   020754 602000 3                  TNC     s:6172

     2859     6165    5                 THEN DO;

     2860     6166    5                    MDS_TEXT = ' ';

   6166  3 020714   040100 100400                    MLR     fill='040'O
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:534  
         3 020715   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 020716   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     2861     6167    5                    CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(PARAM_INDX), PARAM_TBL.
              6167                             TEXT(PARAM_INDX));

   6167  3 020717   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 020720   000014 402007                    MPY     12,DL
         3 020721   000000 236106                    LDQ     0,QL,PR0
         3 020722   000033 772000                    QRL     27
         3 020723   000000 620006                    EAX0    0,QL
         3 020724   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 020725   000060 402007                    MPY     48,DL
         3 020726   040140 100506                    MLR     fill='040'O
         3 020727   000000 200054                    ADSC9   0,Q,PR0                  cn=1,n=44
         3 020730   200321 200010                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=*X0

     2862     6168    5                    XST_CNT = PARAM_TBL.COUNT(PARAM_INDX) + 17;

   6168  3 020731   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 020732   000014 402007                    MPY     12,DL
         3 020733   000000 236106                    LDQ     0,QL,PR0
         3 020734   000033 772000                    QRL     27
         3 020735   000021 036007                    ADLQ    17,DL
         3 020736   200342 756100                    STQ     XST_CNT,,AUTO

     2863     6169    5                    CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6169  3 020737   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 020740   200536 451500                    STP1    CHIP#+4,,AUTO
         3 020741   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 020742   200535 453500                    STP3    CHIP#+3,,AUTO
         3 020743   200300 634500                    EPPR4   XST$,,AUTO
         3 020744   200534 454500                    STP4    CHIP#+2,,AUTO
         3 020745   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 020746   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 020747   000000 701000 xent               TSX1    THF$ADD_TEXTC
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:535  
         3 020750   000000 011000                    NOP     0

     2864     6170    5                    NXST = NXST + 1;

   6170  3 020751   200343 235100                    LDA     NXST,,AUTO
         3 020752   000001 035007                    ADLA    1,DL
         3 020753   200343 755100                    STA     NXST,,AUTO

     2865     6171    5                 END;

     2866     6172    4              PARAM_INDX = PARAM_INDX + 1;

   6172  3 020754   200253 054100                    AOS     PARAM_INDX,,AUTO

     2867     6173    4           END;  /* DO X */

   6173  3 020755   200011 054100                    AOS     X,,AUTO
         3 020756   200010 236100                    LDQ     I,,AUTO
         3 020757   000012 402007                    MPY     10,DL
         3 020760   200215 470500                    LDP0    DEV$,,AUTO
         3 020761   000000 236106                    LDQ     0,QL,PR0
         3 020762   000030 772000                    QRL     24
         3 020763   007770 376007                    ANQ     4088,DL
         3 020764   000007 036007                    ADLQ    7,DL
         3 020765   200011 116100                    CMPQ    X,,AUTO
         3 020766   020676 605000 3                  TPL     s:6164

     2868     6174    3         END;  /* OCTET_NUM = 1 TO 6 */

   6174  3 020767   021771 710000 3                  TRA     s:6317

     2869     6175    2      ELSE IF OCTET_NUM = 7 THEN

   6175  3 020770   000007 115007                    CMPA    7,DL
         3 020771   021052 601000 3                  TNZ     s:6187

     2870     6176    3         DO;                           /* DRIVE ENDING STATUS */
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:536  

     2871     6177    3           CALL INSERT(MDS_TEXT, 17, 44,

   6177  3 020772   040100 100400                    MLR     fill='040'O
         3 020773   002200 000054 1                  ADSC9   BOARD_64K+705            cn=0,n=44
         3 020774   200321 200054                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=44

     2872     6178    3                       'OCTET 07 TO 08 = 0000  - DRIVE ENDING STATUS');
     2873     6179    3           CALL INSERT(MDS_TEXT, 34, 4, BINHEX(OCTET_NIBBLE(14)),

   6179  3 020775   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 020776   000014 772000                    QRL     12
         3 020777   000017 376007                    ANQ     15,DL
         3 021000   200534 756100                    STQ     CHIP#+2,,AUTO
         3 021001   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 021002   000010 772000                    QRL     8
         3 021003   000017 376007                    ANQ     15,DL
         3 021004   200535 756100                    STQ     CHIP#+3,,AUTO
         3 021005   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 021006   000004 772000                    QRL     4
         3 021007   000017 376007                    ANQ     15,DL
         3 021010   200536 756100                    STQ     CHIP#+4,,AUTO
         3 021011   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 021012   000017 376007                    ANQ     15,DL
         3 021013   200534 235100                    LDA     CHIP#+2,,AUTO
         3 021014   040100 100405                    MLR     fill='040'O
         3 021015   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 021016   200325 400001                    ADSC9   MDS_TEXT+8,,AUTO         cn=2,n=1
         3 021017   200535 235100                    LDA     CHIP#+3,,AUTO
         3 021020   040100 100405                    MLR     fill='040'O
         3 021021   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 021022   200325 600001                    ADSC9   MDS_TEXT+8,,AUTO         cn=3,n=1
         3 021023   200536 235100                    LDA     CHIP#+4,,AUTO
         3 021024   040100 100405                    MLR     fill='040'O
         3 021025   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 021026   200326 000001                    ADSC9   MDS_TEXT+9,,AUTO         cn=0,n=1
         3 021027   040100 100406                    MLR     fill='040'O
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:537  
         3 021030   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 021031   200326 200001                    ADSC9   MDS_TEXT+9,,AUTO         cn=1,n=1

     2874     6180    3                                        BINHEX(OCTET_NIBBLE(15)),
     2875     6181    3                                        BINHEX(OCTET_NIBBLE(16)),
     2876     6182    3                                        BINHEX(OCTET_NIBBLE(17)));
     2877     6183    3           XST_CNT = 61;

   6183  3 021032   000075 235007                    LDA     61,DL
         3 021033   200342 755100                    STA     XST_CNT,,AUTO

     2878     6184    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6184  3 021034   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 021035   200536 450500                    STP0    CHIP#+4,,AUTO
         3 021036   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 021037   200535 451500                    STP1    CHIP#+3,,AUTO
         3 021040   200300 633500                    EPPR3   XST$,,AUTO
         3 021041   200534 453500                    STP3    CHIP#+2,,AUTO
         3 021042   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 021043   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 021044   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 021045   000000 011000                    NOP     0

     2879     6185    3           NXST = NXST + 1;

   6185  3 021046   200343 235100                    LDA     NXST,,AUTO
         3 021047   000001 035007                    ADLA    1,DL
         3 021050   200343 755100                    STA     NXST,,AUTO

     2880     6186    3         END;  /* OCTET 7 */

   6186  3 021051   021771 710000 3                  TRA     s:6317

     2881     6187    2      ELSE IF OCTET_NUM = 8 THEN

   6187  3 021052   000010 115007                    CMPA    8,DL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:538  
         3 021053   021064 601000 3                  TNZ     s:6192

     2882     6188    3         DO;

     2883     6189    3           MDS_STATUS_REG1 = OCTET_BYTE(8);

   6189  3 021054   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 021055   000034 736000                    QLS     28
         3 021056   200256 676100                    ERQ     MDS_STATUS_REG1,,AUTO
         3 021057   776000 376003                    ANQ     -1024,DU
         3 021060   200256 656100                    ERSQ    MDS_STATUS_REG1,,AUTO

     2884     6190    3           CALL DECODE_DRIVE_STAT;

   6190  3 021061   025046 701000 3                  TSX1    DECODE_DRIVE_STAT
         3 021062   000000 011000                    NOP     0

     2885     6191    3         END;  /* OCTET_NUM = 8 */

   6191  3 021063   021771 710000 3                  TRA     s:6317

     2886     6192    2      ELSE IF OCTET_NUM = 9 THEN     /* OCTETS 9 & A - CMD ENDING STATUS */

   6192  3 021064   000011 115007                    CMPA    9,DL
         3 021065   021241 601000 3                  TNZ     s:6217

     2887     6193    3         DO;

     2888     6194    3           CALL INSERT(MDS_TEXT, 17, 47,

   6194  3 021066   040100 100400                    MLR     fill='040'O
         3 021067   002213 000057 1                  ADSC9   BOARD_64K+716            cn=0,n=47
         3 021070   200321 200057                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=47

     2889     6195    3                       'OCTETS 09 TO 0A = 0000  - COMMAND ENDING STATUS');
     2890     6196    3           CALL INSERT(MDS_TEXT, 35, 4, BINHEX(OCTET_NIBBLE(18)),

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:539  
   6196  3 021071   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
         3 021072   000040 772000                    QRL     32
         3 021073   200534 756100                    STQ     CHIP#+2,,AUTO
         3 021074   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
         3 021075   000034 772000                    QRL     28
         3 021076   000017 376007                    ANQ     15,DL
         3 021077   200535 756100                    STQ     CHIP#+3,,AUTO
         3 021100   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
         3 021101   000030 772000                    QRL     24
         3 021102   000017 376007                    ANQ     15,DL
         3 021103   200536 756100                    STQ     CHIP#+4,,AUTO
         3 021104   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
         3 021105   000024 772000                    QRL     20
         3 021106   000017 376007                    ANQ     15,DL
         3 021107   200534 235100                    LDA     CHIP#+2,,AUTO
         3 021110   040100 100405                    MLR     fill='040'O
         3 021111   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 021112   200325 600001                    ADSC9   MDS_TEXT+8,,AUTO         cn=3,n=1
         3 021113   200535 235100                    LDA     CHIP#+3,,AUTO
         3 021114   040100 100405                    MLR     fill='040'O
         3 021115   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 021116   200326 000001                    ADSC9   MDS_TEXT+9,,AUTO         cn=0,n=1
         3 021117   200536 235100                    LDA     CHIP#+4,,AUTO
         3 021120   040100 100405                    MLR     fill='040'O
         3 021121   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 021122   200326 200001                    ADSC9   MDS_TEXT+9,,AUTO         cn=1,n=1
         3 021123   040100 100406                    MLR     fill='040'O
         3 021124   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 021125   200326 400001                    ADSC9   MDS_TEXT+9,,AUTO         cn=2,n=1

     2891     6197    3                                        BINHEX(OCTET_NIBBLE(19)),
     2892     6198    3                                        BINHEX(OCTET_NIBBLE(20)),
     2893     6199    3                                        BINHEX(OCTET_NIBBLE(21)));
     2894     6200    3           XST_CNT = 64;

   6200  3 021126   000100 235007                    LDA     64,DL
         3 021127   200342 755100                    STA     XST_CNT,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:540  

     2895     6201    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6201  3 021130   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 021131   200536 450500                    STP0    CHIP#+4,,AUTO
         3 021132   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 021133   200535 451500                    STP1    CHIP#+3,,AUTO
         3 021134   200300 633500                    EPPR3   XST$,,AUTO
         3 021135   200534 453500                    STP3    CHIP#+2,,AUTO
         3 021136   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 021137   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 021140   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 021141   000000 011000                    NOP     0

     2896     6202    3           NXST = NXST + 1;

   6202  3 021142   200343 235100                    LDA     NXST,,AUTO
         3 021143   000001 035007                    ADLA    1,DL
         3 021144   200343 755100                    STA     NXST,,AUTO

     2897     6203    3           MDS_STATUS_REG2(0) = OCTET_BYTE(9);

   6203  3 021145   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
         3 021146   200257 676100                    ERQ     MDS_STATUS_REG2,,AUTO
         3 021147   776000 376003                    ANQ     -1024,DU
         3 021150   200257 656100                    ERSQ    MDS_STATUS_REG2,,AUTO

     2898     6204    4           DO X = 0 TO 48;              /* DECODE CMD IDENTIFIER */

   6204  3 021151   200011 450100                    STZ     X,,AUTO

     2899     6205    4              IF MDS_CMD_ENDING_STAT.CMD_IDENT = MDS_CMD_IDENT.CODE(X) THEN

   6205  3 021152   200011 236100                    LDQ     X,,AUTO
         3 021153   000014 402007                    MPY     12,DL
         3 021154   000000 236006 xsym               LDQ     MDS_CMD_IDENT,QL
         3 021155   000033 772000                    QRL     27
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:541  
         3 021156   200534 756100                    STQ     CHIP#+2,,AUTO
         3 021157   200257 236100                    LDQ     MDS_STATUS_REG2,,AUTO
         3 021160   000034 772000                    QRL     28
         3 021161   200534 116100                    CMPQ    CHIP#+2,,AUTO
         3 021162   021234 601000 3                  TNZ     s:6215

     2900     6206    5                 DO;

     2901     6207    5                   MDS_TEXT = ' ';

   6207  3 021163   040100 100400                    MLR     fill='040'O
         3 021164   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 021165   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     2902     6208    5                   CALL INSERT(MDS_TEXT,19,MDS_CMD_IDENT.COUNT(X) + 19,

   6208  3 021166   200011 236100                    LDQ     X,,AUTO
         3 021167   000014 402007                    MPY     12,DL
         3 021170   000000 220006 xsym               LDX0    MDS_CMD_IDENT,QL
         3 021171   000777 360003                    ANX0    511,DU
         3 021172   000023 621010                    EAX1    19,X0
         3 021173   040140 100400                    MLR     fill='040'O
         3 021174   002227 000023 1                  ADSC9   BOARD_64K+728            cn=0,n=19
         3 021175   200321 600011                    ADSC9   MDS_TEXT+4,,AUTO         cn=3,n=*X1
         3 021176   000000 636011                    EAQ     0,X1
         3 021177   000022 772000                    QRL     18
         3 021200   000024 116007                    CMPQ    20,DL
         3 021201   021210 602000 3                  TNC     s:6211
         3 021202   200011 236100                    LDQ     X,,AUTO
         3 021203   000060 402007                    MPY     48,DL
         3 021204   777755 620011                    EAX0    -19,X1
         3 021205   040140 100406                    MLR     fill='040'O
         3 021206   000000 400054 xsym               ADSC9   MDS_CMD_IDENT,Q          cn=2,n=44
         3 021207   200326 400010                    ADSC9   MDS_TEXT+9,,AUTO         cn=2,n=*X0

     2903     6209    5                               'COMMAND IDENTIFIER:',
     2904     6210    5                               MDS_CMD_IDENT.TEXT(X));
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:542  
     2905     6211    5                   XST_CNT = MDS_CMD_IDENT.COUNT(X) + 38;

   6211  3 021210   200011 236100                    LDQ     X,,AUTO
         3 021211   000014 402007                    MPY     12,DL
         3 021212   000000 236006 xsym               LDQ     MDS_CMD_IDENT,QL
         3 021213   000022 772000                    QRL     18
         3 021214   000777 376007                    ANQ     511,DL
         3 021215   000046 036007                    ADLQ    38,DL
         3 021216   200342 756100                    STQ     XST_CNT,,AUTO

     2906     6212    5                   CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6212  3 021217   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 021220   200536 450500                    STP0    CHIP#+4,,AUTO
         3 021221   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 021222   200535 451500                    STP1    CHIP#+3,,AUTO
         3 021223   200300 633500                    EPPR3   XST$,,AUTO
         3 021224   200534 453500                    STP3    CHIP#+2,,AUTO
         3 021225   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 021226   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 021227   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 021230   000000 011000                    NOP     0

     2907     6213    5                   NXST = NXST + 1;

   6213  3 021231   200343 235100                    LDA     NXST,,AUTO
         3 021232   000001 035007                    ADLA    1,DL
         3 021233   200343 755100                    STA     NXST,,AUTO

     2908     6214    5                 END;

     2909     6215    4           END;  /* DO X */

   6215  3 021234   200011 054100                    AOS     X,,AUTO
         3 021235   200011 235100                    LDA     X,,AUTO
         3 021236   000060 115007                    CMPA    48,DL
         3 021237   021152 604400 3                  TMOZ    s:6205
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:543  

     2910     6216    3         END;    /* OCTET 9 */

   6216  3 021240   021771 710000 3                  TRA     s:6317

     2911     6217    2      ELSE IF OCTET_NUM = 10 THEN

   6217  3 021241   000012 115007                    CMPA    10,DL
         3 021242   021261 601000 3                  TNZ     s:6227

     2912     6218    3         DO;                          /* DECODE ERROR CODE */

     2913     6219    3           MDS_STATUS_REG2(1) = OCTET_BYTE(10);

   6219  3 021243   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
         3 021244   200257 676100                    ERQ     MDS_STATUS_REG2,,AUTO
         3 021245   001774 376003                    ANQ     1020,DU
         3 021246   200257 656100                    ERSQ    MDS_STATUS_REG2,,AUTO

     2914     6220    3           CALL DECODE_CMD_STAT;

   6220  3 021247   025266 701000 3                  TSX1    DECODE_CMD_STAT
         3 021250   000000 011000                    NOP     0

     2915     6221    3           IF PARAMETER_LENGTH = %HEX_0B    /* TEST FOR SHORT PARAMETER */

   6221  3 021251   200255 236100                    LDQ     PARAMETER_LENGTH,,AUTO
         3 021252   776000 376003                    ANQ     -1024,DU
         3 021253   026000 116003                    CMPQ    11264,DU
         3 021254   021771 601000 3                  TNZ     s:6317

     2916     6222    4              THEN DO;

     2917     6223    4                 CALL DECODE_PARAM_3X;

   6223  3 021255   025672 701000 3                  TSX1    DECODE_PARAM_3X
         3 021256   000000 011000                    NOP     0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:544  

     2918     6224    4                 RETURN;

   6224  3 021257   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 021260   000001 702211                    TSX2  ! 1,X1

     2919     6225    4              END;
     2920     6226    3         END;    /* OCTET_NUM = 10 */
     2921     6227    2      ELSE IF OCTET_NUM = 11 THEN

   6227  3 021261   000013 115007                    CMPA    11,DL
         3 021262   021417 601000 3                  TNZ     s:6253

     2922     6228    3         DO;

     2923     6229    3           CALL INSERT(MDS_TEXT, 17, 43,

   6229  3 021263   040100 100400                    MLR     fill='040'O
         3 021264   002234 000053 1                  ADSC9   BOARD_64K+733            cn=0,n=43
         3 021265   200321 200053                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=43

     2924     6230    3                       'OCTET 0B = 00 -- DRIVE''S STATUS/ERROR CODES');
     2925     6231    3           CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(22)),

   6231  3 021266   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
         3 021267   000020 772000                    QRL     16
         3 021270   000017 376007                    ANQ     15,DL
         3 021271   200534 756100                    STQ     CHIP#+2,,AUTO
         3 021272   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
         3 021273   000014 772000                    QRL     12
         3 021274   000017 376007                    ANQ     15,DL
         3 021275   200534 235100                    LDA     CHIP#+2,,AUTO
         3 021276   040100 100405                    MLR     fill='040'O
         3 021277   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 021300   200324 000001                    ADSC9   MDS_TEXT+7,,AUTO         cn=0,n=1
         3 021301   040100 100406                    MLR     fill='040'O
         3 021302   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:545  
         3 021303   200324 200001                    ADSC9   MDS_TEXT+7,,AUTO         cn=1,n=1

     2926     6232    3                                        BINHEX(OCTET_NIBBLE(23)));
     2927     6233    3           XST_CNT = 60;

   6233  3 021304   000074 235007                    LDA     60,DL
         3 021305   200342 755100                    STA     XST_CNT,,AUTO

     2928     6234    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6234  3 021306   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 021307   200536 450500                    STP0    CHIP#+4,,AUTO
         3 021310   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 021311   200535 451500                    STP1    CHIP#+3,,AUTO
         3 021312   200300 633500                    EPPR3   XST$,,AUTO
         3 021313   200534 453500                    STP3    CHIP#+2,,AUTO
         3 021314   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 021315   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 021316   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 021317   000000 011000                    NOP     0

     2929     6235    3           NXST = NXST + 1;

   6235  3 021320   200343 235100                    LDA     NXST,,AUTO
         3 021321   000001 035007                    ADLA    1,DL
         3 021322   200343 755100                    STA     NXST,,AUTO

     2930     6236    3           IF EL$IOERR.MODEL = 'MSU8092' THEN

   6236  3 021323   200005 470500                    LDP0    INFO+1,,AUTO
         3 021324   040000 106500                    CMPC    fill='040'O
         3 021325   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 021326   002247 000007 1                  ADSC9   BOARD_64K+744            cn=0,n=7
         3 021327   021771 601000 3                  TNZ     s:6317

     2931     6237    4              DO;                       /* DECODE STATUS FOR MDS II DISC */

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:546  
     2932     6238    4                MDS_TBL$ = ADDR(MDSII_STATUS);

   6238  3 021330   000453 236000 4                  LDQ     299
         3 021331   200217 756100                    STQ     MDS_TBL$,,AUTO

     2933     6239    4                MAX_ENTRY = %MDSII_MAX_STATUS;

   6239  3 021332   000032 235007                    LDA     26,DL
         3 021333   200261 755100                    STA     MAX_ENTRY,,AUTO

     2934     6240    5                DO X = 0 TO MAX_ENTRY;

   6240  3 021334   200011 450100                    STZ     X,,AUTO
         3 021335   021412 710000 3                  TRA     s:6250+1

     2935     6241    5                   IF OCTET_BYTE(11) = MDS_TBL.CODE(X) THEN

   6241  3 021336   200011 236100                    LDQ     X,,AUTO
         3 021337   000014 402007                    MPY     12,DL
         3 021340   200217 470500                    LDP0    MDS_TBL$,,AUTO
         3 021341   000000 236106                    LDQ     0,QL,PR0
         3 021342   000033 772000                    QRL     27
         3 021343   200534 756100                    STQ     CHIP#+2,,AUTO
         3 021344   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
         3 021345   000014 772000                    QRL     12
         3 021346   000377 376007                    ANQ     255,DL
         3 021347   200534 116100                    CMPQ    CHIP#+2,,AUTO
         3 021350   021411 601000 3                  TNZ     s:6250

     2936     6242    6                      DO;

     2937     6243    6                        MDS_TEXT = ' ';

   6243  3 021351   040100 100400                    MLR     fill='040'O
         3 021352   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 021353   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:547  
     2938     6244    6                        CALL INSERT(MDS_TEXT, 19, MDS_TBL.COUNT(X),

   6244  3 021354   200011 236100                    LDQ     X,,AUTO
         3 021355   000014 402007                    MPY     12,DL
         3 021356   000000 220106                    LDX0    0,QL,PR0
         3 021357   000777 360003                    ANX0    511,DU
         3 021360   200011 236100                    LDQ     X,,AUTO
         3 021361   000060 402007                    MPY     48,DL
         3 021362   040140 100506                    MLR     fill='040'O
         3 021363   000000 400054                    ADSC9   0,Q,PR0                  cn=2,n=44
         3 021364   200321 600010                    ADSC9   MDS_TEXT+4,,AUTO         cn=3,n=*X0

     2939     6245    6                                    MDS_TBL.TEXT(X));
     2940     6246    6                        XST_CNT = MDS_TBL.COUNT(X) + 19;

   6246  3 021365   200011 236100                    LDQ     X,,AUTO
         3 021366   000014 402007                    MPY     12,DL
         3 021367   000000 236106                    LDQ     0,QL,PR0
         3 021370   000022 772000                    QRL     18
         3 021371   000777 376007                    ANQ     511,DL
         3 021372   000023 036007                    ADLQ    19,DL
         3 021373   200342 756100                    STQ     XST_CNT,,AUTO

     2941     6247    6                        CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6247  3 021374   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 021375   200536 451500                    STP1    CHIP#+4,,AUTO
         3 021376   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 021377   200535 453500                    STP3    CHIP#+3,,AUTO
         3 021400   200300 634500                    EPPR4   XST$,,AUTO
         3 021401   200534 454500                    STP4    CHIP#+2,,AUTO
         3 021402   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 021403   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 021404   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 021405   000000 011000                    NOP     0

     2942     6248    6                        NXST = NXST + 1;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:548  

   6248  3 021406   200343 235100                    LDA     NXST,,AUTO
         3 021407   000001 035007                    ADLA    1,DL
         3 021410   200343 755100                    STA     NXST,,AUTO

     2943     6249    6                      END;

     2944     6250    5                END;  /* DO X */

   6250  3 021411   200011 054100                    AOS     X,,AUTO
         3 021412   200261 236100                    LDQ     MAX_ENTRY,,AUTO
         3 021413   021336 604000 3                  TMI     s:6241
         3 021414   200011 116100                    CMPQ    X,,AUTO
         3 021415   021336 605000 3                  TPL     s:6241

     2945     6251    4              END;  /* MODEL = MSU8092 */

     2946     6252    3         END;

   6252  3 021416   021771 710000 3                  TRA     s:6317

     2947     6253    2      ELSE IF OCTET_NUM = 12 THEN

   6253  3 021417   000014 115007                    CMPA    12,DL
         3 021420   021622 601000 3                  TNZ     s:6285

     2948     6254    3         DO;

     2949     6255    4           DO X = 0 TO 3;

   6255  3 021421   200011 450100                    STZ     X,,AUTO

     2950     6256    4              FRU_STRING.OCTET.NIB1(X) = BINHEX(OCTET_NIBBLE(2 * X + 24));

   6256  3 021422   200011 235100                    LDA     X,,AUTO
         3 021423   000003 735000                    ALS     3
         3 021424   021426 605000 3                  TPL     s:6256+4
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:549  
         3 021425   000044 035003                    ADLA    36,DU
         3 021426   003100 061505                    CSR     bolr='003'O
         3 021427   200243 460004                    BDSC    OCTET_BYTE+2,A,AUTO      by=2,bit=6,n=4
         3 021430   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 021431   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 021432   200535 756100                    STQ     CHIP#+3,,AUTO
         3 021433   200011 236100                    LDQ     X,,AUTO
         3 021434   000003 402007                    MPY     3,DL
         3 021435   200535 235100                    LDA     CHIP#+3,,AUTO
         3 021436   040006 100405                    MLR     fill='040'O
         3 021437   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 021440   000066 000001 2                  ADSC9   FRU_STRING+1,Q           cn=0,n=1

     2951     6257    4              FRU_STRING.OCTET.NIB2(X) = BINHEX(OCTET_NIBBLE(2 * X + 25));

   6257  3 021441   200011 235100                    LDA     X,,AUTO
         3 021442   000003 735000                    ALS     3
         3 021443   021445 605000 3                  TPL     s:6257+4
         3 021444   000044 035003                    ADLA    36,DU
         3 021445   003100 061505                    CSR     bolr='003'O
         3 021446   200243 610004                    BDSC    OCTET_BYTE+2,A,AUTO      by=3,bit=1,n=4
         3 021447   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 021450   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 021451   200535 756100                    STQ     CHIP#+3,,AUTO
         3 021452   200011 236100                    LDQ     X,,AUTO
         3 021453   000003 402007                    MPY     3,DL
         3 021454   200535 235100                    LDA     CHIP#+3,,AUTO
         3 021455   040006 100405                    MLR     fill='040'O
         3 021456   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 021457   000066 200001 2                  ADSC9   FRU_STRING+1,Q           cn=1,n=1

     2952     6258    4           END;  /* DO X */

   6258  3 021460   200011 054100                    AOS     X,,AUTO
         3 021461   200011 235100                    LDA     X,,AUTO
         3 021462   000003 115007                    CMPA    3,DL
         3 021463   021422 604400 3                  TMOZ    s:6256
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:550  

     2953     6259    3           CALL INSERT(MDS_TEXT, 17, 39, 'OCTETS 1B TO 1E', FRU_STR, '  - FRUS');

   6259  3 021464   040100 100400                    MLR     fill='040'O
         3 021465   002251 000017 1                  ADSC9   BOARD_64K+746            cn=0,n=15
         3 021466   200321 200017                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=15
         3 021467   040100 100400                    MLR     fill='040'O
         3 021470   000065 000020 2                  ADSC9   FRU_STRING               cn=0,n=16
         3 021471   200325 000020                    ADSC9   MDS_TEXT+8,,AUTO         cn=0,n=16
         3 021472   040100 100400                    MLR     fill='040'O
         3 021473   002255 000010 1                  ADSC9   BOARD_64K+750            cn=0,n=8
         3 021474   200331 000010                    ADSC9   MDS_TEXT+12,,AUTO        cn=0,n=8

     2954     6260    3           XST_CNT = 56;

   6260  3 021475   000070 235007                    LDA     56,DL
         3 021476   200342 755100                    STA     XST_CNT,,AUTO

     2955     6261    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6261  3 021477   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 021500   200536 450500                    STP0    CHIP#+4,,AUTO
         3 021501   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 021502   200535 451500                    STP1    CHIP#+3,,AUTO
         3 021503   200300 633500                    EPPR3   XST$,,AUTO
         3 021504   200534 453500                    STP3    CHIP#+2,,AUTO
         3 021505   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 021506   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 021507   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 021510   000000 011000                    NOP     0

     2956     6262    3           NXST = NXST + 1;

   6262  3 021511   200343 235100                    LDA     NXST,,AUTO
         3 021512   000001 035007                    ADLA    1,DL
         3 021513   200343 755100                    STA     NXST,,AUTO

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:551  
     2957     6263    3           IF EL$IOERR.MODEL = 'MSU8092' THEN

   6263  3 021514   200005 470500                    LDP0    INFO+1,,AUTO
         3 021515   040000 106500                    CMPC    fill='040'O
         3 021516   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 021517   002247 000007 1                  ADSC9   BOARD_64K+744            cn=0,n=7
         3 021520   021526 601000 3                  TNZ     s:6269

     2958     6264    4              DO;

     2959     6265    4                MAX_ENTRY = %MDSII_MAX_FRUS;

   6265  3 021521   000010 236007                    LDQ     8,DL
         3 021522   200261 756100                    STQ     MAX_ENTRY,,AUTO

     2960     6266    4                MDS_TBL$ = ADDR(MDSII_FRUS);

   6266  3 021523   000454 236000 4                  LDQ     300
         3 021524   200217 756100                    STQ     MDS_TBL$,,AUTO

     2961     6267    4              END;

   6267  3 021525   021532 710000 3                  TRA     s:6272

     2962     6268    4              ELSE DO;

     2963     6269    4                MAX_ENTRY = %MDSI_MAX_FRUS;

   6269  3 021526   000017 236007                    LDQ     15,DL
         3 021527   200261 756100                    STQ     MAX_ENTRY,,AUTO

     2964     6270    4                MDS_TBL$ = ADDR(MDSI_FRUS);

   6270  3 021530   000455 236000 4                  LDQ     301
         3 021531   200217 756100                    STQ     MDS_TBL$,,AUTO

     2965     6271    4              END;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:552  

     2966     6272    4           DO X = 12 TO 15;

   6272  3 021532   000014 235007                    LDA     12,DL
         3 021533   200011 755100                    STA     X,,AUTO

     2967     6273    4              F_INDX = OCTET_BYTE(X);

   6273  3 021534   200011 235100                    LDA     X,,AUTO
         3 021535   000003 735000                    ALS     3
         3 021536   021540 605000 3                  TPL     s:6273+4
         3 021537   000044 035003                    ADLA    36,DU
         3 021540   003100 060505                    CSL     bolr='003'O
         3 021541   200241 000010                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=0,n=8
         3 021542   200260 000010                    BDSC    F_INDX,,AUTO             by=0,bit=0,n=8

     2968     6274    4              IF (FRU_INDX(1) >0 AND FRU_INDX(1) <= MAX_ENTRY) THEN

   6274  3 021543   200260 236100                    LDQ     F_INDX,,AUTO
         3 021544   036000 316003                    CANQ    15360,DU
         3 021545   021615 600000 3                  TZE     s:6283
         3 021546   200260 236100                    LDQ     F_INDX,,AUTO
         3 021547   000034 772000                    QRL     28
         3 021550   000017 376007                    ANQ     15,DL
         3 021551   200261 116100                    CMPQ    MAX_ENTRY,,AUTO
         3 021552   021554 600000 3                  TZE     s:6276
         3 021553   021615 603000 3                  TRC     s:6283

     2969     6275    5                DO;

     2970     6276    5                  MDS_TEXT = ' ';

   6276  3 021554   040100 100400                    MLR     fill='040'O
         3 021555   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 021556   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     2971     6277    5                  CALL INSERT(MDS_TEXT, 19, MDS_TBL.COUNT(FRU_INDX(1)),
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:553  

   6277  3 021557   000014 402007                    MPY     12,DL
         3 021560   200217 470500                    LDP0    MDS_TBL$,,AUTO
         3 021561   000000 220106                    LDX0    0,QL,PR0
         3 021562   000777 360003                    ANX0    511,DU
         3 021563   000002 736000                    QLS     2
         3 021564   040140 100506                    MLR     fill='040'O
         3 021565   000000 400054                    ADSC9   0,Q,PR0                  cn=2,n=44
         3 021566   200321 600010                    ADSC9   MDS_TEXT+4,,AUTO         cn=3,n=*X0

     2972     6278    5                              MDS_TBL.TEXT(FRU_INDX(1)));
     2973     6279    5                  XST_CNT = MDS_TBL.COUNT(FRU_INDX(1)) + 19;

   6279  3 021567   200260 236100                    LDQ     F_INDX,,AUTO
         3 021570   000034 772000                    QRL     28
         3 021571   000017 376007                    ANQ     15,DL
         3 021572   000014 402007                    MPY     12,DL
         3 021573   000000 236106                    LDQ     0,QL,PR0
         3 021574   000022 772000                    QRL     18
         3 021575   000777 376007                    ANQ     511,DL
         3 021576   000023 036007                    ADLQ    19,DL
         3 021577   200342 756100                    STQ     XST_CNT,,AUTO

     2974     6280    5                  CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6280  3 021600   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 021601   200536 451500                    STP1    CHIP#+4,,AUTO
         3 021602   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 021603   200535 453500                    STP3    CHIP#+3,,AUTO
         3 021604   200300 634500                    EPPR4   XST$,,AUTO
         3 021605   200534 454500                    STP4    CHIP#+2,,AUTO
         3 021606   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 021607   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 021610   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 021611   000000 011000                    NOP     0

     2975     6281    5                  NXST = NXST + 1;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:554  

   6281  3 021612   200343 235100                    LDA     NXST,,AUTO
         3 021613   000001 035007                    ADLA    1,DL
         3 021614   200343 755100                    STA     NXST,,AUTO

     2976     6282    5                END;

     2977     6283    4           END;  /* DO X */

   6283  3 021615   200011 054100                    AOS     X,,AUTO
         3 021616   200011 235100                    LDA     X,,AUTO
         3 021617   000017 115007                    CMPA    15,DL
         3 021620   021534 604400 3                  TMOZ    s:6273

     2978     6284    3         END;    /* DO OCTET_NUM = 12 */

   6284  3 021621   021771 710000 3                  TRA     s:6317

     2979     6285    2      ELSE IF OCTET_NUM = 16 THEN

   6285  3 021622   000020 115007                    CMPA    16,DL
         3 021623   021770 601000 3                  TNZ     s:6316

     2980     6286    3         DO;

     2981     6287    3           CALL INSERT(MDS_TEXT,17,27,'OCTET 1F = 00 -- FAULT CODE');

   6287  3 021624   040100 100400                    MLR     fill='040'O
         3 021625   002257 000033 1                  ADSC9   BOARD_64K+752            cn=0,n=27
         3 021626   200321 200033                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=27

     2982     6288    3           CALL INSERT(MDS_TEXT,28,2,BINHEX(OCTET_NIBBLE(32)),

   6288  3 021627   200244 236100                    LDQ     OCTET_BYTE+3,,AUTO
         3 021630   000014 772000                    QRL     12
         3 021631   000017 376007                    ANQ     15,DL
         3 021632   200534 756100                    STQ     CHIP#+2,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:555  
         3 021633   200244 236100                    LDQ     OCTET_BYTE+3,,AUTO
         3 021634   000010 772000                    QRL     8
         3 021635   000017 376007                    ANQ     15,DL
         3 021636   200534 235100                    LDA     CHIP#+2,,AUTO
         3 021637   040100 100405                    MLR     fill='040'O
         3 021640   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 021641   200324 000001                    ADSC9   MDS_TEXT+7,,AUTO         cn=0,n=1
         3 021642   040100 100406                    MLR     fill='040'O
         3 021643   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 021644   200324 200001                    ADSC9   MDS_TEXT+7,,AUTO         cn=1,n=1

     2983     6289    3                                     BINHEX(OCTET_NIBBLE(33)));
     2984     6290    3           XST_CNT = 44;

   6290  3 021645   000054 235007                    LDA     44,DL
         3 021646   200342 755100                    STA     XST_CNT,,AUTO

     2985     6291    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6291  3 021647   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 021650   200536 450500                    STP0    CHIP#+4,,AUTO
         3 021651   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 021652   200535 451500                    STP1    CHIP#+3,,AUTO
         3 021653   200300 633500                    EPPR3   XST$,,AUTO
         3 021654   200534 453500                    STP3    CHIP#+2,,AUTO
         3 021655   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 021656   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 021657   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 021660   000000 011000                    NOP     0

     2986     6292    3           NXST = NXST + 1;

   6292  3 021661   200343 235100                    LDA     NXST,,AUTO
         3 021662   000001 035007                    ADLA    1,DL
         3 021663   200343 755100                    STA     NXST,,AUTO

     2987     6293    3           IF EL$IOERR.MODEL = 'MSU8092' THEN
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:556  

   6293  3 021664   200005 470500                    LDP0    INFO+1,,AUTO
         3 021665   040000 106500                    CMPC    fill='040'O
         3 021666   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 021667   002247 000007 1                  ADSC9   BOARD_64K+744            cn=0,n=7
         3 021670   021676 601000 3                  TNZ     s:6299

     2988     6294    4             DO;

     2989     6295    4               MAX_ENTRY = %MDSII_MAX_FC;

   6295  3 021671   000007 236007                    LDQ     7,DL
         3 021672   200261 756100                    STQ     MAX_ENTRY,,AUTO

     2990     6296    4               MDS_TBL$ = ADDR(MDSII_FCODE);

   6296  3 021673   000456 236000 4                  LDQ     302
         3 021674   200217 756100                    STQ     MDS_TBL$,,AUTO

     2991     6297    4             END;

   6297  3 021675   021702 710000 3                  TRA     s:6302

     2992     6298    4             ELSE DO;

     2993     6299    4               MAX_ENTRY = %MDSI_MAX_FC;

   6299  3 021676   000006 236007                    LDQ     6,DL
         3 021677   200261 756100                    STQ     MAX_ENTRY,,AUTO

     2994     6300    4               MDS_TBL$ = ADDR(MDSI_FCODE);

   6300  3 021700   000457 236000 4                  LDQ     303
         3 021701   200217 756100                    STQ     MDS_TBL$,,AUTO

     2995     6301    4             END;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:557  
     2996     6302    4           DO X = 0 TO MAX_ENTRY;

   6302  3 021702   200011 450100                    STZ     X,,AUTO
         3 021703   021760 710000 3                  TRA     s:6312+1

     2997     6303    4             IF OCTET_BYTE(16) = MDS_TBL.CODE(X) THEN

   6303  3 021704   200011 236100                    LDQ     X,,AUTO
         3 021705   000014 402007                    MPY     12,DL
         3 021706   200217 470500                    LDP0    MDS_TBL$,,AUTO
         3 021707   000000 236106                    LDQ     0,QL,PR0
         3 021710   000033 772000                    QRL     27
         3 021711   200534 756100                    STQ     CHIP#+2,,AUTO
         3 021712   200244 236100                    LDQ     OCTET_BYTE+3,,AUTO
         3 021713   000010 772000                    QRL     8
         3 021714   000377 376007                    ANQ     255,DL
         3 021715   200534 116100                    CMPQ    CHIP#+2,,AUTO
         3 021716   021757 601000 3                  TNZ     s:6312

     2998     6304    5                DO;

     2999     6305    5                  MDS_TEXT = ' ';

   6305  3 021717   040100 100400                    MLR     fill='040'O
         3 021720   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 021721   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3000     6306    5                  CALL INSERT(MDS_TEXT, 19, MDS_TBL.COUNT(X),

   6306  3 021722   200011 236100                    LDQ     X,,AUTO
         3 021723   000014 402007                    MPY     12,DL
         3 021724   000000 220106                    LDX0    0,QL,PR0
         3 021725   000777 360003                    ANX0    511,DU
         3 021726   200011 236100                    LDQ     X,,AUTO
         3 021727   000060 402007                    MPY     48,DL
         3 021730   040140 100506                    MLR     fill='040'O
         3 021731   000000 400054                    ADSC9   0,Q,PR0                  cn=2,n=44
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:558  
         3 021732   200321 600010                    ADSC9   MDS_TEXT+4,,AUTO         cn=3,n=*X0

     3001     6307    5                              MDS_TBL.TEXT(X));
     3002     6308    5                  XST_CNT = MDS_TBL.COUNT(X) + 19;

   6308  3 021733   200011 236100                    LDQ     X,,AUTO
         3 021734   000014 402007                    MPY     12,DL
         3 021735   000000 236106                    LDQ     0,QL,PR0
         3 021736   000022 772000                    QRL     18
         3 021737   000777 376007                    ANQ     511,DL
         3 021740   000023 036007                    ADLQ    19,DL
         3 021741   200342 756100                    STQ     XST_CNT,,AUTO

     3003     6309    5                  CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6309  3 021742   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 021743   200536 451500                    STP1    CHIP#+4,,AUTO
         3 021744   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 021745   200535 453500                    STP3    CHIP#+3,,AUTO
         3 021746   200300 634500                    EPPR4   XST$,,AUTO
         3 021747   200534 454500                    STP4    CHIP#+2,,AUTO
         3 021750   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 021751   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 021752   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 021753   000000 011000                    NOP     0

     3004     6310    5                  NXST = NXST + 1;

   6310  3 021754   200343 235100                    LDA     NXST,,AUTO
         3 021755   000001 035007                    ADLA    1,DL
         3 021756   200343 755100                    STA     NXST,,AUTO

     3005     6311    5                END;

     3006     6312    4           END;  /* DO X */

   6312  3 021757   200011 054100                    AOS     X,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:559  
         3 021760   200261 236100                    LDQ     MAX_ENTRY,,AUTO
         3 021761   021704 604000 3                  TMI     s:6303
         3 021762   200011 116100                    CMPQ    X,,AUTO
         3 021763   021704 605000 3                  TPL     s:6303

     3007     6313    3           CALL DECODE_PARAM_3X;  /* DECODING FINISHED FOR X6 */

   6313  3 021764   025672 701000 3                  TSX1    DECODE_PARAM_3X
         3 021765   000000 011000                    NOP     0

     3008     6314    3           RETURN;

   6314  3 021766   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 021767   000001 702211                    TSX2  ! 1,X1

     3009     6315    3         END;
     3010     6316    2      ELSE RETURN;

   6316  3 021770   000001 702211                    TSX2  ! 1,X1

     3011     6317    2         IF OCTET_NUM >= PARAMETER_LENGTH - 1 THEN

   6317  3 021771   200255 236100                    LDQ     PARAMETER_LENGTH,,AUTO
         3 021772   000034 772000                    QRL     28
         3 021773   000001 136007                    SBLQ    1,DL
         3 021774   200262 116100                    CMPQ    OCTET_NUM,,AUTO
         3 021775   022000 605400 3                  TPNZ    s:6319

     3012     6318    2            CALL DECODE_PARAM_3X;

   6318  3 021776   025672 701000 3                  TSX1    DECODE_PARAM_3X
         3 021777   000000 011000                    NOP     0

     3013     6319    2         RETURN;

   6319  3 022000   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 022001   000001 702211                    TSX2  ! 1,X1
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:560  

     3014     6320    2   END DECODE_PARAM_X6;
     3015     6321        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:561  
     3016     6322        /**/
     3017     6323        /* PROCEDURE TO DECODE COMMAND EXCEPTION STATUS CODE FOR  MDS DISCS */
     3018     6324        /**/
     3019     6325    1   DECODE_PARAM_X7: PROC;

   6325  3 022002   200526 741300       DECODE_PARA* STX1  ! @BOARD,,AUTO

     3020     6326        /**/
     3021     6327    2      MDS_TEXT = ' ';

   6327  3 022003   040100 100400                    MLR     fill='040'O
         3 022004   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 022005   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3022     6328    2      OCTET$ = MDS_PARAM_X7.SUB$(OCTET_NUM -1);

   6328  3 022006   200262 720100                    LXL0    OCTET_NUM,,AUTO
         3 022007   777777 236010 xsym               LDQ     MDS_PARAM_X7-1,X0
         3 022010   200216 756100                    STQ     OCTET$,,AUTO

     3023     6329    2      IF (OCTET_NUM > 0 AND OCTET_NUM < 7) THEN

   6329  3 022011   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 022012   022113 604400 3                  TMOZ    s:6340
         3 022013   000007 115007                    CMPA    7,DL
         3 022014   022113 605000 3                  TPL     s:6340

     3024     6330    3         DO;

     3025     6331    3           HEX_NUM = OCTET_NUM;

   6331  3 022015   200262 236100                    LDQ     OCTET_NUM,,AUTO
         3 022016   000034 736000                    QLS     28
         3 022017   200252 676100                    ERQ     HEX_NUM,,AUTO
         3 022020   776000 376003                    ANQ     -1024,DU
         3 022021   200252 656100                    ERSQ    HEX_NUM,,AUTO

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:562  
     3026     6332    3           CALL INSERT(MDS_TEXT, 17, 11, ' OCTET ',BINHEX(HEX_NIBBLE(0)),

   6332  3 022022   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 022023   000040 772000                    QRL     32
         3 022024   200534 756100                    STQ     CHIP#+2,,AUTO
         3 022025   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 022026   000034 772000                    QRL     28
         3 022027   000017 376007                    ANQ     15,DL
         3 022030   040100 100400                    MLR     fill='040'O
         3 022031   002266 000007 1                  ADSC9   BOARD_64K+759            cn=0,n=7
         3 022032   200321 200007                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=7
         3 022033   200534 235100                    LDA     CHIP#+2,,AUTO
         3 022034   040100 100405                    MLR     fill='040'O
         3 022035   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 022036   200323 000001                    ADSC9   MDS_TEXT+6,,AUTO         cn=0,n=1
         3 022037   040100 100406                    MLR     fill='040'O
         3 022040   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 022041   200323 200001                    ADSC9   MDS_TEXT+6,,AUTO         cn=1,n=1
         3 022042   002160 222000 1                  LDX2    BOARD_64K+689
         3 022043   200323 442100                    SXL2    MDS_TEXT+6,,AUTO

     3027     6333    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     3028     6334    3           CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),

   6334  3 022044   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 022045   000003 735000                    ALS     3
         3 022046   022050 605000 3                  TPL     s:6334+4
         3 022047   000044 035003                    ADLA    36,DU
         3 022050   003100 061505                    CSR     bolr='003'O
         3 022051   200241 000004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=0,n=4
         3 022052   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 022053   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 022054   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 022055   000003 735000                    ALS     3
         3 022056   022060 605000 3                  TPL     s:6334+12
         3 022057   000044 035003                    ADLA    36,DU
         3 022060   003100 061505                    CSR     bolr='003'O
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:563  
         3 022061   200241 040004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=4,n=4
         3 022062   200535 000044                    BDSC    CHIP#+3,,AUTO            by=0,bit=0,n=36
         3 022063   200536 756100                    STQ     CHIP#+4,,AUTO
         3 022064   200535 236100                    LDQ     CHIP#+3,,AUTO
         3 022065   200536 235100                    LDA     CHIP#+4,,AUTO
         3 022066   040100 100405                    MLR     fill='040'O
         3 022067   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 022070   200324 000001                    ADSC9   MDS_TEXT+7,,AUTO         cn=0,n=1
         3 022071   040100 100406                    MLR     fill='040'O
         3 022072   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 022073   200324 200001                    ADSC9   MDS_TEXT+7,,AUTO         cn=1,n=1

     3029     6335    3                       BINHEX(OCTET_NIBBLE(2 * OCTET_NUM + 1)));
     3030     6336    3           XST_CNT = 30;

   6336  3 022074   000036 235007                    LDA     30,DL
         3 022075   200342 755100                    STA     XST_CNT,,AUTO

     3031     6337    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6337  3 022076   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 022077   200536 450500                    STP0    CHIP#+4,,AUTO
         3 022100   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 022101   200535 451500                    STP1    CHIP#+3,,AUTO
         3 022102   200300 633500                    EPPR3   XST$,,AUTO
         3 022103   200534 453500                    STP3    CHIP#+2,,AUTO
         3 022104   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 022105   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 022106   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 022107   000000 011000                    NOP     0

     3032     6338    3           NXST = NXST + 1;

   6338  3 022110   200343 235100                    LDA     NXST,,AUTO
         3 022111   000001 035007                    ADLA    1,DL
         3 022112   200343 755100                    STA     NXST,,AUTO

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:564  
     3033     6339    3         END;

     3034     6340    2      IF (OCTET_NUM = 1 OR OCTET_NUM = 2 OR OCTET_NUM = 5) THEN

   6340  3 022113   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 022114   000001 115007                    CMPA    1,DL
         3 022115   022122 600000 3                  TZE     s:6342
         3 022116   000002 115007                    CMPA    2,DL
         3 022117   022122 600000 3                  TZE     s:6342
         3 022120   000005 115007                    CMPA    5,DL
         3 022121   022235 601000 3                  TNZ     s:6358

     3035     6341    3         DO;

     3036     6342    3           PARAM_INDX = 0;

   6342  3 022122   200253 450100                    STZ     PARAM_INDX,,AUTO

     3037     6343    4           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) +7);

   6343  3 022123   200010 236100                    LDQ     I,,AUTO
         3 022124   000012 402007                    MPY     10,DL
         3 022125   200215 470500                    LDP0    DEV$,,AUTO
         3 022126   000000 236106                    LDQ     0,QL,PR0
         3 022127   000030 772000                    QRL     24
         3 022130   007770 376007                    ANQ     4088,DL
         3 022131   200011 756100                    STQ     X,,AUTO
         3 022132   022213 710000 3                  TRA     s:6353+1

     3038     6344    4              IF (IO_MASK1(X)) AND (PARAM_TBL.COUNT(PARAM_INDX) > 1)

   6344  3 022133   200011 235100                    LDA     X,,AUTO
         3 022134   022136 605000 3                  TPL     s:6344+3
         3 022135   000044 035003                    ADLA    36,DU
         3 022136   000000 066505                    CMPB    filb='0'B
         3 022137   200221 000001                    BDSC    IO_MASK,A,AUTO           by=0,bit=0,n=1
         3 022140   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:565  
         3 022141   022211 600000 3                  TZE     s:6352
         3 022142   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 022143   000014 402007                    MPY     12,DL
         3 022144   200216 470500                    LDP0    OCTET$,,AUTO
         3 022145   000000 236106                    LDQ     0,QL,PR0
         3 022146   777000 376003                    ANQ     -512,DU
         3 022147   002000 116003                    CMPQ    1024,DU
         3 022150   022211 602000 3                  TNC     s:6352

     3039     6345    5                 THEN DO;

     3040     6346    5                   MDS_TEXT = ' ';

   6346  3 022151   040100 100400                    MLR     fill='040'O
         3 022152   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 022153   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3041     6347    5                   CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(PARAM_INDX), PARAM_TBL.
              6347                            TEXT(PARAM_INDX));

   6347  3 022154   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 022155   000014 402007                    MPY     12,DL
         3 022156   000000 236106                    LDQ     0,QL,PR0
         3 022157   000033 772000                    QRL     27
         3 022160   000000 620006                    EAX0    0,QL
         3 022161   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 022162   000060 402007                    MPY     48,DL
         3 022163   040140 100506                    MLR     fill='040'O
         3 022164   000000 200054                    ADSC9   0,Q,PR0                  cn=1,n=44
         3 022165   200321 200010                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=*X0

     3042     6348    5                   XST_CNT = PARAM_TBL.COUNT(PARAM_INDX) + 17;

   6348  3 022166   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 022167   000014 402007                    MPY     12,DL
         3 022170   000000 236106                    LDQ     0,QL,PR0
         3 022171   000033 772000                    QRL     27
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:566  
         3 022172   000021 036007                    ADLQ    17,DL
         3 022173   200342 756100                    STQ     XST_CNT,,AUTO

     3043     6349    5                   CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6349  3 022174   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 022175   200536 451500                    STP1    CHIP#+4,,AUTO
         3 022176   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 022177   200535 453500                    STP3    CHIP#+3,,AUTO
         3 022200   200300 634500                    EPPR4   XST$,,AUTO
         3 022201   200534 454500                    STP4    CHIP#+2,,AUTO
         3 022202   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 022203   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 022204   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 022205   000000 011000                    NOP     0

     3044     6350    5                   NXST = NXST + 1;

   6350  3 022206   200343 235100                    LDA     NXST,,AUTO
         3 022207   000001 035007                    ADLA    1,DL
         3 022210   200343 755100                    STA     NXST,,AUTO

     3045     6351    5                 END;

     3046     6352    4           PARAM_INDX = PARAM_INDX + 1;

   6352  3 022211   200253 054100                    AOS     PARAM_INDX,,AUTO

     3047     6353    4           END;  /* DO X */

   6353  3 022212   200011 054100                    AOS     X,,AUTO
         3 022213   200010 236100                    LDQ     I,,AUTO
         3 022214   000012 402007                    MPY     10,DL
         3 022215   200215 470500                    LDP0    DEV$,,AUTO
         3 022216   000000 236106                    LDQ     0,QL,PR0
         3 022217   000030 772000                    QRL     24
         3 022220   007770 376007                    ANQ     4088,DL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:567  
         3 022221   000007 036007                    ADLQ    7,DL
         3 022222   200011 116100                    CMPQ    X,,AUTO
         3 022223   022133 605000 3                  TPL     s:6344

     3048     6354    3           IF OCTET_NUM >= PARAMETER_LENGTH -1

   6354  3 022224   200255 236100                    LDQ     PARAMETER_LENGTH,,AUTO
         3 022225   000034 772000                    QRL     28
         3 022226   000001 136007                    SBLQ    1,DL
         3 022227   200262 116100                    CMPQ    OCTET_NUM,,AUTO
         3 022230   022233 605400 3                  TPNZ    s:6356

     3049     6355    3              THEN PARAMETER_ID = 0;

   6355  3 022231   000452 236000 4                  LDQ     298
         3 022232   200254 356100                    ANSQ    PARAMETER_ID,,AUTO

     3050     6356    3           RETURN;

   6356  3 022233   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 022234   000001 702211                    TSX2  ! 1,X1

     3051     6357    3         END;
     3052     6358    2      IF OCTET_NUM = 7 THEN

   6358  3 022235   000007 115007                    CMPA    7,DL
         3 022236   022454 601000 3                  TNZ     s:6385

     3053     6359    3         DO;

     3054     6360    3             CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(0), PARAM_TBL.TEXT(0));

   6360  3 022237   200216 470500                    LDP0    OCTET$,,AUTO
         3 022240   000000 236100                    LDQ     0,,PR0
         3 022241   000033 772000                    QRL     27
         3 022242   000000 620006                    EAX0    0,QL
         3 022243   040140 100500                    MLR     fill='040'O
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:568  
         3 022244   000000 200054                    ADSC9   0,,PR0                   cn=1,n=44
         3 022245   200321 200010                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=*X0

     3055     6361    3             CALL INSERT(MDS_TEXT, 36, 4, BINHEX(OCTET_NIBBLE(14)),

   6361  3 022246   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 022247   000014 772000                    QRL     12
         3 022250   000017 376007                    ANQ     15,DL
         3 022251   200534 756100                    STQ     CHIP#+2,,AUTO
         3 022252   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 022253   000010 772000                    QRL     8
         3 022254   000017 376007                    ANQ     15,DL
         3 022255   200535 756100                    STQ     CHIP#+3,,AUTO
         3 022256   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 022257   000004 772000                    QRL     4
         3 022260   000017 376007                    ANQ     15,DL
         3 022261   200536 756100                    STQ     CHIP#+4,,AUTO
         3 022262   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 022263   000017 376007                    ANQ     15,DL
         3 022264   200534 235100                    LDA     CHIP#+2,,AUTO
         3 022265   040100 100405                    MLR     fill='040'O
         3 022266   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 022267   200326 000001                    ADSC9   MDS_TEXT+9,,AUTO         cn=0,n=1
         3 022270   200535 235100                    LDA     CHIP#+3,,AUTO
         3 022271   040100 100405                    MLR     fill='040'O
         3 022272   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 022273   200326 200001                    ADSC9   MDS_TEXT+9,,AUTO         cn=1,n=1
         3 022274   200536 235100                    LDA     CHIP#+4,,AUTO
         3 022275   040100 100405                    MLR     fill='040'O
         3 022276   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 022277   200326 400001                    ADSC9   MDS_TEXT+9,,AUTO         cn=2,n=1
         3 022300   040100 100406                    MLR     fill='040'O
         3 022301   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 022302   200326 600001                    ADSC9   MDS_TEXT+9,,AUTO         cn=3,n=1

     3056     6362    3                                          BINHEX(OCTET_NIBBLE(15)),
     3057     6363    3                                          BINHEX(OCTET_NIBBLE(16)),
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:569  
     3058     6364    3                                          BINHEX(OCTET_NIBBLE(17)));
     3059     6365    3             XST_CNT = PARAM_TBL.COUNT(0) + 17;

   6365  3 022303   200216 470500                    LDP0    OCTET$,,AUTO
         3 022304   000000 236100                    LDQ     0,,PR0
         3 022305   000033 772000                    QRL     27
         3 022306   000021 036007                    ADLQ    17,DL
         3 022307   200342 756100                    STQ     XST_CNT,,AUTO

     3060     6366    3             CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6366  3 022310   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 022311   200536 451500                    STP1    CHIP#+4,,AUTO
         3 022312   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 022313   200535 453500                    STP3    CHIP#+3,,AUTO
         3 022314   200300 634500                    EPPR4   XST$,,AUTO
         3 022315   200534 454500                    STP4    CHIP#+2,,AUTO
         3 022316   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 022317   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 022320   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 022321   000000 011000                    NOP     0

     3061     6367    3             NXST = NXST + 1;

   6367  3 022322   200343 235100                    LDA     NXST,,AUTO
         3 022323   000001 035007                    ADLA    1,DL
         3 022324   200343 755100                    STA     NXST,,AUTO

     3062     6368    3             MDS_TEXT = ' ';

   6368  3 022325   040100 100400                    MLR     fill='040'O
         3 022326   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 022327   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3063     6369    3             CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(1), PARAM_TBL.TEXT(1));

   6369  3 022330   200216 470500                    LDP0    OCTET$,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:570  
         3 022331   000014 236100                    LDQ     12,,PR0
         3 022332   000033 772000                    QRL     27
         3 022333   000000 620006                    EAX0    0,QL
         3 022334   040140 100500                    MLR     fill='040'O
         3 022335   000014 200054                    ADSC9   12,,PR0                  cn=1,n=44
         3 022336   200321 200010                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=*X0

     3064     6370    3             CALL INSERT(MDS_TEXT, 36, 2, BINHEX(OCTET_NIBBLE(18)),

   6370  3 022337   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
         3 022340   000040 772000                    QRL     32
         3 022341   200534 756100                    STQ     CHIP#+2,,AUTO
         3 022342   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
         3 022343   000034 772000                    QRL     28
         3 022344   000017 376007                    ANQ     15,DL
         3 022345   200534 235100                    LDA     CHIP#+2,,AUTO
         3 022346   040100 100405                    MLR     fill='040'O
         3 022347   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 022350   200326 000001                    ADSC9   MDS_TEXT+9,,AUTO         cn=0,n=1
         3 022351   040100 100406                    MLR     fill='040'O
         3 022352   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 022353   200326 200001                    ADSC9   MDS_TEXT+9,,AUTO         cn=1,n=1

     3065     6371    3                                          BINHEX(OCTET_NIBBLE(19)));
     3066     6372    3             XST_CNT = PARAM_TBL.COUNT(1) + 17;

   6372  3 022354   200216 470500                    LDP0    OCTET$,,AUTO
         3 022355   000014 236100                    LDQ     12,,PR0
         3 022356   000033 772000                    QRL     27
         3 022357   000021 036007                    ADLQ    17,DL
         3 022360   200342 756100                    STQ     XST_CNT,,AUTO

     3067     6373    3             CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6373  3 022361   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 022362   200536 451500                    STP1    CHIP#+4,,AUTO
         3 022363   200315 633500                    EPPR3   MDS_TEXT,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:571  
         3 022364   200535 453500                    STP3    CHIP#+3,,AUTO
         3 022365   200300 634500                    EPPR4   XST$,,AUTO
         3 022366   200534 454500                    STP4    CHIP#+2,,AUTO
         3 022367   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 022370   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 022371   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 022372   000000 011000                    NOP     0

     3068     6374    3             NXST = NXST + 1;

   6374  3 022373   200343 235100                    LDA     NXST,,AUTO
         3 022374   000001 035007                    ADLA    1,DL
         3 022375   200343 755100                    STA     NXST,,AUTO

     3069     6375    3             MDS_TEXT = ' ';

   6375  3 022376   040100 100400                    MLR     fill='040'O
         3 022377   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 022400   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3070     6376    3             CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(2), PARAM_TBL.TEXT(2));

   6376  3 022401   200216 470500                    LDP0    OCTET$,,AUTO
         3 022402   000030 236100                    LDQ     24,,PR0
         3 022403   000033 772000                    QRL     27
         3 022404   000000 620006                    EAX0    0,QL
         3 022405   040140 100500                    MLR     fill='040'O
         3 022406   000030 200054                    ADSC9   24,,PR0                  cn=1,n=44
         3 022407   200321 200010                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=*X0

     3071     6377    3             CALL INSERT(MDS_TEXT, 36, 2, BINHEX(OCTET_NIBBLE(20)),

   6377  3 022410   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
         3 022411   000030 772000                    QRL     24
         3 022412   000017 376007                    ANQ     15,DL
         3 022413   200534 756100                    STQ     CHIP#+2,,AUTO
         3 022414   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:572  
         3 022415   000024 772000                    QRL     20
         3 022416   000017 376007                    ANQ     15,DL
         3 022417   200534 235100                    LDA     CHIP#+2,,AUTO
         3 022420   040100 100405                    MLR     fill='040'O
         3 022421   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 022422   200326 000001                    ADSC9   MDS_TEXT+9,,AUTO         cn=0,n=1
         3 022423   040100 100406                    MLR     fill='040'O
         3 022424   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 022425   200326 200001                    ADSC9   MDS_TEXT+9,,AUTO         cn=1,n=1

     3072     6378    3                                          BINHEX(OCTET_NIBBLE(21)));
     3073     6379    3             XST_CNT = PARAM_TBL.COUNT(2) + 17;

   6379  3 022426   200216 470500                    LDP0    OCTET$,,AUTO
         3 022427   000030 236100                    LDQ     24,,PR0
         3 022430   000033 772000                    QRL     27
         3 022431   000021 036007                    ADLQ    17,DL
         3 022432   200342 756100                    STQ     XST_CNT,,AUTO

     3074     6380    3             CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6380  3 022433   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 022434   200536 451500                    STP1    CHIP#+4,,AUTO
         3 022435   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 022436   200535 453500                    STP3    CHIP#+3,,AUTO
         3 022437   200300 634500                    EPPR4   XST$,,AUTO
         3 022440   200534 454500                    STP4    CHIP#+2,,AUTO
         3 022441   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 022442   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 022443   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 022444   000000 011000                    NOP     0

     3075     6381    3             NXST = NXST + 1;

   6381  3 022445   200343 235100                    LDA     NXST,,AUTO
         3 022446   000001 035007                    ADLA    1,DL
         3 022447   200343 755100                    STA     NXST,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:573  

     3076     6382    3             PARAMETER_ID = 0;               /* DECODING FINISHED FOR X7 */

   6382  3 022450   000452 236000 4                  LDQ     298
         3 022451   200254 356100                    ANSQ    PARAMETER_ID,,AUTO

     3077     6383    3             RETURN;

   6383  3 022452   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 022453   000001 702211                    TSX2  ! 1,X1

     3078     6384    3         END;
     3079     6385    2      IF OCTET_NUM >= PARAMETER_LENGTH - 1

   6385  3 022454   200255 236100                    LDQ     PARAMETER_LENGTH,,AUTO
         3 022455   000034 772000                    QRL     28
         3 022456   000001 136007                    SBLQ    1,DL
         3 022457   200262 116100                    CMPQ    OCTET_NUM,,AUTO
         3 022460   022463 605400 3                  TPNZ    s:6387

     3080     6386    2         THEN PARAMETER_ID = 0;

   6386  3 022461   000452 236000 4                  LDQ     298
         3 022462   200254 356100                    ANSQ    PARAMETER_ID,,AUTO

     3081     6387    2      RETURN;

   6387  3 022463   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 022464   000001 702211                    TSX2  ! 1,X1

     3082     6388    2   END DECODE_PARAM_X7;
     3083     6389        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:574  
     3084     6390        /**/
     3085     6391        /* PROCEDURE TO DECODE COMMAND ABORTED STATUS CODE FOR  MDS DISCS */
     3086     6392        /**/
     3087     6393    1   DECODE_PARAM_X8: PROC;

   6393  3 022465   200526 741300       DECODE_PARA* STX1  ! @BOARD,,AUTO

     3088     6394        /**/
     3089     6395    2      MDS_TEXT = ' ';

   6395  3 022466   040100 100400                    MLR     fill='040'O
         3 022467   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 022470   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3090     6396    2      OCTET$ = MDS_PARAM_X8.SUB$;

   6396  3 022471   000000 236000 xsym               LDQ     MDS_PARAM_X8
         3 022472   200216 756100                    STQ     OCTET$,,AUTO

     3091     6397    2      IF (OCTET_NUM > 0 AND OCTET_NUM<5) THEN

   6397  3 022473   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 022474   022575 604400 3                  TMOZ    s:6408
         3 022475   000005 115007                    CMPA    5,DL
         3 022476   022575 605000 3                  TPL     s:6408

     3092     6398    3         DO;

     3093     6399    3           HEX_NUM = OCTET_NUM;

   6399  3 022477   200262 236100                    LDQ     OCTET_NUM,,AUTO
         3 022500   000034 736000                    QLS     28
         3 022501   200252 676100                    ERQ     HEX_NUM,,AUTO
         3 022502   776000 376003                    ANQ     -1024,DU
         3 022503   200252 656100                    ERSQ    HEX_NUM,,AUTO

     3094     6400    3           CALL INSERT(MDS_TEXT, 17, 11, ' OCTET ',BINHEX(HEX_NIBBLE(0)),
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:575  

   6400  3 022504   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 022505   000040 772000                    QRL     32
         3 022506   200534 756100                    STQ     CHIP#+2,,AUTO
         3 022507   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 022510   000034 772000                    QRL     28
         3 022511   000017 376007                    ANQ     15,DL
         3 022512   040100 100400                    MLR     fill='040'O
         3 022513   002266 000007 1                  ADSC9   BOARD_64K+759            cn=0,n=7
         3 022514   200321 200007                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=7
         3 022515   200534 235100                    LDA     CHIP#+2,,AUTO
         3 022516   040100 100405                    MLR     fill='040'O
         3 022517   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 022520   200323 000001                    ADSC9   MDS_TEXT+6,,AUTO         cn=0,n=1
         3 022521   040100 100406                    MLR     fill='040'O
         3 022522   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 022523   200323 200001                    ADSC9   MDS_TEXT+6,,AUTO         cn=1,n=1
         3 022524   002160 220000 1                  LDX0    BOARD_64K+689
         3 022525   200323 440100                    SXL0    MDS_TEXT+6,,AUTO

     3095     6401    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     3096     6402    3           CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),

   6402  3 022526   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 022527   000003 735000                    ALS     3
         3 022530   022532 605000 3                  TPL     s:6402+4
         3 022531   000044 035003                    ADLA    36,DU
         3 022532   003100 061505                    CSR     bolr='003'O
         3 022533   200241 000004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=0,n=4
         3 022534   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 022535   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 022536   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 022537   000003 735000                    ALS     3
         3 022540   022542 605000 3                  TPL     s:6402+12
         3 022541   000044 035003                    ADLA    36,DU
         3 022542   003100 061505                    CSR     bolr='003'O
         3 022543   200241 040004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=4,n=4
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:576  
         3 022544   200535 000044                    BDSC    CHIP#+3,,AUTO            by=0,bit=0,n=36
         3 022545   200536 756100                    STQ     CHIP#+4,,AUTO
         3 022546   200535 236100                    LDQ     CHIP#+3,,AUTO
         3 022547   200536 235100                    LDA     CHIP#+4,,AUTO
         3 022550   040100 100405                    MLR     fill='040'O
         3 022551   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 022552   200324 000001                    ADSC9   MDS_TEXT+7,,AUTO         cn=0,n=1
         3 022553   040100 100406                    MLR     fill='040'O
         3 022554   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 022555   200324 200001                    ADSC9   MDS_TEXT+7,,AUTO         cn=1,n=1

     3097     6403    3                       BINHEX(OCTET_NIBBLE(2 * OCTET_NUM + 1)));
     3098     6404    3           XST_CNT = 30;

   6404  3 022556   000036 235007                    LDA     30,DL
         3 022557   200342 755100                    STA     XST_CNT,,AUTO

     3099     6405    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6405  3 022560   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 022561   200536 450500                    STP0    CHIP#+4,,AUTO
         3 022562   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 022563   200535 451500                    STP1    CHIP#+3,,AUTO
         3 022564   200300 633500                    EPPR3   XST$,,AUTO
         3 022565   200534 453500                    STP3    CHIP#+2,,AUTO
         3 022566   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 022567   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 022570   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 022571   000000 011000                    NOP     0

     3100     6406    3           NXST = NXST + 1;

   6406  3 022572   200343 235100                    LDA     NXST,,AUTO
         3 022573   000001 035007                    ADLA    1,DL
         3 022574   200343 755100                    STA     NXST,,AUTO

     3101     6407    3         END;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:577  

     3102     6408    2      IF OCTET_NUM = 1 THEN

   6408  3 022575   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 022576   000001 115007                    CMPA    1,DL
         3 022577   022704 601000 3                  TNZ     s:6424

     3103     6409    3         DO;

     3104     6410    3           PARAM_INDX = 0;

   6410  3 022600   200253 450100                    STZ     PARAM_INDX,,AUTO

     3105     6411    4           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) +7);

   6411  3 022601   200010 236100                    LDQ     I,,AUTO
         3 022602   000012 402007                    MPY     10,DL
         3 022603   200215 470500                    LDP0    DEV$,,AUTO
         3 022604   000000 236106                    LDQ     0,QL,PR0
         3 022605   000030 772000                    QRL     24
         3 022606   007770 376007                    ANQ     4088,DL
         3 022607   200011 756100                    STQ     X,,AUTO
         3 022610   022671 710000 3                  TRA     s:6421+1

     3106     6412    4              IF (IO_MASK1(X)) AND (PARAM_TBL.COUNT(PARAM_INDX) > 1)

   6412  3 022611   200011 235100                    LDA     X,,AUTO
         3 022612   022614 605000 3                  TPL     s:6412+3
         3 022613   000044 035003                    ADLA    36,DU
         3 022614   000000 066505                    CMPB    filb='0'B
         3 022615   200221 000001                    BDSC    IO_MASK,A,AUTO           by=0,bit=0,n=1
         3 022616   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 022617   022667 600000 3                  TZE     s:6420
         3 022620   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 022621   000014 402007                    MPY     12,DL
         3 022622   200216 470500                    LDP0    OCTET$,,AUTO
         3 022623   000000 236106                    LDQ     0,QL,PR0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:578  
         3 022624   777000 376003                    ANQ     -512,DU
         3 022625   002000 116003                    CMPQ    1024,DU
         3 022626   022667 602000 3                  TNC     s:6420

     3107     6413    5                 THEN DO;

     3108     6414    5                   MDS_TEXT = ' ';

   6414  3 022627   040100 100400                    MLR     fill='040'O
         3 022630   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 022631   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3109     6415    5                   CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(PARAM_INDX), PARAM_TBL.
              6415                            TEXT(PARAM_INDX));

   6415  3 022632   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 022633   000014 402007                    MPY     12,DL
         3 022634   000000 236106                    LDQ     0,QL,PR0
         3 022635   000033 772000                    QRL     27
         3 022636   000000 620006                    EAX0    0,QL
         3 022637   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 022640   000060 402007                    MPY     48,DL
         3 022641   040140 100506                    MLR     fill='040'O
         3 022642   000000 200054                    ADSC9   0,Q,PR0                  cn=1,n=44
         3 022643   200321 200010                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=*X0

     3110     6416    5                   XST_CNT = PARAM_TBL.COUNT(PARAM_INDX) + 17;

   6416  3 022644   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 022645   000014 402007                    MPY     12,DL
         3 022646   000000 236106                    LDQ     0,QL,PR0
         3 022647   000033 772000                    QRL     27
         3 022650   000021 036007                    ADLQ    17,DL
         3 022651   200342 756100                    STQ     XST_CNT,,AUTO

     3111     6417    5                   CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:579  
   6417  3 022652   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 022653   200536 451500                    STP1    CHIP#+4,,AUTO
         3 022654   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 022655   200535 453500                    STP3    CHIP#+3,,AUTO
         3 022656   200300 634500                    EPPR4   XST$,,AUTO
         3 022657   200534 454500                    STP4    CHIP#+2,,AUTO
         3 022660   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 022661   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 022662   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 022663   000000 011000                    NOP     0

     3112     6418    5                   NXST = NXST + 1;

   6418  3 022664   200343 235100                    LDA     NXST,,AUTO
         3 022665   000001 035007                    ADLA    1,DL
         3 022666   200343 755100                    STA     NXST,,AUTO

     3113     6419    5                 END;

     3114     6420    4           PARAM_INDX = PARAM_INDX + 1;

   6420  3 022667   200253 054100                    AOS     PARAM_INDX,,AUTO

     3115     6421    4           END;  /* DO X */

   6421  3 022670   200011 054100                    AOS     X,,AUTO
         3 022671   200010 236100                    LDQ     I,,AUTO
         3 022672   000012 402007                    MPY     10,DL
         3 022673   200215 470500                    LDP0    DEV$,,AUTO
         3 022674   000000 236106                    LDQ     0,QL,PR0
         3 022675   000030 772000                    QRL     24
         3 022676   007770 376007                    ANQ     4088,DL
         3 022677   000007 036007                    ADLQ    7,DL
         3 022700   200011 116100                    CMPQ    X,,AUTO
         3 022701   022611 605000 3                  TPL     s:6412

     3116     6422    3           RETURN;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:580  

   6422  3 022702   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 022703   000001 702211                    TSX2  ! 1,X1

     3117     6423    3         END;
     3118     6424    2      IF OCTET_NUM = 5 THEN

   6424  3 022704   000005 115007                    CMPA    5,DL
         3 022705   023036 601000 3                  TNZ     s:6442

     3119     6425    3         DO;

     3120     6426    3           HEX_NUM = PARAMETER_LENGTH - 1;

   6426  3 022706   200255 236100                    LDQ     PARAMETER_LENGTH,,AUTO
         3 022707   000034 772000                    QRL     28
         3 022710   000001 136007                    SBLQ    1,DL
         3 022711   000034 736000                    QLS     28
         3 022712   200252 676100                    ERQ     HEX_NUM,,AUTO
         3 022713   776000 376003                    ANQ     -1024,DU
         3 022714   200252 656100                    ERSQ    HEX_NUM,,AUTO

     3121     6427    3           CALL INSERT(MDS_TEXT, 17, 19, ' OCTETS 05 TO ',BINHEX(HEX_NIBBLE(0)),

   6427  3 022715   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 022716   000040 772000                    QRL     32
         3 022717   200534 756100                    STQ     CHIP#+2,,AUTO
         3 022720   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 022721   000034 772000                    QRL     28
         3 022722   000017 376007                    ANQ     15,DL
         3 022723   040100 100400                    MLR     fill='040'O
         3 022724   002270 000016 1                  ADSC9   BOARD_64K+761            cn=0,n=14
         3 022725   200321 200016                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=14
         3 022726   200534 235100                    LDA     CHIP#+2,,AUTO
         3 022727   040100 100405                    MLR     fill='040'O
         3 022730   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 022731   200324 600001                    ADSC9   MDS_TEXT+7,,AUTO         cn=3,n=1
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:581  
         3 022732   040100 100406                    MLR     fill='040'O
         3 022733   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 022734   200325 000001                    ADSC9   MDS_TEXT+8,,AUTO         cn=0,n=1
         3 022735   002160 236000 1                  LDQ     BOARD_64K+689
         3 022736   000011 772000                    QRL     9
         3 022737   200325 552134                    STBQ    MDS_TEXT+8,'34'O,AUTO

     3122     6428    3                       BINHEX(HEX_NIBBLE(1)),' = ');
     3123     6429    3           MDS_TEXT_POSITION = 36;

   6429  3 022740   000044 235007                    LDA     36,DL
         3 022741   200341 755100                    STA     MDS_TEXT_POSITION,,AUTO

     3124     6430    4           DO X = 5 TO PARAMETER_LENGTH - 1;

   6430  3 022742   000005 236007                    LDQ     5,DL
         3 022743   200011 756100                    STQ     X,,AUTO
         3 022744   023003 710000 3                  TRA     s:6434+1

     3125     6431    4              CALL INSERT(MDS_TEXT, MDS_TEXT_POSITION, 2, BINHEX(OCTET_NIBBLE(2 * X)),

   6431  3 022745   200011 235100                    LDA     X,,AUTO
         3 022746   000003 735000                    ALS     3
         3 022747   022751 605000 3                  TPL     s:6431+4
         3 022750   000044 035003                    ADLA    36,DU
         3 022751   003100 061505                    CSR     bolr='003'O
         3 022752   200241 000004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=0,n=4
         3 022753   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 022754   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 022755   200011 235100                    LDA     X,,AUTO
         3 022756   000003 735000                    ALS     3
         3 022757   022761 605000 3                  TPL     s:6431+12
         3 022760   000044 035003                    ADLA    36,DU
         3 022761   003100 061505                    CSR     bolr='003'O
         3 022762   200241 040004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=4,n=4
         3 022763   200535 000044                    BDSC    CHIP#+3,,AUTO            by=0,bit=0,n=36
         3 022764   200536 756100                    STQ     CHIP#+4,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:582  
         3 022765   200535 236100                    LDQ     CHIP#+3,,AUTO
         3 022766   200536 235100                    LDA     CHIP#+4,,AUTO
         3 022767   200537 756100                    STQ     CHIP#+5,,AUTO
         3 022770   200341 236100                    LDQ     MDS_TEXT_POSITION,,AUTO
         3 022771   040106 100405                    MLR     fill='040'O
         3 022772   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 022773   200315 000001                    ADSC9   MDS_TEXT,Q,AUTO          cn=0,n=1
         3 022774   200537 235100                    LDA     CHIP#+5,,AUTO
         3 022775   040106 100405                    MLR     fill='040'O
         3 022776   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 022777   200315 200001                    ADSC9   MDS_TEXT,Q,AUTO          cn=1,n=1

     3126     6432    4                          BINHEX(OCTET_NIBBLE(2 * X + 1)));
     3127     6433    4              MDS_TEXT_POSITION = MDS_TEXT_POSITION + 3;

   6433  3 023000   000003 236007                    LDQ     3,DL
         3 023001   200341 056100                    ASQ     MDS_TEXT_POSITION,,AUTO

     3128     6434    4           END;

   6434  3 023002   200011 054100                    AOS     X,,AUTO
         3 023003   200255 236100                    LDQ     PARAMETER_LENGTH,,AUTO
         3 023004   000034 772000                    QRL     28
         3 023005   200011 116100                    CMPQ    X,,AUTO
         3 023006   022745 605400 3                  TPNZ    s:6431

     3129     6435    3           CALL INSERT(MDS_TEXT, MDS_TEXT_POSITION, 21, ' - EXTENDED SUBSTATUS');

   6435  3 023007   200341 235100                    LDA     MDS_TEXT_POSITION,,AUTO
         3 023010   040105 100400                    MLR     fill='040'O
         3 023011   002274 000025 1                  ADSC9   BOARD_64K+765            cn=0,n=21
         3 023012   200315 000025                    ADSC9   MDS_TEXT,A,AUTO          cn=0,n=21

     3130     6436    3           XST_CNT = MDS_TEXT_POSITION + 21;

   6436  3 023013   000025 035007                    ADLA    21,DL
         3 023014   200342 755100                    STA     XST_CNT,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:583  

     3131     6437    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6437  3 023015   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 023016   200536 450500                    STP0    CHIP#+4,,AUTO
         3 023017   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 023020   200535 451500                    STP1    CHIP#+3,,AUTO
         3 023021   200300 633500                    EPPR3   XST$,,AUTO
         3 023022   200534 453500                    STP3    CHIP#+2,,AUTO
         3 023023   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 023024   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 023025   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 023026   000000 011000                    NOP     0

     3132     6438    3           NXST = NXST + 1;

   6438  3 023027   200343 235100                    LDA     NXST,,AUTO
         3 023030   000001 035007                    ADLA    1,DL
         3 023031   200343 755100                    STA     NXST,,AUTO

     3133     6439    3           PARAMETER_ID = 0;                  /* DECODING DONE FOR X8 */

   6439  3 023032   000452 236000 4                  LDQ     298
         3 023033   200254 356100                    ANSQ    PARAMETER_ID,,AUTO

     3134     6440    3           RETURN;

   6440  3 023034   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 023035   000001 702211                    TSX2  ! 1,X1

     3135     6441    3         END;       /* OCTET_NUM = 5 */
     3136     6442    2      IF OCTET_NUM >= PARAMETER_LENGTH - 1 THEN

   6442  3 023036   200255 236100                    LDQ     PARAMETER_LENGTH,,AUTO
         3 023037   000034 772000                    QRL     28
         3 023040   000001 136007                    SBLQ    1,DL
         3 023041   200262 116100                    CMPQ    OCTET_NUM,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:584  
         3 023042   023045 605400 3                  TPNZ    s:6444

     3137     6443    2         PARAMETER_ID = 0;

   6443  3 023043   000452 236000 4                  LDQ     298
         3 023044   200254 356100                    ANSQ    PARAMETER_ID,,AUTO

     3138     6444    2      RETURN;

   6444  3 023045   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 023046   000001 702211                    TSX2  ! 1,X1

     3139     6445    2   END DECODE_PARAM_X8;
     3140     6446        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:585  
     3141     6447        /**/
     3142     6448        /* PROCEDURE TO DECODE CONDITIONAL SUCCESS STATUS CODE FOR  MDS DISCS */
     3143     6449        /**/
     3144     6450    1   DECODE_PARAM_X9: PROC;

   6450  3 023047   200526 741300       DECODE_PARA* STX1  ! @BOARD,,AUTO

     3145     6451        /**/
     3146     6452    2      MDS_TEXT = ' ';

   6452  3 023050   040100 100400                    MLR     fill='040'O
         3 023051   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 023052   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3147     6453    2      OCTET$ = MDS_PARAM_X9.SUB$(OCTET_NUM - 1);

   6453  3 023053   200262 720100                    LXL0    OCTET_NUM,,AUTO
         3 023054   777777 236010 xsym               LDQ     MDS_PARAM_X9-1,X0
         3 023055   200216 756100                    STQ     OCTET$,,AUTO

     3148     6454    2      IF (OCTET_NUM > 0 AND OCTET_NUM < 5) THEN

   6454  3 023056   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 023057   023161 604400 3                  TMOZ    s:6465
         3 023060   000005 115007                    CMPA    5,DL
         3 023061   023161 605000 3                  TPL     s:6465

     3149     6455    3         DO;

     3150     6456    3           HEX_NUM = OCTET_NUM;

   6456  3 023062   200262 236100                    LDQ     OCTET_NUM,,AUTO
         3 023063   000034 736000                    QLS     28
         3 023064   200252 676100                    ERQ     HEX_NUM,,AUTO
         3 023065   776000 376003                    ANQ     -1024,DU
         3 023066   200252 656100                    ERSQ    HEX_NUM,,AUTO

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:586  
     3151     6457    3           CALL INSERT(MDS_TEXT, 17, 11, 'OCTET ',BINHEX(HEX_NIBBLE(0)),

   6457  3 023067   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 023070   000040 772000                    QRL     32
         3 023071   200534 756100                    STQ     CHIP#+2,,AUTO
         3 023072   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 023073   000034 772000                    QRL     28
         3 023074   000017 376007                    ANQ     15,DL
         3 023075   040100 100400                    MLR     fill='040'O
         3 023076   002156 000006 1                  ADSC9   BOARD_64K+687            cn=0,n=6
         3 023077   200321 200006                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=6
         3 023100   200534 235100                    LDA     CHIP#+2,,AUTO
         3 023101   040100 100405                    MLR     fill='040'O
         3 023102   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 023103   200322 600001                    ADSC9   MDS_TEXT+5,,AUTO         cn=3,n=1
         3 023104   040100 100406                    MLR     fill='040'O
         3 023105   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 023106   200323 000001                    ADSC9   MDS_TEXT+6,,AUTO         cn=0,n=1
         3 023107   002160 236000 1                  LDQ     BOARD_64K+689
         3 023110   000011 772000                    QRL     9
         3 023111   200323 552134                    STBQ    MDS_TEXT+6,'34'O,AUTO

     3152     6458    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     3153     6459    3           CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),

   6459  3 023112   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 023113   000003 735000                    ALS     3
         3 023114   023116 605000 3                  TPL     s:6459+4
         3 023115   000044 035003                    ADLA    36,DU
         3 023116   003100 061505                    CSR     bolr='003'O
         3 023117   200241 000004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=0,n=4
         3 023120   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 023121   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 023122   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 023123   000003 735000                    ALS     3
         3 023124   023126 605000 3                  TPL     s:6459+12
         3 023125   000044 035003                    ADLA    36,DU
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:587  
         3 023126   003100 061505                    CSR     bolr='003'O
         3 023127   200241 040004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=4,n=4
         3 023130   200535 000044                    BDSC    CHIP#+3,,AUTO            by=0,bit=0,n=36
         3 023131   200536 756100                    STQ     CHIP#+4,,AUTO
         3 023132   200535 236100                    LDQ     CHIP#+3,,AUTO
         3 023133   200536 235100                    LDA     CHIP#+4,,AUTO
         3 023134   040100 100405                    MLR     fill='040'O
         3 023135   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 023136   200324 000001                    ADSC9   MDS_TEXT+7,,AUTO         cn=0,n=1
         3 023137   040100 100406                    MLR     fill='040'O
         3 023140   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 023141   200324 200001                    ADSC9   MDS_TEXT+7,,AUTO         cn=1,n=1

     3154     6460    3                       BINHEX(OCTET_NIBBLE(2 * OCTET_NUM + 1)));
     3155     6461    3           XST_CNT = 30;

   6461  3 023142   000036 235007                    LDA     30,DL
         3 023143   200342 755100                    STA     XST_CNT,,AUTO

     3156     6462    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6462  3 023144   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 023145   200536 450500                    STP0    CHIP#+4,,AUTO
         3 023146   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 023147   200535 451500                    STP1    CHIP#+3,,AUTO
         3 023150   200300 633500                    EPPR3   XST$,,AUTO
         3 023151   200534 453500                    STP3    CHIP#+2,,AUTO
         3 023152   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 023153   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 023154   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 023155   000000 011000                    NOP     0

     3157     6463    3           NXST = NXST + 1;

   6463  3 023156   200343 235100                    LDA     NXST,,AUTO
         3 023157   000001 035007                    ADLA    1,DL
         3 023160   200343 755100                    STA     NXST,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:588  

     3158     6464    3         END;

     3159     6465    2      IF (OCTET_NUM > 0 AND OCTET_NUM < 4) THEN

   6465  3 023161   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 023162   023300 604400 3                  TMOZ    s:6483
         3 023163   000004 115007                    CMPA    4,DL
         3 023164   023300 605000 3                  TPL     s:6483

     3160     6466    3         DO;

     3161     6467    3           PARAM_INDX = 0;

   6467  3 023165   200253 450100                    STZ     PARAM_INDX,,AUTO

     3162     6468    4           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) +7);

   6468  3 023166   200010 236100                    LDQ     I,,AUTO
         3 023167   000012 402007                    MPY     10,DL
         3 023170   200215 470500                    LDP0    DEV$,,AUTO
         3 023171   000000 236106                    LDQ     0,QL,PR0
         3 023172   000030 772000                    QRL     24
         3 023173   007770 376007                    ANQ     4088,DL
         3 023174   200011 756100                    STQ     X,,AUTO
         3 023175   023256 710000 3                  TRA     s:6478+1

     3163     6469    4              IF (IO_MASK1(X)) AND (PARAM_TBL.COUNT(PARAM_INDX) > 1)

   6469  3 023176   200011 235100                    LDA     X,,AUTO
         3 023177   023201 605000 3                  TPL     s:6469+3
         3 023200   000044 035003                    ADLA    36,DU
         3 023201   000000 066505                    CMPB    filb='0'B
         3 023202   200221 000001                    BDSC    IO_MASK,A,AUTO           by=0,bit=0,n=1
         3 023203   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 023204   023254 600000 3                  TZE     s:6477
         3 023205   200253 236100                    LDQ     PARAM_INDX,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:589  
         3 023206   000014 402007                    MPY     12,DL
         3 023207   200216 470500                    LDP0    OCTET$,,AUTO
         3 023210   000000 236106                    LDQ     0,QL,PR0
         3 023211   777000 376003                    ANQ     -512,DU
         3 023212   002000 116003                    CMPQ    1024,DU
         3 023213   023254 602000 3                  TNC     s:6477

     3164     6470    5                 THEN DO;

     3165     6471    5                   MDS_TEXT = ' ';

   6471  3 023214   040100 100400                    MLR     fill='040'O
         3 023215   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 023216   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3166     6472    5                   CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(PARAM_INDX), PARAM_TBL.
              6472                            TEXT(PARAM_INDX));

   6472  3 023217   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 023220   000014 402007                    MPY     12,DL
         3 023221   000000 236106                    LDQ     0,QL,PR0
         3 023222   000033 772000                    QRL     27
         3 023223   000000 620006                    EAX0    0,QL
         3 023224   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 023225   000060 402007                    MPY     48,DL
         3 023226   040140 100506                    MLR     fill='040'O
         3 023227   000000 200054                    ADSC9   0,Q,PR0                  cn=1,n=44
         3 023230   200321 200010                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=*X0

     3167     6473    5                   XST_CNT = PARAM_TBL.COUNT(PARAM_INDX) + 17;

   6473  3 023231   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 023232   000014 402007                    MPY     12,DL
         3 023233   000000 236106                    LDQ     0,QL,PR0
         3 023234   000033 772000                    QRL     27
         3 023235   000021 036007                    ADLQ    17,DL
         3 023236   200342 756100                    STQ     XST_CNT,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:590  

     3168     6474    5                   CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6474  3 023237   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 023240   200536 451500                    STP1    CHIP#+4,,AUTO
         3 023241   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 023242   200535 453500                    STP3    CHIP#+3,,AUTO
         3 023243   200300 634500                    EPPR4   XST$,,AUTO
         3 023244   200534 454500                    STP4    CHIP#+2,,AUTO
         3 023245   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 023246   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 023247   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 023250   000000 011000                    NOP     0

     3169     6475    5                   NXST = NXST + 1;

   6475  3 023251   200343 235100                    LDA     NXST,,AUTO
         3 023252   000001 035007                    ADLA    1,DL
         3 023253   200343 755100                    STA     NXST,,AUTO

     3170     6476    5                 END;

     3171     6477    4           PARAM_INDX = PARAM_INDX + 1;

   6477  3 023254   200253 054100                    AOS     PARAM_INDX,,AUTO

     3172     6478    4           END;  /* DO X */

   6478  3 023255   200011 054100                    AOS     X,,AUTO
         3 023256   200010 236100                    LDQ     I,,AUTO
         3 023257   000012 402007                    MPY     10,DL
         3 023260   200215 470500                    LDP0    DEV$,,AUTO
         3 023261   000000 236106                    LDQ     0,QL,PR0
         3 023262   000030 772000                    QRL     24
         3 023263   007770 376007                    ANQ     4088,DL
         3 023264   000007 036007                    ADLQ    7,DL
         3 023265   200011 116100                    CMPQ    X,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:591  
         3 023266   023176 605000 3                  TPL     s:6469

     3173     6479    3           IF OCTET_NUM >= PARAMETER_LENGTH - 1 THEN

   6479  3 023267   200255 236100                    LDQ     PARAMETER_LENGTH,,AUTO
         3 023270   000034 772000                    QRL     28
         3 023271   000001 136007                    SBLQ    1,DL
         3 023272   200262 116100                    CMPQ    OCTET_NUM,,AUTO
         3 023273   023276 605400 3                  TPNZ    s:6481

     3174     6480    3              CALL DECODE_PARAM_3X;

   6480  3 023274   025672 701000 3                  TSX1    DECODE_PARAM_3X
         3 023275   000000 011000                    NOP     0

     3175     6481    3           RETURN;

   6481  3 023276   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 023277   000001 702211                    TSX2  ! 1,X1

     3176     6482    3         END;
     3177     6483    2      IF OCTET_NUM = 5 THEN

   6483  3 023300   000005 115007                    CMPA    5,DL
         3 023301   023415 601000 3                  TNZ     s:6498

     3178     6484    3         DO;                            /* DECODE DRIVE ENDING STATUS */

     3179     6485    3           HEX_NUM = OCTET_NUM + 4;     /* THIS CORRESPONDS TO OCTET 9 IN SPECS */

   6485  3 023302   200262 236100                    LDQ     OCTET_NUM,,AUTO
         3 023303   000004 036007                    ADLQ    4,DL
         3 023304   000034 736000                    QLS     28
         3 023305   200252 676100                    ERQ     HEX_NUM,,AUTO
         3 023306   776000 376003                    ANQ     -1024,DU
         3 023307   200252 656100                    ERSQ    HEX_NUM,,AUTO

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:592  
     3180     6486    3           CALL INSERT(MDS_TEXT, 17, 11, 'OCTET ', BINHEX(HEX_NIBBLE(0)),

   6486  3 023310   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 023311   000040 772000                    QRL     32
         3 023312   200534 756100                    STQ     CHIP#+2,,AUTO
         3 023313   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 023314   000034 772000                    QRL     28
         3 023315   000017 376007                    ANQ     15,DL
         3 023316   040100 100400                    MLR     fill='040'O
         3 023317   002156 000006 1                  ADSC9   BOARD_64K+687            cn=0,n=6
         3 023320   200321 200006                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=6
         3 023321   200534 235100                    LDA     CHIP#+2,,AUTO
         3 023322   040100 100405                    MLR     fill='040'O
         3 023323   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 023324   200322 600001                    ADSC9   MDS_TEXT+5,,AUTO         cn=3,n=1
         3 023325   040100 100406                    MLR     fill='040'O
         3 023326   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 023327   200323 000001                    ADSC9   MDS_TEXT+6,,AUTO         cn=0,n=1
         3 023330   002160 236000 1                  LDQ     BOARD_64K+689
         3 023331   000011 772000                    QRL     9
         3 023332   200323 552134                    STBQ    MDS_TEXT+6,'34'O,AUTO

     3181     6487    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     3182     6488    3           CALL INSERT(MDS_TEXT, 28, 25,

   6488  3 023333   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 023334   000003 735000                    ALS     3
         3 023335   023337 605000 3                  TPL     s:6488+4
         3 023336   000044 035003                    ADLA    36,DU
         3 023337   003100 061505                    CSR     bolr='003'O
         3 023340   200241 000004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=0,n=4
         3 023341   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 023342   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 023343   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 023344   000003 735000                    ALS     3
         3 023345   023347 605000 3                  TPL     s:6488+12
         3 023346   000044 035003                    ADLA    36,DU
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:593  
         3 023347   003100 061505                    CSR     bolr='003'O
         3 023350   200241 040004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=4,n=4
         3 023351   200535 000044                    BDSC    CHIP#+3,,AUTO            by=0,bit=0,n=36
         3 023352   200536 756100                    STQ     CHIP#+4,,AUTO
         3 023353   200535 236100                    LDQ     CHIP#+3,,AUTO
         3 023354   200536 235100                    LDA     CHIP#+4,,AUTO
         3 023355   040100 100405                    MLR     fill='040'O
         3 023356   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 023357   200324 000001                    ADSC9   MDS_TEXT+7,,AUTO         cn=0,n=1
         3 023360   040100 100406                    MLR     fill='040'O
         3 023361   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 023362   200324 200001                    ADSC9   MDS_TEXT+7,,AUTO         cn=1,n=1
         3 023363   040100 100400                    MLR     fill='040'O
         3 023364   002302 000027 1                  ADSC9   BOARD_64K+771            cn=0,n=23
         3 023365   200324 400027                    ADSC9   MDS_TEXT+7,,AUTO         cn=2,n=23

     3183     6489    3                       BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),
     3184     6490    3                       BINHEX(OCTET_NIBBLE(2 * OCTET_NUM + 1)),
     3185     6491    3                       ' -- DRIVE ENDING STATUS');
     3186     6492    3           XST_CNT = 53;

   6492  3 023366   000065 235007                    LDA     53,DL
         3 023367   200342 755100                    STA     XST_CNT,,AUTO

     3187     6493    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6493  3 023370   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 023371   200536 450500                    STP0    CHIP#+4,,AUTO
         3 023372   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 023373   200535 451500                    STP1    CHIP#+3,,AUTO
         3 023374   200300 633500                    EPPR3   XST$,,AUTO
         3 023375   200534 453500                    STP3    CHIP#+2,,AUTO
         3 023376   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 023377   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 023400   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 023401   000000 011000                    NOP     0

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:594  
     3188     6494    3           NXST = NXST + 1;

   6494  3 023402   200343 235100                    LDA     NXST,,AUTO
         3 023403   000001 035007                    ADLA    1,DL
         3 023404   200343 755100                    STA     NXST,,AUTO

     3189     6495    3           MDS_STATUS_REG1 = OCTET_BYTE(5);

   6495  3 023405   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 023406   000004 736000                    QLS     4
         3 023407   200256 676100                    ERQ     MDS_STATUS_REG1,,AUTO
         3 023410   776000 376003                    ANQ     -1024,DU
         3 023411   200256 656100                    ERSQ    MDS_STATUS_REG1,,AUTO

     3190     6496    3           CALL DECODE_DRIVE_STAT;

   6496  3 023412   025046 701000 3                  TSX1    DECODE_DRIVE_STAT
         3 023413   000000 011000                    NOP     0

     3191     6497    3         END;  /* OCTET_NUM = 5 */

   6497  3 023414   024416 710000 3                  TRA     s:6632

     3192     6498    2         ELSE IF OCTET_NUM = 6 THEN

   6498  3 023415   000006 115007                    CMPA    6,DL
         3 023416   023532 601000 3                  TNZ     s:6513

     3193     6499    3         DO;                            /* DECODE CMD ENDING STATUS */

     3194     6500    3           HEX_NUM = OCTET_NUM + 4;     /* THIS CORRESPONDS TO OCTET A IN SPECS */

   6500  3 023417   200262 236100                    LDQ     OCTET_NUM,,AUTO
         3 023420   000004 036007                    ADLQ    4,DL
         3 023421   000034 736000                    QLS     28
         3 023422   200252 676100                    ERQ     HEX_NUM,,AUTO
         3 023423   776000 376003                    ANQ     -1024,DU
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:595  
         3 023424   200252 656100                    ERSQ    HEX_NUM,,AUTO

     3195     6501    3           CALL INSERT(MDS_TEXT, 17, 11, 'OCTET ', BINHEX(HEX_NIBBLE(0)),

   6501  3 023425   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 023426   000040 772000                    QRL     32
         3 023427   200534 756100                    STQ     CHIP#+2,,AUTO
         3 023430   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 023431   000034 772000                    QRL     28
         3 023432   000017 376007                    ANQ     15,DL
         3 023433   040100 100400                    MLR     fill='040'O
         3 023434   002156 000006 1                  ADSC9   BOARD_64K+687            cn=0,n=6
         3 023435   200321 200006                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=6
         3 023436   200534 235100                    LDA     CHIP#+2,,AUTO
         3 023437   040100 100405                    MLR     fill='040'O
         3 023440   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 023441   200322 600001                    ADSC9   MDS_TEXT+5,,AUTO         cn=3,n=1
         3 023442   040100 100406                    MLR     fill='040'O
         3 023443   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 023444   200323 000001                    ADSC9   MDS_TEXT+6,,AUTO         cn=0,n=1
         3 023445   002160 236000 1                  LDQ     BOARD_64K+689
         3 023446   000011 772000                    QRL     9
         3 023447   200323 552134                    STBQ    MDS_TEXT+6,'34'O,AUTO

     3196     6502    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     3197     6503    3           CALL INSERT(MDS_TEXT, 28, 23,

   6503  3 023450   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 023451   000003 735000                    ALS     3
         3 023452   023454 605000 3                  TPL     s:6503+4
         3 023453   000044 035003                    ADLA    36,DU
         3 023454   003100 061505                    CSR     bolr='003'O
         3 023455   200241 000004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=0,n=4
         3 023456   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 023457   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 023460   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 023461   000003 735000                    ALS     3
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:596  
         3 023462   023464 605000 3                  TPL     s:6503+12
         3 023463   000044 035003                    ADLA    36,DU
         3 023464   003100 061505                    CSR     bolr='003'O
         3 023465   200241 040004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=4,n=4
         3 023466   200535 000044                    BDSC    CHIP#+3,,AUTO            by=0,bit=0,n=36
         3 023467   200536 756100                    STQ     CHIP#+4,,AUTO
         3 023470   200535 236100                    LDQ     CHIP#+3,,AUTO
         3 023471   200536 235100                    LDA     CHIP#+4,,AUTO
         3 023472   040100 100405                    MLR     fill='040'O
         3 023473   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 023474   200324 000001                    ADSC9   MDS_TEXT+7,,AUTO         cn=0,n=1
         3 023475   040100 100406                    MLR     fill='040'O
         3 023476   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 023477   200324 200001                    ADSC9   MDS_TEXT+7,,AUTO         cn=1,n=1
         3 023500   040100 100400                    MLR     fill='040'O
         3 023501   002310 000025 1                  ADSC9   BOARD_64K+777            cn=0,n=21
         3 023502   200324 400025                    ADSC9   MDS_TEXT+7,,AUTO         cn=2,n=21

     3198     6504    3                       BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),
     3199     6505    3                       BINHEX(OCTET_NIBBLE(2 * OCTET_NUM + 1)),
     3200     6506    3                       ' -- CMD ENDING STATUS');
     3201     6507    3           XST_CNT = 51;

   6507  3 023503   000063 235007                    LDA     51,DL
         3 023504   200342 755100                    STA     XST_CNT,,AUTO

     3202     6508    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6508  3 023505   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 023506   200536 450500                    STP0    CHIP#+4,,AUTO
         3 023507   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 023510   200535 451500                    STP1    CHIP#+3,,AUTO
         3 023511   200300 633500                    EPPR3   XST$,,AUTO
         3 023512   200534 453500                    STP3    CHIP#+2,,AUTO
         3 023513   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 023514   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 023515   000000 701000 xent               TSX1    THF$ADD_TEXTC
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:597  
         3 023516   000000 011000                    NOP     0

     3203     6509    3           NXST = NXST + 1;

   6509  3 023517   200343 235100                    LDA     NXST,,AUTO
         3 023520   000001 035007                    ADLA    1,DL
         3 023521   200343 755100                    STA     NXST,,AUTO

     3204     6510    3           MDS_STATUS_REG2(1) = OCTET_BYTE(6);

   6510  3 023522   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 023523   000004 736000                    QLS     4
         3 023524   200257 676100                    ERQ     MDS_STATUS_REG2,,AUTO
         3 023525   001774 376003                    ANQ     1020,DU
         3 023526   200257 656100                    ERSQ    MDS_STATUS_REG2,,AUTO

     3205     6511    3           CALL DECODE_CMD_STAT;

   6511  3 023527   025266 701000 3                  TSX1    DECODE_CMD_STAT
         3 023530   000000 011000                    NOP     0

     3206     6512    3         END;  /* OCTET_NUM = 6 */

   6512  3 023531   024416 710000 3                  TRA     s:6632

     3207     6513    2         ELSE IF OCTET_NUM = 7 THEN

   6513  3 023532   000007 115007                    CMPA    7,DL
         3 023533   023614 601000 3                  TNZ     s:6525

     3208     6514    3           DO;

     3209     6515    3             CALL INSERT(MDS_TEXT, 17, 46,

   6515  3 023534   040100 100400                    MLR     fill='040'O
         3 023535   002316 000056 1                  ADSC9   BOARD_64K+783            cn=0,n=46
         3 023536   200321 200056                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=46
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:598  

     3210     6516    3                         'OCTETS 0B TO 0C = 0000 -- COUNT OF SOFT ERRORS');
     3211     6517    3             CALL INSERT(MDS_TEXT, 35, 4, BINHEX(OCTET_NIBBLE(14)),

   6517  3 023537   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 023540   000014 772000                    QRL     12
         3 023541   000017 376007                    ANQ     15,DL
         3 023542   200534 756100                    STQ     CHIP#+2,,AUTO
         3 023543   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 023544   000010 772000                    QRL     8
         3 023545   000017 376007                    ANQ     15,DL
         3 023546   200535 756100                    STQ     CHIP#+3,,AUTO
         3 023547   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 023550   000004 772000                    QRL     4
         3 023551   000017 376007                    ANQ     15,DL
         3 023552   200536 756100                    STQ     CHIP#+4,,AUTO
         3 023553   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 023554   000017 376007                    ANQ     15,DL
         3 023555   200534 235100                    LDA     CHIP#+2,,AUTO
         3 023556   040100 100405                    MLR     fill='040'O
         3 023557   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 023560   200325 600001                    ADSC9   MDS_TEXT+8,,AUTO         cn=3,n=1
         3 023561   200535 235100                    LDA     CHIP#+3,,AUTO
         3 023562   040100 100405                    MLR     fill='040'O
         3 023563   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 023564   200326 000001                    ADSC9   MDS_TEXT+9,,AUTO         cn=0,n=1
         3 023565   200536 235100                    LDA     CHIP#+4,,AUTO
         3 023566   040100 100405                    MLR     fill='040'O
         3 023567   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 023570   200326 200001                    ADSC9   MDS_TEXT+9,,AUTO         cn=1,n=1
         3 023571   040100 100406                    MLR     fill='040'O
         3 023572   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 023573   200326 400001                    ADSC9   MDS_TEXT+9,,AUTO         cn=2,n=1

     3212     6518    3                                          BINHEX(OCTET_NIBBLE(15)),
     3213     6519    3                                          BINHEX(OCTET_NIBBLE(16)),
     3214     6520    3                                          BINHEX(OCTET_NIBBLE(17)));
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:599  
     3215     6521    3             XST_CNT = 63;

   6521  3 023574   000077 235007                    LDA     63,DL
         3 023575   200342 755100                    STA     XST_CNT,,AUTO

     3216     6522    3             CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6522  3 023576   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 023577   200536 450500                    STP0    CHIP#+4,,AUTO
         3 023600   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 023601   200535 451500                    STP1    CHIP#+3,,AUTO
         3 023602   200300 633500                    EPPR3   XST$,,AUTO
         3 023603   200534 453500                    STP3    CHIP#+2,,AUTO
         3 023604   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 023605   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 023606   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 023607   000000 011000                    NOP     0

     3217     6523    3             NXST = NXST + 1;

   6523  3 023610   200343 235100                    LDA     NXST,,AUTO
         3 023611   000001 035007                    ADLA    1,DL
         3 023612   200343 755100                    STA     NXST,,AUTO

     3218     6524    3           END;  /* OCTET_NUM = 7 */

   6524  3 023613   024416 710000 3                  TRA     s:6632

     3219     6525    2         ELSE IF OCTET_NUM = 9 THEN

   6525  3 023614   000011 115007                    CMPA    9,DL
         3 023615   023705 601000 3                  TNZ     s:6542

     3220     6526    3           DO;                        /* OCTETS 9 AND 10 - RETRY CNT */

     3221     6527    3             CALL INSERT(MDS_TEXT, 17, 62,

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:600  
   6527  3 023616   040100 100400                    MLR     fill='040'O
         3 023617   002332 000076 1                  ADSC9   BOARD_64K+795            cn=0,n=62
         3 023620   200321 200076                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=62

     3222     6528    3                      'OCTETS 0D TO 0E = 0000 -- TOTAL # OF RETRIES & ECC CORRECTIONS'
              6528                                  );
     3223     6529    3             CALL INSERT(MDS_TEXT, 35, 4, BINHEX(OCTET_NIBBLE(18)),

   6529  3 023621   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
         3 023622   000040 772000                    QRL     32
         3 023623   200534 756100                    STQ     CHIP#+2,,AUTO
         3 023624   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
         3 023625   000034 772000                    QRL     28
         3 023626   000017 376007                    ANQ     15,DL
         3 023627   200535 756100                    STQ     CHIP#+3,,AUTO
         3 023630   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
         3 023631   000030 772000                    QRL     24
         3 023632   000017 376007                    ANQ     15,DL
         3 023633   200536 756100                    STQ     CHIP#+4,,AUTO
         3 023634   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
         3 023635   000024 772000                    QRL     20
         3 023636   000017 376007                    ANQ     15,DL
         3 023637   200534 235100                    LDA     CHIP#+2,,AUTO
         3 023640   040100 100405                    MLR     fill='040'O
         3 023641   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 023642   200325 600001                    ADSC9   MDS_TEXT+8,,AUTO         cn=3,n=1
         3 023643   200535 235100                    LDA     CHIP#+3,,AUTO
         3 023644   040100 100405                    MLR     fill='040'O
         3 023645   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 023646   200326 000001                    ADSC9   MDS_TEXT+9,,AUTO         cn=0,n=1
         3 023647   200536 235100                    LDA     CHIP#+4,,AUTO
         3 023650   040100 100405                    MLR     fill='040'O
         3 023651   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 023652   200326 200001                    ADSC9   MDS_TEXT+9,,AUTO         cn=1,n=1
         3 023653   040100 100406                    MLR     fill='040'O
         3 023654   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 023655   200326 400001                    ADSC9   MDS_TEXT+9,,AUTO         cn=2,n=1
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:601  

     3224     6530    3                                          BINHEX(OCTET_NIBBLE(19)),
     3225     6531    3                                          BINHEX(OCTET_NIBBLE(20)),
     3226     6532    3                                          BINHEX(OCTET_NIBBLE(21)));
     3227     6533    3             XST_CNT = 79;

   6533  3 023656   000117 235007                    LDA     79,DL
         3 023657   200342 755100                    STA     XST_CNT,,AUTO

     3228     6534    3             CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6534  3 023660   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 023661   200536 450500                    STP0    CHIP#+4,,AUTO
         3 023662   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 023663   200535 451500                    STP1    CHIP#+3,,AUTO
         3 023664   200300 633500                    EPPR3   XST$,,AUTO
         3 023665   200534 453500                    STP3    CHIP#+2,,AUTO
         3 023666   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 023667   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 023670   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 023671   000000 011000                    NOP     0

     3229     6535    3             NXST = NXST + 1;

   6535  3 023672   200343 235100                    LDA     NXST,,AUTO
         3 023673   000001 035007                    ADLA    1,DL
         3 023674   200343 755100                    STA     NXST,,AUTO

     3230     6536    3             IF PARAMETER_LENGTH = %HEX_0F    /* TEST FOR SHORT PARAMETER */

   6536  3 023675   200255 236100                    LDQ     PARAMETER_LENGTH,,AUTO
         3 023676   776000 376003                    ANQ     -1024,DU
         3 023677   036000 116003                    CMPQ    15360,DU
         3 023700   024416 601000 3                  TNZ     s:6632

     3231     6537    4                THEN DO;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:602  
     3232     6538    4                   CALL DECODE_PARAM_3X;

   6538  3 023701   025672 701000 3                  TSX1    DECODE_PARAM_3X
         3 023702   000000 011000                    NOP     0

     3233     6539    4                   RETURN;

   6539  3 023703   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 023704   000001 702211                    TSX2  ! 1,X1

     3234     6540    4                END;
     3235     6541    3           END;  /* OCTET_NUM = 9 */
     3236     6542    2         ELSE IF OCTET_NUM = 11 THEN

   6542  3 023705   000013 115007                    CMPA    11,DL
         3 023706   024043 601000 3                  TNZ     s:6568

     3237     6543    3            DO;                                /* OCTET 11 - DEVICE STATUS */

     3238     6544    3              CALL INSERT(MDS_TEXT, 17, 43,

   6544  3 023707   040100 100400                    MLR     fill='040'O
         3 023710   002352 000053 1                  ADSC9   BOARD_64K+811            cn=0,n=43
         3 023711   200321 200053                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=43

     3239     6545    3                          'OCTET 0F = 00 -- DRIVE''S STATUS/ERROR CODES');
     3240     6546    3              CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(22)),

   6546  3 023712   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
         3 023713   000020 772000                    QRL     16
         3 023714   000017 376007                    ANQ     15,DL
         3 023715   200534 756100                    STQ     CHIP#+2,,AUTO
         3 023716   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
         3 023717   000014 772000                    QRL     12
         3 023720   000017 376007                    ANQ     15,DL
         3 023721   200534 235100                    LDA     CHIP#+2,,AUTO
         3 023722   040100 100405                    MLR     fill='040'O
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:603  
         3 023723   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 023724   200324 000001                    ADSC9   MDS_TEXT+7,,AUTO         cn=0,n=1
         3 023725   040100 100406                    MLR     fill='040'O
         3 023726   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 023727   200324 200001                    ADSC9   MDS_TEXT+7,,AUTO         cn=1,n=1

     3241     6547    3                                           BINHEX(OCTET_NIBBLE(23)));
     3242     6548    3              XST_CNT = 60;

   6548  3 023730   000074 235007                    LDA     60,DL
         3 023731   200342 755100                    STA     XST_CNT,,AUTO

     3243     6549    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6549  3 023732   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 023733   200536 450500                    STP0    CHIP#+4,,AUTO
         3 023734   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 023735   200535 451500                    STP1    CHIP#+3,,AUTO
         3 023736   200300 633500                    EPPR3   XST$,,AUTO
         3 023737   200534 453500                    STP3    CHIP#+2,,AUTO
         3 023740   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 023741   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 023742   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 023743   000000 011000                    NOP     0

     3244     6550    3              NXST = NXST + 1;

   6550  3 023744   200343 235100                    LDA     NXST,,AUTO
         3 023745   000001 035007                    ADLA    1,DL
         3 023746   200343 755100                    STA     NXST,,AUTO

     3245     6551    3              IF EL$IOERR.MODEL = 'MSU8092' THEN

   6551  3 023747   200005 470500                    LDP0    INFO+1,,AUTO
         3 023750   040000 106500                    CMPC    fill='040'O
         3 023751   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 023752   002365 000007 1                  ADSC9   BOARD_64K+822            cn=0,n=7
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:604  
         3 023753   024416 601000 3                  TNZ     s:6632

     3246     6552    4                 DO;                       /* DECODE STATUS FOR MDS II DISC */

     3247     6553    4                   MDS_TBL$ = ADDR(MDSII_STATUS);

   6553  3 023754   000453 236000 4                  LDQ     299
         3 023755   200217 756100                    STQ     MDS_TBL$,,AUTO

     3248     6554    4                   MAX_ENTRY = %MDSII_MAX_STATUS;

   6554  3 023756   000032 235007                    LDA     26,DL
         3 023757   200261 755100                    STA     MAX_ENTRY,,AUTO

     3249     6555    5                   DO X = 0 TO MAX_ENTRY;

   6555  3 023760   200011 450100                    STZ     X,,AUTO
         3 023761   024036 710000 3                  TRA     s:6565+1

     3250     6556    5                      IF OCTET_BYTE(11) = MDS_TBL.CODE(X) THEN

   6556  3 023762   200011 236100                    LDQ     X,,AUTO
         3 023763   000014 402007                    MPY     12,DL
         3 023764   200217 470500                    LDP0    MDS_TBL$,,AUTO
         3 023765   000000 236106                    LDQ     0,QL,PR0
         3 023766   000033 772000                    QRL     27
         3 023767   200534 756100                    STQ     CHIP#+2,,AUTO
         3 023770   200243 236100                    LDQ     OCTET_BYTE+2,,AUTO
         3 023771   000014 772000                    QRL     12
         3 023772   000377 376007                    ANQ     255,DL
         3 023773   200534 116100                    CMPQ    CHIP#+2,,AUTO
         3 023774   024035 601000 3                  TNZ     s:6565

     3251     6557    6                         DO;

     3252     6558    6                           MDS_TEXT = ' ';

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:605  
   6558  3 023775   040100 100400                    MLR     fill='040'O
         3 023776   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 023777   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3253     6559    6                           CALL INSERT(MDS_TEXT, 19, MDS_TBL.COUNT(X),

   6559  3 024000   200011 236100                    LDQ     X,,AUTO
         3 024001   000014 402007                    MPY     12,DL
         3 024002   000000 220106                    LDX0    0,QL,PR0
         3 024003   000777 360003                    ANX0    511,DU
         3 024004   200011 236100                    LDQ     X,,AUTO
         3 024005   000060 402007                    MPY     48,DL
         3 024006   040140 100506                    MLR     fill='040'O
         3 024007   000000 400054                    ADSC9   0,Q,PR0                  cn=2,n=44
         3 024010   200321 600010                    ADSC9   MDS_TEXT+4,,AUTO         cn=3,n=*X0

     3254     6560    6                                       MDS_TBL.TEXT(X));
     3255     6561    6                           XST_CNT = MDS_TBL.COUNT(X) + 19;

   6561  3 024011   200011 236100                    LDQ     X,,AUTO
         3 024012   000014 402007                    MPY     12,DL
         3 024013   000000 236106                    LDQ     0,QL,PR0
         3 024014   000022 772000                    QRL     18
         3 024015   000777 376007                    ANQ     511,DL
         3 024016   000023 036007                    ADLQ    19,DL
         3 024017   200342 756100                    STQ     XST_CNT,,AUTO

     3256     6562    6                           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6562  3 024020   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 024021   200536 451500                    STP1    CHIP#+4,,AUTO
         3 024022   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 024023   200535 453500                    STP3    CHIP#+3,,AUTO
         3 024024   200300 634500                    EPPR4   XST$,,AUTO
         3 024025   200534 454500                    STP4    CHIP#+2,,AUTO
         3 024026   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 024027   000021 631400 xsym               EPPR1   B_VECTNIL+17
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:606  
         3 024030   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 024031   000000 011000                    NOP     0

     3257     6563    6                           NXST = NXST + 1;

   6563  3 024032   200343 235100                    LDA     NXST,,AUTO
         3 024033   000001 035007                    ADLA    1,DL
         3 024034   200343 755100                    STA     NXST,,AUTO

     3258     6564    6                         END;

     3259     6565    5                   END;  /* DO X */

   6565  3 024035   200011 054100                    AOS     X,,AUTO
         3 024036   200261 236100                    LDQ     MAX_ENTRY,,AUTO
         3 024037   023762 604000 3                  TMI     s:6556
         3 024040   200011 116100                    CMPQ    X,,AUTO
         3 024041   023762 605000 3                  TPL     s:6556

     3260     6566    4                 END;  /* MODEL = MSU8092 */

     3261     6567    3            END;

   6567  3 024042   024416 710000 3                  TRA     s:6632

     3262     6568    2         ELSE IF OCTET_NUM = 12 THEN

   6568  3 024043   000014 115007                    CMPA    12,DL
         3 024044   024246 601000 3                  TNZ     s:6600

     3263     6569    3            DO;

     3264     6570    4              DO X = 0 TO 3;

   6570  3 024045   200011 450100                    STZ     X,,AUTO

     3265     6571    4                 FRU_STRING.OCTET.NIB1(X) = BINHEX(OCTET_NIBBLE(2 * X + 24));
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:607  

   6571  3 024046   200011 235100                    LDA     X,,AUTO
         3 024047   000003 735000                    ALS     3
         3 024050   024052 605000 3                  TPL     s:6571+4
         3 024051   000044 035003                    ADLA    36,DU
         3 024052   003100 061505                    CSR     bolr='003'O
         3 024053   200243 460004                    BDSC    OCTET_BYTE+2,A,AUTO      by=2,bit=6,n=4
         3 024054   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 024055   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 024056   200535 756100                    STQ     CHIP#+3,,AUTO
         3 024057   200011 236100                    LDQ     X,,AUTO
         3 024060   000003 402007                    MPY     3,DL
         3 024061   200535 235100                    LDA     CHIP#+3,,AUTO
         3 024062   040006 100405                    MLR     fill='040'O
         3 024063   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 024064   000066 000001 2                  ADSC9   FRU_STRING+1,Q           cn=0,n=1

     3266     6572    4                 FRU_STRING.OCTET.NIB2(X) = BINHEX(OCTET_NIBBLE(2 * X + 25));

   6572  3 024065   200011 235100                    LDA     X,,AUTO
         3 024066   000003 735000                    ALS     3
         3 024067   024071 605000 3                  TPL     s:6572+4
         3 024070   000044 035003                    ADLA    36,DU
         3 024071   003100 061505                    CSR     bolr='003'O
         3 024072   200243 610004                    BDSC    OCTET_BYTE+2,A,AUTO      by=3,bit=1,n=4
         3 024073   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 024074   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 024075   200535 756100                    STQ     CHIP#+3,,AUTO
         3 024076   200011 236100                    LDQ     X,,AUTO
         3 024077   000003 402007                    MPY     3,DL
         3 024100   200535 235100                    LDA     CHIP#+3,,AUTO
         3 024101   040006 100405                    MLR     fill='040'O
         3 024102   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 024103   000066 200001 2                  ADSC9   FRU_STRING+1,Q           cn=1,n=1

     3267     6573    4              END;  /* DO X */

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:608  
   6573  3 024104   200011 054100                    AOS     X,,AUTO
         3 024105   200011 235100                    LDA     X,,AUTO
         3 024106   000003 115007                    CMPA    3,DL
         3 024107   024046 604400 3                  TMOZ    s:6571

     3268     6574    3              CALL INSERT(MDS_TEXT, 17, 39, 'OCTETS 20 TO 23', FRU_STR, '  - FRUS');

   6574  3 024110   040100 100400                    MLR     fill='040'O
         3 024111   002367 000017 1                  ADSC9   BOARD_64K+824            cn=0,n=15
         3 024112   200321 200017                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=15
         3 024113   040100 100400                    MLR     fill='040'O
         3 024114   000065 000020 2                  ADSC9   FRU_STRING               cn=0,n=16
         3 024115   200325 000020                    ADSC9   MDS_TEXT+8,,AUTO         cn=0,n=16
         3 024116   040100 100400                    MLR     fill='040'O
         3 024117   002373 000010 1                  ADSC9   BOARD_64K+828            cn=0,n=8
         3 024120   200331 000010                    ADSC9   MDS_TEXT+12,,AUTO        cn=0,n=8

     3269     6575    3              XST_CNT = 56;

   6575  3 024121   000070 235007                    LDA     56,DL
         3 024122   200342 755100                    STA     XST_CNT,,AUTO

     3270     6576    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6576  3 024123   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 024124   200536 450500                    STP0    CHIP#+4,,AUTO
         3 024125   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 024126   200535 451500                    STP1    CHIP#+3,,AUTO
         3 024127   200300 633500                    EPPR3   XST$,,AUTO
         3 024130   200534 453500                    STP3    CHIP#+2,,AUTO
         3 024131   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 024132   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 024133   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 024134   000000 011000                    NOP     0

     3271     6577    3              NXST = NXST + 1;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:609  
   6577  3 024135   200343 235100                    LDA     NXST,,AUTO
         3 024136   000001 035007                    ADLA    1,DL
         3 024137   200343 755100                    STA     NXST,,AUTO

     3272     6578    3              IF EL$IOERR.MODEL = 'MSU8092' THEN

   6578  3 024140   200005 470500                    LDP0    INFO+1,,AUTO
         3 024141   040000 106500                    CMPC    fill='040'O
         3 024142   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 024143   002365 000007 1                  ADSC9   BOARD_64K+822            cn=0,n=7
         3 024144   024152 601000 3                  TNZ     s:6584

     3273     6579    4                 DO;

     3274     6580    4                   MAX_ENTRY = %MDSII_MAX_FRUS;

   6580  3 024145   000010 236007                    LDQ     8,DL
         3 024146   200261 756100                    STQ     MAX_ENTRY,,AUTO

     3275     6581    4                   MDS_TBL$ = ADDR(MDSII_FRUS);

   6581  3 024147   000454 236000 4                  LDQ     300
         3 024150   200217 756100                    STQ     MDS_TBL$,,AUTO

     3276     6582    4                 END;

   6582  3 024151   024156 710000 3                  TRA     s:6587

     3277     6583    4                 ELSE DO;

     3278     6584    4                   MAX_ENTRY = %MDSI_MAX_FRUS;

   6584  3 024152   000017 236007                    LDQ     15,DL
         3 024153   200261 756100                    STQ     MAX_ENTRY,,AUTO

     3279     6585    4                   MDS_TBL$ = ADDR(MDSI_FRUS);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:610  
   6585  3 024154   000455 236000 4                  LDQ     301
         3 024155   200217 756100                    STQ     MDS_TBL$,,AUTO

     3280     6586    4                 END;

     3281     6587    4              DO X = 12 TO 15;

   6587  3 024156   000014 235007                    LDA     12,DL
         3 024157   200011 755100                    STA     X,,AUTO

     3282     6588    4                 F_INDX = OCTET_BYTE(X);

   6588  3 024160   200011 235100                    LDA     X,,AUTO
         3 024161   000003 735000                    ALS     3
         3 024162   024164 605000 3                  TPL     s:6588+4
         3 024163   000044 035003                    ADLA    36,DU
         3 024164   003100 060505                    CSL     bolr='003'O
         3 024165   200241 000010                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=0,n=8
         3 024166   200260 000010                    BDSC    F_INDX,,AUTO             by=0,bit=0,n=8

     3283     6589    4                 IF (FRU_INDX(1) >0 AND FRU_INDX(1) <= MAX_ENTRY) THEN

   6589  3 024167   200260 236100                    LDQ     F_INDX,,AUTO
         3 024170   036000 316003                    CANQ    15360,DU
         3 024171   024241 600000 3                  TZE     s:6598
         3 024172   200260 236100                    LDQ     F_INDX,,AUTO
         3 024173   000034 772000                    QRL     28
         3 024174   000017 376007                    ANQ     15,DL
         3 024175   200261 116100                    CMPQ    MAX_ENTRY,,AUTO
         3 024176   024200 600000 3                  TZE     s:6591
         3 024177   024241 603000 3                  TRC     s:6598

     3284     6590    5                   DO;

     3285     6591    5                     MDS_TEXT = ' ';

   6591  3 024200   040100 100400                    MLR     fill='040'O
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:611  
         3 024201   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 024202   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3286     6592    5                     CALL INSERT(MDS_TEXT, 19, MDS_TBL.COUNT(FRU_INDX(1)),

   6592  3 024203   000014 402007                    MPY     12,DL
         3 024204   200217 470500                    LDP0    MDS_TBL$,,AUTO
         3 024205   000000 220106                    LDX0    0,QL,PR0
         3 024206   000777 360003                    ANX0    511,DU
         3 024207   000002 736000                    QLS     2
         3 024210   040140 100506                    MLR     fill='040'O
         3 024211   000000 400054                    ADSC9   0,Q,PR0                  cn=2,n=44
         3 024212   200321 600010                    ADSC9   MDS_TEXT+4,,AUTO         cn=3,n=*X0

     3287     6593    5                                 MDS_TBL.TEXT(FRU_INDX(1)));
     3288     6594    5                     XST_CNT = MDS_TBL.COUNT(FRU_INDX(1)) + 19;

   6594  3 024213   200260 236100                    LDQ     F_INDX,,AUTO
         3 024214   000034 772000                    QRL     28
         3 024215   000017 376007                    ANQ     15,DL
         3 024216   000014 402007                    MPY     12,DL
         3 024217   000000 236106                    LDQ     0,QL,PR0
         3 024220   000022 772000                    QRL     18
         3 024221   000777 376007                    ANQ     511,DL
         3 024222   000023 036007                    ADLQ    19,DL
         3 024223   200342 756100                    STQ     XST_CNT,,AUTO

     3289     6595    5                     CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6595  3 024224   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 024225   200536 451500                    STP1    CHIP#+4,,AUTO
         3 024226   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 024227   200535 453500                    STP3    CHIP#+3,,AUTO
         3 024230   200300 634500                    EPPR4   XST$,,AUTO
         3 024231   200534 454500                    STP4    CHIP#+2,,AUTO
         3 024232   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 024233   000021 631400 xsym               EPPR1   B_VECTNIL+17
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:612  
         3 024234   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 024235   000000 011000                    NOP     0

     3290     6596    5                     NXST = NXST + 1;

   6596  3 024236   200343 235100                    LDA     NXST,,AUTO
         3 024237   000001 035007                    ADLA    1,DL
         3 024240   200343 755100                    STA     NXST,,AUTO

     3291     6597    5                   END;

     3292     6598    4              END;  /* DO X */

   6598  3 024241   200011 054100                    AOS     X,,AUTO
         3 024242   200011 235100                    LDA     X,,AUTO
         3 024243   000017 115007                    CMPA    15,DL
         3 024244   024160 604400 3                  TMOZ    s:6588

     3293     6599    3            END;    /* DO OCTET_NUM = 12 */

   6599  3 024245   024416 710000 3                  TRA     s:6632

     3294     6600    2         ELSE IF OCTET_NUM = 16 THEN

   6600  3 024246   000020 115007                    CMPA    16,DL
         3 024247   024414 601000 3                  TNZ     s:6631

     3295     6601    3            DO;

     3296     6602    3              CALL INSERT(MDS_TEXT,17,27,'OCTET 24 = 00 -- FAULT CODE');

   6602  3 024250   040100 100400                    MLR     fill='040'O
         3 024251   002375 000033 1                  ADSC9   BOARD_64K+830            cn=0,n=27
         3 024252   200321 200033                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=27

     3297     6603    3              CALL INSERT(MDS_TEXT,28,2,BINHEX(OCTET_NIBBLE(32)),

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:613  
   6603  3 024253   200244 236100                    LDQ     OCTET_BYTE+3,,AUTO
         3 024254   000014 772000                    QRL     12
         3 024255   000017 376007                    ANQ     15,DL
         3 024256   200534 756100                    STQ     CHIP#+2,,AUTO
         3 024257   200244 236100                    LDQ     OCTET_BYTE+3,,AUTO
         3 024260   000010 772000                    QRL     8
         3 024261   000017 376007                    ANQ     15,DL
         3 024262   200534 235100                    LDA     CHIP#+2,,AUTO
         3 024263   040100 100405                    MLR     fill='040'O
         3 024264   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 024265   200324 000001                    ADSC9   MDS_TEXT+7,,AUTO         cn=0,n=1
         3 024266   040100 100406                    MLR     fill='040'O
         3 024267   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 024270   200324 200001                    ADSC9   MDS_TEXT+7,,AUTO         cn=1,n=1

     3298     6604    3                                        BINHEX(OCTET_NIBBLE(33)));
     3299     6605    3              XST_CNT = 44;

   6605  3 024271   000054 235007                    LDA     44,DL
         3 024272   200342 755100                    STA     XST_CNT,,AUTO

     3300     6606    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6606  3 024273   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 024274   200536 450500                    STP0    CHIP#+4,,AUTO
         3 024275   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 024276   200535 451500                    STP1    CHIP#+3,,AUTO
         3 024277   200300 633500                    EPPR3   XST$,,AUTO
         3 024300   200534 453500                    STP3    CHIP#+2,,AUTO
         3 024301   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 024302   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 024303   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 024304   000000 011000                    NOP     0

     3301     6607    3              NXST = NXST + 1;

   6607  3 024305   200343 235100                    LDA     NXST,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:614  
         3 024306   000001 035007                    ADLA    1,DL
         3 024307   200343 755100                    STA     NXST,,AUTO

     3302     6608    3              IF EL$IOERR.MODEL = 'MSU8092' THEN

   6608  3 024310   200005 470500                    LDP0    INFO+1,,AUTO
         3 024311   040000 106500                    CMPC    fill='040'O
         3 024312   000030 000010                    ADSC9   24,,PR0                  cn=0,n=8
         3 024313   002365 000007 1                  ADSC9   BOARD_64K+822            cn=0,n=7
         3 024314   024322 601000 3                  TNZ     s:6614

     3303     6609    4                DO;

     3304     6610    4                  MAX_ENTRY = %MDSII_MAX_FC;

   6610  3 024315   000007 236007                    LDQ     7,DL
         3 024316   200261 756100                    STQ     MAX_ENTRY,,AUTO

     3305     6611    4                  MDS_TBL$ = ADDR(MDSII_FCODE);

   6611  3 024317   000456 236000 4                  LDQ     302
         3 024320   200217 756100                    STQ     MDS_TBL$,,AUTO

     3306     6612    4                END;

   6612  3 024321   024326 710000 3                  TRA     s:6617

     3307     6613    4                ELSE DO;

     3308     6614    4                  MAX_ENTRY = %MDSI_MAX_FC;

   6614  3 024322   000006 236007                    LDQ     6,DL
         3 024323   200261 756100                    STQ     MAX_ENTRY,,AUTO

     3309     6615    4                  MDS_TBL$ = ADDR(MDSI_FCODE);

   6615  3 024324   000457 236000 4                  LDQ     303
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:615  
         3 024325   200217 756100                    STQ     MDS_TBL$,,AUTO

     3310     6616    4                END;

     3311     6617    4              DO X = 0 TO MAX_ENTRY;

   6617  3 024326   200011 450100                    STZ     X,,AUTO
         3 024327   024404 710000 3                  TRA     s:6627+1

     3312     6618    4                IF OCTET_BYTE(16) = MDS_TBL.CODE(X) THEN

   6618  3 024330   200011 236100                    LDQ     X,,AUTO
         3 024331   000014 402007                    MPY     12,DL
         3 024332   200217 470500                    LDP0    MDS_TBL$,,AUTO
         3 024333   000000 236106                    LDQ     0,QL,PR0
         3 024334   000033 772000                    QRL     27
         3 024335   200534 756100                    STQ     CHIP#+2,,AUTO
         3 024336   200244 236100                    LDQ     OCTET_BYTE+3,,AUTO
         3 024337   000010 772000                    QRL     8
         3 024340   000377 376007                    ANQ     255,DL
         3 024341   200534 116100                    CMPQ    CHIP#+2,,AUTO
         3 024342   024403 601000 3                  TNZ     s:6627

     3313     6619    5                   DO;

     3314     6620    5                     MDS_TEXT = ' ';

   6620  3 024343   040100 100400                    MLR     fill='040'O
         3 024344   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 024345   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3315     6621    5                     CALL INSERT(MDS_TEXT, 19, MDS_TBL.COUNT(X),

   6621  3 024346   200011 236100                    LDQ     X,,AUTO
         3 024347   000014 402007                    MPY     12,DL
         3 024350   000000 220106                    LDX0    0,QL,PR0
         3 024351   000777 360003                    ANX0    511,DU
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:616  
         3 024352   200011 236100                    LDQ     X,,AUTO
         3 024353   000060 402007                    MPY     48,DL
         3 024354   040140 100506                    MLR     fill='040'O
         3 024355   000000 400054                    ADSC9   0,Q,PR0                  cn=2,n=44
         3 024356   200321 600010                    ADSC9   MDS_TEXT+4,,AUTO         cn=3,n=*X0

     3316     6622    5                                 MDS_TBL.TEXT(X));
     3317     6623    5                     XST_CNT = MDS_TBL.COUNT(X) + 19;

   6623  3 024357   200011 236100                    LDQ     X,,AUTO
         3 024360   000014 402007                    MPY     12,DL
         3 024361   000000 236106                    LDQ     0,QL,PR0
         3 024362   000022 772000                    QRL     18
         3 024363   000777 376007                    ANQ     511,DL
         3 024364   000023 036007                    ADLQ    19,DL
         3 024365   200342 756100                    STQ     XST_CNT,,AUTO

     3318     6624    5                     CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6624  3 024366   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 024367   200536 451500                    STP1    CHIP#+4,,AUTO
         3 024370   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 024371   200535 453500                    STP3    CHIP#+3,,AUTO
         3 024372   200300 634500                    EPPR4   XST$,,AUTO
         3 024373   200534 454500                    STP4    CHIP#+2,,AUTO
         3 024374   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 024375   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 024376   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 024377   000000 011000                    NOP     0

     3319     6625    5                     NXST = NXST + 1;

   6625  3 024400   200343 235100                    LDA     NXST,,AUTO
         3 024401   000001 035007                    ADLA    1,DL
         3 024402   200343 755100                    STA     NXST,,AUTO

     3320     6626    5                   END;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:617  

     3321     6627    4              END;  /* DO X */

   6627  3 024403   200011 054100                    AOS     X,,AUTO
         3 024404   200261 236100                    LDQ     MAX_ENTRY,,AUTO
         3 024405   024330 604000 3                  TMI     s:6618
         3 024406   200011 116100                    CMPQ    X,,AUTO
         3 024407   024330 605000 3                  TPL     s:6618

     3322     6628    3              CALL DECODE_PARAM_3X;  /* DECODING FINISHED FOR X9 */

   6628  3 024410   025672 701000 3                  TSX1    DECODE_PARAM_3X
         3 024411   000000 011000                    NOP     0

     3323     6629    3              RETURN;

   6629  3 024412   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 024413   000001 702211                    TSX2  ! 1,X1

     3324     6630    3            END;
     3325     6631    2         ELSE RETURN;

   6631  3 024414   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 024415   000001 702211                    TSX2  ! 1,X1

     3326     6632    2      IF OCTET_NUM >= PARAMETER_LENGTH -1 THEN

   6632  3 024416   200255 236100                    LDQ     PARAMETER_LENGTH,,AUTO
         3 024417   000034 772000                    QRL     28
         3 024420   000001 136007                    SBLQ    1,DL
         3 024421   200262 116100                    CMPQ    OCTET_NUM,,AUTO
         3 024422   024425 605400 3                  TPNZ    s:6634

     3327     6633    2         CALL DECODE_PARAM_3X;

   6633  3 024423   025672 701000 3                  TSX1    DECODE_PARAM_3X
         3 024424   000000 011000                    NOP     0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:618  

     3328     6634    2      RETURN;

   6634  3 024425   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 024426   000001 702211                    TSX2  ! 1,X1

     3329     6635    2   END DECODE_PARAM_X9;
     3330     6636        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:619  
     3331     6637        /**/
     3332     6638        /* PROCEDURE TO DECODE INCOMPLETE STATUS CODE FOR  MDS DISCS */
     3333     6639        /**/
     3334     6640    1   DECODE_PARAM_XA: PROC;

   6640  3 024427   200526 741300       DECODE_PARA* STX1  ! @BOARD,,AUTO

     3335     6641        /**/
     3336     6642    2      MDS_TEXT = ' ';

   6642  3 024430   040100 100400                    MLR     fill='040'O
         3 024431   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 024432   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3337     6643    2      OCTET$ = MDS_PARAM_XA.SUB$(OCTET_NUM - 1);

   6643  3 024433   200262 720100                    LXL0    OCTET_NUM,,AUTO
         3 024434   777777 236010 xsym               LDQ     MDS_PARAM_XA-1,X0
         3 024435   200216 756100                    STQ     OCTET$,,AUTO

     3338     6644    2      IF (OCTET_NUM > 0 AND OCTET_NUM < 6) THEN

   6644  3 024436   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 024437   024541 604400 3                  TMOZ    s:6655
         3 024440   000006 115007                    CMPA    6,DL
         3 024441   024541 605000 3                  TPL     s:6655

     3339     6645    3         DO;

     3340     6646    3           HEX_NUM = OCTET_NUM;

   6646  3 024442   200262 236100                    LDQ     OCTET_NUM,,AUTO
         3 024443   000034 736000                    QLS     28
         3 024444   200252 676100                    ERQ     HEX_NUM,,AUTO
         3 024445   776000 376003                    ANQ     -1024,DU
         3 024446   200252 656100                    ERSQ    HEX_NUM,,AUTO

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:620  
     3341     6647    3           CALL INSERT(MDS_TEXT, 17, 12, ' OCTET ',BINHEX(HEX_NIBBLE(0)),

   6647  3 024447   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 024450   000040 772000                    QRL     32
         3 024451   200534 756100                    STQ     CHIP#+2,,AUTO
         3 024452   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 024453   000034 772000                    QRL     28
         3 024454   000017 376007                    ANQ     15,DL
         3 024455   040100 100400                    MLR     fill='040'O
         3 024456   002404 000007 1                  ADSC9   BOARD_64K+837            cn=0,n=7
         3 024457   200321 200007                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=7
         3 024460   200534 235100                    LDA     CHIP#+2,,AUTO
         3 024461   040100 100405                    MLR     fill='040'O
         3 024462   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 024463   200323 000001                    ADSC9   MDS_TEXT+6,,AUTO         cn=0,n=1
         3 024464   040100 100406                    MLR     fill='040'O
         3 024465   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 024466   200323 200001                    ADSC9   MDS_TEXT+6,,AUTO         cn=1,n=1
         3 024467   040100 100400                    MLR     fill='040'O
         3 024470   002354 000003 1                  ADSC9   BOARD_64K+813            cn=0,n=3
         3 024471   200323 400003                    ADSC9   MDS_TEXT+6,,AUTO         cn=2,n=3

     3342     6648    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     3343     6649    3           CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),

   6649  3 024472   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 024473   000003 735000                    ALS     3
         3 024474   024476 605000 3                  TPL     s:6649+4
         3 024475   000044 035003                    ADLA    36,DU
         3 024476   003100 061505                    CSR     bolr='003'O
         3 024477   200241 000004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=0,n=4
         3 024500   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 024501   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 024502   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 024503   000003 735000                    ALS     3
         3 024504   024506 605000 3                  TPL     s:6649+12
         3 024505   000044 035003                    ADLA    36,DU
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:621  
         3 024506   003100 061505                    CSR     bolr='003'O
         3 024507   200241 040004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=4,n=4
         3 024510   200535 000044                    BDSC    CHIP#+3,,AUTO            by=0,bit=0,n=36
         3 024511   200536 756100                    STQ     CHIP#+4,,AUTO
         3 024512   200535 236100                    LDQ     CHIP#+3,,AUTO
         3 024513   200536 235100                    LDA     CHIP#+4,,AUTO
         3 024514   040100 100405                    MLR     fill='040'O
         3 024515   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 024516   200324 000001                    ADSC9   MDS_TEXT+7,,AUTO         cn=0,n=1
         3 024517   040100 100406                    MLR     fill='040'O
         3 024520   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 024521   200324 200001                    ADSC9   MDS_TEXT+7,,AUTO         cn=1,n=1

     3344     6650    3                       BINHEX(OCTET_NIBBLE(2 * OCTET_NUM + 1)));
     3345     6651    3           XST_CNT = 30;

   6651  3 024522   000036 235007                    LDA     30,DL
         3 024523   200342 755100                    STA     XST_CNT,,AUTO

     3346     6652    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6652  3 024524   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 024525   200536 450500                    STP0    CHIP#+4,,AUTO
         3 024526   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 024527   200535 451500                    STP1    CHIP#+3,,AUTO
         3 024530   200300 633500                    EPPR3   XST$,,AUTO
         3 024531   200534 453500                    STP3    CHIP#+2,,AUTO
         3 024532   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 024533   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 024534   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 024535   000000 011000                    NOP     0

     3347     6653    3           NXST = NXST + 1;

   6653  3 024536   200343 235100                    LDA     NXST,,AUTO
         3 024537   000001 035007                    ADLA    1,DL
         3 024540   200343 755100                    STA     NXST,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:622  

     3348     6654    3         END;

     3349     6655    2      IF (OCTET_NUM =1 OR OCTET_NUM = 3 OR OCTET_NUM = 5) THEN

   6655  3 024541   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 024542   000001 115007                    CMPA    1,DL
         3 024543   024550 600000 3                  TZE     s:6657
         3 024544   000003 115007                    CMPA    3,DL
         3 024545   024550 600000 3                  TZE     s:6657
         3 024546   000005 115007                    CMPA    5,DL
         3 024547   024663 601000 3                  TNZ     s:6673

     3350     6656    3         DO;

     3351     6657    3           PARAM_INDX = 0;

   6657  3 024550   200253 450100                    STZ     PARAM_INDX,,AUTO

     3352     6658    4           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) +7);

   6658  3 024551   200010 236100                    LDQ     I,,AUTO
         3 024552   000012 402007                    MPY     10,DL
         3 024553   200215 470500                    LDP0    DEV$,,AUTO
         3 024554   000000 236106                    LDQ     0,QL,PR0
         3 024555   000030 772000                    QRL     24
         3 024556   007770 376007                    ANQ     4088,DL
         3 024557   200011 756100                    STQ     X,,AUTO
         3 024560   024641 710000 3                  TRA     s:6668+1

     3353     6659    4              IF (IO_MASK1(X)) AND (PARAM_TBL.COUNT(PARAM_INDX) > 1)

   6659  3 024561   200011 235100                    LDA     X,,AUTO
         3 024562   024564 605000 3                  TPL     s:6659+3
         3 024563   000044 035003                    ADLA    36,DU
         3 024564   000000 066505                    CMPB    filb='0'B
         3 024565   200221 000001                    BDSC    IO_MASK,A,AUTO           by=0,bit=0,n=1
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:623  
         3 024566   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 024567   024637 600000 3                  TZE     s:6667
         3 024570   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 024571   000014 402007                    MPY     12,DL
         3 024572   200216 470500                    LDP0    OCTET$,,AUTO
         3 024573   000000 236106                    LDQ     0,QL,PR0
         3 024574   777000 376003                    ANQ     -512,DU
         3 024575   002000 116003                    CMPQ    1024,DU
         3 024576   024637 602000 3                  TNC     s:6667

     3354     6660    5                 THEN DO;

     3355     6661    5                   MDS_TEXT = ' ';

   6661  3 024577   040100 100400                    MLR     fill='040'O
         3 024600   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 024601   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3356     6662    5                   CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(PARAM_INDX), PARAM_TBL.
              6662                            TEXT(PARAM_INDX));

   6662  3 024602   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 024603   000014 402007                    MPY     12,DL
         3 024604   000000 236106                    LDQ     0,QL,PR0
         3 024605   000033 772000                    QRL     27
         3 024606   000000 620006                    EAX0    0,QL
         3 024607   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 024610   000060 402007                    MPY     48,DL
         3 024611   040140 100506                    MLR     fill='040'O
         3 024612   000000 200054                    ADSC9   0,Q,PR0                  cn=1,n=44
         3 024613   200321 200010                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=*X0

     3357     6663    5                   XST_CNT = PARAM_TBL.COUNT(PARAM_INDX) + 17;

   6663  3 024614   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 024615   000014 402007                    MPY     12,DL
         3 024616   000000 236106                    LDQ     0,QL,PR0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:624  
         3 024617   000033 772000                    QRL     27
         3 024620   000021 036007                    ADLQ    17,DL
         3 024621   200342 756100                    STQ     XST_CNT,,AUTO

     3358     6664    5                   CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6664  3 024622   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 024623   200536 451500                    STP1    CHIP#+4,,AUTO
         3 024624   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 024625   200535 453500                    STP3    CHIP#+3,,AUTO
         3 024626   200300 634500                    EPPR4   XST$,,AUTO
         3 024627   200534 454500                    STP4    CHIP#+2,,AUTO
         3 024630   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 024631   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 024632   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 024633   000000 011000                    NOP     0

     3359     6665    5                   NXST = NXST + 1;

   6665  3 024634   200343 235100                    LDA     NXST,,AUTO
         3 024635   000001 035007                    ADLA    1,DL
         3 024636   200343 755100                    STA     NXST,,AUTO

     3360     6666    5                 END;

     3361     6667    4           PARAM_INDX = PARAM_INDX + 1;

   6667  3 024637   200253 054100                    AOS     PARAM_INDX,,AUTO

     3362     6668    4           END;  /* DO X */

   6668  3 024640   200011 054100                    AOS     X,,AUTO
         3 024641   200010 236100                    LDQ     I,,AUTO
         3 024642   000012 402007                    MPY     10,DL
         3 024643   200215 470500                    LDP0    DEV$,,AUTO
         3 024644   000000 236106                    LDQ     0,QL,PR0
         3 024645   000030 772000                    QRL     24
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:625  
         3 024646   007770 376007                    ANQ     4088,DL
         3 024647   000007 036007                    ADLQ    7,DL
         3 024650   200011 116100                    CMPQ    X,,AUTO
         3 024651   024561 605000 3                  TPL     s:6659

     3363     6669    3           IF OCTET_NUM >= PARAMETER_LENGTH -1

   6669  3 024652   200255 236100                    LDQ     PARAMETER_LENGTH,,AUTO
         3 024653   000034 772000                    QRL     28
         3 024654   000001 136007                    SBLQ    1,DL
         3 024655   200262 116100                    CMPQ    OCTET_NUM,,AUTO
         3 024656   024661 605400 3                  TPNZ    s:6671

     3364     6670    3              THEN PARAMETER_ID = 0;

   6670  3 024657   000452 236000 4                  LDQ     298
         3 024660   200254 356100                    ANSQ    PARAMETER_ID,,AUTO

     3365     6671    3           RETURN;

   6671  3 024661   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 024662   000001 702211                    TSX2  ! 1,X1

     3366     6672    3         END;
     3367     6673    2      IF OCTET_NUM = 6 THEN

   6673  3 024663   000006 115007                    CMPA    6,DL
         3 024664   025035 601000 3                  TNZ     s:6695

     3368     6674    3         DO;

     3369     6675    3           HEX_NUM = PARAMETER_LENGTH - 1;

   6675  3 024665   200255 236100                    LDQ     PARAMETER_LENGTH,,AUTO
         3 024666   000034 772000                    QRL     28
         3 024667   000001 136007                    SBLQ    1,DL
         3 024670   000034 736000                    QLS     28
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:626  
         3 024671   200252 676100                    ERQ     HEX_NUM,,AUTO
         3 024672   776000 376003                    ANQ     -1024,DU
         3 024673   200252 656100                    ERSQ    HEX_NUM,,AUTO

     3370     6676    3           CALL INSERT(MDS_TEXT, 17, 36, ' OCTET 06 TO ',BINHEX(HEX_NIBBLE(0)),

   6676  3 024674   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 024675   000040 772000                    QRL     32
         3 024676   200534 756100                    STQ     CHIP#+2,,AUTO
         3 024677   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 024700   000034 772000                    QRL     28
         3 024701   000017 376007                    ANQ     15,DL
         3 024702   040100 100400                    MLR     fill='040'O
         3 024703   002406 000015 1                  ADSC9   BOARD_64K+839            cn=0,n=13
         3 024704   200321 200015                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=13
         3 024705   200534 235100                    LDA     CHIP#+2,,AUTO
         3 024706   040100 100405                    MLR     fill='040'O
         3 024707   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 024710   200324 400001                    ADSC9   MDS_TEXT+7,,AUTO         cn=2,n=1
         3 024711   040100 100406                    MLR     fill='040'O
         3 024712   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 024713   200324 600001                    ADSC9   MDS_TEXT+7,,AUTO         cn=3,n=1
         3 024714   040100 100400                    MLR     fill='040'O
         3 024715   002412 000025 1                  ADSC9   BOARD_64K+843            cn=0,n=21
         3 024716   200325 000025                    ADSC9   MDS_TEXT+8,,AUTO         cn=0,n=21

     3371     6677    3                       BINHEX(HEX_NIBBLE(1)),' - EXTENDED SUBSTATUS');
     3372     6678    3           XST_CNT = 53;

   6678  3 024717   000065 235007                    LDA     53,DL
         3 024720   200342 755100                    STA     XST_CNT,,AUTO

     3373     6679    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6679  3 024721   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 024722   200536 450500                    STP0    CHIP#+4,,AUTO
         3 024723   200315 631500                    EPPR1   MDS_TEXT,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:627  
         3 024724   200535 451500                    STP1    CHIP#+3,,AUTO
         3 024725   200300 633500                    EPPR3   XST$,,AUTO
         3 024726   200534 453500                    STP3    CHIP#+2,,AUTO
         3 024727   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 024730   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 024731   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 024732   000000 011000                    NOP     0

     3374     6680    3           NXST = NXST + 1;

   6680  3 024733   200343 235100                    LDA     NXST,,AUTO
         3 024734   000001 035007                    ADLA    1,DL
         3 024735   200343 755100                    STA     NXST,,AUTO

     3375     6681    3           MDS_TEXT = ' ';

   6681  3 024736   040100 100400                    MLR     fill='040'O
         3 024737   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 024740   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3376     6682    3           CALL INSERT(MDS_TEXT,19,1,'=');

   6682  3 024741   000075 236007                    LDQ     61,DL
         3 024742   200321 552104                    STBQ    MDS_TEXT+4,'04'O,AUTO

     3377     6683    3           MDS_TEXT_POSITION = 21;

   6683  3 024743   000025 235007                    LDA     21,DL
         3 024744   200341 755100                    STA     MDS_TEXT_POSITION,,AUTO

     3378     6684    4           DO X = 6 TO PARAMETER_LENGTH - 1;

   6684  3 024745   000006 235007                    LDA     6,DL
         3 024746   200011 755100                    STA     X,,AUTO
         3 024747   025006 710000 3                  TRA     s:6688+1

     3379     6685    4              CALL INSERT(MDS_TEXT, MDS_TEXT_POSITION, 2, BINHEX(OCTET_NIBBLE(2 * X)),
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:628  

   6685  3 024750   200011 235100                    LDA     X,,AUTO
         3 024751   000003 735000                    ALS     3
         3 024752   024754 605000 3                  TPL     s:6685+4
         3 024753   000044 035003                    ADLA    36,DU
         3 024754   003100 061505                    CSR     bolr='003'O
         3 024755   200241 000004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=0,n=4
         3 024756   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 024757   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 024760   200011 235100                    LDA     X,,AUTO
         3 024761   000003 735000                    ALS     3
         3 024762   024764 605000 3                  TPL     s:6685+12
         3 024763   000044 035003                    ADLA    36,DU
         3 024764   003100 061505                    CSR     bolr='003'O
         3 024765   200241 040004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=4,n=4
         3 024766   200535 000044                    BDSC    CHIP#+3,,AUTO            by=0,bit=0,n=36
         3 024767   200536 756100                    STQ     CHIP#+4,,AUTO
         3 024770   200535 236100                    LDQ     CHIP#+3,,AUTO
         3 024771   200536 235100                    LDA     CHIP#+4,,AUTO
         3 024772   200537 756100                    STQ     CHIP#+5,,AUTO
         3 024773   200341 236100                    LDQ     MDS_TEXT_POSITION,,AUTO
         3 024774   040106 100405                    MLR     fill='040'O
         3 024775   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 024776   200315 000001                    ADSC9   MDS_TEXT,Q,AUTO          cn=0,n=1
         3 024777   200537 235100                    LDA     CHIP#+5,,AUTO
         3 025000   040106 100405                    MLR     fill='040'O
         3 025001   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 025002   200315 200001                    ADSC9   MDS_TEXT,Q,AUTO          cn=1,n=1

     3380     6686    4                          BINHEX(OCTET_NIBBLE(2 * X + 1)));
     3381     6687    4              MDS_TEXT_POSITION = MDS_TEXT_POSITION + 3;

   6687  3 025003   000003 236007                    LDQ     3,DL
         3 025004   200341 056100                    ASQ     MDS_TEXT_POSITION,,AUTO

     3382     6688    4           END;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:629  
   6688  3 025005   200011 054100                    AOS     X,,AUTO
         3 025006   200255 236100                    LDQ     PARAMETER_LENGTH,,AUTO
         3 025007   000034 772000                    QRL     28
         3 025010   200011 116100                    CMPQ    X,,AUTO
         3 025011   024750 605400 3                  TPNZ    s:6685

     3383     6689    3           XST_CNT = MDS_TEXT_POSITION;

   6689  3 025012   200341 235100                    LDA     MDS_TEXT_POSITION,,AUTO
         3 025013   200342 755100                    STA     XST_CNT,,AUTO

     3384     6690    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6690  3 025014   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 025015   200536 450500                    STP0    CHIP#+4,,AUTO
         3 025016   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 025017   200535 451500                    STP1    CHIP#+3,,AUTO
         3 025020   200300 633500                    EPPR3   XST$,,AUTO
         3 025021   200534 453500                    STP3    CHIP#+2,,AUTO
         3 025022   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 025023   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 025024   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 025025   000000 011000                    NOP     0

     3385     6691    3           NXST = NXST + 1;

   6691  3 025026   200343 235100                    LDA     NXST,,AUTO
         3 025027   000001 035007                    ADLA    1,DL
         3 025030   200343 755100                    STA     NXST,,AUTO

     3386     6692    3           PARAMETER_ID = 0;                  /* DECODING DONE FOR X8 */

   6692  3 025031   000452 236000 4                  LDQ     298
         3 025032   200254 356100                    ANSQ    PARAMETER_ID,,AUTO

     3387     6693    3           RETURN;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:630  
   6693  3 025033   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 025034   000001 702211                    TSX2  ! 1,X1

     3388     6694    3         END;
     3389     6695    2      IF OCTET_NUM >= PARAMETER_LENGTH -1 THEN

   6695  3 025035   200255 236100                    LDQ     PARAMETER_LENGTH,,AUTO
         3 025036   000034 772000                    QRL     28
         3 025037   000001 136007                    SBLQ    1,DL
         3 025040   200262 116100                    CMPQ    OCTET_NUM,,AUTO
         3 025041   025044 605400 3                  TPNZ    s:6697

     3390     6696    2         PARAMETER_ID = 0;

   6696  3 025042   000452 236000 4                  LDQ     298
         3 025043   200254 356100                    ANSQ    PARAMETER_ID,,AUTO

     3391     6697    2      RETURN;

   6697  3 025044   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 025045   000001 702211                    TSX2  ! 1,X1

     3392     6698    2   END DECODE_PARAM_XA;
     3393     6699        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:631  
     3394     6700        /**/
     3395     6701        /* PROCEDURE TO DECODE DRIVE ENDING STATUS CODE FOR  MDS DISCS */
     3396     6702        /**/
     3397     6703    1   DECODE_DRIVE_STAT: PROC;

   6703  3 025046   200530 741300       DECODE_DRIV* STX1  ! BIT#,,AUTO

     3398     6704        /**/
     3399     6705    2           PARAM_INDX = 0;

   6705  3 025047   200253 450100                    STZ     PARAM_INDX,,AUTO

     3400     6706    3           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) + 3);

   6706  3 025050   200010 236100                    LDQ     I,,AUTO
         3 025051   000012 402007                    MPY     10,DL
         3 025052   200215 470500                    LDP0    DEV$,,AUTO
         3 025053   000000 236106                    LDQ     0,QL,PR0
         3 025054   000030 772000                    QRL     24
         3 025055   007770 376007                    ANQ     4088,DL
         3 025056   200011 756100                    STQ     X,,AUTO
         3 025057   025131 710000 3                  TRA     s:6717+1

     3401     6707    3              IF IO_MASK1(X) THEN

   6707  3 025060   200011 235100                    LDA     X,,AUTO
         3 025061   025063 605000 3                  TPL     s:6707+3
         3 025062   000044 035003                    ADLA    36,DU
         3 025063   000000 066505                    CMPB    filb='0'B
         3 025064   200221 000001                    BDSC    IO_MASK,A,AUTO           by=0,bit=0,n=1
         3 025065   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 025066   025127 600000 3                  TZE     s:6716

     3402     6708    4                 DO;              /* DECODE DRIVE ENDING STATUS */

     3403     6709    4                   MDS_TEXT = ' ';

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:632  
   6709  3 025067   040100 100400                    MLR     fill='040'O
         3 025070   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 025071   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3404     6710    4                   CALL INSERT(MDS_TEXT,17,MDS_DRIVE_ENDING_STATUS.COUNT(PARAM_INDX),

   6710  3 025072   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 025073   000014 402007                    MPY     12,DL
         3 025074   000000 236006 xsym               LDQ     MDS_DRIVE_ENDING_STATUS,QL
         3 025075   000033 772000                    QRL     27
         3 025076   000000 620006                    EAX0    0,QL
         3 025077   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 025100   000060 402007                    MPY     48,DL
         3 025101   040140 100406                    MLR     fill='040'O
         3 025102   000000 200054 xsym               ADSC9   MDS_DRIVE_ENDING_STATUS,Q cn=1,n=44
         3 025103   200321 200010                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=*X0

     3405     6711    4                               MDS_DRIVE_ENDING_STATUS.TEXT(PARAM_INDX));
     3406     6712    4                   XST_CNT = MDS_DRIVE_ENDING_STATUS.COUNT(PARAM_INDX) + 17;

   6712  3 025104   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 025105   000014 402007                    MPY     12,DL
         3 025106   000000 236006 xsym               LDQ     MDS_DRIVE_ENDING_STATUS,QL
         3 025107   000033 772000                    QRL     27
         3 025110   000021 036007                    ADLQ    17,DL
         3 025111   200342 756100                    STQ     XST_CNT,,AUTO

     3407     6713    4                   CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6713  3 025112   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 025113   200536 450500                    STP0    CHIP#+4,,AUTO
         3 025114   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 025115   200535 451500                    STP1    CHIP#+3,,AUTO
         3 025116   200300 633500                    EPPR3   XST$,,AUTO
         3 025117   200534 453500                    STP3    CHIP#+2,,AUTO
         3 025120   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 025121   000021 631400 xsym               EPPR1   B_VECTNIL+17
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:633  
         3 025122   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 025123   000000 011000                    NOP     0

     3408     6714    4                   NXST = NXST + 1;

   6714  3 025124   200343 235100                    LDA     NXST,,AUTO
         3 025125   000001 035007                    ADLA    1,DL
         3 025126   200343 755100                    STA     NXST,,AUTO

     3409     6715    4                 END;

     3410     6716    3              PARAM_INDX = PARAM_INDX + 1;

   6716  3 025127   200253 054100                    AOS     PARAM_INDX,,AUTO

     3411     6717    3           END;  /* DO X */

   6717  3 025130   200011 054100                    AOS     X,,AUTO
         3 025131   200010 236100                    LDQ     I,,AUTO
         3 025132   000012 402007                    MPY     10,DL
         3 025133   200215 470500                    LDP0    DEV$,,AUTO
         3 025134   000000 236106                    LDQ     0,QL,PR0
         3 025135   000030 772000                    QRL     24
         3 025136   007770 376007                    ANQ     4088,DL
         3 025137   000003 036007                    ADLQ    3,DL
         3 025140   200011 116100                    CMPQ    X,,AUTO
         3 025141   025060 605000 3                  TPL     s:6707

     3412     6718    2           MDS_TEXT = ' ';

   6718  3 025142   040100 100400                    MLR     fill='040'O
         3 025143   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 025144   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3413     6719    3           DO CASE(MDS_DRIVE_STATUS.OP_END_STATUS);  /* DECODE OP ENDING STATUS */

   6719  3 025145   200256 236100                    LDQ     MDS_STATUS_REG1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:634  
         3 025146   000034 772000                    QRL     28
         3 025147   000017 376007                    ANQ     15,DL
         3 025150   000015 116007                    CMPQ    13,DL
         3 025151   025153 602006 3                  TNC     s:6719+6,QL
         3 025152   025247 710000 3                  TRA     s:6745
         3 025153   025170 710000 3                  TRA     s:6721
         3 025154   025176 710000 3                  TRA     s:6724
         3 025155   025247 710000 3                  TRA     s:6745
         3 025156   025247 710000 3                  TRA     s:6745
         3 025157   025204 710000 3                  TRA     s:6727
         3 025160   025212 710000 3                  TRA     s:6730
         3 025161   025220 710000 3                  TRA     s:6733
         3 025162   025226 710000 3                  TRA     s:6736
         3 025163   025234 710000 3                  TRA     s:6739
         3 025164   025247 710000 3                  TRA     s:6745
         3 025165   025247 710000 3                  TRA     s:6745
         3 025166   025247 710000 3                  TRA     s:6745
         3 025167   025242 710000 3                  TRA     s:6742

     3414     6720    3              CASE(%BUS_CNTL_EXECUTED);

     3415     6721    3                CALL INSERT(MDS_TEXT,17,24,' -- BUS CONTROL EXECUTED');

   6721  3 025170   040100 100400                    MLR     fill='040'O
         3 025171   002420 000030 1                  ADSC9   BOARD_64K+849            cn=0,n=24
         3 025172   200321 200030                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=24

     3416     6722    3                XST_CNT = 41;

   6722  3 025173   000051 235007                    LDA     41,DL
         3 025174   200342 755100                    STA     XST_CNT,,AUTO
         3 025175   025247 710000 3                  TRA     s:6745

     3417     6723    3              CASE(%BUS_CNTL_REJECT);

     3418     6724    3                CALL INSERT(MDS_TEXT,17,29,' -- BUSY - BUS CONTROL REJECT');

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:635  
   6724  3 025176   040100 100400                    MLR     fill='040'O
         3 025177   002426 000035 1                  ADSC9   BOARD_64K+855            cn=0,n=29
         3 025200   200321 200035                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=29

     3419     6725    3                XST_CNT = 46;

   6725  3 025201   000056 235007                    LDA     46,DL
         3 025202   200342 755100                    STA     XST_CNT,,AUTO
         3 025203   025247 710000 3                  TRA     s:6745

     3420     6726    3              CASE(%MISSING_AM);

     3421     6727    3                CALL INSERT(MDS_TEXT,17,24,' -- MISSING ADDRESS MARK');

   6727  3 025204   040100 100400                    MLR     fill='040'O
         3 025205   002436 000030 1                  ADSC9   BOARD_64K+863            cn=0,n=24
         3 025206   200321 200030                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=24

     3422     6728    3                XST_CNT = 41;

   6728  3 025207   000051 235007                    LDA     41,DL
         3 025210   200342 755100                    STA     XST_CNT,,AUTO
         3 025211   025247 710000 3                  TRA     s:6745

     3423     6729    3              CASE(%MISSING_SYNC_BYTE);

     3424     6730    3                CALL INSERT(MDS_TEXT,17,21,' -- MISSING SYNC BYTE');

   6730  3 025212   040100 100400                    MLR     fill='040'O
         3 025213   002444 000025 1                  ADSC9   BOARD_64K+869            cn=0,n=21
         3 025214   200321 200025                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=21

     3425     6731    3                XST_CNT = 38;

   6731  3 025215   000046 235007                    LDA     38,DL
         3 025216   200342 755100                    STA     XST_CNT,,AUTO
         3 025217   025247 710000 3                  TRA     s:6745
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:636  

     3426     6732    3              CASE(%ECC_ERROR);

     3427     6733    3                CALL INSERT(MDS_TEXT,17,13,' -- ECC ERROR');

   6733  3 025220   040100 100400                    MLR     fill='040'O
         3 025221   002452 000015 1                  ADSC9   BOARD_64K+875            cn=0,n=13
         3 025222   200321 200015                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=13

     3428     6734    3                XST_CNT = 30;

   6734  3 025223   000036 235007                    LDA     30,DL
         3 025224   200342 755100                    STA     XST_CNT,,AUTO
         3 025225   025247 710000 3                  TRA     s:6745

     3429     6735    3              CASE(%HDR_VERIFY_ERR);

     3430     6736    3                CALL INSERT(MDS_TEXT,17,23,' -- HEADER VERIFY ERROR');

   6736  3 025226   040100 100400                    MLR     fill='040'O
         3 025227   002456 000027 1                  ADSC9   BOARD_64K+879            cn=0,n=23
         3 025230   200321 200027                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=23

     3431     6737    3                XST_CNT = 40;

   6737  3 025231   000050 235007                    LDA     40,DL
         3 025232   200342 755100                    STA     XST_CNT,,AUTO
         3 025233   025247 710000 3                  TRA     s:6745

     3432     6738    3              CASE(%OPERATION_EXCEPTION);

     3433     6739    3                CALL INSERT(MDS_TEXT,17,23,' -- OPERATION EXCEPTION');

   6739  3 025234   040100 100400                    MLR     fill='040'O
         3 025235   002464 000027 1                  ADSC9   BOARD_64K+885            cn=0,n=23
         3 025236   200321 200027                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=23

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:637  
     3434     6740    3                XST_CNT = 40;

   6740  3 025237   000050 235007                    LDA     40,DL
         3 025240   200342 755100                    STA     XST_CNT,,AUTO
         3 025241   025247 710000 3                  TRA     s:6745

     3435     6741    3              CASE(%UNSOLICIT_EXCEPTION);

     3436     6742    3                CALL INSERT(MDS_TEXT,17,25,' -- UNSOLICITED EXCEPTION');

   6742  3 025242   040100 100400                    MLR     fill='040'O
         3 025243   002472 000031 1                  ADSC9   BOARD_64K+891            cn=0,n=25
         3 025244   200321 200031                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=25

     3437     6743    3                XST_CNT = 42;

   6743  3 025245   000052 235007                    LDA     42,DL
         3 025246   200342 755100                    STA     XST_CNT,,AUTO

     3438     6744    3           END;  /* DO CASE */

     3439     6745    2           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6745  3 025247   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 025250   200536 451500                    STP1    CHIP#+4,,AUTO
         3 025251   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 025252   200535 453500                    STP3    CHIP#+3,,AUTO
         3 025253   200300 634500                    EPPR4   XST$,,AUTO
         3 025254   200534 454500                    STP4    CHIP#+2,,AUTO
         3 025255   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 025256   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 025257   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 025260   000000 011000                    NOP     0

     3440     6746    2           NXST = NXST + 1;

   6746  3 025261   200343 235100                    LDA     NXST,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:638  
         3 025262   000001 035007                    ADLA    1,DL
         3 025263   200343 755100                    STA     NXST,,AUTO

     3441     6747    2           RETURN;

   6747  3 025264   200530 221300                    LDX1  ! BIT#,,AUTO
         3 025265   000001 702211                    TSX2  ! 1,X1

     3442     6748    2   END DECODE_DRIVE_STAT;
     3443     6749        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:639  
     3444     6750        /**/
     3445     6751        /* PROCEDURE TO DECODE COMMAND ENDING STATUS (BYTE 2) FOR PARAM_X6 AND PARAM_X9 */
     3446     6752        /**/
     3447     6753    1   DECODE_CMD_STAT: PROC;

   6753  3 025266   200530 741300       DECODE_CMD_* STX1  ! BIT#,,AUTO

     3448     6754        /**/
     3449     6755    2      MDS_TEXT = ' ';

   6755  3 025267   040100 100400                    MLR     fill='040'O
         3 025270   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 025271   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3450     6756    2      CALL INSERT(MDS_TEXT, 19, 51, 'ERROR LOCATION:',

   6756  3 025272   200257 236100                    LDQ     MDS_STATUS_REG2,,AUTO
         3 025273   000032 772000                    QRL     26
         3 025274   000003 376007                    ANQ     3,DL
         3 025275   000011 402007                    MPY     9,DL
         3 025276   040100 100400                    MLR     fill='040'O
         3 025277   002501 000017 1                  ADSC9   BOARD_64K+898            cn=0,n=15
         3 025300   200321 600017                    ADSC9   MDS_TEXT+4,,AUTO         cn=3,n=15
         3 025301   000002 736000                    QLS     2
         3 025302   040100 100406                    MLR     fill='040'O
         3 025303   000000 000044 xsym               ADSC9   MDS_ERROR_LOC,Q          cn=0,n=36
         3 025304   200325 400044                    ADSC9   MDS_TEXT+8,,AUTO         cn=2,n=36

     3451     6757    2                  MDS_ERROR_LOC.TEXT(MDS_CMD_ENDING_STAT.ERROR_LOC));
     3452     6758    2      XST_CNT = 70;

   6758  3 025305   000106 235007                    LDA     70,DL
         3 025306   200342 755100                    STA     XST_CNT,,AUTO

     3453     6759    2      CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6759  3 025307   200342 630500                    EPPR0   XST_CNT,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:640  
         3 025310   200536 450500                    STP0    CHIP#+4,,AUTO
         3 025311   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 025312   200535 451500                    STP1    CHIP#+3,,AUTO
         3 025313   200300 633500                    EPPR3   XST$,,AUTO
         3 025314   200534 453500                    STP3    CHIP#+2,,AUTO
         3 025315   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 025316   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 025317   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 025320   000000 011000                    NOP     0

     3454     6760    2      NXST = NXST + 1;

   6760  3 025321   200343 235100                    LDA     NXST,,AUTO
         3 025322   000001 035007                    ADLA    1,DL
         3 025323   200343 755100                    STA     NXST,,AUTO

     3455     6761    2      MDS_TEXT = ' ';

   6761  3 025324   040100 100400                    MLR     fill='040'O
         3 025325   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 025326   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3456     6762    2      CALL INSERT(MDS_TEXT, 19, 17, 'ERROR CATAGORY:  ');

   6762  3 025327   040100 100400                    MLR     fill='040'O
         3 025330   002505 000021 1                  ADSC9   BOARD_64K+902            cn=0,n=17
         3 025331   200321 600021                    ADSC9   MDS_TEXT+4,,AUTO         cn=3,n=17

     3457     6763    3      DO CASE(MDS_CMD_ENDING_STAT.ERROR_CAT);

   6763  3 025332   200257 236100                    LDQ     MDS_STATUS_REG2,,AUTO
         3 025333   000030 772000                    QRL     24
         3 025334   000003 376007                    ANQ     3,DL
         3 025335   000004 116007                    CMPQ    4,DL
         3 025336   025340 602006 3                  TNC     s:6763+6,QL
         3 025337   025670 710000 3                  TRA     s:6815
         3 025340   025344 710000 3                  TRA     s:6765
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:641  
         3 025341   025424 710000 3                  TRA     s:6776
         3 025342   025504 710000 3                  TRA     s:6787
         3 025343   025576 710000 3                  TRA     s:6801

     3458     6764    3         CASE(%TIMEOUT_ERR);

     3459     6765    3              CALL INSERT(MDS_TEXT, 36, 13, 'TIMEOUT ERROR');

   6765  3 025344   040100 100400                    MLR     fill='040'O
         3 025345   002512 000015 1                  ADSC9   BOARD_64K+907            cn=0,n=13
         3 025346   200326 000015                    ADSC9   MDS_TEXT+9,,AUTO         cn=0,n=13

     3460     6766    3              XST_CNT = 47;

   6766  3 025347   000057 235007                    LDA     47,DL
         3 025350   200342 755100                    STA     XST_CNT,,AUTO

     3461     6767    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6767  3 025351   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 025352   200536 450500                    STP0    CHIP#+4,,AUTO
         3 025353   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 025354   200535 451500                    STP1    CHIP#+3,,AUTO
         3 025355   200300 633500                    EPPR3   XST$,,AUTO
         3 025356   200534 453500                    STP3    CHIP#+2,,AUTO
         3 025357   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 025360   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 025361   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 025362   000000 011000                    NOP     0

     3462     6768    3              NXST = NXST + 1;

   6768  3 025363   200343 235100                    LDA     NXST,,AUTO
         3 025364   000001 035007                    ADLA    1,DL
         3 025365   200343 755100                    STA     NXST,,AUTO

     3463     6769    3              MDS_TEXT = ' ';
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:642  

   6769  3 025366   040100 100400                    MLR     fill='040'O
         3 025367   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 025370   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3464     6770    3              CALL INSERT(MDS_TEXT, 19, 35, 'ERROR CODE:',

   6770  3 025371   200257 236100                    LDQ     MDS_STATUS_REG2,,AUTO
         3 025372   000025 772000                    QRL     21
         3 025373   000007 376007                    ANQ     7,DL
         3 025374   000006 402007                    MPY     6,DL
         3 025375   040100 100400                    MLR     fill='040'O
         3 025376   002516 000013 1                  ADSC9   BOARD_64K+911            cn=0,n=11
         3 025377   200321 600013                    ADSC9   MDS_TEXT+4,,AUTO         cn=3,n=11
         3 025400   000002 736000                    QLS     2
         3 025401   040100 100406                    MLR     fill='040'O
         3 025402   000000 000030 xsym               ADSC9   MDS_TIMEOUT_ERRS,Q       cn=0,n=24
         3 025403   200324 400030                    ADSC9   MDS_TEXT+7,,AUTO         cn=2,n=24

     3465     6771    3                          MDS_TIMEOUT_ERRS.TEXT(MDS_CMD_ENDING_STAT.ERROR_CODE));
     3466     6772    3              XST_CNT = 54;

   6772  3 025404   000066 235007                    LDA     54,DL
         3 025405   200342 755100                    STA     XST_CNT,,AUTO

     3467     6773    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6773  3 025406   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 025407   200536 450500                    STP0    CHIP#+4,,AUTO
         3 025410   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 025411   200535 451500                    STP1    CHIP#+3,,AUTO
         3 025412   200300 633500                    EPPR3   XST$,,AUTO
         3 025413   200534 453500                    STP3    CHIP#+2,,AUTO
         3 025414   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 025415   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 025416   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 025417   000000 011000                    NOP     0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:643  

     3468     6774    3              NXST = NXST + 1;

   6774  3 025420   200343 235100                    LDA     NXST,,AUTO
         3 025421   000001 035007                    ADLA    1,DL
         3 025422   200343 755100                    STA     NXST,,AUTO
         3 025423   025670 710000 3                  TRA     s:6815

     3469     6775    3         CASE(%RW_ERR);

     3470     6776    3              CALL INSERT(MDS_TEXT, 36, 16, 'READ/WRITE ERROR');

   6776  3 025424   040100 100400                    MLR     fill='040'O
         3 025425   002521 000020 1                  ADSC9   BOARD_64K+914            cn=0,n=16
         3 025426   200326 000020                    ADSC9   MDS_TEXT+9,,AUTO         cn=0,n=16

     3471     6777    3              XST_CNT = 50;

   6777  3 025427   000062 235007                    LDA     50,DL
         3 025430   200342 755100                    STA     XST_CNT,,AUTO

     3472     6778    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6778  3 025431   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 025432   200536 450500                    STP0    CHIP#+4,,AUTO
         3 025433   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 025434   200535 451500                    STP1    CHIP#+3,,AUTO
         3 025435   200300 633500                    EPPR3   XST$,,AUTO
         3 025436   200534 453500                    STP3    CHIP#+2,,AUTO
         3 025437   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 025440   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 025441   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 025442   000000 011000                    NOP     0

     3473     6779    3              NXST = NXST + 1;

   6779  3 025443   200343 235100                    LDA     NXST,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:644  
         3 025444   000001 035007                    ADLA    1,DL
         3 025445   200343 755100                    STA     NXST,,AUTO

     3474     6780    3              MDS_TEXT = ' ';

   6780  3 025446   040100 100400                    MLR     fill='040'O
         3 025447   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 025450   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3475     6781    3              CALL INSERT(MDS_TEXT, 19, 37, 'ERROR CODE:',

   6781  3 025451   200257 236100                    LDQ     MDS_STATUS_REG2,,AUTO
         3 025452   000025 772000                    QRL     21
         3 025453   000007 376007                    ANQ     7,DL
         3 025454   000007 402007                    MPY     7,DL
         3 025455   040100 100400                    MLR     fill='040'O
         3 025456   002516 000013 1                  ADSC9   BOARD_64K+911            cn=0,n=11
         3 025457   200321 600013                    ADSC9   MDS_TEXT+4,,AUTO         cn=3,n=11
         3 025460   000002 736000                    QLS     2
         3 025461   040100 100406                    MLR     fill='040'O
         3 025462   000000 000032 xsym               ADSC9   MDS_RW_ERRS,Q            cn=0,n=26
         3 025463   200324 400032                    ADSC9   MDS_TEXT+7,,AUTO         cn=2,n=26

     3476     6782    3                          MDS_RW_ERRS.TEXT(MDS_CMD_ENDING_STAT.ERROR_CODE));
     3477     6783    3              XST_CNT = 56;

   6783  3 025464   000070 235007                    LDA     56,DL
         3 025465   200342 755100                    STA     XST_CNT,,AUTO

     3478     6784    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6784  3 025466   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 025467   200536 450500                    STP0    CHIP#+4,,AUTO
         3 025470   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 025471   200535 451500                    STP1    CHIP#+3,,AUTO
         3 025472   200300 633500                    EPPR3   XST$,,AUTO
         3 025473   200534 453500                    STP3    CHIP#+2,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:645  
         3 025474   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 025475   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 025476   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 025477   000000 011000                    NOP     0

     3479     6785    3              NXST = NXST + 1;

   6785  3 025500   200343 235100                    LDA     NXST,,AUTO
         3 025501   000001 035007                    ADLA    1,DL
         3 025502   200343 755100                    STA     NXST,,AUTO
         3 025503   025670 710000 3                  TRA     s:6815

     3480     6786    3         CASE(%MISC_ERR);

     3481     6787    3              CALL INSERT(MDS_TEXT, 36, 10, 'MISC ERROR');

   6787  3 025504   040100 100400                    MLR     fill='040'O
         3 025505   002525 000012 1                  ADSC9   BOARD_64K+918            cn=0,n=10
         3 025506   200326 000012                    ADSC9   MDS_TEXT+9,,AUTO         cn=0,n=10

     3482     6788    3              XST_CNT = 44;

   6788  3 025507   000054 235007                    LDA     44,DL
         3 025510   200342 755100                    STA     XST_CNT,,AUTO

     3483     6789    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6789  3 025511   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 025512   200536 450500                    STP0    CHIP#+4,,AUTO
         3 025513   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 025514   200535 451500                    STP1    CHIP#+3,,AUTO
         3 025515   200300 633500                    EPPR3   XST$,,AUTO
         3 025516   200534 453500                    STP3    CHIP#+2,,AUTO
         3 025517   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 025520   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 025521   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 025522   000000 011000                    NOP     0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:646  

     3484     6790    3              NXST = NXST + 1;

   6790  3 025523   200343 235100                    LDA     NXST,,AUTO
         3 025524   000001 035007                    ADLA    1,DL
         3 025525   200343 755100                    STA     NXST,,AUTO

     3485     6791    3              MDS_TEXT = ' ';

   6791  3 025526   040100 100400                    MLR     fill='040'O
         3 025527   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 025530   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3486     6792    3              IF (MDS_CMD_ENDING_STAT.ERROR_CODE = 0 OR

   6792  3 025531   200257 236100                    LDQ     MDS_STATUS_REG2,,AUTO
         3 025532   000070 316003                    CANQ    56,DU
         3 025533   025540 600000 3                  TZE     s:6794
         3 025534   200257 236100                    LDQ     MDS_STATUS_REG2,,AUTO
         3 025535   000070 376003                    ANQ     56,DU
         3 025536   000010 116003                    CMPQ    8,DU
         3 025537   025553 601000 3                  TNZ     s:6796

     3487     6793    3                  MDS_CMD_ENDING_STAT.ERROR_CODE = 1)
     3488     6794    3                  THEN CALL INSERT(MDS_TEXT, 19, 25, 'ERROR CODE:',

   6794  3 025540   200257 236100                    LDQ     MDS_STATUS_REG2,,AUTO
         3 025541   000023 772000                    QRL     19
         3 025542   000034 376007                    ANQ     28,DL
         3 025543   040100 100400                    MLR     fill='040'O
         3 025544   002516 000013 1                  ADSC9   BOARD_64K+911            cn=0,n=11
         3 025545   200321 600013                    ADSC9   MDS_TEXT+4,,AUTO         cn=3,n=11
         3 025546   000002 736000                    QLS     2
         3 025547   040100 100406                    MLR     fill='040'O
         3 025550   000000 000016 xsym               ADSC9   MDS_MISC_ERRS,Q          cn=0,n=14
         3 025551   200324 400016                    ADSC9   MDS_TEXT+7,,AUTO         cn=2,n=14
         3 025552   025556 710000 3                  TRA     s:6797
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:647  

     3489     6795    3                                  MDS_MISC_ERRS.TEXT(MDS_CMD_ENDING_STAT.ERROR_CODE));
     3490     6796    3                  ELSE CALL INSERT(MDS_TEXT, 19, 25, 'ERROR CODE:  UNKNOWN TYPE');

   6796  3 025553   040100 100400                    MLR     fill='040'O
         3 025554   002530 000031 1                  ADSC9   BOARD_64K+921            cn=0,n=25
         3 025555   200321 600031                    ADSC9   MDS_TEXT+4,,AUTO         cn=3,n=25

     3491     6797    3              XST_CNT = 44;

   6797  3 025556   000054 235007                    LDA     44,DL
         3 025557   200342 755100                    STA     XST_CNT,,AUTO

     3492     6798    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6798  3 025560   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 025561   200536 450500                    STP0    CHIP#+4,,AUTO
         3 025562   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 025563   200535 451500                    STP1    CHIP#+3,,AUTO
         3 025564   200300 633500                    EPPR3   XST$,,AUTO
         3 025565   200534 453500                    STP3    CHIP#+2,,AUTO
         3 025566   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 025567   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 025570   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 025571   000000 011000                    NOP     0

     3493     6799    3              NXST = NXST + 1;

   6799  3 025572   200343 235100                    LDA     NXST,,AUTO
         3 025573   000001 035007                    ADLA    1,DL
         3 025574   200343 755100                    STA     NXST,,AUTO
         3 025575   025670 710000 3                  TRA     s:6815

     3494     6800    3         CASE(%INFO_XFR_ERR);

     3495     6801    3              CALL INSERT(MDS_TEXT, 36, 20, 'INFORMATION TRANSFER');

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:648  
   6801  3 025576   040100 100400                    MLR     fill='040'O
         3 025577   002537 000024 1                  ADSC9   BOARD_64K+928            cn=0,n=20
         3 025600   200326 000024                    ADSC9   MDS_TEXT+9,,AUTO         cn=0,n=20

     3496     6802    3              XST_CNT = 65;

   6802  3 025601   000101 235007                    LDA     65,DL
         3 025602   200342 755100                    STA     XST_CNT,,AUTO

     3497     6803    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6803  3 025603   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 025604   200536 450500                    STP0    CHIP#+4,,AUTO
         3 025605   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 025606   200535 451500                    STP1    CHIP#+3,,AUTO
         3 025607   200300 633500                    EPPR3   XST$,,AUTO
         3 025610   200534 453500                    STP3    CHIP#+2,,AUTO
         3 025611   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 025612   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 025613   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 025614   000000 011000                    NOP     0

     3498     6804    3              NXST = NXST + 1;

   6804  3 025615   200343 235100                    LDA     NXST,,AUTO
         3 025616   000001 035007                    ADLA    1,DL
         3 025617   200343 755100                    STA     NXST,,AUTO

     3499     6805    3              MDS_TEXT = ' ';

   6805  3 025620   040100 100400                    MLR     fill='040'O
         3 025621   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 025622   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3500     6806    3              IF (MDS_CMD_ENDING_STAT.ERROR_CODE > 0 OR

   6806  3 025623   200257 236100                    LDQ     MDS_STATUS_REG2,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:649  
         3 025624   000070 316003                    CANQ    56,DU
         3 025625   025632 601000 3                  TNZ     s:6808
         3 025626   200257 236100                    LDQ     MDS_STATUS_REG2,,AUTO
         3 025627   000070 376003                    ANQ     56,DU
         3 025630   000060 116003                    CMPQ    48,DU
         3 025631   025646 603000 3                  TRC     s:6810

     3501     6807    3                  MDS_CMD_ENDING_STAT.ERROR_CODE < 6) THEN
     3502     6808    3                  CALL INSERT(MDS_TEXT, 19, 45, 'ERROR CODE:',

   6808  3 025632   200257 236100                    LDQ     MDS_STATUS_REG2,,AUTO
         3 025633   000025 772000                    QRL     21
         3 025634   000007 376007                    ANQ     7,DL
         3 025635   000011 402007                    MPY     9,DL
         3 025636   040100 100400                    MLR     fill='040'O
         3 025637   002516 000013 1                  ADSC9   BOARD_64K+911            cn=0,n=11
         3 025640   200321 600013                    ADSC9   MDS_TEXT+4,,AUTO         cn=3,n=11
         3 025641   000002 736000                    QLS     2
         3 025642   040100 100406                    MLR     fill='040'O
         3 025643   000000 000042 xsym               ADSC9   MDS_INFO_ERRS,Q          cn=0,n=34
         3 025644   200324 400042                    ADSC9   MDS_TEXT+7,,AUTO         cn=2,n=34
         3 025645   025651 710000 3                  TRA     s:6811

     3503     6809    3                       MDS_INFO_ERRS.TEXT(MDS_CMD_ENDING_STAT.ERROR_CODE));
     3504     6810    3                  ELSE CALL INSERT(MDS_TEXT, 19, 25, 'ERROR CODE:  UNKNOWN TYPE');

   6810  3 025646   040100 100400                    MLR     fill='040'O
         3 025647   002530 000031 1                  ADSC9   BOARD_64K+921            cn=0,n=25
         3 025650   200321 600031                    ADSC9   MDS_TEXT+4,,AUTO         cn=3,n=25

     3505     6811    3              XST_CNT = 64;

   6811  3 025651   000100 235007                    LDA     64,DL
         3 025652   200342 755100                    STA     XST_CNT,,AUTO

     3506     6812    3              CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:650  
   6812  3 025653   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 025654   200536 450500                    STP0    CHIP#+4,,AUTO
         3 025655   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 025656   200535 451500                    STP1    CHIP#+3,,AUTO
         3 025657   200300 633500                    EPPR3   XST$,,AUTO
         3 025660   200534 453500                    STP3    CHIP#+2,,AUTO
         3 025661   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 025662   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 025663   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 025664   000000 011000                    NOP     0

     3507     6813    3              NXST = NXST + 1;

   6813  3 025665   200343 235100                    LDA     NXST,,AUTO
         3 025666   000001 035007                    ADLA    1,DL
         3 025667   200343 755100                    STA     NXST,,AUTO

     3508     6814    3      END;  /* DO CASE */

     3509     6815    2      RETURN;

   6815  3 025670   200530 221300                    LDX1  ! BIT#,,AUTO
         3 025671   000001 702211                    TSX2  ! 1,X1

     3510     6816    2   END DECODE_CMD_STAT;
     3511     6817        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:651  
     3512     6818        /**/
     3513     6819        /* PROCEDURE TO DECODE COMMON PARAMETERS (TYPE 3X) FOR MDS DISCS */
     3514     6820        /**/
     3515     6821    1   DECODE_PARAM_3X: PROC;

   6821  3 025672   200530 741300       DECODE_PARA* STX1  ! BIT#,,AUTO

     3516     6822        /**/
     3517     6823    2      PARAMETER_LENGTH = IO_MASK(27);  /* THIS PARAM ALWAYS STARTS AT OCTET 27 */

   6823  3 025673   200227 236100                    LDQ     IO_MASK+6,,AUTO
         3 025674   000034 772000                    QRL     28
         3 025675   000034 736000                    QLS     28
         3 025676   200255 756100                    STQ     PARAMETER_LENGTH,,AUTO

     3518     6824    2      PARAMETER_ID = IO_MASK(28);

   6824  3 025677   200227 236100                    LDQ     IO_MASK+6,,AUTO
         3 025700   000010 736000                    QLS     8
         3 025701   200254 676100                    ERQ     PARAMETER_ID,,AUTO
         3 025702   776000 376003                    ANQ     -1024,DU
         3 025703   200254 656100                    ERSQ    PARAMETER_ID,,AUTO

     3519     6825    2      IF NOT (PARAMETER_LENGTH = 9 AND PARAMETER_ID = %HEX_32)

   6825  3 025704   200255 236100                    LDQ     PARAMETER_LENGTH,,AUTO
         3 025705   776000 376003                    ANQ     -1024,DU
         3 025706   022000 116003                    CMPQ    9216,DU
         3 025707   026327 601000 3                  TNZ     PARAM_3X_DONE
         3 025710   200254 236100                    LDQ     PARAMETER_ID,,AUTO
         3 025711   776000 376003                    ANQ     -1024,DU
         3 025712   144000 116003                    CMPQ    51200,DU
         3 025713   026327 601000 3                  TNZ     PARAM_3X_DONE

     3520     6826    2         THEN GOTO PARAM_3X_DONE;
     3521     6827    3      DO X = 0 TO 6;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:652  
   6827  3 025714   200011 450100                    STZ     X,,AUTO

     3522     6828    3         OCTET_BYTE(X) = IO_MASK(28 + X);

   6828  3 025715   200011 235100                    LDA     X,,AUTO
         3 025716   000003 735000                    ALS     3
         3 025717   025721 605000 3                  TPL     s:6828+4
         3 025720   000044 035003                    ADLA    36,DU
         3 025721   200011 236100                    LDQ     X,,AUTO
         3 025722   000003 736000                    QLS     3
         3 025723   025725 605000 3                  TPL     s:6828+8
         3 025724   000044 036003                    ADLQ    36,DU
         3 025725   003106 060505                    CSL     bolr='003'O
         3 025726   200227 100010                    BDSC    IO_MASK+6,A,AUTO         by=0,bit=8,n=8
         3 025727   200241 000010                    BDSC    OCTET_BYTE,Q,AUTO        by=0,bit=0,n=8

     3523     6829    3      END;

   6829  3 025730   200011 054100                    AOS     X,,AUTO
         3 025731   200011 235100                    LDA     X,,AUTO
         3 025732   000006 115007                    CMPA    6,DL
         3 025733   025715 604400 3                  TMOZ    s:6828

     3524     6830    2      MDS_TEXT = ' ';

   6830  3 025734   040100 100400                    MLR     fill='040'O
         3 025735   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 025736   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3525     6831    2      HEX_NUM = PARAMETER_LENGTH;

   6831  3 025737   200255 236100                    LDQ     PARAMETER_LENGTH,,AUTO
         3 025740   200252 676100                    ERQ     HEX_NUM,,AUTO
         3 025741   776000 376003                    ANQ     -1024,DU
         3 025742   200252 656100                    ERSQ    HEX_NUM,,AUTO

     3526     6832    2      CALL INSERT(MDS_TEXT, 15, 17, 'PARAM LENGTH = ',
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:653  

   6832  3 025743   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 025744   000040 772000                    QRL     32
         3 025745   200534 756100                    STQ     CHIP#+2,,AUTO
         3 025746   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 025747   000034 772000                    QRL     28
         3 025750   000017 376007                    ANQ     15,DL
         3 025751   040100 100400                    MLR     fill='040'O
         3 025752   002544 000017 1                  ADSC9   BOARD_64K+933            cn=0,n=15
         3 025753   200320 600017                    ADSC9   MDS_TEXT+3,,AUTO         cn=3,n=15
         3 025754   200534 235100                    LDA     CHIP#+2,,AUTO
         3 025755   040100 100405                    MLR     fill='040'O
         3 025756   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 025757   200324 400001                    ADSC9   MDS_TEXT+7,,AUTO         cn=2,n=1
         3 025760   040100 100406                    MLR     fill='040'O
         3 025761   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 025762   200324 600001                    ADSC9   MDS_TEXT+7,,AUTO         cn=3,n=1

     3527     6833    2                                    BINHEX(HEX_NIBBLE(0)),
     3528     6834    2                                    BINHEX(HEX_NIBBLE(1)));
     3529     6835    2      XST_CNT = 32;

   6835  3 025763   000040 235007                    LDA     32,DL
         3 025764   200342 755100                    STA     XST_CNT,,AUTO

     3530     6836    2      CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6836  3 025765   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 025766   200536 450500                    STP0    CHIP#+4,,AUTO
         3 025767   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 025770   200535 451500                    STP1    CHIP#+3,,AUTO
         3 025771   200300 633500                    EPPR3   XST$,,AUTO
         3 025772   200534 453500                    STP3    CHIP#+2,,AUTO
         3 025773   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 025774   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 025775   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 025776   000000 011000                    NOP     0
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:654  

     3531     6837    2      NXST = NXST + 1;

   6837  3 025777   200343 235100                    LDA     NXST,,AUTO
         3 026000   000001 035007                    ADLA    1,DL
         3 026001   200343 755100                    STA     NXST,,AUTO

     3532     6838    2      MDS_TEXT = ' ';

   6838  3 026002   040100 100400                    MLR     fill='040'O
         3 026003   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 026004   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3533     6839    2      CALL INSERT(MDS_TEXT, 15, 46, 'PARAMETER ID = ',

   6839  3 026005   200254 236100                    LDQ     PARAMETER_ID,,AUTO
         3 026006   000040 772000                    QRL     32
         3 026007   200534 756100                    STQ     CHIP#+2,,AUTO
         3 026010   200254 236100                    LDQ     PARAMETER_ID,,AUTO
         3 026011   000034 772000                    QRL     28
         3 026012   000017 376007                    ANQ     15,DL
         3 026013   040100 100400                    MLR     fill='040'O
         3 026014   002550 000017 1                  ADSC9   BOARD_64K+937            cn=0,n=15
         3 026015   200320 600017                    ADSC9   MDS_TEXT+3,,AUTO         cn=3,n=15
         3 026016   200534 235100                    LDA     CHIP#+2,,AUTO
         3 026017   040100 100405                    MLR     fill='040'O
         3 026020   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 026021   200324 400001                    ADSC9   MDS_TEXT+7,,AUTO         cn=2,n=1
         3 026022   040100 100406                    MLR     fill='040'O
         3 026023   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 026024   200324 600001                    ADSC9   MDS_TEXT+7,,AUTO         cn=3,n=1
         3 026025   040100 100400                    MLR     fill='040'O
         3 026026   002554 000035 1                  ADSC9   BOARD_64K+941            cn=0,n=29
         3 026027   200325 000035                    ADSC9   MDS_TEXT+8,,AUTO         cn=0,n=29

     3534     6840    2                                    BINHEX(PARAM_ID.BYT1),
     3535     6841    2                                    BINHEX(PARAM_ID.BYT2),
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:655  
     3536     6842    2                                    ' -- RESPONSE EXTENT PARAMETER');
     3537     6843    2      XST_CNT = 61;

   6843  3 026030   000075 235007                    LDA     61,DL
         3 026031   200342 755100                    STA     XST_CNT,,AUTO

     3538     6844    2      CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6844  3 026032   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 026033   200536 450500                    STP0    CHIP#+4,,AUTO
         3 026034   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 026035   200535 451500                    STP1    CHIP#+3,,AUTO
         3 026036   200300 633500                    EPPR3   XST$,,AUTO
         3 026037   200534 453500                    STP3    CHIP#+2,,AUTO
         3 026040   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 026041   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 026042   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 026043   000000 011000                    NOP     0

     3539     6845    2      NXST = NXST + 1;

   6845  3 026044   200343 235100                    LDA     NXST,,AUTO
         3 026045   000001 035007                    ADLA    1,DL
         3 026046   200343 755100                    STA     NXST,,AUTO

     3540     6846    2      MDS_TEXT = ' ';

   6846  3 026047   040100 100400                    MLR     fill='040'O
         3 026050   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 026051   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3541     6847    2      CALL INSERT(MDS_TEXT,17,46,'OCTETS 01 TO 04 = ', BINHEX(OCTET_NIBBLE(2)),

   6847  3 026052   200241 236100                    LDQ     OCTET_BYTE,,AUTO
         3 026053   000030 772000                    QRL     24
         3 026054   000017 376007                    ANQ     15,DL
         3 026055   200534 756100                    STQ     CHIP#+2,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:656  
         3 026056   200241 236100                    LDQ     OCTET_BYTE,,AUTO
         3 026057   000024 772000                    QRL     20
         3 026060   000017 376007                    ANQ     15,DL
         3 026061   200535 756100                    STQ     CHIP#+3,,AUTO
         3 026062   200241 236100                    LDQ     OCTET_BYTE,,AUTO
         3 026063   000020 772000                    QRL     16
         3 026064   000017 376007                    ANQ     15,DL
         3 026065   200536 756100                    STQ     CHIP#+4,,AUTO
         3 026066   200241 236100                    LDQ     OCTET_BYTE,,AUTO
         3 026067   000014 772000                    QRL     12
         3 026070   000017 376007                    ANQ     15,DL
         3 026071   040100 100400                    MLR     fill='040'O
         3 026072   002564 000022 1                  ADSC9   BOARD_64K+949            cn=0,n=18
         3 026073   200321 200022                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=18
         3 026074   200534 235100                    LDA     CHIP#+2,,AUTO
         3 026075   040100 100405                    MLR     fill='040'O
         3 026076   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 026077   200325 600001                    ADSC9   MDS_TEXT+8,,AUTO         cn=3,n=1
         3 026100   200535 235100                    LDA     CHIP#+3,,AUTO
         3 026101   040100 100405                    MLR     fill='040'O
         3 026102   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 026103   200326 000001                    ADSC9   MDS_TEXT+9,,AUTO         cn=0,n=1
         3 026104   200536 235100                    LDA     CHIP#+4,,AUTO
         3 026105   040100 100405                    MLR     fill='040'O
         3 026106   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 026107   200326 200001                    ADSC9   MDS_TEXT+9,,AUTO         cn=1,n=1
         3 026110   040100 100406                    MLR     fill='040'O
         3 026111   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 026112   200326 400001                    ADSC9   MDS_TEXT+9,,AUTO         cn=2,n=1
         3 026113   040100 100400                    MLR     fill='040'O
         3 026114   002571 000030 1                  ADSC9   BOARD_64K+954            cn=0,n=24
         3 026115   200326 600030                    ADSC9   MDS_TEXT+9,,AUTO         cn=3,n=24

     3542     6848    2                  BINHEX(OCTET_NIBBLE(3)), BINHEX(OCTET_NIBBLE(4)),
     3543     6849    2                  BINHEX(OCTET_NIBBLE(5)), ' -- RESIDUAL COUNT (HEX)');
     3544     6850    2      XST_CNT = 63;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:657  
   6850  3 026116   000077 235007                    LDA     63,DL
         3 026117   200342 755100                    STA     XST_CNT,,AUTO

     3545     6851    2      CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6851  3 026120   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 026121   200536 450500                    STP0    CHIP#+4,,AUTO
         3 026122   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 026123   200535 451500                    STP1    CHIP#+3,,AUTO
         3 026124   200300 633500                    EPPR3   XST$,,AUTO
         3 026125   200534 453500                    STP3    CHIP#+2,,AUTO
         3 026126   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 026127   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 026130   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 026131   000000 011000                    NOP     0

     3546     6852    2      NXST = NXST + 1;

   6852  3 026132   200343 235100                    LDA     NXST,,AUTO
         3 026133   000001 035007                    ADLA    1,DL
         3 026134   200343 755100                    STA     NXST,,AUTO

     3547     6853    2      MDS_TEXT = ' ';

   6853  3 026135   040100 100400                    MLR     fill='040'O
         3 026136   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 026137   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3548     6854    2      MDS_REG1 = 0;

   6854  3 026140   200273 450100                    STZ     MDS_REG1,,AUTO

     3549     6855    2      MDS_REG2.OCTET(0) = OCTET_BYTE(3);

   6855  3 026141   200241 236100                    LDQ     OCTET_BYTE,,AUTO
         3 026142   000004 736000                    QLS     4
         3 026143   200273 676100                    ERQ     MDS_REG1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:658  
         3 026144   177400 376007                    ANQ     65280,DL
         3 026145   200273 656100                    ERSQ    MDS_REG1,,AUTO

     3550     6856    2      MDS_REG2.OCTET(1) = OCTET_BYTE(4);

   6856  3 026146   200241 235100                    LDA     OCTET_BYTE,,AUTO
         3 026147   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 026150   000040 773000                    LRL     32
         3 026151   000377 376007                    ANQ     255,DL
         3 026152   200273 676100                    ERQ     MDS_REG1,,AUTO
         3 026153   000377 376007                    ANQ     255,DL
         3 026154   200273 656100                    ERSQ    MDS_REG1,,AUTO

     3551     6857    2      CALL BINCHAR(MDS_CYL, MDS_REG1);

   6857  3 026155   200273 235100                    LDA     MDS_REG1,,AUTO
         3 026156   000044 773000                    LRL     36
         3 026157   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 026160   000100 301500                    BTD
         3 026161   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 026162   200274 030004                    NDSC9   MDS_CYL,,AUTO            cn=0,s=nosgn,sf=0,n=4

     3552     6858    2      CALL INSERT(MDS_TEXT, 17, 34, 'OCTETS 05 TO 06 = ', MDS_CYL,

   6858  3 026163   040100 100400                    MLR     fill='040'O
         3 026164   002577 000022 1                  ADSC9   BOARD_64K+960            cn=0,n=18
         3 026165   200321 200022                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=18
         3 026166   040100 100500                    MLR     fill='040'O
         3 026167   200274 000004                    ADSC9   MDS_CYL,,AUTO            cn=0,n=4
         3 026170   200325 600004                    ADSC9   MDS_TEXT+8,,AUTO         cn=3,n=4
         3 026171   040100 100400                    MLR     fill='040'O
         3 026172   002604 000014 1                  ADSC9   BOARD_64K+965            cn=0,n=12
         3 026173   200326 600014                    ADSC9   MDS_TEXT+9,,AUTO         cn=3,n=12

     3553     6859    2                  ' -- CYLINDER');
     3554     6860    2      XST_CNT = 51;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:659  
   6860  3 026174   000063 235007                    LDA     51,DL
         3 026175   200342 755100                    STA     XST_CNT,,AUTO

     3555     6861    2      CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6861  3 026176   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 026177   200536 450500                    STP0    CHIP#+4,,AUTO
         3 026200   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 026201   200535 451500                    STP1    CHIP#+3,,AUTO
         3 026202   200300 633500                    EPPR3   XST$,,AUTO
         3 026203   200534 453500                    STP3    CHIP#+2,,AUTO
         3 026204   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 026205   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 026206   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 026207   000000 011000                    NOP     0

     3556     6862    2      NXST = NXST + 1;

   6862  3 026210   200343 235100                    LDA     NXST,,AUTO
         3 026211   000001 035007                    ADLA    1,DL
         3 026212   200343 755100                    STA     NXST,,AUTO

     3557     6863    2      MDS_TEXT = ' ';

   6863  3 026213   040100 100400                    MLR     fill='040'O
         3 026214   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 026215   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3558     6864    2      MDS_REG1 = 0;

   6864  3 026216   200273 450100                    STZ     MDS_REG1,,AUTO

     3559     6865    2      MDS_REG2.OCTET(1) = OCTET_BYTE(5);

   6865  3 026217   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 026220   000030 772000                    QRL     24
         3 026221   200273 676100                    ERQ     MDS_REG1,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:660  
         3 026222   000377 376007                    ANQ     255,DL
         3 026223   200273 656100                    ERSQ    MDS_REG1,,AUTO

     3560     6866    2      CALL BINCHAR(MDS_HEAD, MDS_REG1);

   6866  3 026224   200273 236100                    LDQ     MDS_REG1,,AUTO
         3 026225   000000 235003                    LDA     0,DU
         3 026226   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 026227   000100 301500                    BTD
         3 026230   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 026231   200276 030002                    NDSC9   MDS_HEAD,,AUTO           cn=0,s=nosgn,sf=0,n=2

     3561     6867    2      CALL INSERT(MDS_TEXT, 17, 21, 'OCTET 07 = ', MDS_HEAD, ' -- HEAD');

   6867  3 026232   040100 100400                    MLR     fill='040'O
         3 026233   002607 000013 1                  ADSC9   BOARD_64K+968            cn=0,n=11
         3 026234   200321 200013                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=11
         3 026235   200276 220100                    LDX0    MDS_HEAD,,AUTO
         3 026236   200324 740100                    STX0    MDS_TEXT+7,,AUTO
         3 026237   040100 100400                    MLR     fill='040'O
         3 026240   002456 000010 1                  ADSC9   BOARD_64K+879            cn=0,n=8
         3 026241   200324 400010                    ADSC9   MDS_TEXT+7,,AUTO         cn=2,n=8

     3562     6868    2      XST_CNT = 38;

   6868  3 026242   000046 235007                    LDA     38,DL
         3 026243   200342 755100                    STA     XST_CNT,,AUTO

     3563     6869    2      CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6869  3 026244   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 026245   200536 450500                    STP0    CHIP#+4,,AUTO
         3 026246   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 026247   200535 451500                    STP1    CHIP#+3,,AUTO
         3 026250   200300 633500                    EPPR3   XST$,,AUTO
         3 026251   200534 453500                    STP3    CHIP#+2,,AUTO
         3 026252   200534 630500                    EPPR0   CHIP#+2,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:661  
         3 026253   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 026254   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 026255   000000 011000                    NOP     0

     3564     6870    2      NXST = NXST + 1;

   6870  3 026256   200343 235100                    LDA     NXST,,AUTO
         3 026257   000001 035007                    ADLA    1,DL
         3 026260   200343 755100                    STA     NXST,,AUTO

     3565     6871    2      MDS_TEXT = ' ';

   6871  3 026261   040100 100400                    MLR     fill='040'O
         3 026262   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 026263   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3566     6872    2      MDS_REG1 = 0;

   6872  3 026264   200273 450100                    STZ     MDS_REG1,,AUTO

     3567     6873    2      MDS_REG2.OCTET(1) = OCTET_BYTE(6);

   6873  3 026265   200242 236100                    LDQ     OCTET_BYTE+1,,AUTO
         3 026266   000020 772000                    QRL     16
         3 026267   200273 676100                    ERQ     MDS_REG1,,AUTO
         3 026270   000377 376007                    ANQ     255,DL
         3 026271   200273 656100                    ERSQ    MDS_REG1,,AUTO

     3568     6874    2      CALL BINCHAR(MDS_SECTOR, MDS_REG1);

   6874  3 026272   200273 236100                    LDQ     MDS_REG1,,AUTO
         3 026273   000000 235003                    LDA     0,DU
         3 026274   200534 757100                    STAQ    CHIP#+2,,AUTO
         3 026275   000100 301500                    BTD
         3 026276   200534 000010                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 026277   200275 030002                    NDSC9   MDS_SECTOR,,AUTO         cn=0,s=nosgn,sf=0,n=2

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:662  
     3569     6875    2      CALL INSERT(MDS_TEXT, 17, 23, 'OCTET 08 = ', MDS_SECTOR, ' -- SECTOR');

   6875  3 026300   040100 100400                    MLR     fill='040'O
         3 026301   002612 000013 1                  ADSC9   BOARD_64K+971            cn=0,n=11
         3 026302   200321 200013                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=11
         3 026303   200275 220100                    LDX0    MDS_SECTOR,,AUTO
         3 026304   200324 740100                    STX0    MDS_TEXT+7,,AUTO
         3 026305   040100 100400                    MLR     fill='040'O
         3 026306   002615 000012 1                  ADSC9   BOARD_64K+974            cn=0,n=10
         3 026307   200324 400012                    ADSC9   MDS_TEXT+7,,AUTO         cn=2,n=10

     3570     6876    2      XST_CNT = 40;

   6876  3 026310   000050 235007                    LDA     40,DL
         3 026311   200342 755100                    STA     XST_CNT,,AUTO

     3571     6877    2      CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6877  3 026312   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 026313   200536 450500                    STP0    CHIP#+4,,AUTO
         3 026314   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 026315   200535 451500                    STP1    CHIP#+3,,AUTO
         3 026316   200300 633500                    EPPR3   XST$,,AUTO
         3 026317   200534 453500                    STP3    CHIP#+2,,AUTO
         3 026320   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 026321   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 026322   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 026323   000000 011000                    NOP     0

     3572     6878    2      NXST = NXST + 1;

   6878  3 026324   200343 235100                    LDA     NXST,,AUTO
         3 026325   000001 035007                    ADLA    1,DL
         3 026326   200343 755100                    STA     NXST,,AUTO

     3573     6879    2   PARAM_3X_DONE:
     3574     6880    2      PARAMETER_ID = 0;                /* DECODING DONE FOR PARAM_3X */
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:663  

   6880  3 026327   000452 236000 4     PARAM_3X_DO* LDQ     298
         3 026330   200254 356100                    ANSQ    PARAMETER_ID,,AUTO

     3575     6881    2          RETURN;

   6881  3 026331   200530 221300                    LDX1  ! BIT#,,AUTO
         3 026332   000001 702211                    TSX2  ! 1,X1

     3576     6882    2   END DECODE_PARAM_3X;
     3577     6883        %EJECT;
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:664  
     3578     6884        /**/
     3579     6885        /* PROCEDURE TO DECODE DEVICE STATUS PARAMETER (TYPE 51) FOR MDS DISCS */
     3580     6886        /**/
     3581     6887    1   DECODE_PARAM_51:  PROC;

   6887  3 026333   200526 741300       DECODE_PARA* STX1  ! @BOARD,,AUTO

     3582     6888        /**/
     3583     6889    2      MDS_TEXT = ' ';

   6889  3 026334   040100 100400                    MLR     fill='040'O
         3 026335   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 026336   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3584     6890    2      OCTET$ = MDS_PARAM_51.SUB$(OCTET_NUM - 1);

   6890  3 026337   200262 720100                    LXL0    OCTET_NUM,,AUTO
         3 026340   777777 236010 xsym               LDQ     MDS_PARAM_51-1,X0
         3 026341   200216 756100                    STQ     OCTET$,,AUTO

     3585     6891    2      IF (OCTET_NUM = 1 OR OCTET_NUM = 2) THEN

   6891  3 026342   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 026343   000001 115007                    CMPA    1,DL
         3 026344   026347 600000 3                  TZE     s:6893
         3 026345   000002 115007                    CMPA    2,DL
         3 026346   026551 601000 3                  TNZ     s:6914

     3586     6892    3         DO;

     3587     6893    3           HEX_NUM = OCTET_NUM;

   6893  3 026347   200262 236100                    LDQ     OCTET_NUM,,AUTO
         3 026350   000034 736000                    QLS     28
         3 026351   200252 676100                    ERQ     HEX_NUM,,AUTO
         3 026352   776000 376003                    ANQ     -1024,DU
         3 026353   200252 656100                    ERSQ    HEX_NUM,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:665  

     3588     6894    3           CALL INSERT(MDS_TEXT, 17, 11, 'OCTET ',BINHEX(HEX_NIBBLE(0)),

   6894  3 026354   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 026355   000040 772000                    QRL     32
         3 026356   200534 756100                    STQ     CHIP#+2,,AUTO
         3 026357   200252 236100                    LDQ     HEX_NUM,,AUTO
         3 026360   000034 772000                    QRL     28
         3 026361   000017 376007                    ANQ     15,DL
         3 026362   040100 100400                    MLR     fill='040'O
         3 026363   002352 000006 1                  ADSC9   BOARD_64K+811            cn=0,n=6
         3 026364   200321 200006                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=6
         3 026365   200534 235100                    LDA     CHIP#+2,,AUTO
         3 026366   040100 100405                    MLR     fill='040'O
         3 026367   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 026370   200322 600001                    ADSC9   MDS_TEXT+5,,AUTO         cn=3,n=1
         3 026371   040100 100406                    MLR     fill='040'O
         3 026372   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 026373   200323 000001                    ADSC9   MDS_TEXT+6,,AUTO         cn=0,n=1
         3 026374   002354 236000 1                  LDQ     BOARD_64K+813
         3 026375   000011 772000                    QRL     9
         3 026376   200323 552134                    STBQ    MDS_TEXT+6,'34'O,AUTO

     3589     6895    3                       BINHEX(HEX_NIBBLE(1)), ' = ');
     3590     6896    3           CALL INSERT(MDS_TEXT, 28, 2, BINHEX(OCTET_NIBBLE(2 * OCTET_NUM)),

   6896  3 026377   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 026400   000003 735000                    ALS     3
         3 026401   026403 605000 3                  TPL     s:6896+4
         3 026402   000044 035003                    ADLA    36,DU
         3 026403   003100 061505                    CSR     bolr='003'O
         3 026404   200241 000004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=0,n=4
         3 026405   200534 000044                    BDSC    CHIP#+2,,AUTO            by=0,bit=0,n=36
         3 026406   200534 236100                    LDQ     CHIP#+2,,AUTO
         3 026407   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 026410   000003 735000                    ALS     3
         3 026411   026413 605000 3                  TPL     s:6896+12
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:666  
         3 026412   000044 035003                    ADLA    36,DU
         3 026413   003100 061505                    CSR     bolr='003'O
         3 026414   200241 040004                    BDSC    OCTET_BYTE,A,AUTO        by=0,bit=4,n=4
         3 026415   200535 000044                    BDSC    CHIP#+3,,AUTO            by=0,bit=0,n=36
         3 026416   200536 756100                    STQ     CHIP#+4,,AUTO
         3 026417   200535 236100                    LDQ     CHIP#+3,,AUTO
         3 026420   200536 235100                    LDA     CHIP#+4,,AUTO
         3 026421   040100 100405                    MLR     fill='040'O
         3 026422   000122 000001 1                  ADSC9   BINHEX,A                 cn=0,n=1
         3 026423   200324 000001                    ADSC9   MDS_TEXT+7,,AUTO         cn=0,n=1
         3 026424   040100 100406                    MLR     fill='040'O
         3 026425   000122 000001 1                  ADSC9   BINHEX,Q                 cn=0,n=1
         3 026426   200324 200001                    ADSC9   MDS_TEXT+7,,AUTO         cn=1,n=1

     3591     6897    3                       BINHEX(OCTET_NIBBLE(2 * OCTET_NUM + 1)));
     3592     6898    3           XST_CNT = 30;

   6898  3 026427   000036 235007                    LDA     30,DL
         3 026430   200342 755100                    STA     XST_CNT,,AUTO

     3593     6899    3           CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6899  3 026431   200342 630500                    EPPR0   XST_CNT,,AUTO
         3 026432   200536 450500                    STP0    CHIP#+4,,AUTO
         3 026433   200315 631500                    EPPR1   MDS_TEXT,,AUTO
         3 026434   200535 451500                    STP1    CHIP#+3,,AUTO
         3 026435   200300 633500                    EPPR3   XST$,,AUTO
         3 026436   200534 453500                    STP3    CHIP#+2,,AUTO
         3 026437   200534 630500                    EPPR0   CHIP#+2,,AUTO
         3 026440   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 026441   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 026442   000000 011000                    NOP     0

     3594     6900    3           NXST = NXST + 1;

   6900  3 026443   200343 235100                    LDA     NXST,,AUTO
         3 026444   000001 035007                    ADLA    1,DL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:667  
         3 026445   200343 755100                    STA     NXST,,AUTO

     3595     6901    3           PARAM_INDX = 0;

   6901  3 026446   200253 450100                    STZ     PARAM_INDX,,AUTO

     3596     6902    4           DO X = (8 * DEVTBL.CODE(I)) TO (8 * DEVTBL.CODE(I) +7);

   6902  3 026447   200010 236100                    LDQ     I,,AUTO
         3 026450   000012 402007                    MPY     10,DL
         3 026451   200215 470500                    LDP0    DEV$,,AUTO
         3 026452   000000 236106                    LDQ     0,QL,PR0
         3 026453   000030 772000                    QRL     24
         3 026454   007770 376007                    ANQ     4088,DL
         3 026455   200011 756100                    STQ     X,,AUTO
         3 026456   026537 710000 3                  TRA     s:6912+1

     3597     6903    4              IF (IO_MASK1(X)) AND (PARAM_TBL.COUNT(PARAM_INDX) > 1)

   6903  3 026457   200011 235100                    LDA     X,,AUTO
         3 026460   026462 605000 3                  TPL     s:6903+3
         3 026461   000044 035003                    ADLA    36,DU
         3 026462   000000 066505                    CMPB    filb='0'B
         3 026463   200221 000001                    BDSC    IO_MASK,A,AUTO           by=0,bit=0,n=1
         3 026464   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         3 026465   026535 600000 3                  TZE     s:6911
         3 026466   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 026467   000014 402007                    MPY     12,DL
         3 026470   200216 470500                    LDP0    OCTET$,,AUTO
         3 026471   000000 236106                    LDQ     0,QL,PR0
         3 026472   777000 376003                    ANQ     -512,DU
         3 026473   002000 116003                    CMPQ    1024,DU
         3 026474   026535 602000 3                  TNC     s:6911

     3598     6904    5                 THEN DO;

     3599     6905    5                   MDS_TEXT = ' ';
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:668  

   6905  3 026475   040100 100400                    MLR     fill='040'O
         3 026476   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 026477   200315 000120                    ADSC9   MDS_TEXT,,AUTO           cn=0,n=80

     3600     6906    5                   CALL INSERT(MDS_TEXT, 17, PARAM_TBL.COUNT(PARAM_INDX), PARAM_TBL.
              6906                            TEXT(PARAM_INDX));

   6906  3 026500   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 026501   000014 402007                    MPY     12,DL
         3 026502   000000 236106                    LDQ     0,QL,PR0
         3 026503   000033 772000                    QRL     27
         3 026504   000000 620006                    EAX0    0,QL
         3 026505   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 026506   000060 402007                    MPY     48,DL
         3 026507   040140 100506                    MLR     fill='040'O
         3 026510   000000 200054                    ADSC9   0,Q,PR0                  cn=1,n=44
         3 026511   200321 200010                    ADSC9   MDS_TEXT+4,,AUTO         cn=1,n=*X0

     3601     6907    5                   XST_CNT = PARAM_TBL.COUNT(PARAM_INDX) + 17;

   6907  3 026512   200253 236100                    LDQ     PARAM_INDX,,AUTO
         3 026513   000014 402007                    MPY     12,DL
         3 026514   000000 236106                    LDQ     0,QL,PR0
         3 026515   000033 772000                    QRL     27
         3 026516   000021 036007                    ADLQ    17,DL
         3 026517   200342 756100                    STQ     XST_CNT,,AUTO

     3602     6908    5                   CALL THF$ADD_TEXTC(XST$, MDS_TEXT, XST_CNT);

   6908  3 026520   200342 631500                    EPPR1   XST_CNT,,AUTO
         3 026521   200536 451500                    STP1    CHIP#+4,,AUTO
         3 026522   200315 633500                    EPPR3   MDS_TEXT,,AUTO
         3 026523   200535 453500                    STP3    CHIP#+3,,AUTO
         3 026524   200300 634500                    EPPR4   XST$,,AUTO
         3 026525   200534 454500                    STP4    CHIP#+2,,AUTO
         3 026526   200534 630500                    EPPR0   CHIP#+2,,AUTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:669  
         3 026527   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 026530   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 026531   000000 011000                    NOP     0

     3603     6909    5                   NXST = NXST + 1;

   6909  3 026532   200343 235100                    LDA     NXST,,AUTO
         3 026533   000001 035007                    ADLA    1,DL
         3 026534   200343 755100                    STA     NXST,,AUTO

     3604     6910    5                 END;

     3605     6911    4           PARAM_INDX = PARAM_INDX + 1;

   6911  3 026535   200253 054100                    AOS     PARAM_INDX,,AUTO

     3606     6912    4           END;  /* DO X */

   6912  3 026536   200011 054100                    AOS     X,,AUTO
         3 026537   200010 236100                    LDQ     I,,AUTO
         3 026540   000012 402007                    MPY     10,DL
         3 026541   200215 470500                    LDP0    DEV$,,AUTO
         3 026542   000000 236106                    LDQ     0,QL,PR0
         3 026543   000030 772000                    QRL     24
         3 026544   007770 376007                    ANQ     4088,DL
         3 026545   000007 036007                    ADLQ    7,DL
         3 026546   200011 116100                    CMPQ    X,,AUTO
         3 026547   026457 605000 3                  TPL     s:6903

     3607     6913    3         END;

   6913  3 026550   026552 710000 3                  TRA     s:6915

     3608     6914    2         ELSE RETURN;

   6914  3 026551   000001 702211                    TSX2  ! 1,X1

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:670  
     3609     6915    2      IF OCTET_NUM = 2 THEN

   6915  3 026552   200262 235100                    LDA     OCTET_NUM,,AUTO
         3 026553   000002 115007                    CMPA    2,DL
         3 026554   026557 601000 3                  TNZ     s:6917

     3610     6916    2         PARAMETER_ID = 0;           /* FINISHED DECODING PARAM_51 */

   6916  3 026555   000452 236000 4                  LDQ     298
         3 026556   200254 356100                    ANSQ    PARAMETER_ID,,AUTO

     3611     6917    2      RETURN;

   6917  3 026557   200526 221300                    LDX1  ! @BOARD,,AUTO
         3 026560   000001 702211                    TSX2  ! 1,X1
     3612     6918    2   END DECODE_PARAM_51;
     3613     6919    1   END THF$RAW;
     3614     6920        %EOD;

PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:671  
--  Include file information  --

   XU_FORMAT_C.:E05TOU  is referenced.
   NI_DATA_C.:E05TOU  is referenced.
   TM_DATA_M.:E05TOU  is referenced.
   B_MICROPS_C.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   TH_XSTATUS_R.:E05TOU  cannot be made into a system file and is referenced.
   EL_SUBS_C.:E05TOU  is referenced.
   KI_SUBS_C.:E05TOU  is referenced.
   TH_DATA_C.:E05TOU  is referenced.
   B_STRINGS_C.:E05TOU  is referenced.
   TH_SUBS_C.:E05TOU  is referenced.
   TH_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   EL$TABLES.:E05TOU  is referenced.
   B$JIT.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure THF$RAW.
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:672  

 **** Variables and constants ****

  ****  Section 001 RoData THF$RAW

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   122-0-0/c CHAR        r     1 BINHEX(0:15)             526-0-0/c SBIN(9)     r     1 BIT_4K(0:127)
   626-0-0/c SBIN(9)     r     1 BIT_64K(0:127)
   677-0-0/c CHAR        r     1 BOARD_64K(0:15)
   666-0-0/c CHAR(2)     r     1 CHIP_64K_CHAR(0:7)
   672-0-0/c CHAR        r     1 CHIP_64K_LET(0:19)
   174-0-0/c CHAR(121)   r     1 COMPONENT_HDR            111-0-0/c CHAR(34)    r     1 DUMP_HDR
     1-0-0/c CHAR(21)    r     1 DYMFMT                   133-0-0/c CHAR(23)    r     1 EVENFMT
   440-0-0/c CHAR(32)    r     1 EXTENDED_HDR             151-0-0/c CHAR(21)    r     1 FCFMT
   451-0-0/c CHAR(130)   r     1 FEP_HDR                  157-0-0/c CHAR(50)    r     1 FRFMT
     7-0-0/c CHAR(13)    r     1 INFOFMT                  512-0-0/d STRC(432)   r     1 LOC_DATE
     0-0-0/b BIT         r     1 MASK                     126-0-0/c CHAR(17)    r     1 MDSFMT
   324-0-0/c CHAR(152)   r     1 NINE_TRK_HDR             304-0-0/c CHAR(63)    r     1 NON_TAPE_HDR
   450-0-0/b BIT (9)     r     1 NO_LEADING_ZEROS(0:2)
   242-0-0/c CHAR(133)   r     1 NO_XSTAT_HDR             141-0-0/c CHAR(31)    r     1 ODDFMT
    71-0-0/c CHAR(29)    r     1 PR71FMT1                 101-0-0/c CHAR(32)    r     1 PR71FMT3
    13-0-0/c CHAR(25)    r     1 PROCERR_SS               566-0-0/c SBIN(9)     r     1 QUAD_4K(0:127)
   372-0-0/c CHAR(152)   r     1 SEVEN_TRK_HDR            233-0-0/c CHAR(28)    r     1 STATUS_DATA

  ****  Section 002  Data  THF$RAW

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

  7642-0-0/c CHAR(4)     r     1 BOARD_4K(0:3)
  7646-0-0/c CHAR        r     1 CHIP_LTTR(0:9)
  3314-0-0/d BIT (72)    r     1 COMPONENT_FMT             60-0-0/c CHAR(8)     r     1 DBUF
  3135-0-0/c STRC(90)    r     1 DP_POSITION             3256-0-0/c CHAR(120)   r     1 ERR_MSG
  7424-0-0/d STRC(936)   r     1 ERR_MSGS                7456-0-0/c STRC(72)    r     1 ERR_MSG_ACCT
  7460-0-0/c STRC(90)    r     1 ERR_MSG_NAME            3330-0-0/d BIT (72)    r     1 EXTENDED_FMT
  3140-0-0/c CHAR(300)   r     1 FCBUF                   7570-0-0/w STRC(1080)  r     1 FDS_PR71
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:673  
    56-0-0/b STRC        r     1 FEPERR_CODE             7470-0-0/w STRC(1224)  r     1 FEPERR_TBL
  7422-0-0/d BIT (72)    r     1 FEP_FMT                 7626-0-0/d STRC(432)   r     1 FPT_TIME
    65-0-0/c CHAR(16)    r     1 FRU_STR                   65-0-0/c STRC(144)   r     1 FRU_STRING
  7532-0-0/w STRC(1080)  r     1 IOERR_TBL                 57-0-0/w UBIN        r     1 LOC_UTS
  3025-0-0/c CHAR(256)   r     1 MMBUF                   3132-0-0/c STRC(99)    r     1 MT_POSITION
  7416-0-0/c UBIN(9)     r     1 NINE_TRACK_RDF(0:8)
  7416-0-0/c STRC(81)    r     1 NINE_TRACK_TBL          3324-0-0/d BIT (72)    r     1 NINE_TRK_FMT
  3322-0-0/d BIT (72)    r     1 NON_TAPE_FMT            3320-0-0/d BIT (72)    r     1 NO_XSTAT_FMT
  3332-0-0/w STRC(693)   r     1 OTHER_IOERR_TBL           41-0-0/c STRC(324)   r     1 PR71_BUF
    52-0-0/d BIT (72)    r     1 PR71_VECTOR_TBL         3125-0-0/c CHAR(20)    r     1 SECBUF
  3255-0-0/w PTR         r     1 SPBIT$                  3253-0-0/c CHAR        r     1 SP_BIT(0:4)
  3316-0-0/d BIT (72)    r     1 STATUS_FMT                62-0-0/c CHAR(11)    r     1 TBUF
    54-0-0/w BIT (72)    r     1 TEMP_STATUS               54-0-0/w STRC(72)    r     1 TEMP_STATUS1
  7464-0-0/d STRC(144)   r     1 TEMP_VLR
  3356-0-0/w STRC(351)   r     1 XSTAT_TBL(0:207)
    71-0-0/c CHAR(6000)  r     1 XSTBUF

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   526-0-0/w PTR         r     1 @BOARD                   527-0-0/w PTR         r     1 @CHIP
   527-0-0/w PTR         r     1 @ERR                       3-0-0/w PTR         r     1 @FMTTBL$
   530-0-0/w PTR         r     1 @SIZ                     525-0-0/w PTR         r     1 @STATUS$
   527-0-0/w PTR         r     1 @TXT                     525-0-0/w PTR         r     1 @UTS
   504-0-0/b BIT         r     1 ALL_MATCH
   263-0-0/b STRC(9)     r     1 ASCII_EXTST(0:31)
   530-0-0/w SBIN        r     1 BIT#                     457-0-0/w UBIN        r     1 BIT_CNT
    *0-0-0/c CHAR        r     1 BOARD                      7-0-0/c CHAR        r     1 BORD
    *0-0-0/c CHAR(3)     r     1 CHIP                     532-0-0/c CHAR(2)     r     1 CHIP#
     6-0-0/c CHAR(3)     r     1 CHP                      401-0-0/c CHAR        r     1 CPUN
   405-0-0/c CHAR(8)     r     1 CPU_DEVN                 211-0-0/w PTR         r     1 CTL$
   375-0-0/w SBIN        r     1 CYL                      215-0-0/w PTR         r     1 DEV$
   214-0-0/b BIT         r     1 DEV_FLAG                 505-0-0/w PTR         r     1 DEV_OP$
   465-0-0/w PTR         r     1 DPC$                     463-0-0/b BIT         r     1 DP_BIT(0:3)
   463-0-0/b UBIN(4)     r     1 DP_FORMAT                463-0-0/b UBIN(4)     r     1 DP_FORM_MSG
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:674  
    *0-0-0/b STRC        r     1 ERR                      466-0-0/c CHAR(43)    r     1 ERR_MSG_T
   432-0-0/w PTR         r     1 FC$                      456-0-0/w UBIN        r     1 FCFLAG
   451-0-0/w PTR         r     1 FCPTR$                   434-0-0/d STRC(72)    r     1 FCVEC
   450-0-0/w SBIN        r     1 FC_CNT                   436-0-0/c CHAR(37)    r     1 FC_TEXT
   460-0-0/w UBIN        r     1 FEP_COUNT                277-0-0/b BIT         r     1 FIPS_TAPE
   452-0-0/b BIT (72)    r     1 FLT_REG
   452-0-0/b BIT         r     1 FLT_REG_T(0:71)
   452-0-0/b BIT (4)     r     1 FLT_REG_TT(0:17)
    *0-0-0/w PTR         r     1 FMTTBL$(0:0)
   513-0-0/b BIT         r     1 FOUND_ST
   260-0-0/b UBIN(4)     r     1 FRU_INDX(0:1)
   464-0-0/b BIT         r     1 FT_BIT(0:7)              464-0-0/b UBIN(8)     r     1 FT_CODE
   260-0-0/b UBIN(8)     r     1 F_INDX                   376-0-0/w SBIN        r     1 HD
   252-0-0/b UBIN(4)     r     1 HEX_NIBBLE(0:1)
   252-0-0/b UBIN(8)     r     1 HEX_NUM                   10-0-0/w SBIN        r     1 I
   530-0-0/w SBIN        r     1 I                        454-0-0/w UBIN        r     1 II
     4-0-0/d STRC(72)    r     1 INFO                     400-0-0/c CHAR        r     1 IOMN
   403-0-0/c CHAR(8)     r     1 IOM_DEVN                 221-0-0/b UBIN(8)     r     1 IO_MASK(0:35)
   221-0-0/b BIT         r     1 IO_MASK1(0:287)          231-0-0/b BIT         r     1 IO_MASK2(0:287)
   100-0-0/w UBIN        r     1 J                        455-0-0/w UBIN        r     1 JJ
    16-0-0/w SBIN        r     1 JUNK                     102-0-0/w SBIN        r     1 LEN
   461-0-0/w UBIN        r     1 LENN                     346-0-0/c CHAR(32)    r     1 MAJBUF
   366-0-0/w SBIN        r     1 MAJCNT                   261-0-0/w UBIN        r     1 MAX_ENTRY
   257-0-0/b STRC(16)    r     1 MDS_CMD_ENDING_STAT      274-0-0/c CHAR(4)     r     1 MDS_CYL
   256-0-0/b STRC(8)     r     1 MDS_DRIVE_STATUS         276-0-0/c CHAR(2)     r     1 MDS_HEAD
   273-0-0/w UBIN        r     1 MDS_REG1                 273-0-0/w STRC        r     1 MDS_REG2
   275-0-0/c CHAR(2)     r     1 MDS_SECTOR               256-0-0/b UBIN(8)     r     1 MDS_STATUS_REG1
   257-0-0/b UBIN(8)     r     1 MDS_STATUS_REG2(0:1)
   217-0-0/w PTR         r     1 MDS_TBL$                 315-0-0/c CHAR(80)    r     1 MDS_TEXT
   341-0-0/w SBIN        r     1 MDS_TEXT_POSITION        356-0-0/c CHAR(32)    r     1 MINBUF
   367-0-0/w SBIN        r     1 MINCNT                   370-0-0/w PTR         r     1 MM$
   372-0-0/d STRC(72)    r     1 MMVEC                    220-0-0/c CHAR(3)     r     1 MODEL_CHAR
   344-0-0/w UBIN        r     1 N                        507-0-0/b UBIN(8)     r     1 NEW_DENSE
   507-0-0/b STRC(8)     r     1 NEW_DENSE_RDF
   231-0-0/b UBIN(8)     r     1 NEW_IO_MASK(0:35)
   501-0-0/b BIT         r     1 NEW_OP
   501-0-0/b BIT (6)     r     1 NEW_OP_RDF(0:5)
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:675  
   514-0-0/c CHAR(3)     r     1 NINE_TRACK_BLNK(0:8)
   514-0-0/c CHAR(27)    r     1 NINE_TRACK_STRING        103-0-0/w UBIN        r     1 NUMBYTES
   104-0-0/w UBIN        r     1 NUMWORDS                 510-0-0/w UBIN        r     1 NUM_XSTATUS
   343-0-0/w UBIN        r     1 NXST                     216-0-0/w PTR         r     1 OCTET$
   241-0-0/b UBIN(8)     r     1 OCTET_BYTE(0:25)
   241-0-0/b UBIN(4)     r     1 OCTET_NIBBLE(0:51)
   262-0-0/w SBIN        r     1 OCTET_NUM                345-0-0/b BIT         r     1 ODDFLAG
   506-0-0/b UBIN(8)     r     1 OLD_DENSE                506-0-0/b STRC(8)     r     1 OLD_DENSE_RDF
   502-0-0/c CHAR(8)     r     1 OPERATION                254-0-0/b UBIN(8)     r     1 PARAMETER_ID
   255-0-0/w UBIN(8)     r     1 PARAMETER_LENGTH         254-0-0/b STRC(8)     r     1 PARAM_ID
   253-0-0/w SBIN        r     1 PARAM_INDX                14-0-0/b STRC(16)    r     1 PR54_BELT
    13-0-0/b BIT (9)     r     1 PR54_BYTE                 14-0-0/b STRC(16)    r     1 PR71_BELT
    15-0-0/w STRC        r     1 PR71_REG1                 12-0-0/b BIT (6)     r     1 PRNTR_REG
    14-0-0/b STRC(16)    r     1 PTR_BELT                 531-0-0/w SBIN        r     1 QUAD#
   402-0-0/c CHAR        r     1 SCUN                     407-0-0/c CHAR(8)     r     1 SCU_DEVN
   377-0-0/w SBIN        r     1 SE                       411-0-0/w PTR         r     1 SEC$
   374-0-0/w SBIN        r     1 SECTOR                   430-0-0/d STRC(72)    r     1 SECVEC
   425-0-0/c CHAR(8)     r     1 SEEK_ADDR                 *0-0-0/w SBIN        r     1 SIZ
   462-0-0/w PTR         r     1 SPC$                     212-0-0/w PTR         r     1 STATS$
    *0-0-0/w PTR         r     1 STATUS$                  101-0-0/w UBIN        r     1 STRT
    17-0-0/c CHAR(63)    r     1 TEMP                      37-0-0/c CHAR(63)    r     1 TEMP1
    57-0-0/c CHAR(63)    r     1 TEMP2
   413-0-0/w UBIN        r     1 TEMPBUF(0:5)
   210-0-0/w PTR         r     1 TEXT$                    106-0-0/c CHAR(256)   r     1 TEXTBUF
   511-0-0/b BIT         r     1 TRACK_NINE               512-0-0/b BIT         r     1 TRACK_SEVEN
   526-0-0/w UBIN        r     1 TSTAMP                   206-0-0/d STRC(72)    r     1 TVEC
    *0-0-0/c ACHR        r     1 TXT                      213-0-0/w UBIN        r     1 TYPE
    *0-0-0/b UBIN        r     1 UTS                       11-0-0/w SBIN        r     1 X
   300-0-0/w PTR         r     1 XST$
   247-0-0/b UBIN(8)     r     1 XSTATUS_BYTE(0:10)
   247-0-0/b UBIN(4)     r     1 XSTATUS_NIBBLE(0:21)
   302-0-0/d STRC(72)    r     1 XSTVEC                   342-0-0/w SBIN        r     1 XST_CNT
   304-0-0/c CHAR(35)    r     1 XST_TEXT

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:676  
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 B$JIT$
     0-0-0/w STRC(333)   r     1 CTRL_ERR_TBL(0:65)
     0-0-0/w STRC(117)   r     1 DEVICE_CMND(0:8191)
     0-0-0/w STRC(333)   r     1 FAULT_SYMP_TBL(0:70)
     0-0-0/w STRC(306)   r     1 FC(0:21)
     0-0-0/w STRC(45)    r     1 FLTREG_TYPE(0:2)
     0-0-0/w STRC(333)   r     1 FORM0_NOTB1_B3(0:9)
     0-0-0/w STRC(45)    r     1 FORMAT_TBLS(0:8)
     0-0-0/w STRC(342)   r     1 ILL_CODE(0:15)
     0-0-0/w STRC(333)   r     1 LED_TBL(0:32)
     0-0-0/w STRC(414)   r     1 MDSII_FCODE(0:7)
     0-0-0/w STRC(414)   r     1 MDSII_FRUS(0:8)
     0-0-0/w STRC(414)   r     1 MDSII_STATUS(0:25)
     0-0-0/w STRC(414)   r     1 MDSI_FCODE(0:6)
     0-0-0/w STRC(414)   r     1 MDSI_FRUS(0:15)
     0-0-0/w STRC(414)   r     1 MDS_CMD_IDENT(0:48)
     0-0-0/w STRC(405)   r     1 MDS_DRIVE_ENDING_STATUS(0:3)
     0-0-0/w STRC(324)   r     1 MDS_ERROR_LOC(0:3)
     0-0-0/w STRC(306)   r     1 MDS_INFO_ERRS(0:5)
     0-0-0/w STRC(126)   r     1 MDS_MISC_ERRS(0:1)
     0-0-0/w STRC(333)   r     1 MDS_OP_CODE_TBL(0:42)
     0-0-0/w STRC        r     1 MDS_PARAM_51(0:1)
     0-0-0/w STRC(324)   r     1 MDS_PARAM_ID_TBL(0:10)
     0-0-0/w STRC        r     1 MDS_PARAM_X2(0:4)
     0-0-0/w STRC        r     1 MDS_PARAM_X4(0:5)
     0-0-0/w STRC        r     1 MDS_PARAM_X5(0:4)
     0-0-0/w STRC        r     1 MDS_PARAM_X6(0:5)
     0-0-0/w STRC        r     1 MDS_PARAM_X7(0:6)
     0-0-0/w STRC        r     1 MDS_PARAM_X8
     0-0-0/w STRC        r     1 MDS_PARAM_X9(0:2)
     0-0-0/w STRC        r     1 MDS_PARAM_XA(0:5)
     0-0-0/w STRC(234)   r     1 MDS_RW_ERRS(0:7)
     0-0-0/w STRC(216)   r     1 MDS_TIMEOUT_ERRS(0:7)
     0-0-0/w STRC(333)   r     1 NON_REG_TBL(0:10)
     0-0-0/w STRC(189)   r     1 PR54_BELT_TBL(0:3)
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:677  
     0-0-0/w STRC(189)   r     1 PR71_BELT_TBL(0:3)
     0-0-0/w STRC(333)   r     1 REGISTER_TBL(0:16)
     0-0-0/w STRC(81)    r     1 SP_CASES(0:4)
     0-0-0/w STRC(9)     r     1 TBL_EIGHTY_TWO(0:26)
     0-0-0/w STRC(9)     r     1 TBL_SIX(0:9)
     0-0-0/w STRC(9)     r     1 TBL_SIX_TEN(0:9)
     0-0-0/w STRC(9)     r     1 TBL_SIX_THIRTY(0:7)
     0-0-0/d STRC(1971)  r     1 TH_CONSTRAINTS             0-0-0/b BIT         r     1 TH_DETAIL_FLG
     0-0-0/b BIT         r     1 TH_EOF_FLG                 0-0-0/b BIT         r     1 TH_FEPERR_FLG
     0-0-0/b BIT         r     1 TH_FIRST_TIME              0-0-0/d STRC(72)    r     1 TH_INFO
     0-0-0/b BIT         r     1 TH_IOERR_FLG               0-0-0/w UBIN        r     1 TH_ITYPE
     0-0-0/w SBIN        r     1 TH_LASTTYPE                0-0-0/w CHAR(2)     r     1 TH_LAST_DEVTYPE
     0-0-0/w UBIN        r     1 TH_LAST_REQID              0-0-0/w UBIN        r     1 TH_NUM_DEVS
     0-0-0/b BIT         r     1 TH_RAW_FLG                 0-0-0/d STRC(72)    r     1 TH_RECORD
     0-0-0/b BIT         r     1 TH_RECOV
     0-0-0/w STRC(144)   r     1 TH_SYS_DEVS(0:511)
     0-0-0/c CHAR(11)    r     1 TH_TIME                    0-0-0/w BIT (72)    r     1 TH_XSA_BUF_VECTOR
     0-0-0/w STRC(117)   r     1 X_DEV_TYPE(0:8191)

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(144)   r     1 CTL                        0-0-0/w STRC(333)   r     1 DEVTBL(0:207)
     0-0-0/w STRC(90)    r     1 DEV_OP_TBL(0:30)
     0-0-0/c STRC(99)    r     1 DFNAME                     0-0-0/w STRC(576)   r     1 DISK_STATS
     0-0-0/w STRC(288)   r     1 DP_FORM_TBL(0:15)
     0-0-0/w STRC(1332)  r     1 EL$ANLZ                    0-0-0/w STRC(540)   r     1 EL$CGERR
     0-0-0/w STRC(72)    r     1 EL$CHANTRAN                0-0-0/w STRC(243)   r     1 EL$CHNGAARD
     0-0-0/w STRC(216)   r     1 EL$CMPSTRT                 0-0-0/w STRC(180)   r     1 EL$CP6SAYS
     0-0-0/w STRC(756)   r     1 EL$DEVSTATS                0-0-0/w STRC(324)   r     1 EL$DIAG
     0-0-0/w STRC(396)   r     1 EL$EDAC                    0-0-0/w STRC(396)   r     1 EL$EDAC
     0-0-0/w STRC(180)   r     1 EL$FECRASH                 0-0-0/w STRC(1224)  r     1 EL$FEPERR
     0-0-0/w STRC(1044)  r     1 EL$FILERR                  0-0-0/w STRC(73)    r     1 EL$FWLOAD
     0-0-0/d STRC(2556)  r     1 EL$GABRT                   0-0-0/w STRC(1080)  r     1 EL$IOERR
     0-0-0/w STRC(468)   r     1 EL$MIRROR                  0-0-0/w STRC(1332)  r     1 EL$MPCSTATS
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:678  
     0-0-0/w STRC(180)   r     1 EL$MSOSSAYS                0-0-0/w STRC(252)   r     1 EL$MTDMT
     0-0-0/w STRC(2700)  r     1 EL$PROCERR                 0-0-0/d STRC(468)   r     1 EL$SCREECH
     0-0-0/w STRC(108)   r     1 EL$SPURINT                 0-0-0/w STRC(306)   r     1 EL$SYSCON
     0-0-0/d STRC(2232)  r     1 EL$SYSID                   0-0-0/w STRC(1332)  r     1 EL$ZAP
     0-0-0/w STRC(1224)  r     1 EURC_STATS                 0-0-0/w STRC(351)   r     1 FCTBL(0:71)
     0-0-0/w STRC        r     1 FC_TEMP                    0-0-0/w STRC(396)   r     1 MDS_STATS
     0-0-0/w STRC(414)   r     1 MDS_TBL(0:25)
     0-0-0/w STRC(405)   r     1 PARAM_TBL(0:7)
     0-0-0/w STRC(216)   r     1 RECORD                     0-0-0/w STRC(369)   r     1 SPTBL(0:6)
     0-0-0/c ACHR        r     1 SP_CHAR                    0-0-0/c STRC(135)   r     1 TBUF
     0-0-0/c ASTR(9)     r     1 TBUF                       0-0-0/c STRC(117)   r     1 TBUF
     0-0-0/w STRC        r     1 XST_TEMP


   Procedure THF$RAW requires 11633 words for executable code.
   Procedure THF$RAW requires 366 words of local(AUTO) storage.
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:679  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:680  
          MINI XREF LISTING

ADD_TEXTC
      4873**PROC     3814--CALL     3817--CALL     3818--CALL     3820--CALL     3824--CALL     3825--CALL
      3827--CALL     3828--CALL     3832--CALL     3834--CALL     3836--CALL     3838--CALL     3840--CALL
      3842--CALL     3845--CALL     3847--CALL     3849--CALL     3851--CALL     3853--CALL     3855--CALL
      3857--CALL     3859--CALL     3864--CALL     3875--CALL     3878--CALL     3951--CALL     3953--CALL
      3955--CALL     3957--CALL     3961--CALL     3963--CALL     3965--CALL     3967--CALL     3970--CALL
      3971--CALL     3977--CALL     3981--CALL     3991--CALL     3993--CALL     3997--CALL     3998--CALL
      4001--CALL     4003--CALL     4005--CALL     4007--CALL     4009--CALL     4014--CALL     4016--CALL
      4018--CALL     4020--CALL     4022--CALL     4026--CALL     4056--CALL     4057--CALL     4059--CALL
      4060--CALL     4061--CALL     4063--CALL     4064--CALL     4065--CALL     4067--CALL     4081--CALL
      4082--CALL     4087--CALL     4088--CALL     4089--CALL     4091--CALL     4092--CALL     4096--CALL
      4098--CALL     4099--CALL     4103--CALL     4108--CALL     4114--CALL     4118--CALL     4120--CALL
      4122--CALL     4124--CALL     4126--CALL     4128--CALL     4130--CALL     4132--CALL     4134--CALL
      4136--CALL     4138--CALL     4140--CALL     4142--CALL     4144--CALL     4146--CALL     4148--CALL
      4150--CALL     4152--CALL     4154--CALL     4156--CALL     4158--CALL     4162--CALL     4164--CALL
      4166--CALL     4168--CALL     4170--CALL     4172--CALL     4174--CALL     4176--CALL     4178--CALL
      4180--CALL     4190--CALL     4196--CALL     4198--CALL     4200--CALL     4202--CALL     4204--CALL
      4210--CALL     4212--CALL     4214--CALL     4219--CALL     4221--CALL     4223--CALL     4225--CALL
      4227--CALL     4229--CALL     4231--CALL     4233--CALL     4238--CALL     4240--CALL     4242--CALL
      4244--CALL     4246--CALL     4248--CALL     4250--CALL     4256--CALL     4258--CALL     4260--CALL
      4262--CALL     4264--CALL     4266--CALL     4268--CALL     4270--CALL     4272--CALL     4274--CALL
      4276--CALL     4278--CALL     4280--CALL     4282--CALL     4284--CALL     4286--CALL     4288--CALL
      4293--CALL     4295--CALL     4297--CALL     4340--CALL     4342--CALL     4343--CALL     4609--CALL
      4612--CALL     4619--CALL     4622--CALL     4625--CALL     4627--CALL     5635--CALL     5637--CALL
ALL_MATCH
      3169**DCL      5025<<ASSIGN   5105<<ASSIGN   5114<<ASSIGN   5275>>IF       5319>>IF       5585<<ASSIGN
      5612<<ASSIGN
ASCII_EXTST
      3003**DCL      4307<<ASSIGN   5038<<ASSIGN   5060<<ASSIGN
ASCII_EXTST.BYT
      3005**DCL      4309>>ASSIGN   5040>>ASSIGN   5062>>ASSIGN
B$JIT.CPFLAGS1.SLEAZE
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:681  
       204**DCL       204--REDEF
B$JIT.ERR.MID
       111**DCL       111--REDEF
B$JIT.JRESPEAK
       272**DCL       273--REDEF
B$JIT.ORIGINATOR_PORT.FROM_CR
       381**DCL       381--REDEF     382--REDEF
B$JIT.PNR
       285**DCL       285--REDEF
B$JIT.TSLINE
       379**DCL       380--REDEF
B$JIT$
      2809**DCL       105--IMP-PTR
BINHEX
      3001**DCL      5836>>CALLBLT  5836>>CALLBLT  5840>>CALLBLT  5840>>CALLBLT  5865>>CALLBLT  5866>>CALLBLT
      5870>>CALLBLT  5870>>CALLBLT  5874>>CALLBLT  5874>>CALLBLT  5878>>CALLBLT  5878>>CALLBLT  5878>>CALLBLT
      5890>>CALLBLT  5912>>CALLBLT  5912>>CALLBLT  5918>>CALLBLT  5918>>CALLBLT  5984>>CALLBLT  5984>>CALLBLT
      5986>>CALLBLT  5986>>CALLBLT  6074>>CALLBLT  6074>>CALLBLT  6076>>CALLBLT  6076>>CALLBLT  6117>>CALLBLT
      6117>>CALLBLT  6119>>CALLBLT  6119>>CALLBLT  6155>>CALLBLT  6155>>CALLBLT  6157>>CALLBLT  6157>>CALLBLT
      6179>>CALLBLT  6179>>CALLBLT  6179>>CALLBLT  6179>>CALLBLT  6196>>CALLBLT  6196>>CALLBLT  6196>>CALLBLT
      6196>>CALLBLT  6231>>CALLBLT  6231>>CALLBLT  6256>>ASSIGN   6257>>ASSIGN   6288>>CALLBLT  6288>>CALLBLT
      6332>>CALLBLT  6332>>CALLBLT  6334>>CALLBLT  6334>>CALLBLT  6361>>CALLBLT  6361>>CALLBLT  6361>>CALLBLT
      6361>>CALLBLT  6370>>CALLBLT  6370>>CALLBLT  6377>>CALLBLT  6377>>CALLBLT  6400>>CALLBLT  6400>>CALLBLT
      6402>>CALLBLT  6402>>CALLBLT  6427>>CALLBLT  6427>>CALLBLT  6431>>CALLBLT  6431>>CALLBLT  6457>>CALLBLT
      6457>>CALLBLT  6459>>CALLBLT  6459>>CALLBLT  6486>>CALLBLT  6486>>CALLBLT  6488>>CALLBLT  6488>>CALLBLT
      6501>>CALLBLT  6501>>CALLBLT  6503>>CALLBLT  6503>>CALLBLT  6517>>CALLBLT  6517>>CALLBLT  6517>>CALLBLT
      6517>>CALLBLT  6529>>CALLBLT  6529>>CALLBLT  6529>>CALLBLT  6529>>CALLBLT  6546>>CALLBLT  6546>>CALLBLT
      6571>>ASSIGN   6572>>ASSIGN   6603>>CALLBLT  6603>>CALLBLT  6647>>CALLBLT  6647>>CALLBLT  6649>>CALLBLT
      6649>>CALLBLT  6676>>CALLBLT  6676>>CALLBLT  6685>>CALLBLT  6685>>CALLBLT  6832>>CALLBLT  6832>>CALLBLT
      6839>>CALLBLT  6839>>CALLBLT  6847>>CALLBLT  6847>>CALLBLT  6847>>CALLBLT  6847>>CALLBLT  6894>>CALLBLT
      6894>>CALLBLT  6896>>CALLBLT  6896>>CALLBLT
BIT# IN PROCEDURE EDAC
      4945**DCL      4984<<ASSIGN   4986>>IF       4993>>IF       4996>>CALLBLT  5001>>CALLBLT  5005<<ASSIGN
      5006>>IF       5014>>ASSIGN
BIT_4K IN PROCEDURE EDAC
      4923**DCL      4984>>ASSIGN
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:682  
BIT_64K IN PROCEDURE EDAC
      4952**DCL      5005>>ASSIGN
BIT_CNT
      3108**DCL      4767<<ASSIGN   4768>>IF       4782>>CALLBLT  4782>>CALLBLT  4785>>ASSIGN
BOARD IN PROCEDURE EDAC
      4948**DCL      4922--PROC     4988<<ASSIGN   4992<<ASSIGN   5008<<ASSIGN   5012<<ASSIGN
BOARD_4K IN PROCEDURE EDAC
      4941**DCL      4992>>ASSIGN
BOARD_64K IN PROCEDURE EDAC
      4966**DCL      5012>>ASSIGN
BORD
      2817**DCL      3969<>CALL     3970<>CALL
BUILDTIME
      4835**PROC     3811--CALL     4106--CALL
CHECK_MODEL_CODES
      5422**PROC     5274--CALL
CHIP IN PROCEDURE EDAC
      4949**DCL      4922--PROC     4989<<ASSIGN   4996<<CALLBLT  5001<<CALLBLT  5009<<ASSIGN   5015<<CALLBLT
CHIP# IN PROCEDURE EDAC
      4947**DCL      4995<<CALLBLT  4996>>CALLBLT  5000<<CALLBLT  5001>>CALLBLT
CHIP_64K_CHAR IN PROCEDURE EDAC
      4961**DCL      5015>>CALLBLT
CHIP_64K_LET IN PROCEDURE EDAC
      4963**DCL      5015>>CALLBLT
CHIP_LTTR IN PROCEDURE EDAC
      4943**DCL      4996>>CALLBLT  5001>>CALLBLT
CHP
      2816**DCL      3969<>CALL     3971<>CALL
COMPONENT_FMT
      3135**DCL      5043<>CALL     5164<>CALL
COMPONENT_HDR
      3131**DCL      3135--DCLINIT
COMP_OP IN PROCEDURE THF$IOERR
      5102**LABEL    5098--GOTO
CONT_NEXT_I IN PROCEDURE THF$IOERR
      5268**LABEL    5244--GOTO     5252--GOTO     5258--GOTO     5262--GOTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:683  
CPUN
      3056**DCL      4094<<CALLBLT  4095>>CALLBLT
CPU_DEVN
      3059**DCL      4093<<ASSIGN   4095<<CALLBLT  4096<>CALL
CTL.FMT
      3338**DCL      4673<>CALL     4679<>CALL     4694<>CALL     5137<>CALL     5642<>CALL
CTL.HDRFLG
      3334**DCL      4683>>IF
CTL.NFMT
      3333**DCL      4689>>DOINDEX  5135>>DOINDEX  5641>>DOINDEX
CTL.NHDR
      3332**DCL      4672>>DOINDEX  4678>>DOINDEX  4689>>DOINDEX  4689>>DOINDEX  5135>>DOINDEX  5135>>DOINDEX
      5641>>DOINDEX  5641>>DOINDEX
CTL.SPECIAL
      3335**DCL      4696>>IF       5153>>IF
CTL$
      2889**DCL      3331--IMP-PTR  3777<<ASSIGN   3778>>IF       4551<<ASSIGN   4672>>DOINDEX  4673>>CALL
      4678>>DOINDEX  4679>>CALL     4683>>IF       4689>>DOINDEX  4689>>DOINDEX  4689>>DOINDEX  4694>>CALL
      4696>>IF       5135>>DOINDEX  5135>>DOINDEX  5135>>DOINDEX  5137>>CALL     5153>>IF       5641>>DOINDEX
      5641>>DOINDEX  5641>>DOINDEX  5642>>CALL
CTRL_ERR_TBL.CODE
      1680**DCL      5725>>IF
CTRL_ERR_TBL.COUNT
      1680**DCL      5728>>ASSIGN
CTRL_ERR_TBL.TEXT
      1680**DCL      5727>>ASSIGN
CYL
      3052**DCL      3806<<ASSIGN   3907<<ASSIGN   3911<<ASSIGN   3916<<ASSIGN   3920<<ASSIGN   3924<<ASSIGN
      4511<<ASSIGN   4515<<ASSIGN   4520<<ASSIGN   4524<<ASSIGN   4528<<ASSIGN   4660>>CALLBLT
DBUF
      2951**DCL      3256--DCLINIT  3257--DCLINIT  3783--CALL
DECODE_CMD_STAT
      6753**PROC     6220--CALL     6511--CALL
DECODE_DRIVE_STAT
      6703**PROC     6190--CALL     6496--CALL
DECODE_PARAM_3X
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:684  
      6821**PROC     6223--CALL     6313--CALL     6318--CALL     6480--CALL     6538--CALL     6628--CALL
      6633--CALL
DECODE_PARAM_51
      6887**PROC     5942--CALL
DECODE_PARAM_X2
      5977**PROC     5945--CALL
DECODE_PARAM_X3
      6058**PROC     5947--CALL
DECODE_PARAM_X4
      6067**PROC     5949--CALL
DECODE_PARAM_X5
      6110**PROC     5951--CALL
DECODE_PARAM_X6
      6148**PROC     5953--CALL
DECODE_PARAM_X7
      6325**PROC     5955--CALL
DECODE_PARAM_X8
      6393**PROC     5957--CALL
DECODE_PARAM_X9
      6450**PROC     5959--CALL
DECODE_PARAM_XA
      6640**PROC     5961--CALL
DEV$
      2955**DCL      2956--IMP-PTR  4382<<ASSIGN   4395>>IF       4395>>IF       4395>>IF       4395>>IF
      4395>>IF       4401>>DOCASE   4414>>IF       4419>>IF       4446>>IF       4446>>IF       4446>>IF
      4449>>DOCASE   4454>>IF       4454>>IF       4464>>IF       4477>>IF       4493>>IF       4495>>ASSIGN
      4496>>ASSIGN   5197<<ASSIGN   5208>>IF       5208>>IF       5208>>IF       5208>>IF       5208>>IF
      5213>>DOCASE   5226>>IF       5231>>IF       5248>>IF       5248>>IF       5248>>IF       5249>>DOCASE
      5254>>IF       5254>>IF       5265>>IF       5266>>ASSIGN   5267>>ASSIGN   5285>>IF       5287>>IF
      5287>>IF       5300>>IF       5302>>IF       5306>>IF       5342>>DOCASE   5374>>DOCASE   5394>>DOCASE
      5427>>IF       5433>>IF       5433>>IF       5433>>IF       5433>>IF       5436>>IF       5436>>IF
      5441>>IF       5449>>IF       5454>>IF       5488>>IF       5516>>IF       5538>>IF       5563>>IF
      5660>>IF       5662>>IF       5675>>IF       5679>>IF       5683>>IF       5687>>IF       5691>>IF
      5695>>IF       5721>>IF       5734>>IF       5748>>ASSIGN   5749>>ASSIGN   5761>>IF       5774>>IF
      5784>>IF       5795>>IF       5797>>ASSIGN   5797>>ASSIGN   5813>>ASSIGN   5814>>ASSIGN   5815>>IF
      5826>>ASSIGN   5835>>IF       5839>>IF       5843>>IF       5864>>IF       5869>>IF       5873>>IF
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:685  
      5877>>IF       5882>>IF       5882>>IF       5885>>CALLBLT  5885>>CALLBLT  5886>>ASSIGN   5889>>IF
      5910>>IF       5916>>IF       5938>>IF       5938>>IF       5940>>ASSIGN   5991>>DOINDEX  5991>>DOINDEX
      6008>>IF       6026>>IF       6037>>IF       6085>>DOINDEX  6085>>DOINDEX  6128>>DOINDEX  6128>>DOINDEX
      6163>>DOINDEX  6163>>DOINDEX  6343>>DOINDEX  6343>>DOINDEX  6411>>DOINDEX  6411>>DOINDEX  6468>>DOINDEX
      6468>>DOINDEX  6658>>DOINDEX  6658>>DOINDEX  6706>>DOINDEX  6706>>DOINDEX  6902>>DOINDEX  6902>>DOINDEX
DEVICE_CMND.COUNT
      1691**DCL      5072>>ASSIGN   5323>>ASSIGN
DEVICE_CMND.DEV
      1691**DCL      5070>>IF       5321>>IF
DEVICE_CMND.SUB$
      1691**DCL      5071>>ASSIGN   5322>>ASSIGN
DEVTBL.CODE
      2957**DCL      4395>>IF       4395>>IF       4395>>IF       4395>>IF       4395>>IF       4401>>DOCASE
      4414>>IF       4419>>IF       4446>>IF       4446>>IF       4446>>IF       4449>>DOCASE   4454>>IF
      4454>>IF       4464>>IF       4477>>IF       4493>>IF       5208>>IF       5208>>IF       5208>>IF
      5208>>IF       5208>>IF       5213>>DOCASE   5226>>IF       5231>>IF       5248>>IF       5248>>IF
      5248>>IF       5249>>DOCASE   5254>>IF       5254>>IF       5265>>IF       5285>>IF       5287>>IF
      5287>>IF       5300>>IF       5302>>IF       5306>>IF       5342>>DOCASE   5374>>DOCASE   5394>>DOCASE
      5427>>IF       5433>>IF       5433>>IF       5433>>IF       5433>>IF       5436>>IF       5436>>IF
      5441>>IF       5449>>IF       5454>>IF       5488>>IF       5516>>IF       5538>>IF       5563>>IF
      5660>>IF       5662>>IF       5675>>IF       5679>>IF       5683>>IF       5687>>IF       5691>>IF
      5695>>IF       5721>>IF       5734>>IF       5761>>IF       5774>>IF       5784>>IF       5795>>IF
      5815>>IF       5835>>IF       5839>>IF       5843>>IF       5864>>IF       5869>>IF       5873>>IF
      5877>>IF       5882>>IF       5882>>IF       5889>>IF       5910>>IF       5916>>IF       5938>>IF
      5938>>IF       5940>>ASSIGN   5991>>DOINDEX  5991>>DOINDEX  6008>>IF       6026>>IF       6037>>IF
      6085>>DOINDEX  6085>>DOINDEX  6128>>DOINDEX  6128>>DOINDEX  6163>>DOINDEX  6163>>DOINDEX  6343>>DOINDEX
      6343>>DOINDEX  6411>>DOINDEX  6411>>DOINDEX  6468>>DOINDEX  6468>>DOINDEX  6658>>DOINDEX  6658>>DOINDEX
      6706>>DOINDEX  6706>>DOINDEX  6902>>DOINDEX  6902>>DOINDEX
DEVTBL.COUNT
      2958**DCL      4496>>ASSIGN   5267>>ASSIGN   5749>>ASSIGN   5797>>ASSIGN   5814>>ASSIGN   5885>>CALLBLT
      5886>>ASSIGN
DEVTBL.TEXT
      2959**DCL      4495>>ASSIGN   5266>>ASSIGN   5748>>ASSIGN   5797>>ASSIGN   5813>>ASSIGN   5826>>ASSIGN
      5885>>CALLBLT
DEV_FLAG
      2954**DCL      4367<<ASSIGN   4383<<ASSIGN   4389>>IF       5186<<ASSIGN   5198<<ASSIGN   5204>>IF
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:686  
DEV_OP$
      3170**DCL      3171--IMP-PTR  5071<<ASSIGN   5077>>IF       5078>>ASSIGN   5322<<ASSIGN   5327>>IF
      5329>>ASSIGN
DEV_OP_TBL.CODE
      3172**DCL      5077>>IF       5327>>IF
DEV_OP_TBL.TEXT
      3174**DCL      5078>>ASSIGN   5329>>ASSIGN
DFNAME
      2884**DCL      3867--ASSIGN   3871--ASSIGN
DFNAME.DF
      2886**DCL      3868<<ASSIGN
DFNAME.MONID
      2887**DCL      3869<<ASSIGN
DFNAME.N
      2885**DCL      3867<<ASSIGN
DFNAME.SCOUNT
      2888**DCL      3870<<CALLBLT
DISK_STATS.CNT_CHK_ALERTS
      2909**DCL      4540>>ASSIGN
DISK_STATS.DATA_CHK_ALERTS
      2908**DCL      4540>>ASSIGN
DISK_STATS.DLI_PARITY_ERRS
      2910**DCL      4540>>ASSIGN
DISK_STATS.HDR_VER_ERRS
      2906**DCL      4538>>ASSIGN
DISK_STATS.LATENCY_RETRIES
      2914**DCL      4540>>ASSIGN
DISK_STATS.SEARCH_ALERTS
      2916**DCL      4540>>ASSIGN
DISK_STATS.SEEK_INCOMPLETES
      2905**DCL      4538>>ASSIGN
DISK_STATS.TRANS_TIMING_ERRS
      2907**DCL      4540>>ASSIGN
DPC$
      3128**DCL      3124--IMP-PTR  5524<<ASSIGN   5530<<ASSIGN   5543>>IF       5545>>ASSIGN   5546>>ASSIGN
DP_BIT
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:687  
      3119**DCL      3120--REDEF    3121--REDEF    5517<<ASSIGN   5518<<ASSIGN   5539<<ASSIGN   5540<<ASSIGN
DP_FORMAT
      3120**DCL      5522>>IF       5528>>IF
DP_FORM_MSG
      3121**DCL      5543>>IF
DP_FORM_TBL.CODE
      3125**DCL      5543>>IF
DP_FORM_TBL.COUNT
      3126**DCL      5546>>ASSIGN
DP_FORM_TBL.TEXT
      3127**DCL      5545>>ASSIGN
DP_POSITION
      3073**DCL      4663<>CALL
DP_POSITION.CYL
      3074**DCL      4660<<CALLBLT
DP_POSITION.HD
      3076**DCL      4661<<CALLBLT
DP_POSITION.SEC
      3078**DCL      4662<<CALLBLT
DUMP_HDR
      2953**DCL      3783--CALL
DYMFMT
      2847**DCL      4721--CALL
EDAC
      4922**PROC     3969--CALL
EDAC_64K IN PROCEDURE EDAC
      5005**LABEL    4983--GOTO
EL$ANLZ.TXT
      3427**DCL      4111>>DOWHILE  4114<>CALL
EL$CGERR.ACCT
      3519**DCL      3938>>CALLBLT  3940>>CALLBLT
EL$CGERR.FNAME.C
      3520**DCL      3935>>CALLBLT
EL$CGERR.FNAME.L
      3520**DCL      3934>>IF       3935>>CALLBLT  3936>>ASSIGN
EL$CGERR.INFO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:688  
      3520**DCL      4729--CALL
EL$CGERR.PSN
      3519**DCL      3931>>CALLBLT  3932>>CALLBLT
EL$CGERR.SIZ
      3520**DCL      4726>>IF       4729<>CALL
EL$CHANTRAN.STATUS.CHAN
      3634**DCL      4192>>IF       4206>>IF
EL$CHANTRAN.STATUS.CHAN_STAT
      3635**DCL      4194>>DOCASE
EL$CHANTRAN.STATUS.MSOS_REQ
      3635**DCL      4208>>DOCASE
EL$CHNGAARD.ERR
      3650**DCL      4624>>IF
EL$CHNGAARD.NEW
      3650**DCL      4614>>IF
EL$CHNGAARD.NEWCHAN
      3651**DCL      4617>>CALLBLT
EL$CHNGAARD.NEWIOM
      3651**DCL      4615>>CALLBLT
EL$CHNGAARD.OLD
      3650**DCL      4604>>IF
EL$CHNGAARD.OLDCHAN
      3650**DCL      4607>>CALLBLT
EL$CHNGAARD.OLDIOM
      3650**DCL      4605>>CALLBLT
EL$CMPSTRT.LAST_STATE_CHANGE
      3396**DCL      3811<>CALL
EL$CMPSTRT.PNO
      3396**DCL      3816>>IF
EL$CMPSTRT.STATE
      3396**DCL      3812>>DOCASE
EL$CP6SAYS.IDCW.CODE
      3646**DCL      4236>>DOSELCT
EL$CP6SAYS.IDCWE.RC
      3646**DCL      4254>>DOSELCT
EL$CP6SAYS.MLW.FINISH
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:689  
      3645**DCL      3645--REDEF
EL$CP6SAYS.MLW.START
      3644**DCL      3645--REDEF
EL$CP6SAYS.REASON
      3644**DCL      4252>>IF       4291>>DOSELCT
EL$DEVSTATS.DEVNM
      3434**DCL      4675>>IF       4682>>ASSIGN
EL$DEVSTATS.FW_NAME
      3434**DCL      4534>>DOSELCT
EL$DEVSTATS.STATISTICS
      3434**DCL      4533--ASSIGN
EL$DIAG.TEST
      3523**DCL      4583>>DOCASE
EL$EDAC.PORT#
      3413**DCL      3949>>DOCASE
EL$EDAC.STORE_UNIT
      3414**DCL      3959>>DOCASE
EL$EDAC.STORE_MODE.A45 IN PROCEDURE EDAC
      4972**DCL      4992>>ASSIGN   5012>>ASSIGN
EL$EDAC.STORE_MODE.A678 IN PROCEDURE EDAC
      4972**DCL      4995>>CALLBLT  5000>>CALLBLT  5012>>ASSIGN   5014>>ASSIGN
EL$EDAC.STORE_MODE.MOSID IN PROCEDURE EDAC
      4973**DCL      4982>>IF
EL$EDAC.STORE_MODE.SYNDROME.NUMB IN PROCEDURE EDAC
      4973**DCL      4984>>ASSIGN   4985>>ASSIGN   5005>>ASSIGN
EL$FECRASH.FENM.PROBLEM
      3385**DCL      4116>>DOCASE
EL$FECRASH.FENM.STATE
      3385**DCL      4160>>DOCASE
EL$FEPERR
      3437**DCL      5592>>ASSIGN   5651>>ASSIGN
EL$FEPERR.STATDATA
      3437**DCL      3974--IF       3976--ASSIGN
EL$FEPERR.STATDATA.ERRCODE
      3452**DCL      3973>>ASSIGN
EL$FEPERR.STATDATA.ERRCODE.ERR#
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:690  
      3480**DCL      5607>>IF
EL$FEPERR.STATDATA.ERRCODE.FCG
      3466**DCL      5605>>IF
EL$FEPERR.STATDATA.ERRCODE.SEV
      3480**DCL      5609>>IF
EL$FEPERR.STATDATA.NODE
      3437**DCL      5601>>IF       5648>>IF
EL$FEPERR.STATDATA.TERMID.TERM
      3502**DCL      3511--REDEF
EL$FEPERR.STATDATA.TERMID.TERM.CHANNEL
      3504**DCL      5603>>IF       5648>>IF
EL$FEPERR.X
      3513**DCL      4723--CALL
EL$FILERR.ACCT
      3365**DCL      3890>>CALLBLT  3892>>CALLBLT
EL$FILERR.DEVNM
      3364**DCL      3897>>IF       3900>>IF
EL$FILERR.FNAME.C
      3365**DCL      3887>>CALLBLT
EL$FILERR.FNAME.L
      3365**DCL      3886>>IF       3887>>CALLBLT  3888>>ASSIGN
EL$FILERR.SECTOR
      3363**DCL      3904>>ASSIGN
EL$FILERR.SN
      3364**DCL      3883>>CALLBLT  3884>>CALLBLT
EL$FWLOAD.LOADED
      3368**DCL      3827>>IF
EL$GABRT.ERR
      3418**DCL      3946<>CALL
EL$GABRT.USRERR
      3418**DCL      3947<>CALL
EL$IOERR
      3345**DCL      4355<>CALL     5044>>ASSIGN   5165>>ASSIGN   5174<>CALL
EL$IOERR.CONNECTS.CHANNEL
      3348**DCL      4324>>CALLBLT
EL$IOERR.CONNECTS.DEVICE
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:691  
      3348**DCL      4318>>CALLBLT
EL$IOERR.CONNECTS.IOM
      3348**DCL      4321>>CALLBLT
EL$IOERR.CONNECTS.MPC
      3348**DCL      4327>>CALLBLT
EL$IOERR.DEVNM
      3350**DCL      5080>>IF       5163>>IF
EL$IOERR.EXTST
      3349**DCL      4307>>ASSIGN   4309<<ASSIGN   4315<<ASSIGN   4371>>ASSIGN   5038>>ASSIGN   5040<<ASSIGN
      5060>>ASSIGN   5062<<ASSIGN   5066>>ASSIGN   5092>>ASSIGN   5189>>ASSIGN   5205>>ASSIGN
EL$IOERR.IDCW
      3349**DCL      5046>>ASSIGN   5065>>ASSIGN
EL$IOERR.MODEL
      3351**DCL      4312>>IF       4312>>IF       4369>>IF       4375>>IF       4379>>IF       4393>>ASSIGN
      4395>>IF       4395>>IF       4436>>IF       4436>>IF       4436>>IF       4436>>IF       4436>>IF
      4436>>IF       4443>>IF       4443>>IF       4446>>IF       4477>>IF       4477>>IF       4477>>IF
      4477>>IF       4477>>IF       4477>>IF       4477>>IF       4477>>IF       4488>>IF       4488>>IF
      4507>>ASSIGN   4509>>DOSELCT  4698>>IF       4698>>IF       5070>>IF       5086>>IF       5090>>IF
      5188>>IF       5192>>IF       5194>>IF       5195>>IF       5206>>ASSIGN   5208>>IF       5318>>ASSIGN
      5321>>IF       5340>>IF       5340>>IF       5373>>IF       5438>>IF       5438>>IF       5447>>IF
      5452>>IF       6236>>IF       6263>>IF       6293>>IF       6551>>IF       6578>>IF       6608>>IF
EL$IOERR.MPC_MODEL
      3351**DCL      4300>>IF       4300>>IF       4300>>IF       4300>>IF       4300>>IF       4300>>IF
      5031>>IF       5031>>IF       5031>>IF       5031>>IF       5031>>IF       5031>>IF       5053>>IF
      5053>>IF       5053>>IF       5053>>IF       5053>>IF       5053>>IF
EL$IOERR.REQID
      3345**DCL      4341>>IF       4344>>ASSIGN
EL$IOERR.SEEK
      3349**DCL      3350--REDEF
EL$IOERR.SEEK.SECTOR
      3349**DCL      4508>>ASSIGN
EL$IOERR.STATUS
      3345**DCL      3346--REDEF    4347>>ASSIGN   4353<<ASSIGN   5168>>ASSIGN   5172<<ASSIGN
EL$IOERR.STATUS.MAJOR
      3345**DCL      5082>>IF
EL$IOERR.STATUS.MINOR
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:692  
      3345**DCL      5084>>IF
EL$IOERR.TAPEPOS.CURECNT
      3350**DCL      4654>>CALLBLT
EL$IOERR.TAPEPOS.FILECNT
      3350**DCL      4653>>CALLBLT
EL$IOERR.THRESH.CHANNEL
      3351**DCL      4323>>IF
EL$IOERR.THRESH.DEVICE
      3351**DCL      4317>>IF
EL$IOERR.THRESH.IOM
      3350**DCL      4320>>IF
EL$IOERR.THRESH.MPC
      3351**DCL      4326>>IF
EL$MIRROR.PRI
      3655**DCL      3996>>IF
EL$MIRROR.STATE.NEW
      3655**DCL      3999>>DOCASE
EL$MPCSTATS.STATS
      3431**DCL      4553--ASSIGN
EL$MSOSSAYS.IDCW.CODE
      3640**DCL      4217>>DOSELCT
EL$MSOSSAYS.MLW.FINISH
      3639**DCL      3639--REDEF
EL$MSOSSAYS.MLW.START
      3638**DCL      3638--REDEF
EL$MTDMT.VOLUME
      3382**DCL      4690>>IF
EL$OSFI.EXPSTAMP
      3371**DCL      3372--REDEF
EL$PROCERR.FC
      3400**DCL      4735>>IF       4738>>ASSIGN   4809>>IF
EL$PROCERR.FLTREG
      3399**DCL      4759>>ASSIGN
EL$PROCERR.HISTREGS
      3403**DCL      4825--CALL
EL$PROCERR.HRSIZE
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:693  
      3402**DCL      4822>>IF
EL$PROCERR.PROCTYPE
      3399**DCL      4752>>IF       4752>>IF       4752>>IF       4756>>ASSIGN   4763>>IF       4824>>ASSIGN
EL$PROCERR.SAFESTORE
      3402**DCL      4821--CALL
EL$PROCERR.SAFESTORE.CSHERR
      3402**DCL      4813>>IF
EL$PROCERR.SSSIZE
      3400**DCL      4816>>IF       4820>>ASSIGN
EL$SCREECH.DUMP
      3356**DCL      3863>>IF
EL$SCREECH.MONID
      3356**DCL      3869>>ASSIGN
EL$SCREECH.RTRAP
      3356**DCL      3873>>IF
EL$SCREECH.SCODE
      3355**DCL      3862<>CALL
EL$SCREECH.SCOUNT
      3356**DCL      3870>>CALLBLT
EL$SPURINT.STATE
      3378**DCL      3843>>DOCASE
EL$SPURINT.STATUS.DOWN
      3378**DCL      3830>>IF
EL$SPURINT.STATUS.TND
      3379**DCL      3830>>DOCASE
EL$SYSCON.CHAN
      3423**DCL      4042>>CALLBLT  4068>>CALLBLT
EL$SYSCON.COMPONENT
      3423**DCL      4024>>DOCASE
EL$SYSCON.DEVNM
      3423**DCL      4061<>CALL     4065<>CALL
EL$SYSCON.FUNCTION
      3423**DCL      4012>>DOCASE
EL$SYSCON.IOM
      3423**DCL      4028>>CALLBLT  4085>>CALLBLT  4094>>CALLBLT  4101>>CALLBLT
EL$SYSID.MON_UTS#
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:694  
      3539**DCL      4106<>CALL
EL$SYSID.SITE_NAME#.C
      3537**DCL      4108<>CALL
EL$SYSID.SITE_NAME#.L
      3537**DCL      4107>>ASSIGN
EL$ZAP.OPER_TEXT
      3516**DCL      4184>>IF       4187>>DOWHILE  4190<>CALL
ERR IN PROCEDURE ERROR_CODE
      4887**DCL      4886--PROC
ERR.CODE IN PROCEDURE ERROR_CODE
      4890**DCL      4912>>CALLBLT
ERR.FCG IN PROCEDURE ERROR_CODE
      4888**DCL      4900>>IF       4902>>IF       4903>>ASSIGN   4904>>ASSIGN
ERR.MON IN PROCEDURE ERROR_CODE
      4889**DCL      4908>>IF
ERR.SEV IN PROCEDURE ERROR_CODE
      4891**DCL      4914>>CALLBLT
ERROR_CODE
      4886**PROC     3862--CALL     3946--CALL     3947--CALL     3983--CALL     5627--CALL
ERR_MSG
      3129**DCL      3224--DCLINIT  3984<<ASSIGN   3987>>DOWHILE  3990>>ASSIGN   5628<<ASSIGN   5631>>DOWHILE
      5634>>ASSIGN
ERR_MSGS
      3223**DCL      3985<>CALL     5629<>CALL
ERR_MSGS.V
      3227**DCL      3223--DCLINIT
ERR_MSG_ACCT
      3276**DCL      3224--DCLINIT
ERR_MSG_NAME
      3304**DCL      3224--DCLINIT
ERR_MSG_T
      3130**DCL      3990<<ASSIGN   3991<>CALL     5634<<ASSIGN   5635<>CALL
EURC_PR54
      5658**PROC     4442--CALL
EURC_RETURN IN PROCEDURE EURC_PR54
      5754**LABEL    5661--GOTO     5673--GOTO     5707--GOTO     5718--GOTO     5732--GOTO     5745--GOTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:695  
EURC_STATS.CARDS_PUNCHED
      2934**DCL      4558>>ASSIGN   4558>>ASSIGN   4558>>ASSIGN   4558>>ASSIGN
EURC_STATS.CARDS_READ
      2935**DCL      4554>>ASSIGN   4554>>ASSIGN   4554>>ASSIGN   4554>>ASSIGN
EURC_STATS.LINES_PRINTED
      2942**DCL      4562>>ASSIGN   4562>>ASSIGN   4562>>ASSIGN   4562>>ASSIGN
EURC_STATS.PAGES_PRINTED
      2944**DCL      4566>>ASSIGN   4566>>ASSIGN   4566>>ASSIGN   4566>>ASSIGN
EURC_STATS.RECEIVER_ERRS
      2932**DCL      4574>>ASSIGN   4574>>ASSIGN   4574>>ASSIGN   4574>>ASSIGN
EURC_STATS.TRANSMITTER_ERRS
      2933**DCL      4574>>ASSIGN   4574>>ASSIGN   4574>>ASSIGN   4574>>ASSIGN
EURC_STATS.WORD_TRANSFERS
      2941**DCL      4570>>ASSIGN   4570>>ASSIGN   4570>>ASSIGN   4570>>ASSIGN
EVENFMT
      3036**DCL      4717--CALL
EXTENDED_FMT
      3156**DCL      5155<>CALL
EXTENDED_HDR
      3154**DCL      3156--DCLINIT
FAULT_SYMP_TBL.CODE
      1707**DCL      4469>>IF       5568>>IF
FAULT_SYMP_TBL.COUNT
      1707**DCL      4472>>ASSIGN   5571>>ASSIGN
FAULT_SYMP_TBL.TEXT
      1707**DCL      4471>>ASSIGN   5570>>ASSIGN
FC.COUNT
      1683**DCL      4740>>ASSIGN
FC.TEXT
      1683**DCL      4739>>ASSIGN
FC$
      3084**DCL      3103--IMP-PTR  4733<<ASSIGN   4736<>CALL     4741<>CALL     4744>>ASSIGN   4747<<ASSIGN
      4748<>CALL     4786<>CALL     4797<>CALL     4806>>ASSIGN
FCBUF
      3085**DCL      4732<<ASSIGN   4733--ASSIGN   4743--ASSIGN   4744--ASSIGN   4746<<ASSIGN   4747--ASSIGN
      4804--ASSIGN   4805--ASSIGN   4806--ASSIGN
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:696  
FCFLAG
      3107**DCL      4751<<ASSIGN   4761>>IF       4790<<ASSIGN
FCFMT
      3100**DCL      4745--CALL
FCPTR$
      3092**DCL      3093--IMP-PTR  4757<<ASSIGN   4761>>IF       4793>>IF       4795>>ASSIGN   4796>>ASSIGN
FCTBL.CODE
      3094**DCL      4761>>IF       4793>>IF
FCTBL.COUNT
      3095**DCL      4796>>ASSIGN
FCTBL.TEXT
      3096**DCL      4795>>ASSIGN
FCVEC
      3086**DCL      4743<<ASSIGN   4745<>CALL     4805<<ASSIGN   4807<>CALL
FCVEC.BOUND
      3087**DCL      4744<<ASSIGN   4806<<ASSIGN
FC_CNT
      3091**DCL      4740<<ASSIGN   4741<>CALL     4781<<ASSIGN   4782>>CALLBLT  4785<<ASSIGN   4785>>ASSIGN
      4786<>CALL     4796<<ASSIGN   4797<>CALL
FC_TEMP.N
      3104**DCL      4804<<ASSIGN
FC_TEXT
      3090**DCL      4739<<ASSIGN   4741<>CALL     4773<<CALLBLT  4775<<CALLBLT  4777<<CALLBLT  4779<<CALLBLT
      4782<<CALLBLT  4786<>CALL     4795<<ASSIGN   4797<>CALL
FDS_PR71
      3672**DCL      5780<>CALL     5790<>CALL
FDS_PR71.BUFSIZE
      3698**DCL      5781>>ASSIGN   5791>>ASSIGN
FDS_PR71.FMT_
      3676**DCL      5779<<ASSIGN   5789<<ASSIGN
FEPERR_CODE
      2878**DCL      3223--DCLINIT  3973<<ASSIGN   3983<>CALL     5626<<ASSIGN   5627<>CALL
FEPERR_TBL
      3545**DCL      5592<<ASSIGN   5651<<ASSIGN
FEPERR_TBL.STATDATA.ERRCODE
      3560**DCL      5626>>ASSIGN
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:697  
FEPERR_TBL.STATDATA.ERRCODE.ERR#
      3588**DCL      5607>>IF
FEPERR_TBL.STATDATA.ERRCODE.FCG
      3574**DCL      5605>>IF
FEPERR_TBL.STATDATA.ERRCODE.SEV
      3588**DCL      5609>>IF
FEPERR_TBL.STATDATA.NODE
      3545**DCL      5601>>IF       5648>>IF
FEPERR_TBL.STATDATA.TERMID.TERM
      3610**DCL      3619--REDEF
FEPERR_TBL.STATDATA.TERMID.TERM.CHANNEL
      3612**DCL      5603>>IF       5648>>IF
FEP_COUNT
      3109**DCL      5587<<ASSIGN   5593<<ASSIGN   5593>>ASSIGN   5611<<ASSIGN   5611>>ASSIGN   5642--CALL
      5645<<ASSIGN   5652<<ASSIGN   5652>>ASSIGN
FEP_FMT
      3205**DCL      5591<>CALL     5650<>CALL
FEP_HDR
      3201**DCL      3205--DCLINIT
FIND_DEN_MODE
      5486**PROC     4451--CALL     5251--CALL
FIND_FAULT_CODE
      5560**PROC     5261--CALL
FIND_FORMAT_MSG
      5513**PROC     4487--CALL
FIND_NINE_TRACKS
      5371**PROC     5269--CALL     5272--CALL
FIND_STATUS_ETC IN PROCEDURE THF$IOERR
      5168**LABEL    5047--GOTO     5106--GOTO     5115--GOTO
FIND_TRACKS
      5338**PROC     5271--CALL
FIPS_TAPE
      3020**DCL      5196<<ASSIGN   5208>>IF       5248>>IF       5268>>IF       5287>>IF       5300>>IF
      5302>>IF       5425>>IF       5480<<ASSIGN
FLTREG_TYPE.COUNT
      1684**DCL      4758>>ASSIGN
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:698  
FLTREG_TYPE.SUB$
      1683**DCL      4757>>ASSIGN
FLT_REG
      3097**DCL      3098--REDEF    3099--REDEF    4759<<ASSIGN
FLT_REG_T
      3098**DCL      4793>>IF
FLT_REG_TT
      3099**DCL      4767>>ASSIGN
FMTTBL$
        12**DCL         9--PROC     3777>>ASSIGN   4551>>ASSIGN
FND
      4389**LABEL    4385--GOTO
FND_SP
      4427**LABEL    4423--GOTO
FORM0_NOTB1_B3
      1706**DCL      5524--ASSIGN
FORMAT_TBLS.COUNT
      1698**DCL      5531>>ASSIGN
FORMAT_TBLS.SUB$
      1698**DCL      5530>>ASSIGN
FOUND
      3904**LABEL    3901--GOTO
FOUND_CODE IN PROCEDURE CHECK_MODEL_CODES
      5452**LABEL    5430--GOTO     5444--GOTO
FOUND_ENTRY IN PROCEDURE MPC_PR71
      5802**LABEL    5769--GOTO     5782--GOTO     5792--GOTO
FOUND_FAULT_CODE IN PROCEDURE FIND_FAULT_CODE
      5575**LABEL    5572--GOTO
FOUND_FORMAT IN PROCEDURE FIND_FORMAT_MSG
      5537**LABEL    5526--GOTO     5532--GOTO
FOUND_IT IN PROCEDURE EURC_PR54
      5751**LABEL    5670--GOTO     5704--GOTO     5715--GOTO     5729--GOTO     5742--GOTO
FOUND_OCTET IN PROCEDURE IPC_MDSII
      5969**LABEL    5833--GOTO     5837--GOTO     5841--GOTO     5850--GOTO     5856--GOTO     5861--GOTO
      5867--GOTO     5871--GOTO     5875--GOTO     5880--GOTO     5887--GOTO     5908--GOTO     5914--GOTO
      5924--GOTO     5936--GOTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:699  
FOUND_SP IN PROCEDURE THF$IOERR
      5239**LABEL    5235--GOTO
FOUND_ST
      3186**DCL      5277>>DOWHILE  5280<<ASSIGN   5289>>DOWHILE  5294<<ASSIGN   5308>>IF       5424<<ASSIGN
      5429<<ASSIGN   5443<<ASSIGN   5450<<ASSIGN   5455<<ASSIGN   5458<<ASSIGN
FOUND_XSTATS IN PROCEDURE THF$IOERR
      5204**LABEL    5200--GOTO
FPT_TIME IN PROCEDURE BUILDTIME
      4849**DCL      4868<>CALL
FPT_TIME.DATE_ IN PROCEDURE BUILDTIME
      4849**DCL      4865<<ASSIGN
FPT_TIME.TIME_ IN PROCEDURE BUILDTIME
      4851**DCL      4864<<ASSIGN
FPT_TIME.TSTAMP_ IN PROCEDURE BUILDTIME
      4852**DCL      4866<<ASSIGN
FPT_TIME.V IN PROCEDURE BUILDTIME
      4853**DCL      4849--DCLINIT
FRFMT
      3101**DCL      4807--CALL
FRU_INDX
      2998**DCL      6274>>IF       6274>>IF       6277>>CALLBLT  6277>>CALLBLT  6279>>ASSIGN   6589>>IF
      6589>>IF       6592>>CALLBLT  6592>>CALLBLT  6594>>ASSIGN
FRU_STR
      3012**DCL      6259>>CALLBLT  6574>>CALLBLT
FRU_STRING
      3006**DCL      3012--REDEF
FRU_STRING.OCTET.NIB1
      3009**DCL      6256<<ASSIGN   6571<<ASSIGN
FRU_STRING.OCTET.NIB2
      3010**DCL      6257<<ASSIGN   6572<<ASSIGN
FT_BIT
      3122**DCL      3123--REDEF    4465<<ASSIGN   4466<<ASSIGN   5564<<ASSIGN   5565<<ASSIGN
FT_CODE
      3123**DCL      4469>>IF       5568>>IF
F_INDX
      2997**DCL      2998--REDEF    6273<<ASSIGN   6588<<ASSIGN
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:700  
HD
      3053**DCL      3807<<ASSIGN   3908<<ASSIGN   3912<<ASSIGN   3917<<ASSIGN   3921<<ASSIGN   3925<<ASSIGN
      4512<<ASSIGN   4516<<ASSIGN   4521<<ASSIGN   4525<<ASSIGN   4529<<ASSIGN   4661>>CALLBLT
HEX_NIBBLE
      2979**DCL      5984>>CALLBLT  5984>>CALLBLT  6074>>CALLBLT  6074>>CALLBLT  6117>>CALLBLT  6117>>CALLBLT
      6155>>CALLBLT  6155>>CALLBLT  6332>>CALLBLT  6332>>CALLBLT  6400>>CALLBLT  6400>>CALLBLT  6427>>CALLBLT
      6427>>CALLBLT  6457>>CALLBLT  6457>>CALLBLT  6486>>CALLBLT  6486>>CALLBLT  6501>>CALLBLT  6501>>CALLBLT
      6647>>CALLBLT  6647>>CALLBLT  6676>>CALLBLT  6676>>CALLBLT  6832>>CALLBLT  6832>>CALLBLT  6894>>CALLBLT
      6894>>CALLBLT
HEX_NUM
      2978**DCL      2979--REDEF    5983<<ASSIGN   6073<<ASSIGN   6116<<ASSIGN   6154<<ASSIGN   6331<<ASSIGN
      6399<<ASSIGN   6426<<ASSIGN   6456<<ASSIGN   6485<<ASSIGN   6500<<ASSIGN   6646<<ASSIGN   6675<<ASSIGN
      6831<<ASSIGN   6893<<ASSIGN
I
      2821**DCL      3803<<DOINDEX  3804>>ASSIGN   3882<<ASSIGN   3884>>CALLBLT  3885<<ASSIGN   3885>>ASSIGN
      3887>>CALLBLT  3888<<ASSIGN   3888>>ASSIGN   3892>>CALLBLT  3893<<ASSIGN   3893>>ASSIGN   3895>>ASSIGN
      3896>>CALLBLT  3899<<DOINDEX  3900>>IF       3905>>DOSELCT  3930<<ASSIGN   3932>>CALLBLT  3933<<ASSIGN
      3933>>ASSIGN   3935>>CALLBLT  3936<<ASSIGN   3936>>ASSIGN   3940>>CALLBLT  3941<<ASSIGN   3941>>ASSIGN
      3943>>ASSIGN   3944>>CALLBLT  3986<<ASSIGN   3987>>DOWHILE  3988<<ASSIGN   3988>>ASSIGN   3990>>ASSIGN
      4110<<ASSIGN   4111>>DOWHILE  4112<<ASSIGN   4112>>ASSIGN   4114>>CALL     4114>>CALL     4368<<DOINDEX
      4369>>IF       4377<<ASSIGN   4377>>ASSIGN   4381<<ASSIGN   4381>>ASSIGN   4382>>ASSIGN   4384>>ASSIGN
      4394<<DOINDEX  4395>>IF       4395>>IF       4395>>IF       4395>>IF       4395>>IF       4401>>DOCASE
      4414>>IF       4419>>IF       4446>>IF       4446>>IF       4446>>IF       4449>>DOCASE   4454>>IF
      4454>>IF       4464>>IF       4477>>IF       4493>>IF       4495>>ASSIGN   4496>>ASSIGN   4672<<DOINDEX
      4673>>CALL     4678<<DOINDEX  4679>>CALL     4689<<DOINDEX  4694>>CALL     4734<<ASSIGN   4738<<ASSIGN
      4739>>ASSIGN   4740>>ASSIGN   4749<<ASSIGN   4756<<ASSIGN   4757>>ASSIGN   4758>>ASSIGN   4760<<DOINDEX
      4761>>IF       4793>>IF       4795>>ASSIGN   4796>>ASSIGN   4820<<ASSIGN   4821<>CALL     4824<<ASSIGN
      4825<>CALL     5069<<DOINDEX  5070>>IF       5071>>ASSIGN   5072>>ASSIGN   5076<<DOINDEX  5077>>IF
      5078>>ASSIGN   5135<<DOINDEX  5137>>CALL     5156<<DOINDEX  5157>>CALL     5157>>CALL     5187<<DOINDEX
      5188>>IF       5193<<ASSIGN   5193>>ASSIGN   5194<<ASSIGN   5194>>ASSIGN   5197>>ASSIGN   5199>>ASSIGN
      5207<<DOINDEX  5208>>IF       5208>>IF       5208>>IF       5208>>IF       5208>>IF       5213>>DOCASE
      5226>>IF       5231>>IF       5248>>IF       5248>>IF       5248>>IF       5249>>DOCASE   5254>>IF
      5254>>IF       5265>>IF       5266>>ASSIGN   5267>>ASSIGN   5285>>IF       5285>>IF       5287>>IF
      5287>>IF       5300>>IF       5302>>IF       5304>>IF       5306>>IF       5320<<DOINDEX  5321>>IF
      5322>>ASSIGN   5323>>ASSIGN   5326<<DOINDEX  5327>>IF       5329>>ASSIGN   5342>>DOCASE   5374>>DOCASE
      5394>>DOCASE   5427>>IF       5433>>IF       5433>>IF       5433>>IF       5433>>IF       5436>>IF
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:701  
      5436>>IF       5441>>IF       5449>>IF       5454>>IF       5474<<DOINDEX  5475>>ASSIGN   5476>>ASSIGN
      5488>>IF       5516>>IF       5538>>IF       5563>>IF       5630<<ASSIGN   5631>>DOWHILE  5632<<ASSIGN
      5632>>ASSIGN   5634>>ASSIGN   5641<<DOINDEX  5642>>CALL     5660>>IF       5662>>IF       5675>>IF
      5679>>IF       5683>>IF       5687>>IF       5691>>IF       5695>>IF       5721>>IF       5734>>IF
      5748>>ASSIGN   5749>>ASSIGN   5761>>IF       5774>>IF       5784>>IF       5795>>IF       5797>>ASSIGN
      5797>>ASSIGN   5813>>ASSIGN   5814>>ASSIGN   5815>>IF       5826>>ASSIGN   5835>>IF       5839>>IF
      5843>>IF       5864>>IF       5869>>IF       5873>>IF       5877>>IF       5882>>IF       5882>>IF
      5885>>CALLBLT  5885>>CALLBLT  5886>>ASSIGN   5889>>IF       5910>>IF       5916>>IF       5938>>IF
      5938>>IF       5940>>ASSIGN   5991>>DOINDEX  5991>>DOINDEX  6008>>IF       6026>>IF       6037>>IF
      6085>>DOINDEX  6085>>DOINDEX  6128>>DOINDEX  6128>>DOINDEX  6163>>DOINDEX  6163>>DOINDEX  6343>>DOINDEX
      6343>>DOINDEX  6411>>DOINDEX  6411>>DOINDEX  6468>>DOINDEX  6468>>DOINDEX  6658>>DOINDEX  6658>>DOINDEX
      6706>>DOINDEX  6706>>DOINDEX  6902>>DOINDEX  6902>>DOINDEX
I IN PROCEDURE ERROR_CODE
      4897**DCL      4899<<DOINDEX  4900>>IF       4901>>ASSIGN   4902>>IF       4903>>ASSIGN   4903>>ASSIGN
      4904>>ASSIGN   4904>>ASSIGN   4907<<ASSIGN   4909>>CALLBLT  4910<<ASSIGN   4912>>CALLBLT  4913>>CALLBLT
      4914>>CALLBLT
II
      3105**DCL      4413<<DOINDEX  4414>>IF       4415>>ASSIGN   4416>>ASSIGN   4418<<DOINDEX  4419>>IF
      4421>>ASSIGN   4422>>ASSIGN   4427<<DOINDEX  4428>>IF       4430>>ASSIGN   4431>>ASSIGN   4463<<DOINDEX
      4464>>IF       4465>>ASSIGN   4466>>ASSIGN   4468<<DOINDEX  4469>>IF       4471>>ASSIGN   4472>>ASSIGN
      4766<<DOINDEX  4767>>ASSIGN   4771>>DOCASE   5225<<DOINDEX  5226>>IF       5227>>ASSIGN   5228>>ASSIGN
      5230<<DOINDEX  5231>>IF       5233>>ASSIGN   5234>>ASSIGN   5239<<DOINDEX  5240>>IF       5242>>ASSIGN
      5243>>ASSIGN   5515<<DOINDEX  5516>>IF       5517>>ASSIGN   5518>>ASSIGN   5520<<DOINDEX  5522>>IF
      5528>>IF       5530>>ASSIGN   5531>>ASSIGN   5537<<DOINDEX  5538>>IF       5539>>ASSIGN   5540>>ASSIGN
      5542<<DOINDEX  5543>>IF       5545>>ASSIGN   5546>>ASSIGN   5562<<DOINDEX  5563>>IF       5564>>ASSIGN
      5565>>ASSIGN   5567<<DOINDEX  5568>>IF       5570>>ASSIGN   5571>>ASSIGN
ILL_CODE.COUNT
      1686**DCL      4782>>CALLBLT  4785>>ASSIGN
ILL_CODE.TEXT
      1686**DCL      4782>>CALLBLT
INFO
      2812**DCL      3796<<ASSIGN   4673<>CALL     4679<>CALL     4694<>CALL     5030<<ASSIGN   5043<>CALL
      5052<<ASSIGN   5164<>CALL     5590<<ASSIGN   5591<>CALL     5600<<ASSIGN   5650<>CALL
INFO.BOUND
      2813**DCL      3974>>IF       3976>>ASSIGN
INFO.PTR$
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:702  
      2815**DCL      3345--IMP-PTR  3355--IMP-PTR  3361--IMP-PTR  3368--IMP-PTR  3371--IMP-PTR  3378--IMP-PTR
      3382--IMP-PTR  3385--IMP-PTR  3390--IMP-PTR  3393--IMP-PTR  3396--IMP-PTR  3399--IMP-PTR  3409--IMP-PTR
      3418--IMP-PTR  3423--IMP-PTR  3427--IMP-PTR  3431--IMP-PTR  3434--IMP-PTR  3437--IMP-PTR  3516--IMP-PTR
      3519--IMP-PTR  3523--IMP-PTR  3536--IMP-PTR  3634--IMP-PTR  3638--IMP-PTR  3644--IMP-PTR  3650--IMP-PTR
      3654--IMP-PTR  3811>>CALL     3812>>DOCASE   3816>>IF       3827>>IF       3830>>IF       3830>>DOCASE
      3843>>DOCASE   3862>>CALL     3863>>IF       3869>>ASSIGN   3870>>CALLBLT  3873>>IF       3883>>CALLBLT
      3884>>CALLBLT  3886>>IF       3887>>CALLBLT  3887>>CALLBLT  3888>>ASSIGN   3890>>CALLBLT  3892>>CALLBLT
      3897>>IF       3900>>IF       3904>>ASSIGN   3931>>CALLBLT  3932>>CALLBLT  3934>>IF       3935>>CALLBLT
      3935>>CALLBLT  3936>>ASSIGN   3938>>CALLBLT  3940>>CALLBLT  3946>>CALL     3947>>CALL     3949>>DOCASE
      3959>>DOCASE   3969<>CALL     3973>>ASSIGN   3996>>IF       3999>>DOCASE   4012>>DOCASE   4024>>DOCASE
      4028>>CALLBLT  4042>>CALLBLT  4061>>CALL     4065>>CALL     4068>>CALLBLT  4085>>CALLBLT  4094>>CALLBLT
      4101>>CALLBLT  4106>>CALL     4107>>ASSIGN   4108>>CALL     4111>>DOWHILE  4114>>CALL     4116>>DOCASE
      4160>>DOCASE   4184>>IF       4187>>DOWHILE  4190>>CALL     4192>>IF       4194>>DOCASE   4206>>IF
      4208>>DOCASE   4217>>DOSELCT  4236>>DOSELCT  4252>>IF       4254>>DOSELCT  4291>>DOSELCT  4300>>IF
      4300>>IF       4300>>IF       4300>>IF       4300>>IF       4300>>IF       4307>>ASSIGN   4309>>ASSIGN
      4312>>IF       4312>>IF       4315>>ASSIGN   4317>>IF       4318>>CALLBLT  4320>>IF       4321>>CALLBLT
      4323>>IF       4324>>CALLBLT  4326>>IF       4327>>CALLBLT  4341>>IF       4344>>ASSIGN   4347>>ASSIGN
      4353>>ASSIGN   4355>>CALL     4369>>IF       4371>>ASSIGN   4375>>IF       4379>>IF       4393>>ASSIGN
      4395>>IF       4395>>IF       4436>>IF       4436>>IF       4436>>IF       4436>>IF       4436>>IF
      4436>>IF       4443>>IF       4443>>IF       4446>>IF       4477>>IF       4477>>IF       4477>>IF
      4477>>IF       4477>>IF       4477>>IF       4477>>IF       4477>>IF       4488>>IF       4488>>IF
      4507>>ASSIGN   4508>>ASSIGN   4509>>DOSELCT  4533>>ASSIGN   4534>>DOSELCT  4553>>ASSIGN   4583>>DOCASE
      4604>>IF       4605>>CALLBLT  4607>>CALLBLT  4614>>IF       4615>>CALLBLT  4617>>CALLBLT  4624>>IF
      4653>>CALLBLT  4654>>CALLBLT  4675>>IF       4682>>ASSIGN   4690>>IF       4698>>IF       4698>>IF
      4723>>CALL     4726>>IF       4729>>CALL     4729>>CALL     4735>>IF       4738>>ASSIGN   4752>>IF
      4752>>IF       4752>>IF       4756>>ASSIGN   4759>>ASSIGN   4763>>IF       4809>>IF       4813>>IF
      4816>>IF       4820>>ASSIGN   4821>>CALL     4822>>IF       4824>>ASSIGN   4825>>CALL     5031>>IF
      5031>>IF       5031>>IF       5031>>IF       5031>>IF       5031>>IF       5038>>ASSIGN   5040>>ASSIGN
      5044>>ASSIGN   5046>>ASSIGN   5053>>IF       5053>>IF       5053>>IF       5053>>IF       5053>>IF
      5053>>IF       5060>>ASSIGN   5062>>ASSIGN   5065>>ASSIGN   5066>>ASSIGN   5070>>IF       5080>>IF
      5082>>IF       5084>>IF       5086>>IF       5090>>IF       5092>>ASSIGN   5163>>IF       5165>>ASSIGN
      5168>>ASSIGN   5172>>ASSIGN   5174>>CALL     5188>>IF       5189>>ASSIGN   5192>>IF       5194>>IF
      5195>>IF       5205>>ASSIGN   5206>>ASSIGN   5208>>IF       5318>>ASSIGN   5321>>IF       5340>>IF
      5340>>IF       5373>>IF       5438>>IF       5438>>IF       5447>>IF       5452>>IF       5592>>ASSIGN
      5601>>IF       5603>>IF       5605>>IF       5607>>IF       5609>>IF       5648>>IF       5648>>IF
      5651>>ASSIGN   6236>>IF       6263>>IF       6293>>IF       6551>>IF       6578>>IF       6608>>IF
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:703  
INFOFMT
      2848**DCL      4728--CALL
INIT_TABLES
      5465**PROC     5027--CALL     5162--CALL
IOERR_TBL
      3624**DCL      5044<<ASSIGN   5137--CALL     5139--CALL     5140--CALL     5165<<ASSIGN
IOERR_TBL.DEVNM
      3629**DCL      5080>>IF       5163>>IF
IOERR_TBL.EXTST
      3628**DCL      5067>>ASSIGN   5093>>ASSIGN   5129>>ASSIGN
IOERR_TBL.MODEL
      3630**DCL      5086>>IF       5088>>ASSIGN   5130>>ASSIGN   5131>>IF       5131>>IF       5133>>IF
      5133>>IF       5133>>IF
IOERR_TBL.SEEK
      3628**DCL      3629--REDEF
IOERR_TBL.STATUS
      3624**DCL      3625--REDEF
IOERR_TBL.STATUS.MAJOR
      3624**DCL      5082>>IF
IOERR_TBL.STATUS.MINOR
      3624**DCL      5084>>IF
IOMN
      3055**DCL      4085<<CALLBLT  4086>>CALLBLT
IOM_DEVN
      3058**DCL      4084<<ASSIGN   4086<<CALLBLT  4089<>CALL
IO_MASK
      2970**DCL      2971--REDEF    4371<<ASSIGN   5093<<ASSIGN   5129<<ASSIGN   5189<<ASSIGN   5205<<ASSIGN
      5663>>ASSIGN   5664>>ASSIGN   5697>>ASSIGN   5723>>ASSIGN   5736>>ASSIGN   5762>>ASSIGN   5763>>ASSIGN
      5776>>ASSIGN   5777>>ASSIGN   5786>>ASSIGN   5787>>ASSIGN   5820>>ASSIGN   5823>>ASSIGN   6008>>IF
      6026>>IF       6037>>IF       6823>>ASSIGN   6824>>ASSIGN   6828>>ASSIGN
IO_MASK1
      2971**DCL      4372>>IF       4375>>IF       4375>>IF       4379>>IF       4414>>IF       4454>>IF
      4454>>IF       4464>>IF       4493>>IF       5094>>IF       5095>>IF       5096>>IF       5136>>IF
      5141>>IF       5190>>IF       5192>>IF       5192>>IF       5226>>IF       5254>>IF       5254>>IF
      5265>>IF       5271>>IF       5341>>IF       5433>>IF       5488>>IF       5493>>IF       5498>>IF
      5516>>IF       5522>>IF       5538>>IF       5563>>IF       5660>>IF       5675>>IF       5679>>IF
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:704  
      5683>>IF       5687>>IF       5691>>IF       5698>>IF       5709>>IF       5795>>IF       5882>>IF
      5992>>IF       6086>>IF       6129>>IF       6164>>IF       6344>>IF       6412>>IF       6469>>IF
      6659>>IF       6707>>IF       6903>>IF
IO_MASK2
      2973**DCL      5094>>IF       5095>>IF       5096>>IF
IPC_MDSII
      5810**PROC     4491--CALL
J
      2843**DCL      4029<<ASSIGN   4030>>DOWHILE  4031<<ASSIGN   4031>>ASSIGN   4033>>ASSIGN   4038<<ASSIGN
      4040>>CALLBLT  4043<<ASSIGN   4044>>DOWHILE  4045<<ASSIGN   4045>>ASSIGN   4047>>ASSIGN   4052<<ASSIGN
      4054>>CALLBLT  4069<<ASSIGN   4070>>DOWHILE  4071<<ASSIGN   4071>>ASSIGN   4073>>ASSIGN   4078<<ASSIGN
      4080>>CALLBLT  4183<<ASSIGN   4185<<ASSIGN   4187>>DOWHILE  4188<<ASSIGN   4188>>ASSIGN   4190>>CALL
      4190>>CALL     4308<<DOINDEX  4309>>ASSIGN   4309>>ASSIGN   4314<<DOINDEX  4315>>ASSIGN   4329<<ASSIGN
      4330>>DOWHILE  4330>>DOWHILE  4331<<ASSIGN   4331>>ASSIGN   4333>>ASSIGN   4338<<ASSIGN   4340>>CALL
      4384<<ASSIGN   4394>>DOINDEX  4758<<ASSIGN   4760>>DOINDEX  5039<<DOINDEX  5040>>ASSIGN   5040>>ASSIGN
      5061<<DOINDEX  5062>>ASSIGN   5062>>ASSIGN   5068<<ASSIGN   5072<<ASSIGN   5075>>IF       5076>>DOINDEX
      5199<<ASSIGN   5207>>DOINDEX  5277>>DOWHILE  5289>>DOWHILE  5323<<ASSIGN   5326>>DOINDEX
JJ
      3106**DCL      4422<<ASSIGN   4427>>DOINDEX  4764<<ASSIGN   4765<<ASSIGN   4766>>DOINDEX  5234<<ASSIGN
      5239>>DOINDEX
JUNK
      2838**DCL      3883<<CALLBLT  3884>>CALLBLT  3885>>ASSIGN   3890<<CALLBLT  3891>>IF       3892>>CALLBLT
      3893>>ASSIGN   3931<<CALLBLT  3932>>CALLBLT  3933>>ASSIGN   3938<<CALLBLT  3939>>IF       3940>>CALLBLT
      3941>>ASSIGN
LED_TBL.CODE
      1681**DCL      5738>>IF
LED_TBL.COUNT
      1681**DCL      5741>>ASSIGN
LED_TBL.TEXT
      1681**DCL      5740>>ASSIGN
LEN
      2845**DCL      4033<<ASSIGN   4034>>IF       4037<<ASSIGN   4040>>CALLBLT  4040>>CALLBLT  4041>>ASSIGN
      4047<<ASSIGN   4048>>IF       4051<<ASSIGN   4054>>CALLBLT  4054>>CALLBLT  4055>>ASSIGN   4073<<ASSIGN
      4074>>IF       4077<<ASSIGN   4080>>CALLBLT  4080>>CALLBLT  4081>>CALL     4107<<ASSIGN   4108>>CALL
      4108<>CALL     4333<<ASSIGN   4334>>IF       4337<<ASSIGN   4340>>CALL     4340<>CALL
LENN
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:705  
      3117**DCL      3116--IMP-SIZ  4403<<ASSIGN   4405<<ASSIGN   4407<<ASSIGN   4409<<ASSIGN   4411<<ASSIGN
      4413>>DOINDEX  4428>>IF       5215<<ASSIGN   5217<<ASSIGN   5219<<ASSIGN   5221<<ASSIGN   5223<<ASSIGN
      5225>>DOINDEX  5240>>IF       5525<<ASSIGN   5531<<ASSIGN   5542>>DOINDEX  5550>>IF
LOC_DATE
      3256**DCL      3781<>CALL
LOC_DATE.V
      3260**DCL      3256--DCLINIT
LOC_UTS
      2950**DCL      3260--DCLINIT  3780<<ASSIGN
M$ERRMSG
        87**DCL-ENT  3985--CALL     5629--CALL
M$TIME
        91**DCL-ENT  3781--CALL     4868--CALL
MAJBUF
      3039**DCL      4355<>CALL     4357<>CALL     5174<>CALL     5175<>CALL
MAJCNT
      3041**DCL      4355<>CALL     4357<>CALL     5174<>CALL     5175<>CALL
MASK
      2819**DCL      3873>>IF
MAX_ENTRY
      2999**DCL      6239<<ASSIGN   6240>>DOINDEX  6265<<ASSIGN   6269<<ASSIGN   6274>>IF       6295<<ASSIGN
      6299<<ASSIGN   6302>>DOINDEX  6554<<ASSIGN   6555>>DOINDEX  6580<<ASSIGN   6584<<ASSIGN   6589>>IF
      6610<<ASSIGN   6614<<ASSIGN   6617>>DOINDEX
MDSFMT
      3035**DCL      4704--CALL
MDSII_FCODE
      1572**DCL      6296--ASSIGN   6611--ASSIGN
MDSII_FRUS
      1562**DCL      6266--ASSIGN   6581--ASSIGN
MDSII_STATUS
      1600**DCL      6238--ASSIGN   6553--ASSIGN
MDSI_FCODE
      1572**DCL      6300--ASSIGN   6615--ASSIGN
MDSI_FRUS
      1562**DCL      6270--ASSIGN   6585--ASSIGN
MDS_CMD_ENDING_STAT.CMD_IDENT
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:706  
      2992**DCL      6205>>IF
MDS_CMD_ENDING_STAT.ERROR_CAT
      2994**DCL      6763>>DOCASE
MDS_CMD_ENDING_STAT.ERROR_CODE
      2995**DCL      6770>>CALLBLT  6781>>CALLBLT  6792>>IF       6792>>IF       6794>>CALLBLT  6806>>IF
      6806>>IF       6808>>CALLBLT
MDS_CMD_ENDING_STAT.ERROR_LOC
      2993**DCL      6756>>CALLBLT
MDS_CMD_IDENT.CODE
      1650**DCL      6205>>IF
MDS_CMD_IDENT.COUNT
      1650**DCL      6208>>CALLBLT  6211>>ASSIGN
MDS_CMD_IDENT.TEXT
      1650**DCL      6208>>CALLBLT
MDS_CYL
      3017**DCL      6020<<CALLBLT  6022>>CALLBLT  6857<<CALLBLT  6858>>CALLBLT
MDS_DRIVE_ENDING_STATUS.COUNT
      1510**DCL      6710>>CALLBLT  6712>>ASSIGN
MDS_DRIVE_ENDING_STATUS.TEXT
      1510**DCL      6710>>CALLBLT
MDS_DRIVE_STATUS.OP_END_STATUS
      2989**DCL      6719>>DOCASE
MDS_ERROR_LOC.TEXT
      1651**DCL      6756>>CALLBLT
MDS_HEAD
      3019**DCL      6031<<CALLBLT  6033>>CALLBLT  6866<<CALLBLT  6867>>CALLBLT
MDS_INFO_ERRS.TEXT
      1653**DCL      6808>>CALLBLT
MDS_MISC_ERRS.TEXT
      1652**DCL      6794>>CALLBLT
MDS_OP_CODE_TBL.CODE
      1490**DCL      5845>>IF
MDS_OP_CODE_TBL.COUNT
      1490**DCL      5847>>ASSIGN   5848>>CALLBLT  5860>>ASSIGN
MDS_OP_CODE_TBL.TEXT
      1490**DCL      5848>>CALLBLT  5859>>CALLBLT
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:707  
MDS_PARAM_51.SUB$
      1653**DCL      6890>>ASSIGN
MDS_PARAM_ID_TBL.COUNT
      1491**DCL      5921>>CALLBLT  5923>>ASSIGN
MDS_PARAM_ID_TBL.TEXT
      1491**DCL      5921>>CALLBLT
MDS_PARAM_X2.SUB$
      1491**DCL      5980>>ASSIGN
MDS_PARAM_X4.SUB$
      1495**DCL      6070>>ASSIGN
MDS_PARAM_X5.SUB$
      1497**DCL      6113>>ASSIGN
MDS_PARAM_X6.SUB$
      1506**DCL      6153>>ASSIGN
MDS_PARAM_X7.SUB$
      1503**DCL      6328>>ASSIGN
MDS_PARAM_X8.SUB$
      1500**DCL      6396>>ASSIGN
MDS_PARAM_X9.SUB$
      1511**DCL      6453>>ASSIGN
MDS_PARAM_XA.SUB$
      1501**DCL      6643>>ASSIGN
MDS_REG1
      3013**DCL      3014--REDEF    6017<<ASSIGN   6020>>CALLBLT  6029<<ASSIGN   6031>>CALLBLT  6040<<ASSIGN
      6042>>CALLBLT  6854<<ASSIGN   6857>>CALLBLT  6864<<ASSIGN   6866>>CALLBLT  6872<<ASSIGN   6874>>CALLBLT
MDS_REG2.OCTET
      3016**DCL      6018<<ASSIGN   6019<<ASSIGN   6030<<ASSIGN   6041<<ASSIGN   6855<<ASSIGN   6856<<ASSIGN
      6865<<ASSIGN   6873<<ASSIGN
MDS_RW_ERRS.TEXT
      1652**DCL      6781>>CALLBLT
MDS_SECTOR
      3018**DCL      6042<<CALLBLT  6044>>CALLBLT  6874<<CALLBLT  6875>>CALLBLT
MDS_STATS.SEEK_READS
      2925**DCL      4548>>ASSIGN
MDS_STATS.SEEK_WRITES
      2927**DCL      4548>>ASSIGN
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:708  
MDS_STATUS_REG1
      2986**DCL      2987--REDEF    6189<<ASSIGN   6495<<ASSIGN
MDS_STATUS_REG2
      2990**DCL      2991--REDEF    6203<<ASSIGN   6219<<ASSIGN   6510<<ASSIGN
MDS_TBL.CODE
      2966**DCL      6241>>IF       6303>>IF       6556>>IF       6618>>IF
MDS_TBL.COUNT
      2967**DCL      6244>>CALLBLT  6246>>ASSIGN   6277>>CALLBLT  6279>>ASSIGN   6306>>CALLBLT  6308>>ASSIGN
      6559>>CALLBLT  6561>>ASSIGN   6592>>CALLBLT  6594>>ASSIGN   6621>>CALLBLT  6623>>ASSIGN
MDS_TBL.TEXT
      2968**DCL      6244>>CALLBLT  6277>>CALLBLT  6306>>CALLBLT  6559>>CALLBLT  6592>>CALLBLT  6621>>CALLBLT
MDS_TBL$
      2964**DCL      2965--IMP-PTR  6238<<ASSIGN   6241>>IF       6244>>CALLBLT  6244>>CALLBLT  6246>>ASSIGN
      6266<<ASSIGN   6270<<ASSIGN   6277>>CALLBLT  6277>>CALLBLT  6279>>ASSIGN   6296<<ASSIGN   6300<<ASSIGN
      6303>>IF       6306>>CALLBLT  6306>>CALLBLT  6308>>ASSIGN   6553<<ASSIGN   6556>>IF       6559>>CALLBLT
      6559>>CALLBLT  6561>>ASSIGN   6581<<ASSIGN   6585<<ASSIGN   6592>>CALLBLT  6592>>CALLBLT  6594>>ASSIGN
      6611<<ASSIGN   6615<<ASSIGN   6618>>IF       6621>>CALLBLT  6621>>CALLBLT  6623>>ASSIGN
MDS_TEXT
      3030**DCL      5812<<ASSIGN   5813<<ASSIGN   5826<<ASSIGN   5828<<ASSIGN   5830<<ASSIGN   5832<<ASSIGN
      5836<<CALLBLT  5840<<CALLBLT  5848<<CALLBLT  5854<<CALLBLT  5859<<CALLBLT  5865<<CALLBLT  5866<<CALLBLT
      5870<<CALLBLT  5874<<CALLBLT  5878<<CALLBLT  5884<<ASSIGN   5885<<CALLBLT  5890<<CALLBLT  5893<<CALLBLT
      5896<<CALLBLT  5899<<CALLBLT  5902<<CALLBLT  5905<<CALLBLT  5912<<CALLBLT  5918<<CALLBLT  5921<<CALLBLT
      5928<<CALLBLT  5932<<CALLBLT  5969<>CALL     5979<<ASSIGN   5984<<CALLBLT  5986<<CALLBLT  5988<>CALL
      5994<<ASSIGN   5995<<CALLBLT  5997<>CALL     6010<<ASSIGN   6011<<CALLBLT  6014<>CALL     6016<<ASSIGN
      6021<<CALLBLT  6022<<CALLBLT  6024<>CALL     6028<<ASSIGN   6032<<CALLBLT  6033<<CALLBLT  6035<>CALL
      6039<<ASSIGN   6043<<CALLBLT  6044<<CALLBLT  6046<>CALL     6069<<ASSIGN   6074<<CALLBLT  6076<<CALLBLT
      6079<>CALL     6088<<ASSIGN   6089<<CALLBLT  6091<>CALL     6112<<ASSIGN   6117<<CALLBLT  6119<<CALLBLT
      6122<>CALL     6131<<ASSIGN   6132<<CALLBLT  6134<>CALL     6150<<ASSIGN   6155<<CALLBLT  6157<<CALLBLT
      6160<>CALL     6166<<ASSIGN   6167<<CALLBLT  6169<>CALL     6177<<CALLBLT  6179<<CALLBLT  6184<>CALL
      6194<<CALLBLT  6196<<CALLBLT  6201<>CALL     6207<<ASSIGN   6208<<CALLBLT  6212<>CALL     6229<<CALLBLT
      6231<<CALLBLT  6234<>CALL     6243<<ASSIGN   6244<<CALLBLT  6247<>CALL     6259<<CALLBLT  6261<>CALL
      6276<<ASSIGN   6277<<CALLBLT  6280<>CALL     6287<<CALLBLT  6288<<CALLBLT  6291<>CALL     6305<<ASSIGN
      6306<<CALLBLT  6309<>CALL     6327<<ASSIGN   6332<<CALLBLT  6334<<CALLBLT  6337<>CALL     6346<<ASSIGN
      6347<<CALLBLT  6349<>CALL     6360<<CALLBLT  6361<<CALLBLT  6366<>CALL     6368<<ASSIGN   6369<<CALLBLT
      6370<<CALLBLT  6373<>CALL     6375<<ASSIGN   6376<<CALLBLT  6377<<CALLBLT  6380<>CALL     6395<<ASSIGN
      6400<<CALLBLT  6402<<CALLBLT  6405<>CALL     6414<<ASSIGN   6415<<CALLBLT  6417<>CALL     6427<<CALLBLT
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:709  
      6431<<CALLBLT  6435<<CALLBLT  6437<>CALL     6452<<ASSIGN   6457<<CALLBLT  6459<<CALLBLT  6462<>CALL
      6471<<ASSIGN   6472<<CALLBLT  6474<>CALL     6486<<CALLBLT  6488<<CALLBLT  6493<>CALL     6501<<CALLBLT
      6503<<CALLBLT  6508<>CALL     6515<<CALLBLT  6517<<CALLBLT  6522<>CALL     6527<<CALLBLT  6529<<CALLBLT
      6534<>CALL     6544<<CALLBLT  6546<<CALLBLT  6549<>CALL     6558<<ASSIGN   6559<<CALLBLT  6562<>CALL
      6574<<CALLBLT  6576<>CALL     6591<<ASSIGN   6592<<CALLBLT  6595<>CALL     6602<<CALLBLT  6603<<CALLBLT
      6606<>CALL     6620<<ASSIGN   6621<<CALLBLT  6624<>CALL     6642<<ASSIGN   6647<<CALLBLT  6649<<CALLBLT
      6652<>CALL     6661<<ASSIGN   6662<<CALLBLT  6664<>CALL     6676<<CALLBLT  6679<>CALL     6681<<ASSIGN
      6682<<CALLBLT  6685<<CALLBLT  6690<>CALL     6709<<ASSIGN   6710<<CALLBLT  6713<>CALL     6718<<ASSIGN
      6721<<CALLBLT  6724<<CALLBLT  6727<<CALLBLT  6730<<CALLBLT  6733<<CALLBLT  6736<<CALLBLT  6739<<CALLBLT
      6742<<CALLBLT  6745<>CALL     6755<<ASSIGN   6756<<CALLBLT  6759<>CALL     6761<<ASSIGN   6762<<CALLBLT
      6765<<CALLBLT  6767<>CALL     6769<<ASSIGN   6770<<CALLBLT  6773<>CALL     6776<<CALLBLT  6778<>CALL
      6780<<ASSIGN   6781<<CALLBLT  6784<>CALL     6787<<CALLBLT  6789<>CALL     6791<<ASSIGN   6794<<CALLBLT
      6796<<CALLBLT  6798<>CALL     6801<<CALLBLT  6803<>CALL     6805<<ASSIGN   6808<<CALLBLT  6810<<CALLBLT
      6812<>CALL     6830<<ASSIGN   6832<<CALLBLT  6836<>CALL     6838<<ASSIGN   6839<<CALLBLT  6844<>CALL
      6846<<ASSIGN   6847<<CALLBLT  6851<>CALL     6853<<ASSIGN   6858<<CALLBLT  6861<>CALL     6863<<ASSIGN
      6867<<CALLBLT  6869<>CALL     6871<<ASSIGN   6875<<CALLBLT  6877<>CALL     6889<<ASSIGN   6894<<CALLBLT
      6896<<CALLBLT  6899<>CALL     6905<<ASSIGN   6906<<CALLBLT  6908<>CALL
MDS_TEXT_POSITION
      3031**DCL      6429<<ASSIGN   6431>>CALLBLT  6433<<ASSIGN   6433>>ASSIGN   6435>>CALLBLT  6436>>ASSIGN
      6683<<ASSIGN   6685>>CALLBLT  6687<<ASSIGN   6687>>ASSIGN   6689>>ASSIGN
MDS_TIMEOUT_ERRS.TEXT
      1651**DCL      6770>>CALLBLT
MINBUF
      3040**DCL      4355<>CALL     4358<>CALL     5174<>CALL     5176<>CALL
MINCNT
      3042**DCL      4355<>CALL     4358<>CALL     5174<>CALL     5176<>CALL
MM$
      3044**DCL      3045--IMP-PTR  3800<<ASSIGN   4357<>CALL     4358<>CALL     4361<>CALL     4362<>CALL
      4364>>ASSIGN   4642>>IF       4647>>ASSIGN   5029<<ASSIGN   5051<<ASSIGN   5128>>ASSIGN   5175<>CALL
      5176<>CALL     5179<>CALL     5180<>CALL     5182>>ASSIGN
MMBUF
      3043**DCL      3799<<ASSIGN   3800--ASSIGN   4363--ASSIGN   4364--ASSIGN   4642--IF       4646--ASSIGN
      4647--ASSIGN   5028<<ASSIGN   5029--ASSIGN   5051--ASSIGN   5127--ASSIGN   5128--ASSIGN   5181--ASSIGN
      5182--ASSIGN
MMVEC
      3047**DCL      4363<<ASSIGN   4643<<ASSIGN   4646<<ASSIGN   4673<>CALL     4679<>CALL     4694<>CALL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:710  
      5127<<ASSIGN   5137<>CALL     5139<>CALL     5140<>CALL     5181<<ASSIGN
MMVEC.BOUND
      3048**DCL      4364<<ASSIGN   4647<<ASSIGN   5128<<ASSIGN   5182<<ASSIGN
MODEL_CHAR
      2969**DCL      4393<<ASSIGN   4395>>IF       4507<<ASSIGN   4650>>IF       5088<<ASSIGN   5089>>IF
      5130<<ASSIGN   5136>>IF       5138>>IF       5154>>IF       5206<<ASSIGN   5208>>IF       5270>>IF
      5285>>IF       5304>>IF       5306>>IF       5318<<ASSIGN   5319>>IF
MPC_PR71
      5759**PROC     4445--CALL
MPC_RETURN IN PROCEDURE MPC_PR71
      5805**LABEL    5772--GOTO     5799--GOTO
MT_POSITION
      3069**DCL      4655<>CALL
MT_POSITION.FILE
      3070**DCL      4653<<CALLBLT
MT_POSITION.RECCNT
      3072**DCL      4654<<CALLBLT
N
      3034**DCL      4700<<ASSIGN   4701>>ASSIGN   4708<<ASSIGN   4709>>ASSIGN   4750<<ASSIGN   4787<<ASSIGN
      4787>>ASSIGN   4798<<ASSIGN   4798>>ASSIGN   4802>>IF       4804>>ASSIGN
NEW_DENSE
      3179**DCL      3180--REDEF    5066<<ASSIGN
NEW_DENSE_RDF.DENSITY
      3181**DCL      5100>>IF
NEW_IO_MASK
      2972**DCL      2973--REDEF    5092<<ASSIGN
NEW_OP
      3157**DCL      3158--REDEF    5046<<ASSIGN   5065<<ASSIGN
NEW_OP_RDF
      3158**DCL      5077>>IF       5327>>IF
NEXT_BIT IN PROCEDURE FIND_FORMAT_MSG
      5550**LABEL    5535--GOTO     5547--GOTO
NEXT_I
      4498**LABEL    4432--GOTO     4459--GOTO     4473--GOTO
NEXT_RECORD_PLEASE IN PROCEDURE THF$FEPERR
      5652**LABEL    5595--GOTO     5613--GOTO
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:711  
NINE_TRACK_BLNK
      3198**DCL      3199--REDEF    5145<<CALLBLT  5146<<CALLBLT  5146>>CALLBLT  5149--CALL
NINE_TRACK_RDF
      3197**DCL      5144>>IF       5145>>CALLBLT  5363>>IF       5415>>IF
NINE_TRACK_STRING
      3199**DCL      5479<<ASSIGN
NINE_TRACK_TBL
      3187**DCL      3197--REDEF    5478<<ASSIGN
NINE_TRACK_TBL.EIGHT
      3194**DCL      5356<<ASSIGN   5356>>ASSIGN   5388<<ASSIGN   5388>>ASSIGN   5408<<ASSIGN   5408>>ASSIGN
NINE_TRACK_TBL.FIVE
      3190**DCL      5348<<ASSIGN   5348>>ASSIGN   5380<<ASSIGN   5380>>ASSIGN   5400<<ASSIGN   5400>>ASSIGN
NINE_TRACK_TBL.FOUR
      3196**DCL      5360<<ASSIGN   5360>>ASSIGN   5392<<ASSIGN   5392>>ASSIGN   5412<<ASSIGN   5412>>ASSIGN
NINE_TRACK_TBL.NINE
      3192**DCL      5352<<ASSIGN   5352>>ASSIGN   5384<<ASSIGN   5384>>ASSIGN   5404<<ASSIGN   5404>>ASSIGN
NINE_TRACK_TBL.ONE
      3193**DCL      5354<<ASSIGN   5354>>ASSIGN   5386<<ASSIGN   5386>>ASSIGN   5406<<ASSIGN   5406>>ASSIGN
NINE_TRACK_TBL.SEVEN
      3188**DCL      5344<<ASSIGN   5344>>ASSIGN   5376<<ASSIGN   5376>>ASSIGN   5396<<ASSIGN   5396>>ASSIGN
NINE_TRACK_TBL.SIX
      3189**DCL      5346<<ASSIGN   5346>>ASSIGN   5378<<ASSIGN   5378>>ASSIGN   5398<<ASSIGN   5398>>ASSIGN
NINE_TRACK_TBL.THREE
      3191**DCL      5350<<ASSIGN   5350>>ASSIGN   5382<<ASSIGN   5382>>ASSIGN   5402<<ASSIGN   5402>>ASSIGN
NINE_TRACK_TBL.TWO
      3195**DCL      5358<<ASSIGN   5358>>ASSIGN   5390<<ASSIGN   5390>>ASSIGN   5410<<ASSIGN   5410>>ASSIGN
NINE_TRK_FMT
      3149**DCL      5149<>CALL
NINE_TRK_HDR
      3146**DCL      3149--DCLINIT
NON_CODE
      4790**LABEL    4769--GOTO
NON_REG_TBL.CODE
      1682**DCL      5711>>IF
NON_REG_TBL.COUNT
      1682**DCL      5714>>ASSIGN
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:712  
NON_REG_TBL.TEXT
      1682**DCL      5713>>ASSIGN
NON_TAPE_FMT
      3145**DCL      5140<>CALL
NON_TAPE_HDR
      3143**DCL      3145--DCLINIT
NOT_ALL_MATCH IN PROCEDURE THF$IOERR
      5127**LABEL    5049--GOTO     5097--GOTO     5108--GOTO     5110--GOTO     5118--GOTO     5120--GOTO
      5122--GOTO     5124--GOTO
NOT_MATCH_AT_ALL IN PROCEDURE THF$FEPERR
      5626**LABEL    5597--GOTO     5615--GOTO     5617--GOTO     5619--GOTO     5621--GOTO     5623--GOTO
NO_INT IN PROCEDURE THF$IOERR
      5318**LABEL    5191--GOTO     5203--GOTO
NO_INTERP
      4506**LABEL    4374--GOTO
NO_LEADING_ZEROS
      3200**DCL      5146>>CALLBLT
NO_MESSAGE IN PROCEDURE THF$FEPERR
      5637**LABEL    5629--CALLALT
NO_MSG
      3993**LABEL    3985--CALLALT
NO_STAT
      4361**LABEL    4355--CALLALT
NO_XSTAT_FMT
      3142**DCL      5139<>CALL
NO_XSTAT_HDR
      3139**DCL      3142--DCLINIT
NUMBYTES
      2850**DCL      3976<<ASSIGN   3980<<ASSIGN   4720>>IF       4722>>ASSIGN
NUMWORDS
      2851**DCL      4722<<ASSIGN   4723<>CALL
NUM_XSTATUS
      3183**DCL      5154>>IF       5156>>DOINDEX  5293<<ASSIGN   5293>>ASSIGN   5309>>ASSIGN   5310>>ASSIGN
      5310>>ASSIGN   5311<<ASSIGN   5311>>ASSIGN   5466<<ASSIGN
NXST
      3033**DCL      4366<<ASSIGN   4501<<ASSIGN   4501>>ASSIGN   4698>>IF       4700>>ASSIGN   4706>>IF
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:713  
      4708>>ASSIGN   4710>>IF       5185<<ASSIGN   5314<<ASSIGN   5314>>ASSIGN   5505<<ASSIGN   5505>>ASSIGN
      5553<<ASSIGN   5553>>ASSIGN   5578<<ASSIGN   5578>>ASSIGN   5752<<ASSIGN   5752>>ASSIGN   5803<<ASSIGN
      5803>>ASSIGN   5970<<ASSIGN   5970>>ASSIGN   5989<<ASSIGN   5989>>ASSIGN   5998<<ASSIGN   5998>>ASSIGN
      6015<<ASSIGN   6015>>ASSIGN   6025<<ASSIGN   6025>>ASSIGN   6036<<ASSIGN   6036>>ASSIGN   6047<<ASSIGN
      6047>>ASSIGN   6080<<ASSIGN   6080>>ASSIGN   6092<<ASSIGN   6092>>ASSIGN   6123<<ASSIGN   6123>>ASSIGN
      6135<<ASSIGN   6135>>ASSIGN   6161<<ASSIGN   6161>>ASSIGN   6170<<ASSIGN   6170>>ASSIGN   6185<<ASSIGN
      6185>>ASSIGN   6202<<ASSIGN   6202>>ASSIGN   6213<<ASSIGN   6213>>ASSIGN   6235<<ASSIGN   6235>>ASSIGN
      6248<<ASSIGN   6248>>ASSIGN   6262<<ASSIGN   6262>>ASSIGN   6281<<ASSIGN   6281>>ASSIGN   6292<<ASSIGN
      6292>>ASSIGN   6310<<ASSIGN   6310>>ASSIGN   6338<<ASSIGN   6338>>ASSIGN   6350<<ASSIGN   6350>>ASSIGN
      6367<<ASSIGN   6367>>ASSIGN   6374<<ASSIGN   6374>>ASSIGN   6381<<ASSIGN   6381>>ASSIGN   6406<<ASSIGN
      6406>>ASSIGN   6418<<ASSIGN   6418>>ASSIGN   6438<<ASSIGN   6438>>ASSIGN   6463<<ASSIGN   6463>>ASSIGN
      6475<<ASSIGN   6475>>ASSIGN   6494<<ASSIGN   6494>>ASSIGN   6509<<ASSIGN   6509>>ASSIGN   6523<<ASSIGN
      6523>>ASSIGN   6535<<ASSIGN   6535>>ASSIGN   6550<<ASSIGN   6550>>ASSIGN   6563<<ASSIGN   6563>>ASSIGN
      6577<<ASSIGN   6577>>ASSIGN   6596<<ASSIGN   6596>>ASSIGN   6607<<ASSIGN   6607>>ASSIGN   6625<<ASSIGN
      6625>>ASSIGN   6653<<ASSIGN   6653>>ASSIGN   6665<<ASSIGN   6665>>ASSIGN   6680<<ASSIGN   6680>>ASSIGN
      6691<<ASSIGN   6691>>ASSIGN   6714<<ASSIGN   6714>>ASSIGN   6746<<ASSIGN   6746>>ASSIGN   6760<<ASSIGN
      6760>>ASSIGN   6768<<ASSIGN   6768>>ASSIGN   6774<<ASSIGN   6774>>ASSIGN   6779<<ASSIGN   6779>>ASSIGN
      6785<<ASSIGN   6785>>ASSIGN   6790<<ASSIGN   6790>>ASSIGN   6799<<ASSIGN   6799>>ASSIGN   6804<<ASSIGN
      6804>>ASSIGN   6813<<ASSIGN   6813>>ASSIGN   6837<<ASSIGN   6837>>ASSIGN   6845<<ASSIGN   6845>>ASSIGN
      6852<<ASSIGN   6852>>ASSIGN   6862<<ASSIGN   6862>>ASSIGN   6870<<ASSIGN   6870>>ASSIGN   6878<<ASSIGN
      6878>>ASSIGN   6900<<ASSIGN   6900>>ASSIGN   6909<<ASSIGN   6909>>ASSIGN
OCTET$
      2960**DCL      2961--IMP-PTR  5980<<ASSIGN   5992>>IF       5995>>CALLBLT  5995>>CALLBLT  5996>>ASSIGN
      6021>>CALLBLT  6021>>CALLBLT  6023>>ASSIGN   6032>>CALLBLT  6032>>CALLBLT  6034>>ASSIGN   6043>>CALLBLT
      6043>>CALLBLT  6045>>ASSIGN   6070<<ASSIGN   6086>>IF       6089>>CALLBLT  6089>>CALLBLT  6090>>ASSIGN
      6113<<ASSIGN   6129>>IF       6132>>CALLBLT  6132>>CALLBLT  6133>>ASSIGN   6153<<ASSIGN   6164>>IF
      6167>>CALLBLT  6167>>CALLBLT  6168>>ASSIGN   6328<<ASSIGN   6344>>IF       6347>>CALLBLT  6347>>CALLBLT
      6348>>ASSIGN   6360>>CALLBLT  6360>>CALLBLT  6365>>ASSIGN   6369>>CALLBLT  6369>>CALLBLT  6372>>ASSIGN
      6376>>CALLBLT  6376>>CALLBLT  6379>>ASSIGN   6396<<ASSIGN   6412>>IF       6415>>CALLBLT  6415>>CALLBLT
      6416>>ASSIGN   6453<<ASSIGN   6469>>IF       6472>>CALLBLT  6472>>CALLBLT  6473>>ASSIGN   6643<<ASSIGN
      6659>>IF       6662>>CALLBLT  6662>>CALLBLT  6663>>ASSIGN   6890<<ASSIGN   6903>>IF       6906>>CALLBLT
      6906>>CALLBLT  6907>>ASSIGN
OCTET_BYTE
      2974**DCL      2975--REDEF    5823<<ASSIGN   6018>>ASSIGN   6019>>ASSIGN   6030>>ASSIGN   6041>>ASSIGN
      6189>>ASSIGN   6203>>ASSIGN   6219>>ASSIGN   6241>>IF       6273>>ASSIGN   6303>>IF       6495>>ASSIGN
      6510>>ASSIGN   6556>>IF       6588>>ASSIGN   6618>>IF       6828<<ASSIGN   6855>>ASSIGN   6856>>ASSIGN
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:714  
      6865>>ASSIGN   6873>>ASSIGN
OCTET_NIBBLE
      2975**DCL      5986>>CALLBLT  5986>>CALLBLT  6076>>CALLBLT  6076>>CALLBLT  6119>>CALLBLT  6119>>CALLBLT
      6157>>CALLBLT  6157>>CALLBLT  6179>>CALLBLT  6179>>CALLBLT  6179>>CALLBLT  6179>>CALLBLT  6196>>CALLBLT
      6196>>CALLBLT  6196>>CALLBLT  6196>>CALLBLT  6231>>CALLBLT  6231>>CALLBLT  6256>>ASSIGN   6257>>ASSIGN
      6288>>CALLBLT  6288>>CALLBLT  6334>>CALLBLT  6334>>CALLBLT  6361>>CALLBLT  6361>>CALLBLT  6361>>CALLBLT
      6361>>CALLBLT  6370>>CALLBLT  6370>>CALLBLT  6377>>CALLBLT  6377>>CALLBLT  6402>>CALLBLT  6402>>CALLBLT
      6431>>CALLBLT  6431>>CALLBLT  6459>>CALLBLT  6459>>CALLBLT  6488>>CALLBLT  6488>>CALLBLT  6503>>CALLBLT
      6503>>CALLBLT  6517>>CALLBLT  6517>>CALLBLT  6517>>CALLBLT  6517>>CALLBLT  6529>>CALLBLT  6529>>CALLBLT
      6529>>CALLBLT  6529>>CALLBLT  6546>>CALLBLT  6546>>CALLBLT  6571>>ASSIGN   6572>>ASSIGN   6603>>CALLBLT
      6603>>CALLBLT  6649>>CALLBLT  6649>>CALLBLT  6685>>CALLBLT  6685>>CALLBLT  6847>>CALLBLT  6847>>CALLBLT
      6847>>CALLBLT  6847>>CALLBLT  6896>>CALLBLT  6896>>CALLBLT
OCTET_NUM
      3000**DCL      5818<<ASSIGN   5940<<ASSIGN   5980>>ASSIGN   5981>>IF       5981>>IF       5983>>ASSIGN
      5986>>CALLBLT  5986>>CALLBLT  6002>>IF       6006>>IF       6070>>ASSIGN   6071>>IF       6071>>IF
      6073>>ASSIGN   6076>>CALLBLT  6076>>CALLBLT  6082>>IF       6082>>IF       6082>>IF       6096>>IF
      6096>>IF       6101>>IF       6113>>ASSIGN   6114>>IF       6114>>IF       6116>>ASSIGN   6119>>CALLBLT
      6119>>CALLBLT  6125>>IF       6125>>IF       6125>>IF       6139>>IF       6151>>IF       6151>>IF
      6153>>ASSIGN   6154>>ASSIGN   6157>>CALLBLT  6157>>CALLBLT  6175>>IF       6187>>IF       6192>>IF
      6217>>IF       6227>>IF       6253>>IF       6285>>IF       6317>>IF       6328>>ASSIGN   6329>>IF
      6329>>IF       6331>>ASSIGN   6334>>CALLBLT  6334>>CALLBLT  6340>>IF       6340>>IF       6340>>IF
      6354>>IF       6358>>IF       6385>>IF       6397>>IF       6397>>IF       6399>>ASSIGN   6402>>CALLBLT
      6402>>CALLBLT  6408>>IF       6424>>IF       6442>>IF       6453>>ASSIGN   6454>>IF       6454>>IF
      6456>>ASSIGN   6459>>CALLBLT  6459>>CALLBLT  6465>>IF       6465>>IF       6479>>IF       6483>>IF
      6485>>ASSIGN   6488>>CALLBLT  6488>>CALLBLT  6498>>IF       6500>>ASSIGN   6503>>CALLBLT  6503>>CALLBLT
      6513>>IF       6525>>IF       6542>>IF       6568>>IF       6600>>IF       6632>>IF       6643>>ASSIGN
      6644>>IF       6644>>IF       6646>>ASSIGN   6649>>CALLBLT  6649>>CALLBLT  6655>>IF       6655>>IF
      6655>>IF       6669>>IF       6673>>IF       6695>>IF       6890>>ASSIGN   6891>>IF       6891>>IF
      6893>>ASSIGN   6896>>CALLBLT  6896>>CALLBLT  6915>>IF
ODDFLAG
      3038**DCL      4711<<ASSIGN   4712<<ASSIGN   4715>>IF
ODDFMT
      3037**DCL      4716--CALL
OLD_DENSE
      3175**DCL      3176--REDEF    5067<<ASSIGN
OLD_DENSE_RDF.DENSITY
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:715  
      3177**DCL      5100>>IF
OPERATION
      3159**DCL      5078<<ASSIGN   5102>>IF       5470>>ASSIGN
OTHER_IOERR_TBL
      3160**DCL      5137--CALL     5139--CALL     5140--CALL
OTHER_IOERR_TBL.COUNT
      3161**DCL      5045<<ASSIGN   5045>>ASSIGN   5104<<ASSIGN   5104>>ASSIGN   5113<<ASSIGN   5113>>ASSIGN
      5166<<ASSIGN   5166>>ASSIGN   5469<<ASSIGN
OTHER_IOERR_TBL.DENSITY
      3164**DCL      5301<<ASSIGN   5305<<ASSIGN   5472<<ASSIGN
OTHER_IOERR_TBL.OPERATION
      3162**DCL      5102>>IF       5329<<ASSIGN   5470<<ASSIGN
OTHER_IOERR_TBL.SPEED
      3163**DCL      5303<<ASSIGN   5307<<ASSIGN   5471<<ASSIGN
OTHER_IOERR_TBL.TRACK
      3165**DCL      5132<<ASSIGN   5134<<ASSIGN   5473<<ASSIGN
PARAMETER_ID
      2981**DCL      2982--REDEF    5816<<ASSIGN   5917<<ASSIGN   5926>>IF       5934<<ASSIGN   5938>>IF
      5941>>IF       5963<<ASSIGN   6049<<ASSIGN   6097<<ASSIGN   6102<<ASSIGN   6139<<ASSIGN   6355<<ASSIGN
      6382<<ASSIGN   6386<<ASSIGN   6439<<ASSIGN   6443<<ASSIGN   6670<<ASSIGN   6692<<ASSIGN   6696<<ASSIGN
      6824<<ASSIGN   6825>>IF       6880<<ASSIGN   6916<<ASSIGN
PARAMETER_LENGTH
      2985**DCL      5817<<ASSIGN   5911<<ASSIGN   6002>>IF       6096>>IF       6101>>IF       6221>>IF
      6317>>IF       6354>>IF       6385>>IF       6426>>ASSIGN   6430>>DOINDEX  6442>>IF       6479>>IF
      6536>>IF       6632>>IF       6669>>IF       6675>>ASSIGN   6684>>DOINDEX  6695>>IF       6823<<ASSIGN
      6825>>IF       6831>>ASSIGN
PARAM_3X_DONE IN PROCEDURE DECODE_PARAM_3X
      6880**LABEL    6826--GOTO
PARAM_ID.BYT1
      2983**DCL      5918>>CALLBLT  5919>>IF       5919>>IF       6839>>CALLBLT
PARAM_ID.BYT2
      2984**DCL      5918>>CALLBLT  5919>>IF       5921>>CALLBLT  5921>>CALLBLT  5923>>ASSIGN   5943>>DOCASE
      6839>>CALLBLT
PARAM_INDX
      2980**DCL      5990<<ASSIGN   5992>>IF       5995>>CALLBLT  5995>>CALLBLT  5996>>ASSIGN   6000<<ASSIGN
      6000>>ASSIGN   6084<<ASSIGN   6086>>IF       6089>>CALLBLT  6089>>CALLBLT  6090>>ASSIGN   6094<<ASSIGN
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:716  
      6094>>ASSIGN   6127<<ASSIGN   6129>>IF       6132>>CALLBLT  6132>>CALLBLT  6133>>ASSIGN   6137<<ASSIGN
      6137>>ASSIGN   6162<<ASSIGN   6164>>IF       6167>>CALLBLT  6167>>CALLBLT  6168>>ASSIGN   6172<<ASSIGN
      6172>>ASSIGN   6342<<ASSIGN   6344>>IF       6347>>CALLBLT  6347>>CALLBLT  6348>>ASSIGN   6352<<ASSIGN
      6352>>ASSIGN   6410<<ASSIGN   6412>>IF       6415>>CALLBLT  6415>>CALLBLT  6416>>ASSIGN   6420<<ASSIGN
      6420>>ASSIGN   6467<<ASSIGN   6469>>IF       6472>>CALLBLT  6472>>CALLBLT  6473>>ASSIGN   6477<<ASSIGN
      6477>>ASSIGN   6657<<ASSIGN   6659>>IF       6662>>CALLBLT  6662>>CALLBLT  6663>>ASSIGN   6667<<ASSIGN
      6667>>ASSIGN   6705<<ASSIGN   6710>>CALLBLT  6710>>CALLBLT  6712>>ASSIGN   6716<<ASSIGN   6716>>ASSIGN
      6901<<ASSIGN   6903>>IF       6906>>CALLBLT  6906>>CALLBLT  6907>>ASSIGN   6911<<ASSIGN   6911>>ASSIGN
PARAM_TBL.COUNT
      2962**DCL      5992>>IF       5995>>CALLBLT  5996>>ASSIGN   6021>>CALLBLT  6023>>ASSIGN   6032>>CALLBLT
      6034>>ASSIGN   6043>>CALLBLT  6045>>ASSIGN   6086>>IF       6089>>CALLBLT  6090>>ASSIGN   6129>>IF
      6132>>CALLBLT  6133>>ASSIGN   6164>>IF       6167>>CALLBLT  6168>>ASSIGN   6344>>IF       6347>>CALLBLT
      6348>>ASSIGN   6360>>CALLBLT  6365>>ASSIGN   6369>>CALLBLT  6372>>ASSIGN   6376>>CALLBLT  6379>>ASSIGN
      6412>>IF       6415>>CALLBLT  6416>>ASSIGN   6469>>IF       6472>>CALLBLT  6473>>ASSIGN   6659>>IF
      6662>>CALLBLT  6663>>ASSIGN   6903>>IF       6906>>CALLBLT  6907>>ASSIGN
PARAM_TBL.TEXT
      2963**DCL      5995>>CALLBLT  6021>>CALLBLT  6032>>CALLBLT  6043>>CALLBLT  6089>>CALLBLT  6132>>CALLBLT
      6167>>CALLBLT  6347>>CALLBLT  6360>>CALLBLT  6369>>CALLBLT  6376>>CALLBLT  6415>>CALLBLT  6472>>CALLBLT
      6662>>CALLBLT  6906>>CALLBLT
PARAM_X2_DONE IN PROCEDURE DECODE_PARAM_X2
      6049**LABEL    6003--GOTO     6009--GOTO     6027--GOTO     6038--GOTO
PR54_BELT.CODE
      2830**DCL      5666>>IF
PR54_BELT_TBL.CODE
      1678**DCL      5666>>IF
PR54_BELT_TBL.COUNT
      1678**DCL      5669>>ASSIGN
PR54_BELT_TBL.TEXT
      1679**DCL      5668>>ASSIGN
PR54_BYTE
      2824**DCL      5722<<ASSIGN   5723<<ASSIGN   5725>>IF       5735<<ASSIGN   5736<<ASSIGN   5738>>IF
PR71FMT1
      2858**DCL      5779--ASSIGN
PR71FMT3
      2859**DCL      5789--ASSIGN
PR71_BELT.CODE
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:717  
      2833**DCL      5765>>IF
PR71_BELT_TBL.CODE
      1679**DCL      5765>>IF
PR71_BELT_TBL.COUNT
      1679**DCL      5768>>ASSIGN
PR71_BELT_TBL.TEXT
      1679**DCL      5767>>ASSIGN
PR71_BUF
      2860**DCL      3690--DCLINIT  3692--DCLINIT
PR71_BUF.STRING
      2862**DCL      5775<<ASSIGN   5781>>ASSIGN   5785<<ASSIGN   5791>>ASSIGN
PR71_REG1
      2834**DCL      5778--ASSIGN   5788--ASSIGN
PR71_REG1.BYT1
      2835**DCL      5776<<ASSIGN   5786<<ASSIGN
PR71_REG1.BYT2
      2836**DCL      5777<<ASSIGN   5787<<ASSIGN
PR71_VECTOR_TBL
      2863**DCL      3702--DCLINIT  5778<<ASSIGN   5788<<ASSIGN
PRNTR_REG
      2823**DCL      5696<<ASSIGN   5697<<ASSIGN   5700>>IF       5711>>IF
PROCERR_DONE
      4823**LABEL    4814--GOTO
PROCERR_SS
      2849**DCL      4819--CALL
PTR_BELT
      2825**DCL      2828--REDEF    2831--REDEF
PTR_BELT.BYT1
      2826**DCL      5663<<ASSIGN   5762<<ASSIGN
PTR_BELT.BYT2
      2827**DCL      5664<<ASSIGN   5763<<ASSIGN
QUAD# IN PROCEDURE EDAC
      4946**DCL      4985<<ASSIGN   4986>>IF       4992>>ASSIGN   5014<<ASSIGN   5015>>CALLBLT  5015>>CALLBLT
QUAD_4K IN PROCEDURE EDAC
      4932**DCL      4985>>ASSIGN
RECORD.TYPE
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:718  
      3341**DCL      3341--REDEF    3782>>ASSIGN   4668>>IF       4668>>IF       4668>>IF       4668>>IF
      4675>>IF       4681>>IF       4683>>ASSIGN
RECORD.UTS
      3341**DCL      3780>>ASSIGN
REGISTER_TBL.CODE
      1681**DCL      5700>>IF
REGISTER_TBL.COUNT
      1681**DCL      5703>>ASSIGN
REGISTER_TBL.TEXT
      1682**DCL      5702>>ASSIGN
SCUN
      3057**DCL      4101<<CALLBLT  4102>>CALLBLT
SCU_DEVN
      3060**DCL      4100<<ASSIGN   4102<<CALLBLT  4103<>CALL
SE
      3054**DCL      3808<<ASSIGN   3909<<ASSIGN   3913<<ASSIGN   3918<<ASSIGN   3922<<ASSIGN   3926<<ASSIGN
      4513<<ASSIGN   4517<<ASSIGN   4522<<ASSIGN   4526<<ASSIGN   4530<<ASSIGN   4662>>CALLBLT
SEC$
      3062**DCL      3802<<ASSIGN   4652<>CALL     4655<>CALL     4659<>CALL     4663<>CALL     4667>>ASSIGN
SECBUF
      3061**DCL      3801<<ASSIGN   3802--ASSIGN   4666--ASSIGN   4667--ASSIGN
SECTOR
      3051**DCL      3904<<ASSIGN   3907>>ASSIGN   3908>>ASSIGN   3909>>ASSIGN   3911>>ASSIGN   3912>>ASSIGN
      3913>>ASSIGN   3916>>ASSIGN   3917>>ASSIGN   3918>>ASSIGN   3920>>ASSIGN   3921>>ASSIGN   3922>>ASSIGN
      3924>>ASSIGN   3925>>ASSIGN   3926>>ASSIGN   4508<<ASSIGN   4511>>ASSIGN   4512>>ASSIGN   4513>>ASSIGN
      4515>>ASSIGN   4516>>ASSIGN   4517>>ASSIGN   4520>>ASSIGN   4521>>ASSIGN   4522>>ASSIGN   4524>>ASSIGN
      4525>>ASSIGN   4526>>ASSIGN   4528>>ASSIGN   4529>>ASSIGN   4530>>ASSIGN   4658>>CALLBLT
SECVEC
      3080**DCL      4666<<ASSIGN   4673<>CALL     4679<>CALL     4694<>CALL
SECVEC.BOUND
      3081**DCL      4667<<ASSIGN
SEEK_ADDR
      3079**DCL      4651<<ASSIGN   4652<>CALL     4658<<CALLBLT  4659<>CALL
SEVEN_TRK_HDR
      3150**DCL      3153--DCLINIT
SIZ IN PROCEDURE ADD_TEXTC
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:719  
      4875**DCL      4873--PROC     4874--IMP-SIZ  4878--IMP-SIZ  4880>>ASSIGN   4881>>ASSIGN   4881>>ASSIGN
      4882>>ASSIGN
SORRY_NO_STATS IN PROCEDURE THF$IOERR
      5179**LABEL    5174--CALLALT
SPBIT$
      3115**DCL      3116--IMP-PTR  4428>>IF       5240>>IF
SPC$
      3118**DCL      3110--IMP-PTR  4421<<ASSIGN   4428>>IF       4430>>ASSIGN   4431>>ASSIGN   5233<<ASSIGN
      5240>>IF       5242>>ASSIGN   5243>>ASSIGN
SPTBL.CODE
      3111**DCL      4428>>IF       5240>>IF
SPTBL.COUNT
      3112**DCL      4431>>ASSIGN   5243>>ASSIGN
SPTBL.TEXT
      3113**DCL      4430>>ASSIGN   5242>>ASSIGN
SP_BIT
      3114**DCL      3115--DCLINIT  4415<<ASSIGN   4416<<ASSIGN   5227<<ASSIGN   5228<<ASSIGN
SP_CASES.BYTEN
      1686**DCL      4419>>IF       5231>>IF
SP_CASES.COUNT
      1687**DCL      4422>>ASSIGN   5234>>ASSIGN
SP_CASES.SUB$
      1686**DCL      4421>>ASSIGN   5233>>ASSIGN
SP_CHAR
      3116**DCL      4428>>IF       5240>>IF
STATS$
      2890**DCL      2891--IMP-PTR  2900--IMP-PTR  2917--IMP-PTR  2931--IMP-PTR  4533<<ASSIGN   4538>>ASSIGN
      4538>>ASSIGN   4540>>ASSIGN   4540>>ASSIGN   4540>>ASSIGN   4540>>ASSIGN   4540>>ASSIGN   4540>>ASSIGN
      4548>>ASSIGN   4548>>ASSIGN   4553<<ASSIGN   4554>>ASSIGN   4554>>ASSIGN   4554>>ASSIGN   4554>>ASSIGN
      4558>>ASSIGN   4558>>ASSIGN   4558>>ASSIGN   4558>>ASSIGN   4562>>ASSIGN   4562>>ASSIGN   4562>>ASSIGN
      4562>>ASSIGN   4566>>ASSIGN   4566>>ASSIGN   4566>>ASSIGN   4566>>ASSIGN   4570>>ASSIGN   4570>>ASSIGN
      4570>>ASSIGN   4570>>ASSIGN   4574>>ASSIGN   4574>>ASSIGN   4574>>ASSIGN   4574>>ASSIGN   4574>>ASSIGN
      4574>>ASSIGN   4574>>ASSIGN   4574>>ASSIGN
STATUS$ IN PROCEDURE EDAC
      4950**DCL      4922--PROC     4982>>IF       4984>>ASSIGN   4985>>ASSIGN   4992>>ASSIGN   4995>>CALLBLT
      5000>>CALLBLT  5005>>ASSIGN   5012>>ASSIGN   5012>>ASSIGN   5014>>ASSIGN
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:720  
STATUS_DATA
      3136**DCL      3138--DCLINIT
STATUS_FMT
      3138**DCL      5157<>CALL
STRT
      2844**DCL      4027<<ASSIGN   4040>>CALLBLT  4041<<ASSIGN   4041>>ASSIGN   4054>>CALLBLT  4055<<ASSIGN
      4055>>ASSIGN   4056<>CALL
TBL_EIGHTY_TWO.CODE
      1696**DCL      5427>>IF
TBL_SIX.CODE
      1696**DCL      5441>>IF
TBL_SIX_TEN.CODE
      1697**DCL      5449>>IF
TBL_SIX_THIRTY.CODE
      1697**DCL      5454>>IF
TBUF
      2952**DCL      3258--DCLINIT  3259--DCLINIT  3783--CALL
TBUF.C IN PROCEDURE ADD_TEXTC
      4878**DCL      4881<<ASSIGN
TBUF.N IN PROCEDURE ADD_TEXTC
      4877**DCL      4880<<ASSIGN
TBUF IN PROCEDURE BUILDTIME
      4857**DCL      4869--ASSIGN
TBUF.DATE IN PROCEDURE BUILDTIME
      4861**DCL      4865--ASSIGN
TBUF.N IN PROCEDURE BUILDTIME
      4858**DCL      4863<<ASSIGN
TBUF.TIME IN PROCEDURE BUILDTIME
      4859**DCL      4864--ASSIGN
TBUF IN PROCEDURE ERROR_CODE
      4892**DCL      4916--ASSIGN
TBUF.C IN PROCEDURE ERROR_CODE
      4894**DCL      4895--REDEF    4896--REDEF    4906<<CALLBLT  4909<<CALLBLT  4912<<CALLBLT  4913<<CALLBLT
      4914<<CALLBLT  4915--ASSIGN
TBUF.C_ARRAY IN PROCEDURE ERROR_CODE
      4895**DCL      4901<<ASSIGN
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:721  
TBUF.C_UBIN IN PROCEDURE ERROR_CODE
      4896**DCL      4903<<ASSIGN   4904<<ASSIGN
TBUF.N IN PROCEDURE ERROR_CODE
      4893**DCL      4915<<ASSIGN
TEMP
      2839**DCL      4318<<CALLBLT  4321<<CALLBLT  4324<<CALLBLT  4327<<CALLBLT  4328<<CALLBLT  4330>>DOWHILE
      4340<>CALL
TEMP1
      2840**DCL      4028<<CALLBLT  4030>>DOWHILE  4040>>CALLBLT  4042<<CALLBLT  4044>>DOWHILE  4054>>CALLBLT
      4068<<CALLBLT  4070>>DOWHILE  4080>>CALLBLT  4605<<CALLBLT  4606>>CALLBLT  4606--CALLBLT  4607<<CALLBLT
      4608>>CALLBLT  4608--CALLBLT  4615<<CALLBLT  4616>>CALLBLT  4616--CALLBLT  4617<<CALLBLT  4618>>CALLBLT
      4618--CALLBLT
TEMP2
      2841**DCL      4040<<CALLBLT  4054<<CALLBLT  4056<>CALL     4080<<CALLBLT  4081<>CALL     4606<<CALLBLT
      4608<<CALLBLT  4609<>CALL     4616<<CALLBLT  4618<<CALLBLT  4619<>CALL
TEMPBUF
      3064**DCL      3804<<ASSIGN   4538<<ASSIGN   4540<<ASSIGN   4548<<ASSIGN   4554<<ASSIGN   4558<<ASSIGN
      4562<<ASSIGN   4566<<ASSIGN   4570<<ASSIGN   4574<<ASSIGN   4634--ASSIGN
TEMP_STATUS
      2864**DCL      2865--REDEF    4347<<ASSIGN   4353>>ASSIGN   5168<<ASSIGN   5172>>ASSIGN
TEMP_STATUS1.CHANNEL
      2871**DCL      4352>>ASSIGN   5171>>ASSIGN
TEMP_STATUS1.FAULT_CODE
      2873**DCL      4351>>ASSIGN   5170>>ASSIGN
TEMP_STATUS1.MAJOR_STATUS
      2866**DCL      4348>>IF       5169>>IF
TEMP_STATUS1.XX
      2867**DCL      4351<<ASSIGN   5170<<ASSIGN
TEMP_STATUS1.YY
      2869**DCL      4352<<ASSIGN   5171<<ASSIGN
TEMP_VLR
      3317**DCL      3227--DCLINIT
TEXT$
      2883**DCL      2884--IMP-PTR  3798<<ASSIGN   3867>>ASSIGN   3868>>ASSIGN   3869>>ASSIGN   3870>>CALLBLT
      3871<<ASSIGN   3871>>ASSIGN   3895<<ASSIGN   3895>>ASSIGN   3943<<ASSIGN   3943>>ASSIGN   4585<>CALL
      4587<>CALL     4589<>CALL     4591<>CALL     4593<>CALL     4595<>CALL     4597<>CALL     4599<>CALL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:722  
      4601<>CALL     4635>>IF       4640>>ASSIGN   4857--IMP-PTR  4863>>ASSIGN   4864>>ASSIGN   4865>>ASSIGN
      4869<<ASSIGN   4869>>ASSIGN   4876--IMP-PTR  4880>>ASSIGN   4881>>ASSIGN   4882<<ASSIGN   4882>>ASSIGN
      4892--IMP-PTR  4901>>ASSIGN   4903>>ASSIGN   4904>>ASSIGN   4906>>CALLBLT  4909>>CALLBLT  4912>>CALLBLT
      4913>>CALLBLT  4914>>CALLBLT  4915>>ASSIGN   4916<<ASSIGN   4916>>ASSIGN   5589<<ASSIGN   5599<<ASSIGN
      5640>>ASSIGN   5647<<ASSIGN
TEXTBUF
      2853**DCL      3797<<ASSIGN   3798--ASSIGN   3881<<CALLBLT  3884<<CALLBLT  3887<<CALLBLT  3892<<CALLBLT
      3896<<CALLBLT  3929<<CALLBLT  3932<<CALLBLT  3935<<CALLBLT  3940<<CALLBLT  3944<<CALLBLT  4635--IF
      4639--ASSIGN   4640--ASSIGN   5588<<ASSIGN   5589--ASSIGN   5599--ASSIGN   5639--ASSIGN   5640--ASSIGN
      5646<<ASSIGN   5647--ASSIGN
THF$ADD_TEXTC
      2804**DCL-ENT  4357--CALL     4358--CALL     4361--CALL     4362--CALL     4392--CALL     4498--CALL
      4585--CALL     4587--CALL     4589--CALL     4591--CALL     4593--CALL     4595--CALL     4597--CALL
      4599--CALL     4601--CALL     4652--CALL     4655--CALL     4659--CALL     4663--CALL     4736--CALL
      4741--CALL     4748--CALL     4786--CALL     4797--CALL     5175--CALL     5176--CALL     5179--CALL
      5180--CALL     5504--CALL     5552--CALL     5577--CALL     5751--CALL     5802--CALL     5969--CALL
      5988--CALL     5997--CALL     6014--CALL     6024--CALL     6035--CALL     6046--CALL     6079--CALL
      6091--CALL     6122--CALL     6134--CALL     6160--CALL     6169--CALL     6184--CALL     6201--CALL
      6212--CALL     6234--CALL     6247--CALL     6261--CALL     6280--CALL     6291--CALL     6309--CALL
      6337--CALL     6349--CALL     6366--CALL     6373--CALL     6380--CALL     6405--CALL     6417--CALL
      6437--CALL     6462--CALL     6474--CALL     6493--CALL     6508--CALL     6522--CALL     6534--CALL
      6549--CALL     6562--CALL     6576--CALL     6595--CALL     6606--CALL     6624--CALL     6652--CALL
      6664--CALL     6679--CALL     6690--CALL     6713--CALL     6745--CALL     6759--CALL     6767--CALL
      6773--CALL     6778--CALL     6784--CALL     6789--CALL     6798--CALL     6803--CALL     6812--CALL
      6836--CALL     6844--CALL     6851--CALL     6861--CALL     6869--CALL     6877--CALL     6899--CALL
      6908--CALL
THF$CSHERR
      2800**DCL-ENT  4812--CALL
THF$DUMP
      2801**DCL-ENT  3787--CALL     4729--CALL     4821--CALL
THF$FEPERR
      5583**PROC     3794--CALL
THF$HEXDUMP
      2802**DCL-ENT  4723--CALL
THF$HISTORY
      2803**DCL-ENT  4825--CALL
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:723  
THF$IOERR
      5023**PROC     3792--CALL
THF$STATUS
      2805**DCL-ENT  4355--CALL     5174--CALL
THW$WRITE
      2799**DCL-ENT  3783--CALL     4673--CALL     4679--CALL     4694--CALL     4704--CALL     4716--CALL
      4717--CALL     4721--CALL     4728--CALL     4745--CALL     4807--CALL     4819--CALL     5043--CALL
      5137--CALL     5139--CALL     5140--CALL     5149--CALL     5155--CALL     5157--CALL     5164--CALL
      5591--CALL     5642--CALL     5650--CALL
TH_CONSTRAINTS.E_BY_B
       720**DCL       720--REDEF
TH_CONSTRAINTS.M_BY_B
       719**DCL       719--REDEF
TH_CONSTRAINTS.M_MED
       718**DCL      4690>>IF
TH_CONSTRAINTS.M_MED_S
       719**DCL      4690>>IF
TH_CONSTRAINTS.TYPES
       717**DCL       717--REDEF
TH_DEFAULT.E_BY_B
       728**DCL       728--REDEF
TH_DEFAULT.M_BY_B
       727**DCL       727--REDEF
TH_DEFAULT.TYPES
       725**DCL       725--REDEF
TH_DETAIL_FLG
       756**DCL      3791>>IF       3793>>IF       4650>>IF       5503>>IF       5551>>IF       5575>>IF
TH_EOF_FLG
       757**DCL      5049>>IF       5050>>IF       5161>>IF       5597>>IF       5598>>IF       5644>>IF
TH_FEPERR_FLG
       756**DCL      3793>>IF
TH_FIRST_TIME
       756**DCL      5026>>IF       5050>>IF       5332>>IF       5332<<ASSIGN   5586>>IF       5594<<ASSIGN
      5598>>IF
TH_INFO
       746**DCL      3796>>ASSIGN
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:724  
TH_IOERR_FLG
       756**DCL      3791>>IF
TH_ITYPE
       747**DCL      3775>>IF       3775>>IF       3776<<ASSIGN   3777>>ASSIGN   3778>>IF       3809>>DOCASE
      3823>>IF       4537<<ASSIGN   4547<<ASSIGN   4551>>ASSIGN   4630>>IF       4630>>IF       4630>>IF
      4630>>IF       4649>>IF       4649>>IF       4690>>IF       4690>>IF       4696>>DOCASE
TH_LASTTYPE
       747**DCL      3788<<ASSIGN   4668>>IF       4668>>IF       4668>>IF       4683<<ASSIGN   4684<<ASSIGN
      4685>>IF       4685>>IF       4686<<ASSIGN   4687>>IF       4688<<ASSIGN   4727<<ASSIGN   4811<<ASSIGN
      4818<<ASSIGN
TH_LAST_DEVTYPE
       749**DCL      4675>>IF       4682<<ASSIGN
TH_LAST_REQID
       751**DCL      4341>>IF       4344<<ASSIGN
TH_NUM_DEVS
       744**DCL      3899>>DOINDEX
TH_RAW_FLG
       756**DCL      4675>>IF
TH_RECORD.PTR$
       745**DCL      3341--IMP-PTR  3780>>ASSIGN   3782>>ASSIGN   3787<>CALL     4668>>IF       4668>>IF
      4668>>IF       4668>>IF       4675>>IF       4681>>IF       4683>>ASSIGN
TH_RECOV
       751**DCL      3775>>IF
TH_SAVE.E_BY_B
       736**DCL       736--REDEF
TH_SAVE.M_BY_B
       734**DCL       734--REDEF
TH_SAVE.TYPES
       732**DCL       733--REDEF
TH_SYS_DEVS.DEVN
       743**DCL      3900>>IF
TH_SYS_DEVS.MODEL
       743**DCL      3905>>DOSELCT
TH_TIME
       748**DCL      4673--CALL     4679--CALL     4694--CALL
TH_XSA_BUF_VECTOR
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:725  
       752**DCL       752--REDEF    5030>>ASSIGN   5052>>ASSIGN   5590>>ASSIGN   5600>>ASSIGN
TRACK_NINE
      3184**DCL      5142>>IF       5363<<ASSIGN   5415<<ASSIGN   5433>>IF       5436>>IF       5468<<ASSIGN
TRACK_SEVEN
      3185**DCL      5433>>IF       5467<<ASSIGN
TSTAMP IN PROCEDURE BUILDTIME
      4837**DCL      4866--ASSIGN   4867<<ASSIGN
TVEC
      2874**DCL      4634<<ASSIGN   4636<<ASSIGN   4639<<ASSIGN   4673<>CALL     4679<>CALL     4694<>CALL
      5639<<ASSIGN   5642<>CALL
TVEC.BOUND
      2875**DCL      4640<<ASSIGN   5640<<ASSIGN
TXT IN PROCEDURE ADD_TEXTC
      4874**DCL      4873--PROC     4881>>ASSIGN
TYPE
      2949**DCL      3782<<ASSIGN   3783--CALL
UTS IN PROCEDURE BUILDTIME
      4836**DCL      4835--PROC     4867>>ASSIGN
X
      2822**DCL      5143<<DOINDEX  5144>>IF       5145>>CALLBLT  5145>>CALLBLT  5146>>CALLBLT  5146>>CALLBLT
      5276<<ASSIGN   5277>>DOWHILE  5278>>IF       5279>>ASSIGN   5279>>ASSIGN   5282<<ASSIGN   5282>>ASSIGN
      5284<<ASSIGN   5289>>DOWHILE  5290>>IF       5291>>ASSIGN   5292>>ASSIGN   5292>>ASSIGN   5296<<ASSIGN
      5296>>ASSIGN   5362<<DOINDEX  5363>>IF       5414<<DOINDEX  5415>>IF       5426<<DOINDEX  5427>>IF
      5440<<DOINDEX  5441>>IF       5448<<DOINDEX  5449>>IF       5453<<DOINDEX  5454>>IF       5665<<DOINDEX
      5666>>IF       5668>>ASSIGN   5669>>ASSIGN   5699<<DOINDEX  5700>>IF       5702>>ASSIGN   5703>>ASSIGN
      5710<<DOINDEX  5711>>IF       5713>>ASSIGN   5714>>ASSIGN   5724<<DOINDEX  5725>>IF       5727>>ASSIGN
      5728>>ASSIGN   5737<<DOINDEX  5738>>IF       5740>>ASSIGN   5741>>ASSIGN   5764<<DOINDEX  5765>>IF
      5767>>ASSIGN   5768>>ASSIGN   5819<<DOINDEX  5820>>ASSIGN   5820>>ASSIGN   5822<<DOINDEX  5823>>ASSIGN
      5823>>ASSIGN   5844<<DOINDEX  5845>>IF       5847>>ASSIGN   5848>>CALLBLT  5848>>CALLBLT  5991<<DOINDEX
      5992>>IF       6085<<DOINDEX  6086>>IF       6128<<DOINDEX  6129>>IF       6163<<DOINDEX  6164>>IF
      6204<<DOINDEX  6205>>IF       6208>>CALLBLT  6208>>CALLBLT  6211>>ASSIGN   6240<<DOINDEX  6241>>IF
      6244>>CALLBLT  6244>>CALLBLT  6246>>ASSIGN   6255<<DOINDEX  6256>>ASSIGN   6256>>ASSIGN   6257>>ASSIGN
      6257>>ASSIGN   6272<<DOINDEX  6273>>ASSIGN   6302<<DOINDEX  6303>>IF       6306>>CALLBLT  6306>>CALLBLT
      6308>>ASSIGN   6343<<DOINDEX  6344>>IF       6411<<DOINDEX  6412>>IF       6430<<DOINDEX  6431>>CALLBLT
      6431>>CALLBLT  6468<<DOINDEX  6469>>IF       6555<<DOINDEX  6556>>IF       6559>>CALLBLT  6559>>CALLBLT
      6561>>ASSIGN   6570<<DOINDEX  6571>>ASSIGN   6571>>ASSIGN   6572>>ASSIGN   6572>>ASSIGN   6587<<DOINDEX
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:726  
      6588>>ASSIGN   6617<<DOINDEX  6618>>IF       6621>>CALLBLT  6621>>CALLBLT  6623>>ASSIGN   6658<<DOINDEX
      6659>>IF       6684<<DOINDEX  6685>>CALLBLT  6685>>CALLBLT  6706<<DOINDEX  6707>>IF       6827<<DOINDEX
      6828>>ASSIGN   6828>>ASSIGN   6902<<DOINDEX  6903>>IF
X$FORMAT
      2806**DCL-ENT  5780--CALL     5790--CALL
XST$
      3021**DCL      3022--IMP-PTR  4391<<ASSIGN   4392<>CALL     4498<>CALL     4703>>ASSIGN   4714>>ASSIGN
      5504<>CALL     5552<>CALL     5577<>CALL     5751<>CALL     5802<>CALL     5969<>CALL     5988<>CALL
      5997<>CALL     6014<>CALL     6024<>CALL     6035<>CALL     6046<>CALL     6079<>CALL     6091<>CALL
      6122<>CALL     6134<>CALL     6160<>CALL     6169<>CALL     6184<>CALL     6201<>CALL     6212<>CALL
      6234<>CALL     6247<>CALL     6261<>CALL     6280<>CALL     6291<>CALL     6309<>CALL     6337<>CALL
      6349<>CALL     6366<>CALL     6373<>CALL     6380<>CALL     6405<>CALL     6417<>CALL     6437<>CALL
      6462<>CALL     6474<>CALL     6493<>CALL     6508<>CALL     6522<>CALL     6534<>CALL     6549<>CALL
      6562<>CALL     6576<>CALL     6595<>CALL     6606<>CALL     6624<>CALL     6652<>CALL     6664<>CALL
      6679<>CALL     6690<>CALL     6713<>CALL     6745<>CALL     6759<>CALL     6767<>CALL     6773<>CALL
      6778<>CALL     6784<>CALL     6789<>CALL     6798<>CALL     6803<>CALL     6812<>CALL     6836<>CALL
      6844<>CALL     6851<>CALL     6861<>CALL     6869<>CALL     6877<>CALL     6899<>CALL     6908<>CALL
XSTATUS_BYTE
      2976**DCL      2977--REDEF    5820<<ASSIGN   5825>>IF       5827>>IF       5829>>IF       5829>>IF
      5845>>IF       5853>>IF       5911>>ASSIGN   5917>>ASSIGN
XSTATUS_NIBBLE
      2977**DCL      5836>>CALLBLT  5836>>CALLBLT  5840>>CALLBLT  5840>>CALLBLT  5865>>CALLBLT  5866>>CALLBLT
      5870>>CALLBLT  5870>>CALLBLT  5874>>CALLBLT  5874>>CALLBLT  5878>>CALLBLT  5878>>CALLBLT  5878>>CALLBLT
      5890>>CALLBLT  5891>>DOCASE   5912>>CALLBLT  5912>>CALLBLT  5926>>IF
XSTAT_TBL.COUNT
      3167**DCL      5157--CALL     5279<<ASSIGN   5279>>ASSIGN   5292<<ASSIGN   5292>>ASSIGN   5310<<ASSIGN
      5310>>ASSIGN   5476<<ASSIGN
XSTAT_TBL.TEXT
      3168**DCL      5157--CALL     5278>>IF       5290>>IF       5291<<ASSIGN   5309<<ASSIGN   5475<<ASSIGN
XSTBUF
      3024**DCL      4391--ASSIGN   4701--ASSIGN   4702--ASSIGN   4703--ASSIGN   4709--ASSIGN   4713--ASSIGN
      4714--ASSIGN
XSTVEC
      3025**DCL      4702<<ASSIGN   4704<>CALL     4713<<ASSIGN   4716<>CALL     4717<>CALL
XSTVEC.BOUND
      3026**DCL      4703<<ASSIGN   4714<<ASSIGN
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:727  
XST_CNT
      3032**DCL      4431<<ASSIGN   4458<<ASSIGN   4472<<ASSIGN   4496<<ASSIGN   4498<>CALL     5243<<ASSIGN
      5267<<ASSIGN   5491<<ASSIGN   5496<<ASSIGN   5501<<ASSIGN   5504<>CALL     5546<<ASSIGN   5552<>CALL
      5571<<ASSIGN   5577<>CALL     5669<<ASSIGN   5677<<ASSIGN   5681<<ASSIGN   5685<<ASSIGN   5689<<ASSIGN
      5693<<ASSIGN   5703<<ASSIGN   5714<<ASSIGN   5728<<ASSIGN   5741<<ASSIGN   5749<<ASSIGN   5751<>CALL
      5768<<ASSIGN   5781<<ASSIGN   5791<<ASSIGN   5797<<ASSIGN   5802<>CALL     5814<<ASSIGN   5847<<ASSIGN
      5847>>ASSIGN   5855<<ASSIGN   5860<<ASSIGN   5886<<ASSIGN   5894<<ASSIGN   5894>>ASSIGN   5897<<ASSIGN
      5897>>ASSIGN   5900<<ASSIGN   5900>>ASSIGN   5903<<ASSIGN   5903>>ASSIGN   5906<<ASSIGN   5906>>ASSIGN
      5923<<ASSIGN   5923>>ASSIGN   5929<<ASSIGN   5933<<ASSIGN   5933>>ASSIGN   5969<>CALL     5987<<ASSIGN
      5988<>CALL     5996<<ASSIGN   5997<>CALL     6013<<ASSIGN   6014<>CALL     6023<<ASSIGN   6024<>CALL
      6034<<ASSIGN   6035<>CALL     6045<<ASSIGN   6046<>CALL     6078<<ASSIGN   6079<>CALL     6090<<ASSIGN
      6091<>CALL     6121<<ASSIGN   6122<>CALL     6133<<ASSIGN   6134<>CALL     6159<<ASSIGN   6160<>CALL
      6168<<ASSIGN   6169<>CALL     6183<<ASSIGN   6184<>CALL     6200<<ASSIGN   6201<>CALL     6211<<ASSIGN
      6212<>CALL     6233<<ASSIGN   6234<>CALL     6246<<ASSIGN   6247<>CALL     6260<<ASSIGN   6261<>CALL
      6279<<ASSIGN   6280<>CALL     6290<<ASSIGN   6291<>CALL     6308<<ASSIGN   6309<>CALL     6336<<ASSIGN
      6337<>CALL     6348<<ASSIGN   6349<>CALL     6365<<ASSIGN   6366<>CALL     6372<<ASSIGN   6373<>CALL
      6379<<ASSIGN   6380<>CALL     6404<<ASSIGN   6405<>CALL     6416<<ASSIGN   6417<>CALL     6436<<ASSIGN
      6437<>CALL     6461<<ASSIGN   6462<>CALL     6473<<ASSIGN   6474<>CALL     6492<<ASSIGN   6493<>CALL
      6507<<ASSIGN   6508<>CALL     6521<<ASSIGN   6522<>CALL     6533<<ASSIGN   6534<>CALL     6548<<ASSIGN
      6549<>CALL     6561<<ASSIGN   6562<>CALL     6575<<ASSIGN   6576<>CALL     6594<<ASSIGN   6595<>CALL
      6605<<ASSIGN   6606<>CALL     6623<<ASSIGN   6624<>CALL     6651<<ASSIGN   6652<>CALL     6663<<ASSIGN
      6664<>CALL     6678<<ASSIGN   6679<>CALL     6689<<ASSIGN   6690<>CALL     6712<<ASSIGN   6713<>CALL
      6722<<ASSIGN   6725<<ASSIGN   6728<<ASSIGN   6731<<ASSIGN   6734<<ASSIGN   6737<<ASSIGN   6740<<ASSIGN
      6743<<ASSIGN   6745<>CALL     6758<<ASSIGN   6759<>CALL     6766<<ASSIGN   6767<>CALL     6772<<ASSIGN
      6773<>CALL     6777<<ASSIGN   6778<>CALL     6783<<ASSIGN   6784<>CALL     6788<<ASSIGN   6789<>CALL
      6797<<ASSIGN   6798<>CALL     6802<<ASSIGN   6803<>CALL     6811<<ASSIGN   6812<>CALL     6835<<ASSIGN
      6836<>CALL     6843<<ASSIGN   6844<>CALL     6850<<ASSIGN   6851<>CALL     6860<<ASSIGN   6861<>CALL
      6868<<ASSIGN   6869<>CALL     6876<<ASSIGN   6877<>CALL     6898<<ASSIGN   6899<>CALL     6907<<ASSIGN
      6908<>CALL
XST_TEMP.N
      3023**DCL      4701<<ASSIGN   4709<<ASSIGN
XST_TEXT
      3029**DCL      4430<<ASSIGN   4457<<ASSIGN   4471<<ASSIGN   4495<<ASSIGN   4498<>CALL     5242<<ASSIGN
      5257<<ASSIGN   5266<<ASSIGN   5278>>IF       5291>>ASSIGN   5301>>ASSIGN   5303>>ASSIGN   5305>>ASSIGN
      5307>>ASSIGN   5309>>ASSIGN   5490<<ASSIGN   5495<<ASSIGN   5500<<ASSIGN   5504<>CALL     5545<<ASSIGN
      5552<>CALL     5570<<ASSIGN   5577<>CALL     5668<<ASSIGN   5677<<ASSIGN   5681<<ASSIGN   5685<<ASSIGN
PL6.E3A0      #001=THF$RAW File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:08 Page:728  
      5689<<ASSIGN   5693<<ASSIGN   5702<<ASSIGN   5713<<ASSIGN   5727<<ASSIGN   5740<<ASSIGN   5748<<ASSIGN
      5751<>CALL     5767<<ASSIGN   5781<<ASSIGN   5791<<ASSIGN   5797<<ASSIGN   5802<>CALL
X_DEV_TYPE.COUNT
      1486**DCL      4384>>ASSIGN   5199>>ASSIGN
X_DEV_TYPE.DEV
      1486**DCL      4369>>IF       5188>>IF
X_DEV_TYPE.SUB$
      1486**DCL      4382>>ASSIGN   5197>>ASSIGN

PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:729  
     3615        1        /*M* THF$DUMP - ROUTINE TO DUMP ERROR LOG RECORDS IN OCTAL */
     3616        2        /*T***********************************************************/
     3617        3        /*T*                                                         */
     3618        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     3619        5        /*T*                                                         */
     3620        6        /*T***********************************************************/
     3621        7        THF$DUMP: PROC(INFO$,LEN,NOTEXT);
     3622        8        /*      In this procedure:
     3623        9
     3624       10             NWDS = The number of words to print per line.
     3625       11             RX = The index of the first word to be printed on the current line.
     3626       12             RSIZE = The total number of words to be output.
     3627       13             BUFSZ = The size of the output buffer.
     3628       14             BUFFER = The output buffer.
     3629       15             TX = The character index into BUFFER where the first translated
     3630       16                  character is to be placed.
     3631       17             RCSZ = How many characters to translate.
     3632       18                                                                */
     3633       19        /**/
     3634       20        /* PARAMS */
     3635       21    1   DCL INFO$ PTR;
     3636       22    1   DCL LEN UBIN;
     3637       23    1   DCL NOTEXT BIT(1) ALIGNED;    /* SET IF NO ASCII INTERPRETATION DESIRED     */
     3638       24        /**/
     3639       25        /* INCLUDE FILES */
     3640       26        %INCLUDE CP_6;
     3641      107        %INCLUDE EL$TABLES;
     3642      430        %INCLUDE F$DCB;
     3643      479        %INCLUDE TH_DATA_R;
     3644      557        %INCLUDE B$TABLES_C;
     3645      665             %B$XL_ASC_DUMP;
     3646      669        /**/
     3647      670        /* DCBS */
     3648      671    1   DCL M$LO DCB;
     3649      672        /**/
     3650      673        /* VARS */
     3651      674    1   DCL RSIZE UBIN;
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:730  
     3652      675    1   DCL BUFSZ SBIN;
     3653      676    1   DCL BUFFER CHAR(256);
     3654      677    1   DCL OCTNUM CHAR(12);
     3655      678    1   DCL OCTA(0:11) REDEF OCTNUM UBIN BYTE UNAL;
     3656      679    1   DCL NWDS UBIN;
     3657      680    1   DCL TEMPWDS UBIN WORD;
     3658      681    1   DCL TEMPLEN UBIN WORD;
     3659      682    1   DCL TEMPFMT CHAR(220) STATIC INIT(' ');
     3660      683    1   DCL FMT$ PTR STATIC INIT(ADDR(TEMPFMT));
     3661      684    1   DCL FMTBUF CHAR(FMTLEN) BASED(FMT$);
     3662      685    1   DCL FMTLEN UBIN;
     3663      686    1   DCL 1 HEX_FMT CONSTANT,
     3664      687    1         2 * CHAR(0) INIT(
     3665      688    1   '%4.32ZY %2P%8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY '),
     3666      689    1         2 * CHAR(0) INIT(
     3667      690    1   '%8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY '),
     3668      691    1         2 * CHAR(0) INIT(
     3669      692    1   '%8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY');
     3670      693    1   DCL HEXFMT REDEF HEX_FMT CHAR(218);
     3671      694    1   DCL END_FMT CHAR(0) CONSTANT INIT('%10P');
     3672      695    1   DCL I UBIN;
     3673      696    1   DCL RCSZ UBIN;
     3674      697    1   DCL R$ PTR;
     3675      698    1   DCL RBASE(0:0) UBIN BASED(R$);
     3676      699    1   DCL RCHAR CHAR(RCSZ) BASED(R$);
     3677      700    1   DCL RX UBIN;
     3678      701    1   DCL TX UBIN;
     3679      702    1   DCL WRITE_HDR CHAR(0) CONSTANT INIT('%A %10P');
     3680      703    1   DCL WRITE_FMT BIT(72) DALIGNED STATIC INIT(VECTOR(WRITE_HDR));
     3681      704        /**/
     3682      705        /* ENTRY DEFS */
     3683      706    1   DCL THW$WRITE ENTRY(11);
     3684      707    1        IF ADDR(LEN) = ADDR(NIL)
     3685      708    1           THEN RSIZE = (TH_RECORD.BOUND + 1)/4;
     3686      709    1           ELSE RSIZE = LEN;
     3687      710    1        BUFSZ = DCBADDR(DCBNUM(M$LO))->F$DCB.WIDTH - 1;
     3688      711    1        IF BUFSZ <= 0 THEN BUFSZ = 79;
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:731  
     3689      712    1        IF BUFSZ > 255 THEN BUFSZ = 255;
     3690      713    1        IF ADDR(NOTEXT) ~= ADDR(NIL) AND NOTEXT = '1'B
     3691      714    2        THEN DO;
     3692      715    2           NWDS = (BUFSZ-6)/13;
     3693      716    2           IF NWDS >= 8
     3694      717    2           THEN NWDS = 8;
     3695      718    2           ELSE IF NWDS >= 4
     3696      719    2                THEN NWDS = 4;
     3697      720    2           TX = 0;
     3698      721    2           END;
     3699      722    2        ELSE DO;
     3700      723    2           NWDS = (BUFSZ - 8)/17;
     3701      724    2           NWDS = NWDS - MOD(NWDS,2);
     3702      725    2           TX = 8 + 13 * NWDS;
     3703      726    2           END;
     3704      727    1        RX = 0;
     3705      728    2        DO WHILE (RSIZE > RX);
     3706      729    2           R$ = PINCRW(INFO$,RX);
     3707      730    2           CALL CVTOCT(RX);
     3708      731    2           SUBSTR(BUFFER,0,BUFSZ) = SUBSTR(OCTNUM,8);
     3709      732    3           DO I = 0 TO NWDS - 1;
     3710      733    3              IF (I + RX < RSIZE)
     3711      734    3                 THEN
     3712      735    4                 DO;
     3713      736    4                    CALL CVTOCT(RBASE(I));
     3714      737    4                    CALL INSERT(BUFFER,6+I*13,12,OCTNUM);
     3715      738    4                 END;                      /* IF I                               */
     3716      739    3           END;                            /* DO I                               */
     3717      740    2           IF RSIZE  > NWDS + RX
     3718      741    2              THEN RCSZ = NWDS * 4;
     3719      742    2              ELSE RCSZ = (RSIZE - RX) * 4;
     3720      743    2              IF TX > 0
     3721      744    2                 THEN CALL XLATE(SUBSTR(BUFFER,TX),B$XL_ASC_DUMP,RCHAR);
     3722      745    2              CALL THW$WRITE(WRITE_FMT,VECTOR(SUBSTR(BUFFER,0,BUFSZ)));
     3723      746    2              RX = RX + NWDS;
     3724      747    2        END;                               /* DO WHILE                           */
     3725      748    1        RETURN;
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:732  
     3726      749        %EJECT;
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:733  
     3727      750    1   THF$HEXDUMP:ENTRY(INFO$,LEN,NOTEXT);
     3728      751        /**/
     3729      752    1        RSIZE = LEN;
     3730      753    1        BUFSZ = DCBADDR(DCBNUM(M$LO))->F$DCB.WIDTH - 1;
     3731      754    1        IF BUFSZ <= 0 THEN BUFSZ = 80;
     3732      755    1        IF BUFSZ > 255 THEN BUFSZ = 255;
     3733      756    1        NWDS = (BUFSZ-6)/9;
     3734      757    1        NWDS = NWDS - MOD(NWDS,2);
     3735      758    1        RX = 0;
     3736      759    2        DO WHILE(RSIZE > RX);
     3737      760    2           R$ = PINCRW(INFO$,RX);
     3738      761    2           IF RSIZE > NWDS + RX
     3739      762    2              THEN TEMPWDS = NWDS;
     3740      763    2              ELSE TEMPWDS = RSIZE - RX;
     3741      764    2           RCSZ = TEMPWDS * 4;
     3742      765    2           TEMPLEN = 18 + 8 * (TEMPWDS - 1);
     3743      766    2           FMTLEN = TEMPLEN + SIZEC(END_FMT);
     3744      767    2           CALL INSERT(FMTBUF,0,FMTLEN,SUBSTR(HEXFMT,0,TEMPLEN),END_FMT);
     3745      768    2           CALL THW$WRITE(VECTOR(FMTBUF),VECTOR(RX),VECTOR(RCHAR));
     3746      769    2           RX = RX + NWDS;
     3747      770    2           END;  /* DO WHILE */
     3748      771    1        RETURN;
     3749      772        %EJECT;
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:734  
     3750      773    1   CVTOCT: PROC(X);
     3751      774    2   DCL X(0:11) UBIN(3) UNAL;
     3752      775    2   DCL I SBIN;
     3753      776    3           DO I = 0 TO 11;
     3754      777    3              OCTA(I) = X(I) + 48;
     3755      778    3           END;                            /* DO                                 */
     3756      779    2           RETURN;
     3757      780    2   END CVTOCT;
     3758      781    1   END THF$DUMP;
     3759      782        %EOD;

PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:735  
--  Include file information  --

   B$TABLES_C.:E05TOU  cannot be made into a system file and is referenced.
   TH_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   F$DCB.:E05TOU  cannot be made into a system file and is referenced.
   EL$TABLES.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure THF$DUMP.

   Procedure THF$DUMP requires 280 words for executable code.
   Procedure THF$DUMP requires 106 words of local(AUTO) storage.

PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:736  

 Object Unit name= THF$DUMP                                   File name= THF$FORMAT.:E05TOU
 UTS= JUL 30 '97 06:15:23.64 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   DCB   even  none     0      0  M$LO
    2   Data  even  none    58     72  THF$DUMP
    3  RoData even  UTS     58     72  THF$DUMP
    4   Proc  even  none   280    430  THF$DUMP
    5  RoData even  none     2      2  THF$DUMP

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     4      0   yes            yes      Std        3  THF$DUMP
     4    223                  yes      Std        3  THF$HEXDUMP

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes          ~proc      0 B_POINTER
         yes           Std      11 THW$WRITE
                       nStd      0 X66_AUTO_3
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:737  

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  TH_RECORD                             TH_XSA_BUF_VECTOR
r    B$XL_ASC_DUMP$                        M$LO                                  B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 ROSID
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:738  


     3615        1        /*M* THF$DUMP - ROUTINE TO DUMP ERROR LOG RECORDS IN OCTAL */
     3616        2        /*T***********************************************************/
     3617        3        /*T*                                                         */
     3618        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     3619        5        /*T*                                                         */
     3620        6        /*T***********************************************************/
     3621        7        THF$DUMP: PROC(INFO$,LEN,NOTEXT);

      7  4 000000   000000 700200 xent  THF$DUMP     TSX0  ! X66_AUTO_3
         4 000001   000152 000003                    ZERO    106,3

     3622        8        /*      In this procedure:
     3623        9
     3624       10             NWDS = The number of words to print per line.
     3625       11             RX = The index of the first word to be printed on the current line.
     3626       12             RSIZE = The total number of words to be output.
     3627       13             BUFSZ = The size of the output buffer.
     3628       14             BUFFER = The output buffer.
     3629       15             TX = The character index into BUFFER where the first translated
     3630       16                  character is to be placed.
     3631       17             RCSZ = How many characters to translate.
     3632       18                                                                */
     3633       19        /**/
     3634       20        /* PARAMS */
     3635       21    1   DCL INFO$ PTR;
     3636       22    1   DCL LEN UBIN;
     3637       23    1   DCL NOTEXT BIT(1) ALIGNED;    /* SET IF NO ASCII INTERPRETATION DESIRED     */
     3638       24        /**/
     3639       25        /* INCLUDE FILES */
     3640       26        %INCLUDE CP_6;
     3641      107        %INCLUDE EL$TABLES;
     3642      430        %INCLUDE F$DCB;
     3643      479        %INCLUDE TH_DATA_R;
     3644      557        %INCLUDE B$TABLES_C;
     3645      665             %B$XL_ASC_DUMP;
     3646      669        /**/
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:739  
     3647      670        /* DCBS */
     3648      671    1   DCL M$LO DCB;
     3649      672        /**/
     3650      673        /* VARS */
     3651      674    1   DCL RSIZE UBIN;
     3652      675    1   DCL BUFSZ SBIN;
     3653      676    1   DCL BUFFER CHAR(256);
     3654      677    1   DCL OCTNUM CHAR(12);
     3655      678    1   DCL OCTA(0:11) REDEF OCTNUM UBIN BYTE UNAL;
     3656      679    1   DCL NWDS UBIN;
     3657      680    1   DCL TEMPWDS UBIN WORD;
     3658      681    1   DCL TEMPLEN UBIN WORD;
     3659      682    1   DCL TEMPFMT CHAR(220) STATIC INIT(' ');
     3660      683    1   DCL FMT$ PTR STATIC INIT(ADDR(TEMPFMT));
     3661      684    1   DCL FMTBUF CHAR(FMTLEN) BASED(FMT$);
     3662      685    1   DCL FMTLEN UBIN;
     3663      686    1   DCL 1 HEX_FMT CONSTANT,
     3664      687    1         2 * CHAR(0) INIT(
     3665      688    1   '%4.32ZY %2P%8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY '),
     3666      689    1         2 * CHAR(0) INIT(
     3667      690    1   '%8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY '),
     3668      691    1         2 * CHAR(0) INIT(
     3669      692    1   '%8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY %8.36ZY');
     3670      693    1   DCL HEXFMT REDEF HEX_FMT CHAR(218);
     3671      694    1   DCL END_FMT CHAR(0) CONSTANT INIT('%10P');
     3672      695    1   DCL I UBIN;
     3673      696    1   DCL RCSZ UBIN;
     3674      697    1   DCL R$ PTR;
     3675      698    1   DCL RBASE(0:0) UBIN BASED(R$);
     3676      699    1   DCL RCHAR CHAR(RCSZ) BASED(R$);
     3677      700    1   DCL RX UBIN;
     3678      701    1   DCL TX UBIN;
     3679      702    1   DCL WRITE_HDR CHAR(0) CONSTANT INIT('%A %10P');
     3680      703    1   DCL WRITE_FMT BIT(72) DALIGNED STATIC INIT(VECTOR(WRITE_HDR));
     3681      704        /**/
     3682      705        /* ENTRY DEFS */
     3683      706    1   DCL THW$WRITE ENTRY(11);
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:740  
     3684      707    1        IF ADDR(LEN) = ADDR(NIL)

    707  4 000002   200004 236100                    LDQ     @LEN,,AUTO
         4 000003   000001 116000 xsym               CMPQ    B_VECTNIL+1
         4 000004   000013 601000 4                  TNZ     s:709

     3685      708    1           THEN RSIZE = (TH_RECORD.BOUND + 1)/4;

    708  4 000005   000000 236000 xsym               LDQ     TH_RECORD
         4 000006   000020 772000                    QRL     16
         4 000007   000001 036007                    ADLQ    1,DL
         4 000010   000002 772000                    QRL     2
         4 000011   200006 756100                    STQ     RSIZE,,AUTO
         4 000012   000016 710000 4                  TRA     s:710

     3686      709    1           ELSE RSIZE = LEN;

    709  4 000013   200004 470500                    LDP0    @LEN,,AUTO
         4 000014   000000 235100                    LDA     0,,PR0
         4 000015   200006 755100                    STA     RSIZE,,AUTO

     3687      710    1        BUFSZ = DCBADDR(DCBNUM(M$LO))->F$DCB.WIDTH - 1;

    710  4 000016   000000 236007 xsym               LDQ     M$LO,DL
         4 000017   000000 470400 5                  LDP0    0
         4 000020   000000 471500                    LDP1    0,,PR0
         4 000021   100000 473506                    LDP3    0,QL,PR1
         4 000022   300004 236100                    LDQ     4,,PR3
         4 000023   000777 376007                    ANQ     511,DL
         4 000024   000001 136007                    SBLQ    1,DL
         4 000025   200007 756100                    STQ     BUFSZ,,AUTO

     3688      711    1        IF BUFSZ <= 0 THEN BUFSZ = 79;

    711  4 000026   000031 605400 4                  TPNZ    s:712

    711  4 000027   000117 235007                    LDA     79,DL
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:741  
         4 000030   200007 755100                    STA     BUFSZ,,AUTO

     3689      712    1        IF BUFSZ > 255 THEN BUFSZ = 255;

    712  4 000031   200007 235100                    LDA     BUFSZ,,AUTO
         4 000032   000377 115007                    CMPA    255,DL
         4 000033   000036 604400 4                  TMOZ    s:713

    712  4 000034   000377 236007                    LDQ     255,DL
         4 000035   200007 756100                    STQ     BUFSZ,,AUTO

     3690      713    1        IF ADDR(NOTEXT) ~= ADDR(NIL) AND NOTEXT = '1'B

    713  4 000036   200005 236100                    LDQ     @NOTEXT,,AUTO
         4 000037   000001 116000 xsym               CMPQ    B_VECTNIL+1
         4 000040   000063 600000 4                  TZE     s:723
         4 000041   200005 473500                    LDP3    @NOTEXT,,AUTO
         4 000042   300000 234100                    SZN     0,,PR3
         4 000043   000063 605000 4                  TPL     s:723

     3691      714    2        THEN DO;

     3692      715    2           NWDS = (BUFSZ-6)/13;

    715  4 000044   200007 236100                    LDQ     BUFSZ,,AUTO
         4 000045   000006 136007                    SBLQ    6,DL
         4 000046   000015 506007                    DIV     13,DL
         4 000047   200113 756100                    STQ     NWDS,,AUTO

     3693      716    2           IF NWDS >= 8

    716  4 000050   000010 116007                    CMPQ    8,DL
         4 000051   000055 602000 4                  TNC     s:718

     3694      717    2           THEN NWDS = 8;

    717  4 000052   000010 235007                    LDA     8,DL
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:742  
         4 000053   200113 755100                    STA     NWDS,,AUTO
         4 000054   000061 710000 4                  TRA     s:720

     3695      718    2           ELSE IF NWDS >= 4

    718  4 000055   000004 116007                    CMPQ    4,DL
         4 000056   000061 602000 4                  TNC     s:720

     3696      719    2                THEN NWDS = 4;

    719  4 000057   000004 235007                    LDA     4,DL
         4 000060   200113 755100                    STA     NWDS,,AUTO

     3697      720    2           TX = 0;

    720  4 000061   200123 450100                    STZ     TX,,AUTO

     3698      721    2           END;

    721  4 000062   000077 710000 4                  TRA     s:727

     3699      722    2        ELSE DO;

     3700      723    2           NWDS = (BUFSZ - 8)/17;

    723  4 000063   200007 236100                    LDQ     BUFSZ,,AUTO
         4 000064   000010 136007                    SBLQ    8,DL
         4 000065   000021 506007                    DIV     17,DL
         4 000066   200113 756100                    STQ     NWDS,,AUTO

     3701      724    2           NWDS = NWDS - MOD(NWDS,2);

    724  4 000067   000001 376007                    ANQ     1,DL
         4 000070   200130 756100                    STQ     I+2,,AUTO
         4 000071   200113 236100                    LDQ     NWDS,,AUTO
         4 000072   200130 136100                    SBLQ    I+2,,AUTO
         4 000073   200113 756100                    STQ     NWDS,,AUTO
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:743  

     3702      725    2           TX = 8 + 13 * NWDS;

    725  4 000074   000015 402007                    MPY     13,DL
         4 000075   000010 036007                    ADLQ    8,DL
         4 000076   200123 756100                    STQ     TX,,AUTO

     3703      726    2           END;

     3704      727    1        RX = 0;

    727  4 000077   200122 450100                    STZ     RX,,AUTO

     3705      728    2        DO WHILE (RSIZE > RX);

    728  4 000100   200122 236100                    LDQ     RX,,AUTO
         4 000101   200006 116100                    CMPQ    RSIZE,,AUTO
         4 000102   000222 603000 4                  TRC     s:748

     3706      729    2           R$ = PINCRW(INFO$,RX);

    729  4 000103   200003 470500                    LDP0    @INFO$,,AUTO
         4 000104   000000 471500                    LDP1    0,,PR0
         4 000105   200122 720100                    LXL0    RX,,AUTO
         4 000106   100000 633510                    EPPR3   0,X0,PR1
         4 000107   200121 453500                    STP3    R$,,AUTO

     3707      730    2           CALL CVTOCT(RX);

    730  4 000110   200122 634500                    EPPR4   RX,,AUTO
         4 000111   200125 454500                    STP4    TX+2,,AUTO
         4 000112   000400 701000 4                  TSX1    CVTOCT
         4 000113   000000 011000                    NOP     0

     3708      731    2           SUBSTR(BUFFER,0,BUFSZ) = SUBSTR(OCTNUM,8);

    731  4 000114   200007 720100                    LXL0    BUFSZ,,AUTO
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:744  
         4 000115   040140 100500                    MLR     fill='040'O
         4 000116   200112 000004                    ADSC9   OCTNUM+2,,AUTO           cn=0,n=4
         4 000117   200010 000010                    ADSC9   BUFFER,,AUTO             cn=0,n=*X0

     3709      732    3           DO I = 0 TO NWDS - 1;

    732  4 000120   200117 450100                    STZ     I,,AUTO
         4 000121   000144 710000 4                  TRA     s:739+3

     3710      733    3              IF (I + RX < RSIZE)

    733  4 000122   200117 236100                    LDQ     I,,AUTO
         4 000123   200122 036100                    ADLQ    RX,,AUTO
         4 000124   200006 116100                    CMPQ    RSIZE,,AUTO
         4 000125   000141 603000 4                  TRC     s:739

     3711      734    3                 THEN
     3712      735    4                 DO;

     3713      736    4                    CALL CVTOCT(RBASE(I));

    736  4 000126   200117 236100                    LDQ     I,,AUTO
         4 000127   000022 736000                    QLS     18
         4 000130   200121 036100                    ADLQ    R$,,AUTO
         4 000131   200125 756100                    STQ     TX+2,,AUTO
         4 000132   000400 701000 4                  TSX1    CVTOCT
         4 000133   000000 011000                    NOP     0

     3714      737    4                    CALL INSERT(BUFFER,6+I*13,12,OCTNUM);

    737  4 000134   200117 236100                    LDQ     I,,AUTO
         4 000135   000015 402007                    MPY     13,DL
         4 000136   040106 100500                    MLR     fill='040'O
         4 000137   200110 000014                    ADSC9   OCTNUM,,AUTO             cn=0,n=12
         4 000140   200011 400014                    ADSC9   BUFFER+1,Q,AUTO          cn=2,n=12

     3715      738    4                 END;                      /* IF I                               */
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:745  

     3716      739    3           END;                            /* DO I                               */

    739  4 000141   200117 235100                    LDA     I,,AUTO
         4 000142   000001 035007                    ADLA    1,DL
         4 000143   200117 755100                    STA     I,,AUTO
         4 000144   200117 236100                    LDQ     I,,AUTO
         4 000145   200113 116100                    CMPQ    NWDS,,AUTO
         4 000146   000122 602000 4                  TNC     s:733

     3717      740    2           IF RSIZE  > NWDS + RX

    740  4 000147   200113 236100                    LDQ     NWDS,,AUTO
         4 000150   200122 036100                    ADLQ    RX,,AUTO
         4 000151   200006 116100                    CMPQ    RSIZE,,AUTO
         4 000152   000157 603000 4                  TRC     s:742

     3718      741    2              THEN RCSZ = NWDS * 4;

    741  4 000153   200113 235100                    LDA     NWDS,,AUTO
         4 000154   000002 735000                    ALS     2
         4 000155   200120 755100                    STA     RCSZ,,AUTO
         4 000156   000163 710000 4                  TRA     s:743

     3719      742    2              ELSE RCSZ = (RSIZE - RX) * 4;

    742  4 000157   200006 236100                    LDQ     RSIZE,,AUTO
         4 000160   200122 136100                    SBLQ    RX,,AUTO
         4 000161   000002 736000                    QLS     2
         4 000162   200120 756100                    STQ     RCSZ,,AUTO

     3720      743    2              IF TX > 0

    743  4 000163   200123 235100                    LDA     TX,,AUTO
         4 000164   000176 600000 4                  TZE     s:745

     3721      744    2                 THEN CALL XLATE(SUBSTR(BUFFER,TX),B$XL_ASC_DUMP,RCHAR);
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:746  

    744  4 000165   777377 620005                    EAX0    -257,AL
         4 000166   777777 660003                    ERX0    -1,DU
         4 000167   200121 470500                    LDP0    R$,,AUTO
         4 000170   200120 721100                    LXL1    RCSZ,,AUTO
         4 000171   000000 471400 xsym               LDP1    B$XL_ASC_DUMP$
         4 000172   040145 160540                    MVT     fill='040'O
         4 000173   000000 000011                    ADSC9   0,,PR0                   cn=0,n=*X1
         4 000174   200010 000010                    ADSC9   BUFFER,A,AUTO            cn=0,n=*X0
         4 000175   100000 000100                    ARG     0,,PR1

     3722      745    2              CALL THW$WRITE(WRITE_FMT,VECTOR(SUBSTR(BUFFER,0,BUFSZ)));

    745  4 000176   200007 236100                    LDQ     BUFSZ,,AUTO
         4 000177   000064 737000                    LLS     52
         4 000200   000140 135007                    SBLA    96,DL
         4 000201   200130 452500                    STP2    I+2,,AUTO
         4 000202   200130 236100                    LDQ     I+2,,AUTO
         4 000203   000010 036003                    ADLQ    8,DU
         4 000204   200132 757100                    STAQ    I+4,,AUTO
         4 000205   200132 630500                    EPPR0   I+4,,AUTO
         4 000206   200135 450500                    STP0    I+7,,AUTO
         4 000207   000001 236000 5                  LDQ     1
         4 000210   200134 756100                    STQ     I+6,,AUTO
         4 000211   200134 630500                    EPPR0   I+6,,AUTO
         4 000212   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000213   000000 701000 xent               TSX1    THW$WRITE
         4 000214   000000 011000                    NOP     0

     3723      746    2              RX = RX + NWDS;

    746  4 000215   200122 236100                    LDQ     RX,,AUTO
         4 000216   200113 036100                    ADLQ    NWDS,,AUTO
         4 000217   200122 756100                    STQ     RX,,AUTO

     3724      747    2        END;                               /* DO WHILE                           */

PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:747  
    747  4 000220   200006 116100                    CMPQ    RSIZE,,AUTO
         4 000221   000103 602000 4                  TNC     s:729

     3725      748    1        RETURN;

    748  4 000222   000000 702200 xent               TSX2  ! X66_ARET

     3726      749        %EJECT;
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:748  
     3727      750    1   THF$HEXDUMP:ENTRY(INFO$,LEN,NOTEXT);

    750  4 000223   000000 700200 xent  THF$HEXDUMP  TSX0  ! X66_AUTO_3
         4 000224   000152 000003                    ZERO    106,3

     3728      751        /**/
     3729      752    1        RSIZE = LEN;

    752  4 000225   200004 470500                    LDP0    @LEN,,AUTO
         4 000226   000000 235100                    LDA     0,,PR0
         4 000227   200006 755100                    STA     RSIZE,,AUTO

     3730      753    1        BUFSZ = DCBADDR(DCBNUM(M$LO))->F$DCB.WIDTH - 1;

    753  4 000230   000000 236007 xsym               LDQ     M$LO,DL
         4 000231   000000 471400 5                  LDP1    0
         4 000232   100000 473500                    LDP3    0,,PR1
         4 000233   300000 474506                    LDP4    0,QL,PR3
         4 000234   400004 236100                    LDQ     4,,PR4
         4 000235   000777 376007                    ANQ     511,DL
         4 000236   000001 136007                    SBLQ    1,DL
         4 000237   200007 756100                    STQ     BUFSZ,,AUTO

     3731      754    1        IF BUFSZ <= 0 THEN BUFSZ = 80;

    754  4 000240   000243 605400 4                  TPNZ    s:755

    754  4 000241   000120 235007                    LDA     80,DL
         4 000242   200007 755100                    STA     BUFSZ,,AUTO

     3732      755    1        IF BUFSZ > 255 THEN BUFSZ = 255;

    755  4 000243   200007 235100                    LDA     BUFSZ,,AUTO
         4 000244   000377 115007                    CMPA    255,DL
         4 000245   000250 604400 4                  TMOZ    s:756

    755  4 000246   000377 236007                    LDQ     255,DL
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:749  
         4 000247   200007 756100                    STQ     BUFSZ,,AUTO

     3733      756    1        NWDS = (BUFSZ-6)/9;

    756  4 000250   200007 236100                    LDQ     BUFSZ,,AUTO
         4 000251   000006 136007                    SBLQ    6,DL
         4 000252   000011 506007                    DIV     9,DL
         4 000253   200113 756100                    STQ     NWDS,,AUTO

     3734      757    1        NWDS = NWDS - MOD(NWDS,2);

    757  4 000254   000001 376007                    ANQ     1,DL
         4 000255   200130 756100                    STQ     I+2,,AUTO
         4 000256   200113 236100                    LDQ     NWDS,,AUTO
         4 000257   200130 136100                    SBLQ    I+2,,AUTO
         4 000260   200113 756100                    STQ     NWDS,,AUTO

     3735      758    1        RX = 0;

    758  4 000261   200122 450100                    STZ     RX,,AUTO

     3736      759    2        DO WHILE(RSIZE > RX);

    759  4 000262   200122 236100                    LDQ     RX,,AUTO
         4 000263   200006 116100                    CMPQ    RSIZE,,AUTO
         4 000264   000377 603000 4                  TRC     s:771

     3737      760    2           R$ = PINCRW(INFO$,RX);

    760  4 000265   200003 470500                    LDP0    @INFO$,,AUTO
         4 000266   000000 471500                    LDP1    0,,PR0
         4 000267   200122 720100                    LXL0    RX,,AUTO
         4 000270   100000 633510                    EPPR3   0,X0,PR1
         4 000271   200121 453500                    STP3    R$,,AUTO

     3738      761    2           IF RSIZE > NWDS + RX

PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:750  
    761  4 000272   200113 236100                    LDQ     NWDS,,AUTO
         4 000273   200122 036100                    ADLQ    RX,,AUTO
         4 000274   200006 116100                    CMPQ    RSIZE,,AUTO
         4 000275   000301 603000 4                  TRC     s:763

     3739      762    2              THEN TEMPWDS = NWDS;

    762  4 000276   200113 235100                    LDA     NWDS,,AUTO
         4 000277   200114 755100                    STA     TEMPWDS,,AUTO
         4 000300   000304 710000 4                  TRA     s:764

     3740      763    2              ELSE TEMPWDS = RSIZE - RX;

    763  4 000301   200006 236100                    LDQ     RSIZE,,AUTO
         4 000302   200122 136100                    SBLQ    RX,,AUTO
         4 000303   200114 756100                    STQ     TEMPWDS,,AUTO

     3741      764    2           RCSZ = TEMPWDS * 4;

    764  4 000304   200114 235100                    LDA     TEMPWDS,,AUTO
         4 000305   000002 735000                    ALS     2
         4 000306   200120 755100                    STA     RCSZ,,AUTO

     3742      765    2           TEMPLEN = 18 + 8 * (TEMPWDS - 1);

    765  4 000307   200114 236100                    LDQ     TEMPWDS,,AUTO
         4 000310   000003 736000                    QLS     3
         4 000311   000012 036007                    ADLQ    10,DL
         4 000312   200115 756100                    STQ     TEMPLEN,,AUTO

     3743      766    2           FMTLEN = TEMPLEN + SIZEC(END_FMT);

    766  4 000313   000004 036007                    ADLQ    4,DL
         4 000314   200116 756100                    STQ     FMTLEN,,AUTO

     3744      767    2           CALL INSERT(FMTBUF,0,FMTLEN,SUBSTR(HEXFMT,0,TEMPLEN),END_FMT);

PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:751  
    767  4 000315   200115 721100                    LXL1    TEMPLEN,,AUTO
         4 000316   000067 474400 2                  LDP4    FMT$
         4 000317   000000 622006                    EAX2    0,QL
         4 000320   040140 100440                    MLR     fill='040'O
         4 000321   000000 000011 3                  ADSC9   HEX_FMT                  cn=0,n=*X1
         4 000322   400000 000012                    ADSC9   0,,PR4                   cn=0,n=*X2
         4 000323   200116 236100                    LDQ     FMTLEN,,AUTO
         4 000324   200115 136100                    SBLQ    TEMPLEN,,AUTO
         4 000325   000333 604400 4                  TMOZ    s:768
         4 000326   000000 620006                    EAX0    0,QL
         4 000327   200115 236100                    LDQ     TEMPLEN,,AUTO
         4 000330   040146 100400                    MLR     fill='040'O
         4 000331   000067 000004 3                  ADSC9   END_FMT                  cn=0,n=4
         4 000332   400000 000010                    ADSC9   0,Q,PR4                  cn=0,n=*X0

     3745      768    2           CALL THW$WRITE(VECTOR(FMTBUF),VECTOR(RX),VECTOR(RCHAR));

    768  4 000333   200116 236100                    LDQ     FMTLEN,,AUTO
         4 000334   000064 737000                    LLS     52
         4 000335   000140 135007                    SBLA    96,DL
         4 000336   000067 236000 2                  LDQ     FMT$
         4 000337   200130 757100                    STAQ    I+2,,AUTO
         4 000340   777640 235007                    LDA     -96,DL
         4 000341   200132 452500                    STP2    I+4,,AUTO
         4 000342   200132 236100                    LDQ     I+4,,AUTO
         4 000343   000122 036003                    ADLQ    82,DU
         4 000344   200134 757100                    STAQ    I+6,,AUTO
         4 000345   200120 235100                    LDA     RCSZ,,AUTO
         4 000346   000020 735000                    ALS     16
         4 000347   000140 135007                    SBLA    96,DL
         4 000350   200121 236100                    LDQ     R$,,AUTO
         4 000351   200140 757100                    STAQ    I+10,,AUTO
         4 000352   200130 237100                    LDAQ    I+2,,AUTO
         4 000353   200136 757100                    STAQ    I+8,,AUTO
         4 000354   200134 237100                    LDAQ    I+6,,AUTO
         4 000355   200142 757100                    STAQ    I+12,,AUTO
         4 000356   200140 237100                    LDAQ    I+10,,AUTO
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:752  
         4 000357   200144 757100                    STAQ    I+14,,AUTO
         4 000360   200144 631500                    EPPR1   I+14,,AUTO
         4 000361   200150 451500                    STP1    I+18,,AUTO
         4 000362   200142 635500                    EPPR5   I+12,,AUTO
         4 000363   200147 455500                    STP5    I+17,,AUTO
         4 000364   200136 636500                    EPPR6   I+8,,AUTO
         4 000365   200146 456500                    STP6    I+16,,AUTO
         4 000366   200146 630500                    EPPR0   I+16,,AUTO
         4 000367   000021 631400 xsym               EPPR1   B_VECTNIL+17
         4 000370   000000 701000 xent               TSX1    THW$WRITE
         4 000371   000000 011000                    NOP     0

     3746      769    2           RX = RX + NWDS;

    769  4 000372   200122 236100                    LDQ     RX,,AUTO
         4 000373   200113 036100                    ADLQ    NWDS,,AUTO
         4 000374   200122 756100                    STQ     RX,,AUTO

     3747      770    2           END;  /* DO WHILE */

    770  4 000375   200006 116100                    CMPQ    RSIZE,,AUTO
         4 000376   000265 602000 4                  TNC     s:760

     3748      771    1        RETURN;

    771  4 000377   000000 702200 xent               TSX2  ! X66_ARET

     3749      772        %EJECT;
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:753  
     3750      773    1   CVTOCT: PROC(X);

    773  4 000400   200124 741300       CVTOCT       STX1  ! TX+1,,AUTO

     3751      774    2   DCL X(0:11) UBIN(3) UNAL;
     3752      775    2   DCL I SBIN;
     3753      776    3           DO I = 0 TO 11;

    776  4 000401   200126 450100                    STZ     I,,AUTO

     3754      777    3              OCTA(I) = X(I) + 48;

    777  4 000402   200126 236100                    LDQ     I,,AUTO
         4 000403   000003 402007                    MPY     3,DL
         4 000404   000000 116003                    CMPQ    0,DU
         4 000405   000407 605000 4                  TPL     s:777+5
         4 000406   000044 036003                    ADLQ    36,DU
         4 000407   200125 470500                    LDP0    @X,,AUTO
         4 000410   003100 061506                    CSR     bolr='003'O
         4 000411   000000 000003                    BDSC    0,Q,PR0                  by=0,bit=0,n=3
         4 000412   200131 000044                    BDSC    I+3,,AUTO                by=0,bit=0,n=36
         4 000413   200131 236100                    LDQ     I+3,,AUTO
         4 000414   000060 036007                    ADLQ    48,DL
         4 000415   200130 756100                    STQ     I+2,,AUTO
         4 000416   200126 235100                    LDA     I,,AUTO
         4 000417   000105 101500                    MRL     fill='000'O
         4 000420   200130 000004                    ADSC9   I+2,,AUTO                cn=0,n=4
         4 000421   200110 000001                    ADSC9   OCTNUM,A,AUTO            cn=0,n=1

     3755      778    3           END;                            /* DO                                 */

    778  4 000422   200126 054100                    AOS     I,,AUTO
         4 000423   200126 235100                    LDA     I,,AUTO
         4 000424   000013 115007                    CMPA    11,DL
         4 000425   000402 604400 4                  TMOZ    s:777

     3756      779    2           RETURN;
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:754  

    779  4 000426   200124 221300                    LDX1  ! TX+1,,AUTO
         4 000427   000001 702211                    TSX2  ! 1,X1
     3757      780    2   END CVTOCT;
     3758      781    1   END THF$DUMP;
     3759      782        %EOD;

PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:755  
--  Include file information  --

   B$TABLES_C.:E05TOU  cannot be made into a system file and is referenced.
   TH_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   F$DCB.:E05TOU  cannot be made into a system file and is referenced.
   EL$TABLES.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure THF$DUMP.
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:756  

 **** Variables and constants ****

  ****  Section 002  Data  THF$DUMP

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    67-0-0/w PTR         r     1 FMT$                       0-0-0/c CHAR(220)   r     1 TEMPFMT
    70-0-0/d BIT (72)    r     1 WRITE_FMT

  ****  Section 003 RoData THF$DUMP

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    67-0-0/c CHAR(4)     r     1 END_FMT                    0-0-0/c CHAR(218)   r     1 HEXFMT
     0-0-0/c STRC(1962)  r     1 HEX_FMT                   70-0-0/c CHAR(7)     r     1 WRITE_HDR

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @INFO$                     4-0-0/w PTR         r     1 @LEN
     5-0-0/w PTR         r     1 @NOTEXT                  125-0-0/w PTR         r     1 @X
    10-0-0/c CHAR(256)   r     1 BUFFER                     7-0-0/w SBIN        r     1 BUFSZ
   116-0-0/w UBIN        r     1 FMTLEN                   117-0-0/w UBIN        r     1 I
   126-0-0/w SBIN        r     1 I                         *0-0-0/w PTR         r     1 INFO$
    *0-0-0/w UBIN        r     1 LEN                       *0-0-0/w BIT         r     1 NOTEXT
   113-0-0/w UBIN        r     1 NWDS                     110-0-0/c UBIN(9)     r     1 OCTA(0:11)
   110-0-0/c CHAR(12)    r     1 OCTNUM                   121-0-0/w PTR         r     1 R$
   120-0-0/w UBIN        r     1 RCSZ                       6-0-0/w UBIN        r     1 RSIZE
   122-0-0/w UBIN        r     1 RX                       115-0-0/w UBIN        r     1 TEMPLEN
   114-0-0/w UBIN        r     1 TEMPWDS                  123-0-0/w UBIN        r     1 TX
    *0-0-0/b UBIN(3)     r     1 X(0:11)

  ****  SYMREF variables  ****
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:757  

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 B$XL_ASC_DUMP$             0-0-0/d STRC(72)    r     1 TH_RECORD

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(4608)  r     1 B$XL_ASC_DUMP              0-0-0/d ASTR(3528)  r     1 F$DCB
     0-0-0/c ACHR        r     1 FMTBUF                     0-0-0N  NULL        r     1 M$LO
     0-0-0/w UBIN        r     1 RBASE(0:0)                 0-0-0/c ACHR        r     1 RCHAR


   Procedure THF$DUMP requires 280 words for executable code.
   Procedure THF$DUMP requires 106 words of local(AUTO) storage.
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:758  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:759  
          MINI XREF LISTING

B$XL_ASC_DUMP
       667**DCL       744>>CALLBLT
B$XL_ASC_DUMP$
       666**DCL       667--IMP-PTR   744>>CALLBLT
BUFFER
       676**DCL       731<<ASSIGN    737<<CALLBLT   744<<CALLBLT   745--CALL
BUFSZ
       675**DCL       710<<ASSIGN    711>>IF        711<<ASSIGN    712>>IF        712<<ASSIGN    715>>ASSIGN
       723>>ASSIGN    731>>ASSIGN    745>>CALL      753<<ASSIGN    754>>IF        754<<ASSIGN    755>>IF
       755<<ASSIGN    756>>ASSIGN
CVTOCT
       773**PROC      730--CALL      736--CALL
END_FMT
       694**DCL       766--ASSIGN    767>>CALLBLT
F$DCB.ACTPOS
       456**DCL       456--REDEF
F$DCB.ARS
       431**DCL       431--REDEF
F$DCB.ATTR
       449**DCL       450--REDEF
F$DCB.BORROW
       464**DCL       464--REDEF     464--REDEF     464--REDEF
F$DCB.DCBNAME.L
       478**DCL       478--IMP-SIZ
F$DCB.EOMCHAR
       435**DCL       435--REDEF
F$DCB.FLDID
       459**DCL       459--REDEF
F$DCB.FORM$
       453**DCL       453--REDEF
F$DCB.FSECT
       469**DCL       469--REDEF
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:760  
F$DCB.FSN
       446**DCL       446--REDEF     446--REDEF     447--REDEF
F$DCB.HEADER$
       452**DCL       452--REDEF
F$DCB.IXTNSIZE
       450**DCL       450--REDEF
F$DCB.LASTSTA$
       440**DCL       440--REDEF
F$DCB.LVL
       465**DCL       465--REDEF
F$DCB.NAME.C
       440**DCL       440--REDEF
F$DCB.NOEOF
       461**DCL       461--REDEF
F$DCB.NRECS
       451**DCL       451--REDEF
F$DCB.NRECX
       470**DCL       470--REDEF
F$DCB.OHDR
       462**DCL       462--REDEF
F$DCB.ORG
       445**DCL       445--REDEF
F$DCB.PRECNO
       468**DCL       468--REDEF
F$DCB.RCSZ
       473**DCL       473--REDEF
F$DCB.RES
       441**DCL       441--REDEF
F$DCB.SETX
       453**DCL       453--REDEF
F$DCB.TAB$
       452**DCL       453--REDEF
F$DCB.TDA
       467**DCL       467--REDEF
F$DCB.WIDTH
       438**DCL       710>>ASSIGN    753>>ASSIGN
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:761  
F$DCB.WSN
       442**DCL       442--REDEF
FMT$
       683**DCL       684--IMP-PTR   767>>CALLBLT   768>>CALL
FMTBUF
       684**DCL       767<<CALLBLT   768--CALL
FMTLEN
       685**DCL       684--IMP-SIZ   766<<ASSIGN    767>>CALLBLT   767>>CALLBLT   768>>CALL
HEXFMT
       693**DCL       767>>CALLBLT
HEX_FMT
       686**DCL       693--REDEF
I
       695**DCL       732<<DOINDEX   733>>IF        736>>CALL      737>>CALLBLT
I IN PROCEDURE CVTOCT
       775**DCL       776<<DOINDEX   777>>ASSIGN    777>>ASSIGN
INFO$
        21**DCL         7--PROC      729>>ASSIGN    750--ENTRY     760>>ASSIGN
LEN
        22**DCL         7--PROC      707--IF        709>>ASSIGN    750--ENTRY     752>>ASSIGN
M$LO
       671**DCL       710--ASSIGN    753--ASSIGN
NOTEXT
        23**DCL         7--PROC      713--IF        713>>IF        750--ENTRY
NWDS
       679**DCL       715<<ASSIGN    716>>IF        717<<ASSIGN    718>>IF        719<<ASSIGN    723<<ASSIGN
       724<<ASSIGN    724>>ASSIGN    724>>ASSIGN    725>>ASSIGN    732>>DOINDEX   740>>IF        741>>ASSIGN
       746>>ASSIGN    756<<ASSIGN    757<<ASSIGN    757>>ASSIGN    757>>ASSIGN    761>>IF        762>>ASSIGN
       769>>ASSIGN
OCTA
       678**DCL       777<<ASSIGN
OCTNUM
       677**DCL       678--REDEF     731>>ASSIGN    737>>CALLBLT
R$
       697**DCL       698--IMP-PTR   699--IMP-PTR   729<<ASSIGN    736>>CALL      744>>CALLBLT   760<<ASSIGN
       768>>CALL
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:762  
RBASE
       698**DCL       736<>CALL
RCHAR
       699**DCL       744>>CALLBLT   768--CALL
RCSZ
       696**DCL       699--IMP-SIZ   741<<ASSIGN    742<<ASSIGN    744>>CALLBLT   764<<ASSIGN    768>>CALL
RSIZE
       674**DCL       708<<ASSIGN    709<<ASSIGN    728>>DOWHILE   733>>IF        740>>IF        742>>ASSIGN
       752<<ASSIGN    759>>DOWHILE   761>>IF        763>>ASSIGN
RX
       700**DCL       727<<ASSIGN    728>>DOWHILE   729>>ASSIGN    730<>CALL      733>>IF        740>>IF
       742>>ASSIGN    746<<ASSIGN    746>>ASSIGN    758<<ASSIGN    759>>DOWHILE   760>>ASSIGN    761>>IF
       763>>ASSIGN    768--CALL      769<<ASSIGN    769>>ASSIGN
TEMPFMT
       682**DCL       683--DCLINIT
TEMPLEN
       681**DCL       765<<ASSIGN    766>>ASSIGN    767>>CALLBLT
TEMPWDS
       680**DCL       762<<ASSIGN    763<<ASSIGN    764>>ASSIGN    765>>ASSIGN
THW$WRITE
       706**DCL-ENT   745--CALL      768--CALL
TH_CONSTRAINTS.E_BY_B
       490**DCL       490--REDEF
TH_CONSTRAINTS.M_BY_B
       489**DCL       489--REDEF
TH_CONSTRAINTS.TYPES
       487**DCL       487--REDEF
TH_DEFAULT.E_BY_B
       498**DCL       498--REDEF
TH_DEFAULT.M_BY_B
       497**DCL       497--REDEF
TH_DEFAULT.TYPES
       495**DCL       495--REDEF
TH_RECORD.BOUND
       515**DCL       708>>ASSIGN
TH_SAVE.E_BY_B
PL6.E3A0      #002=THF$DUMP File=THF$FORMAT.:E05TSI                              WED 07/30/97 06:15 Page:763  
       506**DCL       506--REDEF
TH_SAVE.M_BY_B
       504**DCL       504--REDEF
TH_SAVE.TYPES
       502**DCL       503--REDEF
TH_XSA_BUF_VECTOR
       522**DCL       522--REDEF
TX
       701**DCL       720<<ASSIGN    725<<ASSIGN    743>>IF        744>>CALLBLT
WRITE_FMT
       703**DCL       745<>CALL
WRITE_HDR
       702**DCL       703--DCLINIT
X IN PROCEDURE CVTOCT
       774**DCL       773--PROC      777>>ASSIGN

PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:764  
     3760        1        /*M* THF$HISTORY - FORMAT HISTORY REGS FOR ELAN PROCERR ENTRIES */
     3761        2        /*T***********************************************************/
     3762        3        /*T*                                                         */
     3763        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     3764        5        /*T*                                                         */
     3765        6        /*T***********************************************************/
     3766        7        THF$HISTORY: PROC(HR$,PROCTYPE);
     3767        8        /**/
     3768        9        /* PARAMS */
     3769       10    1   DCL HR$ PTR;
     3770       11    1   DCL PROCTYPE UBIN;
     3771       12        /**/
     3772       13        /* INCLUDE FILES */
     3773       14        %INCLUDE TH_SUBS_C;
     3774      396        /**/
     3775      397        /* ENTRY DEFS */
     3776      398    1   DCL THW$WRITE ENTRY(11);
     3777      399        /**/
     3778      400        /* AUTO */
     3779      401    1   DCL I SBIN WORD AUTO;
     3780      402    1   DCL LCNT SBIN WORD AUTO;
     3781      403    1   DCL OPCODE UBIN;
     3782      404    1   DCL DPSEVU1HR BIT(72) DALIGNED AUTO;
     3783      405    1   DCL VEC_LCNT BIT(72) DALIGNED;
     3784      406    1   DCL VEC_OPCODE BIT(72) DALIGNED;
     3785      407        /**/
     3786      408        /* CONSTANTS */
     3787      409        /*       HISTORY REGISTER TITLES */
     3788      410    1   DCL 1 VU_TITLE CONSTANT,
     3789      411    1         2 * CHAR(0) UNAL INIT('%/  --VIRTUAL UNIT HISTORY--%/'),
     3790      412    1         2 T1,
     3791      413    1           3 * CHAR(4) UNAL INIT('    '),
     3792      414    1           3 * CHAR(15) UNAL INIT('        F   FFW'),
     3793      415    1           3 * CHAR(15) UNAL INIT('               '),
     3794      416    1           3 * CHAR(5) UNAL INIT('F  SM'),
     3795      417    1           3 * CHAR(13) UNAL INIT(' STORE-FAULT '),
     3796      418    1           3 * CHAR(4) UNAL INIT(' P F'),
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:765  
     3797      419    1           3 * CHAR(17) UNAL INIT('      DAMSEL1+3%/'),
     3798      420    1         2 T2,
     3799      421    1           3 * CHAR(4) UNAL INIT('    '),
     3800      422    1           3 * CHAR(15) UNAL INIT('      F AFF PPR'),
     3801      423    1           3 * CHAR(7) UNAL INIT('     FF'),
     3802      424    1           3 * CHAR(4) UNAL INIT('  FF'),
     3803      425    1           3 * CHAR(9) UNAL INIT('  FFV FLA'),
     3804      426    1           3 * CHAR(13) UNAL INIT(' |CMD-FAULT  '),
     3805      427    1           3 * CHAR(22) UNAL INIT(' ITE VVVV |DAMSEL2+3%/'),
     3806      428    1         2 T3,
     3807      429    1           3 * CHAR(4) UNAL INIT('    '),
     3808      430    1           3 * CHAR(11) UNAL INIT('     DA MPK'),
     3809      431    1           3 * CHAR(24) UNAL INIT(' TTP FFF CSF FXF ISU SAS'),
     3810      432    1           3 * CHAR(13) UNAL INIT(' ||VU-IPRFLT '),
     3811      433    1           3 * CHAR(21) UNAL INIT(' ARA AAAA ||VUFAULT%/'),
     3812      434    1         2 T4,
     3813      435    1           3 * CHAR(4) UNAL INIT('    '),
     3814      436    1           3 * CHAR(20) UNAL INIT('  OP FB CTT WWT VVC '),
     3815      437    1           3 * CHAR(15) UNAL INIT('LAX XID DSO SVT'),
     3816      438    1           3 * CHAR(14) UNAL INIT(' |||     REAL '),
     3817      439    1           3 * CHAR(23) UNAL INIT('VGV 2222 |||EXSEG-FLG%/'),
     3818      440    1         2 T5,
     3819      441    1           3 * CHAR(4) UNAL INIT('    '),
     3820      442    1           3 * CHAR(20) UNAL INIT('CODE AS HDW KDW 12D '),
     3821      443    1           3 * CHAR(15) UNAL INIT('RSD DDT TWP RER'),
     3822      444    1           3 * CHAR(14) UNAL INIT(' |||  ADDRESS '),
     3823      445    1           3 * CHAR(0) UNAL INIT('UOU 0123 ||||HLD-STRT%/%10P');
     3824      446
     3825      447
     3826      448    1   DCL 1 CU_TITLE CONSTANT,
     3827      449    1         2 * CHAR(0) UNAL INIT('%/  --CONTROL UNIT HISTORY--%/'),
     3828      450    1         2 T1,
     3829      451    1           3 * CHAR(22) UNAL INIT('                      '),
     3830      452    1           3 * CHAR(1) UNAL INIT('A'),
     3831      453    1           3 * CHAR(33) UNAL INIT('                                 '),
     3832      454    1           3 * CHAR(1) UNAL INIT('I'),
     3833      455    1           3 * CHAR(7) UNAL INIT('       '),
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:766  
     3834      456    1           3 * CHAR(4) UNAL INIT('D_%/'),
     3835      457    1         2 T2,
     3836      458    1           3 * CHAR(4) UNAL INIT('    '),
     3837      459    1           3 * CHAR(18) UNAL INIT('                  '),
     3838      460    1           3 * CHAR(1) UNAL INIT('R'),
     3839      461    1           3 * CHAR(4) UNAL INIT('   _'),
     3840      462    1           3 * CHAR(29) UNAL INIT('                             '),
     3841      463    1           3 * CHAR(12) UNAL INIT('NFC OCO IP%/'),
     3842      464    1         2 T3,
     3843      465    1           3 * CHAR(4) UNAL INIT('    '),
     3844      466    1           3 * CHAR(10) UNAL INIT('          '),
     3845      467    1           3 * CHAR(1) UNAL INIT('T'),
     3846      468    1           3 * CHAR(5) UNAL INIT('     '),
     3847      469    1           3 * CHAR(7) UNAL INIT('R | __B'),
     3848      470    1           3 * CHAR(29) UNAL INIT('                             '),
     3849      471    1           3 * CHAR(13) UNAL INIT('TEU UUU RCB%/'),
     3850      472    1         2 T4,
     3851      473    1           3 * CHAR(4) UNAL INIT('    '),
     3852      474    1           3 * CHAR(23) UNAL INIT('PPR SPP RSR XX  P F XFA'),
     3853      475    1           3 * CHAR(29) UNAL INIT('                             '),
     3854      476    1           3 * CHAR(13) UNAL INIT('XTS SLL EBU%/'),
     3855      477    1         2 T5,
     3856      478    1           3 * CHAR(4) UNAL INIT('    '),
     3857      479    1           3 * CHAR(27) UNAL INIT('IOI IOO AAG DDI TW/ ILS  OP'),
     3858      480    1           3 * CHAR(15) UNAL INIT('               '),
     3859      481    1           3 * CHAR(23) UNAL INIT('CMD  PORT ECT TOO CSS%/'),
     3860      482    1         2 T6,
     3861      483    1           3 * CHAR(4) UNAL INIT('    '),
     3862      484    1           3 * CHAR(33) UNAL INIT('AAW WTN WWO EOC SIE PTE CODE TAG '),
     3863      485    1           3 * CHAR(0) UNAL INIT('ADDREG  ABCDE ABCD CHR RDD TYY%/%10P');
     3864      486
     3865      487    1   DCL 1 OU_TITLE CONSTANT,
     3866      488    1         2 * CHAR(0) UNAL INIT('%/  --OPERATIONS UNIT HISTORY--%/'),
     3867      489    1         2 T1,
     3868      490    1           3 * CHAR(4) UNAL INIT('    '),
     3869      491    1           3 * CHAR(11) UNAL INIT('           '),
     3870      492    1           3 * CHAR(9) UNAL INIT('CD -LREG/'),
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:767  
     3871      493    1           3 * CHAR(6) UNAL INIT('   RRR'),
     3872      494    1           3 * CHAR(13) UNAL INIT('             '),
     3873      495    1           3 * CHAR(6) UNAL INIT('S _   '),
     3874      496    1           3 * CHAR(10) UNAL INIT('REGISTER%/'),
     3875      497    1         2 T2,
     3876      498    1           3 * CHAR(4) UNAL INIT('    '),
     3877      499    1           3 * CHAR(11) UNAL INIT('     9     '),
     3878      500    1           3 * CHAR(8) UNAL INIT('RR -SREG'),
     3879      501    1           3 * CHAR(7) UNAL INIT('    BPS'),
     3880      502    1           3 * CHAR(16) UNAL INIT(' FFF FFG FFF T D'),
     3881      503    1           3 * CHAR(13) UNAL INIT('      USAGE%/'),
     3882      504    1         2 T3,
     3883      505    1           3 * CHAR(4) UNAL INIT('    '),
     3884      506    1           3 * CHAR(11) UNAL INIT('     B     '),
     3885      507    1           3 * CHAR(12) UNAL INIT('FF |----    '),
     3886      508    1           3 * CHAR(19) UNAL INIT('FFF GGG GGF GGG R A'),
     3887      509    1           3 * CHAR(13) UNAL INIT('   ________%/'),
     3888      510    1         2 T4,
     3889      511    1           3 * CHAR(4) UNAL INIT('    '),
     3890      512    1           3 * CHAR(15) UNAL INIT('  RP I TAG LL |'),
     3891      513    1           3 * CHAR(8) UNAL INIT('     RS '),
     3892      514    1           3 * CHAR(19) UNAL INIT('UUU IOD DOO OOO A T'),
     3893      515    1           3 * CHAR(19) UNAL INIT(' __XXXXXXXX  ICT%/'),
     3894      516    1         2 T5,
     3895      517    1           3 * CHAR(3) UNAL INIT('   '),
     3896      518    1           3 * CHAR(23) UNAL INIT('CODE T 345 GG CTR CODE '),
     3897      519    1           3 * CHAR(30) UNAL INIT('LLL NS1 2EA MNF V A AQ01234567'),
     3898      520    1           3 * CHAR(0) UNAL INIT('  TRACK%/%10P');
     3899      521
     3900      522    1   DCL 1 DU_TITLE CONSTANT,
     3901      523    1         2 * CHAR(0) UNAL INIT('%/  --DECIMAL UNIT HISTORY--%/'),
     3902      524    1         2 T1,
     3903      525    1           3 * CHAR(4) UNAL INIT('    '),
     3904      526    1           3 * CHAR(20) UNAL INIT('  NS     DD    DDRPP'),
     3905      527    1           3 * CHAR(16) UNAL INIT('     N  F   FAII'),
     3906      528    1           3 * CHAR(14) UNAL INIT('     N  N   LL'),
     3907      529    1           3 * CHAR(24) UNAL INIT(' DWG  E L A B DDDFFA D%/'),
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:768  
     3908      530    1         2 T2,
     3909      531    1           3 * CHAR(4) UNAL INIT('    '),
     3910      532    1           3 * CHAR(20) UNAL INIT('  EE D  DDDD  EEEDTT'),
     3911      533    1           3 * CHAR(16) UNAL INIT(' FFFWIS OB SRDNN'),
     3912      534    1           3 * CHAR(21) UNAL INIT(' DGGGLG LGAADD ARSASN'),
     3913      535    1           3 * CHAR(17) UNAL INIT(' EGNEL GGGLRD M%/'),
     3914      536    1         2 T3,
     3915      537    1           3 * CHAR(4) UNAL INIT('    '),
     3916      538    1           3 * CHAR(20) UNAL INIT('FFELDF FLUURD XNN+RR'),
     3917      539    1           3 * CHAR(23) UNAL INIT(' AAARNI UI ASJTS UDDDDL'),
     3918      540    1           3 * CHAR(32) UNAL INIT(' DLNNWW TTTNTD NCPXN BDSTND PD%/'),
     3919      541    1         2 T4,
     3920      542    1           3 * CHAR(4) UNAL INIT('    '),
     3921      543    1           3 * CHAR(20) UNAL INIT('PPDALR EALSEL HDDWAA'),
     3922      544    1           3 * CHAR(23) UNAL INIT(' ///DEX RT MTLRT DLLLPD'),
     3923      545    1           3 * CHAR(32) UNAL INIT(' 2DLLRR AIRSRS 1HKMK DBPGDG +X%/'),
     3924      546    1         2 T5,
     3925      547    1           3 * CHAR(4) UNAL INIT('    '),
     3926      548    1           3 * CHAR(20) UNAL INIT('OODDES XSDTDV BSIR00'),
     3927      549    1           3 * CHAR(23) UNAL INIT(' IIIBBB BB PCEPC DDDDDP'),
     3928      550    1           3 * CHAR(32) UNAL INIT(' DPDDTT ADDTOE 2DDOD DPDDDA DP%/'),
     3929      551    1         2 T6,
     3930      552    1           3 * CHAR(4) UNAL INIT('    '),
     3931      553    1           3 * CHAR(20) UNAL INIT('LPRRNT RTEROL GQST01'),
     3932      554    1           3 * CHAR(23) UNAL INIT(' 123DDD DD LTNT1 GABCP1'),
     3933      555    1           3 * CHAR(0) UNAL INIT(' P21212 VPPRPG 8PPPP CCCCGT VN%/%10P');
     3934      556
     3935      557    1   DCL 1 ELS_TITLE CONSTANT,
     3936      558    1         2 * CHAR(0) INIT('%/  --HISTORY REGISTERS--%/'),
     3937      559    1         2 T1,
     3938      560    1           3 * CHAR(31) UNAL INIT(' '),
     3939      561    1           3 * CHAR(0) UNAL INIT('FIRST C-CYCLE'),
     3940      562    1           3 * CHAR(0) UNAL INIT(' PAGING%/'),
     3941      563    1         2 T2,
     3942      564    1           3 * CHAR(33) UNAL INIT(' '),
     3943      565    1           3 * CHAR(0) UNAL INIT('IC BIT 17 |'),
     3944      566    1           3 * CHAR(0) UNAL INIT(' | PTW RE-WRITE%/'),
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:769  
     3945      567    1         2 T3,
     3946      568    1           3 * CHAR(0) UNAL INIT('    FORCE ECS OUTPUT NOP'),
     3947      569    1           3 * CHAR(6) UNAL INIT(' '),
     3948      570    1           3 * CHAR(0) UNAL INIT('INST FETCH | |'),
     3949      571    1           3 * CHAR(0) UNAL INIT(' | | PRE-PAGE SEQUENCE%/'),
     3950      572    1         2 T4,
     3951      573    1           3 * CHAR(0) UNAL INIT('    | MICRO STEP END'),
     3952      574    1           3 * CHAR(7) UNAL INIT(' '),
     3953      575    1           3 * CHAR(0) UNAL INIT('DIRECT OPER | | |'),
     3954      576    1           3 * CHAR(0) UNAL INIT(' | | | RETRY%/'),
     3955      577    1         2 T5,
     3956      578    1           3 * CHAR(0) UNAL INIT('    | |'),
     3957      579    1           3 * CHAR(16) UNAL INIT(' '),
     3958      580    1           3 * CHAR(0) UNAL INIT('DW MEM ACCESS | | | |'),
     3959      581    1           3 * CHAR(0) UNAL INIT(' | | | | PORT BUSY%/'),
     3960      582    1         2 T6 CHAR(0) INIT('%4X| |%14XSTORE COMMAND %10(| %)CACHE BLOCK LOAD REQ%/'),
     3961      583    1         2 T7,
     3962      584    1           3 * CHAR(0) UNAL INIT('    | |'),
     3963      585    1           3 * CHAR(7) UNAL INIT(' '),
     3964      586    1           3 * CHAR(0) UNAL INIT('HEALS RETRY FLAG   | | | | | |'),
     3965      587    1           3 * CHAR(0) UNAL INIT(' | | | | | | BYPASS READ%/'),
     3966      588    1         2 T8,
     3967      589    1           3 * CHAR(0) UNAL INIT('    | |'),
     3968      590    1           3 * CHAR(7) UNAL INIT(' '),
     3969      591    1           3 * CHAR(0) UNAL INIT('| PREP OPER ADDR   | | | | | |'),
     3970      592    1           3 * CHAR(0) UNAL INIT(' | | | | | | |%/'),
     3971      593    1         2 T9,
     3972      594    1           3 * CHAR(0) UNAL INIT('    | |'),
     3973      595    1           3 * CHAR(7) UNAL INIT(' '),
     3974      596    1           3 * CHAR(0) UNAL INIT('| | PREP INST ADDR | | | | F |'),
     3975      597    1           3 * CHAR(0) UNAL INIT(' | | | | | F F%/'),
     3976      598    1         2 T10,
     3977      599    1           3 * CHAR(0) UNAL INIT('    | |'),
     3978      600    1           3 * CHAR(7) UNAL INIT(' '),
     3979      601    1           3 * CHAR(0) UNAL INIT('H | |'),
     3980      602    1           3 * CHAR(14) UNAL INIT(' '),
     3981      603    1           3 * CHAR(0) UNAL INIT('F F F D I S'),
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:770  
     3982      604    1           3 * CHAR(0) UNAL INIT(' | F | F | B B%/'),
     3983      605    1         2 T11,
     3984      606    1           3 * CHAR(0) UNAL INIT('    D c'),
     3985      607    1           3 * CHAR(7) UNAL INIT(' '),
     3986      608    1           3 * CHAR(0) UNAL INIT('E D F'),
     3987      609    1           3 * CHAR(14) UNAL INIT(' '),
     3988      610    1           3 * CHAR(0) UNAL INIT('S D D P C P'),
     3989      611    1           3 * CHAR(0) UNAL INIT(' D W D R D L Y%/'),
     3990      612    1         2 T12,
     3991      613    1           3 * CHAR(0) UNAL INIT('    I E'),
     3992      614    1           3 * CHAR(7) UNAL INIT(' '),
     3993      615    1           3 * CHAR(0) UNAL INIT('A P P      I       '),
     3994      616    1           3 * CHAR(0) UNAL INIT('T B I I 1 O'),
     3995      617    1           3 * CHAR(0) UNAL INIT(' P P P T B K P%/'),
     3996      618    1         2 T13,
     3997      619    1           3 * CHAR(0) UNAL INIT('    D N   ECS '),
     3998      620    1           3 * CHAR(0) UNAL INIT('L O I  OP  N A     '),
     3999      621    1           3 * CHAR(0) UNAL INIT('R L R A 7 A'),
     4000      622    1           3 * CHAR(0) UNAL INIT(' G T P R S L R    REAL%/'),
     4001      623    1         2 T14,
     4002      624    1           3 * CHAR(0) UNAL INIT('    L D  ADDR '),
     4003      625    1           3 * CHAR(0) UNAL INIT('S A A CODE H R TAG '),
     4004      626    1           3 * CHAR(0) UNAL INIT('C C C C C C'),
     4005      627    1           3 * CHAR(0) UNAL INIT(' F W G Y Y D D  ADDRESS%/%10P');
     4006      628
     4007      629    1   DCL 1 DPSE_VU_TITLE CONSTANT,
     4008      630    1         2 * CHAR(0) INIT('%/  --VIRTUAL UNIT HISTORY REGISTERS--%/%10P');
     4009      631    1   DCL 1 DPSE_CUOUDU_TITLE CONSTANT,
     4010      632    1         2 * CHAR(0) INIT(
               632                  '%/  --CONTROL, OPERATIONS, AND DECIMAL UNIT HISTORY REGISTERS--%/%10P');
     4011      633
     4012      634
     4013      635                                                /*  OUTPUT LINE FORMATS               */
     4014      636
     4015      637    1   DCL 1 L66_VU_FMT CONSTANT,
     4016      638    1         2 * CHAR(0) INIT('%2ZD: '),
     4017      639    1         2 * CHAR(0) INIT('%3P%4ZO %2...10P%2.2ZB %8(%3.3ZB %)'),
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:771  
     4018      640    1         2 * CHAR(0) INIT('%8.24ZO %3.3ZB %4.4ZB %5.5ZB%10P');
     4019      641
     4020      642    1   DCL 1 L66_CU_FMT CONSTANT,
     4021      643    1         2 * CHAR(0) INIT('%2ZD: '),
     4022      644    1         2 * CHAR(0) INIT('%6(%3.3ZB %)%4.12ZO %2.6ZO  '),
     4023      645    1         2 * CHAR(0) INIT('%6.18ZO  %5.5ZB %4.4ZB %3(%3.3ZB %)%10P');
     4024      646
     4025      647    1   DCL 1 L66_OU_FMT CONSTANT,
     4026      648    1         2 * CHAR(0) INIT('%2ZD:  '),
     4027      649    1         2 * CHAR(0) INIT('%3.9ZO %1.1B %3.3ZB %1.1B%1.1B  %2.2ZB  '),
     4028      650    1         2 * CHAR(0) INIT('%2...18P%3.9ZO %4(%3.3ZB %)'),
     4029      651    1         2 * CHAR(0) INIT('%2(%1.1B %)%10.10ZB  %2.1..18P%6.18ZO%10P');
     4030      652
     4031      653    1   DCL 1 L66_DU_FMT CONSTANT,
     4032      654    1         2 * CHAR(0) INIT('%2ZD: '),
     4033      655    1         2 * CHAR(0) INIT('%4(%6.6ZB %)%2.2ZB %2...30P%5.5ZB '),
     4034      656    1         2 * CHAR(0) INIT('%2.1P%3(%6.6ZB %)%5.5ZB %2.1..24P%6.6ZB %2.2ZB%10P');
     4035      657
     4036      658    1   DCL 1 ELS_FMT CONSTANT,
     4037      659    1         2 * CHAR(0) INIT('%2.ZD: '),
     4038      660    1         2 * CHAR(0) INIT('%2(%1.1B %)%5.13ZO %3(%1.1B %)%3P%4ZO '),
     4039      661    1         2 * CHAR(0) INIT('%2...28P%2(%1.1B %)%2.6ZO  '),
     4040      662    1         2 * CHAR(0) INIT('%2.1..18P%13(%1.1B %)%2.5ZO%2.1P%6.18ZO%10P');
     4041      663
     4042      664    1   DCL 1 DPSE_VU_FMT CONSTANT,
     4043      665    1         2 * CHAR(0) INIT('%2ZD: '),
     4044      666    1         2 * CHAR(0) INIT('%1.3O %2(%2.6ZO %)%1.3O %2.6ZO %4.12ZO   '),
     4045      667    1         2 * CHAR(0) INIT('%0.1.0.2P%12.34ZO-%2.1P%1.2O   '),
     4046      668    1         2 * CHAR(0) INIT('%3P%10.30ZO %1.1B %1.2O %1.3O   '),
     4047      669    1         2 * CHAR(0) INIT('%4P%4ZO   '),
     4048      670    1         2 * CHAR(0) INIT('%3.1.0.10P%4.10ZO %1.2O %5.14ZO%10P');
     4049      671
     4050      672    1   DCL 1 DPSE_CUOUDU_FMT CONSTANT,
     4051      673    1         2 * CHAR(0) INIT('%2ZD: '),
     4052      674    1         2 * CHAR(0) INIT('%12ZO %8.24ZO %4.12ZO   '),
     4053      675    1         2 * CHAR(0) INIT('%12ZO %6.18ZO %6.18ZO%10P');
     4054      676        /**/
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:772  
     4055      677        /* BASED DATA */
     4056      678    1   DCL 1 L66HR_BASED ALIGNED BASED(HR$),
     4057      679    1         2 CU (0:15) BIT(72),
     4058      680    1         2 OU (0:15) BIT(72),
     4059      681    1         2 VU (0:15),
     4060      682    1           3 OPCODE UBIN(10) UNAL,
     4061      683    1           3 * BIT(62) UNAL,
     4062      684    1         2 DU (0:15) BIT(72);
     4063      685
     4064      686    1   DCL 1 ELSHR_BASED (0:15) ALIGNED BASED(HR$),
     4065      687    1         2 * BIT(18) UNAL,
     4066      688    1         2 OPCODE UBIN(10) UNAL,
     4067      689    1         2 * BIT(44) UNAL;
     4068      690
     4069      691    1   DCL 1 DPSEHR_BASED ALIGNED BASED(HR$),
     4070      692    1          2 CU (0:63) BIT(72),
     4071      693    1          2 OUDU (0:63) BIT(72),
     4072      694    1          2 VU1 (0:63) BIT(72),
     4073      695    1          2 VU2 (0:63),
     4074      696    1            3 * BIT(36) UNAL,
     4075      697    1            3 OPCODE UBIN(10) UNAL,
     4076      698    1            3 * BIT(26) UNAL;
     4077      699        %EJECT;
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:773  
     4078      700    1           VEC_LCNT = VECTOR(LCNT);
     4079      701    1           VEC_OPCODE = VECTOR(OPCODE);
     4080      702    2           DO CASE(PROCTYPE);
     4081      703    2              CASE(%L66);
     4082      704    2                 CALL L66HIST;
     4083      705    2              CASE(%DPSE);
     4084      706    2                 CALL DPSEHIST;
     4085      707    2              CASE(%ELS1);
     4086      708    2                 CALL ELSHIST;
     4087      709    2              END;
     4088      710    1           RETURN;
     4089      711        %EJECT;
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:774  
     4090      712    1   L66HIST: PROC;
     4091      713    2           CALL THW$WRITE(VECTOR(VU_TITLE));
     4092      714    3           DO LCNT=0 TO 15;
     4093      715    3              OPCODE = 4 * L66HR_BASED.VU.OPCODE(LCNT);
     4094      716    3              CALL THW$WRITE(VECTOR(L66_VU_FMT),
     4095      717    3                             VEC_LCNT,
     4096      718    3                             VECTOR(L66HR_BASED.VU(LCNT)),
     4097      719    3                             VEC_OPCODE);
     4098      720    3              END;
     4099      721        /**/
     4100      722    2           CALL THW$WRITE(VECTOR(CU_TITLE));
     4101      723    3           DO LCNT=0 TO 15;
     4102      724    3              CALL THW$WRITE(VECTOR(L66_CU_FMT),
     4103      725    3                             VEC_LCNT,
     4104      726    3                             VECTOR(L66HR_BASED.CU(LCNT)));
     4105      727    3              END;
     4106      728        /**/
     4107      729    2           CALL THW$WRITE(VECTOR(OU_TITLE));
     4108      730    3           DO LCNT=0 TO 15;
     4109      731    3              CALL THW$WRITE(VECTOR(L66_OU_FMT),
     4110      732    3                             VEC_LCNT,
     4111      733    3                             VECTOR(L66HR_BASED.OU(LCNT)));
     4112      734    3              END;
     4113      735        /**/
     4114      736    2           CALL THW$WRITE(VECTOR(DU_TITLE));
     4115      737    3           DO LCNT=0 TO 15;
     4116      738    3              CALL THW$WRITE(VECTOR(L66_DU_FMT),
     4117      739    3                             VEC_LCNT,
     4118      740    3                             VECTOR(L66HR_BASED.DU(LCNT)));
     4119      741    3              END;
     4120      742    2           RETURN;
     4121      743    2   END L66HIST;
     4122      744        %EJECT;
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:775  
     4123      745    1   ELSHIST: PROC;
     4124      746    2           CALL THW$WRITE(VECTOR(ELS_TITLE));
     4125      747    3           DO LCNT=0 TO 15;
     4126      748    3              OPCODE = 4 * ELSHR_BASED.OPCODE(LCNT);
     4127      749    3              CALL THW$WRITE(VECTOR(ELS_FMT),
     4128      750    3                             VEC_LCNT,
     4129      751    3                             VECTOR(ELSHR_BASED(LCNT)),
     4130      752    3                             VEC_OPCODE);
     4131      753    3              END;
     4132      754    2           RETURN;
     4133      755    2   END ELSHIST;
     4134      756        %EJECT;
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:776  
     4135      757    1   DPSEHIST: PROC;
     4136      758    2           CALL THW$WRITE(VECTOR(DPSE_VU_TITLE));
     4137      759    3           DO I = 63 DOWNTO 0;
     4138      760    3              DPSEVU1HR = DPSEHR_BASED.VU1(I) \ '000770007303600000777777'O;
     4139      761    3              OPCODE = 4 * DPSEHR_BASED.VU2.OPCODE(I);
     4140      762    3              IF I = 63
     4141      763    3              THEN LCNT = 0;
     4142      764    3              ELSE LCNT = I+1;
     4143      765    3              CALL THW$WRITE(VECTOR(DPSE_VU_FMT),
     4144      766    3                             VEC_LCNT,
     4145      767    3                             VECTOR(DPSEVU1HR),
     4146      768    3                             VECTOR(DPSEHR_BASED.VU2(I)),
     4147      769    3                             VEC_OPCODE);
     4148      770    3              END;
     4149      771        /**/
     4150      772    2   NEXT_DPSE_HR:
     4151      773    2           CALL THW$WRITE(VECTOR(DPSE_CUOUDU_TITLE));
     4152      774    3           DO I = 63 DOWNTO 0;
     4153      775    3              IF I = 63
     4154      776    3              THEN LCNT = 0;
     4155      777    3              ELSE LCNT = I+1;
     4156      778    3              CALL THW$WRITE(VECTOR(DPSE_CUOUDU_FMT),
     4157      779    3                             VEC_LCNT,
     4158      780    3                             VECTOR(DPSEHR_BASED.CU(I)),
     4159      781    3                             VECTOR(DPSEHR_BASED.OUDU(I)));
     4160      782    3              END;
     4161      783    2           RETURN;
     4162      784    2   END DPSEHIST;
     4163      785    1   END THF$HISTORY;
     4164      786        %EOD;

PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:777  
--  Include file information  --

   B_STRINGS_C.:E05TOU  is referenced.
   TH_SUBS_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure THF$HISTORY.

   Procedure THF$HISTORY requires 309 words for executable code.
   Procedure THF$HISTORY requires 34 words of local(AUTO) storage.

PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:778  

 Object Unit name= THF$HISTORY                                File name= THF$FORMAT.:E05TOU
 UTS= JUL 30 '97 06:15:45.60 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  RoData even  UTS    854   1526  THF$HISTORY
    1   Proc  even  none   309    465  THF$HISTORY
    2  RoData even  none    55     67  THF$HISTORY

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes            yes      Std        2  THF$HISTORY

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std      11 THW$WRITE
                       nStd      0 X66_AUTO_2
                       nStd      0 X66_ARET
                       Std       0 B_CONSPOOL_D

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     B_VECTNIL
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:779  

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:780  


     3760        1        /*M* THF$HISTORY - FORMAT HISTORY REGS FOR ELAN PROCERR ENTRIES */
     3761        2        /*T***********************************************************/
     3762        3        /*T*                                                         */
     3763        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     3764        5        /*T*                                                         */
     3765        6        /*T***********************************************************/
     3766        7        THF$HISTORY: PROC(HR$,PROCTYPE);

      7  1 000000   000000 700200 xent  THF$HISTORY  TSX0  ! X66_AUTO_2
         1 000001   000042 000002                    ZERO    34,2

     3767        8        /**/
     3768        9        /* PARAMS */
     3769       10    1   DCL HR$ PTR;
     3770       11    1   DCL PROCTYPE UBIN;
     3771       12        /**/
     3772       13        /* INCLUDE FILES */
     3773       14        %INCLUDE TH_SUBS_C;
     3774      396        /**/
     3775      397        /* ENTRY DEFS */
     3776      398    1   DCL THW$WRITE ENTRY(11);
     3777      399        /**/
     3778      400        /* AUTO */
     3779      401    1   DCL I SBIN WORD AUTO;
     3780      402    1   DCL LCNT SBIN WORD AUTO;
     3781      403    1   DCL OPCODE UBIN;
     3782      404    1   DCL DPSEVU1HR BIT(72) DALIGNED AUTO;
     3783      405    1   DCL VEC_LCNT BIT(72) DALIGNED;
     3784      406    1   DCL VEC_OPCODE BIT(72) DALIGNED;
     3785      407        /**/
     3786      408        /* CONSTANTS */
     3787      409        /*       HISTORY REGISTER TITLES */
     3788      410    1   DCL 1 VU_TITLE CONSTANT,
     3789      411    1         2 * CHAR(0) UNAL INIT('%/  --VIRTUAL UNIT HISTORY--%/'),
     3790      412    1         2 T1,
     3791      413    1           3 * CHAR(4) UNAL INIT('    '),
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:781  
     3792      414    1           3 * CHAR(15) UNAL INIT('        F   FFW'),
     3793      415    1           3 * CHAR(15) UNAL INIT('               '),
     3794      416    1           3 * CHAR(5) UNAL INIT('F  SM'),
     3795      417    1           3 * CHAR(13) UNAL INIT(' STORE-FAULT '),
     3796      418    1           3 * CHAR(4) UNAL INIT(' P F'),
     3797      419    1           3 * CHAR(17) UNAL INIT('      DAMSEL1+3%/'),
     3798      420    1         2 T2,
     3799      421    1           3 * CHAR(4) UNAL INIT('    '),
     3800      422    1           3 * CHAR(15) UNAL INIT('      F AFF PPR'),
     3801      423    1           3 * CHAR(7) UNAL INIT('     FF'),
     3802      424    1           3 * CHAR(4) UNAL INIT('  FF'),
     3803      425    1           3 * CHAR(9) UNAL INIT('  FFV FLA'),
     3804      426    1           3 * CHAR(13) UNAL INIT(' |CMD-FAULT  '),
     3805      427    1           3 * CHAR(22) UNAL INIT(' ITE VVVV |DAMSEL2+3%/'),
     3806      428    1         2 T3,
     3807      429    1           3 * CHAR(4) UNAL INIT('    '),
     3808      430    1           3 * CHAR(11) UNAL INIT('     DA MPK'),
     3809      431    1           3 * CHAR(24) UNAL INIT(' TTP FFF CSF FXF ISU SAS'),
     3810      432    1           3 * CHAR(13) UNAL INIT(' ||VU-IPRFLT '),
     3811      433    1           3 * CHAR(21) UNAL INIT(' ARA AAAA ||VUFAULT%/'),
     3812      434    1         2 T4,
     3813      435    1           3 * CHAR(4) UNAL INIT('    '),
     3814      436    1           3 * CHAR(20) UNAL INIT('  OP FB CTT WWT VVC '),
     3815      437    1           3 * CHAR(15) UNAL INIT('LAX XID DSO SVT'),
     3816      438    1           3 * CHAR(14) UNAL INIT(' |||     REAL '),
     3817      439    1           3 * CHAR(23) UNAL INIT('VGV 2222 |||EXSEG-FLG%/'),
     3818      440    1         2 T5,
     3819      441    1           3 * CHAR(4) UNAL INIT('    '),
     3820      442    1           3 * CHAR(20) UNAL INIT('CODE AS HDW KDW 12D '),
     3821      443    1           3 * CHAR(15) UNAL INIT('RSD DDT TWP RER'),
     3822      444    1           3 * CHAR(14) UNAL INIT(' |||  ADDRESS '),
     3823      445    1           3 * CHAR(0) UNAL INIT('UOU 0123 ||||HLD-STRT%/%10P');
     3824      446
     3825      447
     3826      448    1   DCL 1 CU_TITLE CONSTANT,
     3827      449    1         2 * CHAR(0) UNAL INIT('%/  --CONTROL UNIT HISTORY--%/'),
     3828      450    1         2 T1,
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:782  
     3829      451    1           3 * CHAR(22) UNAL INIT('                      '),
     3830      452    1           3 * CHAR(1) UNAL INIT('A'),
     3831      453    1           3 * CHAR(33) UNAL INIT('                                 '),
     3832      454    1           3 * CHAR(1) UNAL INIT('I'),
     3833      455    1           3 * CHAR(7) UNAL INIT('       '),
     3834      456    1           3 * CHAR(4) UNAL INIT('D_%/'),
     3835      457    1         2 T2,
     3836      458    1           3 * CHAR(4) UNAL INIT('    '),
     3837      459    1           3 * CHAR(18) UNAL INIT('                  '),
     3838      460    1           3 * CHAR(1) UNAL INIT('R'),
     3839      461    1           3 * CHAR(4) UNAL INIT('   _'),
     3840      462    1           3 * CHAR(29) UNAL INIT('                             '),
     3841      463    1           3 * CHAR(12) UNAL INIT('NFC OCO IP%/'),
     3842      464    1         2 T3,
     3843      465    1           3 * CHAR(4) UNAL INIT('    '),
     3844      466    1           3 * CHAR(10) UNAL INIT('          '),
     3845      467    1           3 * CHAR(1) UNAL INIT('T'),
     3846      468    1           3 * CHAR(5) UNAL INIT('     '),
     3847      469    1           3 * CHAR(7) UNAL INIT('R | __B'),
     3848      470    1           3 * CHAR(29) UNAL INIT('                             '),
     3849      471    1           3 * CHAR(13) UNAL INIT('TEU UUU RCB%/'),
     3850      472    1         2 T4,
     3851      473    1           3 * CHAR(4) UNAL INIT('    '),
     3852      474    1           3 * CHAR(23) UNAL INIT('PPR SPP RSR XX  P F XFA'),
     3853      475    1           3 * CHAR(29) UNAL INIT('                             '),
     3854      476    1           3 * CHAR(13) UNAL INIT('XTS SLL EBU%/'),
     3855      477    1         2 T5,
     3856      478    1           3 * CHAR(4) UNAL INIT('    '),
     3857      479    1           3 * CHAR(27) UNAL INIT('IOI IOO AAG DDI TW/ ILS  OP'),
     3858      480    1           3 * CHAR(15) UNAL INIT('               '),
     3859      481    1           3 * CHAR(23) UNAL INIT('CMD  PORT ECT TOO CSS%/'),
     3860      482    1         2 T6,
     3861      483    1           3 * CHAR(4) UNAL INIT('    '),
     3862      484    1           3 * CHAR(33) UNAL INIT('AAW WTN WWO EOC SIE PTE CODE TAG '),
     3863      485    1           3 * CHAR(0) UNAL INIT('ADDREG  ABCDE ABCD CHR RDD TYY%/%10P');
     3864      486
     3865      487    1   DCL 1 OU_TITLE CONSTANT,
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:783  
     3866      488    1         2 * CHAR(0) UNAL INIT('%/  --OPERATIONS UNIT HISTORY--%/'),
     3867      489    1         2 T1,
     3868      490    1           3 * CHAR(4) UNAL INIT('    '),
     3869      491    1           3 * CHAR(11) UNAL INIT('           '),
     3870      492    1           3 * CHAR(9) UNAL INIT('CD -LREG/'),
     3871      493    1           3 * CHAR(6) UNAL INIT('   RRR'),
     3872      494    1           3 * CHAR(13) UNAL INIT('             '),
     3873      495    1           3 * CHAR(6) UNAL INIT('S _   '),
     3874      496    1           3 * CHAR(10) UNAL INIT('REGISTER%/'),
     3875      497    1         2 T2,
     3876      498    1           3 * CHAR(4) UNAL INIT('    '),
     3877      499    1           3 * CHAR(11) UNAL INIT('     9     '),
     3878      500    1           3 * CHAR(8) UNAL INIT('RR -SREG'),
     3879      501    1           3 * CHAR(7) UNAL INIT('    BPS'),
     3880      502    1           3 * CHAR(16) UNAL INIT(' FFF FFG FFF T D'),
     3881      503    1           3 * CHAR(13) UNAL INIT('      USAGE%/'),
     3882      504    1         2 T3,
     3883      505    1           3 * CHAR(4) UNAL INIT('    '),
     3884      506    1           3 * CHAR(11) UNAL INIT('     B     '),
     3885      507    1           3 * CHAR(12) UNAL INIT('FF |----    '),
     3886      508    1           3 * CHAR(19) UNAL INIT('FFF GGG GGF GGG R A'),
     3887      509    1           3 * CHAR(13) UNAL INIT('   ________%/'),
     3888      510    1         2 T4,
     3889      511    1           3 * CHAR(4) UNAL INIT('    '),
     3890      512    1           3 * CHAR(15) UNAL INIT('  RP I TAG LL |'),
     3891      513    1           3 * CHAR(8) UNAL INIT('     RS '),
     3892      514    1           3 * CHAR(19) UNAL INIT('UUU IOD DOO OOO A T'),
     3893      515    1           3 * CHAR(19) UNAL INIT(' __XXXXXXXX  ICT%/'),
     3894      516    1         2 T5,
     3895      517    1           3 * CHAR(3) UNAL INIT('   '),
     3896      518    1           3 * CHAR(23) UNAL INIT('CODE T 345 GG CTR CODE '),
     3897      519    1           3 * CHAR(30) UNAL INIT('LLL NS1 2EA MNF V A AQ01234567'),
     3898      520    1           3 * CHAR(0) UNAL INIT('  TRACK%/%10P');
     3899      521
     3900      522    1   DCL 1 DU_TITLE CONSTANT,
     3901      523    1         2 * CHAR(0) UNAL INIT('%/  --DECIMAL UNIT HISTORY--%/'),
     3902      524    1         2 T1,
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:784  
     3903      525    1           3 * CHAR(4) UNAL INIT('    '),
     3904      526    1           3 * CHAR(20) UNAL INIT('  NS     DD    DDRPP'),
     3905      527    1           3 * CHAR(16) UNAL INIT('     N  F   FAII'),
     3906      528    1           3 * CHAR(14) UNAL INIT('     N  N   LL'),
     3907      529    1           3 * CHAR(24) UNAL INIT(' DWG  E L A B DDDFFA D%/'),
     3908      530    1         2 T2,
     3909      531    1           3 * CHAR(4) UNAL INIT('    '),
     3910      532    1           3 * CHAR(20) UNAL INIT('  EE D  DDDD  EEEDTT'),
     3911      533    1           3 * CHAR(16) UNAL INIT(' FFFWIS OB SRDNN'),
     3912      534    1           3 * CHAR(21) UNAL INIT(' DGGGLG LGAADD ARSASN'),
     3913      535    1           3 * CHAR(17) UNAL INIT(' EGNEL GGGLRD M%/'),
     3914      536    1         2 T3,
     3915      537    1           3 * CHAR(4) UNAL INIT('    '),
     3916      538    1           3 * CHAR(20) UNAL INIT('FFELDF FLUURD XNN+RR'),
     3917      539    1           3 * CHAR(23) UNAL INIT(' AAARNI UI ASJTS UDDDDL'),
     3918      540    1           3 * CHAR(32) UNAL INIT(' DLNNWW TTTNTD NCPXN BDSTND PD%/'),
     3919      541    1         2 T4,
     3920      542    1           3 * CHAR(4) UNAL INIT('    '),
     3921      543    1           3 * CHAR(20) UNAL INIT('PPDALR EALSEL HDDWAA'),
     3922      544    1           3 * CHAR(23) UNAL INIT(' ///DEX RT MTLRT DLLLPD'),
     3923      545    1           3 * CHAR(32) UNAL INIT(' 2DLLRR AIRSRS 1HKMK DBPGDG +X%/'),
     3924      546    1         2 T5,
     3925      547    1           3 * CHAR(4) UNAL INIT('    '),
     3926      548    1           3 * CHAR(20) UNAL INIT('OODDES XSDTDV BSIR00'),
     3927      549    1           3 * CHAR(23) UNAL INIT(' IIIBBB BB PCEPC DDDDDP'),
     3928      550    1           3 * CHAR(32) UNAL INIT(' DPDDTT ADDTOE 2DDOD DPDDDA DP%/'),
     3929      551    1         2 T6,
     3930      552    1           3 * CHAR(4) UNAL INIT('    '),
     3931      553    1           3 * CHAR(20) UNAL INIT('LPRRNT RTEROL GQST01'),
     3932      554    1           3 * CHAR(23) UNAL INIT(' 123DDD DD LTNT1 GABCP1'),
     3933      555    1           3 * CHAR(0) UNAL INIT(' P21212 VPPRPG 8PPPP CCCCGT VN%/%10P');
     3934      556
     3935      557    1   DCL 1 ELS_TITLE CONSTANT,
     3936      558    1         2 * CHAR(0) INIT('%/  --HISTORY REGISTERS--%/'),
     3937      559    1         2 T1,
     3938      560    1           3 * CHAR(31) UNAL INIT(' '),
     3939      561    1           3 * CHAR(0) UNAL INIT('FIRST C-CYCLE'),
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:785  
     3940      562    1           3 * CHAR(0) UNAL INIT(' PAGING%/'),
     3941      563    1         2 T2,
     3942      564    1           3 * CHAR(33) UNAL INIT(' '),
     3943      565    1           3 * CHAR(0) UNAL INIT('IC BIT 17 |'),
     3944      566    1           3 * CHAR(0) UNAL INIT(' | PTW RE-WRITE%/'),
     3945      567    1         2 T3,
     3946      568    1           3 * CHAR(0) UNAL INIT('    FORCE ECS OUTPUT NOP'),
     3947      569    1           3 * CHAR(6) UNAL INIT(' '),
     3948      570    1           3 * CHAR(0) UNAL INIT('INST FETCH | |'),
     3949      571    1           3 * CHAR(0) UNAL INIT(' | | PRE-PAGE SEQUENCE%/'),
     3950      572    1         2 T4,
     3951      573    1           3 * CHAR(0) UNAL INIT('    | MICRO STEP END'),
     3952      574    1           3 * CHAR(7) UNAL INIT(' '),
     3953      575    1           3 * CHAR(0) UNAL INIT('DIRECT OPER | | |'),
     3954      576    1           3 * CHAR(0) UNAL INIT(' | | | RETRY%/'),
     3955      577    1         2 T5,
     3956      578    1           3 * CHAR(0) UNAL INIT('    | |'),
     3957      579    1           3 * CHAR(16) UNAL INIT(' '),
     3958      580    1           3 * CHAR(0) UNAL INIT('DW MEM ACCESS | | | |'),
     3959      581    1           3 * CHAR(0) UNAL INIT(' | | | | PORT BUSY%/'),
     3960      582    1         2 T6 CHAR(0) INIT('%4X| |%14XSTORE COMMAND %10(| %)CACHE BLOCK LOAD REQ%/'),
     3961      583    1         2 T7,
     3962      584    1           3 * CHAR(0) UNAL INIT('    | |'),
     3963      585    1           3 * CHAR(7) UNAL INIT(' '),
     3964      586    1           3 * CHAR(0) UNAL INIT('HEALS RETRY FLAG   | | | | | |'),
     3965      587    1           3 * CHAR(0) UNAL INIT(' | | | | | | BYPASS READ%/'),
     3966      588    1         2 T8,
     3967      589    1           3 * CHAR(0) UNAL INIT('    | |'),
     3968      590    1           3 * CHAR(7) UNAL INIT(' '),
     3969      591    1           3 * CHAR(0) UNAL INIT('| PREP OPER ADDR   | | | | | |'),
     3970      592    1           3 * CHAR(0) UNAL INIT(' | | | | | | |%/'),
     3971      593    1         2 T9,
     3972      594    1           3 * CHAR(0) UNAL INIT('    | |'),
     3973      595    1           3 * CHAR(7) UNAL INIT(' '),
     3974      596    1           3 * CHAR(0) UNAL INIT('| | PREP INST ADDR | | | | F |'),
     3975      597    1           3 * CHAR(0) UNAL INIT(' | | | | | F F%/'),
     3976      598    1         2 T10,
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:786  
     3977      599    1           3 * CHAR(0) UNAL INIT('    | |'),
     3978      600    1           3 * CHAR(7) UNAL INIT(' '),
     3979      601    1           3 * CHAR(0) UNAL INIT('H | |'),
     3980      602    1           3 * CHAR(14) UNAL INIT(' '),
     3981      603    1           3 * CHAR(0) UNAL INIT('F F F D I S'),
     3982      604    1           3 * CHAR(0) UNAL INIT(' | F | F | B B%/'),
     3983      605    1         2 T11,
     3984      606    1           3 * CHAR(0) UNAL INIT('    D c'),
     3985      607    1           3 * CHAR(7) UNAL INIT(' '),
     3986      608    1           3 * CHAR(0) UNAL INIT('E D F'),
     3987      609    1           3 * CHAR(14) UNAL INIT(' '),
     3988      610    1           3 * CHAR(0) UNAL INIT('S D D P C P'),
     3989      611    1           3 * CHAR(0) UNAL INIT(' D W D R D L Y%/'),
     3990      612    1         2 T12,
     3991      613    1           3 * CHAR(0) UNAL INIT('    I E'),
     3992      614    1           3 * CHAR(7) UNAL INIT(' '),
     3993      615    1           3 * CHAR(0) UNAL INIT('A P P      I       '),
     3994      616    1           3 * CHAR(0) UNAL INIT('T B I I 1 O'),
     3995      617    1           3 * CHAR(0) UNAL INIT(' P P P T B K P%/'),
     3996      618    1         2 T13,
     3997      619    1           3 * CHAR(0) UNAL INIT('    D N   ECS '),
     3998      620    1           3 * CHAR(0) UNAL INIT('L O I  OP  N A     '),
     3999      621    1           3 * CHAR(0) UNAL INIT('R L R A 7 A'),
     4000      622    1           3 * CHAR(0) UNAL INIT(' G T P R S L R    REAL%/'),
     4001      623    1         2 T14,
     4002      624    1           3 * CHAR(0) UNAL INIT('    L D  ADDR '),
     4003      625    1           3 * CHAR(0) UNAL INIT('S A A CODE H R TAG '),
     4004      626    1           3 * CHAR(0) UNAL INIT('C C C C C C'),
     4005      627    1           3 * CHAR(0) UNAL INIT(' F W G Y Y D D  ADDRESS%/%10P');
     4006      628
     4007      629    1   DCL 1 DPSE_VU_TITLE CONSTANT,
     4008      630    1         2 * CHAR(0) INIT('%/  --VIRTUAL UNIT HISTORY REGISTERS--%/%10P');
     4009      631    1   DCL 1 DPSE_CUOUDU_TITLE CONSTANT,
     4010      632    1         2 * CHAR(0) INIT(
               632                  '%/  --CONTROL, OPERATIONS, AND DECIMAL UNIT HISTORY REGISTERS--%/%10P');
     4011      633
     4012      634
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:787  
     4013      635                                                /*  OUTPUT LINE FORMATS               */
     4014      636
     4015      637    1   DCL 1 L66_VU_FMT CONSTANT,
     4016      638    1         2 * CHAR(0) INIT('%2ZD: '),
     4017      639    1         2 * CHAR(0) INIT('%3P%4ZO %2...10P%2.2ZB %8(%3.3ZB %)'),
     4018      640    1         2 * CHAR(0) INIT('%8.24ZO %3.3ZB %4.4ZB %5.5ZB%10P');
     4019      641
     4020      642    1   DCL 1 L66_CU_FMT CONSTANT,
     4021      643    1         2 * CHAR(0) INIT('%2ZD: '),
     4022      644    1         2 * CHAR(0) INIT('%6(%3.3ZB %)%4.12ZO %2.6ZO  '),
     4023      645    1         2 * CHAR(0) INIT('%6.18ZO  %5.5ZB %4.4ZB %3(%3.3ZB %)%10P');
     4024      646
     4025      647    1   DCL 1 L66_OU_FMT CONSTANT,
     4026      648    1         2 * CHAR(0) INIT('%2ZD:  '),
     4027      649    1         2 * CHAR(0) INIT('%3.9ZO %1.1B %3.3ZB %1.1B%1.1B  %2.2ZB  '),
     4028      650    1         2 * CHAR(0) INIT('%2...18P%3.9ZO %4(%3.3ZB %)'),
     4029      651    1         2 * CHAR(0) INIT('%2(%1.1B %)%10.10ZB  %2.1..18P%6.18ZO%10P');
     4030      652
     4031      653    1   DCL 1 L66_DU_FMT CONSTANT,
     4032      654    1         2 * CHAR(0) INIT('%2ZD: '),
     4033      655    1         2 * CHAR(0) INIT('%4(%6.6ZB %)%2.2ZB %2...30P%5.5ZB '),
     4034      656    1         2 * CHAR(0) INIT('%2.1P%3(%6.6ZB %)%5.5ZB %2.1..24P%6.6ZB %2.2ZB%10P');
     4035      657
     4036      658    1   DCL 1 ELS_FMT CONSTANT,
     4037      659    1         2 * CHAR(0) INIT('%2.ZD: '),
     4038      660    1         2 * CHAR(0) INIT('%2(%1.1B %)%5.13ZO %3(%1.1B %)%3P%4ZO '),
     4039      661    1         2 * CHAR(0) INIT('%2...28P%2(%1.1B %)%2.6ZO  '),
     4040      662    1         2 * CHAR(0) INIT('%2.1..18P%13(%1.1B %)%2.5ZO%2.1P%6.18ZO%10P');
     4041      663
     4042      664    1   DCL 1 DPSE_VU_FMT CONSTANT,
     4043      665    1         2 * CHAR(0) INIT('%2ZD: '),
     4044      666    1         2 * CHAR(0) INIT('%1.3O %2(%2.6ZO %)%1.3O %2.6ZO %4.12ZO   '),
     4045      667    1         2 * CHAR(0) INIT('%0.1.0.2P%12.34ZO-%2.1P%1.2O   '),
     4046      668    1         2 * CHAR(0) INIT('%3P%10.30ZO %1.1B %1.2O %1.3O   '),
     4047      669    1         2 * CHAR(0) INIT('%4P%4ZO   '),
     4048      670    1         2 * CHAR(0) INIT('%3.1.0.10P%4.10ZO %1.2O %5.14ZO%10P');
     4049      671
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:788  
     4050      672    1   DCL 1 DPSE_CUOUDU_FMT CONSTANT,
     4051      673    1         2 * CHAR(0) INIT('%2ZD: '),
     4052      674    1         2 * CHAR(0) INIT('%12ZO %8.24ZO %4.12ZO   '),
     4053      675    1         2 * CHAR(0) INIT('%12ZO %6.18ZO %6.18ZO%10P');
     4054      676        /**/
     4055      677        /* BASED DATA */
     4056      678    1   DCL 1 L66HR_BASED ALIGNED BASED(HR$),
     4057      679    1         2 CU (0:15) BIT(72),
     4058      680    1         2 OU (0:15) BIT(72),
     4059      681    1         2 VU (0:15),
     4060      682    1           3 OPCODE UBIN(10) UNAL,
     4061      683    1           3 * BIT(62) UNAL,
     4062      684    1         2 DU (0:15) BIT(72);
     4063      685
     4064      686    1   DCL 1 ELSHR_BASED (0:15) ALIGNED BASED(HR$),
     4065      687    1         2 * BIT(18) UNAL,
     4066      688    1         2 OPCODE UBIN(10) UNAL,
     4067      689    1         2 * BIT(44) UNAL;
     4068      690
     4069      691    1   DCL 1 DPSEHR_BASED ALIGNED BASED(HR$),
     4070      692    1          2 CU (0:63) BIT(72),
     4071      693    1          2 OUDU (0:63) BIT(72),
     4072      694    1          2 VU1 (0:63) BIT(72),
     4073      695    1          2 VU2 (0:63),
     4074      696    1            3 * BIT(36) UNAL,
     4075      697    1            3 OPCODE UBIN(10) UNAL,
     4076      698    1            3 * BIT(26) UNAL;
     4077      699        %EJECT;
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:789  
     4078      700    1           VEC_LCNT = VECTOR(LCNT);

    700  1 000002   777640 235007                    LDA     -96,DL
         1 000003   200020 452500                    STP2    VEC_OPCODE+4,,AUTO
         1 000004   200020 236100                    LDQ     VEC_OPCODE+4,,AUTO
         1 000005   000006 036003                    ADLQ    6,DU
         1 000006   200012 757100                    STAQ    VEC_LCNT,,AUTO

     4079      701    1           VEC_OPCODE = VECTOR(OPCODE);

    701  1 000007   777640 235007                    LDA     -96,DL
         1 000010   200020 452500                    STP2    VEC_OPCODE+4,,AUTO
         1 000011   200020 236100                    LDQ     VEC_OPCODE+4,,AUTO
         1 000012   000007 036003                    ADLQ    7,DU
         1 000013   200014 757100                    STAQ    VEC_OPCODE,,AUTO

     4080      702    2           DO CASE(PROCTYPE);

    702  1 000014   200004 470500                    LDP0    @PROCTYPE,,AUTO
         1 000015   000000 235100                    LDA     0,,PR0
         1 000016   000003 115007                    CMPA    3,DL
         1 000017   000021 602005 1                  TNC     s:702+5,AL
         1 000020   000034 710000 1                  TRA     s:710
         1 000021   000024 710000 1                  TRA     s:704
         1 000022   000027 710000 1                  TRA     s:706
         1 000023   000032 710000 1                  TRA     s:708

     4081      703    2              CASE(%L66);

     4082      704    2                 CALL L66HIST;

    704  1 000024   000035 701000 1                  TSX1    L66HIST
         1 000025   000000 011000                    NOP     0
         1 000026   000034 710000 1                  TRA     s:710

     4083      705    2              CASE(%DPSE);

PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:790  
     4084      706    2                 CALL DPSEHIST;

    706  1 000027   000301 701000 1                  TSX1    DPSEHIST
         1 000030   000000 011000                    NOP     0
         1 000031   000034 710000 1                  TRA     s:710

     4085      707    2              CASE(%ELS1);

     4086      708    2                 CALL ELSHIST;

    708  1 000032   000231 701000 1                  TSX1    ELSHIST
         1 000033   000000 011000                    NOP     0

     4087      709    2              END;

     4088      710    1           RETURN;

    710  1 000034   000000 702200 xent               TSX2  ! X66_ARET

     4089      711        %EJECT;
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:791  
     4090      712    1   L66HIST: PROC;

    712  1 000035   200016 741300       L66HIST      STX1  ! VEC_OPCODE+2,,AUTO

     4091      713    2           CALL THW$WRITE(VECTOR(VU_TITLE));

    713  1 000036   000002 630400 2                  EPPR0   2
         1 000037   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000040   000000 701000 xent               TSX1    THW$WRITE
         1 000041   000000 011000                    NOP     0

     4092      714    3           DO LCNT=0 TO 15;

    714  1 000042   200006 450100                    STZ     LCNT,,AUTO

     4093      715    3              OPCODE = 4 * L66HR_BASED.VU.OPCODE(LCNT);

    715  1 000043   200003 470500                    LDP0    @HR$,,AUTO
         1 000044   000000 471500                    LDP1    0,,PR0
         1 000045   200006 235100                    LDA     LCNT,,AUTO
         1 000046   000001 735000                    ALS     1
         1 000047   100100 236105                    LDQ     64,AL,PR1
         1 000050   000030 772000                    QRL     24
         1 000051   007774 376007                    ANQ     4092,DL
         1 000052   200007 756100                    STQ     OPCODE,,AUTO

     4094      716    3              CALL THW$WRITE(VECTOR(L66_VU_FMT),

    716  1 000053   000000 471500                    LDP1    0,,PR0
         1 000054   000006 235000 2                  LDA     6
         1 000055   200006 236100                    LDQ     LCNT,,AUTO
         1 000056   000001 736000                    QLS     1
         1 000057   100100 633506                    EPPR3   64,QL,PR1
         1 000060   200020 453500                    STP3    VEC_OPCODE+4,,AUTO
         1 000061   200020 236100                    LDQ     VEC_OPCODE+4,,AUTO
         1 000062   200022 757100                    STAQ    VEC_OPCODE+6,,AUTO
         1 000063   200014 631500                    EPPR1   VEC_OPCODE,,AUTO
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:792  
         1 000064   200027 451500                    STP1    VEC_OPCODE+11,,AUTO
         1 000065   200022 634500                    EPPR4   VEC_OPCODE+6,,AUTO
         1 000066   200026 454500                    STP4    VEC_OPCODE+10,,AUTO
         1 000067   200012 635500                    EPPR5   VEC_LCNT,,AUTO
         1 000070   200025 455500                    STP5    VEC_OPCODE+9,,AUTO
         1 000071   000007 236000 2                  LDQ     7
         1 000072   200024 756100                    STQ     VEC_OPCODE+8,,AUTO
         1 000073   200024 630500                    EPPR0   VEC_OPCODE+8,,AUTO
         1 000074   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000075   000000 701000 xent               TSX1    THW$WRITE
         1 000076   000000 011000                    NOP     0

     4095      717    3                             VEC_LCNT,
     4096      718    3                             VECTOR(L66HR_BASED.VU(LCNT)),
     4097      719    3                             VEC_OPCODE);
     4098      720    3              END;

    720  1 000077   200006 054100                    AOS     LCNT,,AUTO
         1 000100   200006 235100                    LDA     LCNT,,AUTO
         1 000101   000017 115007                    CMPA    15,DL
         1 000102   000043 604400 1                  TMOZ    s:715

     4099      721        /**/
     4100      722    2           CALL THW$WRITE(VECTOR(CU_TITLE));

    722  1 000103   000012 630400 2                  EPPR0   10
         1 000104   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000105   000000 701000 xent               TSX1    THW$WRITE
         1 000106   000000 011000                    NOP     0

     4101      723    3           DO LCNT=0 TO 15;

    723  1 000107   200006 450100                    STZ     LCNT,,AUTO

     4102      724    3              CALL THW$WRITE(VECTOR(L66_CU_FMT),

    724  1 000110   200003 470500                    LDP0    @HR$,,AUTO
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:793  
         1 000111   000000 471500                    LDP1    0,,PR0
         1 000112   000006 235000 2                  LDA     6
         1 000113   200006 236100                    LDQ     LCNT,,AUTO
         1 000114   000001 736000                    QLS     1
         1 000115   100000 633506                    EPPR3   0,QL,PR1
         1 000116   200020 453500                    STP3    VEC_OPCODE+4,,AUTO
         1 000117   200020 236100                    LDQ     VEC_OPCODE+4,,AUTO
         1 000120   200022 757100                    STAQ    VEC_OPCODE+6,,AUTO
         1 000121   200022 631500                    EPPR1   VEC_OPCODE+6,,AUTO
         1 000122   200026 451500                    STP1    VEC_OPCODE+10,,AUTO
         1 000123   200012 634500                    EPPR4   VEC_LCNT,,AUTO
         1 000124   200025 454500                    STP4    VEC_OPCODE+9,,AUTO
         1 000125   000016 236000 2                  LDQ     14
         1 000126   200024 756100                    STQ     VEC_OPCODE+8,,AUTO
         1 000127   200024 630500                    EPPR0   VEC_OPCODE+8,,AUTO
         1 000130   000021 631400 xsym               EPPR1   B_VECTNIL+17
         1 000131   000000 701000 xent               TSX1    THW$WRITE
         1 000132   000000 011000                    NOP     0

     4103      725    3                             VEC_LCNT,
     4104      726    3                             VECTOR(L66HR_BASED.CU(LCNT)));
     4105      727    3              END;

    727  1 000133   200006 054100                    AOS     LCNT,,AUTO
         1 000134   200006 235100                    LDA     LCNT,,AUTO
         1 000135   000017 115007                    CMPA    15,DL
         1 000136   000110 604400 1                  TMOZ    s:724

     4106      728        /**/
     4107      729    2           CALL THW$WRITE(VECTOR(OU_TITLE));

    729  1 000137   000022 630400 2                  EPPR0   18
         1 000140   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000141   000000 701000 xent               TSX1    THW$WRITE
         1 000142   000000 011000                    NOP     0

     4108      730    3           DO LCNT=0 TO 15;
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:794  

    730  1 000143   200006 450100                    STZ     LCNT,,AUTO

     4109      731    3              CALL THW$WRITE(VECTOR(L66_OU_FMT),

    731  1 000144   200003 470500                    LDP0    @HR$,,AUTO
         1 000145   000000 471500                    LDP1    0,,PR0
         1 000146   000006 235000 2                  LDA     6
         1 000147   200006 236100                    LDQ     LCNT,,AUTO
         1 000150   000001 736000                    QLS     1
         1 000151   100040 633506                    EPPR3   32,QL,PR1
         1 000152   200020 453500                    STP3    VEC_OPCODE+4,,AUTO
         1 000153   200020 236100                    LDQ     VEC_OPCODE+4,,AUTO
         1 000154   200022 757100                    STAQ    VEC_OPCODE+6,,AUTO
         1 000155   200022 631500                    EPPR1   VEC_OPCODE+6,,AUTO
         1 000156   200026 451500                    STP1    VEC_OPCODE+10,,AUTO
         1 000157   200012 634500                    EPPR4   VEC_LCNT,,AUTO
         1 000160   200025 454500                    STP4    VEC_OPCODE+9,,AUTO
         1 000161   000026 236000 2                  LDQ     22
         1 000162   200024 756100                    STQ     VEC_OPCODE+8,,AUTO
         1 000163   200024 630500                    EPPR0   VEC_OPCODE+8,,AUTO
         1 000164   000021 631400 xsym               EPPR1   B_VECTNIL+17
         1 000165   000000 701000 xent               TSX1    THW$WRITE
         1 000166   000000 011000                    NOP     0

     4110      732    3                             VEC_LCNT,
     4111      733    3                             VECTOR(L66HR_BASED.OU(LCNT)));
     4112      734    3              END;

    734  1 000167   200006 054100                    AOS     LCNT,,AUTO
         1 000170   200006 235100                    LDA     LCNT,,AUTO
         1 000171   000017 115007                    CMPA    15,DL
         1 000172   000144 604400 1                  TMOZ    s:731

     4113      735        /**/
     4114      736    2           CALL THW$WRITE(VECTOR(DU_TITLE));

PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:795  
    736  1 000173   000032 630400 2                  EPPR0   26
         1 000174   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000175   000000 701000 xent               TSX1    THW$WRITE
         1 000176   000000 011000                    NOP     0

     4115      737    3           DO LCNT=0 TO 15;

    737  1 000177   200006 450100                    STZ     LCNT,,AUTO

     4116      738    3              CALL THW$WRITE(VECTOR(L66_DU_FMT),

    738  1 000200   200003 470500                    LDP0    @HR$,,AUTO
         1 000201   000000 471500                    LDP1    0,,PR0
         1 000202   000006 235000 2                  LDA     6
         1 000203   200006 236100                    LDQ     LCNT,,AUTO
         1 000204   000001 736000                    QLS     1
         1 000205   100140 633506                    EPPR3   96,QL,PR1
         1 000206   200020 453500                    STP3    VEC_OPCODE+4,,AUTO
         1 000207   200020 236100                    LDQ     VEC_OPCODE+4,,AUTO
         1 000210   200022 757100                    STAQ    VEC_OPCODE+6,,AUTO
         1 000211   200022 631500                    EPPR1   VEC_OPCODE+6,,AUTO
         1 000212   200026 451500                    STP1    VEC_OPCODE+10,,AUTO
         1 000213   200012 634500                    EPPR4   VEC_LCNT,,AUTO
         1 000214   200025 454500                    STP4    VEC_OPCODE+9,,AUTO
         1 000215   000036 236000 2                  LDQ     30
         1 000216   200024 756100                    STQ     VEC_OPCODE+8,,AUTO
         1 000217   200024 630500                    EPPR0   VEC_OPCODE+8,,AUTO
         1 000220   000021 631400 xsym               EPPR1   B_VECTNIL+17
         1 000221   000000 701000 xent               TSX1    THW$WRITE
         1 000222   000000 011000                    NOP     0

     4117      739    3                             VEC_LCNT,
     4118      740    3                             VECTOR(L66HR_BASED.DU(LCNT)));
     4119      741    3              END;

    741  1 000223   200006 054100                    AOS     LCNT,,AUTO
         1 000224   200006 235100                    LDA     LCNT,,AUTO
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:796  
         1 000225   000017 115007                    CMPA    15,DL
         1 000226   000200 604400 1                  TMOZ    s:738

     4120      742    2           RETURN;

    742  1 000227   200016 221300                    LDX1  ! VEC_OPCODE+2,,AUTO
         1 000230   000001 702211                    TSX2  ! 1,X1

     4121      743    2   END L66HIST;
     4122      744        %EJECT;
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:797  
     4123      745    1   ELSHIST: PROC;

    745  1 000231   200016 741300       ELSHIST      STX1  ! VEC_OPCODE+2,,AUTO

     4124      746    2           CALL THW$WRITE(VECTOR(ELS_TITLE));

    746  1 000232   000042 630400 2                  EPPR0   34
         1 000233   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000234   000000 701000 xent               TSX1    THW$WRITE
         1 000235   000000 011000                    NOP     0

     4125      747    3           DO LCNT=0 TO 15;

    747  1 000236   200006 450100                    STZ     LCNT,,AUTO

     4126      748    3              OPCODE = 4 * ELSHR_BASED.OPCODE(LCNT);

    748  1 000237   200003 470500                    LDP0    @HR$,,AUTO
         1 000240   000000 471500                    LDP1    0,,PR0
         1 000241   200006 235100                    LDA     LCNT,,AUTO
         1 000242   000001 735000                    ALS     1
         1 000243   100000 236105                    LDQ     0,AL,PR1
         1 000244   000006 772000                    QRL     6
         1 000245   007774 376007                    ANQ     4092,DL
         1 000246   200007 756100                    STQ     OPCODE,,AUTO

     4127      749    3              CALL THW$WRITE(VECTOR(ELS_FMT),

    749  1 000247   000000 471500                    LDP1    0,,PR0
         1 000250   000006 235000 2                  LDA     6
         1 000251   200006 236100                    LDQ     LCNT,,AUTO
         1 000252   000001 736000                    QLS     1
         1 000253   100000 633506                    EPPR3   0,QL,PR1
         1 000254   200020 453500                    STP3    VEC_OPCODE+4,,AUTO
         1 000255   200020 236100                    LDQ     VEC_OPCODE+4,,AUTO
         1 000256   200022 757100                    STAQ    VEC_OPCODE+6,,AUTO
         1 000257   200014 631500                    EPPR1   VEC_OPCODE,,AUTO
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:798  
         1 000260   200027 451500                    STP1    VEC_OPCODE+11,,AUTO
         1 000261   200022 634500                    EPPR4   VEC_OPCODE+6,,AUTO
         1 000262   200026 454500                    STP4    VEC_OPCODE+10,,AUTO
         1 000263   200012 635500                    EPPR5   VEC_LCNT,,AUTO
         1 000264   200025 455500                    STP5    VEC_OPCODE+9,,AUTO
         1 000265   000046 236000 2                  LDQ     38
         1 000266   200024 756100                    STQ     VEC_OPCODE+8,,AUTO
         1 000267   200024 630500                    EPPR0   VEC_OPCODE+8,,AUTO
         1 000270   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000271   000000 701000 xent               TSX1    THW$WRITE
         1 000272   000000 011000                    NOP     0

     4128      750    3                             VEC_LCNT,
     4129      751    3                             VECTOR(ELSHR_BASED(LCNT)),
     4130      752    3                             VEC_OPCODE);
     4131      753    3              END;

    753  1 000273   200006 054100                    AOS     LCNT,,AUTO
         1 000274   200006 235100                    LDA     LCNT,,AUTO
         1 000275   000017 115007                    CMPA    15,DL
         1 000276   000237 604400 1                  TMOZ    s:748

     4132      754    2           RETURN;

    754  1 000277   200016 221300                    LDX1  ! VEC_OPCODE+2,,AUTO
         1 000300   000001 702211                    TSX2  ! 1,X1

     4133      755    2   END ELSHIST;
     4134      756        %EJECT;
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:799  
     4135      757    1   DPSEHIST: PROC;

    757  1 000301   200016 741300       DPSEHIST     STX1  ! VEC_OPCODE+2,,AUTO

     4136      758    2           CALL THW$WRITE(VECTOR(DPSE_VU_TITLE));

    758  1 000302   000052 630400 2                  EPPR0   42
         1 000303   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000304   000000 701000 xent               TSX1    THW$WRITE
         1 000305   000000 011000                    NOP     0

     4137      759    3           DO I = 63 DOWNTO 0;

    759  1 000306   000077 235007                    LDA     63,DL
         1 000307   200005 755100                    STA     I,,AUTO

     4138      760    3              DPSEVU1HR = DPSEHR_BASED.VU1(I) \ '000770007303600000777777'O;

    760  1 000310   200003 470500                    LDP0    @HR$,,AUTO
         1 000311   000000 471500                    LDP1    0,,PR0
         1 000312   200005 235100                    LDA     I,,AUTO
         1 000313   000003 735000                    ALS     3
         1 000314   000100 100505                    MLR     fill='000'O
         1 000315   100400 000010                    ADSC9   256,A,PR1                cn=0,n=8
         1 000316   200020 000010                    ADSC9   VEC_OPCODE+4,,AUTO       cn=0,n=8
         1 000317   200020 237100                    LDAQ    VEC_OPCODE+4,,AUTO
         1 000320   001524 677000 0                  ERAQ    DPSE_CUOUDU_FMT+14
         1 000321   200010 757100                    STAQ    DPSEVU1HR,,AUTO

     4139      761    3              OPCODE = 4 * DPSEHR_BASED.VU2.OPCODE(I);

    761  1 000322   000000 471500                    LDP1    0,,PR0
         1 000323   200005 235100                    LDA     I,,AUTO
         1 000324   000001 735000                    ALS     1
         1 000325   100601 236105                    LDQ     385,AL,PR1
         1 000326   000030 772000                    QRL     24
         1 000327   007774 376007                    ANQ     4092,DL
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:800  
         1 000330   200007 756100                    STQ     OPCODE,,AUTO

     4140      762    3              IF I = 63

    762  1 000331   200005 235100                    LDA     I,,AUTO
         1 000332   000077 115007                    CMPA    63,DL
         1 000333   000336 601000 1                  TNZ     s:764

     4141      763    3              THEN LCNT = 0;

    763  1 000334   200006 450100                    STZ     LCNT,,AUTO
         1 000335   000340 710000 1                  TRA     s:765

     4142      764    3              ELSE LCNT = I+1;

    764  1 000336   000001 035007                    ADLA    1,DL
         1 000337   200006 755100                    STA     LCNT,,AUTO

     4143      765    3              CALL THW$WRITE(VECTOR(DPSE_VU_FMT),

    765  1 000340   000006 235000 2                  LDA     6
         1 000341   200020 452500                    STP2    VEC_OPCODE+4,,AUTO
         1 000342   200020 236100                    LDQ     VEC_OPCODE+4,,AUTO
         1 000343   000010 036003                    ADLQ    8,DU
         1 000344   000000 471500                    LDP1    0,,PR0
         1 000345   200022 757100                    STAQ    VEC_OPCODE+6,,AUTO
         1 000346   000006 235000 2                  LDA     6
         1 000347   200005 236100                    LDQ     I,,AUTO
         1 000350   000001 736000                    QLS     1
         1 000351   100600 633506                    EPPR3   384,QL,PR1
         1 000352   200024 453500                    STP3    VEC_OPCODE+8,,AUTO
         1 000353   200024 236100                    LDQ     VEC_OPCODE+8,,AUTO
         1 000354   200030 757100                    STAQ    VEC_OPCODE+12,,AUTO
         1 000355   200022 237100                    LDAQ    VEC_OPCODE+6,,AUTO
         1 000356   200026 757100                    STAQ    VEC_OPCODE+10,,AUTO
         1 000357   200030 237100                    LDAQ    VEC_OPCODE+12,,AUTO
         1 000360   200032 757100                    STAQ    VEC_OPCODE+14,,AUTO
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:801  
         1 000361   200014 631500                    EPPR1   VEC_OPCODE,,AUTO
         1 000362   200040 451500                    STP1    VEC_OPCODE+20,,AUTO
         1 000363   200032 634500                    EPPR4   VEC_OPCODE+14,,AUTO
         1 000364   200037 454500                    STP4    VEC_OPCODE+19,,AUTO
         1 000365   200026 635500                    EPPR5   VEC_OPCODE+10,,AUTO
         1 000366   200036 455500                    STP5    VEC_OPCODE+18,,AUTO
         1 000367   200012 636500                    EPPR6   VEC_LCNT,,AUTO
         1 000370   200035 456500                    STP6    VEC_OPCODE+17,,AUTO
         1 000371   000056 236000 2                  LDQ     46
         1 000372   200034 756100                    STQ     VEC_OPCODE+16,,AUTO
         1 000373   200034 630500                    EPPR0   VEC_OPCODE+16,,AUTO
         1 000374   000023 631400 xsym               EPPR1   B_VECTNIL+19
         1 000375   000000 701000 xent               TSX1    THW$WRITE
         1 000376   000000 011000                    NOP     0

     4144      766    3                             VEC_LCNT,
     4145      767    3                             VECTOR(DPSEVU1HR),
     4146      768    3                             VECTOR(DPSEHR_BASED.VU2(I)),
     4147      769    3                             VEC_OPCODE);
     4148      770    3              END;

    770  1 000377   000001 336007                    LCQ     1,DL
         1 000400   200005 056100                    ASQ     I,,AUTO
         1 000401   000310 605000 1                  TPL     s:760

     4149      771        /**/
     4150      772    2   NEXT_DPSE_HR:
     4151      773    2           CALL THW$WRITE(VECTOR(DPSE_CUOUDU_TITLE));

    773  1 000402   000062 630400 2     NEXT_DPSE_HR EPPR0   50
         1 000403   000017 631400 xsym               EPPR1   B_VECTNIL+15
         1 000404   000000 701000 xent               TSX1    THW$WRITE
         1 000405   000000 011000                    NOP     0

     4152      774    3           DO I = 63 DOWNTO 0;

    774  1 000406   000077 235007                    LDA     63,DL
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:802  
         1 000407   200005 755100                    STA     I,,AUTO

     4153      775    3              IF I = 63

    775  1 000410   200005 235100                    LDA     I,,AUTO
         1 000411   000077 115007                    CMPA    63,DL
         1 000412   000415 601000 1                  TNZ     s:777

     4154      776    3              THEN LCNT = 0;

    776  1 000413   200006 450100                    STZ     LCNT,,AUTO
         1 000414   000417 710000 1                  TRA     s:778

     4155      777    3              ELSE LCNT = I+1;

    777  1 000415   000001 035007                    ADLA    1,DL
         1 000416   200006 755100                    STA     LCNT,,AUTO

     4156      778    3              CALL THW$WRITE(VECTOR(DPSE_CUOUDU_FMT),

    778  1 000417   200003 470500                    LDP0    @HR$,,AUTO
         1 000420   000000 471500                    LDP1    0,,PR0
         1 000421   000006 235000 2                  LDA     6
         1 000422   200005 236100                    LDQ     I,,AUTO
         1 000423   000001 736000                    QLS     1
         1 000424   100000 633506                    EPPR3   0,QL,PR1
         1 000425   200020 453500                    STP3    VEC_OPCODE+4,,AUTO
         1 000426   200020 236100                    LDQ     VEC_OPCODE+4,,AUTO
         1 000427   000000 471500                    LDP1    0,,PR0
         1 000430   200022 757100                    STAQ    VEC_OPCODE+6,,AUTO
         1 000431   000006 235000 2                  LDA     6
         1 000432   200005 236100                    LDQ     I,,AUTO
         1 000433   000001 736000                    QLS     1
         1 000434   100200 634506                    EPPR4   128,QL,PR1
         1 000435   200024 454500                    STP4    VEC_OPCODE+8,,AUTO
         1 000436   200024 236100                    LDQ     VEC_OPCODE+8,,AUTO
         1 000437   200030 757100                    STAQ    VEC_OPCODE+12,,AUTO
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:803  
         1 000440   200022 237100                    LDAQ    VEC_OPCODE+6,,AUTO
         1 000441   200026 757100                    STAQ    VEC_OPCODE+10,,AUTO
         1 000442   200030 237100                    LDAQ    VEC_OPCODE+12,,AUTO
         1 000443   200032 757100                    STAQ    VEC_OPCODE+14,,AUTO
         1 000444   200032 631500                    EPPR1   VEC_OPCODE+14,,AUTO
         1 000445   200037 451500                    STP1    VEC_OPCODE+19,,AUTO
         1 000446   200026 635500                    EPPR5   VEC_OPCODE+10,,AUTO
         1 000447   200036 455500                    STP5    VEC_OPCODE+18,,AUTO
         1 000450   200012 636500                    EPPR6   VEC_LCNT,,AUTO
         1 000451   200035 456500                    STP6    VEC_OPCODE+17,,AUTO
         1 000452   000066 236000 2                  LDQ     54
         1 000453   200034 756100                    STQ     VEC_OPCODE+16,,AUTO
         1 000454   200034 630500                    EPPR0   VEC_OPCODE+16,,AUTO
         1 000455   000022 631400 xsym               EPPR1   B_VECTNIL+18
         1 000456   000000 701000 xent               TSX1    THW$WRITE
         1 000457   000000 011000                    NOP     0

     4157      779    3                             VEC_LCNT,
     4158      780    3                             VECTOR(DPSEHR_BASED.CU(I)),
     4159      781    3                             VECTOR(DPSEHR_BASED.OUDU(I)));
     4160      782    3              END;

    782  1 000460   000001 336007                    LCQ     1,DL
         1 000461   200005 056100                    ASQ     I,,AUTO
         1 000462   000410 605000 1                  TPL     s:775

     4161      783    2           RETURN;

    783  1 000463   200016 221300                    LDX1  ! VEC_OPCODE+2,,AUTO
         1 000464   000001 702211                    TSX2  ! 1,X1
     4162      784    2   END DPSEHIST;
     4163      785    1   END THF$HISTORY;
     4164      786        %EOD;

PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:804  
--  Include file information  --

   B_STRINGS_C.:E05TOU  is referenced.
   TH_SUBS_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure THF$HISTORY.
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:805  

 **** Variables and constants ****

  ****  Section 000 RoData THF$HISTORY

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   146-0-0/c STRC(4014)  r     1 CU_TITLE                1506-0-0/c STRC(495)   r     1 DPSE_CUOUDU_FMT
  1226-0-0/c STRC(621)   r     1 DPSE_CUOUDU_TITLE       1437-0-0/c STRC(1395)  r     1 DPSE_VU_FMT
  1213-0-0/c STRC(396)   r     1 DPSE_VU_TITLE            454-0-0/c STRC(4554)  r     1 DU_TITLE
  1402-0-0/c STRC(1035)  r     1 ELS_FMT                  653-0-0/c STRC(8064)  r     1 ELS_TITLE
  1273-0-0/c STRC(657)   r     1 L66_CU_FMT              1353-0-0/c STRC(810)   r     1 L66_DU_FMT
  1316-0-0/c STRC(1035)  r     1 L66_OU_FMT              1250-0-0/c STRC(657)   r     1 L66_VU_FMT
   326-0-0/c STRC(3096)  r     1 OU_TITLE                   0-0-0/c STRC(3654)  r     1 VU_TITLE

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @HR$                       4-0-0/w PTR         r     1 @PROCTYPE
    10-0-0/d BIT (72)    r     1 DPSEVU1HR                 *0-0-0/w PTR         r     1 HR$
     5-0-0/w SBIN        r     1 I                          6-0-0/w SBIN        r     1 LCNT
     7-0-0/w UBIN        r     1 OPCODE                    *0-0-0/w UBIN        r     1 PROCTYPE
    12-0-0/d BIT (72)    r     1 VEC_LCNT                  14-0-0/d BIT (72)    r     1 VEC_OPCODE

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(18432) r     1 DPSEHR_BASED
     0-0-0/w STRC(72)    r     1 ELSHR_BASED(0:15)
     0-0-0/w STRC(4608)  r     1 L66HR_BASED

PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:806  

   Procedure THF$HISTORY requires 309 words for executable code.
   Procedure THF$HISTORY requires 34 words of local(AUTO) storage.
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:807  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:808  
          MINI XREF LISTING

CU_TITLE
       448**DCL       722--CALL
DPSEHIST
       757**PROC      706--CALL
DPSEHR_BASED.CU
       692**DCL       778--CALL
DPSEHR_BASED.OUDU
       693**DCL       778--CALL
DPSEHR_BASED.VU1
       694**DCL       760>>ASSIGN
DPSEHR_BASED.VU2
       695**DCL       765--CALL
DPSEHR_BASED.VU2.OPCODE
       697**DCL       761>>ASSIGN
DPSEVU1HR
       404**DCL       760<<ASSIGN    765--CALL
DPSE_CUOUDU_FMT
       672**DCL       778--CALL
DPSE_CUOUDU_TITLE
       631**DCL       773--CALL
DPSE_VU_FMT
       664**DCL       765--CALL
DPSE_VU_TITLE
       629**DCL       758--CALL
DU_TITLE
       522**DCL       736--CALL
ELSHIST
       745**PROC      708--CALL
ELSHR_BASED
       686**DCL       749--CALL
ELSHR_BASED.OPCODE
       688**DCL       748>>ASSIGN
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:809  
ELS_FMT
       658**DCL       749--CALL
ELS_TITLE
       557**DCL       746--CALL
HR$
        10**DCL         7--PROC      678--IMP-PTR   686--IMP-PTR   691--IMP-PTR   715>>ASSIGN    716>>CALL
       724>>CALL      731>>CALL      738>>CALL      748>>ASSIGN    749>>CALL      760>>ASSIGN    761>>ASSIGN
       765>>CALL      778>>CALL      778>>CALL
I
       401**DCL       759<<DOINDEX   760>>ASSIGN    761>>ASSIGN    762>>IF        764>>ASSIGN    765>>CALL
       774<<DOINDEX   775>>IF        777>>ASSIGN    778>>CALL      778>>CALL
L66HIST
       712**PROC      704--CALL
L66HR_BASED.CU
       679**DCL       724--CALL
L66HR_BASED.DU
       684**DCL       738--CALL
L66HR_BASED.OU
       680**DCL       731--CALL
L66HR_BASED.VU
       681**DCL       716--CALL
L66HR_BASED.VU.OPCODE
       682**DCL       715>>ASSIGN
L66_CU_FMT
       642**DCL       724--CALL
L66_DU_FMT
       653**DCL       738--CALL
L66_OU_FMT
       647**DCL       731--CALL
L66_VU_FMT
       637**DCL       716--CALL
LCNT
       402**DCL       700--ASSIGN    714<<DOINDEX   715>>ASSIGN    716>>CALL      723<<DOINDEX   724>>CALL
       730<<DOINDEX   731>>CALL      737<<DOINDEX   738>>CALL      747<<DOINDEX   748>>ASSIGN    749>>CALL
       763<<ASSIGN    764<<ASSIGN    776<<ASSIGN    777<<ASSIGN
OPCODE
PL6.E3A0      #003=THF$HISTORY File=THF$FORMAT.:E05TSI                           WED 07/30/97 06:15 Page:810  
       403**DCL       701--ASSIGN    715<<ASSIGN    748<<ASSIGN    761<<ASSIGN
OU_TITLE
       487**DCL       729--CALL
PROCTYPE
        11**DCL         7--PROC      702>>DOCASE
THW$WRITE
       398**DCL-ENT   713--CALL      716--CALL      722--CALL      724--CALL      729--CALL      731--CALL
       736--CALL      738--CALL      746--CALL      749--CALL      758--CALL      765--CALL      773--CALL
       778--CALL
VEC_LCNT
       405**DCL       700<<ASSIGN    716<>CALL      724<>CALL      731<>CALL      738<>CALL      749<>CALL
       765<>CALL      778<>CALL
VEC_OPCODE
       406**DCL       701<<ASSIGN    716<>CALL      749<>CALL      765<>CALL
VU_TITLE
       410**DCL       713--CALL

PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:811  
     4165        1        /*M* THF$HWE - ROUTINE TO BUILD HWE REPORTS FOR ELAN */
     4166        2        /*T***********************************************************/
     4167        3        /*T*                                                         */
     4168        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     4169        5        /*T*                                                         */
     4170        6        /*T***********************************************************/
     4171        7        THF$HWE: PROC(CODE);
     4172        8        /**/
     4173        9        /* PARAMS */
     4174       10    1   DCL CODE UBIN WORD;
     4175       11        /**/
     4176       12        /* INCLUDE FILES */
     4177       13        %INCLUDE CP_6;
     4178       94        %INCLUDE EL$TABLES;
     4179      417        %INCLUDE TH_DATA_R;
     4180      495        %INCLUDE TH_SUBS_C;
     4181      877        %INCLUDE TH_DATA_C;
     4182      893        %INCLUDE EL_SUBS_C;
     4183      977        %INCLUDE XUD_UTS_M;
     4184     1059        /**/
     4185     1060        /* ENTRY DEFS */
     4186     1061    1   DCL THG$GETREC ENTRY(4) ALTRET;
     4187     1062    1   DCL THW$WRITE ENTRY(11);
     4188     1063    1   DCL THF$ADD_TEXTC ENTRY(3);
     4189     1064    1   DCL THF$STATUS ENTRY(5) ALTRET;
     4190     1065    1   DCL THG$OPENXSA ENTRY(1) ALTRET;
     4191     1066    1   DCL THG$PRECORDXSA ENTRY(1) ALTRET;
     4192     1067    1   DCL THG$CLOSEXSA ENTRY ALTRET;
     4193     1068        /**/
     4194     1069        /* VARS */
     4195     1070    1   DCL START_TIME UBIN WORD;
     4196     1071    1   DCL STOP_TIME UBIN WORD;
     4197     1072    1   DCL I SBIN;
     4198     1073    1   DCL J SBIN;
     4199     1074    1   DCL NUM_EDACS SBIN WORD;
     4200     1075    1   DCL REP_CODE UBIN WORD;
     4201     1076    1   DCL FIRST_REP UBIN WORD;
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:812  
     4202     1077    1   DCL LAST_REP UBIN WORD;
     4203     1078    1   DCL MAJBUF CHAR(32);
     4204     1079    1   DCL MINBUF CHAR(32);
     4205     1080    1   DCL MAJCOUNT SBIN WORD;
     4206     1081    1   DCL MINCOUNT SBIN WORD;
     4207     1082    1   DCL ERRLOG_DATE UBIN WORD STATIC;
     4208     1083    1   DCL BLANK_LINE CHAR(0) CONSTANT INIT('%10P');
     4209     1084    1   DCL EOF_FLAG BIT(1);
     4210     1085    1   DCL PRINT_HDR BIT(1);
     4211     1086    1   DCL NUM_LINES UBIN WORD;
     4212     1087    1   DCL PRINT_BLANK BIT(1);
     4213     1088    1   DCL LAST_DATE UBIN WORD;
     4214     1089    1   DCL FIRST_EDAC BIT(1);
     4215     1090    1   DCL PRINT_DATE CHAR(0) CONSTANT INIT(
     4216     1091    1   '(%8.36.1U)%10P');
     4217     1092    1   DCL CTL$ PTR;
     4218     1093    1   DCL TEXTBUF CHAR(256);
     4219     1094    1   DCL TEXT$ PTR;
     4220     1095    1   DCL 1 TVEC,
     4221     1096    1         2 BOUND UBIN(20) UNAL,
     4222     1097    1         2 * BIT(16),
     4223     1098    1         2 PTR$ PTR;
     4224     1099    1   DCL BOARD CHAR(1);
     4225     1100    1   DCL CHIP CHAR(3);
     4226     1101    1   DCL PERIPH_TITLE CHAR(0) CONSTANT INIT(
     4227     1102    1   '%2/Hardware Error Report (PERIPH) for %2P%T from %3P%14.36.2U to %4P%14.36.2U%2/%10
              1102        P');
     4228     1103    1   DCL FEP_TITLE CHAR(0) CONSTANT INIT(
     4229     1104    1   '%2/Hardware Error Report (FEP) for %2P%T from %3P%14.36.2U to %4P%14.36.2U%2/%10P')
              1104            ;
     4230     1105    1   DCL IOM_TITLE CHAR(0) CONSTANT INIT(
     4231     1106    1   '%2/Hardware Error Report (IOM) for %2P%T from %3P%14.36.2U to %4P%14.36.2U%2/%10P')
              1106            ;
     4232     1107    1   DCL MPC_TITLE CHAR(0) CONSTANT INIT(
     4233     1108    1   '%2/Hardware Error Report (MPC) for %2P%T from %3P%14.36.2U to %4P%14.36.2U%2/%10P')
              1108            ;
     4234     1109    1   DCL MEM_TITLE CHAR(0) CONSTANT INIT(
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:813  
     4235     1110    1   '%2/Hardware Error Report (MEM) for %2P%T from %3P%14.36.2U to %4P%14.36.2U%2/%10P')
              1110            ;
     4236     1111    1   DCL TITLE_VEC(0:5) BIT(72) CONSTANT INIT(VECTOR(NIL),
     4237     1112    1                                            VECTOR(MEM_TITLE),
     4238     1113    1                                            VECTOR(IOM_TITLE),
     4239     1114    1                                            VECTOR(FEP_TITLE),
     4240     1115    1                                            VECTOR(PERIPH_TITLE),
     4241     1116    1                                            VECTOR(MPC_TITLE));
     4242     1117        /**/
     4243     1118    1   DCL 1 EDAC_TABLE (0:255),
     4244     1119    1         2 * BIT(32) UNAL,
     4245     1120    1         2 MOSID BIT(4) UNAL,
     4246     1121    1         2 SYNDROME,
     4247     1122    1           3 A45 UBIN(2) UNAL,
     4248     1123    1           3 A678 UBIN(3) UNAL,
     4249     1124    1           3 * BIT(1) UNAL,
     4250     1125    1           3 NUMB UBIN(7) UNAL,
     4251     1126    1           3 ODDEVN BIT(1) UNAL,
     4252     1127    1           3 PORT# UBIN(2) UNAL,
     4253     1128    1           3 STORE# UBIN(2) UNAL,
     4254     1129    1         2 SYNDROME1 REDEF SYNDROME UBIN(18) UNAL,
     4255     1130    1         2 COUNT UBIN(18) UNAL,
     4256     1131    1         2 UTS UBIN WORD;
     4257     1132    1   DCL 1 STORE_MODE,
     4258     1133    1         2 * BIT(36) UNAL,
     4259     1134    1         2 SYNDROME,
     4260     1135    1           3 * BIT(14) UNAL,
     4261     1136    1           3 PORT# UBIN(2) UNAL,
     4262     1137    1           3 STORE# UBIN(2) UNAL,
     4263     1138    1         2 SYNDROME1 REDEF SYNDROME UBIN(18) UNAL,
     4264     1139    1         2 * BIT(18) UNAL;
     4265     1140    1   DCL TEMP(0:1) BIT(72) DALIGNED;
     4266     1141        /**/
     4267     1142    1   DCL NEXT_ENTRY UBIN WORD STATIC INIT(0);
     4268     1143    1   DCL TH_HWE_FMT(0:0) PTR SYMREF;
     4269     1144        /**/
     4270     1145    1   DCL TEMP_UTS UBIN;
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:814  
     4271     1146        /**/
     4272     1147        /* MACRO INVOCATIONS */
     4273     1148        %CTL (STCLASS="BASED(CTL$)");
     4274     1158        %EL$HDR (NAME=HDR,STCLASS="BASED(TH_HDR.PTR$)");
     4275     1214        %EL$EDAC (STCLASS="BASED(TH_INFO.PTR$)");
     4276     1223        %EL$IOERR (STCLASS="BASED(TH_INFO.PTR$)");
     4277     1233        %XUD$UTS_ENTRIES;
     4278     1265        %XUD_UTS_EQU;
     4279     1276        /**/
     4280     1277        /* FPTS */
     4281     1278        %FPT_TIME (SOURCE=UTS,
     4282     1279                        DEST=EXT,
     4283     1280                        DATE=TH_DATE,
     4284     1281                   TIME=TH_TIME);
     4285     1300        %FPT_TIME (FPTN=RECORD_DATE,
     4286     1301                   SOURCE=UTS,
     4287     1302                   DEST=EXT,
     4288     1303                   DATE=TH_DATE,
     4289     1304                   TIME=TH_TIME,
     4290     1305                   DAY=TH_DAY,
     4291     1306                   TSTAMP=TH_LASTUTS,
     4292     1307                   STCLASS=CONSTANT);
     4293     1326        /**/
     4294     1327        %EJECT;
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:815  
     4295     1328    1        IF CODE = 0
     4296     1329    1           THEN                            /* ALL REPORTS                        */
     4297     1330    2           DO;
     4298     1331    2              FIRST_REP = %MEM;
     4299     1332    2              LAST_REP = %MPC;
     4300     1333    2           END;
     4301     1334    1           ELSE
     4302     1335    2           DO;
     4303     1336    2              FIRST_REP = CODE;
     4304     1337    2              LAST_REP = CODE;
     4305     1338    2           END;
     4306     1339    1        FIRST_EDAC = %TRUE;
     4307     1340    2        DO REP_CODE = FIRST_REP TO LAST_REP;
     4308     1341    2           IF REP_CODE = %FEP OR REP_CODE = %IOM OR REP_CODE = %MPC
     4309     1342    2              THEN GOTO ENDLOOP;  /* REPORTS UNIMPLIMENTED */
     4310     1343    2           IF CODE = 0 /* ALL */
     4311     1344    2              THEN CALL THW$WRITE(TITLE_VEC(REP_CODE),
     4312     1345    2                                  VECTOR(TH_SITE_ID),
     4313     1346    2                                  VECTOR(TH_SITE_NAME),
     4314     1347    2                                  VECTOR(TH_CONSTRAINTS.START),
     4315     1348    2                                  VECTOR(TH_CONSTRAINTS.STOP));
     4316     1349    2           LAST_DATE = 1;
     4317     1350    2           CTL$ = TH_HWE_FMT(REP_CODE);
     4318     1351    2           PRINT_HDR = %TRUE;
     4319     1352    2          CALL XUD$UTS_DIFF_SEC (START_TIME, TH_CONSTRAINTS.START, 0);
     4320     1353    2          START_TIME = START_TIME / 86400;
     4321     1354    2          CALL XUD$UTS_ADJ_25TH (START_TIME, 0, START_TIME*%UTS_25TH_DAY#);
     4322     1355    2          CALL XUD$UTS_DIFF_SEC (STOP_TIME, TH_CONSTRAINTS.STOP, 0);
     4323     1356    2          STOP_TIME = STOP_TIME / 86400;
     4324     1357    2          CALL XUD$UTS_ADJ_25TH (STOP_TIME, 0, STOP_TIME*%UTS_25TH_DAY#);
     4325     1358    2          ERRLOG_DATE = START_TIME;
     4326     1359    3          DO WHILE (ERRLOG_DATE <= STOP_TIME);
     4327     1360    3              CALL THG$OPENXSA(ERRLOG_DATE) ALTRET(NOT_THERE);
     4328     1361    4              DO CASE(REP_CODE);
     4329     1362    4                 CASE(%PERIPH);
     4330     1363    4                    PRINT_BLANK = %FALSE;
     4331     1364    4                    TH_CONSTRAINTS.NTYPES = 1;
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:816  
     4332     1365    4                    TH_CONSTRAINTS.TYPES(0) = EL_IOERR;
     4333     1366    5                    DO I = 0 TO TH_NUM_REP_DEVS - 1;
     4334     1367    5                       TH_BOF = %YES;
     4335     1368    5                       EOF_FLAG = %FALSE;
     4336     1369    5                       NUM_LINES = 0;
     4337     1370    5                       TH_CONSTRAINTS.DEVNM = TH_REP_DEVS(I);
     4338     1371    5                       IF TH_CONSTRAINTS.DEVNM ~= ' '
     4339     1372    5                       THEN TH_CHECK_DEVNM = '1'B;
     4340     1373    5                       ELSE TH_CHECK_DEVNM = '0'B;
     4341     1374    6                       DO WHILE(NOT EOF_FLAG);
     4342     1375    6                          CALL THG$GETREC(%ERRLOG) ALTRET(PERIPH_EOF);
     4343     1376    7                          IF PRINT_HDR THEN DO;
     4344     1377    7                             PRINT_HDR = %FALSE;
     4345     1378    8                             DO J = 1 TO CTL.NHDR;
     4346     1379    8                                CALL THW$WRITE(CTL.FMT(J));
     4347     1380    8                                END;  /* DO J */
     4348     1381    7                             END;  /* IF PRINT_HDR */
     4349     1382    6                          CALL XUD$UTS_DIFF_SEC (TEMP_UTS, HDR.UTS, 0);
     4350     1383    6                          TEMP_UTS = TEMP_UTS / 86400;
     4351     1384    7                          IF TEMP_UTS ~= LAST_DATE THEN DO;
     4352     1385    7                             CALL THW$WRITE(VECTOR(PRINT_DATE),
     4353     1386    7                                            VECTOR(HDR.UTS));
     4354     1387    7                             CALL XUD$UTS_DIFF_SEC (LAST_DATE, HDR.UTS, 0);
     4355     1388    7                             LAST_DATE = LAST_DATE / 86400;
     4356     1389    7                             END;  /* IF UTS ~= LAST_DATE */
     4357     1390    6                          IF PRINT_BLANK
     4358     1391    6                             THEN
     4359     1392    7                             DO;
     4360     1393    7                                CALL THW$WRITE(VECTOR(BLANK_LINE));
     4361     1394    7                                PRINT_BLANK = %FALSE;
     4362     1395    7                             END;  /* IF PRINT_BLANK */
     4363     1396    6                          NUM_LINES = NUM_LINES + 1;
     4364     1397
     4365     1398    6                          TVEC = VECTOR(NIL);
     4366     1399    6                          TEXT$ = ADDR(TEXTBUF);
     4367     1400    6                          CALL THF$STATUS(EL$IOERR,MAJBUF,MAJCOUNT,MINBUF,MINCOUNT)
              1400                                   ALTRET(NO_STATUS);
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:817  
     4368     1401    6                          CALL THF$ADD_TEXTC(TEXT$,MAJBUF,MAJCOUNT);
     4369     1402    6                          CALL THF$ADD_TEXTC(TEXT$,MINBUF,MINCOUNT);
     4370     1403    6                          TVEC = VECTOR(TEXTBUF);
     4371     1404    6                          TVEC.BOUND = POFFC(TEXT$,ADDR(TEXTBUF)) - 1;
     4372     1405    6              NO_STATUS: ;
     4373     1406    6                          CALL M$TIME(RECORD_DATE);
     4374     1407    7                          DO J = CTL.NHDR + 1 TO CTL.NHDR + CTL.NFMT;
     4375     1408    7                             CALL THW$WRITE(CTL.FMT(J),VECTOR(TH_TIME),TH_INFO,TVEC);
     4376     1409    7                          END;             /* DO J                               */
     4377     1410    7                          DO NEVER;
     4378     1411    7                PERIPH_EOF:  EOF_FLAG = %TRUE;
     4379     1412    7                          END;             /* DO NEVER                           */
     4380     1413    6                       END;                /* DO WHILE NOT EOF_FLAG              */
     4381     1414    5                       IF NUM_LINES > 0
     4382     1415    5                          THEN PRINT_BLANK = %TRUE;
     4383     1416    5                    END;                   /* DO I                               */
     4384     1417    4                 CASE(%FEP);
     4385     1418                                     /* FEP REPORT - UNIMPLIMENTED IN B00 */
     4386     1419    4                 CASE(%IOM);
     4387     1420                                                /* CODE FOR THIS GUY                  */
     4388     1421    4                 CASE(%MPC);
     4389     1422                          /* CODE FOR MPC REPORT */
     4390     1423    4                 CASE(%MEM);               /* EDAC REPORT                        */
     4391     1424    5                    IF FIRST_EDAC THEN DO;
     4392     1425    5                       FIRST_EDAC = %FALSE;
     4393     1426    5                       EDAC_TABLE = '0'B;
     4394     1427    5                       TH_CONSTRAINTS.NTYPES = 1;
     4395     1428    5                       TH_CONSTRAINTS.TYPES(0) = EL_EDAC;
     4396     1429    5                       TH_CONSTRAINTS.DEVNM = ' ';
     4397     1430    5                       TH_CHECK_DEVNM = '0'B;
     4398     1431    5                       NUM_EDACS = 0;
     4399     1432    5                       NEXT_ENTRY = 0;
     4400     1433    5                       END;  /* IF */
     4401     1434    4                    TH_BOF = %YES;
     4402     1435    4                    EOF_FLAG = %FALSE;
     4403     1436    5                    DO WHILE(NOT EOF_FLAG);
     4404     1437    5                       CALL THG$GETREC(%ERRLOG) ALTRET(EOF);
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:818  
     4405     1438    5                       STORE_MODE = EL$EDAC.STORE_MODE;
     4406     1439    5                       STORE_MODE.SYNDROME.PORT# = EL$EDAC.PORT#;
     4407     1440    5                       STORE_MODE.SYNDROME.STORE# = EL$EDAC.STORE_UNIT;
     4408     1441    6                       DO J = 0 TO 255;
     4409     1442    7                          IF EDAC_TABLE.SYNDROME1(J) = STORE_MODE.SYNDROME1 THEN DO;
     4410     1443    7                             EDAC_TABLE.COUNT(J) = EDAC_TABLE.COUNT(J) + 1;
     4411     1444    7                             EDAC_TABLE.UTS(J) = HDR.UTS;
     4412     1445    7                             GOTO FOUND_IT;
     4413     1446    7                             END;  /* IF */
     4414     1447    6                          ELSE
     4415     1448    6                             IF (EDAC_TABLE.COUNT(J) < EDAC_TABLE.COUNT(NEXT_ENTRY)) OR
     4416     1449    6                                (EDAC_TABLE.COUNT(J) = EDAC_TABLE.COUNT(NEXT_ENTRY) AND
     4417     1450    6                                EDAC_TABLE.UTS(J) < EDAC_TABLE.UTS(NEXT_ENTRY))
     4418     1451    6                             THEN NEXT_ENTRY = J;
     4419     1452    6                          END;  /* DO J */
     4420     1453    5                       EDAC_TABLE.SYNDROME1(NEXT_ENTRY) = STORE_MODE.SYNDROME1;
     4421     1454    5                       EDAC_TABLE.COUNT(NEXT_ENTRY) = 1;
     4422     1455    5                       EDAC_TABLE.UTS(NEXT_ENTRY) = HDR.UTS;
     4423     1456    5                       EDAC_TABLE.MOSID(NEXT_ENTRY) = EL$EDAC.STORE_MODE.MOSID;
     4424     1457    5                       NUM_EDACS = NUM_EDACS + 1;
     4425     1458    5           FOUND_IT:
     4426     1459    6                       DO NEVER;
     4427     1460    6                   EOF:   EOF_FLAG = %TRUE;
     4428     1461    6                       END;                /* DO NEVER                           */
     4429     1462    5                    END;                   /* DO WHILE NOT EOF_FLAG              */
     4430     1463
     4431     1464    4                    IF NUM_EDACS > 256
     4432     1465    4                       THEN NUM_EDACS = 256;
     4433     1466    4              END;                         /* DO CASE(REP_CODE)                  */
     4434     1467    4              DO NEVER;
     4435     1468    4     NOT_THERE:NUM_EDACS = 0;
     4436     1469    4              END;
     4437     1470    3              CALL XUD$UTS_ADJ_25TH(ERRLOG_DATE,ERRLOG_DATE,%UTS_25TH_DAY#);
     4438     1471    3           END;                            /* DO ERRLOG_DATE <= STOP */
     4439     1472    3           DO CASE(REP_CODE);
     4440     1473    3              CASE(%MEM);  /* NOW OUTPUT THE EDAC RECORDS */
     4441     1474                      /* SORT EDAC TABLE BY UTS */
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:819  
     4442     1475    4                 DO I = 1 TO NUM_EDACS - 1;
     4443     1476    5                    DO J = 1 TO NUM_EDACS - I;
     4444     1477    5                       IF EDAC_TABLE.UTS(J-1) > EDAC_TABLE.UTS(J)
     4445     1478    5                          THEN          /* SWITCH EM                          */
     4446     1479    6                          DO;
     4447     1480    6                             TEMP = EDAC_TABLE(J-1);
     4448     1481    6                             EDAC_TABLE(J-1) = EDAC_TABLE(J);
     4449     1482    6                             EDAC_TABLE(J) = TEMP;
     4450     1483    6                          END;          /* IF                                 */
     4451     1484    5                    END;                /* DO J                               */
     4452     1485    4                 END;                   /* DO I                               */
     4453     1486
     4454     1487                                             /* FORMAT RECORDS AND OUTPUT          */
     4455     1488    3                 LAST_DATE = 1;
     4456     1489    4                 IF NUM_EDACS > 0 THEN DO I = 1 TO CTL.NHDR;
     4457     1490    4                    CALL THW$WRITE(CTL.FMT(I));
     4458     1491    4                    END;  /* DO I */
     4459     1492    4                 DO I = 0 TO NUM_EDACS - 1;
     4460     1493    4                    CALL XUD$UTS_DIFF_SEC (TEMP_UTS, EDAC_TABLE.UTS(I), 0);
     4461     1494    4                    TEMP_UTS = TEMP_UTS / 86400;
     4462     1495    5                    IF TEMP_UTS ~= LAST_DATE THEN DO;
     4463     1496    5                       CALL THW$WRITE(VECTOR(PRINT_DATE),
     4464     1497    5                                      VECTOR(EDAC_TABLE.UTS(I)));
     4465     1498    5                       CALL XUD$UTS_DIFF_SEC (LAST_DATE, EDAC_TABLE.UTS(I), 0);
     4466     1499    5                       LAST_DATE = LAST_DATE / 86400;
     4467     1500    5                       END;  /* IF UTS ~= LAST_DATE */
     4468     1501    4                    TEXT$ = ADDR(TEXTBUF);
     4469     1502    4                    CALL EDAC(EDAC_TABLE(I));
     4470     1503    5                    DO CASE(EDAC_TABLE.SYNDROME.PORT#(I));
     4471     1504    5                       CASE(0);         /* PORT A                             */
     4472     1505    5                          CALL THF$ADD_TEXTC(TEXT$,'A',1);
     4473     1506    5                       CASE(1);         /* PORT B                             */
     4474     1507    5                          CALL THF$ADD_TEXTC(TEXT$,'B',1);
     4475     1508    5                       CASE(2);         /* PORT C                             */
     4476     1509    5                          CALL THF$ADD_TEXTC(TEXT$,'C',1);
     4477     1510    5                       CASE(3);         /*  PORT D                            */
     4478     1511    5                          CALL THF$ADD_TEXTC(TEXT$,'D',1);
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:820  
     4479     1512    5                    END;                /* DO CASE PORT#                      */
     4480     1513    5                    DO CASE(EDAC_TABLE.SYNDROME.STORE#(I));
     4481     1514    5                       CASE(0);         /* A                                  */
     4482     1515    5                          CALL THF$ADD_TEXTC(TEXT$,'A ',2);
     4483     1516    5                       CASE(1);         /* A1                                 */
     4484     1517    5                          CALL THF$ADD_TEXTC(TEXT$,'A1',2);
     4485     1518    5                       CASE(2);         /* B                                  */
     4486     1519    5                          CALL THF$ADD_TEXTC(TEXT$,'B ',2);
     4487     1520    5                       CASE(3);         /* B1                                 */
     4488     1521    5                          CALL THF$ADD_TEXTC(TEXT$,'B1',2);
     4489     1522    5                    END;                /* DO CASE STORE#                     */
     4490     1523    4                    CALL THF$ADD_TEXTC(TEXT$,BOARD,1);
     4491     1524    4                    CALL THF$ADD_TEXTC(TEXT$,CHIP,3);
     4492     1525    4                    FPT_TIME.TSTAMP_ = VECTOR(EDAC_TABLE.UTS(I));
     4493     1526    4                    CALL M$TIME(FPT_TIME);
     4494     1527    4                    TVEC = VECTOR(TEXTBUF);
     4495     1528    4                    TVEC.BOUND = POFFC(TEXT$,ADDR(TEXTBUF)) - 1;
     4496     1529    5                    DO J = CTL.NHDR + 1 TO CTL.NFMT + CTL.NHDR;
     4497     1530    5                       CALL THW$WRITE(CTL.FMT(J),VECTOR(TH_TIME),VECTOR(EDAC_TABLE(I)),
              1530                                TVEC);
     4498     1531    5                    END;                /* DO J                               */
     4499     1532    4                 END;                   /* DO I                               */
     4500     1533    3              END;  /* CASE REP_CODE */
     4501     1534    2   ENDLOOP:
     4502     1535    2        END;                               /* DO REP_CODE = FIRST TO LAST        */
     4503     1536    1        CALL THG$CLOSEXSA;
     4504     1537    1        RETURN;
     4505     1538        %EJECT;
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:821  
     4506     1539    1   EDAC: PROC(TBL);
     4507     1540        /**/
     4508     1541        /* PARAMS */
     4509     1542    2   DCL 1 TBL,
     4510     1543    2         2 * BIT(32) UNAL,
     4511     1544    2         2 MOSID BIT(4) UNAL,
     4512     1545    2         2 SYNDROME,
     4513     1546    2           3 A45 UBIN(2) UNAL,
     4514     1547    2           3 A678 UBIN(3) UNAL,
     4515     1548    2           3 * BIT(1),
     4516     1549    2           3 NUMB UBIN(7) UNAL,
     4517     1550    2           3 ODDEVN BIT(1),
     4518     1551    2           3 PORT# UBIN(2) UNAL,
     4519     1552    2           3 STORE# UBIN(2) UNAL,
     4520     1553    2         2 COUNT UBIN(18) UNAL,
     4521     1554    2         2 UTS UBIN WORD;
     4522     1555        /**/
     4523     1556        /* VARS */
     4524     1557    2   DCL BIT_4K(0:127) SBIN BYTE CALIGNED SYMREF;
     4525     1558    2   DCL QUAD_4K(0:127) SBIN BYTE CALIGNED SYMREF;
     4526     1559    2   DCL BOARD_4K(0:3) CHAR(4) STATIC INIT(
     4527     1560    2           'ABCD','FGHJ','KLMN','QRST');
     4528     1561    2   DCL CHIP_LTTR(0:9) STATIC CHAR(1) INIT('A','B','C','D','E','G',
     4529     1562    2       'H','J','K','L');
     4530     1563    2   DCL BIT_64K (0:127) SBIN BYTE CALIGNED SYMREF;
     4531     1564    2   DCL CHIP_64K_CHAR (0:7) CHAR(2) CALIGNED SYMREF;
     4532     1565    2   DCL CHIP_64K_LET (0:19) CHAR(1) CALIGNED SYMREF;
     4533     1566    2   DCL BOARD_64K (0:15) CHAR(1) CALIGNED SYMREF;
     4534     1567        /**/
     4535     1568    2   DCL BIT# SBIN;
     4536     1569    2   DCL QUAD# SBIN;
     4537     1570    2   DCL CHIP# CHAR(2);
     4538     1571        /**/
     4539     1572    2   DCL 1 TBUF BASED(TEXT$),
     4540     1573    2         2 N UBIN BYTE UNAL,
     4541     1574    2         2 C CHAR(TBUF.N);
     4542     1575        /**/
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:822  
     4543     1576        /* FPTS */
     4544     1577        %FPT_TIME (FPTN=LOCAL,
     4545     1578                   SOURCE=UTS,
     4546     1579                   DEST=LOCAL,
     4547     1580                   TIME=TH_TIME);
     4548     1599        /**/
     4549     1600        %EJECT;
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:823  
     4550     1601    2           IF TBL.MOSID = '1010'B
     4551     1602    2           THEN GOTO EDAC_64K;
     4552     1603    2           BIT#=BIT_4K(TBL.SYNDROME.NUMB);
     4553     1604    2           QUAD#=QUAD_4K(TBL.SYNDROME.NUMB);
     4554     1605    2           IF BIT#=-1 OR QUAD#=0 THEN
     4555     1606    3              DO;
     4556     1607    3                 BOARD=' ';
     4557     1608    3                 CHIP=' ';
     4558     1609    3                 RETURN;
     4559     1610    3              END;
     4560     1611    2           BOARD=SUBSTR(BOARD_4K(QUAD#-1),TBL.SYNDROME.A45,1);
     4561     1612    2           IF MOD(BIT#,2) = 1 THEN
     4562     1613    3              DO;
     4563     1614    3                 CALL BINCHAR(CHIP#,7-TBL.SYNDROME.A678);
     4564     1615    3                 CALL CONCAT(CHIP,SUBSTR(CHIP#,1,1),CHIP_LTTR(BIT#/2));
     4565     1616    3              END;
     4566     1617    2           ELSE
     4567     1618    3              DO;
     4568     1619    3                 CALL BINCHAR(CHIP#,18-TBL.SYNDROME.A678);
     4569     1620    3                 CALL CONCAT(CHIP,CHIP#,CHIP_LTTR(BIT#/2));
     4570     1621    3              END;
     4571     1622    2           RETURN;
     4572     1623    2   EDAC_64K:
     4573     1624    2           BIT# = BIT_64K(TBL.SYNDROME.NUMB);
     4574     1625    2           IF BIT# < 0
     4575     1626    3           THEN DO;
     4576     1627    3              BOARD = ' ';
     4577     1628    3              CHIP = ' ';
     4578     1629    3              RETURN;
     4579     1630    3              END;
     4580     1631    2           BOARD = BOARD_64K(TBL.SYNDROME.A45 * 4
     4581     1632    2                           + TBL.SYNDROME.A678 / 2);
     4582     1633    2           QUAD# = BIT# * 2 + MOD(TBL.SYNDROME.A678,2);
     4583     1634    2           CALL CONCAT (CHIP,
     4584     1635    2                        CHIP_64K_CHAR(MOD(QUAD#,8)),
     4585     1636    2                        CHIP_64K_LET(QUAD#/8));
     4586     1637    2           RETURN;
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:824  
     4587     1638    2   END EDAC;
     4588     1639    1   END THF$HWE;
     4589     1640        %EOD;

PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:825  
--  Include file information  --

   XUD_UTS_M.:E05TOU  is referenced.
   EL_SUBS_C.:E05TOU  is referenced.
   TH_DATA_C.:E05TOU  is referenced.
   B_STRINGS_C.:E05TOU  is referenced.
   TH_SUBS_C.:E05TOU  is referenced.
   TH_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   EL$TABLES.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure THF$HWE.

   Procedure THF$HWE requires 925 words for executable code.
   Procedure THF$HWE requires 896 words of local(AUTO) storage.

PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:826  

 Object Unit name= THF$HWE                                    File name= THF$FORMAT.:E05TOU
 UTS= JUL 30 '97 06:16:08.52 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   Data  even  none    34     42  THF$HWE
    2  RoData even  UTS    138    212  THF$HWE
    3   Proc  even  none   925   1635  THF$HWE
    4  RoData even  none    57     71  THF$HWE

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     3      0   yes            yes      Std        1  THF$HWE

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std      11 THW$WRITE
 yes     yes           Std       3 XUD$UTS_DIFF_SEC
 yes     yes           Std       3 XUD$UTS_ADJ_25TH
 yes     yes           Std       5 THF$STATUS
 yes     yes           Std       0 THG$CLOSEXSA
 yes     yes           Std       1 THG$OPENXSA
 yes     yes           Std       4 THG$GETREC
         yes           Std       3 THF$ADD_TEXTC
                       nStd      0 X66_AUTO_1
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:827  

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  TH_CONSTRAINTS                        TH_NUM_REP_DEVS
     TH_REP_DEVS                           TH_BOF                                TH_INFO
     TH_HDR                                TH_LASTUTS                            TH_DAY
     TH_DATE                               TH_TIME                               TH_SITE_ID
     TH_SITE_NAME                          TH_XSA_BUF_VECTOR                     TH_CHECK_DEVNM
     TH_HWE_FMT                            BIT_4K                                QUAD_4K
     BIT_64K                               CHIP_64K_CHAR                         CHIP_64K_LET
     BOARD_64K                             B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:828  


     4165        1        /*M* THF$HWE - ROUTINE TO BUILD HWE REPORTS FOR ELAN */
     4166        2        /*T***********************************************************/
     4167        3        /*T*                                                         */
     4168        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     4169        5        /*T*                                                         */
     4170        6        /*T***********************************************************/
     4171        7        THF$HWE: PROC(CODE);

      7  3 000000   000000 700200 xent  THF$HWE      TSX0  ! X66_AUTO_1
         3 000001   001600 000001                    ZERO    896,1

     4172        8        /**/
     4173        9        /* PARAMS */
     4174       10    1   DCL CODE UBIN WORD;
     4175       11        /**/
     4176       12        /* INCLUDE FILES */
     4177       13        %INCLUDE CP_6;
     4178       94        %INCLUDE EL$TABLES;
     4179      417        %INCLUDE TH_DATA_R;
     4180      495        %INCLUDE TH_SUBS_C;
     4181      877        %INCLUDE TH_DATA_C;
     4182      893        %INCLUDE EL_SUBS_C;
     4183      977        %INCLUDE XUD_UTS_M;
     4184     1059        /**/
     4185     1060        /* ENTRY DEFS */
     4186     1061    1   DCL THG$GETREC ENTRY(4) ALTRET;
     4187     1062    1   DCL THW$WRITE ENTRY(11);
     4188     1063    1   DCL THF$ADD_TEXTC ENTRY(3);
     4189     1064    1   DCL THF$STATUS ENTRY(5) ALTRET;
     4190     1065    1   DCL THG$OPENXSA ENTRY(1) ALTRET;
     4191     1066    1   DCL THG$PRECORDXSA ENTRY(1) ALTRET;
     4192     1067    1   DCL THG$CLOSEXSA ENTRY ALTRET;
     4193     1068        /**/
     4194     1069        /* VARS */
     4195     1070    1   DCL START_TIME UBIN WORD;
     4196     1071    1   DCL STOP_TIME UBIN WORD;
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:829  
     4197     1072    1   DCL I SBIN;
     4198     1073    1   DCL J SBIN;
     4199     1074    1   DCL NUM_EDACS SBIN WORD;
     4200     1075    1   DCL REP_CODE UBIN WORD;
     4201     1076    1   DCL FIRST_REP UBIN WORD;
     4202     1077    1   DCL LAST_REP UBIN WORD;
     4203     1078    1   DCL MAJBUF CHAR(32);
     4204     1079    1   DCL MINBUF CHAR(32);
     4205     1080    1   DCL MAJCOUNT SBIN WORD;
     4206     1081    1   DCL MINCOUNT SBIN WORD;
     4207     1082    1   DCL ERRLOG_DATE UBIN WORD STATIC;
     4208     1083    1   DCL BLANK_LINE CHAR(0) CONSTANT INIT('%10P');
     4209     1084    1   DCL EOF_FLAG BIT(1);
     4210     1085    1   DCL PRINT_HDR BIT(1);
     4211     1086    1   DCL NUM_LINES UBIN WORD;
     4212     1087    1   DCL PRINT_BLANK BIT(1);
     4213     1088    1   DCL LAST_DATE UBIN WORD;
     4214     1089    1   DCL FIRST_EDAC BIT(1);
     4215     1090    1   DCL PRINT_DATE CHAR(0) CONSTANT INIT(
     4216     1091    1   '(%8.36.1U)%10P');
     4217     1092    1   DCL CTL$ PTR;
     4218     1093    1   DCL TEXTBUF CHAR(256);
     4219     1094    1   DCL TEXT$ PTR;
     4220     1095    1   DCL 1 TVEC,
     4221     1096    1         2 BOUND UBIN(20) UNAL,
     4222     1097    1         2 * BIT(16),
     4223     1098    1         2 PTR$ PTR;
     4224     1099    1   DCL BOARD CHAR(1);
     4225     1100    1   DCL CHIP CHAR(3);
     4226     1101    1   DCL PERIPH_TITLE CHAR(0) CONSTANT INIT(
     4227     1102    1  '%2/Hardware Error Report (PERIPH) for %2P%T from %3P%14.36.2U to %4P%14.36.2U%2/%10
              1102        P');
     4228     1103    1   DCL FEP_TITLE CHAR(0) CONSTANT INIT(
     4229     1104    1  '%2/Hardware Error Report (FEP) for %2P%T from %3P%14.36.2U to %4P%14.36.2U%2/%10P')
              1104            ;
     4230     1105    1   DCL IOM_TITLE CHAR(0) CONSTANT INIT(
     4231     1106    1  '%2/Hardware Error Report (IOM) for %2P%T from %3P%14.36.2U to %4P%14.36.2U%2/%10P')
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:830  
              1106            ;
     4232     1107    1   DCL MPC_TITLE CHAR(0) CONSTANT INIT(
     4233     1108    1  '%2/Hardware Error Report (MPC) for %2P%T from %3P%14.36.2U to %4P%14.36.2U%2/%10P')
              1108            ;
     4234     1109    1   DCL MEM_TITLE CHAR(0) CONSTANT INIT(
     4235     1110    1  '%2/Hardware Error Report (MEM) for %2P%T from %3P%14.36.2U to %4P%14.36.2U%2/%10P')
              1110            ;
     4236     1111    1   DCL TITLE_VEC(0:5) BIT(72) CONSTANT INIT(VECTOR(NIL),
     4237     1112    1                                            VECTOR(MEM_TITLE),
     4238     1113    1                                            VECTOR(IOM_TITLE),
     4239     1114    1                                            VECTOR(FEP_TITLE),
     4240     1115    1                                            VECTOR(PERIPH_TITLE),
     4241     1116    1                                            VECTOR(MPC_TITLE));
     4242     1117        /**/
     4243     1118    1   DCL 1 EDAC_TABLE (0:255),
     4244     1119    1         2 * BIT(32) UNAL,
     4245     1120    1         2 MOSID BIT(4) UNAL,
     4246     1121    1         2 SYNDROME,
     4247     1122    1           3 A45 UBIN(2) UNAL,
     4248     1123    1           3 A678 UBIN(3) UNAL,
     4249     1124    1           3 * BIT(1) UNAL,
     4250     1125    1           3 NUMB UBIN(7) UNAL,
     4251     1126    1           3 ODDEVN BIT(1) UNAL,
     4252     1127    1           3 PORT# UBIN(2) UNAL,
     4253     1128    1           3 STORE# UBIN(2) UNAL,
     4254     1129    1         2 SYNDROME1 REDEF SYNDROME UBIN(18) UNAL,
     4255     1130    1         2 COUNT UBIN(18) UNAL,
     4256     1131    1         2 UTS UBIN WORD;
     4257     1132    1   DCL 1 STORE_MODE,
     4258     1133    1         2 * BIT(36) UNAL,
     4259     1134    1         2 SYNDROME,
     4260     1135    1           3 * BIT(14) UNAL,
     4261     1136    1           3 PORT# UBIN(2) UNAL,
     4262     1137    1           3 STORE# UBIN(2) UNAL,
     4263     1138    1         2 SYNDROME1 REDEF SYNDROME UBIN(18) UNAL,
     4264     1139    1         2 * BIT(18) UNAL;
     4265     1140    1   DCL TEMP(0:1) BIT(72) DALIGNED;
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:831  
     4266     1141        /**/
     4267     1142    1   DCL NEXT_ENTRY UBIN WORD STATIC INIT(0);
     4268     1143    1   DCL TH_HWE_FMT(0:0) PTR SYMREF;
     4269     1144        /**/
     4270     1145    1   DCL TEMP_UTS UBIN;
     4271     1146        /**/
     4272     1147        /* MACRO INVOCATIONS */
     4273     1148        %CTL (STCLASS="BASED(CTL$)");
     4274     1158        %EL$HDR (NAME=HDR,STCLASS="BASED(TH_HDR.PTR$)");
     4275     1214        %EL$EDAC (STCLASS="BASED(TH_INFO.PTR$)");
     4276     1223        %EL$IOERR (STCLASS="BASED(TH_INFO.PTR$)");
     4277     1233        %XUD$UTS_ENTRIES;
     4278     1265        %XUD_UTS_EQU;
     4279     1276        /**/
     4280     1277        /* FPTS */
     4281     1278        %FPT_TIME (SOURCE=UTS,
     4282     1279                        DEST=EXT,
     4283     1280                        DATE=TH_DATE,
     4284     1281                   TIME=TH_TIME);
     4285     1300        %FPT_TIME (FPTN=RECORD_DATE,
     4286     1301                   SOURCE=UTS,
     4287     1302                   DEST=EXT,
     4288     1303                   DATE=TH_DATE,
     4289     1304                   TIME=TH_TIME,
     4290     1305                   DAY=TH_DAY,
     4291     1306                   TSTAMP=TH_LASTUTS,
     4292     1307                   STCLASS=CONSTANT);
     4293     1326        /**/
     4294     1327        %EJECT;
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:832  
     4295     1328    1        IF CODE = 0

   1328  3 000002   200003 470500                    LDP0    @CODE,,AUTO
         3 000003   000000 235100                    LDA     0,,PR0
         3 000004   000012 601000 3                  TNZ     s:1336

     4296     1329    1           THEN                            /* ALL REPORTS                        */
     4297     1330    2           DO;

     4298     1331    2              FIRST_REP = %MEM;

   1331  3 000005   000001 236007                    LDQ     1,DL
         3 000006   200012 756100                    STQ     FIRST_REP,,AUTO

     4299     1332    2              LAST_REP = %MPC;

   1332  3 000007   000005 235007                    LDA     5,DL
         3 000010   200013 755100                    STA     LAST_REP,,AUTO

     4300     1333    2           END;

   1333  3 000011   000014 710000 3                  TRA     s:1339

     4301     1334    1           ELSE
     4302     1335    2           DO;

     4303     1336    2              FIRST_REP = CODE;

   1336  3 000012   200012 755100                    STA     FIRST_REP,,AUTO

     4304     1337    2              LAST_REP = CODE;

   1337  3 000013   200013 755100                    STA     LAST_REP,,AUTO

     4305     1338    2           END;

     4306     1339    1        FIRST_EDAC = %TRUE;
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:833  

   1339  3 000014   400000 236003                    LDQ     -131072,DU
         3 000015   200043 756100                    STQ     FIRST_EDAC,,AUTO

     4307     1340    2        DO REP_CODE = FIRST_REP TO LAST_REP;

   1340  3 000016   200012 235100                    LDA     FIRST_REP,,AUTO
         3 000017   200011 755100                    STA     REP_CODE,,AUTO
         3 000020   001414 710000 3                  TRA     ENDLOOP+3

     4308     1341    2           IF REP_CODE = %FEP OR REP_CODE = %IOM OR REP_CODE = %MPC

   1341  3 000021   200011 235100                    LDA     REP_CODE,,AUTO
         3 000022   000003 115007                    CMPA    3,DL
         3 000023   001411 600000 3                  TZE     ENDLOOP
         3 000024   000002 115007                    CMPA    2,DL
         3 000025   001411 600000 3                  TZE     ENDLOOP
         3 000026   000005 115007                    CMPA    5,DL
         3 000027   001411 600000 3                  TZE     ENDLOOP

     4309     1342    2              THEN GOTO ENDLOOP;  /* REPORTS UNIMPLIMENTED */
     4310     1343    2           IF CODE = 0 /* ALL */

   1343  3 000030   200003 470500                    LDP0    @CODE,,AUTO
         3 000031   000000 235100                    LDA     0,,PR0
         3 000032   000051 601000 3                  TNZ     s:1349

     4311     1344    2              THEN CALL THW$WRITE(TITLE_VEC(REP_CODE),

   1344  3 000033   000010 236000 4                  LDQ     8
         3 000034   201574 756100                    STQ     CHIP#+6,,AUTO
         3 000035   000012 237000 4                  LDAQ    10
         3 000036   201572 757100                    STAQ    CHIP#+4,,AUTO
         3 000037   000014 236000 4                  LDQ     12
         3 000040   201571 756100                    STQ     CHIP#+3,,AUTO
         3 000041   200011 236100                    LDQ     REP_CODE,,AUTO
         3 000042   000023 736000                    QLS     19
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:834  
         3 000043   000015 036000 4                  ADLQ    13
         3 000044   201570 756100                    STQ     CHIP#+2,,AUTO
         3 000045   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 000046   000023 631400 xsym               EPPR1   B_VECTNIL+19
         3 000047   000000 701000 xent               TSX1    THW$WRITE
         3 000050   000000 011000                    NOP     0

     4312     1345    2                                  VECTOR(TH_SITE_ID),
     4313     1346    2                                  VECTOR(TH_SITE_NAME),
     4314     1347    2                                  VECTOR(TH_CONSTRAINTS.START),
     4315     1348    2                                  VECTOR(TH_CONSTRAINTS.STOP));
     4316     1349    2           LAST_DATE = 1;

   1349  3 000051   000001 235007                    LDA     1,DL
         3 000052   200042 755100                    STA     LAST_DATE,,AUTO

     4317     1350    2           CTL$ = TH_HWE_FMT(REP_CODE);

   1350  3 000053   200011 720100                    LXL0    REP_CODE,,AUTO
         3 000054   000000 236010 xsym               LDQ     TH_HWE_FMT,X0
         3 000055   200044 756100                    STQ     CTL$,,AUTO

     4318     1351    2           PRINT_HDR = %TRUE;

   1351  3 000056   400000 236003                    LDQ     -131072,DU
         3 000057   200037 756100                    STQ     PRINT_HDR,,AUTO

     4319     1352    2          CALL XUD$UTS_DIFF_SEC (START_TIME, TH_CONSTRAINTS.START, 0);

   1352  3 000060   000016 236000 4                  LDQ     14
         3 000061   201572 756100                    STQ     CHIP#+4,,AUTO
         3 000062   000005 236000 4                  LDQ     5
         3 000063   201571 756100                    STQ     CHIP#+3,,AUTO
         3 000064   200004 630500                    EPPR0   START_TIME,,AUTO
         3 000065   201570 450500                    STP0    CHIP#+2,,AUTO
         3 000066   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 000067   000021 631400 xsym               EPPR1   B_VECTNIL+17
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:835  
         3 000070   000000 701000 xent               TSX1    XUD$UTS_DIFF_SEC
         3 000071   000000 011000                    NOP     0

     4320     1353    2          START_TIME = START_TIME / 86400;

   1353  3 000072   200004 236100                    LDQ     START_TIME,,AUTO
         3 000073   000001 772000                    QRL     1
         3 000074   124300 506007                    DIV     43200,DL
         3 000075   200004 756100                    STQ     START_TIME,,AUTO

     4321     1354    2          CALL XUD$UTS_ADJ_25TH (START_TIME, 0, START_TIME*%UTS_25TH_DAY#);

   1354  3 000076   000017 402000 4                  MPY     15
         3 000077   201570 756100                    STQ     CHIP#+2,,AUTO
         3 000100   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 000101   201573 450500                    STP0    CHIP#+5,,AUTO
         3 000102   000016 236000 4                  LDQ     14
         3 000103   201572 756100                    STQ     CHIP#+4,,AUTO
         3 000104   200004 631500                    EPPR1   START_TIME,,AUTO
         3 000105   201571 451500                    STP1    CHIP#+3,,AUTO
         3 000106   201571 630500                    EPPR0   CHIP#+3,,AUTO
         3 000107   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000110   000000 701000 xent               TSX1    XUD$UTS_ADJ_25TH
         3 000111   000000 011000                    NOP     0

     4322     1355    2          CALL XUD$UTS_DIFF_SEC (STOP_TIME, TH_CONSTRAINTS.STOP, 0);

   1355  3 000112   000016 236000 4                  LDQ     14
         3 000113   201572 756100                    STQ     CHIP#+4,,AUTO
         3 000114   000007 236000 4                  LDQ     7
         3 000115   201571 756100                    STQ     CHIP#+3,,AUTO
         3 000116   200005 630500                    EPPR0   STOP_TIME,,AUTO
         3 000117   201570 450500                    STP0    CHIP#+2,,AUTO
         3 000120   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 000121   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000122   000000 701000 xent               TSX1    XUD$UTS_DIFF_SEC
         3 000123   000000 011000                    NOP     0
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:836  

     4323     1356    2          STOP_TIME = STOP_TIME / 86400;

   1356  3 000124   200005 236100                    LDQ     STOP_TIME,,AUTO
         3 000125   000001 772000                    QRL     1
         3 000126   124300 506007                    DIV     43200,DL
         3 000127   200005 756100                    STQ     STOP_TIME,,AUTO

     4324     1357    2          CALL XUD$UTS_ADJ_25TH (STOP_TIME, 0, STOP_TIME*%UTS_25TH_DAY#);

   1357  3 000130   000017 402000 4                  MPY     15
         3 000131   201570 756100                    STQ     CHIP#+2,,AUTO
         3 000132   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 000133   201573 450500                    STP0    CHIP#+5,,AUTO
         3 000134   000016 236000 4                  LDQ     14
         3 000135   201572 756100                    STQ     CHIP#+4,,AUTO
         3 000136   200005 631500                    EPPR1   STOP_TIME,,AUTO
         3 000137   201571 451500                    STP1    CHIP#+3,,AUTO
         3 000140   201571 630500                    EPPR0   CHIP#+3,,AUTO
         3 000141   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000142   000000 701000 xent               TSX1    XUD$UTS_ADJ_25TH
         3 000143   000000 011000                    NOP     0

     4325     1358    2          ERRLOG_DATE = START_TIME;

   1358  3 000144   200004 235100                    LDA     START_TIME,,AUTO
         3 000145   000000 755000 1                  STA     ERRLOG_DATE

     4326     1359    3          DO WHILE (ERRLOG_DATE <= STOP_TIME);

   1359  3 000146   200005 236100                    LDQ     STOP_TIME,,AUTO
         3 000147   000000 116000 1                  CMPQ    ERRLOG_DATE
         3 000150   000703 602000 3                  TNC     s:1472

     4327     1360    3              CALL THG$OPENXSA(ERRLOG_DATE) ALTRET(NOT_THERE);

   1360  3 000151   000020 630400 4                  EPPR0   16
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:837  
         3 000152   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000153   000000 701000 xent               TSX1    THG$OPENXSA
         3 000154   000673 702000 3                  TSX2    NOT_THERE

     4328     1361    4              DO CASE(REP_CODE);

   1361  3 000155   200011 235100                    LDA     REP_CODE,,AUTO
         3 000156   000005 115007                    CMPA    5,DL
         3 000157   000161 602005 3                  TNC     s:1361+4,AL
         3 000160   000672 710000 3                  TRA     s:1467
         3 000161   000672 710000 3                  TRA     s:1467
         3 000162   000510 710000 3                  TRA     s:1424
         3 000163   000672 710000 3                  TRA     s:1467
         3 000164   000672 710000 3                  TRA     s:1467
         3 000165   000166 710000 3                  TRA     s:1363

     4329     1362    4                 CASE(%PERIPH);

     4330     1363    4                    PRINT_BLANK = %FALSE;

   1363  3 000166   200041 450100                    STZ     PRINT_BLANK,,AUTO

     4331     1364    4                    TH_CONSTRAINTS.NTYPES = 1;

   1364  3 000167   000001 236007                    LDQ     1,DL
         3 000170   000000 756000 xsym               STQ     TH_CONSTRAINTS

     4332     1365    4                    TH_CONSTRAINTS.TYPES(0) = EL_IOERR;

   1365  3 000171   311000 236003                    LDQ     102912,DU
         3 000172   000001 552040 xsym               STBQ    TH_CONSTRAINTS+1,'40'O

     4333     1366    5                    DO I = 0 TO TH_NUM_REP_DEVS - 1;

   1366  3 000173   200006 450100                    STZ     I,,AUTO
         3 000174   000503 710000 3                  TRA     s:1416+1

PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:838  
     4334     1367    5                       TH_BOF = %YES;

   1367  3 000175   400000 236003                    LDQ     -131072,DU
         3 000176   000000 756000 xsym               STQ     TH_BOF

     4335     1368    5                       EOF_FLAG = %FALSE;

   1368  3 000177   200036 450100                    STZ     EOF_FLAG,,AUTO

     4336     1369    5                       NUM_LINES = 0;

   1369  3 000200   200040 450100                    STZ     NUM_LINES,,AUTO

     4337     1370    5                       TH_CONSTRAINTS.DEVNM = TH_REP_DEVS(I);

   1370  3 000201   200006 235100                    LDA     I,,AUTO
         3 000202   000003 735000                    ALS     3
         3 000203   040000 100405                    MLR     fill='040'O
         3 000204   000000 000010 xsym               ADSC9   TH_REP_DEVS,A            cn=0,n=8
         3 000205   000010 000010 xsym               ADSC9   TH_CONSTRAINTS+8         cn=0,n=8

     4338     1371    5                       IF TH_CONSTRAINTS.DEVNM ~= ' '

   1371  3 000206   000010 237000 xsym               LDAQ    TH_CONSTRAINTS+8
         3 000207   000022 117000 4                  CMPAQ   18
         3 000210   000214 600000 3                  TZE     s:1373

     4339     1372    5                       THEN TH_CHECK_DEVNM = '1'B;

   1372  3 000211   400000 236003                    LDQ     -131072,DU
         3 000212   000000 756000 xsym               STQ     TH_CHECK_DEVNM
         3 000213   000215 710000 3                  TRA     s:1374

     4340     1373    5                       ELSE TH_CHECK_DEVNM = '0'B;

   1373  3 000214   000000 450000 xsym               STZ     TH_CHECK_DEVNM

PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:839  
     4341     1374    6                       DO WHILE(NOT EOF_FLAG);

   1374  3 000215   000474 710000 3                  TRA     s:1413

     4342     1375    6                          CALL THG$GETREC(%ERRLOG) ALTRET(PERIPH_EOF);

   1375  3 000216   000024 630400 4                  EPPR0   20
         3 000217   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000220   000000 701000 xent               TSX1    THG$GETREC
         3 000221   000472 702000 3                  TSX2    PERIPH_EOF

     4343     1376    7                          IF PRINT_HDR THEN DO;

   1376  3 000222   200037 234100                    SZN     PRINT_HDR,,AUTO
         3 000223   000247 605000 3                  TPL     s:1382

     4344     1377    7                             PRINT_HDR = %FALSE;

   1377  3 000224   200037 450100                    STZ     PRINT_HDR,,AUTO

     4345     1378    8                             DO J = 1 TO CTL.NHDR;

   1378  3 000225   000001 235007                    LDA     1,DL
         3 000226   200007 755100                    STA     J,,AUTO
         3 000227   000242 710000 3                  TRA     s:1380+1

     4346     1379    8                                CALL THW$WRITE(CTL.FMT(J));

   1379  3 000230   200007 236100                    LDQ     J,,AUTO
         3 000231   000023 736000                    QLS     19
         3 000232   000002 036003                    ADLQ    2,DU
         3 000233   200044 036100                    ADLQ    CTL$,,AUTO
         3 000234   201570 756100                    STQ     CHIP#+2,,AUTO
         3 000235   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 000236   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000237   000000 701000 xent               TSX1    THW$WRITE
         3 000240   000000 011000                    NOP     0
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:840  

     4347     1380    8                                END;  /* DO J */

   1380  3 000241   200007 054100                    AOS     J,,AUTO
         3 000242   200044 470500                    LDP0    CTL$,,AUTO
         3 000243   000000 236100                    LDQ     0,,PR0
         3 000244   000033 772000                    QRL     27
         3 000245   200007 116100                    CMPQ    J,,AUTO
         3 000246   000230 605000 3                  TPL     s:1379

     4348     1381    7                             END;  /* IF PRINT_HDR */

     4349     1382    6                          CALL XUD$UTS_DIFF_SEC (TEMP_UTS, HDR.UTS, 0);

   1382  3 000247   000016 236000 4                  LDQ     14
         3 000250   201572 756100                    STQ     CHIP#+4,,AUTO
         3 000251   000001 236000 xsym               LDQ     TH_HDR+1
         3 000252   600000 036007                    ADLQ    -65536,DL
         3 000253   201571 756100                    STQ     CHIP#+3,,AUTO
         3 000254   201560 630500                    EPPR0   TEMP_UTS,,AUTO
         3 000255   201570 450500                    STP0    CHIP#+2,,AUTO
         3 000256   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 000257   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000260   000000 701000 xent               TSX1    XUD$UTS_DIFF_SEC
         3 000261   000000 011000                    NOP     0

     4350     1383    6                          TEMP_UTS = TEMP_UTS / 86400;

   1383  3 000262   201560 236100                    LDQ     TEMP_UTS,,AUTO
         3 000263   000001 772000                    QRL     1
         3 000264   124300 506007                    DIV     43200,DL
         3 000265   201560 756100                    STQ     TEMP_UTS,,AUTO

     4351     1384    7                          IF TEMP_UTS ~= LAST_DATE THEN DO;

   1384  3 000266   200042 116100                    CMPQ    LAST_DATE,,AUTO
         3 000267   000323 600000 3                  TZE     s:1390
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:841  

     4352     1385    7                             CALL THW$WRITE(VECTOR(PRINT_DATE),

   1385  3 000270   777640 235007                    LDA     -96,DL
         3 000271   000001 236000 xsym               LDQ     TH_HDR+1
         3 000272   600000 036007                    ADLQ    -65536,DL
         3 000273   201570 757100                    STAQ    CHIP#+2,,AUTO
         3 000274   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 000275   201573 450500                    STP0    CHIP#+5,,AUTO
         3 000276   000030 236000 4                  LDQ     24
         3 000277   201572 756100                    STQ     CHIP#+4,,AUTO
         3 000300   201572 630500                    EPPR0   CHIP#+4,,AUTO
         3 000301   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000302   000000 701000 xent               TSX1    THW$WRITE
         3 000303   000000 011000                    NOP     0

     4353     1386    7                                            VECTOR(HDR.UTS));
     4354     1387    7                             CALL XUD$UTS_DIFF_SEC (LAST_DATE, HDR.UTS, 0);

   1387  3 000304   000016 236000 4                  LDQ     14
         3 000305   201572 756100                    STQ     CHIP#+4,,AUTO
         3 000306   000001 236000 xsym               LDQ     TH_HDR+1
         3 000307   600000 036007                    ADLQ    -65536,DL
         3 000310   201571 756100                    STQ     CHIP#+3,,AUTO
         3 000311   200042 630500                    EPPR0   LAST_DATE,,AUTO
         3 000312   201570 450500                    STP0    CHIP#+2,,AUTO
         3 000313   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 000314   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000315   000000 701000 xent               TSX1    XUD$UTS_DIFF_SEC
         3 000316   000000 011000                    NOP     0

     4355     1388    7                             LAST_DATE = LAST_DATE / 86400;

   1388  3 000317   200042 236100                    LDQ     LAST_DATE,,AUTO
         3 000320   000001 772000                    QRL     1
         3 000321   124300 506007                    DIV     43200,DL
         3 000322   200042 756100                    STQ     LAST_DATE,,AUTO
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:842  

     4356     1389    7                             END;  /* IF UTS ~= LAST_DATE */

     4357     1390    6                          IF PRINT_BLANK

   1390  3 000323   200041 234100                    SZN     PRINT_BLANK,,AUTO
         3 000324   000332 605000 3                  TPL     s:1396

     4358     1391    6                             THEN
     4359     1392    7                             DO;

     4360     1393    7                                CALL THW$WRITE(VECTOR(BLANK_LINE));

   1393  3 000325   000034 630400 4                  EPPR0   28
         3 000326   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000327   000000 701000 xent               TSX1    THW$WRITE
         3 000330   000000 011000                    NOP     0

     4361     1394    7                                PRINT_BLANK = %FALSE;

   1394  3 000331   200041 450100                    STZ     PRINT_BLANK,,AUTO

     4362     1395    7                             END;  /* IF PRINT_BLANK */

     4363     1396    6                          NUM_LINES = NUM_LINES + 1;

   1396  3 000332   200040 235100                    LDA     NUM_LINES,,AUTO
         3 000333   000001 035007                    ADLA    1,DL
         3 000334   200040 755100                    STA     NUM_LINES,,AUTO

     4364     1397
     4365     1398    6                          TVEC = VECTOR(NIL);

   1398  3 000335   000036 237000 4                  LDAQ    30
         3 000336   200146 757100                    STAQ    TVEC,,AUTO

     4366     1399    6                          TEXT$ = ADDR(TEXTBUF);
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:843  

   1399  3 000337   200045 630500                    EPPR0   TEXTBUF,,AUTO
         3 000340   200145 450500                    STP0    TEXT$,,AUTO

     4367     1400    6                          CALL THF$STATUS(EL$IOERR,MAJBUF,MAJCOUNT,MINBUF,MINCOUNT)
              1400                                   ALTRET(NO_STATUS);

   1400  3 000341   200035 631500                    EPPR1   MINCOUNT,,AUTO
         3 000342   201574 451500                    STP1    CHIP#+6,,AUTO
         3 000343   200024 633500                    EPPR3   MINBUF,,AUTO
         3 000344   201573 453500                    STP3    CHIP#+5,,AUTO
         3 000345   200034 634500                    EPPR4   MAJCOUNT,,AUTO
         3 000346   201572 454500                    STP4    CHIP#+4,,AUTO
         3 000347   200014 635500                    EPPR5   MAJBUF,,AUTO
         3 000350   201571 455500                    STP5    CHIP#+3,,AUTO
         3 000351   000001 236000 xsym               LDQ     TH_INFO+1
         3 000352   201570 756100                    STQ     CHIP#+2,,AUTO
         3 000353   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 000354   000023 631400 xsym               EPPR1   B_VECTNIL+19
         3 000355   000000 701000 xent               TSX1    THF$STATUS
         3 000356   000425 702000 3                  TSX2    NO_STATUS

     4368     1401    6                          CALL THF$ADD_TEXTC(TEXT$,MAJBUF,MAJCOUNT);

   1401  3 000357   200034 630500                    EPPR0   MAJCOUNT,,AUTO
         3 000360   201572 450500                    STP0    CHIP#+4,,AUTO
         3 000361   200014 631500                    EPPR1   MAJBUF,,AUTO
         3 000362   201571 451500                    STP1    CHIP#+3,,AUTO
         3 000363   200145 633500                    EPPR3   TEXT$,,AUTO
         3 000364   201570 453500                    STP3    CHIP#+2,,AUTO
         3 000365   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 000366   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000367   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 000370   000000 011000                    NOP     0

     4369     1402    6                          CALL THF$ADD_TEXTC(TEXT$,MINBUF,MINCOUNT);

PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:844  
   1402  3 000371   200035 630500                    EPPR0   MINCOUNT,,AUTO
         3 000372   201572 450500                    STP0    CHIP#+4,,AUTO
         3 000373   200024 631500                    EPPR1   MINBUF,,AUTO
         3 000374   201571 451500                    STP1    CHIP#+3,,AUTO
         3 000375   200145 633500                    EPPR3   TEXT$,,AUTO
         3 000376   201570 453500                    STP3    CHIP#+2,,AUTO
         3 000377   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 000400   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000401   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 000402   000000 011000                    NOP     0

     4370     1403    6                          TVEC = VECTOR(TEXTBUF);

   1403  3 000403   000040 235000 4                  LDA     32
         3 000404   201570 452500                    STP2    CHIP#+2,,AUTO
         3 000405   201570 236100                    LDQ     CHIP#+2,,AUTO
         3 000406   000045 036003                    ADLQ    37,DU
         3 000407   200146 757100                    STAQ    TVEC,,AUTO

     4371     1404    6                          TVEC.BOUND = POFFC(TEXT$,ADDR(TEXTBUF)) - 1;

   1404  3 000410   201570 452500                    STP2    CHIP#+2,,AUTO
         3 000411   201570 236100                    LDQ     CHIP#+2,,AUTO
         3 000412   000045 036003                    ADLQ    37,DU
         3 000413   000020 772000                    QRL     16
         3 000414   201571 756100                    STQ     CHIP#+3,,AUTO
         3 000415   200145 236100                    LDQ     TEXT$,,AUTO
         3 000416   000020 772000                    QRL     16
         3 000417   201571 136100                    SBLQ    CHIP#+3,,AUTO
         3 000420   000001 136007                    SBLQ    1,DL
         3 000421   000020 736000                    QLS     16
         3 000422   200146 676100                    ERQ     TVEC,,AUTO
         3 000423   000034 376000 xsym               ANQ     B_VECTNIL+28
         3 000424   200146 656100                    ERSQ    TVEC,,AUTO

   1404  3 000425                       NO_STATUS    null
     4372     1405    6              NO_STATUS: ;
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:845  
     4373     1406    6                          CALL M$TIME(RECORD_DATE);

   1406  3 000425   000172 630400 2                  EPPR0   RECORD_DATE
         3 000426   020004 713400                    CLIMB   8196
         3 000427   402000 401760                    pmme    nvectors=5

     4374     1407    7                          DO J = CTL.NHDR + 1 TO CTL.NHDR + CTL.NFMT;

   1407  3 000430   200044 470500                    LDP0    CTL$,,AUTO
         3 000431   000000 236100                    LDQ     0,,PR0
         3 000432   000033 772000                    QRL     27
         3 000433   000001 036007                    ADLQ    1,DL
         3 000434   200007 756100                    STQ     J,,AUTO
         3 000435   000456 710000 3                  TRA     s:1409+1

     4375     1408    7                             CALL THW$WRITE(CTL.FMT(J),VECTOR(TH_TIME),TH_INFO,TVEC);

   1408  3 000436   200146 630500                    EPPR0   TVEC,,AUTO
         3 000437   201573 450500                    STP0    CHIP#+5,,AUTO
         3 000440   000041 236000 4                  LDQ     33
         3 000441   201572 756100                    STQ     CHIP#+4,,AUTO
         3 000442   000044 236000 4                  LDQ     36
         3 000443   201571 756100                    STQ     CHIP#+3,,AUTO
         3 000444   200007 236100                    LDQ     J,,AUTO
         3 000445   000023 736000                    QLS     19
         3 000446   000002 036003                    ADLQ    2,DU
         3 000447   200044 036100                    ADLQ    CTL$,,AUTO
         3 000450   201570 756100                    STQ     CHIP#+2,,AUTO
         3 000451   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 000452   000022 631400 xsym               EPPR1   B_VECTNIL+18
         3 000453   000000 701000 xent               TSX1    THW$WRITE
         3 000454   000000 011000                    NOP     0

     4376     1409    7                          END;             /* DO J                               */

   1409  3 000455   200007 054100                    AOS     J,,AUTO
         3 000456   200044 470500                    LDP0    CTL$,,AUTO
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:846  
         3 000457   000000 236100                    LDQ     0,,PR0
         3 000460   000022 772000                    QRL     18
         3 000461   000777 376007                    ANQ     511,DL
         3 000462   201570 756100                    STQ     CHIP#+2,,AUTO
         3 000463   000000 236100                    LDQ     0,,PR0
         3 000464   000033 772000                    QRL     27
         3 000465   201570 036100                    ADLQ    CHIP#+2,,AUTO
         3 000466   000436 604000 3                  TMI     s:1408
         3 000467   200007 116100                    CMPQ    J,,AUTO
         3 000470   000436 605000 3                  TPL     s:1408

     4377     1410    7                          DO NEVER;

   1410  3 000471   000474 710000 3                  TRA     s:1413

     4378     1411    7                PERIPH_EOF:  EOF_FLAG = %TRUE;

   1411  3 000472   400000 236003       PERIPH_EOF   LDQ     -131072,DU
         3 000473   200036 756100                    STQ     EOF_FLAG,,AUTO

     4379     1412    7                          END;             /* DO NEVER                           */

     4380     1413    6                       END;                /* DO WHILE NOT EOF_FLAG              */

   1413  3 000474   200036 234100                    SZN     EOF_FLAG,,AUTO
         3 000475   000216 605000 3                  TPL     s:1375

     4381     1414    5                       IF NUM_LINES > 0

   1414  3 000476   200040 235100                    LDA     NUM_LINES,,AUTO
         3 000477   000502 600000 3                  TZE     s:1416

     4382     1415    5                          THEN PRINT_BLANK = %TRUE;

   1415  3 000500   400000 236003                    LDQ     -131072,DU
         3 000501   200041 756100                    STQ     PRINT_BLANK,,AUTO

PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:847  
     4383     1416    5                    END;                   /* DO I                               */

   1416  3 000502   200006 054100                    AOS     I,,AUTO
         3 000503   200006 236100                    LDQ     I,,AUTO
         3 000504   000175 604000 3                  TMI     s:1367
         3 000505   000000 116000 xsym               CMPQ    TH_NUM_REP_DEVS
         3 000506   000175 602000 3                  TNC     s:1367
         3 000507   000672 710000 3                  TRA     s:1467

     4384     1417    4                 CASE(%FEP);

     4385     1418                                     /* FEP REPORT - UNIMPLIMENTED IN B00 */
     4386     1419    4                 CASE(%IOM);

     4387     1420                                                /* CODE FOR THIS GUY                  */
     4388     1421    4                 CASE(%MPC);

     4389     1422                          /* CODE FOR MPC REPORT */
     4390     1423    4                 CASE(%MEM);               /* EDAC REPORT                        */

     4391     1424    5                    IF FIRST_EDAC THEN DO;

   1424  3 000510   200043 234100                    SZN     FIRST_EDAC,,AUTO
         3 000511   000530 605000 3                  TPL     s:1434

     4392     1425    5                       FIRST_EDAC = %FALSE;

   1425  3 000512   200043 450100                    STZ     FIRST_EDAC,,AUTO

     4393     1426    5                       EDAC_TABLE = '0'B;

   1426  3 000513   000100 100400                    MLR     fill='000'O
         3 000514   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         3 000515   200152 006000                    ADSC9   EDAC_TABLE,,AUTO         cn=0,n=3072

     4394     1427    5                       TH_CONSTRAINTS.NTYPES = 1;

PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:848  
   1427  3 000516   000001 236007                    LDQ     1,DL
         3 000517   000000 756000 xsym               STQ     TH_CONSTRAINTS

     4395     1428    5                       TH_CONSTRAINTS.TYPES(0) = EL_EDAC;

   1428  3 000520   312000 236003                    LDQ     103424,DU
         3 000521   000001 552040 xsym               STBQ    TH_CONSTRAINTS+1,'40'O

     4396     1429    5                       TH_CONSTRAINTS.DEVNM = ' ';

   1429  3 000522   000035 235000 xsym               LDA     B_VECTNIL+29
         3 000523   000035 236000 xsym               LDQ     B_VECTNIL+29
         3 000524   000010 757000 xsym               STAQ    TH_CONSTRAINTS+8

     4397     1430    5                       TH_CHECK_DEVNM = '0'B;

   1430  3 000525   000000 450000 xsym               STZ     TH_CHECK_DEVNM

     4398     1431    5                       NUM_EDACS = 0;

   1431  3 000526   200010 450100                    STZ     NUM_EDACS,,AUTO

     4399     1432    5                       NEXT_ENTRY = 0;

   1432  3 000527   000001 450000 1                  STZ     NEXT_ENTRY

     4400     1433    5                       END;  /* IF */

     4401     1434    4                    TH_BOF = %YES;

   1434  3 000530   400000 236003                    LDQ     -131072,DU
         3 000531   000000 756000 xsym               STQ     TH_BOF

     4402     1435    4                    EOF_FLAG = %FALSE;

   1435  3 000532   200036 450100                    STZ     EOF_FLAG,,AUTO

PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:849  
     4403     1436    5                    DO WHILE(NOT EOF_FLAG);

   1436  3 000533   000663 710000 3                  TRA     s:1462

     4404     1437    5                       CALL THG$GETREC(%ERRLOG) ALTRET(EOF);

   1437  3 000534   000024 630400 4                  EPPR0   20
         3 000535   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000536   000000 701000 xent               TSX1    THG$GETREC
         3 000537   000661 702000 3                  TSX2    EOF

     4405     1438    5                       STORE_MODE = EL$EDAC.STORE_MODE;

   1438  3 000540   000001 470400 xsym               LDP0    TH_INFO+1
         3 000541   000100 100500                    MLR     fill='000'O
         3 000542   000003 000010                    ADSC9   3,,PR0                   cn=0,n=8
         3 000543   201552 000010                    ADSC9   STORE_MODE,,AUTO         cn=0,n=8

     4406     1439    5                       STORE_MODE.SYNDROME.PORT# = EL$EDAC.PORT#;

   1439  3 000544   000010 236100                    LDQ     8,,PR0
         3 000545   000015 772000                    QRL     13
         3 000546   201553 676100                    ERQ     STORE_MODE+1,,AUTO
         3 000547   000014 376003                    ANQ     12,DU
         3 000550   201553 656100                    ERSQ    STORE_MODE+1,,AUTO

     4407     1440    5                       STORE_MODE.SYNDROME.STORE# = EL$EDAC.STORE_UNIT;

   1440  3 000551   000010 236100                    LDQ     8,,PR0
         3 000552   000014 772000                    QRL     12
         3 000553   201553 676100                    ERQ     STORE_MODE+1,,AUTO
         3 000554   000003 376003                    ANQ     3,DU
         3 000555   201553 656100                    ERSQ    STORE_MODE+1,,AUTO

     4408     1441    6                       DO J = 0 TO 255;

   1441  3 000556   200007 450100                    STZ     J,,AUTO
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:850  

     4409     1442    7                          IF EDAC_TABLE.SYNDROME1(J) = STORE_MODE.SYNDROME1 THEN DO;

   1442  3 000557   200007 236100                    LDQ     J,,AUTO
         3 000560   000003 402007                    MPY     3,DL
         3 000561   200153 220106                    LDX0    EDAC_TABLE+1,QL,AUTO
         3 000562   201553 100100                    CMPX0   STORE_MODE+1,,AUTO
         3 000563   000576 601000 3                  TNZ     s:1448

     4410     1443    7                             EDAC_TABLE.COUNT(J) = EDAC_TABLE.COUNT(J) + 1;

   1443  3 000564   200153 721106                    LXL1    EDAC_TABLE+1,QL,AUTO
         3 000565   000001 622011                    EAX2    1,X1
         3 000566   200153 442106                    SXL2    EDAC_TABLE+1,QL,AUTO

     4411     1444    7                             EDAC_TABLE.UTS(J) = HDR.UTS;

   1444  3 000567   000001 470400 xsym               LDP0    TH_HDR+1
         3 000570   000000 235100                    LDA     0,,PR0
         3 000571   000000 620006                    EAX0    0,QL
         3 000572   000001 236100                    LDQ     1,,PR0
         3 000573   000011 773000                    LRL     9
         3 000574   200154 756110                    STQ     EDAC_TABLE+2,X0,AUTO

     4412     1445    7                             GOTO FOUND_IT;

   1445  3 000575   000660 710000 3                  TRA     FOUND_IT

     4413     1446    7                             END;  /* IF */
     4414     1447    6                          ELSE
     4415     1448    6                            IF (EDAC_TABLE.COUNT(J) < EDAC_TABLE.COUNT(NEXT_ENTRY)) OR

   1448  3 000576   000001 236000 1                  LDQ     NEXT_ENTRY
         3 000577   000003 402007                    MPY     3,DL
         3 000600   200153 236106                    LDQ     EDAC_TABLE+1,QL,AUTO
         3 000601   777777 376007                    ANQ     -1,DL
         3 000602   201570 756100                    STQ     CHIP#+2,,AUTO
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:851  
         3 000603   200007 236100                    LDQ     J,,AUTO
         3 000604   000003 402007                    MPY     3,DL
         3 000605   200153 236106                    LDQ     EDAC_TABLE+1,QL,AUTO
         3 000606   777777 376007                    ANQ     -1,DL
         3 000607   201570 116100                    CMPQ    CHIP#+2,,AUTO
         3 000610   000627 604000 3                  TMI     s:1451
         3 000611   000001 236000 1                  LDQ     NEXT_ENTRY
         3 000612   000003 402007                    MPY     3,DL
         3 000613   000000 620006                    EAX0    0,QL
         3 000614   200007 236100                    LDQ     J,,AUTO
         3 000615   000003 402007                    MPY     3,DL
         3 000616   200153 236106                    LDQ     EDAC_TABLE+1,QL,AUTO
         3 000617   200153 676110                    ERQ     EDAC_TABLE+1,X0,AUTO
         3 000620   777777 376007                    ANQ     -1,DL
         3 000621   000631 601000 3                  TNZ     s:1452
         3 000622   200007 236100                    LDQ     J,,AUTO
         3 000623   000003 402007                    MPY     3,DL
         3 000624   200154 236106                    LDQ     EDAC_TABLE+2,QL,AUTO
         3 000625   200154 116110                    CMPQ    EDAC_TABLE+2,X0,AUTO
         3 000626   000631 603000 3                  TRC     s:1452

     4416     1449    6                               (EDAC_TABLE.COUNT(J) = EDAC_TABLE.COUNT(NEXT_ENTRY) AND
     4417     1450    6                                EDAC_TABLE.UTS(J) < EDAC_TABLE.UTS(NEXT_ENTRY))
     4418     1451    6                             THEN NEXT_ENTRY = J;

   1451  3 000627   200007 235100                    LDA     J,,AUTO
         3 000630   000001 755000 1                  STA     NEXT_ENTRY

     4419     1452    6                          END;  /* DO J */

   1452  3 000631   200007 054100                    AOS     J,,AUTO
         3 000632   200007 235100                    LDA     J,,AUTO
         3 000633   000377 115007                    CMPA    255,DL
         3 000634   000557 604400 3                  TMOZ    s:1442

     4420     1453    5                       EDAC_TABLE.SYNDROME1(NEXT_ENTRY) = STORE_MODE.SYNDROME1;

PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:852  
   1453  3 000635   000001 236000 1                  LDQ     NEXT_ENTRY
         3 000636   000003 402007                    MPY     3,DL
         3 000637   201553 220100                    LDX0    STORE_MODE+1,,AUTO
         3 000640   200153 740106                    STX0    EDAC_TABLE+1,QL,AUTO

     4421     1454    5                       EDAC_TABLE.COUNT(NEXT_ENTRY) = 1;

   1454  3 000641   000001 221003                    LDX1    1,DU
         3 000642   200153 441106                    SXL1    EDAC_TABLE+1,QL,AUTO

     4422     1455    5                       EDAC_TABLE.UTS(NEXT_ENTRY) = HDR.UTS;

   1455  3 000643   000001 470400 xsym               LDP0    TH_HDR+1
         3 000644   000000 235100                    LDA     0,,PR0
         3 000645   000000 622006                    EAX2    0,QL
         3 000646   000001 236100                    LDQ     1,,PR0
         3 000647   000011 773000                    LRL     9
         3 000650   200154 756112                    STQ     EDAC_TABLE+2,X2,AUTO

     4423     1456    5                       EDAC_TABLE.MOSID(NEXT_ENTRY) = EL$EDAC.STORE_MODE.MOSID;

   1456  3 000651   000001 471400 xsym               LDP1    TH_INFO+1
         3 000652   100004 236100                    LDQ     4,,PR1
         3 000653   000022 772000                    QRL     18
         3 000654   200152 676112                    ERQ     EDAC_TABLE,X2,AUTO
         3 000655   000017 376007                    ANQ     15,DL
         3 000656   200152 656112                    ERSQ    EDAC_TABLE,X2,AUTO

     4424     1457    5                       NUM_EDACS = NUM_EDACS + 1;

   1457  3 000657   200010 054100                    AOS     NUM_EDACS,,AUTO

     4425     1458    5           FOUND_IT:
     4426     1459    6                       DO NEVER;

   1459  3 000660   000663 710000 3     FOUND_IT     TRA     s:1462

PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:853  
     4427     1460    6                   EOF:   EOF_FLAG = %TRUE;

   1460  3 000661   400000 236003       EOF          LDQ     -131072,DU
         3 000662   200036 756100                    STQ     EOF_FLAG,,AUTO

     4428     1461    6                       END;                /* DO NEVER                           */

     4429     1462    5                    END;                   /* DO WHILE NOT EOF_FLAG              */

   1462  3 000663   200036 234100                    SZN     EOF_FLAG,,AUTO
         3 000664   000534 605000 3                  TPL     s:1437

     4430     1463
     4431     1464    4                    IF NUM_EDACS > 256

   1464  3 000665   200010 235100                    LDA     NUM_EDACS,,AUTO
         3 000666   000400 115007                    CMPA    256,DL
         3 000667   000672 604400 3                  TMOZ    s:1467

     4432     1465    4                       THEN NUM_EDACS = 256;

   1465  3 000670   000400 236007                    LDQ     256,DL
         3 000671   200010 756100                    STQ     NUM_EDACS,,AUTO

     4433     1466    4              END;                         /* DO CASE(REP_CODE)                  */

     4434     1467    4              DO NEVER;

   1467  3 000672   000674 710000 3                  TRA     s:1470

     4435     1468    4     NOT_THERE:NUM_EDACS = 0;

   1468  3 000673   200010 450100       NOT_THERE    STZ     NUM_EDACS,,AUTO

     4436     1469    4              END;

     4437     1470    3              CALL XUD$UTS_ADJ_25TH(ERRLOG_DATE,ERRLOG_DATE,%UTS_25TH_DAY#);
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:854  

   1470  3 000674   000045 630400 4                  EPPR0   37
         3 000675   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000676   000000 701000 xent               TSX1    XUD$UTS_ADJ_25TH
         3 000677   000000 011000                    NOP     0

     4438     1471    3           END;                            /* DO ERRLOG_DATE <= STOP */

   1471  3 000700   200005 236100                    LDQ     STOP_TIME,,AUTO
         3 000701   000000 116000 1                  CMPQ    ERRLOG_DATE
         3 000702   000151 603000 3                  TRC     s:1360

     4439     1472    3           DO CASE(REP_CODE);

   1472  3 000703   200011 235100                    LDA     REP_CODE,,AUTO
         3 000704   000002 115007                    CMPA    2,DL
         3 000705   000707 602005 3                  TNC     s:1472+4,AL
         3 000706   001411 710000 3                  TRA     ENDLOOP
         3 000707   001411 710000 3                  TRA     ENDLOOP
         3 000710   000711 710000 3                  TRA     s:1475

     4440     1473    3              CASE(%MEM);  /* NOW OUTPUT THE EDAC RECORDS */

     4441     1474                      /* SORT EDAC TABLE BY UTS */
     4442     1475    4                 DO I = 1 TO NUM_EDACS - 1;

   1475  3 000711   000001 235007                    LDA     1,DL
         3 000712   200006 755100                    STA     I,,AUTO
         3 000713   000746 710000 3                  TRA     s:1485+1

     4443     1476    5                    DO J = 1 TO NUM_EDACS - I;

   1476  3 000714   000001 235007                    LDA     1,DL
         3 000715   200007 755100                    STA     J,,AUTO
         3 000716   000741 710000 3                  TRA     s:1484+1

     4444     1477    5                       IF EDAC_TABLE.UTS(J-1) > EDAC_TABLE.UTS(J)
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:855  

   1477  3 000717   200007 236100                    LDQ     J,,AUTO
         3 000720   000003 402007                    MPY     3,DL
         3 000721   000000 620006                    EAX0    0,QL
         3 000722   200154 236110                    LDQ     EDAC_TABLE+2,X0,AUTO
         3 000723   200151 116110                    CMPQ    CHIP,X0,AUTO
         3 000724   000740 603000 3                  TRC     s:1484

     4445     1478    5                          THEN          /* SWITCH EM                          */
     4446     1479    6                          DO;

     4447     1480    6                             TEMP = EDAC_TABLE(J-1);

   1480  3 000725   200007 236100                    LDQ     J,,AUTO
         3 000726   000014 402007                    MPY     12,DL
         3 000727   000100 100506                    MLR     fill='000'O
         3 000730   200147 000014                    ADSC9   TVEC+1,Q,AUTO            cn=0,n=12
         3 000731   201554 000020                    ADSC9   TEMP,,AUTO               cn=0,n=16

     4448     1481    6                             EDAC_TABLE(J-1) = EDAC_TABLE(J);

   1481  3 000732   000106 100506                    MLR     fill='000'O
         3 000733   200152 000014                    ADSC9   EDAC_TABLE,Q,AUTO        cn=0,n=12
         3 000734   200147 000014                    ADSC9   TVEC+1,Q,AUTO            cn=0,n=12

     4449     1482    6                             EDAC_TABLE(J) = TEMP;

   1482  3 000735   000106 100500                    MLR     fill='000'O
         3 000736   201554 000014                    ADSC9   TEMP,,AUTO               cn=0,n=12
         3 000737   200152 000014                    ADSC9   EDAC_TABLE,Q,AUTO        cn=0,n=12

     4450     1483    6                          END;          /* IF                                 */

     4451     1484    5                    END;                /* DO J                               */

   1484  3 000740   200007 054100                    AOS     J,,AUTO
         3 000741   200010 236100                    LDQ     NUM_EDACS,,AUTO
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:856  
         3 000742   200006 136100                    SBLQ    I,,AUTO
         3 000743   200007 116100                    CMPQ    J,,AUTO
         3 000744   000717 605000 3                  TPL     s:1477

     4452     1485    4                 END;                   /* DO I                               */

   1485  3 000745   200006 054100                    AOS     I,,AUTO
         3 000746   200006 236100                    LDQ     I,,AUTO
         3 000747   200010 116100                    CMPQ    NUM_EDACS,,AUTO
         3 000750   000714 604000 3                  TMI     s:1476

     4453     1486
     4454     1487                                             /* FORMAT RECORDS AND OUTPUT          */
     4455     1488    3                 LAST_DATE = 1;

   1488  3 000751   000001 235007                    LDA     1,DL
         3 000752   200042 755100                    STA     LAST_DATE,,AUTO

     4456     1489    4                 IF NUM_EDACS > 0 THEN DO I = 1 TO CTL.NHDR;

   1489  3 000753   200010 235100                    LDA     NUM_EDACS,,AUTO
         3 000754   000777 604400 3                  TMOZ    s:1492

   1489  3 000755   000001 235007                    LDA     1,DL
         3 000756   200006 755100                    STA     I,,AUTO
         3 000757   000772 710000 3                  TRA     s:1491+1

     4457     1490    4                    CALL THW$WRITE(CTL.FMT(I));

   1490  3 000760   200006 236100                    LDQ     I,,AUTO
         3 000761   000023 736000                    QLS     19
         3 000762   000002 036003                    ADLQ    2,DU
         3 000763   200044 036100                    ADLQ    CTL$,,AUTO
         3 000764   201570 756100                    STQ     CHIP#+2,,AUTO
         3 000765   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 000766   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000767   000000 701000 xent               TSX1    THW$WRITE
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:857  
         3 000770   000000 011000                    NOP     0

     4458     1491    4                    END;  /* DO I */

   1491  3 000771   200006 054100                    AOS     I,,AUTO
         3 000772   200044 470500                    LDP0    CTL$,,AUTO
         3 000773   000000 236100                    LDQ     0,,PR0
         3 000774   000033 772000                    QRL     27
         3 000775   200006 116100                    CMPQ    I,,AUTO
         3 000776   000760 605000 3                  TPL     s:1490

     4459     1492    4                 DO I = 0 TO NUM_EDACS - 1;

   1492  3 000777   200006 450100                    STZ     I,,AUTO
         3 001000   001406 710000 3                  TRA     s:1532+1

     4460     1493    4                    CALL XUD$UTS_DIFF_SEC (TEMP_UTS, EDAC_TABLE.UTS(I), 0);

   1493  3 001001   000016 236000 4                  LDQ     14
         3 001002   201572 756100                    STQ     CHIP#+4,,AUTO
         3 001003   200006 236100                    LDQ     I,,AUTO
         3 001004   000003 402007                    MPY     3,DL
         3 001005   200154 630506                    EPPR0   EDAC_TABLE+2,QL,AUTO
         3 001006   201571 450500                    STP0    CHIP#+3,,AUTO
         3 001007   201560 631500                    EPPR1   TEMP_UTS,,AUTO
         3 001010   201570 451500                    STP1    CHIP#+2,,AUTO
         3 001011   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 001012   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001013   000000 701000 xent               TSX1    XUD$UTS_DIFF_SEC
         3 001014   000000 011000                    NOP     0

     4461     1494    4                    TEMP_UTS = TEMP_UTS / 86400;

   1494  3 001015   201560 236100                    LDQ     TEMP_UTS,,AUTO
         3 001016   000001 772000                    QRL     1
         3 001017   124300 506007                    DIV     43200,DL
         3 001020   201560 756100                    STQ     TEMP_UTS,,AUTO
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:858  

     4462     1495    5                    IF TEMP_UTS ~= LAST_DATE THEN DO;

   1495  3 001021   200042 116100                    CMPQ    LAST_DATE,,AUTO
         3 001022   001064 600000 3                  TZE     s:1501

     4463     1496    5                       CALL THW$WRITE(VECTOR(PRINT_DATE),

   1496  3 001023   777640 235007                    LDA     -96,DL
         3 001024   201570 452500                    STP2    CHIP#+2,,AUTO
         3 001025   200006 236100                    LDQ     I,,AUTO
         3 001026   201571 755100                    STA     CHIP#+3,,AUTO
         3 001027   000003 402003                    MPY     3,DU
         3 001030   000154 036003                    ADLQ    108,DU
         3 001031   201570 036100                    ADLQ    CHIP#+2,,AUTO
         3 001032   201571 235100                    LDA     CHIP#+3,,AUTO
         3 001033   201572 757100                    STAQ    CHIP#+4,,AUTO
         3 001034   201572 630500                    EPPR0   CHIP#+4,,AUTO
         3 001035   201575 450500                    STP0    CHIP#+7,,AUTO
         3 001036   000030 236000 4                  LDQ     24
         3 001037   201574 756100                    STQ     CHIP#+6,,AUTO
         3 001040   201574 630500                    EPPR0   CHIP#+6,,AUTO
         3 001041   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 001042   000000 701000 xent               TSX1    THW$WRITE
         3 001043   000000 011000                    NOP     0

     4464     1497    5                                      VECTOR(EDAC_TABLE.UTS(I)));
     4465     1498    5                       CALL XUD$UTS_DIFF_SEC (LAST_DATE, EDAC_TABLE.UTS(I), 0);

   1498  3 001044   000016 236000 4                  LDQ     14
         3 001045   201572 756100                    STQ     CHIP#+4,,AUTO
         3 001046   200006 236100                    LDQ     I,,AUTO
         3 001047   000003 402007                    MPY     3,DL
         3 001050   200154 630506                    EPPR0   EDAC_TABLE+2,QL,AUTO
         3 001051   201571 450500                    STP0    CHIP#+3,,AUTO
         3 001052   200042 631500                    EPPR1   LAST_DATE,,AUTO
         3 001053   201570 451500                    STP1    CHIP#+2,,AUTO
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:859  
         3 001054   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 001055   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001056   000000 701000 xent               TSX1    XUD$UTS_DIFF_SEC
         3 001057   000000 011000                    NOP     0

     4466     1499    5                       LAST_DATE = LAST_DATE / 86400;

   1499  3 001060   200042 236100                    LDQ     LAST_DATE,,AUTO
         3 001061   000001 772000                    QRL     1
         3 001062   124300 506007                    DIV     43200,DL
         3 001063   200042 756100                    STQ     LAST_DATE,,AUTO

     4467     1500    5                       END;  /* IF UTS ~= LAST_DATE */

     4468     1501    4                    TEXT$ = ADDR(TEXTBUF);

   1501  3 001064   200045 630500                    EPPR0   TEXTBUF,,AUTO
         3 001065   200145 450500                    STP0    TEXT$,,AUTO

     4469     1502    4                    CALL EDAC(EDAC_TABLE(I));

   1502  3 001066   200006 236100                    LDQ     I,,AUTO
         3 001067   000003 402007                    MPY     3,DL
         3 001070   200152 631506                    EPPR1   EDAC_TABLE,QL,AUTO
         3 001071   201563 451500                    STP1    TEMP_UTS+3,,AUTO
         3 001072   001423 701000 3                  TSX1    EDAC
         3 001073   000000 011000                    NOP     0

     4470     1503    5                    DO CASE(EDAC_TABLE.SYNDROME.PORT#(I));

   1503  3 001074   200006 236100                    LDQ     I,,AUTO
         3 001075   000003 402007                    MPY     3,DL
         3 001076   200153 236106                    LDQ     EDAC_TABLE+1,QL,AUTO
         3 001077   000024 772000                    QRL     20
         3 001100   000003 376007                    ANQ     3,DL
         3 001101   000004 116007                    CMPQ    4,DL
         3 001102   001104 602006 3                  TNC     s:1503+8,QL
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:860  
         3 001103   001163 710000 3                  TRA     s:1513
         3 001104   001110 710000 3                  TRA     s:1505
         3 001105   001123 710000 3                  TRA     s:1507
         3 001106   001136 710000 3                  TRA     s:1509
         3 001107   001151 710000 3                  TRA     s:1511

     4471     1504    5                       CASE(0);         /* PORT A                             */

     4472     1505    5                          CALL THF$ADD_TEXTC(TEXT$,'A',1);

   1505  3 001110   000051 236000 4                  LDQ     41
         3 001111   201572 756100                    STQ     CHIP#+4,,AUTO
         3 001112   000052 236000 4                  LDQ     42
         3 001113   201571 756100                    STQ     CHIP#+3,,AUTO
         3 001114   200145 630500                    EPPR0   TEXT$,,AUTO
         3 001115   201570 450500                    STP0    CHIP#+2,,AUTO
         3 001116   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 001117   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001120   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 001121   000000 011000                    NOP     0
         3 001122   001163 710000 3                  TRA     s:1513

     4473     1506    5                       CASE(1);         /* PORT B                             */

     4474     1507    5                          CALL THF$ADD_TEXTC(TEXT$,'B',1);

   1507  3 001123   000051 236000 4                  LDQ     41
         3 001124   201572 756100                    STQ     CHIP#+4,,AUTO
         3 001125   000054 236000 4                  LDQ     44
         3 001126   201571 756100                    STQ     CHIP#+3,,AUTO
         3 001127   200145 630500                    EPPR0   TEXT$,,AUTO
         3 001130   201570 450500                    STP0    CHIP#+2,,AUTO
         3 001131   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 001132   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001133   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 001134   000000 011000                    NOP     0
         3 001135   001163 710000 3                  TRA     s:1513
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:861  

     4475     1508    5                       CASE(2);         /* PORT C                             */

     4476     1509    5                          CALL THF$ADD_TEXTC(TEXT$,'C',1);

   1509  3 001136   000051 236000 4                  LDQ     41
         3 001137   201572 756100                    STQ     CHIP#+4,,AUTO
         3 001140   000056 236000 4                  LDQ     46
         3 001141   201571 756100                    STQ     CHIP#+3,,AUTO
         3 001142   200145 630500                    EPPR0   TEXT$,,AUTO
         3 001143   201570 450500                    STP0    CHIP#+2,,AUTO
         3 001144   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 001145   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001146   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 001147   000000 011000                    NOP     0
         3 001150   001163 710000 3                  TRA     s:1513

     4477     1510    5                       CASE(3);         /*  PORT D                            */

     4478     1511    5                          CALL THF$ADD_TEXTC(TEXT$,'D',1);

   1511  3 001151   000051 236000 4                  LDQ     41
         3 001152   201572 756100                    STQ     CHIP#+4,,AUTO
         3 001153   000060 236000 4                  LDQ     48
         3 001154   201571 756100                    STQ     CHIP#+3,,AUTO
         3 001155   200145 630500                    EPPR0   TEXT$,,AUTO
         3 001156   201570 450500                    STP0    CHIP#+2,,AUTO
         3 001157   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 001160   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001161   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 001162   000000 011000                    NOP     0

     4479     1512    5                    END;                /* DO CASE PORT#                      */

     4480     1513    5                    DO CASE(EDAC_TABLE.SYNDROME.STORE#(I));

   1513  3 001163   200006 236100                    LDQ     I,,AUTO
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:862  
         3 001164   000003 402007                    MPY     3,DL
         3 001165   200153 220106                    LDX0    EDAC_TABLE+1,QL,AUTO
         3 001166   000003 360003                    ANX0    3,DU
         3 001167   000004 100003                    CMPX0   4,DU
         3 001170   001172 602010 3                  TNC     s:1513+7,X0
         3 001171   001251 710000 3                  TRA     s:1523
         3 001172   001176 710000 3                  TRA     s:1515
         3 001173   001211 710000 3                  TRA     s:1517
         3 001174   001224 710000 3                  TRA     s:1519
         3 001175   001237 710000 3                  TRA     s:1521

     4481     1514    5                       CASE(0);         /* A                                  */

     4482     1515    5                          CALL THF$ADD_TEXTC(TEXT$,'A ',2);

   1515  3 001176   000061 236000 4                  LDQ     49
         3 001177   201572 756100                    STQ     CHIP#+4,,AUTO
         3 001200   000062 236000 4                  LDQ     50
         3 001201   201571 756100                    STQ     CHIP#+3,,AUTO
         3 001202   200145 630500                    EPPR0   TEXT$,,AUTO
         3 001203   201570 450500                    STP0    CHIP#+2,,AUTO
         3 001204   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 001205   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001206   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 001207   000000 011000                    NOP     0
         3 001210   001251 710000 3                  TRA     s:1523

     4483     1516    5                       CASE(1);         /* A1                                 */

     4484     1517    5                          CALL THF$ADD_TEXTC(TEXT$,'A1',2);

   1517  3 001211   000061 236000 4                  LDQ     49
         3 001212   201572 756100                    STQ     CHIP#+4,,AUTO
         3 001213   000063 236000 4                  LDQ     51
         3 001214   201571 756100                    STQ     CHIP#+3,,AUTO
         3 001215   200145 630500                    EPPR0   TEXT$,,AUTO
         3 001216   201570 450500                    STP0    CHIP#+2,,AUTO
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:863  
         3 001217   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 001220   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001221   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 001222   000000 011000                    NOP     0
         3 001223   001251 710000 3                  TRA     s:1523

     4485     1518    5                       CASE(2);         /* B                                  */

     4486     1519    5                          CALL THF$ADD_TEXTC(TEXT$,'B ',2);

   1519  3 001224   000061 236000 4                  LDQ     49
         3 001225   201572 756100                    STQ     CHIP#+4,,AUTO
         3 001226   000064 236000 4                  LDQ     52
         3 001227   201571 756100                    STQ     CHIP#+3,,AUTO
         3 001230   200145 630500                    EPPR0   TEXT$,,AUTO
         3 001231   201570 450500                    STP0    CHIP#+2,,AUTO
         3 001232   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 001233   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001234   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 001235   000000 011000                    NOP     0
         3 001236   001251 710000 3                  TRA     s:1523

     4487     1520    5                       CASE(3);         /* B1                                 */

     4488     1521    5                          CALL THF$ADD_TEXTC(TEXT$,'B1',2);

   1521  3 001237   000061 236000 4                  LDQ     49
         3 001240   201572 756100                    STQ     CHIP#+4,,AUTO
         3 001241   000065 236000 4                  LDQ     53
         3 001242   201571 756100                    STQ     CHIP#+3,,AUTO
         3 001243   200145 630500                    EPPR0   TEXT$,,AUTO
         3 001244   201570 450500                    STP0    CHIP#+2,,AUTO
         3 001245   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 001246   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001247   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 001250   000000 011000                    NOP     0

PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:864  
     4489     1522    5                    END;                /* DO CASE STORE#                     */

     4490     1523    4                    CALL THF$ADD_TEXTC(TEXT$,BOARD,1);

   1523  3 001251   000051 236000 4                  LDQ     41
         3 001252   201572 756100                    STQ     CHIP#+4,,AUTO
         3 001253   200150 630500                    EPPR0   BOARD,,AUTO
         3 001254   201571 450500                    STP0    CHIP#+3,,AUTO
         3 001255   200145 631500                    EPPR1   TEXT$,,AUTO
         3 001256   201570 451500                    STP1    CHIP#+2,,AUTO
         3 001257   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 001260   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001261   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 001262   000000 011000                    NOP     0

     4491     1524    4                    CALL THF$ADD_TEXTC(TEXT$,CHIP,3);

   1524  3 001263   000024 236000 4                  LDQ     20
         3 001264   201572 756100                    STQ     CHIP#+4,,AUTO
         3 001265   200151 630500                    EPPR0   CHIP,,AUTO
         3 001266   201571 450500                    STP0    CHIP#+3,,AUTO
         3 001267   200145 631500                    EPPR1   TEXT$,,AUTO
         3 001270   201570 451500                    STP1    CHIP#+2,,AUTO
         3 001271   201570 630500                    EPPR0   CHIP#+2,,AUTO
         3 001272   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001273   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 001274   000000 011000                    NOP     0

     4492     1525    4                    FPT_TIME.TSTAMP_ = VECTOR(EDAC_TABLE.UTS(I));

   1525  3 001275   777640 235007                    LDA     -96,DL
         3 001276   201570 452500                    STP2    CHIP#+2,,AUTO
         3 001277   200006 236100                    LDQ     I,,AUTO
         3 001300   201571 755100                    STA     CHIP#+3,,AUTO
         3 001301   000003 402003                    MPY     3,DU
         3 001302   000154 036003                    ADLQ    108,DU
         3 001303   201570 036100                    ADLQ    CHIP#+2,,AUTO
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:865  
         3 001304   201571 235100                    LDA     CHIP#+3,,AUTO
         3 001305   000012 757000 1                  STAQ    FPT_TIME+8

     4493     1526    4                    CALL M$TIME(FPT_TIME);

   1526  3 001306   000002 630400 1                  EPPR0   FPT_TIME
         3 001307   020004 713400                    CLIMB   8196
         3 001310   402000 401760                    pmme    nvectors=5

     4494     1527    4                    TVEC = VECTOR(TEXTBUF);

   1527  3 001311   000040 235000 4                  LDA     32
         3 001312   201570 452500                    STP2    CHIP#+2,,AUTO
         3 001313   201570 236100                    LDQ     CHIP#+2,,AUTO
         3 001314   000045 036003                    ADLQ    37,DU
         3 001315   200146 757100                    STAQ    TVEC,,AUTO

     4495     1528    4                    TVEC.BOUND = POFFC(TEXT$,ADDR(TEXTBUF)) - 1;

   1528  3 001316   201570 452500                    STP2    CHIP#+2,,AUTO
         3 001317   201570 236100                    LDQ     CHIP#+2,,AUTO
         3 001320   000045 036003                    ADLQ    37,DU
         3 001321   000020 772000                    QRL     16
         3 001322   201571 756100                    STQ     CHIP#+3,,AUTO
         3 001323   200145 236100                    LDQ     TEXT$,,AUTO
         3 001324   000020 772000                    QRL     16
         3 001325   201571 136100                    SBLQ    CHIP#+3,,AUTO
         3 001326   000001 136007                    SBLQ    1,DL
         3 001327   000020 736000                    QLS     16
         3 001330   200146 676100                    ERQ     TVEC,,AUTO
         3 001331   000034 376000 xsym               ANQ     B_VECTNIL+28
         3 001332   200146 656100                    ERSQ    TVEC,,AUTO

     4496     1529    5                    DO J = CTL.NHDR + 1 TO CTL.NFMT + CTL.NHDR;

   1529  3 001333   200044 470500                    LDP0    CTL$,,AUTO
         3 001334   000000 236100                    LDQ     0,,PR0
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:866  
         3 001335   000033 772000                    QRL     27
         3 001336   000001 036007                    ADLQ    1,DL
         3 001337   200007 756100                    STQ     J,,AUTO
         3 001340   001372 710000 3                  TRA     s:1531+1

     4497     1530    5                      CALL THW$WRITE(CTL.FMT(J),VECTOR(TH_TIME),VECTOR(EDAC_TABLE(I)),
              1530                                TVEC);

   1530  3 001341   000066 235000 4                  LDA     54
         3 001342   201570 452500                    STP2    CHIP#+2,,AUTO
         3 001343   200006 236100                    LDQ     I,,AUTO
         3 001344   201571 755100                    STA     CHIP#+3,,AUTO
         3 001345   000003 402003                    MPY     3,DU
         3 001346   000152 036003                    ADLQ    106,DU
         3 001347   201570 036100                    ADLQ    CHIP#+2,,AUTO
         3 001350   201571 235100                    LDA     CHIP#+3,,AUTO
         3 001351   201572 757100                    STAQ    CHIP#+4,,AUTO
         3 001352   200146 630500                    EPPR0   TVEC,,AUTO
         3 001353   201577 450500                    STP0    CHIP#+9,,AUTO
         3 001354   201572 631500                    EPPR1   CHIP#+4,,AUTO
         3 001355   201576 451500                    STP1    CHIP#+8,,AUTO
         3 001356   000044 236000 4                  LDQ     36
         3 001357   201575 756100                    STQ     CHIP#+7,,AUTO
         3 001360   200007 236100                    LDQ     J,,AUTO
         3 001361   000023 736000                    QLS     19
         3 001362   000002 036003                    ADLQ    2,DU
         3 001363   200044 036100                    ADLQ    CTL$,,AUTO
         3 001364   201574 756100                    STQ     CHIP#+6,,AUTO
         3 001365   201574 630500                    EPPR0   CHIP#+6,,AUTO
         3 001366   000022 631400 xsym               EPPR1   B_VECTNIL+18
         3 001367   000000 701000 xent               TSX1    THW$WRITE
         3 001370   000000 011000                    NOP     0

     4498     1531    5                    END;                /* DO J                               */

   1531  3 001371   200007 054100                    AOS     J,,AUTO
         3 001372   200044 470500                    LDP0    CTL$,,AUTO
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:867  
         3 001373   000000 236100                    LDQ     0,,PR0
         3 001374   000033 772000                    QRL     27
         3 001375   201570 756100                    STQ     CHIP#+2,,AUTO
         3 001376   000000 236100                    LDQ     0,,PR0
         3 001377   000022 772000                    QRL     18
         3 001400   000777 376007                    ANQ     511,DL
         3 001401   201570 036100                    ADLQ    CHIP#+2,,AUTO
         3 001402   001341 604000 3                  TMI     s:1530
         3 001403   200007 116100                    CMPQ    J,,AUTO
         3 001404   001341 605000 3                  TPL     s:1530

     4499     1532    4                 END;                   /* DO I                               */

   1532  3 001405   200006 054100                    AOS     I,,AUTO
         3 001406   200006 236100                    LDQ     I,,AUTO
         3 001407   200010 116100                    CMPQ    NUM_EDACS,,AUTO
         3 001410   001001 604000 3                  TMI     s:1493

     4500     1533    3              END;  /* CASE REP_CODE */

     4501     1534    2   ENDLOOP:
     4502     1535    2        END;                               /* DO REP_CODE = FIRST TO LAST        */

   1535  3 001411   200011 235100       ENDLOOP      LDA     REP_CODE,,AUTO
         3 001412   000001 035007                    ADLA    1,DL
         3 001413   200011 755100                    STA     REP_CODE,,AUTO
         3 001414   200013 236100                    LDQ     LAST_REP,,AUTO
         3 001415   200011 116100                    CMPQ    REP_CODE,,AUTO
         3 001416   000021 603000 3                  TRC     s:1341

     4503     1536    1        CALL THG$CLOSEXSA;

   1536  3 001417   000002 631400 xsym               EPPR1   B_VECTNIL+2
         3 001420   000000 701000 xent               TSX1    THG$CLOSEXSA
         3 001421   000000 011000                    NOP     0

     4504     1537    1        RETURN;
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:868  

   1537  3 001422   000000 702200 xent               TSX2  ! X66_ARET

     4505     1538        %EJECT;
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:869  
     4506     1539    1   EDAC: PROC(TBL);

   1539  3 001423   201562 741300       EDAC         STX1  ! TEMP_UTS+2,,AUTO

     4507     1540        /**/
     4508     1541        /* PARAMS */
     4509     1542    2   DCL 1 TBL,
     4510     1543    2         2 * BIT(32) UNAL,
     4511     1544    2         2 MOSID BIT(4) UNAL,
     4512     1545    2         2 SYNDROME,
     4513     1546    2           3 A45 UBIN(2) UNAL,
     4514     1547    2           3 A678 UBIN(3) UNAL,
     4515     1548    2           3 * BIT(1),
     4516     1549    2           3 NUMB UBIN(7) UNAL,
     4517     1550    2           3 ODDEVN BIT(1),
     4518     1551    2           3 PORT# UBIN(2) UNAL,
     4519     1552    2           3 STORE# UBIN(2) UNAL,
     4520     1553    2         2 COUNT UBIN(18) UNAL,
     4521     1554    2         2 UTS UBIN WORD;
     4522     1555        /**/
     4523     1556        /* VARS */
     4524     1557    2   DCL BIT_4K(0:127) SBIN BYTE CALIGNED SYMREF;
     4525     1558    2   DCL QUAD_4K(0:127) SBIN BYTE CALIGNED SYMREF;
     4526     1559    2   DCL BOARD_4K(0:3) CHAR(4) STATIC INIT(
     4527     1560    2           'ABCD','FGHJ','KLMN','QRST');
     4528     1561    2   DCL CHIP_LTTR(0:9) STATIC CHAR(1) INIT('A','B','C','D','E','G',
     4529     1562    2       'H','J','K','L');
     4530     1563    2   DCL BIT_64K (0:127) SBIN BYTE CALIGNED SYMREF;
     4531     1564    2   DCL CHIP_64K_CHAR (0:7) CHAR(2) CALIGNED SYMREF;
     4532     1565    2   DCL CHIP_64K_LET (0:19) CHAR(1) CALIGNED SYMREF;
     4533     1566    2   DCL BOARD_64K (0:15) CHAR(1) CALIGNED SYMREF;
     4534     1567        /**/
     4535     1568    2   DCL BIT# SBIN;
     4536     1569    2   DCL QUAD# SBIN;
     4537     1570    2   DCL CHIP# CHAR(2);
     4538     1571        /**/
     4539     1572    2   DCL 1 TBUF BASED(TEXT$),
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:870  
     4540     1573    2         2 N UBIN BYTE UNAL,
     4541     1574    2         2 C CHAR(TBUF.N);
     4542     1575        /**/
     4543     1576        /* FPTS */
     4544     1577        %FPT_TIME (FPTN=LOCAL,
     4545     1578                   SOURCE=UTS,
     4546     1579                   DEST=LOCAL,
     4547     1580                   TIME=TH_TIME);
     4548     1599        /**/
     4549     1600        %EJECT;
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:871  
     4550     1601    2           IF TBL.MOSID = '1010'B

   1601  3 001424   201563 470500                    LDP0    @TBL,,AUTO
         3 001425   000000 236100                    LDQ     0,,PR0
         3 001426   000017 376007                    ANQ     15,DL
         3 001427   000012 116007                    CMPQ    10,DL
         3 001430   001553 600000 3                  TZE     EDAC_64K

     4551     1602    2           THEN GOTO EDAC_64K;
     4552     1603    2           BIT#=BIT_4K(TBL.SYNDROME.NUMB);

   1603  3 001431   000001 236100                    LDQ     1,,PR0
         3 001432   000027 772000                    QRL     23
         3 001433   000177 376007                    ANQ     127,DL
         3 001434   000100 100406                    MLR     fill='000'O
         3 001435   000000 000001 xsym               ADSC9   BIT_4K,Q                 cn=0,n=1
         3 001436   201570 000004                    ADSC9   CHIP#+2,,AUTO            cn=0,n=4
         3 001437   201570 236100                    LDQ     CHIP#+2,,AUTO
         3 001440   000033 732000                    QRS     27
         3 001441   201564 756100                    STQ     BIT#,,AUTO

     4553     1604    2           QUAD#=QUAD_4K(TBL.SYNDROME.NUMB);

   1604  3 001442   000001 236100                    LDQ     1,,PR0
         3 001443   000027 772000                    QRL     23
         3 001444   000177 376007                    ANQ     127,DL
         3 001445   000100 100406                    MLR     fill='000'O
         3 001446   000000 000001 xsym               ADSC9   QUAD_4K,Q                cn=0,n=1
         3 001447   201570 000004                    ADSC9   CHIP#+2,,AUTO            cn=0,n=4
         3 001450   201570 236100                    LDQ     CHIP#+2,,AUTO
         3 001451   000033 732000                    QRS     27
         3 001452   201565 756100                    STQ     QUAD#,,AUTO

     4554     1605    2           IF BIT#=-1 OR QUAD#=0 THEN

   1605  3 001453   201564 235100                    LDA     BIT#,,AUTO
         3 001454   000027 115000 xsym               CMPA    B_VECTNIL+23
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:872  
         3 001455   001460 600000 3                  TZE     s:1607
         3 001456   000000 116003                    CMPQ    0,DU
         3 001457   001465 601000 3                  TNZ     s:1611

     4555     1606    3              DO;

     4556     1607    3                 BOARD=' ';

   1607  3 001460   040000 236003                    LDQ     16384,DU
         3 001461   200150 756100                    STQ     BOARD,,AUTO

     4557     1608    3                 CHIP=' ';

   1608  3 001462   000067 236000 4                  LDQ     55
         3 001463   200151 756100                    STQ     CHIP,,AUTO

     4558     1609    3                 RETURN;

   1609  3 001464   000001 702211                    TSX2  ! 1,X1

     4559     1610    3              END;
     4560     1611    2           BOARD=SUBSTR(BOARD_4K(QUAD#-1),TBL.SYNDROME.A45,1);

   1611  3 001465   000001 236100                    LDQ     1,,PR0
         3 001466   000042 772000                    QRL     34
         3 001467   201570 756100                    STQ     CHIP#+2,,AUTO
         3 001470   201565 236100                    LDQ     QUAD#,,AUTO
         3 001471   000002 736000                    QLS     2
         3 001472   201570 036100                    ADLQ    CHIP#+2,,AUTO
         3 001473   040100 100406                    MLR     fill='040'O
         3 001474   000015 000001 1                  ADSC9   FPT_TIME+11,Q            cn=0,n=1
         3 001475   200150 000001                    ADSC9   BOARD,,AUTO              cn=0,n=1

     4561     1612    2           IF MOD(BIT#,2) = 1 THEN

   1612  3 001476   201564 236100                    LDQ     BIT#,,AUTO
         3 001477   000002 506007                    DIV     2,DL
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:873  
         3 001500   000044 733000                    LRS     36
         3 001501   000001 116007                    CMPQ    1,DL
         3 001502   001531 601000 3                  TNZ     s:1619

     4562     1613    3              DO;

     4563     1614    3                 CALL BINCHAR(CHIP#,7-TBL.SYNDROME.A678);

   1614  3 001503   000001 236100                    LDQ     1,,PR0
         3 001504   000037 772000                    QRL     31
         3 001505   000007 376007                    ANQ     7,DL
         3 001506   000027 676000 xsym               ERQ     B_VECTNIL+23
         3 001507   000010 036007                    ADLQ    8,DL
         3 001510   201570 756100                    STQ     CHIP#+2,,AUTO
         3 001511   000100 301500                    BTD
         3 001512   201570 000004                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=4
         3 001513   201566 030002                    NDSC9   CHIP#,,AUTO              cn=0,s=nosgn,sf=0,n=2

     4564     1615    3                 CALL CONCAT(CHIP,SUBSTR(CHIP#,1,1),CHIP_LTTR(BIT#/2));

   1615  3 001514   201564 236100                    LDQ     BIT#,,AUTO
         3 001515   000002 506007                    DIV     2,DL
         3 001516   201570 756100                    STQ     CHIP#+2,,AUTO
         3 001517   201566 236100                    LDQ     CHIP#,,AUTO
         3 001520   000011 736000                    QLS     9
         3 001521   777000 376003                    ANQ     -512,DU
         3 001522   000070 276000 4                  ORQ     56
         3 001523   200151 756100                    STQ     CHIP,,AUTO
         3 001524   201570 235100                    LDA     CHIP#+2,,AUTO
         3 001525   040100 100405                    MLR     fill='040'O
         3 001526   000022 000001 1                  ADSC9   CHIP_LTTR,A              cn=0,n=1
         3 001527   200151 200002                    ADSC9   CHIP,,AUTO               cn=1,n=2

     4565     1616    3              END;

   1616  3 001530   001551 710000 3                  TRA     s:1622

PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:874  
     4566     1617    2           ELSE
     4567     1618    3              DO;

     4568     1619    3                 CALL BINCHAR(CHIP#,18-TBL.SYNDROME.A678);

   1619  3 001531   000001 236100                    LDQ     1,,PR0
         3 001532   000037 772000                    QRL     31
         3 001533   000007 376007                    ANQ     7,DL
         3 001534   000027 676000 xsym               ERQ     B_VECTNIL+23
         3 001535   000023 036007                    ADLQ    19,DL
         3 001536   201570 756100                    STQ     CHIP#+2,,AUTO
         3 001537   000100 301500                    BTD
         3 001540   201570 000004                    NDSC9   CHIP#+2,,AUTO            cn=0,s=lsgnf,sf=0,n=4
         3 001541   201566 030002                    NDSC9   CHIP#,,AUTO              cn=0,s=nosgn,sf=0,n=2

     4569     1620    3                 CALL CONCAT(CHIP,CHIP#,CHIP_LTTR(BIT#/2));

   1620  3 001542   201564 236100                    LDQ     BIT#,,AUTO
         3 001543   000002 506007                    DIV     2,DL
         3 001544   201566 220100                    LDX0    CHIP#,,AUTO
         3 001545   200151 740100                    STX0    CHIP,,AUTO
         3 001546   040100 100406                    MLR     fill='040'O
         3 001547   000022 000001 1                  ADSC9   CHIP_LTTR,Q              cn=0,n=1
         3 001550   200151 400001                    ADSC9   CHIP,,AUTO               cn=2,n=1

     4570     1621    3              END;

     4571     1622    2           RETURN;

   1622  3 001551   201562 221300                    LDX1  ! TEMP_UTS+2,,AUTO
         3 001552   000001 702211                    TSX2  ! 1,X1

     4572     1623    2   EDAC_64K:
     4573     1624    2           BIT# = BIT_64K(TBL.SYNDROME.NUMB);

   1624  3 001553   000001 236100       EDAC_64K     LDQ     1,,PR0
         3 001554   000027 772000                    QRL     23
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:875  
         3 001555   000177 376007                    ANQ     127,DL
         3 001556   000100 100406                    MLR     fill='000'O
         3 001557   000000 000001 xsym               ADSC9   BIT_64K,Q                cn=0,n=1
         3 001560   201570 000004                    ADSC9   CHIP#+2,,AUTO            cn=0,n=4
         3 001561   201570 236100                    LDQ     CHIP#+2,,AUTO
         3 001562   000033 732000                    QRS     27
         3 001563   201564 756100                    STQ     BIT#,,AUTO

     4574     1625    2           IF BIT# < 0

   1625  3 001564   001572 605000 3                  TPL     s:1631

     4575     1626    3           THEN DO;

     4576     1627    3              BOARD = ' ';

   1627  3 001565   040000 236003                    LDQ     16384,DU
         3 001566   200150 756100                    STQ     BOARD,,AUTO

     4577     1628    3              CHIP = ' ';

   1628  3 001567   000067 236000 4                  LDQ     55
         3 001570   200151 756100                    STQ     CHIP,,AUTO

     4578     1629    3              RETURN;

   1629  3 001571   000001 702211                    TSX2  ! 1,X1

     4579     1630    3              END;
     4580     1631    2           BOARD = BOARD_64K(TBL.SYNDROME.A45 * 4

   1631  3 001572   000001 236100                    LDQ     1,,PR0
         3 001573   000037 772000                    QRL     31
         3 001574   000007 376007                    ANQ     7,DL
         3 001575   000001 772000                    QRL     1
         3 001576   201570 756100                    STQ     CHIP#+2,,AUTO
         3 001577   000001 236100                    LDQ     1,,PR0
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:876  
         3 001600   000040 772000                    QRL     32
         3 001601   000014 376007                    ANQ     12,DL
         3 001602   201570 036100                    ADLQ    CHIP#+2,,AUTO
         3 001603   040100 100406                    MLR     fill='040'O
         3 001604   000000 000001 xsym               ADSC9   BOARD_64K,Q              cn=0,n=1
         3 001605   200150 000001                    ADSC9   BOARD,,AUTO              cn=0,n=1

     4581     1632    2                           + TBL.SYNDROME.A678 / 2);
     4582     1633    2           QUAD# = BIT# * 2 + MOD(TBL.SYNDROME.A678,2);

   1633  3 001606   000001 236100                    LDQ     1,,PR0
         3 001607   000037 772000                    QRL     31
         3 001610   000007 376007                    ANQ     7,DL
         3 001611   000001 376007                    ANQ     1,DL
         3 001612   201570 756100                    STQ     CHIP#+2,,AUTO
         3 001613   201564 236100                    LDQ     BIT#,,AUTO
         3 001614   000001 736000                    QLS     1
         3 001615   201570 036100                    ADLQ    CHIP#+2,,AUTO
         3 001616   201565 756100                    STQ     QUAD#,,AUTO

     4583     1634    2           CALL CONCAT (CHIP,

   1634  3 001617   000010 506007                    DIV     8,DL
         3 001620   201565 236100                    LDQ     QUAD#,,AUTO
         3 001621   201570 755100                    STA     CHIP#+2,,AUTO
         3 001622   000010 506007                    DIV     8,DL
         3 001623   201570 235100                    LDA     CHIP#+2,,AUTO
         3 001624   000001 735000                    ALS     1
         3 001625   040100 100405                    MLR     fill='040'O
         3 001626   000000 000002 xsym               ADSC9   CHIP_64K_CHAR,A          cn=0,n=2
         3 001627   200151 000002                    ADSC9   CHIP,,AUTO               cn=0,n=2
         3 001630   040100 100406                    MLR     fill='040'O
         3 001631   000000 000001 xsym               ADSC9   CHIP_64K_LET,Q           cn=0,n=1
         3 001632   200151 400001                    ADSC9   CHIP,,AUTO               cn=2,n=1

     4584     1635    2                        CHIP_64K_CHAR(MOD(QUAD#,8)),
     4585     1636    2                        CHIP_64K_LET(QUAD#/8));
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:877  
     4586     1637    2           RETURN;

   1637  3 001633   201562 221300                    LDX1  ! TEMP_UTS+2,,AUTO
         3 001634   000001 702211                    TSX2  ! 1,X1
     4587     1638    2   END EDAC;
     4588     1639    1   END THF$HWE;
     4589     1640        %EOD;

PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:878  
--  Include file information  --

   XUD_UTS_M.:E05TOU  is referenced.
   EL_SUBS_C.:E05TOU  is referenced.
   TH_DATA_C.:E05TOU  is referenced.
   B_STRINGS_C.:E05TOU  is referenced.
   TH_SUBS_C.:E05TOU  is referenced.
   TH_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   EL$TABLES.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure THF$HWE.
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:879  

 **** Variables and constants ****

  ****  Section 001  Data  THF$HWE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    16-0-0/c CHAR(4)     r     1 BOARD_4K(0:3)
    22-0-0/c CHAR        r     1 CHIP_LTTR(0:9)
     0-0-0/w UBIN        r     1 ERRLOG_DATE                2-0-0/d STRC(432)   r     1 FPT_TIME
    26-0-0/d STRC(432)   r     1 LOCAL                      1-0-0/w UBIN        r     1 NEXT_ENTRY

  ****  Section 002 RoData THF$HWE

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(4)     r     1 BLANK_LINE                32-0-0/c CHAR(81)    r     1 FEP_TITLE
    57-0-0/c CHAR(81)    r     1 IOM_TITLE                131-0-0/c CHAR(81)    r     1 MEM_TITLE
   104-0-0/c CHAR(81)    r     1 MPC_TITLE                  5-0-0/c CHAR(84)    r     1 PERIPH_TITLE
     1-0-0/c CHAR(14)    r     1 PRINT_DATE               172-0-0/d STRC(432)   r     1 RECORD_DATE
   156-0-0/b BIT (72)    r     1 TITLE_VEC(0:5)

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @CODE                   1563-0-0/w PTR         r     1 @TBL
  1564-0-0/w SBIN        r     1 BIT#                     150-0-0/c CHAR        r     1 BOARD
   151-0-0/c CHAR(3)     r     1 CHIP                    1566-0-0/c CHAR(2)     r     1 CHIP#
    *0-0-0/w UBIN        r     1 CODE                      44-0-0/w PTR         r     1 CTL$
   152-0-0/w STRC(108)   r     1 EDAC_TABLE(0:255)
    36-0-0/b BIT         r     1 EOF_FLAG                  43-0-0/b BIT         r     1 FIRST_EDAC
    12-0-0/w UBIN        r     1 FIRST_REP                  6-0-0/w SBIN        r     1 I
     7-0-0/w SBIN        r     1 J                         42-0-0/w UBIN        r     1 LAST_DATE
    13-0-0/w UBIN        r     1 LAST_REP                  14-0-0/c CHAR(32)    r     1 MAJBUF
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:880  
    34-0-0/w SBIN        r     1 MAJCOUNT                  24-0-0/c CHAR(32)    r     1 MINBUF
    35-0-0/w SBIN        r     1 MINCOUNT                  10-0-0/w SBIN        r     1 NUM_EDACS
    40-0-0/w UBIN        r     1 NUM_LINES                 41-0-0/b BIT         r     1 PRINT_BLANK
    37-0-0/b BIT         r     1 PRINT_HDR               1565-0-0/w SBIN        r     1 QUAD#
    11-0-0/w UBIN        r     1 REP_CODE                   4-0-0/w UBIN        r     1 START_TIME
     5-0-0/w UBIN        r     1 STOP_TIME               1552-0-0/b STRC(72)    r     1 STORE_MODE
    *0-0-0/w STRC(108)   r     1 TBL                     1554-0-0/d BIT (72)    r     1 TEMP(0:1)
  1560-0-0/w UBIN        r     1 TEMP_UTS                 145-0-0/w PTR         r     1 TEXT$
    45-0-0/c CHAR(256)   r     1 TEXTBUF                  146-0-0/w STRC(72)    r     1 TVEC

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c SBIN(9)     r     1 BIT_4K(0:127)              0-0-0/c SBIN(9)     r     1 BIT_64K(0:127)
     0-0-0/c CHAR        r     1 BOARD_64K(0:15)
     0-0-0/c CHAR(2)     r     1 CHIP_64K_CHAR(0:7)
     0-0-0/c CHAR        r     1 CHIP_64K_LET(0:19)
     0-0-0/c SBIN(9)     r     1 QUAD_4K(0:127)             0-0-0/b BIT         r     1 TH_BOF
     0-0-0/b BIT         r     1 TH_CHECK_DEVNM             0-0-0/d STRC(1971)  r     1 TH_CONSTRAINTS
     0-0-0/c CHAR(10)    r     1 TH_DATE                    0-0-0/c CHAR(3)     r     1 TH_DAY
     0-0-0/d STRC(72)    r     1 TH_HDR
     0-0-0/w PTR         r     1 TH_HWE_FMT(0:0)
     0-0-0/d STRC(72)    r     1 TH_INFO                    0-0-0/w UBIN        r     1 TH_LASTUTS
     0-0-0/w UBIN        r     1 TH_NUM_REP_DEVS
     0-0-0/w CHAR(8)     r     1 TH_REP_DEVS(0:511)
     0-0-0/w CHAR(6)     r     1 TH_SITE_ID                 0-0-0/w STRC(1080)  r     1 TH_SITE_NAME
     0-0-0/c CHAR(11)    r     1 TH_TIME

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(144)   r     1 CTL                        0-0-0/w STRC(396)   r     1 EL$EDAC
     0-0-0/w STRC(1080)  r     1 EL$IOERR                   0-0-0/w STRC(216)   r     1 HDR
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:881  
     0-0-0/c ASTR(9)     r     1 TBUF


   Procedure THF$HWE requires 925 words for executable code.
   Procedure THF$HWE requires 896 words of local(AUTO) storage.
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:882  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:883  
          MINI XREF LISTING

BIT# IN PROCEDURE EDAC
      1568**DCL      1603<<ASSIGN   1605>>IF       1612>>IF       1615>>CALLBLT  1620>>CALLBLT  1624<<ASSIGN
      1625>>IF       1633>>ASSIGN
BIT_4K IN PROCEDURE EDAC
      1557**DCL      1603>>ASSIGN
BIT_64K IN PROCEDURE EDAC
      1563**DCL      1624>>ASSIGN
BLANK_LINE
      1083**DCL      1393--CALL
BOARD
      1099**DCL      1523<>CALL     1607<<ASSIGN   1611<<ASSIGN   1627<<ASSIGN   1631<<ASSIGN
BOARD_4K IN PROCEDURE EDAC
      1559**DCL      1611>>ASSIGN
BOARD_64K IN PROCEDURE EDAC
      1566**DCL      1631>>ASSIGN
CHIP
      1100**DCL      1524<>CALL     1608<<ASSIGN   1615<<CALLBLT  1620<<CALLBLT  1628<<ASSIGN   1634<<CALLBLT
CHIP# IN PROCEDURE EDAC
      1570**DCL      1614<<CALLBLT  1615>>CALLBLT  1619<<CALLBLT  1620>>CALLBLT
CHIP_64K_CHAR IN PROCEDURE EDAC
      1564**DCL      1634>>CALLBLT
CHIP_64K_LET IN PROCEDURE EDAC
      1565**DCL      1634>>CALLBLT
CHIP_LTTR IN PROCEDURE EDAC
      1561**DCL      1615>>CALLBLT  1620>>CALLBLT
CODE
        10**DCL         7--PROC     1328>>IF       1336>>ASSIGN   1337>>ASSIGN   1343>>IF
CTL.FMT
      1156**DCL      1379<>CALL     1408<>CALL     1490<>CALL     1530<>CALL
CTL.NFMT
      1151**DCL      1407>>DOINDEX  1529>>DOINDEX
CTL.NHDR
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:884  
      1150**DCL      1378>>DOINDEX  1407>>DOINDEX  1407>>DOINDEX  1489>>DOINDEX  1529>>DOINDEX  1529>>DOINDEX
CTL$
      1092**DCL      1149--IMP-PTR  1350<<ASSIGN   1378>>DOINDEX  1379>>CALL     1407>>DOINDEX  1407>>DOINDEX
      1407>>DOINDEX  1408>>CALL     1489>>DOINDEX  1490>>CALL     1529>>DOINDEX  1529>>DOINDEX  1529>>DOINDEX
      1530>>CALL
EDAC
      1539**PROC     1502--CALL
EDAC_64K IN PROCEDURE EDAC
      1624**LABEL    1602--GOTO
EDAC_TABLE
      1118**DCL      1426<<ASSIGN   1480>>ASSIGN   1481<<ASSIGN   1481>>ASSIGN   1482<<ASSIGN   1502<>CALL
      1530--CALL
EDAC_TABLE.COUNT
      1130**DCL      1443<<ASSIGN   1443>>ASSIGN   1448>>IF       1448>>IF       1448>>IF       1448>>IF
      1454<<ASSIGN
EDAC_TABLE.MOSID
      1120**DCL      1456<<ASSIGN
EDAC_TABLE.SYNDROME
      1121**DCL      1129--REDEF
EDAC_TABLE.SYNDROME.PORT#
      1127**DCL      1503>>DOCASE
EDAC_TABLE.SYNDROME.STORE#
      1128**DCL      1513>>DOCASE
EDAC_TABLE.SYNDROME1
      1129**DCL      1442>>IF       1453<<ASSIGN
EDAC_TABLE.UTS
      1131**DCL      1444<<ASSIGN   1448>>IF       1448>>IF       1455<<ASSIGN   1477>>IF       1477>>IF
      1493<>CALL     1496--CALL     1498<>CALL     1525--ASSIGN
EL$EDAC.PORT#
      1219**DCL      1439>>ASSIGN
EL$EDAC.STORE_MODE
      1215**DCL      1438>>ASSIGN
EL$EDAC.STORE_MODE.MOSID
      1216**DCL      1456>>ASSIGN
EL$EDAC.STORE_UNIT
      1220**DCL      1440>>ASSIGN
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:885  
EL$IOERR
      1224**DCL      1400<>CALL
EL$IOERR.SEEK
      1228**DCL      1229--REDEF
EL$IOERR.STATUS
      1224**DCL      1225--REDEF
ENDLOOP
      1535**LABEL    1342--GOTO
EOF
      1460**LABEL    1437--CALLALT
EOF_FLAG
      1084**DCL      1368<<ASSIGN   1374>>DOWHILE  1411<<ASSIGN   1435<<ASSIGN   1436>>DOWHILE  1460<<ASSIGN
ERRLOG_DATE
      1082**DCL      1358<<ASSIGN   1359>>DOWHILE  1360<>CALL     1470<>CALL     1470<>CALL
FEP_TITLE
      1103**DCL      1114--DCLINIT
FIRST_EDAC
      1089**DCL      1339<<ASSIGN   1424>>IF       1425<<ASSIGN
FIRST_REP
      1076**DCL      1331<<ASSIGN   1336<<ASSIGN   1340>>DOINDEX
FOUND_IT
      1459**LABEL    1445--GOTO
FPT_TIME
      1292**DCL      1526<>CALL
FPT_TIME.TSTAMP_
      1295**DCL      1525<<ASSIGN
FPT_TIME.V
      1296**DCL      1292--DCLINIT
HDR.UTS
      1183**DCL      1382<>CALL     1385--CALL     1387<>CALL     1444>>ASSIGN   1455>>ASSIGN
I
      1072**DCL      1366<<DOINDEX  1370>>ASSIGN   1475<<DOINDEX  1476>>DOINDEX  1489<<DOINDEX  1490>>CALL
      1492<<DOINDEX  1493>>CALL     1496>>CALL     1498>>CALL     1502>>CALL     1503>>DOCASE   1513>>DOCASE
      1525>>ASSIGN   1530>>CALL
IOM_TITLE
      1105**DCL      1113--DCLINIT
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:886  
J
      1073**DCL      1378<<DOINDEX  1379>>CALL     1407<<DOINDEX  1408>>CALL     1441<<DOINDEX  1442>>IF
      1443>>ASSIGN   1443>>ASSIGN   1444>>ASSIGN   1448>>IF       1448>>IF       1448>>IF       1451>>ASSIGN
      1476<<DOINDEX  1477>>IF       1477>>IF       1480>>ASSIGN   1481>>ASSIGN   1481>>ASSIGN   1482>>ASSIGN
      1529<<DOINDEX  1530>>CALL
LAST_DATE
      1088**DCL      1349<<ASSIGN   1384>>IF       1387<>CALL     1388<<ASSIGN   1388>>ASSIGN   1488<<ASSIGN
      1495>>IF       1498<>CALL     1499<<ASSIGN   1499>>ASSIGN
LAST_REP
      1077**DCL      1332<<ASSIGN   1337<<ASSIGN   1340>>DOINDEX
LOCAL.V IN PROCEDURE EDAC
      1595**DCL      1591--DCLINIT
M$TIME
        89**DCL-ENT  1406--CALL     1526--CALL
MAJBUF
      1078**DCL      1400<>CALL     1401<>CALL
MAJCOUNT
      1080**DCL      1400<>CALL     1401<>CALL
MEM_TITLE
      1109**DCL      1112--DCLINIT
MINBUF
      1079**DCL      1400<>CALL     1402<>CALL
MINCOUNT
      1081**DCL      1400<>CALL     1402<>CALL
MPC_TITLE
      1107**DCL      1116--DCLINIT
NEXT_ENTRY
      1142**DCL      1432<<ASSIGN   1448>>IF       1448>>IF       1448>>IF       1451<<ASSIGN   1453>>ASSIGN
      1454>>ASSIGN   1455>>ASSIGN   1456>>ASSIGN
NOT_THERE
      1468**LABEL    1360--CALLALT
NO_STATUS
      1404**LABEL    1400--CALLALT
NUM_EDACS
      1074**DCL      1431<<ASSIGN   1457<<ASSIGN   1457>>ASSIGN   1464>>IF       1465<<ASSIGN   1468<<ASSIGN
      1475>>DOINDEX  1476>>DOINDEX  1489>>IF       1492>>DOINDEX
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:887  
NUM_LINES
      1086**DCL      1369<<ASSIGN   1396<<ASSIGN   1396>>ASSIGN   1414>>IF
PERIPH_EOF
      1411**LABEL    1375--CALLALT
PERIPH_TITLE
      1101**DCL      1115--DCLINIT
PRINT_BLANK
      1087**DCL      1363<<ASSIGN   1390>>IF       1394<<ASSIGN   1415<<ASSIGN
PRINT_DATE
      1090**DCL      1385--CALL     1496--CALL
PRINT_HDR
      1085**DCL      1351<<ASSIGN   1376>>IF       1377<<ASSIGN
QUAD# IN PROCEDURE EDAC
      1569**DCL      1604<<ASSIGN   1605>>IF       1611>>ASSIGN   1633<<ASSIGN   1634>>CALLBLT  1634>>CALLBLT
QUAD_4K IN PROCEDURE EDAC
      1558**DCL      1604>>ASSIGN
RECORD_DATE
      1318**DCL      1406<>CALL
RECORD_DATE.V
      1322**DCL      1318--DCLINIT
REP_CODE
      1075**DCL      1340<<DOINDEX  1341>>IF       1341>>IF       1341>>IF       1344>>CALL     1350>>ASSIGN
      1361>>DOCASE   1472>>DOCASE
START_TIME
      1070**DCL      1352<>CALL     1353<<ASSIGN   1353>>ASSIGN   1354<>CALL     1354>>CALL     1358>>ASSIGN
STOP_TIME
      1071**DCL      1355<>CALL     1356<<ASSIGN   1356>>ASSIGN   1357<>CALL     1357>>CALL     1359>>DOWHILE
STORE_MODE
      1132**DCL      1438<<ASSIGN
STORE_MODE.SYNDROME
      1134**DCL      1138--REDEF
STORE_MODE.SYNDROME.PORT#
      1136**DCL      1439<<ASSIGN
STORE_MODE.SYNDROME.STORE#
      1137**DCL      1440<<ASSIGN
STORE_MODE.SYNDROME1
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:888  
      1138**DCL      1442>>IF       1453>>ASSIGN
TBL IN PROCEDURE EDAC
      1542**DCL      1539--PROC
TBL.MOSID IN PROCEDURE EDAC
      1544**DCL      1601>>IF
TBL.SYNDROME.A45 IN PROCEDURE EDAC
      1546**DCL      1611>>ASSIGN   1631>>ASSIGN
TBL.SYNDROME.A678 IN PROCEDURE EDAC
      1547**DCL      1614>>CALLBLT  1619>>CALLBLT  1631>>ASSIGN   1633>>ASSIGN
TBL.SYNDROME.NUMB IN PROCEDURE EDAC
      1549**DCL      1603>>ASSIGN   1604>>ASSIGN   1624>>ASSIGN
TBUF.N IN PROCEDURE EDAC
      1573**DCL      1574--IMP-SIZ
TEMP
      1140**DCL      1480<<ASSIGN   1482>>ASSIGN
TEMP_UTS
      1145**DCL      1382<>CALL     1383<<ASSIGN   1383>>ASSIGN   1384>>IF       1493<>CALL     1494<<ASSIGN
      1494>>ASSIGN   1495>>IF
TEXT$
      1094**DCL      1399<<ASSIGN   1401<>CALL     1402<>CALL     1404>>ASSIGN   1501<<ASSIGN   1505<>CALL
      1507<>CALL     1509<>CALL     1511<>CALL     1515<>CALL     1517<>CALL     1519<>CALL     1521<>CALL
      1523<>CALL     1524<>CALL     1528>>ASSIGN   1572--IMP-PTR
TEXTBUF
      1093**DCL      1399--ASSIGN   1403--ASSIGN   1404--ASSIGN   1501--ASSIGN   1527--ASSIGN   1528--ASSIGN
THF$ADD_TEXTC
      1063**DCL-ENT  1401--CALL     1402--CALL     1505--CALL     1507--CALL     1509--CALL     1511--CALL
      1515--CALL     1517--CALL     1519--CALL     1521--CALL     1523--CALL     1524--CALL
THF$STATUS
      1064**DCL-ENT  1400--CALL
THG$CLOSEXSA
      1067**DCL-ENT  1536--CALL
THG$GETREC
      1061**DCL-ENT  1375--CALL     1437--CALL
THG$OPENXSA
      1065**DCL-ENT  1360--CALL
THW$WRITE
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:889  
      1062**DCL-ENT  1344--CALL     1379--CALL     1385--CALL     1393--CALL     1408--CALL     1490--CALL
      1496--CALL     1530--CALL
TH_BOF
       453**DCL      1367<<ASSIGN   1434<<ASSIGN
TH_CHECK_DEVNM
       463**DCL      1372<<ASSIGN   1373<<ASSIGN   1430<<ASSIGN
TH_CONSTRAINTS.DEVNM
       425**DCL      1370<<ASSIGN   1371>>IF       1429<<ASSIGN
TH_CONSTRAINTS.E_BY_B
       428**DCL       428--REDEF
TH_CONSTRAINTS.M_BY_B
       427**DCL       427--REDEF
TH_CONSTRAINTS.NTYPES
       425**DCL      1364<<ASSIGN   1427<<ASSIGN
TH_CONSTRAINTS.START
       426**DCL      1344--CALL     1352<>CALL
TH_CONSTRAINTS.STOP
       426**DCL      1344--CALL     1355<>CALL
TH_CONSTRAINTS.TYPES
       425**DCL       425--REDEF    1365<<ASSIGN   1428<<ASSIGN
TH_DATE
       456**DCL      1292--DCLINIT  1293--DCLINIT  1318--DCLINIT  1319--DCLINIT
TH_DAY
       456**DCL      1321--DCLINIT
TH_DEFAULT.E_BY_B
       436**DCL       436--REDEF
TH_DEFAULT.M_BY_B
       435**DCL       435--REDEF
TH_DEFAULT.TYPES
       433**DCL       433--REDEF
TH_HDR.PTR$
       455**DCL      1171--IMP-PTR  1382>>CALL     1385>>CALL     1387>>CALL     1444>>ASSIGN   1455>>ASSIGN
TH_HWE_FMT
      1143**DCL      1350>>ASSIGN
TH_INFO
       454**DCL      1408<>CALL
PL6.E3A0      #004=THF$HWE File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:16 Page:890  
TH_INFO.PTR$
       454**DCL      1215--IMP-PTR  1224--IMP-PTR  1400>>CALL     1438>>ASSIGN   1439>>ASSIGN   1440>>ASSIGN
      1456>>ASSIGN
TH_LASTUTS
       455**DCL      1322--DCLINIT
TH_NUM_REP_DEVS
       450**DCL      1366>>DOINDEX
TH_REP_DEVS
       451**DCL      1370>>ASSIGN
TH_SAVE.E_BY_B
       444**DCL       444--REDEF
TH_SAVE.M_BY_B
       442**DCL       442--REDEF
TH_SAVE.TYPES
       440**DCL       441--REDEF
TH_SITE_ID
       456**DCL      1344--CALL
TH_SITE_NAME
       457**DCL      1344--CALL
TH_TIME
       456**DCL      1294--DCLINIT  1295--DCLINIT  1320--DCLINIT  1321--DCLINIT  1408--CALL     1530--CALL
      1593--DCLINIT  1594--DCLINIT
TH_XSA_BUF_VECTOR
       460**DCL       460--REDEF
TITLE_VEC
      1111**DCL      1344<>CALL
TVEC
      1095**DCL      1398<<ASSIGN   1403<<ASSIGN   1408<>CALL     1527<<ASSIGN   1530<>CALL
TVEC.BOUND
      1096**DCL      1404<<ASSIGN   1528<<ASSIGN
XUD$UTS_ADJ_25TH
      1258**DCL-ENT  1354--CALL     1357--CALL     1470--CALL
XUD$UTS_DIFF_SEC
      1240**DCL-ENT  1352--CALL     1355--CALL     1382--CALL     1387--CALL     1493--CALL     1498--CALL

PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:891  
     4590        1        /*M* THF$CONFIG - ROUTINE TO BUILD CONFIG REPORT FOR ELAN */
     4591        2        /*T***********************************************************/
     4592        3        /*T*                                                         */
     4593        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     4594        5        /*T*                                                         */
     4595        6        /*T***********************************************************/
     4596        7        THF$CONFIG: PROC(CODE);
     4597        8        /**/
     4598        9    1   DCL CODE UBIN;
     4599       10        /**/
     4600       11        /* INCLUDE FILES */
     4601       12        %INCLUDE CP_6;
     4602       93        %INCLUDE CP_6_SUBS;
     4603      633        %INCLUDE TD$STRUCT;
     4604      734        %INCLUDE TH_SUBS_C;
     4605     1116        %INCLUDE TH_DATA_R;
     4606     1194        %INCLUDE IT_SUBS_C;
     4607     1461        %INCLUDE NI$TABLES ;
     4608     1677        /**/
     4609     1678        /* ENTRY DEFS */
     4610     1679    1   DCL THG$GETREC ENTRY(4) ALTRET;
     4611     1680    1   DCL THW$WRITE ENTRY(11);
     4612     1681    1   DCL THF$ADD_TEXTC ENTRY(3);
     4613     1682        /**/
     4614     1683        /* MACRO INVOCATIONS */
     4615     1684        %TD$HEAD (NAME=TD$HEAD,NUMDEV#=100);
     4616     1720        %TD$HEAD (NAME=TD_HEAD,STCLASS=AUTO,NUMDEV#=200);
     4617     1756        %TD$IOM (NAME=IOMREC,STCLASS=AUTO);
     4618     1764        %TD$IOM (NAME=TD$IOM);
     4619     1772        %TD$MPC (NAME=MPCREC,STCLASS=AUTO,NUMDEV#=32);
     4620     1794        %TD$MPC (NAME=MPCREC1,STCLASS=AUTO,NUMDEV#=32);
     4621     1816        %TD$MPC (NAME=TD$MPC,NUMDEV#=32);
     4622     1838        %TD$DEV (NAME=DEVREC,STCLASS=AUTO);
     4623     1857        %TD$DEV (NAME=TD$DEV);
     4624     1876        /**/
     4625     1877        /* VARS */
     4626     1878    1   DCL IOMREC$ PTR;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:892  
     4627     1879    1   DCL MPCREC$ PTR;
     4628     1880    1   DCL DEVREC$ PTR;
     4629     1881        /**/
     4630     1882    1   DCL IOM_NAME CHAR(4);
     4631     1883    1   DCL ZERO CHAR(8) CONSTANT INIT('0       '); /* USED FOR GETREC CALLS          */
     4632     1884    1   DCL IOM# CHAR(1);
     4633     1885    1   DCL NUM_CHANS UBIN WORD;
     4634     1886    1   DCL CHANS (0:7) UBIN WORD;
     4635     1887    1   DCL I SBIN;
     4636     1888    1   DCL J SBIN;
     4637     1889        /**/
     4638     1890    1   DCL INDX_VEC (0:10) UBIN WORD STATIC;
     4639     1891    1   DCL 1 TVEC DALIGNED,
     4640     1892    1         2 BOUND UBIN(20) UNAL,
     4641     1893    1         2 * BIT(16),
     4642     1894    1         2 PTR$ PTR;
     4643     1895    1   DCL TEXTBUF CHAR(256);
     4644     1896    1   DCL TEXT$ PTR;
     4645     1897        /**/
     4646     1898    1   DCL BLANK_LINE CHAR(0) CONSTANT INIT('%10P');
     4647     1899    1   DCL APC_FMT CHAR(0) CONSTANT INIT(
     4648     1900    1   '  ARRAY PROCESSORS: %40-Channels : 18-19 %10P');
     4649     1901    1   DCL CONFIG_APC BIT(72) DALIGNED STATIC INIT(VECTOR(APC_FMT));
     4650     1902    1   DCL IOM_FMT CHAR(0) CONSTANT INIT(
     4651     1903    1   '%/%A %2.264P PORT#%D%10P');
     4652     1904    1   DCL CONFIG_IOM BIT(72) DALIGNED STATIC INIT(VECTOR(IOM_FMT));
     4653     1905    1   DCL MPC_FMT CHAR(0) CONSTANT INIT(
     4654     1906    1   '  MPC %4A %2PFirmware : %T %T %T %T Channels : %T%10P');
     4655     1907    1   DCL CONFIG_MPC BIT(72) DALIGNED STATIC INIT(VECTOR(MPC_FMT));
     4656     1908    1   DCL OPC_FMT CHAR(0) CONSTANT INIT(
     4657     1909    1   '  OPTC  %7A Channel : %2P%D%10P');
     4658     1910    1   DCL CONFIG_OPC BIT(72) DALIGNED STATIC INIT(VECTOR(OPC_FMT));
     4659     1911    1   DCL DEV_FMT CHAR(0) CONSTANT INIT(
     4660     1912    1   '    %4A Dev#%2.10.2P%2.18D Model# %2P%8A Feature# %8A Attr : %3P%T%10P');
     4661     1913    1   DCL CONFIG_DEV BIT(72) DALIGNED STATIC INIT(VECTOR(DEV_FMT));
     4662     1914    1   DCL FEP_FMT CHAR(0) CONSTANT INIT(
     4663     1915    1   '   %7A Channel : %2P%D%10P');
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:893  
     4664     1916    1   DCL CONFIG_FEP BIT(72) DALIGNED STATIC INIT(VECTOR(FEP_FMT));
     4665     1917    1   DCL SC_FMT CHAR(0) CONSTANT INIT(
     4666     1918    1   '   %4A Channel : %2P%D%10P');
     4667     1919    1   DCL CONFIG_SC BIT(72) DALIGNED STATIC INIT(VECTOR(SC_FMT));
     4668     1920        /**/
     4669     1921    1   DCL 1 UC_TBL (0:10) CONSTANT ALIGNED,
     4670     1922    1         2 ATTR BIT(18) UNAL INIT(%ATTR_TRUOVRPRT#,
     4671     1923    1                                  %ATTR_APL#,
     4672     1924    1                                  %ATTR_BIN#,
     4673     1925    1                                  %ATTR_LOWERCASE#,
     4674     1926    1                                  '0'B,
     4675     1927    1                                  '0'B,
     4676     1928    1                                  '0'B,
     4677     1929    1                                  '0'B,
     4678     1930    1                                  '0'B,
     4679     1931    1                                  '0'B,
     4680     1932    1                                  '0'B),
     4681     1933    1         2 LEN UBIN BYTE UNAL INIT(9,3,6,9,0*0),
     4682     1934    1         2 TEXT CHAR(32) INIT('Overprint','Apl','Binary','Lowercase',' '*0);
     4683     1935    1   DCL 1 TC_TBL (0:10) CONSTANT ALIGNED,
     4684     1936    1         2 ATTR BIT(18) UNAL INIT(%ATTR_D6250#,
     4685     1937    1                                  %ATTR_D1600#,
     4686     1938    1                                  %ATTR_D800#,
     4687     1939    1                                  '0'B,
     4688     1940    1                                  '0'B,
     4689     1941    1                                  '0'B,
     4690     1942    1                                  '0'B,
     4691     1943    1                                  '0'B,
     4692     1944    1                                  '0'B,
     4693     1945    1                                  '0'B,
     4694     1946    1                                  '0'B),
     4695     1947    1         2 LEN UBIN BYTE UNAL INIT(8,8,9,0*0),
     4696     1948    1         2 TEXT CHAR(32) INIT('6250 BPI','1600 BPI','800 BPI',' '*0);
     4697     1949    1   DCL 1 DC_TBL (0:10) CONSTANT ALIGNED,
     4698     1950    1         2 ATTR BIT(18) UNAL INIT(%ATTR_DD600#,
     4699     1951    1                                  %ATTR_DD200#,
     4700     1952    1                                  %ATTR_DD500#,
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:894  
     4701     1953    1                                  %ATTR_DD1000#,
     4702     1954    1                                  %ATTR_DD1500#,
     4703     1955    1                                  %ATTR_DD400#,
     4704     1956    1                                  %ATTR_DD1100#,
     4705     1957    1                                  '0'B,
     4706     1958    1                                  '0'B,
     4707     1959    1                                  '0'B,
     4708     1960    1                                  '0'B),
     4709     1961    1         2 LEN UBIN BYTE UNAL INIT(6,6,6,7,7,6,7,0*0),
     4710     1962    1         2 TEXT CHAR(32) INIT('600 MB','200 MB','500 MB','1000 MB','1500 MB',
     4711     1963    1                                                     '400 MB','1100 MB',' '*0);
     4712     1964    1   DCL 1 AP_TBL (0:10) CONSTANT ALIGNED,
     4713     1965    1         2 ATTR BIT(18) UNAL INIT(%ATTR_AP_SJE, '0'B,
     4714     1966    1                                  %ATTR_AP_M16384,
     4715     1967    1                                  %ATTR_AP_M8192,
     4716     1968    1                                  %ATTR_AP_M4096,
     4717     1969    1                                  %ATTR_AP_M2048,
     4718     1970    1                                  %ATTR_AP_M1024,
     4719     1971    1                                  %ATTR_AP_M512,
     4720     1972    1                                  %ATTR_AP_M256,
     4721     1973    1                                  %ATTR_AP_M128, '0'B),
     4722     1974    1         2 LEN UBIN BYTE UNAL INIT(3,4,6,5,5,5,5,4,4,4,0*0),
     4723     1975    1         2 TEXT CHAR(32) INIT('SJE','APEX','16384K','8192K','4096K',
     4724     1976    1                              '2048K','1024K','512K','256K','128K',' '*0);
     4725     1977    1   DCL 1 OD_TBL (0:10) CONSTANT ALIGNED,
     4726     1978    1         2 ATTR BIT(18) UNAL INIT('0'B,
     4727     1979    1                                  '0'B,
     4728     1980    1                                  '0'B,
     4729     1981    1                                  '0'B,
     4730     1982    1                                  '0'B,
     4731     1983    1                                  '0'B,
     4732     1984    1                                  '0'B,
     4733     1985    1                                  '0'B,
     4734     1986    1                                  '0'B,
     4735     1987    1                                  '0'B,
     4736     1988    1                                  '0'B),
     4737     1989    1         2 LEN UBIN BYTE UNAL INIT(0*0),
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:895  
     4738     1990    1         2 TEXT CHAR(32) INIT(' '*0);
     4739     1991    1   DCL 1 ATTR$TBL (0:10) BASED ALIGNED,
     4740     1992    1         2 ATTR BIT(18) UNAL,
     4741     1993    1         2 LEN UBIN BYTE UNAL,
     4742     1994    1         2 TEXT CHAR(32);
     4743     1995    1   DCL ATTR$TBL$ (0:5) PTR STATIC INIT(ADDR(NIL),
     4744     1996    1                                       ADDR(UC_TBL),
     4745     1997    1                                       ADDR(TC_TBL),
     4746     1998    1                                       ADDR(DC_TBL),
     4747     1999    1                                       ADDR(AP_TBL),
     4748     2000    1                                       ADDR(OD_TBL));
     4749     2001    1   DCL AP_ATTR_TBL$ PTR STATIC INIT(ADDR(AP_TBL)); /* PTR TO AP TBL */
     4750     2002    1   DCL NUM_ATTRS (0:5) UBIN WORD CONSTANT INIT(0,4,3,7,9,0);
     4751     2003    1   DCL FIRST_MPC SBIN;
     4752     2004    1   DCL LAST_MPC SBIN;
     4753     2005    1   DCL FIRST_IOM SBIN;
     4754     2006    1   DCL LAST_IOM SBIN;
     4755     2007    1   DCL FIRST_FEP SBIN;
     4756     2008    1   DCL LAST_FEP SBIN;
     4757     2009    1   DCL FIRST_SC SBIN;
     4758     2010    1   DCL LAST_SC SBIN;
     4759     2011    1   DCL JJ SBIN;
     4760     2012    1   DCL II SBIN;
     4761     2013    1   DCL ST SBIN;
     4762     2014    1   DCL SP SBIN;
     4763     2015    1   DCL DEV_FLG BIT(1) ALIGNED;
     4764     2016    1   DCL TEMP_DEV CHAR(2);
     4765     2017    1   DCL C_CODE UBIN;
     4766     2018        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:896  
     4767     2019    1     II = 0;
     4768     2020    1        CALL THG$GETREC(%CONFIG,ZERO);
     4769     2021    1        TD_HEAD = TH_RECORD.PTR$->TD$HEAD;
     4770     2022    2        DO WHILE (II < TH_NUM_REP_DEVS);
     4771     2023    2           JJ = 0;
     4772     2024    2           DEV_FLG = %FALSE;
     4773     2025    2        FIRST_IOM = 0;
     4774     2026    2        LAST_IOM = TD_HEAD.NUMIOMS - 1;
     4775     2027    2        FIRST_MPC = 1;
     4776     2028    2        LAST_MPC = 5;
     4777     2029    2        FIRST_FEP = TD_HEAD.FEP_INDX;
     4778     2030    2        LAST_FEP = TD_HEAD.FEP_INDX + TD_HEAD.NUMFEPS - 1;
     4779     2031    2        FIRST_SC = TD_HEAD.CONSOLE_INDX;
     4780     2032    2        LAST_SC = TD_HEAD.CONSOLE_INDX + TD_HEAD.NUMCONSOLES - 1;
     4781     2033    2        IF CODE = %ALL
     4782     2034    3           THEN DO;
     4783     2035    3              II = 9999;
     4784     2036    3              GOTO FOR_ALL;
     4785     2037    3           END;
     4786     2038    2        ST = II;
     4787     2039    3        DO WHILE (SUBSTR(TH_REP_DEVS(II),0,2) = SUBSTR(TH_REP_DEVS(II+1),0,2)
     4788     2040    3                  AND II < TH_NUM_REP_DEVS-1);
     4789     2041    3           II = II + 1;
     4790     2042    3        END;
     4791     2043    2        SP = II;
     4792     2044    2           TEMP_DEV = SUBSTR(TH_REP_DEVS(II),0,2);
     4793     2045    2           IF TEMP_DEV = 'FE'
     4794     2046    2              THEN C_CODE = %FEP;
     4795     2047    2              ELSE
     4796     2048    2           IF TEMP_DEV = 'IO'
     4797     2049    2              THEN C_CODE = %IOM;
     4798     2050    2              ELSE
     4799     2051    2           IF TEMP_DEV = 'CO' OR TEMP_DEV = 'SC'
     4800     2052    2              THEN C_CODE = %SC;
     4801     2053    2              ELSE
     4802     2054    2           IF TEMP_DEV = 'MP'
     4803     2055    2              THEN C_CODE = %MPC1;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:897  
     4804     2056    2              ELSE
     4805     2057    2           IF TEMP_DEV = 'DC'
     4806     2058    2              THEN C_CODE = %DC;
     4807     2059    2              ELSE
     4808     2060    2           IF TEMP_DEV = 'TC'
     4809     2061    2              THEN C_CODE = %TC;
     4810     2062    2              ELSE
     4811     2063    2           IF TEMP_DEV = 'UC'
     4812     2064    2              THEN C_CODE = %UC;
     4813     2065    2              ELSE
     4814     2066    2           IF TEMP_DEV = 'AC'
     4815     2067    2              THEN C_CODE = %AC;
     4816     2068    2              ELSE
     4817     2069    2           IF TEMP_DEV = 'OP'
     4818     2070    2              THEN C_CODE = %OPC;
     4819     2071    2              ELSE
     4820     2072    2           IF TEMP_DEV = 'AP'
     4821     2073    2              THEN C_CODE = %AP;
     4822     2074    2              ELSE
     4823     2075    2           IF TEMP_DEV = 'OD'
     4824     2076    2              THEN C_CODE = %OD;
     4825     2077    2              ELSE
     4826     2078    2           IF TEMP_DEV = 'DP'
     4827     2079    2              THEN C_CODE = %DP;
     4828     2080    2              ELSE
     4829     2081    2           IF TEMP_DEV = 'MT'
     4830     2082    2              THEN C_CODE = %MT;
     4831     2083    2              ELSE
     4832     2084    2           IF TEMP_DEV = 'LP' OR TEMP_DEV = 'CR' OR TEMP_DEV = 'CP'
     4833     2085    2              THEN C_CODE = %LP;
     4834     2086    2        II = II + 1;
     4835     2087    3        DO CASE (C_CODE);
     4836     2088    3           CASE (%FEP);
     4837     2089    3              LAST_MPC = -1;
     4838     2090    3              LAST_SC = -1;
     4839     2091    4              DO J = ST TO SP;
     4840     2092    4                 TD_HEAD.DEVNAME(TD_HEAD.FEP_INDX + JJ) = TH_REP_DEVS(J);
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:898  
     4841     2093    4                 JJ = JJ + 1;
     4842     2094    4                 END;  /* DO J */
     4843     2095    3              LAST_FEP = FIRST_FEP + (SP - ST);
     4844     2096    3           CASE(%IOM);
     4845     2097    3              CALL CHARBIN(FIRST_IOM,SUBSTR(TH_REP_DEVS(ST),3,1));
     4846     2098    3              CALL CHARBIN(LAST_IOM,SUBSTR(TH_REP_DEVS(SP - ST),3,1));
     4847     2099    3           CASE(%SC);
     4848     2100    3              LAST_FEP = -1;
     4849     2101    3              LAST_MPC = -1;
     4850     2102    4              DO J = ST TO SP;
     4851     2103    4                 TD_HEAD.DEVNAME(TD_HEAD.CONSOLE_INDX + JJ) = TH_REP_DEVS(J);
     4852     2104    4                 JJ = JJ + 1;
     4853     2105    4                 END;  /* DO J */
     4854     2106    3              LAST_SC = FIRST_SC + SP-ST;
     4855     2107    3           CASE(%MPC1);
     4856     2108    3              LAST_SC = -1;
     4857     2109    3              LAST_FEP = -1;
     4858     2110    3           CASE(%OPC);
     4859     2111    3              LAST_SC = -1;
     4860     2112    3              LAST_FEP = -1;
     4861     2113    3              FIRST_MPC = 5;
     4862     2114    3              LAST_MPC = FIRST_MPC;
     4863     2115    4              DO J = ST TO SP;
     4864     2116    4                 TD_HEAD.DEVNAME(TD_HEAD.OPC_INDX+JJ) = TH_REP_DEVS(J);
     4865     2117    4                 JJ = JJ + 1;
     4866     2118    4                 END;  /* DO J */
     4867     2119    3              TD_HEAD.NUMOPCS = SP - ST + 1;
     4868     2120    3           CASE(%AC);
     4869     2121    3              LAST_SC = -1;
     4870     2122    3              LAST_FEP = -1;
     4871     2123    3              FIRST_MPC = 4;
     4872     2124    3              LAST_MPC = FIRST_MPC;
     4873     2125    4              DO J = ST TO SP;
     4874     2126    4                 TD_HEAD.DEVNAME(TD_HEAD.APMPC_INDX+JJ) = TH_REP_DEVS(J);
     4875     2127    4                 JJ = JJ + 1;
     4876     2128    4                 END;  /* DO J */
     4877     2129    3              TD_HEAD.NUMAPMPCS = SP - ST + 1;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:899  
     4878     2130    3           CASE(%DC);
     4879     2131    3              LAST_SC = -1;
     4880     2132    3              LAST_FEP = -1;
     4881     2133    3              FIRST_MPC = 3;
     4882     2134    3              LAST_MPC = FIRST_MPC;
     4883     2135    4              DO J = ST TO SP;
     4884     2136    4                 TD_HEAD.DEVNAME(TD_HEAD.DISKMPC_INDX+JJ) = TH_REP_DEVS(J);
     4885     2137    4                 JJ = JJ + 1;
     4886     2138    4                 END;  /* DO J */
     4887     2139    3              TD_HEAD.NUMDISKMPCS = SP - ST + 1;
     4888     2140    3           CASE(%TC);
     4889     2141    3              LAST_SC = -1;
     4890     2142    3              LAST_FEP = -1;
     4891     2143    3              FIRST_MPC = 2;
     4892     2144    3              LAST_MPC = FIRST_MPC;
     4893     2145    4              DO J = ST TO SP;
     4894     2146    4                 TD_HEAD.DEVNAME(TD_HEAD.TAPEMPC_INDX+JJ) = TH_REP_DEVS(J);
     4895     2147    4                 JJ = JJ + 1;
     4896     2148    4                 END;  /* DO J */
     4897     2149    3              TD_HEAD.NUMTAPEMPCS = SP - ST + 1;
     4898     2150    3           CASE(%UC);
     4899     2151    3              LAST_SC = -1;
     4900     2152    3              LAST_FEP = -1;
     4901     2153    3              FIRST_MPC = 1;
     4902     2154    3              LAST_MPC = FIRST_MPC;
     4903     2155    4              DO J = ST TO SP;
     4904     2156    4                 TD_HEAD.DEVNAME(TD_HEAD.UNITMPC_INDX+JJ) = TH_REP_DEVS(J);
     4905     2157    4                 JJ = JJ + 1;
     4906     2158    4                 END;  /* DO J */
     4907     2159    3              TD_HEAD.NUMUNITMPCS = SP-ST+1;
     4908     2160    3           CASE (%DP);
     4909     2161    3              FIRST_MPC = 3;
     4910     2162    3              DEV_FLG = %TRUE;
     4911     2163    3              CALL MPC_DEVICES(' ',FIRST_MPC,ST,SP,DEV_FLG);
     4912     2164    3              GOTO NEXT;
     4913     2165    3           CASE (%MT);
     4914     2166    3              FIRST_MPC = 2;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:900  
     4915     2167    3              DEV_FLG = %TRUE;
     4916     2168    3              CALL MPC_DEVICES(' ',FIRST_MPC,ST,SP,DEV_FLG);
     4917     2169    3              GOTO NEXT;
     4918     2170    3           CASE (%LP);
     4919     2171    3              FIRST_MPC = 1;
     4920     2172    3              DEV_FLG = %TRUE;
     4921     2173    3              CALL MPC_DEVICES(' ',FIRST_MPC,ST,SP,DEV_FLG);
     4922     2174    3              GOTO NEXT;
     4923     2175    3           CASE (%AP);
     4924     2176    3              FIRST_MPC = 4;
     4925     2177    3              DEV_FLG = %TRUE;
     4926     2178    3              CALL MPC_DEVICES(' ',FIRST_MPC,ST,SP,DEV_FLG);
     4927     2179    3              GOTO NEXT;
     4928     2180    3           CASE (%OD);
     4929     2181    3              FIRST_MPC = 5;
     4930     2182    3              DEV_FLG = %TRUE;
     4931     2183    3              CALL MPC_DEVICES(' ',FIRST_MPC,ST,SP,DEV_FLG);
     4932     2184    3              GOTO NEXT;
     4933     2185    3           END;  /* DO CASE CODE */
     4934     2186    2     FOR_ALL:
     4935     2187    2        INDX_VEC = TD_HEAD;
     4936     2188    3        DO I = FIRST_IOM TO LAST_IOM;
     4937     2189    3           CALL BINCHAR(IOM#,I);
     4938     2190    3           CALL CONCAT(IOM_NAME,'IOM',IOM#);
     4939     2191    3           CALL THG$GETREC(%CONFIG,IOM_NAME);
     4940     2192    3           IOMREC = TH_RECORD.PTR$->TD$IOM;
     4941     2193    3           CALL THW$WRITE(CONFIG_IOM,VECTOR(IOM_NAME),VECTOR(IOMREC));
     4942     2194    3           CALL THW$WRITE(VECTOR(BLANK_LINE));
     4943     2195
     4944     2196                                                /* OUTPUT MPCS AND THEIR DEVICES      */
     4945     2197    4           DO J = FIRST_MPC TO LAST_MPC;
     4946     2198    4              CALL OUTPUT_MPC(INDX_VEC(J),J);
     4947     2199    4           END;                            /* DO J                               */
     4948     2200
     4949     2201                                                /* OUTPUT FEPS                        */
     4950     2202    4           DO J = FIRST_FEP TO LAST_FEP;
     4951     2203    4              CALL FIND_CHANNEL(TD_HEAD.DEVNAME(J),NUM_CHANS,CHANS);
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:901  
     4952     2204    4              IF NUM_CHANS > 0
     4953     2205    4              THEN CALL THW$WRITE(CONFIG_FEP,VECTOR(TD_HEAD.DEVNAME(J)),VECTOR(CHANS));
     4954     2206    4           END;                            /* DO J                               */
     4955     2207    3           CALL THW$WRITE(VECTOR(BLANK_LINE));
     4956     2208
     4957     2209                                                /* OUTPUT SCS                         */
     4958     2210    4           DO J = FIRST_SC TO LAST_SC;
     4959     2211    4              CALL FIND_CHANNEL(TD_HEAD.DEVNAME(J),NUM_CHANS,CHANS);
     4960     2212    4              IF NUM_CHANS > 0
     4961     2213    4              THEN CALL THW$WRITE(CONFIG_SC,VECTOR(TD_HEAD.DEVNAME(J)),VECTOR(CHANS));
     4962     2214    4           END;                            /* DO J                               */
     4963     2215    3        END;                               /* DO I                               */
     4964     2216    2     NEXT:
     4965     2217    2        END;                             /* DO WHILE II                           */
     4966     2218    1        RETURN;
     4967     2219        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:902  
     4968     2220        /* THIS PROCEDURE RETURNS THE IOM CHANNEL NUMBERS THAT A GIVEN DEVICE IS CONNECTED T
              2220        O */
     4969     2221    1   FIND_CHANNEL: PROC(DEVNAME,NUM,CHANS);
     4970     2222        /**/
     4971     2223        /* PARAMS */
     4972     2224    2   DCL DEVNAME CHAR(8);
     4973     2225    2   DCL NUM UBIN WORD;
     4974     2226    2   DCL CHANS(0:7) UBIN WORD;
     4975     2227        /**/
     4976     2228        /* LOCAL VARS */
     4977     2229    2   DCL I UBIN;
     4978     2230        /**/
     4979     2231    2        NUM = 0;
     4980     2232    2        CHANS = '0'B;
     4981     2233    3        DO I = 0 TO %N_MAXCHANS-1;         /* DO ALL CHANNELS OF CURRENT IOM     */
     4982     2234    3           IF IOMREC.DEVNAME(I) = DEVNAME
     4983     2235    3              THEN                         /* FOUND IT                           */
     4984     2236    4              DO;
     4985     2237    4                 NUM = NUM + 1;
     4986     2238    4                 CHANS(NUM - 1) = I;
     4987     2239    4              END;                         /* IF                                 */
     4988     2240    3        END;                               /* DO I                               */
     4989     2241    2        RETURN;
     4990     2242    2   END FIND_CHANNEL;
     4991     2243        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:903  
     4992     2244        /* THIS PROCEDURE OUTPUTS MPC INFO AND DEVICE INFO FOR ALL DEVICES CONNECTED TO THE
              2244        GIVEN MPC */
     4993     2245    1   OUTPUT_MPC: PROC(INDX,MPC_TYPE);
     4994     2246        /**/
     4995     2247        /* PARAMS */
     4996     2248    2   DCL 1 INDX ALIGNED,
     4997     2249    2         2 FIRST UBIN HALF UNAL,
     4998     2250    2         2 NUM UBIN HALF UNAL;
     4999     2251    2   DCL MPC_TYPE UBIN WORD;
     5000     2252        /**/
     5001     2253        /* LOCAL VARS */
     5002     2254    2   DCL FIRST UBIN HALF;
     5003     2255    2   DCL LAST UBIN HALF;
     5004     2256    2   DCL I UBIN;
     5005     2257    2   DCL J UBIN;
     5006     2258    2   DCL NUM_XBARS SBIN;
     5007     2259    2   DCL XBARS(0:10) UBIN WORD;
     5008     2260    2   DCL FOUND BIT(1);
     5009     2261    2   DCL XBAR_INDX UBIN WORD;
     5010     2262    2   DCL XBAR_FMT CHAR(0) CONSTANT INIT('
     5011     2263    2   %25-crossbarred with%10P');
     5012     2264        /**/
     5013     2265        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:904  
     5014     2266    2        FIRST = INDX.FIRST;
     5015     2267    2        LAST = INDX.FIRST + INDX.NUM - 1;
     5016     2268    2        NUM_XBARS = 0;
     5017     2269    3        DO I = FIRST TO LAST;
     5018     2270                                 /* CHECK IF THIS MPC HAS ALREADY BEEN DEALT WITH     */
     5019     2271    4           DO J = 0 TO NUM_XBARS - 1;
     5020     2272    4              IF I = XBARS(J)
     5021     2273    4                 THEN GOTO ENDLOOP;
     5022     2274    4           END;                            /* DO J                               */
     5023     2275    3           CALL MPC_HDR(TD_HEAD.DEVNAME(I)) ALTRET(ENDLOOP);
     5024     2276    3           IF MPC_TYPE = 3
     5025     2277    3              THEN                         /* DC                                 */
     5026     2278    4              DO;
     5027     2279    4                 CALL XBAR(I,LAST,XBAR_INDX) ALTRET(NO_XBAR);
     5028     2280    4                 CALL THW$WRITE(VECTOR(XBAR_FMT));
     5029     2281    4                 CALL MPC_HDR(TD_HEAD.DEVNAME(XBAR_INDX));
     5030     2282    4                 XBARS(NUM_XBARS) = XBAR_INDX;
     5031     2283    4                 NUM_XBARS = NUM_XBARS + 1;
     5032     2284    4              END;                         /* IF DC                              */
     5033     2285    3     NO_XBAR:
     5034     2286    3           DEV_FLG = %FALSE;
     5035     2287    3           CALL MPC_DEVICES(TD_HEAD.DEVNAME(I),MPC_TYPE,0,0,DEV_FLG);
     5036     2288    3           CALL THW$WRITE(VECTOR(BLANK_LINE));
     5037     2289    3       ENDLOOP:
     5038     2290    3        END;                               /* DO I                               */
     5039     2291    2        RETURN;
     5040     2292    2   END OUTPUT_MPC;
     5041     2293        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:905  
     5042     2294    1   MPC_HDR: PROC(MPC_NAME) ALTRET;
     5043     2295        /**/
     5044     2296        /* PARAMS */
     5045     2297    2   DCL MPC_NAME CHAR(8);
     5046     2298    2   DCL TMP_NAME CHAR(8);
     5047     2299        /**/
     5048     2300        /* LOCAL VARS */
     5049     2301    2   DCL RANGE_FLAG BIT(1);
     5050     2302    2   DCL BUF_CNT UBIN WORD;
     5051     2303    2   DCL LEN UBIN WORD;
     5052     2304    2   DCL CHAN_BUF CHAR(40);
     5053     2305    2   DCL CHAN CHAR(3);
     5054     2306    2   DCL LAST_CHAN UBIN WORD;
     5055     2307    2   DCL J UBIN;
     5056     2308    2   DCL REVBUF CHAR(8);
     5057     2309        /**/
     5058     2310        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:906  
     5059     2311    2        CHAN_BUF = ' ';
     5060     2312    2        BUF_CNT = 0;
     5061     2313    2        TEXT$ = ADDR(TEXTBUF);
     5062     2314    2        CALL THG$GETREC(%CONFIG,MPC_NAME);
     5063     2315    2        MPCREC = TH_RECORD.PTR$->TD$MPC;
     5064     2316    2        CALL THF$ADD_TEXTC(TEXT$,MPCREC.FWNAME,4);
     5065     2317    2        CALL THF$ADD_TEXTC(TEXT$,MPCREC.LPFWNAME,4);
     5066     2318    2        CALL THF$ADD_TEXTC(TEXT$,MPCREC.CRPFWNAME,4);
     5067     2319    3        IF MPCREC.FWREV.LETTER ~= ' ' THEN DO;
     5068     2320    3           CALL INSERT(REVBUF,0,,'(rev ',MPCREC.FWREV.LETTER,MPCREC.FWREV.SUBREV,')');
     5069     2321    3           CALL THF$ADD_TEXTC(TEXT$,REVBUF,8);
     5070     2322    3           END;  /* IF */
     5071     2323    3        ELSE DO;
     5072     2324    3           CALL THF$ADD_TEXTC(TEXT$,' ',1);
     5073     2325    3           END;  /* ELSE */
     5074     2326    2        IF SUBSTR(MPC_NAME,0,2) = 'OP'  THEN
     5075     2327    2           CALL CONCAT(TMP_NAME,'FEP',SUBSTR(MPC_NAME,2,2));  /* TMP == OPC here  */
     5076     2328    2        ELSE
     5077     2329    2           TMP_NAME = MPC_NAME;                               /* TMP == MPC here  */
     5078     2330    2        CALL FIND_CHANNEL(TMP_NAME,NUM_CHANS,CHANS);
     5079     2331    2        IF NUM_CHANS = 0 THEN ALTRETURN;
     5080     2332    2        RANGE_FLAG = %FALSE;
     5081     2333    2        CALL MY_BINCHAR(CHANS(0),CHAN,LEN);
     5082     2334    2        CALL INSERT(CHAN_BUF,BUF_CNT,LEN,CHAN);
     5083     2335    2        BUF_CNT = BUF_CNT + LEN;
     5084     2336    2        LAST_CHAN = CHANS(0);
     5085     2337    3        DO J = 1 TO NUM_CHANS - 1;
     5086     2338    3           IF CHANS(J) = LAST_CHAN + 1
     5087     2339    3              THEN RANGE_FLAG = %TRUE;
     5088     2340    3              ELSE
     5089     2341    4              DO;
     5090     2342    4                 IF RANGE_FLAG
     5091     2343    4                    THEN
     5092     2344    5                    DO;
     5093     2345    5                       RANGE_FLAG = %FALSE;
     5094     2346    5                       CALL INSERT(CHAN_BUF,BUF_CNT,1,'-');
     5095     2347    5                       BUF_CNT = BUF_CNT + 1;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:907  
     5096     2348    5                       CALL MY_BINCHAR(LAST_CHAN,CHAN,LEN);
     5097     2349    5                       CALL INSERT(CHAN_BUF,BUF_CNT,LEN,CHAN);
     5098     2350    5                       BUF_CNT = BUF_CNT + LEN;
     5099     2351    5                    END;                   /* IF RANGE_FLAG                      */
     5100     2352    4                 CALL INSERT(CHAN_BUF,BUF_CNT,1,',');
     5101     2353    4                 BUF_CNT = BUF_CNT + 1;
     5102     2354    4                 CALL MY_BINCHAR(CHANS(J),CHAN,LEN);
     5103     2355    4                 CALL INSERT(CHAN_BUF,BUF_CNT,LEN,CHAN);
     5104     2356    4                 BUF_CNT = BUF_CNT + LEN;
     5105     2357    4              END;                         /* IF CHANS(J) -1 = LAST_CHAN         */
     5106     2358    3           LAST_CHAN = CHANS(J);
     5107     2359    3        END;                               /* DO J                               */
     5108     2360    2        IF RANGE_FLAG
     5109     2361    2           THEN
     5110     2362    3           DO;
     5111     2363    3              CALL INSERT(CHAN_BUF,BUF_CNT,1,'-');
     5112     2364    3              BUF_CNT = BUF_CNT + 1;
     5113     2365    3              CALL MY_BINCHAR(LAST_CHAN,CHAN,LEN);
     5114     2366    3              CALL INSERT(CHAN_BUF,BUF_CNT,LEN,CHAN);
     5115     2367    3              BUF_CNT = BUF_CNT + LEN;
     5116     2368    3           END;
     5117     2369    2        CALL THF$ADD_TEXTC(TEXT$,CHAN_BUF,BUF_CNT);
     5118     2370    2        TVEC = VECTOR(TEXTBUF);
     5119     2371    2        TVEC.BOUND = POFFC(TEXT$,ADDR(TEXTBUF)) - 1;
     5120     2372    2        IF SUBSTR(MPC_NAME,0,2) = 'OP'  THEN
     5121     2373    2           CALL THW$WRITE(CONFIG_OPC,VECTOR(TMP_NAME),VECTOR(CHANS));
     5122     2374    2        ELSE
     5123     2375    2           CALL THW$WRITE(CONFIG_MPC,VECTOR(MPC_NAME),TVEC);
     5124     2376    2        RETURN;
     5125     2377    2   END MPC_HDR;
     5126     2378        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:908  
     5127     2379    1   MPC_DEVICES: PROC(MPC_NAME,MPC_TYPE,ST,SP,DEV_FLG);
     5128     2380        /**/
     5129     2381        /* PARAMS */
     5130     2382    2   DCL MPC_NAME CHAR(8);
     5131     2383    2   DCL MPC_TYPE UBIN WORD;
     5132     2384    2   DCL ST SBIN;
     5133     2385    2   DCL SP SBIN;
     5134     2386    2   DCL DEV_FLG BIT(1) ALIGNED;
     5135     2387        /**/
     5136     2388        /* LOCAL VARS */
     5137     2389    2   DCL ATTR_BUF CHAR(256) STATIC INIT(' ');
     5138     2390    2   DCL TEXT CHAR(32) STATIC INIT(' ');
     5139     2391    2   DCL I UBIN WORD;
     5140     2392    2   DCL J UBIN WORD;
     5141     2393    2   DCL K UBIN WORD;
     5142     2394    2   DCL STRT UBIN WORD;
     5143     2395    2   DCL LEN UBIN WORD;
     5144     2396    2   DCL OUTPUT_ATTRS UBIN WORD;
     5145     2397    2   DCL START SBIN;
     5146     2398    2   DCL STOP SBIN;
     5147     2399    2   DCL TH_AP_ATTR_FLG BIT(1) STATIC SYMDEF INIT('0'B);
     5148     2400        /**/
     5149     2401        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:909  
     5150     2402    2        IF DEV_FLG
     5151     2403    3           THEN DO;
     5152     2404    3              START = ST;
     5153     2405    3              STOP = SP;
     5154     2406    3           END;
     5155     2407    3           ELSE DO;
     5156     2408    3              START = 0;
     5157     2409    3              STOP = MPCREC.NUMDEVS - 1;
     5158     2410    3           END;
     5159     2411    3        DO J = START TO STOP;
     5160     2412    3           TEXT$ = ADDR(TEXTBUF);
     5161     2413    3           IF DEV_FLG
     5162     2414    3              THEN
     5163     2415    3                 CALL THG$GETREC(%CONFIG,TH_REP_DEVS(J))  ALTRET(NO_DEVICE);
     5164     2416    3              ELSE
     5165     2417    3                 CALL THG$GETREC(%CONFIG,MPCREC.DEVNAME(J));
     5166     2418    3           DEVREC = TH_RECORD.PTR$->TD$DEV;
     5167     2419
     5168     2420                                                /* STUFF ATTR INFO INTO TEXTBUF       */
     5169     2421    3           STRT = 0;
     5170     2422    3           OUTPUT_ATTRS = 0;
     5171     2423    3           IF(SUBSTR(MPCREC.DEVNAME(J),0,2)='AC')
     5172     2424    4           THEN DO; CALL THW$WRITE(VECTOR(BLANK_LINE));
     5173     2425    4             CALL THW$WRITE(CONFIG_APC);
     5174     2426    4           END; /* if devname = 'AC' */
     5175     2427    4           DO K = 0 TO NUM_ATTRS(MPC_TYPE) - 1;
     5176     2428    4              IF(SUBSTR(MPCREC.DEVNAME(J),0,2)='AP')
     5177     2429    4              AND(NOT TH_AP_ATTR_FLG)
     5178     2430    5              THEN DO;
     5179     2431    5                 OUTPUT_ATTRS = OUTPUT_ATTRS + 1;
     5180     2432    6                 IF(AP_ATTR_TBL$->ATTR$TBL.ATTR(0) & DEVREC.ATTR) THEN DO;
     5181     2433    6                    TEXT = AP_ATTR_TBL$->ATTR$TBL.TEXT(0);
     5182     2434    6                    LEN = AP_ATTR_TBL$->ATTR$TBL.LEN(0);
     5183     2435    6                 END;
     5184     2436    6                 ELSE DO; /* ELSE ATTR$TBL.ATTR(0) ~& DEVREC.ATTR */
     5185     2437    6                    TEXT = AP_ATTR_TBL$->ATTR$TBL.TEXT(1);
     5186     2438    6                    LEN = AP_ATTR_TBL$->ATTR$TBL.LEN(1);
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:910  
     5187     2439    6                 END;
     5188     2440    5                 CALL INSERT(ATTR_BUF,STRT,LEN,TEXT);
     5189     2441    5                 STRT = STRT + LEN;
     5190     2442    5                 I = 2;
     5191     2443    6                 DO WHILE (I <= 9)AND(NOT TH_AP_ATTR_FLG);
     5192     2444    6                    IF(AP_ATTR_TBL$->ATTR$TBL.ATTR(I) & DEVREC.ATTR)
     5193     2445    7                    THEN DO;
     5194     2446    7                      TH_AP_ATTR_FLG = %TRUE;
     5195     2447    7                      OUTPUT_ATTRS = OUTPUT_ATTRS + 1;
     5196     2448    8                      IF OUTPUT_ATTRS > 1 THEN DO;
     5197     2449    8                         CALL INSERT(ATTR_BUF,STRT,2,', ');
     5198     2450    8                         STRT = STRT + 2;
     5199     2451    8                      END;
     5200     2452    7                      TEXT = AP_ATTR_TBL$->ATTR$TBL.TEXT(I);
     5201     2453    7                      LEN = AP_ATTR_TBL$->ATTR$TBL.LEN(I);
     5202     2454    7                      CALL INSERT(ATTR_BUF,STRT,LEN,TEXT);
     5203     2455    7                      STRT = STRT + LEN;
     5204     2456    7                    END;  /* IF ATTR$TBL.ATTR(I) & DEVREC.ATTR */
     5205     2457    6                 I = I + 1;
     5206     2458    6                 END; /* do while I <= 9 and not th_ap_attr_flg */
     5207     2459    5              END;    /* IF 'AP' AND NOT TH_AP_ATTR_FLG */
     5208     2460    4                 IF(ATTR$TBL$(MPC_TYPE)->ATTR$TBL.ATTR(K) & DEVREC.ATTR)
     5209     2461    5                 AND(NOT TH_AP_ATTR_FLG)THEN DO;
     5210     2462    5                    OUTPUT_ATTRS = OUTPUT_ATTRS + 1;
     5211     2463    5                    IF OUTPUT_ATTRS > 1
     5212     2464    5                       THEN                /* STUFF A COMMA                      */
     5213     2465    6                       DO;
     5214     2466    6                          CALL INSERT(ATTR_BUF,STRT,2,', ');
     5215     2467    6                          STRT = STRT + 2;
     5216     2468    6                       END;                /* IF OUTPUT_ATTRS > 1                */
     5217     2469    5                    TEXT = ATTR$TBL$(MPC_TYPE)->ATTR$TBL.TEXT(K);
     5218     2470    5                    LEN = ATTR$TBL$(MPC_TYPE)->ATTR$TBL.LEN(K);
     5219     2471    5                    CALL INSERT(ATTR_BUF,STRT,LEN,TEXT);
     5220     2472    5                    STRT = STRT + LEN;
     5221     2473    5                 END;                      /* IF                                 */
     5222     2474    4           END;                            /* DO K                               */
     5223     2475    3           TH_AP_ATTR_FLG = %FALSE;  /* reset flag */
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:911  
     5224     2476    3           CALL THF$ADD_TEXTC(TEXT$,ATTR_BUF,STRT);
     5225     2477    3           TVEC = VECTOR(TEXTBUF);
     5226     2478    3           TVEC.BOUND = POFFC(TEXT$,ADDR(TEXTBUF)) - 1;
     5227     2479    3           IF DEV_FLG
     5228     2480    3              THEN
     5229     2481    3           CALL THW$WRITE(CONFIG_DEV,VECTOR(TH_REP_DEVS(J)),VECTOR(DEVREC),TVEC);
     5230     2482    3              ELSE
     5231     2483    3           CALL THW$WRITE(CONFIG_DEV,VECTOR(MPCREC.DEVNAME(J)),VECTOR(DEVREC),TVEC);
     5232     2484    3   NO_DEVICE:
     5233     2485    3        END;                               /* DO J                               */
     5234     2486    2        RETURN;
     5235     2487    2   END MPC_DEVICES;
     5236     2488        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:912  
     5237     2489    1   XBAR: PROC(MPC_INDX,LAST,XBAR_INDX) ALTRET;
     5238     2490        /**/
     5239     2491        /* PARAMS */
     5240     2492    2   DCL MPC_INDX UBIN WORD;
     5241     2493    2   DCL LAST UBIN HALF;
     5242     2494    2   DCL XBAR_INDX UBIN WORD;
     5243     2495        /**/
     5244     2496        /* LOCAL VARS */
     5245     2497    2   DCL J UBIN;
     5246     2498        /**/
     5247     2499    2        CALL THG$GETREC(%CONFIG,TD_HEAD.DEVNAME(MPC_INDX));
     5248     2500    2        MPCREC = TH_RECORD.PTR$->TD$MPC;
     5249     2501    3        DO J = MPC_INDX + 1 TO LAST;
     5250     2502    3           CALL THG$GETREC(%CONFIG,TD_HEAD.DEVNAME(J));
     5251     2503    3           MPCREC1 = TH_RECORD.PTR$->TD$MPC;
     5252     2504    3           IF MPCREC.DEVNAME = MPCREC1.DEVNAME
     5253     2505    3              THEN                         /* XBAR WITH THIS ONE                 */
     5254     2506    4              DO;
     5255     2507    4                 XBAR_INDX = J;
     5256     2508    4                 RETURN;
     5257     2509    4              END;                         /* IF                                 */
     5258     2510    3        END;                               /* DO J                               */
     5259     2511    2        ALTRETURN;
     5260     2512    2   END XBAR;
     5261     2513        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:913  
     5262     2514    1   MY_BINCHAR: PROC(NUM,CHAN,LEN);
     5263     2515        /**/
     5264     2516    2   DCL NUM UBIN WORD;
     5265     2517    2   DCL CHAN CHAR(3);
     5266     2518    2   DCL LEN UBIN;
     5267     2519        /**/
     5268     2520        /* LOCAL VARS */
     5269     2521    2   DCL CHAR1 CHAR(1);
     5270     2522    2   DCL CHAR2 CHAR(2);
     5271     2523    2   DCL CHAR3 CHAR(3);
     5272     2524        /**/
     5273     2525    2        IF NUM < 10
     5274     2526    2           THEN
     5275     2527    3           DO;
     5276     2528    3              CALL BINCHAR(CHAR1,NUM);
     5277     2529    3              CHAN = CHAR1;
     5278     2530    3              LEN = 1;
     5279     2531    3           END;
     5280     2532    2           ELSE IF NUM < 100
     5281     2533    3           THEN DO;
     5282     2534    3              CALL BINCHAR(CHAR2,NUM);
     5283     2535    3              CHAN = CHAR2;
     5284     2536    3              LEN = 2;
     5285     2537    3           END;
     5286     2538    3           ELSE DO;
     5287     2539    3              CALL BINCHAR(CHAR3,NUM);
     5288     2540    3              CHAN = CHAR3;
     5289     2541    3              LEN = 3;
     5290     2542    3           END; /* else do */
     5291     2543    2        RETURN;
     5292     2544    2   END MY_BINCHAR;
     5293     2545    1   END THF$CONFIG;
     5294     2546        %EOD;

PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:914  
--  Include file information  --

   NI$TABLES.:E05TOU  is referenced.
   IT_SUBS_C.:E05TOU  is referenced.
   TH_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   B_STRINGS_C.:E05TOU  is referenced.
   TH_SUBS_C.:E05TOU  is referenced.
   TD$STRUCT.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure THF$CONFIG.

   Procedure THF$CONFIG requires 1472 words for executable code.
   Procedure THF$CONFIG requires 1026 words of local(AUTO) storage.

PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:915  

 Object Unit name= THF$CONFIG                                 File name= THF$FORMAT.:E05TOU
 UTS= JUL 30 '97 06:16:48.44 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1  RoData even  UTS    604   1134  THF$CONFIG
    2   Data  even  none   106    152  THF$CONFIG
    3   Proc  even  none  1472   2700  THF$CONFIG
    4  RoData even  none    31     37  THF$CONFIG

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     3      0   yes            yes      Std        1  THF$CONFIG

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    2    151  TH_AP_ATTR_FLG

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       4 THG$GETREC
         yes           Std      11 THW$WRITE
         yes           Std       3 THF$ADD_TEXTC
                       nStd      0 X66_AUTO_1
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:916  

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  TH_NUM_REP_DEVS                       TH_REP_DEVS
     TH_RECORD                             TH_XSA_BUF_VECTOR                     B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:917  


     4590        1        /*M* THF$CONFIG - ROUTINE TO BUILD CONFIG REPORT FOR ELAN */
     4591        2        /*T***********************************************************/
     4592        3        /*T*                                                         */
     4593        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     4594        5        /*T*                                                         */
     4595        6        /*T***********************************************************/
     4596        7        THF$CONFIG: PROC(CODE);

      7  3 000000   000000 700200 xent  THF$CONFIG   TSX0  ! X66_AUTO_1
         3 000001   002002 000001                    ZERO    1026,1

     4597        8        /**/
     4598        9    1   DCL CODE UBIN;
     4599       10        /**/
     4600       11        /* INCLUDE FILES */
     4601       12        %INCLUDE CP_6;
     4602       93        %INCLUDE CP_6_SUBS;
     4603      633        %INCLUDE TD$STRUCT;
     4604      734        %INCLUDE TH_SUBS_C;
     4605     1116        %INCLUDE TH_DATA_R;
     4606     1194        %INCLUDE IT_SUBS_C;
     4607     1461        %INCLUDE NI$TABLES ;
     4608     1677        /**/
     4609     1678        /* ENTRY DEFS */
     4610     1679    1   DCL THG$GETREC ENTRY(4) ALTRET;
     4611     1680    1   DCL THW$WRITE ENTRY(11);
     4612     1681    1   DCL THF$ADD_TEXTC ENTRY(3);
     4613     1682        /**/
     4614     1683        /* MACRO INVOCATIONS */
     4615     1684        %TD$HEAD (NAME=TD$HEAD,NUMDEV#=100);
     4616     1720        %TD$HEAD (NAME=TD_HEAD,STCLASS=AUTO,NUMDEV#=200);
     4617     1756        %TD$IOM (NAME=IOMREC,STCLASS=AUTO);
     4618     1764        %TD$IOM (NAME=TD$IOM);
     4619     1772        %TD$MPC (NAME=MPCREC,STCLASS=AUTO,NUMDEV#=32);
     4620     1794        %TD$MPC (NAME=MPCREC1,STCLASS=AUTO,NUMDEV#=32);
     4621     1816        %TD$MPC (NAME=TD$MPC,NUMDEV#=32);
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:918  
     4622     1838        %TD$DEV (NAME=DEVREC,STCLASS=AUTO);
     4623     1857        %TD$DEV (NAME=TD$DEV);
     4624     1876        /**/
     4625     1877        /* VARS */
     4626     1878    1   DCL IOMREC$ PTR;
     4627     1879    1   DCL MPCREC$ PTR;
     4628     1880    1   DCL DEVREC$ PTR;
     4629     1881        /**/
     4630     1882    1   DCL IOM_NAME CHAR(4);
     4631     1883    1   DCL ZERO CHAR(8) CONSTANT INIT('0       '); /* USED FOR GETREC CALLS          */
     4632     1884    1   DCL IOM# CHAR(1);
     4633     1885    1   DCL NUM_CHANS UBIN WORD;
     4634     1886    1   DCL CHANS (0:7) UBIN WORD;
     4635     1887    1   DCL I SBIN;
     4636     1888    1   DCL J SBIN;
     4637     1889        /**/
     4638     1890    1   DCL INDX_VEC (0:10) UBIN WORD STATIC;
     4639     1891    1   DCL 1 TVEC DALIGNED,
     4640     1892    1         2 BOUND UBIN(20) UNAL,
     4641     1893    1         2 * BIT(16),
     4642     1894    1         2 PTR$ PTR;
     4643     1895    1   DCL TEXTBUF CHAR(256);
     4644     1896    1   DCL TEXT$ PTR;
     4645     1897        /**/
     4646     1898    1   DCL BLANK_LINE CHAR(0) CONSTANT INIT('%10P');
     4647     1899    1   DCL APC_FMT CHAR(0) CONSTANT INIT(
     4648     1900    1   '  ARRAY PROCESSORS: %40-Channels : 18-19 %10P');
     4649     1901    1   DCL CONFIG_APC BIT(72) DALIGNED STATIC INIT(VECTOR(APC_FMT));
     4650     1902    1   DCL IOM_FMT CHAR(0) CONSTANT INIT(
     4651     1903    1   '%/%A %2.264P PORT#%D%10P');
     4652     1904    1   DCL CONFIG_IOM BIT(72) DALIGNED STATIC INIT(VECTOR(IOM_FMT));
     4653     1905    1   DCL MPC_FMT CHAR(0) CONSTANT INIT(
     4654     1906    1   '  MPC %4A %2PFirmware : %T %T %T %T Channels : %T%10P');
     4655     1907    1   DCL CONFIG_MPC BIT(72) DALIGNED STATIC INIT(VECTOR(MPC_FMT));
     4656     1908    1   DCL OPC_FMT CHAR(0) CONSTANT INIT(
     4657     1909    1   '  OPTC  %7A Channel : %2P%D%10P');
     4658     1910    1   DCL CONFIG_OPC BIT(72) DALIGNED STATIC INIT(VECTOR(OPC_FMT));
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:919  
     4659     1911    1   DCL DEV_FMT CHAR(0) CONSTANT INIT(
     4660     1912    1   '    %4A Dev#%2.10.2P%2.18D Model# %2P%8A Feature# %8A Attr : %3P%T%10P');
     4661     1913    1   DCL CONFIG_DEV BIT(72) DALIGNED STATIC INIT(VECTOR(DEV_FMT));
     4662     1914    1   DCL FEP_FMT CHAR(0) CONSTANT INIT(
     4663     1915    1   '   %7A Channel : %2P%D%10P');
     4664     1916    1   DCL CONFIG_FEP BIT(72) DALIGNED STATIC INIT(VECTOR(FEP_FMT));
     4665     1917    1   DCL SC_FMT CHAR(0) CONSTANT INIT(
     4666     1918    1   '   %4A Channel : %2P%D%10P');
     4667     1919    1   DCL CONFIG_SC BIT(72) DALIGNED STATIC INIT(VECTOR(SC_FMT));
     4668     1920        /**/
     4669     1921    1   DCL 1 UC_TBL (0:10) CONSTANT ALIGNED,
     4670     1922    1         2 ATTR BIT(18) UNAL INIT(%ATTR_TRUOVRPRT#,
     4671     1923    1                                  %ATTR_APL#,
     4672     1924    1                                  %ATTR_BIN#,
     4673     1925    1                                  %ATTR_LOWERCASE#,
     4674     1926    1                                  '0'B,
     4675     1927    1                                  '0'B,
     4676     1928    1                                  '0'B,
     4677     1929    1                                  '0'B,
     4678     1930    1                                  '0'B,
     4679     1931    1                                  '0'B,
     4680     1932    1                                  '0'B),
     4681     1933    1         2 LEN UBIN BYTE UNAL INIT(9,3,6,9,0*0),
     4682     1934    1         2 TEXT CHAR(32) INIT('Overprint','Apl','Binary','Lowercase',' '*0);
     4683     1935    1   DCL 1 TC_TBL (0:10) CONSTANT ALIGNED,
     4684     1936    1         2 ATTR BIT(18) UNAL INIT(%ATTR_D6250#,
     4685     1937    1                                  %ATTR_D1600#,
     4686     1938    1                                  %ATTR_D800#,
     4687     1939    1                                  '0'B,
     4688     1940    1                                  '0'B,
     4689     1941    1                                  '0'B,
     4690     1942    1                                  '0'B,
     4691     1943    1                                  '0'B,
     4692     1944    1                                  '0'B,
     4693     1945    1                                  '0'B,
     4694     1946    1                                  '0'B),
     4695     1947    1         2 LEN UBIN BYTE UNAL INIT(8,8,9,0*0),
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:920  
     4696     1948    1         2 TEXT CHAR(32) INIT('6250 BPI','1600 BPI','800 BPI',' '*0);
     4697     1949    1   DCL 1 DC_TBL (0:10) CONSTANT ALIGNED,
     4698     1950    1         2 ATTR BIT(18) UNAL INIT(%ATTR_DD600#,
     4699     1951    1                                  %ATTR_DD200#,
     4700     1952    1                                  %ATTR_DD500#,
     4701     1953    1                                  %ATTR_DD1000#,
     4702     1954    1                                  %ATTR_DD1500#,
     4703     1955    1                                  %ATTR_DD400#,
     4704     1956    1                                  %ATTR_DD1100#,
     4705     1957    1                                  '0'B,
     4706     1958    1                                  '0'B,
     4707     1959    1                                  '0'B,
     4708     1960    1                                  '0'B),
     4709     1961    1         2 LEN UBIN BYTE UNAL INIT(6,6,6,7,7,6,7,0*0),
     4710     1962    1         2 TEXT CHAR(32) INIT('600 MB','200 MB','500 MB','1000 MB','1500 MB',
     4711     1963    1                                                     '400 MB','1100 MB',' '*0);
     4712     1964    1   DCL 1 AP_TBL (0:10) CONSTANT ALIGNED,
     4713     1965    1         2 ATTR BIT(18) UNAL INIT(%ATTR_AP_SJE, '0'B,
     4714     1966    1                                  %ATTR_AP_M16384,
     4715     1967    1                                  %ATTR_AP_M8192,
     4716     1968    1                                  %ATTR_AP_M4096,
     4717     1969    1                                  %ATTR_AP_M2048,
     4718     1970    1                                  %ATTR_AP_M1024,
     4719     1971    1                                  %ATTR_AP_M512,
     4720     1972    1                                  %ATTR_AP_M256,
     4721     1973    1                                  %ATTR_AP_M128, '0'B),
     4722     1974    1         2 LEN UBIN BYTE UNAL INIT(3,4,6,5,5,5,5,4,4,4,0*0),
     4723     1975    1         2 TEXT CHAR(32) INIT('SJE','APEX','16384K','8192K','4096K',
     4724     1976    1                              '2048K','1024K','512K','256K','128K',' '*0);
     4725     1977    1   DCL 1 OD_TBL (0:10) CONSTANT ALIGNED,
     4726     1978    1         2 ATTR BIT(18) UNAL INIT('0'B,
     4727     1979    1                                  '0'B,
     4728     1980    1                                  '0'B,
     4729     1981    1                                  '0'B,
     4730     1982    1                                  '0'B,
     4731     1983    1                                  '0'B,
     4732     1984    1                                  '0'B,
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:921  
     4733     1985    1                                  '0'B,
     4734     1986    1                                  '0'B,
     4735     1987    1                                  '0'B,
     4736     1988    1                                  '0'B),
     4737     1989    1         2 LEN UBIN BYTE UNAL INIT(0*0),
     4738     1990    1         2 TEXT CHAR(32) INIT(' '*0);
     4739     1991    1   DCL 1 ATTR$TBL (0:10) BASED ALIGNED,
     4740     1992    1         2 ATTR BIT(18) UNAL,
     4741     1993    1         2 LEN UBIN BYTE UNAL,
     4742     1994    1         2 TEXT CHAR(32);
     4743     1995    1   DCL ATTR$TBL$ (0:5) PTR STATIC INIT(ADDR(NIL),
     4744     1996    1                                       ADDR(UC_TBL),
     4745     1997    1                                       ADDR(TC_TBL),
     4746     1998    1                                       ADDR(DC_TBL),
     4747     1999    1                                       ADDR(AP_TBL),
     4748     2000    1                                       ADDR(OD_TBL));
     4749     2001    1   DCL AP_ATTR_TBL$ PTR STATIC INIT(ADDR(AP_TBL)); /* PTR TO AP TBL */
     4750     2002    1   DCL NUM_ATTRS (0:5) UBIN WORD CONSTANT INIT(0,4,3,7,9,0);
     4751     2003    1   DCL FIRST_MPC SBIN;
     4752     2004    1   DCL LAST_MPC SBIN;
     4753     2005    1   DCL FIRST_IOM SBIN;
     4754     2006    1   DCL LAST_IOM SBIN;
     4755     2007    1   DCL FIRST_FEP SBIN;
     4756     2008    1   DCL LAST_FEP SBIN;
     4757     2009    1   DCL FIRST_SC SBIN;
     4758     2010    1   DCL LAST_SC SBIN;
     4759     2011    1   DCL JJ SBIN;
     4760     2012    1   DCL II SBIN;
     4761     2013    1   DCL ST SBIN;
     4762     2014    1   DCL SP SBIN;
     4763     2015    1   DCL DEV_FLG BIT(1) ALIGNED;
     4764     2016    1   DCL TEMP_DEV CHAR(2);
     4765     2017    1   DCL C_CODE UBIN;
     4766     2018        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:922  
     4767     2019    1     II = 0;

   2019  3 000002   201670 450100                    STZ     II,,AUTO

     4768     2020    1        CALL THG$GETREC(%CONFIG,ZERO);

   2020  3 000003   000000 630400 4                  EPPR0   0
         3 000004   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000005   000000 701000 xent               TSX1    THG$GETREC
         3 000006   000000 011000                    NOP     0

     4769     2021    1        TD_HEAD = TH_RECORD.PTR$->TD$HEAD;

   2021  3 000007   000001 470400 xsym               LDP0    TH_RECORD+1
         3 000010   000100 100500                    MLR     fill='000'O
         3 000011   000000 001550                    ADSC9   0,,PR0                   cn=0,n=872
         3 000012   200004 003210                    ADSC9   TD_HEAD,,AUTO            cn=0,n=1672

     4770     2022    2        DO WHILE (II < TH_NUM_REP_DEVS);

   2022  3 000013   201670 236100                    LDQ     II,,AUTO
         3 000014   000017 604000 3                  TMI     s:2023
         3 000015   000000 116000 xsym               CMPQ    TH_NUM_REP_DEVS
         3 000016   001217 603000 3                  TRC     s:2218

     4771     2023    2           JJ = 0;

   2023  3 000017   201667 450100                    STZ     JJ,,AUTO

     4772     2024    2           DEV_FLG = %FALSE;

   2024  3 000020   201673 450100                    STZ     DEV_FLG,,AUTO

     4773     2025    2        FIRST_IOM = 0;

   2025  3 000021   201661 450100                    STZ     FIRST_IOM,,AUTO

PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:923  
     4774     2026    2        LAST_IOM = TD_HEAD.NUMIOMS - 1;

   2026  3 000022   200004 236100                    LDQ     TD_HEAD,,AUTO
         3 000023   777777 376007                    ANQ     -1,DL
         3 000024   000001 136007                    SBLQ    1,DL
         3 000025   201662 756100                    STQ     LAST_IOM,,AUTO

     4775     2027    2        FIRST_MPC = 1;

   2027  3 000026   000001 235007                    LDA     1,DL
         3 000027   201657 755100                    STA     FIRST_MPC,,AUTO

     4776     2028    2        LAST_MPC = 5;

   2028  3 000030   000005 235007                    LDA     5,DL
         3 000031   201660 755100                    STA     LAST_MPC,,AUTO

     4777     2029    2        FIRST_FEP = TD_HEAD.FEP_INDX;

   2029  3 000032   200012 235100                    LDA     TD_HEAD+6,,AUTO
         3 000033   000022 771000                    ARL     18
         3 000034   201663 755100                    STA     FIRST_FEP,,AUTO

     4778     2030    2        LAST_FEP = TD_HEAD.FEP_INDX + TD_HEAD.NUMFEPS - 1;

   2030  3 000035   200012 236100                    LDQ     TD_HEAD+6,,AUTO
         3 000036   777777 376007                    ANQ     -1,DL
         3 000037   201762 756100                    STQ     CHAR3+2,,AUTO
         3 000040   200012 236100                    LDQ     TD_HEAD+6,,AUTO
         3 000041   000022 772000                    QRL     18
         3 000042   201762 036100                    ADLQ    CHAR3+2,,AUTO
         3 000043   000001 136007                    SBLQ    1,DL
         3 000044   201664 756100                    STQ     LAST_FEP,,AUTO

     4779     2031    2        FIRST_SC = TD_HEAD.CONSOLE_INDX;

   2031  3 000045   200013 235100                    LDA     TD_HEAD+7,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:924  
         3 000046   000022 771000                    ARL     18
         3 000047   201665 755100                    STA     FIRST_SC,,AUTO

     4780     2032    2        LAST_SC = TD_HEAD.CONSOLE_INDX + TD_HEAD.NUMCONSOLES - 1;

   2032  3 000050   200013 236100                    LDQ     TD_HEAD+7,,AUTO
         3 000051   777777 376007                    ANQ     -1,DL
         3 000052   201762 756100                    STQ     CHAR3+2,,AUTO
         3 000053   200013 236100                    LDQ     TD_HEAD+7,,AUTO
         3 000054   000022 772000                    QRL     18
         3 000055   201762 036100                    ADLQ    CHAR3+2,,AUTO
         3 000056   000001 136007                    SBLQ    1,DL
         3 000057   201666 756100                    STQ     LAST_SC,,AUTO

     4781     2033    2        IF CODE = %ALL

   2033  3 000060   200003 470500                    LDP0    @CODE,,AUTO
         3 000061   000000 235100                    LDA     0,,PR0
         3 000062   000016 115007                    CMPA    14,DL
         3 000063   000067 601000 3                  TNZ     s:2038

     4782     2034    3           THEN DO;

     4783     2035    3              II = 9999;

   2035  3 000064   023417 235007                    LDA     9999,DL
         3 000065   201670 755100                    STA     II,,AUTO

     4784     2036    3              GOTO FOR_ALL;

   2036  3 000066   000743 710000 3                  TRA     FOR_ALL

     4785     2037    3           END;
     4786     2038    2        ST = II;

   2038  3 000067   201670 235100                    LDA     II,,AUTO
         3 000070   201671 755100                    STA     ST,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:925  

     4787     2039    3        DO WHILE (SUBSTR(TH_REP_DEVS(II),0,2) = SUBSTR(TH_REP_DEVS(II+1),0,2)

   2039  3 000071   000073 710000 3                  TRA     s:2042

     4788     2040    3                  AND II < TH_NUM_REP_DEVS-1);
     4789     2041    3           II = II + 1;

   2041  3 000072   201670 054100                    AOS     II,,AUTO

     4790     2042    3        END;

   2042  3 000073   201670 235100                    LDA     II,,AUTO
         3 000074   000001 735000                    ALS     1
         3 000075   000000 220005 xsym               LDX0    TH_REP_DEVS,AL
         3 000076   000002 100005 xsym               CMPX0   TH_REP_DEVS+2,AL
         3 000077   000104 601000 3                  TNZ     s:2043
         3 000100   000000 236000 xsym               LDQ     TH_NUM_REP_DEVS
         3 000101   000001 136007                    SBLQ    1,DL
         3 000102   201670 116100                    CMPQ    II,,AUTO
         3 000103   000072 605400 3                  TPNZ    s:2041

     4791     2043    2        SP = II;

   2043  3 000104   201670 236100                    LDQ     II,,AUTO
         3 000105   201672 756100                    STQ     SP,,AUTO

     4792     2044    2           TEMP_DEV = SUBSTR(TH_REP_DEVS(II),0,2);

   2044  3 000106   201674 740100                    STX0    TEMP_DEV,,AUTO

     4793     2045    2           IF TEMP_DEV = 'FE'

   2045  3 000107   001106 100000 1                  CMPX0   XBAR_FMT+6
         3 000110   000114 601000 3                  TNZ     s:2048

     4794     2046    2              THEN C_CODE = %FEP;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:926  

   2046  3 000111   000003 235007                    LDA     3,DL
         3 000112   201675 755100                    STA     C_CODE,,AUTO
         3 000113   000222 710000 3                  TRA     s:2086

     4795     2047    2              ELSE
     4796     2048    2           IF TEMP_DEV = 'IO'

   2048  3 000114   001107 100000 1                  CMPX0   XBAR_FMT+7
         3 000115   000121 601000 3                  TNZ     s:2051

     4797     2049    2              THEN C_CODE = %IOM;

   2049  3 000116   000002 235007                    LDA     2,DL
         3 000117   201675 755100                    STA     C_CODE,,AUTO
         3 000120   000222 710000 3                  TRA     s:2086

     4798     2050    2              ELSE
     4799     2051    2           IF TEMP_DEV = 'CO' OR TEMP_DEV = 'SC'

   2051  3 000121   001110 100000 1                  CMPX0   XBAR_FMT+8
         3 000122   000125 600000 3                  TZE     s:2052
         3 000123   001111 100000 1                  CMPX0   XBAR_FMT+9
         3 000124   000130 601000 3                  TNZ     s:2054

     4800     2052    2              THEN C_CODE = %SC;

   2052  3 000125   000015 235007                    LDA     13,DL
         3 000126   201675 755100                    STA     C_CODE,,AUTO
         3 000127   000222 710000 3                  TRA     s:2086

     4801     2053    2              ELSE
     4802     2054    2           IF TEMP_DEV = 'MP'

   2054  3 000130   001112 100000 1                  CMPX0   XBAR_FMT+10
         3 000131   000135 601000 3                  TNZ     s:2057

PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:927  
     4803     2055    2              THEN C_CODE = %MPC1;

   2055  3 000132   000024 235007                    LDA     20,DL
         3 000133   201675 755100                    STA     C_CODE,,AUTO
         3 000134   000222 710000 3                  TRA     s:2086

     4804     2056    2              ELSE
     4805     2057    2           IF TEMP_DEV = 'DC'

   2057  3 000135   001113 100000 1                  CMPX0   XBAR_FMT+11
         3 000136   000142 601000 3                  TNZ     s:2060

     4806     2058    2              THEN C_CODE = %DC;

   2058  3 000137   000014 235007                    LDA     12,DL
         3 000140   201675 755100                    STA     C_CODE,,AUTO
         3 000141   000222 710000 3                  TRA     s:2086

     4807     2059    2              ELSE
     4808     2060    2           IF TEMP_DEV = 'TC'

   2060  3 000142   001114 100000 1                  CMPX0   XBAR_FMT+12
         3 000143   000147 601000 3                  TNZ     s:2063

     4809     2061    2              THEN C_CODE = %TC;

   2061  3 000144   000012 235007                    LDA     10,DL
         3 000145   201675 755100                    STA     C_CODE,,AUTO
         3 000146   000222 710000 3                  TRA     s:2086

     4810     2062    2              ELSE
     4811     2063    2           IF TEMP_DEV = 'UC'

   2063  3 000147   001115 100000 1                  CMPX0   XBAR_FMT+13
         3 000150   000154 601000 3                  TNZ     s:2066

     4812     2064    2              THEN C_CODE = %UC;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:928  

   2064  3 000151   000013 235007                    LDA     11,DL
         3 000152   201675 755100                    STA     C_CODE,,AUTO
         3 000153   000222 710000 3                  TRA     s:2086

     4813     2065    2              ELSE
     4814     2066    2           IF TEMP_DEV = 'AC'

   2066  3 000154   001116 100000 1                  CMPX0   XBAR_FMT+14
         3 000155   000161 601000 3                  TNZ     s:2069

     4815     2067    2              THEN C_CODE = %AC;

   2067  3 000156   000040 235007                    LDA     32,DL
         3 000157   201675 755100                    STA     C_CODE,,AUTO
         3 000160   000222 710000 3                  TRA     s:2086

     4816     2068    2              ELSE
     4817     2069    2           IF TEMP_DEV = 'OP'

   2069  3 000161   001117 100000 1                  CMPX0   XBAR_FMT+15
         3 000162   000166 601000 3                  TNZ     s:2072

     4818     2070    2              THEN C_CODE = %OPC;

   2070  3 000163   000042 235007                    LDA     34,DL
         3 000164   201675 755100                    STA     C_CODE,,AUTO
         3 000165   000222 710000 3                  TRA     s:2086

     4819     2071    2              ELSE
     4820     2072    2           IF TEMP_DEV = 'AP'

   2072  3 000166   001120 100000 1                  CMPX0   XBAR_FMT+16
         3 000167   000173 601000 3                  TNZ     s:2075

     4821     2073    2              THEN C_CODE = %AP;

PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:929  
   2073  3 000170   000037 235007                    LDA     31,DL
         3 000171   201675 755100                    STA     C_CODE,,AUTO
         3 000172   000222 710000 3                  TRA     s:2086

     4822     2074    2              ELSE
     4823     2075    2           IF TEMP_DEV = 'OD'

   2075  3 000173   001121 100000 1                  CMPX0   XBAR_FMT+17
         3 000174   000200 601000 3                  TNZ     s:2078

     4824     2076    2              THEN C_CODE = %OD;

   2076  3 000175   000041 235007                    LDA     33,DL
         3 000176   201675 755100                    STA     C_CODE,,AUTO
         3 000177   000222 710000 3                  TRA     s:2086

     4825     2077    2              ELSE
     4826     2078    2           IF TEMP_DEV = 'DP'

   2078  3 000200   001122 100000 1                  CMPX0   XBAR_FMT+18
         3 000201   000205 601000 3                  TNZ     s:2081

     4827     2079    2              THEN C_CODE = %DP;

   2079  3 000202   000006 235007                    LDA     6,DL
         3 000203   201675 755100                    STA     C_CODE,,AUTO
         3 000204   000222 710000 3                  TRA     s:2086

     4828     2080    2              ELSE
     4829     2081    2           IF TEMP_DEV = 'MT'

   2081  3 000205   001123 100000 1                  CMPX0   XBAR_FMT+19
         3 000206   000212 601000 3                  TNZ     s:2084

     4830     2082    2              THEN C_CODE = %MT;

   2082  3 000207   000004 235007                    LDA     4,DL
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:930  
         3 000210   201675 755100                    STA     C_CODE,,AUTO
         3 000211   000222 710000 3                  TRA     s:2086

     4831     2083    2              ELSE
     4832     2084    2           IF TEMP_DEV = 'LP' OR TEMP_DEV = 'CR' OR TEMP_DEV = 'CP'

   2084  3 000212   001124 100000 1                  CMPX0   XBAR_FMT+20
         3 000213   000220 600000 3                  TZE     s:2085
         3 000214   001125 100000 1                  CMPX0   XBAR_FMT+21
         3 000215   000220 600000 3                  TZE     s:2085
         3 000216   001126 100000 1                  CMPX0   XBAR_FMT+22
         3 000217   000222 601000 3                  TNZ     s:2086

     4833     2085    2              THEN C_CODE = %LP;

   2085  3 000220   000011 235007                    LDA     9,DL
         3 000221   201675 755100                    STA     C_CODE,,AUTO

     4834     2086    2        II = II + 1;

   2086  3 000222   201670 054100                    AOS     II,,AUTO

     4835     2087    3        DO CASE (C_CODE);

   2087  3 000223   201675 235100                    LDA     C_CODE,,AUTO
         3 000224   000043 115007                    CMPA    35,DL
         3 000225   000227 602005 3                  TNC     s:2087+4,AL
         3 000226   000743 710000 3                  TRA     FOR_ALL
         3 000227   000743 710000 3                  TRA     FOR_ALL
         3 000230   000743 710000 3                  TRA     FOR_ALL
         3 000231   000324 710000 3                  TRA     s:2097
         3 000232   000272 710000 3                  TRA     s:2089
         3 000233   000637 710000 3                  TRA     s:2166
         3 000234   000743 710000 3                  TRA     FOR_ALL
         3 000235   000616 710000 3                  TRA     s:2161
         3 000236   000743 710000 3                  TRA     FOR_ALL
         3 000237   000743 710000 3                  TRA     FOR_ALL
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:931  
         3 000240   000660 710000 3                  TRA     s:2171
         3 000241   000524 710000 3                  TRA     s:2141
         3 000242   000561 710000 3                  TRA     s:2151
         3 000243   000467 710000 3                  TRA     s:2131
         3 000244   000337 710000 3                  TRA     s:2100
         3 000245   000743 710000 3                  TRA     FOR_ALL
         3 000246   000743 710000 3                  TRA     FOR_ALL
         3 000247   000743 710000 3                  TRA     FOR_ALL
         3 000250   000743 710000 3                  TRA     FOR_ALL
         3 000251   000743 710000 3                  TRA     FOR_ALL
         3 000252   000743 710000 3                  TRA     FOR_ALL
         3 000253   000371 710000 3                  TRA     s:2108
         3 000254   000743 710000 3                  TRA     FOR_ALL
         3 000255   000743 710000 3                  TRA     FOR_ALL
         3 000256   000743 710000 3                  TRA     FOR_ALL
         3 000257   000743 710000 3                  TRA     FOR_ALL
         3 000260   000743 710000 3                  TRA     FOR_ALL
         3 000261   000743 710000 3                  TRA     FOR_ALL
         3 000262   000743 710000 3                  TRA     FOR_ALL
         3 000263   000743 710000 3                  TRA     FOR_ALL
         3 000264   000743 710000 3                  TRA     FOR_ALL
         3 000265   000743 710000 3                  TRA     FOR_ALL
         3 000266   000701 710000 3                  TRA     s:2176
         3 000267   000432 710000 3                  TRA     s:2121
         3 000270   000722 710000 3                  TRA     s:2181
         3 000271   000375 710000 3                  TRA     s:2111

     4836     2088    3           CASE (%FEP);

     4837     2089    3              LAST_MPC = -1;

   2089  3 000272   000001 335007                    LCA     1,DL
         3 000273   201660 755100                    STA     LAST_MPC,,AUTO

     4838     2090    3              LAST_SC = -1;

   2090  3 000274   201666 755100                    STA     LAST_SC,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:932  

     4839     2091    4              DO J = ST TO SP;

   2091  3 000275   201671 235100                    LDA     ST,,AUTO
         3 000276   201553 755100                    STA     J,,AUTO
         3 000277   000314 710000 3                  TRA     s:2094+1

     4840     2092    4                 TD_HEAD.DEVNAME(TD_HEAD.FEP_INDX + JJ) = TH_REP_DEVS(J);

   2092  3 000300   200012 236100                    LDQ     TD_HEAD+6,,AUTO
         3 000301   000022 772000                    QRL     18
         3 000302   201667 036100                    ADLQ    JJ,,AUTO
         3 000303   000001 736000                    QLS     1
         3 000304   201553 235100                    LDA     J,,AUTO
         3 000305   000003 735000                    ALS     3
         3 000306   000002 736000                    QLS     2
         3 000307   040106 100405                    MLR     fill='040'O
         3 000310   000000 000010 xsym               ADSC9   TH_REP_DEVS,A            cn=0,n=8
         3 000311   200024 000010                    ADSC9   TD_HEAD+16,Q,AUTO        cn=0,n=8

     4841     2093    4                 JJ = JJ + 1;

   2093  3 000312   201667 054100                    AOS     JJ,,AUTO

     4842     2094    4                 END;  /* DO J */

   2094  3 000313   201553 054100                    AOS     J,,AUTO
         3 000314   201553 236100                    LDQ     J,,AUTO
         3 000315   201672 116100                    CMPQ    SP,,AUTO
         3 000316   000300 604400 3                  TMOZ    s:2092

     4843     2095    3              LAST_FEP = FIRST_FEP + (SP - ST);

   2095  3 000317   201672 236100                    LDQ     SP,,AUTO
         3 000320   201671 136100                    SBLQ    ST,,AUTO
         3 000321   201663 036100                    ADLQ    FIRST_FEP,,AUTO
         3 000322   201664 756100                    STQ     LAST_FEP,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:933  
         3 000323   000743 710000 3                  TRA     FOR_ALL

     4844     2096    3           CASE(%IOM);

     4845     2097    3              CALL CHARBIN(FIRST_IOM,SUBSTR(TH_REP_DEVS(ST),3,1));

   2097  3 000324   201671 235100                    LDA     ST,,AUTO
         3 000325   000003 735000                    ALS     3
         3 000326   000100 305405                    DTB
         3 000327   000000 630001 xsym               NDSC9   TH_REP_DEVS,A            cn=3,s=nosgn,sf=0,n=1
         3 000330   201661 000004                    NDSC9   FIRST_IOM,,AUTO          cn=0,s=lsgnf,sf=0,n=4

     4846     2098    3              CALL CHARBIN(LAST_IOM,SUBSTR(TH_REP_DEVS(SP - ST),3,1));

   2098  3 000331   201671 136100                    SBLQ    ST,,AUTO
         3 000332   000003 736000                    QLS     3
         3 000333   000100 305406                    DTB
         3 000334   000000 630001 xsym               NDSC9   TH_REP_DEVS,Q            cn=3,s=nosgn,sf=0,n=1
         3 000335   201662 000004                    NDSC9   LAST_IOM,,AUTO           cn=0,s=lsgnf,sf=0,n=4
         3 000336   000743 710000 3                  TRA     FOR_ALL

     4847     2099    3           CASE(%SC);

     4848     2100    3              LAST_FEP = -1;

   2100  3 000337   000001 335007                    LCA     1,DL
         3 000340   201664 755100                    STA     LAST_FEP,,AUTO

     4849     2101    3              LAST_MPC = -1;

   2101  3 000341   201660 755100                    STA     LAST_MPC,,AUTO

     4850     2102    4              DO J = ST TO SP;

   2102  3 000342   201671 235100                    LDA     ST,,AUTO
         3 000343   201553 755100                    STA     J,,AUTO
         3 000344   000361 710000 3                  TRA     s:2105+1
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:934  

     4851     2103    4                 TD_HEAD.DEVNAME(TD_HEAD.CONSOLE_INDX + JJ) = TH_REP_DEVS(J);

   2103  3 000345   200013 236100                    LDQ     TD_HEAD+7,,AUTO
         3 000346   000022 772000                    QRL     18
         3 000347   201667 036100                    ADLQ    JJ,,AUTO
         3 000350   000001 736000                    QLS     1
         3 000351   201553 235100                    LDA     J,,AUTO
         3 000352   000003 735000                    ALS     3
         3 000353   000002 736000                    QLS     2
         3 000354   040106 100405                    MLR     fill='040'O
         3 000355   000000 000010 xsym               ADSC9   TH_REP_DEVS,A            cn=0,n=8
         3 000356   200024 000010                    ADSC9   TD_HEAD+16,Q,AUTO        cn=0,n=8

     4852     2104    4                 JJ = JJ + 1;

   2104  3 000357   201667 054100                    AOS     JJ,,AUTO

     4853     2105    4                 END;  /* DO J */

   2105  3 000360   201553 054100                    AOS     J,,AUTO
         3 000361   201553 236100                    LDQ     J,,AUTO
         3 000362   201672 116100                    CMPQ    SP,,AUTO
         3 000363   000345 604400 3                  TMOZ    s:2103

     4854     2106    3              LAST_SC = FIRST_SC + SP-ST;

   2106  3 000364   201665 236100                    LDQ     FIRST_SC,,AUTO
         3 000365   201672 036100                    ADLQ    SP,,AUTO
         3 000366   201671 136100                    SBLQ    ST,,AUTO
         3 000367   201666 756100                    STQ     LAST_SC,,AUTO
         3 000370   000743 710000 3                  TRA     FOR_ALL

     4855     2107    3           CASE(%MPC1);

     4856     2108    3              LAST_SC = -1;

PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:935  
   2108  3 000371   000001 335007                    LCA     1,DL
         3 000372   201666 755100                    STA     LAST_SC,,AUTO

     4857     2109    3              LAST_FEP = -1;

   2109  3 000373   201664 755100                    STA     LAST_FEP,,AUTO
         3 000374   000743 710000 3                  TRA     FOR_ALL

     4858     2110    3           CASE(%OPC);

     4859     2111    3              LAST_SC = -1;

   2111  3 000375   000001 335007                    LCA     1,DL
         3 000376   201666 755100                    STA     LAST_SC,,AUTO

     4860     2112    3              LAST_FEP = -1;

   2112  3 000377   201664 755100                    STA     LAST_FEP,,AUTO

     4861     2113    3              FIRST_MPC = 5;

   2113  3 000400   000005 235007                    LDA     5,DL
         3 000401   201657 755100                    STA     FIRST_MPC,,AUTO

     4862     2114    3              LAST_MPC = FIRST_MPC;

   2114  3 000402   201660 755100                    STA     LAST_MPC,,AUTO

     4863     2115    4              DO J = ST TO SP;

   2115  3 000403   201671 235100                    LDA     ST,,AUTO
         3 000404   201553 755100                    STA     J,,AUTO
         3 000405   000422 710000 3                  TRA     s:2118+1

     4864     2116    4                 TD_HEAD.DEVNAME(TD_HEAD.OPC_INDX+JJ) = TH_REP_DEVS(J);

   2116  3 000406   200011 236100                    LDQ     TD_HEAD+5,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:936  
         3 000407   000022 772000                    QRL     18
         3 000410   201667 036100                    ADLQ    JJ,,AUTO
         3 000411   000001 736000                    QLS     1
         3 000412   201553 235100                    LDA     J,,AUTO
         3 000413   000003 735000                    ALS     3
         3 000414   000002 736000                    QLS     2
         3 000415   040106 100405                    MLR     fill='040'O
         3 000416   000000 000010 xsym               ADSC9   TH_REP_DEVS,A            cn=0,n=8
         3 000417   200024 000010                    ADSC9   TD_HEAD+16,Q,AUTO        cn=0,n=8

     4865     2117    4                 JJ = JJ + 1;

   2117  3 000420   201667 054100                    AOS     JJ,,AUTO

     4866     2118    4                 END;  /* DO J */

   2118  3 000421   201553 054100                    AOS     J,,AUTO
         3 000422   201553 236100                    LDQ     J,,AUTO
         3 000423   201672 116100                    CMPQ    SP,,AUTO
         3 000424   000406 604400 3                  TMOZ    s:2116

     4867     2119    3              TD_HEAD.NUMOPCS = SP - ST + 1;

   2119  3 000425   201672 236100                    LDQ     SP,,AUTO
         3 000426   201671 136100                    SBLQ    ST,,AUTO
         3 000427   000001 620006                    EAX0    1,QL
         3 000430   200011 440100                    SXL0    TD_HEAD+5,,AUTO
         3 000431   000743 710000 3                  TRA     FOR_ALL

     4868     2120    3           CASE(%AC);

     4869     2121    3              LAST_SC = -1;

   2121  3 000432   000001 335007                    LCA     1,DL
         3 000433   201666 755100                    STA     LAST_SC,,AUTO

     4870     2122    3              LAST_FEP = -1;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:937  

   2122  3 000434   201664 755100                    STA     LAST_FEP,,AUTO

     4871     2123    3              FIRST_MPC = 4;

   2123  3 000435   000004 235007                    LDA     4,DL
         3 000436   201657 755100                    STA     FIRST_MPC,,AUTO

     4872     2124    3              LAST_MPC = FIRST_MPC;

   2124  3 000437   201660 755100                    STA     LAST_MPC,,AUTO

     4873     2125    4              DO J = ST TO SP;

   2125  3 000440   201671 235100                    LDA     ST,,AUTO
         3 000441   201553 755100                    STA     J,,AUTO
         3 000442   000457 710000 3                  TRA     s:2128+1

     4874     2126    4                 TD_HEAD.DEVNAME(TD_HEAD.APMPC_INDX+JJ) = TH_REP_DEVS(J);

   2126  3 000443   200010 236100                    LDQ     TD_HEAD+4,,AUTO
         3 000444   000022 772000                    QRL     18
         3 000445   201667 036100                    ADLQ    JJ,,AUTO
         3 000446   000001 736000                    QLS     1
         3 000447   201553 235100                    LDA     J,,AUTO
         3 000450   000003 735000                    ALS     3
         3 000451   000002 736000                    QLS     2
         3 000452   040106 100405                    MLR     fill='040'O
         3 000453   000000 000010 xsym               ADSC9   TH_REP_DEVS,A            cn=0,n=8
         3 000454   200024 000010                    ADSC9   TD_HEAD+16,Q,AUTO        cn=0,n=8

     4875     2127    4                 JJ = JJ + 1;

   2127  3 000455   201667 054100                    AOS     JJ,,AUTO

     4876     2128    4                 END;  /* DO J */

PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:938  
   2128  3 000456   201553 054100                    AOS     J,,AUTO
         3 000457   201553 236100                    LDQ     J,,AUTO
         3 000460   201672 116100                    CMPQ    SP,,AUTO
         3 000461   000443 604400 3                  TMOZ    s:2126

     4877     2129    3              TD_HEAD.NUMAPMPCS = SP - ST + 1;

   2129  3 000462   201672 236100                    LDQ     SP,,AUTO
         3 000463   201671 136100                    SBLQ    ST,,AUTO
         3 000464   000001 620006                    EAX0    1,QL
         3 000465   200010 440100                    SXL0    TD_HEAD+4,,AUTO
         3 000466   000743 710000 3                  TRA     FOR_ALL

     4878     2130    3           CASE(%DC);

     4879     2131    3              LAST_SC = -1;

   2131  3 000467   000001 335007                    LCA     1,DL
         3 000470   201666 755100                    STA     LAST_SC,,AUTO

     4880     2132    3              LAST_FEP = -1;

   2132  3 000471   201664 755100                    STA     LAST_FEP,,AUTO

     4881     2133    3              FIRST_MPC = 3;

   2133  3 000472   000003 235007                    LDA     3,DL
         3 000473   201657 755100                    STA     FIRST_MPC,,AUTO

     4882     2134    3              LAST_MPC = FIRST_MPC;

   2134  3 000474   201660 755100                    STA     LAST_MPC,,AUTO

     4883     2135    4              DO J = ST TO SP;

   2135  3 000475   201671 235100                    LDA     ST,,AUTO
         3 000476   201553 755100                    STA     J,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:939  
         3 000477   000514 710000 3                  TRA     s:2138+1

     4884     2136    4                 TD_HEAD.DEVNAME(TD_HEAD.DISKMPC_INDX+JJ) = TH_REP_DEVS(J);

   2136  3 000500   200007 236100                    LDQ     TD_HEAD+3,,AUTO
         3 000501   000022 772000                    QRL     18
         3 000502   201667 036100                    ADLQ    JJ,,AUTO
         3 000503   000001 736000                    QLS     1
         3 000504   201553 235100                    LDA     J,,AUTO
         3 000505   000003 735000                    ALS     3
         3 000506   000002 736000                    QLS     2
         3 000507   040106 100405                    MLR     fill='040'O
         3 000510   000000 000010 xsym               ADSC9   TH_REP_DEVS,A            cn=0,n=8
         3 000511   200024 000010                    ADSC9   TD_HEAD+16,Q,AUTO        cn=0,n=8

     4885     2137    4                 JJ = JJ + 1;

   2137  3 000512   201667 054100                    AOS     JJ,,AUTO

     4886     2138    4                 END;  /* DO J */

   2138  3 000513   201553 054100                    AOS     J,,AUTO
         3 000514   201553 236100                    LDQ     J,,AUTO
         3 000515   201672 116100                    CMPQ    SP,,AUTO
         3 000516   000500 604400 3                  TMOZ    s:2136

     4887     2139    3              TD_HEAD.NUMDISKMPCS = SP - ST + 1;

   2139  3 000517   201672 236100                    LDQ     SP,,AUTO
         3 000520   201671 136100                    SBLQ    ST,,AUTO
         3 000521   000001 620006                    EAX0    1,QL
         3 000522   200007 440100                    SXL0    TD_HEAD+3,,AUTO
         3 000523   000743 710000 3                  TRA     FOR_ALL

     4888     2140    3           CASE(%TC);

     4889     2141    3              LAST_SC = -1;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:940  

   2141  3 000524   000001 335007                    LCA     1,DL
         3 000525   201666 755100                    STA     LAST_SC,,AUTO

     4890     2142    3              LAST_FEP = -1;

   2142  3 000526   201664 755100                    STA     LAST_FEP,,AUTO

     4891     2143    3              FIRST_MPC = 2;

   2143  3 000527   000002 235007                    LDA     2,DL
         3 000530   201657 755100                    STA     FIRST_MPC,,AUTO

     4892     2144    3              LAST_MPC = FIRST_MPC;

   2144  3 000531   201660 755100                    STA     LAST_MPC,,AUTO

     4893     2145    4              DO J = ST TO SP;

   2145  3 000532   201671 235100                    LDA     ST,,AUTO
         3 000533   201553 755100                    STA     J,,AUTO
         3 000534   000551 710000 3                  TRA     s:2148+1

     4894     2146    4                 TD_HEAD.DEVNAME(TD_HEAD.TAPEMPC_INDX+JJ) = TH_REP_DEVS(J);

   2146  3 000535   200006 236100                    LDQ     TD_HEAD+2,,AUTO
         3 000536   000022 772000                    QRL     18
         3 000537   201667 036100                    ADLQ    JJ,,AUTO
         3 000540   000001 736000                    QLS     1
         3 000541   201553 235100                    LDA     J,,AUTO
         3 000542   000003 735000                    ALS     3
         3 000543   000002 736000                    QLS     2
         3 000544   040106 100405                    MLR     fill='040'O
         3 000545   000000 000010 xsym               ADSC9   TH_REP_DEVS,A            cn=0,n=8
         3 000546   200024 000010                    ADSC9   TD_HEAD+16,Q,AUTO        cn=0,n=8

     4895     2147    4                 JJ = JJ + 1;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:941  

   2147  3 000547   201667 054100                    AOS     JJ,,AUTO

     4896     2148    4                 END;  /* DO J */

   2148  3 000550   201553 054100                    AOS     J,,AUTO
         3 000551   201553 236100                    LDQ     J,,AUTO
         3 000552   201672 116100                    CMPQ    SP,,AUTO
         3 000553   000535 604400 3                  TMOZ    s:2146

     4897     2149    3              TD_HEAD.NUMTAPEMPCS = SP - ST + 1;

   2149  3 000554   201672 236100                    LDQ     SP,,AUTO
         3 000555   201671 136100                    SBLQ    ST,,AUTO
         3 000556   000001 620006                    EAX0    1,QL
         3 000557   200006 440100                    SXL0    TD_HEAD+2,,AUTO
         3 000560   000743 710000 3                  TRA     FOR_ALL

     4898     2150    3           CASE(%UC);

     4899     2151    3              LAST_SC = -1;

   2151  3 000561   000001 335007                    LCA     1,DL
         3 000562   201666 755100                    STA     LAST_SC,,AUTO

     4900     2152    3              LAST_FEP = -1;

   2152  3 000563   201664 755100                    STA     LAST_FEP,,AUTO

     4901     2153    3              FIRST_MPC = 1;

   2153  3 000564   000001 235007                    LDA     1,DL
         3 000565   201657 755100                    STA     FIRST_MPC,,AUTO

     4902     2154    3              LAST_MPC = FIRST_MPC;

   2154  3 000566   201660 755100                    STA     LAST_MPC,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:942  

     4903     2155    4              DO J = ST TO SP;

   2155  3 000567   201671 235100                    LDA     ST,,AUTO
         3 000570   201553 755100                    STA     J,,AUTO
         3 000571   000606 710000 3                  TRA     s:2158+1

     4904     2156    4                 TD_HEAD.DEVNAME(TD_HEAD.UNITMPC_INDX+JJ) = TH_REP_DEVS(J);

   2156  3 000572   200005 236100                    LDQ     TD_HEAD+1,,AUTO
         3 000573   000022 772000                    QRL     18
         3 000574   201667 036100                    ADLQ    JJ,,AUTO
         3 000575   000001 736000                    QLS     1
         3 000576   201553 235100                    LDA     J,,AUTO
         3 000577   000003 735000                    ALS     3
         3 000600   000002 736000                    QLS     2
         3 000601   040106 100405                    MLR     fill='040'O
         3 000602   000000 000010 xsym               ADSC9   TH_REP_DEVS,A            cn=0,n=8
         3 000603   200024 000010                    ADSC9   TD_HEAD+16,Q,AUTO        cn=0,n=8

     4905     2157    4                 JJ = JJ + 1;

   2157  3 000604   201667 054100                    AOS     JJ,,AUTO

     4906     2158    4                 END;  /* DO J */

   2158  3 000605   201553 054100                    AOS     J,,AUTO
         3 000606   201553 236100                    LDQ     J,,AUTO
         3 000607   201672 116100                    CMPQ    SP,,AUTO
         3 000610   000572 604400 3                  TMOZ    s:2156

     4907     2159    3              TD_HEAD.NUMUNITMPCS = SP-ST+1;

   2159  3 000611   201672 236100                    LDQ     SP,,AUTO
         3 000612   201671 136100                    SBLQ    ST,,AUTO
         3 000613   000001 620006                    EAX0    1,QL
         3 000614   200005 440100                    SXL0    TD_HEAD+1,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:943  
         3 000615   000743 710000 3                  TRA     FOR_ALL

     4908     2160    3           CASE (%DP);

     4909     2161    3              FIRST_MPC = 3;

   2161  3 000616   000003 235007                    LDA     3,DL
         3 000617   201657 755100                    STA     FIRST_MPC,,AUTO

     4910     2162    3              DEV_FLG = %TRUE;

   2162  3 000620   400000 236003                    LDQ     -131072,DU
         3 000621   201673 756100                    STQ     DEV_FLG,,AUTO

     4911     2163    3              CALL MPC_DEVICES(' ',FIRST_MPC,ST,SP,DEV_FLG);

   2163  3 000622   201673 630500                    EPPR0   DEV_FLG,,AUTO
         3 000623   201731 450500                    STP0    J+1,,AUTO
         3 000624   201672 631500                    EPPR1   SP,,AUTO
         3 000625   201730 451500                    STP1    @XBAR_INDX+1,,AUTO
         3 000626   201671 633500                    EPPR3   ST,,AUTO
         3 000627   201727 453500                    STP3    @LAST+1,,AUTO
         3 000630   201657 634500                    EPPR4   FIRST_MPC,,AUTO
         3 000631   201726 454500                    STP4    @MPC_INDX+1,,AUTO
         3 000632   000002 236000 4                  LDQ     2
         3 000633   201725 756100                    STQ     XBAR_INDX+3,,AUTO
         3 000634   002063 701000 3                  TSX1    MPC_DEVICES
         3 000635   000000 011000                    NOP     0

     4912     2164    3              GOTO NEXT;

   2164  3 000636   001213 710000 3                  TRA     NEXT

     4913     2165    3           CASE (%MT);

     4914     2166    3              FIRST_MPC = 2;

PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:944  
   2166  3 000637   000002 235007                    LDA     2,DL
         3 000640   201657 755100                    STA     FIRST_MPC,,AUTO

     4915     2167    3              DEV_FLG = %TRUE;

   2167  3 000641   400000 236003                    LDQ     -131072,DU
         3 000642   201673 756100                    STQ     DEV_FLG,,AUTO

     4916     2168    3              CALL MPC_DEVICES(' ',FIRST_MPC,ST,SP,DEV_FLG);

   2168  3 000643   201673 630500                    EPPR0   DEV_FLG,,AUTO
         3 000644   201731 450500                    STP0    J+1,,AUTO
         3 000645   201672 631500                    EPPR1   SP,,AUTO
         3 000646   201730 451500                    STP1    @XBAR_INDX+1,,AUTO
         3 000647   201671 633500                    EPPR3   ST,,AUTO
         3 000650   201727 453500                    STP3    @LAST+1,,AUTO
         3 000651   201657 634500                    EPPR4   FIRST_MPC,,AUTO
         3 000652   201726 454500                    STP4    @MPC_INDX+1,,AUTO
         3 000653   000002 236000 4                  LDQ     2
         3 000654   201725 756100                    STQ     XBAR_INDX+3,,AUTO
         3 000655   002063 701000 3                  TSX1    MPC_DEVICES
         3 000656   000000 011000                    NOP     0

     4917     2169    3              GOTO NEXT;

   2169  3 000657   001213 710000 3                  TRA     NEXT

     4918     2170    3           CASE (%LP);

     4919     2171    3              FIRST_MPC = 1;

   2171  3 000660   000001 235007                    LDA     1,DL
         3 000661   201657 755100                    STA     FIRST_MPC,,AUTO

     4920     2172    3              DEV_FLG = %TRUE;

   2172  3 000662   400000 236003                    LDQ     -131072,DU
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:945  
         3 000663   201673 756100                    STQ     DEV_FLG,,AUTO

     4921     2173    3              CALL MPC_DEVICES(' ',FIRST_MPC,ST,SP,DEV_FLG);

   2173  3 000664   201673 630500                    EPPR0   DEV_FLG,,AUTO
         3 000665   201731 450500                    STP0    J+1,,AUTO
         3 000666   201672 631500                    EPPR1   SP,,AUTO
         3 000667   201730 451500                    STP1    @XBAR_INDX+1,,AUTO
         3 000670   201671 633500                    EPPR3   ST,,AUTO
         3 000671   201727 453500                    STP3    @LAST+1,,AUTO
         3 000672   201657 634500                    EPPR4   FIRST_MPC,,AUTO
         3 000673   201726 454500                    STP4    @MPC_INDX+1,,AUTO
         3 000674   000002 236000 4                  LDQ     2
         3 000675   201725 756100                    STQ     XBAR_INDX+3,,AUTO
         3 000676   002063 701000 3                  TSX1    MPC_DEVICES
         3 000677   000000 011000                    NOP     0

     4922     2174    3              GOTO NEXT;

   2174  3 000700   001213 710000 3                  TRA     NEXT

     4923     2175    3           CASE (%AP);

     4924     2176    3              FIRST_MPC = 4;

   2176  3 000701   000004 235007                    LDA     4,DL
         3 000702   201657 755100                    STA     FIRST_MPC,,AUTO

     4925     2177    3              DEV_FLG = %TRUE;

   2177  3 000703   400000 236003                    LDQ     -131072,DU
         3 000704   201673 756100                    STQ     DEV_FLG,,AUTO

     4926     2178    3              CALL MPC_DEVICES(' ',FIRST_MPC,ST,SP,DEV_FLG);

   2178  3 000705   201673 630500                    EPPR0   DEV_FLG,,AUTO
         3 000706   201731 450500                    STP0    J+1,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:946  
         3 000707   201672 631500                    EPPR1   SP,,AUTO
         3 000710   201730 451500                    STP1    @XBAR_INDX+1,,AUTO
         3 000711   201671 633500                    EPPR3   ST,,AUTO
         3 000712   201727 453500                    STP3    @LAST+1,,AUTO
         3 000713   201657 634500                    EPPR4   FIRST_MPC,,AUTO
         3 000714   201726 454500                    STP4    @MPC_INDX+1,,AUTO
         3 000715   000002 236000 4                  LDQ     2
         3 000716   201725 756100                    STQ     XBAR_INDX+3,,AUTO
         3 000717   002063 701000 3                  TSX1    MPC_DEVICES
         3 000720   000000 011000                    NOP     0

     4927     2179    3              GOTO NEXT;

   2179  3 000721   001213 710000 3                  TRA     NEXT

     4928     2180    3           CASE (%OD);

     4929     2181    3              FIRST_MPC = 5;

   2181  3 000722   000005 235007                    LDA     5,DL
         3 000723   201657 755100                    STA     FIRST_MPC,,AUTO

     4930     2182    3              DEV_FLG = %TRUE;

   2182  3 000724   400000 236003                    LDQ     -131072,DU
         3 000725   201673 756100                    STQ     DEV_FLG,,AUTO

     4931     2183    3              CALL MPC_DEVICES(' ',FIRST_MPC,ST,SP,DEV_FLG);

   2183  3 000726   201673 630500                    EPPR0   DEV_FLG,,AUTO
         3 000727   201731 450500                    STP0    J+1,,AUTO
         3 000730   201672 631500                    EPPR1   SP,,AUTO
         3 000731   201730 451500                    STP1    @XBAR_INDX+1,,AUTO
         3 000732   201671 633500                    EPPR3   ST,,AUTO
         3 000733   201727 453500                    STP3    @LAST+1,,AUTO
         3 000734   201657 634500                    EPPR4   FIRST_MPC,,AUTO
         3 000735   201726 454500                    STP4    @MPC_INDX+1,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:947  
         3 000736   000002 236000 4                  LDQ     2
         3 000737   201725 756100                    STQ     XBAR_INDX+3,,AUTO
         3 000740   002063 701000 3                  TSX1    MPC_DEVICES
         3 000741   000000 011000                    NOP     0

     4932     2184    3              GOTO NEXT;

   2184  3 000742   001213 710000 3                  TRA     NEXT

     4933     2185    3           END;  /* DO CASE CODE */

     4934     2186    2     FOR_ALL:
     4935     2187    2        INDX_VEC = TD_HEAD;

   2187  3 000743   000000 100500       FOR_ALL      MLR     fill='000'O
         3 000744   200004 000054                    ADSC9   TD_HEAD,,AUTO            cn=0,n=44
         3 000745   000000 000054 2                  ADSC9   INDX_VEC                 cn=0,n=44

     4936     2188    3        DO I = FIRST_IOM TO LAST_IOM;

   2188  3 000746   201661 235100                    LDA     FIRST_IOM,,AUTO
         3 000747   201552 755100                    STA     I,,AUTO
         3 000750   001210 710000 3                  TRA     s:2215+1

     4937     2189    3           CALL BINCHAR(IOM#,I);

   2189  3 000751   000100 301500                    BTD
         3 000752   201552 000004                    NDSC9   I,,AUTO                  cn=0,s=lsgnf,sf=0,n=4
         3 000753   201540 030001                    NDSC9   IOM#,,AUTO               cn=0,s=nosgn,sf=0,n=1

     4938     2190    3           CALL CONCAT(IOM_NAME,'IOM',IOM#);

   2190  3 000754   001127 236000 1                  LDQ     XBAR_FMT+23
         3 000755   000003 376000 4                  ANQ     3
         3 000756   000040 276007                    ORQ     32,DL
         3 000757   201537 756100                    STQ     IOM_NAME,,AUTO
         3 000760   201540 236100                    LDQ     IOM#,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:948  
         3 000761   000033 772000                    QRL     27
         3 000762   201537 552104                    STBQ    IOM_NAME,'04'O,AUTO

     4939     2191    3           CALL THG$GETREC(%CONFIG,IOM_NAME);

   2191  3 000763   201537 630500                    EPPR0   IOM_NAME,,AUTO
         3 000764   201763 450500                    STP0    CHAR3+3,,AUTO
         3 000765   000000 236000 4                  LDQ     0
         3 000766   201762 756100                    STQ     CHAR3+2,,AUTO
         3 000767   201762 630500                    EPPR0   CHAR3+2,,AUTO
         3 000770   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000771   000000 701000 xent               TSX1    THG$GETREC
         3 000772   000000 011000                    NOP     0

     4940     2192    3           IOMREC = TH_RECORD.PTR$->TD$IOM;

   2192  3 000773   000001 470400 xsym               LDP0    TH_RECORD+1
         3 000774   000100 100500                    MLR     fill='000'O
         3 000775   000000 002044                    ADSC9   0,,PR0                   cn=0,n=1060
         3 000776   200646 002044                    ADSC9   IOMREC,,AUTO             cn=0,n=1060

     4941     2193    3           CALL THW$WRITE(CONFIG_IOM,VECTOR(IOM_NAME),VECTOR(IOMREC));

   2193  3 000777   777640 235007                    LDA     -96,DL
         3 001000   201762 452500                    STP2    CHAR3+2,,AUTO
         3 001001   201762 236100                    LDQ     CHAR3+2,,AUTO
         3 001002   001537 036003                    ADLQ    863,DU
         3 001003   201764 757100                    STAQ    CHAR3+4,,AUTO
         3 001004   000004 235000 4                  LDA     4
         3 001005   201766 452500                    STP2    CHAR3+6,,AUTO
         3 001006   201766 236100                    LDQ     CHAR3+6,,AUTO
         3 001007   000646 036003                    ADLQ    422,DU
         3 001010   201772 757100                    STAQ    CHAR3+10,,AUTO
         3 001011   201764 237100                    LDAQ    CHAR3+4,,AUTO
         3 001012   201770 757100                    STAQ    CHAR3+8,,AUTO
         3 001013   201772 237100                    LDAQ    CHAR3+10,,AUTO
         3 001014   201774 757100                    STAQ    CHAR3+12,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:949  
         3 001015   201774 631500                    EPPR1   CHAR3+12,,AUTO
         3 001016   202000 451500                    STP1    CHAR3+16,,AUTO
         3 001017   201770 633500                    EPPR3   CHAR3+8,,AUTO
         3 001020   201777 453500                    STP3    CHAR3+15,,AUTO
         3 001021   000005 236000 4                  LDQ     5
         3 001022   201776 756100                    STQ     CHAR3+14,,AUTO
         3 001023   201776 630500                    EPPR0   CHAR3+14,,AUTO
         3 001024   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001025   000000 701000 xent               TSX1    THW$WRITE
         3 001026   000000 011000                    NOP     0

     4942     2194    3           CALL THW$WRITE(VECTOR(BLANK_LINE));

   2194  3 001027   000010 630400 4                  EPPR0   8
         3 001030   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 001031   000000 701000 xent               TSX1    THW$WRITE
         3 001032   000000 011000                    NOP     0

     4943     2195
     4944     2196                                                /* OUTPUT MPCS AND THEIR DEVICES      */
     4945     2197    4           DO J = FIRST_MPC TO LAST_MPC;

   2197  3 001033   201657 235100                    LDA     FIRST_MPC,,AUTO
         3 001034   201553 755100                    STA     J,,AUTO
         3 001035   001046 710000 3                  TRA     s:2199+1

     4946     2198    4              CALL OUTPUT_MPC(INDX_VEC(J),J);

   2198  3 001036   201553 630500                    EPPR0   J,,AUTO
         3 001037   201700 450500                    STP0    @INDX+1,,AUTO
         3 001040   201553 720100                    LXL0    J,,AUTO
         3 001041   000000 631410 2                  EPPR1   INDX_VEC,X0
         3 001042   201677 451500                    STP1    C_CODE+2,,AUTO
         3 001043   001260 701000 3                  TSX1    OUTPUT_MPC
         3 001044   000000 011000                    NOP     0

     4947     2199    4           END;                            /* DO J                               */
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:950  

   2199  3 001045   201553 054100                    AOS     J,,AUTO
         3 001046   201553 236100                    LDQ     J,,AUTO
         3 001047   201660 116100                    CMPQ    LAST_MPC,,AUTO
         3 001050   001036 604400 3                  TMOZ    s:2198

     4948     2200
     4949     2201                                                /* OUTPUT FEPS                        */
     4950     2202    4           DO J = FIRST_FEP TO LAST_FEP;

   2202  3 001051   201663 235100                    LDA     FIRST_FEP,,AUTO
         3 001052   201553 755100                    STA     J,,AUTO
         3 001053   001123 710000 3                  TRA     s:2206+1

     4951     2203    4              CALL FIND_CHANNEL(TD_HEAD.DEVNAME(J),NUM_CHANS,CHANS);

   2203  3 001054   201542 630500                    EPPR0   CHANS,,AUTO
         3 001055   201755 450500                    STP0    @CHAN+1,,AUTO
         3 001056   201541 631500                    EPPR1   NUM_CHANS,,AUTO
         3 001057   201754 451500                    STP1    @NUM+1,,AUTO
         3 001060   201553 235100                    LDA     J,,AUTO
         3 001061   000001 735000                    ALS     1
         3 001062   200024 633505                    EPPR3   TD_HEAD+16,AL,AUTO
         3 001063   201753 453500                    STP3    REVBUF+3,,AUTO
         3 001064   001220 701000 3                  TSX1    FIND_CHANNEL
         3 001065   000000 011000                    NOP     0

     4952     2204    4              IF NUM_CHANS > 0

   2204  3 001066   201541 235100                    LDA     NUM_CHANS,,AUTO
         3 001067   001122 600000 3                  TZE     s:2206

     4953     2205    4             THEN CALL THW$WRITE(CONFIG_FEP,VECTOR(TD_HEAD.DEVNAME(J)),VECTOR(CHANS));

   2205  3 001070   000011 235000 4                  LDA     9
         3 001071   201762 452500                    STP2    CHAR3+2,,AUTO
         3 001072   201553 236100                    LDQ     J,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:951  
         3 001073   000023 736000                    QLS     19
         3 001074   000024 036003                    ADLQ    20,DU
         3 001075   201762 036100                    ADLQ    CHAR3+2,,AUTO
         3 001076   201764 757100                    STAQ    CHAR3+4,,AUTO
         3 001077   000012 235000 4                  LDA     10
         3 001100   201766 452500                    STP2    CHAR3+6,,AUTO
         3 001101   201766 236100                    LDQ     CHAR3+6,,AUTO
         3 001102   001542 036003                    ADLQ    866,DU
         3 001103   201772 757100                    STAQ    CHAR3+10,,AUTO
         3 001104   201764 237100                    LDAQ    CHAR3+4,,AUTO
         3 001105   201770 757100                    STAQ    CHAR3+8,,AUTO
         3 001106   201772 237100                    LDAQ    CHAR3+10,,AUTO
         3 001107   201774 757100                    STAQ    CHAR3+12,,AUTO
         3 001110   201774 630500                    EPPR0   CHAR3+12,,AUTO
         3 001111   202000 450500                    STP0    CHAR3+16,,AUTO
         3 001112   201770 631500                    EPPR1   CHAR3+8,,AUTO
         3 001113   201777 451500                    STP1    CHAR3+15,,AUTO
         3 001114   000013 236000 4                  LDQ     11
         3 001115   201776 756100                    STQ     CHAR3+14,,AUTO
         3 001116   201776 630500                    EPPR0   CHAR3+14,,AUTO
         3 001117   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001120   000000 701000 xent               TSX1    THW$WRITE
         3 001121   000000 011000                    NOP     0

     4954     2206    4           END;                            /* DO J                               */

   2206  3 001122   201553 054100                    AOS     J,,AUTO
         3 001123   201553 236100                    LDQ     J,,AUTO
         3 001124   201664 116100                    CMPQ    LAST_FEP,,AUTO
         3 001125   001054 604400 3                  TMOZ    s:2203

     4955     2207    3           CALL THW$WRITE(VECTOR(BLANK_LINE));

   2207  3 001126   000010 630400 4                  EPPR0   8
         3 001127   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 001130   000000 701000 xent               TSX1    THW$WRITE
         3 001131   000000 011000                    NOP     0
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:952  

     4956     2208
     4957     2209                                                /* OUTPUT SCS                         */
     4958     2210    4           DO J = FIRST_SC TO LAST_SC;

   2210  3 001132   201665 235100                    LDA     FIRST_SC,,AUTO
         3 001133   201553 755100                    STA     J,,AUTO
         3 001134   001204 710000 3                  TRA     s:2214+1

     4959     2211    4              CALL FIND_CHANNEL(TD_HEAD.DEVNAME(J),NUM_CHANS,CHANS);

   2211  3 001135   201542 630500                    EPPR0   CHANS,,AUTO
         3 001136   201755 450500                    STP0    @CHAN+1,,AUTO
         3 001137   201541 631500                    EPPR1   NUM_CHANS,,AUTO
         3 001140   201754 451500                    STP1    @NUM+1,,AUTO
         3 001141   201553 235100                    LDA     J,,AUTO
         3 001142   000001 735000                    ALS     1
         3 001143   200024 633505                    EPPR3   TD_HEAD+16,AL,AUTO
         3 001144   201753 453500                    STP3    REVBUF+3,,AUTO
         3 001145   001220 701000 3                  TSX1    FIND_CHANNEL
         3 001146   000000 011000                    NOP     0

     4960     2212    4              IF NUM_CHANS > 0

   2212  3 001147   201541 235100                    LDA     NUM_CHANS,,AUTO
         3 001150   001203 600000 3                  TZE     s:2214

     4961     2213    4              THEN CALL THW$WRITE(CONFIG_SC,VECTOR(TD_HEAD.DEVNAME(J)),VECTOR(CHANS));

   2213  3 001151   000011 235000 4                  LDA     9
         3 001152   201762 452500                    STP2    CHAR3+2,,AUTO
         3 001153   201553 236100                    LDQ     J,,AUTO
         3 001154   000023 736000                    QLS     19
         3 001155   000024 036003                    ADLQ    20,DU
         3 001156   201762 036100                    ADLQ    CHAR3+2,,AUTO
         3 001157   201764 757100                    STAQ    CHAR3+4,,AUTO
         3 001160   000012 235000 4                  LDA     10
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:953  
         3 001161   201766 452500                    STP2    CHAR3+6,,AUTO
         3 001162   201766 236100                    LDQ     CHAR3+6,,AUTO
         3 001163   001542 036003                    ADLQ    866,DU
         3 001164   201772 757100                    STAQ    CHAR3+10,,AUTO
         3 001165   201764 237100                    LDAQ    CHAR3+4,,AUTO
         3 001166   201770 757100                    STAQ    CHAR3+8,,AUTO
         3 001167   201772 237100                    LDAQ    CHAR3+10,,AUTO
         3 001170   201774 757100                    STAQ    CHAR3+12,,AUTO
         3 001171   201774 630500                    EPPR0   CHAR3+12,,AUTO
         3 001172   202000 450500                    STP0    CHAR3+16,,AUTO
         3 001173   201770 631500                    EPPR1   CHAR3+8,,AUTO
         3 001174   201777 451500                    STP1    CHAR3+15,,AUTO
         3 001175   000014 236000 4                  LDQ     12
         3 001176   201776 756100                    STQ     CHAR3+14,,AUTO
         3 001177   201776 630500                    EPPR0   CHAR3+14,,AUTO
         3 001200   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001201   000000 701000 xent               TSX1    THW$WRITE
         3 001202   000000 011000                    NOP     0

     4962     2214    4           END;                            /* DO J                               */

   2214  3 001203   201553 054100                    AOS     J,,AUTO
         3 001204   201553 236100                    LDQ     J,,AUTO
         3 001205   201666 116100                    CMPQ    LAST_SC,,AUTO
         3 001206   001135 604400 3                  TMOZ    s:2211

     4963     2215    3        END;                               /* DO I                               */

   2215  3 001207   201552 054100                    AOS     I,,AUTO
         3 001210   201552 236100                    LDQ     I,,AUTO
         3 001211   201662 116100                    CMPQ    LAST_IOM,,AUTO
         3 001212   000751 604400 3                  TMOZ    s:2189

     4964     2216    2     NEXT:
     4965     2217    2        END;                             /* DO WHILE II                           */

   2217  3 001213   201670 236100       NEXT         LDQ     II,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:954  
         3 001214   000017 604000 3                  TMI     s:2023
         3 001215   000000 116000 xsym               CMPQ    TH_NUM_REP_DEVS
         3 001216   000017 602000 3                  TNC     s:2023

     4966     2218    1        RETURN;

   2218  3 001217   000000 702200 xent               TSX2  ! X66_ARET

     4967     2219        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:955  
     4968     2220       /* THIS PROCEDURE RETURNS THE IOM CHANNEL NUMBERS THAT A GIVEN DEVICE IS CONNECTED T
              2220        O */
     4969     2221    1   FIND_CHANNEL: PROC(DEVNAME,NUM,CHANS);

   2221  3 001220   201752 741300       FIND_CHANNEL STX1  ! REVBUF+2,,AUTO

     4970     2222        /**/
     4971     2223        /* PARAMS */
     4972     2224    2   DCL DEVNAME CHAR(8);
     4973     2225    2   DCL NUM UBIN WORD;
     4974     2226    2   DCL CHANS(0:7) UBIN WORD;
     4975     2227        /**/
     4976     2228        /* LOCAL VARS */
     4977     2229    2   DCL I UBIN;
     4978     2230        /**/
     4979     2231    2        NUM = 0;

   2231  3 001221   201754 470500                    LDP0    @NUM,,AUTO
         3 001222   000000 450100                    STZ     0,,PR0

     4980     2232    2        CHANS = '0'B;

   2232  3 001223   201755 471500                    LDP1    @CHANS,,AUTO
         3 001224   000100 100400                    MLR     fill='000'O
         3 001225   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         3 001226   100000 000040                    ADSC9   0,,PR1                   cn=0,n=32

     4981     2233    3        DO I = 0 TO %N_MAXCHANS-1;         /* DO ALL CHANNELS OF CURRENT IOM     */

   2233  3 001227   201756 450100                    STZ     I,,AUTO
         3 001230   001253 710000 3                  TRA     s:2240+3

     4982     2234    3           IF IOMREC.DEVNAME(I) = DEVNAME

   2234  3 001231   201756 235100                    LDA     I,,AUTO
         3 001232   000003 735000                    ALS     3
         3 001233   201753 470500                    LDP0    @DEVNAME,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:956  
         3 001234   040100 106505                    CMPC    fill='040'O
         3 001235   200646 000010                    ADSC9   IOMREC,A,AUTO            cn=0,n=8
         3 001236   000000 000010                    ADSC9   0,,PR0                   cn=0,n=8
         3 001237   001250 601000 3                  TNZ     s:2240

     4983     2235    3              THEN                         /* FOUND IT                           */
     4984     2236    4              DO;

     4985     2237    4                 NUM = NUM + 1;

   2237  3 001240   201754 471500                    LDP1    @NUM,,AUTO
         3 001241   100000 235100                    LDA     0,,PR1
         3 001242   000001 035007                    ADLA    1,DL
         3 001243   100000 755100                    STA     0,,PR1

     4986     2238    4                 CHANS(NUM - 1) = I;

   2238  3 001244   100000 720100                    LXL0    0,,PR1
         3 001245   201755 473500                    LDP3    @CHANS,,AUTO
         3 001246   201756 236100                    LDQ     I,,AUTO
         3 001247   377777 756110                    STQ     -1,X0,PR3

     4987     2239    4              END;                         /* IF                                 */

     4988     2240    3        END;                               /* DO I                               */

   2240  3 001250   201756 235100                    LDA     I,,AUTO
         3 001251   000001 035007                    ADLA    1,DL
         3 001252   201756 755100                    STA     I,,AUTO
         3 001253   201756 235100                    LDA     I,,AUTO
         3 001254   000200 115007                    CMPA    128,DL
         3 001255   001231 602000 3                  TNC     s:2234

     4989     2241    2        RETURN;

   2241  3 001256   201752 221300                    LDX1  ! REVBUF+2,,AUTO
         3 001257   000001 702211                    TSX2  ! 1,X1
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:957  

     4990     2242    2   END FIND_CHANNEL;
     4991     2243        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:958  
     4992     2244        /* THIS PROCEDURE OUTPUTS MPC INFO AND DEVICE INFO FOR ALL DEVICES CONNECTED TO THE
              2244        GIVEN MPC */
     4993     2245    1   OUTPUT_MPC: PROC(INDX,MPC_TYPE);

   2245  3 001260   201676 741300       OUTPUT_MPC   STX1  ! C_CODE+1,,AUTO

     4994     2246        /**/
     4995     2247        /* PARAMS */
     4996     2248    2   DCL 1 INDX ALIGNED,
     4997     2249    2         2 FIRST UBIN HALF UNAL,
     4998     2250    2         2 NUM UBIN HALF UNAL;
     4999     2251    2   DCL MPC_TYPE UBIN WORD;
     5000     2252        /**/
     5001     2253        /* LOCAL VARS */
     5002     2254    2   DCL FIRST UBIN HALF;
     5003     2255    2   DCL LAST UBIN HALF;
     5004     2256    2   DCL I UBIN;
     5005     2257    2   DCL J UBIN;
     5006     2258    2   DCL NUM_XBARS SBIN;
     5007     2259    2   DCL XBARS(0:10) UBIN WORD;
     5008     2260    2   DCL FOUND BIT(1);
     5009     2261    2   DCL XBAR_INDX UBIN WORD;
     5010     2262    2   DCL XBAR_FMT CHAR(0) CONSTANT INIT('
     5011     2263    2   %25-crossbarred with%10P');
     5012     2264        /**/
     5013     2265        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:959  
     5014     2266    2        FIRST = INDX.FIRST;

   2266  3 001261   201677 470500                    LDP0    @INDX,,AUTO
         3 001262   000000 220100                    LDX0    0,,PR0
         3 001263   201701 740100                    STX0    FIRST,,AUTO

     5015     2267    2        LAST = INDX.FIRST + INDX.NUM - 1;

   2267  3 001264   000000 236100                    LDQ     0,,PR0
         3 001265   777777 376007                    ANQ     -1,DL
         3 001266   201762 756100                    STQ     CHAR3+2,,AUTO
         3 001267   000000 236100                    LDQ     0,,PR0
         3 001270   000022 772000                    QRL     18
         3 001271   201762 036100                    ADLQ    CHAR3+2,,AUTO
         3 001272   777777 622006                    EAX2    -1,QL
         3 001273   201702 742100                    STX2    LAST,,AUTO

     5016     2268    2        NUM_XBARS = 0;

   2268  3 001274   201705 450100                    STZ     NUM_XBARS,,AUTO

     5017     2269    3        DO I = FIRST TO LAST;

   2269  3 001275   201701 235100                    LDA     FIRST,,AUTO
         3 001276   000022 771000                    ARL     18
         3 001277   201703 755100                    STA     I,,AUTO
         3 001300   001402 710000 3                  TRA     ENDLOOP+3

     5018     2270                                 /* CHECK IF THIS MPC HAS ALREADY BEEN DEALT WITH     */
     5019     2271    4           DO J = 0 TO NUM_XBARS - 1;

   2271  3 001301   201704 450100                    STZ     J,,AUTO
         3 001302   001312 710000 3                  TRA     s:2274+3

     5020     2272    4              IF I = XBARS(J)

   2272  3 001303   201704 720100                    LXL0    J,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:960  
         3 001304   201703 236100                    LDQ     I,,AUTO
         3 001305   201706 116110                    CMPQ    XBARS,X0,AUTO
         3 001306   001377 600000 3                  TZE     ENDLOOP

     5021     2273    4                 THEN GOTO ENDLOOP;
     5022     2274    4           END;                            /* DO J                               */

   2274  3 001307   201704 235100                    LDA     J,,AUTO
         3 001310   000001 035007                    ADLA    1,DL
         3 001311   201704 755100                    STA     J,,AUTO
         3 001312   201704 236100                    LDQ     J,,AUTO
         3 001313   001316 604000 3                  TMI     s:2275
         3 001314   201705 116100                    CMPQ    NUM_XBARS,,AUTO
         3 001315   001303 604000 3                  TMI     s:2272

     5023     2275    3           CALL MPC_HDR(TD_HEAD.DEVNAME(I)) ALTRET(ENDLOOP);

   2275  3 001316   201703 235100                    LDA     I,,AUTO
         3 001317   000001 735000                    ALS     1
         3 001320   200024 630505                    EPPR0   TD_HEAD+16,AL,AUTO
         3 001321   201725 450500                    STP0    XBAR_INDX+3,,AUTO
         3 001322   001410 701000 3                  TSX1    MPC_HDR
         3 001323   001377 702000 3                  TSX2    ENDLOOP

     5024     2276    3           IF MPC_TYPE = 3

   2276  3 001324   201700 470500                    LDP0    @MPC_TYPE,,AUTO
         3 001325   000000 235100                    LDA     0,,PR0
         3 001326   000003 115007                    CMPA    3,DL
         3 001327   001356 601000 3                  TNZ     NO_XBAR

     5025     2277    3              THEN                         /* DC                                 */
     5026     2278    4              DO;

     5027     2279    4                 CALL XBAR(I,LAST,XBAR_INDX) ALTRET(NO_XBAR);

   2279  3 001330   201722 631500                    EPPR1   XBAR_INDX,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:961  
         3 001331   201727 451500                    STP1    @LAST+1,,AUTO
         3 001332   201702 633500                    EPPR3   LAST,,AUTO
         3 001333   201726 453500                    STP3    @MPC_INDX+1,,AUTO
         3 001334   201703 634500                    EPPR4   I,,AUTO
         3 001335   201725 454500                    STP4    XBAR_INDX+3,,AUTO
         3 001336   002532 701000 3                  TSX1    XBAR
         3 001337   001356 702000 3                  TSX2    NO_XBAR

     5028     2280    4                 CALL THW$WRITE(VECTOR(XBAR_FMT));

   2280  3 001340   000020 630400 4                  EPPR0   16
         3 001341   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 001342   000000 701000 xent               TSX1    THW$WRITE
         3 001343   000000 011000                    NOP     0

     5029     2281    4                 CALL MPC_HDR(TD_HEAD.DEVNAME(XBAR_INDX));

   2281  3 001344   201722 235100                    LDA     XBAR_INDX,,AUTO
         3 001345   000001 735000                    ALS     1
         3 001346   200024 630505                    EPPR0   TD_HEAD+16,AL,AUTO
         3 001347   201725 450500                    STP0    XBAR_INDX+3,,AUTO
         3 001350   001410 701000 3                  TSX1    MPC_HDR
         3 001351   000000 011000                    NOP     0

     5030     2282    4                 XBARS(NUM_XBARS) = XBAR_INDX;

   2282  3 001352   201705 720100                    LXL0    NUM_XBARS,,AUTO
         3 001353   201722 235100                    LDA     XBAR_INDX,,AUTO
         3 001354   201706 755110                    STA     XBARS,X0,AUTO

     5031     2283    4                 NUM_XBARS = NUM_XBARS + 1;

   2283  3 001355   201705 054100                    AOS     NUM_XBARS,,AUTO

     5032     2284    4              END;                         /* IF DC                              */

     5033     2285    3     NO_XBAR:
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:962  
     5034     2286    3           DEV_FLG = %FALSE;

   2286  3 001356   201673 450100       NO_XBAR      STZ     DEV_FLG,,AUTO

     5035     2287    3           CALL MPC_DEVICES(TD_HEAD.DEVNAME(I),MPC_TYPE,0,0,DEV_FLG);

   2287  3 001357   201673 630500                    EPPR0   DEV_FLG,,AUTO
         3 001360   201731 450500                    STP0    J+1,,AUTO
         3 001361   000021 236000 4                  LDQ     17
         3 001362   201730 756100                    STQ     @XBAR_INDX+1,,AUTO
         3 001363   201700 235100                    LDA     @MPC_TYPE,,AUTO
         3 001364   201726 757100                    STAQ    @MPC_INDX+1,,AUTO
         3 001365   201703 235100                    LDA     I,,AUTO
         3 001366   000001 735000                    ALS     1
         3 001367   200024 631505                    EPPR1   TD_HEAD+16,AL,AUTO
         3 001370   201725 451500                    STP1    XBAR_INDX+3,,AUTO
         3 001371   002063 701000 3                  TSX1    MPC_DEVICES
         3 001372   000000 011000                    NOP     0

     5036     2288    3           CALL THW$WRITE(VECTOR(BLANK_LINE));

   2288  3 001373   000010 630400 4                  EPPR0   8
         3 001374   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 001375   000000 701000 xent               TSX1    THW$WRITE
         3 001376   000000 011000                    NOP     0

     5037     2289    3       ENDLOOP:
     5038     2290    3        END;                               /* DO I                               */

   2290  3 001377   201703 235100       ENDLOOP      LDA     I,,AUTO
         3 001400   000001 035007                    ADLA    1,DL
         3 001401   201703 755100                    STA     I,,AUTO
         3 001402   201702 236100                    LDQ     LAST,,AUTO
         3 001403   000022 772000                    QRL     18
         3 001404   201703 116100                    CMPQ    I,,AUTO
         3 001405   001301 603000 3                  TRC     s:2271

PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:963  
     5039     2291    2        RETURN;

   2291  3 001406   201676 221300                    LDX1  ! C_CODE+1,,AUTO
         3 001407   000001 702211                    TSX2  ! 1,X1

     5040     2292    2   END OUTPUT_MPC;
     5041     2293        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:964  
     5042     2294    1   MPC_HDR: PROC(MPC_NAME) ALTRET;

   2294  3 001410   201724 741300       MPC_HDR      STX1  ! XBAR_INDX+2,,AUTO

     5043     2295        /**/
     5044     2296        /* PARAMS */
     5045     2297    2   DCL MPC_NAME CHAR(8);
     5046     2298    2   DCL TMP_NAME CHAR(8);
     5047     2299        /**/
     5048     2300        /* LOCAL VARS */
     5049     2301    2   DCL RANGE_FLAG BIT(1);
     5050     2302    2   DCL BUF_CNT UBIN WORD;
     5051     2303    2   DCL LEN UBIN WORD;
     5052     2304    2   DCL CHAN_BUF CHAR(40);
     5053     2305    2   DCL CHAN CHAR(3);
     5054     2306    2   DCL LAST_CHAN UBIN WORD;
     5055     2307    2   DCL J UBIN;
     5056     2308    2   DCL REVBUF CHAR(8);
     5057     2309        /**/
     5058     2310        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:965  
     5059     2311    2        CHAN_BUF = ' ';

   2311  3 001411   040100 100400                    MLR     fill='040'O
         3 001412   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 001413   201733 000050                    ADSC9   CHAN_BUF,,AUTO           cn=0,n=40

     5060     2312    2        BUF_CNT = 0;

   2312  3 001414   201731 450100                    STZ     BUF_CNT,,AUTO

     5061     2313    2        TEXT$ = ADDR(TEXTBUF);

   2313  3 001415   201556 630500                    EPPR0   TEXTBUF,,AUTO
         3 001416   201656 450500                    STP0    TEXT$,,AUTO

     5062     2314    2        CALL THG$GETREC(%CONFIG,MPC_NAME);

   2314  3 001417   201725 236100                    LDQ     @MPC_NAME,,AUTO
         3 001420   000000 235000 4                  LDA     0
         3 001421   201762 757100                    STAQ    CHAR3+2,,AUTO
         3 001422   201762 630500                    EPPR0   CHAR3+2,,AUTO
         3 001423   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 001424   000000 701000 xent               TSX1    THG$GETREC
         3 001425   000000 011000                    NOP     0

     5063     2315    2        MPCREC = TH_RECORD.PTR$->TD$MPC;

   2315  3 001426   000001 470400 xsym               LDP0    TH_RECORD+1
         3 001427   000100 100500                    MLR     fill='000'O
         3 001430   000000 000504                    ADSC9   0,,PR0                   cn=0,n=324
         3 001431   201257 000504                    ADSC9   MPCREC,,AUTO             cn=0,n=324

     5064     2316    2        CALL THF$ADD_TEXTC(TEXT$,MPCREC.FWNAME,4);

   2316  3 001432   000022 236000 4                  LDQ     18
         3 001433   201764 756100                    STQ     CHAR3+4,,AUTO
         3 001434   201272 631500                    EPPR1   MPCREC+11,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:966  
         3 001435   201763 451500                    STP1    CHAR3+3,,AUTO
         3 001436   201656 633500                    EPPR3   TEXT$,,AUTO
         3 001437   201762 453500                    STP3    CHAR3+2,,AUTO
         3 001440   201762 630500                    EPPR0   CHAR3+2,,AUTO
         3 001441   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001442   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 001443   000000 011000                    NOP     0

     5065     2317    2        CALL THF$ADD_TEXTC(TEXT$,MPCREC.LPFWNAME,4);

   2317  3 001444   000022 236000 4                  LDQ     18
         3 001445   201764 756100                    STQ     CHAR3+4,,AUTO
         3 001446   201273 630500                    EPPR0   MPCREC+12,,AUTO
         3 001447   201763 450500                    STP0    CHAR3+3,,AUTO
         3 001450   201656 631500                    EPPR1   TEXT$,,AUTO
         3 001451   201762 451500                    STP1    CHAR3+2,,AUTO
         3 001452   201762 630500                    EPPR0   CHAR3+2,,AUTO
         3 001453   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001454   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 001455   000000 011000                    NOP     0

     5066     2318    2        CALL THF$ADD_TEXTC(TEXT$,MPCREC.CRPFWNAME,4);

   2318  3 001456   000022 236000 4                  LDQ     18
         3 001457   201764 756100                    STQ     CHAR3+4,,AUTO
         3 001460   201274 630500                    EPPR0   MPCREC+13,,AUTO
         3 001461   201763 450500                    STP0    CHAR3+3,,AUTO
         3 001462   201656 631500                    EPPR1   TEXT$,,AUTO
         3 001463   201762 451500                    STP1    CHAR3+2,,AUTO
         3 001464   201762 630500                    EPPR0   CHAR3+2,,AUTO
         3 001465   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001466   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 001467   000000 011000                    NOP     0

     5067     2319    3        IF MPCREC.FWREV.LETTER ~= ' ' THEN DO;

   2319  3 001470   201275 236100                    LDQ     MPCREC+14,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:967  
         3 001471   777000 376003                    ANQ     -512,DU
         3 001472   040000 116003                    CMPQ    16384,DU
         3 001473   001522 600000 3                  TZE     s:2324

     5068     2320    3           CALL INSERT(REVBUF,0,,'(rev ',MPCREC.FWREV.LETTER,MPCREC.FWREV.SUBREV,')');

   2320  3 001474   040100 100400                    MLR     fill='040'O
         3 001475   001130 000005 1                  ADSC9   XBAR_FMT+24              cn=0,n=5
         3 001476   201750 000005                    ADSC9   REVBUF,,AUTO             cn=0,n=5
         3 001477   201275 236100                    LDQ     MPCREC+14,,AUTO
         3 001500   000011 772000                    QRL     9
         3 001501   201751 552120                    STBQ    REVBUF+1,'20'O,AUTO
         3 001502   201275 236100                    LDQ     MPCREC+14,,AUTO
         3 001503   000011 772000                    QRL     9
         3 001504   201751 552110                    STBQ    REVBUF+1,'10'O,AUTO
         3 001505   000051 236007                    LDQ     41,DL
         3 001506   201751 552104                    STBQ    REVBUF+1,'04'O,AUTO

     5069     2321    3           CALL THF$ADD_TEXTC(TEXT$,REVBUF,8);

   2321  3 001507   000023 236000 4                  LDQ     19
         3 001510   201764 756100                    STQ     CHAR3+4,,AUTO
         3 001511   201750 630500                    EPPR0   REVBUF,,AUTO
         3 001512   201763 450500                    STP0    CHAR3+3,,AUTO
         3 001513   201656 631500                    EPPR1   TEXT$,,AUTO
         3 001514   201762 451500                    STP1    CHAR3+2,,AUTO
         3 001515   201762 630500                    EPPR0   CHAR3+2,,AUTO
         3 001516   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001517   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 001520   000000 011000                    NOP     0

     5070     2322    3           END;  /* IF */

   2322  3 001521   001534 710000 3                  TRA     s:2326

     5071     2323    3        ELSE DO;

PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:968  
     5072     2324    3           CALL THF$ADD_TEXTC(TEXT$,' ',1);

   2324  3 001522   000024 236000 4                  LDQ     20
         3 001523   201764 756100                    STQ     CHAR3+4,,AUTO
         3 001524   000002 236000 4                  LDQ     2
         3 001525   201763 756100                    STQ     CHAR3+3,,AUTO
         3 001526   201656 630500                    EPPR0   TEXT$,,AUTO
         3 001527   201762 450500                    STP0    CHAR3+2,,AUTO
         3 001530   201762 630500                    EPPR0   CHAR3+2,,AUTO
         3 001531   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001532   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 001533   000000 011000                    NOP     0

     5073     2325    3           END;  /* ELSE */

     5074     2326    2        IF SUBSTR(MPC_NAME,0,2) = 'OP'  THEN

   2326  3 001534   201725 470500                    LDP0    @MPC_NAME,,AUTO
         3 001535   040000 106500                    CMPC    fill='040'O
         3 001536   000000 000002                    ADSC9   0,,PR0                   cn=0,n=2
         3 001537   001117 000002 1                  ADSC9   XBAR_FMT+15              cn=0,n=2
         3 001540   001551 601000 3                  TNZ     s:2329

     5075     2327    2           CALL CONCAT(TMP_NAME,'FEP',SUBSTR(MPC_NAME,2,2));  /* TMP == OPC here  */

   2327  3 001541   001132 236000 1                  LDQ     XBAR_FMT+26
         3 001542   000003 376000 4                  ANQ     3
         3 001543   000040 276007                    ORQ     32,DL
         3 001544   201726 756100                    STQ     TMP_NAME,,AUTO
         3 001545   040100 100500                    MLR     fill='040'O
         3 001546   000000 400002                    ADSC9   0,,PR0                   cn=2,n=2
         3 001547   201726 600005                    ADSC9   TMP_NAME,,AUTO           cn=3,n=5
         3 001550   001554 710000 3                  TRA     s:2330

     5076     2328    2        ELSE
     5077     2329    2           TMP_NAME = MPC_NAME;                               /* TMP == MPC here  */

PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:969  
   2329  3 001551   040100 100500                    MLR     fill='040'O
         3 001552   000000 000010                    ADSC9   0,,PR0                   cn=0,n=8
         3 001553   201726 000010                    ADSC9   TMP_NAME,,AUTO           cn=0,n=8

     5078     2330    2        CALL FIND_CHANNEL(TMP_NAME,NUM_CHANS,CHANS);

   2330  3 001554   201542 630500                    EPPR0   CHANS,,AUTO
         3 001555   201755 450500                    STP0    @CHANS,,AUTO
         3 001556   201541 631500                    EPPR1   NUM_CHANS,,AUTO
         3 001557   201754 451500                    STP1    @NUM,,AUTO
         3 001560   201726 633500                    EPPR3   TMP_NAME,,AUTO
         3 001561   201753 453500                    STP3    @DEVNAME,,AUTO
         3 001562   001220 701000 3                  TSX1    FIND_CHANNEL
         3 001563   000000 011000                    NOP     0

     5079     2331    2        IF NUM_CHANS = 0 THEN ALTRETURN;

   2331  3 001564   201541 235100                    LDA     NUM_CHANS,,AUTO
         3 001565   001570 601000 3                  TNZ     s:2332

   2331  3 001566   201724 221300                    LDX1  ! XBAR_INDX+2,,AUTO
         3 001567   000000 702211                    TSX2  ! 0,X1

     5080     2332    2        RANGE_FLAG = %FALSE;

   2332  3 001570   201730 450100                    STZ     RANGE_FLAG,,AUTO

     5081     2333    2        CALL MY_BINCHAR(CHANS(0),CHAN,LEN);

   2333  3 001571   201732 630500                    EPPR0   LEN,,AUTO
         3 001572   201755 450500                    STP0    @CHANS,,AUTO
         3 001573   201745 631500                    EPPR1   CHAN,,AUTO
         3 001574   201754 451500                    STP1    @NUM,,AUTO
         3 001575   201542 633500                    EPPR3   CHANS,,AUTO
         3 001576   201753 453500                    STP3    @DEVNAME,,AUTO
         3 001577   002621 701000 3                  TSX1    MY_BINCHAR
         3 001600   000000 011000                    NOP     0
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:970  

     5082     2334    2        CALL INSERT(CHAN_BUF,BUF_CNT,LEN,CHAN);

   2334  3 001601   201732 720100                    LXL0    LEN,,AUTO
         3 001602   201731 235100                    LDA     BUF_CNT,,AUTO
         3 001603   040145 100500                    MLR     fill='040'O
         3 001604   201745 000003                    ADSC9   CHAN,,AUTO               cn=0,n=3
         3 001605   201733 000010                    ADSC9   CHAN_BUF,A,AUTO          cn=0,n=*X0

     5083     2335    2        BUF_CNT = BUF_CNT + LEN;

   2335  3 001606   201731 236100                    LDQ     BUF_CNT,,AUTO
         3 001607   201732 036100                    ADLQ    LEN,,AUTO
         3 001610   201731 756100                    STQ     BUF_CNT,,AUTO

     5084     2336    2        LAST_CHAN = CHANS(0);

   2336  3 001611   201542 235100                    LDA     CHANS,,AUTO
         3 001612   201746 755100                    STA     LAST_CHAN,,AUTO

     5085     2337    3        DO J = 1 TO NUM_CHANS - 1;

   2337  3 001613   000001 235007                    LDA     1,DL
         3 001614   201747 755100                    STA     J,,AUTO
         3 001615   001716 710000 3                  TRA     s:2359+3

     5086     2338    3           IF CHANS(J) = LAST_CHAN + 1

   2338  3 001616   201747 720100                    LXL0    J,,AUTO
         3 001617   201746 236100                    LDQ     LAST_CHAN,,AUTO
         3 001620   000001 036007                    ADLQ    1,DL
         3 001621   201542 116110                    CMPQ    CHANS,X0,AUTO
         3 001622   001626 601000 3                  TNZ     s:2342

     5087     2339    3              THEN RANGE_FLAG = %TRUE;

   2339  3 001623   400000 236003                    LDQ     -131072,DU
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:971  
         3 001624   201730 756100                    STQ     RANGE_FLAG,,AUTO
         3 001625   001710 710000 3                  TRA     s:2358

     5088     2340    3              ELSE
     5089     2341    4              DO;

     5090     2342    4                 IF RANGE_FLAG

   2342  3 001626   201730 234100                    SZN     RANGE_FLAG,,AUTO
         3 001627   001660 605000 3                  TPL     s:2352

     5091     2343    4                    THEN
     5092     2344    5                    DO;

     5093     2345    5                       RANGE_FLAG = %FALSE;

   2345  3 001630   201730 450100                    STZ     RANGE_FLAG,,AUTO

     5094     2346    5                       CALL INSERT(CHAN_BUF,BUF_CNT,1,'-');

   2346  3 001631   201731 235100                    LDA     BUF_CNT,,AUTO
         3 001632   040105 100400                    MLR     fill='040'O
         3 001633   000025 000001 4                  ADSC9   21                       cn=0,n=1
         3 001634   201733 000001                    ADSC9   CHAN_BUF,A,AUTO          cn=0,n=1

     5095     2347    5                       BUF_CNT = BUF_CNT + 1;

   2347  3 001635   201731 235100                    LDA     BUF_CNT,,AUTO
         3 001636   000001 035007                    ADLA    1,DL
         3 001637   201731 755100                    STA     BUF_CNT,,AUTO

     5096     2348    5                       CALL MY_BINCHAR(LAST_CHAN,CHAN,LEN);

   2348  3 001640   201732 630500                    EPPR0   LEN,,AUTO
         3 001641   201755 450500                    STP0    @CHANS,,AUTO
         3 001642   201745 631500                    EPPR1   CHAN,,AUTO
         3 001643   201754 451500                    STP1    @NUM,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:972  
         3 001644   201746 633500                    EPPR3   LAST_CHAN,,AUTO
         3 001645   201753 453500                    STP3    @DEVNAME,,AUTO
         3 001646   002621 701000 3                  TSX1    MY_BINCHAR
         3 001647   000000 011000                    NOP     0

     5097     2349    5                       CALL INSERT(CHAN_BUF,BUF_CNT,LEN,CHAN);

   2349  3 001650   201732 720100                    LXL0    LEN,,AUTO
         3 001651   201731 235100                    LDA     BUF_CNT,,AUTO
         3 001652   040145 100500                    MLR     fill='040'O
         3 001653   201745 000003                    ADSC9   CHAN,,AUTO               cn=0,n=3
         3 001654   201733 000010                    ADSC9   CHAN_BUF,A,AUTO          cn=0,n=*X0

     5098     2350    5                       BUF_CNT = BUF_CNT + LEN;

   2350  3 001655   201731 236100                    LDQ     BUF_CNT,,AUTO
         3 001656   201732 036100                    ADLQ    LEN,,AUTO
         3 001657   201731 756100                    STQ     BUF_CNT,,AUTO

     5099     2351    5                    END;                   /* IF RANGE_FLAG                      */

     5100     2352    4                 CALL INSERT(CHAN_BUF,BUF_CNT,1,',');

   2352  3 001660   201731 235100                    LDA     BUF_CNT,,AUTO
         3 001661   040105 100400                    MLR     fill='040'O
         3 001662   000026 000001 4                  ADSC9   22                       cn=0,n=1
         3 001663   201733 000001                    ADSC9   CHAN_BUF,A,AUTO          cn=0,n=1

     5101     2353    4                 BUF_CNT = BUF_CNT + 1;

   2353  3 001664   201731 235100                    LDA     BUF_CNT,,AUTO
         3 001665   000001 035007                    ADLA    1,DL
         3 001666   201731 755100                    STA     BUF_CNT,,AUTO

     5102     2354    4                 CALL MY_BINCHAR(CHANS(J),CHAN,LEN);

   2354  3 001667   201732 630500                    EPPR0   LEN,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:973  
         3 001670   201755 450500                    STP0    @CHANS,,AUTO
         3 001671   201745 631500                    EPPR1   CHAN,,AUTO
         3 001672   201754 451500                    STP1    @NUM,,AUTO
         3 001673   201747 720100                    LXL0    J,,AUTO
         3 001674   201542 633510                    EPPR3   CHANS,X0,AUTO
         3 001675   201753 453500                    STP3    @DEVNAME,,AUTO
         3 001676   002621 701000 3                  TSX1    MY_BINCHAR
         3 001677   000000 011000                    NOP     0

     5103     2355    4                 CALL INSERT(CHAN_BUF,BUF_CNT,LEN,CHAN);

   2355  3 001700   201732 720100                    LXL0    LEN,,AUTO
         3 001701   201731 235100                    LDA     BUF_CNT,,AUTO
         3 001702   040145 100500                    MLR     fill='040'O
         3 001703   201745 000003                    ADSC9   CHAN,,AUTO               cn=0,n=3
         3 001704   201733 000010                    ADSC9   CHAN_BUF,A,AUTO          cn=0,n=*X0

     5104     2356    4                 BUF_CNT = BUF_CNT + LEN;

   2356  3 001705   201731 236100                    LDQ     BUF_CNT,,AUTO
         3 001706   201732 036100                    ADLQ    LEN,,AUTO
         3 001707   201731 756100                    STQ     BUF_CNT,,AUTO

     5105     2357    4              END;                         /* IF CHANS(J) -1 = LAST_CHAN         */

     5106     2358    3           LAST_CHAN = CHANS(J);

   2358  3 001710   201747 720100                    LXL0    J,,AUTO
         3 001711   201542 235110                    LDA     CHANS,X0,AUTO
         3 001712   201746 755100                    STA     LAST_CHAN,,AUTO

     5107     2359    3        END;                               /* DO J                               */

   2359  3 001713   201747 236100                    LDQ     J,,AUTO
         3 001714   000001 036007                    ADLQ    1,DL
         3 001715   201747 756100                    STQ     J,,AUTO
         3 001716   201747 236100                    LDQ     J,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:974  
         3 001717   201541 116100                    CMPQ    NUM_CHANS,,AUTO
         3 001720   001616 602000 3                  TNC     s:2338

     5108     2360    2        IF RANGE_FLAG

   2360  3 001721   201730 234100                    SZN     RANGE_FLAG,,AUTO
         3 001722   001752 605000 3                  TPL     s:2369

     5109     2361    2           THEN
     5110     2362    3           DO;

     5111     2363    3              CALL INSERT(CHAN_BUF,BUF_CNT,1,'-');

   2363  3 001723   201731 235100                    LDA     BUF_CNT,,AUTO
         3 001724   040105 100400                    MLR     fill='040'O
         3 001725   000025 000001 4                  ADSC9   21                       cn=0,n=1
         3 001726   201733 000001                    ADSC9   CHAN_BUF,A,AUTO          cn=0,n=1

     5112     2364    3              BUF_CNT = BUF_CNT + 1;

   2364  3 001727   201731 235100                    LDA     BUF_CNT,,AUTO
         3 001730   000001 035007                    ADLA    1,DL
         3 001731   201731 755100                    STA     BUF_CNT,,AUTO

     5113     2365    3              CALL MY_BINCHAR(LAST_CHAN,CHAN,LEN);

   2365  3 001732   201732 630500                    EPPR0   LEN,,AUTO
         3 001733   201755 450500                    STP0    @CHANS,,AUTO
         3 001734   201745 631500                    EPPR1   CHAN,,AUTO
         3 001735   201754 451500                    STP1    @NUM,,AUTO
         3 001736   201746 633500                    EPPR3   LAST_CHAN,,AUTO
         3 001737   201753 453500                    STP3    @DEVNAME,,AUTO
         3 001740   002621 701000 3                  TSX1    MY_BINCHAR
         3 001741   000000 011000                    NOP     0

     5114     2366    3              CALL INSERT(CHAN_BUF,BUF_CNT,LEN,CHAN);

PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:975  
   2366  3 001742   201732 720100                    LXL0    LEN,,AUTO
         3 001743   201731 235100                    LDA     BUF_CNT,,AUTO
         3 001744   040145 100500                    MLR     fill='040'O
         3 001745   201745 000003                    ADSC9   CHAN,,AUTO               cn=0,n=3
         3 001746   201733 000010                    ADSC9   CHAN_BUF,A,AUTO          cn=0,n=*X0

     5115     2367    3              BUF_CNT = BUF_CNT + LEN;

   2367  3 001747   201731 236100                    LDQ     BUF_CNT,,AUTO
         3 001750   201732 036100                    ADLQ    LEN,,AUTO
         3 001751   201731 756100                    STQ     BUF_CNT,,AUTO

     5116     2368    3           END;

     5117     2369    2        CALL THF$ADD_TEXTC(TEXT$,CHAN_BUF,BUF_CNT);

   2369  3 001752   201731 630500                    EPPR0   BUF_CNT,,AUTO
         3 001753   201764 450500                    STP0    CHAR3+4,,AUTO
         3 001754   201733 631500                    EPPR1   CHAN_BUF,,AUTO
         3 001755   201763 451500                    STP1    CHAR3+3,,AUTO
         3 001756   201656 633500                    EPPR3   TEXT$,,AUTO
         3 001757   201762 453500                    STP3    CHAR3+2,,AUTO
         3 001760   201762 630500                    EPPR0   CHAR3+2,,AUTO
         3 001761   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001762   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 001763   000000 011000                    NOP     0

     5118     2370    2        TVEC = VECTOR(TEXTBUF);

   2370  3 001764   000027 235000 4                  LDA     23
         3 001765   201762 452500                    STP2    CHAR3+2,,AUTO
         3 001766   201762 236100                    LDQ     CHAR3+2,,AUTO
         3 001767   001556 036003                    ADLQ    878,DU
         3 001770   201554 757100                    STAQ    TVEC,,AUTO

     5119     2371    2        TVEC.BOUND = POFFC(TEXT$,ADDR(TEXTBUF)) - 1;

PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:976  
   2371  3 001771   201762 452500                    STP2    CHAR3+2,,AUTO
         3 001772   201762 236100                    LDQ     CHAR3+2,,AUTO
         3 001773   001556 036003                    ADLQ    878,DU
         3 001774   000020 772000                    QRL     16
         3 001775   201763 756100                    STQ     CHAR3+3,,AUTO
         3 001776   201656 236100                    LDQ     TEXT$,,AUTO
         3 001777   000020 772000                    QRL     16
         3 002000   201763 136100                    SBLQ    CHAR3+3,,AUTO
         3 002001   000001 136007                    SBLQ    1,DL
         3 002002   000020 736000                    QLS     16
         3 002003   201554 676100                    ERQ     TVEC,,AUTO
         3 002004   000034 376000 xsym               ANQ     B_VECTNIL+28
         3 002005   201554 656100                    ERSQ    TVEC,,AUTO

     5120     2372    2        IF SUBSTR(MPC_NAME,0,2) = 'OP'  THEN

   2372  3 002006   201725 470500                    LDP0    @MPC_NAME,,AUTO
         3 002007   040000 106500                    CMPC    fill='040'O
         3 002010   000000 000002                    ADSC9   0,,PR0                   cn=0,n=2
         3 002011   001117 000002 1                  ADSC9   XBAR_FMT+15              cn=0,n=2
         3 002012   002044 601000 3                  TNZ     s:2375

     5121     2373    2           CALL THW$WRITE(CONFIG_OPC,VECTOR(TMP_NAME),VECTOR(CHANS));

   2373  3 002013   000011 235000 4                  LDA     9
         3 002014   201762 452500                    STP2    CHAR3+2,,AUTO
         3 002015   201762 236100                    LDQ     CHAR3+2,,AUTO
         3 002016   001726 036003                    ADLQ    982,DU
         3 002017   201764 757100                    STAQ    CHAR3+4,,AUTO
         3 002020   000012 235000 4                  LDA     10
         3 002021   201766 452500                    STP2    CHAR3+6,,AUTO
         3 002022   201766 236100                    LDQ     CHAR3+6,,AUTO
         3 002023   001542 036003                    ADLQ    866,DU
         3 002024   201772 757100                    STAQ    CHAR3+10,,AUTO
         3 002025   201764 237100                    LDAQ    CHAR3+4,,AUTO
         3 002026   201770 757100                    STAQ    CHAR3+8,,AUTO
         3 002027   201772 237100                    LDAQ    CHAR3+10,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:977  
         3 002030   201774 757100                    STAQ    CHAR3+12,,AUTO
         3 002031   201774 631500                    EPPR1   CHAR3+12,,AUTO
         3 002032   202000 451500                    STP1    CHAR3+16,,AUTO
         3 002033   201770 633500                    EPPR3   CHAR3+8,,AUTO
         3 002034   201777 453500                    STP3    CHAR3+15,,AUTO
         3 002035   000030 236000 4                  LDQ     24
         3 002036   201776 756100                    STQ     CHAR3+14,,AUTO
         3 002037   201776 630500                    EPPR0   CHAR3+14,,AUTO
         3 002040   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 002041   000000 701000 xent               TSX1    THW$WRITE
         3 002042   000000 011000                    NOP     0
         3 002043   002061 710000 3                  TRA     s:2376

     5122     2374    2        ELSE
     5123     2375    2           CALL THW$WRITE(CONFIG_MPC,VECTOR(MPC_NAME),TVEC);

   2375  3 002044   000011 235000 4                  LDA     9
         3 002045   201725 236100                    LDQ     @MPC_NAME,,AUTO
         3 002046   201762 757100                    STAQ    CHAR3+2,,AUTO
         3 002047   201554 631500                    EPPR1   TVEC,,AUTO
         3 002050   201766 451500                    STP1    CHAR3+6,,AUTO
         3 002051   201762 633500                    EPPR3   CHAR3+2,,AUTO
         3 002052   201765 453500                    STP3    CHAR3+5,,AUTO
         3 002053   000031 236000 4                  LDQ     25
         3 002054   201764 756100                    STQ     CHAR3+4,,AUTO
         3 002055   201764 630500                    EPPR0   CHAR3+4,,AUTO
         3 002056   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 002057   000000 701000 xent               TSX1    THW$WRITE
         3 002060   000000 011000                    NOP     0

     5124     2376    2        RETURN;

   2376  3 002061   201724 221300                    LDX1  ! XBAR_INDX+2,,AUTO
         3 002062   000001 702211                    TSX2  ! 1,X1

     5125     2377    2   END MPC_HDR;
     5126     2378        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:978  
     5127     2379    1   MPC_DEVICES: PROC(MPC_NAME,MPC_TYPE,ST,SP,DEV_FLG);

   2379  3 002063   201724 741300       MPC_DEVICES  STX1  ! XBAR_INDX+2,,AUTO

     5128     2380        /**/
     5129     2381        /* PARAMS */
     5130     2382    2   DCL MPC_NAME CHAR(8);
     5131     2383    2   DCL MPC_TYPE UBIN WORD;
     5132     2384    2   DCL ST SBIN;
     5133     2385    2   DCL SP SBIN;
     5134     2386    2   DCL DEV_FLG BIT(1) ALIGNED;
     5135     2387        /**/
     5136     2388        /* LOCAL VARS */
     5137     2389    2   DCL ATTR_BUF CHAR(256) STATIC INIT(' ');
     5138     2390    2   DCL TEXT CHAR(32) STATIC INIT(' ');
     5139     2391    2   DCL I UBIN WORD;
     5140     2392    2   DCL J UBIN WORD;
     5141     2393    2   DCL K UBIN WORD;
     5142     2394    2   DCL STRT UBIN WORD;
     5143     2395    2   DCL LEN UBIN WORD;
     5144     2396    2   DCL OUTPUT_ATTRS UBIN WORD;
     5145     2397    2   DCL START SBIN;
     5146     2398    2   DCL STOP SBIN;
     5147     2399    2   DCL TH_AP_ATTR_FLG BIT(1) STATIC SYMDEF INIT('0'B);
     5148     2400        /**/
     5149     2401        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:979  
     5150     2402    2        IF DEV_FLG

   2402  3 002064   201731 470500                    LDP0    @DEV_FLG,,AUTO
         3 002065   000000 234100                    SZN     0,,PR0
         3 002066   002076 605000 3                  TPL     s:2408

     5151     2403    3           THEN DO;

     5152     2404    3              START = ST;

   2404  3 002067   201727 471500                    LDP1    @ST,,AUTO
         3 002070   100000 235100                    LDA     0,,PR1
         3 002071   201740 755100                    STA     START,,AUTO

     5153     2405    3              STOP = SP;

   2405  3 002072   201730 473500                    LDP3    @SP,,AUTO
         3 002073   300000 235100                    LDA     0,,PR3
         3 002074   201741 755100                    STA     STOP,,AUTO

     5154     2406    3           END;

   2406  3 002075   002103 710000 3                  TRA     s:2411

     5155     2407    3           ELSE DO;

     5156     2408    3              START = 0;

   2408  3 002076   201740 450100                    STZ     START,,AUTO

     5157     2409    3              STOP = MPCREC.NUMDEVS - 1;

   2409  3 002077   201271 235100                    LDA     MPCREC+10,,AUTO
         3 002100   000022 771000                    ARL     18
         3 002101   000001 135007                    SBLA    1,DL
         3 002102   201741 755100                    STA     STOP,,AUTO

PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:980  
     5158     2410    3           END;

     5159     2411    3        DO J = START TO STOP;

   2411  3 002103   201740 236100                    LDQ     START,,AUTO
         3 002104   201733 756100                    STQ     J,,AUTO
         3 002105   002524 710000 3                  TRA     NO_DEVICE+3

     5160     2412    3           TEXT$ = ADDR(TEXTBUF);

   2412  3 002106   201556 630500                    EPPR0   TEXTBUF,,AUTO
         3 002107   201656 450500                    STP0    TEXT$,,AUTO

     5161     2413    3           IF DEV_FLG

   2413  3 002110   201731 471500                    LDP1    @DEV_FLG,,AUTO
         3 002111   100000 234100                    SZN     0,,PR1
         3 002112   002125 605000 3                  TPL     s:2417

     5162     2414    3              THEN
     5163     2415    3                 CALL THG$GETREC(%CONFIG,TH_REP_DEVS(J))  ALTRET(NO_DEVICE);

   2415  3 002113   201733 236100                    LDQ     J,,AUTO
         3 002114   000023 736000                    QLS     19
         3 002115   000032 036000 4                  ADLQ    26
         3 002116   000000 235000 4                  LDA     0
         3 002117   201762 757100                    STAQ    CHAR3+2,,AUTO
         3 002120   201762 630500                    EPPR0   CHAR3+2,,AUTO
         3 002121   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 002122   000000 701000 xent               TSX1    THG$GETREC
         3 002123   002521 702000 3                  TSX2    NO_DEVICE
         3 002124   002137 710000 3                  TRA     s:2418

     5164     2416    3              ELSE
     5165     2417    3                 CALL THG$GETREC(%CONFIG,MPCREC.DEVNAME(J));

   2417  3 002125   201733 235100                    LDA     J,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:981  
         3 002126   000001 735000                    ALS     1
         3 002127   201276 633505                    EPPR3   MPCREC+15,AL,AUTO
         3 002130   201763 453500                    STP3    CHAR3+3,,AUTO
         3 002131   000000 236000 4                  LDQ     0
         3 002132   201762 756100                    STQ     CHAR3+2,,AUTO
         3 002133   201762 630500                    EPPR0   CHAR3+2,,AUTO
         3 002134   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 002135   000000 701000 xent               TSX1    THG$GETREC
         3 002136   000000 011000                    NOP     0

     5166     2418    3           DEVREC = TH_RECORD.PTR$->TD$DEV;

   2418  3 002137   000001 470400 xsym               LDP0    TH_RECORD+1
         3 002140   000100 100500                    MLR     fill='000'O
         3 002141   000000 000054                    ADSC9   0,,PR0                   cn=0,n=44
         3 002142   201521 000054                    ADSC9   DEVREC,,AUTO             cn=0,n=44

     5167     2419
     5168     2420                                                /* STUFF ATTR INFO INTO TEXTBUF       */
     5169     2421    3           STRT = 0;

   2421  3 002143   201735 450100                    STZ     STRT,,AUTO

     5170     2422    3           OUTPUT_ATTRS = 0;

   2422  3 002144   201737 450100                    STZ     OUTPUT_ATTRS,,AUTO

     5171     2423    3           IF(SUBSTR(MPCREC.DEVNAME(J),0,2)='AC')

   2423  3 002145   201733 235100                    LDA     J,,AUTO
         3 002146   000001 735000                    ALS     1
         3 002147   201276 220105                    LDX0    MPCREC+15,AL,AUTO
         3 002150   001116 100000 1                  CMPX0   XBAR_FMT+14
         3 002151   002162 601000 3                  TNZ     s:2427

     5172     2424    4           THEN DO; CALL THW$WRITE(VECTOR(BLANK_LINE));

PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:982  
   2424  3 002152   000010 630400 4                  EPPR0   8
         3 002153   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 002154   000000 701000 xent               TSX1    THW$WRITE
         3 002155   000000 011000                    NOP     0

     5173     2425    4             CALL THW$WRITE(CONFIG_APC);

   2425  3 002156   000033 630400 4                  EPPR0   27
         3 002157   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 002160   000000 701000 xent               TSX1    THW$WRITE
         3 002161   000000 011000                    NOP     0

     5174     2426    4           END; /* if devname = 'AC' */

     5175     2427    4           DO K = 0 TO NUM_ATTRS(MPC_TYPE) - 1;

   2427  3 002162   201734 450100                    STZ     K,,AUTO
         3 002163   002365 710000 3                  TRA     s:2474+3

     5176     2428    4              IF(SUBSTR(MPCREC.DEVNAME(J),0,2)='AP')

   2428  3 002164   201733 235100                    LDA     J,,AUTO
         3 002165   000001 735000                    ALS     1
         3 002166   201276 220105                    LDX0    MPCREC+15,AL,AUTO
         3 002167   001120 100000 1                  CMPX0   XBAR_FMT+16
         3 002170   002310 601000 3                  TNZ     s:2460
         3 002171   000151 234000 2                  SZN     TH_AP_ATTR_FLG
         3 002172   002310 604000 3                  TMI     s:2460

     5177     2429    4              AND(NOT TH_AP_ATTR_FLG)
     5178     2430    5              THEN DO;

     5179     2431    5                 OUTPUT_ATTRS = OUTPUT_ATTRS + 1;

   2431  3 002173   201737 236100                    LDQ     OUTPUT_ATTRS,,AUTO
         3 002174   000001 036007                    ADLQ    1,DL
         3 002175   201737 756100                    STQ     OUTPUT_ATTRS,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:983  

     5180     2432    6                 IF(AP_ATTR_TBL$->ATTR$TBL.ATTR(0) & DEVREC.ATTR) THEN DO;

   2432  3 002176   201532 721100                    LXL1    DEVREC+9,,AUTO
         3 002177   000040 470400 2                  LDP0    AP_ATTR_TBL$
         3 002200   000000 361100                    ANX1    0,,PR0
         3 002201   002212 600000 3                  TZE     s:2437

     5181     2433    6                    TEXT = AP_ATTR_TBL$->ATTR$TBL.TEXT(0);

   2433  3 002202   040000 100500                    MLR     fill='040'O
         3 002203   000000 600040                    ADSC9   0,,PR0                   cn=3,n=32
         3 002204   000141 000040 2                  ADSC9   TEXT                     cn=0,n=32

     5182     2434    6                    LEN = AP_ATTR_TBL$->ATTR$TBL.LEN(0);

   2434  3 002205   000000 236100                    LDQ     0,,PR0
         3 002206   000011 772000                    QRL     9
         3 002207   000777 376007                    ANQ     511,DL
         3 002210   201736 756100                    STQ     LEN,,AUTO

     5183     2435    6                 END;

   2435  3 002211   002221 710000 3                  TRA     s:2440

     5184     2436    6                 ELSE DO; /* ELSE ATTR$TBL.ATTR(0) ~& DEVREC.ATTR */

     5185     2437    6                    TEXT = AP_ATTR_TBL$->ATTR$TBL.TEXT(1);

   2437  3 002212   040000 100500                    MLR     fill='040'O
         3 002213   000011 600040                    ADSC9   9,,PR0                   cn=3,n=32
         3 002214   000141 000040 2                  ADSC9   TEXT                     cn=0,n=32

     5186     2438    6                    LEN = AP_ATTR_TBL$->ATTR$TBL.LEN(1);

   2438  3 002215   000011 236100                    LDQ     9,,PR0
         3 002216   000011 772000                    QRL     9
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:984  
         3 002217   000777 376007                    ANQ     511,DL
         3 002220   201736 756100                    STQ     LEN,,AUTO

     5187     2439    6                 END;

     5188     2440    5                 CALL INSERT(ATTR_BUF,STRT,LEN,TEXT);

   2440  3 002221   000000 621006                    EAX1    0,QL
         3 002222   201735 236100                    LDQ     STRT,,AUTO
         3 002223   040046 100400                    MLR     fill='040'O
         3 002224   000141 000040 2                  ADSC9   TEXT                     cn=0,n=32
         3 002225   000041 000011 2                  ADSC9   ATTR_BUF,Q               cn=0,n=*X1

     5189     2441    5                 STRT = STRT + LEN;

   2441  3 002226   201736 036100                    ADLQ    LEN,,AUTO
         3 002227   201735 756100                    STQ     STRT,,AUTO

     5190     2442    5                 I = 2;

   2442  3 002230   000002 235007                    LDA     2,DL
         3 002231   201732 755100                    STA     I,,AUTO

     5191     2443    6                 DO WHILE (I <= 9)AND(NOT TH_AP_ATTR_FLG);

   2443  3 002232   002304 710000 3                  TRA     s:2458

     5192     2444    6                    IF(AP_ATTR_TBL$->ATTR$TBL.ATTR(I) & DEVREC.ATTR)

   2444  3 002233   201532 720100                    LXL0    DEVREC+9,,AUTO
         3 002234   201732 236100                    LDQ     I,,AUTO
         3 002235   000011 402007                    MPY     9,DL
         3 002236   000040 470400 2                  LDP0    AP_ATTR_TBL$
         3 002237   000000 360106                    ANX0    0,QL,PR0
         3 002240   002301 600000 3                  TZE     s:2457

     5193     2445    7                    THEN DO;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:985  

     5194     2446    7                      TH_AP_ATTR_FLG = %TRUE;

   2446  3 002241   400000 236003                    LDQ     -131072,DU
         3 002242   000151 756000 2                  STQ     TH_AP_ATTR_FLG

     5195     2447    7                      OUTPUT_ATTRS = OUTPUT_ATTRS + 1;

   2447  3 002243   201737 235100                    LDA     OUTPUT_ATTRS,,AUTO
         3 002244   000001 035007                    ADLA    1,DL
         3 002245   201737 755100                    STA     OUTPUT_ATTRS,,AUTO

     5196     2448    8                      IF OUTPUT_ATTRS > 1 THEN DO;

   2448  3 002246   000002 115007                    CMPA    2,DL
         3 002247   002256 602000 3                  TNC     s:2452

     5197     2449    8                         CALL INSERT(ATTR_BUF,STRT,2,', ');

   2449  3 002250   201735 235100                    LDA     STRT,,AUTO
         3 002251   040005 100400                    MLR     fill='040'O
         3 002252   001133 000002 1                  ADSC9   XBAR_FMT+27              cn=0,n=2
         3 002253   000041 000002 2                  ADSC9   ATTR_BUF,A               cn=0,n=2

     5198     2450    8                         STRT = STRT + 2;

   2450  3 002254   000002 035007                    ADLA    2,DL
         3 002255   201735 755100                    STA     STRT,,AUTO

     5199     2451    8                      END;

     5200     2452    7                      TEXT = AP_ATTR_TBL$->ATTR$TBL.TEXT(I);

   2452  3 002256   201732 236100                    LDQ     I,,AUTO
         3 002257   000044 402007                    MPY     36,DL
         3 002260   040000 100506                    MLR     fill='040'O
         3 002261   000000 600040                    ADSC9   0,Q,PR0                  cn=3,n=32
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:986  
         3 002262   000141 000040 2                  ADSC9   TEXT                     cn=0,n=32

     5201     2453    7                      LEN = AP_ATTR_TBL$->ATTR$TBL.LEN(I);

   2453  3 002263   201732 236100                    LDQ     I,,AUTO
         3 002264   000011 402007                    MPY     9,DL
         3 002265   000000 236106                    LDQ     0,QL,PR0
         3 002266   000011 772000                    QRL     9
         3 002267   000777 376007                    ANQ     511,DL
         3 002270   201736 756100                    STQ     LEN,,AUTO

     5202     2454    7                      CALL INSERT(ATTR_BUF,STRT,LEN,TEXT);

   2454  3 002271   000000 620006                    EAX0    0,QL
         3 002272   201735 235100                    LDA     STRT,,AUTO
         3 002273   040045 100400                    MLR     fill='040'O
         3 002274   000141 000040 2                  ADSC9   TEXT                     cn=0,n=32
         3 002275   000041 000010 2                  ADSC9   ATTR_BUF,A               cn=0,n=*X0

     5203     2455    7                      STRT = STRT + LEN;

   2455  3 002276   201735 236100                    LDQ     STRT,,AUTO
         3 002277   201736 036100                    ADLQ    LEN,,AUTO
         3 002300   201735 756100                    STQ     STRT,,AUTO

     5204     2456    7                    END;  /* IF ATTR$TBL.ATTR(I) & DEVREC.ATTR */

     5205     2457    6                 I = I + 1;

   2457  3 002301   201732 235100                    LDA     I,,AUTO
         3 002302   000001 035007                    ADLA    1,DL
         3 002303   201732 755100                    STA     I,,AUTO

     5206     2458    6                 END; /* do while I <= 9 and not th_ap_attr_flg */

   2458  3 002304   000012 115007                    CMPA    10,DL
         3 002305   002310 603000 3                  TRC     s:2460
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:987  
         3 002306   000151 234000 2                  SZN     TH_AP_ATTR_FLG
         3 002307   002233 605000 3                  TPL     s:2444

     5207     2459    5              END;    /* IF 'AP' AND NOT TH_AP_ATTR_FLG */

     5208     2460    4                 IF(ATTR$TBL$(MPC_TYPE)->ATTR$TBL.ATTR(K) & DEVREC.ATTR)

   2460  3 002310   201726 470500                    LDP0    @MPC_TYPE,,AUTO
         3 002311   000000 720100                    LXL0    0,,PR0
         3 002312   000032 471410 2                  LDP1    ATTR$TBL$,X0
         3 002313   201532 721100                    LXL1    DEVREC+9,,AUTO
         3 002314   201734 236100                    LDQ     K,,AUTO
         3 002315   000011 402007                    MPY     9,DL
         3 002316   100000 361106                    ANX1    0,QL,PR1
         3 002317   002362 600000 3                  TZE     s:2474
         3 002320   000151 234000 2                  SZN     TH_AP_ATTR_FLG
         3 002321   002362 604000 3                  TMI     s:2474

     5209     2461    5                 AND(NOT TH_AP_ATTR_FLG)THEN DO;

     5210     2462    5                    OUTPUT_ATTRS = OUTPUT_ATTRS + 1;

   2462  3 002322   201737 235100                    LDA     OUTPUT_ATTRS,,AUTO
         3 002323   000001 035007                    ADLA    1,DL
         3 002324   201737 755100                    STA     OUTPUT_ATTRS,,AUTO

     5211     2463    5                    IF OUTPUT_ATTRS > 1

   2463  3 002325   000002 115007                    CMPA    2,DL
         3 002326   002335 602000 3                  TNC     s:2469

     5212     2464    5                       THEN                /* STUFF A COMMA                      */
     5213     2465    6                       DO;

     5214     2466    6                          CALL INSERT(ATTR_BUF,STRT,2,', ');

   2466  3 002327   201735 235100                    LDA     STRT,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:988  
         3 002330   040005 100400                    MLR     fill='040'O
         3 002331   001133 000002 1                  ADSC9   XBAR_FMT+27              cn=0,n=2
         3 002332   000041 000002 2                  ADSC9   ATTR_BUF,A               cn=0,n=2

     5215     2467    6                          STRT = STRT + 2;

   2467  3 002333   000002 035007                    ADLA    2,DL
         3 002334   201735 755100                    STA     STRT,,AUTO

     5216     2468    6                       END;                /* IF OUTPUT_ATTRS > 1                */

     5217     2469    5                    TEXT = ATTR$TBL$(MPC_TYPE)->ATTR$TBL.TEXT(K);

   2469  3 002335   000000 720100                    LXL0    0,,PR0
         3 002336   000032 471410 2                  LDP1    ATTR$TBL$,X0
         3 002337   201734 236100                    LDQ     K,,AUTO
         3 002340   000044 402007                    MPY     36,DL
         3 002341   040000 100506                    MLR     fill='040'O
         3 002342   100000 600040                    ADSC9   0,Q,PR1                  cn=3,n=32
         3 002343   000141 000040 2                  ADSC9   TEXT                     cn=0,n=32

     5218     2470    5                    LEN = ATTR$TBL$(MPC_TYPE)->ATTR$TBL.LEN(K);

   2470  3 002344   201734 236100                    LDQ     K,,AUTO
         3 002345   000011 402007                    MPY     9,DL
         3 002346   100000 236106                    LDQ     0,QL,PR1
         3 002347   000011 772000                    QRL     9
         3 002350   000777 376007                    ANQ     511,DL
         3 002351   201736 756100                    STQ     LEN,,AUTO

     5219     2471    5                    CALL INSERT(ATTR_BUF,STRT,LEN,TEXT);

   2471  3 002352   000000 621006                    EAX1    0,QL
         3 002353   201735 235100                    LDA     STRT,,AUTO
         3 002354   040045 100400                    MLR     fill='040'O
         3 002355   000141 000040 2                  ADSC9   TEXT                     cn=0,n=32
         3 002356   000041 000011 2                  ADSC9   ATTR_BUF,A               cn=0,n=*X1
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:989  

     5220     2472    5                    STRT = STRT + LEN;

   2472  3 002357   201735 236100                    LDQ     STRT,,AUTO
         3 002360   201736 036100                    ADLQ    LEN,,AUTO
         3 002361   201735 756100                    STQ     STRT,,AUTO

     5221     2473    5                 END;                      /* IF                                 */

     5222     2474    4           END;                            /* DO K                               */

   2474  3 002362   201734 235100                    LDA     K,,AUTO
         3 002363   000001 035007                    ADLA    1,DL
         3 002364   201734 755100                    STA     K,,AUTO
         3 002365   201726 470500                    LDP0    @MPC_TYPE,,AUTO
         3 002366   000000 720100                    LXL0    0,,PR0
         3 002367   201734 236100                    LDQ     K,,AUTO
         3 002370   001072 116010 1                  CMPQ    NUM_ATTRS,X0
         3 002371   002164 602000 3                  TNC     s:2428

     5223     2475    3           TH_AP_ATTR_FLG = %FALSE;  /* reset flag */

   2475  3 002372   000151 450000 2                  STZ     TH_AP_ATTR_FLG

     5224     2476    3           CALL THF$ADD_TEXTC(TEXT$,ATTR_BUF,STRT);

   2476  3 002373   201735 631500                    EPPR1   STRT,,AUTO
         3 002374   201764 451500                    STP1    CHAR3+4,,AUTO
         3 002375   000034 236000 4                  LDQ     28
         3 002376   201763 756100                    STQ     CHAR3+3,,AUTO
         3 002377   201656 633500                    EPPR3   TEXT$,,AUTO
         3 002400   201762 453500                    STP3    CHAR3+2,,AUTO
         3 002401   201762 630500                    EPPR0   CHAR3+2,,AUTO
         3 002402   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 002403   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 002404   000000 011000                    NOP     0

PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:990  
     5225     2477    3           TVEC = VECTOR(TEXTBUF);

   2477  3 002405   000027 235000 4                  LDA     23
         3 002406   201762 452500                    STP2    CHAR3+2,,AUTO
         3 002407   201762 236100                    LDQ     CHAR3+2,,AUTO
         3 002410   001556 036003                    ADLQ    878,DU
         3 002411   201554 757100                    STAQ    TVEC,,AUTO

     5226     2478    3           TVEC.BOUND = POFFC(TEXT$,ADDR(TEXTBUF)) - 1;

   2478  3 002412   201762 452500                    STP2    CHAR3+2,,AUTO
         3 002413   201762 236100                    LDQ     CHAR3+2,,AUTO
         3 002414   001556 036003                    ADLQ    878,DU
         3 002415   000020 772000                    QRL     16
         3 002416   201763 756100                    STQ     CHAR3+3,,AUTO
         3 002417   201656 236100                    LDQ     TEXT$,,AUTO
         3 002420   000020 772000                    QRL     16
         3 002421   201763 136100                    SBLQ    CHAR3+3,,AUTO
         3 002422   000001 136007                    SBLQ    1,DL
         3 002423   000020 736000                    QLS     16
         3 002424   201554 676100                    ERQ     TVEC,,AUTO
         3 002425   000034 376000 xsym               ANQ     B_VECTNIL+28
         3 002426   201554 656100                    ERSQ    TVEC,,AUTO

     5227     2479    3           IF DEV_FLG

   2479  3 002427   201731 470500                    LDP0    @DEV_FLG,,AUTO
         3 002430   000000 234100                    SZN     0,,PR0
         3 002431   002465 605000 3                  TPL     s:2483

     5228     2480    3              THEN
     5229     2481    3           CALL THW$WRITE(CONFIG_DEV,VECTOR(TH_REP_DEVS(J)),VECTOR(DEVREC),TVEC);

   2481  3 002432   000011 235000 4                  LDA     9
         3 002433   201733 236100                    LDQ     J,,AUTO
         3 002434   000023 736000                    QLS     19
         3 002435   000032 036000 4                  ADLQ    26
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:991  
         3 002436   201762 757100                    STAQ    CHAR3+2,,AUTO
         3 002437   000035 235000 4                  LDA     29
         3 002440   201764 452500                    STP2    CHAR3+4,,AUTO
         3 002441   201764 236100                    LDQ     CHAR3+4,,AUTO
         3 002442   001521 036003                    ADLQ    849,DU
         3 002443   201770 757100                    STAQ    CHAR3+8,,AUTO
         3 002444   201762 237100                    LDAQ    CHAR3+2,,AUTO
         3 002445   201766 757100                    STAQ    CHAR3+6,,AUTO
         3 002446   201770 237100                    LDAQ    CHAR3+8,,AUTO
         3 002447   201772 757100                    STAQ    CHAR3+10,,AUTO
         3 002450   201554 631500                    EPPR1   TVEC,,AUTO
         3 002451   201777 451500                    STP1    CHAR3+15,,AUTO
         3 002452   201772 633500                    EPPR3   CHAR3+10,,AUTO
         3 002453   201776 453500                    STP3    CHAR3+14,,AUTO
         3 002454   201766 634500                    EPPR4   CHAR3+6,,AUTO
         3 002455   201775 454500                    STP4    CHAR3+13,,AUTO
         3 002456   000036 236000 4                  LDQ     30
         3 002457   201774 756100                    STQ     CHAR3+12,,AUTO
         3 002460   201774 630500                    EPPR0   CHAR3+12,,AUTO
         3 002461   000022 631400 xsym               EPPR1   B_VECTNIL+18
         3 002462   000000 701000 xent               TSX1    THW$WRITE
         3 002463   000000 011000                    NOP     0
         3 002464   002521 710000 3                  TRA     NO_DEVICE

     5230     2482    3              ELSE
     5231     2483    3           CALL THW$WRITE(CONFIG_DEV,VECTOR(MPCREC.DEVNAME(J)),VECTOR(DEVREC),TVEC);

   2483  3 002465   000011 235000 4                  LDA     9
         3 002466   201762 452500                    STP2    CHAR3+2,,AUTO
         3 002467   201733 236100                    LDQ     J,,AUTO
         3 002470   000023 736000                    QLS     19
         3 002471   001276 036003                    ADLQ    702,DU
         3 002472   201762 036100                    ADLQ    CHAR3+2,,AUTO
         3 002473   201764 757100                    STAQ    CHAR3+4,,AUTO
         3 002474   000035 235000 4                  LDA     29
         3 002475   201766 452500                    STP2    CHAR3+6,,AUTO
         3 002476   201766 236100                    LDQ     CHAR3+6,,AUTO
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:992  
         3 002477   001521 036003                    ADLQ    849,DU
         3 002500   201772 757100                    STAQ    CHAR3+10,,AUTO
         3 002501   201764 237100                    LDAQ    CHAR3+4,,AUTO
         3 002502   201770 757100                    STAQ    CHAR3+8,,AUTO
         3 002503   201772 237100                    LDAQ    CHAR3+10,,AUTO
         3 002504   201774 757100                    STAQ    CHAR3+12,,AUTO
         3 002505   201554 631500                    EPPR1   TVEC,,AUTO
         3 002506   202001 451500                    STP1    CHAR3+17,,AUTO
         3 002507   201774 633500                    EPPR3   CHAR3+12,,AUTO
         3 002510   202000 453500                    STP3    CHAR3+16,,AUTO
         3 002511   201770 634500                    EPPR4   CHAR3+8,,AUTO
         3 002512   201777 454500                    STP4    CHAR3+15,,AUTO
         3 002513   000036 236000 4                  LDQ     30
         3 002514   201776 756100                    STQ     CHAR3+14,,AUTO
         3 002515   201776 630500                    EPPR0   CHAR3+14,,AUTO
         3 002516   000022 631400 xsym               EPPR1   B_VECTNIL+18
         3 002517   000000 701000 xent               TSX1    THW$WRITE
         3 002520   000000 011000                    NOP     0

     5232     2484    3   NO_DEVICE:
     5233     2485    3        END;                               /* DO J                               */

   2485  3 002521   201733 235100       NO_DEVICE    LDA     J,,AUTO
         3 002522   000001 035007                    ADLA    1,DL
         3 002523   201733 755100                    STA     J,,AUTO
         3 002524   201733 236100                    LDQ     J,,AUTO
         3 002525   002530 604000 3                  TMI     s:2486
         3 002526   201741 116100                    CMPQ    STOP,,AUTO
         3 002527   002106 604400 3                  TMOZ    s:2412

     5234     2486    2        RETURN;

   2486  3 002530   201724 221300                    LDX1  ! XBAR_INDX+2,,AUTO
         3 002531   000001 702211                    TSX2  ! 1,X1

     5235     2487    2   END MPC_DEVICES;
     5236     2488        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:993  
     5237     2489    1   XBAR: PROC(MPC_INDX,LAST,XBAR_INDX) ALTRET;

   2489  3 002532   201724 741300       XBAR         STX1  ! XBAR_INDX+2,,AUTO

     5238     2490        /**/
     5239     2491        /* PARAMS */
     5240     2492    2   DCL MPC_INDX UBIN WORD;
     5241     2493    2   DCL LAST UBIN HALF;
     5242     2494    2   DCL XBAR_INDX UBIN WORD;
     5243     2495        /**/
     5244     2496        /* LOCAL VARS */
     5245     2497    2   DCL J UBIN;
     5246     2498        /**/
     5247     2499    2        CALL THG$GETREC(%CONFIG,TD_HEAD.DEVNAME(MPC_INDX));

   2499  3 002533   201725 470500                    LDP0    @MPC_INDX,,AUTO
         3 002534   000000 720100                    LXL0    0,,PR0
         3 002535   000000 635010                    EAA     0,X0
         3 002536   000021 771000                    ARL     17
         3 002537   200024 631505                    EPPR1   TD_HEAD+16,AL,AUTO
         3 002540   201763 451500                    STP1    CHAR3+3,,AUTO
         3 002541   000000 236000 4                  LDQ     0
         3 002542   201762 756100                    STQ     CHAR3+2,,AUTO
         3 002543   201762 630500                    EPPR0   CHAR3+2,,AUTO
         3 002544   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 002545   000000 701000 xent               TSX1    THG$GETREC
         3 002546   000000 011000                    NOP     0

     5248     2500    2        MPCREC = TH_RECORD.PTR$->TD$MPC;

   2500  3 002547   000001 470400 xsym               LDP0    TH_RECORD+1
         3 002550   000100 100500                    MLR     fill='000'O
         3 002551   000000 000504                    ADSC9   0,,PR0                   cn=0,n=324
         3 002552   201257 000504                    ADSC9   MPCREC,,AUTO             cn=0,n=324

     5249     2501    3        DO J = MPC_INDX + 1 TO LAST;

PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:994  
   2501  3 002553   201725 471500                    LDP1    @MPC_INDX,,AUTO
         3 002554   100000 235100                    LDA     0,,PR1
         3 002555   000001 035007                    ADLA    1,DL
         3 002556   201730 755100                    STA     J,,AUTO
         3 002557   002612 710000 3                  TRA     s:2510+3

     5250     2502    3           CALL THG$GETREC(%CONFIG,TD_HEAD.DEVNAME(J));

   2502  3 002560   201730 235100                    LDA     J,,AUTO
         3 002561   000001 735000                    ALS     1
         3 002562   200024 630505                    EPPR0   TD_HEAD+16,AL,AUTO
         3 002563   201763 450500                    STP0    CHAR3+3,,AUTO
         3 002564   000000 236000 4                  LDQ     0
         3 002565   201762 756100                    STQ     CHAR3+2,,AUTO
         3 002566   201762 630500                    EPPR0   CHAR3+2,,AUTO
         3 002567   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 002570   000000 701000 xent               TSX1    THG$GETREC
         3 002571   000000 011000                    NOP     0

     5251     2503    3           MPCREC1 = TH_RECORD.PTR$->TD$MPC;

   2503  3 002572   000001 470400 xsym               LDP0    TH_RECORD+1
         3 002573   000100 100500                    MLR     fill='000'O
         3 002574   000000 000504                    ADSC9   0,,PR0                   cn=0,n=324
         3 002575   201400 000504                    ADSC9   MPCREC1,,AUTO            cn=0,n=324

     5252     2504    3           IF MPCREC.DEVNAME = MPCREC1.DEVNAME

   2504  3 002576   000100 106500                    CMPC    fill='000'O
         3 002577   201276 000410                    ADSC9   MPCREC+15,,AUTO          cn=0,n=264
         3 002600   201417 000410                    ADSC9   MPCREC1+15,,AUTO         cn=0,n=264
         3 002601   002607 601000 3                  TNZ     s:2510

     5253     2505    3              THEN                         /* XBAR WITH THIS ONE                 */
     5254     2506    4              DO;

     5255     2507    4                 XBAR_INDX = J;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:995  

   2507  3 002602   201727 471500                    LDP1    @XBAR_INDX,,AUTO
         3 002603   201730 235100                    LDA     J,,AUTO
         3 002604   100000 755100                    STA     0,,PR1

     5256     2508    4                 RETURN;

   2508  3 002605   201724 221300                    LDX1  ! XBAR_INDX+2,,AUTO
         3 002606   000001 702211                    TSX2  ! 1,X1

     5257     2509    4              END;                         /* IF                                 */
     5258     2510    3        END;                               /* DO J                               */

   2510  3 002607   201730 235100                    LDA     J,,AUTO
         3 002610   000001 035007                    ADLA    1,DL
         3 002611   201730 755100                    STA     J,,AUTO
         3 002612   201726 471500                    LDP1    @LAST,,AUTO
         3 002613   100000 236100                    LDQ     0,,PR1
         3 002614   000022 772000                    QRL     18
         3 002615   201730 116100                    CMPQ    J,,AUTO
         3 002616   002560 603000 3                  TRC     s:2502

     5259     2511    2        ALTRETURN;

   2511  3 002617   201724 221300                    LDX1  ! XBAR_INDX+2,,AUTO
         3 002620   000000 702211                    TSX2  ! 0,X1

     5260     2512    2   END XBAR;
     5261     2513        %EJECT;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:996  
     5262     2514    1   MY_BINCHAR: PROC(NUM,CHAN,LEN);

   2514  3 002621   201752 741300       MY_BINCHAR   STX1  ! REVBUF+2,,AUTO

     5263     2515        /**/
     5264     2516    2   DCL NUM UBIN WORD;
     5265     2517    2   DCL CHAN CHAR(3);
     5266     2518    2   DCL LEN UBIN;
     5267     2519        /**/
     5268     2520        /* LOCAL VARS */
     5269     2521    2   DCL CHAR1 CHAR(1);
     5270     2522    2   DCL CHAR2 CHAR(2);
     5271     2523    2   DCL CHAR3 CHAR(3);
     5272     2524        /**/
     5273     2525    2        IF NUM < 10

   2525  3 002622   201753 470500                    LDP0    @NUM,,AUTO
         3 002623   000000 235100                    LDA     0,,PR0
         3 002624   000012 115007                    CMPA    10,DL
         3 002625   002643 603000 3                  TRC     s:2532

     5274     2526    2           THEN
     5275     2527    3           DO;

     5276     2528    3              CALL BINCHAR(CHAR1,NUM);

   2528  3 002626   000044 773000                    LRL     36
         3 002627   201762 757100                    STAQ    CHAR3+2,,AUTO
         3 002630   000100 301500                    BTD
         3 002631   201762 000010                    NDSC9   CHAR3+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 002632   201756 030001                    NDSC9   CHAR1,,AUTO              cn=0,s=nosgn,sf=0,n=1

     5277     2529    3              CHAN = CHAR1;

   2529  3 002633   201754 471500                    LDP1    @CHAN,,AUTO
         3 002634   040100 100500                    MLR     fill='040'O
         3 002635   201756 000001                    ADSC9   CHAR1,,AUTO              cn=0,n=1
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:997  
         3 002636   100000 000003                    ADSC9   0,,PR1                   cn=0,n=3

     5278     2530    3              LEN = 1;

   2530  3 002637   000001 235007                    LDA     1,DL
         3 002640   201755 473500                    LDP3    @LEN,,AUTO
         3 002641   300000 755100                    STA     0,,PR3

     5279     2531    3           END;

   2531  3 002642   002676 710000 3                  TRA     s:2543

     5280     2532    2           ELSE IF NUM < 100

   2532  3 002643   000144 115007                    CMPA    100,DL
         3 002644   002662 603000 3                  TRC     s:2539

     5281     2533    3           THEN DO;

     5282     2534    3              CALL BINCHAR(CHAR2,NUM);

   2534  3 002645   000044 773000                    LRL     36
         3 002646   201762 757100                    STAQ    CHAR3+2,,AUTO
         3 002647   000100 301500                    BTD
         3 002650   201762 000010                    NDSC9   CHAR3+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 002651   201757 030002                    NDSC9   CHAR2,,AUTO              cn=0,s=nosgn,sf=0,n=2

     5283     2535    3              CHAN = CHAR2;

   2535  3 002652   201754 471500                    LDP1    @CHAN,,AUTO
         3 002653   040100 100500                    MLR     fill='040'O
         3 002654   201757 000002                    ADSC9   CHAR2,,AUTO              cn=0,n=2
         3 002655   100000 000003                    ADSC9   0,,PR1                   cn=0,n=3

     5284     2536    3              LEN = 2;

   2536  3 002656   000002 235007                    LDA     2,DL
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:998  
         3 002657   201755 473500                    LDP3    @LEN,,AUTO
         3 002660   300000 755100                    STA     0,,PR3

     5285     2537    3           END;

   2537  3 002661   002676 710000 3                  TRA     s:2543

     5286     2538    3           ELSE DO;

     5287     2539    3              CALL BINCHAR(CHAR3,NUM);

   2539  3 002662   000044 773000                    LRL     36
         3 002663   201762 757100                    STAQ    CHAR3+2,,AUTO
         3 002664   000100 301500                    BTD
         3 002665   201762 000010                    NDSC9   CHAR3+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
         3 002666   201760 030003                    NDSC9   CHAR3,,AUTO              cn=0,s=nosgn,sf=0,n=3

     5288     2540    3              CHAN = CHAR3;

   2540  3 002667   201754 471500                    LDP1    @CHAN,,AUTO
         3 002670   040100 100500                    MLR     fill='040'O
         3 002671   201760 000003                    ADSC9   CHAR3,,AUTO              cn=0,n=3
         3 002672   100000 000003                    ADSC9   0,,PR1                   cn=0,n=3

     5289     2541    3              LEN = 3;

   2541  3 002673   000003 235007                    LDA     3,DL
         3 002674   201755 473500                    LDP3    @LEN,,AUTO
         3 002675   300000 755100                    STA     0,,PR3

     5290     2542    3           END; /* else do */

     5291     2543    2        RETURN;

   2543  3 002676   201752 221300                    LDX1  ! REVBUF+2,,AUTO
         3 002677   000001 702211                    TSX2  ! 1,X1
     5292     2544    2   END MY_BINCHAR;
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:999  
     5293     2545    1   END THF$CONFIG;
     5294     2546        %EOD;

PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:1000 
--  Include file information  --

   NI$TABLES.:E05TOU  is referenced.
   IT_SUBS_C.:E05TOU  is referenced.
   TH_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   B_STRINGS_C.:E05TOU  is referenced.
   TH_SUBS_C.:E05TOU  is referenced.
   TD$STRUCT.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure THF$CONFIG.
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:1001 

 **** Variables and constants ****

  ****  Section 001 RoData THF$CONFIG

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/c CHAR(45)    r     1 APC_FMT                  564-0-0/w STRC(315)   r     1 AP_TBL(0:10)
     2-0-0/c CHAR(4)     r     1 BLANK_LINE               421-0-0/w STRC(315)   r     1 DC_TBL(0:10)
    53-0-0/c CHAR(70)    r     1 DEV_FMT                   75-0-0/c CHAR(26)    r     1 FEP_FMT
    17-0-0/c CHAR(24)    r     1 IOM_FMT                   25-0-0/c CHAR(53)    r     1 MPC_FMT
  1072-0-0/w UBIN        r     1 NUM_ATTRS(0:5)
   727-0-0/w STRC(315)   r     1 OD_TBL(0:10)              43-0-0/c CHAR(31)    r     1 OPC_FMT
   104-0-0/c CHAR(26)    r     1 SC_FMT                   256-0-0/w STRC(315)   r     1 TC_TBL(0:10)
   113-0-0/w STRC(315)   r     1 UC_TBL(0:10)            1100-0-0/c CHAR(24)    r     1 XBAR_FMT
     0-0-0/c CHAR(8)     r     1 ZERO

  ****  Section 002  Data  THF$CONFIG

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    40-0-0/w PTR         r     1 AP_ATTR_TBL$
    32-0-0/w PTR         r     1 ATTR$TBL$(0:5)
    41-0-0/c CHAR(256)   r     1 ATTR_BUF                  14-0-0/d BIT (72)    r     1 CONFIG_APC
    24-0-0/d BIT (72)    r     1 CONFIG_DEV                26-0-0/d BIT (72)    r     1 CONFIG_FEP
    16-0-0/d BIT (72)    r     1 CONFIG_IOM                20-0-0/d BIT (72)    r     1 CONFIG_MPC
    22-0-0/d BIT (72)    r     1 CONFIG_OPC                30-0-0/d BIT (72)    r     1 CONFIG_SC
     0-0-0/w UBIN        r     1 INDX_VEC(0:10)
   141-0-0/c CHAR(32)    r     1 TEXT                     151-0-0/b BIT         r     1 TH_AP_ATTR_FLG

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

  1754-0-0/w PTR         r     1 @CHAN                   1755-0-0/w PTR         r     1 @CHANS
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:1002 
     3-0-0/w PTR         r     1 @CODE                   1753-0-0/w PTR         r     1 @DEVNAME
  1731-0-0/w PTR         r     1 @DEV_FLG                1677-0-0/w PTR         r     1 @INDX
  1726-0-0/w PTR         r     1 @LAST                   1755-0-0/w PTR         r     1 @LEN
  1725-0-0/w PTR         r     1 @MPC_INDX               1725-0-0/w PTR         r     1 @MPC_NAME
  1725-0-0/w PTR         r     1 @MPC_NAME               1700-0-0/w PTR         r     1 @MPC_TYPE
  1726-0-0/w PTR         r     1 @MPC_TYPE               1754-0-0/w PTR         r     1 @NUM
  1753-0-0/w PTR         r     1 @NUM                    1730-0-0/w PTR         r     1 @SP
  1727-0-0/w PTR         r     1 @ST                     1727-0-0/w PTR         r     1 @XBAR_INDX
  1731-0-0/w UBIN        r     1 BUF_CNT                 1745-0-0/c CHAR(3)     r     1 CHAN
    *0-0-0/c CHAR(3)     r     1 CHAN                    1542-0-0/w UBIN        r     1 CHANS(0:7)
    *0-0-0/w UBIN        r     1 CHANS(0:7)              1733-0-0/c CHAR(40)    r     1 CHAN_BUF
  1756-0-0/c CHAR        r     1 CHAR1                   1757-0-0/c CHAR(2)     r     1 CHAR2
  1760-0-0/c CHAR(3)     r     1 CHAR3                     *0-0-0/w UBIN        r     1 CODE
  1675-0-0/w UBIN        r     1 C_CODE                    *0-0-0/c CHAR(8)     r     1 DEVNAME
  1521-0-0/w STRC(396)   r     1 DEVREC                  1673-0-0/w BIT         r     1 DEV_FLG
    *0-0-0/w BIT         r     1 DEV_FLG                 1701-0-0/w UBIN(18)    r     1 FIRST
  1663-0-0/w SBIN        r     1 FIRST_FEP               1661-0-0/w SBIN        r     1 FIRST_IOM
  1657-0-0/w SBIN        r     1 FIRST_MPC               1665-0-0/w SBIN        r     1 FIRST_SC
  1552-0-0/w SBIN        r     1 I                       1756-0-0/w UBIN        r     1 I
  1703-0-0/w UBIN        r     1 I                       1732-0-0/w UBIN        r     1 I
  1670-0-0/w SBIN        r     1 II                        *0-0-0/w STRC        r     1 INDX
  1540-0-0/c CHAR        r     1 IOM#                     646-0-0/w STRC(9540)  r     1 IOMREC
  1537-0-0/c CHAR(4)     r     1 IOM_NAME                1553-0-0/w SBIN        r     1 J
  1704-0-0/w UBIN        r     1 J                       1747-0-0/w UBIN        r     1 J
  1733-0-0/w UBIN        r     1 J                       1730-0-0/w UBIN        r     1 J
  1667-0-0/w SBIN        r     1 JJ                      1734-0-0/w UBIN        r     1 K
  1702-0-0/w UBIN(18)    r     1 LAST                      *0-0-0/w UBIN(18)    r     1 LAST
  1746-0-0/w UBIN        r     1 LAST_CHAN               1664-0-0/w SBIN        r     1 LAST_FEP
  1662-0-0/w SBIN        r     1 LAST_IOM                1660-0-0/w SBIN        r     1 LAST_MPC
  1666-0-0/w SBIN        r     1 LAST_SC                 1732-0-0/w UBIN        r     1 LEN
  1736-0-0/w UBIN        r     1 LEN                       *0-0-0/w UBIN        r     1 LEN
  1257-0-0/w STRC(2916)  r     1 MPCREC                  1400-0-0/w STRC(2916)  r     1 MPCREC1
    *0-0-0/w UBIN        r     1 MPC_INDX                  *0-0-0/c CHAR(8)     r     1 MPC_NAME
    *0-0-0/c CHAR(8)     r     1 MPC_NAME                  *0-0-0/w UBIN        r     1 MPC_TYPE
    *0-0-0/w UBIN        r     1 MPC_TYPE                  *0-0-0/w UBIN        r     1 NUM
    *0-0-0/w UBIN        r     1 NUM                     1541-0-0/w UBIN        r     1 NUM_CHANS
  1705-0-0/w SBIN        r     1 NUM_XBARS               1737-0-0/w UBIN        r     1 OUTPUT_ATTRS
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:1003 
  1730-0-0/b BIT         r     1 RANGE_FLAG              1750-0-0/c CHAR(8)     r     1 REVBUF
  1672-0-0/w SBIN        r     1 SP                        *0-0-0/w SBIN        r     1 SP
  1671-0-0/w SBIN        r     1 ST                        *0-0-0/w SBIN        r     1 ST
  1740-0-0/w SBIN        r     1 START                   1741-0-0/w SBIN        r     1 STOP
  1735-0-0/w UBIN        r     1 STRT                       4-0-0/w STRC(15048) r     1 TD_HEAD
  1674-0-0/c CHAR(2)     r     1 TEMP_DEV                1656-0-0/w PTR         r     1 TEXT$
  1556-0-0/c CHAR(256)   r     1 TEXTBUF                 1726-0-0/c CHAR(8)     r     1 TMP_NAME
  1554-0-0/d STRC(72)    r     1 TVEC                    1706-0-0/w UBIN        r     1 XBARS(0:10)
  1722-0-0/w UBIN        r     1 XBAR_INDX                 *0-0-0/w UBIN        r     1 XBAR_INDX

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w UBIN        r     1 TH_NUM_REP_DEVS            0-0-0/d STRC(72)    r     1 TH_RECORD
     0-0-0/w CHAR(8)     r     1 TH_REP_DEVS(0:511)

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(315)   r     1 ATTR$TBL(0:10)
     0-0-0/w STRC(396)   r     1 TD$DEV                     0-0-0/w STRC(7848)  r     1 TD$HEAD
     0-0-0/w STRC(9540)  r     1 TD$IOM                     0-0-0/w STRC(2916)  r     1 TD$MPC


   Procedure THF$CONFIG requires 1472 words for executable code.
   Procedure THF$CONFIG requires 1026 words of local(AUTO) storage.
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:1004 
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:1005 
          MINI XREF LISTING

APC_FMT
      1899**DCL      1901--DCLINIT
AP_ATTR_TBL$
      2001**DCL      2432>>IF       2433>>ASSIGN   2434>>ASSIGN   2437>>ASSIGN   2438>>ASSIGN   2444>>IF
      2452>>ASSIGN   2453>>ASSIGN
AP_TBL
      1964**DCL      1999--DCLINIT  2001--DCLINIT
ATTR$TBL.ATTR
      1992**DCL      2432>>IF       2444>>IF       2460>>IF
ATTR$TBL.LEN
      1993**DCL      2434>>ASSIGN   2438>>ASSIGN   2453>>ASSIGN   2470>>ASSIGN
ATTR$TBL.TEXT
      1994**DCL      2433>>ASSIGN   2437>>ASSIGN   2452>>ASSIGN   2469>>ASSIGN
ATTR$TBL$
      1995**DCL      2460>>IF       2469>>ASSIGN   2470>>ASSIGN
ATTR_BUF IN PROCEDURE MPC_DEVICES
      2389**DCL      2440<<CALLBLT  2449<<CALLBLT  2454<<CALLBLT  2466<<CALLBLT  2471<<CALLBLT  2476<>CALL
BLANK_LINE
      1898**DCL      2194--CALL     2207--CALL     2288--CALL     2424--CALL
BUF_CNT IN PROCEDURE MPC_HDR
      2302**DCL      2312<<ASSIGN   2334>>CALLBLT  2335<<ASSIGN   2335>>ASSIGN   2346>>CALLBLT  2347<<ASSIGN
      2347>>ASSIGN   2349>>CALLBLT  2350<<ASSIGN   2350>>ASSIGN   2352>>CALLBLT  2353<<ASSIGN   2353>>ASSIGN
      2355>>CALLBLT  2356<<ASSIGN   2356>>ASSIGN   2363>>CALLBLT  2364<<ASSIGN   2364>>ASSIGN   2366>>CALLBLT
      2367<<ASSIGN   2367>>ASSIGN   2369<>CALL
CHAN IN PROCEDURE MPC_HDR
      2305**DCL      2333<>CALL     2334>>CALLBLT  2348<>CALL     2349>>CALLBLT  2354<>CALL     2355>>CALLBLT
      2365<>CALL     2366>>CALLBLT
CHAN IN PROCEDURE MY_BINCHAR
      2517**DCL      2514--PROC     2529<<ASSIGN   2535<<ASSIGN   2540<<ASSIGN
CHANS
      1886**DCL      2203<>CALL     2205--CALL     2211<>CALL     2213--CALL     2330<>CALL     2333<>CALL
      2336>>ASSIGN   2338>>IF       2354<>CALL     2358>>ASSIGN   2373--CALL
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:1006 
CHANS IN PROCEDURE FIND_CHANNEL
      2226**DCL      2221--PROC     2232<<ASSIGN   2238<<ASSIGN
CHAN_BUF IN PROCEDURE MPC_HDR
      2304**DCL      2311<<ASSIGN   2334<<CALLBLT  2346<<CALLBLT  2349<<CALLBLT  2352<<CALLBLT  2355<<CALLBLT
      2363<<CALLBLT  2366<<CALLBLT  2369<>CALL
CHAR1 IN PROCEDURE MY_BINCHAR
      2521**DCL      2528<<CALLBLT  2529>>ASSIGN
CHAR2 IN PROCEDURE MY_BINCHAR
      2522**DCL      2534<<CALLBLT  2535>>ASSIGN
CHAR3 IN PROCEDURE MY_BINCHAR
      2523**DCL      2539<<CALLBLT  2540>>ASSIGN
CODE
         9**DCL         7--PROC     2033>>IF
CONFIG_APC
      1901**DCL      2425<>CALL
CONFIG_DEV
      1913**DCL      2481<>CALL     2483<>CALL
CONFIG_FEP
      1916**DCL      2205<>CALL
CONFIG_IOM
      1904**DCL      2193<>CALL
CONFIG_MPC
      1907**DCL      2375<>CALL
CONFIG_OPC
      1910**DCL      2373<>CALL
CONFIG_SC
      1919**DCL      2213<>CALL
C_CODE
      2017**DCL      2046<<ASSIGN   2049<<ASSIGN   2052<<ASSIGN   2055<<ASSIGN   2058<<ASSIGN   2061<<ASSIGN
      2064<<ASSIGN   2067<<ASSIGN   2070<<ASSIGN   2073<<ASSIGN   2076<<ASSIGN   2079<<ASSIGN   2082<<ASSIGN
      2085<<ASSIGN   2087>>DOCASE
DC_TBL
      1949**DCL      1998--DCLINIT
DEVNAME IN PROCEDURE FIND_CHANNEL
      2224**DCL      2221--PROC     2234>>IF
DEVREC
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:1007 
      1839**DCL      2418<<ASSIGN   2481--CALL     2483--CALL
DEVREC.ATTR
      1853**DCL      2432>>IF       2444>>IF       2460>>IF
DEV_FLG
      2015**DCL      2024<<ASSIGN   2162<<ASSIGN   2163<>CALL     2167<<ASSIGN   2168<>CALL     2172<<ASSIGN
      2173<>CALL     2177<<ASSIGN   2178<>CALL     2182<<ASSIGN   2183<>CALL     2286<<ASSIGN   2287<>CALL
DEV_FLG IN PROCEDURE MPC_DEVICES
      2386**DCL      2379--PROC     2402>>IF       2413>>IF       2479>>IF
DEV_FMT
      1911**DCL      1913--DCLINIT
ENDLOOP IN PROCEDURE OUTPUT_MPC
      2290**LABEL    2273--GOTO     2275--CALLALT
FEP_FMT
      1914**DCL      1916--DCLINIT
FIND_CHANNEL
      2221**PROC     2203--CALL     2211--CALL     2330--CALL
FIRST IN PROCEDURE OUTPUT_MPC
      2254**DCL      2266<<ASSIGN   2269>>DOINDEX
FIRST_FEP
      2007**DCL      2029<<ASSIGN   2095>>ASSIGN   2202>>DOINDEX
FIRST_IOM
      2005**DCL      2025<<ASSIGN   2097<<CALLBLT  2188>>DOINDEX
FIRST_MPC
      2003**DCL      2027<<ASSIGN   2113<<ASSIGN   2114>>ASSIGN   2123<<ASSIGN   2124>>ASSIGN   2133<<ASSIGN
      2134>>ASSIGN   2143<<ASSIGN   2144>>ASSIGN   2153<<ASSIGN   2154>>ASSIGN   2161<<ASSIGN   2163<>CALL
      2166<<ASSIGN   2168<>CALL     2171<<ASSIGN   2173<>CALL     2176<<ASSIGN   2178<>CALL     2181<<ASSIGN
      2183<>CALL     2197>>DOINDEX
FIRST_SC
      2009**DCL      2031<<ASSIGN   2106>>ASSIGN   2210>>DOINDEX
FOR_ALL
      2187**LABEL    2036--GOTO
I
      1887**DCL      2188<<DOINDEX  2189>>CALLBLT
I IN PROCEDURE FIND_CHANNEL
      2229**DCL      2233<<DOINDEX  2234>>IF       2238>>ASSIGN
I IN PROCEDURE MPC_DEVICES
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:1008 
      2391**DCL      2442<<ASSIGN   2443>>DOWHILE  2444>>IF       2452>>ASSIGN   2453>>ASSIGN   2457<<ASSIGN
      2457>>ASSIGN
I IN PROCEDURE OUTPUT_MPC
      2256**DCL      2269<<DOINDEX  2272>>IF       2275>>CALL     2279<>CALL     2287>>CALL
II
      2012**DCL      2019<<ASSIGN   2022>>DOWHILE  2035<<ASSIGN   2038>>ASSIGN   2039>>DOWHILE  2039>>DOWHILE
      2039>>DOWHILE  2041<<ASSIGN   2041>>ASSIGN   2043>>ASSIGN   2044>>ASSIGN   2086<<ASSIGN   2086>>ASSIGN
INDX IN PROCEDURE OUTPUT_MPC
      2248**DCL      2245--PROC
INDX.FIRST IN PROCEDURE OUTPUT_MPC
      2249**DCL      2266>>ASSIGN   2267>>ASSIGN
INDX.NUM IN PROCEDURE OUTPUT_MPC
      2250**DCL      2267>>ASSIGN
INDX_VEC
      1890**DCL      2187<<ASSIGN   2198<>CALL
IOM#
      1884**DCL      2189<<CALLBLT  2190>>CALLBLT
IOMREC
      1757**DCL      2192<<ASSIGN   2193--CALL
IOMREC.DEVNAME
      1758**DCL      2234>>IF
IOM_FMT
      1902**DCL      1904--DCLINIT
IOM_NAME
      1882**DCL      2190<<CALLBLT  2191<>CALL     2193--CALL
J
      1888**DCL      2091<<DOINDEX  2092>>ASSIGN   2102<<DOINDEX  2103>>ASSIGN   2115<<DOINDEX  2116>>ASSIGN
      2125<<DOINDEX  2126>>ASSIGN   2135<<DOINDEX  2136>>ASSIGN   2145<<DOINDEX  2146>>ASSIGN   2155<<DOINDEX
      2156>>ASSIGN   2197<<DOINDEX  2198>>CALL     2198<>CALL     2202<<DOINDEX  2203>>CALL     2205>>CALL
      2210<<DOINDEX  2211>>CALL     2213>>CALL
J IN PROCEDURE MPC_DEVICES
      2392**DCL      2411<<DOINDEX  2415>>CALL     2417>>CALL     2423>>IF       2428>>IF       2481>>CALL
      2483>>CALL
J IN PROCEDURE MPC_HDR
      2307**DCL      2337<<DOINDEX  2338>>IF       2354>>CALL     2358>>ASSIGN
J IN PROCEDURE OUTPUT_MPC
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:1009 
      2257**DCL      2271<<DOINDEX  2272>>IF
J IN PROCEDURE XBAR
      2497**DCL      2501<<DOINDEX  2502>>CALL     2507>>ASSIGN
JJ
      2011**DCL      2023<<ASSIGN   2092>>ASSIGN   2093<<ASSIGN   2093>>ASSIGN   2103>>ASSIGN   2104<<ASSIGN
      2104>>ASSIGN   2116>>ASSIGN   2117<<ASSIGN   2117>>ASSIGN   2126>>ASSIGN   2127<<ASSIGN   2127>>ASSIGN
      2136>>ASSIGN   2137<<ASSIGN   2137>>ASSIGN   2146>>ASSIGN   2147<<ASSIGN   2147>>ASSIGN   2156>>ASSIGN
      2157<<ASSIGN   2157>>ASSIGN
K IN PROCEDURE MPC_DEVICES
      2393**DCL      2427<<DOINDEX  2460>>IF       2469>>ASSIGN   2470>>ASSIGN
LAST IN PROCEDURE OUTPUT_MPC
      2255**DCL      2267<<ASSIGN   2269>>DOINDEX  2279<>CALL
LAST IN PROCEDURE XBAR
      2493**DCL      2489--PROC     2501>>DOINDEX
LAST_CHAN IN PROCEDURE MPC_HDR
      2306**DCL      2336<<ASSIGN   2338>>IF       2348<>CALL     2358<<ASSIGN   2365<>CALL
LAST_FEP
      2008**DCL      2030<<ASSIGN   2095<<ASSIGN   2100<<ASSIGN   2109<<ASSIGN   2112<<ASSIGN   2122<<ASSIGN
      2132<<ASSIGN   2142<<ASSIGN   2152<<ASSIGN   2202>>DOINDEX
LAST_IOM
      2006**DCL      2026<<ASSIGN   2098<<CALLBLT  2188>>DOINDEX
LAST_MPC
      2004**DCL      2028<<ASSIGN   2089<<ASSIGN   2101<<ASSIGN   2114<<ASSIGN   2124<<ASSIGN   2134<<ASSIGN
      2144<<ASSIGN   2154<<ASSIGN   2197>>DOINDEX
LAST_SC
      2010**DCL      2032<<ASSIGN   2090<<ASSIGN   2106<<ASSIGN   2108<<ASSIGN   2111<<ASSIGN   2121<<ASSIGN
      2131<<ASSIGN   2141<<ASSIGN   2151<<ASSIGN   2210>>DOINDEX
LEN IN PROCEDURE MPC_DEVICES
      2395**DCL      2434<<ASSIGN   2438<<ASSIGN   2440>>CALLBLT  2441>>ASSIGN   2453<<ASSIGN   2454>>CALLBLT
      2455>>ASSIGN   2470<<ASSIGN   2471>>CALLBLT  2472>>ASSIGN
LEN IN PROCEDURE MPC_HDR
      2303**DCL      2333<>CALL     2334>>CALLBLT  2335>>ASSIGN   2348<>CALL     2349>>CALLBLT  2350>>ASSIGN
      2354<>CALL     2355>>CALLBLT  2356>>ASSIGN   2365<>CALL     2366>>CALLBLT  2367>>ASSIGN
LEN IN PROCEDURE MY_BINCHAR
      2518**DCL      2514--PROC     2530<<ASSIGN   2536<<ASSIGN   2541<<ASSIGN
MPCREC
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:1010 
      1773**DCL      2315<<ASSIGN   2500<<ASSIGN
MPCREC.CRPFWNAME
      1788**DCL      2318<>CALL
MPCREC.DEVNAME
      1792**DCL      2417<>CALL     2423>>IF       2428>>IF       2483--CALL     2504>>IF
MPCREC.FWNAME
      1786**DCL      2316<>CALL
MPCREC.FWREV.LETTER
      1790**DCL      2319>>IF       2320>>CALLBLT
MPCREC.FWREV.SUBREV
      1791**DCL      2320>>CALLBLT
MPCREC.LPFWNAME
      1787**DCL      2317<>CALL
MPCREC.NUMDEVS
      1781**DCL      2409>>ASSIGN
MPCREC1
      1795**DCL      2503<<ASSIGN
MPCREC1.DEVNAME
      1814**DCL      2504>>IF
MPC_DEVICES
      2379**PROC     2163--CALL     2168--CALL     2173--CALL     2178--CALL     2183--CALL     2287--CALL
MPC_FMT
      1905**DCL      1907--DCLINIT
MPC_HDR
      2294**PROC     2275--CALL     2281--CALL
MPC_INDX IN PROCEDURE XBAR
      2492**DCL      2489--PROC     2499>>CALL     2501>>DOINDEX
MPC_NAME IN PROCEDURE MPC_DEVICES
      2382**DCL      2379--PROC
MPC_NAME IN PROCEDURE MPC_HDR
      2297**DCL      2294--PROC     2314<>CALL     2326>>IF       2327>>CALLBLT  2329>>ASSIGN   2372>>IF
      2375--CALL
MPC_TYPE IN PROCEDURE MPC_DEVICES
      2383**DCL      2379--PROC     2427>>DOINDEX  2460>>IF       2469>>ASSIGN   2470>>ASSIGN
MPC_TYPE IN PROCEDURE OUTPUT_MPC
      2251**DCL      2245--PROC     2276>>IF       2287<>CALL
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:1011 
MY_BINCHAR
      2514**PROC     2333--CALL     2348--CALL     2354--CALL     2365--CALL
NEXT
      2217**LABEL    2164--GOTO     2169--GOTO     2174--GOTO     2179--GOTO     2184--GOTO
NO_DEVICE IN PROCEDURE MPC_DEVICES
      2485**LABEL    2415--CALLALT
NO_XBAR IN PROCEDURE OUTPUT_MPC
      2286**LABEL    2279--CALLALT
NUM IN PROCEDURE FIND_CHANNEL
      2225**DCL      2221--PROC     2231<<ASSIGN   2237<<ASSIGN   2237>>ASSIGN   2238>>ASSIGN
NUM IN PROCEDURE MY_BINCHAR
      2516**DCL      2514--PROC     2525>>IF       2528>>CALLBLT  2532>>IF       2534>>CALLBLT  2539>>CALLBLT
NUM_ATTRS
      2002**DCL      2427>>DOINDEX
NUM_CHANS
      1885**DCL      2203<>CALL     2204>>IF       2211<>CALL     2212>>IF       2330<>CALL     2331>>IF
      2337>>DOINDEX
NUM_XBARS IN PROCEDURE OUTPUT_MPC
      2258**DCL      2268<<ASSIGN   2271>>DOINDEX  2282>>ASSIGN   2283<<ASSIGN   2283>>ASSIGN
OD_TBL
      1977**DCL      2000--DCLINIT
OPC_FMT
      1908**DCL      1910--DCLINIT
OUTPUT_ATTRS IN PROCEDURE MPC_DEVICES
      2396**DCL      2422<<ASSIGN   2431<<ASSIGN   2431>>ASSIGN   2447<<ASSIGN   2447>>ASSIGN   2448>>IF
      2462<<ASSIGN   2462>>ASSIGN   2463>>IF
OUTPUT_MPC
      2245**PROC     2198--CALL
RANGE_FLAG IN PROCEDURE MPC_HDR
      2301**DCL      2332<<ASSIGN   2339<<ASSIGN   2342>>IF       2345<<ASSIGN   2360>>IF
REVBUF IN PROCEDURE MPC_HDR
      2308**DCL      2320<<CALLBLT  2321<>CALL
SC_FMT
      1917**DCL      1919--DCLINIT
SP
      2014**DCL      2043<<ASSIGN   2091>>DOINDEX  2095>>ASSIGN   2098>>CALLBLT  2102>>DOINDEX  2106>>ASSIGN
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:1012 
      2115>>DOINDEX  2119>>ASSIGN   2125>>DOINDEX  2129>>ASSIGN   2135>>DOINDEX  2139>>ASSIGN   2145>>DOINDEX
      2149>>ASSIGN   2155>>DOINDEX  2159>>ASSIGN   2163<>CALL     2168<>CALL     2173<>CALL     2178<>CALL
      2183<>CALL
SP IN PROCEDURE MPC_DEVICES
      2385**DCL      2379--PROC     2405>>ASSIGN
ST
      2013**DCL      2038<<ASSIGN   2091>>DOINDEX  2095>>ASSIGN   2097>>CALLBLT  2098>>CALLBLT  2102>>DOINDEX
      2106>>ASSIGN   2115>>DOINDEX  2119>>ASSIGN   2125>>DOINDEX  2129>>ASSIGN   2135>>DOINDEX  2139>>ASSIGN
      2145>>DOINDEX  2149>>ASSIGN   2155>>DOINDEX  2159>>ASSIGN   2163<>CALL     2168<>CALL     2173<>CALL
      2178<>CALL     2183<>CALL
ST IN PROCEDURE MPC_DEVICES
      2384**DCL      2379--PROC     2404>>ASSIGN
START IN PROCEDURE MPC_DEVICES
      2397**DCL      2404<<ASSIGN   2408<<ASSIGN   2411>>DOINDEX
STOP IN PROCEDURE MPC_DEVICES
      2398**DCL      2405<<ASSIGN   2409<<ASSIGN   2411>>DOINDEX
STRT IN PROCEDURE MPC_DEVICES
      2394**DCL      2421<<ASSIGN   2440>>CALLBLT  2441<<ASSIGN   2441>>ASSIGN   2449>>CALLBLT  2450<<ASSIGN
      2450>>ASSIGN   2454>>CALLBLT  2455<<ASSIGN   2455>>ASSIGN   2466>>CALLBLT  2467<<ASSIGN   2467>>ASSIGN
      2471>>CALLBLT  2472<<ASSIGN   2472>>ASSIGN   2476<>CALL
TC_TBL
      1935**DCL      1997--DCLINIT
TD$DEV
      1858**DCL      2418>>ASSIGN
TD$HEAD
      1685**DCL      2021>>ASSIGN
TD$IOM
      1765**DCL      2192>>ASSIGN
TD$MPC
      1817**DCL      2315>>ASSIGN   2500>>ASSIGN   2503>>ASSIGN
TD_HEAD
      1721**DCL      2021<<ASSIGN   2187>>ASSIGN
TD_HEAD.APMPC_INDX
      1730**DCL      2126>>ASSIGN
TD_HEAD.CONSOLE_INDX
      1736**DCL      2031>>ASSIGN   2032>>ASSIGN   2103>>ASSIGN
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:1013 
TD_HEAD.DEVNAME
      1754**DCL      2092<<ASSIGN   2103<<ASSIGN   2116<<ASSIGN   2126<<ASSIGN   2136<<ASSIGN   2146<<ASSIGN
      2156<<ASSIGN   2203<>CALL     2205--CALL     2211<>CALL     2213--CALL     2275<>CALL     2281<>CALL
      2287<>CALL     2499<>CALL     2502<>CALL
TD_HEAD.DISKMPC_INDX
      1728**DCL      2136>>ASSIGN
TD_HEAD.FEP_INDX
      1734**DCL      2029>>ASSIGN   2030>>ASSIGN   2092>>ASSIGN
TD_HEAD.NUMAPMPCS
      1731**DCL      2129<<ASSIGN
TD_HEAD.NUMCONSOLES
      1737**DCL      2032>>ASSIGN
TD_HEAD.NUMDISKMPCS
      1729**DCL      2139<<ASSIGN
TD_HEAD.NUMFEPS
      1735**DCL      2030>>ASSIGN
TD_HEAD.NUMIOMS
      1723**DCL      2026>>ASSIGN
TD_HEAD.NUMOPCS
      1733**DCL      2119<<ASSIGN
TD_HEAD.NUMTAPEMPCS
      1727**DCL      2149<<ASSIGN
TD_HEAD.NUMUNITMPCS
      1725**DCL      2159<<ASSIGN
TD_HEAD.OPC_INDX
      1732**DCL      2116>>ASSIGN
TD_HEAD.TAPEMPC_INDX
      1726**DCL      2146>>ASSIGN
TD_HEAD.UNITMPC_INDX
      1724**DCL      2156>>ASSIGN
TEMP_DEV
      2016**DCL      2044<<ASSIGN   2045>>IF       2048>>IF       2051>>IF       2051>>IF       2054>>IF
      2057>>IF       2060>>IF       2063>>IF       2066>>IF       2069>>IF       2072>>IF       2075>>IF
      2078>>IF       2081>>IF       2084>>IF       2084>>IF       2084>>IF
TEXT IN PROCEDURE MPC_DEVICES
      2390**DCL      2433<<ASSIGN   2437<<ASSIGN   2440>>CALLBLT  2452<<ASSIGN   2454>>CALLBLT  2469<<ASSIGN
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:1014 
      2471>>CALLBLT
TEXT$
      1896**DCL      2313<<ASSIGN   2316<>CALL     2317<>CALL     2318<>CALL     2321<>CALL     2324<>CALL
      2369<>CALL     2371>>ASSIGN   2412<<ASSIGN   2476<>CALL     2478>>ASSIGN
TEXTBUF
      1895**DCL      2313--ASSIGN   2370--ASSIGN   2371--ASSIGN   2412--ASSIGN   2477--ASSIGN   2478--ASSIGN
THF$ADD_TEXTC
      1681**DCL-ENT  2316--CALL     2317--CALL     2318--CALL     2321--CALL     2324--CALL     2369--CALL
      2476--CALL
THG$GETREC
      1679**DCL-ENT  2020--CALL     2191--CALL     2314--CALL     2415--CALL     2417--CALL     2499--CALL
      2502--CALL
THW$WRITE
      1680**DCL-ENT  2193--CALL     2194--CALL     2205--CALL     2207--CALL     2213--CALL     2280--CALL
      2288--CALL     2373--CALL     2375--CALL     2424--CALL     2425--CALL     2481--CALL     2483--CALL
TH_AP_ATTR_FLG IN PROCEDURE MPC_DEVICES
      2399**DCL      2428>>IF       2443>>DOWHILE  2446<<ASSIGN   2460>>IF       2475<<ASSIGN
TH_CONSTRAINTS.E_BY_B
      1127**DCL      1127--REDEF
TH_CONSTRAINTS.M_BY_B
      1126**DCL      1126--REDEF
TH_CONSTRAINTS.TYPES
      1124**DCL      1124--REDEF
TH_DEFAULT.E_BY_B
      1135**DCL      1135--REDEF
TH_DEFAULT.M_BY_B
      1134**DCL      1134--REDEF
TH_DEFAULT.TYPES
      1132**DCL      1132--REDEF
TH_NUM_REP_DEVS
      1149**DCL      2022>>DOWHILE  2039>>DOWHILE
TH_RECORD.PTR$
      1152**DCL      2021>>ASSIGN   2192>>ASSIGN   2315>>ASSIGN   2418>>ASSIGN   2500>>ASSIGN   2503>>ASSIGN
TH_REP_DEVS
      1150**DCL      2039>>DOWHILE  2039>>DOWHILE  2044>>ASSIGN   2092>>ASSIGN   2097>>CALLBLT  2098>>CALLBLT
      2103>>ASSIGN   2116>>ASSIGN   2126>>ASSIGN   2136>>ASSIGN   2146>>ASSIGN   2156>>ASSIGN   2415<>CALL
PL6.E3A0      #005=THF$CONFIG File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:16 Page:1015 
      2481--CALL
TH_SAVE.E_BY_B
      1143**DCL      1143--REDEF
TH_SAVE.M_BY_B
      1141**DCL      1141--REDEF
TH_SAVE.TYPES
      1139**DCL      1140--REDEF
TH_XSA_BUF_VECTOR
      1159**DCL      1159--REDEF
TMP_NAME IN PROCEDURE MPC_HDR
      2298**DCL      2327<<CALLBLT  2329<<ASSIGN   2330<>CALL     2373--CALL
TVEC
      1891**DCL      2370<<ASSIGN   2375<>CALL     2477<<ASSIGN   2481<>CALL     2483<>CALL
TVEC.BOUND
      1892**DCL      2371<<ASSIGN   2478<<ASSIGN
UC_TBL
      1921**DCL      1996--DCLINIT
XBAR
      2489**PROC     2279--CALL
XBARS IN PROCEDURE OUTPUT_MPC
      2259**DCL      2272>>IF       2282<<ASSIGN
XBAR_FMT IN PROCEDURE OUTPUT_MPC
      2262**DCL      2280--CALL
XBAR_INDX IN PROCEDURE OUTPUT_MPC
      2261**DCL      2279<>CALL     2281>>CALL     2282>>ASSIGN
XBAR_INDX IN PROCEDURE XBAR
      2494**DCL      2489--PROC     2507<<ASSIGN
ZERO
      1883**DCL      2020<>CALL

PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1016 
     5295        1        /*M* THF$SYS - PRODUCES SYS REPORT FOR ELAN */
     5296        2        /*T***********************************************************/
     5297        3        /*T*                                                         */
     5298        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     5299        5        /*T*                                                         */
     5300        6        /*T***********************************************************/
     5301        7        THF$SYS: PROC;
     5302        8        /**/
     5303        9        /* INCLUDE FILES */
     5304       10        %INCLUDE CP_6;
     5305       91        %INCLUDE TH_DATA_R;
     5306      169        %INCLUDE TH_SUBS_C;
     5307      551        %INCLUDE EL_SUBS_C;
     5308      635        %INCLUDE TD$STRUCT;
     5309      736        %INCLUDE TH$HIST;
     5310      831        %INCLUDE EL$TABLES;
     5311     1154        %INCLUDE NI$TABLES;
     5312     1370        %INCLUDE B_SEGIDS_C;
     5313     1909        %INCLUDE XUD_UTS_M;
     5314     1991        /**/
     5315     1992        /* ENTRY DCLS */
     5316     1993    1   DCL THG$GETREC ENTRY(4) ALTRET;
     5317     1994    1   DCL THG$OPENXSA ENTRY(1) ALTRET;
     5318     1995    1   DCL THG$PRECORDXSA ENTRY(1) ALTRET;
     5319     1996    1   DCL THG$CLOSEXSA ENTRY ALTRET;
     5320     1997    1   DCL THP$STATS ENTRY(3);
     5321     1998    1   DCL THW$WRITE ENTRY(11);
     5322     1999    1   DCL THE$PROCESS ENTRY ALTRET;
     5323     2000        /**/
     5324     2001        /* VARS */
     5325     2002        %EL$FECRASH (STCLASS="BASED(TH_INFO.PTR$)");
     5326     2007        %TD$HEAD (NAME=TH_HEAD,STCLASS=AUTO,NUMDEV#=200);
     5327     2043        %TD$HEAD (NAME=TH$HEAD,NUMDEV#=200);
     5328     2079        %TH$THRESH (NAME=TH_THRESH,STCLASS=AUTO,NUMDEV#=200);
     5329     2085        %TH$THRESH (NAME=TH$THRESH,NUMDEV#=200);
     5330     2091        %TH$IOM (NAME=IOMREC,STCLASS=AUTO);
     5331     2102        %TH$IOM (NAME=TH$IOM);
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1017 
     5332     2113        %TH$MPC (NAME=MPCREC,STCLASS=AUTO,NUMDEV#=32);
     5333     2134        %TH$MPC (NAME=TH$MPC,NUMDEV#=32);
     5334     2155        %TH$DEV (NAME=DEVREC,STCLASS=AUTO);
     5335     2176        %TH$DEV (NAME=TH$DEV);
     5336     2197    1   DCL START_TIME UBIN WORD;
     5337     2198    1   DCL STOP_TIME UBIN WORD;
     5338     2199    1   DCL NUMEDAC UBIN WORD;
     5339     2200    1   DCL NUMPROCERR UBIN WORD;
     5340     2201    1   DCL NUMSUA UBIN WORD;
     5341     2202    1   DCL NUMSNAP UBIN WORD;
     5342     2203    1   DCL NUMSCREECH UBIN WORD;
     5343     2204    1   DCL NUMZAP UBIN WORD;
     5344     2205    1   DCL NUMFEPEVENT(0:256) UBIN WORD;
     5345     2206    1   DCL HEAD_KEY CHAR(8) CONSTANT INIT('0');
     5346     2207    1   DCL THRESH_KEY CHAR(8) CONSTANT INIT('1');
     5347     2208    1   DCL ERRLOG_DATE UBIN WORD STATIC;
     5348     2209    1   DCL UTS UBIN WORD;
     5349     2210    1   DCL PVAL_BUF CHAR(7);
     5350     2211    1   DCL ATTEN_BUF CHAR(7);
     5351     2212    1   DCL ALERT_BUF CHAR(7);
     5352     2213    1   DCL FLAG_BUF CHAR(13);
     5353     2214    1   DCL TEMP CHAR(2);
     5354     2215    1   DCL TEMP1 CHAR(2);
     5355     2216    1   DCL FRACT_PART SBIN;
     5356     2217    1   DCL INT_PART UBIN;
     5357     2218    1   DCL NUMDEVS UBIN WORD;
     5358     2219    1   DCL LAST_CLASS CHAR(2);
     5359     2220    1   DCL I SBIN WORD;
     5360     2221    1   DCL J SBIN WORD;
     5361     2222    1   DCL K SBIN WORD;
     5362     2223    1   DCL N SBIN WORD;
     5363     2224    1   DCL FEPSIZE SBIN WORD;
     5364     2225    1   DCL ENDFEP# SBIN WORD;
     5365     2226    1   DCL DCTX UBIN WORD;
     5366     2227    1   DCL DCT$ PTR;
     5367     2228    1   DCL 1 DCTPTR REDEF DCT$,
     5368     2229    1         2 OFFSET UBIN(18) UNAL,
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1018 
     5369     2230    1         2 * BIT(6) UNAL,
     5370     2231    1         2 SEGID BIT(12) UNAL;
     5371     2232        %NI$DCT (NAME=DCT,STCLASS="BASED(DCT$)");
     5372     2280    1   DCL PVAL SBIN WORD;
     5373     2281    1   DCL COUNT UBIN WORD;
     5374     2282    1   DCL CONNECTS UBIN WORD;
     5375     2283    1   DCL ATTEN_FLAG BIT(1);
     5376     2284    1   DCL ALERT_FLAG BIT(1);
     5377     2285    1   DCL BLANK_LINE CHAR(0) CONSTANT INIT('%10P');
     5378     2286    1   DCL NUM_LINES UBIN WORD;
     5379     2287    1   DCL SYS_TYPE_VEC (0:6) UBIN BYTE UNAL STATIC INIT(EL_EDAC,EL_PROCERR,EL_ZAP,
              2287            EL_SCREECH,EL_SNAP,EL_SUA,EL_FEPCRASH);
     5380     2288    1   DCL EOF_FLAG BIT(1);
     5381     2289    1   DCL EDACLINE CHAR(0) CONSTANT INIT('%/%15-EDAC Errors : %41-%D%10P');
     5382     2290    1   DCL PROCERRLINE CHAR(0) CONSTANT INIT('%/%15-Processor Errors : %41-%D%10P');
     5383     2291    1   DCL ZAPLINE CHAR(0) CONSTANT INIT('%/%15-Operator Initiated Zaps : %41-%D%10P');
     5384     2292    1   DCL SUALINE CHAR(0) CONSTANT INIT('%/%15-Single User Aborts : %41-%D%10P');
     5385     2293    1   DCL SNAPLINE CHAR(0) CONSTANT INIT('%/%15-Snaps : %41-%D%10P');
     5386     2294    1   DCL SCREECHLINE CHAR(0) CONSTANT INIT('%/%15-System Crashes : %41-%D%10P');
     5387     2295    1   DCL FEPEVENT_HDR CHAR(0) CONSTANT INIT('%/%15-Front End Processor Events :%10P');
     5388     2296    1   DCL FEPEVENTLINE CHAR(0) CONSTANT INIT('%20-FEP%D : %41-%2P%D%10P');
     5389     2297    1   DCL 1 PVAL_HDR CONSTANT UNAL,
     5390     2298    1         2 * CHAR(0) INIT('%15-Performance of System Components%/'),
     5391     2299    1         2 * CHAR(0) INIT('%10-Component Performance Atten Val Alert Val%/'),
     5392     2300    1         2 * CHAR(0) INIT('%10---------- ----------- --------- ---------%10P');
     5393     2301    1   DCL PVAL_LINE CHAR(0) CONSTANT INIT(
     5394     2302    1   '%10-%4A%2P%22-%A%33-%3P%A%43-%4P%A%53-%5P%A%10P');
     5395     2303        %XUD$UTS_ENTRIES;
     5396     2335        %XUD_UTS_EQU;
     5397     2346        %EJECT;
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1019 
     5398     2347    1        CALL THG$GETREC(%DEVHIST,HEAD_KEY) ALTRET(ALT);
     5399     2348    1        TH_HEAD = TH_RECORD.PTR$->TH$HEAD;
     5400     2349    1        CALL THG$GETREC(%DEVHIST,THRESH_KEY) ALTRET(ALT);
     5401     2350    1        TH_THRESH = TH_RECORD.PTR$->TH$THRESH;
     5402     2351    1        NUMDEVS = TH_HEAD.XX_INDX + TH_HEAD.NUMXXS;
     5403     2352    1        LAST_CLASS = ' ';
     5404     2353    1        NUM_LINES = 0;
     5405     2354    1        TH_SAVE = TH_CONSTRAINTS;
     5406     2355    2        IF TH_PROC_FLAG THEN DO;
     5407     2356    2           CALL THE$PROCESS;
     5408     2357    2           TH_PROC_FLAG = %FALSE;
     5409     2358    2           END;  /* IF TH_PROC_FLAG */
     5410     2359    1        TH_CONSTRAINTS = TH_SAVE;
     5411     2360    1        CALL THW$WRITE(VECTOR(PVAL_HDR));
     5412     2361    2        DO I = 0 TO NUMDEVS - 1;
     5413     2362    2           ATTEN_FLAG = %FALSE;
     5414     2363    2           ALERT_FLAG = %FALSE;
     5415     2364    2           COUNT = 0;
     5416     2365    2           CONNECTS = 0;
     5417     2366    2           PVAL = 10000;  /* %100 */
     5418     2367    2          CALL XUD$UTS_DIFF_SEC (START_TIME, TH_CONSTRAINTS.START, 0);
     5419     2368    2          START_TIME = START_TIME / 86400;
     5420     2369    2          CALL XUD$UTS_ADJ_25TH (START_TIME, 0, START_TIME*%UTS_25TH_DAY#);
     5421     2370    2          CALL XUD$UTS_DIFF_SEC (STOP_TIME, TH_CONSTRAINTS.STOP, 0);
     5422     2371    2          STOP_TIME = STOP_TIME / 86400;
     5423     2372    2          CALL XUD$UTS_ADJ_25TH (STOP_TIME, 0, STOP_TIME*%UTS_25TH_DAY#);
     5424     2373    2          ERRLOG_DATE = START_TIME;
     5425     2374    3          DO WHILE (ERRLOG_DATE <= STOP_TIME);
     5426     2375    3              CALL XUD$UTS_DIFF_SEC(UTS, ERRLOG_DATE, 0);
     5427     2376    3              UTS = UTS / 86400;
     5428     2377    3              CALL XUD$UTS_ADJ_25TH(UTS, 0, UTS * %UTS_25TH_DAY#);
     5429     2378    3              IF SUBSTR(TH_HEAD.DEVNAME(I),0,3) = 'FEP'
     5430     2379    3                 THEN GOTO ENDLOOP;  /* PVALS UNDEFINED FOR FEPS */
     5431     2380    3              CALL THG$GETREC(%DEVHIST,TH_HEAD.DEVNAME(I),UTS) ALTRET(NOT_THERE);
     5432     2381    3              IF (SUBSTR(TH_HEAD.DEVNAME(I),0,2) = 'UC') OR
     5433     2382    3                 (SUBSTR(TH_HEAD.DEVNAME(I),0,2) = 'DC') OR
     5434     2383    4                 (SUBSTR(TH_HEAD.DEVNAME(I),0,2) = 'TC') THEN DO;
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1020 
     5435     2384    4                 MPCREC = TH_RECORD.PTR$->TH$MPC;
     5436     2385    4                 COUNT = COUNT + MPCREC.COUNT;
     5437     2386    4                 CONNECTS = CONNECTS + MPCREC.CONNECTS;
     5438     2387    4                 END;  /* IF MPC */
     5439     2388    3                 ELSE
     5440     2389    4              IF SUBSTR(TH_HEAD.DEVNAME(I),0,3) = 'IOM' THEN DO;
     5441     2390    4                 IOMREC = TH_RECORD.PTR$->TH$IOM;
     5442     2391    4                 COUNT = COUNT + IOMREC.COUNT;
     5443     2392    4                 CONNECTS = CONNECTS + IOMREC.CONNECTS;
     5444     2393    4                 END;  /* IF IOM */
     5445     2394    4              ELSE DO;
     5446     2395    4                 DEVREC = TH_RECORD.PTR$->TH$DEV;
     5447     2396    5                 DO K = 10 TO 20;
     5448     2397    5                    COUNT = COUNT + DEVREC.COUNT(K);
     5449     2398    5                    END;  /* DO K */
     5450     2399    4                 CONNECTS = CONNECTS + DEVREC.CONNECTS;
     5451     2400    4                 END;  /* ELSE */
     5452     2401    3              CALL THP$STATS(COUNT,CONNECTS,PVAL);
     5453     2402    3     NOT_THERE:
     5454     2403    3              CALL XUD$UTS_ADJ_25TH(ERRLOG_DATE,ERRLOG_DATE,%UTS_25TH_DAY#);
     5455     2404    3              END;  /* DO ERRLOG_DATE */
     5456     2405    2           FLAG_BUF = ' ';
     5457     2406    2           IF PVAL  < TH_THRESH.ALERT(I)
     5458     2407    2              THEN FLAG_BUF = '*** ALERT ***';
     5459     2408    2              ELSE
     5460     2409    2           IF PVAL < TH_THRESH.ATTEN(I)
     5461     2410    2              THEN FLAG_BUF = '* ATTENTION *';
     5462     2411    2           DCTX = 0;
     5463     2412    3           DO UNTIL(DCTX > TH_MAXDCTX OR DCT.DEVNM = TH_HEAD.DEVNAME(I));
     5464     2413    3              DCTX = DCTX + 1;
     5465     2414    3              DCT$ = TH_DCT$(DCTX);
     5466     2415    3              DCTPTR.SEGID = %SPCL1SID;
     5467     2416    3              END;  /* DO UNTIL */
     5468     2417    2           IF DCTX > TH_MAXDCTX THEN GOTO ENDLOOP;
     5469     2418    2           IF PVAL = 10000
     5470     2419    2              THEN PVAL_BUF = '%100.00';
     5471     2420    2          ELSE IF CONNECTS = 0
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1021 
     5472     2421    3                 THEN DO;
     5473     2422    3                   PVAL_BUF = '%100.00';
     5474     2423    3                   FLAG_BUF = ' ';
     5475     2424    3                 END;
     5476     2425    3           ELSE DO;
     5477     2426    3              INT_PART = PVAL/100;
     5478     2427    3              FRACT_PART = MOD(PVAL,100);
     5479     2428    3              CALL BINCHAR(TEMP,INT_PART);
     5480     2429    3              CALL BINCHAR(TEMP1,FRACT_PART);
     5481     2430    3              CALL INSERT(PVAL_BUF,0,7,' %',TEMP,'.',TEMP1);
     5482     2431    3              END;  /* ELSE */
     5483     2432    2           IF TH_THRESH.ATTEN(I) = 10000
     5484     2433    2              THEN ATTEN_BUF = '%100.00';
     5485     2434    3           ELSE DO;
     5486     2435    3              INT_PART = TH_THRESH.ATTEN(I)/100;
     5487     2436    3              FRACT_PART = MOD(TH_THRESH.ATTEN(I),100);
     5488     2437    3              CALL BINCHAR(TEMP,INT_PART);
     5489     2438    3              CALL BINCHAR(TEMP1,FRACT_PART);
     5490     2439    3              CALL INSERT(ATTEN_BUF,0,7,' %',TEMP,'.',TEMP1);
     5491     2440    3              END;  /* ELSE */
     5492     2441    2           IF TH_THRESH.ALERT(I) = 10000
     5493     2442    2              THEN ALERT_BUF = '%100.00';
     5494     2443    3           ELSE DO;
     5495     2444    3              INT_PART = TH_THRESH.ALERT(I)/100;
     5496     2445    3              FRACT_PART = MOD(TH_THRESH.ALERT(I),100);
     5497     2446    3              CALL BINCHAR(TEMP,INT_PART);
     5498     2447    3              CALL BINCHAR(TEMP1,FRACT_PART);
     5499     2448    3              CALL INSERT(ALERT_BUF,0,7,' %',TEMP,'.',TEMP1);
     5500     2449    3              END;  /* ELSE */
     5501     2450    2           IF NUM_LINES > 0 AND LAST_CLASS ~= SUBSTR(TH_HEAD.DEVNAME(I),0,2)
     5502     2451    2              THEN CALL THW$WRITE(VECTOR(BLANK_LINE));
     5503     2452    2           CALL THW$WRITE(VECTOR(PVAL_LINE),
     5504     2453    2                          VECTOR(TH_HEAD.DEVNAME(I)),
     5505     2454    2                          VECTOR(PVAL_BUF),
     5506     2455    2                          VECTOR(ATTEN_BUF),
     5507     2456    2                          VECTOR(ALERT_BUF),
     5508     2457    2                          VECTOR(FLAG_BUF));
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1022 
     5509     2458    2           LAST_CLASS = SUBSTR(TH_HEAD.DEVNAME(I),0,2);
     5510     2459    2           NUM_LINES = NUM_LINES + 1;
     5511     2460    2      ENDLOOP:
     5512     2461    2           END;  /* DO I */
     5513     2462    1        TH_CONSTRAINTS.NTYPES = 7;
     5514     2463    1        TH_CONSTRAINTS.TYPES = SYS_TYPE_VEC;
     5515     2464    1        NUMEDAC = 0;
     5516     2465    1        NUMPROCERR = 0;
     5517     2466    1        NUMZAP = 0;
     5518     2467    1        NUMSUA = 0;
     5519     2468    1        NUMSNAP = 0;
     5520     2469    1        NUMSCREECH = 0;
     5521     2470    1        NUMFEPEVENT = '0'B;
     5522     2471    1          ERRLOG_DATE = START_TIME;
     5523     2472    2          DO WHILE (ERRLOG_DATE <= STOP_TIME);
     5524     2473    2           CALL THG$OPENXSA(ERRLOG_DATE) ALTRET(ALT);
     5525     2474    2           TH_IOERR_M_OR_E_SET = '0'B;
     5526     2475    2           TH_FEPERR_M_OR_E_SET = '0'B;
     5527     2476    2           TH_CHECK_DEVNM = '0'B;
     5528     2477    2           EOF_FLAG = %FALSE;
     5529     2478    2           TH_BOF = %TRUE;
     5530     2479    3           DO WHILE(NOT EOF_FLAG);
     5531     2480    3              CALL THG$GETREC(%ERRLOG) ALTRET(EOF);
     5532     2481    4              DO CASE(TH_ITYPE);
     5533     2482    4                 CASE(%TH_EDAC);
     5534     2483    4                    NUMEDAC = NUMEDAC + 1;
     5535     2484    4                 CASE(%TH_PROCERR);
     5536     2485    4                    NUMPROCERR = NUMPROCERR + 1;
     5537     2486    4                 CASE(%TH_ZAP);
     5538     2487    4                    NUMZAP = NUMZAP + 1;
     5539     2488    4                 CASE(%TH_SUA);
     5540     2489    4                    NUMSUA = NUMSUA + 1;
     5541     2490    4                 CASE(%TH_SNAP);
     5542     2491    4                    NUMSNAP = NUMSNAP + 1;
     5543     2492    4                 CASE(%TH_SCREECH);
     5544     2493    4                    NUMSCREECH = NUMSCREECH + 1;
     5545     2494    4                 CASE(%TH_FEPEVENT);
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1023 
     5546     2495    4                    NUMFEPEVENT(EL$FECRASH.FENM.FEP#) = NUMFEPEVENT(EL$FECRASH.FENM.
              2495                             FEP#) + 1;
     5547     2496    4                 END;  /* DO CASE */
     5548     2497    4              DO NEVER;
     5549     2498    4        EOF:     EOF_FLAG = %TRUE;
     5550     2499    4                 END;  /* DO NEVER */
     5551     2500    3              END;  /* DO WHILE NOT EOF_FLAG */
     5552     2501    2   NO_FILE:
     5553     2502    2           CALL XUD$UTS_ADJ_25TH(ERRLOG_DATE,ERRLOG_DATE,%UTS_25TH_DAY#);
     5554     2503    2           END;  /* DO ERRLOG_DATE */
     5555     2504    1        CALL THW$WRITE(VECTOR(EDACLINE),VECTOR(NUMEDAC));
     5556     2505    1        CALL THW$WRITE(VECTOR(PROCERRLINE),VECTOR(NUMPROCERR));
     5557     2506    1        CALL THW$WRITE(VECTOR(SCREECHLINE),VECTOR(NUMSCREECH));
     5558     2507    1        CALL THW$WRITE(VECTOR(FEPEVENT_HDR));
     5559     2508    2        DO J = 0 TO 256;
     5560     2509    2           IF NUMFEPEVENT(J) ~= 0 THEN
     5561     2510    2              CALL THW$WRITE(VECTOR(FEPEVENTLINE),VECTOR(J),VECTOR(NUMFEPEVENT(J)));
     5562     2511    2        END;  /* DO J */
     5563     2512    1        CALL THW$WRITE(VECTOR(SUALINE),VECTOR(NUMSUA));
     5564     2513    1        CALL THW$WRITE(VECTOR(SNAPLINE),VECTOR(NUMSNAP));
     5565     2514    1        CALL THW$WRITE(VECTOR(ZAPLINE),VECTOR(NUMZAP));
     5566     2515    1   ALT:
     5567     2516    1        CALL THG$CLOSEXSA;
     5568     2517    1        RETURN;
     5569     2518    1   END THF$SYS;
     5570     2519        %EOD;

PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1024 
--  Include file information  --

   XUD_UTS_M.:E05TOU  is referenced.
   B_SEGIDS_C.:E05TOU  is referenced.
   NI$TABLES.:E05TOU  is referenced.
   EL$TABLES.:E05TOU  is referenced.
   TH$HIST.:E05TOU  is referenced.
   TD$STRUCT.:E05TOU  is referenced.
   EL_SUBS_C.:E05TOU  is referenced.
   B_STRINGS_C.:E05TOU  is referenced.
   TH_SUBS_C.:E05TOU  is referenced.
   TH_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure THF$SYS.

   Procedure THF$SYS requires 669 words for executable code.
   Procedure THF$SYS requires 1932 words of local(AUTO) storage.

PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1025 

 Object Unit name= THF$SYS                                    File name= THF$FORMAT.:E05TOU
 UTS= JUL 30 '97 06:17:50.52 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1  RoData even  UTS    137    211  THF$SYS
    2   Data  even  none     3      3  THF$SYS
    3   Proc  even  none   669   1235  THF$SYS
    4  RoData even  none    59     73  THF$SYS

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     3      0   yes            yes      Std        0  THF$SYS

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       4 THG$GETREC
 yes     yes           Std       0 THE$PROCESS
 yes     yes           Std       3 XUD$UTS_DIFF_SEC
         yes           Std       3 THP$STATS
         yes           Std      11 THW$WRITE
 yes     yes           Std       3 XUD$UTS_ADJ_25TH
 yes     yes           Std       0 THG$CLOSEXSA
 yes     yes           Std       1 THG$OPENXSA
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1026 

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  TH_CONSTRAINTS                        TH_SAVE
     TH_BOF                                TH_RECORD                             TH_INFO
     TH_ITYPE                              TH_PROC_FLAG                          TH_MAXDCTX
     TH_DCT$                               TH_XSA_BUF_VECTOR                     TH_IOERR_M_OR_E_SET
     TH_FEPERR_M_OR_E_SET                  TH_CHECK_DEVNM                        B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1027 


     5295        1        /*M* THF$SYS - PRODUCES SYS REPORT FOR ELAN */
     5296        2        /*T***********************************************************/
     5297        3        /*T*                                                         */
     5298        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     5299        5        /*T*                                                         */
     5300        6        /*T***********************************************************/
     5301        7        THF$SYS: PROC;

      7  3 000000   000000 700200 xent  THF$SYS      TSX0  ! X66_AUTO_0
         3 000001   003614 000000                    ZERO    1932,0

     5302        8        /**/
     5303        9        /* INCLUDE FILES */
     5304       10        %INCLUDE CP_6;
     5305       91        %INCLUDE TH_DATA_R;
     5306      169        %INCLUDE TH_SUBS_C;
     5307      551        %INCLUDE EL_SUBS_C;
     5308      635        %INCLUDE TD$STRUCT;
     5309      736        %INCLUDE TH$HIST;
     5310      831        %INCLUDE EL$TABLES;
     5311     1154        %INCLUDE NI$TABLES;
     5312     1370        %INCLUDE B_SEGIDS_C;
     5313     1909        %INCLUDE XUD_UTS_M;
     5314     1991        /**/
     5315     1992        /* ENTRY DCLS */
     5316     1993    1   DCL THG$GETREC ENTRY(4) ALTRET;
     5317     1994    1   DCL THG$OPENXSA ENTRY(1) ALTRET;
     5318     1995    1   DCL THG$PRECORDXSA ENTRY(1) ALTRET;
     5319     1996    1   DCL THG$CLOSEXSA ENTRY ALTRET;
     5320     1997    1   DCL THP$STATS ENTRY(3);
     5321     1998    1   DCL THW$WRITE ENTRY(11);
     5322     1999    1   DCL THE$PROCESS ENTRY ALTRET;
     5323     2000        /**/
     5324     2001        /* VARS */
     5325     2002        %EL$FECRASH (STCLASS="BASED(TH_INFO.PTR$)");
     5326     2007        %TD$HEAD (NAME=TH_HEAD,STCLASS=AUTO,NUMDEV#=200);
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1028 
     5327     2043        %TD$HEAD (NAME=TH$HEAD,NUMDEV#=200);
     5328     2079        %TH$THRESH (NAME=TH_THRESH,STCLASS=AUTO,NUMDEV#=200);
     5329     2085        %TH$THRESH (NAME=TH$THRESH,NUMDEV#=200);
     5330     2091        %TH$IOM (NAME=IOMREC,STCLASS=AUTO);
     5331     2102        %TH$IOM (NAME=TH$IOM);
     5332     2113        %TH$MPC (NAME=MPCREC,STCLASS=AUTO,NUMDEV#=32);
     5333     2134        %TH$MPC (NAME=TH$MPC,NUMDEV#=32);
     5334     2155        %TH$DEV (NAME=DEVREC,STCLASS=AUTO);
     5335     2176        %TH$DEV (NAME=TH$DEV);
     5336     2197    1   DCL START_TIME UBIN WORD;
     5337     2198    1   DCL STOP_TIME UBIN WORD;
     5338     2199    1   DCL NUMEDAC UBIN WORD;
     5339     2200    1   DCL NUMPROCERR UBIN WORD;
     5340     2201    1   DCL NUMSUA UBIN WORD;
     5341     2202    1   DCL NUMSNAP UBIN WORD;
     5342     2203    1   DCL NUMSCREECH UBIN WORD;
     5343     2204    1   DCL NUMZAP UBIN WORD;
     5344     2205    1   DCL NUMFEPEVENT(0:256) UBIN WORD;
     5345     2206    1   DCL HEAD_KEY CHAR(8) CONSTANT INIT('0');
     5346     2207    1   DCL THRESH_KEY CHAR(8) CONSTANT INIT('1');
     5347     2208    1   DCL ERRLOG_DATE UBIN WORD STATIC;
     5348     2209    1   DCL UTS UBIN WORD;
     5349     2210    1   DCL PVAL_BUF CHAR(7);
     5350     2211    1   DCL ATTEN_BUF CHAR(7);
     5351     2212    1   DCL ALERT_BUF CHAR(7);
     5352     2213    1   DCL FLAG_BUF CHAR(13);
     5353     2214    1   DCL TEMP CHAR(2);
     5354     2215    1   DCL TEMP1 CHAR(2);
     5355     2216    1   DCL FRACT_PART SBIN;
     5356     2217    1   DCL INT_PART UBIN;
     5357     2218    1   DCL NUMDEVS UBIN WORD;
     5358     2219    1   DCL LAST_CLASS CHAR(2);
     5359     2220    1   DCL I SBIN WORD;
     5360     2221    1   DCL J SBIN WORD;
     5361     2222    1   DCL K SBIN WORD;
     5362     2223    1   DCL N SBIN WORD;
     5363     2224    1   DCL FEPSIZE SBIN WORD;
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1029 
     5364     2225    1   DCL ENDFEP# SBIN WORD;
     5365     2226    1   DCL DCTX UBIN WORD;
     5366     2227    1   DCL DCT$ PTR;
     5367     2228    1   DCL 1 DCTPTR REDEF DCT$,
     5368     2229    1         2 OFFSET UBIN(18) UNAL,
     5369     2230    1         2 * BIT(6) UNAL,
     5370     2231    1         2 SEGID BIT(12) UNAL;
     5371     2232        %NI$DCT (NAME=DCT,STCLASS="BASED(DCT$)");
     5372     2280    1   DCL PVAL SBIN WORD;
     5373     2281    1   DCL COUNT UBIN WORD;
     5374     2282    1   DCL CONNECTS UBIN WORD;
     5375     2283    1   DCL ATTEN_FLAG BIT(1);
     5376     2284    1   DCL ALERT_FLAG BIT(1);
     5377     2285    1   DCL BLANK_LINE CHAR(0) CONSTANT INIT('%10P');
     5378     2286    1   DCL NUM_LINES UBIN WORD;
     5379     2287    1   DCL SYS_TYPE_VEC (0:6) UBIN BYTE UNAL STATIC INIT(EL_EDAC,EL_PROCERR,EL_ZAP,
              2287            EL_SCREECH,EL_SNAP,EL_SUA,EL_FEPCRASH);
     5380     2288    1   DCL EOF_FLAG BIT(1);
     5381     2289    1   DCL EDACLINE CHAR(0) CONSTANT INIT('%/%15-EDAC Errors : %41-%D%10P');
     5382     2290    1   DCL PROCERRLINE CHAR(0) CONSTANT INIT('%/%15-Processor Errors : %41-%D%10P');
     5383     2291    1   DCL ZAPLINE CHAR(0) CONSTANT INIT('%/%15-Operator Initiated Zaps : %41-%D%10P');
     5384     2292    1   DCL SUALINE CHAR(0) CONSTANT INIT('%/%15-Single User Aborts : %41-%D%10P');
     5385     2293    1   DCL SNAPLINE CHAR(0) CONSTANT INIT('%/%15-Snaps : %41-%D%10P');
     5386     2294    1   DCL SCREECHLINE CHAR(0) CONSTANT INIT('%/%15-System Crashes : %41-%D%10P');
     5387     2295    1   DCL FEPEVENT_HDR CHAR(0) CONSTANT INIT('%/%15-Front End Processor Events :%10P');
     5388     2296    1   DCL FEPEVENTLINE CHAR(0) CONSTANT INIT('%20-FEP%D : %41-%2P%D%10P');
     5389     2297    1   DCL 1 PVAL_HDR CONSTANT UNAL,
     5390     2298    1         2 * CHAR(0) INIT('%15-Performance of System Components%/'),
     5391     2299    1         2 * CHAR(0) INIT('%10-Component Performance Atten Val Alert Val%/'),
     5392     2300    1         2 * CHAR(0) INIT('%10---------- ----------- --------- ---------%10P');
     5393     2301    1   DCL PVAL_LINE CHAR(0) CONSTANT INIT(
     5394     2302    1   '%10-%4A%2P%22-%A%33-%3P%A%43-%4P%A%53-%5P%A%10P');
     5395     2303        %XUD$UTS_ENTRIES;
     5396     2335        %XUD_UTS_EQU;
     5397     2346        %EJECT;
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1030 
     5398     2347    1        CALL THG$GETREC(%DEVHIST,HEAD_KEY) ALTRET(ALT);

   2347  3 000002   000000 630400 4                  EPPR0   0
         3 000003   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000004   000000 701000 xent               TSX1    THG$GETREC
         3 000005   001231 702000 3                  TSX2    ALT

     5399     2348    1        TH_HEAD = TH_RECORD.PTR$->TH$HEAD;

   2348  3 000006   000001 470400 xsym               LDP0    TH_RECORD+1
         3 000007   000100 100500                    MLR     fill='000'O
         3 000010   000000 003210                    ADSC9   0,,PR0                   cn=0,n=1672
         3 000011   200003 003210                    ADSC9   TH_HEAD,,AUTO            cn=0,n=1672

     5400     2349    1        CALL THG$GETREC(%DEVHIST,THRESH_KEY) ALTRET(ALT);

   2349  3 000012   000002 630400 4                  EPPR0   2
         3 000013   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000014   000000 701000 xent               TSX1    THG$GETREC
         3 000015   001231 702000 3                  TSX2    ALT

     5401     2350    1        TH_THRESH = TH_RECORD.PTR$->TH$THRESH;

   2350  3 000016   000001 470400 xsym               LDP0    TH_RECORD+1
         3 000017   000100 100500                    MLR     fill='000'O
         3 000020   000000 006220                    ADSC9   0,,PR0                   cn=0,n=3216
         3 000021   200645 006220                    ADSC9   TH_THRESH,,AUTO          cn=0,n=3216

     5402     2351    1        NUMDEVS = TH_HEAD.XX_INDX + TH_HEAD.NUMXXS;

   2351  3 000022   200020 236100                    LDQ     TH_HEAD+13,,AUTO
         3 000023   777777 376007                    ANQ     -1,DL
         3 000024   203550 756100                    STQ     EOF_FLAG+2,,AUTO
         3 000025   200020 236100                    LDQ     TH_HEAD+13,,AUTO
         3 000026   000022 772000                    QRL     18
         3 000027   203550 036100                    ADLQ    EOF_FLAG+2,,AUTO
         3 000030   203526 756100                    STQ     NUMDEVS,,AUTO
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1031 

     5403     2352    1        LAST_CLASS = ' ';

   2352  3 000031   040040 220003                    LDX0    16416,DU
         3 000032   203527 740100                    STX0    LAST_CLASS,,AUTO

     5404     2353    1        NUM_LINES = 0;

   2353  3 000033   203545 450100                    STZ     NUM_LINES,,AUTO

     5405     2354    1        TH_SAVE = TH_CONSTRAINTS;

   2354  3 000034   000000 100400                    MLR     fill='000'O
         3 000035   000000 000333 xsym               ADSC9   TH_CONSTRAINTS           cn=0,n=219
         3 000036   000000 000333 xsym               ADSC9   TH_SAVE                  cn=0,n=219

     5406     2355    2        IF TH_PROC_FLAG THEN DO;

   2355  3 000037   000000 234000 xsym               SZN     TH_PROC_FLAG
         3 000040   000045 605000 3                  TPL     s:2359

     5407     2356    2           CALL THE$PROCESS;

   2356  3 000041   000002 631400 xsym               EPPR1   B_VECTNIL+2
         3 000042   000000 701000 xent               TSX1    THE$PROCESS
         3 000043   000000 011000                    NOP     0

     5408     2357    2           TH_PROC_FLAG = %FALSE;

   2357  3 000044   000000 450000 xsym               STZ     TH_PROC_FLAG

     5409     2358    2           END;  /* IF TH_PROC_FLAG */

     5410     2359    1        TH_CONSTRAINTS = TH_SAVE;

   2359  3 000045   000000 100400                    MLR     fill='000'O
         3 000046   000000 000333 xsym               ADSC9   TH_SAVE                  cn=0,n=219
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1032 
         3 000047   000000 000333 xsym               ADSC9   TH_CONSTRAINTS           cn=0,n=219

     5411     2360    1        CALL THW$WRITE(VECTOR(PVAL_HDR));

   2360  3 000050   000006 630400 4                  EPPR0   6
         3 000051   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000052   000000 701000 xent               TSX1    THW$WRITE
         3 000053   000000 011000                    NOP     0

     5412     2361    2        DO I = 0 TO NUMDEVS - 1;

   2361  3 000054   203530 450100                    STZ     I,,AUTO
         3 000055   000677 710000 3                  TRA     ENDLOOP+1

     5413     2362    2           ATTEN_FLAG = %FALSE;

   2362  3 000056   203543 450100                    STZ     ATTEN_FLAG,,AUTO

     5414     2363    2           ALERT_FLAG = %FALSE;

   2363  3 000057   203544 450100                    STZ     ALERT_FLAG,,AUTO

     5415     2364    2           COUNT = 0;

   2364  3 000060   203541 450100                    STZ     COUNT,,AUTO

     5416     2365    2           CONNECTS = 0;

   2365  3 000061   203542 450100                    STZ     CONNECTS,,AUTO

     5417     2366    2           PVAL = 10000;  /* %100 */

   2366  3 000062   023420 235007                    LDA     10000,DL
         3 000063   203540 755100                    STA     PVAL,,AUTO

     5418     2367    2          CALL XUD$UTS_DIFF_SEC (START_TIME, TH_CONSTRAINTS.START, 0);

PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1033 
   2367  3 000064   000007 236000 4                  LDQ     7
         3 000065   203552 756100                    STQ     EOF_FLAG+4,,AUTO
         3 000066   000010 236000 4                  LDQ     8
         3 000067   203551 756100                    STQ     EOF_FLAG+3,,AUTO
         3 000070   203076 630500                    EPPR0   START_TIME,,AUTO
         3 000071   203550 450500                    STP0    EOF_FLAG+2,,AUTO
         3 000072   203550 630500                    EPPR0   EOF_FLAG+2,,AUTO
         3 000073   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000074   000000 701000 xent               TSX1    XUD$UTS_DIFF_SEC
         3 000075   000000 011000                    NOP     0

     5419     2368    2          START_TIME = START_TIME / 86400;

   2368  3 000076   203076 236100                    LDQ     START_TIME,,AUTO
         3 000077   000001 772000                    QRL     1
         3 000100   124300 506007                    DIV     43200,DL
         3 000101   203076 756100                    STQ     START_TIME,,AUTO

     5420     2369    2          CALL XUD$UTS_ADJ_25TH (START_TIME, 0, START_TIME*%UTS_25TH_DAY#);

   2369  3 000102   000011 402000 4                  MPY     9
         3 000103   203550 756100                    STQ     EOF_FLAG+2,,AUTO
         3 000104   203550 630500                    EPPR0   EOF_FLAG+2,,AUTO
         3 000105   203553 450500                    STP0    EOF_FLAG+5,,AUTO
         3 000106   000007 236000 4                  LDQ     7
         3 000107   203552 756100                    STQ     EOF_FLAG+4,,AUTO
         3 000110   203076 631500                    EPPR1   START_TIME,,AUTO
         3 000111   203551 451500                    STP1    EOF_FLAG+3,,AUTO
         3 000112   203551 630500                    EPPR0   EOF_FLAG+3,,AUTO
         3 000113   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000114   000000 701000 xent               TSX1    XUD$UTS_ADJ_25TH
         3 000115   000000 011000                    NOP     0

     5421     2370    2          CALL XUD$UTS_DIFF_SEC (STOP_TIME, TH_CONSTRAINTS.STOP, 0);

   2370  3 000116   000007 236000 4                  LDQ     7
         3 000117   203552 756100                    STQ     EOF_FLAG+4,,AUTO
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1034 
         3 000120   000012 236000 4                  LDQ     10
         3 000121   203551 756100                    STQ     EOF_FLAG+3,,AUTO
         3 000122   203077 630500                    EPPR0   STOP_TIME,,AUTO
         3 000123   203550 450500                    STP0    EOF_FLAG+2,,AUTO
         3 000124   203550 630500                    EPPR0   EOF_FLAG+2,,AUTO
         3 000125   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000126   000000 701000 xent               TSX1    XUD$UTS_DIFF_SEC
         3 000127   000000 011000                    NOP     0

     5422     2371    2          STOP_TIME = STOP_TIME / 86400;

   2371  3 000130   203077 236100                    LDQ     STOP_TIME,,AUTO
         3 000131   000001 772000                    QRL     1
         3 000132   124300 506007                    DIV     43200,DL
         3 000133   203077 756100                    STQ     STOP_TIME,,AUTO

     5423     2372    2          CALL XUD$UTS_ADJ_25TH (STOP_TIME, 0, STOP_TIME*%UTS_25TH_DAY#);

   2372  3 000134   000011 402000 4                  MPY     9
         3 000135   203550 756100                    STQ     EOF_FLAG+2,,AUTO
         3 000136   203550 630500                    EPPR0   EOF_FLAG+2,,AUTO
         3 000137   203553 450500                    STP0    EOF_FLAG+5,,AUTO
         3 000140   000007 236000 4                  LDQ     7
         3 000141   203552 756100                    STQ     EOF_FLAG+4,,AUTO
         3 000142   203077 631500                    EPPR1   STOP_TIME,,AUTO
         3 000143   203551 451500                    STP1    EOF_FLAG+3,,AUTO
         3 000144   203551 630500                    EPPR0   EOF_FLAG+3,,AUTO
         3 000145   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000146   000000 701000 xent               TSX1    XUD$UTS_ADJ_25TH
         3 000147   000000 011000                    NOP     0

     5424     2373    2          ERRLOG_DATE = START_TIME;

   2373  3 000150   203076 235100                    LDA     START_TIME,,AUTO
         3 000151   000000 755000 2                  STA     ERRLOG_DATE

     5425     2374    3          DO WHILE (ERRLOG_DATE <= STOP_TIME);
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1035 

   2374  3 000152   203077 236100                    LDQ     STOP_TIME,,AUTO
         3 000153   000000 116000 2                  CMPQ    ERRLOG_DATE
         3 000154   000340 602000 3                  TNC     s:2405

     5426     2375    3              CALL XUD$UTS_DIFF_SEC(UTS, ERRLOG_DATE, 0);

   2375  3 000155   000007 236000 4                  LDQ     7
         3 000156   203552 756100                    STQ     EOF_FLAG+4,,AUTO
         3 000157   000013 236000 4                  LDQ     11
         3 000160   203551 756100                    STQ     EOF_FLAG+3,,AUTO
         3 000161   203507 630500                    EPPR0   UTS,,AUTO
         3 000162   203550 450500                    STP0    EOF_FLAG+2,,AUTO
         3 000163   203550 630500                    EPPR0   EOF_FLAG+2,,AUTO
         3 000164   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000165   000000 701000 xent               TSX1    XUD$UTS_DIFF_SEC
         3 000166   000000 011000                    NOP     0

     5427     2376    3              UTS = UTS / 86400;

   2376  3 000167   203507 236100                    LDQ     UTS,,AUTO
         3 000170   000001 772000                    QRL     1
         3 000171   124300 506007                    DIV     43200,DL
         3 000172   203507 756100                    STQ     UTS,,AUTO

     5428     2377    3              CALL XUD$UTS_ADJ_25TH(UTS, 0, UTS * %UTS_25TH_DAY#);

   2377  3 000173   000011 402000 4                  MPY     9
         3 000174   203550 756100                    STQ     EOF_FLAG+2,,AUTO
         3 000175   203550 630500                    EPPR0   EOF_FLAG+2,,AUTO
         3 000176   203553 450500                    STP0    EOF_FLAG+5,,AUTO
         3 000177   000007 236000 4                  LDQ     7
         3 000200   203552 756100                    STQ     EOF_FLAG+4,,AUTO
         3 000201   203507 631500                    EPPR1   UTS,,AUTO
         3 000202   203551 451500                    STP1    EOF_FLAG+3,,AUTO
         3 000203   203551 630500                    EPPR0   EOF_FLAG+3,,AUTO
         3 000204   000021 631400 xsym               EPPR1   B_VECTNIL+17
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1036 
         3 000205   000000 701000 xent               TSX1    XUD$UTS_ADJ_25TH
         3 000206   000000 011000                    NOP     0

     5429     2378    3              IF SUBSTR(TH_HEAD.DEVNAME(I),0,3) = 'FEP'

   2378  3 000207   203530 235100                    LDA     I,,AUTO
         3 000210   000001 735000                    ALS     1
         3 000211   200023 236105                    LDQ     TH_HEAD+16,AL,AUTO
         3 000212   000171 676000 1                  ERQ     PVAL_LINE+12
         3 000213   000014 376000 4                  ANQ     12
         3 000214   000676 600000 3                  TZE     ENDLOOP

     5430     2379    3                 THEN GOTO ENDLOOP;  /* PVALS UNDEFINED FOR FEPS */
     5431     2380    3              CALL THG$GETREC(%DEVHIST,TH_HEAD.DEVNAME(I),UTS) ALTRET(NOT_THERE);

   2380  3 000215   203507 630500                    EPPR0   UTS,,AUTO
         3 000216   203552 450500                    STP0    EOF_FLAG+4,,AUTO
         3 000217   200023 631505                    EPPR1   TH_HEAD+16,AL,AUTO
         3 000220   203551 451500                    STP1    EOF_FLAG+3,,AUTO
         3 000221   000000 236000 4                  LDQ     0
         3 000222   203550 756100                    STQ     EOF_FLAG+2,,AUTO
         3 000223   203550 630500                    EPPR0   EOF_FLAG+2,,AUTO
         3 000224   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000225   000000 701000 xent               TSX1    THG$GETREC
         3 000226   000331 702000 3                  TSX2    NOT_THERE

     5432     2381    3              IF (SUBSTR(TH_HEAD.DEVNAME(I),0,2) = 'UC') OR

   2381  3 000227   203530 235100                    LDA     I,,AUTO
         3 000230   000001 735000                    ALS     1
         3 000231   200023 220105                    LDX0    TH_HEAD+16,AL,AUTO
         3 000232   000172 100000 1                  CMPX0   PVAL_LINE+13
         3 000233   000240 600000 3                  TZE     s:2384
         3 000234   000173 100000 1                  CMPX0   PVAL_LINE+14
         3 000235   000240 600000 3                  TZE     s:2384
         3 000236   000174 100000 1                  CMPX0   PVAL_LINE+15
         3 000237   000253 601000 3                  TNZ     s:2389
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1037 

     5433     2382    3                 (SUBSTR(TH_HEAD.DEVNAME(I),0,2) = 'DC') OR
     5434     2383    4                 (SUBSTR(TH_HEAD.DEVNAME(I),0,2) = 'TC') THEN DO;

     5435     2384    4                 MPCREC = TH_RECORD.PTR$->TH$MPC;

   2384  3 000240   000001 470400 xsym               LDP0    TH_RECORD+1
         3 000241   000100 100500                    MLR     fill='000'O
         3 000242   000000 000510                    ADSC9   0,,PR0                   cn=0,n=328
         3 000243   202725 000510                    ADSC9   MPCREC,,AUTO             cn=0,n=328

     5436     2385    4                 COUNT = COUNT + MPCREC.COUNT;

   2385  3 000244   203541 236100                    LDQ     COUNT,,AUTO
         3 000245   202725 036100                    ADLQ    MPCREC,,AUTO
         3 000246   203541 756100                    STQ     COUNT,,AUTO

     5437     2386    4                 CONNECTS = CONNECTS + MPCREC.CONNECTS;

   2386  3 000247   203542 236100                    LDQ     CONNECTS,,AUTO
         3 000250   202726 036100                    ADLQ    MPCREC+1,,AUTO
         3 000251   203542 756100                    STQ     CONNECTS,,AUTO

     5438     2387    4                 END;  /* IF MPC */

   2387  3 000252   000317 710000 3                  TRA     s:2401

     5439     2388    3                 ELSE
     5440     2389    4              IF SUBSTR(TH_HEAD.DEVNAME(I),0,3) = 'IOM' THEN DO;

   2389  3 000253   200023 236105                    LDQ     TH_HEAD+16,AL,AUTO
         3 000254   000175 676000 1                  ERQ     PVAL_LINE+16
         3 000255   000014 376000 4                  ANQ     12
         3 000256   000272 601000 3                  TNZ     s:2395

     5441     2390    4                 IOMREC = TH_RECORD.PTR$->TH$IOM;

PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1038 
   2390  3 000257   000001 470400 xsym               LDP0    TH_RECORD+1
         3 000260   000100 100500                    MLR     fill='000'O
         3 000261   000000 002060                    ADSC9   0,,PR0                   cn=0,n=1072
         3 000262   202311 002060                    ADSC9   IOMREC,,AUTO             cn=0,n=1072

     5442     2391    4                 COUNT = COUNT + IOMREC.COUNT;

   2391  3 000263   203541 236100                    LDQ     COUNT,,AUTO
         3 000264   202724 036100                    ADLQ    IOMREC+267,,AUTO
         3 000265   203541 756100                    STQ     COUNT,,AUTO

     5443     2392    4                 CONNECTS = CONNECTS + IOMREC.CONNECTS;

   2392  3 000266   203542 236100                    LDQ     CONNECTS,,AUTO
         3 000267   202723 036100                    ADLQ    IOMREC+266,,AUTO
         3 000270   203542 756100                    STQ     CONNECTS,,AUTO

     5444     2393    4                 END;  /* IF IOM */

   2393  3 000271   000317 710000 3                  TRA     s:2401

     5445     2394    4              ELSE DO;

     5446     2395    4                 DEVREC = TH_RECORD.PTR$->TH$DEV;

   2395  3 000272   000001 470400 xsym               LDP0    TH_RECORD+1
         3 000273   000100 100500                    MLR     fill='000'O
         3 000274   000000 000134                    ADSC9   0,,PR0                   cn=0,n=92
         3 000275   203047 000134                    ADSC9   DEVREC,,AUTO             cn=0,n=92

     5447     2396    5                 DO K = 10 TO 20;

   2396  3 000276   000012 236007                    LDQ     10,DL
         3 000277   203532 756100                    STQ     K,,AUTO

     5448     2397    5                    COUNT = COUNT + DEVREC.COUNT(K);

PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1039 
   2397  3 000300   203532 235100                    LDA     K,,AUTO
         3 000301   000001 735000                    ALS     1
         3 000302   000100 101505                    MRL     fill='000'O
         3 000303   203060 000002                    ADSC9   DEVREC+9,A,AUTO          cn=0,n=2
         3 000304   203550 000004                    ADSC9   EOF_FLAG+2,,AUTO         cn=0,n=4
         3 000305   203550 236100                    LDQ     EOF_FLAG+2,,AUTO
         3 000306   203541 036100                    ADLQ    COUNT,,AUTO
         3 000307   203541 756100                    STQ     COUNT,,AUTO

     5449     2398    5                    END;  /* DO K */

   2398  3 000310   203532 054100                    AOS     K,,AUTO
         3 000311   203532 235100                    LDA     K,,AUTO
         3 000312   000024 115007                    CMPA    20,DL
         3 000313   000300 604400 3                  TMOZ    s:2397

     5450     2399    4                 CONNECTS = CONNECTS + DEVREC.CONNECTS;

   2399  3 000314   203542 236100                    LDQ     CONNECTS,,AUTO
         3 000315   203075 036100                    ADLQ    DEVREC+22,,AUTO
         3 000316   203542 756100                    STQ     CONNECTS,,AUTO

     5451     2400    4                 END;  /* ELSE */

     5452     2401    3              CALL THP$STATS(COUNT,CONNECTS,PVAL);

   2401  3 000317   203540 630500                    EPPR0   PVAL,,AUTO
         3 000320   203552 450500                    STP0    EOF_FLAG+4,,AUTO
         3 000321   203542 631500                    EPPR1   CONNECTS,,AUTO
         3 000322   203551 451500                    STP1    EOF_FLAG+3,,AUTO
         3 000323   203541 633500                    EPPR3   COUNT,,AUTO
         3 000324   203550 453500                    STP3    EOF_FLAG+2,,AUTO
         3 000325   203550 630500                    EPPR0   EOF_FLAG+2,,AUTO
         3 000326   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000327   000000 701000 xent               TSX1    THP$STATS
         3 000330   000000 011000                    NOP     0

PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1040 
     5453     2402    3     NOT_THERE:
     5454     2403    3              CALL XUD$UTS_ADJ_25TH(ERRLOG_DATE,ERRLOG_DATE,%UTS_25TH_DAY#);

   2403  3 000331   000015 630400 4     NOT_THERE    EPPR0   13
         3 000332   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000333   000000 701000 xent               TSX1    XUD$UTS_ADJ_25TH
         3 000334   000000 011000                    NOP     0

     5455     2404    3              END;  /* DO ERRLOG_DATE */

   2404  3 000335   203077 236100                    LDQ     STOP_TIME,,AUTO
         3 000336   000000 116000 2                  CMPQ    ERRLOG_DATE
         3 000337   000155 603000 3                  TRC     s:2375

     5456     2405    2           FLAG_BUF = ' ';

   2405  3 000340   040100 100400                    MLR     fill='040'O
         3 000341   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 000342   203516 000015                    ADSC9   FLAG_BUF,,AUTO           cn=0,n=13

     5457     2406    2           IF PVAL  < TH_THRESH.ALERT(I)

   2406  3 000343   203530 235100                    LDA     I,,AUTO
         3 000344   000002 735000                    ALS     2
         3 000345   203540 236100                    LDQ     PVAL,,AUTO
         3 000346   200650 116105                    CMPQ    TH_THRESH+3,AL,AUTO
         3 000347   000354 605000 3                  TPL     s:2409

     5458     2407    2              THEN FLAG_BUF = '*** ALERT ***';

   2407  3 000350   040100 100400                    MLR     fill='040'O
         3 000351   000176 000015 1                  ADSC9   PVAL_LINE+17             cn=0,n=13
         3 000352   203516 000015                    ADSC9   FLAG_BUF,,AUTO           cn=0,n=13
         3 000353   000361 710000 3                  TRA     s:2411

     5459     2408    2              ELSE
     5460     2409    2           IF PVAL < TH_THRESH.ATTEN(I)
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1041 

   2409  3 000354   200647 116105                    CMPQ    TH_THRESH+2,AL,AUTO
         3 000355   000361 605000 3                  TPL     s:2411

     5461     2410    2              THEN FLAG_BUF = '* ATTENTION *';

   2410  3 000356   040100 100400                    MLR     fill='040'O
         3 000357   000202 000015 1                  ADSC9   PVAL_LINE+21             cn=0,n=13
         3 000360   203516 000015                    ADSC9   FLAG_BUF,,AUTO           cn=0,n=13

     5462     2411    2           DCTX = 0;

   2411  3 000361   203536 450100                    STZ     DCTX,,AUTO

     5463     2412    3           DO UNTIL(DCTX > TH_MAXDCTX OR DCT.DEVNM = TH_HEAD.DEVNAME(I));

     5464     2413    3              DCTX = DCTX + 1;

   2413  3 000362   203536 235100                    LDA     DCTX,,AUTO
         3 000363   000001 035007                    ADLA    1,DL
         3 000364   203536 755100                    STA     DCTX,,AUTO

     5465     2414    3              DCT$ = TH_DCT$(DCTX);

   2414  3 000365   000000 236005 xsym               LDQ     TH_DCT$,AL
         3 000366   203537 756100                    STQ     DCT$,,AUTO

     5466     2415    3              DCTPTR.SEGID = %SPCL1SID;

   2415  3 000367   006021 236007                    LDQ     3089,DL
         3 000370   203537 752103                    STCQ    DCT$,'03'O,AUTO

     5467     2416    3              END;  /* DO UNTIL */

   2416  3 000371   000000 236000 xsym               LDQ     TH_MAXDCTX
         3 000372   203536 116100                    CMPQ    DCTX,,AUTO
         3 000373   000403 602000 3                  TNC     s:2417
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1042 
         3 000374   203530 235100                    LDA     I,,AUTO
         3 000375   000003 735000                    ALS     3
         3 000376   203537 470500                    LDP0    DCT$,,AUTO
         3 000377   040105 106500                    CMPC    fill='040'O
         3 000400   000002 000010                    ADSC9   2,,PR0                   cn=0,n=8
         3 000401   200023 000010                    ADSC9   TH_HEAD+16,A,AUTO        cn=0,n=8
         3 000402   000362 601000 3                  TNZ     s:2413

     5468     2417    2           IF DCTX > TH_MAXDCTX THEN GOTO ENDLOOP;

   2417  3 000403   203536 116100                    CMPQ    DCTX,,AUTO
         3 000404   000676 602000 3                  TNC     ENDLOOP

     5469     2418    2           IF PVAL = 10000

   2418  3 000405   203540 235100                    LDA     PVAL,,AUTO
         3 000406   023420 115007                    CMPA    10000,DL
         3 000407   000414 601000 3                  TNZ     s:2420

     5470     2419    2              THEN PVAL_BUF = '%100.00';

   2419  3 000410   040100 100400                    MLR     fill='040'O
         3 000411   000206 000007 1                  ADSC9   PVAL_LINE+25             cn=0,n=7
         3 000412   203510 000007                    ADSC9   PVAL_BUF,,AUTO           cn=0,n=7
         3 000413   000455 710000 3                  TRA     s:2432

     5471     2420    2          ELSE IF CONNECTS = 0

   2420  3 000414   203542 235100                    LDA     CONNECTS,,AUTO
         3 000415   000425 601000 3                  TNZ     s:2426

     5472     2421    3                 THEN DO;

     5473     2422    3                   PVAL_BUF = '%100.00';

   2422  3 000416   040100 100400                    MLR     fill='040'O
         3 000417   000206 000007 1                  ADSC9   PVAL_LINE+25             cn=0,n=7
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1043 
         3 000420   203510 000007                    ADSC9   PVAL_BUF,,AUTO           cn=0,n=7

     5474     2423    3                   FLAG_BUF = ' ';

   2423  3 000421   040100 100400                    MLR     fill='040'O
         3 000422   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 000423   203516 000015                    ADSC9   FLAG_BUF,,AUTO           cn=0,n=13

     5475     2424    3                 END;

   2424  3 000424   000455 710000 3                  TRA     s:2432

     5476     2425    3           ELSE DO;

     5477     2426    3              INT_PART = PVAL/100;

   2426  3 000425   203540 236100                    LDQ     PVAL,,AUTO
         3 000426   000144 506007                    DIV     100,DL
         3 000427   203525 756100                    STQ     INT_PART,,AUTO

     5478     2427    3              FRACT_PART = MOD(PVAL,100);

   2427  3 000430   203540 236100                    LDQ     PVAL,,AUTO
         3 000431   000144 506007                    DIV     100,DL
         3 000432   203524 755100                    STA     FRACT_PART,,AUTO

     5479     2428    3              CALL BINCHAR(TEMP,INT_PART);

   2428  3 000433   203525 236100                    LDQ     INT_PART,,AUTO
         3 000434   000000 235003                    LDA     0,DU
         3 000435   203550 757100                    STAQ    EOF_FLAG+2,,AUTO
         3 000436   000100 301500                    BTD
         3 000437   203550 000010                    NDSC9   EOF_FLAG+2,,AUTO         cn=0,s=lsgnf,sf=0,n=8
         3 000440   203522 030002                    NDSC9   TEMP,,AUTO               cn=0,s=nosgn,sf=0,n=2

     5480     2429    3              CALL BINCHAR(TEMP1,FRACT_PART);

PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1044 
   2429  3 000441   000100 301500                    BTD
         3 000442   203524 000004                    NDSC9   FRACT_PART,,AUTO         cn=0,s=lsgnf,sf=0,n=4
         3 000443   203523 030002                    NDSC9   TEMP1,,AUTO              cn=0,s=nosgn,sf=0,n=2

     5481     2430    3              CALL INSERT(PVAL_BUF,0,7,' %',TEMP,'.',TEMP1);

   2430  3 000444   000210 220000 1                  LDX0    PVAL_LINE+27
         3 000445   203510 740100                    STX0    PVAL_BUF,,AUTO
         3 000446   203522 221100                    LDX1    TEMP,,AUTO
         3 000447   203510 441100                    SXL1    PVAL_BUF,,AUTO
         3 000450   056000 236003                    LDQ     23552,DU
         3 000451   203511 552140                    STBQ    PVAL_BUF+1,'40'O,AUTO
         3 000452   203523 236100                    LDQ     TEMP1,,AUTO
         3 000453   000011 772000                    QRL     9
         3 000454   203511 552130                    STBQ    PVAL_BUF+1,'30'O,AUTO

     5482     2431    3              END;  /* ELSE */

     5483     2432    2           IF TH_THRESH.ATTEN(I) = 10000

   2432  3 000455   203530 235100                    LDA     I,,AUTO
         3 000456   000002 735000                    ALS     2
         3 000457   200647 235105                    LDA     TH_THRESH+2,AL,AUTO
         3 000460   023420 115007                    CMPA    10000,DL
         3 000461   000466 601000 3                  TNZ     s:2435

     5484     2433    2              THEN ATTEN_BUF = '%100.00';

   2433  3 000462   040100 100400                    MLR     fill='040'O
         3 000463   000206 000007 1                  ADSC9   PVAL_LINE+25             cn=0,n=7
         3 000464   203512 000007                    ADSC9   ATTEN_BUF,,AUTO          cn=0,n=7
         3 000465   000522 710000 3                  TRA     s:2441

     5485     2434    3           ELSE DO;

     5486     2435    3              INT_PART = TH_THRESH.ATTEN(I)/100;

PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1045 
   2435  3 000466   203530 235100                    LDA     I,,AUTO
         3 000467   000002 735000                    ALS     2
         3 000470   200647 236105                    LDQ     TH_THRESH+2,AL,AUTO
         3 000471   000144 506007                    DIV     100,DL
         3 000472   203525 756100                    STQ     INT_PART,,AUTO

     5487     2436    3              FRACT_PART = MOD(TH_THRESH.ATTEN(I),100);

   2436  3 000473   203530 235100                    LDA     I,,AUTO
         3 000474   000002 735000                    ALS     2
         3 000475   200647 236105                    LDQ     TH_THRESH+2,AL,AUTO
         3 000476   000144 506007                    DIV     100,DL
         3 000477   203524 755100                    STA     FRACT_PART,,AUTO

     5488     2437    3              CALL BINCHAR(TEMP,INT_PART);

   2437  3 000500   203525 236100                    LDQ     INT_PART,,AUTO
         3 000501   000000 235003                    LDA     0,DU
         3 000502   203550 757100                    STAQ    EOF_FLAG+2,,AUTO
         3 000503   000100 301500                    BTD
         3 000504   203550 000010                    NDSC9   EOF_FLAG+2,,AUTO         cn=0,s=lsgnf,sf=0,n=8
         3 000505   203522 030002                    NDSC9   TEMP,,AUTO               cn=0,s=nosgn,sf=0,n=2

     5489     2438    3              CALL BINCHAR(TEMP1,FRACT_PART);

   2438  3 000506   000100 301500                    BTD
         3 000507   203524 000004                    NDSC9   FRACT_PART,,AUTO         cn=0,s=lsgnf,sf=0,n=4
         3 000510   203523 030002                    NDSC9   TEMP1,,AUTO              cn=0,s=nosgn,sf=0,n=2

     5490     2439    3              CALL INSERT(ATTEN_BUF,0,7,' %',TEMP,'.',TEMP1);

   2439  3 000511   000210 220000 1                  LDX0    PVAL_LINE+27
         3 000512   203512 740100                    STX0    ATTEN_BUF,,AUTO
         3 000513   203522 221100                    LDX1    TEMP,,AUTO
         3 000514   203512 441100                    SXL1    ATTEN_BUF,,AUTO
         3 000515   056000 236003                    LDQ     23552,DU
         3 000516   203513 552140                    STBQ    ATTEN_BUF+1,'40'O,AUTO
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1046 
         3 000517   203523 236100                    LDQ     TEMP1,,AUTO
         3 000520   000011 772000                    QRL     9
         3 000521   203513 552130                    STBQ    ATTEN_BUF+1,'30'O,AUTO

     5491     2440    3              END;  /* ELSE */

     5492     2441    2           IF TH_THRESH.ALERT(I) = 10000

   2441  3 000522   203530 235100                    LDA     I,,AUTO
         3 000523   000002 735000                    ALS     2
         3 000524   200650 235105                    LDA     TH_THRESH+3,AL,AUTO
         3 000525   023420 115007                    CMPA    10000,DL
         3 000526   000533 601000 3                  TNZ     s:2444

     5493     2442    2              THEN ALERT_BUF = '%100.00';

   2442  3 000527   040100 100400                    MLR     fill='040'O
         3 000530   000206 000007 1                  ADSC9   PVAL_LINE+25             cn=0,n=7
         3 000531   203514 000007                    ADSC9   ALERT_BUF,,AUTO          cn=0,n=7
         3 000532   000567 710000 3                  TRA     s:2450

     5494     2443    3           ELSE DO;

     5495     2444    3              INT_PART = TH_THRESH.ALERT(I)/100;

   2444  3 000533   203530 235100                    LDA     I,,AUTO
         3 000534   000002 735000                    ALS     2
         3 000535   200650 236105                    LDQ     TH_THRESH+3,AL,AUTO
         3 000536   000144 506007                    DIV     100,DL
         3 000537   203525 756100                    STQ     INT_PART,,AUTO

     5496     2445    3              FRACT_PART = MOD(TH_THRESH.ALERT(I),100);

   2445  3 000540   203530 235100                    LDA     I,,AUTO
         3 000541   000002 735000                    ALS     2
         3 000542   200650 236105                    LDQ     TH_THRESH+3,AL,AUTO
         3 000543   000144 506007                    DIV     100,DL
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1047 
         3 000544   203524 755100                    STA     FRACT_PART,,AUTO

     5497     2446    3              CALL BINCHAR(TEMP,INT_PART);

   2446  3 000545   203525 236100                    LDQ     INT_PART,,AUTO
         3 000546   000000 235003                    LDA     0,DU
         3 000547   203550 757100                    STAQ    EOF_FLAG+2,,AUTO
         3 000550   000100 301500                    BTD
         3 000551   203550 000010                    NDSC9   EOF_FLAG+2,,AUTO         cn=0,s=lsgnf,sf=0,n=8
         3 000552   203522 030002                    NDSC9   TEMP,,AUTO               cn=0,s=nosgn,sf=0,n=2

     5498     2447    3              CALL BINCHAR(TEMP1,FRACT_PART);

   2447  3 000553   000100 301500                    BTD
         3 000554   203524 000004                    NDSC9   FRACT_PART,,AUTO         cn=0,s=lsgnf,sf=0,n=4
         3 000555   203523 030002                    NDSC9   TEMP1,,AUTO              cn=0,s=nosgn,sf=0,n=2

     5499     2448    3              CALL INSERT(ALERT_BUF,0,7,' %',TEMP,'.',TEMP1);

   2448  3 000556   000210 220000 1                  LDX0    PVAL_LINE+27
         3 000557   203514 740100                    STX0    ALERT_BUF,,AUTO
         3 000560   203522 221100                    LDX1    TEMP,,AUTO
         3 000561   203514 441100                    SXL1    ALERT_BUF,,AUTO
         3 000562   056000 236003                    LDQ     23552,DU
         3 000563   203515 552140                    STBQ    ALERT_BUF+1,'40'O,AUTO
         3 000564   203523 236100                    LDQ     TEMP1,,AUTO
         3 000565   000011 772000                    QRL     9
         3 000566   203515 552130                    STBQ    ALERT_BUF+1,'30'O,AUTO

     5500     2449    3              END;  /* ELSE */

     5501     2450    2           IF NUM_LINES > 0 AND LAST_CLASS ~= SUBSTR(TH_HEAD.DEVNAME(I),0,2)

   2450  3 000567   203545 235100                    LDA     NUM_LINES,,AUTO
         3 000570   000602 600000 3                  TZE     s:2452
         3 000571   203527 220100                    LDX0    LAST_CLASS,,AUTO
         3 000572   203530 236100                    LDQ     I,,AUTO
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1048 
         3 000573   000001 736000                    QLS     1
         3 000574   200023 100106                    CMPX0   TH_HEAD+16,QL,AUTO
         3 000575   000602 600000 3                  TZE     s:2452

     5502     2451    2              THEN CALL THW$WRITE(VECTOR(BLANK_LINE));

   2451  3 000576   000022 630400 4                  EPPR0   18
         3 000577   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000600   000000 701000 xent               TSX1    THW$WRITE
         3 000601   000000 011000                    NOP     0

     5503     2452    2           CALL THW$WRITE(VECTOR(PVAL_LINE),

   2452  3 000602   000026 235000 4                  LDA     22
         3 000603   203550 452500                    STP2    EOF_FLAG+2,,AUTO
         3 000604   203530 236100                    LDQ     I,,AUTO
         3 000605   000023 736000                    QLS     19
         3 000606   000023 036003                    ADLQ    19,DU
         3 000607   203550 036100                    ADLQ    EOF_FLAG+2,,AUTO
         3 000610   203552 757100                    STAQ    EOF_FLAG+4,,AUTO
         3 000611   000027 235000 4                  LDA     23
         3 000612   203554 452500                    STP2    EOF_FLAG+6,,AUTO
         3 000613   203554 236100                    LDQ     EOF_FLAG+6,,AUTO
         3 000614   003510 036003                    ADLQ    1864,DU
         3 000615   203556 757100                    STAQ    EOF_FLAG+8,,AUTO
         3 000616   000027 235000 4                  LDA     23
         3 000617   203560 452500                    STP2    EOF_FLAG+10,,AUTO
         3 000620   203560 236100                    LDQ     EOF_FLAG+10,,AUTO
         3 000621   003512 036003                    ADLQ    1866,DU
         3 000622   203562 757100                    STAQ    EOF_FLAG+12,,AUTO
         3 000623   000027 235000 4                  LDA     23
         3 000624   203564 452500                    STP2    EOF_FLAG+14,,AUTO
         3 000625   203564 236100                    LDQ     EOF_FLAG+14,,AUTO
         3 000626   003514 036003                    ADLQ    1868,DU
         3 000627   203566 757100                    STAQ    EOF_FLAG+16,,AUTO
         3 000630   000030 235000 4                  LDA     24
         3 000631   203570 452500                    STP2    EOF_FLAG+18,,AUTO
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1049 
         3 000632   203570 236100                    LDQ     EOF_FLAG+18,,AUTO
         3 000633   003516 036003                    ADLQ    1870,DU
         3 000634   203574 757100                    STAQ    EOF_FLAG+22,,AUTO
         3 000635   203552 237100                    LDAQ    EOF_FLAG+4,,AUTO
         3 000636   203572 757100                    STAQ    EOF_FLAG+20,,AUTO
         3 000637   203556 237100                    LDAQ    EOF_FLAG+8,,AUTO
         3 000640   203576 757100                    STAQ    EOF_FLAG+24,,AUTO
         3 000641   203562 237100                    LDAQ    EOF_FLAG+12,,AUTO
         3 000642   203600 757100                    STAQ    EOF_FLAG+26,,AUTO
         3 000643   203566 237100                    LDAQ    EOF_FLAG+16,,AUTO
         3 000644   203602 757100                    STAQ    EOF_FLAG+28,,AUTO
         3 000645   203574 237100                    LDAQ    EOF_FLAG+22,,AUTO
         3 000646   203604 757100                    STAQ    EOF_FLAG+30,,AUTO
         3 000647   203604 630500                    EPPR0   EOF_FLAG+30,,AUTO
         3 000650   203613 450500                    STP0    EOF_FLAG+37,,AUTO
         3 000651   203602 631500                    EPPR1   EOF_FLAG+28,,AUTO
         3 000652   203612 451500                    STP1    EOF_FLAG+36,,AUTO
         3 000653   203600 633500                    EPPR3   EOF_FLAG+26,,AUTO
         3 000654   203611 453500                    STP3    EOF_FLAG+35,,AUTO
         3 000655   203576 634500                    EPPR4   EOF_FLAG+24,,AUTO
         3 000656   203610 454500                    STP4    EOF_FLAG+34,,AUTO
         3 000657   203572 635500                    EPPR5   EOF_FLAG+20,,AUTO
         3 000660   203607 455500                    STP5    EOF_FLAG+33,,AUTO
         3 000661   000031 236000 4                  LDQ     25
         3 000662   203606 756100                    STQ     EOF_FLAG+32,,AUTO
         3 000663   203606 630500                    EPPR0   EOF_FLAG+32,,AUTO
         3 000664   000024 631400 xsym               EPPR1   B_VECTNIL+20
         3 000665   000000 701000 xent               TSX1    THW$WRITE
         3 000666   000000 011000                    NOP     0

     5504     2453    2                          VECTOR(TH_HEAD.DEVNAME(I)),
     5505     2454    2                          VECTOR(PVAL_BUF),
     5506     2455    2                          VECTOR(ATTEN_BUF),
     5507     2456    2                          VECTOR(ALERT_BUF),
     5508     2457    2                          VECTOR(FLAG_BUF));
     5509     2458    2           LAST_CLASS = SUBSTR(TH_HEAD.DEVNAME(I),0,2);

PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1050 
   2458  3 000667   203530 235100                    LDA     I,,AUTO
         3 000670   000001 735000                    ALS     1
         3 000671   200023 220105                    LDX0    TH_HEAD+16,AL,AUTO
         3 000672   203527 740100                    STX0    LAST_CLASS,,AUTO

     5510     2459    2           NUM_LINES = NUM_LINES + 1;

   2459  3 000673   203545 236100                    LDQ     NUM_LINES,,AUTO
         3 000674   000001 036007                    ADLQ    1,DL
         3 000675   203545 756100                    STQ     NUM_LINES,,AUTO

     5511     2460    2      ENDLOOP:
     5512     2461    2           END;  /* DO I */

   2461  3 000676   203530 054100       ENDLOOP      AOS     I,,AUTO
         3 000677   203530 236100                    LDQ     I,,AUTO
         3 000700   000056 604000 3                  TMI     s:2362
         3 000701   203526 116100                    CMPQ    NUMDEVS,,AUTO
         3 000702   000056 602000 3                  TNC     s:2362

     5513     2462    1        TH_CONSTRAINTS.NTYPES = 7;

   2462  3 000703   000007 235007                    LDA     7,DL
         3 000704   000000 755000 xsym               STA     TH_CONSTRAINTS

     5514     2463    1        TH_CONSTRAINTS.TYPES = SYS_TYPE_VEC;

   2463  3 000705   000000 100400                    MLR     fill='000'O
         3 000706   000001 000007 2                  ADSC9   SYS_TYPE_VEC             cn=0,n=7
         3 000707   000001 000032 xsym               ADSC9   TH_CONSTRAINTS+1         cn=0,n=26

     5515     2464    1        NUMEDAC = 0;

   2464  3 000710   203100 450100                    STZ     NUMEDAC,,AUTO

     5516     2465    1        NUMPROCERR = 0;

PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1051 
   2465  3 000711   203101 450100                    STZ     NUMPROCERR,,AUTO

     5517     2466    1        NUMZAP = 0;

   2466  3 000712   203105 450100                    STZ     NUMZAP,,AUTO

     5518     2467    1        NUMSUA = 0;

   2467  3 000713   203102 450100                    STZ     NUMSUA,,AUTO

     5519     2468    1        NUMSNAP = 0;

   2468  3 000714   203103 450100                    STZ     NUMSNAP,,AUTO

     5520     2469    1        NUMSCREECH = 0;

   2469  3 000715   203104 450100                    STZ     NUMSCREECH,,AUTO

     5521     2470    1        NUMFEPEVENT = '0'B;

   2470  3 000716   000100 100400                    MLR     fill='000'O
         3 000717   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         3 000720   203106 002004                    ADSC9   NUMFEPEVENT,,AUTO        cn=0,n=1028

     5522     2471    1          ERRLOG_DATE = START_TIME;

   2471  3 000721   203076 235100                    LDA     START_TIME,,AUTO
         3 000722   000000 755000 2                  STA     ERRLOG_DATE

     5523     2472    2          DO WHILE (ERRLOG_DATE <= STOP_TIME);

   2472  3 000723   203077 236100                    LDQ     STOP_TIME,,AUTO
         3 000724   000000 116000 2                  CMPQ    ERRLOG_DATE
         3 000725   001045 602000 3                  TNC     s:2504

     5524     2473    2           CALL THG$OPENXSA(ERRLOG_DATE) ALTRET(ALT);

PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1052 
   2473  3 000726   000013 630400 4                  EPPR0   11
         3 000727   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000730   000000 701000 xent               TSX1    THG$OPENXSA
         3 000731   001231 702000 3                  TSX2    ALT

     5525     2474    2           TH_IOERR_M_OR_E_SET = '0'B;

   2474  3 000732   000000 450000 xsym               STZ     TH_IOERR_M_OR_E_SET

     5526     2475    2           TH_FEPERR_M_OR_E_SET = '0'B;

   2475  3 000733   000000 450000 xsym               STZ     TH_FEPERR_M_OR_E_SET

     5527     2476    2           TH_CHECK_DEVNM = '0'B;

   2476  3 000734   000000 450000 xsym               STZ     TH_CHECK_DEVNM

     5528     2477    2           EOF_FLAG = %FALSE;

   2477  3 000735   203546 450100                    STZ     EOF_FLAG,,AUTO

     5529     2478    2           TH_BOF = %TRUE;

   2478  3 000736   400000 236003                    LDQ     -131072,DU
         3 000737   000000 756000 xsym               STQ     TH_BOF

     5530     2479    3           DO WHILE(NOT EOF_FLAG);

   2479  3 000740   001034 710000 3                  TRA     s:2500

     5531     2480    3              CALL THG$GETREC(%ERRLOG) ALTRET(EOF);

   2480  3 000741   000032 630400 4                  EPPR0   26
         3 000742   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000743   000000 701000 xent               TSX1    THG$GETREC
         3 000744   001032 702000 3                  TSX2    EOF

PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1053 
     5532     2481    4              DO CASE(TH_ITYPE);

   2481  3 000745   000000 235000 xsym               LDA     TH_ITYPE
         3 000746   000015 135007                    SBLA    13,DL
         3 000747   000022 115007                    CMPA    18,DL
         3 000750   000752 602005 3                  TNC     s:2481+5,AL
         3 000751   001031 710000 3                  TRA     s:2497
         3 000752   001004 710000 3                  TRA     s:2487
         3 000753   001031 710000 3                  TRA     s:2497
         3 000754   001031 710000 3                  TRA     s:2497
         3 000755   001031 710000 3                  TRA     s:2497
         3 000756   001031 710000 3                  TRA     s:2497
         3 000757   001031 710000 3                  TRA     s:2497
         3 000760   000774 710000 3                  TRA     s:2483
         3 000761   001031 710000 3                  TRA     s:2497
         3 000762   001000 710000 3                  TRA     s:2485
         3 000763   001031 710000 3                  TRA     s:2497
         3 000764   001031 710000 3                  TRA     s:2497
         3 000765   001020 710000 3                  TRA     s:2493
         3 000766   001031 710000 3                  TRA     s:2497
         3 000767   001031 710000 3                  TRA     s:2497
         3 000770   001024 710000 3                  TRA     s:2495
         3 000771   001031 710000 3                  TRA     s:2497
         3 000772   001010 710000 3                  TRA     s:2489
         3 000773   001014 710000 3                  TRA     s:2491

     5533     2482    4                 CASE(%TH_EDAC);

     5534     2483    4                    NUMEDAC = NUMEDAC + 1;

   2483  3 000774   203100 236100                    LDQ     NUMEDAC,,AUTO
         3 000775   000001 036007                    ADLQ    1,DL
         3 000776   203100 756100                    STQ     NUMEDAC,,AUTO
         3 000777   001031 710000 3                  TRA     s:2497

     5535     2484    4                 CASE(%TH_PROCERR);

PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1054 
     5536     2485    4                    NUMPROCERR = NUMPROCERR + 1;

   2485  3 001000   203101 236100                    LDQ     NUMPROCERR,,AUTO
         3 001001   000001 036007                    ADLQ    1,DL
         3 001002   203101 756100                    STQ     NUMPROCERR,,AUTO
         3 001003   001031 710000 3                  TRA     s:2497

     5537     2486    4                 CASE(%TH_ZAP);

     5538     2487    4                    NUMZAP = NUMZAP + 1;

   2487  3 001004   203105 236100                    LDQ     NUMZAP,,AUTO
         3 001005   000001 036007                    ADLQ    1,DL
         3 001006   203105 756100                    STQ     NUMZAP,,AUTO
         3 001007   001031 710000 3                  TRA     s:2497

     5539     2488    4                 CASE(%TH_SUA);

     5540     2489    4                    NUMSUA = NUMSUA + 1;

   2489  3 001010   203102 236100                    LDQ     NUMSUA,,AUTO
         3 001011   000001 036007                    ADLQ    1,DL
         3 001012   203102 756100                    STQ     NUMSUA,,AUTO
         3 001013   001031 710000 3                  TRA     s:2497

     5541     2490    4                 CASE(%TH_SNAP);

     5542     2491    4                    NUMSNAP = NUMSNAP + 1;

   2491  3 001014   203103 236100                    LDQ     NUMSNAP,,AUTO
         3 001015   000001 036007                    ADLQ    1,DL
         3 001016   203103 756100                    STQ     NUMSNAP,,AUTO
         3 001017   001031 710000 3                  TRA     s:2497

     5543     2492    4                 CASE(%TH_SCREECH);

     5544     2493    4                    NUMSCREECH = NUMSCREECH + 1;
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1055 

   2493  3 001020   203104 236100                    LDQ     NUMSCREECH,,AUTO
         3 001021   000001 036007                    ADLQ    1,DL
         3 001022   203104 756100                    STQ     NUMSCREECH,,AUTO
         3 001023   001031 710000 3                  TRA     s:2497

     5545     2494    4                 CASE(%TH_FEPEVENT);

     5546     2495    4                    NUMFEPEVENT(EL$FECRASH.FENM.FEP#) = NUMFEPEVENT(EL$FECRASH.FENM.
              2495                             FEP#) + 1;

   2495  3 001024   000001 470400 xsym               LDP0    TH_INFO+1
         3 001025   000001 720100                    LXL0    1,,PR0
         3 001026   203106 235110                    LDA     NUMFEPEVENT,X0,AUTO
         3 001027   000001 035007                    ADLA    1,DL
         3 001030   203106 755110                    STA     NUMFEPEVENT,X0,AUTO

     5547     2496    4                 END;  /* DO CASE */

     5548     2497    4              DO NEVER;

   2497  3 001031   001034 710000 3                  TRA     s:2500

     5549     2498    4        EOF:     EOF_FLAG = %TRUE;

   2498  3 001032   400000 236003       EOF          LDQ     -131072,DU
         3 001033   203546 756100                    STQ     EOF_FLAG,,AUTO

     5550     2499    4                 END;  /* DO NEVER */

     5551     2500    3              END;  /* DO WHILE NOT EOF_FLAG */

   2500  3 001034   203546 234100                    SZN     EOF_FLAG,,AUTO
         3 001035   000741 605000 3                  TPL     s:2480

     5552     2501    2   NO_FILE:
     5553     2502    2           CALL XUD$UTS_ADJ_25TH(ERRLOG_DATE,ERRLOG_DATE,%UTS_25TH_DAY#);
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1056 

   2502  3 001036   000015 630400 4     NO_FILE      EPPR0   13
         3 001037   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001040   000000 701000 xent               TSX1    XUD$UTS_ADJ_25TH
         3 001041   000000 011000                    NOP     0

     5554     2503    2           END;  /* DO ERRLOG_DATE */

   2503  3 001042   203077 236100                    LDQ     STOP_TIME,,AUTO
         3 001043   000000 116000 2                  CMPQ    ERRLOG_DATE
         3 001044   000726 603000 3                  TRC     s:2473

     5555     2504    1        CALL THW$WRITE(VECTOR(EDACLINE),VECTOR(NUMEDAC));

   2504  3 001045   777640 235007                    LDA     -96,DL
         3 001046   203550 452500                    STP2    EOF_FLAG+2,,AUTO
         3 001047   203550 236100                    LDQ     EOF_FLAG+2,,AUTO
         3 001050   003100 036003                    ADLQ    1600,DU
         3 001051   203552 757100                    STAQ    EOF_FLAG+4,,AUTO
         3 001052   203552 630500                    EPPR0   EOF_FLAG+4,,AUTO
         3 001053   203555 450500                    STP0    EOF_FLAG+7,,AUTO
         3 001054   000036 236000 4                  LDQ     30
         3 001055   203554 756100                    STQ     EOF_FLAG+6,,AUTO
         3 001056   203554 630500                    EPPR0   EOF_FLAG+6,,AUTO
         3 001057   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 001060   000000 701000 xent               TSX1    THW$WRITE
         3 001061   000000 011000                    NOP     0

     5556     2505    1        CALL THW$WRITE(VECTOR(PROCERRLINE),VECTOR(NUMPROCERR));

   2505  3 001062   777640 235007                    LDA     -96,DL
         3 001063   203550 452500                    STP2    EOF_FLAG+2,,AUTO
         3 001064   203550 236100                    LDQ     EOF_FLAG+2,,AUTO
         3 001065   003101 036003                    ADLQ    1601,DU
         3 001066   203552 757100                    STAQ    EOF_FLAG+4,,AUTO
         3 001067   203552 630500                    EPPR0   EOF_FLAG+4,,AUTO
         3 001070   203555 450500                    STP0    EOF_FLAG+7,,AUTO
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1057 
         3 001071   000042 236000 4                  LDQ     34
         3 001072   203554 756100                    STQ     EOF_FLAG+6,,AUTO
         3 001073   203554 630500                    EPPR0   EOF_FLAG+6,,AUTO
         3 001074   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 001075   000000 701000 xent               TSX1    THW$WRITE
         3 001076   000000 011000                    NOP     0

     5557     2506    1        CALL THW$WRITE(VECTOR(SCREECHLINE),VECTOR(NUMSCREECH));

   2506  3 001077   777640 235007                    LDA     -96,DL
         3 001100   203550 452500                    STP2    EOF_FLAG+2,,AUTO
         3 001101   203550 236100                    LDQ     EOF_FLAG+2,,AUTO
         3 001102   003104 036003                    ADLQ    1604,DU
         3 001103   203552 757100                    STAQ    EOF_FLAG+4,,AUTO
         3 001104   203552 630500                    EPPR0   EOF_FLAG+4,,AUTO
         3 001105   203555 450500                    STP0    EOF_FLAG+7,,AUTO
         3 001106   000046 236000 4                  LDQ     38
         3 001107   203554 756100                    STQ     EOF_FLAG+6,,AUTO
         3 001110   203554 630500                    EPPR0   EOF_FLAG+6,,AUTO
         3 001111   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 001112   000000 701000 xent               TSX1    THW$WRITE
         3 001113   000000 011000                    NOP     0

     5558     2507    1        CALL THW$WRITE(VECTOR(FEPEVENT_HDR));

   2507  3 001114   000052 630400 4                  EPPR0   42
         3 001115   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 001116   000000 701000 xent               TSX1    THW$WRITE
         3 001117   000000 011000                    NOP     0

     5559     2508    2        DO J = 0 TO 256;

   2508  3 001120   203531 450100                    STZ     J,,AUTO

     5560     2509    2           IF NUMFEPEVENT(J) ~= 0 THEN

   2509  3 001121   203531 720100                    LXL0    J,,AUTO
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1058 
         3 001122   203106 235110                    LDA     NUMFEPEVENT,X0,AUTO
         3 001123   001156 600000 3                  TZE     s:2511

     5561     2510    2              CALL THW$WRITE(VECTOR(FEPEVENTLINE),VECTOR(J),VECTOR(NUMFEPEVENT(J)));

   2510  3 001124   777640 235007                    LDA     -96,DL
         3 001125   203550 452500                    STP2    EOF_FLAG+2,,AUTO
         3 001126   203550 236100                    LDQ     EOF_FLAG+2,,AUTO
         3 001127   003531 036003                    ADLQ    1881,DU
         3 001130   203552 757100                    STAQ    EOF_FLAG+4,,AUTO
         3 001131   777640 235007                    LDA     -96,DL
         3 001132   203554 452500                    STP2    EOF_FLAG+6,,AUTO
         3 001133   203531 236100                    LDQ     J,,AUTO
         3 001134   000022 736000                    QLS     18
         3 001135   003106 036003                    ADLQ    1606,DU
         3 001136   203554 036100                    ADLQ    EOF_FLAG+6,,AUTO
         3 001137   203560 757100                    STAQ    EOF_FLAG+10,,AUTO
         3 001140   203552 237100                    LDAQ    EOF_FLAG+4,,AUTO
         3 001141   203556 757100                    STAQ    EOF_FLAG+8,,AUTO
         3 001142   203560 237100                    LDAQ    EOF_FLAG+10,,AUTO
         3 001143   203562 757100                    STAQ    EOF_FLAG+12,,AUTO
         3 001144   203562 630500                    EPPR0   EOF_FLAG+12,,AUTO
         3 001145   203566 450500                    STP0    EOF_FLAG+16,,AUTO
         3 001146   203556 631500                    EPPR1   EOF_FLAG+8,,AUTO
         3 001147   203565 451500                    STP1    EOF_FLAG+15,,AUTO
         3 001150   000056 236000 4                  LDQ     46
         3 001151   203564 756100                    STQ     EOF_FLAG+14,,AUTO
         3 001152   203564 630500                    EPPR0   EOF_FLAG+14,,AUTO
         3 001153   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 001154   000000 701000 xent               TSX1    THW$WRITE
         3 001155   000000 011000                    NOP     0

     5562     2511    2        END;  /* DO J */

   2511  3 001156   203531 054100                    AOS     J,,AUTO
         3 001157   203531 235100                    LDA     J,,AUTO
         3 001160   000400 115007                    CMPA    256,DL
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1059 
         3 001161   001121 604400 3                  TMOZ    s:2509

     5563     2512    1        CALL THW$WRITE(VECTOR(SUALINE),VECTOR(NUMSUA));

   2512  3 001162   777640 235007                    LDA     -96,DL
         3 001163   203550 452500                    STP2    EOF_FLAG+2,,AUTO
         3 001164   203550 236100                    LDQ     EOF_FLAG+2,,AUTO
         3 001165   003102 036003                    ADLQ    1602,DU
         3 001166   203552 757100                    STAQ    EOF_FLAG+4,,AUTO
         3 001167   203552 630500                    EPPR0   EOF_FLAG+4,,AUTO
         3 001170   203555 450500                    STP0    EOF_FLAG+7,,AUTO
         3 001171   000062 236000 4                  LDQ     50
         3 001172   203554 756100                    STQ     EOF_FLAG+6,,AUTO
         3 001173   203554 630500                    EPPR0   EOF_FLAG+6,,AUTO
         3 001174   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 001175   000000 701000 xent               TSX1    THW$WRITE
         3 001176   000000 011000                    NOP     0

     5564     2513    1        CALL THW$WRITE(VECTOR(SNAPLINE),VECTOR(NUMSNAP));

   2513  3 001177   777640 235007                    LDA     -96,DL
         3 001200   203550 452500                    STP2    EOF_FLAG+2,,AUTO
         3 001201   203550 236100                    LDQ     EOF_FLAG+2,,AUTO
         3 001202   003103 036003                    ADLQ    1603,DU
         3 001203   203552 757100                    STAQ    EOF_FLAG+4,,AUTO
         3 001204   203552 630500                    EPPR0   EOF_FLAG+4,,AUTO
         3 001205   203555 450500                    STP0    EOF_FLAG+7,,AUTO
         3 001206   000066 236000 4                  LDQ     54
         3 001207   203554 756100                    STQ     EOF_FLAG+6,,AUTO
         3 001210   203554 630500                    EPPR0   EOF_FLAG+6,,AUTO
         3 001211   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 001212   000000 701000 xent               TSX1    THW$WRITE
         3 001213   000000 011000                    NOP     0

     5565     2514    1        CALL THW$WRITE(VECTOR(ZAPLINE),VECTOR(NUMZAP));

   2514  3 001214   777640 235007                    LDA     -96,DL
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1060 
         3 001215   203550 452500                    STP2    EOF_FLAG+2,,AUTO
         3 001216   203550 236100                    LDQ     EOF_FLAG+2,,AUTO
         3 001217   003105 036003                    ADLQ    1605,DU
         3 001220   203552 757100                    STAQ    EOF_FLAG+4,,AUTO
         3 001221   203552 630500                    EPPR0   EOF_FLAG+4,,AUTO
         3 001222   203555 450500                    STP0    EOF_FLAG+7,,AUTO
         3 001223   000072 236000 4                  LDQ     58
         3 001224   203554 756100                    STQ     EOF_FLAG+6,,AUTO
         3 001225   203554 630500                    EPPR0   EOF_FLAG+6,,AUTO
         3 001226   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 001227   000000 701000 xent               TSX1    THW$WRITE
         3 001230   000000 011000                    NOP     0

     5566     2515    1   ALT:
     5567     2516    1        CALL THG$CLOSEXSA;

   2516  3 001231   000002 631400 xsym  ALT          EPPR1   B_VECTNIL+2
         3 001232   000000 701000 xent               TSX1    THG$CLOSEXSA
         3 001233   000000 011000                    NOP     0

     5568     2517    1        RETURN;

   2517  3 001234   000000 702200 xent               TSX2  ! X66_ARET
     5569     2518    1   END THF$SYS;
     5570     2519        %EOD;

PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1061 
--  Include file information  --

   XUD_UTS_M.:E05TOU  is referenced.
   B_SEGIDS_C.:E05TOU  is referenced.
   NI$TABLES.:E05TOU  is referenced.
   EL$TABLES.:E05TOU  is referenced.
   TH$HIST.:E05TOU  is referenced.
   TD$STRUCT.:E05TOU  is referenced.
   EL_SUBS_C.:E05TOU  is referenced.
   B_STRINGS_C.:E05TOU  is referenced.
   TH_SUBS_C.:E05TOU  is referenced.
   TH_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure THF$SYS.
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1062 

 **** Variables and constants ****

  ****  Section 001 RoData THF$SYS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     4-0-0/c CHAR(4)     r     1 BLANK_LINE                 5-0-0/c CHAR(30)    r     1 EDACLINE
   104-0-0/c CHAR(25)    r     1 FEPEVENTLINE              72-0-0/c CHAR(38)    r     1 FEPEVENT_HDR
     0-0-0/c CHAR(8)     r     1 HEAD_KEY                  15-0-0/c CHAR(35)    r     1 PROCERRLINE
   113-0-0/c STRC(1206)  r     1 PVAL_HDR                 155-0-0/c CHAR(47)    r     1 PVAL_LINE
    61-0-0/c CHAR(33)    r     1 SCREECHLINE               53-0-0/c CHAR(24)    r     1 SNAPLINE
    41-0-0/c CHAR(37)    r     1 SUALINE                    2-0-0/c CHAR(8)     r     1 THRESH_KEY
    26-0-0/c CHAR(42)    r     1 ZAPLINE

  ****  Section 002  Data  THF$SYS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w UBIN        r     1 ERRLOG_DATE
     1-0-0/b UBIN(9)     r     1 SYS_TYPE_VEC(0:6)

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

  3514-0-0/c CHAR(7)     r     1 ALERT_BUF               3544-0-0/b BIT         r     1 ALERT_FLAG
  3512-0-0/c CHAR(7)     r     1 ATTEN_BUF               3543-0-0/b BIT         r     1 ATTEN_FLAG
  3542-0-0/w UBIN        r     1 CONNECTS                3541-0-0/w UBIN        r     1 COUNT
  3537-0-0/w PTR         r     1 DCT$                    3537-0-0/w STRC        r     1 DCTPTR
  3536-0-0/w UBIN        r     1 DCTX                    3047-0-0/w STRC(828)   r     1 DEVREC
  3546-0-0/b BIT         r     1 EOF_FLAG                3516-0-0/c CHAR(13)    r     1 FLAG_BUF
  3524-0-0/w SBIN        r     1 FRACT_PART              3530-0-0/w SBIN        r     1 I
  3525-0-0/w UBIN        r     1 INT_PART                2311-0-0/w STRC(9648)  r     1 IOMREC
  3531-0-0/w SBIN        r     1 J                       3532-0-0/w SBIN        r     1 K
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1063 
  3527-0-0/c CHAR(2)     r     1 LAST_CLASS              2725-0-0/w STRC(2952)  r     1 MPCREC
  3526-0-0/w UBIN        r     1 NUMDEVS                 3100-0-0/w UBIN        r     1 NUMEDAC
  3106-0-0/w UBIN        r     1 NUMFEPEVENT(0:256)
  3101-0-0/w UBIN        r     1 NUMPROCERR              3104-0-0/w UBIN        r     1 NUMSCREECH
  3103-0-0/w UBIN        r     1 NUMSNAP                 3102-0-0/w UBIN        r     1 NUMSUA
  3105-0-0/w UBIN        r     1 NUMZAP                  3545-0-0/w UBIN        r     1 NUM_LINES
  3540-0-0/w SBIN        r     1 PVAL                    3510-0-0/c CHAR(7)     r     1 PVAL_BUF
  3076-0-0/w UBIN        r     1 START_TIME              3077-0-0/w UBIN        r     1 STOP_TIME
  3522-0-0/c CHAR(2)     r     1 TEMP                    3523-0-0/c CHAR(2)     r     1 TEMP1
     3-0-0/w STRC(15048) r     1 TH_HEAD
   645-0-0/w STRC(144)   r     1 TH_THRESH(0:200)
  3507-0-0/w UBIN        r     1 UTS

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT         r     1 TH_BOF                     0-0-0/b BIT         r     1 TH_CHECK_DEVNM
     0-0-0/d STRC(1971)  r     1 TH_CONSTRAINTS             0-0-0/w PTR         r     1 TH_DCT$(0:511)
     0-0-0/b BIT         r     1 TH_FEPERR_M_OR_E_SET       0-0-0/d STRC(72)    r     1 TH_INFO
     0-0-0/b BIT         r     1 TH_IOERR_M_OR_E_SET        0-0-0/w UBIN        r     1 TH_ITYPE
     0-0-0/w UBIN        r     1 TH_MAXDCTX                 0-0-0/b BIT         r     1 TH_PROC_FLAG
     0-0-0/d STRC(72)    r     1 TH_RECORD                  0-0-0/d STRC(1971)  r     1 TH_SAVE

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(1332)  r     1 DCT                        0-0-0/w STRC(180)   r     1 EL$FECRASH
     0-0-0/w STRC(828)   r     1 TH$DEV                     0-0-0/w STRC(15048) r     1 TH$HEAD
     0-0-0/w STRC(9648)  r     1 TH$IOM                     0-0-0/w STRC(2952)  r     1 TH$MPC
     0-0-0/w STRC(144)   r     1 TH$THRESH(0:200)

PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1064 

   Procedure THF$SYS requires 669 words for executable code.
   Procedure THF$SYS requires 1932 words of local(AUTO) storage.
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1065 
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1066 
          MINI XREF LISTING

ALERT_BUF
      2212**DCL      2442<<ASSIGN   2448<<CALLBLT  2452--CALL
ALERT_FLAG
      2284**DCL      2363<<ASSIGN
ALT
      2516**LABEL    2347--CALLALT  2349--CALLALT  2473--CALLALT
ATTEN_BUF
      2211**DCL      2433<<ASSIGN   2439<<CALLBLT  2452--CALL
ATTEN_FLAG
      2283**DCL      2362<<ASSIGN
BLANK_LINE
      2285**DCL      2451--CALL
CONNECTS
      2282**DCL      2365<<ASSIGN   2386<<ASSIGN   2386>>ASSIGN   2392<<ASSIGN   2392>>ASSIGN   2399<<ASSIGN
      2399>>ASSIGN   2401<>CALL     2420>>IF
COUNT
      2281**DCL      2364<<ASSIGN   2385<<ASSIGN   2385>>ASSIGN   2391<<ASSIGN   2391>>ASSIGN   2397<<ASSIGN
      2397>>ASSIGN   2401<>CALL
DCT.DEVNM
      2241**DCL      2412>>DOUNTIL
DCT.DP
      2261**DCL      2268--REDEF    2271--REDEF    2272--REDEF    2274--REDEF    2274--REDEF    2275--REDEF
      2276--REDEF    2276--REDEF
DCT.MPC.IOCHANX
      2269**DCL      2269--REDEF
DCT$
      2227**DCL      2228--REDEF    2241--IMP-PTR  2412>>DOUNTIL  2414<<ASSIGN
DCTPTR.SEGID
      2231**DCL      2415<<ASSIGN
DCTX
      2226**DCL      2411<<ASSIGN   2412>>DOUNTIL  2413<<ASSIGN   2413>>ASSIGN   2414>>ASSIGN   2417>>IF
DEVREC
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1067 
      2156**DCL      2395<<ASSIGN
DEVREC.CONNECTS
      2174**DCL      2399>>ASSIGN
DEVREC.COUNT
      2173**DCL      2397>>ASSIGN
EDACLINE
      2289**DCL      2504--CALL
EL$FECRASH.FENM.FEP#
      2004**DCL      2495>>ASSIGN   2495>>ASSIGN
ENDLOOP
      2461**LABEL    2379--GOTO     2417--GOTO
EOF
      2498**LABEL    2480--CALLALT
EOF_FLAG
      2288**DCL      2477<<ASSIGN   2479>>DOWHILE  2498<<ASSIGN
ERRLOG_DATE
      2208**DCL      2373<<ASSIGN   2374>>DOWHILE  2375<>CALL     2403<>CALL     2403<>CALL     2471<<ASSIGN
      2472>>DOWHILE  2473<>CALL     2502<>CALL     2502<>CALL
FEPEVENTLINE
      2296**DCL      2510--CALL
FEPEVENT_HDR
      2295**DCL      2507--CALL
FLAG_BUF
      2213**DCL      2405<<ASSIGN   2407<<ASSIGN   2410<<ASSIGN   2423<<ASSIGN   2452--CALL
FRACT_PART
      2216**DCL      2427<<ASSIGN   2429>>CALLBLT  2436<<ASSIGN   2438>>CALLBLT  2445<<ASSIGN   2447>>CALLBLT
HEAD_KEY
      2206**DCL      2347<>CALL
I
      2220**DCL      2361<<DOINDEX  2378>>IF       2380>>CALL     2381>>IF       2381>>IF       2381>>IF
      2389>>IF       2406>>IF       2409>>IF       2412>>DOUNTIL  2432>>IF       2435>>ASSIGN   2436>>ASSIGN
      2441>>IF       2444>>ASSIGN   2445>>ASSIGN   2450>>IF       2452>>CALL     2458>>ASSIGN
INT_PART
      2217**DCL      2426<<ASSIGN   2428>>CALLBLT  2435<<ASSIGN   2437>>CALLBLT  2444<<ASSIGN   2446>>CALLBLT
IOMREC
      2092**DCL      2390<<ASSIGN
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1068 
IOMREC.CONNECTS
      2099**DCL      2392>>ASSIGN
IOMREC.COUNT
      2100**DCL      2391>>ASSIGN
J
      2221**DCL      2508<<DOINDEX  2509>>IF       2510--CALL     2510>>CALL
K
      2222**DCL      2396<<DOINDEX  2397>>ASSIGN
LAST_CLASS
      2219**DCL      2352<<ASSIGN   2450>>IF       2458<<ASSIGN
MPCREC
      2114**DCL      2384<<ASSIGN
MPCREC.CONNECTS
      2116**DCL      2386>>ASSIGN
MPCREC.COUNT
      2115**DCL      2385>>ASSIGN
NOT_THERE
      2403**LABEL    2380--CALLALT
NUMDEVS
      2218**DCL      2351<<ASSIGN   2361>>DOINDEX
NUMEDAC
      2199**DCL      2464<<ASSIGN   2483<<ASSIGN   2483>>ASSIGN   2504--CALL
NUMFEPEVENT
      2205**DCL      2470<<ASSIGN   2495<<ASSIGN   2495>>ASSIGN   2509>>IF       2510--CALL
NUMPROCERR
      2200**DCL      2465<<ASSIGN   2485<<ASSIGN   2485>>ASSIGN   2505--CALL
NUMSCREECH
      2203**DCL      2469<<ASSIGN   2493<<ASSIGN   2493>>ASSIGN   2506--CALL
NUMSNAP
      2202**DCL      2468<<ASSIGN   2491<<ASSIGN   2491>>ASSIGN   2513--CALL
NUMSUA
      2201**DCL      2467<<ASSIGN   2489<<ASSIGN   2489>>ASSIGN   2512--CALL
NUMZAP
      2204**DCL      2466<<ASSIGN   2487<<ASSIGN   2487>>ASSIGN   2514--CALL
NUM_LINES
      2286**DCL      2353<<ASSIGN   2450>>IF       2459<<ASSIGN   2459>>ASSIGN
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1069 
PROCERRLINE
      2290**DCL      2505--CALL
PVAL
      2280**DCL      2366<<ASSIGN   2401<>CALL     2406>>IF       2409>>IF       2418>>IF       2426>>ASSIGN
      2427>>ASSIGN
PVAL_BUF
      2210**DCL      2419<<ASSIGN   2422<<ASSIGN   2430<<CALLBLT  2452--CALL
PVAL_HDR
      2297**DCL      2360--CALL
PVAL_LINE
      2301**DCL      2452--CALL
SCREECHLINE
      2294**DCL      2506--CALL
SNAPLINE
      2293**DCL      2513--CALL
START_TIME
      2197**DCL      2367<>CALL     2368<<ASSIGN   2368>>ASSIGN   2369<>CALL     2369>>CALL     2373>>ASSIGN
      2471>>ASSIGN
STOP_TIME
      2198**DCL      2370<>CALL     2371<<ASSIGN   2371>>ASSIGN   2372<>CALL     2372>>CALL     2374>>DOWHILE
      2472>>DOWHILE
SUALINE
      2292**DCL      2512--CALL
SYS_TYPE_VEC
      2287**DCL      2463>>ASSIGN
TEMP
      2214**DCL      2428<<CALLBLT  2430>>CALLBLT  2437<<CALLBLT  2439>>CALLBLT  2446<<CALLBLT  2448>>CALLBLT
TEMP1
      2215**DCL      2429<<CALLBLT  2430>>CALLBLT  2438<<CALLBLT  2439>>CALLBLT  2447<<CALLBLT  2448>>CALLBLT
TH$DEV
      2177**DCL      2395>>ASSIGN
TH$HEAD
      2044**DCL      2348>>ASSIGN
TH$IOM
      2103**DCL      2390>>ASSIGN
TH$MPC
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1070 
      2135**DCL      2384>>ASSIGN
TH$THRESH
      2086**DCL      2350>>ASSIGN
THE$PROCESS
      1999**DCL-ENT  2356--CALL
THG$CLOSEXSA
      1996**DCL-ENT  2516--CALL
THG$GETREC
      1993**DCL-ENT  2347--CALL     2349--CALL     2380--CALL     2480--CALL
THG$OPENXSA
      1994**DCL-ENT  2473--CALL
THP$STATS
      1997**DCL-ENT  2401--CALL
THRESH_KEY
      2207**DCL      2349<>CALL
THW$WRITE
      1998**DCL-ENT  2360--CALL     2451--CALL     2452--CALL     2504--CALL     2505--CALL     2506--CALL
      2507--CALL     2510--CALL     2512--CALL     2513--CALL     2514--CALL
TH_BOF
       127**DCL      2478<<ASSIGN
TH_CHECK_DEVNM
       137**DCL      2476<<ASSIGN
TH_CONSTRAINTS
        99**DCL      2354>>ASSIGN   2359<<ASSIGN
TH_CONSTRAINTS.E_BY_B
       102**DCL       102--REDEF
TH_CONSTRAINTS.M_BY_B
       101**DCL       101--REDEF
TH_CONSTRAINTS.NTYPES
        99**DCL      2462<<ASSIGN
TH_CONSTRAINTS.START
       100**DCL      2367<>CALL
TH_CONSTRAINTS.STOP
       100**DCL      2370<>CALL
TH_CONSTRAINTS.TYPES
        99**DCL        99--REDEF    2463<<ASSIGN
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1071 
TH_DCT$
       134**DCL      2414>>ASSIGN
TH_DEFAULT.E_BY_B
       110**DCL       110--REDEF
TH_DEFAULT.M_BY_B
       109**DCL       109--REDEF
TH_DEFAULT.TYPES
       107**DCL       107--REDEF
TH_FEPERR_M_OR_E_SET
       136**DCL      2475<<ASSIGN
TH_HEAD
      2008**DCL      2348<<ASSIGN
TH_HEAD.DEVNAME
      2041**DCL      2378>>IF       2380<>CALL     2381>>IF       2381>>IF       2381>>IF       2389>>IF
      2412>>DOUNTIL  2450>>IF       2452--CALL     2458>>ASSIGN
TH_HEAD.NUMXXS
      2036**DCL      2351>>ASSIGN
TH_HEAD.XX_INDX
      2035**DCL      2351>>ASSIGN
TH_INFO.PTR$
       128**DCL      2003--IMP-PTR  2495>>ASSIGN   2495>>ASSIGN
TH_IOERR_M_OR_E_SET
       136**DCL      2474<<ASSIGN
TH_ITYPE
       129**DCL      2481>>DOCASE
TH_MAXDCTX
       133**DCL      2412>>DOUNTIL  2417>>IF
TH_PROC_FLAG
       133**DCL      2355>>IF       2357<<ASSIGN
TH_RECORD.PTR$
       127**DCL      2348>>ASSIGN   2350>>ASSIGN   2384>>ASSIGN   2390>>ASSIGN   2395>>ASSIGN
TH_SAVE
       114**DCL      2354<<ASSIGN   2359>>ASSIGN
TH_SAVE.E_BY_B
       118**DCL       118--REDEF
TH_SAVE.M_BY_B
PL6.E3A0      #006=THF$SYS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:17 Page:1072 
       116**DCL       116--REDEF
TH_SAVE.TYPES
       114**DCL       115--REDEF
TH_THRESH
      2080**DCL      2350<<ASSIGN
TH_THRESH.ALERT
      2083**DCL      2406>>IF       2441>>IF       2444>>ASSIGN   2445>>ASSIGN
TH_THRESH.ATTEN
      2082**DCL      2409>>IF       2432>>IF       2435>>ASSIGN   2436>>ASSIGN
TH_XSA_BUF_VECTOR
       134**DCL       134--REDEF
UTS
      2209**DCL      2375<>CALL     2376<<ASSIGN   2376>>ASSIGN   2377<>CALL     2377>>CALL     2380<>CALL
XUD$UTS_ADJ_25TH
      2328**DCL-ENT  2369--CALL     2372--CALL     2377--CALL     2403--CALL     2502--CALL
XUD$UTS_DIFF_SEC
      2310**DCL-ENT  2367--CALL     2370--CALL     2375--CALL
ZAPLINE
      2291**DCL      2514--CALL

PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1073 
     5571        1        /*M* THF$AMS - ROUTINE TO GENERATE AMS REPORTS FOR ELAN */
     5572        2        /*T***********************************************************/
     5573        3        /*T*                                                         */
     5574        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     5575        5        /*T*                                                         */
     5576        6        /*T***********************************************************/
     5577        7        THF$AMS: PROC;
     5578        8        /**/
     5579        9        /* INCLUDE FILES */
     5580       10        %INCLUDE CP_6;
     5581       91        %INCLUDE TH_SUBS_C;
     5582      473        %INCLUDE TH_DATA_R;
     5583      551        %INCLUDE TH$HIST;
     5584      646        %INCLUDE TD$STRUCT;
     5585      747        %INCLUDE XUD_UTS_M;
     5586      829        /**/
     5587      830        /* ENTRY DEFS */
     5588      831    1   DCL THG$GETREC ENTRY(4) ALTRET;
     5589      832    1   DCL THP$STATS ENTRY(3);
     5590      833    1   DCL THW$WRITE ENTRY(11);
     5591      834    1   DCL THP$PTOT ENTRY(3);
     5592      835    1   DCL THF$ADD_TEXTC ENTRY(3);
     5593      836    1   DCL THE$PROCESS ENTRY ALTRET;
     5594      837        /**/
     5595      838        /* VARS */
     5596      839    1   DCL TH$THRESH$ PTR;
     5597      840    1   DCL TH$HEAD$ PTR;
     5598      841    1   DCL I UBIN;
     5599      842    1   DCL J UBIN;
     5600      843    1   DCL K UBIN;
     5601      844    1   DCL COUNT UBIN WORD;
     5602      845    1   DCL CONNECTS UBIN WORD;
     5603      846    1   DCL ATTEN_FLAG BIT(1);
     5604      847    1   DCL ALERT_FLAG BIT(1);
     5605      848    1   DCL TEMP CHAR(2);
     5606      849    1   DCL VALUE SBIN WORD;
     5607      850    1   DCL INT_PART UBIN WORD;
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1074 
     5608      851    1   DCL FRACT_PART SBIN WORD;
     5609      852    1   DCL STRT UBIN WORD;
     5610      853    1   DCL BUF CHAR(256);
     5611      854    1   DCL LAST_CLASS CHAR(3);
     5612      855    1   DCL 1 TVEC DALIGNED,
     5613      856    1         2 BOUND UBIN(20) UNAL,
     5614      857    1         2 * BIT(16),
     5615      858    1         2 PTR$ PTR;
     5616      859    1   DCL TEXTBUF CHAR(256);
     5617      860    1   DCL TEXT$ PTR;
     5618      861    1   DCL UTS UBIN WORD;
     5619      862    1   DCL CURUTS UBIN WORD STATIC INIT(0);
     5620      863    1   DCL NUMDEVS UBIN WORD;
     5621      864    1   DCL CURVAL SBIN WORD;
     5622      865    1   DCL CURVALM1 UBIN WORD;
     5623      866    1   DCL BAD_DAYS SBIN WORD;
     5624      867    1   DCL BAD_COMPS UBIN WORD;
     5625      868    1   DCL AMS_FMT CHAR(0) CONSTANT INIT(
     5626      869    1   '%4A performance for last %2P%D days %3P%T is below current %T threshold %T%10P');
     5627      870    1   DCL BLANK_LINE CHAR(0) CONSTANT INIT('%10P');
     5628      871    1   DCL NO_ERRORS CHAR(0) CONSTANT INIT('No components exceeded current thresholds %10P'
               871            );
     5629      872    1   DCL ZERO CHAR(8) STATIC INIT('0       ');
     5630      873    1   DCL ONE CHAR(8) STATIC INIT('1       ');
     5631      874    1   DCL TEMP_UTS UBIN;
     5632      875        /**/
     5633      876        /* MACRO INVOCATIONS */
     5634      877        %TD$HEAD (NAME=TH$HEAD,NUMDEV#=200);
     5635      913        %TD$HEAD (NAME=TH_HEAD,STCLASS=AUTO,NUMDEV#=200);
     5636      949        %TH$THRESH (NAME=TH$THRESH,NUMDEV#=200);
     5637      955        %TH$THRESH (NAME=TH_THRESH,STCLASS=AUTO,NUMDEV#=200);
     5638      961        %TH$DEV (NAME=DEVREC,STCLASS=AUTO);
     5639      982        %TH$DEV (NAME=TH$DEV);
     5640     1003        %TH$IOM (NAME=TH$IOM);
     5641     1014        %TH$IOM (NAME=IOMREC,STCLASS=AUTO);
     5642     1025        %TH$MPC (NAME=TH$MPC,NUMDEV#=32);
     5643     1046        %TH$MPC (NAME=MPCREC,STCLASS=AUTO,NUMDEV#=32);
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1075 
     5644     1067        %XUD$UTS_ENTRIES;
     5645     1099        %XUD_UTS_EQU;
     5646     1110        /**/
     5647     1111        /* FPTS */
     5648     1112        %FPT_TIME (FPTN=CUR_UTS,
     5649     1113                   STCLASS=CONSTANT,
     5650     1114                   SOURCE=CLOCK,
     5651     1115                   DEST=UTS,
     5652     1116                   TSTAMP=CURUTS);
     5653     1135        /**/
     5654     1136        %EJECT;
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1076 
     5655     1137    1        CALL M$TIME(CUR_UTS);
     5656     1138    1        CALL XUD$UTS_DIFF_SEC (CURUTS, CURUTS, 0);
     5657     1139    1        CURUTS = CURUTS / 86400;
     5658     1140    1        CALL XUD$UTS_ADJ_25TH (CURUTS, 0, CURUTS * %UTS_25TH_DAY#);
     5659     1141    1        CALL THG$GETREC(%DEVHIST,ZERO);    /* HEAD RECORD                        */
     5660     1142    1        TH_HEAD = TH_RECORD.PTR$->TH$HEAD;
     5661     1143    1        CALL THG$GETREC(%DEVHIST,ONE);     /* THRESH RECORD                      */
     5662     1144    1        TH_THRESH = TH_RECORD.PTR$->TH$THRESH;
     5663     1145
     5664     1146    1        NUMDEVS = TH_HEAD.XX_INDX + TH_HEAD.NUMXXS;
     5665     1147
     5666     1148    1        BAD_COMPS = 0;
     5667     1149    1        LAST_CLASS = ' ';
     5668     1150    1        TH_SAVE = TH_CONSTRAINTS;
     5669     1151    1        CALL THE$PROCESS;
     5670     1152    1        TH_CONSTRAINTS = TH_SAVE;
     5671     1153    2        DO I = 0 TO NUMDEVS - 1;
     5672     1154    2           ATTEN_FLAG = %FALSE;
     5673     1155    2           ALERT_FLAG = %FALSE;
     5674     1156    2           UTS = CURUTS;
     5675     1157    2           COUNT = 0;
     5676     1158    2           CONNECTS = 0;
     5677     1159    2           CURVAL = 10000;
     5678     1160    2           BAD_DAYS = 0;
     5679     1161    2           CALL XUD$UTS_ADJ_25TH (TEMP_UTS, UTS, 15*%UTS_25TH_DAY#);
     5680     1162    3           DO UNTIL(CURVAL >= TH_THRESH.ATTEN(I) OR TEMP_UTS = CURUTS);
     5681     1163    3              CURVALM1 = CURVAL;
     5682     1164    3              CALL THG$GETREC(%DEVHIST,TH_HEAD.DEVNAME(I),UTS) ALTRET(NOT_THERE);
     5683     1165    3              IF (SUBSTR(TH_HEAD.DEVNAME(I),0,2) = 'UC') OR
     5684     1166    3                 (SUBSTR(TH_HEAD.DEVNAME(I),0,2) = 'TC') OR
     5685     1167    3                 (SUBSTR(TH_HEAD.DEVNAME(I),0,2) = 'DC')
     5686     1168    3                 THEN                      /* MPC RECORD                         */
     5687     1169    4                 DO;
     5688     1170    4                    MPCREC = TH_RECORD.PTR$->TH$MPC;
     5689     1171    4                    COUNT = COUNT + MPCREC.COUNT;
     5690     1172    4                    CONNECTS = CONNECTS + MPCREC.CONNECTS;
     5691     1173    4                 END;
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1077 
     5692     1174    3                 ELSE
     5693     1175    3              IF SUBSTR(TH_HEAD.DEVNAME(I),0,3) = 'IOM'
     5694     1176    3                 THEN                      /* IOM RECORD                         */
     5695     1177    4                 DO;
     5696     1178    4                    IOMREC = TH_RECORD.PTR$->TH$IOM;
     5697     1179    4                    COUNT = COUNT + IOMREC.COUNT;
     5698     1180    4                    CONNECTS = CONNECTS + IOMREC.CONNECTS;
     5699     1181    4                 END;
     5700     1182    3                 ELSE
     5701     1183    3              IF SUBSTR(TH_HEAD.DEVNAME(I),0,3) = 'FEP'
     5702     1184    3                 THEN
     5703     1185    4                 DO;
     5704     1186                         /* UNIMPLIMENTED AS YET */
     5705     1187    4                    GOTO ENDLOOP;
     5706     1188    4                 END;
     5707     1189    3                 ELSE                      /* DEVICE RECORD                      */
     5708     1190    4                 DO;
     5709     1191    4                    DEVREC = TH_RECORD.PTR$->TH$DEV;
     5710     1192    5                    DO K = 10 TO 20;
     5711     1193    5                       COUNT = COUNT + DEVREC.COUNT(K);
     5712     1194    5                    END;                   /* DO K                               */
     5713     1195    4                    CONNECTS = CONNECTS + DEVREC.CONNECTS;
     5714     1196    4                 END;
     5715     1197    3              CALL THP$STATS(COUNT,CONNECTS,CURVAL);
     5716     1198    3              IF CURVAL = 10000 THEN;
     5717     1199    4              ELSE IF CURVAL < TH_THRESH.ATTEN(I) THEN DO;
     5718     1200    4                 BAD_DAYS = BAD_DAYS + 1;
     5719     1201    5                 IF CURVAL < TH_THRESH.ALERT(I) THEN DO;
     5720     1202    5                    IF NOT ATTEN_FLAG THEN ALERT_FLAG = %TRUE;
     5721     1203    5                    END;  /* IF CURVAL < ALERT */
     5722     1204    5                    ELSE DO;
     5723     1205    5                       ATTEN_FLAG = %TRUE;
     5724     1206    5                       ALERT_FLAG = %FALSE;
     5725     1207    5                       END;  /* ELSE */
     5726     1208    4                 END;  /* IF CURVAL < ATTEN */
     5727     1209    3   NOT_THERE:
     5728     1210    3              CALL XUD$UTS_ADJ_25TH (UTS, UTS, -%UTS_25TH_DAY#);
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1078 
     5729     1211    3              CALL XUD$UTS_ADJ_25TH(TEMP_UTS,UTS,15*%UTS_25TH_DAY#);
     5730     1212    3           END;                            /* DO UNTIL                           */
     5731     1213    2           CURVAL = CURVALM1;
     5732     1214    2           IF BAD_DAYS > 0
     5733     1215    2              THEN                         /* OUTPUT ONE-LINER                   */
     5734     1216    3              DO;
     5735     1217    3                 IF SUBSTR(TH_HEAD.DEVNAME(I),0,3) ~= LAST_CLASS AND BAD_COMPS > 0
     5736     1218    3                    THEN
     5737     1219    4                    DO;
     5738     1220    4                       CALL THW$WRITE(VECTOR(BLANK_LINE));
     5739     1221    4                       LAST_CLASS = SUBSTR(TH_HEAD.DEVNAME(I),0,3);
     5740     1222    4                    END;  /* IF */
     5741     1223    3                 TEXT$ = ADDR(TEXTBUF);
     5742     1224    3                 STRT = 0;
     5743     1225    3                 INT_PART = CURVAL/100;
     5744     1226    3                 FRACT_PART = MOD(CURVAL,100);
     5745     1227    3                 CALL BINCHAR(TEMP,INT_PART);
     5746     1228    3                 CALL INSERT(BUF,STRT,5,'(%',TEMP,'.');
     5747     1229    3                 STRT = STRT + 5;
     5748     1230    3                 CALL BINCHAR(TEMP,FRACT_PART);
     5749     1231    3                 CALL INSERT(BUF,STRT,3,TEMP,')');
     5750     1232    3                 STRT = STRT + 3;
     5751     1233    3                 CALL THF$ADD_TEXTC(TEXT$,BUF,STRT);
     5752     1234    3                 STRT = 0;
     5753     1235    4                 IF ATTEN_FLAG THEN DO;
     5754     1236    4                    CALL THF$ADD_TEXTC(TEXT$,'ATTEN',5);
     5755     1237    4                    VALUE = TH_THRESH.ATTEN(I);
     5756     1238    4                    END;  /* IF ATTEN_FLAG */
     5757     1239    3                    ELSE
     5758     1240    4                 IF ALERT_FLAG THEN DO;
     5759     1241    4                    CALL THF$ADD_TEXTC(TEXT$,'ALERT',5);
     5760     1242    4                    VALUE = TH_THRESH.ALERT(I);
     5761     1243    4                    END;  /* IF ALERT_FLAG */
     5762     1244    3                 INT_PART = VALUE/100;
     5763     1245    3                 FRACT_PART = MOD(VALUE,100);
     5764     1246    3                 CALL BINCHAR(TEMP,INT_PART);
     5765     1247    3                 CALL INSERT(BUF,STRT,5,'(%',TEMP,'.');
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1079 
     5766     1248    3                 STRT = STRT + 5;
     5767     1249    3                 CALL BINCHAR(TEMP,FRACT_PART);
     5768     1250    3                 CALL INSERT(BUF,STRT,3,TEMP,')');
     5769     1251    3                 STRT = STRT + 3;
     5770     1252    3                 CALL THF$ADD_TEXTC(TEXT$,BUF,STRT);
     5771     1253    3                 TVEC = VECTOR(TEXTBUF);
     5772     1254    3                 TVEC.BOUND = POFFC(TEXT$,ADDR(TEXTBUF)) - 1;
     5773     1255    3                 BAD_COMPS = BAD_COMPS + 1;
     5774     1256    3                 CALL THW$WRITE(VECTOR(AMS_FMT),
     5775     1257    3                                VECTOR(TH_HEAD.DEVNAME(I)),
     5776     1258    3                                VECTOR(BAD_DAYS),
     5777     1259    3                                TVEC);
     5778     1260    3              END;                         /* IF BAD_DAYS > 0                    */
     5779     1261    2   ENDLOOP:
     5780     1262    2        END;                               /* DO I                               */
     5781     1263    1        IF BAD_COMPS = 0
     5782     1264    1           THEN                            /* NO EXCEEDED THRESHOLDS             */
     5783     1265    2           DO;
     5784     1266    2              CALL THW$WRITE(VECTOR(NO_ERRORS));
     5785     1267    2           END;                            /* IF BAD_COMPS = 0                   */
     5786     1268    1   END THF$AMS;
     5787     1269        %EOD;

PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1080 
--  Include file information  --

   XUD_UTS_M.:E05TOU  is referenced.
   TD$STRUCT.:E05TOU  is referenced.
   TH$HIST.:E05TOU  is referenced.
   TH_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   B_STRINGS_C.:E05TOU  is referenced.
   TH_SUBS_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure THF$AMS.

   Procedure THF$AMS requires 436 words for executable code.
   Procedure THF$AMS requires 1768 words of local(AUTO) storage.

PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1081 

 Object Unit name= THF$AMS                                    File name= THF$FORMAT.:E05TOU
 UTS= JUL 30 '97 06:18:28.44 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   Data  even  none     5      5  THF$AMS
    2  RoData even  UTS     56     70  THF$AMS
    3   Proc  even  none   436    664  THF$AMS
    4  RoData even  none    31     37  THF$AMS

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     3      0   yes            yes      Std        0  THF$AMS

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       3 XUD$UTS_DIFF_SEC
         yes           Std       3 THP$STATS
 yes     yes           Std       3 XUD$UTS_ADJ_25TH
 yes     yes           Std       0 THE$PROCESS
 yes     yes           Std       4 THG$GETREC
         yes           Std      11 THW$WRITE
         yes           Std       3 THF$ADD_TEXTC
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1082 

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  TH_CONSTRAINTS                        TH_SAVE
     TH_RECORD                             TH_XSA_BUF_VECTOR                     B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1083 


     5571        1        /*M* THF$AMS - ROUTINE TO GENERATE AMS REPORTS FOR ELAN */
     5572        2        /*T***********************************************************/
     5573        3        /*T*                                                         */
     5574        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     5575        5        /*T*                                                         */
     5576        6        /*T***********************************************************/
     5577        7        THF$AMS: PROC;

      7  3 000000   000000 700200 xent  THF$AMS      TSX0  ! X66_AUTO_0
         3 000001   003350 000000                    ZERO    1768,0

     5578        8        /**/
     5579        9        /* INCLUDE FILES */
     5580       10        %INCLUDE CP_6;
     5581       91        %INCLUDE TH_SUBS_C;
     5582      473        %INCLUDE TH_DATA_R;
     5583      551        %INCLUDE TH$HIST;
     5584      646        %INCLUDE TD$STRUCT;
     5585      747        %INCLUDE XUD_UTS_M;
     5586      829        /**/
     5587      830        /* ENTRY DEFS */
     5588      831    1   DCL THG$GETREC ENTRY(4) ALTRET;
     5589      832    1   DCL THP$STATS ENTRY(3);
     5590      833    1   DCL THW$WRITE ENTRY(11);
     5591      834    1   DCL THP$PTOT ENTRY(3);
     5592      835    1   DCL THF$ADD_TEXTC ENTRY(3);
     5593      836    1   DCL THE$PROCESS ENTRY ALTRET;
     5594      837        /**/
     5595      838        /* VARS */
     5596      839    1   DCL TH$THRESH$ PTR;
     5597      840    1   DCL TH$HEAD$ PTR;
     5598      841    1   DCL I UBIN;
     5599      842    1   DCL J UBIN;
     5600      843    1   DCL K UBIN;
     5601      844    1   DCL COUNT UBIN WORD;
     5602      845    1   DCL CONNECTS UBIN WORD;
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1084 
     5603      846    1   DCL ATTEN_FLAG BIT(1);
     5604      847    1   DCL ALERT_FLAG BIT(1);
     5605      848    1   DCL TEMP CHAR(2);
     5606      849    1   DCL VALUE SBIN WORD;
     5607      850    1   DCL INT_PART UBIN WORD;
     5608      851    1   DCL FRACT_PART SBIN WORD;
     5609      852    1   DCL STRT UBIN WORD;
     5610      853    1   DCL BUF CHAR(256);
     5611      854    1   DCL LAST_CLASS CHAR(3);
     5612      855    1   DCL 1 TVEC DALIGNED,
     5613      856    1         2 BOUND UBIN(20) UNAL,
     5614      857    1         2 * BIT(16),
     5615      858    1         2 PTR$ PTR;
     5616      859    1   DCL TEXTBUF CHAR(256);
     5617      860    1   DCL TEXT$ PTR;
     5618      861    1   DCL UTS UBIN WORD;
     5619      862    1   DCL CURUTS UBIN WORD STATIC INIT(0);
     5620      863    1   DCL NUMDEVS UBIN WORD;
     5621      864    1   DCL CURVAL SBIN WORD;
     5622      865    1   DCL CURVALM1 UBIN WORD;
     5623      866    1   DCL BAD_DAYS SBIN WORD;
     5624      867    1   DCL BAD_COMPS UBIN WORD;
     5625      868    1   DCL AMS_FMT CHAR(0) CONSTANT INIT(
     5626      869    1   '%4A performance for last %2P%D days %3P%T is below current %T threshold %T%10P');
     5627      870    1   DCL BLANK_LINE CHAR(0) CONSTANT INIT('%10P');
     5628      871    1  DCL NO_ERRORS CHAR(0) CONSTANT INIT('No components exceeded current thresholds %10P'
               871            );
     5629      872    1   DCL ZERO CHAR(8) STATIC INIT('0       ');
     5630      873    1   DCL ONE CHAR(8) STATIC INIT('1       ');
     5631      874    1   DCL TEMP_UTS UBIN;
     5632      875        /**/
     5633      876        /* MACRO INVOCATIONS */
     5634      877        %TD$HEAD (NAME=TH$HEAD,NUMDEV#=200);
     5635      913        %TD$HEAD (NAME=TH_HEAD,STCLASS=AUTO,NUMDEV#=200);
     5636      949        %TH$THRESH (NAME=TH$THRESH,NUMDEV#=200);
     5637      955        %TH$THRESH (NAME=TH_THRESH,STCLASS=AUTO,NUMDEV#=200);
     5638      961        %TH$DEV (NAME=DEVREC,STCLASS=AUTO);
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1085 
     5639      982        %TH$DEV (NAME=TH$DEV);
     5640     1003        %TH$IOM (NAME=TH$IOM);
     5641     1014        %TH$IOM (NAME=IOMREC,STCLASS=AUTO);
     5642     1025        %TH$MPC (NAME=TH$MPC,NUMDEV#=32);
     5643     1046        %TH$MPC (NAME=MPCREC,STCLASS=AUTO,NUMDEV#=32);
     5644     1067        %XUD$UTS_ENTRIES;
     5645     1099        %XUD_UTS_EQU;
     5646     1110        /**/
     5647     1111        /* FPTS */
     5648     1112        %FPT_TIME (FPTN=CUR_UTS,
     5649     1113                   STCLASS=CONSTANT,
     5650     1114                   SOURCE=CLOCK,
     5651     1115                   DEST=UTS,
     5652     1116                   TSTAMP=CURUTS);
     5653     1135        /**/
     5654     1136        %EJECT;
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1086 
     5655     1137    1        CALL M$TIME(CUR_UTS);

   1137  3 000002   000042 630400 2                  EPPR0   CUR_UTS
         3 000003   020004 713400                    CLIMB   8196
         3 000004   402000 401760                    pmme    nvectors=5

     5656     1138    1        CALL XUD$UTS_DIFF_SEC (CURUTS, CURUTS, 0);

   1138  3 000005   000000 630400 4                  EPPR0   0
         3 000006   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000007   000000 701000 xent               TSX1    XUD$UTS_DIFF_SEC
         3 000010   000000 011000                    NOP     0

     5657     1139    1        CURUTS = CURUTS / 86400;

   1139  3 000011   000000 236000 1                  LDQ     CURUTS
         3 000012   000001 772000                    QRL     1
         3 000013   124300 506007                    DIV     43200,DL
         3 000014   000000 756000 1                  STQ     CURUTS

     5658     1140    1        CALL XUD$UTS_ADJ_25TH (CURUTS, 0, CURUTS * %UTS_25TH_DAY#);

   1140  3 000015   000003 402000 4                  MPY     3
         3 000016   203330 756100                    STQ     MPCREC+83,,AUTO
         3 000017   203330 630500                    EPPR0   MPCREC+83,,AUTO
         3 000020   203333 450500                    STP0    MPCREC+86,,AUTO
         3 000021   000002 236000 4                  LDQ     2
         3 000022   203332 756100                    STQ     MPCREC+85,,AUTO
         3 000023   000000 236000 4                  LDQ     0
         3 000024   203331 756100                    STQ     MPCREC+84,,AUTO
         3 000025   203331 630500                    EPPR0   MPCREC+84,,AUTO
         3 000026   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000027   000000 701000 xent               TSX1    XUD$UTS_ADJ_25TH
         3 000030   000000 011000                    NOP     0

     5659     1141    1        CALL THG$GETREC(%DEVHIST,ZERO);    /* HEAD RECORD                        */

PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1087 
   1141  3 000031   000004 630400 4                  EPPR0   4
         3 000032   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000033   000000 701000 xent               TSX1    THG$GETREC
         3 000034   000000 011000                    NOP     0

     5660     1142    1        TH_HEAD = TH_RECORD.PTR$->TH$HEAD;

   1142  3 000035   000001 470400 xsym               LDP0    TH_RECORD+1
         3 000036   000100 100500                    MLR     fill='000'O
         3 000037   000000 003210                    ADSC9   0,,PR0                   cn=0,n=1672
         3 000040   200234 003210                    ADSC9   TH_HEAD,,AUTO            cn=0,n=1672

     5661     1143    1        CALL THG$GETREC(%DEVHIST,ONE);     /* THRESH RECORD                      */

   1143  3 000041   000006 630400 4                  EPPR0   6
         3 000042   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000043   000000 701000 xent               TSX1    THG$GETREC
         3 000044   000000 011000                    NOP     0

     5662     1144    1        TH_THRESH = TH_RECORD.PTR$->TH$THRESH;

   1144  3 000045   000001 470400 xsym               LDP0    TH_RECORD+1
         3 000046   000100 100500                    MLR     fill='000'O
         3 000047   000000 006220                    ADSC9   0,,PR0                   cn=0,n=3216
         3 000050   201076 006220                    ADSC9   TH_THRESH,,AUTO          cn=0,n=3216

     5663     1145
     5664     1146    1        NUMDEVS = TH_HEAD.XX_INDX + TH_HEAD.NUMXXS;

   1146  3 000051   200251 236100                    LDQ     TH_HEAD+13,,AUTO
         3 000052   777777 376007                    ANQ     -1,DL
         3 000053   203330 756100                    STQ     MPCREC+83,,AUTO
         3 000054   200251 236100                    LDQ     TH_HEAD+13,,AUTO
         3 000055   000022 772000                    QRL     18
         3 000056   203330 036100                    ADLQ    MPCREC+83,,AUTO
         3 000057   200226 756100                    STQ     NUMDEVS,,AUTO

PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1088 
     5665     1147
     5666     1148    1        BAD_COMPS = 0;

   1148  3 000060   200232 450100                    STZ     BAD_COMPS,,AUTO

     5667     1149    1        LAST_CLASS = ' ';

   1149  3 000061   000010 236000 4                  LDQ     8
         3 000062   200121 756100                    STQ     LAST_CLASS,,AUTO

     5668     1150    1        TH_SAVE = TH_CONSTRAINTS;

   1150  3 000063   000000 100400                    MLR     fill='000'O
         3 000064   000000 000333 xsym               ADSC9   TH_CONSTRAINTS           cn=0,n=219
         3 000065   000000 000333 xsym               ADSC9   TH_SAVE                  cn=0,n=219

     5669     1151    1        CALL THE$PROCESS;

   1151  3 000066   000002 631400 xsym               EPPR1   B_VECTNIL+2
         3 000067   000000 701000 xent               TSX1    THE$PROCESS
         3 000070   000000 011000                    NOP     0

     5670     1152    1        TH_CONSTRAINTS = TH_SAVE;

   1152  3 000071   000000 100400                    MLR     fill='000'O
         3 000072   000000 000333 xsym               ADSC9   TH_SAVE                  cn=0,n=219
         3 000073   000000 000333 xsym               ADSC9   TH_CONSTRAINTS           cn=0,n=219

     5671     1153    2        DO I = 0 TO NUMDEVS - 1;

   1153  3 000074   200005 450100                    STZ     I,,AUTO
         3 000075   000652 710000 3                  TRA     ENDLOOP+3

     5672     1154    2           ATTEN_FLAG = %FALSE;

   1154  3 000076   200012 450100                    STZ     ATTEN_FLAG,,AUTO

PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1089 
     5673     1155    2           ALERT_FLAG = %FALSE;

   1155  3 000077   200013 450100                    STZ     ALERT_FLAG,,AUTO

     5674     1156    2           UTS = CURUTS;

   1156  3 000100   000000 235000 1                  LDA     CURUTS
         3 000101   200225 755100                    STA     UTS,,AUTO

     5675     1157    2           COUNT = 0;

   1157  3 000102   200010 450100                    STZ     COUNT,,AUTO

     5676     1158    2           CONNECTS = 0;

   1158  3 000103   200011 450100                    STZ     CONNECTS,,AUTO

     5677     1159    2           CURVAL = 10000;

   1159  3 000104   023420 236007                    LDQ     10000,DL
         3 000105   200227 756100                    STQ     CURVAL,,AUTO

     5678     1160    2           BAD_DAYS = 0;

   1160  3 000106   200231 450100                    STZ     BAD_DAYS,,AUTO

     5679     1161    2           CALL XUD$UTS_ADJ_25TH (TEMP_UTS, UTS, 15*%UTS_25TH_DAY#);

   1161  3 000107   000012 236000 4                  LDQ     10
         3 000110   203332 756100                    STQ     MPCREC+85,,AUTO
         3 000111   200225 630500                    EPPR0   UTS,,AUTO
         3 000112   203331 450500                    STP0    MPCREC+84,,AUTO
         3 000113   200233 631500                    EPPR1   TEMP_UTS,,AUTO
         3 000114   203330 451500                    STP1    MPCREC+83,,AUTO
         3 000115   203330 630500                    EPPR0   MPCREC+83,,AUTO
         3 000116   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000117   000000 701000 xent               TSX1    XUD$UTS_ADJ_25TH
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1090 
         3 000120   000000 011000                    NOP     0

     5680     1162    3           DO UNTIL(CURVAL >= TH_THRESH.ATTEN(I) OR TEMP_UTS = CURUTS);

     5681     1163    3              CURVALM1 = CURVAL;

   1163  3 000121   200227 235100                    LDA     CURVAL,,AUTO
         3 000122   200230 755100                    STA     CURVALM1,,AUTO

     5682     1164    3              CALL THG$GETREC(%DEVHIST,TH_HEAD.DEVNAME(I),UTS) ALTRET(NOT_THERE);

   1164  3 000123   200225 630500                    EPPR0   UTS,,AUTO
         3 000124   203332 450500                    STP0    MPCREC+85,,AUTO
         3 000125   200005 236100                    LDQ     I,,AUTO
         3 000126   000001 736000                    QLS     1
         3 000127   200254 631506                    EPPR1   TH_HEAD+16,QL,AUTO
         3 000130   203331 451500                    STP1    MPCREC+84,,AUTO
         3 000131   000004 236000 4                  LDQ     4
         3 000132   203330 756100                    STQ     MPCREC+83,,AUTO
         3 000133   203330 630500                    EPPR0   MPCREC+83,,AUTO
         3 000134   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000135   000000 701000 xent               TSX1    THG$GETREC
         3 000136   000273 702000 3                  TSX2    NOT_THERE

     5683     1165    3              IF (SUBSTR(TH_HEAD.DEVNAME(I),0,2) = 'UC') OR

   1165  3 000137   200005 235100                    LDA     I,,AUTO
         3 000140   000001 735000                    ALS     1
         3 000141   200254 220105                    LDX0    TH_HEAD+16,AL,AUTO
         3 000142   000056 100000 2                  CMPX0   CUR_UTS+12
         3 000143   000150 600000 3                  TZE     s:1170
         3 000144   000057 100000 2                  CMPX0   CUR_UTS+13
         3 000145   000150 600000 3                  TZE     s:1170
         3 000146   000060 100000 2                  CMPX0   CUR_UTS+14
         3 000147   000163 601000 3                  TNZ     s:1175

     5684     1166    3                 (SUBSTR(TH_HEAD.DEVNAME(I),0,2) = 'TC') OR
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1091 
     5685     1167    3                 (SUBSTR(TH_HEAD.DEVNAME(I),0,2) = 'DC')
     5686     1168    3                 THEN                      /* MPC RECORD                         */
     5687     1169    4                 DO;

     5688     1170    4                    MPCREC = TH_RECORD.PTR$->TH$MPC;

   1170  3 000150   000001 470400 xsym               LDP0    TH_RECORD+1
         3 000151   000100 100500                    MLR     fill='000'O
         3 000152   000000 000510                    ADSC9   0,,PR0                   cn=0,n=328
         3 000153   203205 000510                    ADSC9   MPCREC,,AUTO             cn=0,n=328

     5689     1171    4                    COUNT = COUNT + MPCREC.COUNT;

   1171  3 000154   200010 236100                    LDQ     COUNT,,AUTO
         3 000155   203205 036100                    ADLQ    MPCREC,,AUTO
         3 000156   200010 756100                    STQ     COUNT,,AUTO

     5690     1172    4                    CONNECTS = CONNECTS + MPCREC.CONNECTS;

   1172  3 000157   200011 236100                    LDQ     CONNECTS,,AUTO
         3 000160   203206 036100                    ADLQ    MPCREC+1,,AUTO
         3 000161   200011 756100                    STQ     CONNECTS,,AUTO

     5691     1173    4                 END;

   1173  3 000162   000235 710000 3                  TRA     s:1197

     5692     1174    3                 ELSE
     5693     1175    3              IF SUBSTR(TH_HEAD.DEVNAME(I),0,3) = 'IOM'

   1175  3 000163   200254 236105                    LDQ     TH_HEAD+16,AL,AUTO
         3 000164   000061 676000 2                  ERQ     CUR_UTS+15
         3 000165   000013 376000 4                  ANQ     11
         3 000166   000202 601000 3                  TNZ     s:1183

     5694     1176    3                 THEN                      /* IOM RECORD                         */
     5695     1177    4                 DO;
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1092 

     5696     1178    4                    IOMREC = TH_RECORD.PTR$->TH$IOM;

   1178  3 000167   000001 470400 xsym               LDP0    TH_RECORD+1
         3 000170   000100 100500                    MLR     fill='000'O
         3 000171   000000 002060                    ADSC9   0,,PR0                   cn=0,n=1072
         3 000172   202571 002060                    ADSC9   IOMREC,,AUTO             cn=0,n=1072

     5697     1179    4                    COUNT = COUNT + IOMREC.COUNT;

   1179  3 000173   200010 236100                    LDQ     COUNT,,AUTO
         3 000174   203204 036100                    ADLQ    IOMREC+267,,AUTO
         3 000175   200010 756100                    STQ     COUNT,,AUTO

     5698     1180    4                    CONNECTS = CONNECTS + IOMREC.CONNECTS;

   1180  3 000176   200011 236100                    LDQ     CONNECTS,,AUTO
         3 000177   203203 036100                    ADLQ    IOMREC+266,,AUTO
         3 000200   200011 756100                    STQ     CONNECTS,,AUTO

     5699     1181    4                 END;

   1181  3 000201   000235 710000 3                  TRA     s:1197

     5700     1182    3                 ELSE
     5701     1183    3              IF SUBSTR(TH_HEAD.DEVNAME(I),0,3) = 'FEP'

   1183  3 000202   200254 236105                    LDQ     TH_HEAD+16,AL,AUTO
         3 000203   000062 676000 2                  ERQ     CUR_UTS+16
         3 000204   000013 376000 4                  ANQ     11
         3 000205   000207 601000 3                  TNZ     s:1191

     5702     1184    3                 THEN
     5703     1185    4                 DO;

     5704     1186                         /* UNIMPLIMENTED AS YET */
     5705     1187    4                    GOTO ENDLOOP;
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1093 

   1187  3 000206   000647 710000 3                  TRA     ENDLOOP

     5706     1188    4                 END;
     5707     1189    3                 ELSE                      /* DEVICE RECORD                      */
     5708     1190    4                 DO;

     5709     1191    4                    DEVREC = TH_RECORD.PTR$->TH$DEV;

   1191  3 000207   000001 470400 xsym               LDP0    TH_RECORD+1
         3 000210   000100 100500                    MLR     fill='000'O
         3 000211   000000 000134                    ADSC9   0,,PR0                   cn=0,n=92
         3 000212   202542 000134                    ADSC9   DEVREC,,AUTO             cn=0,n=92

     5710     1192    5                    DO K = 10 TO 20;

   1192  3 000213   000012 236007                    LDQ     10,DL
         3 000214   200007 756100                    STQ     K,,AUTO

     5711     1193    5                       COUNT = COUNT + DEVREC.COUNT(K);

   1193  3 000215   200007 235100                    LDA     K,,AUTO
         3 000216   000001 735000                    ALS     1
         3 000217   000100 101505                    MRL     fill='000'O
         3 000220   202553 000002                    ADSC9   DEVREC+9,A,AUTO          cn=0,n=2
         3 000221   203330 000004                    ADSC9   MPCREC+83,,AUTO          cn=0,n=4
         3 000222   203330 236100                    LDQ     MPCREC+83,,AUTO
         3 000223   200010 036100                    ADLQ    COUNT,,AUTO
         3 000224   200010 756100                    STQ     COUNT,,AUTO

     5712     1194    5                    END;                   /* DO K                               */

   1194  3 000225   200007 235100                    LDA     K,,AUTO
         3 000226   000001 035007                    ADLA    1,DL
         3 000227   200007 755100                    STA     K,,AUTO
         3 000230   000025 115007                    CMPA    21,DL
         3 000231   000215 602000 3                  TNC     s:1193
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1094 

     5713     1195    4                    CONNECTS = CONNECTS + DEVREC.CONNECTS;

   1195  3 000232   200011 236100                    LDQ     CONNECTS,,AUTO
         3 000233   202570 036100                    ADLQ    DEVREC+22,,AUTO
         3 000234   200011 756100                    STQ     CONNECTS,,AUTO

     5714     1196    4                 END;

     5715     1197    3              CALL THP$STATS(COUNT,CONNECTS,CURVAL);

   1197  3 000235   200227 630500                    EPPR0   CURVAL,,AUTO
         3 000236   203332 450500                    STP0    MPCREC+85,,AUTO
         3 000237   200011 631500                    EPPR1   CONNECTS,,AUTO
         3 000240   203331 451500                    STP1    MPCREC+84,,AUTO
         3 000241   200010 633500                    EPPR3   COUNT,,AUTO
         3 000242   203330 453500                    STP3    MPCREC+83,,AUTO
         3 000243   203330 630500                    EPPR0   MPCREC+83,,AUTO
         3 000244   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000245   000000 701000 xent               TSX1    THP$STATS
         3 000246   000000 011000                    NOP     0

     5716     1198    3              IF CURVAL = 10000 THEN;

   1198  3 000247   200227 235100                    LDA     CURVAL,,AUTO
         3 000250   023420 115007                    CMPA    10000,DL
         3 000251   000273 600000 3                  TZE     NOT_THERE

     5717     1199    4              ELSE IF CURVAL < TH_THRESH.ATTEN(I) THEN DO;

   1199  3 000252   200005 236100                    LDQ     I,,AUTO
         3 000253   000002 736000                    QLS     2
         3 000254   000000 620006                    EAX0    0,QL
         3 000255   200227 236100                    LDQ     CURVAL,,AUTO
         3 000256   201100 116110                    CMPQ    TH_THRESH+2,X0,AUTO
         3 000257   000273 605000 3                  TPL     NOT_THERE

PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1095 
     5718     1200    4                 BAD_DAYS = BAD_DAYS + 1;

   1200  3 000260   200231 054100                    AOS     BAD_DAYS,,AUTO

     5719     1201    5                 IF CURVAL < TH_THRESH.ALERT(I) THEN DO;

   1201  3 000261   201101 116110                    CMPQ    TH_THRESH+3,X0,AUTO
         3 000262   000270 605000 3                  TPL     s:1205

     5720     1202    5                    IF NOT ATTEN_FLAG THEN ALERT_FLAG = %TRUE;

   1202  3 000263   200012 234100                    SZN     ATTEN_FLAG,,AUTO
         3 000264   000273 604000 3                  TMI     NOT_THERE

   1202  3 000265   400000 236003                    LDQ     -131072,DU
         3 000266   200013 756100                    STQ     ALERT_FLAG,,AUTO

     5721     1203    5                    END;  /* IF CURVAL < ALERT */

   1203  3 000267   000273 710000 3                  TRA     NOT_THERE

     5722     1204    5                    ELSE DO;

     5723     1205    5                       ATTEN_FLAG = %TRUE;

   1205  3 000270   400000 236003                    LDQ     -131072,DU
         3 000271   200012 756100                    STQ     ATTEN_FLAG,,AUTO

     5724     1206    5                       ALERT_FLAG = %FALSE;

   1206  3 000272   200013 450100                    STZ     ALERT_FLAG,,AUTO

     5725     1207    5                       END;  /* ELSE */

     5726     1208    4                 END;  /* IF CURVAL < ATTEN */

     5727     1209    3   NOT_THERE:
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1096 
     5728     1210    3              CALL XUD$UTS_ADJ_25TH (UTS, UTS, -%UTS_25TH_DAY#);

   1210  3 000273   000015 236000 4     NOT_THERE    LDQ     13
         3 000274   203332 756100                    STQ     MPCREC+85,,AUTO
         3 000275   200225 630500                    EPPR0   UTS,,AUTO
         3 000276   203331 450500                    STP0    MPCREC+84,,AUTO
         3 000277   200225 631500                    EPPR1   UTS,,AUTO
         3 000300   203330 451500                    STP1    MPCREC+83,,AUTO
         3 000301   203330 630500                    EPPR0   MPCREC+83,,AUTO
         3 000302   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000303   000000 701000 xent               TSX1    XUD$UTS_ADJ_25TH
         3 000304   000000 011000                    NOP     0

     5729     1211    3              CALL XUD$UTS_ADJ_25TH(TEMP_UTS,UTS,15*%UTS_25TH_DAY#);

   1211  3 000305   000012 236000 4                  LDQ     10
         3 000306   203332 756100                    STQ     MPCREC+85,,AUTO
         3 000307   200225 630500                    EPPR0   UTS,,AUTO
         3 000310   203331 450500                    STP0    MPCREC+84,,AUTO
         3 000311   200233 631500                    EPPR1   TEMP_UTS,,AUTO
         3 000312   203330 451500                    STP1    MPCREC+83,,AUTO
         3 000313   203330 630500                    EPPR0   MPCREC+83,,AUTO
         3 000314   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000315   000000 701000 xent               TSX1    XUD$UTS_ADJ_25TH
         3 000316   000000 011000                    NOP     0

     5730     1212    3           END;                            /* DO UNTIL                           */

   1212  3 000317   200005 235100                    LDA     I,,AUTO
         3 000320   000002 735000                    ALS     2
         3 000321   200227 236100                    LDQ     CURVAL,,AUTO
         3 000322   201100 116105                    CMPQ    TH_THRESH+2,AL,AUTO
         3 000323   000327 605000 3                  TPL     s:1213
         3 000324   200233 236100                    LDQ     TEMP_UTS,,AUTO
         3 000325   000000 116000 1                  CMPQ    CURUTS
         3 000326   000121 601000 3                  TNZ     s:1163

PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1097 
     5731     1213    2           CURVAL = CURVALM1;

   1213  3 000327   200230 236100                    LDQ     CURVALM1,,AUTO
         3 000330   200227 756100                    STQ     CURVAL,,AUTO

     5732     1214    2           IF BAD_DAYS > 0

   1214  3 000331   200231 235100                    LDA     BAD_DAYS,,AUTO
         3 000332   000647 604400 3                  TMOZ    ENDLOOP

     5733     1215    2              THEN                         /* OUTPUT ONE-LINER                   */
     5734     1216    3              DO;

     5735     1217    3                 IF SUBSTR(TH_HEAD.DEVNAME(I),0,3) ~= LAST_CLASS AND BAD_COMPS > 0

   1217  3 000333   200005 235100                    LDA     I,,AUTO
         3 000334   000001 735000                    ALS     1
         3 000335   200254 236105                    LDQ     TH_HEAD+16,AL,AUTO
         3 000336   200121 676100                    ERQ     LAST_CLASS,,AUTO
         3 000337   000013 376000 4                  ANQ     11
         3 000340   000355 600000 3                  TZE     s:1223
         3 000341   200232 236100                    LDQ     BAD_COMPS,,AUTO
         3 000342   000355 600000 3                  TZE     s:1223

     5736     1218    3                    THEN
     5737     1219    4                    DO;

     5738     1220    4                       CALL THW$WRITE(VECTOR(BLANK_LINE));

   1220  3 000343   000020 630400 4                  EPPR0   16
         3 000344   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000345   000000 701000 xent               TSX1    THW$WRITE
         3 000346   000000 011000                    NOP     0

     5739     1221    4                       LAST_CLASS = SUBSTR(TH_HEAD.DEVNAME(I),0,3);

   1221  3 000347   200005 235100                    LDA     I,,AUTO
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1098 
         3 000350   000001 735000                    ALS     1
         3 000351   200254 236105                    LDQ     TH_HEAD+16,AL,AUTO
         3 000352   000013 376000 4                  ANQ     11
         3 000353   000040 276007                    ORQ     32,DL
         3 000354   200121 756100                    STQ     LAST_CLASS,,AUTO

     5740     1222    4                    END;  /* IF */

     5741     1223    3                 TEXT$ = ADDR(TEXTBUF);

   1223  3 000355   200124 630500                    EPPR0   TEXTBUF,,AUTO
         3 000356   200224 450500                    STP0    TEXT$,,AUTO

     5742     1224    3                 STRT = 0;

   1224  3 000357   200020 450100                    STZ     STRT,,AUTO

     5743     1225    3                 INT_PART = CURVAL/100;

   1225  3 000360   200227 236100                    LDQ     CURVAL,,AUTO
         3 000361   000144 506007                    DIV     100,DL
         3 000362   200016 756100                    STQ     INT_PART,,AUTO

     5744     1226    3                 FRACT_PART = MOD(CURVAL,100);

   1226  3 000363   200227 236100                    LDQ     CURVAL,,AUTO
         3 000364   000144 506007                    DIV     100,DL
         3 000365   200017 755100                    STA     FRACT_PART,,AUTO

     5745     1227    3                 CALL BINCHAR(TEMP,INT_PART);

   1227  3 000366   200016 236100                    LDQ     INT_PART,,AUTO
         3 000367   000000 235003                    LDA     0,DU
         3 000370   203330 757100                    STAQ    MPCREC+83,,AUTO
         3 000371   000100 301500                    BTD
         3 000372   203330 000010                    NDSC9   MPCREC+83,,AUTO          cn=0,s=lsgnf,sf=0,n=8
         3 000373   200014 030002                    NDSC9   TEMP,,AUTO               cn=0,s=nosgn,sf=0,n=2
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1099 

     5746     1228    3                 CALL INSERT(BUF,STRT,5,'(%',TEMP,'.');

   1228  3 000374   200020 236100                    LDQ     STRT,,AUTO
         3 000375   040106 100400                    MLR     fill='040'O
         3 000376   000063 000002 2                  ADSC9   CUR_UTS+17               cn=0,n=2
         3 000377   200021 000002                    ADSC9   BUF,Q,AUTO               cn=0,n=2
         3 000400   200020 236100                    LDQ     STRT,,AUTO
         3 000401   040106 100500                    MLR     fill='040'O
         3 000402   200014 000002                    ADSC9   TEMP,,AUTO               cn=0,n=2
         3 000403   200021 400002                    ADSC9   BUF,Q,AUTO               cn=2,n=2
         3 000404   200020 236100                    LDQ     STRT,,AUTO
         3 000405   040106 100400                    MLR     fill='040'O
         3 000406   000021 000001 4                  ADSC9   17                       cn=0,n=1
         3 000407   200022 000001                    ADSC9   BUF+1,Q,AUTO             cn=0,n=1

     5747     1229    3                 STRT = STRT + 5;

   1229  3 000410   200020 235100                    LDA     STRT,,AUTO
         3 000411   000005 035007                    ADLA    5,DL
         3 000412   200020 755100                    STA     STRT,,AUTO

     5748     1230    3                 CALL BINCHAR(TEMP,FRACT_PART);

   1230  3 000413   000100 301500                    BTD
         3 000414   200017 000004                    NDSC9   FRACT_PART,,AUTO         cn=0,s=lsgnf,sf=0,n=4
         3 000415   200014 030002                    NDSC9   TEMP,,AUTO               cn=0,s=nosgn,sf=0,n=2

     5749     1231    3                 CALL INSERT(BUF,STRT,3,TEMP,')');

   1231  3 000416   040105 100500                    MLR     fill='040'O
         3 000417   200014 000002                    ADSC9   TEMP,,AUTO               cn=0,n=2
         3 000420   200021 000002                    ADSC9   BUF,A,AUTO               cn=0,n=2
         3 000421   200020 235100                    LDA     STRT,,AUTO
         3 000422   040105 100400                    MLR     fill='040'O
         3 000423   000022 000001 4                  ADSC9   18                       cn=0,n=1
         3 000424   200021 400001                    ADSC9   BUF,A,AUTO               cn=2,n=1
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1100 

     5750     1232    3                 STRT = STRT + 3;

   1232  3 000425   200020 235100                    LDA     STRT,,AUTO
         3 000426   000003 035007                    ADLA    3,DL
         3 000427   200020 755100                    STA     STRT,,AUTO

     5751     1233    3                 CALL THF$ADD_TEXTC(TEXT$,BUF,STRT);

   1233  3 000430   200020 630500                    EPPR0   STRT,,AUTO
         3 000431   203332 450500                    STP0    MPCREC+85,,AUTO
         3 000432   200021 631500                    EPPR1   BUF,,AUTO
         3 000433   203331 451500                    STP1    MPCREC+84,,AUTO
         3 000434   200224 633500                    EPPR3   TEXT$,,AUTO
         3 000435   203330 453500                    STP3    MPCREC+83,,AUTO
         3 000436   203330 630500                    EPPR0   MPCREC+83,,AUTO
         3 000437   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000440   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 000441   000000 011000                    NOP     0

     5752     1234    3                 STRT = 0;

   1234  3 000442   200020 450100                    STZ     STRT,,AUTO

     5753     1235    4                 IF ATTEN_FLAG THEN DO;

   1235  3 000443   200012 234100                    SZN     ATTEN_FLAG,,AUTO
         3 000444   000464 605000 3                  TPL     s:1240

     5754     1236    4                    CALL THF$ADD_TEXTC(TEXT$,'ATTEN',5);

   1236  3 000445   000023 236000 4                  LDQ     19
         3 000446   203332 756100                    STQ     MPCREC+85,,AUTO
         3 000447   000024 236000 4                  LDQ     20
         3 000450   203331 756100                    STQ     MPCREC+84,,AUTO
         3 000451   200224 630500                    EPPR0   TEXT$,,AUTO
         3 000452   203330 450500                    STP0    MPCREC+83,,AUTO
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1101 
         3 000453   203330 630500                    EPPR0   MPCREC+83,,AUTO
         3 000454   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000455   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 000456   000000 011000                    NOP     0

     5755     1237    4                    VALUE = TH_THRESH.ATTEN(I);

   1237  3 000457   200005 235100                    LDA     I,,AUTO
         3 000460   000002 735000                    ALS     2
         3 000461   201100 235105                    LDA     TH_THRESH+2,AL,AUTO
         3 000462   200015 755100                    STA     VALUE,,AUTO

     5756     1238    4                    END;  /* IF ATTEN_FLAG */

   1238  3 000463   000504 710000 3                  TRA     s:1244

     5757     1239    3                    ELSE
     5758     1240    4                 IF ALERT_FLAG THEN DO;

   1240  3 000464   200013 234100                    SZN     ALERT_FLAG,,AUTO
         3 000465   000504 605000 3                  TPL     s:1244

     5759     1241    4                    CALL THF$ADD_TEXTC(TEXT$,'ALERT',5);

   1241  3 000466   000023 236000 4                  LDQ     19
         3 000467   203332 756100                    STQ     MPCREC+85,,AUTO
         3 000470   000025 236000 4                  LDQ     21
         3 000471   203331 756100                    STQ     MPCREC+84,,AUTO
         3 000472   200224 630500                    EPPR0   TEXT$,,AUTO
         3 000473   203330 450500                    STP0    MPCREC+83,,AUTO
         3 000474   203330 630500                    EPPR0   MPCREC+83,,AUTO
         3 000475   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000476   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 000477   000000 011000                    NOP     0

     5760     1242    4                    VALUE = TH_THRESH.ALERT(I);

PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1102 
   1242  3 000500   200005 235100                    LDA     I,,AUTO
         3 000501   000002 735000                    ALS     2
         3 000502   201101 235105                    LDA     TH_THRESH+3,AL,AUTO
         3 000503   200015 755100                    STA     VALUE,,AUTO

     5761     1243    4                    END;  /* IF ALERT_FLAG */

     5762     1244    3                 INT_PART = VALUE/100;

   1244  3 000504   200015 236100                    LDQ     VALUE,,AUTO
         3 000505   000144 506007                    DIV     100,DL
         3 000506   200016 756100                    STQ     INT_PART,,AUTO

     5763     1245    3                 FRACT_PART = MOD(VALUE,100);

   1245  3 000507   200015 236100                    LDQ     VALUE,,AUTO
         3 000510   000144 506007                    DIV     100,DL
         3 000511   200017 755100                    STA     FRACT_PART,,AUTO

     5764     1246    3                 CALL BINCHAR(TEMP,INT_PART);

   1246  3 000512   200016 236100                    LDQ     INT_PART,,AUTO
         3 000513   000000 235003                    LDA     0,DU
         3 000514   203330 757100                    STAQ    MPCREC+83,,AUTO
         3 000515   000100 301500                    BTD
         3 000516   203330 000010                    NDSC9   MPCREC+83,,AUTO          cn=0,s=lsgnf,sf=0,n=8
         3 000517   200014 030002                    NDSC9   TEMP,,AUTO               cn=0,s=nosgn,sf=0,n=2

     5765     1247    3                 CALL INSERT(BUF,STRT,5,'(%',TEMP,'.');

   1247  3 000520   200020 236100                    LDQ     STRT,,AUTO
         3 000521   040106 100400                    MLR     fill='040'O
         3 000522   000063 000002 2                  ADSC9   CUR_UTS+17               cn=0,n=2
         3 000523   200021 000002                    ADSC9   BUF,Q,AUTO               cn=0,n=2
         3 000524   200020 236100                    LDQ     STRT,,AUTO
         3 000525   040106 100500                    MLR     fill='040'O
         3 000526   200014 000002                    ADSC9   TEMP,,AUTO               cn=0,n=2
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1103 
         3 000527   200021 400002                    ADSC9   BUF,Q,AUTO               cn=2,n=2
         3 000530   200020 236100                    LDQ     STRT,,AUTO
         3 000531   040106 100400                    MLR     fill='040'O
         3 000532   000021 000001 4                  ADSC9   17                       cn=0,n=1
         3 000533   200022 000001                    ADSC9   BUF+1,Q,AUTO             cn=0,n=1

     5766     1248    3                 STRT = STRT + 5;

   1248  3 000534   200020 235100                    LDA     STRT,,AUTO
         3 000535   000005 035007                    ADLA    5,DL
         3 000536   200020 755100                    STA     STRT,,AUTO

     5767     1249    3                 CALL BINCHAR(TEMP,FRACT_PART);

   1249  3 000537   000100 301500                    BTD
         3 000540   200017 000004                    NDSC9   FRACT_PART,,AUTO         cn=0,s=lsgnf,sf=0,n=4
         3 000541   200014 030002                    NDSC9   TEMP,,AUTO               cn=0,s=nosgn,sf=0,n=2

     5768     1250    3                 CALL INSERT(BUF,STRT,3,TEMP,')');

   1250  3 000542   040105 100500                    MLR     fill='040'O
         3 000543   200014 000002                    ADSC9   TEMP,,AUTO               cn=0,n=2
         3 000544   200021 000002                    ADSC9   BUF,A,AUTO               cn=0,n=2
         3 000545   200020 235100                    LDA     STRT,,AUTO
         3 000546   040105 100400                    MLR     fill='040'O
         3 000547   000022 000001 4                  ADSC9   18                       cn=0,n=1
         3 000550   200021 400001                    ADSC9   BUF,A,AUTO               cn=2,n=1

     5769     1251    3                 STRT = STRT + 3;

   1251  3 000551   200020 235100                    LDA     STRT,,AUTO
         3 000552   000003 035007                    ADLA    3,DL
         3 000553   200020 755100                    STA     STRT,,AUTO

     5770     1252    3                 CALL THF$ADD_TEXTC(TEXT$,BUF,STRT);

   1252  3 000554   200020 630500                    EPPR0   STRT,,AUTO
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1104 
         3 000555   203332 450500                    STP0    MPCREC+85,,AUTO
         3 000556   200021 631500                    EPPR1   BUF,,AUTO
         3 000557   203331 451500                    STP1    MPCREC+84,,AUTO
         3 000560   200224 633500                    EPPR3   TEXT$,,AUTO
         3 000561   203330 453500                    STP3    MPCREC+83,,AUTO
         3 000562   203330 630500                    EPPR0   MPCREC+83,,AUTO
         3 000563   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000564   000000 701000 xent               TSX1    THF$ADD_TEXTC
         3 000565   000000 011000                    NOP     0

     5771     1253    3                 TVEC = VECTOR(TEXTBUF);

   1253  3 000566   000026 235000 4                  LDA     22
         3 000567   203330 452500                    STP2    MPCREC+83,,AUTO
         3 000570   203330 236100                    LDQ     MPCREC+83,,AUTO
         3 000571   000124 036003                    ADLQ    84,DU
         3 000572   200122 757100                    STAQ    TVEC,,AUTO

     5772     1254    3                 TVEC.BOUND = POFFC(TEXT$,ADDR(TEXTBUF)) - 1;

   1254  3 000573   203330 452500                    STP2    MPCREC+83,,AUTO
         3 000574   203330 236100                    LDQ     MPCREC+83,,AUTO
         3 000575   000124 036003                    ADLQ    84,DU
         3 000576   000020 772000                    QRL     16
         3 000577   203331 756100                    STQ     MPCREC+84,,AUTO
         3 000600   200224 236100                    LDQ     TEXT$,,AUTO
         3 000601   000020 772000                    QRL     16
         3 000602   203331 136100                    SBLQ    MPCREC+84,,AUTO
         3 000603   000001 136007                    SBLQ    1,DL
         3 000604   000020 736000                    QLS     16
         3 000605   200122 676100                    ERQ     TVEC,,AUTO
         3 000606   000034 376000 xsym               ANQ     B_VECTNIL+28
         3 000607   200122 656100                    ERSQ    TVEC,,AUTO

     5773     1255    3                 BAD_COMPS = BAD_COMPS + 1;

   1255  3 000610   200232 235100                    LDA     BAD_COMPS,,AUTO
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1105 
         3 000611   000001 035007                    ADLA    1,DL
         3 000612   200232 755100                    STA     BAD_COMPS,,AUTO

     5774     1256    3                 CALL THW$WRITE(VECTOR(AMS_FMT),

   1256  3 000613   000027 235000 4                  LDA     23
         3 000614   203330 452500                    STP2    MPCREC+83,,AUTO
         3 000615   200005 236100                    LDQ     I,,AUTO
         3 000616   000023 736000                    QLS     19
         3 000617   000254 036003                    ADLQ    172,DU
         3 000620   203330 036100                    ADLQ    MPCREC+83,,AUTO
         3 000621   203332 757100                    STAQ    MPCREC+85,,AUTO
         3 000622   777640 235007                    LDA     -96,DL
         3 000623   203334 452500                    STP2    MPCREC+87,,AUTO
         3 000624   203334 236100                    LDQ     MPCREC+87,,AUTO
         3 000625   000231 036003                    ADLQ    153,DU
         3 000626   203340 757100                    STAQ    MPCREC+91,,AUTO
         3 000627   203332 237100                    LDAQ    MPCREC+85,,AUTO
         3 000630   203336 757100                    STAQ    MPCREC+89,,AUTO
         3 000631   203340 237100                    LDAQ    MPCREC+91,,AUTO
         3 000632   203342 757100                    STAQ    MPCREC+93,,AUTO
         3 000633   200122 630500                    EPPR0   TVEC,,AUTO
         3 000634   203347 450500                    STP0    MPCREC+98,,AUTO
         3 000635   203342 631500                    EPPR1   MPCREC+93,,AUTO
         3 000636   203346 451500                    STP1    MPCREC+97,,AUTO
         3 000637   203336 633500                    EPPR3   MPCREC+89,,AUTO
         3 000640   203345 453500                    STP3    MPCREC+96,,AUTO
         3 000641   000032 236000 4                  LDQ     26
         3 000642   203344 756100                    STQ     MPCREC+95,,AUTO
         3 000643   203344 630500                    EPPR0   MPCREC+95,,AUTO
         3 000644   000022 631400 xsym               EPPR1   B_VECTNIL+18
         3 000645   000000 701000 xent               TSX1    THW$WRITE
         3 000646   000000 011000                    NOP     0

     5775     1257    3                                VECTOR(TH_HEAD.DEVNAME(I)),
     5776     1258    3                                VECTOR(BAD_DAYS),
     5777     1259    3                                TVEC);
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1106 
     5778     1260    3              END;                         /* IF BAD_DAYS > 0                    */

     5779     1261    2   ENDLOOP:
     5780     1262    2        END;                               /* DO I                               */

   1262  3 000647   200005 235100       ENDLOOP      LDA     I,,AUTO
         3 000650   000001 035007                    ADLA    1,DL
         3 000651   200005 755100                    STA     I,,AUTO
         3 000652   200005 236100                    LDQ     I,,AUTO
         3 000653   200226 116100                    CMPQ    NUMDEVS,,AUTO
         3 000654   000076 602000 3                  TNC     s:1154

     5781     1263    1        IF BAD_COMPS = 0

   1263  3 000655   200232 235100                    LDA     BAD_COMPS,,AUTO
         3 000656   000663 601000 3                  TNZ     s:1268

     5782     1264    1           THEN                            /* NO EXCEEDED THRESHOLDS             */
     5783     1265    2           DO;

     5784     1266    2              CALL THW$WRITE(VECTOR(NO_ERRORS));

   1266  3 000657   000036 630400 4                  EPPR0   30
         3 000660   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000661   000000 701000 xent               TSX1    THW$WRITE
         3 000662   000000 011000                    NOP     0

     5785     1267    2           END;                            /* IF BAD_COMPS = 0                   */

     5786     1268    1   END THF$AMS;

   1268  3 000663   000000 702200 xent               TSX2  ! X66_ARET
     5787     1269        %EOD;

PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1107 
--  Include file information  --

   XUD_UTS_M.:E05TOU  is referenced.
   TD$STRUCT.:E05TOU  is referenced.
   TH$HIST.:E05TOU  is referenced.
   TH_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   B_STRINGS_C.:E05TOU  is referenced.
   TH_SUBS_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure THF$AMS.
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1108 

 **** Variables and constants ****

  ****  Section 001  Data  THF$AMS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w UBIN        r     1 CURUTS                     3-0-0/c CHAR(8)     r     1 ONE
     1-0-0/c CHAR(8)     r     1 ZERO

  ****  Section 002 RoData THF$AMS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(78)    r     1 AMS_FMT                   24-0-0/c CHAR(4)     r     1 BLANK_LINE
    42-0-0/d STRC(432)   r     1 CUR_UTS                   25-0-0/c CHAR(46)    r     1 NO_ERRORS

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    13-0-0/b BIT         r     1 ALERT_FLAG                12-0-0/b BIT         r     1 ATTEN_FLAG
   232-0-0/w UBIN        r     1 BAD_COMPS                231-0-0/w SBIN        r     1 BAD_DAYS
    21-0-0/c CHAR(256)   r     1 BUF                       11-0-0/w UBIN        r     1 CONNECTS
    10-0-0/w UBIN        r     1 COUNT                    227-0-0/w SBIN        r     1 CURVAL
   230-0-0/w UBIN        r     1 CURVALM1                2542-0-0/w STRC(828)   r     1 DEVREC
    17-0-0/w SBIN        r     1 FRACT_PART                 5-0-0/w UBIN        r     1 I
    16-0-0/w UBIN        r     1 INT_PART                2571-0-0/w STRC(9648)  r     1 IOMREC
     7-0-0/w UBIN        r     1 K                        121-0-0/c CHAR(3)     r     1 LAST_CLASS
  3205-0-0/w STRC(2952)  r     1 MPCREC                   226-0-0/w UBIN        r     1 NUMDEVS
    20-0-0/w UBIN        r     1 STRT                      14-0-0/c CHAR(2)     r     1 TEMP
   233-0-0/w UBIN        r     1 TEMP_UTS                 224-0-0/w PTR         r     1 TEXT$
   124-0-0/c CHAR(256)   r     1 TEXTBUF                  234-0-0/w STRC(15048) r     1 TH_HEAD
  1076-0-0/w STRC(144)   r     1 TH_THRESH(0:200)
   122-0-0/d STRC(72)    r     1 TVEC                     225-0-0/w UBIN        r     1 UTS
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1109 
    15-0-0/w SBIN        r     1 VALUE

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(1971)  r     1 TH_CONSTRAINTS             0-0-0/d STRC(72)    r     1 TH_RECORD
     0-0-0/d STRC(1971)  r     1 TH_SAVE

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(828)   r     1 TH$DEV                     0-0-0/w STRC(15048) r     1 TH$HEAD
     0-0-0/w STRC(9648)  r     1 TH$IOM                     0-0-0/w STRC(2952)  r     1 TH$MPC
     0-0-0/w STRC(144)   r     1 TH$THRESH(0:200)


   Procedure THF$AMS requires 436 words for executable code.
   Procedure THF$AMS requires 1768 words of local(AUTO) storage.
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1110 
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1111 
          MINI XREF LISTING

ALERT_FLAG
       847**DCL      1155<<ASSIGN   1202<<ASSIGN   1206<<ASSIGN   1240>>IF
AMS_FMT
       868**DCL      1256--CALL
ATTEN_FLAG
       846**DCL      1154<<ASSIGN   1202>>IF       1205<<ASSIGN   1235>>IF
BAD_COMPS
       867**DCL      1148<<ASSIGN   1217>>IF       1255<<ASSIGN   1255>>ASSIGN   1263>>IF
BAD_DAYS
       866**DCL      1160<<ASSIGN   1200<<ASSIGN   1200>>ASSIGN   1214>>IF       1256--CALL
BLANK_LINE
       870**DCL      1220--CALL
BUF
       853**DCL      1228<<CALLBLT  1231<<CALLBLT  1233<>CALL     1247<<CALLBLT  1250<<CALLBLT  1252<>CALL
CONNECTS
       845**DCL      1158<<ASSIGN   1172<<ASSIGN   1172>>ASSIGN   1180<<ASSIGN   1180>>ASSIGN   1195<<ASSIGN
      1195>>ASSIGN   1197<>CALL
COUNT
       844**DCL      1157<<ASSIGN   1171<<ASSIGN   1171>>ASSIGN   1179<<ASSIGN   1179>>ASSIGN   1193<<ASSIGN
      1193>>ASSIGN   1197<>CALL
CURUTS
       862**DCL      1131--DCLINIT  1138<>CALL     1138<>CALL     1139<<ASSIGN   1139>>ASSIGN   1140<>CALL
      1140>>CALL     1156>>ASSIGN   1162>>DOUNTIL
CURVAL
       864**DCL      1159<<ASSIGN   1162>>DOUNTIL  1163>>ASSIGN   1197<>CALL     1198>>IF       1199>>IF
      1201>>IF       1213<<ASSIGN   1225>>ASSIGN   1226>>ASSIGN
CURVALM1
       865**DCL      1163<<ASSIGN   1213>>ASSIGN
CUR_UTS
      1127**DCL      1137<>CALL
CUR_UTS.V
      1131**DCL      1127--DCLINIT
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1112 
DEVREC
       962**DCL      1191<<ASSIGN
DEVREC.CONNECTS
       980**DCL      1195>>ASSIGN
DEVREC.COUNT
       979**DCL      1193>>ASSIGN
ENDLOOP
      1262**LABEL    1187--GOTO
FRACT_PART
       851**DCL      1226<<ASSIGN   1230>>CALLBLT  1245<<ASSIGN   1249>>CALLBLT
I
       841**DCL      1153<<DOINDEX  1162>>DOUNTIL  1164>>CALL     1165>>IF       1165>>IF       1165>>IF
      1175>>IF       1183>>IF       1199>>IF       1201>>IF       1217>>IF       1221>>ASSIGN   1237>>ASSIGN
      1242>>ASSIGN   1256>>CALL
INT_PART
       850**DCL      1225<<ASSIGN   1227>>CALLBLT  1244<<ASSIGN   1246>>CALLBLT
IOMREC
      1015**DCL      1178<<ASSIGN
IOMREC.CONNECTS
      1022**DCL      1180>>ASSIGN
IOMREC.COUNT
      1023**DCL      1179>>ASSIGN
K
       843**DCL      1192<<DOINDEX  1193>>ASSIGN
LAST_CLASS
       854**DCL      1149<<ASSIGN   1217>>IF       1221<<ASSIGN
M$TIME
        86**DCL-ENT  1137--CALL
MPCREC
      1047**DCL      1170<<ASSIGN
MPCREC.CONNECTS
      1049**DCL      1172>>ASSIGN
MPCREC.COUNT
      1048**DCL      1171>>ASSIGN
NOT_THERE
      1210**LABEL    1164--CALLALT
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1113 
NO_ERRORS
       871**DCL      1266--CALL
NUMDEVS
       863**DCL      1146<<ASSIGN   1153>>DOINDEX
ONE
       873**DCL      1143<>CALL
STRT
       852**DCL      1224<<ASSIGN   1228>>CALLBLT  1229<<ASSIGN   1229>>ASSIGN   1231>>CALLBLT  1232<<ASSIGN
      1232>>ASSIGN   1233<>CALL     1234<<ASSIGN   1247>>CALLBLT  1248<<ASSIGN   1248>>ASSIGN   1250>>CALLBLT
      1251<<ASSIGN   1251>>ASSIGN   1252<>CALL
TEMP
       848**DCL      1227<<CALLBLT  1228>>CALLBLT  1230<<CALLBLT  1231>>CALLBLT  1246<<CALLBLT  1247>>CALLBLT
      1249<<CALLBLT  1250>>CALLBLT
TEMP_UTS
       874**DCL      1161<>CALL     1162>>DOUNTIL  1211<>CALL
TEXT$
       860**DCL      1223<<ASSIGN   1233<>CALL     1236<>CALL     1241<>CALL     1252<>CALL     1254>>ASSIGN
TEXTBUF
       859**DCL      1223--ASSIGN   1253--ASSIGN   1254--ASSIGN
TH$DEV
       983**DCL      1191>>ASSIGN
TH$HEAD
       878**DCL      1142>>ASSIGN
TH$IOM
      1004**DCL      1178>>ASSIGN
TH$MPC
      1026**DCL      1170>>ASSIGN
TH$THRESH
       950**DCL      1144>>ASSIGN
THE$PROCESS
       836**DCL-ENT  1151--CALL
THF$ADD_TEXTC
       835**DCL-ENT  1233--CALL     1236--CALL     1241--CALL     1252--CALL
THG$GETREC
       831**DCL-ENT  1141--CALL     1143--CALL     1164--CALL
THP$STATS
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1114 
       832**DCL-ENT  1197--CALL
THW$WRITE
       833**DCL-ENT  1220--CALL     1256--CALL     1266--CALL
TH_CONSTRAINTS
       481**DCL      1150>>ASSIGN   1152<<ASSIGN
TH_CONSTRAINTS.E_BY_B
       484**DCL       484--REDEF
TH_CONSTRAINTS.M_BY_B
       483**DCL       483--REDEF
TH_CONSTRAINTS.TYPES
       481**DCL       481--REDEF
TH_DEFAULT.E_BY_B
       492**DCL       492--REDEF
TH_DEFAULT.M_BY_B
       491**DCL       491--REDEF
TH_DEFAULT.TYPES
       489**DCL       489--REDEF
TH_HEAD
       914**DCL      1142<<ASSIGN
TH_HEAD.DEVNAME
       947**DCL      1164<>CALL     1165>>IF       1165>>IF       1165>>IF       1175>>IF       1183>>IF
      1217>>IF       1221>>ASSIGN   1256--CALL
TH_HEAD.NUMXXS
       942**DCL      1146>>ASSIGN
TH_HEAD.XX_INDX
       941**DCL      1146>>ASSIGN
TH_RECORD.PTR$
       509**DCL      1142>>ASSIGN   1144>>ASSIGN   1170>>ASSIGN   1178>>ASSIGN   1191>>ASSIGN
TH_SAVE
       496**DCL      1150<<ASSIGN   1152>>ASSIGN
TH_SAVE.E_BY_B
       500**DCL       500--REDEF
TH_SAVE.M_BY_B
       498**DCL       498--REDEF
TH_SAVE.TYPES
       496**DCL       497--REDEF
PL6.E3A0      #007=THF$AMS File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1115 
TH_THRESH
       956**DCL      1144<<ASSIGN
TH_THRESH.ALERT
       959**DCL      1201>>IF       1242>>ASSIGN
TH_THRESH.ATTEN
       958**DCL      1162>>DOUNTIL  1199>>IF       1237>>ASSIGN
TH_XSA_BUF_VECTOR
       516**DCL       516--REDEF
TVEC
       855**DCL      1253<<ASSIGN   1256<>CALL
TVEC.BOUND
       856**DCL      1254<<ASSIGN
UTS
       861**DCL      1156<<ASSIGN   1161<>CALL     1164<>CALL     1210<>CALL     1210<>CALL     1211<>CALL
VALUE
       849**DCL      1237<<ASSIGN   1242<<ASSIGN   1244>>ASSIGN   1245>>ASSIGN
XUD$UTS_ADJ_25TH
      1092**DCL-ENT  1140--CALL     1161--CALL     1210--CALL     1211--CALL
XUD$UTS_DIFF_SEC
      1074**DCL-ENT  1138--CALL
ZERO
       872**DCL      1141<>CALL

PL6.E3A0      #008=THF$ADD_TEXTC File=THF$FORMAT.:E05TSI                         WED 07/30/97 06:18 Page:1116 
     5788        1        /*M* THF$ADD_TEXTC - ROUTINE TO ADD_TEXTC TO A PASSED BUFFER */
     5789        2        /*T***********************************************************/
     5790        3        /*T*                                                         */
     5791        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     5792        5        /*T*                                                         */
     5793        6        /*T***********************************************************/
     5794        7        THF$ADD_TEXTC: PROC(PTR$,TXT,SIZE);
     5795        8        /**/
     5796        9        /* PARAMS */
     5797       10    1   DCL PTR$ PTR;
     5798       11    1   DCL TXT CHAR(SIZE);
     5799       12    1   DCL SIZE SBIN;
     5800       13        /**/
     5801       14        /* VARS */
     5802       15    1   DCL 1 TBUF BASED(PTR$),
     5803       16    1         2 N UBIN BYTE UNAL,
     5804       17    1         2 C CHAR(SIZE);
     5805       18        /**/
     5806       19    1        TBUF.N = SIZE;
     5807       20    1        TBUF.C = TXT;
     5808       21    1        PTR$ = PINCRC(PTR$,SIZE + 1);
     5809       22    1        RETURN;
     5810       23    1   END THF$ADD_TEXTC;
     5811       24        %EOD;

PL6.E3A0      #008=THF$ADD_TEXTC File=THF$FORMAT.:E05TSI                         WED 07/30/97 06:18 Page:1117 
--  Include file information  --

   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure THF$ADD_TEXTC.

   Procedure THF$ADD_TEXTC requires 23 words for executable code.
   Procedure THF$ADD_TEXTC requires 6 words of local(AUTO) storage.

PL6.E3A0      #008=THF$ADD_TEXTC File=THF$FORMAT.:E05TSI                         WED 07/30/97 06:18 Page:1118 

 Object Unit name= THF$ADD_TEXTC                              File name= THF$FORMAT.:E05TOU
 UTS= JUL 30 '97 06:18:54.20 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Proc  even  none    23     27  THF$ADD_TEXTC

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     0      0   yes            yes      Std        3  THF$ADD_TEXTC

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
                       nStd      0 X66_AUTO_3
                       nStd      0 X66_ARET
PL6.E3A0      #008=THF$ADD_TEXTC File=THF$FORMAT.:E05TSI                         WED 07/30/97 06:18 Page:1119 


     5788        1        /*M* THF$ADD_TEXTC - ROUTINE TO ADD_TEXTC TO A PASSED BUFFER */
     5789        2        /*T***********************************************************/
     5790        3        /*T*                                                         */
     5791        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     5792        5        /*T*                                                         */
     5793        6        /*T***********************************************************/
     5794        7        THF$ADD_TEXTC: PROC(PTR$,TXT,SIZE);

      7  0 000000   000000 700200 xent  THF$ADD_TEX* TSX0  ! X66_AUTO_3
         0 000001   000006 000003                    ZERO    6,3

     5795        8        /**/
     5796        9        /* PARAMS */
     5797       10    1   DCL PTR$ PTR;
     5798       11    1   DCL TXT CHAR(SIZE);
     5799       12    1   DCL SIZE SBIN;
     5800       13        /**/
     5801       14        /* VARS */
     5802       15    1   DCL 1 TBUF BASED(PTR$),
     5803       16    1         2 N UBIN BYTE UNAL,
     5804       17    1         2 C CHAR(SIZE);
     5805       18        /**/
     5806       19    1        TBUF.N = SIZE;

     19  0 000002   200003 470500                    LDP0    @PTR$,,AUTO
         0 000003   000000 471500                    LDP1    0,,PR0
         0 000004   200005 473500                    LDP3    @SIZE,,AUTO
         0 000005   000100 101500                    MRL     fill='000'O
         0 000006   300000 000004                    ADSC9   0,,PR3                   cn=0,n=4
         0 000007   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1

     5807       20    1        TBUF.C = TXT;

     20  0 000010   000000 471500                    LDP1    0,,PR0
         0 000011   300000 720100                    LXL0    0,,PR3
         0 000012   200004 474500                    LDP4    @TXT,,AUTO
PL6.E3A0      #008=THF$ADD_TEXTC File=THF$FORMAT.:E05TSI                         WED 07/30/97 06:18 Page:1120 
         0 000013   040140 100540                    MLR     fill='040'O
         0 000014   400000 000010                    ADSC9   0,,PR4                   cn=0,n=*X0
         0 000015   100000 200010                    ADSC9   0,,PR1                   cn=1,n=*X0

     5808       21    1        PTR$ = PINCRC(PTR$,SIZE + 1);

     21  0 000016   300000 236100                    LDQ     0,,PR3
         0 000017   000000 471500                    LDP1    0,,PR0
         0 000020   000011 402007                    MPY     9,DL
         0 000021   000011 036007                    ADLQ    9,DL
         0 000022   000024 605000 0                  TPL     s:21+6
         0 000023   000044 036003                    ADLQ    36,DU
         0 000024   100000 503506                    ABD     0,QL,PR1
         0 000025   000000 451500                    STP1    0,,PR0

     5809       22    1        RETURN;

     22  0 000026   000000 702200 xent               TSX2  ! X66_ARET
     5810       23    1   END THF$ADD_TEXTC;
     5811       24        %EOD;

PL6.E3A0      #008=THF$ADD_TEXTC File=THF$FORMAT.:E05TSI                         WED 07/30/97 06:18 Page:1121 
--  Include file information  --

   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure THF$ADD_TEXTC.
PL6.E3A0      #008=THF$ADD_TEXTC File=THF$FORMAT.:E05TSI                         WED 07/30/97 06:18 Page:1122 

 **** Variables and constants ****

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @PTR$                      5-0-0/w PTR         r     1 @SIZE
     4-0-0/w PTR         r     1 @TXT                      *0-0-0/w PTR         r     1 PTR$
    *0-0-0/w SBIN        r     1 SIZE                      *0-0-0/c ACHR        r     1 TXT

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c ASTR(9)     r     1 TBUF


   Procedure THF$ADD_TEXTC requires 23 words for executable code.
   Procedure THF$ADD_TEXTC requires 6 words of local(AUTO) storage.
PL6.E3A0      #008=THF$ADD_TEXTC File=THF$FORMAT.:E05TSI                         WED 07/30/97 06:18 Page:1123 
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #008=THF$ADD_TEXTC File=THF$FORMAT.:E05TSI                         WED 07/30/97 06:18 Page:1124 
          MINI XREF LISTING

PTR$
        10**DCL         7--PROC       15--IMP-PTR    19>>ASSIGN     20>>ASSIGN     21<<ASSIGN     21>>ASSIGN
SIZE
        12**DCL         7--PROC       11--IMP-SIZ    17--IMP-SIZ    19>>ASSIGN     20>>ASSIGN     20>>ASSIGN
        21>>ASSIGN
TBUF.C
        17**DCL        20<<ASSIGN
TBUF.N
        16**DCL        19<<ASSIGN
TXT
        11**DCL         7--PROC       20>>ASSIGN

PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1125 
     5812        1        /*M* THF$UPR - GENERATES UPR REPORT FOR ELAN */
     5813        2        /*T***********************************************************/
     5814        3        /*T*                                                         */
     5815        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     5816        5        /*T*                                                         */
     5817        6        /*T***********************************************************/
     5818        7        THF$UPR: PROC;
     5819        8        /**/
     5820        9        /* INCLUDE FILES */
     5821       10        %INCLUDE CP_6;
     5822       91        %INCLUDE TH_SUBS_C;
     5823      473        %INCLUDE TH_DATA_R;
     5824      551        %INCLUDE TH_PERR_C;
     5825      592        %INCLUDE TH$HIST;
     5826      687        %INCLUDE XUD_UTS_M;
     5827      769        /**/
     5828      770        /* ENTRY DCLS */
     5829      771    1   DCL THW$WRITE ENTRY(11);
     5830      772    1   DCL THP$STATS ENTRY(3);
     5831      773    1   DCL THG$GETREC ENTRY(4) ALTRET;
     5832      774    1   DCL THM$ERRMSG ENTRY(1);
     5833      775        /**/
     5834      776        /* VARS */
     5835      777    1   DCL ONE CHAR(8) STATIC INIT('1       ');
     5836      778    1   DCL BLANKS (0:60) CHAR(1) CONSTANT INIT(' '*0);
     5837      779    1   DCL ATTEN_LINE (0:60) CHAR(1) CONSTANT INIT('-'*0);
     5838      780    1   DCL ALERT_LINE (0:60) CHAR(1) CONSTANT INIT('+'*0);
     5839      781    1   DCL DEVNAME CHAR(8);
     5840      782    1   DCL THRESH_INDX UBIN WORD;
     5841      783    1   DCL DEV_INDX UBIN WORD;
     5842      784    1   DCL GRAPH_TEXT CHAR(69) STATIC INIT(' ');
     5843      785    1   DCL 1 GRAPH_STRUCT REDEF GRAPH_TEXT,
     5844      786    1         2 LEFT_SIDE CHAR(7),
     5845      787    1         2 GRAPH(0:60) CHAR(1),
     5846      788    1         2 RIGHT_SIDE CHAR(1);
     5847      789    1   DCL LEFT_SIDE(0:14) CHAR(7) CONSTANT INIT('  100 |',
     5848      790    1                                           '      |',
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1126 
     5849      791    1                                           ' P 99 |',
     5850      792    1                                           ' e    |',
     5851      793    1                                           ' r 98 |',
     5852      794    1                                           ' f    |',
     5853      795    1                                           ' o 97 |',
     5854      796    1                                           ' r    |',
     5855      797    1                                           ' m 96 |',
     5856      798    1                                           ' a    |',
     5857      799    1                                           ' n 95 |',
     5858      800    1                                           ' c    |',
     5859      801    1                                           ' e 94 |',
     5860      802    1                                           '      |',
     5861      803    1                                           '   93 |');
     5862      804    1   DCL Y_AXIS_PVAL (0:14) UBIN WORD CONSTANT INIT(10000,9950,9900,9850,9800,9750,
     5863      805    1                                                9700,9650,9600,9550,9500,9450,
     5864      806    1                                                9400,9350,9300);
     5865      807    1   DCL ATTEN UBIN WORD;
     5866      808    1   DCL ALERT UBIN WORD;
     5867      809    1   DCL ATTEN_FLG BIT(1) STATIC INIT('0'B);
     5868      810    1   DCL ALERT_FLG BIT(1) STATIC INIT('0'B);
     5869      811    1   DCL PVAL(0:30) UBIN WORD;
     5870      812    1   DCL DEV$ PTR;
     5871      813    1   DCL I UBIN;
     5872      814    1   DCL J UBIN;
     5873      815    1   DCL K UBIN;
     5874      816    1   DCL LINES_PER_GRAPH UBIN WORD CONSTANT INIT(15);
     5875      817    1   DCL DAYS_PER_GRAPH UBIN WORD CONSTANT INIT(30);
     5876      818    1   DCL UTS UBIN WORD;
     5877      819    1   DCL OLDEST_UTS UBIN WORD;
     5878      820    1   DCL CURUTS UBIN WORD STATIC INIT(0);
     5879      821    1   DCL COUNT UBIN WORD;
     5880      822    1   DCL CONNECTS UBIN WORD;
     5881      823        /**/
     5882      824    1   DCL UPR_FMT CHAR(0) CONSTANT INIT(
     5883      825        '%/%19-Number of days prior to report date%2/
     5884      826                      3 2 2 2 2 2 2 2 2 2 2 1 1 1 1 1 1 1 1 1 1%/
     5885      827                      0 9 8 7 6 5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0%/
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1127 
     5886      828    1                 -------------------------------------------------------------%10P');
     5887      829    1   DCL UPR_HDR BIT(72) DALIGNED STATIC INIT(VECTOR(UPR_FMT));
     5888      830    1   DCL UPR_LINE CHAR(0) CONSTANT INIT('%A%10P');
     5889      831    1   DCL FOOTER CHAR(0) CONSTANT INIT(
     5890      832    1   '       -------------------------------------------------------------%10P');
     5891      833    1   DCL DEV_FMT CHAR(0) CONSTANT INIT('%/%35-- %4A -%10P');
     5892      834    1   DCL DEV_HDR BIT(72) DALIGNED STATIC INIT(VECTOR(DEV_FMT));
     5893      835        /**/
     5894      836        /* MACRO INVOCATIONS */
     5895      837        %TH$MPC (NAME=TH$MPC,NUMDEV#=32);
     5896      858        %TH$MPC (NAME=MPCREC,STCLASS=AUTO,NUMDEV#=32);
     5897      879        %TH$IOM (NAME=TH$IOM);
     5898      890        %TH$IOM (NAME=IOMREC,STCLASS=AUTO);
     5899      901        %TH$DEV (NAME=TH$DEV);
     5900      922        %TH$DEV (NAME=DEVREC,STCLASS=AUTO);
     5901      943        %TH$THRESH (NAME=TH$THRESH,NUMDEV#=200);
     5902      949        %TH$THRESH (NAME=TH_THRESH,STCLASS=AUTO,NUMDEV#=200);
     5903      955        %XUD$UTS_ENTRIES;
     5904      987        %XUD_UTS_EQU;
     5905      998        /**/
     5906      999        /* FPT DEFINITIONS */
     5907     1000        %FPT_TIME (FPTN=CUR_UTS,
     5908     1001                   SOURCE=CLOCK,
     5909     1002                   TSTAMP=CURUTS,
     5910     1003                   DEST=UTS);
     5911     1022        /**/
     5912     1023        %EJECT;
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1128 
     5913     1024    1        GRAPH_STRUCT.RIGHT_SIDE = '|';
     5914     1025    1        CALL M$TIME(CUR_UTS);
     5915     1026    1        CALL XUD$UTS_DIFF_SEC (CURUTS, CURUTS, 0);
     5916     1027    1        CURUTS = CURUTS / 86400;
     5917     1028    1        CALL XUD$UTS_ADJ_25TH (CURUTS, 0, CURUTS * %UTS_25TH_DAY#);
     5918     1029    2        DO DEV_INDX = 0 TO TH_NUM_REP_DEVS - 1;
     5919     1030    2           DEVNAME = TH_REP_DEVS(DEV_INDX);
     5920     1031    3           IF SUBSTR(DEVNAME,0,3) = 'MEM' THEN DO;
     5921     1032    3              CALL THM$ERRMSG(%E$TH_MEM_IN_UPR);
     5922     1033    3              GOTO ENDLOOP;
     5923     1034    3              END;  /* IF DEVNAME = 'MEM' */
     5924     1035    2              IF SUBSTR(DEVNAME,0,3) = 'FEP'
     5925     1036    2                 THEN                      /* FEP RECORD                         */
     5926     1037    3                 DO;
     5927     1038                                                /* CURRENTLY NOT SUPPORTED FOR UPR    */
     5928     1039    3                    CALL THM$ERRMSG(%E$TH_FEP_IN_UPR);
     5929     1040    3                    GOTO ENDLOOP;
     5930     1041    3                 END;
     5931     1042        /*E* ERROR:THE-E$TH_MEM_IN_UPR-0
     5932     1043             MESSAGE: Unit Performance Reports for Memory are not currently available.
     5933     1044             DESCRIPTION: Not supported as yet.    */
     5934     1045    2           IF SUBSTR(DEVNAME,0,2) = 'MC'
     5935     1046    2           THEN GOTO ENDLOOP;
     5936     1047    2           CALL THW$WRITE(DEV_HDR,VECTOR(DEVNAME));
     5937     1048    2           PVAL = '0'B;
     5938     1049    2           J = 0;
     5939     1050    2           CALL THG$GETREC(%DEVHIST,ONE);  /* THRESH RECORD                      */
     5940     1051    2           TH_THRESH = TH_RECORD.PTR$->TH$THRESH;
     5941     1052    2           THRESH_INDX = 0;
     5942     1053    3           DO WHILE(TH_THRESH.DEVNAME(THRESH_INDX) ~= DEVNAME);
     5943     1054    3              THRESH_INDX = THRESH_INDX + 1;
     5944     1055    3           END;                            /* DO WHILE                           */
     5945     1056    2           ATTEN = TH_THRESH.ATTEN(THRESH_INDX);
     5946     1057    2           ALERT = TH_THRESH.ALERT(THRESH_INDX);
     5947     1058    2           CALL XUD$UTS_ADJ_25TH (OLDEST_UTS, CURUTS, -(30*%UTS_25TH_DAY#));
     5948     1059    2           UTS = OLDEST_UTS;
     5949     1060    3           DO WHILE (UTS <= CURUTS);
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1129 
     5950     1061    3              COUNT = 0;
     5951     1062    3              CONNECTS = 0;
     5952     1063    3              PVAL(J) = 10000;             /* %100                               */
     5953     1064    3              CALL THG$GETREC(%DEVHIST,DEVNAME,UTS) ALTRET(NOT_THERE);
     5954     1065    3              IF (SUBSTR(DEVNAME,0,2) = 'UC') OR
     5955     1066    3                 (SUBSTR(DEVNAME,0,2) = 'TC') OR
     5956     1067    3                 (SUBSTR(DEVNAME,0,2) = 'DC')
     5957     1068    3                 THEN                      /* MPC RECORD                         */
     5958     1069    4                 DO;
     5959     1070    4                    MPCREC = TH_RECORD.PTR$->TH$MPC;
     5960     1071    4                    COUNT = COUNT + MPCREC.COUNT;
     5961     1072    4                    CONNECTS = CONNECTS + MPCREC.CONNECTS;
     5962     1073    4                 END;                      /* IF MPC                             */
     5963     1074    3                 ELSE
     5964     1075    3              IF SUBSTR(DEVNAME,0,3) = 'IOM'
     5965     1076    3                 THEN                      /* IOM RECORD                         */
     5966     1077    4                 DO;
     5967     1078    4                    IOMREC = TH_RECORD.PTR$->TH$IOM;
     5968     1079    4                    COUNT = COUNT + IOMREC.COUNT;
     5969     1080    4                    CONNECTS = CONNECTS + IOMREC.CONNECTS;
     5970     1081    4                 END;
     5971     1082    3                 ELSE
     5972     1083    4                 DO;
     5973     1084    4                    DEVREC = TH_RECORD.PTR$->TH$DEV;
     5974     1085    5                    DO K = 0 TO 25;
     5975     1086    5                       COUNT = COUNT + DEVREC.COUNT(K);
     5976     1087    5                    END;                   /* DO K                               */
     5977     1088    4                    CONNECTS = CONNECTS + DEVREC.CONNECTS;
     5978     1089    4                 END;
     5979     1090        /*E* ERROR:THE-E$TH_FEP_IN_UPR-0
     5980     1091             MESSAGE: Unit performance reports for FEPs are currently not available.
     5981     1092             DESCRIPTION: Not supported as yet.       */
     5982     1093    3              CALL THP$STATS(COUNT,CONNECTS,PVAL(J));
     5983     1094    3      NOT_THERE:
     5984     1095    3              J = J + 1;
     5985     1096    3              CALL XUD$UTS_ADJ_25TH(UTS,UTS,%UTS_25TH_DAY#);
     5986     1097    3           END;                            /* DO UTS                             */
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1130 
     5987     1098
     5988     1099    2           CALL THW$WRITE(UPR_HDR);
     5989     1100    2           ATTEN_FLG = %FALSE;
     5990     1101    2           ALERT_FLG = %FALSE;
     5991     1102    3           DO I = 0 TO LINES_PER_GRAPH - 1;
     5992     1103    3              GRAPH_STRUCT.GRAPH = BLANKS;
     5993     1104    3              GRAPH_STRUCT.LEFT_SIDE = LEFT_SIDE(I);
     5994     1105    3              IF (ATTEN = Y_AXIS_PVAL(I)) OR
     5995     1106    3                 (ATTEN > Y_AXIS_PVAL(I) AND NOT ATTEN_FLG)
     5996     1107    3                 THEN                      /* OUTPUT ATTEN LINE                  */
     5997     1108    4                 DO;
     5998     1109    4                    ATTEN_FLG = %TRUE;
     5999     1110    4                    GRAPH_STRUCT.GRAPH = ATTEN_LINE;
     6000     1111    4                 END;                      /* IF                                 */
     6001     1112    3              IF (ALERT = Y_AXIS_PVAL(I)) OR
     6002     1113    3                 (ALERT > Y_AXIS_PVAL(I) AND NOT ALERT_FLG)
     6003     1114    3                 THEN                      /* OUTPUT ALERT LINE                  */
     6004     1115    4                 DO;
     6005     1116    4                    ALERT_FLG = %TRUE;
     6006     1117    4                    GRAPH_STRUCT.GRAPH = ALERT_LINE;
     6007     1118    4                 END;                      /* IF                                 */
     6008     1119    4              DO J = 0 TO DAYS_PER_GRAPH;
     6009     1120    4                 IF PVAL(J) <= Y_AXIS_PVAL(I)
     6010     1121    4                    THEN GRAPH_STRUCT.GRAPH(2 * J) = '*';
     6011     1122    4              END;                         /* DO J                               */
     6012     1123    3              CALL THW$WRITE(VECTOR(UPR_LINE),VECTOR(GRAPH_TEXT));
     6013     1124    3           END;                            /* DO I                               */
     6014     1125    2           CALL THW$WRITE(VECTOR(FOOTER));
     6015     1126    2   ENDLOOP:
     6016     1127    2        END;                          /* DO DEV_INDX = 0 TO TH_NUM_REP_DEVS - 1  */
     6017     1128    1   END THF$UPR;
     6018     1129        %EOD;

PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1131 
--  Include file information  --

   XUD_UTS_M.:E05TOU  is referenced.
   TH$HIST.:E05TOU  is referenced.
   TH_PERR_C.:E05TOU  is referenced.
   TH_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   B_STRINGS_C.:E05TOU  is referenced.
   TH_SUBS_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure THF$UPR.

   Procedure THF$UPR requires 292 words for executable code.
   Procedure THF$UPR requires 1232 words of local(AUTO) storage.

PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1132 

 Object Unit name= THF$UPR                                    File name= THF$FORMAT.:E05TOU
 UTS= JUL 30 '97 06:18:57.20 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   Data  even  none    40     50  THF$UPR
    2  RoData even  UTS    183    267  THF$UPR
    3   Proc  even  none   292    444  THF$UPR
    4  RoData even  none    27     33  THF$UPR

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     3      0   yes            yes      Std        0  THF$UPR

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       3 XUD$UTS_DIFF_SEC
         yes           Std       3 THP$STATS
 yes     yes           Std       3 XUD$UTS_ADJ_25TH
         yes           Std       1 THM$ERRMSG
         yes           Std      11 THW$WRITE
 yes     yes           Std       4 THG$GETREC
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1133 

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  TH_NUM_REP_DEVS                       TH_REP_DEVS
     TH_RECORD                             TH_XSA_BUF_VECTOR                     B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1134 


     5812        1        /*M* THF$UPR - GENERATES UPR REPORT FOR ELAN */
     5813        2        /*T***********************************************************/
     5814        3        /*T*                                                         */
     5815        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     5816        5        /*T*                                                         */
     5817        6        /*T***********************************************************/
     5818        7        THF$UPR: PROC;

      7  3 000000   000000 700200 xent  THF$UPR      TSX0  ! X66_AUTO_0
         3 000001   002320 000000                    ZERO    1232,0

     5819        8        /**/
     5820        9        /* INCLUDE FILES */
     5821       10        %INCLUDE CP_6;
     5822       91        %INCLUDE TH_SUBS_C;
     5823      473        %INCLUDE TH_DATA_R;
     5824      551        %INCLUDE TH_PERR_C;
     5825      592        %INCLUDE TH$HIST;
     5826      687        %INCLUDE XUD_UTS_M;
     5827      769        /**/
     5828      770        /* ENTRY DCLS */
     5829      771    1   DCL THW$WRITE ENTRY(11);
     5830      772    1   DCL THP$STATS ENTRY(3);
     5831      773    1   DCL THG$GETREC ENTRY(4) ALTRET;
     5832      774    1   DCL THM$ERRMSG ENTRY(1);
     5833      775        /**/
     5834      776        /* VARS */
     5835      777    1   DCL ONE CHAR(8) STATIC INIT('1       ');
     5836      778    1   DCL BLANKS (0:60) CHAR(1) CONSTANT INIT(' '*0);
     5837      779    1   DCL ATTEN_LINE (0:60) CHAR(1) CONSTANT INIT('-'*0);
     5838      780    1   DCL ALERT_LINE (0:60) CHAR(1) CONSTANT INIT('+'*0);
     5839      781    1   DCL DEVNAME CHAR(8);
     5840      782    1   DCL THRESH_INDX UBIN WORD;
     5841      783    1   DCL DEV_INDX UBIN WORD;
     5842      784    1   DCL GRAPH_TEXT CHAR(69) STATIC INIT(' ');
     5843      785    1   DCL 1 GRAPH_STRUCT REDEF GRAPH_TEXT,
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1135 
     5844      786    1         2 LEFT_SIDE CHAR(7),
     5845      787    1         2 GRAPH(0:60) CHAR(1),
     5846      788    1         2 RIGHT_SIDE CHAR(1);
     5847      789    1   DCL LEFT_SIDE(0:14) CHAR(7) CONSTANT INIT('  100 |',
     5848      790    1                                           '      |',
     5849      791    1                                           ' P 99 |',
     5850      792    1                                           ' e    |',
     5851      793    1                                           ' r 98 |',
     5852      794    1                                           ' f    |',
     5853      795    1                                           ' o 97 |',
     5854      796    1                                           ' r    |',
     5855      797    1                                           ' m 96 |',
     5856      798    1                                           ' a    |',
     5857      799    1                                           ' n 95 |',
     5858      800    1                                           ' c    |',
     5859      801    1                                           ' e 94 |',
     5860      802    1                                           '      |',
     5861      803    1                                           '   93 |');
     5862      804    1   DCL Y_AXIS_PVAL (0:14) UBIN WORD CONSTANT INIT(10000,9950,9900,9850,9800,9750,
     5863      805    1                                                9700,9650,9600,9550,9500,9450,
     5864      806    1                                                9400,9350,9300);
     5865      807    1   DCL ATTEN UBIN WORD;
     5866      808    1   DCL ALERT UBIN WORD;
     5867      809    1   DCL ATTEN_FLG BIT(1) STATIC INIT('0'B);
     5868      810    1   DCL ALERT_FLG BIT(1) STATIC INIT('0'B);
     5869      811    1   DCL PVAL(0:30) UBIN WORD;
     5870      812    1   DCL DEV$ PTR;
     5871      813    1   DCL I UBIN;
     5872      814    1   DCL J UBIN;
     5873      815    1   DCL K UBIN;
     5874      816    1   DCL LINES_PER_GRAPH UBIN WORD CONSTANT INIT(15);
     5875      817    1   DCL DAYS_PER_GRAPH UBIN WORD CONSTANT INIT(30);
     5876      818    1   DCL UTS UBIN WORD;
     5877      819    1   DCL OLDEST_UTS UBIN WORD;
     5878      820    1   DCL CURUTS UBIN WORD STATIC INIT(0);
     5879      821    1   DCL COUNT UBIN WORD;
     5880      822    1   DCL CONNECTS UBIN WORD;
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1136 
     5881      823        /**/
     5882      824    1   DCL UPR_FMT CHAR(0) CONSTANT INIT(
     5883      825        '%/%19-Number of days prior to report date%2/
     5884      826                      3 2 2 2 2 2 2 2 2 2 2 1 1 1 1 1 1 1 1 1 1%/
     5885      827                      0 9 8 7 6 5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0%/
     5886      828    1                 -------------------------------------------------------------%10P');
     5887      829    1   DCL UPR_HDR BIT(72) DALIGNED STATIC INIT(VECTOR(UPR_FMT));
     5888      830    1   DCL UPR_LINE CHAR(0) CONSTANT INIT('%A%10P');
     5889      831    1   DCL FOOTER CHAR(0) CONSTANT INIT(
     5890      832    1   '       -------------------------------------------------------------%10P');
     5891      833    1   DCL DEV_FMT CHAR(0) CONSTANT INIT('%/%35-- %4A -%10P');
     5892      834    1   DCL DEV_HDR BIT(72) DALIGNED STATIC INIT(VECTOR(DEV_FMT));
     5893      835        /**/
     5894      836        /* MACRO INVOCATIONS */
     5895      837        %TH$MPC (NAME=TH$MPC,NUMDEV#=32);
     5896      858        %TH$MPC (NAME=MPCREC,STCLASS=AUTO,NUMDEV#=32);
     5897      879        %TH$IOM (NAME=TH$IOM);
     5898      890        %TH$IOM (NAME=IOMREC,STCLASS=AUTO);
     5899      901        %TH$DEV (NAME=TH$DEV);
     5900      922        %TH$DEV (NAME=DEVREC,STCLASS=AUTO);
     5901      943        %TH$THRESH (NAME=TH$THRESH,NUMDEV#=200);
     5902      949        %TH$THRESH (NAME=TH_THRESH,STCLASS=AUTO,NUMDEV#=200);
     5903      955        %XUD$UTS_ENTRIES;
     5904      987        %XUD_UTS_EQU;
     5905      998        /**/
     5906      999        /* FPT DEFINITIONS */
     5907     1000        %FPT_TIME (FPTN=CUR_UTS,
     5908     1001                   SOURCE=CLOCK,
     5909     1002                   TSTAMP=CURUTS,
     5910     1003                   DEST=UTS);
     5911     1022        /**/
     5912     1023        %EJECT;
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1137 
     5913     1024    1        GRAPH_STRUCT.RIGHT_SIDE = '|';

   1024  3 000002   174000 236003                    LDQ     63488,DU
         3 000003   000023 552040 1                  STBQ    GRAPH_TEXT+17,'40'O

     5914     1025    1        CALL M$TIME(CUR_UTS);

   1025  3 000004   000034 630400 1                  EPPR0   CUR_UTS
         3 000005   020004 713400                    CLIMB   8196
         3 000006   402000 401760                    pmme    nvectors=5

     5915     1026    1        CALL XUD$UTS_DIFF_SEC (CURUTS, CURUTS, 0);

   1026  3 000007   000000 630400 4                  EPPR0   0
         3 000010   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000011   000000 701000 xent               TSX1    XUD$UTS_DIFF_SEC
         3 000012   000000 011000                    NOP     0

     5916     1027    1        CURUTS = CURUTS / 86400;

   1027  3 000013   000026 236000 1                  LDQ     CURUTS
         3 000014   000001 772000                    QRL     1
         3 000015   124300 506007                    DIV     43200,DL
         3 000016   000026 756000 1                  STQ     CURUTS

     5917     1028    1        CALL XUD$UTS_ADJ_25TH (CURUTS, 0, CURUTS * %UTS_25TH_DAY#);

   1028  3 000017   000003 402000 4                  MPY     3
         3 000020   202312 756100                    STQ     TH_THRESH+805,,AUTO
         3 000021   202312 630500                    EPPR0   TH_THRESH+805,,AUTO
         3 000022   202315 450500                    STP0    TH_THRESH+808,,AUTO
         3 000023   000002 236000 4                  LDQ     2
         3 000024   202314 756100                    STQ     TH_THRESH+807,,AUTO
         3 000025   000000 236000 4                  LDQ     0
         3 000026   202313 756100                    STQ     TH_THRESH+806,,AUTO
         3 000027   202313 630500                    EPPR0   TH_THRESH+806,,AUTO
         3 000030   000021 631400 xsym               EPPR1   B_VECTNIL+17
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1138 
         3 000031   000000 701000 xent               TSX1    XUD$UTS_ADJ_25TH
         3 000032   000000 011000                    NOP     0

     5918     1029    2        DO DEV_INDX = 0 TO TH_NUM_REP_DEVS - 1;

   1029  3 000033   200006 450100                    STZ     DEV_INDX,,AUTO
         3 000034   000440 710000 3                  TRA     ENDLOOP+3

     5919     1030    2           DEVNAME = TH_REP_DEVS(DEV_INDX);

   1030  3 000035   200006 235100                    LDA     DEV_INDX,,AUTO
         3 000036   000003 735000                    ALS     3
         3 000037   040100 100405                    MLR     fill='040'O
         3 000040   000000 000010 xsym               ADSC9   TH_REP_DEVS,A            cn=0,n=8
         3 000041   200003 000010                    ADSC9   DEVNAME,,AUTO            cn=0,n=8

     5920     1031    3           IF SUBSTR(DEVNAME,0,3) = 'MEM' THEN DO;

   1031  3 000042   200003 236100                    LDQ     DEVNAME,,AUTO
         3 000043   000260 676000 2                  ERQ     DEV_FMT+5
         3 000044   000004 376000 4                  ANQ     4
         3 000045   000053 601000 3                  TNZ     s:1035

     5921     1032    3              CALL THM$ERRMSG(%E$TH_MEM_IN_UPR);

   1032  3 000046   000006 630400 4                  EPPR0   6
         3 000047   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000050   000000 701000 xent               TSX1    THM$ERRMSG
         3 000051   000000 011000                    NOP     0

     5922     1033    3              GOTO ENDLOOP;

   1033  3 000052   000435 710000 3                  TRA     ENDLOOP

     5923     1034    3              END;  /* IF DEVNAME = 'MEM' */
     5924     1035    2              IF SUBSTR(DEVNAME,0,3) = 'FEP'

PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1139 
   1035  3 000053   200003 236100                    LDQ     DEVNAME,,AUTO
         3 000054   000261 676000 2                  ERQ     DEV_FMT+6
         3 000055   000004 376000 4                  ANQ     4
         3 000056   000064 601000 3                  TNZ     s:1045

     5925     1036    2                 THEN                      /* FEP RECORD                         */
     5926     1037    3                 DO;

     5927     1038                                                /* CURRENTLY NOT SUPPORTED FOR UPR    */
     5928     1039    3                    CALL THM$ERRMSG(%E$TH_FEP_IN_UPR);

   1039  3 000057   000010 630400 4                  EPPR0   8
         3 000060   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000061   000000 701000 xent               TSX1    THM$ERRMSG
         3 000062   000000 011000                    NOP     0

     5929     1040    3                    GOTO ENDLOOP;

   1040  3 000063   000435 710000 3                  TRA     ENDLOOP

     5930     1041    3                 END;
     5931     1042        /*E* ERROR:THE-E$TH_MEM_IN_UPR-0
     5932     1043             MESSAGE: Unit Performance Reports for Memory are not currently available.
     5933     1044             DESCRIPTION: Not supported as yet.    */
     5934     1045    2           IF SUBSTR(DEVNAME,0,2) = 'MC'

   1045  3 000064   200003 220100                    LDX0    DEVNAME,,AUTO
         3 000065   000262 100000 2                  CMPX0   DEV_FMT+7
         3 000066   000435 600000 3                  TZE     ENDLOOP

     5935     1046    2           THEN GOTO ENDLOOP;
     5936     1047    2           CALL THW$WRITE(DEV_HDR,VECTOR(DEVNAME));

   1047  3 000067   000011 235000 4                  LDA     9
         3 000070   202312 452500                    STP2    TH_THRESH+805,,AUTO
         3 000071   202312 236100                    LDQ     TH_THRESH+805,,AUTO
         3 000072   000003 036003                    ADLQ    3,DU
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1140 
         3 000073   202314 757100                    STAQ    TH_THRESH+807,,AUTO
         3 000074   202314 630500                    EPPR0   TH_THRESH+807,,AUTO
         3 000075   202317 450500                    STP0    TH_THRESH+810,,AUTO
         3 000076   000012 236000 4                  LDQ     10
         3 000077   202316 756100                    STQ     TH_THRESH+809,,AUTO
         3 000100   202316 630500                    EPPR0   TH_THRESH+809,,AUTO
         3 000101   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000102   000000 701000 xent               TSX1    THW$WRITE
         3 000103   000000 011000                    NOP     0

     5937     1048    2           PVAL = '0'B;

   1048  3 000104   000100 100400                    MLR     fill='000'O
         3 000105   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         3 000106   200011 000174                    ADSC9   PVAL,,AUTO               cn=0,n=124

     5938     1049    2           J = 0;

   1049  3 000107   200052 450100                    STZ     J,,AUTO

     5939     1050    2           CALL THG$GETREC(%DEVHIST,ONE);  /* THRESH RECORD                      */

   1050  3 000110   000013 630400 4                  EPPR0   11
         3 000111   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000112   000000 701000 xent               TSX1    THG$GETREC
         3 000113   000000 011000                    NOP     0

     5940     1051    2           TH_THRESH = TH_RECORD.PTR$->TH$THRESH;

   1051  3 000114   000001 470400 xsym               LDP0    TH_RECORD+1
         3 000115   000100 100500                    MLR     fill='000'O
         3 000116   000000 006220                    ADSC9   0,,PR0                   cn=0,n=3216
         3 000117   200645 006220                    ADSC9   TH_THRESH,,AUTO          cn=0,n=3216

     5941     1052    2           THRESH_INDX = 0;

   1052  3 000120   200005 450100                    STZ     THRESH_INDX,,AUTO
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1141 

     5942     1053    3           DO WHILE(TH_THRESH.DEVNAME(THRESH_INDX) ~= DEVNAME);

   1053  3 000121   200005 235100                    LDA     THRESH_INDX,,AUTO
         3 000122   000004 735000                    ALS     4
         3 000123   040100 106505                    CMPC    fill='040'O
         3 000124   200645 000010                    ADSC9   TH_THRESH,A,AUTO         cn=0,n=8
         3 000125   200003 000010                    ADSC9   DEVNAME,,AUTO            cn=0,n=8
         3 000126   000137 600000 3                  TZE     s:1056

     5943     1054    3              THRESH_INDX = THRESH_INDX + 1;

   1054  3 000127   200005 235100                    LDA     THRESH_INDX,,AUTO
         3 000130   000001 035007                    ADLA    1,DL
         3 000131   200005 755100                    STA     THRESH_INDX,,AUTO

     5944     1055    3           END;                            /* DO WHILE                           */

   1055  3 000132   000004 735000                    ALS     4
         3 000133   040100 106505                    CMPC    fill='040'O
         3 000134   200645 000010                    ADSC9   TH_THRESH,A,AUTO         cn=0,n=8
         3 000135   200003 000010                    ADSC9   DEVNAME,,AUTO            cn=0,n=8
         3 000136   000127 601000 3                  TNZ     s:1054

     5945     1056    2           ATTEN = TH_THRESH.ATTEN(THRESH_INDX);

   1056  3 000137   200005 236100                    LDQ     THRESH_INDX,,AUTO
         3 000140   000002 736000                    QLS     2
         3 000141   200647 235106                    LDA     TH_THRESH+2,QL,AUTO
         3 000142   200007 755100                    STA     ATTEN,,AUTO

     5946     1057    2           ALERT = TH_THRESH.ALERT(THRESH_INDX);

   1057  3 000143   200650 235106                    LDA     TH_THRESH+3,QL,AUTO
         3 000144   200010 755100                    STA     ALERT,,AUTO

     5947     1058    2           CALL XUD$UTS_ADJ_25TH (OLDEST_UTS, CURUTS, -(30*%UTS_25TH_DAY#));
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1142 

   1058  3 000145   000016 236000 4                  LDQ     14
         3 000146   202314 756100                    STQ     TH_THRESH+807,,AUTO
         3 000147   000000 236000 4                  LDQ     0
         3 000150   202313 756100                    STQ     TH_THRESH+806,,AUTO
         3 000151   200055 630500                    EPPR0   OLDEST_UTS,,AUTO
         3 000152   202312 450500                    STP0    TH_THRESH+805,,AUTO
         3 000153   202312 630500                    EPPR0   TH_THRESH+805,,AUTO
         3 000154   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000155   000000 701000 xent               TSX1    XUD$UTS_ADJ_25TH
         3 000156   000000 011000                    NOP     0

     5948     1059    2           UTS = OLDEST_UTS;

   1059  3 000157   200055 235100                    LDA     OLDEST_UTS,,AUTO
         3 000160   200054 755100                    STA     UTS,,AUTO

     5949     1060    3           DO WHILE (UTS <= CURUTS);

   1060  3 000161   000026 236000 1                  LDQ     CURUTS
         3 000162   200054 116100                    CMPQ    UTS,,AUTO
         3 000163   000324 602000 3                  TNC     s:1099

     5950     1061    3              COUNT = 0;

   1061  3 000164   200056 450100                    STZ     COUNT,,AUTO

     5951     1062    3              CONNECTS = 0;

   1062  3 000165   200057 450100                    STZ     CONNECTS,,AUTO

     5952     1063    3              PVAL(J) = 10000;             /* %100                               */

   1063  3 000166   023420 235007                    LDA     10000,DL
         3 000167   200052 720100                    LXL0    J,,AUTO
         3 000170   200011 755110                    STA     PVAL,X0,AUTO

PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1143 
     5953     1064    3              CALL THG$GETREC(%DEVHIST,DEVNAME,UTS) ALTRET(NOT_THERE);

   1064  3 000171   200054 630500                    EPPR0   UTS,,AUTO
         3 000172   202314 450500                    STP0    TH_THRESH+807,,AUTO
         3 000173   200003 631500                    EPPR1   DEVNAME,,AUTO
         3 000174   202313 451500                    STP1    TH_THRESH+806,,AUTO
         3 000175   000013 236000 4                  LDQ     11
         3 000176   202312 756100                    STQ     TH_THRESH+805,,AUTO
         3 000177   202312 630500                    EPPR0   TH_THRESH+805,,AUTO
         3 000200   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000201   000000 701000 xent               TSX1    THG$GETREC
         3 000202   000304 702000 3                  TSX2    NOT_THERE

     5954     1065    3              IF (SUBSTR(DEVNAME,0,2) = 'UC') OR

   1065  3 000203   200003 220100                    LDX0    DEVNAME,,AUTO
         3 000204   000263 100000 2                  CMPX0   DEV_FMT+8
         3 000205   000212 600000 3                  TZE     s:1070
         3 000206   000264 100000 2                  CMPX0   DEV_FMT+9
         3 000207   000212 600000 3                  TZE     s:1070
         3 000210   000265 100000 2                  CMPX0   DEV_FMT+10
         3 000211   000225 601000 3                  TNZ     s:1075

     5955     1066    3                 (SUBSTR(DEVNAME,0,2) = 'TC') OR
     5956     1067    3                 (SUBSTR(DEVNAME,0,2) = 'DC')
     5957     1068    3                 THEN                      /* MPC RECORD                         */
     5958     1069    4                 DO;

     5959     1070    4                    MPCREC = TH_RECORD.PTR$->TH$MPC;

   1070  3 000212   000001 470400 xsym               LDP0    TH_RECORD+1
         3 000213   000100 100500                    MLR     fill='000'O
         3 000214   000000 000510                    ADSC9   0,,PR0                   cn=0,n=328
         3 000215   200060 000510                    ADSC9   MPCREC,,AUTO             cn=0,n=328

     5960     1071    4                    COUNT = COUNT + MPCREC.COUNT;

PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1144 
   1071  3 000216   200056 236100                    LDQ     COUNT,,AUTO
         3 000217   200060 036100                    ADLQ    MPCREC,,AUTO
         3 000220   200056 756100                    STQ     COUNT,,AUTO

     5961     1072    4                    CONNECTS = CONNECTS + MPCREC.CONNECTS;

   1072  3 000221   200057 236100                    LDQ     CONNECTS,,AUTO
         3 000222   200061 036100                    ADLQ    MPCREC+1,,AUTO
         3 000223   200057 756100                    STQ     CONNECTS,,AUTO

     5962     1073    4                 END;                      /* IF MPC                             */

   1073  3 000224   000271 710000 3                  TRA     s:1093

     5963     1074    3                 ELSE
     5964     1075    3              IF SUBSTR(DEVNAME,0,3) = 'IOM'

   1075  3 000225   200003 236100                    LDQ     DEVNAME,,AUTO
         3 000226   000266 676000 2                  ERQ     DEV_FMT+11
         3 000227   000004 376000 4                  ANQ     4
         3 000230   000244 601000 3                  TNZ     s:1084

     5965     1076    3                 THEN                      /* IOM RECORD                         */
     5966     1077    4                 DO;

     5967     1078    4                    IOMREC = TH_RECORD.PTR$->TH$IOM;

   1078  3 000231   000001 470400 xsym               LDP0    TH_RECORD+1
         3 000232   000100 100500                    MLR     fill='000'O
         3 000233   000000 002060                    ADSC9   0,,PR0                   cn=0,n=1072
         3 000234   200202 002060                    ADSC9   IOMREC,,AUTO             cn=0,n=1072

     5968     1079    4                    COUNT = COUNT + IOMREC.COUNT;

   1079  3 000235   200056 236100                    LDQ     COUNT,,AUTO
         3 000236   200615 036100                    ADLQ    IOMREC+267,,AUTO
         3 000237   200056 756100                    STQ     COUNT,,AUTO
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1145 

     5969     1080    4                    CONNECTS = CONNECTS + IOMREC.CONNECTS;

   1080  3 000240   200057 236100                    LDQ     CONNECTS,,AUTO
         3 000241   200614 036100                    ADLQ    IOMREC+266,,AUTO
         3 000242   200057 756100                    STQ     CONNECTS,,AUTO

     5970     1081    4                 END;

   1081  3 000243   000271 710000 3                  TRA     s:1093

     5971     1082    3                 ELSE
     5972     1083    4                 DO;

     5973     1084    4                    DEVREC = TH_RECORD.PTR$->TH$DEV;

   1084  3 000244   000001 470400 xsym               LDP0    TH_RECORD+1
         3 000245   000100 100500                    MLR     fill='000'O
         3 000246   000000 000134                    ADSC9   0,,PR0                   cn=0,n=92
         3 000247   200616 000134                    ADSC9   DEVREC,,AUTO             cn=0,n=92

     5974     1085    5                    DO K = 0 TO 25;

   1085  3 000250   200053 450100                    STZ     K,,AUTO

     5975     1086    5                       COUNT = COUNT + DEVREC.COUNT(K);

   1086  3 000251   200053 235100                    LDA     K,,AUTO
         3 000252   000001 735000                    ALS     1
         3 000253   000100 101505                    MRL     fill='000'O
         3 000254   200627 000002                    ADSC9   DEVREC+9,A,AUTO          cn=0,n=2
         3 000255   202312 000004                    ADSC9   TH_THRESH+805,,AUTO      cn=0,n=4
         3 000256   202312 236100                    LDQ     TH_THRESH+805,,AUTO
         3 000257   200056 036100                    ADLQ    COUNT,,AUTO
         3 000260   200056 756100                    STQ     COUNT,,AUTO

     5976     1087    5                    END;                   /* DO K                               */
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1146 

   1087  3 000261   200053 235100                    LDA     K,,AUTO
         3 000262   000001 035007                    ADLA    1,DL
         3 000263   200053 755100                    STA     K,,AUTO
         3 000264   000032 115007                    CMPA    26,DL
         3 000265   000251 602000 3                  TNC     s:1086

     5977     1088    4                    CONNECTS = CONNECTS + DEVREC.CONNECTS;

   1088  3 000266   200057 236100                    LDQ     CONNECTS,,AUTO
         3 000267   200644 036100                    ADLQ    DEVREC+22,,AUTO
         3 000270   200057 756100                    STQ     CONNECTS,,AUTO

     5978     1089    4                 END;

     5979     1090        /*E* ERROR:THE-E$TH_FEP_IN_UPR-0
     5980     1091             MESSAGE: Unit performance reports for FEPs are currently not available.
     5981     1092             DESCRIPTION: Not supported as yet.       */
     5982     1093    3              CALL THP$STATS(COUNT,CONNECTS,PVAL(J));

   1093  3 000271   200052 720100                    LXL0    J,,AUTO
         3 000272   200011 630510                    EPPR0   PVAL,X0,AUTO
         3 000273   202314 450500                    STP0    TH_THRESH+807,,AUTO
         3 000274   200057 631500                    EPPR1   CONNECTS,,AUTO
         3 000275   202313 451500                    STP1    TH_THRESH+806,,AUTO
         3 000276   200056 633500                    EPPR3   COUNT,,AUTO
         3 000277   202312 453500                    STP3    TH_THRESH+805,,AUTO
         3 000300   202312 630500                    EPPR0   TH_THRESH+805,,AUTO
         3 000301   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000302   000000 701000 xent               TSX1    THP$STATS
         3 000303   000000 011000                    NOP     0

     5983     1094    3      NOT_THERE:
     5984     1095    3              J = J + 1;

   1095  3 000304   200052 235100       NOT_THERE    LDA     J,,AUTO
         3 000305   000001 035007                    ADLA    1,DL
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1147 
         3 000306   200052 755100                    STA     J,,AUTO

     5985     1096    3              CALL XUD$UTS_ADJ_25TH(UTS,UTS,%UTS_25TH_DAY#);

   1096  3 000307   000017 236000 4                  LDQ     15
         3 000310   202314 756100                    STQ     TH_THRESH+807,,AUTO
         3 000311   200054 630500                    EPPR0   UTS,,AUTO
         3 000312   202313 450500                    STP0    TH_THRESH+806,,AUTO
         3 000313   200054 631500                    EPPR1   UTS,,AUTO
         3 000314   202312 451500                    STP1    TH_THRESH+805,,AUTO
         3 000315   202312 630500                    EPPR0   TH_THRESH+805,,AUTO
         3 000316   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000317   000000 701000 xent               TSX1    XUD$UTS_ADJ_25TH
         3 000320   000000 011000                    NOP     0

     5986     1097    3           END;                            /* DO UTS                             */

   1097  3 000321   000026 236000 1                  LDQ     CURUTS
         3 000322   200054 116100                    CMPQ    UTS,,AUTO
         3 000323   000164 603000 3                  TRC     s:1061

     5987     1098
     5988     1099    2           CALL THW$WRITE(UPR_HDR);

   1099  3 000324   000020 630400 4                  EPPR0   16
         3 000325   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000326   000000 701000 xent               TSX1    THW$WRITE
         3 000327   000000 011000                    NOP     0

     5989     1100    2           ATTEN_FLG = %FALSE;

   1100  3 000330   000024 450000 1                  STZ     ATTEN_FLG

     5990     1101    2           ALERT_FLG = %FALSE;

   1101  3 000331   000025 450000 1                  STZ     ALERT_FLG

PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1148 
     5991     1102    3           DO I = 0 TO LINES_PER_GRAPH - 1;

   1102  3 000332   200051 450100                    STZ     I,,AUTO
         3 000333   000426 710000 3                  TRA     s:1124+3

     5992     1103    3              GRAPH_STRUCT.GRAPH = BLANKS;

   1103  3 000334   000000 100400                    MLR     fill='000'O
         3 000335   000000 000075 2                  ADSC9   BLANKS                   cn=0,n=61
         3 000336   000003 600075 1                  ADSC9   GRAPH_TEXT+1             cn=3,n=61

     5993     1104    3              GRAPH_STRUCT.LEFT_SIDE = LEFT_SIDE(I);

   1104  3 000337   200051 236100                    LDQ     I,,AUTO
         3 000340   000007 402007                    MPY     7,DL
         3 000341   040000 100406                    MLR     fill='040'O
         3 000342   000060 000007 2                  ADSC9   LEFT_SIDE,Q              cn=0,n=7
         3 000343   000002 000007 1                  ADSC9   GRAPH_TEXT               cn=0,n=7

     5994     1105    3              IF (ATTEN = Y_AXIS_PVAL(I)) OR

   1105  3 000344   200051 720100                    LXL0    I,,AUTO
         3 000345   200007 236100                    LDQ     ATTEN,,AUTO
         3 000346   000113 116010 2                  CMPQ    Y_AXIS_PVAL,X0
         3 000347   000354 600000 3                  TZE     s:1109
         3 000350   000361 602000 3                  TNC     s:1112
         3 000351   000361 600000 3                  TZE     s:1112
         3 000352   000024 234000 1                  SZN     ATTEN_FLG
         3 000353   000361 604000 3                  TMI     s:1112

     5995     1106    3                 (ATTEN > Y_AXIS_PVAL(I) AND NOT ATTEN_FLG)
     5996     1107    3                 THEN                      /* OUTPUT ATTEN LINE                  */
     5997     1108    4                 DO;

     5998     1109    4                    ATTEN_FLG = %TRUE;

   1109  3 000354   400000 236003                    LDQ     -131072,DU
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1149 
         3 000355   000024 756000 1                  STQ     ATTEN_FLG

     5999     1110    4                    GRAPH_STRUCT.GRAPH = ATTEN_LINE;

   1110  3 000356   000000 100400                    MLR     fill='000'O
         3 000357   000020 000075 2                  ADSC9   ATTEN_LINE               cn=0,n=61
         3 000360   000003 600075 1                  ADSC9   GRAPH_TEXT+1             cn=3,n=61

     6000     1111    4                 END;                      /* IF                                 */

     6001     1112    3              IF (ALERT = Y_AXIS_PVAL(I)) OR

   1112  3 000361   200010 236100                    LDQ     ALERT,,AUTO
         3 000362   000113 116010 2                  CMPQ    Y_AXIS_PVAL,X0
         3 000363   000370 600000 3                  TZE     s:1116
         3 000364   000375 602000 3                  TNC     s:1119
         3 000365   000375 600000 3                  TZE     s:1119
         3 000366   000025 234000 1                  SZN     ALERT_FLG
         3 000367   000375 604000 3                  TMI     s:1119

     6002     1113    3                 (ALERT > Y_AXIS_PVAL(I) AND NOT ALERT_FLG)
     6003     1114    3                 THEN                      /* OUTPUT ALERT LINE                  */
     6004     1115    4                 DO;

     6005     1116    4                    ALERT_FLG = %TRUE;

   1116  3 000370   400000 236003                    LDQ     -131072,DU
         3 000371   000025 756000 1                  STQ     ALERT_FLG

     6006     1117    4                    GRAPH_STRUCT.GRAPH = ALERT_LINE;

   1117  3 000372   000000 100400                    MLR     fill='000'O
         3 000373   000040 000075 2                  ADSC9   ALERT_LINE               cn=0,n=61
         3 000374   000003 600075 1                  ADSC9   GRAPH_TEXT+1             cn=3,n=61

     6007     1118    4                 END;                      /* IF                                 */

PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1150 
     6008     1119    4              DO J = 0 TO DAYS_PER_GRAPH;

   1119  3 000375   200052 450100                    STZ     J,,AUTO
         3 000376   000414 710000 3                  TRA     s:1122+3

     6009     1120    4                 IF PVAL(J) <= Y_AXIS_PVAL(I)

   1120  3 000377   200052 720100                    LXL0    J,,AUTO
         3 000400   200051 721100                    LXL1    I,,AUTO
         3 000401   000113 236011 2                  LDQ     Y_AXIS_PVAL,X1
         3 000402   200011 116110                    CMPQ    PVAL,X0,AUTO
         3 000403   000411 602000 3                  TNC     s:1122

     6010     1121    4                    THEN GRAPH_STRUCT.GRAPH(2 * J) = '*';

   1121  3 000404   200052 235100                    LDA     J,,AUTO
         3 000405   000001 735000                    ALS     1
         3 000406   040005 100400                    MLR     fill='040'O
         3 000407   000021 000001 4                  ADSC9   17                       cn=0,n=1
         3 000410   000003 600001 1                  ADSC9   GRAPH_TEXT+1,A           cn=3,n=1

     6011     1122    4              END;                         /* DO J                               */

   1122  3 000411   200052 235100                    LDA     J,,AUTO
         3 000412   000001 035007                    ADLA    1,DL
         3 000413   200052 755100                    STA     J,,AUTO
         3 000414   000133 236000 2                  LDQ     DAYS_PER_GRAPH
         3 000415   200052 116100                    CMPQ    J,,AUTO
         3 000416   000377 603000 3                  TRC     s:1120

     6012     1123    3              CALL THW$WRITE(VECTOR(UPR_LINE),VECTOR(GRAPH_TEXT));

   1123  3 000417   000026 630400 4                  EPPR0   22
         3 000420   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000421   000000 701000 xent               TSX1    THW$WRITE
         3 000422   000000 011000                    NOP     0

PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1151 
     6013     1124    3           END;                            /* DO I                               */

   1124  3 000423   200051 235100                    LDA     I,,AUTO
         3 000424   000001 035007                    ADLA    1,DL
         3 000425   200051 755100                    STA     I,,AUTO
         3 000426   200051 236100                    LDQ     I,,AUTO
         3 000427   000132 116000 2                  CMPQ    LINES_PER_GRAPH
         3 000430   000334 602000 3                  TNC     s:1103

     6014     1125    2           CALL THW$WRITE(VECTOR(FOOTER));

   1125  3 000431   000032 630400 4                  EPPR0   26
         3 000432   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000433   000000 701000 xent               TSX1    THW$WRITE
         3 000434   000000 011000                    NOP     0

     6015     1126    2   ENDLOOP:
     6016     1127    2        END;                          /* DO DEV_INDX = 0 TO TH_NUM_REP_DEVS - 1  */

   1127  3 000435   200006 235100       ENDLOOP      LDA     DEV_INDX,,AUTO
         3 000436   000001 035007                    ADLA    1,DL
         3 000437   200006 755100                    STA     DEV_INDX,,AUTO
         3 000440   200006 236100                    LDQ     DEV_INDX,,AUTO
         3 000441   000000 116000 xsym               CMPQ    TH_NUM_REP_DEVS
         3 000442   000035 602000 3                  TNC     s:1030

     6017     1128    1   END THF$UPR;

   1128  3 000443   000000 702200 xent               TSX2  ! X66_ARET
     6018     1129        %EOD;

PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1152 
--  Include file information  --

   XUD_UTS_M.:E05TOU  is referenced.
   TH$HIST.:E05TOU  is referenced.
   TH_PERR_C.:E05TOU  is referenced.
   TH_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   B_STRINGS_C.:E05TOU  is referenced.
   TH_SUBS_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure THF$UPR.
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1153 

 **** Variables and constants ****

  ****  Section 001  Data  THF$UPR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    25-0-0/b BIT         r     1 ALERT_FLG                 24-0-0/b BIT         r     1 ATTEN_FLG
    26-0-0/w UBIN        r     1 CURUTS                    34-0-0/d STRC(432)   r     1 CUR_UTS
    32-0-0/d BIT (72)    r     1 DEV_HDR                    2-0-0/c STRC(621)   r     1 GRAPH_STRUCT
     2-0-0/c CHAR(69)    r     1 GRAPH_TEXT                 0-0-0/c CHAR(8)     r     1 ONE
    30-0-0/d BIT (72)    r     1 UPR_HDR

  ****  Section 002 RoData THF$UPR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    40-0-0/c CHAR        r     1 ALERT_LINE(0:60)
    20-0-0/c CHAR        r     1 ATTEN_LINE(0:60)
     0-0-0/c CHAR        r     1 BLANKS(0:60)             133-0-0/w UBIN        r     1 DAYS_PER_GRAPH
   253-0-0/c CHAR(17)    r     1 DEV_FMT                  231-0-0/c CHAR(72)    r     1 FOOTER
    60-0-0/c CHAR(7)     r     1 LEFT_SIDE(0:14)
   132-0-0/w UBIN        r     1 LINES_PER_GRAPH          134-0-0/c CHAR(236)   r     1 UPR_FMT
   227-0-0/c CHAR(6)     r     1 UPR_LINE
   113-0-0/w UBIN        r     1 Y_AXIS_PVAL(0:14)

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    10-0-0/w UBIN        r     1 ALERT                      7-0-0/w UBIN        r     1 ATTEN
    57-0-0/w UBIN        r     1 CONNECTS                  56-0-0/w UBIN        r     1 COUNT
     3-0-0/c CHAR(8)     r     1 DEVNAME                  616-0-0/w STRC(828)   r     1 DEVREC
     6-0-0/w UBIN        r     1 DEV_INDX                  51-0-0/w UBIN        r     1 I
   202-0-0/w STRC(9648)  r     1 IOMREC                    52-0-0/w UBIN        r     1 J
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1154 
    53-0-0/w UBIN        r     1 K                         60-0-0/w STRC(2952)  r     1 MPCREC
    55-0-0/w UBIN        r     1 OLDEST_UTS                11-0-0/w UBIN        r     1 PVAL(0:30)
     5-0-0/w UBIN        r     1 THRESH_INDX
   645-0-0/w STRC(144)   r     1 TH_THRESH(0:200)
    54-0-0/w UBIN        r     1 UTS

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w UBIN        r     1 TH_NUM_REP_DEVS            0-0-0/d STRC(72)    r     1 TH_RECORD
     0-0-0/w CHAR(8)     r     1 TH_REP_DEVS(0:511)

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(828)   r     1 TH$DEV                     0-0-0/w STRC(9648)  r     1 TH$IOM
     0-0-0/w STRC(2952)  r     1 TH$MPC
     0-0-0/w STRC(144)   r     1 TH$THRESH(0:200)


   Procedure THF$UPR requires 292 words for executable code.
   Procedure THF$UPR requires 1232 words of local(AUTO) storage.
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1155 
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1156 
          MINI XREF LISTING

ALERT
       808**DCL      1057<<ASSIGN   1112>>IF       1112>>IF
ALERT_FLG
       810**DCL      1101<<ASSIGN   1112>>IF       1116<<ASSIGN
ALERT_LINE
       780**DCL      1117>>ASSIGN
ATTEN
       807**DCL      1056<<ASSIGN   1105>>IF       1105>>IF
ATTEN_FLG
       809**DCL      1100<<ASSIGN   1105>>IF       1109<<ASSIGN
ATTEN_LINE
       779**DCL      1110>>ASSIGN
BLANKS
       778**DCL      1103>>ASSIGN
CONNECTS
       822**DCL      1062<<ASSIGN   1072<<ASSIGN   1072>>ASSIGN   1080<<ASSIGN   1080>>ASSIGN   1088<<ASSIGN
      1088>>ASSIGN   1093<>CALL
COUNT
       821**DCL      1061<<ASSIGN   1071<<ASSIGN   1071>>ASSIGN   1079<<ASSIGN   1079>>ASSIGN   1086<<ASSIGN
      1086>>ASSIGN   1093<>CALL
CURUTS
       820**DCL      1018--DCLINIT  1026<>CALL     1026<>CALL     1027<<ASSIGN   1027>>ASSIGN   1028<>CALL
      1028>>CALL     1058<>CALL     1060>>DOWHILE
CUR_UTS
      1014**DCL      1025<>CALL
CUR_UTS.V
      1018**DCL      1014--DCLINIT
DAYS_PER_GRAPH
       817**DCL      1119>>DOINDEX
DEVNAME
       781**DCL      1030<<ASSIGN   1031>>IF       1035>>IF       1045>>IF       1047--CALL     1053>>DOWHILE
      1064<>CALL     1065>>IF       1065>>IF       1065>>IF       1075>>IF
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1157 
DEVREC
       923**DCL      1084<<ASSIGN
DEVREC.CONNECTS
       941**DCL      1088>>ASSIGN
DEVREC.COUNT
       940**DCL      1086>>ASSIGN
DEV_FMT
       833**DCL       834--DCLINIT
DEV_HDR
       834**DCL      1047<>CALL
DEV_INDX
       783**DCL      1029<<DOINDEX  1030>>ASSIGN
ENDLOOP
      1127**LABEL    1033--GOTO     1040--GOTO     1046--GOTO
FOOTER
       831**DCL      1125--CALL
GRAPH_STRUCT.GRAPH
       787**DCL      1103<<ASSIGN   1110<<ASSIGN   1117<<ASSIGN   1121<<ASSIGN
GRAPH_STRUCT.LEFT_SIDE
       786**DCL      1104<<ASSIGN
GRAPH_STRUCT.RIGHT_SIDE
       788**DCL      1024<<ASSIGN
GRAPH_TEXT
       784**DCL       785--REDEF    1123--CALL
I
       813**DCL      1102<<DOINDEX  1104>>ASSIGN   1105>>IF       1105>>IF       1112>>IF       1112>>IF
      1120>>IF
IOMREC
       891**DCL      1078<<ASSIGN
IOMREC.CONNECTS
       898**DCL      1080>>ASSIGN
IOMREC.COUNT
       899**DCL      1079>>ASSIGN
J
       814**DCL      1049<<ASSIGN   1063>>ASSIGN   1093>>CALL     1095<<ASSIGN   1095>>ASSIGN   1119<<DOINDEX
      1120>>IF       1121>>ASSIGN
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1158 
K
       815**DCL      1085<<DOINDEX  1086>>ASSIGN
LEFT_SIDE
       789**DCL      1104>>ASSIGN
LINES_PER_GRAPH
       816**DCL      1102>>DOINDEX
M$TIME
        86**DCL-ENT  1025--CALL
MPCREC
       859**DCL      1070<<ASSIGN
MPCREC.CONNECTS
       861**DCL      1072>>ASSIGN
MPCREC.COUNT
       860**DCL      1071>>ASSIGN
NOT_THERE
      1095**LABEL    1064--CALLALT
OLDEST_UTS
       819**DCL      1058<>CALL     1059>>ASSIGN
ONE
       777**DCL      1050<>CALL
PVAL
       811**DCL      1048<<ASSIGN   1063<<ASSIGN   1093<>CALL     1120>>IF
TH$DEV
       902**DCL      1084>>ASSIGN
TH$IOM
       880**DCL      1078>>ASSIGN
TH$MPC
       838**DCL      1070>>ASSIGN
TH$THRESH
       944**DCL      1051>>ASSIGN
THG$GETREC
       773**DCL-ENT  1050--CALL     1064--CALL
THM$ERRMSG
       774**DCL-ENT  1032--CALL     1039--CALL
THP$STATS
       772**DCL-ENT  1093--CALL
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1159 
THRESH_INDX
       782**DCL      1052<<ASSIGN   1053>>DOWHILE  1054<<ASSIGN   1054>>ASSIGN   1056>>ASSIGN   1057>>ASSIGN
THW$WRITE
       771**DCL-ENT  1047--CALL     1099--CALL     1123--CALL     1125--CALL
TH_CONSTRAINTS.E_BY_B
       484**DCL       484--REDEF
TH_CONSTRAINTS.M_BY_B
       483**DCL       483--REDEF
TH_CONSTRAINTS.TYPES
       481**DCL       481--REDEF
TH_DEFAULT.E_BY_B
       492**DCL       492--REDEF
TH_DEFAULT.M_BY_B
       491**DCL       491--REDEF
TH_DEFAULT.TYPES
       489**DCL       489--REDEF
TH_NUM_REP_DEVS
       506**DCL      1029>>DOINDEX
TH_RECORD.PTR$
       509**DCL      1051>>ASSIGN   1070>>ASSIGN   1078>>ASSIGN   1084>>ASSIGN
TH_REP_DEVS
       507**DCL      1030>>ASSIGN
TH_SAVE.E_BY_B
       500**DCL       500--REDEF
TH_SAVE.M_BY_B
       498**DCL       498--REDEF
TH_SAVE.TYPES
       496**DCL       497--REDEF
TH_THRESH
       950**DCL      1051<<ASSIGN
TH_THRESH.ALERT
       953**DCL      1057>>ASSIGN
TH_THRESH.ATTEN
       952**DCL      1056>>ASSIGN
TH_THRESH.DEVNAME
       951**DCL      1053>>DOWHILE
PL6.E3A0      #009=THF$UPR File=THF$FORMAT.:E05TSI                               WED 07/30/97 06:18 Page:1160 
TH_XSA_BUF_VECTOR
       516**DCL       516--REDEF
UPR_FMT
       824**DCL       829--DCLINIT
UPR_HDR
       829**DCL      1099<>CALL
UPR_LINE
       830**DCL      1123--CALL
UTS
       818**DCL      1059<<ASSIGN   1060>>DOWHILE  1064<>CALL     1096<>CALL     1096<>CALL
XUD$UTS_ADJ_25TH
       980**DCL-ENT  1028--CALL     1058--CALL     1096--CALL
XUD$UTS_DIFF_SEC
       962**DCL-ENT  1026--CALL
Y_AXIS_PVAL
       804**DCL      1105>>IF       1105>>IF       1112>>IF       1112>>IF       1120>>IF

PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1161 
     6019        1        /*M* THF$STATUS - RETURN TEXT TRANSLATION OF MAJOR AND MINOR STATUS CODES */
     6020        2        /*T***********************************************************/
     6021        3        /*T*                                                         */
     6022        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     6023        5        /*T*                                                         */
     6024        6        /*T***********************************************************/
     6025        7        THF$STATUS: PROC(IOERR,MAJBUF,MAJCOUNT,MINBUF,MINCOUNT) ALTRET;
     6026        8        %INCLUDE EL$TABLES;
     6027      331        /**/
     6028      332        /* PARAMS */
     6029      333        %EL$IOERR (NAME=IOERR,STCLASS="");
     6030      343    1   DCL MAJBUF CHAR(32);
     6031      344    1   DCL MAJCOUNT UBIN WORD;
     6032      345    1   DCL MINBUF CHAR(32);
     6033      346    1   DCL MINCOUNT UBIN WORD;
     6034      347        /**/
     6035      348        /* INCLUDE FILES */
     6036      349        %INCLUDE NI_DATA_C;
     6037      462        /**/
     6038      463        /* VARS */
     6039      464        %SUB NUMSTATUS = 10;
     6040      465        %SUB NUMMINORS = 19;
     6041      466    1   DCL TYPE$(0:4) PTR STATIC INIT(ADDR(DP_TBL),ADDR(MT_TBL),ADDR(LP_TBL),ADDR(CRP_TBL),
               466            ADDR(MCA_TBL));
     6042      467    1   DCL 1 MAJ_STATUS_TBL(0:NUMSTATUS) CONSTANT ALIGNED,
     6043      468    1         2 MAJOR UBIN(4) UNAL INIT(%READY,
     6044      469    1                                   %DEVICE_BUSY,
     6045      470    1                                   %ATTENTION,
     6046      471    1                                   %DATA_ALERT,
     6047      472    1                                   %END_OF_FILE,
     6048      473    1                                   %COMMAND_REJECT,
     6049      474    1                                   %LOST_INTERRUPT,
     6050      475    1                                   %MPC_ATTENTION,
     6051      476    1                                   %MPC_DATA_ALERT,
     6052      477    1                                   %MPC_COMMAND_REJECT,
     6053      478    1                                   %SYSTEM_FAULT),
     6054      479    1         2 COUNT UBIN BYTE UNAL INIT(5,11,9,10,6,14,9,13,14,14,12),
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1162 
     6055      480    1         2 TEXT CHAR(20) UNAL INIT('READY',
     6056      481    1                                   'DEVICE BUSY',
     6057      482    1                                   'ATTENTION',
     6058      483    1                                   'DATA ALERT',
     6059      484    1                                   'E.O.F.',
     6060      485    1                                   'COMMAND REJECT',
     6061      486    1                                   'LOST INT.',
     6062      487    1                                   'MPC ATTENTION',
     6063      488    1                                   'MPC DATA ALERT',
     6064      489    1                                   'MPC CMD REJECT',
     6065      490    1                                   'SYSTEM FAULT');
     6066      491    1   DCL 1 DP_TBL(0:NUMSTATUS) CONSTANT ALIGNED,
     6067      492    1         2 MAJOR UBIN(4) UNAL INIT(%READY,
     6068      493    1                                   %DEVICE_BUSY,
     6069      494    1                                   %ATTENTION,
     6070      495    1                                   %DATA_ALERT,
     6071      496    1                                   %END_OF_FILE,
     6072      497    1                                   %COMMAND_REJECT,
     6073      498    1                                   %LOST_INTERRUPT,
     6074      499    1                                   %MPC_ATTENTION,
     6075      500    1                                   %MPC_DATA_ALERT,
     6076      501    1                                   %MPC_COMMAND_REJECT,
     6077      502    1                                   %SYSTEM_FAULT),
     6078      503    1         2 SUB$ PTR INIT(ADDR(DP_READY),
     6079      504    1                         ADDR(DP_DEVICE_BUSY),
     6080      505    1                         ADDR(DP_ATTENTION),
     6081      506    1                         ADDR(DP_DATA_ALERT),
     6082      507    1                         ADDR(DP_END_OF_FILE),
     6083      508    1                         ADDR(DP_COMMAND_REJECT),
     6084      509    1                         ADDR(NIL),
     6085      510    1                         ADDR(DP_MPC_ATTENTION),
     6086      511    1                         ADDR(DP_MPC_DATA_ALERT),
     6087      512    1                         ADDR(DP_MPC_COMMAND_REJECT),
     6088      513    1                         ADDR(NIL));
     6089      514    1   DCL 1 MT_TBL(0:NUMSTATUS) CONSTANT ALIGNED,
     6090      515    1         2 MAJOR UBIN(4) UNAL INIT(%READY,
     6091      516    1                                   %DEVICE_BUSY,
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1163 
     6092      517    1                                   %ATTENTION,
     6093      518    1                                   %DATA_ALERT,
     6094      519    1                                   %END_OF_FILE,
     6095      520    1                                   %COMMAND_REJECT,
     6096      521    1                                   %LOST_INTERRUPT,
     6097      522    1                                   %MPC_ATTENTION,
     6098      523    1                                   %MPC_DATA_ALERT,
     6099      524    1                                   %MPC_COMMAND_REJECT,
     6100      525    1                                   %SYSTEM_FAULT),
     6101      526    1         2 SUB$ PTR INIT(ADDR(MT_READY),
     6102      527    1                         ADDR(MT_DEVICE_BUSY),
     6103      528    1                         ADDR(MT_ATTENTION),
     6104      529    1                         ADDR(MT_DATA_ALERT),
     6105      530    1                         ADDR(MT_END_OF_FILE),
     6106      531    1                         ADDR(MT_COMMAND_REJECT),
     6107      532    1                         ADDR(NIL),
     6108      533    1                         ADDR(MT_MPC_ATTENTION),
     6109      534    1                         ADDR(MT_MPC_DATA_ALERT),
     6110      535    1                         ADDR(MT_MPC_COMMAND_REJECT),
     6111      536    1                         ADDR(NIL));
     6112      537    1   DCL 1 LP_TBL(0:NUMSTATUS) CONSTANT ALIGNED,
     6113      538    1         2 MAJOR UBIN(4) UNAL INIT(%READY,
     6114      539    1                                   %DEVICE_BUSY,
     6115      540    1                                   %ATTENTION,
     6116      541    1                                   %DATA_ALERT,
     6117      542    1                                   %END_OF_FILE,
     6118      543    1                                   %COMMAND_REJECT,
     6119      544    1                                   %LOST_INTERRUPT,
     6120      545    1                                   %MPC_ATTENTION,
     6121      546    1                                   %MPC_DATA_ALERT,
     6122      547    1                                   %MPC_COMMAND_REJECT,
     6123      548    1                                   %SYSTEM_FAULT),
     6124      549    1         2 SUB$ PTR INIT(ADDR(LP_READY),
     6125      550    1                         ADDR(NIL),
     6126      551    1                         ADDR(LP_ATTENTION),
     6127      552    1                         ADDR(LP_DATA_ALERT),
     6128      553    1                         ADDR(NIL),
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1164 
     6129      554    1                         ADDR(LP_COMMAND_REJECT),
     6130      555    1                         ADDR(NIL),
     6131      556    1                         ADDR(LP_MPC_ATTENTION),
     6132      557    1                         ADDR(LP_MPC_DATA_ALERT),
     6133      558    1                         ADDR(LP_MPC_COMMAND_REJECT),
     6134      559    1                         ADDR(NIL));
     6135      560    1   DCL 1 CRP_TBL(0:NUMSTATUS) CONSTANT ALIGNED,
     6136      561    1         2 MAJOR UBIN(4) UNAL INIT(%READY,
     6137      562    1                                   %DEVICE_BUSY,
     6138      563    1                                   %ATTENTION,
     6139      564    1                                   %DATA_ALERT,
     6140      565    1                                   %END_OF_FILE,
     6141      566    1                                   %COMMAND_REJECT,
     6142      567    1                                   %LOST_INTERRUPT,
     6143      568    1                                   %MPC_ATTENTION,
     6144      569    1                                   %MPC_DATA_ALERT,
     6145      570    1                                   %MPC_COMMAND_REJECT,
     6146      571    1                                   %SYSTEM_FAULT),
     6147      572    1         2 SUB$ PTR INIT(ADDR(CRP_READY),
     6148      573    1                         ADDR(NIL),
     6149      574    1                         ADDR(CRP_ATTENTION),
     6150      575    1                         ADDR(CRP_DATA_ALERT),
     6151      576    1                         ADDR(NIL),
     6152      577    1                         ADDR(CRP_COMMAND_REJECT),
     6153      578    1                         ADDR(NIL),
     6154      579    1                         ADDR(CRP_MPC_ATTENTION),
     6155      580    1                         ADDR(CRP_MPC_DATA_ALERT),
     6156      581    1                         ADDR(CRP_MPC_COMMAND_REJECT),
     6157      582    1                         ADDR(NIL));
     6158      583    1   DCL 1 MCA_TBL(0:NUMSTATUS) CONSTANT ALIGNED,
     6159      584    1         2 MAJOR UBIN(4) UNAL INIT(%READY,
     6160      585    1                                   %DEVICE_BUSY,
     6161      586    1                                   %ATTENTION,
     6162      587    1                                   %DATA_ALERT,
     6163      588    1                                   %END_OF_FILE,
     6164      589    1                                   %COMMAND_REJECT,
     6165      590    1                                   %LOST_INTERRUPT,
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1165 
     6166      591    1                                   %MPC_ATTENTION,
     6167      592    1                                   %MPC_DATA_ALERT,
     6168      593    1                                   %MPC_COMMAND_REJECT,
     6169      594    1                                   %SYSTEM_FAULT),
     6170      595    1         2 SUB$ PTR INIT(ADDR(MCA_READY),
     6171      596    1                         ADDR(NIL),
     6172      597    1                         ADDR(MCA_ATTENTION),
     6173      598    1                         ADDR(MCA_DATA_ALERT),
     6174      599    1                         ADDR(NIL),
     6175      600    1                         ADDR(MCA_COMMAND_REJECT),
     6176      601    1                         ADDR(NIL),
     6177      602    1                         ADDR(MCA_MPC_ATTENTION),
     6178      603    1                         ADDR(MCA_MPC_DATA_ALERT),
     6179      604    1                         ADDR(MCA_MPC_COMMAND_REJECT),
     6180      605    1                         ADDR(NIL));
     6181      606    1   DCL 1 DP_READY(0:NUMMINORS) CONSTANT ALIGNED,
     6182      607    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6183      608    1         2 CODE BIT(6) UNAL INIT('00'O,'01'O,'02'O,'03'O,'20'O,'00'O*0),
     6184      609    1         2 COUNT UBIN BYTE UNAL INIT(5,7,9,9,15,0*0),
     6185      610    1         2 TEXT CHAR(20) UNAL INIT('READY',
     6186      611    1                                   '1 RETRY',
     6187      612    1                                   '2 RETRIES',
     6188      613    1                                   '3 RETRIES',
     6189      614    1                                   'EDAC CORRECTION',' '*0);
     6190      615    1   DCL 1 DP_DEVICE_BUSY (0:NUMMINORS) CONSTANT ALIGNED,
     6191      616    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6192      617    1         2 CODE BIT(6) UNAL INIT('00'O,'20'O,'01'O,'40'O,'00'O*0),
     6193      618    1         2 COUNT UBIN BYTE UNAL INIT(15,17,19,11,0*0),
     6194      619    1         2 TEXT CHAR(20) UNAL INIT('DEV POSITIONING',
     6195      620    1                                   'CONTROL UNIT BUSY',
     6196      621    1                                   'IPI/DEV RESP ~AVAIL',
     6197      622    1                                   'ALT CHANNEL',' '*0);
     6198      623    1   DCL 1 DP_ATTENTION (0:NUMMINORS) CONSTANT ALIGNED,
     6199      624    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6200      625    1         2 CODE BIT(6) UNAL INIT('10'O,'14'O,'40'O,'15'O,'02'O,'16'O,'01'O,'20'O,'00'O*
               625                  0),
     6201      626    1         2 COUNT UBIN BYTE UNAL INIT(8,9,11,10,15,8,13,14,0*0),
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1166 
     6202      627    1         2 TEXT CHAR(20) UNAL INIT('DEV INOP',
     6203      628    1                                   'EN1 ALERT',
     6204      629    1                                   'DEV OFFLINE',
     6205      630    1                                   'CA EN1 ALERT',
     6206      631    1                                   'SEEK INCOMPLETE',
     6207      632    1                                   'CA ALERT',
     6208      633    1                                   'WRITE INHIBIT',
     6209      634    1                                   'DEV IN STANDBY',' '*0);
     6210      635    1   DCL 1 DP_DATA_ALERT(0:NUMMINORS) CONSTANT ALIGNED,
     6211      636    1         2 MASK BIT(1) UNAL INIT('0'B*3,'1'B*3,'0'B*0),
     6212      637    1         2 CODE BIT(6) UNAL INIT('02'O,'01'O,'04'O,'10'O,'20'O,'40'O,'00'O*0),
     6213      638    1         2 COUNT UBIN BYTE UNAL INIT(12,3,17,13,12,13,0*0),
     6214      639    1         2 TEXT CHAR(20) UNAL INIT('TRANS PARITY',
     6215      640    1                                   'TTE',
     6216      641    1                                   'INVALID SEEK ADDR',
     6217      642    1                                   'HDR VER ERROR',
     6218      643    1                                   'CYCLIC CHECK',
     6219      644    1                                   'COMPARE ALERT',' '*0);
     6220      645    1   DCL 1 DP_END_OF_FILE (0:NUMMINORS) CONSTANT ALIGNED,
     6221      646    1         2 MASK BIT(1) UNAL INIT('1'B*2,'0'B*0),
     6222      647    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'04'O,'10'O,'20'O,'00'O*0),
     6223      648    1         2 COUNT UBIN BYTE UNAL INIT(15,16,13,14,16,17,0*0),
     6224      649    1         2 TEXT CHAR(20) UNAL INIT('LAST CONSEC BLK',
     6225      650    1                                   'SECTOR CNT LIMIT',
     6226      651    1                                   'DEF TRK (ATA)',
     6227      652    1                                   'DEF TRK (ATNA)',
     6228      653    1                                   'ALT TRK DETECTED',
     6229      654    1                                   'GOOD TRK DETECTED',' '*0);
     6230      655    1   DCL 1 DP_COMMAND_REJECT(0:NUMMINORS) CONSTANT ALIGNED,
     6231      656    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6232      657    1         2 CODE BIT(6) UNAL INIT('04'O,'01'O,'02'O,'10'O,'00'O*0),
     6233      658    1         2 COUNT UBIN BYTE UNAL INIT(17,15,16,16,0*0),
     6234      659    1         2 TEXT CHAR(20) UNAL INIT('IDCW PARITY ALERT',
     6235      660    1                                   'INVALID OP CODE',
     6236      661    1                                   'INVALID DEV CODE',
     6237      662    1                                   'INVALID INST SEQ',' '*0);
     6238      663    1   DCL 1 DP_MPC_ATTENTION (0:NUMMINORS) CONSTANT ALIGNED,
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1167 
     6239      664    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6240      665    1         2 CODE BIT(6) UNAL INIT('01'O,'03'O,'02'O,'13'O,'14'O,'15'O,
     6241      666    1                                 '16'O,'17'O,'22'O,'23'O,'00'O*0),
     6242      667    1         2 COUNT UBIN BYTE UNAL INIT(12,13,16,17,18,18,19,18,12,12,0*0),
     6243      668    1         2 TEXT CHAR(20) UNAL INIT('CONFIG ERROR',
     6244      669    1                                   'DEVICE# ERROR',
     6245      670    1                                   'MULTIPLE DEVICES',
     6246      671    1                                   'CA UNEXPECTED INT',
     6247      672    1                                   'CA/IPC MALFUNCTION',
     6248      673    1                                   'SD DISC / CA ERROR',
     6249      674    1                                   'SD OFFLINE/CA ALERT',
     6250      675    1                                   'WRITE ERR IN FAULT',
     6251      676    1                                   'EXEC FAULT A',
     6252      677    1                                   'EXEC FAULT B',' '*0);
     6253      678    1   DCL 1 DP_MPC_DATA_ALERT(0:NUMMINORS) CONSTANT ALIGNED,
     6254      679    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6255      680    1         2 CODE BIT(6) UNAL INIT('01'O,'16'O,'02'O,'23'O,'03'O,'04'O,'24'O,'11'O,'26'O,
     6256      681    1                       '12'O,'27'O,'21'O,'31'O,'22'O,'32'O,'25'O,'41'O,'42'O,'00'O*0),
     6257      682    1         2 COUNT UBIN BYTE UNAL INIT(16,11,16,12,14,15,11,12,16,17,16,17,16,17,17,
     6258      683    1                                     19,20,18,0*0),
     6259      684    1         2 TEXT CHAR(20) UNAL INIT('TRANS PARITY ERR',
     6260      685    1                                   'EDAC PARITY',
     6261      686    1                                   'INCONSISTENT CMD',
     6262      687    1                                   'SEARCH ALERT',
     6263      688    1                                   'SUMCHECK ERROR',
     6264      689    1                                   'BYTE LOCKED OUT',
     6265      690    1                                   'CYCLIC CODE',
     6266      691    1                                   'ERR CORR REQ',
     6267      692    1                                   'SYNC BYTE~=''19''X',
     6268      693    1                                   'EDAC ERROR UNCORR',
     6269      694    1                                   'ERROR ON ALT TRK',
     6270      695    1                                   'SECTOR SIZE ERROR',
     6271      696    1                                   'EDAC CORR (LAST)',
     6272      697    1                                   'NONSTD SECTOR SIZ',
     6273      698    1                                   'EDAC CORR (NLAST)',
     6274      699    1                                   'SEARCH ERR (NFIRST)',
     6275      700    1                                   'WRITE BUF PARITY ERR',
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1168 
     6276      701    1                                   'UNCORRECTABLE READ',' '*0);
     6277      702    1   DCL 1 DP_MPC_COMMAND_REJECT(0:NUMMINORS) CONSTANT ALIGNED,
     6278      703    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6279      704    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'03'O,'04'O,'00'O*0),
     6280      705    1         2 COUNT UBIN BYTE UNAL INIT(13,13,17,16,0*0),
     6281      706    1         2 TEXT CHAR(20) UNAL INIT('ILL PROCEDURE',
     6282      707    1                                   'ILL LOG CHAN#',
     6283      708    1                                   'ILL CHAN# TO SUSP',
     6284      709    1                                   'CONT BIT NOT SET',' '*0);
     6285      710    1   DCL 1 MT_READY (0:NUMMINORS) CONSTANT ALIGNED,
     6286      711    1         2 MASK BIT(1) UNAL INIT('0'B,'1'B*6,'0'B*0),
     6287      712    1         2 CODE BIT(6) UNAL INIT('00'O,'01'O,'20'O,'40'O,'50'O,'02'O,'04'O,'14'O,'00'O*
               712                  0),
     6288      713    1         2 COUNT UBIN BYTE UNAL INIT(5,15,12,13,12,13,12,17,0*0),
     6289      714    1         2 TEXT CHAR(20) UNAL INIT('READY',
     6290      715    1                                   'WRITE PROTECTED',
     6291      716    1                                   'TWO BIT FULL',
     6292      717    1                                   'FOUR BIT FULL',
     6293      718    1                                   'SIX BIT FULL',
     6294      719    1                                   'POS AT B.O.T.',
     6295      720    1                                   '9 TRK MTH',
     6296      721    1                                   'ASCII/EBCDIC CODE',' '*0);
     6297      722    1   DCL 1 MT_DEVICE_BUSY(0:NUMMINORS) CONSTANT ALIGNED,
     6298      723    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6299      724    1         2 CODE BIT(6) UNAL INIT('40'O,'01'O,'02'O,'04'O,'00'O*0),
     6300      725    1         2 COUNT UBIN BYTE UNAL INIT(15,9,11,7,0*0),
     6301      726    1         2 TEXT CHAR(20) UNAL INIT('DEVICE RESERVED',
     6302      727    1                                   'REWINDING',
     6303      728    1                                   'ALT CHANNEL',
     6304      729    1                                   'LOADING',' '*0);
     6305      730    1   DCL 1 MT_ATTENTION(0:NUMMINORS) CONSTANT ALIGNED,
     6306      731    1         2 MASK BIT(1) UNAL INIT('0'B,'1'B*4,'0'B*0),
     6307      732    1         2 CODE BIT(6) UNAL INIT('02'O,'04'O,'10'O,'01'O,'20'O,'00'O*0),
     6308      733    1         2 COUNT UBIN BYTE UNAL INIT(11,14,12,13,19,0*0),
     6309      734    1         2 TEXT CHAR(20) UNAL INIT('NO SUCH MTH',
     6310      735    1                                   'MTH IN STANDBY',
     6311      736    1                                   'DEVICE FAULT',
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1169 
     6312      737    1                                   'WRITE PROTECT',
     6313      738    1                                   'BLANK TAPE ON WRITE',' '*0);
     6314      739    1   DCL 1 MT_DATA_ALERT(0:NUMMINORS) CONSTANT ALIGNED,
     6315      740    1         2 MASK BIT(1) UNAL INIT('0'B*2,'1'B*5,'0'B*0),
     6316      741    1         2 CODE BIT(6) UNAL INIT('02'O,'01'O,'03'O,'04'O,'10'O,'20'O,'40'O,'10'O,'00'O*
               741                  0),
     6317      742    1         2 COUNT UBIN BYTE UNAL INIT(16,3,12,15,11,12,6,10,17,0*0),
     6318      743    1         2 TEXT CHAR(20) UNAL INIT('BLANK TAPE ON READ',
     6319      744    1                                   'TTE',
     6320      745    1                                   'BIT ON ERASE',
     6321      746    1                                   'TRANS PAR ALERT',
     6322      747    1                                   'LAT PAR ERR',
     6323      748    1                                   'LONG PAR ERR',
     6324      749    1                                   'E.O.T.',
     6325      750    1                                   'FRAME DROP',
     6326      751    1                                   'ASCII/EBCDIC CODE',' '*0);
     6327      752    1   DCL 1 MT_END_OF_FILE (0:NUMMINORS) CONSTANT ALIGNED,
     6328      753    1         2 MASK BIT(1) UNAL INIT('0'B*3,'1'B,'0'B*0),
     6329      754    1         2 CODE BIT(6) UNAL INIT('17'O,'23'O,'77'O,'00'O*0),
     6330      755    1         2 COUNT UBIN BYTE UNAL INIT(14,14,10,15,0*0),
     6331      756    1         2 TEXT CHAR(20) UNAL INIT('E.O.F. (7 TRK)',
     6332      757    1                                   'E.O.F. (9 TRK)',
     6333      758    1                                   'DATA ALERT',
     6334      759    1                                   'SINGLE CHAR REC',' '*0);
     6335      760    1   DCL 1 MT_COMMAND_REJECT(0:NUMMINORS) CONSTANT ALIGNED,
     6336      761    1         2 MASK BIT(1) UNAL INIT('1'B*3,'0'B*0),
     6337      762    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'04'O,'10'O,'20'O,'40'O,'00'O*0),
     6338      763    1         2 COUNT UBIN BYTE UNAL INIT(11,15,17,6,16,12,15,0*0),
     6339      764    1         2 TEXT CHAR(20) UNAL INIT('INV OP CODE',
     6340      765    1                                   'INV DEVICE CODE',
     6341      766    1                                   'IDCW PARITY ALERT',
     6342      767    1                                   'B.O.T.',
     6343      768    1                                   'FWD RD AFTER WRT',
     6344      769    1                                   'NINE TRK MTH',
     6345      770    1                                   'INVALID DENSITY',' '*0);
     6346      771    1   DCL 1 MT_MPC_ATTENTION(0:NUMMINORS) CONSTANT ALIGNED,
     6347      772    1         2 MASK BIT(1) UNAL INIT('0'B*2,'1'B,'0'B*0),
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1170 
     6348      773    1         2 CODE BIT(6) UNAL INIT('03'O,'02'O,'14'O,'20'O,'10'O,'21'O,'01'O,'00'O*0),
     6349      774    1         2 COUNT UBIN BYTE UNAL INIT(13,16,15,15,14,15,12,0*0),
     6350      775    1         2 TEXT CHAR(20) UNAL INIT('DEVICE# ERROR',
     6351      776    1                                   'MULTIPLE DEVICES',
     6352      777    1                                   'TCA MALFUNCTION',
     6353      778    1                                   'DEV MALFUNCTION',
     6354      779    1                                   'INCORRECT MODE',
     6355      780    1                                   'MULTIPLE B.O.T.',
     6356      781    1                                   'CONFIG ERROR',' '*0);
     6357      782    1   DCL 1 MT_MPC_DATA_ALERT (0:NUMMINORS) CONSTANT ALIGNED,
     6358      783    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6359      784    1         2 CODE BIT(6) UNAL INIT('10'O,'11'O,'20'O,'21'O,'22'O,'23'O,'24'O,'02'O,'03'O,
               784                  '04'O,'01'O,'40'O,'00'O*0),
     6360      785    1         2 COUNT UBIN BYTE UNAL INIT(14,14,15,10,15,14,10,16,14,15,16,13,0*0),
     6361      786    1         2 TEXT CHAR(20) UNAL INIT('PE BURST ERROR',
     6362      787    1                                   'PREAMBLE ERROR',
     6363      788    1                                   'MULTI-TRK ERROR',
     6364      789    1                                   'SKEW ERROR',
     6365      790    1                                   'POSTAMBLE ERROR',
     6366      791    1                                   'NRZI CCC ERROR',
     6367      792    1                                   'CODE ALERT',
     6368      793    1                                   'INCONSISTENT CMD',
     6369      794    1                                   'SUMCHECK ERROR',
     6370      795    1                                   'BYTE LOCKED OUT',
     6371      796    1                                   'TRANS PARITY ERR',
     6372      797    1                                   'MARGINAL COND',' '*0);
     6373      798    1   DCL 1 MT_MPC_COMMAND_REJECT (0:NUMMINORS) CONSTANT ALIGNED,
     6374      799    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6375      800    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'03'O,'04'O,'00'O*0),
     6376      801    1         2 COUNT UBIN BYTE UNAL INIT(13,13,17,17,0*0),
     6377      802    1         2 TEXT CHAR(20) UNAL INIT('ILL PROCEDURE',
     6378      803    1                                   'ILL LOG CHAN#',
     6379      804    1                                   'ILL CHAN# TO SUSP',
     6380      805    1                                   'CONT BIT NOT SETP',' '*0);
     6381      806    1   DCL 1 LP_READY(0:NUMMINORS) CONSTANT ALIGNED,
     6382      807    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6383      808    1         2 CODE BIT(6) UNAL INIT('00'O,'01'O,'02'O,'03'O,'04'O,'05'O,'06'O,'07'O,'00'O*
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1171 
               808                  0),
     6384      809    1         2 COUNT UBIN BYTE UNAL INIT(5,14,9,13,12,7,9,16,0*0),
     6385      810    1         2 TEXT CHAR(20) UNAL INIT('READY',
     6386      811    1                                   'PRINT ONE LINE',
     6387      812    1                                   'FWD SPACE',
     6388      813    1                                   'FWD TO T.O.P.',
     6389      814    1                                   'INVALID LINE',
     6390      815    1                                   'REV RWD',
     6391      816    1                                   'BACKSPACE',
     6392      817    1                                   'BACKSPACE TO TOP',' '*0);
     6393      818    1   DCL 1 LP_COMMAND_REJECT(0:NUMMINORS) CONSTANT ALIGNED,
     6394      819    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6395      820    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'04'O,'20'O,'40'O,'00'O*0),
     6396      821    1         2 COUNT UBIN BYTE UNAL INIT(12,15,17,10,6,0*0),
     6397      822    1         2 TEXT CHAR(20) UNAL INIT('INV OP CODE',
     6398      823    1                                   'INV DEVICE CODE',
     6399      824    1                                   'IDCW PARITY ALERT',
     6400      825    1                                   'SLEW ERROR',
     6401      826    1                                   'T.O.P.',' '*0);
     6402      827    1   DCL 1 LP_MPC_ATTENTION(0:NUMMINORS) CONSTANT ALIGNED,
     6403      828    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6404      829    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'00'O*0),
     6405      830    1         2 COUNT UBIN BYTE UNAL INIT(9,9,0*0),
     6406      831    1         2 TEXT CHAR(20) UNAL INIT('IAI ERROR',
     6407      832    1                                   'DAI ERROR',' '*0);
     6408      833    1   DCL 1 LP_MPC_DATA_ALERT(0:NUMMINORS) CONSTANT ALIGNED,
     6409      834    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6410      835    1         2 CODE BIT(6) UNAL INIT('01'O,'03'O,'05'O,'06'O,'00'O*0),
     6411      836    1         2 COUNT UBIN BYTE UNAL INIT(16,14,9,12,0*0),
     6412      837    1         2 TEXT CHAR(20) UNAL INIT('PSI PARITY ERROR',
     6413      838    1                                   'SUMCHECK ERROR',
     6414      839    1                                   'DAI ERROR',
     6415      840    1                                   'PSI OVERFLOW',' '*0);
     6416      841    1   DCL 1 LP_MPC_COMMAND_REJECT(0:NUMMINORS) CONSTANT ALIGNED,
     6417      842    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6418      843    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'10'O,'00'O*0),
     6419      844    1         2 COUNT UBIN BYTE UNAL INIT(13,13,15,0*0),
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1172 
     6420      845    1         2 TEXT CHAR(20) UNAL INIT('ILL PROCEDURE',
     6421      846    1                                   'ILL LOG CHAN#',
     6422      847    1                                   'DEVICE RESERVED',' '*0);
     6423      848    1   DCL 1 LP_ATTENTION(0:NUMMINORS) CONSTANT ALIGNED,
     6424      849    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6425      850    1         2 CODE BIT(6) UNAL INIT('00'O,'01'O,'02'O,'04'O,'10'O,'00'O*0),
     6426      851    1         2 COUNT UBIN BYTE UNAL INIT(11,12,7,13,11,0*0),
     6427      852    1         2 TEXT CHAR(20) UNAL INIT('POWER FAULT',
     6428      853    1                                   'OUT OF PAPER',
     6429      854    1                                   'STOPPED',
     6430      855    1                                   'VFU/VFC ALERT',
     6431      856    1                                   'CHECK ALERT',' '*0);
     6432      857    1   DCL 1 LP_DATA_ALERT(0:NUMMINORS) CONSTANT ALIGNED,
     6433      858    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6434      859    1         2 CODE BIT(6) UNAL INIT('00'O,'01'O,'02'O,'04'O,'10'O,'20'O,'40'O,'00'O*0),
     6435      860    1         2 COUNT UBIN BYTE UNAL INIT(15,3,13,13,7,12,11,0*0),
     6436      861    1         2 TEXT CHAR(20) UNAL INIT('IMAGE BFR ALERT',
     6437      862    1                                   'TTE',
     6438      863    1                                   'ALERT BEF PRT',
     6439      864    1                                   'ALERT AFT PRT',
     6440      865    1                                   'WARNING',
     6441      866    1                                   'PAPER MOTION',
     6442      867    1                                   'T.O.P. ECHO',' '*0);
     6443      868    1   DCL 1 CRP_READY(0:NUMMINORS) CONSTANT ALIGNED,
     6444      869    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6445      870    1         2 CODE BIT(6) UNAL INIT('00'O,'01'O,'02'O,'03'O,'04'O,'05'O,'06'O,'07'O,'00'O*
               870                  0),
     6446      871    1         2 COUNT UBIN BYTE UNAL INIT(5,15,9,13,12,7,9,16,0*0),
     6447      872    1         2 TEXT CHAR(20) UNAL INIT('READY',
     6448      873    1                                   '51 COLUMN CARDS',
     6449      874    1                                   'FWD SPACE',
     6450      875    1                                   'FWD TO T.O.P.',
     6451      876    1                                   'INVALID LINE',
     6452      877    1                                   'REV RWD',
     6453      878    1                                   'BACKSPACE',
     6454      879    1                                   'BACKSPACE TO TOP',' '*0);
     6455      880    1   DCL 1 CRP_COMMAND_REJECT(0:NUMMINORS) CONSTANT ALIGNED,
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1173 
     6456      881    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6457      882    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'04'O,'20'O,'40'O,'00'O*0),
     6458      883    1         2 COUNT UBIN BYTE UNAL INIT(12,15,17,10,6,0*0),
     6459      884    1         2 TEXT CHAR(20) UNAL INIT('INV OP CODE',
     6460      885    1                                   'INV DEVICE CODE',
     6461      886    1                                   'IDCW PARITY ALERT',
     6462      887    1                                   'SLEW ERROR',
     6463      888    1                                   'T.O.P.',' '*0);
     6464      889    1   DCL 1 CRP_MPC_ATTENTION(0:NUMMINORS) CONSTANT ALIGNED,
     6465      890    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6466      891    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'00'O*0),
     6467      892    1         2 COUNT UBIN BYTE UNAL INIT(9,9,0*0),
     6468      893    1         2 TEXT CHAR(20) UNAL INIT('IAI ERROR',
     6469      894    1                                   'DAI ERROR',' '*0);
     6470      895    1   DCL 1 CRP_MPC_DATA_ALERT(0:NUMMINORS) CONSTANT ALIGNED,
     6471      896    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6472      897    1         2 CODE BIT(6) UNAL INIT('01'O,'03'O,'05'O,'06'O,'00'O*0),
     6473      898    1         2 COUNT UBIN BYTE UNAL INIT(16,14,9,12,0*0),
     6474      899    1         2 TEXT CHAR(20) UNAL INIT('PSI PARITY ERROR',
     6475      900    1                                   'SUMCHECK ERROR',
     6476      901    1                                   'DAI ERROR',
     6477      902    1                                   'PSI OVERFLOW',' '*0);
     6478      903    1   DCL 1 CRP_MPC_COMMAND_REJECT(0:NUMMINORS) CONSTANT ALIGNED,
     6479      904    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6480      905    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'10'O,'00'O*0),
     6481      906    1         2 COUNT UBIN BYTE UNAL INIT(13,13,15,0*0),
     6482      907    1         2 TEXT CHAR(20) UNAL INIT('ILL PROCEDURE',
     6483      908    1                                   'ILL LOG CHAN#',
     6484      909    1                                   'DEVICE RESERVED',' '*0);
     6485      910    1   DCL 1 CRP_ATTENTION(0:NUMMINORS) CONSTANT ALIGNED,
     6486      911    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6487      912    1         2 CODE BIT(6) UNAL INIT('00'O,'01'O,'04'O,'10'O,'20'O,'40'O,'02'O,'00'O*0),
     6488      913    1         2 COUNT UBIN BYTE UNAL INIT(8,14,13,10,3,10,11,0*0),
     6489      914    1         2 TEXT CHAR(20) UNAL INIT('OFF-LINE',
     6490      915    1                                   'HOPPER/STACKER',
     6491      916    1                                   'CHAD BOX FULL',
     6492      917    1                                   'FEED ALERT',
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1174 
     6493      918    1                                   'JAM',
     6494      919    1                                   'READ ALERT',
     6495      920    1                                   'MANUAL HALT',' '*0);
     6496      921    1   DCL 1 CRP_DATA_ALERT(0:NUMMINORS) CONSTANT ALIGNED,
     6497      922    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6498      923    1         2 CODE BIT(6) UNAL INIT('02'O,'04'O,'00'O*0),
     6499      924    1         2 COUNT UBIN BYTE UNAL INIT(14,13,0*0),
     6500      925    1         2 TEXT CHAR(20) UNAL INIT('VALIDITY ERROR',
     6501      926    1                                   'DUAL RD ERROR',' '*0);
     6502      927    1   DCL 1 MCA_READY(0:NUMMINORS) CONSTANT ALIGNED,
     6503      928    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6504      929    1         2 CODE BIT(6) UNAL INIT('02'O,'03'O,'40'O,'42'O,'00'O*0),
     6505      930    1         2 COUNT UBIN BYTE UNAL INIT(14,15,17,14,0*0),
     6506      931    1         2 TEXT CHAR(20) UNAL INIT('END OF SESSION',
     6507      932    1                                   'SESSION ABORTED',
     6508      933    1                                   'INTERIM TERMINATE',
     6509      934    1                                   'END OF SESSION',' '*0);
     6510      935    1   DCL 1 MCA_ATTENTION(0:NUMMINORS) CONSTANT ALIGNED,
     6511      936    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6512      937    1         2 CODE BIT(6) UNAL INIT('41'O,'42'O,'44'O,'50'O,'60'O,'00'O*0),
     6513      938    1         2 COUNT UBIN BYTE UNAL INIT(13,10,9,12,9,0*0),
     6514      939    1         2 TEXT CHAR(20) UNAL INIT('WRITE INHIBIT',
     6515      940    1                                   'SEEK ERROR',
     6516      941    1                                   'NO DEVICE',
     6517      942    1                                   'DEVICE ERROR',
     6518      943    1                                   'DOOR OPEN',' '*0);
     6519      944    1   DCL 1 MCA_DATA_ALERT(0:NUMMINORS) CONSTANT ALIGNED,
     6520      945    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6521      946    1         2 CODE BIT(6) UNAL INIT('42'O,'60'O,'00'O*0),
     6522      947    1         2 COUNT UBIN BYTE UNAL INIT(12,9,0*0),
     6523      948    1         2 TEXT CHAR(20) UNAL INIT('PARITY ERROR',
     6524      949    1                                   'CRC ERROR',' '*0);
     6525      950    1   DCL 1 MCA_COMMAND_REJECT(0:NUMMINORS) CONSTANT ALIGNED,
     6526      951    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6527      952    1         2 CODE BIT(6) UNAL INIT('01'O, '00'O*0),
     6528      953    1         2 COUNT UBIN BYTE UNAL INIT(19,0*0),
     6529      954    1         2 TEXT CHAR(20) UNAL INIT('INV OP CODE IN IDCW',' '*0);
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1175 
     6530      955    1   DCL 1 MCA_MPC_ATTENTION(0:NUMMINORS) CONSTANT ALIGNED,
     6531      956    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6532      957    1         2 CODE BIT(6) UNAL INIT('20'O,'41'O,'42'O,'43'O,'00'O*0),
     6533      958    1         2 COUNT UBIN BYTE UNAL INIT(15,9,13,11,0*0),
     6534      959    1         2 TEXT CHAR(20) UNAL INIT('CONNECT TIMEOUT',
     6535      960    1                                   'REX ERROR',
     6536      961    1                                   'OVERLAY ERROR',
     6537      962    1                                   'MDI TIMEOUT',' '*0);
     6538      963    1   DCL 1 MCA_MPC_DATA_ALERT(0:NUMMINORS) CONSTANT ALIGNED,
     6539      964    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6540      965    1         2 CODE BIT(6) UNAL INIT('06'O,'07'O,'00'O*0),
     6541      966    1         2 COUNT UBIN BYTE UNAL INIT(13,14,0*0),
     6542      967    1         2 TEXT CHAR(20) UNAL INIT('DATA OVERFLOW',
     6543      968    1                                   'DATA UNDERFLOW',' '*0);
     6544      969    1   DCL 1 MCA_MPC_COMMAND_REJECT(0:NUMMINORS) CONSTANT ALIGNED,
     6545      970    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6546      971    1         2 CODE BIT(6) UNAL INIT('01'O,'04'O,'05'O,'42'O,'43'O,'50'O,'00'O*0),
     6547      972    1         2 COUNT UBIN BYTE UNAL INIT(20,18,10,20,18,18,0*0),
     6548      973    1         2 TEXT CHAR(20) UNAL INIT('ILL COMMAND SEQUENCE',
     6549      974    1                                   'CONTINUE BIT ERROR',
     6550      975    1                                   'BAD HEADER',
     6551      976    1                                   'INV PATHNAME/COMMAND',
     6552      977    1                                   'INV REQUEST FORMAT',
     6553      978    1                                   'SP REJ W/ASCII MSG',' '*0);
     6554      979    1   DCL 1 SYS_FAULT_CTRLR_CODE(0:12) CONSTANT ALIGNED,
     6555      980    1         2 CODE UBIN BYTE UNAL INIT(2,3,5,6,7,8,9,10,11,12,13,14,15),
     6556      981    1         2 COUNT UBIN BYTE UNAL INIT(14,10,7,7,7,13,13,15,9,13,13,15,15),
     6557      982    1         2 TEXT CHAR(20) UNAL INIT('NON_EXIST ADDR',
     6558      983    1                                   'FAULT COND',
     6559      984    1                                   'DAT PAR',
     6560      985    1                                   'DAT PAR',
     6561      986    1                                   'DAT PAR',
     6562      987    1                                   'NOT CTRL PORT',
     6563      988    1                                   'PORT NOT ENAB',
     6564      989    1                                   'ILL INSTRUCTION',
     6565      990    1                                   'NOT READY',
     6566      991    1                                   'ZAC MOD TO SC',
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1176 
     6567      992    1                                   'DAT MOD TO SC',
     6568      993    1                                   'ZAC SC TO STORE',
     6569      994    1                                   'DAT SC TO STORE');
     6570      995    1   DCL 1 SYS_FAULT_IOM_DET(0:14) CONSTANT ALIGNED,
     6571      996    1         2 CODE UBIN BYTE UNAL INIT(0,1,2,3,4,5,6,7,8,9,10,11,13,14,15),
     6572      997    1         2 COUNT UBIN BYTE UNAL INIT(8,8,12,7,16,11,13,12,11,7,7,14,14,14,11),
     6573      998    1         2 TEXT CHAR(20) UNAL INIT('NO FAULT',
     6574      999    1                                   'ILL CHAN',
     6575     1000    1                                   'ILL SERV REQ',
     6576     1001    1                                   'PAR ERR',
     6577     1002    1                                   'CTRL=0, TALLY~=0',
     6578     1003    1                                   'LPW TALLY=0',
     6579     1004    1                                   'DCW CONN~=111',
     6580     1005    1                                   'TDCW/DCW=111',
     6581     1006    1                                   'DCW BAD DAT',
     6582     1007    1                                   'NO RESP',
     6583     1008    1                                   'PAR ERR',
     6584     1009    1                                   'ILL TALLY CTRL',
     6585     1010    1                                   'PTW FLAG FAULT',
     6586     1011    1                                   'ILL LPW IN STD',
     6587     1012    1                                   'NO PORT SEL');
     6588     1013    1   DCL 1 TBL(0:NUMSTATUS) BASED ALIGNED,
     6589     1014    1         2 MAJOR UBIN(4) UNAL,
     6590     1015    1         2 SUB$ PTR;
     6591     1016    1   DCL 1 SUBTBL(0:NUMMINORS) BASED(SUBTBL$) ALIGNED,
     6592     1017    1         2 MASK BIT(1) UNAL,
     6593     1018    1         2 CODE BIT(6) UNAL,
     6594     1019    1         2 COUNT UBIN BYTE UNAL,
     6595     1020    1         2 TEXT CHAR(20) UNAL;
     6596     1021    1   DCL SUBTBL$ PTR;
     6597     1022    1   DCL TYPE_INDX UBIN WORD;
     6598     1023    1   DCL I UBIN WORD;
     6599     1024    1   DCL J UBIN WORD;
     6600     1025        %EJECT;
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1177 
     6601     1026    1        MAJBUF = ' ';
     6602     1027    1        MINBUF = ' ';
     6603     1028    1        MAJCOUNT = 0;
     6604     1029    1        MINCOUNT = 0;
     6605     1030    1        IF SUBSTR(IOERR.DEVNM,0,2) = 'DP'
     6606     1031    1           THEN TYPE_INDX = 0;
     6607     1032    1           ELSE
     6608     1033    1        IF SUBSTR(IOERR.DEVNM,0,2) = 'MT'
     6609     1034    1           THEN TYPE_INDX = 1;
     6610     1035    1           ELSE
     6611     1036    1        IF SUBSTR(IOERR.DEVNM,0,2) = 'LP'
     6612     1037    1           THEN TYPE_INDX = 2;
     6613     1038    1           ELSE
     6614     1039    1        IF SUBSTR(IOERR.DEVNM,0,2) = 'CR' OR SUBSTR(IOERR.DEVNM,0,2) = 'CP'
     6615     1040    1           THEN TYPE_INDX = 3;
     6616     1041    1           ELSE
     6617     1042    1        IF SUBSTR(IOERR.DEVNM,0,2) = 'MC'
     6618     1043    1           THEN TYPE_INDX = 4;
     6619     1044    1           ELSE
     6620     1045    1        IF SUBSTR(IOERR.DEVNM,0,2) = 'DC'  /* if DC type, wait & check */
     6621     1046    1           THEN;                           /* for power off */
     6622     1047    1           ELSE ALTRETURN;
     6623     1048    1        IF IOERR.STATUS.POWER_OFF
     6624     1049    2        THEN DO;
     6625     1050    2              MAJBUF = 'POWER OFF';
     6626     1051    2              MAJCOUNT = 9;
     6627     1052    2              GOTO FOUND_MINOR;
     6628     1053    2        END;
     6629     1054    1        IF SUBSTR(IOERR.DEVNM,0,2) = 'DC' /* if we got here & its DC type*/
     6630     1055    1        THEN ALTRETURN;                   /* oops! */
     6631     1056    2        DO I = 0 TO NUMSTATUS;
     6632     1057    3           IF IOERR.STATUS.MAJOR = MAJ_STATUS_TBL.MAJOR(I) THEN DO;
     6633     1058    3              MAJBUF = MAJ_STATUS_TBL.TEXT(I);
     6634     1059    3              MAJCOUNT = MAJ_STATUS_TBL.COUNT(I);
     6635     1060    3              IF IOERR.STATUS.MAJOR = %SYSTEM_FAULT
     6636     1061    4              THEN DO;
     6637     1062    5                   DO J = 0 TO 12;
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1178 
     6638     1063    5                      IF IOERR.XSTATUS.SYS_CTRL_MINOR = SYS_FAULT_CTRLR_CODE.CODE(J)
     6639     1064    6                      THEN DO;
     6640     1065    6                           MINBUF = SYS_FAULT_CTRLR_CODE.TEXT(J);
     6641     1066    6                           MINCOUNT = SYS_FAULT_CTRLR_CODE.COUNT(J);
     6642     1067    6                           GOTO FOUND_MINOR;
     6643     1068    6                      END;
     6644     1069    5                   END;
     6645     1070    5                   DO J = 0 TO 14;
     6646     1071    5                      IF IOERR.XSTATUS.SYS_IOM_MINOR = SYS_FAULT_IOM_DET.CODE(J)
     6647     1072    6                      THEN DO;
     6648     1073    6                           MINBUF = SYS_FAULT_IOM_DET.TEXT(J);
     6649     1074    6                           MINCOUNT = SYS_FAULT_IOM_DET.COUNT(J);
     6650     1075    6                           GOTO FOUND_MINOR;
     6651     1076    6                      END;
     6652     1077    5                   END;
     6653     1078    4              END;
     6654     1079    3              SUBTBL$ = TYPE$(TYPE_INDX)->TBL.SUB$(I);
     6655     1080    3              GOTO FOUND_MAJOR;
     6656     1081    3              END;  /* IF FOUND */
     6657     1082    2           END;  /* DO I */
     6658     1083    1   FOUND_MAJOR:
     6659     1084    1        IF SUBTBL$ = ADDR(NIL) THEN RETURN;
     6660     1085    2        DO I = 0 TO NUMMINORS;
     6661     1086    2           IF (SUBTBL.MASK(I) AND (SUBTBL.CODE(I) & IOERR.STATUS.MINOR)) OR
     6662     1087    3              (~SUBTBL.MASK(I) AND (SUBTBL.CODE(I) = IOERR.STATUS.MINOR)) THEN DO;
     6663     1088    3              MINBUF = SUBTBL.TEXT(I);
     6664     1089    3              MINCOUNT = SUBTBL.COUNT(I);
     6665     1090    3              GOTO FOUND_MINOR;
     6666     1091    3              END;  /* IF */
     6667     1092    2           END;  /* DO I*/
     6668     1093    1   FOUND_MINOR:
     6669     1094    1        RETURN;
     6670     1095    1   END THF$STATUS;
     6671     1096        %EOD;

PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1179 
--  Include file information  --

   NI_DATA_C.:E05TOU  is referenced.
   EL$TABLES.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure THF$STATUS.

   Procedure THF$STATUS requires 214 words for executable code.
   Procedure THF$STATUS requires 14 words of local(AUTO) storage.

PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1180 

 Object Unit name= THF$STATUS                                 File name= THF$FORMAT.:E05TOU
 UTS= JUL 30 '97 06:19:19.84 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Data  even  none     5      5  THF$STATUS
    1  RoData even  UTS   5034  11652  THF$STATUS
    2   Proc  even  none   214    326  THF$STATUS

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     2      0   yes    yes     yes      Std        5  THF$STATUS

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
                       nStd      0 X66_AUTO_5
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_AALT
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     B_VECTNIL
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1181 

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1182 


     6019        1        /*M* THF$STATUS - RETURN TEXT TRANSLATION OF MAJOR AND MINOR STATUS CODES */
     6020        2        /*T***********************************************************/
     6021        3        /*T*                                                         */
     6022        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     6023        5        /*T*                                                         */
     6024        6        /*T***********************************************************/
     6025        7        THF$STATUS: PROC(IOERR,MAJBUF,MAJCOUNT,MINBUF,MINCOUNT) ALTRET;

      7  2 000000   000000 700200 xent  THF$STATUS   TSX0  ! X66_AUTO_5
         2 000001   000016 000005                    ZERO    14,5

     6026        8        %INCLUDE EL$TABLES;
     6027      331        /**/
     6028      332        /* PARAMS */
     6029      333        %EL$IOERR (NAME=IOERR,STCLASS="");
     6030      343    1   DCL MAJBUF CHAR(32);
     6031      344    1   DCL MAJCOUNT UBIN WORD;
     6032      345    1   DCL MINBUF CHAR(32);
     6033      346    1   DCL MINCOUNT UBIN WORD;
     6034      347        /**/
     6035      348        /* INCLUDE FILES */
     6036      349        %INCLUDE NI_DATA_C;
     6037      462        /**/
     6038      463        /* VARS */
     6039      464        %SUB NUMSTATUS = 10;
     6040      465        %SUB NUMMINORS = 19;
     6041      466    1  DCL TYPE$(0:4) PTR STATIC INIT(ADDR(DP_TBL),ADDR(MT_TBL),ADDR(LP_TBL),ADDR(CRP_TBL),
               466            ADDR(MCA_TBL));
     6042      467    1   DCL 1 MAJ_STATUS_TBL(0:NUMSTATUS) CONSTANT ALIGNED,
     6043      468    1         2 MAJOR UBIN(4) UNAL INIT(%READY,
     6044      469    1                                   %DEVICE_BUSY,
     6045      470    1                                   %ATTENTION,
     6046      471    1                                   %DATA_ALERT,
     6047      472    1                                   %END_OF_FILE,
     6048      473    1                                   %COMMAND_REJECT,
     6049      474    1                                   %LOST_INTERRUPT,
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1183 
     6050      475    1                                   %MPC_ATTENTION,
     6051      476    1                                   %MPC_DATA_ALERT,
     6052      477    1                                   %MPC_COMMAND_REJECT,
     6053      478    1                                   %SYSTEM_FAULT),
     6054      479    1         2 COUNT UBIN BYTE UNAL INIT(5,11,9,10,6,14,9,13,14,14,12),
     6055      480    1         2 TEXT CHAR(20) UNAL INIT('READY',
     6056      481    1                                   'DEVICE BUSY',
     6057      482    1                                   'ATTENTION',
     6058      483    1                                   'DATA ALERT',
     6059      484    1                                   'E.O.F.',
     6060      485    1                                   'COMMAND REJECT',
     6061      486    1                                   'LOST INT.',
     6062      487    1                                   'MPC ATTENTION',
     6063      488    1                                   'MPC DATA ALERT',
     6064      489    1                                   'MPC CMD REJECT',
     6065      490    1                                   'SYSTEM FAULT');
     6066      491    1   DCL 1 DP_TBL(0:NUMSTATUS) CONSTANT ALIGNED,
     6067      492    1         2 MAJOR UBIN(4) UNAL INIT(%READY,
     6068      493    1                                   %DEVICE_BUSY,
     6069      494    1                                   %ATTENTION,
     6070      495    1                                   %DATA_ALERT,
     6071      496    1                                   %END_OF_FILE,
     6072      497    1                                   %COMMAND_REJECT,
     6073      498    1                                   %LOST_INTERRUPT,
     6074      499    1                                   %MPC_ATTENTION,
     6075      500    1                                   %MPC_DATA_ALERT,
     6076      501    1                                   %MPC_COMMAND_REJECT,
     6077      502    1                                   %SYSTEM_FAULT),
     6078      503    1         2 SUB$ PTR INIT(ADDR(DP_READY),
     6079      504    1                         ADDR(DP_DEVICE_BUSY),
     6080      505    1                         ADDR(DP_ATTENTION),
     6081      506    1                         ADDR(DP_DATA_ALERT),
     6082      507    1                         ADDR(DP_END_OF_FILE),
     6083      508    1                         ADDR(DP_COMMAND_REJECT),
     6084      509    1                         ADDR(NIL),
     6085      510    1                         ADDR(DP_MPC_ATTENTION),
     6086      511    1                         ADDR(DP_MPC_DATA_ALERT),
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1184 
     6087      512    1                         ADDR(DP_MPC_COMMAND_REJECT),
     6088      513    1                         ADDR(NIL));
     6089      514    1   DCL 1 MT_TBL(0:NUMSTATUS) CONSTANT ALIGNED,
     6090      515    1         2 MAJOR UBIN(4) UNAL INIT(%READY,
     6091      516    1                                   %DEVICE_BUSY,
     6092      517    1                                   %ATTENTION,
     6093      518    1                                   %DATA_ALERT,
     6094      519    1                                   %END_OF_FILE,
     6095      520    1                                   %COMMAND_REJECT,
     6096      521    1                                   %LOST_INTERRUPT,
     6097      522    1                                   %MPC_ATTENTION,
     6098      523    1                                   %MPC_DATA_ALERT,
     6099      524    1                                   %MPC_COMMAND_REJECT,
     6100      525    1                                   %SYSTEM_FAULT),
     6101      526    1         2 SUB$ PTR INIT(ADDR(MT_READY),
     6102      527    1                         ADDR(MT_DEVICE_BUSY),
     6103      528    1                         ADDR(MT_ATTENTION),
     6104      529    1                         ADDR(MT_DATA_ALERT),
     6105      530    1                         ADDR(MT_END_OF_FILE),
     6106      531    1                         ADDR(MT_COMMAND_REJECT),
     6107      532    1                         ADDR(NIL),
     6108      533    1                         ADDR(MT_MPC_ATTENTION),
     6109      534    1                         ADDR(MT_MPC_DATA_ALERT),
     6110      535    1                         ADDR(MT_MPC_COMMAND_REJECT),
     6111      536    1                         ADDR(NIL));
     6112      537    1   DCL 1 LP_TBL(0:NUMSTATUS) CONSTANT ALIGNED,
     6113      538    1         2 MAJOR UBIN(4) UNAL INIT(%READY,
     6114      539    1                                   %DEVICE_BUSY,
     6115      540    1                                   %ATTENTION,
     6116      541    1                                   %DATA_ALERT,
     6117      542    1                                   %END_OF_FILE,
     6118      543    1                                   %COMMAND_REJECT,
     6119      544    1                                   %LOST_INTERRUPT,
     6120      545    1                                   %MPC_ATTENTION,
     6121      546    1                                   %MPC_DATA_ALERT,
     6122      547    1                                   %MPC_COMMAND_REJECT,
     6123      548    1                                   %SYSTEM_FAULT),
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1185 
     6124      549    1         2 SUB$ PTR INIT(ADDR(LP_READY),
     6125      550    1                         ADDR(NIL),
     6126      551    1                         ADDR(LP_ATTENTION),
     6127      552    1                         ADDR(LP_DATA_ALERT),
     6128      553    1                         ADDR(NIL),
     6129      554    1                         ADDR(LP_COMMAND_REJECT),
     6130      555    1                         ADDR(NIL),
     6131      556    1                         ADDR(LP_MPC_ATTENTION),
     6132      557    1                         ADDR(LP_MPC_DATA_ALERT),
     6133      558    1                         ADDR(LP_MPC_COMMAND_REJECT),
     6134      559    1                         ADDR(NIL));
     6135      560    1   DCL 1 CRP_TBL(0:NUMSTATUS) CONSTANT ALIGNED,
     6136      561    1         2 MAJOR UBIN(4) UNAL INIT(%READY,
     6137      562    1                                   %DEVICE_BUSY,
     6138      563    1                                   %ATTENTION,
     6139      564    1                                   %DATA_ALERT,
     6140      565    1                                   %END_OF_FILE,
     6141      566    1                                   %COMMAND_REJECT,
     6142      567    1                                   %LOST_INTERRUPT,
     6143      568    1                                   %MPC_ATTENTION,
     6144      569    1                                   %MPC_DATA_ALERT,
     6145      570    1                                   %MPC_COMMAND_REJECT,
     6146      571    1                                   %SYSTEM_FAULT),
     6147      572    1         2 SUB$ PTR INIT(ADDR(CRP_READY),
     6148      573    1                         ADDR(NIL),
     6149      574    1                         ADDR(CRP_ATTENTION),
     6150      575    1                         ADDR(CRP_DATA_ALERT),
     6151      576    1                         ADDR(NIL),
     6152      577    1                         ADDR(CRP_COMMAND_REJECT),
     6153      578    1                         ADDR(NIL),
     6154      579    1                         ADDR(CRP_MPC_ATTENTION),
     6155      580    1                         ADDR(CRP_MPC_DATA_ALERT),
     6156      581    1                         ADDR(CRP_MPC_COMMAND_REJECT),
     6157      582    1                         ADDR(NIL));
     6158      583    1   DCL 1 MCA_TBL(0:NUMSTATUS) CONSTANT ALIGNED,
     6159      584    1         2 MAJOR UBIN(4) UNAL INIT(%READY,
     6160      585    1                                   %DEVICE_BUSY,
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1186 
     6161      586    1                                   %ATTENTION,
     6162      587    1                                   %DATA_ALERT,
     6163      588    1                                   %END_OF_FILE,
     6164      589    1                                   %COMMAND_REJECT,
     6165      590    1                                   %LOST_INTERRUPT,
     6166      591    1                                   %MPC_ATTENTION,
     6167      592    1                                   %MPC_DATA_ALERT,
     6168      593    1                                   %MPC_COMMAND_REJECT,
     6169      594    1                                   %SYSTEM_FAULT),
     6170      595    1         2 SUB$ PTR INIT(ADDR(MCA_READY),
     6171      596    1                         ADDR(NIL),
     6172      597    1                         ADDR(MCA_ATTENTION),
     6173      598    1                         ADDR(MCA_DATA_ALERT),
     6174      599    1                         ADDR(NIL),
     6175      600    1                         ADDR(MCA_COMMAND_REJECT),
     6176      601    1                         ADDR(NIL),
     6177      602    1                         ADDR(MCA_MPC_ATTENTION),
     6178      603    1                         ADDR(MCA_MPC_DATA_ALERT),
     6179      604    1                         ADDR(MCA_MPC_COMMAND_REJECT),
     6180      605    1                         ADDR(NIL));
     6181      606    1   DCL 1 DP_READY(0:NUMMINORS) CONSTANT ALIGNED,
     6182      607    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6183      608    1         2 CODE BIT(6) UNAL INIT('00'O,'01'O,'02'O,'03'O,'20'O,'00'O*0),
     6184      609    1         2 COUNT UBIN BYTE UNAL INIT(5,7,9,9,15,0*0),
     6185      610    1         2 TEXT CHAR(20) UNAL INIT('READY',
     6186      611    1                                   '1 RETRY',
     6187      612    1                                   '2 RETRIES',
     6188      613    1                                   '3 RETRIES',
     6189      614    1                                   'EDAC CORRECTION',' '*0);
     6190      615    1   DCL 1 DP_DEVICE_BUSY (0:NUMMINORS) CONSTANT ALIGNED,
     6191      616    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6192      617    1         2 CODE BIT(6) UNAL INIT('00'O,'20'O,'01'O,'40'O,'00'O*0),
     6193      618    1         2 COUNT UBIN BYTE UNAL INIT(15,17,19,11,0*0),
     6194      619    1         2 TEXT CHAR(20) UNAL INIT('DEV POSITIONING',
     6195      620    1                                   'CONTROL UNIT BUSY',
     6196      621    1                                   'IPI/DEV RESP ~AVAIL',
     6197      622    1                                   'ALT CHANNEL',' '*0);
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1187 
     6198      623    1   DCL 1 DP_ATTENTION (0:NUMMINORS) CONSTANT ALIGNED,
     6199      624    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6200      625    1        2 CODE BIT(6) UNAL INIT('10'O,'14'O,'40'O,'15'O,'02'O,'16'O,'01'O,'20'O,'00'O*
               625                  0),
     6201      626    1         2 COUNT UBIN BYTE UNAL INIT(8,9,11,10,15,8,13,14,0*0),
     6202      627    1         2 TEXT CHAR(20) UNAL INIT('DEV INOP',
     6203      628    1                                   'EN1 ALERT',
     6204      629    1                                   'DEV OFFLINE',
     6205      630    1                                   'CA EN1 ALERT',
     6206      631    1                                   'SEEK INCOMPLETE',
     6207      632    1                                   'CA ALERT',
     6208      633    1                                   'WRITE INHIBIT',
     6209      634    1                                   'DEV IN STANDBY',' '*0);
     6210      635    1   DCL 1 DP_DATA_ALERT(0:NUMMINORS) CONSTANT ALIGNED,
     6211      636    1         2 MASK BIT(1) UNAL INIT('0'B*3,'1'B*3,'0'B*0),
     6212      637    1         2 CODE BIT(6) UNAL INIT('02'O,'01'O,'04'O,'10'O,'20'O,'40'O,'00'O*0),
     6213      638    1         2 COUNT UBIN BYTE UNAL INIT(12,3,17,13,12,13,0*0),
     6214      639    1         2 TEXT CHAR(20) UNAL INIT('TRANS PARITY',
     6215      640    1                                   'TTE',
     6216      641    1                                   'INVALID SEEK ADDR',
     6217      642    1                                   'HDR VER ERROR',
     6218      643    1                                   'CYCLIC CHECK',
     6219      644    1                                   'COMPARE ALERT',' '*0);
     6220      645    1   DCL 1 DP_END_OF_FILE (0:NUMMINORS) CONSTANT ALIGNED,
     6221      646    1         2 MASK BIT(1) UNAL INIT('1'B*2,'0'B*0),
     6222      647    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'04'O,'10'O,'20'O,'00'O*0),
     6223      648    1         2 COUNT UBIN BYTE UNAL INIT(15,16,13,14,16,17,0*0),
     6224      649    1         2 TEXT CHAR(20) UNAL INIT('LAST CONSEC BLK',
     6225      650    1                                   'SECTOR CNT LIMIT',
     6226      651    1                                   'DEF TRK (ATA)',
     6227      652    1                                   'DEF TRK (ATNA)',
     6228      653    1                                   'ALT TRK DETECTED',
     6229      654    1                                   'GOOD TRK DETECTED',' '*0);
     6230      655    1   DCL 1 DP_COMMAND_REJECT(0:NUMMINORS) CONSTANT ALIGNED,
     6231      656    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6232      657    1         2 CODE BIT(6) UNAL INIT('04'O,'01'O,'02'O,'10'O,'00'O*0),
     6233      658    1         2 COUNT UBIN BYTE UNAL INIT(17,15,16,16,0*0),
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1188 
     6234      659    1         2 TEXT CHAR(20) UNAL INIT('IDCW PARITY ALERT',
     6235      660    1                                   'INVALID OP CODE',
     6236      661    1                                   'INVALID DEV CODE',
     6237      662    1                                   'INVALID INST SEQ',' '*0);
     6238      663    1   DCL 1 DP_MPC_ATTENTION (0:NUMMINORS) CONSTANT ALIGNED,
     6239      664    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6240      665    1         2 CODE BIT(6) UNAL INIT('01'O,'03'O,'02'O,'13'O,'14'O,'15'O,
     6241      666    1                                 '16'O,'17'O,'22'O,'23'O,'00'O*0),
     6242      667    1         2 COUNT UBIN BYTE UNAL INIT(12,13,16,17,18,18,19,18,12,12,0*0),
     6243      668    1         2 TEXT CHAR(20) UNAL INIT('CONFIG ERROR',
     6244      669    1                                   'DEVICE# ERROR',
     6245      670    1                                   'MULTIPLE DEVICES',
     6246      671    1                                   'CA UNEXPECTED INT',
     6247      672    1                                   'CA/IPC MALFUNCTION',
     6248      673    1                                   'SD DISC / CA ERROR',
     6249      674    1                                   'SD OFFLINE/CA ALERT',
     6250      675    1                                   'WRITE ERR IN FAULT',
     6251      676    1                                   'EXEC FAULT A',
     6252      677    1                                   'EXEC FAULT B',' '*0);
     6253      678    1   DCL 1 DP_MPC_DATA_ALERT(0:NUMMINORS) CONSTANT ALIGNED,
     6254      679    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6255      680    1        2 CODE BIT(6) UNAL INIT('01'O,'16'O,'02'O,'23'O,'03'O,'04'O,'24'O,'11'O,'26'O,
     6256      681    1                       '12'O,'27'O,'21'O,'31'O,'22'O,'32'O,'25'O,'41'O,'42'O,'00'O*0),
     6257      682    1         2 COUNT UBIN BYTE UNAL INIT(16,11,16,12,14,15,11,12,16,17,16,17,16,17,17,
     6258      683    1                                     19,20,18,0*0),
     6259      684    1         2 TEXT CHAR(20) UNAL INIT('TRANS PARITY ERR',
     6260      685    1                                   'EDAC PARITY',
     6261      686    1                                   'INCONSISTENT CMD',
     6262      687    1                                   'SEARCH ALERT',
     6263      688    1                                   'SUMCHECK ERROR',
     6264      689    1                                   'BYTE LOCKED OUT',
     6265      690    1                                   'CYCLIC CODE',
     6266      691    1                                   'ERR CORR REQ',
     6267      692    1                                   'SYNC BYTE~=''19''X',
     6268      693    1                                   'EDAC ERROR UNCORR',
     6269      694    1                                   'ERROR ON ALT TRK',
     6270      695    1                                   'SECTOR SIZE ERROR',
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1189 
     6271      696    1                                   'EDAC CORR (LAST)',
     6272      697    1                                   'NONSTD SECTOR SIZ',
     6273      698    1                                   'EDAC CORR (NLAST)',
     6274      699    1                                   'SEARCH ERR (NFIRST)',
     6275      700    1                                   'WRITE BUF PARITY ERR',
     6276      701    1                                   'UNCORRECTABLE READ',' '*0);
     6277      702    1   DCL 1 DP_MPC_COMMAND_REJECT(0:NUMMINORS) CONSTANT ALIGNED,
     6278      703    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6279      704    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'03'O,'04'O,'00'O*0),
     6280      705    1         2 COUNT UBIN BYTE UNAL INIT(13,13,17,16,0*0),
     6281      706    1         2 TEXT CHAR(20) UNAL INIT('ILL PROCEDURE',
     6282      707    1                                   'ILL LOG CHAN#',
     6283      708    1                                   'ILL CHAN# TO SUSP',
     6284      709    1                                   'CONT BIT NOT SET',' '*0);
     6285      710    1   DCL 1 MT_READY (0:NUMMINORS) CONSTANT ALIGNED,
     6286      711    1         2 MASK BIT(1) UNAL INIT('0'B,'1'B*6,'0'B*0),
     6287      712    1        2 CODE BIT(6) UNAL INIT('00'O,'01'O,'20'O,'40'O,'50'O,'02'O,'04'O,'14'O,'00'O*
               712                  0),
     6288      713    1         2 COUNT UBIN BYTE UNAL INIT(5,15,12,13,12,13,12,17,0*0),
     6289      714    1         2 TEXT CHAR(20) UNAL INIT('READY',
     6290      715    1                                   'WRITE PROTECTED',
     6291      716    1                                   'TWO BIT FULL',
     6292      717    1                                   'FOUR BIT FULL',
     6293      718    1                                   'SIX BIT FULL',
     6294      719    1                                   'POS AT B.O.T.',
     6295      720    1                                   '9 TRK MTH',
     6296      721    1                                   'ASCII/EBCDIC CODE',' '*0);
     6297      722    1   DCL 1 MT_DEVICE_BUSY(0:NUMMINORS) CONSTANT ALIGNED,
     6298      723    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6299      724    1         2 CODE BIT(6) UNAL INIT('40'O,'01'O,'02'O,'04'O,'00'O*0),
     6300      725    1         2 COUNT UBIN BYTE UNAL INIT(15,9,11,7,0*0),
     6301      726    1         2 TEXT CHAR(20) UNAL INIT('DEVICE RESERVED',
     6302      727    1                                   'REWINDING',
     6303      728    1                                   'ALT CHANNEL',
     6304      729    1                                   'LOADING',' '*0);
     6305      730    1   DCL 1 MT_ATTENTION(0:NUMMINORS) CONSTANT ALIGNED,
     6306      731    1         2 MASK BIT(1) UNAL INIT('0'B,'1'B*4,'0'B*0),
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1190 
     6307      732    1         2 CODE BIT(6) UNAL INIT('02'O,'04'O,'10'O,'01'O,'20'O,'00'O*0),
     6308      733    1         2 COUNT UBIN BYTE UNAL INIT(11,14,12,13,19,0*0),
     6309      734    1         2 TEXT CHAR(20) UNAL INIT('NO SUCH MTH',
     6310      735    1                                   'MTH IN STANDBY',
     6311      736    1                                   'DEVICE FAULT',
     6312      737    1                                   'WRITE PROTECT',
     6313      738    1                                   'BLANK TAPE ON WRITE',' '*0);
     6314      739    1   DCL 1 MT_DATA_ALERT(0:NUMMINORS) CONSTANT ALIGNED,
     6315      740    1         2 MASK BIT(1) UNAL INIT('0'B*2,'1'B*5,'0'B*0),
     6316      741    1        2 CODE BIT(6) UNAL INIT('02'O,'01'O,'03'O,'04'O,'10'O,'20'O,'40'O,'10'O,'00'O*
               741                  0),
     6317      742    1         2 COUNT UBIN BYTE UNAL INIT(16,3,12,15,11,12,6,10,17,0*0),
     6318      743    1         2 TEXT CHAR(20) UNAL INIT('BLANK TAPE ON READ',
     6319      744    1                                   'TTE',
     6320      745    1                                   'BIT ON ERASE',
     6321      746    1                                   'TRANS PAR ALERT',
     6322      747    1                                   'LAT PAR ERR',
     6323      748    1                                   'LONG PAR ERR',
     6324      749    1                                   'E.O.T.',
     6325      750    1                                   'FRAME DROP',
     6326      751    1                                   'ASCII/EBCDIC CODE',' '*0);
     6327      752    1   DCL 1 MT_END_OF_FILE (0:NUMMINORS) CONSTANT ALIGNED,
     6328      753    1         2 MASK BIT(1) UNAL INIT('0'B*3,'1'B,'0'B*0),
     6329      754    1         2 CODE BIT(6) UNAL INIT('17'O,'23'O,'77'O,'00'O*0),
     6330      755    1         2 COUNT UBIN BYTE UNAL INIT(14,14,10,15,0*0),
     6331      756    1         2 TEXT CHAR(20) UNAL INIT('E.O.F. (7 TRK)',
     6332      757    1                                   'E.O.F. (9 TRK)',
     6333      758    1                                   'DATA ALERT',
     6334      759    1                                   'SINGLE CHAR REC',' '*0);
     6335      760    1   DCL 1 MT_COMMAND_REJECT(0:NUMMINORS) CONSTANT ALIGNED,
     6336      761    1         2 MASK BIT(1) UNAL INIT('1'B*3,'0'B*0),
     6337      762    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'04'O,'10'O,'20'O,'40'O,'00'O*0),
     6338      763    1         2 COUNT UBIN BYTE UNAL INIT(11,15,17,6,16,12,15,0*0),
     6339      764    1         2 TEXT CHAR(20) UNAL INIT('INV OP CODE',
     6340      765    1                                   'INV DEVICE CODE',
     6341      766    1                                   'IDCW PARITY ALERT',
     6342      767    1                                   'B.O.T.',
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1191 
     6343      768    1                                   'FWD RD AFTER WRT',
     6344      769    1                                   'NINE TRK MTH',
     6345      770    1                                   'INVALID DENSITY',' '*0);
     6346      771    1   DCL 1 MT_MPC_ATTENTION(0:NUMMINORS) CONSTANT ALIGNED,
     6347      772    1         2 MASK BIT(1) UNAL INIT('0'B*2,'1'B,'0'B*0),
     6348      773    1         2 CODE BIT(6) UNAL INIT('03'O,'02'O,'14'O,'20'O,'10'O,'21'O,'01'O,'00'O*0),
     6349      774    1         2 COUNT UBIN BYTE UNAL INIT(13,16,15,15,14,15,12,0*0),
     6350      775    1         2 TEXT CHAR(20) UNAL INIT('DEVICE# ERROR',
     6351      776    1                                   'MULTIPLE DEVICES',
     6352      777    1                                   'TCA MALFUNCTION',
     6353      778    1                                   'DEV MALFUNCTION',
     6354      779    1                                   'INCORRECT MODE',
     6355      780    1                                   'MULTIPLE B.O.T.',
     6356      781    1                                   'CONFIG ERROR',' '*0);
     6357      782    1   DCL 1 MT_MPC_DATA_ALERT (0:NUMMINORS) CONSTANT ALIGNED,
     6358      783    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6359      784    1        2 CODE BIT(6) UNAL INIT('10'O,'11'O,'20'O,'21'O,'22'O,'23'O,'24'O,'02'O,'03'O,
               784                  '04'O,'01'O,'40'O,'00'O*0),
     6360      785    1         2 COUNT UBIN BYTE UNAL INIT(14,14,15,10,15,14,10,16,14,15,16,13,0*0),
     6361      786    1         2 TEXT CHAR(20) UNAL INIT('PE BURST ERROR',
     6362      787    1                                   'PREAMBLE ERROR',
     6363      788    1                                   'MULTI-TRK ERROR',
     6364      789    1                                   'SKEW ERROR',
     6365      790    1                                   'POSTAMBLE ERROR',
     6366      791    1                                   'NRZI CCC ERROR',
     6367      792    1                                   'CODE ALERT',
     6368      793    1                                   'INCONSISTENT CMD',
     6369      794    1                                   'SUMCHECK ERROR',
     6370      795    1                                   'BYTE LOCKED OUT',
     6371      796    1                                   'TRANS PARITY ERR',
     6372      797    1                                   'MARGINAL COND',' '*0);
     6373      798    1   DCL 1 MT_MPC_COMMAND_REJECT (0:NUMMINORS) CONSTANT ALIGNED,
     6374      799    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6375      800    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'03'O,'04'O,'00'O*0),
     6376      801    1         2 COUNT UBIN BYTE UNAL INIT(13,13,17,17,0*0),
     6377      802    1         2 TEXT CHAR(20) UNAL INIT('ILL PROCEDURE',
     6378      803    1                                   'ILL LOG CHAN#',
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1192 
     6379      804    1                                   'ILL CHAN# TO SUSP',
     6380      805    1                                   'CONT BIT NOT SETP',' '*0);
     6381      806    1   DCL 1 LP_READY(0:NUMMINORS) CONSTANT ALIGNED,
     6382      807    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6383      808    1        2 CODE BIT(6) UNAL INIT('00'O,'01'O,'02'O,'03'O,'04'O,'05'O,'06'O,'07'O,'00'O*
               808                  0),
     6384      809    1         2 COUNT UBIN BYTE UNAL INIT(5,14,9,13,12,7,9,16,0*0),
     6385      810    1         2 TEXT CHAR(20) UNAL INIT('READY',
     6386      811    1                                   'PRINT ONE LINE',
     6387      812    1                                   'FWD SPACE',
     6388      813    1                                   'FWD TO T.O.P.',
     6389      814    1                                   'INVALID LINE',
     6390      815    1                                   'REV RWD',
     6391      816    1                                   'BACKSPACE',
     6392      817    1                                   'BACKSPACE TO TOP',' '*0);
     6393      818    1   DCL 1 LP_COMMAND_REJECT(0:NUMMINORS) CONSTANT ALIGNED,
     6394      819    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6395      820    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'04'O,'20'O,'40'O,'00'O*0),
     6396      821    1         2 COUNT UBIN BYTE UNAL INIT(12,15,17,10,6,0*0),
     6397      822    1         2 TEXT CHAR(20) UNAL INIT('INV OP CODE',
     6398      823    1                                   'INV DEVICE CODE',
     6399      824    1                                   'IDCW PARITY ALERT',
     6400      825    1                                   'SLEW ERROR',
     6401      826    1                                   'T.O.P.',' '*0);
     6402      827    1   DCL 1 LP_MPC_ATTENTION(0:NUMMINORS) CONSTANT ALIGNED,
     6403      828    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6404      829    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'00'O*0),
     6405      830    1         2 COUNT UBIN BYTE UNAL INIT(9,9,0*0),
     6406      831    1         2 TEXT CHAR(20) UNAL INIT('IAI ERROR',
     6407      832    1                                   'DAI ERROR',' '*0);
     6408      833    1   DCL 1 LP_MPC_DATA_ALERT(0:NUMMINORS) CONSTANT ALIGNED,
     6409      834    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6410      835    1         2 CODE BIT(6) UNAL INIT('01'O,'03'O,'05'O,'06'O,'00'O*0),
     6411      836    1         2 COUNT UBIN BYTE UNAL INIT(16,14,9,12,0*0),
     6412      837    1         2 TEXT CHAR(20) UNAL INIT('PSI PARITY ERROR',
     6413      838    1                                   'SUMCHECK ERROR',
     6414      839    1                                   'DAI ERROR',
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1193 
     6415      840    1                                   'PSI OVERFLOW',' '*0);
     6416      841    1   DCL 1 LP_MPC_COMMAND_REJECT(0:NUMMINORS) CONSTANT ALIGNED,
     6417      842    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6418      843    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'10'O,'00'O*0),
     6419      844    1         2 COUNT UBIN BYTE UNAL INIT(13,13,15,0*0),
     6420      845    1         2 TEXT CHAR(20) UNAL INIT('ILL PROCEDURE',
     6421      846    1                                   'ILL LOG CHAN#',
     6422      847    1                                   'DEVICE RESERVED',' '*0);
     6423      848    1   DCL 1 LP_ATTENTION(0:NUMMINORS) CONSTANT ALIGNED,
     6424      849    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6425      850    1         2 CODE BIT(6) UNAL INIT('00'O,'01'O,'02'O,'04'O,'10'O,'00'O*0),
     6426      851    1         2 COUNT UBIN BYTE UNAL INIT(11,12,7,13,11,0*0),
     6427      852    1         2 TEXT CHAR(20) UNAL INIT('POWER FAULT',
     6428      853    1                                   'OUT OF PAPER',
     6429      854    1                                   'STOPPED',
     6430      855    1                                   'VFU/VFC ALERT',
     6431      856    1                                   'CHECK ALERT',' '*0);
     6432      857    1   DCL 1 LP_DATA_ALERT(0:NUMMINORS) CONSTANT ALIGNED,
     6433      858    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6434      859    1         2 CODE BIT(6) UNAL INIT('00'O,'01'O,'02'O,'04'O,'10'O,'20'O,'40'O,'00'O*0),
     6435      860    1         2 COUNT UBIN BYTE UNAL INIT(15,3,13,13,7,12,11,0*0),
     6436      861    1         2 TEXT CHAR(20) UNAL INIT('IMAGE BFR ALERT',
     6437      862    1                                   'TTE',
     6438      863    1                                   'ALERT BEF PRT',
     6439      864    1                                   'ALERT AFT PRT',
     6440      865    1                                   'WARNING',
     6441      866    1                                   'PAPER MOTION',
     6442      867    1                                   'T.O.P. ECHO',' '*0);
     6443      868    1   DCL 1 CRP_READY(0:NUMMINORS) CONSTANT ALIGNED,
     6444      869    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6445      870    1        2 CODE BIT(6) UNAL INIT('00'O,'01'O,'02'O,'03'O,'04'O,'05'O,'06'O,'07'O,'00'O*
               870                  0),
     6446      871    1         2 COUNT UBIN BYTE UNAL INIT(5,15,9,13,12,7,9,16,0*0),
     6447      872    1         2 TEXT CHAR(20) UNAL INIT('READY',
     6448      873    1                                   '51 COLUMN CARDS',
     6449      874    1                                   'FWD SPACE',
     6450      875    1                                   'FWD TO T.O.P.',
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1194 
     6451      876    1                                   'INVALID LINE',
     6452      877    1                                   'REV RWD',
     6453      878    1                                   'BACKSPACE',
     6454      879    1                                   'BACKSPACE TO TOP',' '*0);
     6455      880    1   DCL 1 CRP_COMMAND_REJECT(0:NUMMINORS) CONSTANT ALIGNED,
     6456      881    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6457      882    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'04'O,'20'O,'40'O,'00'O*0),
     6458      883    1         2 COUNT UBIN BYTE UNAL INIT(12,15,17,10,6,0*0),
     6459      884    1         2 TEXT CHAR(20) UNAL INIT('INV OP CODE',
     6460      885    1                                   'INV DEVICE CODE',
     6461      886    1                                   'IDCW PARITY ALERT',
     6462      887    1                                   'SLEW ERROR',
     6463      888    1                                   'T.O.P.',' '*0);
     6464      889    1   DCL 1 CRP_MPC_ATTENTION(0:NUMMINORS) CONSTANT ALIGNED,
     6465      890    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6466      891    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'00'O*0),
     6467      892    1         2 COUNT UBIN BYTE UNAL INIT(9,9,0*0),
     6468      893    1         2 TEXT CHAR(20) UNAL INIT('IAI ERROR',
     6469      894    1                                   'DAI ERROR',' '*0);
     6470      895    1   DCL 1 CRP_MPC_DATA_ALERT(0:NUMMINORS) CONSTANT ALIGNED,
     6471      896    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6472      897    1         2 CODE BIT(6) UNAL INIT('01'O,'03'O,'05'O,'06'O,'00'O*0),
     6473      898    1         2 COUNT UBIN BYTE UNAL INIT(16,14,9,12,0*0),
     6474      899    1         2 TEXT CHAR(20) UNAL INIT('PSI PARITY ERROR',
     6475      900    1                                   'SUMCHECK ERROR',
     6476      901    1                                   'DAI ERROR',
     6477      902    1                                   'PSI OVERFLOW',' '*0);
     6478      903    1   DCL 1 CRP_MPC_COMMAND_REJECT(0:NUMMINORS) CONSTANT ALIGNED,
     6479      904    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6480      905    1         2 CODE BIT(6) UNAL INIT('01'O,'02'O,'10'O,'00'O*0),
     6481      906    1         2 COUNT UBIN BYTE UNAL INIT(13,13,15,0*0),
     6482      907    1         2 TEXT CHAR(20) UNAL INIT('ILL PROCEDURE',
     6483      908    1                                   'ILL LOG CHAN#',
     6484      909    1                                   'DEVICE RESERVED',' '*0);
     6485      910    1   DCL 1 CRP_ATTENTION(0:NUMMINORS) CONSTANT ALIGNED,
     6486      911    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6487      912    1         2 CODE BIT(6) UNAL INIT('00'O,'01'O,'04'O,'10'O,'20'O,'40'O,'02'O,'00'O*0),
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1195 
     6488      913    1         2 COUNT UBIN BYTE UNAL INIT(8,14,13,10,3,10,11,0*0),
     6489      914    1         2 TEXT CHAR(20) UNAL INIT('OFF-LINE',
     6490      915    1                                   'HOPPER/STACKER',
     6491      916    1                                   'CHAD BOX FULL',
     6492      917    1                                   'FEED ALERT',
     6493      918    1                                   'JAM',
     6494      919    1                                   'READ ALERT',
     6495      920    1                                   'MANUAL HALT',' '*0);
     6496      921    1   DCL 1 CRP_DATA_ALERT(0:NUMMINORS) CONSTANT ALIGNED,
     6497      922    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6498      923    1         2 CODE BIT(6) UNAL INIT('02'O,'04'O,'00'O*0),
     6499      924    1         2 COUNT UBIN BYTE UNAL INIT(14,13,0*0),
     6500      925    1         2 TEXT CHAR(20) UNAL INIT('VALIDITY ERROR',
     6501      926    1                                   'DUAL RD ERROR',' '*0);
     6502      927    1   DCL 1 MCA_READY(0:NUMMINORS) CONSTANT ALIGNED,
     6503      928    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6504      929    1         2 CODE BIT(6) UNAL INIT('02'O,'03'O,'40'O,'42'O,'00'O*0),
     6505      930    1         2 COUNT UBIN BYTE UNAL INIT(14,15,17,14,0*0),
     6506      931    1         2 TEXT CHAR(20) UNAL INIT('END OF SESSION',
     6507      932    1                                   'SESSION ABORTED',
     6508      933    1                                   'INTERIM TERMINATE',
     6509      934    1                                   'END OF SESSION',' '*0);
     6510      935    1   DCL 1 MCA_ATTENTION(0:NUMMINORS) CONSTANT ALIGNED,
     6511      936    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6512      937    1         2 CODE BIT(6) UNAL INIT('41'O,'42'O,'44'O,'50'O,'60'O,'00'O*0),
     6513      938    1         2 COUNT UBIN BYTE UNAL INIT(13,10,9,12,9,0*0),
     6514      939    1         2 TEXT CHAR(20) UNAL INIT('WRITE INHIBIT',
     6515      940    1                                   'SEEK ERROR',
     6516      941    1                                   'NO DEVICE',
     6517      942    1                                   'DEVICE ERROR',
     6518      943    1                                   'DOOR OPEN',' '*0);
     6519      944    1   DCL 1 MCA_DATA_ALERT(0:NUMMINORS) CONSTANT ALIGNED,
     6520      945    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6521      946    1         2 CODE BIT(6) UNAL INIT('42'O,'60'O,'00'O*0),
     6522      947    1         2 COUNT UBIN BYTE UNAL INIT(12,9,0*0),
     6523      948    1         2 TEXT CHAR(20) UNAL INIT('PARITY ERROR',
     6524      949    1                                   'CRC ERROR',' '*0);
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1196 
     6525      950    1   DCL 1 MCA_COMMAND_REJECT(0:NUMMINORS) CONSTANT ALIGNED,
     6526      951    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6527      952    1         2 CODE BIT(6) UNAL INIT('01'O, '00'O*0),
     6528      953    1         2 COUNT UBIN BYTE UNAL INIT(19,0*0),
     6529      954    1         2 TEXT CHAR(20) UNAL INIT('INV OP CODE IN IDCW',' '*0);
     6530      955    1   DCL 1 MCA_MPC_ATTENTION(0:NUMMINORS) CONSTANT ALIGNED,
     6531      956    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6532      957    1         2 CODE BIT(6) UNAL INIT('20'O,'41'O,'42'O,'43'O,'00'O*0),
     6533      958    1         2 COUNT UBIN BYTE UNAL INIT(15,9,13,11,0*0),
     6534      959    1         2 TEXT CHAR(20) UNAL INIT('CONNECT TIMEOUT',
     6535      960    1                                   'REX ERROR',
     6536      961    1                                   'OVERLAY ERROR',
     6537      962    1                                   'MDI TIMEOUT',' '*0);
     6538      963    1   DCL 1 MCA_MPC_DATA_ALERT(0:NUMMINORS) CONSTANT ALIGNED,
     6539      964    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6540      965    1         2 CODE BIT(6) UNAL INIT('06'O,'07'O,'00'O*0),
     6541      966    1         2 COUNT UBIN BYTE UNAL INIT(13,14,0*0),
     6542      967    1         2 TEXT CHAR(20) UNAL INIT('DATA OVERFLOW',
     6543      968    1                                   'DATA UNDERFLOW',' '*0);
     6544      969    1   DCL 1 MCA_MPC_COMMAND_REJECT(0:NUMMINORS) CONSTANT ALIGNED,
     6545      970    1         2 MASK BIT(1) UNAL INIT('0'B*0),
     6546      971    1         2 CODE BIT(6) UNAL INIT('01'O,'04'O,'05'O,'42'O,'43'O,'50'O,'00'O*0),
     6547      972    1         2 COUNT UBIN BYTE UNAL INIT(20,18,10,20,18,18,0*0),
     6548      973    1         2 TEXT CHAR(20) UNAL INIT('ILL COMMAND SEQUENCE',
     6549      974    1                                   'CONTINUE BIT ERROR',
     6550      975    1                                   'BAD HEADER',
     6551      976    1                                   'INV PATHNAME/COMMAND',
     6552      977    1                                   'INV REQUEST FORMAT',
     6553      978    1                                   'SP REJ W/ASCII MSG',' '*0);
     6554      979    1   DCL 1 SYS_FAULT_CTRLR_CODE(0:12) CONSTANT ALIGNED,
     6555      980    1         2 CODE UBIN BYTE UNAL INIT(2,3,5,6,7,8,9,10,11,12,13,14,15),
     6556      981    1         2 COUNT UBIN BYTE UNAL INIT(14,10,7,7,7,13,13,15,9,13,13,15,15),
     6557      982    1         2 TEXT CHAR(20) UNAL INIT('NON_EXIST ADDR',
     6558      983    1                                   'FAULT COND',
     6559      984    1                                   'DAT PAR',
     6560      985    1                                   'DAT PAR',
     6561      986    1                                   'DAT PAR',
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1197 
     6562      987    1                                   'NOT CTRL PORT',
     6563      988    1                                   'PORT NOT ENAB',
     6564      989    1                                   'ILL INSTRUCTION',
     6565      990    1                                   'NOT READY',
     6566      991    1                                   'ZAC MOD TO SC',
     6567      992    1                                   'DAT MOD TO SC',
     6568      993    1                                   'ZAC SC TO STORE',
     6569      994    1                                   'DAT SC TO STORE');
     6570      995    1   DCL 1 SYS_FAULT_IOM_DET(0:14) CONSTANT ALIGNED,
     6571      996    1         2 CODE UBIN BYTE UNAL INIT(0,1,2,3,4,5,6,7,8,9,10,11,13,14,15),
     6572      997    1         2 COUNT UBIN BYTE UNAL INIT(8,8,12,7,16,11,13,12,11,7,7,14,14,14,11),
     6573      998    1         2 TEXT CHAR(20) UNAL INIT('NO FAULT',
     6574      999    1                                   'ILL CHAN',
     6575     1000    1                                   'ILL SERV REQ',
     6576     1001    1                                   'PAR ERR',
     6577     1002    1                                   'CTRL=0, TALLY~=0',
     6578     1003    1                                   'LPW TALLY=0',
     6579     1004    1                                   'DCW CONN~=111',
     6580     1005    1                                   'TDCW/DCW=111',
     6581     1006    1                                   'DCW BAD DAT',
     6582     1007    1                                   'NO RESP',
     6583     1008    1                                   'PAR ERR',
     6584     1009    1                                   'ILL TALLY CTRL',
     6585     1010    1                                   'PTW FLAG FAULT',
     6586     1011    1                                   'ILL LPW IN STD',
     6587     1012    1                                   'NO PORT SEL');
     6588     1013    1   DCL 1 TBL(0:NUMSTATUS) BASED ALIGNED,
     6589     1014    1         2 MAJOR UBIN(4) UNAL,
     6590     1015    1         2 SUB$ PTR;
     6591     1016    1   DCL 1 SUBTBL(0:NUMMINORS) BASED(SUBTBL$) ALIGNED,
     6592     1017    1         2 MASK BIT(1) UNAL,
     6593     1018    1         2 CODE BIT(6) UNAL,
     6594     1019    1         2 COUNT UBIN BYTE UNAL,
     6595     1020    1         2 TEXT CHAR(20) UNAL;
     6596     1021    1   DCL SUBTBL$ PTR;
     6597     1022    1   DCL TYPE_INDX UBIN WORD;
     6598     1023    1   DCL I UBIN WORD;
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1198 
     6599     1024    1   DCL J UBIN WORD;
     6600     1025        %EJECT;
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1199 
     6601     1026    1        MAJBUF = ' ';

   1026  2 000002   200004 470500                    LDP0    @MAJBUF,,AUTO
         2 000003   040100 100400                    MLR     fill='040'O
         2 000004   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         2 000005   000000 000040                    ADSC9   0,,PR0                   cn=0,n=32

     6602     1027    1        MINBUF = ' ';

   1027  2 000006   200006 471500                    LDP1    @MINBUF,,AUTO
         2 000007   040100 100400                    MLR     fill='040'O
         2 000010   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         2 000011   100000 000040                    ADSC9   0,,PR1                   cn=0,n=32

     6603     1028    1        MAJCOUNT = 0;

   1028  2 000012   200005 473500                    LDP3    @MAJCOUNT,,AUTO
         2 000013   300000 450100                    STZ     0,,PR3

     6604     1029    1        MINCOUNT = 0;

   1029  2 000014   200007 474500                    LDP4    @MINCOUNT,,AUTO
         2 000015   400000 450100                    STZ     0,,PR4

     6605     1030    1        IF SUBSTR(IOERR.DEVNM,0,2) = 'DP'

   1030  2 000016   200003 475500                    LDP5    @IOERR,,AUTO
         2 000017   500024 220100                    LDX0    20,,PR5
         2 000020   011640 100000 1                  CMPX0   SYS_FAULT_IOM_DET+90
         2 000021   000024 601000 2                  TNZ     s:1033

     6606     1031    1           THEN TYPE_INDX = 0;

   1031  2 000022   200011 450100                    STZ     TYPE_INDX,,AUTO
         2 000023   000055 710000 2                  TRA     s:1048

     6607     1032    1           ELSE
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1200 
     6608     1033    1        IF SUBSTR(IOERR.DEVNM,0,2) = 'MT'

   1033  2 000024   011641 100000 1                  CMPX0   SYS_FAULT_IOM_DET+91
         2 000025   000031 601000 2                  TNZ     s:1036

     6609     1034    1           THEN TYPE_INDX = 1;

   1034  2 000026   000001 235007                    LDA     1,DL
         2 000027   200011 755100                    STA     TYPE_INDX,,AUTO
         2 000030   000055 710000 2                  TRA     s:1048

     6610     1035    1           ELSE
     6611     1036    1        IF SUBSTR(IOERR.DEVNM,0,2) = 'LP'

   1036  2 000031   011642 100000 1                  CMPX0   SYS_FAULT_IOM_DET+92
         2 000032   000036 601000 2                  TNZ     s:1039

     6612     1037    1           THEN TYPE_INDX = 2;

   1037  2 000033   000002 235007                    LDA     2,DL
         2 000034   200011 755100                    STA     TYPE_INDX,,AUTO
         2 000035   000055 710000 2                  TRA     s:1048

     6613     1038    1           ELSE
     6614     1039    1        IF SUBSTR(IOERR.DEVNM,0,2) = 'CR' OR SUBSTR(IOERR.DEVNM,0,2) = 'CP'

   1039  2 000036   011643 100000 1                  CMPX0   SYS_FAULT_IOM_DET+93
         2 000037   000042 600000 2                  TZE     s:1040
         2 000040   011644 100000 1                  CMPX0   SYS_FAULT_IOM_DET+94
         2 000041   000045 601000 2                  TNZ     s:1042

     6615     1040    1           THEN TYPE_INDX = 3;

   1040  2 000042   000003 235007                    LDA     3,DL
         2 000043   200011 755100                    STA     TYPE_INDX,,AUTO
         2 000044   000055 710000 2                  TRA     s:1048

PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1201 
     6616     1041    1           ELSE
     6617     1042    1        IF SUBSTR(IOERR.DEVNM,0,2) = 'MC'

   1042  2 000045   011645 100000 1                  CMPX0   SYS_FAULT_IOM_DET+95
         2 000046   000052 601000 2                  TNZ     s:1045

     6618     1043    1           THEN TYPE_INDX = 4;

   1043  2 000047   000004 235007                    LDA     4,DL
         2 000050   200011 755100                    STA     TYPE_INDX,,AUTO
         2 000051   000055 710000 2                  TRA     s:1048

     6619     1044    1           ELSE
     6620     1045    1        IF SUBSTR(IOERR.DEVNM,0,2) = 'DC'  /* if DC type, wait & check */

   1045  2 000052   011646 100000 1                  CMPX0   SYS_FAULT_IOM_DET+96
         2 000053   000055 600000 2                  TZE     s:1048

     6621     1046    1           THEN;                           /* for power off */
     6622     1047    1           ELSE ALTRETURN;

   1047  2 000054   000000 702200 xent               TSX2  ! X66_AALT

     6623     1048    1        IF IOERR.STATUS.POWER_OFF

   1048  2 000055   500001 236100                    LDQ     1,,PR5
         2 000056   200000 316003                    CANQ    65536,DU
         2 000057   000066 600000 2                  TZE     s:1054

     6624     1049    2        THEN DO;

     6625     1050    2              MAJBUF = 'POWER OFF';

   1050  2 000060   040100 100400                    MLR     fill='040'O
         2 000061   011647 000011 1                  ADSC9   SYS_FAULT_IOM_DET+97     cn=0,n=9
         2 000062   000000 000040                    ADSC9   0,,PR0                   cn=0,n=32

PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1202 
     6626     1051    2              MAJCOUNT = 9;

   1051  2 000063   000011 235007                    LDA     9,DL
         2 000064   300000 755100                    STA     0,,PR3

     6627     1052    2              GOTO FOUND_MINOR;

   1052  2 000065   000325 710000 2                  TRA     FOUND_MINOR

     6628     1053    2        END;
     6629     1054    1        IF SUBSTR(IOERR.DEVNM,0,2) = 'DC' /* if we got here & its DC type*/

   1054  2 000066   011646 100000 1                  CMPX0   SYS_FAULT_IOM_DET+96
         2 000067   000071 601000 2                  TNZ     s:1056

     6630     1055    1        THEN ALTRETURN;                   /* oops! */

   1055  2 000070   000000 702200 xent               TSX2  ! X66_AALT

     6631     1056    2        DO I = 0 TO NUMSTATUS;

   1056  2 000071   200012 450100                    STZ     I,,AUTO

     6632     1057    3           IF IOERR.STATUS.MAJOR = MAJ_STATUS_TBL.MAJOR(I) THEN DO;

   1057  2 000072   200012 236100                    LDQ     I,,AUTO
         2 000073   000006 402007                    MPY     6,DL
         2 000074   000000 236006 1                  LDQ     MAJ_STATUS_TBL,QL
         2 000075   000040 772000                    QRL     32
         2 000076   200014 756100                    STQ     J+1,,AUTO
         2 000077   200003 470500                    LDP0    @IOERR,,AUTO
         2 000100   000001 236100                    LDQ     1,,PR0
         2 000101   000036 772000                    QRL     30
         2 000102   000017 376007                    ANQ     15,DL
         2 000103   200014 116100                    CMPQ    J+1,,AUTO
         2 000104   000232 601000 2                  TNZ     s:1082

PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1203 
     6633     1058    3              MAJBUF = MAJ_STATUS_TBL.TEXT(I);

   1058  2 000105   200012 236100                    LDQ     I,,AUTO
         2 000106   000030 402007                    MPY     24,DL
         2 000107   200004 471500                    LDP1    @MAJBUF,,AUTO
         2 000110   040100 100406                    MLR     fill='040'O
         2 000111   000000 400024 1                  ADSC9   MAJ_STATUS_TBL,Q         cn=2,n=20
         2 000112   100000 000040                    ADSC9   0,,PR1                   cn=0,n=32

     6634     1059    3              MAJCOUNT = MAJ_STATUS_TBL.COUNT(I);

   1059  2 000113   200012 236100                    LDQ     I,,AUTO
         2 000114   000006 402007                    MPY     6,DL
         2 000115   200005 473500                    LDP3    @MAJCOUNT,,AUTO
         2 000116   000000 236006 1                  LDQ     MAJ_STATUS_TBL,QL
         2 000117   000027 772000                    QRL     23
         2 000120   000777 376007                    ANQ     511,DL
         2 000121   300000 756100                    STQ     0,,PR3

     6635     1060    3              IF IOERR.STATUS.MAJOR = %SYSTEM_FAULT

   1060  2 000122   000001 236100                    LDQ     1,,PR0
         2 000123   170000 376003                    ANQ     61440,DU
         2 000124   170000 116003                    CMPQ    61440,DU
         2 000125   000223 601000 2                  TNZ     s:1079

     6636     1061    4              THEN DO;

     6637     1062    5                   DO J = 0 TO 12;

   1062  2 000126   200013 450100                    STZ     J,,AUTO

     6638     1063    5                      IF IOERR.XSTATUS.SYS_CTRL_MINOR = SYS_FAULT_CTRLR_CODE.CODE(J)

   1063  2 000127   200013 236100                    LDQ     J,,AUTO
         2 000130   000006 402007                    MPY     6,DL
         2 000131   011370 236006 1                  LDQ     SYS_FAULT_CTRLR_CODE,QL
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1204 
         2 000132   000033 772000                    QRL     27
         2 000133   200014 756100                    STQ     J+1,,AUTO
         2 000134   200003 470500                    LDP0    @IOERR,,AUTO
         2 000135   000001 236100                    LDQ     1,,PR0
         2 000136   000006 772000                    QRL     6
         2 000137   000017 376007                    ANQ     15,DL
         2 000140   200014 116100                    CMPQ    J+1,,AUTO
         2 000141   000160 601000 2                  TNZ     s:1069

     6639     1064    6                      THEN DO;

     6640     1065    6                           MINBUF = SYS_FAULT_CTRLR_CODE.TEXT(J);

   1065  2 000142   200013 236100                    LDQ     J,,AUTO
         2 000143   000030 402007                    MPY     24,DL
         2 000144   200006 471500                    LDP1    @MINBUF,,AUTO
         2 000145   040100 100406                    MLR     fill='040'O
         2 000146   011370 400024 1                  ADSC9   SYS_FAULT_CTRLR_CODE,Q   cn=2,n=20
         2 000147   100000 000040                    ADSC9   0,,PR1                   cn=0,n=32

     6641     1066    6                           MINCOUNT = SYS_FAULT_CTRLR_CODE.COUNT(J);

   1066  2 000150   200013 236100                    LDQ     J,,AUTO
         2 000151   000006 402007                    MPY     6,DL
         2 000152   200007 473500                    LDP3    @MINCOUNT,,AUTO
         2 000153   011370 236006 1                  LDQ     SYS_FAULT_CTRLR_CODE,QL
         2 000154   000022 772000                    QRL     18
         2 000155   000777 376007                    ANQ     511,DL
         2 000156   300000 756100                    STQ     0,,PR3

     6642     1067    6                           GOTO FOUND_MINOR;

   1067  2 000157   000325 710000 2                  TRA     FOUND_MINOR

     6643     1068    6                      END;
     6644     1069    5                   END;

PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1205 
   1069  2 000160   200013 235100                    LDA     J,,AUTO
         2 000161   000001 035007                    ADLA    1,DL
         2 000162   200013 755100                    STA     J,,AUTO
         2 000163   000015 115007                    CMPA    13,DL
         2 000164   000127 602000 2                  TNC     s:1063

     6645     1070    5                   DO J = 0 TO 14;

   1070  2 000165   200013 450100                    STZ     J,,AUTO

     6646     1071    5                      IF IOERR.XSTATUS.SYS_IOM_MINOR = SYS_FAULT_IOM_DET.CODE(J)

   1071  2 000166   200013 236100                    LDQ     J,,AUTO
         2 000167   000006 402007                    MPY     6,DL
         2 000170   011506 236006 1                  LDQ     SYS_FAULT_IOM_DET,QL
         2 000171   000033 772000                    QRL     27
         2 000172   200014 756100                    STQ     J+1,,AUTO
         2 000173   200003 470500                    LDP0    @IOERR,,AUTO
         2 000174   000001 236100                    LDQ     1,,PR0
         2 000175   000077 376007                    ANQ     63,DL
         2 000176   200014 116100                    CMPQ    J+1,,AUTO
         2 000177   000216 601000 2                  TNZ     s:1077

     6647     1072    6                      THEN DO;

     6648     1073    6                           MINBUF = SYS_FAULT_IOM_DET.TEXT(J);

   1073  2 000200   200013 236100                    LDQ     J,,AUTO
         2 000201   000030 402007                    MPY     24,DL
         2 000202   200006 471500                    LDP1    @MINBUF,,AUTO
         2 000203   040100 100406                    MLR     fill='040'O
         2 000204   011506 400024 1                  ADSC9   SYS_FAULT_IOM_DET,Q      cn=2,n=20
         2 000205   100000 000040                    ADSC9   0,,PR1                   cn=0,n=32

     6649     1074    6                           MINCOUNT = SYS_FAULT_IOM_DET.COUNT(J);

   1074  2 000206   200013 236100                    LDQ     J,,AUTO
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1206 
         2 000207   000006 402007                    MPY     6,DL
         2 000210   200007 473500                    LDP3    @MINCOUNT,,AUTO
         2 000211   011506 236006 1                  LDQ     SYS_FAULT_IOM_DET,QL
         2 000212   000022 772000                    QRL     18
         2 000213   000777 376007                    ANQ     511,DL
         2 000214   300000 756100                    STQ     0,,PR3

     6650     1075    6                           GOTO FOUND_MINOR;

   1075  2 000215   000325 710000 2                  TRA     FOUND_MINOR

     6651     1076    6                      END;
     6652     1077    5                   END;

   1077  2 000216   200013 235100                    LDA     J,,AUTO
         2 000217   000001 035007                    ADLA    1,DL
         2 000220   200013 755100                    STA     J,,AUTO
         2 000221   000017 115007                    CMPA    15,DL
         2 000222   000166 602000 2                  TNC     s:1071

     6653     1078    4              END;

     6654     1079    3              SUBTBL$ = TYPE$(TYPE_INDX)->TBL.SUB$(I);

   1079  2 000223   200011 720100                    LXL0    TYPE_INDX,,AUTO
         2 000224   000000 471410 0                  LDP1    TYPE$,X0
         2 000225   200012 235100                    LDA     I,,AUTO
         2 000226   000001 735000                    ALS     1
         2 000227   100001 236105                    LDQ     1,AL,PR1
         2 000230   200010 756100                    STQ     SUBTBL$,,AUTO

     6655     1080    3              GOTO FOUND_MAJOR;

   1080  2 000231   000237 710000 2                  TRA     FOUND_MAJOR

     6656     1081    3              END;  /* IF FOUND */
     6657     1082    2           END;  /* DO I */
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1207 

   1082  2 000232   200012 235100                    LDA     I,,AUTO
         2 000233   000001 035007                    ADLA    1,DL
         2 000234   200012 755100                    STA     I,,AUTO
         2 000235   000013 115007                    CMPA    11,DL
         2 000236   000072 602000 2                  TNC     s:1057

     6658     1083    1   FOUND_MAJOR:
     6659     1084    1        IF SUBTBL$ = ADDR(NIL) THEN RETURN;

   1084  2 000237   200010 236100       FOUND_MAJOR  LDQ     SUBTBL$,,AUTO
         2 000240   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 000241   000243 601000 2                  TNZ     s:1085

   1084  2 000242   000000 702200 xent               TSX2  ! X66_ARET

     6660     1085    2        DO I = 0 TO NUMMINORS;

   1085  2 000243   200012 450100                    STZ     I,,AUTO

     6661     1086    2           IF (SUBTBL.MASK(I) AND (SUBTBL.CODE(I) & IOERR.STATUS.MINOR)) OR

   1086  2 000244   200012 236100                    LDQ     I,,AUTO
         2 000245   000006 402007                    MPY     6,DL
         2 000246   200010 470500                    LDP0    SUBTBL$,,AUTO
         2 000247   000000 234106                    SZN     0,QL,PR0
         2 000250   000265 605000 2                  TPL     s:1086+17
         2 000251   200003 471500                    LDP1    @IOERR,,AUTO
         2 000252   100001 236100                    LDQ     1,,PR1
         2 000253   000006 736000                    QLS     6
         2 000254   770000 376003                    ANQ     -4096,DU
         2 000255   200014 756100                    STQ     J+1,,AUTO
         2 000256   200012 236100                    LDQ     I,,AUTO
         2 000257   000006 402007                    MPY     6,DL
         2 000260   000000 236106                    LDQ     0,QL,PR0
         2 000261   000001 736000                    QLS     1
         2 000262   770000 376003                    ANQ     -4096,DU
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1208 
         2 000263   200014 376100                    ANQ     J+1,,AUTO
         2 000264   000302 601000 2                  TNZ     s:1088
         2 000265   200012 236100                    LDQ     I,,AUTO
         2 000266   000006 402007                    MPY     6,DL
         2 000267   000000 236106                    LDQ     0,QL,PR0
         2 000270   400000 376003                    ANQ     -131072,DU
         2 000271   400000 676003                    ERQ     -131072,DU
         2 000272   000320 600000 2                  TZE     s:1092
         2 000273   200012 236100                    LDQ     I,,AUTO
         2 000274   000330 402007                    MPY     216,DL
         2 000275   200003 471500                    LDP1    @IOERR,,AUTO
         2 000276   000100 066506                    CMPB    filb='0'B
         2 000277   000000 010006                    BDSC    0,Q,PR0                  by=0,bit=1,n=6
         2 000300   100001 060006                    BDSC    1,,PR1                   by=0,bit=6,n=6
         2 000301   000320 601000 2                  TNZ     s:1092

     6662     1087    3              (~SUBTBL.MASK(I) AND (SUBTBL.CODE(I) = IOERR.STATUS.MINOR)) THEN DO;

     6663     1088    3              MINBUF = SUBTBL.TEXT(I);

   1088  2 000302   200012 236100                    LDQ     I,,AUTO
         2 000303   000030 402007                    MPY     24,DL
         2 000304   200006 473500                    LDP3    @MINBUF,,AUTO
         2 000305   040100 100506                    MLR     fill='040'O
         2 000306   000000 400024                    ADSC9   0,Q,PR0                  cn=2,n=20
         2 000307   300000 000040                    ADSC9   0,,PR3                   cn=0,n=32

     6664     1089    3              MINCOUNT = SUBTBL.COUNT(I);

   1089  2 000310   200012 236100                    LDQ     I,,AUTO
         2 000311   000006 402007                    MPY     6,DL
         2 000312   200007 474500                    LDP4    @MINCOUNT,,AUTO
         2 000313   000000 236106                    LDQ     0,QL,PR0
         2 000314   000024 772000                    QRL     20
         2 000315   000777 376007                    ANQ     511,DL
         2 000316   400000 756100                    STQ     0,,PR4

PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1209 
     6665     1090    3              GOTO FOUND_MINOR;

   1090  2 000317   000325 710000 2                  TRA     FOUND_MINOR

     6666     1091    3              END;  /* IF */
     6667     1092    2           END;  /* DO I*/

   1092  2 000320   200012 235100                    LDA     I,,AUTO
         2 000321   000001 035007                    ADLA    1,DL
         2 000322   200012 755100                    STA     I,,AUTO
         2 000323   000024 115007                    CMPA    20,DL
         2 000324   000244 602000 2                  TNC     s:1086

     6668     1093    1   FOUND_MINOR:
     6669     1094    1        RETURN;

   1094  2 000325   000000 702200 xent  FOUND_MINOR  TSX2  ! X66_ARET
     6670     1095    1   END THF$STATUS;
     6671     1096        %EOD;

PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1210 
--  Include file information  --

   NI_DATA_C.:E05TOU  is referenced.
   EL$TABLES.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure THF$STATUS.
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1211 

 **** Variables and constants ****

  ****  Section 000  Data  THF$STATUS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 TYPE$(0:4)

  ****  Section 001 RoData THF$STATUS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

  7300-0-0/w STRC(198)   r     1 CRP_ATTENTION(0:19)
  6340-0-0/w STRC(198)   r     1 CRP_COMMAND_REJECT(0:19)
  7470-0-0/w STRC(198)   r     1 CRP_DATA_ALERT(0:19)
  6530-0-0/w STRC(198)   r     1 CRP_MPC_ATTENTION(0:19)
  7110-0-0/w STRC(198)   r     1 CRP_MPC_COMMAND_REJECT(0:19)
  6720-0-0/w STRC(198)   r     1 CRP_MPC_DATA_ALERT(0:19)
  6150-0-0/w STRC(198)   r     1 CRP_READY(0:19)
   204-0-0/w STRC(72)    r     1 CRP_TBL(0:10)
   640-0-0/w STRC(198)   r     1 DP_ATTENTION(0:19)
  1410-0-0/w STRC(198)   r     1 DP_COMMAND_REJECT(0:19)
  1030-0-0/w STRC(198)   r     1 DP_DATA_ALERT(0:19)
   450-0-0/w STRC(198)   r     1 DP_DEVICE_BUSY(0:19)
  1220-0-0/w STRC(198)   r     1 DP_END_OF_FILE(0:19)
  1600-0-0/w STRC(198)   r     1 DP_MPC_ATTENTION(0:19)
  2160-0-0/w STRC(198)   r     1 DP_MPC_COMMAND_REJECT(0:19)
  1770-0-0/w STRC(198)   r     1 DP_MPC_DATA_ALERT(0:19)
   260-0-0/w STRC(198)   r     1 DP_READY(0:19)
   102-0-0/w STRC(72)    r     1 DP_TBL(0:10)
  5570-0-0/w STRC(198)   r     1 LP_ATTENTION(0:19)
  4630-0-0/w STRC(198)   r     1 LP_COMMAND_REJECT(0:19)
  5760-0-0/w STRC(198)   r     1 LP_DATA_ALERT(0:19)
  5020-0-0/w STRC(198)   r     1 LP_MPC_ATTENTION(0:19)
  5400-0-0/w STRC(198)   r     1 LP_MPC_COMMAND_REJECT(0:19)
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1212 
  5210-0-0/w STRC(198)   r     1 LP_MPC_DATA_ALERT(0:19)
  4440-0-0/w STRC(198)   r     1 LP_READY(0:19)
   156-0-0/w STRC(72)    r     1 LP_TBL(0:10)
     0-0-0/w STRC(198)   r     1 MAJ_STATUS_TBL(0:10)
 10050-0-0/w STRC(198)   r     1 MCA_ATTENTION(0:19)
 10430-0-0/w STRC(198)   r     1 MCA_COMMAND_REJECT(0:19)
 10240-0-0/w STRC(198)   r     1 MCA_DATA_ALERT(0:19)
 10620-0-0/w STRC(198)   r     1 MCA_MPC_ATTENTION(0:19)
 11200-0-0/w STRC(198)   r     1 MCA_MPC_COMMAND_REJECT(0:19)
 11010-0-0/w STRC(198)   r     1 MCA_MPC_DATA_ALERT(0:19)
  7660-0-0/w STRC(198)   r     1 MCA_READY(0:19)
   232-0-0/w STRC(72)    r     1 MCA_TBL(0:10)
  2730-0-0/w STRC(198)   r     1 MT_ATTENTION(0:19)
  3500-0-0/w STRC(198)   r     1 MT_COMMAND_REJECT(0:19)
  3120-0-0/w STRC(198)   r     1 MT_DATA_ALERT(0:19)
  2540-0-0/w STRC(198)   r     1 MT_DEVICE_BUSY(0:19)
  3310-0-0/w STRC(198)   r     1 MT_END_OF_FILE(0:19)
  3670-0-0/w STRC(198)   r     1 MT_MPC_ATTENTION(0:19)
  4250-0-0/w STRC(198)   r     1 MT_MPC_COMMAND_REJECT(0:19)
  4060-0-0/w STRC(198)   r     1 MT_MPC_DATA_ALERT(0:19)
  2350-0-0/w STRC(198)   r     1 MT_READY(0:19)
   130-0-0/w STRC(72)    r     1 MT_TBL(0:10)
 11370-0-0/w STRC(198)   r     1 SYS_FAULT_CTRLR_CODE(0:12)
 11506-0-0/w STRC(198)   r     1 SYS_FAULT_IOM_DET(0:14)

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @IOERR                     4-0-0/w PTR         r     1 @MAJBUF
     5-0-0/w PTR         r     1 @MAJCOUNT                  6-0-0/w PTR         r     1 @MINBUF
     7-0-0/w PTR         r     1 @MINCOUNT                 12-0-0/w UBIN        r     1 I
    *0-0-0/w STRC(1080)  r     1 IOERR                     13-0-0/w UBIN        r     1 J
    *0-0-0/c CHAR(32)    r     1 MAJBUF                    *0-0-0/w UBIN        r     1 MAJCOUNT
    *0-0-0/c CHAR(32)    r     1 MINBUF                    *0-0-0/w UBIN        r     1 MINCOUNT
    10-0-0/w PTR         r     1 SUBTBL$                   11-0-0/w UBIN        r     1 TYPE_INDX
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1213 

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(198)   r     1 SUBTBL(0:19)               0-0-0/w STRC(72)    r     1 TBL(0:10)


   Procedure THF$STATUS requires 214 words for executable code.
   Procedure THF$STATUS requires 14 words of local(AUTO) storage.
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1214 
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1215 
          MINI XREF LISTING

CRP_ATTENTION
       910**DCL       574--DCLINIT
CRP_COMMAND_REJECT
       880**DCL       577--DCLINIT
CRP_DATA_ALERT
       921**DCL       575--DCLINIT
CRP_MPC_ATTENTION
       889**DCL       579--DCLINIT
CRP_MPC_COMMAND_REJECT
       903**DCL       581--DCLINIT
CRP_MPC_DATA_ALERT
       895**DCL       580--DCLINIT
CRP_READY
       868**DCL       572--DCLINIT
CRP_TBL
       560**DCL       466--DCLINIT
DP_ATTENTION
       623**DCL       505--DCLINIT
DP_COMMAND_REJECT
       655**DCL       508--DCLINIT
DP_DATA_ALERT
       635**DCL       506--DCLINIT
DP_DEVICE_BUSY
       615**DCL       504--DCLINIT
DP_END_OF_FILE
       645**DCL       507--DCLINIT
DP_MPC_ATTENTION
       663**DCL       510--DCLINIT
DP_MPC_COMMAND_REJECT
       702**DCL       512--DCLINIT
DP_MPC_DATA_ALERT
       678**DCL       511--DCLINIT
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1216 
DP_READY
       606**DCL       503--DCLINIT
DP_TBL
       491**DCL       466--DCLINIT
FOUND_MAJOR
      1084**LABEL    1080--GOTO
FOUND_MINOR
      1094**LABEL    1052--GOTO     1067--GOTO     1075--GOTO     1090--GOTO
I
      1023**DCL      1056<<DOINDEX  1057>>IF       1058>>ASSIGN   1059>>ASSIGN   1079>>ASSIGN   1085<<DOINDEX
      1086>>IF       1086>>IF       1086>>IF       1086>>IF       1088>>ASSIGN   1089>>ASSIGN
IOERR
       334**DCL         7--PROC
IOERR.DEVNM
       339**DCL      1030>>IF       1033>>IF       1036>>IF       1039>>IF       1039>>IF       1042>>IF
      1045>>IF       1054>>IF
IOERR.SEEK
       338**DCL       339--REDEF
IOERR.STATUS
       334**DCL       335--REDEF
IOERR.STATUS.MAJOR
       334**DCL      1057>>IF       1060>>IF
IOERR.STATUS.MINOR
       334**DCL      1086>>IF       1086>>IF
IOERR.STATUS.POWER_OFF
       334**DCL      1048>>IF
IOERR.XSTATUS.SYS_CTRL_MINOR
       335**DCL      1063>>IF
IOERR.XSTATUS.SYS_IOM_MINOR
       335**DCL      1071>>IF
J
      1024**DCL      1062<<DOINDEX  1063>>IF       1065>>ASSIGN   1066>>ASSIGN   1070<<DOINDEX  1071>>IF
      1073>>ASSIGN   1074>>ASSIGN
LP_ATTENTION
       848**DCL       551--DCLINIT
LP_COMMAND_REJECT
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1217 
       818**DCL       554--DCLINIT
LP_DATA_ALERT
       857**DCL       552--DCLINIT
LP_MPC_ATTENTION
       827**DCL       556--DCLINIT
LP_MPC_COMMAND_REJECT
       841**DCL       558--DCLINIT
LP_MPC_DATA_ALERT
       833**DCL       557--DCLINIT
LP_READY
       806**DCL       549--DCLINIT
LP_TBL
       537**DCL       466--DCLINIT
MAJBUF
       343**DCL         7--PROC     1026<<ASSIGN   1050<<ASSIGN   1058<<ASSIGN
MAJCOUNT
       344**DCL         7--PROC     1028<<ASSIGN   1051<<ASSIGN   1059<<ASSIGN
MAJ_STATUS_TBL.COUNT
       479**DCL      1059>>ASSIGN
MAJ_STATUS_TBL.MAJOR
       468**DCL      1057>>IF
MAJ_STATUS_TBL.TEXT
       480**DCL      1058>>ASSIGN
MCA_ATTENTION
       935**DCL       597--DCLINIT
MCA_COMMAND_REJECT
       950**DCL       600--DCLINIT
MCA_DATA_ALERT
       944**DCL       598--DCLINIT
MCA_MPC_ATTENTION
       955**DCL       602--DCLINIT
MCA_MPC_COMMAND_REJECT
       969**DCL       604--DCLINIT
MCA_MPC_DATA_ALERT
       963**DCL       603--DCLINIT
MCA_READY
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1218 
       927**DCL       595--DCLINIT
MCA_TBL
       583**DCL       466--DCLINIT
MINBUF
       345**DCL         7--PROC     1027<<ASSIGN   1065<<ASSIGN   1073<<ASSIGN   1088<<ASSIGN
MINCOUNT
       346**DCL         7--PROC     1029<<ASSIGN   1066<<ASSIGN   1074<<ASSIGN   1089<<ASSIGN
MT_ATTENTION
       730**DCL       528--DCLINIT
MT_COMMAND_REJECT
       760**DCL       531--DCLINIT
MT_DATA_ALERT
       739**DCL       529--DCLINIT
MT_DEVICE_BUSY
       722**DCL       527--DCLINIT
MT_END_OF_FILE
       752**DCL       530--DCLINIT
MT_MPC_ATTENTION
       771**DCL       533--DCLINIT
MT_MPC_COMMAND_REJECT
       798**DCL       535--DCLINIT
MT_MPC_DATA_ALERT
       782**DCL       534--DCLINIT
MT_READY
       710**DCL       526--DCLINIT
MT_TBL
       514**DCL       466--DCLINIT
SUBTBL.CODE
      1018**DCL      1086>>IF       1086>>IF
SUBTBL.COUNT
      1019**DCL      1089>>ASSIGN
SUBTBL.MASK
      1017**DCL      1086>>IF       1086>>IF
SUBTBL.TEXT
      1020**DCL      1088>>ASSIGN
SUBTBL$
PL6.E3A0      #010=THF$STATUS File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1219 
      1021**DCL      1016--IMP-PTR  1079<<ASSIGN   1084>>IF       1086>>IF       1086>>IF       1086>>IF
      1086>>IF       1088>>ASSIGN   1089>>ASSIGN
SYS_FAULT_CTRLR_CODE.CODE
       980**DCL      1063>>IF
SYS_FAULT_CTRLR_CODE.COUNT
       981**DCL      1066>>ASSIGN
SYS_FAULT_CTRLR_CODE.TEXT
       982**DCL      1065>>ASSIGN
SYS_FAULT_IOM_DET.CODE
       996**DCL      1071>>IF
SYS_FAULT_IOM_DET.COUNT
       997**DCL      1074>>ASSIGN
SYS_FAULT_IOM_DET.TEXT
       998**DCL      1073>>ASSIGN
TBL.SUB$
      1015**DCL      1079>>ASSIGN
TYPE$
       466**DCL      1079>>ASSIGN
TYPE_INDX
      1022**DCL      1031<<ASSIGN   1034<<ASSIGN   1037<<ASSIGN   1040<<ASSIGN   1043<<ASSIGN   1079>>ASSIGN

PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1220 
     6672        1        /*M* THF$CSHERR - ROUTINE TO PROCESS CPU CACHE PARITY ERROR */
     6673        2        /*T***********************************************************/
     6674        3        /*T*                                                         */
     6675        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     6676        5        /*T*                                                         */
     6677        6        /*T***********************************************************/
     6678        7        /**/
     6679        8        THF$CSHERR: PROC;
     6680        9        /**/
     6681       10        /* INCLUDE FILES */
     6682       11        %INCLUDE CP_6;
     6683       92        %INCLUDE EL$TABLES;
     6684      415        %INCLUDE TH_DATA_R;
     6685      493        /**/
     6686      494        /* AUTO PARAMETERS */
     6687      495    1   DCL 1 INFO,
     6688      496    1         2 BOUND UBIN(20) UNAL,
     6689      497    1         2 * BIT(16),
     6690      498    1         2 PTR$ PTR;
     6691      499    1   DCL LEVEL# UBIN;
     6692      500    1   DCL TEXT CHAR(18);
     6693      501    1   DCL 1 TXT REDEF TEXT,
     6694      502    1         2 BOARD CHAR(5),
     6695      503    1         2 * CHAR(2),
     6696      504    1         2 CHIP CHAR(3),
     6697      505    1         2 * CHAR(1),
     6698      506    1         2 SLOT CHAR(7);
     6699      507    1   DCL LOW_PROFILE_SLOT CHAR(7);
     6700      508    1   DCL BIT# SBIN;
     6701      509    1   DCL SLOT# UBIN;
     6702      510    1   DCL CHIP# UBIN;
     6703      511    1   DCL DWORD1_BIT BIT(72) DALIGNED;
     6704      512    1   DCL DWORD1 (0:71) REDEF DWORD1_BIT BIT(1) UNAL;
     6705      513    1   DCL DWORD2_BIT BIT(72) DALIGNED;
     6706      514    1   DCL DWORD2 (0:71) REDEF DWORD2_BIT BIT(1) UNAL;
     6707      515    1   DCL I UBIN;
     6708      516    1   DCL RSW2_BIT BIT(36);
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1221 
     6709      517    1   DCL 1 RSW2 REDEF RSW2_BIT,
     6710      518    1         2 * BIT(4),
     6711      519    1         2 CPU_TYPE UBIN(2) UNAL,
     6712      520    1         2 * BIT(14),
     6713      521    1         2 CSH_8K UBIN(1) UNAL,
     6714      522    1         2 * BIT(15);
     6715      523    1   DCL 1 CSH_ADDR,
     6716      524    1         2 * BIT(23),
     6717      525    1         2 LVL_8K UBIN(2) UNAL,
     6718      526    1         2 LVL_2K UBIN(2) UNAL,
     6719      527    1         2 * BIT(9);
     6720      528    1   DCL CSH_ADDR_UBIN REDEF CSH_ADDR UBIN;
     6721      529        /**/
     6722      530        /* CONSTANTS */
     6723      531    1   DCL NO_CSH_ERR CHAR(0) CONSTANT INIT(
     6724      532    1      '%/   Not a cache error or no cache error found%10P');
     6725      533    1   DCL 1 CSH_ERR_FMT CONSTANT,
     6726      534    1         2 * CHAR(0) INIT('%/%8-CACHE DATA%34-MEMORY DATA%53-LEVEL#'),
     6727      535    1         2 * CHAR(0) INIT('  BOARD CHIP SLOT%/'),
     6728      536    1         2 * CHAR(0) INIT('%2(%25(-%) %)%6(-%)  -----%2( ----%)%/'),
     6729      537    1         2 * CHAR(0) INIT('%2(%12ZO %12ZO %)   %1ZO    %A%/'),
     6730      538    1         2 * CHAR(0) INIT('%72-%A%10P');
     6731      539    1   DCL NSACD_SLOT (0:6) CHAR(7) CONSTANT CALIGNED INIT(
     6732      540    1        'AB13','AB14','AB15','AB16','AB17','AB18','AB13/14');
     6733      541    1   DCL HCCCD_SLOT (0:6) CHAR(7) CONSTANT CALIGNED INIT(
     6734      542    1        'AB13','AB14','AB15','AB16','AB17','AB18','AB13/14');
     6735      543    1   DCL ETCCD_SLOT (0:6) CHAR(7) CONSTANT CALIGNED INIT(
     6736      544    1        'AB1N','AB1P','AB1Q','AB1R','AB1S','AB1T','AB1N/1P');
     6737      545    1   DCL ETCCD_SLOT_LOW (0:6) CHAR(7) CONSTANT CALIGNED INIT(
     6738      546    1        'AA2M','AA2N','AA2P','AA2Q','AA2R','AA2S','AA2M/2N');
     6739      547    1   DCL A6SCD_SLOT (0:6) CHAR(7) CONSTANT CALIGNED INIT(
     6740      548    1        'AB1J'*3,'AB1K'*3,'AB1J/1K');
     6741      549    1   DCL NSACD_CHIP (0:12) CHAR(2) CONSTANT CALIGNED INIT(
     6742      550    1        '3F','3E','3D','3C','3B','3A',
     6743      551    1        '3P','3Q','3R','3S','3T','3U','0J');
     6744      552    1   DCL HCCCD_CHIP (0:51) CHAR(2) CONSTANT CALIGNED INIT(
     6745      553    1        '1B','2B','3B','4B','1C','2C','3C','4C',
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1222 
     6746      554    1        '1D','2D','3D','4D','1E','2E','3E','4E',
     6747      555    1        '1F','2F','3F','4F','1G','2G','3G','4G',
     6748      556    1        '1J','2J','3J','4J','1K','2K','3K','4K',
     6749      557    1        '1L','2L','3L','4L','1M','2M','3M','4M',
     6750      558    1        '1N','2N','3N','4N','1P','2P','3P','4P','1Q','2Q','3Q','4Q');
     6751      559    1   DCL ETCCD_CHIP (0:51) CHAR(3) CONSTANT CALIGNED INIT(
     6752      560    1        '36X','45X','55X','65X','33W','42W','51W','60W',
     6753      561    1        '36V','45V','55V','65V','31U','40U','49U','58U',
     6754      562    1        '36T','45T','55T','65T','36S','45S','55S','65S',
     6755      563    1        '32F','41F','50F','59F','32E','41E','50E','59E',
     6756      564    1        '32D','41D','50D','59D','32C','41C','50C','59C',
     6757      565    1        '32B','41B','50B','59B','32A','41A','50A','59A',
     6758      566    1        '37R','46R','55R','65R');
     6759      567        /**/
     6760      568        /* BASED DATA */
     6761      569        %EL$PROCERR (STCLASS="BASED(INFO.PTR$)");
     6762      579        /**/
     6763      580        /* ENTRY DEFS */
     6764      581    1   DCL THW$WRITE ENTRY(11);
     6765      582        /**/
     6766      583        /* PROCEDURE */
     6767      584    1      INFO = TH_INFO;
     6768      585    1      IF EL$PROCERR.SAFESTORE.CSHERR = '0'B
     6769      586    2      THEN DO;
     6770      587    2         CALL THW$WRITE(VECTOR(NO_CSH_ERR));
     6771      588    2         RETURN;
     6772      589    2         END;
     6773      590    1      RSW2_BIT = EL$PROCERR.RSW2;
     6774      591    1      CSH_ADDR_UBIN = EL$PROCERR.SAFESTORE.CSHERR.CSH_ADDR;
     6775      592    1      IF BINBIT(RSW2.CSH_8K,1)
     6776      593    1      THEN LEVEL# = CSH_ADDR.LVL_8K;
     6777      594    1      ELSE LEVEL# = CSH_ADDR.LVL_2K;
     6778      595    1      TEXT = ' ';
     6779      596    1      LOW_PROFILE_SLOT = ' ';
     6780      597    1      DWORD1_BIT = EL$PROCERR.SAFESTORE.CSHERR.CSH_DATA;
     6781      598    1      DWORD2_BIT = EL$PROCERR.SAFESTORE.CSHERR.MEM_DATA;
     6782      599    1      BIT# = -1;
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1223 
     6783      600    2      DO I = 0 TO 71;
     6784      601    2         IF DWORD1(I) ~= DWORD2(I)
     6785      602    3         THEN DO;
     6786      603    3            IF BIT# >= 0
     6787      604    4            THEN DO;
     6788      605    4               TEXT = 'MULTIPLE ERRORS';
     6789      606    4               GOTO MULTIPLE_BITS;
     6790      607    4               END;
     6791      608    3            ELSE BIT# = I;
     6792      609    3            END;
     6793      610    2         END;
     6794      611    1      IF BIT# >= 0
     6795      612    2      THEN DO;
     6796      613    2         SLOT# = MOD(BIT#,36)/6;
     6797      614    2         CHIP# = MOD(BIT#,6) + 6 * (BIT# / 36);
     6798      615    2         END;
     6799      616    2      ELSE DO;
     6800      617    2         SLOT# = 6;
     6801      618    2         CHIP# = 12;
     6802      619    2         END;
     6803      620    1      I = 2 * RSW2.CPU_TYPE + RSW2.CSH_8K;
     6804      621    2      DO CASE(I);
     6805      622    2         CASE(0);                                                /* L66 2K CACHE */
     6806      623    2            TXT.BOARD = 'NSACD';
     6807      624    2            TXT.SLOT = NSACD_SLOT(SLOT#);
     6808      625    2            TXT.CHIP = NSACD_CHIP(CHIP#);
     6809      626    2         CASE(1);                                                /* L66 8K CACHE */
     6810      627    2            TXT.BOARD = 'HCCCD';
     6811      628    2            TXT.SLOT = HCCCD_SLOT(SLOT#);
     6812      629    2            TXT.CHIP = HCCCD_CHIP(4 * CHIP# + LEVEL#);
     6813      630    2         CASE(3);                                               /* DPSE 8K CACHE */
     6814      631    2            TXT.BOARD = 'ETCCD';
     6815      632    2            TXT.SLOT = ETCCD_SLOT(SLOT#);
     6816      633    2            TXT.CHIP = ETCCD_CHIP(4 * CHIP# + LEVEL#);
     6817      634    2            LOW_PROFILE_SLOT = ETCCD_SLOT_LOW(SLOT#);
     6818      635    2         CASE(4);                                                /* ELS 2K CACHE */
     6819      636    2            TXT.BOARD = 'A6SCD';
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1224 
     6820      637    2            TXT.SLOT = A6SCD_SLOT(SLOT#);
     6821      638    2         CASE(5);                                                /* ELS 8K CACHE */
     6822      639    2         END;
     6823      640    1   MULTIPLE_BITS:
     6824      641    1      CALL THW$WRITE(VECTOR(CSH_ERR_FMT),
     6825      642    1                     VECTOR(EL$PROCERR.SAFESTORE.CSHERR.CSH_DATA),
     6826      643    1                     VECTOR(EL$PROCERR.SAFESTORE.CSHERR.MEM_DATA),
     6827      644    1                     VECTOR(LEVEL#),
     6828      645    1                     VECTOR(TEXT),
     6829      646    1                     VECTOR(LOW_PROFILE_SLOT));
     6830      647    1      END THF$CSHERR;

PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1225 
--  Include file information  --

   TH_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   EL$TABLES.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure THF$CSHERR.

   Procedure THF$CSHERR requires 211 words for executable code.
   Procedure THF$CSHERR requires 56 words of local(AUTO) storage.

    No errors detected in file THF$FORMAT.:E05TSI    .

PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1226 

 Object Unit name= THF$CSHERR                                 File name= THF$FORMAT.:E05TOU
 UTS= JUL 30 '97 06:19:57.60 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1  RoData even  UTS    197    305  THF$CSHERR
    2   Proc  even  none   211    323  THF$CSHERR
    3  RoData even  none    10     12  THF$CSHERR

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     2      0   yes            yes      Std        0  THF$CSHERR

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std      11 THW$WRITE
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  TH_INFO                               TH_XSA_BUF_VECTOR
     B_VECTNIL
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1227 

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1228 


     6672        1        /*M* THF$CSHERR - ROUTINE TO PROCESS CPU CACHE PARITY ERROR */
     6673        2        /*T***********************************************************/
     6674        3        /*T*                                                         */
     6675        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     6676        5        /*T*                                                         */
     6677        6        /*T***********************************************************/
     6678        7        /**/
     6679        8        THF$CSHERR: PROC;

      8  2 000000   000000 700200 xent  THF$CSHERR   TSX0  ! X66_AUTO_0
         2 000001   000070 000000                    ZERO    56,0

     6680        9        /**/
     6681       10        /* INCLUDE FILES */
     6682       11        %INCLUDE CP_6;
     6683       92        %INCLUDE EL$TABLES;
     6684      415        %INCLUDE TH_DATA_R;
     6685      493        /**/
     6686      494        /* AUTO PARAMETERS */
     6687      495    1   DCL 1 INFO,
     6688      496    1         2 BOUND UBIN(20) UNAL,
     6689      497    1         2 * BIT(16),
     6690      498    1         2 PTR$ PTR;
     6691      499    1   DCL LEVEL# UBIN;
     6692      500    1   DCL TEXT CHAR(18);
     6693      501    1   DCL 1 TXT REDEF TEXT,
     6694      502    1         2 BOARD CHAR(5),
     6695      503    1         2 * CHAR(2),
     6696      504    1         2 CHIP CHAR(3),
     6697      505    1         2 * CHAR(1),
     6698      506    1         2 SLOT CHAR(7);
     6699      507    1   DCL LOW_PROFILE_SLOT CHAR(7);
     6700      508    1   DCL BIT# SBIN;
     6701      509    1   DCL SLOT# UBIN;
     6702      510    1   DCL CHIP# UBIN;
     6703      511    1   DCL DWORD1_BIT BIT(72) DALIGNED;
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1229 
     6704      512    1   DCL DWORD1 (0:71) REDEF DWORD1_BIT BIT(1) UNAL;
     6705      513    1   DCL DWORD2_BIT BIT(72) DALIGNED;
     6706      514    1   DCL DWORD2 (0:71) REDEF DWORD2_BIT BIT(1) UNAL;
     6707      515    1   DCL I UBIN;
     6708      516    1   DCL RSW2_BIT BIT(36);
     6709      517    1   DCL 1 RSW2 REDEF RSW2_BIT,
     6710      518    1         2 * BIT(4),
     6711      519    1         2 CPU_TYPE UBIN(2) UNAL,
     6712      520    1         2 * BIT(14),
     6713      521    1         2 CSH_8K UBIN(1) UNAL,
     6714      522    1         2 * BIT(15);
     6715      523    1   DCL 1 CSH_ADDR,
     6716      524    1         2 * BIT(23),
     6717      525    1         2 LVL_8K UBIN(2) UNAL,
     6718      526    1         2 LVL_2K UBIN(2) UNAL,
     6719      527    1         2 * BIT(9);
     6720      528    1   DCL CSH_ADDR_UBIN REDEF CSH_ADDR UBIN;
     6721      529        /**/
     6722      530        /* CONSTANTS */
     6723      531    1   DCL NO_CSH_ERR CHAR(0) CONSTANT INIT(
     6724      532    1      '%/   Not a cache error or no cache error found%10P');
     6725      533    1   DCL 1 CSH_ERR_FMT CONSTANT,
     6726      534    1         2 * CHAR(0) INIT('%/%8-CACHE DATA%34-MEMORY DATA%53-LEVEL#'),
     6727      535    1         2 * CHAR(0) INIT('  BOARD CHIP SLOT%/'),
     6728      536    1         2 * CHAR(0) INIT('%2(%25(-%) %)%6(-%)  -----%2( ----%)%/'),
     6729      537    1         2 * CHAR(0) INIT('%2(%12ZO %12ZO %)   %1ZO    %A%/'),
     6730      538    1         2 * CHAR(0) INIT('%72-%A%10P');
     6731      539    1   DCL NSACD_SLOT (0:6) CHAR(7) CONSTANT CALIGNED INIT(
     6732      540    1        'AB13','AB14','AB15','AB16','AB17','AB18','AB13/14');
     6733      541    1   DCL HCCCD_SLOT (0:6) CHAR(7) CONSTANT CALIGNED INIT(
     6734      542    1        'AB13','AB14','AB15','AB16','AB17','AB18','AB13/14');
     6735      543    1   DCL ETCCD_SLOT (0:6) CHAR(7) CONSTANT CALIGNED INIT(
     6736      544    1        'AB1N','AB1P','AB1Q','AB1R','AB1S','AB1T','AB1N/1P');
     6737      545    1   DCL ETCCD_SLOT_LOW (0:6) CHAR(7) CONSTANT CALIGNED INIT(
     6738      546    1        'AA2M','AA2N','AA2P','AA2Q','AA2R','AA2S','AA2M/2N');
     6739      547    1   DCL A6SCD_SLOT (0:6) CHAR(7) CONSTANT CALIGNED INIT(
     6740      548    1        'AB1J'*3,'AB1K'*3,'AB1J/1K');
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1230 
     6741      549    1   DCL NSACD_CHIP (0:12) CHAR(2) CONSTANT CALIGNED INIT(
     6742      550    1        '3F','3E','3D','3C','3B','3A',
     6743      551    1        '3P','3Q','3R','3S','3T','3U','0J');
     6744      552    1   DCL HCCCD_CHIP (0:51) CHAR(2) CONSTANT CALIGNED INIT(
     6745      553    1        '1B','2B','3B','4B','1C','2C','3C','4C',
     6746      554    1        '1D','2D','3D','4D','1E','2E','3E','4E',
     6747      555    1        '1F','2F','3F','4F','1G','2G','3G','4G',
     6748      556    1        '1J','2J','3J','4J','1K','2K','3K','4K',
     6749      557    1        '1L','2L','3L','4L','1M','2M','3M','4M',
     6750      558    1        '1N','2N','3N','4N','1P','2P','3P','4P','1Q','2Q','3Q','4Q');
     6751      559    1   DCL ETCCD_CHIP (0:51) CHAR(3) CONSTANT CALIGNED INIT(
     6752      560    1        '36X','45X','55X','65X','33W','42W','51W','60W',
     6753      561    1        '36V','45V','55V','65V','31U','40U','49U','58U',
     6754      562    1        '36T','45T','55T','65T','36S','45S','55S','65S',
     6755      563    1        '32F','41F','50F','59F','32E','41E','50E','59E',
     6756      564    1        '32D','41D','50D','59D','32C','41C','50C','59C',
     6757      565    1        '32B','41B','50B','59B','32A','41A','50A','59A',
     6758      566    1        '37R','46R','55R','65R');
     6759      567        /**/
     6760      568        /* BASED DATA */
     6761      569        %EL$PROCERR (STCLASS="BASED(INFO.PTR$)");
     6762      579        /**/
     6763      580        /* ENTRY DEFS */
     6764      581    1   DCL THW$WRITE ENTRY(11);
     6765      582        /**/
     6766      583        /* PROCEDURE */
     6767      584    1      INFO = TH_INFO;

    584  2 000002   000000 237000 xsym               LDAQ    TH_INFO
         2 000003   200003 755100                    STA     INFO,,AUTO
         2 000004   200004 756100                    STQ     INFO+1,,AUTO

     6768      585    1      IF EL$PROCERR.SAFESTORE.CSHERR = '0'B

    585  2 000005   200004 470500                    LDP0    INFO+1,,AUTO
         2 000006   000000 106500                    CMPC    fill='000'O
         2 000007   000102 000030                    ADSC9   66,,PR0                  cn=0,n=24
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1231 
         2 000010   000002 000002 xsym               ADSC9   B_VECTNIL+2              cn=0,n=2
         2 000011   000017 601000 2                  TNZ     s:590

     6769      586    2      THEN DO;

     6770      587    2         CALL THW$WRITE(VECTOR(NO_CSH_ERR));

    587  2 000012   000002 630400 3                  EPPR0   2
         2 000013   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 000014   000000 701000 xent               TSX1    THW$WRITE
         2 000015   000000 011000                    NOP     0

     6771      588    2         RETURN;

    588  2 000016   000000 702200 xent               TSX2  ! X66_ARET

     6772      589    2         END;
     6773      590    1      RSW2_BIT = EL$PROCERR.RSW2;

    590  2 000017   000007 236100                    LDQ     7,,PR0
         2 000020   200025 756100                    STQ     RSW2_BIT,,AUTO

     6774      591    1      CSH_ADDR_UBIN = EL$PROCERR.SAFESTORE.CSHERR.CSH_ADDR;

    591  2 000021   000102 236100                    LDQ     66,,PR0
         2 000022   777777 376007                    ANQ     -1,DL
         2 000023   200026 756100                    STQ     CSH_ADDR,,AUTO

     6775      592    1      IF BINBIT(RSW2.CSH_8K,1)

    592  2 000024   200025 236100                    LDQ     RSW2_BIT,,AUTO
         2 000025   000017 772000                    QRL     15
         2 000026   000001 376007                    ANQ     1,DL
         2 000027   000043 736000                    QLS     35
         2 000030   000036 600000 2                  TZE     s:594

     6776      593    1      THEN LEVEL# = CSH_ADDR.LVL_8K;
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1232 

    593  2 000031   200026 236100                    LDQ     CSH_ADDR,,AUTO
         2 000032   000013 772000                    QRL     11
         2 000033   000003 376007                    ANQ     3,DL
         2 000034   200005 756100                    STQ     LEVEL#,,AUTO
         2 000035   000042 710000 2                  TRA     s:595

     6777      594    1      ELSE LEVEL# = CSH_ADDR.LVL_2K;

    594  2 000036   200026 236100                    LDQ     CSH_ADDR,,AUTO
         2 000037   000011 772000                    QRL     9
         2 000040   000003 376007                    ANQ     3,DL
         2 000041   200005 756100                    STQ     LEVEL#,,AUTO

     6778      595    1      TEXT = ' ';

    595  2 000042   040100 100400                    MLR     fill='040'O
         2 000043   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         2 000044   200006 000022                    ADSC9   TEXT,,AUTO               cn=0,n=18

     6779      596    1      LOW_PROFILE_SLOT = ' ';

    596  2 000045   040100 100400                    MLR     fill='040'O
         2 000046   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         2 000047   200013 000007                    ADSC9   LOW_PROFILE_SLOT,,AUTO   cn=0,n=7

     6780      597    1      DWORD1_BIT = EL$PROCERR.SAFESTORE.CSHERR.CSH_DATA;

    597  2 000050   000100 100500                    MLR     fill='000'O
         2 000051   000104 000010                    ADSC9   68,,PR0                  cn=0,n=8
         2 000052   200020 000010                    ADSC9   DWORD1_BIT,,AUTO         cn=0,n=8

     6781      598    1      DWORD2_BIT = EL$PROCERR.SAFESTORE.CSHERR.MEM_DATA;

    598  2 000053   000100 100500                    MLR     fill='000'O
         2 000054   000106 000010                    ADSC9   70,,PR0                  cn=0,n=8
         2 000055   200022 000010                    ADSC9   DWORD2_BIT,,AUTO         cn=0,n=8
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1233 

     6782      599    1      BIT# = -1;

    599  2 000056   000001 335007                    LCA     1,DL
         2 000057   200015 755100                    STA     BIT#,,AUTO

     6783      600    2      DO I = 0 TO 71;

    600  2 000060   200024 450100                    STZ     I,,AUTO

     6784      601    2         IF DWORD1(I) ~= DWORD2(I)

    601  2 000061   200024 235100                    LDA     I,,AUTO
         2 000062   000105 066505                    CMPB    filb='0'B
         2 000063   200020 000001                    BDSC    DWORD1_BIT,A,AUTO        by=0,bit=0,n=1
         2 000064   200022 000001                    BDSC    DWORD2_BIT,A,AUTO        by=0,bit=0,n=1
         2 000065   000075 600000 2                  TZE     s:610

     6785      602    3         THEN DO;

     6786      603    3            IF BIT# >= 0

    603  2 000066   200015 236100                    LDQ     BIT#,,AUTO
         2 000067   000074 604000 2                  TMI     s:608

     6787      604    4            THEN DO;

     6788      605    4               TEXT = 'MULTIPLE ERRORS';

    605  2 000070   040100 100400                    MLR     fill='040'O
         2 000071   000271 000017 1                  ADSC9   ETCCD_CHIP+39            cn=0,n=15
         2 000072   200006 000022                    ADSC9   TEXT,,AUTO               cn=0,n=18

     6789      606    4               GOTO MULTIPLE_BITS;

    606  2 000073   000241 710000 2                  TRA     MULTIPLE_BITS

PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1234 
     6790      607    4               END;
     6791      608    3            ELSE BIT# = I;

    608  2 000074   200015 755100                    STA     BIT#,,AUTO

     6792      609    3            END;

     6793      610    2         END;

    610  2 000075   000001 035007                    ADLA    1,DL
         2 000076   200024 755100                    STA     I,,AUTO
         2 000077   000110 115007                    CMPA    72,DL
         2 000100   000061 602000 2                  TNC     s:601

     6794      611    1      IF BIT# >= 0

    611  2 000101   200015 236100                    LDQ     BIT#,,AUTO
         2 000102   000120 604000 2                  TMI     s:617

     6795      612    2      THEN DO;

     6796      613    2         SLOT# = MOD(BIT#,36)/6;

    613  2 000103   000044 506007                    DIV     36,DL
         2 000104   000044 733000                    LRS     36
         2 000105   000006 506007                    DIV     6,DL
         2 000106   200016 756100                    STQ     SLOT#,,AUTO

     6797      614    2         CHIP# = MOD(BIT#,6) + 6 * (BIT# / 36);

    614  2 000107   200015 236100                    LDQ     BIT#,,AUTO
         2 000110   000006 506007                    DIV     6,DL
         2 000111   200015 236100                    LDQ     BIT#,,AUTO
         2 000112   200030 755100                    STA     CSH_ADDR+2,,AUTO
         2 000113   000044 506007                    DIV     36,DL
         2 000114   000006 402007                    MPY     6,DL
         2 000115   200030 036100                    ADLQ    CSH_ADDR+2,,AUTO
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1235 
         2 000116   200017 756100                    STQ     CHIP#,,AUTO

     6798      615    2         END;

    615  2 000117   000124 710000 2                  TRA     s:620

     6799      616    2      ELSE DO;

     6800      617    2         SLOT# = 6;

    617  2 000120   000006 235007                    LDA     6,DL
         2 000121   200016 755100                    STA     SLOT#,,AUTO

     6801      618    2         CHIP# = 12;

    618  2 000122   000014 235007                    LDA     12,DL
         2 000123   200017 755100                    STA     CHIP#,,AUTO

     6802      619    2         END;

     6803      620    1      I = 2 * RSW2.CPU_TYPE + RSW2.CSH_8K;

    620  2 000124   200025 236100                    LDQ     RSW2_BIT,,AUTO
         2 000125   000017 772000                    QRL     15
         2 000126   000001 376007                    ANQ     1,DL
         2 000127   200030 756100                    STQ     CSH_ADDR+2,,AUTO
         2 000130   200025 236100                    LDQ     RSW2_BIT,,AUTO
         2 000131   000035 772000                    QRL     29
         2 000132   000006 376007                    ANQ     6,DL
         2 000133   200030 036100                    ADLQ    CSH_ADDR+2,,AUTO
         2 000134   200024 756100                    STQ     I,,AUTO

     6804      621    2      DO CASE(I);

    621  2 000135   000005 116007                    CMPQ    5,DL
         2 000136   000140 602006 2                  TNC     s:621+3,QL
         2 000137   000241 710000 2                  TRA     MULTIPLE_BITS
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1236 
         2 000140   000145 710000 2                  TRA     s:623
         2 000141   000163 710000 2                  TRA     s:627
         2 000142   000241 710000 2                  TRA     MULTIPLE_BITS
         2 000143   000203 710000 2                  TRA     s:631
         2 000144   000230 710000 2                  TRA     s:636

     6805      622    2         CASE(0);                                                /* L66 2K CACHE */

     6806      623    2            TXT.BOARD = 'NSACD';

    623  2 000145   040100 100400                    MLR     fill='040'O
         2 000146   000275 000005 1                  ADSC9   ETCCD_CHIP+43            cn=0,n=5
         2 000147   200006 000005                    ADSC9   TEXT,,AUTO               cn=0,n=5

     6807      624    2            TXT.SLOT = NSACD_SLOT(SLOT#);

    624  2 000150   200016 236100                    LDQ     SLOT#,,AUTO
         2 000151   000007 402007                    MPY     7,DL
         2 000152   040100 100406                    MLR     fill='040'O
         2 000153   000060 000007 1                  ADSC9   NSACD_SLOT,Q             cn=0,n=7
         2 000154   200010 600007                    ADSC9   TEXT+2,,AUTO             cn=3,n=7

     6808      625    2            TXT.CHIP = NSACD_CHIP(CHIP#);

    625  2 000155   200017 235100                    LDA     CHIP#,,AUTO
         2 000156   000001 735000                    ALS     1
         2 000157   040100 100405                    MLR     fill='040'O
         2 000160   000161 000002 1                  ADSC9   NSACD_CHIP,A             cn=0,n=2
         2 000161   200007 600003                    ADSC9   TEXT+1,,AUTO             cn=3,n=3
         2 000162   000241 710000 2                  TRA     MULTIPLE_BITS

     6809      626    2         CASE(1);                                                /* L66 8K CACHE */

     6810      627    2            TXT.BOARD = 'HCCCD';

    627  2 000163   040100 100400                    MLR     fill='040'O
         2 000164   000277 000005 1                  ADSC9   ETCCD_CHIP+45            cn=0,n=5
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1237 
         2 000165   200006 000005                    ADSC9   TEXT,,AUTO               cn=0,n=5

     6811      628    2            TXT.SLOT = HCCCD_SLOT(SLOT#);

    628  2 000166   200016 236100                    LDQ     SLOT#,,AUTO
         2 000167   000007 402007                    MPY     7,DL
         2 000170   040100 100406                    MLR     fill='040'O
         2 000171   000075 000007 1                  ADSC9   HCCCD_SLOT,Q             cn=0,n=7
         2 000172   200010 600007                    ADSC9   TEXT+2,,AUTO             cn=3,n=7

     6812      629    2            TXT.CHIP = HCCCD_CHIP(4 * CHIP# + LEVEL#);

    629  2 000173   200017 236100                    LDQ     CHIP#,,AUTO
         2 000174   000002 736000                    QLS     2
         2 000175   200005 036100                    ADLQ    LEVEL#,,AUTO
         2 000176   000001 736000                    QLS     1
         2 000177   040100 100406                    MLR     fill='040'O
         2 000200   000170 000002 1                  ADSC9   HCCCD_CHIP,Q             cn=0,n=2
         2 000201   200007 600003                    ADSC9   TEXT+1,,AUTO             cn=3,n=3
         2 000202   000241 710000 2                  TRA     MULTIPLE_BITS

     6813      630    2         CASE(3);                                               /* DPSE 8K CACHE */

     6814      631    2            TXT.BOARD = 'ETCCD';

    631  2 000203   040100 100400                    MLR     fill='040'O
         2 000204   000301 000005 1                  ADSC9   ETCCD_CHIP+47            cn=0,n=5
         2 000205   200006 000005                    ADSC9   TEXT,,AUTO               cn=0,n=5

     6815      632    2            TXT.SLOT = ETCCD_SLOT(SLOT#);

    632  2 000206   200016 236100                    LDQ     SLOT#,,AUTO
         2 000207   000007 402007                    MPY     7,DL
         2 000210   040100 100406                    MLR     fill='040'O
         2 000211   000112 000007 1                  ADSC9   ETCCD_SLOT,Q             cn=0,n=7
         2 000212   200010 600007                    ADSC9   TEXT+2,,AUTO             cn=3,n=7

PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1238 
     6816      633    2            TXT.CHIP = ETCCD_CHIP(4 * CHIP# + LEVEL#);

    633  2 000213   200017 236100                    LDQ     CHIP#,,AUTO
         2 000214   000002 736000                    QLS     2
         2 000215   200005 036100                    ADLQ    LEVEL#,,AUTO
         2 000216   000003 402007                    MPY     3,DL
         2 000217   040100 100406                    MLR     fill='040'O
         2 000220   000222 000003 1                  ADSC9   ETCCD_CHIP,Q             cn=0,n=3
         2 000221   200007 600003                    ADSC9   TEXT+1,,AUTO             cn=3,n=3

     6817      634    2            LOW_PROFILE_SLOT = ETCCD_SLOT_LOW(SLOT#);

    634  2 000222   200016 236100                    LDQ     SLOT#,,AUTO
         2 000223   000007 402007                    MPY     7,DL
         2 000224   040100 100406                    MLR     fill='040'O
         2 000225   000127 000007 1                  ADSC9   ETCCD_SLOT_LOW,Q         cn=0,n=7
         2 000226   200013 000007                    ADSC9   LOW_PROFILE_SLOT,,AUTO   cn=0,n=7
         2 000227   000241 710000 2                  TRA     MULTIPLE_BITS

     6818      635    2         CASE(4);                                                /* ELS 2K CACHE */

     6819      636    2            TXT.BOARD = 'A6SCD';

    636  2 000230   040100 100400                    MLR     fill='040'O
         2 000231   000303 000005 1                  ADSC9   ETCCD_CHIP+49            cn=0,n=5
         2 000232   200006 000005                    ADSC9   TEXT,,AUTO               cn=0,n=5

     6820      637    2            TXT.SLOT = A6SCD_SLOT(SLOT#);

    637  2 000233   200016 236100                    LDQ     SLOT#,,AUTO
         2 000234   000007 402007                    MPY     7,DL
         2 000235   040100 100406                    MLR     fill='040'O
         2 000236   000144 000007 1                  ADSC9   A6SCD_SLOT,Q             cn=0,n=7
         2 000237   200010 600007                    ADSC9   TEXT+2,,AUTO             cn=3,n=7
         2 000240   000241 710000 2                  TRA     MULTIPLE_BITS

     6821      638    2         CASE(5);                                                /* ELS 8K CACHE */
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1239 

     6822      639    2         END;

     6823      640    1   MULTIPLE_BITS:
     6824      641    1      CALL THW$WRITE(VECTOR(CSH_ERR_FMT),

    641  2 000241   000006 235000 3     MULTIPLE_BI* LDA     6
         2 000242   200004 236100                    LDQ     INFO+1,,AUTO
         2 000243   000104 036003                    ADLQ    68,DU
         2 000244   200030 757100                    STAQ    CSH_ADDR+2,,AUTO
         2 000245   000006 235000 3                  LDA     6
         2 000246   200004 236100                    LDQ     INFO+1,,AUTO
         2 000247   000106 036003                    ADLQ    70,DU
         2 000250   200032 757100                    STAQ    CSH_ADDR+4,,AUTO
         2 000251   777640 235007                    LDA     -96,DL
         2 000252   200034 452500                    STP2    CSH_ADDR+6,,AUTO
         2 000253   200034 236100                    LDQ     CSH_ADDR+6,,AUTO
         2 000254   000005 036003                    ADLQ    5,DU
         2 000255   200036 757100                    STAQ    CSH_ADDR+8,,AUTO
         2 000256   000007 235000 3                  LDA     7
         2 000257   200040 452500                    STP2    CSH_ADDR+10,,AUTO
         2 000260   200040 236100                    LDQ     CSH_ADDR+10,,AUTO
         2 000261   000006 036003                    ADLQ    6,DU
         2 000262   200042 757100                    STAQ    CSH_ADDR+12,,AUTO
         2 000263   000010 235000 3                  LDA     8
         2 000264   200044 452500                    STP2    CSH_ADDR+14,,AUTO
         2 000265   200044 236100                    LDQ     CSH_ADDR+14,,AUTO
         2 000266   000013 036003                    ADLQ    11,DU
         2 000267   200050 757100                    STAQ    CSH_ADDR+18,,AUTO
         2 000270   200030 237100                    LDAQ    CSH_ADDR+2,,AUTO
         2 000271   200046 757100                    STAQ    CSH_ADDR+16,,AUTO
         2 000272   200032 237100                    LDAQ    CSH_ADDR+4,,AUTO
         2 000273   200052 757100                    STAQ    CSH_ADDR+20,,AUTO
         2 000274   200036 237100                    LDAQ    CSH_ADDR+8,,AUTO
         2 000275   200054 757100                    STAQ    CSH_ADDR+22,,AUTO
         2 000276   200042 237100                    LDAQ    CSH_ADDR+12,,AUTO
         2 000277   200056 757100                    STAQ    CSH_ADDR+24,,AUTO
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1240 
         2 000300   200050 237100                    LDAQ    CSH_ADDR+18,,AUTO
         2 000301   200060 757100                    STAQ    CSH_ADDR+26,,AUTO
         2 000302   200060 630500                    EPPR0   CSH_ADDR+26,,AUTO
         2 000303   200067 450500                    STP0    CSH_ADDR+33,,AUTO
         2 000304   200056 631500                    EPPR1   CSH_ADDR+24,,AUTO
         2 000305   200066 451500                    STP1    CSH_ADDR+32,,AUTO
         2 000306   200054 633500                    EPPR3   CSH_ADDR+22,,AUTO
         2 000307   200065 453500                    STP3    CSH_ADDR+31,,AUTO
         2 000310   200052 634500                    EPPR4   CSH_ADDR+20,,AUTO
         2 000311   200064 454500                    STP4    CSH_ADDR+30,,AUTO
         2 000312   200046 635500                    EPPR5   CSH_ADDR+16,,AUTO
         2 000313   200063 455500                    STP5    CSH_ADDR+29,,AUTO
         2 000314   000011 236000 3                  LDQ     9
         2 000315   200062 756100                    STQ     CSH_ADDR+28,,AUTO
         2 000316   200062 630500                    EPPR0   CSH_ADDR+28,,AUTO
         2 000317   000024 631400 xsym               EPPR1   B_VECTNIL+20
         2 000320   000000 701000 xent               TSX1    THW$WRITE
         2 000321   000000 011000                    NOP     0

     6825      642    1                     VECTOR(EL$PROCERR.SAFESTORE.CSHERR.CSH_DATA),
     6826      643    1                     VECTOR(EL$PROCERR.SAFESTORE.CSHERR.MEM_DATA),
     6827      644    1                     VECTOR(LEVEL#),
     6828      645    1                     VECTOR(TEXT),
     6829      646    1                     VECTOR(LOW_PROFILE_SLOT));
     6830      647    1      END THF$CSHERR;

    647  2 000322   000000 702200 xent               TSX2  ! X66_ARET

PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1241 
--  Include file information  --

   TH_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   EL$TABLES.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure THF$CSHERR.
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1242 

 **** Variables and constants ****

  ****  Section 001 RoData THF$CSHERR

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   144-0-0/c CHAR(7)     r     1 A6SCD_SLOT(0:6)
    15-0-0/c STRC(1251)  r     1 CSH_ERR_FMT
   222-0-0/c CHAR(3)     r     1 ETCCD_CHIP(0:51)
   112-0-0/c CHAR(7)     r     1 ETCCD_SLOT(0:6)
   127-0-0/c CHAR(7)     r     1 ETCCD_SLOT_LOW(0:6)
   170-0-0/c CHAR(2)     r     1 HCCCD_CHIP(0:51)
    75-0-0/c CHAR(7)     r     1 HCCCD_SLOT(0:6)
     0-0-0/c CHAR(50)    r     1 NO_CSH_ERR
   161-0-0/c CHAR(2)     r     1 NSACD_CHIP(0:12)
    60-0-0/c CHAR(7)     r     1 NSACD_SLOT(0:6)

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    15-0-0/w SBIN        r     1 BIT#                      17-0-0/w UBIN        r     1 CHIP#
    26-0-0/b STRC        r     1 CSH_ADDR                  26-0-0/w UBIN        r     1 CSH_ADDR_UBIN
    20-0-0/d BIT         r     1 DWORD1(0:71)              20-0-0/d BIT (72)    r     1 DWORD1_BIT
    22-0-0/d BIT         r     1 DWORD2(0:71)              22-0-0/d BIT (72)    r     1 DWORD2_BIT
    24-0-0/w UBIN        r     1 I                          3-0-0/w STRC(72)    r     1 INFO
     5-0-0/w UBIN        r     1 LEVEL#                    13-0-0/c CHAR(7)     r     1 LOW_PROFILE_SLOT
    25-0-0/b STRC        r     1 RSW2                      25-0-0/b BIT         r     1 RSW2_BIT
    16-0-0/w UBIN        r     1 SLOT#                      6-0-0/c CHAR(18)    r     1 TEXT
     6-0-0/c STRC(162)   r     1 TXT

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1243 

     0-0-0/d STRC(72)    r     1 TH_INFO

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(2700)  r     1 EL$PROCERR


   Procedure THF$CSHERR requires 211 words for executable code.
   Procedure THF$CSHERR requires 56 words of local(AUTO) storage.

    No errors detected in file THF$FORMAT.:E05TSI    .
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1244 
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1245 
          MINI XREF LISTING

A6SCD_SLOT
       547**DCL       637>>ASSIGN
BIT#
       508**DCL       599<<ASSIGN    603>>IF        608<<ASSIGN    611>>IF        613>>ASSIGN    614>>ASSIGN
       614>>ASSIGN
CHIP#
       510**DCL       614<<ASSIGN    618<<ASSIGN    625>>ASSIGN    629>>ASSIGN    633>>ASSIGN
CSH_ADDR
       523**DCL       528--REDEF
CSH_ADDR.LVL_2K
       526**DCL       594>>ASSIGN
CSH_ADDR.LVL_8K
       525**DCL       593>>ASSIGN
CSH_ADDR_UBIN
       528**DCL       591<<ASSIGN
CSH_ERR_FMT
       533**DCL       641--CALL
DWORD1
       512**DCL       601>>IF
DWORD1_BIT
       511**DCL       512--REDEF     597<<ASSIGN
DWORD2
       514**DCL       601>>IF
DWORD2_BIT
       513**DCL       514--REDEF     598<<ASSIGN
EL$PROCERR.RSW2
       571**DCL       590>>ASSIGN
EL$PROCERR.SAFESTORE.CSHERR
       573**DCL       585>>IF
EL$PROCERR.SAFESTORE.CSHERR.CSH_ADDR
       573**DCL       591>>ASSIGN
EL$PROCERR.SAFESTORE.CSHERR.CSH_DATA
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1246 
       573**DCL       597>>ASSIGN    641--CALL
EL$PROCERR.SAFESTORE.CSHERR.MEM_DATA
       574**DCL       598>>ASSIGN    641--CALL
ETCCD_CHIP
       559**DCL       633>>ASSIGN
ETCCD_SLOT
       543**DCL       632>>ASSIGN
ETCCD_SLOT_LOW
       545**DCL       634>>ASSIGN
HCCCD_CHIP
       552**DCL       629>>ASSIGN
HCCCD_SLOT
       541**DCL       628>>ASSIGN
I
       515**DCL       600<<DOINDEX   601>>IF        601>>IF        608>>ASSIGN    620<<ASSIGN    621>>DOCASE
INFO
       495**DCL       584<<ASSIGN
INFO.PTR$
       498**DCL       570--IMP-PTR   585>>IF        590>>ASSIGN    591>>ASSIGN    597>>ASSIGN    598>>ASSIGN
       641>>CALL      641>>CALL
LEVEL#
       499**DCL       593<<ASSIGN    594<<ASSIGN    629>>ASSIGN    633>>ASSIGN    641--CALL
LOW_PROFILE_SLOT
       507**DCL       596<<ASSIGN    634<<ASSIGN    641--CALL
MULTIPLE_BITS
       641**LABEL     606--GOTO
NO_CSH_ERR
       531**DCL       587--CALL
NSACD_CHIP
       549**DCL       625>>ASSIGN
NSACD_SLOT
       539**DCL       624>>ASSIGN
RSW2.CPU_TYPE
       519**DCL       620>>ASSIGN
RSW2.CSH_8K
       521**DCL       592>>IF        620>>ASSIGN
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1247 
RSW2_BIT
       516**DCL       517--REDEF     590<<ASSIGN
SLOT#
       509**DCL       613<<ASSIGN    617<<ASSIGN    624>>ASSIGN    628>>ASSIGN    632>>ASSIGN    634>>ASSIGN
       637>>ASSIGN
TEXT
       500**DCL       501--REDEF     595<<ASSIGN    605<<ASSIGN    641--CALL
THW$WRITE
       581**DCL-ENT   587--CALL      641--CALL
TH_CONSTRAINTS.E_BY_B
       426**DCL       426--REDEF
TH_CONSTRAINTS.M_BY_B
       425**DCL       425--REDEF
TH_CONSTRAINTS.TYPES
       423**DCL       423--REDEF
TH_DEFAULT.E_BY_B
       434**DCL       434--REDEF
TH_DEFAULT.M_BY_B
       433**DCL       433--REDEF
TH_DEFAULT.TYPES
       431**DCL       431--REDEF
TH_INFO
       452**DCL       584>>ASSIGN
TH_SAVE.E_BY_B
       442**DCL       442--REDEF
TH_SAVE.M_BY_B
       440**DCL       440--REDEF
TH_SAVE.TYPES
       438**DCL       439--REDEF
TH_XSA_BUF_VECTOR
       458**DCL       458--REDEF
TXT.BOARD
       502**DCL       623<<ASSIGN    627<<ASSIGN    631<<ASSIGN    636<<ASSIGN
TXT.CHIP
       504**DCL       625<<ASSIGN    629<<ASSIGN    633<<ASSIGN
TXT.SLOT
PL6.E3A0      #011=THF$CSHERR File=THF$FORMAT.:E05TSI                            WED 07/30/97 06:19 Page:1248 
       506**DCL       624<<ASSIGN    628<<ASSIGN    632<<ASSIGN    637<<ASSIGN

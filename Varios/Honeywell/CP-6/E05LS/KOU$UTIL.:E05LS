VERSION E05

PL6.E3A0      #001=KOU$BOUND File=KOU$UTIL.:E05TSI                               WED 07/30/97 01:15 Page:1    
        1        1        /*M* KOU$UTIL - Code to perform various utility functions for PIGLET          */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        KOU$BOUND: PROC(DEST,SOURCE,BOUND);
        8        8        /**/
        9        9        /*  KOH$PACK                                                                  */
       10       10        /*   This routine rounds a number up to the next multiple of the bound.       */
       11       11        /**/
       12       12        /*  PARAMETERS  */
       13       13        /**/
       14       14    1   DCL DEST SBIN;
       15       15    1   DCL SOURCE SBIN;
       16       16    1   DCL BOUND SBIN;
       17       17        /**/
       18       18        /*  THE CODE  */
       19       19        /**/
       20       20    1             DEST = ((SOURCE + BOUND -1) / BOUND) * BOUND;
       21       21    1             RETURN;
       22       22        /**/
       23       23    1             END KOU$BOUND;
       24       24        %EOD;

PL6.E3A0      #001=KOU$BOUND File=KOU$UTIL.:E05TSI                               WED 07/30/97 01:15 Page:2    
--  Include file information  --

   G_LCP6_E.:E05TOU  was found in the system file and is never referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   KI_CP6.:E05TOU  was found in the system file and is never referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure KOU$BOUND.

   Procedure KOU$BOUND requires 20 words for executable code.
   Procedure KOU$BOUND requires 10 words of local(AUTO) storage.

PL6.E3A0      #001=KOU$BOUND File=KOU$UTIL.:E05TSI                               WED 07/30/97 01:15 Page:3    

 Object Unit name= KOU$BOUND                                  File name= KOU$UTIL.:E05TOU
 UTS= JUL 30 '97 01:15:36.32 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_LCP6_SYSTEM                               Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size HexSiz  Section name
    0   Proc  even  none    20     14  KOU$BOUND

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect HexLoc Primary Altret sequence   type   Parms  Name
     0      0   yes            yes      Std        3  KOU$BOUND

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
                       nStd      0 X6A_AUTO_3
                       nStd      0 X6A_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    G$ROS$
PL6.E3A0      #001=KOU$BOUND File=KOU$UTIL.:E05TSI                               WED 07/30/97 01:15 Page:4    


        1        1        /*M* KOU$UTIL - Code to perform various utility functions for PIGLET          */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        KOU$BOUND: PROC(DEST,SOURCE,BOUND);

      7   0 000000  D380 0000 0000  xent KOU$BOUND       LNJ,B5   X6A_AUTO_3
          0 000003       000A 0003                       DC       10,3

        8        8        /**/
        9        9        /*  KOH$PACK                                                                  */
       10       10        /*   This routine rounds a number up to the next multiple of the bound.       */
       11       11        /**/
       12       12        /*  PARAMETERS  */
       13       13        /**/
       14       14    1   DCL DEST SBIN;
       15       15    1   DCL SOURCE SBIN;
       16       16    1   DCL BOUND SBIN;
       17       17        /**/
       18       18        /*  THE CODE  */
       19       19        /**/
       20       20    1             DEST = ((SOURCE + BOUND -1) / BOUND) * BOUND;

     20   0 000005  ECC7 0006                            LDB,B6   @SOURCE,AUTO
          0 000007  DCC7 0008                            LDB,B5   @BOUND,AUTO
          0 000009  E806                                 LDR,R6   ,B6
          0 00000A  EA05                                 ADD,R6   ,B5
          0 00000B  6EFF                                 ADV,R6   -1
          0 00000C  E305                                 DIV,R6   ,B5
          0 00000D  EB05                                 MUL,R6   ,B5
          0 00000E  CCC7 0004                            LDB,B4   @DEST,AUTO
          0 000010  EF04                                 STR,R6   ,B4

       21       21    1             RETURN;
PL6.E3A0      #001=KOU$BOUND File=KOU$UTIL.:E05TSI                               WED 07/30/97 01:15 Page:5    

     21   0 000011  C380 0000 0000  xent                 LNJ,B4   X6A_ARET
       22       22        /**/
       23       23    1             END KOU$BOUND;
       24       24        %EOD;

PL6.E3A0      #001=KOU$BOUND File=KOU$UTIL.:E05TSI                               WED 07/30/97 01:15 Page:6    
--  Include file information  --

   G_LCP6_E.:E05TOU  was found in the system file and is never referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   KI_CP6.:E05TOU  was found in the system file and is never referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure KOU$BOUND.
PL6.E3A0      #001=KOU$BOUND File=KOU$UTIL.:E05TSI                               WED 07/30/97 01:15 Page:7    

 **** Variables and constants ****

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     8-0-0/w PTR         r     1 @BOUND                     4-0-0/w PTR         r     1 @DEST
     6-0-0/w PTR         r     1 @SOURCE                   *0-0-0/w SBIN(16)    r     1 BOUND
    *0-0-0/w SBIN(16)    r     1 DEST                      *0-0-0/w SBIN(16)    r     1 SOURCE


   Procedure KOU$BOUND requires 20 words for executable code.
   Procedure KOU$BOUND requires 10 words of local(AUTO) storage.
PL6.E3A0      #001=KOU$BOUND File=KOU$UTIL.:E05TSI                               WED 07/30/97 01:15 Page:8    
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=KOU$BOUND File=KOU$UTIL.:E05TSI                               WED 07/30/97 01:15 Page:9    
          MINI XREF LISTING

BOUND
        16**DCL         7--PROC       20>>ASSIGN     20>>ASSIGN     20>>ASSIGN
DEST
        14**DCL         7--PROC       20<<ASSIGN
SOURCE
        15**DCL         7--PROC       20>>ASSIGN

PL6.E3A0      #002=KOU$PACK File=KOU$UTIL.:E05TSI                                WED 07/30/97 01:15 Page:10   
       25        1        /*T***********************************************************/
       26        2        /*T*                                                         */
       27        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
       28        4        /*T*                                                         */
       29        5        /*T***********************************************************/
       30        6        KOU$PACK: PROC(PWORD,PHOB,PLOB);
       31        7        /**/
       32        8        /*  KOH$PACK                                                                  */
       33        9        /*   This routine packs two bytes into a word.                                */
       34       10        /**/
       35       11        /**/
       36       12        /*  PARAMETERS  */
       37       13        /**/
       38       14    1   DCL PHOB UBIN BYTE CALIGNED;
       39       15    1   DCL PLOB UBIN BYTE CALIGNED;
       40       16    1   DCL PWORD UBIN WORD CALIGNED;
       41       17    1   DCL 1 PWORD_ REDEF PWORD CALIGNED,
       42       18    1         2 HOB UBIN BYTE UNAL,
       43       19    1         2 LOB UBIN BYTE UNAL;
       44       20        /**/
       45       21        /*  THE CODE  */
       46       22        /**/
       47       23    1             PWORD_.HOB = PHOB;
       48       24    1             PWORD_.LOB = PLOB;
       49       25    1             RETURN;
       50       26        /**/
       51       27    1   KOU$UNPACK: ENTRY(PWORD,PHOB,PLOB);
       52       28        /**/
       53       29        /*  KOH$UNPACK                                                                */
       54       30        /*   This routine unpacks a word into two bytes.                              */
       55       31        /**/
       56       32    1             PHOB = PWORD_.HOB;
       57       33    1             PLOB = PWORD_.LOB;
       58       34    1             RETURN;
       59       35        /**/
       60       36    1             END KOU$PACK;
       61       37        %EOD;
PL6.E3A0      #002=KOU$PACK File=KOU$UTIL.:E05TSI                                WED 07/30/97 01:15 Page:11   

PL6.E3A0      #002=KOU$PACK File=KOU$UTIL.:E05TSI                                WED 07/30/97 01:15 Page:12   
--  Include file information  --

   G_LCP6_E.:E05TOU  was found in the system file and is never referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   KI_CP6.:E05TOU  was found in the system file and is never referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure KOU$PACK.

   Procedure KOU$PACK requires 106 words for executable code.
   Procedure KOU$PACK requires 14 words of local(AUTO) storage.

PL6.E3A0      #002=KOU$PACK File=KOU$UTIL.:E05TSI                                WED 07/30/97 01:15 Page:13   

 Object Unit name= KOU$PACK                                   File name= KOU$UTIL.:E05TOU
 UTS= JUL 30 '97 01:15:40.40 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_LCP6_SYSTEM                               Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size HexSiz  Section name
    0   Proc  even  none   106     6A  KOU$PACK

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect HexLoc Primary Altret sequence   type   Parms  Name
     0      0   yes            yes      Std        3  KOU$PACK
     0     35                  yes      Std        3  KOU$UNPACK

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
                       nStd      0 X6A_AUTO_3
                       nStd      0 X6A_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    G$ROS$
PL6.E3A0      #002=KOU$PACK File=KOU$UTIL.:E05TSI                                WED 07/30/97 01:15 Page:14   


       25        1        /*T***********************************************************/
       26        2        /*T*                                                         */
       27        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
       28        4        /*T*                                                         */
       29        5        /*T***********************************************************/
       30        6        KOU$PACK: PROC(PWORD,PHOB,PLOB);

      6   0 000000  D380 0000 0000  xent KOU$PACK        LNJ,B5   X6A_AUTO_3
          0 000003       000E 0003                       DC       14,3

       31        7        /**/
       32        8        /*  KOH$PACK                                                                  */
       33        9        /*   This routine packs two bytes into a word.                                */
       34       10        /**/
       35       11        /**/
       36       12        /*  PARAMETERS  */
       37       13        /**/
       38       14    1   DCL PHOB UBIN BYTE CALIGNED;
       39       15    1   DCL PLOB UBIN BYTE CALIGNED;
       40       16    1   DCL PWORD UBIN WORD CALIGNED;
       41       17    1   DCL 1 PWORD_ REDEF PWORD CALIGNED,
       42       18    1         2 HOB UBIN BYTE UNAL,
       43       19    1         2 LOB UBIN BYTE UNAL;
       44       20        /**/
       45       21        /*  THE CODE  */
       46       22        /**/
       47       23    1             PWORD_.HOB = PHOB;

     23   0 000005  8CC7 0004                            LDI      @PWORD,AUTO
          0 000007  B856                                 LDR,R3   R6
          0 000008  E570 7FFF                            AND,R6   32767,IMO
          0 00000A  8D47 000A                            SDI      @PLOB+2,AUTO
          0 00000C  ECC7 000A                            LDB,B6   @PLOB+2,AUTO
          0 00000E  304F                                 SOR,R3   15
          0 00000F  8CC7 0006                            LDI      @PHOB,AUTO
          0 000011  A856                                 LDR,R2   R6
PL6.E3A0      #002=KOU$PACK File=KOU$UTIL.:E05TSI                                WED 07/30/97 01:15 Page:15   
          0 000012  E570 7FFF                            AND,R6   32767,IMO
          0 000014  8D47 000C                            SDI      @PLOB+4,AUTO
          0 000016  DCC7 000C                            LDB,B5   @PLOB+4,AUTO
          0 000018  204F                                 SOR,R2   15
          0 000019  D2A5                                 LLH,R5   ,B5,R2
          0 00001A  D7B6                                 STH,R5   ,B6,R3

       48       24    1             PWORD_.LOB = PLOB;

     24   0 00001B  8CC7 0004                            LDI      @PWORD,AUTO
          0 00001D  B856                                 LDR,R3   R6
          0 00001E  E570 7FFF                            AND,R6   32767,IMO
          0 000020  8D47 000A                            SDI      @PLOB+2,AUTO
          0 000022  ECC7 000A                            LDB,B6   @PLOB+2,AUTO
          0 000024  304F                                 SOR,R3   15
          0 000025  8CC7 0008                            LDI      @PLOB,AUTO
          0 000027  A856                                 LDR,R2   R6
          0 000028  E570 7FFF                            AND,R6   32767,IMO
          0 00002A  8D47 000C                            SDI      @PLOB+4,AUTO
          0 00002C  DCC7 000C                            LDB,B5   @PLOB+4,AUTO
          0 00002E  204F                                 SOR,R2   15
          0 00002F  D2A5                                 LLH,R5   ,B5,R2
          0 000030  3E01                                 ADV,R3   1
          0 000031  D7B6                                 STH,R5   ,B6,R3

       49       25    1             RETURN;

     25   0 000032  C380 0000 0000  xent                 LNJ,B4   X6A_ARET

       50       26        /**/
       51       27    1   KOU$UNPACK: ENTRY(PWORD,PHOB,PLOB);

     27   0 000035  D380 0000 0000  xent KOU$UNPACK      LNJ,B5   X6A_AUTO_3
          0 000038       000E 0003                       DC       14,3

       52       28        /**/
       53       29        /*  KOH$UNPACK                                                                */
PL6.E3A0      #002=KOU$PACK File=KOU$UTIL.:E05TSI                                WED 07/30/97 01:15 Page:16   
       54       30        /*   This routine unpacks a word into two bytes.                              */
       55       31        /**/
       56       32    1             PHOB = PWORD_.HOB;

     32   0 00003A  8CC7 0006                            LDI      @PHOB,AUTO
          0 00003C  B856                                 LDR,R3   R6
          0 00003D  E570 7FFF                            AND,R6   32767,IMO
          0 00003F  8D47 000A                            SDI      @PLOB+2,AUTO
          0 000041  ECC7 000A                            LDB,B6   @PLOB+2,AUTO
          0 000043  304F                                 SOR,R3   15
          0 000044  8CC7 0004                            LDI      @PWORD,AUTO
          0 000046  A856                                 LDR,R2   R6
          0 000047  E570 7FFF                            AND,R6   32767,IMO
          0 000049  8D47 000C                            SDI      @PLOB+4,AUTO
          0 00004B  DCC7 000C                            LDB,B5   @PLOB+4,AUTO
          0 00004D  204F                                 SOR,R2   15
          0 00004E  D2A5                                 LLH,R5   ,B5,R2
          0 00004F  D7B6                                 STH,R5   ,B6,R3

       57       33    1             PLOB = PWORD_.LOB;

     33   0 000050  8CC7 0008                            LDI      @PLOB,AUTO
          0 000052  B856                                 LDR,R3   R6
          0 000053  E570 7FFF                            AND,R6   32767,IMO
          0 000055  8D47 000A                            SDI      @PLOB+2,AUTO
          0 000057  ECC7 000A                            LDB,B6   @PLOB+2,AUTO
          0 000059  304F                                 SOR,R3   15
          0 00005A  8CC7 0004                            LDI      @PWORD,AUTO
          0 00005C  A856                                 LDR,R2   R6
          0 00005D  E570 7FFF                            AND,R6   32767,IMO
          0 00005F  8D47 000C                            SDI      @PLOB+4,AUTO
          0 000061  DCC7 000C                            LDB,B5   @PLOB+4,AUTO
          0 000063  204F                                 SOR,R2   15
          0 000064  2E01                                 ADV,R2   1
          0 000065  D2A5                                 LLH,R5   ,B5,R2
          0 000066  D7B6                                 STH,R5   ,B6,R3

PL6.E3A0      #002=KOU$PACK File=KOU$UTIL.:E05TSI                                WED 07/30/97 01:15 Page:17   
       58       34    1             RETURN;

     34   0 000067  C380 0000 0000  xent                 LNJ,B4   X6A_ARET
       59       35        /**/
       60       36    1             END KOU$PACK;
       61       37        %EOD;

PL6.E3A0      #002=KOU$PACK File=KOU$UTIL.:E05TSI                                WED 07/30/97 01:15 Page:18   
--  Include file information  --

   G_LCP6_E.:E05TOU  was found in the system file and is never referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   KI_CP6.:E05TOU  was found in the system file and is never referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is never referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure KOU$PACK.
PL6.E3A0      #002=KOU$PACK File=KOU$UTIL.:E05TSI                                WED 07/30/97 01:15 Page:19   

 **** Variables and constants ****

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     6-0-0/w PTR         r     1 @PHOB                      8-0-0/w PTR         r     1 @PLOB
     4-0-0/w PTR         r     1 @PWORD                    *0-0-0/c UBIN(8)     r     1 PHOB
    *0-0-0/c UBIN(8)     r     1 PLOB                      *0-0-0/c UBIN(16)    r     1 PWORD
    *0-0-0/c STRC(16)    r     1 PWORD_


   Procedure KOU$PACK requires 106 words for executable code.
   Procedure KOU$PACK requires 14 words of local(AUTO) storage.
PL6.E3A0      #002=KOU$PACK File=KOU$UTIL.:E05TSI                                WED 07/30/97 01:15 Page:20   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=KOU$PACK File=KOU$UTIL.:E05TSI                                WED 07/30/97 01:15 Page:21   
          MINI XREF LISTING

PHOB
        14**DCL         6--PROC       23>>ASSIGN     27--ENTRY      32<<ASSIGN
PLOB
        15**DCL         6--PROC       24>>ASSIGN     27--ENTRY      33<<ASSIGN
PWORD
        16**DCL         6--PROC       17--REDEF      27--ENTRY
PWORD_.HOB
        18**DCL        23<<ASSIGN     32>>ASSIGN
PWORD_.LOB
        19**DCL        24<<ASSIGN     33>>ASSIGN

PL6.E3A0      #003=KOU$WAITSECS File=KOU$UTIL.:E05TSI                            WED 07/30/97 01:15 Page:22   
       62        1        /*T***********************************************************/
       63        2        /*T*                                                         */
       64        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
       65        4        /*T*                                                         */
       66        5        /*T***********************************************************/
       67        6        KOU$WAITSECS: PROC(TOTAL_SECS_2WAIT) ALTRET;
       68        7        /**/
       69        8        /*  KOH$WAITSECS                                                              */
       70        9        /*   This routine waits a specified number of seconds, despite any            */
       71       10        /*   interrupts and events.                                                   */
       72       11        /*                                                                            */
       73       12        /*   This routine is clean-running and may be re-entered.                     */
       74       13        /*                                                                            */
       75       14        /*   The ALTRET is only taken in the event of an unexpected monitor error.    */
       76       15        /**/
       77       16        /*  PARAMETERS  */
       78       17        /**/
       79       18    1   DCL TOTAL_SECS_2WAIT SBIN ALIGNED;
       80       19        /**/
       81       20        /*  INCLUDES  */
       82       21        /**/
       83       22        %INCLUDE LCP_6;
       84      213        /**/
       85      214        /*  CONSTANTS  */
       86      215        /**/
       87      216        %FPT_WAIT (FPTN = INIT_WAIT,
       88      217                   MODE = SUSP,                 /* Suspend this user                  */
       89      218                   UTYPE = UTS,                 /* WAIT until specified wake-up time  */
       90      219                   STCLASS = CONSTANT);
       91      243        %FPT_TIME (FPTN = INIT_TIME,
       92      244                   SOURCE = CLOCK,              /* Get system time                    */
       93      245                   DEST = UTS,                  /* Make time-stamp                    */
       94      246                   STCLASS = CONSTANT);
       95      270        /**/
       96      271        /*  AUTO  */
       97      272        /**/
       98      273        %FPT_WAIT (FPTN = USE_WAIT,
PL6.E3A0      #003=KOU$WAITSECS File=KOU$UTIL.:E05TSI                            WED 07/30/97 01:15 Page:23   
       99      274                   STCLASS = AUTO);
      100      298        %FPT_TIME (FPTN = USE_TIME,
      101      299                   STCLASS = AUTO);
      102      323    1   DCL WAKEUP_UTS UBIN(32) AUTO;
      103      324    1   DCL INITIAL_UTS UBIN(32) AUTO;
      104      325    1   DCL UNUSED_TICS UBIN(16) AUTO;
      105      326        %EJECT;
PL6.E3A0      #003=KOU$WAITSECS File=KOU$UTIL.:E05TSI                            WED 07/30/97 01:15 Page:24   
      106      327        /**/
      107      328        /*  Initialize AUTO FPTs.  */
      108      329        /**/
      109      330    1             USE_TIME = INIT_TIME;
      110      331    1             USE_TIME.V_ = VECTOR(USE_TIME.V);
      111      332    1             USE_TIME.TSTAMP_ = VECTOR(INITIAL_UTS);
      112      333        /**/
      113      334    1             USE_WAIT = INIT_WAIT;
      114      335    1             USE_WAIT.V_ = VECTOR(USE_WAIT.V);
      115      336    1             USE_WAIT.UETIME = VECTOR(UNUSED_TICS);
      116      337    1             USE_WAIT.UNITS = VECTOR(WAKEUP_UTS);
      117      338        /**/
      118      339        /*  Convert the desired delay into units compatible with the UTS and          */
      119      340        /*  add it to our starting time to find the time when our wait is over.       */
      120      341        /**/
      121      342    1             CALL M$TIME (USE_TIME) ALTRET(MONERR);
      122      343    1             WAKEUP_UTS = INITIAL_UTS + (TOTAL_SECS_2WAIT * 1000/133);
      123      344        /**/
      124      345        /*  Wait until the total delay is over.  */
      125      346        /**/
      126      347    1             UNUSED_TICS = 9999;           /* To prime the pump                  */
      127      348    2             DO WHILE (UNUSED_TICS > 0);
      128      349    2                CALL M$WAIT (USE_WAIT) ALTRET(INTERRUPTED);
      129      350    2                UNUSED_TICS = 0;           /* On normal return                   */
      130      351    2   INTERRUPTED: ;
      131      352    2                END;
      132      353        /**/
      133      354    1             RETURN;
      134      355        /**/
      135      356    1   MONERR:   ;
      136      357    1             ALTRETURN;
      137      358        /**/
      138      359    1             END KOU$WAITSECS;
      139      360        %EOD;

PL6.E3A0      #003=KOU$WAITSECS File=KOU$UTIL.:E05TSI                            WED 07/30/97 01:15 Page:25   
--  Include file information  --

   LCP_6.:E05TOU  cannot be made into a system file and is referenced.
   G_LCP6_E.:E05TOU  was found in the system file and is referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is referenced.
   KI_CP6.:E05TOU  was found in the system file and is referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure KOU$WAITSECS.

   Procedure KOU$WAITSECS requires 132 words for executable code.
   Procedure KOU$WAITSECS requires 41 words of local(AUTO) storage.

PL6.E3A0      #003=KOU$WAITSECS File=KOU$UTIL.:E05TSI                            WED 07/30/97 01:15 Page:26   

 Object Unit name= KOU$WAITSECS                               File name= KOU$UTIL.:E05TOU
 UTS= JUL 30 '97 01:15:45.88 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_LCP6_SYSTEM                               Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size HexSiz  Section name
    0  RoData even  UTS     26     1A  KOU$WAITSECS
    1   Proc  even  none   132     84  KOU$WAITSECS

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect HexLoc Primary Altret sequence   type   Parms  Name
     1      0   yes    yes     yes      Std        1  KOU$WAITSECS

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
                       nStd      0 X6A_AUTO_1
                       nStd      0 X6A_ARET
                       nStd      0 X6A_AALT

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    G$ROS$
PL6.E3A0      #003=KOU$WAITSECS File=KOU$UTIL.:E05TSI                            WED 07/30/97 01:15 Page:27   


       62        1        /*T***********************************************************/
       63        2        /*T*                                                         */
       64        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
       65        4        /*T*                                                         */
       66        5        /*T***********************************************************/
       67        6        KOU$WAITSECS: PROC(TOTAL_SECS_2WAIT) ALTRET;

      6   1 000000  D380 0000 0000  xent KOU$WAITSECS    LNJ,B5   X6A_AUTO_1
          1 000003       0029 0001                       DC       41,1

       68        7        /**/
       69        8        /*  KOH$WAITSECS                                                              */
       70        9        /*   This routine waits a specified number of seconds, despite any            */
       71       10        /*   interrupts and events.                                                   */
       72       11        /*                                                                            */
       73       12        /*   This routine is clean-running and may be re-entered.                     */
       74       13        /*                                                                            */
       75       14        /*   The ALTRET is only taken in the event of an unexpected monitor error.    */
       76       15        /**/
       77       16        /*  PARAMETERS  */
       78       17        /**/
       79       18    1   DCL TOTAL_SECS_2WAIT SBIN ALIGNED;
       80       19        /**/
       81       20        /*  INCLUDES  */
       82       21        /**/
       83       22        %INCLUDE LCP_6;
       84      213        /**/
       85      214        /*  CONSTANTS  */
       86      215        /**/
       87      216        %FPT_WAIT (FPTN = INIT_WAIT,
       88      217                   MODE = SUSP,                 /* Suspend this user                  */
       89      218                   UTYPE = UTS,                 /* WAIT until specified wake-up time  */
       90      219                   STCLASS = CONSTANT);
       91      243        %FPT_TIME (FPTN = INIT_TIME,
       92      244                   SOURCE = CLOCK,              /* Get system time                    */
       93      245                   DEST = UTS,                  /* Make time-stamp                    */
PL6.E3A0      #003=KOU$WAITSECS File=KOU$UTIL.:E05TSI                            WED 07/30/97 01:15 Page:28   
       94      246                   STCLASS = CONSTANT);
       95      270        /**/
       96      271        /*  AUTO  */
       97      272        /**/
       98      273        %FPT_WAIT (FPTN = USE_WAIT,
       99      274                   STCLASS = AUTO);
      100      298        %FPT_TIME (FPTN = USE_TIME,
      101      299                   STCLASS = AUTO);
      102      323    1   DCL WAKEUP_UTS UBIN(32) AUTO;
      103      324    1   DCL INITIAL_UTS UBIN(32) AUTO;
      104      325    1   DCL UNUSED_TICS UBIN(16) AUTO;
      105      326        %EJECT;
PL6.E3A0      #003=KOU$WAITSECS File=KOU$UTIL.:E05TSI                            WED 07/30/97 01:15 Page:29   
      106      327        /**/
      107      328        /*  Initialize AUTO FPTs.  */
      108      329        /**/
      109      330    1             USE_TIME = INIT_TIME;

    330   1 000005  AB80 0000 0000  00                   LAB,B2   INIT_WAIT
          1 000008  2C14                                 LDV,R2   20
          1 000009  6C20                                 LDV,R6   32
          1 00000A  BB87                                 LAB,B3   ,AUTO
          1 00000B  3C20                                 LDV,R3   32
          1 00000C  0008                                 MMM

      110      331    1             USE_TIME.V_ = VECTOR(USE_TIME.V);

    331   1 00000D  EBC7 001F                            LAB,B6   USE_TIME+15,AUTO
          1 00000F  EFC7 0027                            STB,B6   UNUSED_TICS+3,AUTO
          1 000011  6C01                                 LDV,R6   1
          1 000012  EF47 0026                            STR,R6   UNUSED_TICS+2,AUTO
          1 000014  ABC7 0026                            LAB,B2   UNUSED_TICS+2,AUTO
          1 000016  2C00                                 LDV,R2   0
          1 000017  6C06                                 LDV,R6   6
          1 000018  BB87                                 LAB,B3   ,AUTO
          1 000019  3C20                                 LDV,R3   32
          1 00001A  0008                                 MMM

      111      332    1             USE_TIME.TSTAMP_ = VECTOR(INITIAL_UTS);

    332   1 00001B  EBC7 0022                            LAB,B6   INITIAL_UTS,AUTO
          1 00001D  EFC7 0027                            STB,B6   UNUSED_TICS+3,AUTO
          1 00001F  6C03                                 LDV,R6   3
          1 000020  EF47 0026                            STR,R6   UNUSED_TICS+2,AUTO
          1 000022  ABC7 0026                            LAB,B2   UNUSED_TICS+2,AUTO
          1 000024  2C00                                 LDV,R2   0
          1 000025  6C06                                 LDV,R6   6
          1 000026  BB87                                 LAB,B3   ,AUTO
          1 000027  3C38                                 LDV,R3   56
          1 000028  0008                                 MMM
PL6.E3A0      #003=KOU$WAITSECS File=KOU$UTIL.:E05TSI                            WED 07/30/97 01:15 Page:30   

      112      333        /**/
      113      334    1             USE_WAIT = INIT_WAIT;

    334   1 000029  AB80 0000 0000  00                   LAB,B2   INIT_WAIT
          1 00002C  2C00                                 LDV,R2   0
          1 00002D  6C14                                 LDV,R6   20
          1 00002E  BB87                                 LAB,B3   ,AUTO
          1 00002F  3C0C                                 LDV,R3   12
          1 000030  0008                                 MMM

      114      335    1             USE_WAIT.V_ = VECTOR(USE_WAIT.V);

    335   1 000031  EBC7 000F                            LAB,B6   USE_WAIT+9,AUTO
          1 000033  EFC7 0027                            STB,B6   UNUSED_TICS+3,AUTO
          1 000035  6C01                                 LDV,R6   1
          1 000036  EF47 0026                            STR,R6   UNUSED_TICS+2,AUTO
          1 000038  ABC7 0026                            LAB,B2   UNUSED_TICS+2,AUTO
          1 00003A  2C00                                 LDV,R2   0
          1 00003B  6C06                                 LDV,R6   6
          1 00003C  BB87                                 LAB,B3   ,AUTO
          1 00003D  3C0C                                 LDV,R3   12
          1 00003E  0008                                 MMM

      115      336    1             USE_WAIT.UETIME = VECTOR(UNUSED_TICS);

    336   1 00003F  EBC7 0024                            LAB,B6   UNUSED_TICS,AUTO
          1 000041  EFC7 0027                            STB,B6   UNUSED_TICS+3,AUTO
          1 000043  6C01                                 LDV,R6   1
          1 000044  EF47 0026                            STR,R6   UNUSED_TICS+2,AUTO
          1 000046  ABC7 0026                            LAB,B2   UNUSED_TICS+2,AUTO
          1 000048  2C00                                 LDV,R2   0
          1 000049  6C06                                 LDV,R6   6
          1 00004A  BB87                                 LAB,B3   ,AUTO
          1 00004B  3C18                                 LDV,R3   24
          1 00004C  0008                                 MMM

PL6.E3A0      #003=KOU$WAITSECS File=KOU$UTIL.:E05TSI                            WED 07/30/97 01:15 Page:31   
      116      337    1             USE_WAIT.UNITS = VECTOR(WAKEUP_UTS);

    337   1 00004D  EBC7 0020                            LAB,B6   WAKEUP_UTS,AUTO
          1 00004F  EFC7 0027                            STB,B6   UNUSED_TICS+3,AUTO
          1 000051  6C03                                 LDV,R6   3
          1 000052  EF47 0026                            STR,R6   UNUSED_TICS+2,AUTO
          1 000054  ABC7 0026                            LAB,B2   UNUSED_TICS+2,AUTO
          1 000056  2C00                                 LDV,R2   0
          1 000057  6C06                                 LDV,R6   6
          1 000058  BB87                                 LAB,B3   ,AUTO
          1 000059  3C12                                 LDV,R3   18
          1 00005A  0008                                 MMM

      117      338        /**/
      118      339        /*  Convert the desired delay into units compatible with the UTS and          */
      119      340        /*  add it to our starting time to find the time when our wait is over.       */
      120      341        /**/
      121      342    1             CALL M$TIME (USE_TIME) ALTRET(MONERR);

    342   1 00005B  BBC7 0010                            LAB,B3   USE_TIME,AUTO
          1 00005D  B870 14D4                            LDR,R3   5332,IMO
          1 00005F  0001                                 MCL
          1 000060       0021                            DC       s:349,PREL

      122      343    1             WAKEUP_UTS = INITIAL_UTS + (TOTAL_SECS_2WAIT * 1000/133);

    343   1 000061  ECC7 0004                            LDB,B6   @TOTAL_SECS_2WAIT,AUTO
          1 000063  E806                                 LDR,R6   ,B6
          1 000064  EB70 03E8                            MUL,R6   1000,IMO
          1 000066  E370 0085                            DIV,R6   133,IMO
          1 000068  70F0                                 DAR,R7   16
          1 000069  8447 0022                            AID      INITIAL_UTS,AUTO
          1 00006B  8D47 0020                            SDI      WAKEUP_UTS,AUTO

      123      344        /**/
      124      345        /*  Wait until the total delay is over.  */
      125      346        /**/
PL6.E3A0      #003=KOU$WAITSECS File=KOU$UTIL.:E05TSI                            WED 07/30/97 01:15 Page:32   
      126      347    1             UNUSED_TICS = 9999;           /* To prime the pump                  */

    347   1 00006D  D870 270F                            LDR,R5   9999,IMO
          1 00006F  DF47 0024                            STR,R5   UNUSED_TICS,AUTO

      127      348    2             DO WHILE (UNUSED_TICS > 0);

    348   1 000071  5901 000C                            BEZ,R5   s:354,PREL

      128      349    2                CALL M$WAIT (USE_WAIT) ALTRET(INTERRUPTED);

    349   1 000073  BBC7 0006                            LAB,B3   USE_WAIT,AUTO
          1 000075  B870 0CC5                            LDR,R3   3269,IMO
          1 000077  0001                                 MCL
          1 000078       0003                            DC       s:350,PREL

      129      350    2                UNUSED_TICS = 0;           /* On normal return                   */

    350   1 000079  8747 0024                            CL       UNUSED_TICS,AUTO

    350   1                              INTERRUPTED     null
      130      351    2   INTERRUPTED: ;
      131      352    2                END;

    352   1 00007B  E847 0024            INTERRUPTED     LDR,R6   UNUSED_TICS,AUTO
          1 00007D  69F6                                 BNEZ,R6  s:349,SPREL

      132      353        /**/
      133      354    1             RETURN;

    354   1 00007E  C380 0000 0000  xent                 LNJ,B4   X6A_ARET

    349   1                              MONERR          null
      134      355        /**/
      135      356    1   MONERR:   ;
      136      357    1             ALTRETURN;

PL6.E3A0      #003=KOU$WAITSECS File=KOU$UTIL.:E05TSI                            WED 07/30/97 01:15 Page:33   
    357   1 000081  C380 0000 0000  xent MONERR          LNJ,B4   X6A_AALT
      137      358        /**/
      138      359    1             END KOU$WAITSECS;
      139      360        %EOD;

PL6.E3A0      #003=KOU$WAITSECS File=KOU$UTIL.:E05TSI                            WED 07/30/97 01:15 Page:34   
--  Include file information  --

   LCP_6.:E05TOU  cannot be made into a system file and is referenced.
   G_LCP6_E.:E05TOU  was found in the system file and is referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is referenced.
   KI_CP6.:E05TOU  was found in the system file and is referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure KOU$WAITSECS.
PL6.E3A0      #003=KOU$WAITSECS File=KOU$UTIL.:E05TSI                            WED 07/30/97 01:15 Page:35   

 **** Variables and constants ****

  ****  Section 000 RoData KOU$WAITSECS

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     A-0-0/w STRC(256)   r     1 INIT_TIME                  0-0-0/w STRC(160)   r     1 INIT_WAIT

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     4-0-0/w PTR         r     1 @TOTAL_SECS_2WAIT         22-0-0/w UBIN(32)    r     1 INITIAL_UTS
    *0-0-0/w SBIN(16)    r     1 TOTAL_SECS_2WAIT          24-0-0/w UBIN(16)    r     1 UNUSED_TICS
    10-0-0/w STRC(256)   r     1 USE_TIME                   6-0-0/w STRC(160)   r     1 USE_WAIT
    20-0-0/w UBIN(32)    r     1 WAKEUP_UTS


   Procedure KOU$WAITSECS requires 132 words for executable code.
   Procedure KOU$WAITSECS requires 41 words of local(AUTO) storage.
PL6.E3A0      #003=KOU$WAITSECS File=KOU$UTIL.:E05TSI                            WED 07/30/97 01:15 Page:36   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #003=KOU$WAITSECS File=KOU$UTIL.:E05TSI                            WED 07/30/97 01:15 Page:37   
          MINI XREF LISTING

INITIAL_UTS
       324**DCL       332--ASSIGN    343>>ASSIGN
INIT_TIME
       259**DCL       330>>ASSIGN
INIT_TIME.V
       263**DCL       262--DCLINIT
INIT_WAIT
       232**DCL       334>>ASSIGN
INIT_WAIT.V
       236**DCL       235--DCLINIT
INTERRUPTED
       350**LABEL     349--CALLALT
M$TIME
       184**DCL-ENT   342--CALL
M$WAIT
       178**DCL-ENT   349--CALL
MONERR
       349**LABEL     342--CALLALT
TOTAL_SECS_2WAIT
        18**DCL         6--PROC      343>>ASSIGN
UNUSED_TICS
       325**DCL       336--ASSIGN    347<<ASSIGN    348>>DOWHILE   350<<ASSIGN
USE_TIME
       312**DCL       330<<ASSIGN    342<>CALL
USE_TIME.TSTAMP_
       316**DCL       332<<ASSIGN
USE_TIME.V
       316**DCL       331--ASSIGN
USE_TIME.V_
       315**DCL       331<<ASSIGN
USE_WAIT
       287**DCL       334<<ASSIGN    349<>CALL
PL6.E3A0      #003=KOU$WAITSECS File=KOU$UTIL.:E05TSI                            WED 07/30/97 01:15 Page:38   
USE_WAIT.UETIME
       290**DCL       336<<ASSIGN
USE_WAIT.UNITS
       290**DCL       337<<ASSIGN
USE_WAIT.V
       291**DCL       335--ASSIGN
USE_WAIT.V_
       290**DCL       335<<ASSIGN
WAKEUP_UTS
       323**DCL       337--ASSIGN    343<<ASSIGN

PL6.E3A0      #004=KOU$DO_INHIBIT File=KOU$UTIL.:E05TSI                          WED 07/30/97 01:15 Page:39   
      140        1        /*T***********************************************************/
      141        2        /*T*                                                         */
      142        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      143        4        /*T*                                                         */
      144        5        /*T***********************************************************/
      145        6        KOU$DO_INHIBIT: PROC;
      146        7        /**/
      147        8        /*  KOU$DO_INHIBIT                                                            */
      148        9        /*   This routine implements the DO-INHIBIT function, lacking in L6 PL-6.     */
      149       10        /**/
      150       11        /**/
      151       12        /*  INCLUDE FILES  */
      152       13        /**/
      153       14        %INCLUDE KO_DATA_R;
      154     3761        %INCLUDE GH_HARDWARE_M;                 /* Physical I/O macros                */
      155     3859        /**/
      156     3860        /*  AUTO DATA  */
      157     3861        /**/
      158     3862        %GH_LEV (FPTN = FPT_LEV,STCLASS = AUTO);
      159     3884        /**/
      160     3885        /*  CONSTANTS  */
      161     3886        /**/
      162     3887        %GH_LEV (FPTN = IFPT_LEV_INHIBIT,
      163     3888                 TYPE = INHIBIT,
      164     3889                 STCLASS = CONSTANT);
      165     3911        %GH_LEV (FPTN = IFPT_LEV_RESTORE,
      166     3912                 TYPE = SUSPEND,
      167     3913                 STCLASS = CONSTANT);
      168     3935        /**/
      169     3936        /*  ENTRY DCLS  */
      170     3937        /**/
      171     3938        %KO_ENTRIES (OMIT=KOU$DO_INHIBIT);
      172     3994        %EJECT;
PL6.E3A0      #004=KOU$DO_INHIBIT File=KOU$UTIL.:E05TSI                          WED 07/30/97 01:15 Page:40   
      173     3995    1             FPT_LEV = IFPT_LEV_INHIBIT;
      174     3996    1             FPT_LEV.LEVEL = KO_INHIBIT_LEVEL;
      175     3997    1             RETURN;
      176     3998    1   KOU$END_INHIBIT: ENTRY;
      177     3999        /**/
      178     4000        /*  KOU$END_INHIBIT                                                            */
      179     4001        /*   This routine implements the END-DO-INHIBIT function, lacking in L6 PL-6. */
      180     4002        /**/
      181     4003    1             FPT_LEV = IFPT_LEV_RESTORE;
      182     4004    1             RETURN;
      183     4005        /**/
      184     4006    1             END KOU$DO_INHIBIT;

PL6.E3A0      #004=KOU$DO_INHIBIT File=KOU$UTIL.:E05TSI                          WED 07/30/97 01:15 Page:41   
--  Include file information  --

   GH_HARDWARE_M.:E05TOU  is referenced.
   B_ERRORS_C.:E05TOU  is referenced.
   G_ROS_M.:E05TOU  is referenced.
   KL_CONTROL_C.:E05TOU  is referenced.
   KH_MACRO_C.:E05TOU  is referenced.
   KH_CHN.:E05TOU  is referenced.
   KP_MSG.:E05TOU  is referenced.
   KP_SUBS.:E05TOU  is referenced.
   KO_SUBS.:E05TOU  is referenced.
   KO_MACRO_C.:E05TOU  is referenced.
   LCP_6.:E05TOU  cannot be made into a system file and is referenced.
   KO_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   G_LCP6_E.:E05TOU  was found in the system file and is referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is referenced.
   KI_CP6.:E05TOU  was found in the system file and is referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure KOU$DO_INHIBIT.

   Procedure KOU$DO_INHIBIT requires 32 words for executable code.
   Procedure KOU$DO_INHIBIT requires 6 words of local(AUTO) storage.

    No errors detected in file KOU$UTIL.:E05TSI    .

PL6.E3A0      #004=KOU$DO_INHIBIT File=KOU$UTIL.:E05TSI                          WED 07/30/97 01:15 Page:42   

 Object Unit name= KOU$DO_INHIBIT                             File name= KOU$UTIL.:E05TOU
 UTS= JUL 30 '97 01:15:55.60 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_LCP6_SYSTEM                               Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size HexSiz  Section name
    0   DCB   even  none     0      0  M$HOST
    1  RoData even  UTS      2      2  KOU$DO_INHIBIT
    2   Proc  even  none    32     20  KOU$DO_INHIBIT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect HexLoc Primary Altret sequence   type   Parms  Name
     2      0   yes            yes      Std        0  KOU$DO_INHIBIT
     2     13                  yes      Std        0  KOU$END_INHIBIT

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
                       nStd      0 X6A_AUTO_0
                       nStd      0 X6A_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     KO_INHIBIT_LEVEL                      KH_CHNHI                              KH_CHNLOW
     HOST_BUF$                             M$HOST                           r    G$ROS$
PL6.E3A0      #004=KOU$DO_INHIBIT File=KOU$UTIL.:E05TSI                          WED 07/30/97 01:15 Page:43   


      140        1        /*T***********************************************************/
      141        2        /*T*                                                         */
      142        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      143        4        /*T*                                                         */
      144        5        /*T***********************************************************/
      145        6        KOU$DO_INHIBIT: PROC;

      6   2 000000  D380 0000 0000  xent KOU$DO_INHIBIT  LNJ,B5   X6A_AUTO_0
          2 000003       0006 0000                       DC       6,0

      146        7        /**/
      147        8        /*  KOU$DO_INHIBIT                                                            */
      148        9        /*   This routine implements the DO-INHIBIT function, lacking in L6 PL-6.     */
      149       10        /**/
      150       11        /**/
      151       12        /*  INCLUDE FILES  */
      152       13        /**/
      153       14        %INCLUDE KO_DATA_R;
      154     3761        %INCLUDE GH_HARDWARE_M;                 /* Physical I/O macros                */
      155     3859        /**/
      156     3860        /*  AUTO DATA  */
      157     3861        /**/
      158     3862        %GH_LEV (FPTN = FPT_LEV,STCLASS = AUTO);
      159     3884        /**/
      160     3885        /*  CONSTANTS  */
      161     3886        /**/
      162     3887        %GH_LEV (FPTN = IFPT_LEV_INHIBIT,
      163     3888                 TYPE = INHIBIT,
      164     3889                 STCLASS = CONSTANT);
      165     3911        %GH_LEV (FPTN = IFPT_LEV_RESTORE,
      166     3912                 TYPE = SUSPEND,
      167     3913                 STCLASS = CONSTANT);
      168     3935        /**/
      169     3936        /*  ENTRY DCLS  */
      170     3937        /**/
      171     3938        %KO_ENTRIES (OMIT=KOU$DO_INHIBIT);
PL6.E3A0      #004=KOU$DO_INHIBIT File=KOU$UTIL.:E05TSI                          WED 07/30/97 01:15 Page:44   
      172     3994        %EJECT;
PL6.E3A0      #004=KOU$DO_INHIBIT File=KOU$UTIL.:E05TSI                          WED 07/30/97 01:15 Page:45   
      173     3995    1             FPT_LEV = IFPT_LEV_INHIBIT;

   3995   2 000005  E800 0000 0000  01                   LDR,R6   IFPT_LEV_INHIBIT
          2 000008  EF47 0004                            STR,R6   FPT_LEV,AUTO

      174     3996    1             FPT_LEV.LEVEL = KO_INHIBIT_LEVEL;

   3996   2 00000A  D800 0000 0000  xsym                 LDR,R5   KO_INHIBIT_LEVEL
          2 00000D  DAC7 0004                            SRM,R5,'003F'X    FPT_LEV,AUTO
          2 00000F       003F

      175     3997    1             RETURN;

   3997   2 000010  C380 0000 0000  xent                 LNJ,B4   X6A_ARET

      176     3998    1   KOU$END_INHIBIT: ENTRY;

   3998   2 000013  D380 0000 0000  xent KOU$END_INHIBIT LNJ,B5   X6A_AUTO_0
          2 000016       0006 0000                       DC       6,0

      177     3999        /**/
      178     4000        /*  KOU$END_INHIBIT                                                            */
      179     4001        /*   This routine implements the END-DO-INHIBIT function, lacking in L6 PL-6. */
      180     4002        /**/
      181     4003    1             FPT_LEV = IFPT_LEV_RESTORE;

   4003   2 000018  E800 0000 0001  01                   LDR,R6   IFPT_LEV_RESTORE
          2 00001B  EF47 0004                            STR,R6   FPT_LEV,AUTO

      182     4004    1             RETURN;

   4004   2 00001D  C380 0000 0000  xent                 LNJ,B4   X6A_ARET
      183     4005        /**/
      184     4006    1             END KOU$DO_INHIBIT;

PL6.E3A0      #004=KOU$DO_INHIBIT File=KOU$UTIL.:E05TSI                          WED 07/30/97 01:15 Page:46   
--  Include file information  --

   GH_HARDWARE_M.:E05TOU  is referenced.
   B_ERRORS_C.:E05TOU  is referenced.
   G_ROS_M.:E05TOU  is referenced.
   KL_CONTROL_C.:E05TOU  is referenced.
   KH_MACRO_C.:E05TOU  is referenced.
   KH_CHN.:E05TOU  is referenced.
   KP_MSG.:E05TOU  is referenced.
   KP_SUBS.:E05TOU  is referenced.
   KO_SUBS.:E05TOU  is referenced.
   KO_MACRO_C.:E05TOU  is referenced.
   LCP_6.:E05TOU  cannot be made into a system file and is referenced.
   KO_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   G_LCP6_E.:E05TOU  was found in the system file and is referenced.
   GT_LCP6_M.:E05TOU  was found in the system file and is referenced.
   KI_CP6.:E05TOU  was found in the system file and is referenced.
   GF_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GM_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GU_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GJ_LCP6_M.:E05TOU  was found in the system file and is referenced.
   GH_LCP6_M.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure KOU$DO_INHIBIT.
PL6.E3A0      #004=KOU$DO_INHIBIT File=KOU$UTIL.:E05TSI                          WED 07/30/97 01:15 Page:47   

 **** Variables and constants ****

  ****  Section 001 RoData KOU$DO_INHIBIT

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(16)    r     1 IFPT_LEV_INHIBIT           1-0-0/w STRC(16)    r     1 IFPT_LEV_RESTORE

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     4-0-0/w STRC(16)    r     1 FPT_LEV

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
HexLoc.c.b A Datatyp(siz) R M Lvl/name                 HexLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 HOST_BUF$                  0-0-0/w SBIN(16)    r     1 KO_INHIBIT_LEVEL


   Procedure KOU$DO_INHIBIT requires 32 words for executable code.
   Procedure KOU$DO_INHIBIT requires 6 words of local(AUTO) storage.

    No errors detected in file KOU$UTIL.:E05TSI    .
PL6.E3A0      #004=KOU$DO_INHIBIT File=KOU$UTIL.:E05TSI                          WED 07/30/97 01:15 Page:48   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #004=KOU$DO_INHIBIT File=KOU$UTIL.:E05TSI                          WED 07/30/97 01:15 Page:49   
          MINI XREF LISTING

FPT_LEV
      3881**DCL      3995<<ASSIGN   4003<<ASSIGN
FPT_LEV.LEVEL
      3881**DCL      3996<<ASSIGN
HOST_BUF$
      3387**DCL      3587--IMP-PTR
IFPT_LEV_INHIBIT
      3908**DCL      3995>>ASSIGN
IFPT_LEV_RESTORE
      3932**DCL      4003>>ASSIGN
KH_CHNHI
      3170**DCL      3171--REDEF
KH_CHNLOW
      3171**DCL      3172--REDEF
KO_INHIBIT_LEVEL
      3154**DCL      3996>>ASSIGN
KP_MSG.TDATA
      3613**DCL      3614--REDEF    3615--REDEF    3620--REDEF    3634--REDEF    3639--REDEF    3643--REDEF
      3649--REDEF    3652--REDEF
PIGLET_SEGMENT.BASE
      3507**DCL      3507--REDEF

VERSION E05

PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:1    
        1        1        /*M* DDA$TRACE TRACE DO ROUTINE */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* DMR,PLM=5,IND=5,CSU=3,EXM=0,ECU=3,MOC,DCI=5,CRT=5 */
        8        8        /*D* NAME:  DDA$TRACE
        9        9             DESCRIPTION:  DDA$TRACE IS CALLED WHEN A TRACE {TYPE}
       10       10                    COMMAND IS ISSUED (DIRECTLY OR AS AN
       11       11                    ATTACHMENT.  TYPE = CALLS(X) OR TRANSFER OR OFF.
       12       12                    */
       13       13        DDA$TRACE: PROC;
       14       14    1   DCL NODE SBIN;                          /* Must be SBIN */
       15       15    1   DCL NODE$ PTR;
       16       16    1   DCL EDEF$ PTR;
       17       17    1   DCL EDEF_END$ PTR;
       18       18    1   DCL DNAME$ PTR;
       19       19        %INCLUDE DD$BASED;
       20     1322        %DU$TREE (NAME="DU$TREE(0:0)");
       21     1328        %DU$NODE (NAME="DU$NODE(0:0)");
       22     1338        %INCLUDE XUH_MACRO_C;
       23     1422        %INCLUDE DD_SD_M;
       24     2758        %S_D;
       25     4076        %TR$CMD (STCLASS=BASED);
       26     4092        %INCLUDE DD_SUBS_C;
       27     4363        %INCLUDE DD_PSUBS_C;
       28     4838        %INCLUDE DD_ERR_C;
       29     5235    1   DCL DDT$TRACEOFF ENTRY;
       30     5236    1   DCL DDT$XTAGS ENTRY(4);
       31     5237    1   DCL DDE$ERROR ENTRY;
       32     5238    1        IF S_D.EDEF$ = ADDR(NIL)
       33     5239    2        THEN DO;
       34     5240    2             S_D.ERROR = E@NODEFS_NOTRACE; /* E@NODEFS_NOTRACE */
       35     5241    2             CALL DDE$ERROR;
       36     5242    2             RETURN;
       37     5243    2           END;
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:2    
       38     5244    1        IF S_D.DO$->TR$CMD.TYPE = C@INSTRUCTIONS OR S_D.DO$->TR$CMD.TYPE =
              5244                 C@SUBSTATEMENTS
       39     5245    2        THEN DO;
       40     5246    2             S_D.ERROR = E@NOTYET;         /* E@NOTYET */
       41     5247    2             CALL DDE$ERROR;
       42     5248    2             RETURN;
       43     5249    2           END;
       44     5250    1        IF S_D.DO$->TR$CMD.TYPE = C_TO     /* Check if the command is TRACE OFF*/
       45     5251    2        THEN DO;
       46     5252    2             IF S_D.ONCALLS = 0 THEN CALL DDT$TRACEOFF;
       47     5253                                 /* If oncalls ~= 0 then we are tracing for ONCALLS,
       48     5254                                    in which case hands off. */
       49     5255    2             RETURN;
       50     5256    2           END;
       51     5257    1        IF S_D.ONCALLS ~= 0
       52     5258    2        THEN DO;
       53     5259    2             S_D.ERROR = E@CANT_TR_ONCALLS; /* E@CANT_TR_ONCALLS */
       54     5260    2             CALL DDE$ERROR;
       55     5261    2             RETURN;
       56     5262    2           END;
       57     5263    1        IF S_D.DO$->TR$CMD.TYPE = C_TON    /*C_TON*/
       58     5264    2        THEN DO;
       59     5265    2             IF S_D.TR$INFO.SET = '0'B
       60     5266    3             THEN DO;
       61     5267    3                  S_D.ERROR = E@NO_TRACE_INFO; /* E@NO_TRACE_INFO */
       62     5268    3                  CALL DDE$ERROR;
       63     5269    3                  RETURN;
       64     5270    3                END;
       65     5271    2             ELSE IF S_D.TR$INFO.TYPE = C_TC /* C_TC */
       66     5272    2                  THEN CALL TCON;
       67     5273    2                  ELSE IF S_D.TR$INFO.TYPE = C_TT /*C_TT*/
       68     5274    2                       THEN S_D.T$T.ACTIVE = '1'B;
       69     5275    2             S_D.TR$INFO.SILENT = S_D.DO$->TR$CMD.SILENT;
       70     5276    2             RETURN;                       /* OUR WORK HERE IS DONE TONTO */
       71     5277    2           END;                            /* IF TRACE ON */
       72     5278    1        CALL DDT$TRACEOFF;                 /* REMOVE WHATS OUT THERE NOW */
       73     5279                       /* Now update the trace type in the trace information table.   */
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:3    
       74     5280    1        S_D.TR$INFO.SET = '1'B;
       75     5281    1        S_D.TR$INFO.TYPE = S_D.DO$->TR$CMD.TYPE;
       76     5282    1        S_D.TR$INFO.X = S_D.DO$->TR$CMD.XTERNAL;
       77     5283    1        S_D.TR$INFO.P = S_D.DO$->TR$CMD.PREFIX;
       78     5284    1        S_D.TR$INFO.SILENT = S_D.DO$->TR$CMD.SILENT;
       79     5285                                      /* Move prefix name if trace calls is prefixed  */
       80     5286    1        IF S_D.TR$INFO.P = '1'B
       81     5287    2        THEN DO;
       82     5288    2             S_D.TR$INFO.PSIZ = S_D.DO$->TR$CMD.PSIZ;
       83     5289    2             S_D.TR$INFO.PTXT = S_D.DO$->TR$CMD.PTXT;
       84     5290    2           END;
       85     5291    1        IF S_D.TR$INFO.TYPE = C_TC         /*C_TC*/
       86     5292    1        THEN CALL TCON;
       87     5293    1        ELSE S_D.T$T.ACTIVE = '1'B;
       88     5294                                                /**/
       89     5295    1        RETURN;
       90     5296                                                /**/
       91     5297        %EJECT;
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:4    
       92     5298                                                /**/
       93     5299    1   DDA$TRACEON: ENTRY;
       94     5300                                                /**/
       95     5301    1        IF NOT S_D.TR$INFO.SET
       96     5302    1        THEN RETURN;
       97     5303    1        IF S_D.TR$INFO.TYPE = C_TC         /* C_TC */
       98     5304    1        THEN CALL TCON;
       99     5305    1        ELSE IF S_D.TR$INFO.TYPE = C_TT    /* C_TT */
      100     5306    1             THEN S_D.T$T.ACTIVE = '1'B;
      101     5307                                                /**/
      102     5308    1        RETURN;
      103     5309                                                /**/
      104     5310        %EJECT;
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:5    
      105     5311                                                /**/
      106     5312    1   TCON: PROC;
      107     5313                                                /**/
      108     5314    2        S_D.TR$INFO.ACTIVE = '1'B;
      109     5315    2        IF S_D.OVERLAID
      110     5316    3        THEN DO;
      111     5317    3             NODE = S_D.MTREE$ -> DU$TREE.NEXT#( S_D.NODE#M1 + 1 );
      112     5318    4             DO WHILE ( NODE >= 0 );
      113     5319    4                  NODE$ = PINCRW( S_D.NODESEG$, SIZEW( DU$NODE ) * NODE );
      114     5320    4                  EDEF$ = NODE$ -> DU$NODE.EDEF$( 0 );
      115     5321    4                  EDEF_END$ = NODE$ -> DU$NODE.EDEF_END$( 0 );
      116     5322    4                  DNAME$ = NODE$ -> DU$NODE.DNAME$( 0 );
      117     5323    4                  CALL DDT$XTAGS( @PLANT_TAGS, EDEF$, EDEF_END$, DNAME$ );
      118     5324    4                  NODE = S_D.MTREE$ -> DU$TREE.NEXT#( NODE );
      119     5325    4                END;
      120     5326    3           END;
      121     5327    2        ELSE CALL DDT$XTAGS( @PLANT_TAGS, S_D.EDEF$, S_D.EDEF_END$, S_D.DNAME$ );
      122     5328                                                /**/
      123     5329    2        RETURN;
      124     5330                                                /**/
      125     5331    2   END TCON;
      126     5332                                                /**/
      127     5333    1   END DDA$TRACE;

PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:6    
--  Include file information  --

   DD_ERR_C.:E05TOU  is referenced.
   DD_PSUBS_C.:E05TOU  is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   DD$BASED.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DDA$TRACE.

   Procedure DDA$TRACE requires 184 words for executable code.
   Procedure DDA$TRACE requires 14 words of local(AUTO) storage.

    No errors detected in file DDA$TRACE.:E05TSI    .

PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:7    

 Object Unit name= DDA$TRACE                                  File name= DDA$TRACE.:E05TOU
 UTS= JUL 29 '97 13:39:14.56 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Proc  even  none   184    270  DDA$TRACE
    1  RoData even  none     4      4  DDA$TRACE

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     0      0   yes            yes      Std        0  DDA$TRACE
     0    153                  yes      Std        0  DDA$TRACEON

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       0 DDE$ERROR
         yes           Std       0 DDT$TRACEOFF
         yes           Std       4 DDT$XTAGS
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    S_D$                                  B_VECTNIL
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:8    

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:9    


        1        1        /*M* DDA$TRACE TRACE DO ROUTINE */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* DMR,PLM=5,IND=5,CSU=3,EXM=0,ECU=3,MOC,DCI=5,CRT=5 */
        8        8        /*D* NAME:  DDA$TRACE
        9        9             DESCRIPTION:  DDA$TRACE IS CALLED WHEN A TRACE {TYPE}
       10       10                    COMMAND IS ISSUED (DIRECTLY OR AS AN
       11       11                    ATTACHMENT.  TYPE = CALLS(X) OR TRANSFER OR OFF.
       12       12                    */
       13       13        DDA$TRACE: PROC;

     13  0 000000   000000 700200 xent  DDA$TRACE    TSX0  ! X66_AUTO_0
         0 000001   000016 000000                    ZERO    14,0

       14       14    1   DCL NODE SBIN;                          /* Must be SBIN */
       15       15    1   DCL NODE$ PTR;
       16       16    1   DCL EDEF$ PTR;
       17       17    1   DCL EDEF_END$ PTR;
       18       18    1   DCL DNAME$ PTR;
       19       19        %INCLUDE DD$BASED;
       20     1322        %DU$TREE (NAME="DU$TREE(0:0)");
       21     1328        %DU$NODE (NAME="DU$NODE(0:0)");
       22     1338        %INCLUDE XUH_MACRO_C;
       23     1422        %INCLUDE DD_SD_M;
       24     2758        %S_D;
       25     4076        %TR$CMD (STCLASS=BASED);
       26     4092        %INCLUDE DD_SUBS_C;
       27     4363        %INCLUDE DD_PSUBS_C;
       28     4838        %INCLUDE DD_ERR_C;
       29     5235    1   DCL DDT$TRACEOFF ENTRY;
       30     5236    1   DCL DDT$XTAGS ENTRY(4);
       31     5237    1   DCL DDE$ERROR ENTRY;
       32     5238    1        IF S_D.EDEF$ = ADDR(NIL)
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:10   

   5238  0 000002   000000 470400 xsym               LDP0    S_D$
         0 000003   001042 236100                    LDQ     546,,PR0
         0 000004   000001 116000 xsym               CMPQ    B_VECTNIL+1
         0 000005   000014 601000 0                  TNZ     s:5244

       33     5239    2        THEN DO;

       34     5240    2             S_D.ERROR = E@NODEFS_NOTRACE; /* E@NODEFS_NOTRACE */

   5240  0 000006   000354 235007                    LDA     236,DL
         0 000007   000013 755100                    STA     11,,PR0

       35     5241    2             CALL DDE$ERROR;

   5241  0 000010   000002 631400 xsym               EPPR1   B_VECTNIL+2
         0 000011   000000 701000 xent               TSX1    DDE$ERROR
         0 000012   000000 011000                    NOP     0

       36     5242    2             RETURN;

   5242  0 000013   000000 702200 xent               TSX2  ! X66_ARET

       37     5243    2           END;
       38     5244    1        IF S_D.DO$->TR$CMD.TYPE = C@INSTRUCTIONS OR S_D.DO$->TR$CMD.TYPE =
              5244                 C@SUBSTATEMENTS

   5244  0 000014   000031 471500                    LDP1    25,,PR0
         0 000015   100001 236100                    LDQ     1,,PR1
         0 000016   000000 376000 1                  ANQ     0
         0 000017   000001 116000 1                  CMPQ    1
         0 000020   000023 600000 0                  TZE     s:5246
         0 000021   000002 116000 1                  CMPQ    2
         0 000022   000031 601000 0                  TNZ     s:5250

       39     5245    2        THEN DO;

PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:11   
       40     5246    2             S_D.ERROR = E@NOTYET;         /* E@NOTYET */

   5246  0 000023   000042 235007                    LDA     34,DL
         0 000024   000013 755100                    STA     11,,PR0

       41     5247    2             CALL DDE$ERROR;

   5247  0 000025   000002 631400 xsym               EPPR1   B_VECTNIL+2
         0 000026   000000 701000 xent               TSX1    DDE$ERROR
         0 000027   000000 011000                    NOP     0

       42     5248    2             RETURN;

   5248  0 000030   000000 702200 xent               TSX2  ! X66_ARET

       43     5249    2           END;
       44     5250    1        IF S_D.DO$->TR$CMD.TYPE = C_TO     /* Check if the command is TRACE OFF*/

   5250  0 000031   060000 116007                    CMPQ    24576,DL
         0 000032   000041 601000 0                  TNZ     s:5257

       45     5251    2        THEN DO;

       46     5252    2             IF S_D.ONCALLS = 0 THEN CALL DDT$TRACEOFF;

   5252  0 000033   004745 235100                    LDA     2533,,PR0
         0 000034   000040 601000 0                  TNZ     s:5255

   5252  0 000035   000002 631400 xsym               EPPR1   B_VECTNIL+2
         0 000036   000000 701000 xent               TSX1    DDT$TRACEOFF
         0 000037   000000 011000                    NOP     0

       47     5253                                 /* If oncalls ~= 0 then we are tracing for ONCALLS,
       48     5254                                    in which case hands off. */
       49     5255    2             RETURN;

   5255  0 000040   000000 702200 xent               TSX2  ! X66_ARET
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:12   

       50     5256    2           END;
       51     5257    1        IF S_D.ONCALLS ~= 0

   5257  0 000041   004745 235100                    LDA     2533,,PR0
         0 000042   000051 600000 0                  TZE     s:5263

       52     5258    2        THEN DO;

       53     5259    2             S_D.ERROR = E@CANT_TR_ONCALLS; /* E@CANT_TR_ONCALLS */

   5259  0 000043   000342 235007                    LDA     226,DL
         0 000044   000013 755100                    STA     11,,PR0

       54     5260    2             CALL DDE$ERROR;

   5260  0 000045   000002 631400 xsym               EPPR1   B_VECTNIL+2
         0 000046   000000 701000 xent               TSX1    DDE$ERROR
         0 000047   000000 011000                    NOP     0

       55     5261    2             RETURN;

   5261  0 000050   000000 702200 xent               TSX2  ! X66_ARET

       56     5262    2           END;
       57     5263    1        IF S_D.DO$->TR$CMD.TYPE = C_TON    /*C_TON*/

   5263  0 000051   061000 116007                    CMPQ    25088,DL
         0 000052   000104 601000 0                  TNZ     s:5278

       58     5264    2        THEN DO;

       59     5265    2             IF S_D.TR$INFO.SET = '0'B

   5265  0 000053   004627 234100                    SZN     2455,,PR0
         0 000054   000063 604000 0                  TMI     s:5271

PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:13   
       60     5266    3             THEN DO;

       61     5267    3                  S_D.ERROR = E@NO_TRACE_INFO; /* E@NO_TRACE_INFO */

   5267  0 000055   000160 235007                    LDA     112,DL
         0 000056   000013 755100                    STA     11,,PR0

       62     5268    3                  CALL DDE$ERROR;

   5268  0 000057   000002 631400 xsym               EPPR1   B_VECTNIL+2
         0 000060   000000 701000 xent               TSX1    DDE$ERROR
         0 000061   000000 011000                    NOP     0

       63     5269    3                  RETURN;

   5269  0 000062   000000 702200 xent               TSX2  ! X66_ARET

       64     5270    3                END;
       65     5271    2             ELSE IF S_D.TR$INFO.TYPE = C_TC /* C_TC */

   5271  0 000063   004634 235100                    LDA     2460,,PR0
         0 000064   000056 115007                    CMPA    46,DL
         0 000065   000071 601000 0                  TNZ     s:5273

       66     5272    2                  THEN CALL TCON;

   5272  0 000066   000174 701000 0                  TSX1    TCON
         0 000067   000000 011000                    NOP     0
         0 000070   000075 710000 0                  TRA     s:5275

       67     5273    2                  ELSE IF S_D.TR$INFO.TYPE = C_TT /*C_TT*/

   5273  0 000071   000057 115007                    CMPA    47,DL
         0 000072   000075 601000 0                  TNZ     s:5275

       68     5274    2                       THEN S_D.T$T.ACTIVE = '1'B;

PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:14   
   5274  0 000073   400000 236003                    LDQ     -131072,DU
         0 000074   004707 756100                    STQ     2503,,PR0

       69     5275    2             S_D.TR$INFO.SILENT = S_D.DO$->TR$CMD.SILENT;

   5275  0 000075   000000 470400 xsym               LDP0    S_D$
         0 000076   000031 471500                    LDP1    25,,PR0
         0 000077   100001 236100                    LDQ     1,,PR1
         0 000100   000002 736000                    QLS     2
         0 000101   400000 376003                    ANQ     -131072,DU
         0 000102   004631 756100                    STQ     2457,,PR0

       70     5276    2             RETURN;                       /* OUR WORK HERE IS DONE TONTO */

   5276  0 000103   000000 702200 xent               TSX2  ! X66_ARET

       71     5277    2           END;                            /* IF TRACE ON */
       72     5278    1        CALL DDT$TRACEOFF;                 /* REMOVE WHATS OUT THERE NOW */

   5278  0 000104   000002 631400 xsym               EPPR1   B_VECTNIL+2
         0 000105   000000 701000 xent               TSX1    DDT$TRACEOFF
         0 000106   000000 011000                    NOP     0

       73     5279                       /* Now update the trace type in the trace information table.   */
       74     5280    1        S_D.TR$INFO.SET = '1'B;

   5280  0 000107   400000 236003                    LDQ     -131072,DU
         0 000110   000000 470400 xsym               LDP0    S_D$
         0 000111   004627 756100                    STQ     2455,,PR0

       75     5281    1        S_D.TR$INFO.TYPE = S_D.DO$->TR$CMD.TYPE;

   5281  0 000112   000031 471500                    LDP1    25,,PR0
         0 000113   100001 236100                    LDQ     1,,PR1
         0 000114   000011 772000                    QRL     9
         0 000115   777777 376007                    ANQ     -1,DL
         0 000116   004634 756100                    STQ     2460,,PR0
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:15   

       76     5282    1        S_D.TR$INFO.X = S_D.DO$->TR$CMD.XTERNAL;

   5282  0 000117   100001 236100                    LDQ     1,,PR1
         0 000120   000001 736000                    QLS     1
         0 000121   400000 376003                    ANQ     -131072,DU
         0 000122   004632 756100                    STQ     2458,,PR0

       77     5283    1        S_D.TR$INFO.P = S_D.DO$->TR$CMD.PREFIX;

   5283  0 000123   100001 236100                    LDQ     1,,PR1
         0 000124   400000 376003                    ANQ     -131072,DU
         0 000125   004633 756100                    STQ     2459,,PR0

       78     5284    1        S_D.TR$INFO.SILENT = S_D.DO$->TR$CMD.SILENT;

   5284  0 000126   100001 236100                    LDQ     1,,PR1
         0 000127   000002 736000                    QLS     2
         0 000130   400000 376003                    ANQ     -131072,DU
         0 000131   004631 756100                    STQ     2457,,PR0

       79     5285                                      /* Move prefix name if trace calls is prefixed  */
       80     5286    1        IF S_D.TR$INFO.P = '1'B

   5286  0 000132   004633 234100                    SZN     2459,,PR0
         0 000133   000142 605000 0                  TPL     s:5291

       81     5287    2        THEN DO;

       82     5288    2             S_D.TR$INFO.PSIZ = S_D.DO$->TR$CMD.PSIZ;

   5288  0 000134   100002 236100                    LDQ     2,,PR1
         0 000135   000033 772000                    QRL     27
         0 000136   004635 756100                    STQ     2461,,PR0

       83     5289    2             S_D.TR$INFO.PTXT = S_D.DO$->TR$CMD.PTXT;

PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:16   
   5289  0 000137   040100 100500                    MLR     fill='040'O
         0 000140   100002 200030                    ADSC9   2,,PR1                   cn=1,n=24
         0 000141   004636 000030                    ADSC9   2462,,PR0                cn=0,n=24

       84     5290    2           END;

       85     5291    1        IF S_D.TR$INFO.TYPE = C_TC         /*C_TC*/

   5291  0 000142   004634 235100                    LDA     2460,,PR0
         0 000143   000056 115007                    CMPA    46,DL
         0 000144   000150 601000 0                  TNZ     s:5293

       86     5292    1        THEN CALL TCON;

   5292  0 000145   000174 701000 0                  TSX1    TCON
         0 000146   000000 011000                    NOP     0
         0 000147   000152 710000 0                  TRA     s:5295

       87     5293    1        ELSE S_D.T$T.ACTIVE = '1'B;

   5293  0 000150   400000 236003                    LDQ     -131072,DU
         0 000151   004707 756100                    STQ     2503,,PR0

       88     5294                                                /**/
       89     5295    1        RETURN;

   5295  0 000152   000000 702200 xent               TSX2  ! X66_ARET

       90     5296                                                /**/
       91     5297        %EJECT;
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:17   
       92     5298                                                /**/
       93     5299    1   DDA$TRACEON: ENTRY;

   5299  0 000153   000000 700200 xent  DDA$TRACEON  TSX0  ! X66_AUTO_0
         0 000154   000016 000000                    ZERO    14,0

       94     5300                                                /**/
       95     5301    1        IF NOT S_D.TR$INFO.SET

   5301  0 000155   000000 470400 xsym               LDP0    S_D$
         0 000156   004627 234100                    SZN     2455,,PR0
         0 000157   000161 604000 0                  TMI     s:5303

       96     5302    1        THEN RETURN;

   5302  0 000160   000000 702200 xent               TSX2  ! X66_ARET

       97     5303    1        IF S_D.TR$INFO.TYPE = C_TC         /* C_TC */

   5303  0 000161   004634 235100                    LDA     2460,,PR0
         0 000162   000056 115007                    CMPA    46,DL
         0 000163   000167 601000 0                  TNZ     s:5305

       98     5304    1        THEN CALL TCON;

   5304  0 000164   000174 701000 0                  TSX1    TCON
         0 000165   000000 011000                    NOP     0
         0 000166   000173 710000 0                  TRA     s:5308

       99     5305    1        ELSE IF S_D.TR$INFO.TYPE = C_TT    /* C_TT */

   5305  0 000167   000057 115007                    CMPA    47,DL
         0 000170   000173 601000 0                  TNZ     s:5308

      100     5306    1             THEN S_D.T$T.ACTIVE = '1'B;

   5306  0 000171   400000 236003                    LDQ     -131072,DU
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:18   
         0 000172   004707 756100                    STQ     2503,,PR0

      101     5307                                                /**/
      102     5308    1        RETURN;

   5308  0 000173   000000 702200 xent               TSX2  ! X66_ARET

      103     5309                                                /**/
      104     5310        %EJECT;
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:19   
      105     5311                                                /**/
      106     5312    1   TCON: PROC;

   5312  0 000174   200010 741300       TCON         STX1  ! DNAME$+1,,AUTO

      107     5313                                                /**/
      108     5314    2        S_D.TR$INFO.ACTIVE = '1'B;

   5314  0 000175   400000 236003                    LDQ     -131072,DU
         0 000176   000000 470400 xsym               LDP0    S_D$
         0 000177   004630 756100                    STQ     2456,,PR0

      109     5315    2        IF S_D.OVERLAID

   5315  0 000200   004764 234100                    SZN     2548,,PR0
         0 000201   000250 605000 0                  TPL     s:5327

      110     5316    3        THEN DO;

      111     5317    3             NODE = S_D.MTREE$ -> DU$TREE.NEXT#( S_D.NODE#M1 + 1 );

   5317  0 000202   004762 471500                    LDP1    2546,,PR0
         0 000203   004766 236100                    LDQ     2550,,PR0
         0 000204   000003 402007                    MPY     3,DL
         0 000205   100003 235106                    LDA     3,QL,PR1
         0 000206   200003 755100                    STA     NODE,,AUTO

      112     5318    4             DO WHILE ( NODE >= 0 );

   5318  0 000207   000266 604000 0                  TMI     s:5329

      113     5319    4                  NODE$ = PINCRW( S_D.NODESEG$, SIZEW( DU$NODE ) * NODE );

   5319  0 000210   000000 470400 xsym               LDP0    S_D$
         0 000211   005003 471500                    LDP1    2563,,PR0
         0 000212   200003 236100                    LDQ     NODE,,AUTO
         0 000213   000007 402007                    MPY     7,DL
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:20   
         0 000214   100000 633506                    EPPR3   0,QL,PR1
         0 000215   200004 453500                    STP3    NODE$,,AUTO

      114     5320    4                  EDEF$ = NODE$ -> DU$NODE.EDEF$( 0 );

   5320  0 000216   300002 236100                    LDQ     2,,PR3
         0 000217   200005 756100                    STQ     EDEF$,,AUTO

      115     5321    4                  EDEF_END$ = NODE$ -> DU$NODE.EDEF_END$( 0 );

   5321  0 000220   300003 236100                    LDQ     3,,PR3
         0 000221   200006 756100                    STQ     EDEF_END$,,AUTO

      116     5322    4                  DNAME$ = NODE$ -> DU$NODE.DNAME$( 0 );

   5322  0 000222   300006 236100                    LDQ     6,,PR3
         0 000223   200007 756100                    STQ     DNAME$,,AUTO

      117     5323    4                  CALL DDT$XTAGS( @PLANT_TAGS, EDEF$, EDEF_END$, DNAME$ );

   5323  0 000224   200007 634500                    EPPR4   DNAME$,,AUTO
         0 000225   200015 454500                    STP4    DNAME$+6,,AUTO
         0 000226   200006 635500                    EPPR5   EDEF_END$,,AUTO
         0 000227   200014 455500                    STP5    DNAME$+5,,AUTO
         0 000230   200005 636500                    EPPR6   EDEF$,,AUTO
         0 000231   200013 456500                    STP6    DNAME$+4,,AUTO
         0 000232   000003 236000 1                  LDQ     3
         0 000233   200012 756100                    STQ     DNAME$+3,,AUTO
         0 000234   200012 630500                    EPPR0   DNAME$+3,,AUTO
         0 000235   000022 631400 xsym               EPPR1   B_VECTNIL+18
         0 000236   000000 701000 xent               TSX1    DDT$XTAGS
         0 000237   000000 011000                    NOP     0

      118     5324    4                  NODE = S_D.MTREE$ -> DU$TREE.NEXT#( NODE );

   5324  0 000240   000000 470400 xsym               LDP0    S_D$
         0 000241   004762 471500                    LDP1    2546,,PR0
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:21   
         0 000242   200003 236100                    LDQ     NODE,,AUTO
         0 000243   000003 402007                    MPY     3,DL
         0 000244   100000 235106                    LDA     0,QL,PR1
         0 000245   200003 755100                    STA     NODE,,AUTO

      119     5325    4                END;

   5325  0 000246   000210 605000 0                  TPL     s:5319

      120     5326    3           END;

   5326  0 000247   000266 710000 0                  TRA     s:5329

      121     5327    2        ELSE CALL DDT$XTAGS( @PLANT_TAGS, S_D.EDEF$, S_D.EDEF_END$, S_D.DNAME$ );

   5327  0 000250   000000 236000 xsym               LDQ     S_D$
         0 000251   001041 036003                    ADLQ    545,DU
         0 000252   200015 756100                    STQ     DNAME$+6,,AUTO
         0 000253   000000 236000 xsym               LDQ     S_D$
         0 000254   001044 036003                    ADLQ    548,DU
         0 000255   200014 756100                    STQ     DNAME$+5,,AUTO
         0 000256   000000 236000 xsym               LDQ     S_D$
         0 000257   001042 036003                    ADLQ    546,DU
         0 000260   000003 235000 1                  LDA     3
         0 000261   200012 757100                    STAQ    DNAME$+3,,AUTO
         0 000262   200012 630500                    EPPR0   DNAME$+3,,AUTO
         0 000263   000022 631400 xsym               EPPR1   B_VECTNIL+18
         0 000264   000000 701000 xent               TSX1    DDT$XTAGS
         0 000265   000000 011000                    NOP     0

      122     5328                                                /**/
      123     5329    2        RETURN;

   5329  0 000266   200010 221300                    LDX1  ! DNAME$+1,,AUTO
         0 000267   000001 702211                    TSX2  ! 1,X1

(unnamed)
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:22   
 Sect OctLoc
   1     000   000777 777000   000001 105000   000001 110000   000004 006000    ......E...H.....
      124     5330                                                /**/
      125     5331    2   END TCON;
      126     5332                                                /**/
      127     5333    1   END DDA$TRACE;

PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:23   
--  Include file information  --

   DD_ERR_C.:E05TOU  is referenced.
   DD_PSUBS_C.:E05TOU  is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   DD$BASED.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DDA$TRACE.

   Procedure DDA$TRACE requires 184 words for executable code.
   Procedure DDA$TRACE requires 14 words of local(AUTO) storage.

    No errors detected in file DDA$TRACE.:E05TSI    .
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:24   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:25   
          MINI XREF LISTING

DDE$ERROR
      5237**DCL-ENT  5241--CALL     5247--CALL     5260--CALL     5268--CALL
DDT$TRACEOFF
      5235**DCL-ENT  5252--CALL     5278--CALL
DDT$XTAGS
      5236**DCL-ENT  5323--CALL     5327--CALL
DNAME$
        18**DCL      5322<<ASSIGN   5323<>CALL
DU$NODE
      1329**DCL      5319--ASSIGN
DU$NODE.DNAME$
      1336**DCL      5322>>ASSIGN
DU$NODE.EDEF$
      1332**DCL      5320>>ASSIGN
DU$NODE.EDEF_END$
      1333**DCL      5321>>ASSIGN
DU$TREE.NEXT#
      1324**DCL      5317>>ASSIGN   5324>>ASSIGN
EDEF$
        16**DCL      5320<<ASSIGN   5323<>CALL
EDEF_END$
        17**DCL      5321<<ASSIGN   5323<>CALL
NODE
        14**DCL      5317<<ASSIGN   5318>>DOWHILE  5319>>ASSIGN   5324<<ASSIGN   5324>>ASSIGN
NODE$
        15**DCL      5319<<ASSIGN   5320>>ASSIGN   5321>>ASSIGN   5322>>ASSIGN
S_D.CURRENT_CHANNEL
      3710**DCL      3712--REDEF
S_D.DEBUGA
      2862**DCL      2864--REDEF
S_D.DNAME$
      3204**DCL      5327<>CALL
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:26   
S_D.DO$
      2813**DCL      5244>>IF       5244>>IF       5250>>IF       5263>>IF       5275>>ASSIGN   5281>>ASSIGN
      5282>>ASSIGN   5283>>ASSIGN   5284>>ASSIGN   5288>>ASSIGN   5289>>ASSIGN
S_D.EDEF$
      3206**DCL      5238>>IF       5327<>CALL
S_D.EDEF_END$
      3210**DCL      5327<>CALL
S_D.EIS
      3820**DCL      3849--REDEF
S_D.ERROR
      2791**DCL      5240<<ASSIGN   5246<<ASSIGN   5259<<ASSIGN   5267<<ASSIGN
S_D.HOST_MESSAGE_BUF_REMOTE
      3753**DCL      3754--REDEF    3768--REDEF
S_D.JDE
      3367**DCL      3368--REDEF
S_D.L$.VALUE
      2920**DCL      2926--REDEF    2934--REDEF    2937--REDEF    2940--REDEF    2943--REDEF
S_D.L$.VALUE.L
      2921**DCL      2922--REDEF    2923--REDEF
S_D.L6_MESSAGE_BUF
      3774**DCL      3776--REDEF
S_D.MTREE$
      3420**DCL      5317>>ASSIGN   5324>>ASSIGN
S_D.NODE#M1
      3428**DCL      5317>>ASSIGN
S_D.NODESEG$
      3454**DCL      5319>>ASSIGN
S_D.ONCALLS
      3392**DCL      5252>>IF       5257>>IF
S_D.OUTPUT
      3740**DCL      3742--REDEF
S_D.OVERLAID
      3424**DCL      5315>>IF
S_D.REMOTE_MSG.FNCC
      3759**DCL      3760--REDEF
S_D.REMOTE_MSG.STXC
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:27   
      3755**DCL      3756--REDEF
S_D.REMOTE_MSG.SUBFNCC
      3763**DCL      3764--REDEF
S_D.SV
      2819**DCL      2840--REDEF
S_D.T$T.ACTIVE
      3323**DCL      5274<<ASSIGN   5293<<ASSIGN   5306<<ASSIGN
S_D.TR$INFO.ACTIVE
      3246**DCL      5314<<ASSIGN
S_D.TR$INFO.P
      3252**DCL      5283<<ASSIGN   5286>>IF
S_D.TR$INFO.PSIZ
      3256**DCL      5288<<ASSIGN
S_D.TR$INFO.PTXT
      3258**DCL      5289<<ASSIGN
S_D.TR$INFO.SET
      3244**DCL      5265>>IF       5280<<ASSIGN   5301>>IF
S_D.TR$INFO.SILENT
      3248**DCL      5275<<ASSIGN   5284<<ASSIGN
S_D.TR$INFO.TYPE
      3254**DCL      5271>>IF       5273>>IF       5281<<ASSIGN   5291>>IF       5303>>IF       5305>>IF
S_D.TR$INFO.X
      3250**DCL      5282<<ASSIGN
S_D$
      4071**DCL      2767--IMP-PTR  5238>>IF       5240>>ASSIGN   5244>>IF       5244>>IF       5246>>ASSIGN
      5250>>IF       5252>>IF       5257>>IF       5259>>ASSIGN   5263>>IF       5265>>IF       5267>>ASSIGN
      5271>>IF       5273>>IF       5274>>ASSIGN   5275>>ASSIGN   5275>>ASSIGN   5280>>ASSIGN   5281>>ASSIGN
      5281>>ASSIGN   5282>>ASSIGN   5282>>ASSIGN   5283>>ASSIGN   5283>>ASSIGN   5284>>ASSIGN   5284>>ASSIGN
      5286>>IF       5288>>ASSIGN   5288>>ASSIGN   5289>>ASSIGN   5289>>ASSIGN   5291>>IF       5293>>ASSIGN
      5301>>IF       5303>>IF       5305>>IF       5306>>ASSIGN   5314>>ASSIGN   5315>>IF       5317>>ASSIGN
      5317>>ASSIGN   5319>>ASSIGN   5324>>ASSIGN   5327>>CALL     5327>>CALL     5327>>CALL
TCON
      5312**PROC     5272--CALL     5292--CALL     5304--CALL
TR$CMD.PREFIX
      4081**DCL      5283>>ASSIGN
TR$CMD.PSIZ
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:28   
      4089**DCL      5288>>ASSIGN
TR$CMD.PTXT
      4090**DCL      5289>>ASSIGN
TR$CMD.SILENT
      4083**DCL      5275>>ASSIGN   5284>>ASSIGN
TR$CMD.TYPE
      4085**DCL      5244>>IF       5244>>IF       5250>>IF       5263>>IF       5281>>ASSIGN
TR$CMD.XTERNAL
      4082**DCL      5282>>ASSIGN
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:29   
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DDA$TRACE File=DDA$TRACE.:E05TSI                              TUE 07/29/97 13:39 Page:30   
              MINI UREF LISTING

DDA$TRACE      13**PROC
DDA$TRACEON    5299**ENTRY

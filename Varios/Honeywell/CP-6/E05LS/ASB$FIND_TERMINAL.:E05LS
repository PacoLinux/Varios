VERSION E05

PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:1    
        1        1        /*T***********************************************************/
        2        2        /*T*                                                         */
        3        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        4        4        /*T*                                                         */
        5        5        /*T***********************************************************/
        6        6        ASB$INIT_GET_TERMINAL: PROC (TERMINAL) ALTRET;
        7        7
        8        8        /*D*
        9        9             NAME: ASB$INIT_GET_TERMINAL
       10       10             CALL: CALL ASB$INIT_GET_TERMINAL
       11       11             INPUT:  TERMINAL - The textc string containing the wildcarded
       12       12                                 terminal name we are interested in.
       13       13             OUTPUT:
       14       14             DESCRIPTION:
       15       15                  This routine will setup the START_KEY and the QUIT_KEY
       16       16                  based on what is found in TERMINAL.  It will then
       17       17                  issue a call to ASB$PREC_HLP to position the :HLP file
       18       18                  to START_KEY.
       19       19        */
       20       20        /********************************************************************/
       21       21        /*   Include files   include files   include files   include files  */
       22       22        /********************************************************************/
       23       23        %INCLUDE AS_PERR_C;
       24      625        %INCLUDE KL_SUPER_C;
       25     3527        %INCLUDE AS_SUPER_C;
       26     3962        %INCLUDE XU_MACRO_C ;
       27     7068        %INCLUDE XU_FORMAT_C ;
       28     7230        %INCLUDE AS_MAC_C ;
       29     7310        %INCLUDE AS_SUBS_C;
       30     8724        %INCLUDE AS_ENTRIES_M;
       31     9774        %INCLUDE AS_SSUBS_C;
       32     9866        %INCLUDE B_ERRORS_C;
       33    10993        %INCLUDE CP_6;
       34    16552        %INCLUDE CP_6_SUBS;
       35    17092        %INCLUDE AS_SUPER_R;
       36    20108        %EJECT;
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:2    
       37    20109        /********************************************************************/
       38    20110        /*   Entry dcls      entry dcls      entry dcls      entry dcls     */
       39    20111        /********************************************************************/
       40    20112        %ASB$PREC_HLP;
       41    20115        %ASB$PREC_AND_SKIP_HLP ;
       42    20118        %ASB$READ_HLP ;
       43    20121        %ASB$READ_HLP_SEQ;
       44    20124        %EJECT;
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:3    
       45    20125        /********************************************************************/
       46    20126        /*   Parameter       parameter       parameter       parameter      */
       47    20127        /********************************************************************/
       48    20128    1   DCL 1 TERMINAL,
       49    20129    1          2 COUNT   UBIN BYTE CALIGNED,
       50    20130    1          2 TEXT    CHAR(8)   CALIGNED;
       51    20131        %EJECT;
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:4    
       52    20132        /********************************************************************/
       53    20133        /*   Local based     local based     local based     local based    */
       54    20134        /********************************************************************/
       55    20135        %KL_DREC( NAME=KL$TREC, STCLASS="BASED(DSEG1$)", LAST=";");
       56    20248        /********************************************************************/
       57    20249        /*   Auto data       auto data       auto data       auto data      */
       58    20250        /********************************************************************/
       59    20251    1   DCL I UBIN;
       60    20252    1   DCL STAT_ARS UBIN;
       61    20253        %EJECT;
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:5    
       62    20254        /********************************************************************/
       63    20255        /*   Procedure       procedure       procedure       procedure      */
       64    20256        /********************************************************************/
       65    20257    1   START_KEY.TEXT = ' ';
       66    20258    2   CALL INDEX (I,'?',TERMINAL.TEXT) WHENRETURN DO;
       67    20259    2      START_KEY.TEXT = SUBSTR(TERMINAL.TEXT,0,I-1);
       68    20260    2      START_KEY.COUNT = 9;
       69    20261    2      CALL CONCAT (QUIT_KEY.TEXT,SUBSTR(TERMINAL.TEXT,0,I-1),'~');
       70    20262    2      QUIT_KEY.COUNT = 9;
       71    20263    2      END;  /*  Whenreturn from index  */
       72    20264    1   USERS_KEY = START_KEY;
       73    20265    1   CALL ASB$PREC_HLP ;
       74    20266    1   PREV_KEY = START_KEY;
       75    20267    1   RETURN ;
       76    20268        %EJECT;
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:6    
       77    20269    1   ASB$GET_NEXT_TERMINAL: ENTRY  (TERMINAL) ALTRET;
       78    20270
       79    20271        /*D*
       80    20272             NAME: ASB$GET_NEXT_TERMINAL
       81    20273             CALL: CALL ASB$GET_NEXT_TERMINAL
       82    20274             INPUT:
       83    20275             OUTPUT:
       84    20276             DESCRIPTION:
       85    20277                  This routine will check for the PREV_KEY read by this
       86    20278                  routine is equal to the last record read from :HLP which
       87    20279                  should be the value in USERS_KEY.  If they are equal
       88    20280                  this routine will call ASB$READ_HLP_SEQ, otherwise this
       89    20281                  routine will call ASB$PREC_AND_SKIP_HLP before issuing
       90    20282                  the call to ASB$READ_HLP_SEQ.  The buffer space for the
       91    20283                  read will be data segment 1.  This routine will read
       92    20284                  :HLP sequentially until it finds a terminal record,
       93    20285                  ie. the first byte of the record read = %KLAT_TRM# (4).
       94    20286                  If no more terminal records are found, this routine will
       95    20287                  altreturn.  If it does find a terminal record, it will
       96    20288                  pick the TWSN# string out of the terminal record and
       97    20289                  read the 'TWSNtwsn' record from :HLP into data segment 2.
       98    20290        */
       99    20291        %EJECT;
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:7    
      100    20292        /********************************************************************/
      101    20293        /*   Procedure       procedure       procedure       procedure      */
      102    20294        /********************************************************************/
      103    20295    2   IF PREV_KEY ~= USERS_KEY THEN DO;
      104    20296    2      USERS_KEY = PREV_KEY;
      105    20297    2      CALL ASB$PREC_AND_SKIP_HLP
      106    20298    3      WHENALTRETURN DO;
      107    20299    3         ALTRETURN;
      108    20300    3         END; /*  Whenaltreturn from PREC_AND_SKIP_HLP  */
      109    20301    2      END; /*  PREV_KEY not = USERS_KEY  */
      110    20302    1   STAT_ARS = DSEG1SIZE;
      111    20303    1   READ_SEQ:
      112    20304    1   CALL ASB$READ_HLP_SEQ ( DSEG1$, STAT_ARS, 1)
      113    20305    2   WHENALTRETURN DO;
      114    20306    2      ALTRETURN;
      115    20307    2      END; /*  Whenaltreturn  */
      116    20308    1   IF KL$TREC.ATYP ~= %KLAT_TRM# THEN GOTO READ_SEQ;
      117    20309    1   PREV_KEY = USERS_KEY;
      118    20310    1   TERMINAL = USERS_KEY;
      119    20311    1   USERS_KEY.COUNT = 8;
      120    20312    1   CALL CONCAT( USERS_KEY.TXTC, 'TWSN', KL$TREC.TWSN# );
      121    20313    1   STAT_ARS = DSEG2SIZE;
      122    20314    1   CALL ASB$READ_HLP( DSEG2$, STAT_ARS, 2)
      123    20315    2   WHENALTRETURN DO;
      124    20316    2      ALTRETURN;
      125    20317    2      END; /*  Whenaltreturn  */
      126    20318
      127    20319    1   RETURN ;
      128    20320    1   END ASB$INIT_GET_TERMINAL;

PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:8    
--  Include file information  --

   AS_SUPER_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B_ERRORS_C.:E05TOU  is referenced.
   AS_SSUBS_C.:E05TOU  is referenced.
   AS_ENTRIES_M.:E05TOU  is referenced.
   AS_SUBS_C.:E05TOU  is referenced.
   AS_MAC_C.:E05TOU  cannot be made into a system file and is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   AS_SUPER_C.:E05TOU  is referenced.
   KL_SUPER_C.:E05TOU  is referenced.
   AS_PERR_C.:E05TOU  is referenced.
      No diagnostics issued in procedure ASB$INIT_GET_TERMINAL.

   Procedure ASB$INIT_GET_TERMINAL requires 105 words for executable code.
   Procedure ASB$INIT_GET_TERMINAL requires 10 words of local(AUTO) storage.

    No errors detected in file ASB$FIND_TERMINAL.:E05TSI    .

PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:9    

 Object Unit name= ASB$INIT_GET_TERMINAL                      File name= ASB$FIND_TERMINAL.:E05TOU
 UTS= JUL 29 '97 09:24:42.44 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   DCB   even  none     0      0  M$LO
    2  RoData even  UTS      1      1  ASB$INIT_GET_TERMINAL
    3   Proc  even  none   105    151  ASB$INIT_GET_TERMINAL
    4  RoData even  none     6      6  ASB$INIT_GET_TERMINAL

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     3      0   yes    yes     yes      Std        1  ASB$INIT_GET_TERMINAL
     3     51          yes     yes      Std        1  ASB$GET_NEXT_TERMINAL

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes          ~proc      0 XU_OUTPUT_OPTIONS
 yes     yes           Std       0 ASB$PREC_AND_SKIP_HLP
 yes     yes           Std       0 ASB$PREC_HLP
 yes     yes           Std       3 ASB$READ_HLP
 yes     yes           Std       3 ASB$READ_HLP_SEQ
                       nStd      0 X66_AUTO_1
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:10   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                             r    AS_MODE                          r    AS_FE_MODE
     M$LO                                  USERS_KEY                             START_KEY
     QUIT_KEY                              PREV_KEY                              ERR_CODE
     REMEM_VAR                             REM_FCMD                              ASA_BRKS_LOC
     DSEG1$                                DSEG1SIZE                             DSEG2$
     DSEG2SIZE                             B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:11   


        1        1        /*T***********************************************************/
        2        2        /*T*                                                         */
        3        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        4        4        /*T*                                                         */
        5        5        /*T***********************************************************/
        6        6        ASB$INIT_GET_TERMINAL: PROC (TERMINAL) ALTRET;

      6  3 000000   000000 700200 xent  ASB$INIT_GE* TSX0  ! X66_AUTO_1
         3 000001   000012 000001                    ZERO    10,1

        7        7
        8        8        /*D*
        9        9             NAME: ASB$INIT_GET_TERMINAL
       10       10             CALL: CALL ASB$INIT_GET_TERMINAL
       11       11             INPUT:  TERMINAL - The textc string containing the wildcarded
       12       12                                 terminal name we are interested in.
       13       13             OUTPUT:
       14       14             DESCRIPTION:
       15       15                  This routine will setup the START_KEY and the QUIT_KEY
       16       16                  based on what is found in TERMINAL.  It will then
       17       17                  issue a call to ASB$PREC_HLP to position the :HLP file
       18       18                  to START_KEY.
       19       19        */
       20       20        /********************************************************************/
       21       21        /*   Include files   include files   include files   include files  */
       22       22        /********************************************************************/
       23       23        %INCLUDE AS_PERR_C;
       24      625        %INCLUDE KL_SUPER_C;
       25     3527        %INCLUDE AS_SUPER_C;
       26     3962        %INCLUDE XU_MACRO_C ;
       27     7068        %INCLUDE XU_FORMAT_C ;
       28     7230        %INCLUDE AS_MAC_C ;
       29     7310        %INCLUDE AS_SUBS_C;
       30     8724        %INCLUDE AS_ENTRIES_M;
       31     9774        %INCLUDE AS_SSUBS_C;
       32     9866        %INCLUDE B_ERRORS_C;
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:12   
       33    10993        %INCLUDE CP_6;
       34    16552        %INCLUDE CP_6_SUBS;
       35    17092        %INCLUDE AS_SUPER_R;
       36    20108        %EJECT;
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:13   
       37    20109        /********************************************************************/
       38    20110        /*   Entry dcls      entry dcls      entry dcls      entry dcls     */
       39    20111        /********************************************************************/
       40    20112        %ASB$PREC_HLP;
       41    20115        %ASB$PREC_AND_SKIP_HLP ;
       42    20118        %ASB$READ_HLP ;
       43    20121        %ASB$READ_HLP_SEQ;
       44    20124        %EJECT;
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:14   
       45    20125        /********************************************************************/
       46    20126        /*   Parameter       parameter       parameter       parameter      */
       47    20127        /********************************************************************/
       48    20128    1   DCL 1 TERMINAL,
       49    20129    1          2 COUNT   UBIN BYTE CALIGNED,
       50    20130    1          2 TEXT    CHAR(8)   CALIGNED;
       51    20131        %EJECT;
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:15   
       52    20132        /********************************************************************/
       53    20133        /*   Local based     local based     local based     local based    */
       54    20134        /********************************************************************/
       55    20135        %KL_DREC( NAME=KL$TREC, STCLASS="BASED(DSEG1$)", LAST=";");
       56    20248        /********************************************************************/
       57    20249        /*   Auto data       auto data       auto data       auto data      */
       58    20250        /********************************************************************/
       59    20251    1   DCL I UBIN;
       60    20252    1   DCL STAT_ARS UBIN;
       61    20253        %EJECT;
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:16   
       62    20254        /********************************************************************/
       63    20255        /*   Procedure       procedure       procedure       procedure      */
       64    20256        /********************************************************************/
       65    20257    1   START_KEY.TEXT = ' ';

  20257  3 000002   040000 100400                    MLR     fill='040'O
         3 000003   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         3 000004   000000 200010 xsym               ADSC9   START_KEY                cn=1,n=8

       66    20258    2   CALL INDEX (I,'?',TERMINAL.TEXT) WHENRETURN DO;

  20258  3 000005   200003 470500                    LDP0    @TERMINAL,,AUTO
         3 000006   000000 124500                    SCM     mask='000'O
         3 000007   000000 200010                    ADSC9   0,,PR0                   cn=1,n=8
         3 000010   000000 000001 4                  ADSC9   0                        cn=0,n=1
         3 000011   200004 000100                    ARG     I,,AUTO
         3 000012   000037 606400 3                  TTN     s:20264

       67    20259    2      START_KEY.TEXT = SUBSTR(TERMINAL.TEXT,0,I-1);

  20259  3 000013   200004 720100                    LXL0    I,,AUTO
         3 000014   777777 621010                    EAX1    -1,X0
         3 000015   040000 100540                    MLR     fill='040'O
         3 000016   000000 200011                    ADSC9   0,,PR0                   cn=1,n=*X1
         3 000017   000000 200010 xsym               ADSC9   START_KEY                cn=1,n=8

       68    20260    2      START_KEY.COUNT = 9;

  20260  3 000020   011000 236003                    LDQ     4608,DU
         3 000021   000000 552040 xsym               STBQ    START_KEY,'40'O

       69    20261    2      CALL CONCAT (QUIT_KEY.TEXT,SUBSTR(TERMINAL.TEXT,0,I-1),'~');

  20261  3 000022   040000 100540                    MLR     fill='040'O
         3 000023   000000 200011                    ADSC9   0,,PR0                   cn=1,n=*X1
         3 000024   000000 200010 xsym               ADSC9   QUIT_KEY                 cn=1,n=8
         3 000025   200004 236100                    LDQ     I,,AUTO
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:17   
         3 000026   000011 116007                    CMPQ    9,DL
         3 000027   000035 603000 3                  TRC     s:20262
         3 000030   777766 622006                    EAX2    -10,QL
         3 000031   777777 662003                    ERX2    -1,DU
         3 000032   040046 100400                    MLR     fill='040'O
         3 000033   000001 000001 4                  ADSC9   1                        cn=0,n=1
         3 000034   000000 000012 xsym               ADSC9   QUIT_KEY,Q               cn=0,n=*X2

       70    20262    2      QUIT_KEY.COUNT = 9;

  20262  3 000035   011000 236003                    LDQ     4608,DU
         3 000036   000000 552040 xsym               STBQ    QUIT_KEY,'40'O

       71    20263    2      END;  /*  Whenreturn from index  */

       72    20264    1   USERS_KEY = START_KEY;

  20264  3 000037   000000 100400                    MLR     fill='000'O
         3 000040   000000 000012 xsym               ADSC9   START_KEY                cn=0,n=10
         3 000041   000000 000052 xsym               ADSC9   USERS_KEY                cn=0,n=42

       73    20265    1   CALL ASB$PREC_HLP ;

  20265  3 000042   000002 631400 xsym               EPPR1   B_VECTNIL+2
         3 000043   000000 701000 xent               TSX1    ASB$PREC_HLP
         3 000044   000000 011000                    NOP     0

       74    20266    1   PREV_KEY = START_KEY;

  20266  3 000045   000000 100400                    MLR     fill='000'O
         3 000046   000000 000012 xsym               ADSC9   START_KEY                cn=0,n=10
         3 000047   000000 000012 xsym               ADSC9   PREV_KEY                 cn=0,n=10

       75    20267    1   RETURN ;

  20267  3 000050   000000 702200 xent               TSX2  ! X66_ARET

PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:18   
       76    20268        %EJECT;
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:19   
       77    20269    1   ASB$GET_NEXT_TERMINAL: ENTRY  (TERMINAL) ALTRET;

  20269  3 000051   000000 700200 xent  ASB$GET_NEX* TSX0  ! X66_AUTO_1
         3 000052   000012 000001                    ZERO    10,1

       78    20270
       79    20271        /*D*
       80    20272             NAME: ASB$GET_NEXT_TERMINAL
       81    20273             CALL: CALL ASB$GET_NEXT_TERMINAL
       82    20274             INPUT:
       83    20275             OUTPUT:
       84    20276             DESCRIPTION:
       85    20277                  This routine will check for the PREV_KEY read by this
       86    20278                  routine is equal to the last record read from :HLP which
       87    20279                  should be the value in USERS_KEY.  If they are equal
       88    20280                  this routine will call ASB$READ_HLP_SEQ, otherwise this
       89    20281                  routine will call ASB$PREC_AND_SKIP_HLP before issuing
       90    20282                  the call to ASB$READ_HLP_SEQ.  The buffer space for the
       91    20283                  read will be data segment 1.  This routine will read
       92    20284                  :HLP sequentially until it finds a terminal record,
       93    20285                  ie. the first byte of the record read = %KLAT_TRM# (4).
       94    20286                  If no more terminal records are found, this routine will
       95    20287                  altreturn.  If it does find a terminal record, it will
       96    20288                  pick the TWSN# string out of the terminal record and
       97    20289                  read the 'TWSNtwsn' record from :HLP into data segment 2.
       98    20290        */
       99    20291        %EJECT;
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:20   
      100    20292        /********************************************************************/
      101    20293        /*   Procedure       procedure       procedure       procedure      */
      102    20294        /********************************************************************/
      103    20295    2   IF PREV_KEY ~= USERS_KEY THEN DO;

  20295  3 000053   000000 106400                    CMPC    fill='000'O
         3 000054   000000 000012 xsym               ADSC9   PREV_KEY                 cn=0,n=10
         3 000055   000000 000052 xsym               ADSC9   USERS_KEY                cn=0,n=42
         3 000056   000067 600000 3                  TZE     s:20302

      104    20296    2      USERS_KEY = PREV_KEY;

  20296  3 000057   000000 100400                    MLR     fill='000'O
         3 000060   000000 000012 xsym               ADSC9   PREV_KEY                 cn=0,n=10
         3 000061   000000 000052 xsym               ADSC9   USERS_KEY                cn=0,n=42

      105    20297    2      CALL ASB$PREC_AND_SKIP_HLP

  20297  3 000062   000002 631400 xsym               EPPR1   B_VECTNIL+2
         3 000063   000000 701000 xent               TSX1    ASB$PREC_AND_SKIP_HLP
         3 000064   000066 702000 3                  TSX2    s:20299
         3 000065   000067 710000 3                  TRA     s:20302

      106    20298    3      WHENALTRETURN DO;

      107    20299    3         ALTRETURN;

  20299  3 000066   000000 702200 xent               TSX2  ! X66_AALT

      108    20300    3         END; /*  Whenaltreturn from PREC_AND_SKIP_HLP  */
      109    20301    2      END; /*  PREV_KEY not = USERS_KEY  */

      110    20302    1   STAT_ARS = DSEG1SIZE;

  20302  3 000067   000000 235000 xsym               LDA     DSEG1SIZE
         3 000070   200005 755100                    STA     STAT_ARS,,AUTO

PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:21   
      111    20303    1   READ_SEQ:
      112    20304    1   CALL ASB$READ_HLP_SEQ ( DSEG1$, STAT_ARS, 1)

  20304  3 000071   000002 236000 4     READ_SEQ     LDQ     2
         3 000072   200010 756100                    STQ     STAT_ARS+3,,AUTO
         3 000073   200005 630500                    EPPR0   STAT_ARS,,AUTO
         3 000074   200007 450500                    STP0    STAT_ARS+2,,AUTO
         3 000075   000003 236000 4                  LDQ     3
         3 000076   200006 756100                    STQ     STAT_ARS+1,,AUTO
         3 000077   200006 630500                    EPPR0   STAT_ARS+1,,AUTO
         3 000100   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000101   000000 701000 xent               TSX1    ASB$READ_HLP_SEQ
         3 000102   000104 702000 3                  TSX2    s:20306
         3 000103   000105 710000 3                  TRA     s:20308

      113    20305    2   WHENALTRETURN DO;

      114    20306    2      ALTRETURN;

  20306  3 000104   000000 702200 xent               TSX2  ! X66_AALT

      115    20307    2      END; /*  Whenaltreturn  */
      116    20308    1   IF KL$TREC.ATYP ~= %KLAT_TRM# THEN GOTO READ_SEQ;

  20308  3 000105   000000 470400 xsym               LDP0    DSEG1$
         3 000106   000000 236100                    LDQ     0,,PR0
         3 000107   777000 376003                    ANQ     -512,DU
         3 000110   004000 116003                    CMPQ    2048,DU
         3 000111   000071 601000 3                  TNZ     READ_SEQ

      117    20309    1   PREV_KEY = USERS_KEY;

  20309  3 000112   000000 100400                    MLR     fill='000'O
         3 000113   000000 000012 xsym               ADSC9   USERS_KEY                cn=0,n=10
         3 000114   000000 000012 xsym               ADSC9   PREV_KEY                 cn=0,n=10

      118    20310    1   TERMINAL = USERS_KEY;
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:22   

  20310  3 000115   200003 471500                    LDP1    @TERMINAL,,AUTO
         3 000116   000100 100400                    MLR     fill='000'O
         3 000117   000000 000011 xsym               ADSC9   USERS_KEY                cn=0,n=9
         3 000120   100000 000011                    ADSC9   0,,PR1                   cn=0,n=9

      119    20311    1   USERS_KEY.COUNT = 8;

  20311  3 000121   010000 236003                    LDQ     4096,DU
         3 000122   000000 552040 xsym               STBQ    USERS_KEY,'40'O

      120    20312    1   CALL CONCAT( USERS_KEY.TXTC, 'TWSN', KL$TREC.TWSN# );

  20312  3 000123   040000 100400                    MLR     fill='040'O
         3 000124   000000 000004 2                  ADSC9   0                        cn=0,n=4
         3 000125   000000 200004 xsym               ADSC9   USERS_KEY                cn=1,n=4
         3 000126   000000 470400 xsym               LDP0    DSEG1$
         3 000127   040000 100500                    MLR     fill='040'O
         3 000130   000001 000004                    ADSC9   1,,PR0                   cn=0,n=4
         3 000131   000001 200045 xsym               ADSC9   USERS_KEY+1              cn=1,n=37

      121    20313    1   STAT_ARS = DSEG2SIZE;

  20313  3 000132   000000 235000 xsym               LDA     DSEG2SIZE
         3 000133   200005 755100                    STA     STAT_ARS,,AUTO

      122    20314    1   CALL ASB$READ_HLP( DSEG2$, STAT_ARS, 2)

  20314  3 000134   000004 236000 4                  LDQ     4
         3 000135   200010 756100                    STQ     STAT_ARS+3,,AUTO
         3 000136   200005 630500                    EPPR0   STAT_ARS,,AUTO
         3 000137   200007 450500                    STP0    STAT_ARS+2,,AUTO
         3 000140   000005 236000 4                  LDQ     5
         3 000141   200006 756100                    STQ     STAT_ARS+1,,AUTO
         3 000142   200006 630500                    EPPR0   STAT_ARS+1,,AUTO
         3 000143   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000144   000000 701000 xent               TSX1    ASB$READ_HLP
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:23   
         3 000145   000147 702000 3                  TSX2    s:20316
         3 000146   000150 710000 3                  TRA     s:20319

      123    20315    2   WHENALTRETURN DO;

      124    20316    2      ALTRETURN;

  20316  3 000147   000000 702200 xent               TSX2  ! X66_AALT

      125    20317    2      END; /*  Whenaltreturn  */
      126    20318
      127    20319    1   RETURN ;

  20319  3 000150   000000 702200 xent               TSX2  ! X66_ARET
      128    20320    1   END ASB$INIT_GET_TERMINAL;

PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:24   
--  Include file information  --

   AS_SUPER_R.:E05TOU  cannot be made into a system file and is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B_ERRORS_C.:E05TOU  is referenced.
   AS_SSUBS_C.:E05TOU  is referenced.
   AS_ENTRIES_M.:E05TOU  is referenced.
   AS_SUBS_C.:E05TOU  is referenced.
   AS_MAC_C.:E05TOU  cannot be made into a system file and is referenced.
   XU_FORMAT_C.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   AS_SUPER_C.:E05TOU  is referenced.
   KL_SUPER_C.:E05TOU  is referenced.
   AS_PERR_C.:E05TOU  is referenced.
      No diagnostics issued in procedure ASB$INIT_GET_TERMINAL.
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:25   

 **** Variables and constants ****

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @TERMINAL                  4-0-0/w UBIN        r     1 I
     5-0-0/w UBIN        r     1 STAT_ARS                  *0-0-0/c STRC(81)    r     1 TERMINAL

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 DSEG1$                     0-0-0/w UBIN        r     1 DSEG1SIZE
     0-0-0/w PTR         r     1 DSEG2$                     0-0-0/w UBIN        r     1 DSEG2SIZE
     0-0-0/c STRC(90)    r     1 PREV_KEY                   0-0-0/c STRC(90)    r     1 QUIT_KEY
     0-0-0/c STRC(90)    r     1 START_KEY                  0-0-0/c STRC(378)   r     1 USERS_KEY

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(576)   r     1 KL$TREC


   Procedure ASB$INIT_GET_TERMINAL requires 105 words for executable code.
   Procedure ASB$INIT_GET_TERMINAL requires 10 words of local(AUTO) storage.

    No errors detected in file ASB$FIND_TERMINAL.:E05TSI    .
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:26   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:27   
          MINI XREF LISTING

ASA_BRKS_LOC
     17256**DCL     17256--REDEF
ASB$PREC_AND_SKIP_HLP
     20116**DCL-ENT 20297--CALL
ASB$PREC_HLP
     20113**DCL-ENT 20265--CALL
ASB$READ_HLP
     20119**DCL-ENT 20314--CALL
ASB$READ_HLP_SEQ
     20122**DCL-ENT 20304--CALL
AS_DEFAULT.BANNER_PERM
     17949**DCL     17950--REDEF
AS_DEFAULT.BUDGET.MACCT
     17854**DCL     17858--REDEF
AS_DEFAULT.BUDGET.MAX_PROJECTS
     17867**DCL     17870--REDEF
AS_DEFAULT.BUDGET.PACCUM
     17850**DCL     17852--REDEF
AS_DEFAULT.BUDGET.PMAXC
     17845**DCL     17847--REDEF
AS_DEFAULT.SETUP_CHRA.TXT
     17965**DCL     17966--REDEF   17967--REDEF
AS_DEFAULT_DREC.PASSWORD
     19219**DCL     19223--REDEF
AS_DEFAULT_DREC.RENAME
     19242**DCL     19243--REDEF
AS_DFLT.BANNER_PERM
     17771**DCL     17772--REDEF
AS_DFLT.BUDGET.MACCT
     17676**DCL     17680--REDEF
AS_DFLT.BUDGET.MAX_PROJECTS
     17689**DCL     17692--REDEF
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:28   
AS_DFLT.BUDGET.PACCUM
     17672**DCL     17674--REDEF
AS_DFLT.BUDGET.PMAXC
     17667**DCL     17669--REDEF
AS_DFLT.SETUP_CHRA.TXT
     17787**DCL     17788--REDEF   17789--REDEF
AS_FE_MODE
     17122**DCL     17123--REDEF
AS_MODE
     17119**DCL     17121--REDEF
AS_MOD_USER.ACCESS
     19984**DCL     19985--REDEF
AS_MOD_USER.BANNER
     19971**DCL     19972--REDEF
AS_MOD_USER.BANNER_PERM
     19973**DCL     19974--REDEF
AS_MOD_USER.BILL
     19979**DCL     19980--REDEF
AS_MOD_USER.CPROC
     19975**DCL     19976--REDEF
AS_MOD_USER.FEBILL
     20055**DCL     20056--REDEF
AS_MOD_USER.FECXTMEM
     20072**DCL     20073--REDEF
AS_MOD_USER.FEMINTS
     20057**DCL     20058--REDEF
AS_MOD_USER.FEMMEM
     20068**DCL     20069--REDEF
AS_MOD_USER.FEMTIME
     20066**DCL     20067--REDEF
AS_MOD_USER.FEPPRIV
     20063**DCL     20065--REDEF
AS_MOD_USER.FEPRIV
     20060**DCL     20062--REDEF
AS_MOD_USER.FORCE_BIT
     19969**DCL     19970--REDEF
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:29   
AS_MOD_USER.KEY
     20051**DCL     20053--REDEF
AS_MOD_USER.LASTCPROC
     19977**DCL     19978--REDEF
AS_MOD_USER.LIMITS.DO_
     20025**DCL     20026--REDEF
AS_MOD_USER.LIMITS.FPOOLS
     20041**DCL     20042--REDEF
AS_MOD_USER.LIMITS.LO
     20021**DCL     20022--REDEF
AS_MOD_USER.LIMITS.MEM
     20017**DCL     20018--REDEF
AS_MOD_USER.LIMITS.MPRIO
     20045**DCL     20046--REDEF
AS_MOD_USER.LIMITS.PDIS
     20033**DCL     20034--REDEF
AS_MOD_USER.LIMITS.PO
     20029**DCL     20030--REDEF
AS_MOD_USER.LIMITS.TDIS
     20037**DCL     20038--REDEF
AS_MOD_USER.LIMITS.TIME
     20013**DCL     20014--REDEF
AS_MOD_USER.MAXENQ
     19994**DCL     19995--REDEF
AS_MOD_USER.PERM_BIT
     19967**DCL     19968--REDEF
AS_MOD_USER.PPRIV
     19989**DCL     19991--REDEF
AS_MOD_USER.PRIOB
     19996**DCL     19997--REDEF
AS_MOD_USER.PRIV
     19986**DCL     19988--REDEF
AS_MOD_USER.QUAN
     19992**DCL     19993--REDEF
AS_MOD_USER.SETUP
     19965**DCL     19966--REDEF
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:30   
AS_PROJECT.BANNER_PERM
     18305**DCL     18306--REDEF
AS_PROJECT.BUDGET.MACCT
     18210**DCL     18214--REDEF
AS_PROJECT.BUDGET.MAX_PROJECTS
     18223**DCL     18226--REDEF
AS_PROJECT.BUDGET.PACCUM
     18206**DCL     18208--REDEF
AS_PROJECT.BUDGET.PMAXC
     18201**DCL     18203--REDEF
AS_PROJECT.SETUP_CHRA.TXT
     18321**DCL     18322--REDEF   18323--REDEF
AS_PROJECT_DFLT.BANNER_PERM
     18483**DCL     18484--REDEF
AS_PROJECT_DFLT.BUDGET.MACCT
     18388**DCL     18392--REDEF
AS_PROJECT_DFLT.BUDGET.MAX_PROJECTS
     18401**DCL     18404--REDEF
AS_PROJECT_DFLT.BUDGET.PACCUM
     18384**DCL     18386--REDEF
AS_PROJECT_DFLT.BUDGET.PMAXC
     18379**DCL     18381--REDEF
AS_PROJECT_DFLT.SETUP_CHRA.TXT
     18499**DCL     18500--REDEF   18501--REDEF
AS_PROJECT_DFLT_DREC.PASSWORD
     19705**DCL     19709--REDEF
AS_PROJECT_DFLT_DREC.RENAME
     19728**DCL     19729--REDEF
AS_PROJECT_DREC.PASSWORD
     19543**DCL     19547--REDEF
AS_PROJECT_DREC.RENAME
     19566**DCL     19567--REDEF
AS_PROJ_ADMIN.BANNER_PERM
     18127**DCL     18128--REDEF
AS_PROJ_ADMIN.BUDGET.MACCT
     18032**DCL     18036--REDEF
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:31   
AS_PROJ_ADMIN.BUDGET.MAX_PROJECTS
     18045**DCL     18048--REDEF
AS_PROJ_ADMIN.BUDGET.PACCUM
     18028**DCL     18030--REDEF
AS_PROJ_ADMIN.BUDGET.PMAXC
     18023**DCL     18025--REDEF
AS_PROJ_ADMIN.SETUP_CHRA.TXT
     18143**DCL     18144--REDEF   18145--REDEF
AS_PROJ_ADMIN_DREC.PASSWORD
     19381**DCL     19385--REDEF
AS_PROJ_ADMIN_DREC.RENAME
     19404**DCL     19405--REDEF
AS_USERS.BANNER_PERM
     17593**DCL     17594--REDEF
AS_USERS.BUDGET.MACCT
     17498**DCL     17502--REDEF
AS_USERS.BUDGET.MAX_PROJECTS
     17511**DCL     17514--REDEF
AS_USERS.BUDGET.PACCUM
     17494**DCL     17496--REDEF
AS_USERS.BUDGET.PMAXC
     17489**DCL     17491--REDEF
AS_USERS.SETUP_CHRA.TXT
     17609**DCL     17610--REDEF   17611--REDEF
AS_USERS_CONSTANT.BANNER_PERM
     18661**DCL     18662--REDEF
AS_USERS_CONSTANT.BUDGET.MACCT
     18566**DCL     18570--REDEF
AS_USERS_CONSTANT.BUDGET.MAX_PROJECTS
     18579**DCL     18582--REDEF
AS_USERS_CONSTANT.BUDGET.PACCUM
     18562**DCL     18564--REDEF
AS_USERS_CONSTANT.BUDGET.PMAXC
     18557**DCL     18559--REDEF
AS_USERS_CONSTANT.SETUP_CHRA.TXT
     18677**DCL     18678--REDEF   18679--REDEF
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:32   
DSEG1$
     17257**DCL     20148--IMP-PTR 20304<>CALL    20308>>IF      20312>>CALLBLT
DSEG1SIZE
     17258**DCL     20302>>ASSIGN
DSEG2$
     17258**DCL     20314<>CALL
DSEG2SIZE
     17258**DCL     20313>>ASSIGN
ERR_CODE
     17251**DCL     17252--REDEF
I
     20251**DCL     20258<<CALLBLT 20259>>ASSIGN  20261>>CALLBLT
KL$TREC.ATYP
     20153**DCL     20308>>IF
KL$TREC.PASSWORD
     20206**DCL     20210--REDEF
KL$TREC.RENAME
     20229**DCL     20230--REDEF
KL$TREC.TWSN#
     20203**DCL     20312>>CALLBLT
KL_DEFAULT.PASSWORD
     19867**DCL     19871--REDEF
KL_DEFAULT.RENAME
     19890**DCL     19891--REDEF
KL_DFLT.PASSWORD
     19057**DCL     19061--REDEF
KL_DFLT.RENAME
     19080**DCL     19081--REDEF
KL_DREC.PASSWORD
     18895**DCL     18899--REDEF
KL_DREC.RENAME
     18918**DCL     18919--REDEF
KL_DREC_CNT.PASSWORD
     18782**DCL     18786--REDEF
KL_DREC_CNT.RENAME
     18805**DCL     18806--REDEF
PL6.E3A0      #001=ASB$INIT_GET_TERMINAL File=ASB$FIND_TERMINAL.:E05TSI          TUE 07/29/97 09:24 Page:33   
PREV_KEY
     17132**DCL     20266<<ASSIGN  20295>>IF      20296>>ASSIGN  20309<<ASSIGN
PROJ_KEY.TEXT
     17129**DCL     17129--REDEF
PROJ_KEY.TXT.PROJECT
     17129**DCL     17129--REDEF
QUIT_KEY.COUNT
     17131**DCL     20262<<ASSIGN
QUIT_KEY.TEXT
     17132**DCL     20261<<CALLBLT
READ_SEQ
     20304**LABEL   20308--GOTO
REMEM_VAR
     17255**DCL     17255--REDEF
REM_FCMD
     17255**DCL     17256--REDEF
START_KEY
     17130**DCL     20264>>ASSIGN  20266>>ASSIGN
START_KEY.COUNT
     17131**DCL     20260<<ASSIGN
START_KEY.TEXT
     17131**DCL     20257<<ASSIGN  20259<<ASSIGN
STAT_ARS
     20252**DCL     20302<<ASSIGN  20304<>CALL    20313<<ASSIGN  20314<>CALL
TERMINAL
     20128**DCL         6--PROC    20269--ENTRY   20310<<ASSIGN
TERMINAL.TEXT
     20130**DCL     20258>>CALLBLT 20259>>ASSIGN  20261>>CALLBLT
USERS_KEY
     17126**DCL     20264<<ASSIGN  20295>>IF      20296<<ASSIGN  20309>>ASSIGN  20310>>ASSIGN
USERS_KEY.COUNT
     17126**DCL     20311<<ASSIGN
USERS_KEY.TEXT
     17126**DCL     17127--REDEF   17127--REDEF   17127--REDEF   17128--REDEF
USERS_KEY.TXTC
     17127**DCL     20312<<CALLBLT

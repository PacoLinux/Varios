VERSION E05

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:1    
        1        1        /*M* LLC$PASS2 - Pass 2 module of FEPLINK                           */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* PLM=4,STI=0,IND=4,CTI=3,DCI=4,ECI=4,CSI=0,THI=0,DTI=0,ENI=4,
        8        8             CLM=0,SQB,NTB,MOC,CCI=3,NLB,MCL=0,EDMC*/
        9        9        /*F* NAME:         LLC$PASS2
       10       10             PURPOSE:      Writes program text and performs relocations.
       11       11                           All text is written first, then relocations are
       12       12                           applied since the XUO routines do not generate
       13       13                           duplicate records which overlay the same memory
       14       14                           locations                                        */
       15       15        LLC$PASS2: PROC (AVAIL$);
       16       16    1   DCL AVAIL$ PTR;
       17       17        %INCLUDE LL_DATA_R;
       18       53        %INCLUDE LL_MACS_C;
       19      407        %INCLUDE LL_SUBS_C;
       20      536        %INCLUDE B$OBJECT_C;
       21     3966        %INCLUDE CP_6;
       22     4047        %B$PRGRELKEY ( NAME = B$PRGKEY );
       23     4078        %B$PRGRELKEY ( NAME = B$RELOCKEY );
       24     4109        %B$RELOC1;
       25     4140        %B$RELOC2;
       26     4207        %RU_FLAVORS;
       27     4213        %B$FEP_RUKEY (NAME=B$RUKEY,STCLASS = STATIC );
       28     4237        %B$OUHEAD ( STCLASS = BASED );
       29     4355        %B$HEAD ( NAME = LL_HEAD,
       30     4356         STCLASS = SYMREF );
       31     4556        %LL$OU_ENTRY ( NAME = OU_ENTRY );
       32     4604        %B$FEP_SECTION ( NAME = LL_SECTION );
       33     4643        %B$RECORDSUBS;
       34     4671    1   DCL 1 OU_FID(0:0) BASED ALIGNED,
       35     4672    1         2 NAME CHAR(50),
       36     4673    1         2 BIAS SBIN WORD;
       37     4674    1   DCL SECT_TEXT CHAR(3) CALIGNED;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:2    
       38     4675    1   DCL REPEAT_COUNT SBIN WORD;
       39     4676    1   DCL PROCESSTYPE UBIN WORD ALIGNED;
       40     4677    1   DCL RELOC_FOUND# BIT(1) UNAL;
       41     4678    1   DCL SIZE UBIN WORD UNAL;
       42     4679    1   DCL TPTR$ PTR;
       43     4680    1   DCL DEFN$ PTR;
       44     4681    1   DCL REFN$ PTR;
       45     4682    1   DCL ENTREF$ PTR;
       46     4683    1   DCL SYMREF$ PTR;
       47     4684    1   DCL UNSAT_SYMREF$ PTR;
       48     4685    1   DCL UNSAT_ENTREF$ PTR;
       49     4686    1   DCL PROG$ PTR;
       50     4687    1   DCL RELOC$ PTR;
       51     4688    1   DCL TOTAL_SIZE UBIN WORD ALIGNED;
       52     4689    1   DCL I UBIN WORD ALIGNED;
       53     4690    1   DCL J UBIN WORD ALIGNED;
       54     4691    1   DCL K UBIN WORD ALIGNED;
       55     4692    1   DCL L UBIN WORD ALIGNED;
       56     4693    1   DCL M UBIN WORD ALIGNED;
       57     4694    1   DCL N UBIN WORD ALIGNED;
       58     4695    1   DCL TYPE UBIN WORD ALIGNED;
       59     4696    1   DCL BUFFER$ PTR;
       60     4697    1   DCL NREFS UBIN WORD ALIGNED;
       61     4698    1   DCL REF$ PTR;
       62     4699    1   DCL ROOT$ PTR;
       63     4700    1   DCL NUNSATS UBIN WORD ALIGNED;
       64     4701    1   DCL SECT_PTR$ PTR;
       65     4702    1   DCL SECT_BASE UBIN WORD ALIGNED;
       66     4703    1   DCL PROG_BASE UBIN WORD ALIGNED;
       67     4704    1   DCL TEXT_OFFSET UBIN WORD ALIGNED;
       68     4705    1   DCL NPAGES UBIN WORD ALIGNED;
       69     4706    1   DCL LOWER_BOUND UBIN WORD ALIGNED;
       70     4707    1   DCL UPPER_BOUND UBIN WORD ALIGNED;
       71     4708    1   DCL 1 OUWORD(0:0) BASED ALIGNED,
       72     4709    1         2 BYTE1 UBIN(8) UNAL,
       73     4710    1         2 BYTE2 UBIN(8) UNAL,
       74     4711    1         2 * BIT(20) UNAL;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:3    
       75     4712    1   DCL PROG_SIZE UBIN WORD ALIGNED;
       76     4713    1   DCL LENGTH UBIN WORD ALIGNED;
       77     4714    1   DCL OPNDTYP UBIN WORD ALIGNED;
       78     4715    1   DCL OPERAND UBIN WORD ALIGNED;
       79     4716    1   DCL FIELD UBIN WORD ALIGNED;
       80     4717    1   DCL RELOCOP UBIN WORD ALIGNED;
       81     4718    1   DCL DISP UBIN WORD ALIGNED;
       82     4719    1   DCL VALUE SBIN(36) ALIGNED;
       83     4720    1   DCL EVALOP UBIN WORD ALIGNED;
       84     4721    1   DCL STBIT UBIN WORD ALIGNED;
       85     4722    1   DCL ENDBIT UBIN WORD ALIGNED;
       86     4723    1   DCL ACCUM SBIN(36) ALIGNED;
       87     4724    1   DCL PAGE_IN UBIN WORD ALIGNED;
       88     4725    1   DCL PAGE UBIN WORD ALIGNED;
       89     4726    1   DCL LOCATION UBIN WORD ALIGNED;
       90     4727    1   DCL FIELD_LENGTH UBIN WORD ALIGNED;
       91     4728    1   DCL TEMP_FIELD BIT(32) UNAL;
       92     4729    1   DCL FIELD$ PTR;
       93     4730    1   DCL BIT$ PTR;
       94     4731    1   DCL ISADDR UBIN WORD BASED ALIGNED;
       95     4732    1   DCL LLW$WRTDEF ENTRY(4);
       96     4733    1   DCL LLE$READOU ENTRY(5) ALTRET;
       97     4734    1   DCL NEXT_RU_REC UBIN;
       98     4735    1   DCL RU_RECX UBIN;
       99     4736    1   DCL RU_PAGE UBIN;
      100     4737    1   DCL RU_REC$ PTR;
      101     4738    1   DCL 1 RU_RECS ALIGNED,
      102     4739    1         2 PAGE(0:1) SBIN,
      103     4740    1         2 REC$(0:1) PTR,
      104     4741    1         2 MODIFIED(0:1) BIT(1) ALIGNED,
      105     4742    1         2 REC0( 0:%(LL_PRECSIZE-1) ) UBIN,
      106     4743    1         2 REC1( 0:%(LL_PRECSIZE-1) ) UBIN,
      107     4744    1         2 * BIT(72) /* slop for reloc code */;
      108     4745    1   DCL 1 RU_WORD ALIGNED BASED(FIELD$),
      109     4746    1         2 BYTE1 UBIN(9) UNAL,
      110     4747    1         2 BYTE2 UBIN(9) UNAL,
      111     4748    1         2 BYTE3 UBIN(9) UNAL,
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:4    
      112     4749    1         2 BYTE4 UBIN(9) UNAL;
      113     4750    1   DCL LLM$MON_SVC ENTRY(4) ALTRET;
      114     4751    1   DCL LLS$SATREF ENTRY(8);
      115     4752    1   DCL LLC$SCHEMA ENTRY(4);
      116     4753        %EJECT;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:5    
      117     4754    1       RU_RECS.PAGE(0) = -1;
      118     4755    1       RU_RECS.PAGE(1) = -1;
      119     4756    1       RU_RECS.MODIFIED(0) = '0'B;
      120     4757    1       RU_RECS.MODIFIED(1) = '0'B;
      121     4758    1       RU_RECS.REC$(0) = ADDR(RU_RECS.REC0);
      122     4759    1       RU_RECS.REC$(1) = ADDR(RU_RECS.REC1);
      123     4760    1       RU_RECX = 0;
      124     4761    1       NEXT_RU_REC = 0;
      125     4762    1       TPTR$ = LL_R_OU$;
      126     4763    1       DEFN$ = LL_DNAME_VEC.P$;
      127     4764    1       REFN$ = PINCRW (AVAIL$, LL_HEAD.NRECSIZE);
      128     4765    2       DO I = 0 TO LL_NOU - 1;
      129     4766    2           LL_FIRSTFID = LL_OF$->OU_FID.NAME(I);
      130     4767    2           CALL LLM$MON_SVC (LL#FID);
      131     4768    2           CALL LLM$MON_SVC (LL#OPENEF);
      132     4769    3           DO WHILE (TPTR$ ~= ADDR(NIL) AND TPTR$ -> OU_ENTRY.OF = I);
      133     4770    3               LL_OU_PTR$ = TPTR$;
      134     4771    3               LL_STATE = LL#PASS2;
      135     4772    3               SIZE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.RNAMSIZ;
      136     4773    3               ENTREF$ = PINCRW (REFN$, SIZE);
      137     4774    3               SIZE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.EREFSIZ;
      138     4775    3               SYMREF$ = PINCRW (ENTREF$, SIZE*2);
      139     4776    3               UNSAT_ENTREF$ = PINCRW (ENTREF$, SIZE);
      140     4777    3               SIZE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.SREFSIZ;
      141     4778    3               UNSAT_SYMREF$ = PINCRW (SYMREF$, SIZE);
      142     4779    3               PROG$ = PINCRW (SYMREF$, SIZE*2);
      143     4780    3               SIZE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.PROGPSIZ;
      144     4781    3               RELOC$ = PINCRW (PROG$, SIZE);
      145     4782    3               SIZE = SIZE + TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.RELPSIZ;
      146     4783    3               TOTAL_SIZE = SIZE + POFFC (RELOC$, REFN$);
      147     4784    3               CALL LLM$MON_SVC (LL#GETMEM, TOTAL_SIZE, REFN$);
      148     4785    4               DO J = 0 TO 2;
      149     4786    5                   DO CASE (J);
      150     4787    5                   CASE (0);
      151     4788    5                       TYPE = %TYPRNAM;
      152     4789    5                       BUFFER$ = REFN$;
      153     4790    5                       SIZE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.RNAMSIZ;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:6    
      154     4791    5                       PAGE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.RNAMPSIZ * 4;
      155     4792    5                   CASE (1);
      156     4793    5                       TYPE = %TYPEREF;
      157     4794    5                       BUFFER$ = ENTREF$;
      158     4795    5                       SIZE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.EREFSIZ;
      159     4796    5                       PAGE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.EREFPSIZ * 4;
      160     4797    5                   CASE (2);
      161     4798    5                       TYPE = %TYPSREF;
      162     4799    5                       BUFFER$ = SYMREF$;
      163     4800    5                       SIZE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.SREFSIZ;
      164     4801    5                       PAGE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.SREFPSIZ * 4;
      165     4802    5                       END;
      166     4803    4                   SIZE = SIZE * 4;
      167     4804    4                   CALL LLE$READOU ( TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.UTS,
      168     4805    4                      TYPE, SIZE, PAGE, BUFFER$ ) ALTRET ( DONE );
      169     4806    4   DONE:
      170     4807    4                   END;
      171     4808    4               DO TYPE = %TYPEREF TO %TYPSREF BY %(TYPSREF - TYPEREF);
      172     4809    5                   DO CASE (TYPE);
      173     4810    5                   CASE (%TYPEREF);
      174     4811    5                       NREFS = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.EREFSIZ;
      175     4812    5                       REF$ = ENTREF$;
      176     4813    5                       ROOT$ = LL_ENTDEF_R$;
      177     4814    5                   CASE (%TYPSREF);
      178     4815    5                       NREFS = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.SREFSIZ;
      179     4816    5                       REF$ = SYMREF$;
      180     4817    5                       ROOT$ = LL_SYMDEF_R$;
      181     4818    5                       END;
      182     4819    4                   NUNSATS = 0;
      183     4820    4                   CALL LLS$SATREF (REF$, NREFS, ROOT$, NUNSATS,
      184     4821    4                      TYPE, DEFN$, REFN$, TPTR$);
      185     4822    4                   END;
      186     4823    3               B$PRGKEY.KEYSIZ = 11;
      187     4824    3               B$PRGKEY.NOTHD = '777'O;
      188     4825    3               B$PRGKEY.UTS = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.UTS;
      189     4826    3               B$PRGKEY.SUBTYPE = 0;
      190     4827    3               B$PRGKEY.TYPE = %TYPPROG;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:7    
      191     4828    3               B$PRGKEY.SECTNUM = 0;
      192     4829    3               PROCESSTYPE = 0;
      193     4830    3               RELOC_FOUND# = '0'B;
      194     4831    3               B$RUKEY.TYPE = %TYPPROG;
      195     4832    3               B$PRGKEY.OFFSET = 0;
      196     4833    3               SIZE = MAXIMUM( TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.PROGPSIZ,
      197     4834    3                  TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.RELPSIZ ) * 4 - 1;
      198     4835    3   BLETCHO:
      199     4836    3               CALL LLM$MON_SVC (LL#POSEF, 0, 0, B$PRGKEY);
      200     4837    4               DO WHILE (B$PRGKEY.TYPE = %TYPPROG);
      201     4838    4                   CALL LLM$MON_SVC (LL#RDEFSQ, PINCRW(PROG$,0), SIZE,
      202     4839    4                      B$PRGKEY) ALTRET (NO_DEBUG);
      203     4840    4                   IF (B$PRGKEY.TYPE ~= %TYPPROG) THEN GOTO GET_NEXT_RCD;
      204     4841         /*************************************************\
      205     4842         *                                                 *
      206     4843         * SECT_BASE    :    base address of referenced    *
      207     4844         *                   section                       *
      208     4845         * PROG_BASE    :    base address of program text  *
      209     4846         *                   or relocation directives      *
      210     4847         *                   which were just read          *
      211     4848         * PROG_SIZE    :    size of program record in L6  *
      212     4849         *                   words or size of relocation   *
      213     4850         *                   record in L66 words           *
      214     4851         * PAGE_IN      :    address of core image page    *
      215     4852         *                   which is to contain the first *
      216     4853         *                   instruction referenced by the *
      217     4854         *                   text or relocation record     *
      218     4855         *                   just read                     *
      219     4856         * TEXT_OFFSET  :    L6 word offset into the core  *
      220     4857         *                   image record locating the     *
      221     4858         *                   first word referenced by the  *
      222     4859         *                   record just read              *
      223     4860         *                                                 *
      224     4861         \*************************************************/
      225     4862    4                   CALL LLM$MON_SVC (LL#SIZEEF, PROG_SIZE);
      226     4863    4                   PROG_SIZE = PROG_SIZE / 4;
      227     4864    4                   SECT_PTR$ = TPTR$ -> OU_ENTRY.SECT$;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:8    
      228     4865    4                   SECT_PTR$ = PINCRW(SECT_PTR$, B$PRGKEY.SECTNUM*SIZEW(LL_SECTION));
      229     4866    4                   SECT_BASE = SECT_PTR$ -> LL_SECTION.ISADDR;
      230     4867    4                   PROG_BASE = SECT_BASE + B$PRGKEY.OFFSET;
      231     4868    4                   IF PROCESSTYPE = 0 AND B$PRGKEY.SUBTYPE = 0 AND
      232     4869    4                      PROG_BASE + PROG_SIZE - 1 >
      233     4870    4                      SECT_PTR$ -> LL_SECTION.SIZE + SECT_PTR$ ->
      234     4871    5                      LL_SECTION.ISADDR THEN DO;
      235     4872    5                       LL_HEAD.SEV = 16; /* OU ERRORS */
      236     4873    5                       CALL BINCHAR ( SECT_TEXT, B$PRGKEY.SECTNUM );
      237     4874    5                       CALL CONCAT ( LL_DOBUF,
      238     4875    5                          'A  Object language error in object unit ',
      239     4876    5                          TPTR$ -> OU_ENTRY.OUNAME.TEXT,
      240     4877    5                          ' in object file ',
      241     4878    5                          LL_OF$->OU_FID.NAME(TPTR$->OU_ENTRY.OF));
      242     4879    5                       CALL LLM$MON_SVC ( LL#WRITEDO );
      243     4880    5                       CALL CONCAT ( LL_DOBUF,
      244     4881    5                          'A    Control section ',
      245     4882    5                          SECT_TEXT,
      246     4883    5                          ' is initialized with more data than has',
      247     4884    5                          ' has been allocated.' );
      248     4885    5                       CALL LLM$MON_SVC ( LL#WRITEDO );
      249     4886    5                       END;
      250     4887    5                   DO CASE (PROCESSTYPE);
      251     4888    5                   CASE (0); /* Program text */
      252     4889    6                       IF ( B$PRGKEY.SUBTYPE = 0 AND PROG_SIZE > 0 ) THEN DO;
      253     4890    6                           PAGE_IN = ( PROG_BASE / LL_PRECMEM ) * LL_PRECMEM;
      254     4891    6                           TEXT_OFFSET = PROG_BASE - PAGE_IN;
      255     4892    6                           CALL GET_PAGE( PAGE_IN );
      256     4893    6                           RU_RECS.MODIFIED(RU_RECX) = '1'B;
      257     4894    6                           M = 1;
      258     4895    6                           L = LL_PRECMEM - TEXT_OFFSET;
      259     4896    6                           FIELD$ = PINCRW (RU_REC$,TEXT_OFFSET/2);
      260     4897    7                           IF MOD(TEXT_OFFSET,2) ~= 0 THEN DO;
      261     4898    7                               RU_WORD.BYTE3 = PROG$ -> OUWORD.BYTE1(0);
      262     4899    7                               RU_WORD.BYTE4 = PROG$ -> OUWORD.BYTE2(0);
      263     4900    7                               FIELD$ = PINCRW(FIELD$,1);
      264     4901    7                               L = L - 1;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:9    
      265     4902    7                               M = 2;
      266     4903    7                               END;
      267     4904    6                           UPPER_BOUND = TEXT_OFFSET + PROG_SIZE;
      268     4905    7                           DO WHILE '1'B;
      269     4906    7                               K = MINIMUM (M+L-1, PROG_SIZE);
      270     4907    8                               DO WHILE '1'B;
      271     4908    8                                   IF M >= K THEN EXIT;
      272     4909    8                                   RU_WORD.BYTE1 = PROG$->OUWORD.BYTE1(M-1);
      273     4910    8                                   RU_WORD.BYTE2 = PROG$->OUWORD.BYTE2(M-1);
      274     4911    8                                   RU_WORD.BYTE3 = PROG$->OUWORD.BYTE1(M);
      275     4912    8                                   RU_WORD.BYTE4 = PROG$->OUWORD.BYTE2(M);
      276     4913    8                                   FIELD$ = PINCRW(FIELD$,1);
      277     4914    8                                   M = M + 2;
      278     4915    8                                   END;
      279     4916    7                               IF K=PROG_SIZE AND MOD(UPPER_BOUND,2)~=0
      280     4917    8                               THEN DO;
      281     4918    8                                   RU_WORD.BYTE1 = PROG$->OUWORD.BYTE1(M-1);
      282     4919    8                                   RU_WORD.BYTE2 = PROG$->OUWORD.BYTE2(M-1);
      283     4920    8                                   M = M + 1;
      284     4921    8                                   END;
      285     4922    7                               IF M > PROG_SIZE THEN EXIT;
      286     4923    7                               L = LL_PRECMEM;
      287     4924    7                               CALL GET_PAGE( RU_PAGE + LL_PRECMEM );
      288     4925    7                               RU_RECS.MODIFIED(RU_RECX) = '1'B;
      289     4926    7                               FIELD$ = RU_REC$;
      290     4927    7                               END;
      291     4928    6                           END;
      292     4929    6                       ELSE DO;
      293     4930    6                           IF NOT RELOC_FOUND#
      294     4931    7                           THEN DO;
      295     4932    7                               B$RELOCKEY = B$PRGKEY;
      296     4933    7                               RELOC_FOUND# = '1'B;
      297     4934    7                               END;
      298     4935    6                           END;
      299     4936    5                   CASE (1); /* Relocation directives */
      300     4937    6                       IF ( B$PRGKEY.SUBTYPE = 1 ) THEN DO;
      301     4938    6                           RELOC$ = PROG$;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:10   
      302     4939    7                           DO WHILE (PROG_SIZE > 0);
      303     4940    7                               IF (RELOC$ -> B$RELOC1.OPNDTYP > 0)
      304     4941    7                               THEN LENGTH = 1;
      305     4942    7                               ELSE
      306     4943    7                                   IF (RELOC$ -> B$RELOC2.EVALOP
      307     4944    7                                      = 0) THEN LENGTH = 2;
      308     4945    7                                   ELSE
      309     4946    7                                       LENGTH = 3;
      310     4947    8                               DO CASE (LENGTH);
      311     4948    8                               CASE (1); /* Short form */
      312     4949    8                                   OPNDTYP = RELOC$ ->
      313     4950    8                                      B$RELOC1.OPNDTYP;
      314     4951    8                                   OPERAND = RELOC$ ->
      315     4952    8                                      B$RELOC1.OPERAND;
      316     4953    8                                   FIELD = RELOC$ ->
      317     4954    8                                      B$RELOC1.FIELD;
      318     4955    8                                   RELOCOP = BITBIN(RELOC$ ->
      319     4956    8                                      B$RELOC1.OP) + 1;
      320     4957    8                                   DISP = RELOC$ ->
      321     4958    8                                      B$RELOC1.DISP;
      322     4959    8                                   VALUE = 0;
      323     4960    8                                   EVALOP = 0;
      324     4961    8                               CASE (2); /* Long form */
      325     4962    8                                   VALUE = 0;
      326     4963    8                                   GOTO LENGTH_3;
      327     4964    8                               CASE (3);
      328     4965    8                                   VALUE = RELOC$ ->
      329     4966    8                                      B$RELOC2.VALUE;
      330     4967    8   LENGTH_3:
      331     4968    8                                   OPNDTYP = RELOC$ ->
      332     4969    8                                      B$RELOC2.OPNDTYP;
      333     4970    8                                   EVALOP = RELOC$ ->
      334     4971    8                                      B$RELOC2.EVALOP;
      335     4972    8                                   RELOCOP = RELOC$ ->
      336     4973    8                                      B$RELOC2.RELOCOP;
      337     4974    8                                   OPERAND = RELOC$ ->
      338     4975    8                                      B$RELOC2.OPERAND;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:11   
      339     4976    8                                   DISP = RELOC$ ->
      340     4977    8                                      B$RELOC2.DISP;
      341     4978    8                                   STBIT = RELOC$ ->
      342     4979    8                                      B$RELOC2.STBIT;
      343     4980    8                                   ENDBIT = RELOC$ ->
      344     4981    8                                      B$RELOC2.ENDBIT;
      345     4982    8                                   END;
      346     4983    7                               IF LL_FLAGS.VECTOR# AND I = 0
      347     4984    7                               THEN PROG_SIZE = PROG_SIZE - 3;
      348     4985    7                               ELSE
      349     4986    7                                   PROG_SIZE = PROG_SIZE - LENGTH;
      350     4987    8                               IF (LENGTH = 1) THEN DO;
      351     4988    9                                   DO CASE (FIELD);
      352     4989    9                                   CASE (0); /* First byte */
      353     4990    9                                       STBIT = 0;
      354     4991    9                                       ENDBIT = 7;
      355     4992    9                                   CASE (1); /* Last byte */
      356     4993    9                                       STBIT = 8;
      357     4994    9                                       ENDBIT = 15;
      358     4995    9                                   CASE (3); /* LAF addr */
      359     4996    9                                       STBIT = 0;
      360     4997    9                                       ENDBIT = 31;
      361     4998    9                                   CASE (4); /* L6 word */
      362     4999    9                                       STBIT = 0;
      363     5000    9                                       ENDBIT = 15;
      364     5001    9                                       END;
      365     5002    8                                   END;
      366     5003    8                               DO CASE (OPNDTYP);
      367     5004    8                               CASE (1);
      368     5005    8                                   ACCUM = PINCRW (TPTR$ ->
      369     5006    8                                      OU_ENTRY.SECT$,
      370     5007    8                                      SIZEW(LL_SECTION)*OPERAND) ->
      371     5008    8                                      LL_SECTION.ISADDR;
      372     5009    8                               CASE (2);
      373     5010    8                                   ACCUM = PINCRW (ENTREF$,
      374     5011    8                                      OPERAND) -> ISADDR;
      375     5012    8                               CASE (3);
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:12   
      376     5013    8                                   ACCUM = PINCRW (SYMREF$,
      377     5014    8                                      OPERAND) -> ISADDR;
      378     5015    8                               CASE (4);
      379     5016    8                                   ACCUM = OPERAND;
      380     5017    8                                   END;
      381     5018    7                               LOCATION = PROG_BASE + DISP;
      382     5019    7                               REPEAT_COUNT = 0;
      383     5020    8                               DO CASE (EVALOP);
      384     5021    8                               CASE (1);
      385     5022    8                                   ACCUM = ACCUM + VALUE;
      386     5023    8                               CASE (2);
      387     5024    8                                   ACCUM = ACCUM - VALUE;
      388     5025    8                               CASE (3);
      389     5026    8                                   ACCUM = ACCUM * VALUE;
      390     5027    8                               CASE (4);
      391     5028    8                                   ACCUM = ACCUM / VALUE;
      392     5029    8                               CASE (5);
      393     5030    9                                   DO K = 1 TO VALUE;
      394     5031    9                                       ACCUM = ACCUM / 2;
      395     5032    9                                       END;
      396     5033    8                               CASE (6);
      397     5034    9                                   DO K = 1 TO VALUE;
      398     5035    9                                       ACCUM = ACCUM * 2;
      399     5036    9                                       END;
      400     5037    8                               CASE (7);
      401     5038    8                                   REPEAT_COUNT = OPERAND - 1;
      402     5039    8                                   ACCUM = VALUE;
      403     5040    8                               CASE (8);
      404     5041    8                                   ACCUM = ACCUM - LOCATION
      405     5042    8                                      + VALUE;
      406     5043    8                                   END;
      407     5044    7                               FIELD_LENGTH = ENDBIT - STBIT + 1;
      408     5045    8                               DO N = 0 TO REPEAT_COUNT;
      409     5046    8                                   CALL RELOC_FIELD;
      410     5047    8                                   ENDBIT = ENDBIT + FIELD_LENGTH;
      411     5048    8                                   STBIT = STBIT + FIELD_LENGTH;
      412     5049    8                                   END;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:13   
      413     5050    7                               IF LL_FLAGS.VECTOR# AND I = 0
      414     5051    7                               THEN RELOC$ = PINCRW(RELOC$,3);
      415     5052    7                               ELSE
      416     5053    7                                   RELOC$ = PINCRW(RELOC$, LENGTH);
      417     5054    7                               END;
      418     5055    6                           END;
      419     5056    5                       END;
      420     5057    4   GET_NEXT_RCD:
      421     5058    4                   END;
      422     5059    3   NO_DEBUG:
      423     5060    4               IF ( PROCESSTYPE = 0 AND RELOC_FOUND# ) THEN DO;
      424     5061    4                   RELOC_FOUND# = '0'B;
      425     5062    4                   PROCESSTYPE = 1;
      426     5063    4                   B$PRGKEY = B$RELOCKEY;
      427     5064    4                   GOTO BLETCHO;
      428     5065    4                   END;
      429     5066    3               CALL LLC$SCHEMA (TPTR$,K,ENTREF$,SYMREF$);
      430     5067    3               IF ( K > LL_HEAD.SEV ) THEN LL_HEAD.SEV = K;
      431     5068    3               TPTR$ = TPTR$ -> OU_ENTRY.NEXT$;
      432     5069    3               END;
      433     5070    2           CALL LLM$MON_SVC (LL#CLOSEEF);
      434     5071    2           END;
      435     5072    1       CALL PUT_REC( 0 );
      436     5073    1       CALL PUT_REC( 1 );
      437     5074
      438     5075    1       CALL LLW$WRTDEF (LL_ENTDEF_R$, AVAIL$, %TYPEDEF, DEFN$);
      439     5076    1       CALL LLW$WRTDEF (LL_SYMDEF_R$, AVAIL$, %TYPSDEF, DEFN$);
      440     5077    1       RETURN;
      441     5078        %EJECT;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:14   
      442     5079    1   GET_PAGE: PROC( P_PAGE );
      443     5080
      444     5081    2   DCL P_PAGE UBIN;
      445     5082    2   DCL RU_WORDS(0:%(LL_PRECSIZE-1)) UBIN BASED;
      446     5083
      447     5084    2       IF RU_PAGE = P_PAGE
      448     5085    2       THEN
      449     5086    2           RETURN;
      450     5087
      451     5088    2       IF RU_RECX = 0
      452     5089    2       THEN RU_RECX = 1;
      453     5090    2       ELSE RU_RECX = 0;
      454     5091    2       IF RU_RECS.PAGE(RU_RECX) = P_PAGE
      455     5092    2       THEN
      456     5093    2           GOTO SWAPPED_PAGE;
      457     5094
      458     5095    2       CALL PUT_REC( NEXT_RU_REC );
      459     5096
      460     5097    2       B$RUKEY.ISADDR = P_PAGE;
      461     5098    2       CALL LLM$MON_SVC (LL#READRU, RU_RECS.REC$(NEXT_RU_REC), LL_PRECBOUND, B$RUKEY)
      462     5099    3       WHENALTRETURN DO;
      463     5100    3           RU_RECS.REC$(NEXT_RU_REC)->RU_WORDS = '0'B;
      464     5101    3           END;
      465     5102
      466     5103    2       RU_RECX = NEXT_RU_REC;
      467     5104    2       RU_RECS.PAGE(RU_RECX) = P_PAGE;
      468     5105
      469     5106    2   SWAPPED_PAGE:;
      470     5107    2       IF RU_RECX = 0
      471     5108    2       THEN NEXT_RU_REC = 1;
      472     5109    2       ELSE NEXT_RU_REC = 0;
      473     5110    2       RU_REC$ = RU_RECS.REC$(RU_RECX);
      474     5111    2       RU_PAGE = P_PAGE;
      475     5112
      476     5113    2   END GET_PAGE;
      477     5114        %EJECT;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:15   
      478     5115    1   PUT_REC: PROC( P_RECX );
      479     5116
      480     5117    2   DCL P_RECX UBIN;
      481     5118
      482     5119    2       IF RU_RECS.MODIFIED(P_RECX)
      483     5120    3       THEN DO;
      484     5121    3           B$RUKEY.ISADDR = RU_RECS.PAGE(P_RECX);
      485     5122    3           CALL LLM$MON_SVC (LL#WRITERU, RU_RECS.REC$(P_RECX), LL_PRECBOUND, B$RUKEY);
      486     5123    3           RU_RECS.MODIFIED( P_RECX ) = '0'B;
      487     5124    3           END;
      488     5125
      489     5126    2   END PUT_REC;
      490     5127        %EJECT;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:16   
      491     5128    1   RELOC_FIELD: PROC;
      492     5129
      493     5130    2   DCL BIT_K BIT(K) BASED UNAL;
      494     5131    2   DCL BIT_FL BIT(FIELD_LENGTH) BASED UNAL;
      495     5132    2   DCL BIN_FIELD SBIN;
      496     5133
      497     5134
      498     5135
      499     5136
      500     5137    2       PAGE_IN = ( ( LOCATION + STBIT/16 ) / LL_PRECMEM ) * LL_PRECMEM;
      501     5138    2       CALL GET_PAGE( PAGE_IN );
      502     5139    2       RU_RECS.MODIFIED( RU_RECX ) = '1'B;
      503     5140
      504     5141    2       IF ( LOCATION + (ENDBIT / 16)) >= ( RU_PAGE + LL_PRECMEM )
      505     5142    3       THEN DO;
      506     5143    3           PAGE_IN = RU_PAGE;
      507     5144    3           IF RU_RECX ~= 0
      508     5145    4           THEN DO;
      509     5146    4               CALL PUT_REC(0);
      510     5147    4               RU_RECS.REC0 = RU_RECS.REC1;
      511     5148    4               RU_RECS.PAGE(0) = RU_RECS.PAGE(1);
      512     5149    4               RU_RECS.MODIFIED(0) = RU_RECS.MODIFIED(1);
      513     5150    4               RU_RECS.MODIFIED(1) = '0'B;
      514     5151    4               END;
      515     5152    3           NEXT_RU_REC = 1;
      516     5153    3           CALL GET_PAGE( PAGE_IN + LL_PRECMEM );
      517     5154    3           RU_RECS.MODIFIED(1) = '1'B;
      518     5155    3           RU_RECX = 0;
      519     5156    3           RU_PAGE = PAGE_IN;
      520     5157    3           RU_REC$ = RU_RECS.REC$(0);
      521     5158    3           END;
      522     5159
      523     5160    2       FIELD$ = PINCRB (RU_REC$, 9*((LOCATION-RU_PAGE)*2+STBIT/8)+MOD(STBIT,8)+1);
      524     5161    3       IF (FIELD_LENGTH > 32) THEN DO;
      525     5162    3           LL_DOBUF = 'A  ***Bad field';
      526     5163    3           CALL LLM$MON_SVC (LL#WRITEDO);
      527     5164    3           CALL LLM$MON_SVC (LL#ERR);
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:17   
      528     5165    3           END;
      529     5166    3       IF RELOCOP < 5 THEN DO;
      530     5167    3           BIN_FIELD = 0;
      531     5168    3           BIT$ = FIELD$;
      532     5169    3           M = FIELD_LENGTH;
      533     5170    3           K = MINIMUM (8-MOD(STBIT,8), M);
      534     5171    4           DO WHILE '1'B;
      535     5172    4               PINCRB(ADDR(BIN_FIELD),36-M)->BIT_K = BIT$->BIT_K;
      536     5173    4               M = M-K;
      537     5174    4               IF M=0 THEN EXIT;
      538     5175    4               BIT$ = PINCRB(BIT$,K+1);
      539     5176    4               K = MINIMUM (8,M);
      540     5177    4               END;
      541     5178    3           END;
      542     5179    3       DO CASE (RELOCOP);
      543     5180    3       CASE (1);
      544     5181    3           BIN_FIELD = BIN_FIELD +
      545     5182    3              ACCUM;
      546     5183    3       CASE (2);
      547     5184    3           BIN_FIELD = BIN_FIELD -
      548     5185    3              ACCUM;
      549     5186    3       CASE (3);
      550     5187    3           BIN_FIELD = BIN_FIELD *
      551     5188    3              ACCUM;
      552     5189    3       CASE (4);
      553     5190    3           BIN_FIELD = BIN_FIELD /
      554     5191    3              ACCUM;
      555     5192    3       CASE (14);
      556     5193    3           BIN_FIELD = ACCUM;
      557     5194    3       CASE (15);
      558     5195    3           L = 0;
      559     5196    3           BIN_FIELD = ACCUM;
      560     5197    3           GOTO POKE;
      561     5198    3           END;
      562     5199    2       L = 36 - FIELD_LENGTH;
      563     5200    2   POKE:;
      564     5201    2       M = FIELD_LENGTH;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:18   
      565     5202    2       K = MINIMUM (8-MOD(STBIT,8), M);
      566     5203    3       DO WHILE '1'B;
      567     5204    3           FIELD$->BIT_K = PINCRB(ADDR(BIN_FIELD),L)->BIT_K;
      568     5205    3           M = M-K;
      569     5206    3           IF M=0 THEN EXIT;
      570     5207    3           FIELD$ = PINCRB(FIELD$,K+1);
      571     5208    3           L = L+K;
      572     5209    3           K = MINIMUM (8,M);
      573     5210    3           END;
      574     5211    2   END RELOC_FIELD;
      575     5212    1   END LLC$PASS2;
      576     5213        %EOD;

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:19   
--  Include file information  --

   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
   LL_SUBS_C.:E05TOU  is referenced.
   LL_MACS_C.:E05TOU  is referenced.
   LL_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure LLC$PASS2.

   Procedure LLC$PASS2 requires 1192 words for executable code.
   Procedure LLC$PASS2 requires 2134 words of local(AUTO) storage.

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:20   

 Object Unit name= LLC$PASS2                                  File name= LLC$PASS2.:E05TOU
 UTS= JUL 30 '97 03:13:03.36 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   Data  even  none    10     12  LLC$PASS2
    2  RoData even  UTS     39     47  LLC$PASS2
    3   Proc  even  none  1192   2250  LLC$PASS2
    4  RoData even  none    31     37  LLC$PASS2

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     3      0   yes            yes      Std        1  LLC$PASS2

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    1      0  B$PRGKEY                           1      4  B$RELOCKEY
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:21   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       4 LLM$MON_SVC
 yes     yes           Std       5 LLE$READOU
         yes           Std       8 LLS$SATREF
         yes           Std       4 LLW$WRTDEF
         yes           Std       4 LLC$SCHEMA
                       nStd      0 X66_AUTO_1
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     LL_OF$                                LL_DOBUF                              LL_FLAGS
     LL_FIRSTFID                           LL_NOU                                LL_STATE
     LL_ENTDEF_R$                          LL_SYMDEF_R$                          LL_R_OU$
     LL_OU_PTR$                            LL_DNAME_VEC                          M$UC
     LL_HEAD                               B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:22   


        1        1        /*M* LLC$PASS2 - Pass 2 module of FEPLINK                           */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* PLM=4,STI=0,IND=4,CTI=3,DCI=4,ECI=4,CSI=0,THI=0,DTI=0,ENI=4,
        8        8             CLM=0,SQB,NTB,MOC,CCI=3,NLB,MCL=0,EDMC*/
        9        9        /*F* NAME:         LLC$PASS2
       10       10             PURPOSE:      Writes program text and performs relocations.
       11       11                           All text is written first, then relocations are
       12       12                           applied since the XUO routines do not generate
       13       13                           duplicate records which overlay the same memory
       14       14                           locations                                        */
       15       15        LLC$PASS2: PROC (AVAIL$);

     15  3 000000   000000 700200 xent  LLC$PASS2    TSX0  ! X66_AUTO_1
         3 000001   004126 000001                    ZERO    2134,1

       16       16    1   DCL AVAIL$ PTR;
       17       17        %INCLUDE LL_DATA_R;
       18       53        %INCLUDE LL_MACS_C;
       19      407        %INCLUDE LL_SUBS_C;
       20      536        %INCLUDE B$OBJECT_C;
       21     3966        %INCLUDE CP_6;
       22     4047        %B$PRGRELKEY ( NAME = B$PRGKEY );
       23     4078        %B$PRGRELKEY ( NAME = B$RELOCKEY );
       24     4109        %B$RELOC1;
       25     4140        %B$RELOC2;
       26     4207        %RU_FLAVORS;
       27     4213        %B$FEP_RUKEY (NAME=B$RUKEY,STCLASS = STATIC );
       28     4237        %B$OUHEAD ( STCLASS = BASED );
       29     4355        %B$HEAD ( NAME = LL_HEAD,
       30     4356         STCLASS = SYMREF );
       31     4556        %LL$OU_ENTRY ( NAME = OU_ENTRY );
       32     4604        %B$FEP_SECTION ( NAME = LL_SECTION );
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:23   
       33     4643        %B$RECORDSUBS;
       34     4671    1   DCL 1 OU_FID(0:0) BASED ALIGNED,
       35     4672    1         2 NAME CHAR(50),
       36     4673    1         2 BIAS SBIN WORD;
       37     4674    1   DCL SECT_TEXT CHAR(3) CALIGNED;
       38     4675    1   DCL REPEAT_COUNT SBIN WORD;
       39     4676    1   DCL PROCESSTYPE UBIN WORD ALIGNED;
       40     4677    1   DCL RELOC_FOUND# BIT(1) UNAL;
       41     4678    1   DCL SIZE UBIN WORD UNAL;
       42     4679    1   DCL TPTR$ PTR;
       43     4680    1   DCL DEFN$ PTR;
       44     4681    1   DCL REFN$ PTR;
       45     4682    1   DCL ENTREF$ PTR;
       46     4683    1   DCL SYMREF$ PTR;
       47     4684    1   DCL UNSAT_SYMREF$ PTR;
       48     4685    1   DCL UNSAT_ENTREF$ PTR;
       49     4686    1   DCL PROG$ PTR;
       50     4687    1   DCL RELOC$ PTR;
       51     4688    1   DCL TOTAL_SIZE UBIN WORD ALIGNED;
       52     4689    1   DCL I UBIN WORD ALIGNED;
       53     4690    1   DCL J UBIN WORD ALIGNED;
       54     4691    1   DCL K UBIN WORD ALIGNED;
       55     4692    1   DCL L UBIN WORD ALIGNED;
       56     4693    1   DCL M UBIN WORD ALIGNED;
       57     4694    1   DCL N UBIN WORD ALIGNED;
       58     4695    1   DCL TYPE UBIN WORD ALIGNED;
       59     4696    1   DCL BUFFER$ PTR;
       60     4697    1   DCL NREFS UBIN WORD ALIGNED;
       61     4698    1   DCL REF$ PTR;
       62     4699    1   DCL ROOT$ PTR;
       63     4700    1   DCL NUNSATS UBIN WORD ALIGNED;
       64     4701    1   DCL SECT_PTR$ PTR;
       65     4702    1   DCL SECT_BASE UBIN WORD ALIGNED;
       66     4703    1   DCL PROG_BASE UBIN WORD ALIGNED;
       67     4704    1   DCL TEXT_OFFSET UBIN WORD ALIGNED;
       68     4705    1   DCL NPAGES UBIN WORD ALIGNED;
       69     4706    1   DCL LOWER_BOUND UBIN WORD ALIGNED;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:24   
       70     4707    1   DCL UPPER_BOUND UBIN WORD ALIGNED;
       71     4708    1   DCL 1 OUWORD(0:0) BASED ALIGNED,
       72     4709    1         2 BYTE1 UBIN(8) UNAL,
       73     4710    1         2 BYTE2 UBIN(8) UNAL,
       74     4711    1         2 * BIT(20) UNAL;
       75     4712    1   DCL PROG_SIZE UBIN WORD ALIGNED;
       76     4713    1   DCL LENGTH UBIN WORD ALIGNED;
       77     4714    1   DCL OPNDTYP UBIN WORD ALIGNED;
       78     4715    1   DCL OPERAND UBIN WORD ALIGNED;
       79     4716    1   DCL FIELD UBIN WORD ALIGNED;
       80     4717    1   DCL RELOCOP UBIN WORD ALIGNED;
       81     4718    1   DCL DISP UBIN WORD ALIGNED;
       82     4719    1   DCL VALUE SBIN(36) ALIGNED;
       83     4720    1   DCL EVALOP UBIN WORD ALIGNED;
       84     4721    1   DCL STBIT UBIN WORD ALIGNED;
       85     4722    1   DCL ENDBIT UBIN WORD ALIGNED;
       86     4723    1   DCL ACCUM SBIN(36) ALIGNED;
       87     4724    1   DCL PAGE_IN UBIN WORD ALIGNED;
       88     4725    1   DCL PAGE UBIN WORD ALIGNED;
       89     4726    1   DCL LOCATION UBIN WORD ALIGNED;
       90     4727    1   DCL FIELD_LENGTH UBIN WORD ALIGNED;
       91     4728    1   DCL TEMP_FIELD BIT(32) UNAL;
       92     4729    1   DCL FIELD$ PTR;
       93     4730    1   DCL BIT$ PTR;
       94     4731    1   DCL ISADDR UBIN WORD BASED ALIGNED;
       95     4732    1   DCL LLW$WRTDEF ENTRY(4);
       96     4733    1   DCL LLE$READOU ENTRY(5) ALTRET;
       97     4734    1   DCL NEXT_RU_REC UBIN;
       98     4735    1   DCL RU_RECX UBIN;
       99     4736    1   DCL RU_PAGE UBIN;
      100     4737    1   DCL RU_REC$ PTR;
      101     4738    1   DCL 1 RU_RECS ALIGNED,
      102     4739    1         2 PAGE(0:1) SBIN,
      103     4740    1         2 REC$(0:1) PTR,
      104     4741    1         2 MODIFIED(0:1) BIT(1) ALIGNED,
      105     4742    1         2 REC0( 0:%(LL_PRECSIZE-1) ) UBIN,
      106     4743    1         2 REC1( 0:%(LL_PRECSIZE-1) ) UBIN,
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:25   
      107     4744    1         2 * BIT(72) /* slop for reloc code */;
      108     4745    1   DCL 1 RU_WORD ALIGNED BASED(FIELD$),
      109     4746    1         2 BYTE1 UBIN(9) UNAL,
      110     4747    1         2 BYTE2 UBIN(9) UNAL,
      111     4748    1         2 BYTE3 UBIN(9) UNAL,
      112     4749    1         2 BYTE4 UBIN(9) UNAL;
      113     4750    1   DCL LLM$MON_SVC ENTRY(4) ALTRET;
      114     4751    1   DCL LLS$SATREF ENTRY(8);
      115     4752    1   DCL LLC$SCHEMA ENTRY(4);
      116     4753        %EJECT;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:26   
      117     4754    1       RU_RECS.PAGE(0) = -1;

   4754  3 000002   000001 335007                    LCA     1,DL
         3 000003   200076 755100                    STA     RU_RECS,,AUTO

      118     4755    1       RU_RECS.PAGE(1) = -1;

   4755  3 000004   200077 755100                    STA     RU_RECS+1,,AUTO

      119     4756    1       RU_RECS.MODIFIED(0) = '0'B;

   4756  3 000005   200102 450100                    STZ     RU_RECS+4,,AUTO

      120     4757    1       RU_RECS.MODIFIED(1) = '0'B;

   4757  3 000006   200103 450100                    STZ     RU_RECS+5,,AUTO

      121     4758    1       RU_RECS.REC$(0) = ADDR(RU_RECS.REC0);

   4758  3 000007   200104 630500                    EPPR0   RU_RECS+6,,AUTO
         3 000010   200100 450500                    STP0    RU_RECS+2,,AUTO

      122     4759    1       RU_RECS.REC$(1) = ADDR(RU_RECS.REC1);

   4759  3 000011   202104 631500                    EPPR1   RU_RECS+1030,,AUTO
         3 000012   200101 451500                    STP1    RU_RECS+3,,AUTO

      123     4760    1       RU_RECX = 0;

   4760  3 000013   200073 450100                    STZ     RU_RECX,,AUTO

      124     4761    1       NEXT_RU_REC = 0;

   4761  3 000014   200072 450100                    STZ     NEXT_RU_REC,,AUTO

      125     4762    1       TPTR$ = LL_R_OU$;

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:27   
   4762  3 000015   000000 236000 xsym               LDQ     LL_R_OU$
         3 000016   200012 756100                    STQ     TPTR$,,AUTO

      126     4763    1       DEFN$ = LL_DNAME_VEC.P$;

   4763  3 000017   000001 236000 xsym               LDQ     LL_DNAME_VEC+1
         3 000020   200013 756100                    STQ     DEFN$,,AUTO

      127     4764    1       REFN$ = PINCRW (AVAIL$, LL_HEAD.NRECSIZE);

   4764  3 000021   000006 720000 xsym               LXL0    LL_HEAD+6
         3 000022   200003 473500                    LDP3    @AVAIL$,,AUTO
         3 000023   300000 474500                    LDP4    0,,PR3
         3 000024   400000 635510                    EPPR5   0,X0,PR4
         3 000025   200014 455500                    STP5    REFN$,,AUTO

      128     4765    2       DO I = 0 TO LL_NOU - 1;

   4765  3 000026   200024 450100                    STZ     I,,AUTO
         3 000027   001525 710000 3                  TRA     s:5071+3

      129     4766    2           LL_FIRSTFID = LL_OF$->OU_FID.NAME(I);

   4766  3 000030   200024 236100                    LDQ     I,,AUTO
         3 000031   000070 402007                    MPY     56,DL
         3 000032   000000 470400 xsym               LDP0    LL_OF$
         3 000033   040000 100506                    MLR     fill='040'O
         3 000034   000000 000062                    ADSC9   0,Q,PR0                  cn=0,n=50
         3 000035   000000 000064 xsym               ADSC9   LL_FIRSTFID              cn=0,n=52

      130     4767    2           CALL LLM$MON_SVC (LL#FID);

   4767  3 000036   000000 630400 4                  EPPR0   0
         3 000037   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000040   000000 701000 xent               TSX1    LLM$MON_SVC
         3 000041   000000 011000                    NOP     0

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:28   
      131     4768    2           CALL LLM$MON_SVC (LL#OPENEF);

   4768  3 000042   000002 630400 4                  EPPR0   2
         3 000043   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000044   000000 701000 xent               TSX1    LLM$MON_SVC
         3 000045   000000 011000                    NOP     0

      132     4769    3           DO WHILE (TPTR$ ~= ADDR(NIL) AND TPTR$ -> OU_ENTRY.OF = I);

   4769  3 000046   001506 710000 3                  TRA     s:5069

      133     4770    3               LL_OU_PTR$ = TPTR$;

   4770  3 000047   200012 236100                    LDQ     TPTR$,,AUTO
         3 000050   000000 756000 xsym               STQ     LL_OU_PTR$

      134     4771    3               LL_STATE = LL#PASS2;

   4771  3 000051   000003 235007                    LDA     3,DL
         3 000052   000000 755000 xsym               STA     LL_STATE

      135     4772    3               SIZE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.RNAMSIZ;

   4772  3 000053   200012 470500                    LDP0    TPTR$,,AUTO
         3 000054   000013 471500                    LDP1    11,,PR0
         3 000055   100006 236100                    LDQ     6,,PR1
         3 000056   000022 772000                    QRL     18
         3 000057   200011 756100                    STQ     SIZE,,AUTO

      136     4773    3               ENTREF$ = PINCRW (REFN$, SIZE);

   4773  3 000060   000022 736000                    QLS     18
         3 000061   200014 036100                    ADLQ    REFN$,,AUTO
         3 000062   200015 756100                    STQ     ENTREF$,,AUTO

      137     4774    3               SIZE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.EREFSIZ;

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:29   
   4774  3 000063   000013 471500                    LDP1    11,,PR0
         3 000064   100010 236100                    LDQ     8,,PR1
         3 000065   000022 772000                    QRL     18
         3 000066   200011 756100                    STQ     SIZE,,AUTO

      138     4775    3               SYMREF$ = PINCRW (ENTREF$, SIZE*2);

   4775  3 000067   000023 736000                    QLS     19
         3 000070   200015 036100                    ADLQ    ENTREF$,,AUTO
         3 000071   200016 756100                    STQ     SYMREF$,,AUTO

      139     4776    3               UNSAT_ENTREF$ = PINCRW (ENTREF$, SIZE);

   4776  3 000072   200011 236100                    LDQ     SIZE,,AUTO
         3 000073   000022 736000                    QLS     18
         3 000074   200015 036100                    ADLQ    ENTREF$,,AUTO
         3 000075   200020 756100                    STQ     UNSAT_ENTREF$,,AUTO

      140     4777    3               SIZE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.SREFSIZ;

   4777  3 000076   000013 471500                    LDP1    11,,PR0
         3 000077   100012 236100                    LDQ     10,,PR1
         3 000100   000022 772000                    QRL     18
         3 000101   200011 756100                    STQ     SIZE,,AUTO

      141     4778    3               UNSAT_SYMREF$ = PINCRW (SYMREF$, SIZE);

   4778  3 000102   000022 736000                    QLS     18
         3 000103   200016 036100                    ADLQ    SYMREF$,,AUTO
         3 000104   200017 756100                    STQ     UNSAT_SYMREF$,,AUTO

      142     4779    3               PROG$ = PINCRW (SYMREF$, SIZE*2);

   4779  3 000105   200011 236100                    LDQ     SIZE,,AUTO
         3 000106   000023 736000                    QLS     19
         3 000107   200016 036100                    ADLQ    SYMREF$,,AUTO
         3 000110   200021 756100                    STQ     PROG$,,AUTO
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:30   

      143     4780    3               SIZE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.PROGPSIZ;

   4780  3 000111   100004 236100                    LDQ     4,,PR1
         3 000112   000022 772000                    QRL     18
         3 000113   200011 756100                    STQ     SIZE,,AUTO

      144     4781    3               RELOC$ = PINCRW (PROG$, SIZE);

   4781  3 000114   000022 736000                    QLS     18
         3 000115   200021 036100                    ADLQ    PROG$,,AUTO
         3 000116   200022 756100                    STQ     RELOC$,,AUTO

      145     4782    3               SIZE = SIZE + TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.RELPSIZ;

   4782  3 000117   100004 236100                    LDQ     4,,PR1
         3 000120   777777 376007                    ANQ     -1,DL
         3 000121   200011 036100                    ADLQ    SIZE,,AUTO
         3 000122   200011 756100                    STQ     SIZE,,AUTO

      146     4783    3               TOTAL_SIZE = SIZE + POFFC (RELOC$, REFN$);

   4783  3 000123   200014 236100                    LDQ     REFN$,,AUTO
         3 000124   000020 772000                    QRL     16
         3 000125   204114 756100                    STQ     @P_RECX+1,,AUTO
         3 000126   200022 236100                    LDQ     RELOC$,,AUTO
         3 000127   000020 772000                    QRL     16
         3 000130   204114 136100                    SBLQ    @P_RECX+1,,AUTO
         3 000131   200011 036100                    ADLQ    SIZE,,AUTO
         3 000132   200023 756100                    STQ     TOTAL_SIZE,,AUTO

      147     4784    3               CALL LLM$MON_SVC (LL#GETMEM, TOTAL_SIZE, REFN$);

   4784  3 000133   200014 631500                    EPPR1   REFN$,,AUTO
         3 000134   204116 451500                    STP1    @P_RECX+3,,AUTO
         3 000135   200023 633500                    EPPR3   TOTAL_SIZE,,AUTO
         3 000136   204115 453500                    STP3    @P_RECX+2,,AUTO
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:31   
         3 000137   000003 236000 4                  LDQ     3
         3 000140   204114 756100                    STQ     @P_RECX+1,,AUTO
         3 000141   204114 630500                    EPPR0   @P_RECX+1,,AUTO
         3 000142   000021 631400 xsym               EPPR1   B_VECTNIL+17
         3 000143   000000 701000 xent               TSX1    LLM$MON_SVC
         3 000144   000000 011000                    NOP     0

      148     4785    4               DO J = 0 TO 2;

   4785  3 000145   200025 450100                    STZ     J,,AUTO

      149     4786    5                   DO CASE (J);

   4786  3 000146   200025 235100                    LDA     J,,AUTO
         3 000147   000003 115007                    CMPA    3,DL
         3 000150   000152 602005 3                  TNC     s:4786+4,AL
         3 000151   000226 710000 3                  TRA     s:4803
         3 000152   000155 710000 3                  TRA     s:4788
         3 000153   000173 710000 3                  TRA     s:4793
         3 000154   000211 710000 3                  TRA     s:4798

      150     4787    5                   CASE (0);

      151     4788    5                       TYPE = %TYPRNAM;

   4788  3 000155   000002 236007                    LDQ     2,DL
         3 000156   200032 756100                    STQ     TYPE,,AUTO

      152     4789    5                       BUFFER$ = REFN$;

   4789  3 000157   200014 236100                    LDQ     REFN$,,AUTO
         3 000160   200033 756100                    STQ     BUFFER$,,AUTO

      153     4790    5                       SIZE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.RNAMSIZ;

   4790  3 000161   200012 470500                    LDP0    TPTR$,,AUTO
         3 000162   000013 471500                    LDP1    11,,PR0
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:32   
         3 000163   100006 236100                    LDQ     6,,PR1
         3 000164   000022 772000                    QRL     18
         3 000165   200011 756100                    STQ     SIZE,,AUTO

      154     4791    5                       PAGE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.RNAMPSIZ * 4;

   4791  3 000166   100006 236100                    LDQ     6,,PR1
         3 000167   000002 736000                    QLS     2
         3 000170   000004 376000 4                  ANQ     4
         3 000171   200064 756100                    STQ     PAGE,,AUTO
         3 000172   000226 710000 3                  TRA     s:4803

      155     4792    5                   CASE (1);

      156     4793    5                       TYPE = %TYPEREF;

   4793  3 000173   000005 236007                    LDQ     5,DL
         3 000174   200032 756100                    STQ     TYPE,,AUTO

      157     4794    5                       BUFFER$ = ENTREF$;

   4794  3 000175   200015 236100                    LDQ     ENTREF$,,AUTO
         3 000176   200033 756100                    STQ     BUFFER$,,AUTO

      158     4795    5                       SIZE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.EREFSIZ;

   4795  3 000177   200012 470500                    LDP0    TPTR$,,AUTO
         3 000200   000013 471500                    LDP1    11,,PR0
         3 000201   100010 236100                    LDQ     8,,PR1
         3 000202   000022 772000                    QRL     18
         3 000203   200011 756100                    STQ     SIZE,,AUTO

      159     4796    5                       PAGE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.EREFPSIZ * 4;

   4796  3 000204   100010 236100                    LDQ     8,,PR1
         3 000205   000002 736000                    QLS     2
         3 000206   000004 376000 4                  ANQ     4
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:33   
         3 000207   200064 756100                    STQ     PAGE,,AUTO
         3 000210   000226 710000 3                  TRA     s:4803

      160     4797    5                   CASE (2);

      161     4798    5                       TYPE = %TYPSREF;

   4798  3 000211   000007 236007                    LDQ     7,DL
         3 000212   200032 756100                    STQ     TYPE,,AUTO

      162     4799    5                       BUFFER$ = SYMREF$;

   4799  3 000213   200016 236100                    LDQ     SYMREF$,,AUTO
         3 000214   200033 756100                    STQ     BUFFER$,,AUTO

      163     4800    5                       SIZE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.SREFSIZ;

   4800  3 000215   200012 470500                    LDP0    TPTR$,,AUTO
         3 000216   000013 471500                    LDP1    11,,PR0
         3 000217   100012 236100                    LDQ     10,,PR1
         3 000220   000022 772000                    QRL     18
         3 000221   200011 756100                    STQ     SIZE,,AUTO

      164     4801    5                       PAGE = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.SREFPSIZ * 4;

   4801  3 000222   100012 236100                    LDQ     10,,PR1
         3 000223   000002 736000                    QLS     2
         3 000224   000004 376000 4                  ANQ     4
         3 000225   200064 756100                    STQ     PAGE,,AUTO

      165     4802    5                       END;

      166     4803    4                   SIZE = SIZE * 4;

   4803  3 000226   200011 236100                    LDQ     SIZE,,AUTO
         3 000227   000002 736000                    QLS     2
         3 000230   200011 756100                    STQ     SIZE,,AUTO
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:34   

      167     4804    4                   CALL LLE$READOU ( TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.UTS,

   4804  3 000231   200012 470500                    LDP0    TPTR$,,AUTO
         3 000232   000013 471500                    LDP1    11,,PR0
         3 000233   200033 633500                    EPPR3   BUFFER$,,AUTO
         3 000234   204120 453500                    STP3    @P_RECX+5,,AUTO
         3 000235   200064 634500                    EPPR4   PAGE,,AUTO
         3 000236   204117 454500                    STP4    @P_RECX+4,,AUTO
         3 000237   200011 635500                    EPPR5   SIZE,,AUTO
         3 000240   204116 455500                    STP5    @P_RECX+3,,AUTO
         3 000241   200032 636500                    EPPR6   TYPE,,AUTO
         3 000242   204115 456500                    STP6    @P_RECX+2,,AUTO
         3 000243   204114 451500                    STP1    @P_RECX+1,,AUTO
         3 000244   204114 630500                    EPPR0   @P_RECX+1,,AUTO
         3 000245   000023 631400 xsym               EPPR1   B_VECTNIL+19
         3 000246   000000 701000 xent               TSX1    LLE$READOU
         3 000247   000250 702000 3                  TSX2    DONE

      168     4805    4                      TYPE, SIZE, PAGE, BUFFER$ ) ALTRET ( DONE );
      169     4806    4   DONE:
      170     4807    4                   END;

   4807  3 000250   200025 235100       DONE         LDA     J,,AUTO
         3 000251   000001 035007                    ADLA    1,DL
         3 000252   200025 755100                    STA     J,,AUTO
         3 000253   000003 115007                    CMPA    3,DL
         3 000254   000146 602000 3                  TNC     s:4786

      171     4808    4               DO TYPE = %TYPEREF TO %TYPSREF BY %(TYPSREF - TYPEREF);

   4808  3 000255   000005 236007                    LDQ     5,DL
         3 000256   200032 756100                    STQ     TYPE,,AUTO

      172     4809    5                   DO CASE (TYPE);

   4809  3 000257   200032 235100                    LDA     TYPE,,AUTO
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:35   
         3 000260   000005 135007                    SBLA    5,DL
         3 000261   000003 115007                    CMPA    3,DL
         3 000262   000264 602005 3                  TNC     s:4809+5,AL
         3 000263   000312 710000 3                  TRA     s:4819
         3 000264   000267 710000 3                  TRA     s:4811
         3 000265   000312 710000 3                  TRA     s:4819
         3 000266   000301 710000 3                  TRA     s:4815

      173     4810    5                   CASE (%TYPEREF);

      174     4811    5                       NREFS = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.EREFSIZ;

   4811  3 000267   200012 470500                    LDP0    TPTR$,,AUTO
         3 000270   000013 471500                    LDP1    11,,PR0
         3 000271   100010 236100                    LDQ     8,,PR1
         3 000272   000022 772000                    QRL     18
         3 000273   200034 756100                    STQ     NREFS,,AUTO

      175     4812    5                       REF$ = ENTREF$;

   4812  3 000274   200015 236100                    LDQ     ENTREF$,,AUTO
         3 000275   200035 756100                    STQ     REF$,,AUTO

      176     4813    5                       ROOT$ = LL_ENTDEF_R$;

   4813  3 000276   000000 236000 xsym               LDQ     LL_ENTDEF_R$
         3 000277   200036 756100                    STQ     ROOT$,,AUTO
         3 000300   000312 710000 3                  TRA     s:4819

      177     4814    5                   CASE (%TYPSREF);

      178     4815    5                       NREFS = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.SREFSIZ;

   4815  3 000301   200012 470500                    LDP0    TPTR$,,AUTO
         3 000302   000013 471500                    LDP1    11,,PR0
         3 000303   100012 236100                    LDQ     10,,PR1
         3 000304   000022 772000                    QRL     18
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:36   
         3 000305   200034 756100                    STQ     NREFS,,AUTO

      179     4816    5                       REF$ = SYMREF$;

   4816  3 000306   200016 236100                    LDQ     SYMREF$,,AUTO
         3 000307   200035 756100                    STQ     REF$,,AUTO

      180     4817    5                       ROOT$ = LL_SYMDEF_R$;

   4817  3 000310   000000 236000 xsym               LDQ     LL_SYMDEF_R$
         3 000311   200036 756100                    STQ     ROOT$,,AUTO

      181     4818    5                       END;

      182     4819    4                   NUNSATS = 0;

   4819  3 000312   200037 450100                    STZ     NUNSATS,,AUTO

      183     4820    4                   CALL LLS$SATREF (REF$, NREFS, ROOT$, NUNSATS,

   4820  3 000313   200012 630500                    EPPR0   TPTR$,,AUTO
         3 000314   204123 450500                    STP0    @P_RECX+8,,AUTO
         3 000315   200014 631500                    EPPR1   REFN$,,AUTO
         3 000316   204122 451500                    STP1    @P_RECX+7,,AUTO
         3 000317   200013 633500                    EPPR3   DEFN$,,AUTO
         3 000320   204121 453500                    STP3    @P_RECX+6,,AUTO
         3 000321   200032 634500                    EPPR4   TYPE,,AUTO
         3 000322   204120 454500                    STP4    @P_RECX+5,,AUTO
         3 000323   200037 635500                    EPPR5   NUNSATS,,AUTO
         3 000324   204117 455500                    STP5    @P_RECX+4,,AUTO
         3 000325   200036 636500                    EPPR6   ROOT$,,AUTO
         3 000326   204116 456500                    STP6    @P_RECX+3,,AUTO
         3 000327   200034 637500                    EPPR7   NREFS,,AUTO
         3 000330   204115 457500                    STP7    @P_RECX+2,,AUTO
         3 000331   200035 630500                    EPPR0   REF$,,AUTO
         3 000332   204114 450500                    STP0    @P_RECX+1,,AUTO
         3 000333   204114 630500                    EPPR0   @P_RECX+1,,AUTO
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:37   
         3 000334   000026 631400 xsym               EPPR1   B_VECTNIL+22
         3 000335   000000 701000 xent               TSX1    LLS$SATREF
         3 000336   000000 011000                    NOP     0

      184     4821    4                      TYPE, DEFN$, REFN$, TPTR$);
      185     4822    4                   END;

   4822  3 000337   200032 235100                    LDA     TYPE,,AUTO
         3 000340   000002 035007                    ADLA    2,DL
         3 000341   200032 755100                    STA     TYPE,,AUTO
         3 000342   000010 115007                    CMPA    8,DL
         3 000343   000257 602000 3                  TNC     s:4809

      186     4823    3               B$PRGKEY.KEYSIZ = 11;

   4823  3 000344   013000 236003                    LDQ     5632,DU
         3 000345   000000 552040 1                  STBQ    B$PRGKEY,'40'O

      187     4824    3               B$PRGKEY.NOTHD = '777'O;

   4824  3 000346   000777 236003                    LDQ     511,DU
         3 000347   000000 552020 1                  STBQ    B$PRGKEY,'20'O

      188     4825    3               B$PRGKEY.UTS = TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.UTS;

   4825  3 000350   200012 470500                    LDP0    TPTR$,,AUTO
         3 000351   000013 471500                    LDP1    11,,PR0
         3 000352   000000 100500                    MLR     fill='000'O
         3 000353   100000 000004                    ADSC9   0,,PR1                   cn=0,n=4
         3 000354   000000 400004 1                  ADSC9   B$PRGKEY                 cn=2,n=4

      189     4826    3               B$PRGKEY.SUBTYPE = 0;

   4826  3 000355   000000 236003                    LDQ     0,DU
         3 000356   000002 552004 1                  STBQ    B$PRGKEY+2,'04'O

      190     4827    3               B$PRGKEY.TYPE = %TYPPROG;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:38   

   4827  3 000357   012000 236007                    LDQ     5120,DL
         3 000360   000001 552010 1                  STBQ    B$PRGKEY+1,'10'O

      191     4828    3               B$PRGKEY.SECTNUM = 0;

   4828  3 000361   000000 101400                    MRL     fill='000'O
         3 000362   000002 000004 xsym               ADSC9   B_VECTNIL+2              cn=0,n=4
         3 000363   000001 600002 1                  ADSC9   B$PRGKEY+1               cn=3,n=2

      192     4829    3               PROCESSTYPE = 0;

   4829  3 000364   200007 450100                    STZ     PROCESSTYPE,,AUTO

      193     4830    3               RELOC_FOUND# = '0'B;

   4830  3 000365   200010 450100                    STZ     RELOC_FOUND#,,AUTO

      194     4831    3               B$RUKEY.TYPE = %TYPPROG;

   4831  3 000366   000012 236003                    LDQ     10,DU
         3 000367   000010 552020 1                  STBQ    B$RUKEY,'20'O

      195     4832    3               B$PRGKEY.OFFSET = 0;

   4832  3 000370   000000 236003                    LDQ     0,DU
         3 000371   000002 552030 1                  STBQ    B$PRGKEY+2,'30'O

      196     4833    3               SIZE = MAXIMUM( TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.PROGPSIZ,

   4833  3 000372   100004 236100                    LDQ     4,,PR1
         3 000373   777777 376007                    ANQ     -1,DL
         3 000374   204114 756100                    STQ     @P_RECX+1,,AUTO
         3 000375   100004 236100                    LDQ     4,,PR1
         3 000376   000022 772000                    QRL     18
         3 000377   204114 116100                    CMPQ    @P_RECX+1,,AUTO
         3 000400   000402 603000 3                  TRC     s:4833+8
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:39   
         3 000401   204114 236100                    LDQ     @P_RECX+1,,AUTO
         3 000402   000002 736000                    QLS     2
         3 000403   000001 136007                    SBLQ    1,DL
         3 000404   200011 756100                    STQ     SIZE,,AUTO

      197     4834    3                  TPTR$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.RELPSIZ ) * 4 - 1;
      198     4835    3   BLETCHO:
      199     4836    3               CALL LLM$MON_SVC (LL#POSEF, 0, 0, B$PRGKEY);

   4836  3 000405   000006 630400 4     BLETCHO      EPPR0   6
         3 000406   000022 631400 xsym               EPPR1   B_VECTNIL+18
         3 000407   000000 701000 xent               TSX1    LLM$MON_SVC
         3 000410   000000 011000                    NOP     0

      200     4837    4               DO WHILE (B$PRGKEY.TYPE = %TYPPROG);

   4837  3 000411   000001 236000 1                  LDQ     B$PRGKEY+1
         3 000412   777000 376007                    ANQ     -512,DL
         3 000413   012000 116007                    CMPQ    5120,DL
         3 000414   001445 601000 3                  TNZ     NO_DEBUG

      201     4838    4                   CALL LLM$MON_SVC (LL#RDEFSQ, PINCRW(PROG$,0), SIZE,

   4838  3 000415   000011 236000 4                  LDQ     9
         3 000416   204117 756100                    STQ     @P_RECX+4,,AUTO
         3 000417   200011 630500                    EPPR0   SIZE,,AUTO
         3 000420   204116 450500                    STP0    @P_RECX+3,,AUTO
         3 000421   200021 631500                    EPPR1   PROG$,,AUTO
         3 000422   204115 451500                    STP1    @P_RECX+2,,AUTO
         3 000423   000013 236000 4                  LDQ     11
         3 000424   204114 756100                    STQ     @P_RECX+1,,AUTO
         3 000425   204114 630500                    EPPR0   @P_RECX+1,,AUTO
         3 000426   000022 631400 xsym               EPPR1   B_VECTNIL+18
         3 000427   000000 701000 xent               TSX1    LLM$MON_SVC
         3 000430   001445 702000 3                  TSX2    NO_DEBUG

      202     4839    4                      B$PRGKEY) ALTRET (NO_DEBUG);
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:40   
      203     4840    4                   IF (B$PRGKEY.TYPE ~= %TYPPROG) THEN GOTO GET_NEXT_RCD;

   4840  3 000431   000001 236000 1                  LDQ     B$PRGKEY+1
         3 000432   777000 376007                    ANQ     -512,DL
         3 000433   012000 116007                    CMPQ    5120,DL
         3 000434   001441 601000 3                  TNZ     GET_NEXT_RCD

      204     4841         /*************************************************\
      205     4842         *                                                 *
      206     4843         * SECT_BASE    :    base address of referenced    *
      207     4844         *                   section                       *
      208     4845         * PROG_BASE    :    base address of program text  *
      209     4846         *                   or relocation directives      *
      210     4847         *                   which were just read          *
      211     4848         * PROG_SIZE    :    size of program record in L6  *
      212     4849         *                   words or size of relocation   *
      213     4850         *                   record in L66 words           *
      214     4851         * PAGE_IN      :    address of core image page    *
      215     4852         *                   which is to contain the first *
      216     4853         *                   instruction referenced by the *
      217     4854         *                   text or relocation record     *
      218     4855         *                   just read                     *
      219     4856         * TEXT_OFFSET  :    L6 word offset into the core  *
      220     4857         *                   image record locating the     *
      221     4858         *                   first word referenced by the  *
      222     4859         *                   record just read              *
      223     4860         *                                                 *
      224     4861         \*************************************************/
      225     4862    4                   CALL LLM$MON_SVC (LL#SIZEEF, PROG_SIZE);

   4862  3 000435   200047 630500                    EPPR0   PROG_SIZE,,AUTO
         3 000436   204115 450500                    STP0    @P_RECX+2,,AUTO
         3 000437   000015 236000 4                  LDQ     13
         3 000440   204114 756100                    STQ     @P_RECX+1,,AUTO
         3 000441   204114 630500                    EPPR0   @P_RECX+1,,AUTO
         3 000442   000020 631400 xsym               EPPR1   B_VECTNIL+16
         3 000443   000000 701000 xent               TSX1    LLM$MON_SVC
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:41   
         3 000444   000000 011000                    NOP     0

      226     4863    4                   PROG_SIZE = PROG_SIZE / 4;

   4863  3 000445   200047 236100                    LDQ     PROG_SIZE,,AUTO
         3 000446   000002 772000                    QRL     2
         3 000447   200047 756100                    STQ     PROG_SIZE,,AUTO

      227     4864    4                   SECT_PTR$ = TPTR$ -> OU_ENTRY.SECT$;

   4864  3 000450   200012 470500                    LDP0    TPTR$,,AUTO
         3 000451   000003 236100                    LDQ     3,,PR0
         3 000452   200040 756100                    STQ     SECT_PTR$,,AUTO

      228     4865    4                   SECT_PTR$ = PINCRW(SECT_PTR$, B$PRGKEY.SECTNUM*SIZEW(LL_SECTION));

   4865  3 000453   000001 235000 1                  LDA     B$PRGKEY+1
         3 000454   000002 236000 1                  LDQ     B$PRGKEY+2
         3 000455   000033 773000                    LRL     27
         3 000456   777777 376007                    ANQ     -1,DL
         3 000457   000023 736000                    QLS     19
         3 000460   200040 036100                    ADLQ    SECT_PTR$,,AUTO
         3 000461   200040 756100                    STQ     SECT_PTR$,,AUTO

      229     4866    4                   SECT_BASE = SECT_PTR$ -> LL_SECTION.ISADDR;

   4866  3 000462   200040 471500                    LDP1    SECT_PTR$,,AUTO
         3 000463   100000 236100                    LDQ     0,,PR1
         3 000464   000032 376000 xsym               ANQ     B_VECTNIL+26
         3 000465   200041 756100                    STQ     SECT_BASE,,AUTO

      230     4867    4                   PROG_BASE = SECT_BASE + B$PRGKEY.OFFSET;

   4867  3 000466   000002 236000 1                  LDQ     B$PRGKEY+2
         3 000467   000011 772000                    QRL     9
         3 000470   777777 376007                    ANQ     -1,DL
         3 000471   200041 036100                    ADLQ    SECT_BASE,,AUTO
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:42   
         3 000472   200042 756100                    STQ     PROG_BASE,,AUTO

      231     4868    4                   IF PROCESSTYPE = 0 AND B$PRGKEY.SUBTYPE = 0 AND

   4868  3 000473   200007 235100                    LDA     PROCESSTYPE,,AUTO
         3 000474   000623 601000 3                  TNZ     s:4887
         3 000475   000002 236000 1                  LDQ     B$PRGKEY+2
         3 000476   000777 316007                    CANQ    511,DL
         3 000477   000623 601000 3                  TNZ     s:4887
         3 000500   200042 236100                    LDQ     PROG_BASE,,AUTO
         3 000501   200047 036100                    ADLQ    PROG_SIZE,,AUTO
         3 000502   204114 756100                    STQ     @P_RECX+1,,AUTO
         3 000503   100000 236100                    LDQ     0,,PR1
         3 000504   000032 376000 xsym               ANQ     B_VECTNIL+26
         3 000505   204115 756100                    STQ     @P_RECX+2,,AUTO
         3 000506   100001 236100                    LDQ     1,,PR1
         3 000507   777777 376007                    ANQ     -1,DL
         3 000510   204115 036100                    ADLQ    @P_RECX+2,,AUTO
         3 000511   204114 235100                    LDA     @P_RECX+1,,AUTO
         3 000512   000001 135007                    SBLA    1,DL
         3 000513   204116 755100                    STA     @P_RECX+3,,AUTO
         3 000514   000000 116003                    CMPQ    0,DU
         3 000515   000623 604000 3                  TMI     s:4887
         3 000516   204116 116100                    CMPQ    @P_RECX+3,,AUTO
         3 000517   000623 605000 3                  TPL     s:4887

      232     4869    4                      PROG_BASE + PROG_SIZE - 1 >
      233     4870    4                      SECT_PTR$ -> LL_SECTION.SIZE + SECT_PTR$ ->
      234     4871    5                      LL_SECTION.ISADDR THEN DO;

      235     4872    5                       LL_HEAD.SEV = 16; /* OU ERRORS */

   4872  3 000520   020000 236003                    LDQ     8192,DU
         3 000521   000003 552040 xsym               STBQ    LL_HEAD+3,'40'O

      236     4873    5                       CALL BINCHAR ( SECT_TEXT, B$PRGKEY.SECTNUM );

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:43   
   4873  3 000522   000001 235000 1                  LDA     B$PRGKEY+1
         3 000523   000002 236000 1                  LDQ     B$PRGKEY+2
         3 000524   000033 773000                    LRL     27
         3 000525   777777 376007                    ANQ     -1,DL
         3 000526   000000 235003                    LDA     0,DU
         3 000527   204114 757100                    STAQ    @P_RECX+1,,AUTO
         3 000530   000100 301500                    BTD
         3 000531   204114 000010                    NDSC9   @P_RECX+1,,AUTO          cn=0,s=lsgnf,sf=0,n=8
         3 000532   200005 030003                    NDSC9   SECT_TEXT,,AUTO          cn=0,s=nosgn,sf=0,n=3

      237     4874    5                       CALL CONCAT ( LL_DOBUF,

   4874  3 000533   000015 236100                    LDQ     13,,PR0
         3 000534   000033 772000                    QRL     27
         3 000535   000000 620006                    EAX0    0,QL
         3 000536   000000 236100                    LDQ     0,,PR0
         3 000537   000016 402007                    MPY     14,DL
         3 000540   040000 100400                    MLR     fill='040'O
         3 000541   000000 000050 2                  ADSC9   0                        cn=0,n=40
         3 000542   000000 000050 xsym               ADSC9   LL_DOBUF                 cn=0,n=40
         3 000543   040000 100540                    MLR     fill='040'O
         3 000544   000015 200010                    ADSC9   13,,PR0                  cn=1,n=*X0
         3 000545   000012 000110 xsym               ADSC9   LL_DOBUF+10              cn=0,n=72
         3 000546   000000 621006                    EAX1    0,QL
         3 000547   000000 636010                    EAQ     0,X0
         3 000550   000022 772000                    QRL     18
         3 000551   000110 116007                    CMPQ    72,DL
         3 000552   000577 603000 3                  TRC     s:4879
         3 000553   204114 740100                    STX0    @P_RECX+1,,AUTO
         3 000554   777667 620010                    EAX0    -73,X0
         3 000555   777777 660003                    ERX0    -1,DU
         3 000556   204114 235100                    LDA     @P_RECX+1,,AUTO
         3 000557   000022 771000                    ARL     18
         3 000560   040045 100400                    MLR     fill='040'O
         3 000561   000012 000020 2                  ADSC9   10                       cn=0,n=16
         3 000562   000012 000010 xsym               ADSC9   LL_DOBUF+10,A            cn=0,n=*X0
         3 000563   204114 236100                    LDQ     @P_RECX+1,,AUTO
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:44   
         3 000564   000022 772000                    QRL     18
         3 000565   000070 116007                    CMPQ    56,DL
         3 000566   000577 603000 3                  TRC     s:4879
         3 000567   000000 635011                    EAA     0,X1
         3 000570   000020 771000                    ARL     16
         3 000571   777707 620006                    EAX0    -57,QL
         3 000572   777777 660003                    ERX0    -1,DU
         3 000573   000000 473400 xsym               LDP3    LL_OF$
         3 000574   040046 100505                    MLR     fill='040'O
         3 000575   300000 000062                    ADSC9   0,A,PR3                  cn=0,n=50
         3 000576   000016 000010 xsym               ADSC9   LL_DOBUF+14,Q            cn=0,n=*X0

      238     4875    5                          'A  Object language error in object unit ',
      239     4876    5                          TPTR$ -> OU_ENTRY.OUNAME.TEXT,
      240     4877    5                          ' in object file ',
      241     4878    5                          LL_OF$->OU_FID.NAME(TPTR$->OU_ENTRY.OF));
      242     4879    5                       CALL LLM$MON_SVC ( LL#WRITEDO );

   4879  3 000577   000016 630400 4                  EPPR0   14
         3 000600   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000601   000000 701000 xent               TSX1    LLM$MON_SVC
         3 000602   000000 011000                    NOP     0

      243     4880    5                       CALL CONCAT ( LL_DOBUF,

   4880  3 000603   040000 100400                    MLR     fill='040'O
         3 000604   000016 000025 2                  ADSC9   14                       cn=0,n=21
         3 000605   000000 000025 xsym               ADSC9   LL_DOBUF                 cn=0,n=21
         3 000606   200005 236100                    LDQ     SECT_TEXT,,AUTO
         3 000607   000011 772000                    QRL     9
         3 000610   000005 552034 xsym               STBQ    LL_DOBUF+5,'34'O
         3 000611   040000 100400                    MLR     fill='040'O
         3 000612   000024 000047 2                  ADSC9   20                       cn=0,n=39
         3 000613   000006 000047 xsym               ADSC9   LL_DOBUF+6               cn=0,n=39
         3 000614   040000 100400                    MLR     fill='040'O
         3 000615   000036 000024 2                  ADSC9   30                       cn=0,n=20
         3 000616   000017 600061 xsym               ADSC9   LL_DOBUF+15              cn=3,n=49
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:45   

      244     4881    5                          'A    Control section ',
      245     4882    5                          SECT_TEXT,
      246     4883    5                          ' is initialized with more data than has',
      247     4884    5                          ' has been allocated.' );
      248     4885    5                       CALL LLM$MON_SVC ( LL#WRITEDO );

   4885  3 000617   000016 630400 4                  EPPR0   14
         3 000620   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 000621   000000 701000 xent               TSX1    LLM$MON_SVC
         3 000622   000000 011000                    NOP     0

      249     4886    5                       END;

      250     4887    5                   DO CASE (PROCESSTYPE);

   4887  3 000623   200007 235100                    LDA     PROCESSTYPE,,AUTO
         3 000624   000002 115007                    CMPA    2,DL
         3 000625   000627 602005 3                  TNC     s:4887+4,AL
         3 000626   001441 710000 3                  TRA     GET_NEXT_RCD
         3 000627   000631 710000 3                  TRA     s:4889
         3 000630   001042 710000 3                  TRA     s:4937

      251     4888    5                   CASE (0); /* Program text */

      252     4889    6                       IF ( B$PRGKEY.SUBTYPE = 0 AND PROG_SIZE > 0 ) THEN DO;

   4889  3 000631   000002 236000 1                  LDQ     B$PRGKEY+2
         3 000632   000777 316007                    CANQ    511,DL
         3 000633   001032 601000 3                  TNZ     s:4930
         3 000634   200047 235100                    LDA     PROG_SIZE,,AUTO
         3 000635   001032 600000 3                  TZE     s:4930

      253     4890    6                           PAGE_IN = ( PROG_BASE / LL_PRECMEM ) * LL_PRECMEM;

   4890  3 000636   200042 236100                    LDQ     PROG_BASE,,AUTO
         3 000637   000013 772000                    QRL     11
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:46   
         3 000640   000013 736000                    QLS     11
         3 000641   200063 756100                    STQ     PAGE_IN,,AUTO

      254     4891    6                           TEXT_OFFSET = PROG_BASE - PAGE_IN;

   4891  3 000642   200042 236100                    LDQ     PROG_BASE,,AUTO
         3 000643   200063 136100                    SBLQ    PAGE_IN,,AUTO
         3 000644   200043 756100                    STQ     TEXT_OFFSET,,AUTO

      255     4892    6                           CALL GET_PAGE( PAGE_IN );

   4892  3 000645   200063 630500                    EPPR0   PAGE_IN,,AUTO
         3 000646   204111 450500                    STP0    BIN_FIELD+2,,AUTO
         3 000647   001567 701000 3                  TSX1    GET_PAGE
         3 000650   000000 011000                    NOP     0

      256     4893    6                           RU_RECS.MODIFIED(RU_RECX) = '1'B;

   4893  3 000651   400000 236003                    LDQ     -131072,DU
         3 000652   200073 720100                    LXL0    RU_RECX,,AUTO
         3 000653   200102 756110                    STQ     RU_RECS+4,X0,AUTO

      257     4894    6                           M = 1;

   4894  3 000654   000001 235007                    LDA     1,DL
         3 000655   200030 755100                    STA     M,,AUTO

      258     4895    6                           L = LL_PRECMEM - TEXT_OFFSET;

   4895  3 000656   004000 235007                    LDA     2048,DL
         3 000657   200043 135100                    SBLA    TEXT_OFFSET,,AUTO
         3 000660   200027 755100                    STA     L,,AUTO

      259     4896    6                           FIELD$ = PINCRW (RU_REC$,TEXT_OFFSET/2);

   4896  3 000661   200043 236100                    LDQ     TEXT_OFFSET,,AUTO
         3 000662   000001 772000                    QRL     1
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:47   
         3 000663   000022 736000                    QLS     18
         3 000664   200075 036100                    ADLQ    RU_REC$,,AUTO
         3 000665   200070 756100                    STQ     FIELD$,,AUTO

      260     4897    7                           IF MOD(TEXT_OFFSET,2) ~= 0 THEN DO;

   4897  3 000666   200043 236100                    LDQ     TEXT_OFFSET,,AUTO
         3 000667   000001 376007                    ANQ     1,DL
         3 000670   000712 600000 3                  TZE     s:4904

      261     4898    7                               RU_WORD.BYTE3 = PROG$ -> OUWORD.BYTE1(0);

   4898  3 000671   200021 470500                    LDP0    PROG$,,AUTO
         3 000672   200070 471500                    LDP1    FIELD$,,AUTO
         3 000673   000000 236100                    LDQ     0,,PR0
         3 000674   776000 376003                    ANQ     -1024,DU
         3 000675   000023 772000                    QRL     19
         3 000676   100000 552110                    STBQ    0,'10'O,PR1

      262     4899    7                               RU_WORD.BYTE4 = PROG$ -> OUWORD.BYTE2(0);

   4899  3 000677   000000 236100                    LDQ     0,,PR0
         3 000700   001774 376003                    ANQ     1020,DU
         3 000701   000024 772000                    QRL     20
         3 000702   100000 552104                    STBQ    0,'04'O,PR1

      263     4900    7                               FIELD$ = PINCRW(FIELD$,1);

   4900  3 000703   200070 236100                    LDQ     FIELD$,,AUTO
         3 000704   000001 036003                    ADLQ    1,DU
         3 000705   200070 756100                    STQ     FIELD$,,AUTO

      264     4901    7                               L = L - 1;

   4901  3 000706   000001 135007                    SBLA    1,DL
         3 000707   200027 755100                    STA     L,,AUTO

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:48   
      265     4902    7                               M = 2;

   4902  3 000710   000002 235007                    LDA     2,DL
         3 000711   200030 755100                    STA     M,,AUTO

      266     4903    7                               END;

      267     4904    6                           UPPER_BOUND = TEXT_OFFSET + PROG_SIZE;

   4904  3 000712   200043 236100                    LDQ     TEXT_OFFSET,,AUTO
         3 000713   200047 036100                    ADLQ    PROG_SIZE,,AUTO
         3 000714   200046 756100                    STQ     UPPER_BOUND,,AUTO

      268     4905    7                           DO WHILE '1'B;

      269     4906    7                               K = MINIMUM (M+L-1, PROG_SIZE);

   4906  3 000715   200030 236100                    LDQ     M,,AUTO
         3 000716   200027 036100                    ADLQ    L,,AUTO
         3 000717   000001 136007                    SBLQ    1,DL
         3 000720   000725 604000 3                  TMI     s:4906+8
         3 000721   200047 116100                    CMPQ    PROG_SIZE,,AUTO
         3 000722   000725 602000 3                  TNC     s:4906+8
         3 000723   000725 600000 3                  TZE     s:4906+8
         3 000724   200047 236100                    LDQ     PROG_SIZE,,AUTO
         3 000725   200026 756100                    STQ     K,,AUTO

      270     4907    8                               DO WHILE '1'B;

      271     4908    8                                   IF M >= K THEN EXIT;

   4908  3 000726   200030 236100                    LDQ     M,,AUTO
         3 000727   200026 116100                    CMPQ    K,,AUTO
         3 000730   000763 603000 3                  TRC     s:4916

      272     4909    8                                   RU_WORD.BYTE1 = PROG$->OUWORD.BYTE1(M-1);

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:49   
   4909  3 000731   200021 470500                    LDP0    PROG$,,AUTO
         3 000732   200070 471500                    LDP1    FIELD$,,AUTO
         3 000733   077777 236106                    LDQ     -1,QL,PR0
         3 000734   776000 376003                    ANQ     -1024,DU
         3 000735   000001 772000                    QRL     1
         3 000736   100000 552140                    STBQ    0,'40'O,PR1

      273     4910    8                                   RU_WORD.BYTE2 = PROG$->OUWORD.BYTE2(M-1);

   4910  3 000737   200030 720100                    LXL0    M,,AUTO
         3 000740   077777 236110                    LDQ     -1,X0,PR0
         3 000741   001774 376003                    ANQ     1020,DU
         3 000742   000002 772000                    QRL     2
         3 000743   100000 552120                    STBQ    0,'20'O,PR1

      274     4911    8                                   RU_WORD.BYTE3 = PROG$->OUWORD.BYTE1(M);

   4911  3 000744   000000 236110                    LDQ     0,X0,PR0
         3 000745   776000 376003                    ANQ     -1024,DU
         3 000746   000023 772000                    QRL     19
         3 000747   100000 552110                    STBQ    0,'10'O,PR1

      275     4912    8                                   RU_WORD.BYTE4 = PROG$->OUWORD.BYTE2(M);

   4912  3 000750   000000 236110                    LDQ     0,X0,PR0
         3 000751   001774 376003                    ANQ     1020,DU
         3 000752   000024 772000                    QRL     20
         3 000753   100000 552104                    STBQ    0,'04'O,PR1

      276     4913    8                                   FIELD$ = PINCRW(FIELD$,1);

   4913  3 000754   200070 236100                    LDQ     FIELD$,,AUTO
         3 000755   000001 036003                    ADLQ    1,DU
         3 000756   200070 756100                    STQ     FIELD$,,AUTO

      277     4914    8                                   M = M + 2;

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:50   
   4914  3 000757   200030 235100                    LDA     M,,AUTO
         3 000760   000002 035007                    ADLA    2,DL
         3 000761   200030 755100                    STA     M,,AUTO

      278     4915    8                                   END;

   4915  3 000762   000726 710000 3                  TRA     s:4908

      279     4916    7                               IF K=PROG_SIZE AND MOD(UPPER_BOUND,2)~=0

   4916  3 000763   200026 236100                    LDQ     K,,AUTO
         3 000764   200047 116100                    CMPQ    PROG_SIZE,,AUTO
         3 000765   001007 601000 3                  TNZ     s:4922
         3 000766   200046 236100                    LDQ     UPPER_BOUND,,AUTO
         3 000767   000001 376007                    ANQ     1,DL
         3 000770   001007 600000 3                  TZE     s:4922

      280     4917    8                               THEN DO;

      281     4918    8                                   RU_WORD.BYTE1 = PROG$->OUWORD.BYTE1(M-1);

   4918  3 000771   200021 470500                    LDP0    PROG$,,AUTO
         3 000772   200030 720100                    LXL0    M,,AUTO
         3 000773   200070 471500                    LDP1    FIELD$,,AUTO
         3 000774   077777 236110                    LDQ     -1,X0,PR0
         3 000775   776000 376003                    ANQ     -1024,DU
         3 000776   000001 772000                    QRL     1
         3 000777   100000 552140                    STBQ    0,'40'O,PR1

      282     4919    8                                   RU_WORD.BYTE2 = PROG$->OUWORD.BYTE2(M-1);

   4919  3 001000   077777 236110                    LDQ     -1,X0,PR0
         3 001001   001774 376003                    ANQ     1020,DU
         3 001002   000002 772000                    QRL     2
         3 001003   100000 552120                    STBQ    0,'20'O,PR1

      283     4920    8                                   M = M + 1;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:51   

   4920  3 001004   200030 235100                    LDA     M,,AUTO
         3 001005   000001 035007                    ADLA    1,DL
         3 001006   200030 755100                    STA     M,,AUTO

      284     4921    8                                   END;

      285     4922    7                               IF M > PROG_SIZE THEN EXIT;

   4922  3 001007   200047 236100                    LDQ     PROG_SIZE,,AUTO
         3 001010   200030 116100                    CMPQ    M,,AUTO
         3 001011   001031 602000 3                  TNC     s:4928

      286     4923    7                               L = LL_PRECMEM;

   4923  3 001012   004000 235007                    LDA     2048,DL
         3 001013   200027 755100                    STA     L,,AUTO

      287     4924    7                               CALL GET_PAGE( RU_PAGE + LL_PRECMEM );

   4924  3 001014   200074 235100                    LDA     RU_PAGE,,AUTO
         3 001015   004000 035007                    ADLA    2048,DL
         3 001016   204124 755100                    STA     @P_RECX+9,,AUTO
         3 001017   204124 630500                    EPPR0   @P_RECX+9,,AUTO
         3 001020   204111 450500                    STP0    BIN_FIELD+2,,AUTO
         3 001021   001567 701000 3                  TSX1    GET_PAGE
         3 001022   000000 011000                    NOP     0

      288     4925    7                               RU_RECS.MODIFIED(RU_RECX) = '1'B;

   4925  3 001023   400000 236003                    LDQ     -131072,DU
         3 001024   200073 720100                    LXL0    RU_RECX,,AUTO
         3 001025   200102 756110                    STQ     RU_RECS+4,X0,AUTO

      289     4926    7                               FIELD$ = RU_REC$;

   4926  3 001026   200075 236100                    LDQ     RU_REC$,,AUTO
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:52   
         3 001027   200070 756100                    STQ     FIELD$,,AUTO

      290     4927    7                               END;

   4927  3 001030   000715 710000 3                  TRA     s:4906

      291     4928    6                           END;

   4928  3 001031   001441 710000 3                  TRA     GET_NEXT_RCD

      292     4929    6                       ELSE DO;

      293     4930    6                           IF NOT RELOC_FOUND#

   4930  3 001032   200010 234100                    SZN     RELOC_FOUND#,,AUTO
         3 001033   001441 604000 3                  TMI     GET_NEXT_RCD

      294     4931    7                           THEN DO;

      295     4932    7                               B$RELOCKEY = B$PRGKEY;

   4932  3 001034   000000 100400                    MLR     fill='000'O
         3 001035   000000 000015 1                  ADSC9   B$PRGKEY                 cn=0,n=13
         3 001036   000004 000015 1                  ADSC9   B$RELOCKEY               cn=0,n=13

      296     4933    7                               RELOC_FOUND# = '1'B;

   4933  3 001037   400000 236003                    LDQ     -131072,DU
         3 001040   200010 756100                    STQ     RELOC_FOUND#,,AUTO

      297     4934    7                               END;

      298     4935    6                           END;

   4935  3 001041   001441 710000 3                  TRA     GET_NEXT_RCD

      299     4936    5                   CASE (1); /* Relocation directives */
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:53   

      300     4937    6                       IF ( B$PRGKEY.SUBTYPE = 1 ) THEN DO;

   4937  3 001042   000002 236000 1                  LDQ     B$PRGKEY+2
         3 001043   000777 376007                    ANQ     511,DL
         3 001044   000001 116007                    CMPQ    1,DL
         3 001045   001441 601000 3                  TNZ     GET_NEXT_RCD

      301     4938    6                           RELOC$ = PROG$;

   4938  3 001046   200021 236100                    LDQ     PROG$,,AUTO
         3 001047   200022 756100                    STQ     RELOC$,,AUTO

      302     4939    7                           DO WHILE (PROG_SIZE > 0);

   4939  3 001050   200047 235100                    LDA     PROG_SIZE,,AUTO
         3 001051   001441 600000 3                  TZE     GET_NEXT_RCD

      303     4940    7                               IF (RELOC$ -> B$RELOC1.OPNDTYP > 0)

   4940  3 001052   200022 470500                    LDP0    RELOC$,,AUTO
         3 001053   000000 236100                    LDQ     0,,PR0
         3 001054   740000 316003                    CANQ    -16384,DU
         3 001055   001061 600000 3                  TZE     s:4943

      304     4941    7                               THEN LENGTH = 1;

   4941  3 001056   000001 235007                    LDA     1,DL
         3 001057   200050 755100                    STA     LENGTH,,AUTO
         3 001060   001070 710000 3                  TRA     s:4947

      305     4942    7                               ELSE
      306     4943    7                                   IF (RELOC$ -> B$RELOC2.EVALOP

   4943  3 001061   000360 316003                    CANQ    240,DU
         3 001062   001066 601000 3                  TNZ     s:4946

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:54   
      307     4944    7                                      = 0) THEN LENGTH = 2;

   4944  3 001063   000002 235007                    LDA     2,DL
         3 001064   200050 755100                    STA     LENGTH,,AUTO
         3 001065   001070 710000 3                  TRA     s:4947

      308     4945    7                                   ELSE
      309     4946    7                                       LENGTH = 3;

   4946  3 001066   000003 235007                    LDA     3,DL
         3 001067   200050 755100                    STA     LENGTH,,AUTO

      310     4947    8                               DO CASE (LENGTH);

   4947  3 001070   000004 115007                    CMPA    4,DL
         3 001071   001073 602005 3                  TNC     s:4947+3,AL
         3 001072   001162 710000 3                  TRA     s:4983
         3 001073   001162 710000 3                  TRA     s:4983
         3 001074   001077 710000 3                  TRA     s:4949
         3 001075   001125 710000 3                  TRA     s:4962
         3 001076   001127 710000 3                  TRA     s:4965

      311     4948    8                               CASE (1); /* Short form */

      312     4949    8                                   OPNDTYP = RELOC$ ->

   4949  3 001077   000000 236100                    LDQ     0,,PR0
         3 001100   000040 772000                    QRL     32
         3 001101   200051 756100                    STQ     OPNDTYP,,AUTO

      313     4950    8                                      B$RELOC1.OPNDTYP;
      314     4951    8                                   OPERAND = RELOC$ ->

   4951  3 001102   000000 236100                    LDQ     0,,PR0
         3 001103   000022 772000                    QRL     18
         3 001104   000777 376007                    ANQ     511,DL
         3 001105   200052 756100                    STQ     OPERAND,,AUTO
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:55   

      315     4952    8                                      B$RELOC1.OPERAND;
      316     4953    8                                   FIELD = RELOC$ ->

   4953  3 001106   000000 236100                    LDQ     0,,PR0
         3 001107   000033 772000                    QRL     27
         3 001110   000017 376007                    ANQ     15,DL
         3 001111   200053 756100                    STQ     FIELD,,AUTO

      317     4954    8                                      B$RELOC1.FIELD;
      318     4955    8                                   RELOCOP = BITBIN(RELOC$ ->

   4955  3 001112   000000 236100                    LDQ     0,,PR0
         3 001113   000037 772000                    QRL     31
         3 001114   000001 376007                    ANQ     1,DL
         3 001115   000001 036007                    ADLQ    1,DL
         3 001116   200054 756100                    STQ     RELOCOP,,AUTO

      319     4956    8                                      B$RELOC1.OP) + 1;
      320     4957    8                                   DISP = RELOC$ ->

   4957  3 001117   000000 236100                    LDQ     0,,PR0
         3 001120   777777 376007                    ANQ     -1,DL
         3 001121   200055 756100                    STQ     DISP,,AUTO

      321     4958    8                                      B$RELOC1.DISP;
      322     4959    8                                   VALUE = 0;

   4959  3 001122   200056 450100                    STZ     VALUE,,AUTO

      323     4960    8                                   EVALOP = 0;

   4960  3 001123   200057 450100                    STZ     EVALOP,,AUTO
         3 001124   001162 710000 3                  TRA     s:4983

      324     4961    8                               CASE (2); /* Long form */

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:56   
      325     4962    8                                   VALUE = 0;

   4962  3 001125   200056 450100                    STZ     VALUE,,AUTO

      326     4963    8                                   GOTO LENGTH_3;

   4963  3 001126   001131 710000 3                  TRA     LENGTH_3

      327     4964    8                               CASE (3);

      328     4965    8                                   VALUE = RELOC$ ->

   4965  3 001127   000002 235100                    LDA     2,,PR0
         3 001130   200056 755100                    STA     VALUE,,AUTO

      329     4966    8                                      B$RELOC2.VALUE;
      330     4967    8   LENGTH_3:
      331     4968    8                                   OPNDTYP = RELOC$ ->

   4968  3 001131   000000 236100       LENGTH_3     LDQ     0,,PR0
         3 001132   000032 772000                    QRL     26
         3 001133   000017 376007                    ANQ     15,DL
         3 001134   200051 756100                    STQ     OPNDTYP,,AUTO

      332     4969    8                                      B$RELOC2.OPNDTYP;
      333     4970    8                                   EVALOP = RELOC$ ->

   4970  3 001135   000000 236100                    LDQ     0,,PR0
         3 001136   000026 772000                    QRL     22
         3 001137   000017 376007                    ANQ     15,DL
         3 001140   200057 756100                    STQ     EVALOP,,AUTO

      334     4971    8                                      B$RELOC2.EVALOP;
      335     4972    8                                   RELOCOP = RELOC$ ->

   4972  3 001141   000000 236100                    LDQ     0,,PR0
         3 001142   000022 772000                    QRL     18
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:57   
         3 001143   000017 376007                    ANQ     15,DL
         3 001144   200054 756100                    STQ     RELOCOP,,AUTO

      336     4973    8                                      B$RELOC2.RELOCOP;
      337     4974    8                                   OPERAND = RELOC$ ->

   4974  3 001145   000000 236100                    LDQ     0,,PR0
         3 001146   777777 376007                    ANQ     -1,DL
         3 001147   200052 756100                    STQ     OPERAND,,AUTO

      338     4975    8                                      B$RELOC2.OPERAND;
      339     4976    8                                   DISP = RELOC$ ->

   4976  3 001150   000001 236100                    LDQ     1,,PR0
         3 001151   000022 772000                    QRL     18
         3 001152   200055 756100                    STQ     DISP,,AUTO

      340     4977    8                                      B$RELOC2.DISP;
      341     4978    8                                   STBIT = RELOC$ ->

   4978  3 001153   000001 236100                    LDQ     1,,PR0
         3 001154   000011 772000                    QRL     9
         3 001155   000777 376007                    ANQ     511,DL
         3 001156   200060 756100                    STQ     STBIT,,AUTO

      342     4979    8                                      B$RELOC2.STBIT;
      343     4980    8                                   ENDBIT = RELOC$ ->

   4980  3 001157   000001 236100                    LDQ     1,,PR0
         3 001160   000777 376007                    ANQ     511,DL
         3 001161   200061 756100                    STQ     ENDBIT,,AUTO

      344     4981    8                                      B$RELOC2.ENDBIT;
      345     4982    8                                   END;

      346     4983    7                               IF LL_FLAGS.VECTOR# AND I = 0

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:58   
   4983  3 001162   000000 236000 xsym               LDQ     LL_FLAGS
         3 001163   000200 316007                    CANQ    128,DL
         3 001164   001173 600000 3                  TZE     s:4986
         3 001165   200024 235100                    LDA     I,,AUTO
         3 001166   001173 601000 3                  TNZ     s:4986

      347     4984    7                               THEN PROG_SIZE = PROG_SIZE - 3;

   4984  3 001167   200047 235100                    LDA     PROG_SIZE,,AUTO
         3 001170   000003 135007                    SBLA    3,DL
         3 001171   200047 755100                    STA     PROG_SIZE,,AUTO
         3 001172   001176 710000 3                  TRA     s:4987

      348     4985    7                               ELSE
      349     4986    7                                   PROG_SIZE = PROG_SIZE - LENGTH;

   4986  3 001173   200047 236100                    LDQ     PROG_SIZE,,AUTO
         3 001174   200050 136100                    SBLQ    LENGTH,,AUTO
         3 001175   200047 756100                    STQ     PROG_SIZE,,AUTO

      350     4987    8                               IF (LENGTH = 1) THEN DO;

   4987  3 001176   200050 235100                    LDA     LENGTH,,AUTO
         3 001177   000001 115007                    CMPA    1,DL
         3 001200   001232 601000 3                  TNZ     s:5003

      351     4988    9                                   DO CASE (FIELD);

   4988  3 001201   200053 236100                    LDQ     FIELD,,AUTO
         3 001202   000005 116007                    CMPQ    5,DL
         3 001203   001205 602006 3                  TNC     s:4988+4,QL
         3 001204   001232 710000 3                  TRA     s:5003
         3 001205   001212 710000 3                  TRA     s:4990
         3 001206   001216 710000 3                  TRA     s:4993
         3 001207   001232 710000 3                  TRA     s:5003
         3 001210   001223 710000 3                  TRA     s:4996
         3 001211   001227 710000 3                  TRA     s:4999
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:59   

      352     4989    9                                   CASE (0); /* First byte */

      353     4990    9                                       STBIT = 0;

   4990  3 001212   200060 450100                    STZ     STBIT,,AUTO

      354     4991    9                                       ENDBIT = 7;

   4991  3 001213   000007 235007                    LDA     7,DL
         3 001214   200061 755100                    STA     ENDBIT,,AUTO
         3 001215   001232 710000 3                  TRA     s:5003

      355     4992    9                                   CASE (1); /* Last byte */

      356     4993    9                                       STBIT = 8;

   4993  3 001216   000010 235007                    LDA     8,DL
         3 001217   200060 755100                    STA     STBIT,,AUTO

      357     4994    9                                       ENDBIT = 15;

   4994  3 001220   000017 235007                    LDA     15,DL
         3 001221   200061 755100                    STA     ENDBIT,,AUTO
         3 001222   001232 710000 3                  TRA     s:5003

      358     4995    9                                   CASE (3); /* LAF addr */

      359     4996    9                                       STBIT = 0;

   4996  3 001223   200060 450100                    STZ     STBIT,,AUTO

      360     4997    9                                       ENDBIT = 31;

   4997  3 001224   000037 235007                    LDA     31,DL
         3 001225   200061 755100                    STA     ENDBIT,,AUTO
         3 001226   001232 710000 3                  TRA     s:5003
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:60   

      361     4998    9                                   CASE (4); /* L6 word */

      362     4999    9                                       STBIT = 0;

   4999  3 001227   200060 450100                    STZ     STBIT,,AUTO

      363     5000    9                                       ENDBIT = 15;

   5000  3 001230   000017 235007                    LDA     15,DL
         3 001231   200061 755100                    STA     ENDBIT,,AUTO

      364     5001    9                                       END;

      365     5002    8                                   END;

      366     5003    8                               DO CASE (OPNDTYP);

   5003  3 001232   200051 235100                    LDA     OPNDTYP,,AUTO
         3 001233   000005 115007                    CMPA    5,DL
         3 001234   001236 602005 3                  TNC     s:5003+4,AL
         3 001235   001267 710000 3                  TRA     s:5018
         3 001236   001267 710000 3                  TRA     s:5018
         3 001237   001243 710000 3                  TRA     s:5005
         3 001240   001253 710000 3                  TRA     s:5010
         3 001241   001260 710000 3                  TRA     s:5013
         3 001242   001265 710000 3                  TRA     s:5016

      367     5004    8                               CASE (1);

      368     5005    8                                   ACCUM = PINCRW (TPTR$ ->

   5005  3 001243   200012 471500                    LDP1    TPTR$,,AUTO
         3 001244   100003 473500                    LDP3    3,,PR1
         3 001245   200052 236100                    LDQ     OPERAND,,AUTO
         3 001246   000001 736000                    QLS     1
         3 001247   300000 236106                    LDQ     0,QL,PR3
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:61   
         3 001250   000032 376000 xsym               ANQ     B_VECTNIL+26
         3 001251   200062 756100                    STQ     ACCUM,,AUTO
         3 001252   001267 710000 3                  TRA     s:5018

      369     5006    8                                      OU_ENTRY.SECT$,
      370     5007    8                                      SIZEW(LL_SECTION)*OPERAND) ->
      371     5008    8                                      LL_SECTION.ISADDR;
      372     5009    8                               CASE (2);

      373     5010    8                                   ACCUM = PINCRW (ENTREF$,

   5010  3 001253   200015 471500                    LDP1    ENTREF$,,AUTO
         3 001254   200052 720100                    LXL0    OPERAND,,AUTO
         3 001255   100000 235110                    LDA     0,X0,PR1
         3 001256   200062 755100                    STA     ACCUM,,AUTO
         3 001257   001267 710000 3                  TRA     s:5018

      374     5011    8                                      OPERAND) -> ISADDR;
      375     5012    8                               CASE (3);

      376     5013    8                                   ACCUM = PINCRW (SYMREF$,

   5013  3 001260   200016 471500                    LDP1    SYMREF$,,AUTO
         3 001261   200052 720100                    LXL0    OPERAND,,AUTO
         3 001262   100000 235110                    LDA     0,X0,PR1
         3 001263   200062 755100                    STA     ACCUM,,AUTO
         3 001264   001267 710000 3                  TRA     s:5018

      377     5014    8                                      OPERAND) -> ISADDR;
      378     5015    8                               CASE (4);

      379     5016    8                                   ACCUM = OPERAND;

   5016  3 001265   200052 236100                    LDQ     OPERAND,,AUTO
         3 001266   200062 756100                    STQ     ACCUM,,AUTO

      380     5017    8                                   END;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:62   

      381     5018    7                               LOCATION = PROG_BASE + DISP;

   5018  3 001267   200042 236100                    LDQ     PROG_BASE,,AUTO
         3 001270   200055 036100                    ADLQ    DISP,,AUTO
         3 001271   200065 756100                    STQ     LOCATION,,AUTO

      382     5019    7                               REPEAT_COUNT = 0;

   5019  3 001272   200006 450100                    STZ     REPEAT_COUNT,,AUTO

      383     5020    8                               DO CASE (EVALOP);

   5020  3 001273   200057 235100                    LDA     EVALOP,,AUTO
         3 001274   000011 115007                    CMPA    9,DL
         3 001275   001277 602005 3                  TNC     s:5020+4,AL
         3 001276   001375 710000 3                  TRA     s:5044
         3 001277   001375 710000 3                  TRA     s:5044
         3 001300   001310 710000 3                  TRA     s:5022
         3 001301   001314 710000 3                  TRA     s:5024
         3 001302   001320 710000 3                  TRA     s:5026
         3 001303   001324 710000 3                  TRA     s:5028
         3 001304   001330 710000 3                  TRA     s:5030
         3 001305   001346 710000 3                  TRA     s:5034
         3 001306   001363 710000 3                  TRA     s:5038
         3 001307   001371 710000 3                  TRA     s:5041

      384     5021    8                               CASE (1);

      385     5022    8                                   ACCUM = ACCUM + VALUE;

   5022  3 001310   200062 236100                    LDQ     ACCUM,,AUTO
         3 001311   200056 036100                    ADLQ    VALUE,,AUTO
         3 001312   200062 756100                    STQ     ACCUM,,AUTO
         3 001313   001375 710000 3                  TRA     s:5044

      386     5023    8                               CASE (2);
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:63   

      387     5024    8                                   ACCUM = ACCUM - VALUE;

   5024  3 001314   200062 236100                    LDQ     ACCUM,,AUTO
         3 001315   200056 136100                    SBLQ    VALUE,,AUTO
         3 001316   200062 756100                    STQ     ACCUM,,AUTO
         3 001317   001375 710000 3                  TRA     s:5044

      388     5025    8                               CASE (3);

      389     5026    8                                   ACCUM = ACCUM * VALUE;

   5026  3 001320   200062 236100                    LDQ     ACCUM,,AUTO
         3 001321   200056 402100                    MPY     VALUE,,AUTO
         3 001322   200062 756100                    STQ     ACCUM,,AUTO
         3 001323   001375 710000 3                  TRA     s:5044

      390     5027    8                               CASE (4);

      391     5028    8                                   ACCUM = ACCUM / VALUE;

   5028  3 001324   200062 236100                    LDQ     ACCUM,,AUTO
         3 001325   200056 506100                    DIV     VALUE,,AUTO
         3 001326   200062 756100                    STQ     ACCUM,,AUTO
         3 001327   001375 710000 3                  TRA     s:5044

      392     5029    8                               CASE (5);

      393     5030    9                                   DO K = 1 TO VALUE;

   5030  3 001330   000001 235007                    LDA     1,DL
         3 001331   200026 755100                    STA     K,,AUTO
         3 001332   001341 710000 3                  TRA     s:5032+3

      394     5031    9                                       ACCUM = ACCUM / 2;

   5031  3 001333   200062 236100                    LDQ     ACCUM,,AUTO
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:64   
         3 001334   000002 506007                    DIV     2,DL
         3 001335   200062 756100                    STQ     ACCUM,,AUTO

      395     5032    9                                       END;

   5032  3 001336   200026 235100                    LDA     K,,AUTO
         3 001337   000001 035007                    ADLA    1,DL
         3 001340   200026 755100                    STA     K,,AUTO
         3 001341   200026 236100                    LDQ     K,,AUTO
         3 001342   001345 604000 3                  TMI     s:5032+7
         3 001343   200056 116100                    CMPQ    VALUE,,AUTO
         3 001344   001333 604400 3                  TMOZ    s:5031
         3 001345   001375 710000 3                  TRA     s:5044

      396     5033    8                               CASE (6);

      397     5034    9                                   DO K = 1 TO VALUE;

   5034  3 001346   000001 235007                    LDA     1,DL
         3 001347   200026 755100                    STA     K,,AUTO
         3 001350   001356 710000 3                  TRA     s:5036+3

      398     5035    9                                       ACCUM = ACCUM * 2;

   5035  3 001351   200062 236100                    LDQ     ACCUM,,AUTO
         3 001352   200062 056100                    ASQ     ACCUM,,AUTO

      399     5036    9                                       END;

   5036  3 001353   200026 235100                    LDA     K,,AUTO
         3 001354   000001 035007                    ADLA    1,DL
         3 001355   200026 755100                    STA     K,,AUTO
         3 001356   200026 236100                    LDQ     K,,AUTO
         3 001357   001362 604000 3                  TMI     s:5036+7
         3 001360   200056 116100                    CMPQ    VALUE,,AUTO
         3 001361   001351 604400 3                  TMOZ    s:5035
         3 001362   001375 710000 3                  TRA     s:5044
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:65   

      400     5037    8                               CASE (7);

      401     5038    8                                   REPEAT_COUNT = OPERAND - 1;

   5038  3 001363   200052 235100                    LDA     OPERAND,,AUTO
         3 001364   000001 135007                    SBLA    1,DL
         3 001365   200006 755100                    STA     REPEAT_COUNT,,AUTO

      402     5039    8                                   ACCUM = VALUE;

   5039  3 001366   200056 235100                    LDA     VALUE,,AUTO
         3 001367   200062 755100                    STA     ACCUM,,AUTO
         3 001370   001375 710000 3                  TRA     s:5044

      403     5040    8                               CASE (8);

      404     5041    8                                   ACCUM = ACCUM - LOCATION

   5041  3 001371   200062 236100                    LDQ     ACCUM,,AUTO
         3 001372   200065 136100                    SBLQ    LOCATION,,AUTO
         3 001373   200056 036100                    ADLQ    VALUE,,AUTO
         3 001374   200062 756100                    STQ     ACCUM,,AUTO

      405     5042    8                                      + VALUE;
      406     5043    8                                   END;

      407     5044    7                               FIELD_LENGTH = ENDBIT - STBIT + 1;

   5044  3 001375   200061 236100                    LDQ     ENDBIT,,AUTO
         3 001376   200060 136100                    SBLQ    STBIT,,AUTO
         3 001377   000001 036007                    ADLQ    1,DL
         3 001400   200066 756100                    STQ     FIELD_LENGTH,,AUTO

      408     5045    8                               DO N = 0 TO REPEAT_COUNT;

   5045  3 001401   200031 450100                    STZ     N,,AUTO
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:66   
         3 001402   001416 710000 3                  TRA     s:5049+3

      409     5046    8                                   CALL RELOC_FIELD;

   5046  3 001403   001717 701000 3                  TSX1    RELOC_FIELD
         3 001404   000000 011000                    NOP     0

      410     5047    8                                   ENDBIT = ENDBIT + FIELD_LENGTH;

   5047  3 001405   200061 236100                    LDQ     ENDBIT,,AUTO
         3 001406   200066 036100                    ADLQ    FIELD_LENGTH,,AUTO
         3 001407   200061 756100                    STQ     ENDBIT,,AUTO

      411     5048    8                                   STBIT = STBIT + FIELD_LENGTH;

   5048  3 001410   200060 236100                    LDQ     STBIT,,AUTO
         3 001411   200066 036100                    ADLQ    FIELD_LENGTH,,AUTO
         3 001412   200060 756100                    STQ     STBIT,,AUTO

      412     5049    8                                   END;

   5049  3 001413   200031 235100                    LDA     N,,AUTO
         3 001414   000001 035007                    ADLA    1,DL
         3 001415   200031 755100                    STA     N,,AUTO
         3 001416   200031 236100                    LDQ     N,,AUTO
         3 001417   001422 604000 3                  TMI     s:5050
         3 001420   200006 116100                    CMPQ    REPEAT_COUNT,,AUTO
         3 001421   001403 604400 3                  TMOZ    s:5046

      413     5050    7                               IF LL_FLAGS.VECTOR# AND I = 0

   5050  3 001422   000000 236000 xsym               LDQ     LL_FLAGS
         3 001423   000200 316007                    CANQ    128,DL
         3 001424   001433 600000 3                  TZE     s:5053
         3 001425   200024 235100                    LDA     I,,AUTO
         3 001426   001433 601000 3                  TNZ     s:5053

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:67   
      414     5051    7                               THEN RELOC$ = PINCRW(RELOC$,3);

   5051  3 001427   200022 236100                    LDQ     RELOC$,,AUTO
         3 001430   000003 036003                    ADLQ    3,DU
         3 001431   200022 756100                    STQ     RELOC$,,AUTO
         3 001432   001437 710000 3                  TRA     s:5054

      415     5052    7                               ELSE
      416     5053    7                                   RELOC$ = PINCRW(RELOC$, LENGTH);

   5053  3 001433   200050 236100                    LDQ     LENGTH,,AUTO
         3 001434   000022 736000                    QLS     18
         3 001435   200022 036100                    ADLQ    RELOC$,,AUTO
         3 001436   200022 756100                    STQ     RELOC$,,AUTO

      417     5054    7                               END;

   5054  3 001437   200047 235100                    LDA     PROG_SIZE,,AUTO
         3 001440   001052 601000 3                  TNZ     s:4940

      418     5055    6                           END;

      419     5056    5                       END;

      420     5057    4   GET_NEXT_RCD:
      421     5058    4                   END;

   5058  3 001441   000001 236000 1     GET_NEXT_RCD LDQ     B$PRGKEY+1
         3 001442   777000 376007                    ANQ     -512,DL
         3 001443   012000 116007                    CMPQ    5120,DL
         3 001444   000415 600000 3                  TZE     s:4838

      422     5059    3   NO_DEBUG:
      423     5060    4               IF ( PROCESSTYPE = 0 AND RELOC_FOUND# ) THEN DO;

   5060  3 001445   200007 235100       NO_DEBUG     LDA     PROCESSTYPE,,AUTO
         3 001446   001460 601000 3                  TNZ     s:5066
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:68   
         3 001447   200010 234100                    SZN     RELOC_FOUND#,,AUTO
         3 001450   001460 605000 3                  TPL     s:5066

      424     5061    4                   RELOC_FOUND# = '0'B;

   5061  3 001451   200010 450100                    STZ     RELOC_FOUND#,,AUTO

      425     5062    4                   PROCESSTYPE = 1;

   5062  3 001452   000001 236007                    LDQ     1,DL
         3 001453   200007 756100                    STQ     PROCESSTYPE,,AUTO

      426     5063    4                   B$PRGKEY = B$RELOCKEY;

   5063  3 001454   000000 100400                    MLR     fill='000'O
         3 001455   000004 000015 1                  ADSC9   B$RELOCKEY               cn=0,n=13
         3 001456   000000 000015 1                  ADSC9   B$PRGKEY                 cn=0,n=13

      427     5064    4                   GOTO BLETCHO;

   5064  3 001457   000405 710000 3                  TRA     BLETCHO

      428     5065    4                   END;
      429     5066    3               CALL LLC$SCHEMA (TPTR$,K,ENTREF$,SYMREF$);

   5066  3 001460   200016 630500                    EPPR0   SYMREF$,,AUTO
         3 001461   204117 450500                    STP0    @P_RECX+4,,AUTO
         3 001462   200015 631500                    EPPR1   ENTREF$,,AUTO
         3 001463   204116 451500                    STP1    @P_RECX+3,,AUTO
         3 001464   200026 633500                    EPPR3   K,,AUTO
         3 001465   204115 453500                    STP3    @P_RECX+2,,AUTO
         3 001466   200012 634500                    EPPR4   TPTR$,,AUTO
         3 001467   204114 454500                    STP4    @P_RECX+1,,AUTO
         3 001470   204114 630500                    EPPR0   @P_RECX+1,,AUTO
         3 001471   000022 631400 xsym               EPPR1   B_VECTNIL+18
         3 001472   000000 701000 xent               TSX1    LLC$SCHEMA
         3 001473   000000 011000                    NOP     0
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:69   

      430     5067    3               IF ( K > LL_HEAD.SEV ) THEN LL_HEAD.SEV = K;

   5067  3 001474   000003 236000 xsym               LDQ     LL_HEAD+3
         3 001475   000033 772000                    QRL     27
         3 001476   200026 116100                    CMPQ    K,,AUTO
         3 001477   001503 603000 3                  TRC     s:5068

   5067  3 001500   200026 236100                    LDQ     K,,AUTO
         3 001501   000033 736000                    QLS     27
         3 001502   000003 552040 xsym               STBQ    LL_HEAD+3,'40'O

      431     5068    3               TPTR$ = TPTR$ -> OU_ENTRY.NEXT$;

   5068  3 001503   200012 470500                    LDP0    TPTR$,,AUTO
         3 001504   000001 236100                    LDQ     1,,PR0
         3 001505   200012 756100                    STQ     TPTR$,,AUTO

      432     5069    3               END;

   5069  3 001506   200012 236100                    LDQ     TPTR$,,AUTO
         3 001507   000001 116000 xsym               CMPQ    B_VECTNIL+1
         3 001510   001516 600000 3                  TZE     s:5070
         3 001511   200012 470500                    LDP0    TPTR$,,AUTO
         3 001512   000000 236100                    LDQ     0,,PR0
         3 001513   001516 604000 3                  TMI     s:5070
         3 001514   200024 116100                    CMPQ    I,,AUTO
         3 001515   000047 600000 3                  TZE     s:4770

      433     5070    2           CALL LLM$MON_SVC (LL#CLOSEEF);

   5070  3 001516   000020 630400 4                  EPPR0   16
         3 001517   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 001520   000000 701000 xent               TSX1    LLM$MON_SVC
         3 001521   000000 011000                    NOP     0

      434     5071    2           END;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:70   

   5071  3 001522   200024 235100                    LDA     I,,AUTO
         3 001523   000001 035007                    ADLA    1,DL
         3 001524   200024 755100                    STA     I,,AUTO
         3 001525   200024 236100                    LDQ     I,,AUTO
         3 001526   000000 116000 xsym               CMPQ    LL_NOU
         3 001527   000030 602000 3                  TNC     s:4766

      435     5072    1       CALL PUT_REC( 0 );

   5072  3 001530   000007 236000 4                  LDQ     7
         3 001531   204113 756100                    STQ     @P_PAGE+2,,AUTO
         3 001532   001664 701000 3                  TSX1    PUT_REC
         3 001533   000000 011000                    NOP     0

      436     5073    1       CALL PUT_REC( 1 );

   5073  3 001534   000021 236000 4                  LDQ     17
         3 001535   204113 756100                    STQ     @P_PAGE+2,,AUTO
         3 001536   001664 701000 3                  TSX1    PUT_REC
         3 001537   000000 011000                    NOP     0

      437     5074
      438     5075    1       CALL LLW$WRTDEF (LL_ENTDEF_R$, AVAIL$, %TYPEDEF, DEFN$);

   5075  3 001540   200013 630500                    EPPR0   DEFN$,,AUTO
         3 001541   204117 450500                    STP0    @P_RECX+4,,AUTO
         3 001542   000022 236000 4                  LDQ     18
         3 001543   204116 756100                    STQ     @P_RECX+3,,AUTO
         3 001544   200003 236100                    LDQ     @AVAIL$,,AUTO
         3 001545   000023 235000 4                  LDA     19
         3 001546   204114 757100                    STAQ    @P_RECX+1,,AUTO
         3 001547   204114 630500                    EPPR0   @P_RECX+1,,AUTO
         3 001550   000022 631400 xsym               EPPR1   B_VECTNIL+18
         3 001551   000000 701000 xent               TSX1    LLW$WRTDEF
         3 001552   000000 011000                    NOP     0

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:71   
      439     5076    1       CALL LLW$WRTDEF (LL_SYMDEF_R$, AVAIL$, %TYPSDEF, DEFN$);

   5076  3 001553   200013 630500                    EPPR0   DEFN$,,AUTO
         3 001554   204117 450500                    STP0    @P_RECX+4,,AUTO
         3 001555   000024 236000 4                  LDQ     20
         3 001556   204116 756100                    STQ     @P_RECX+3,,AUTO
         3 001557   200003 236100                    LDQ     @AVAIL$,,AUTO
         3 001560   000025 235000 4                  LDA     21
         3 001561   204114 757100                    STAQ    @P_RECX+1,,AUTO
         3 001562   204114 630500                    EPPR0   @P_RECX+1,,AUTO
         3 001563   000022 631400 xsym               EPPR1   B_VECTNIL+18
         3 001564   000000 701000 xent               TSX1    LLW$WRTDEF
         3 001565   000000 011000                    NOP     0

      440     5077    1       RETURN;

   5077  3 001566   000000 702200 xent               TSX2  ! X66_ARET

      441     5078        %EJECT;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:72   
      442     5079    1   GET_PAGE: PROC( P_PAGE );

   5079  3 001567   204110 741300       GET_PAGE     STX1  ! BIN_FIELD+1,,AUTO

      443     5080
      444     5081    2   DCL P_PAGE UBIN;
      445     5082    2   DCL RU_WORDS(0:%(LL_PRECSIZE-1)) UBIN BASED;
      446     5083
      447     5084    2       IF RU_PAGE = P_PAGE

   5084  3 001570   204111 470500                    LDP0    @P_PAGE,,AUTO
         3 001571   200074 236100                    LDQ     RU_PAGE,,AUTO
         3 001572   000000 116100                    CMPQ    0,,PR0
         3 001573   001575 601000 3                  TNZ     s:5088

      448     5085    2       THEN
      449     5086    2           RETURN;

   5086  3 001574   000001 702211                    TSX2  ! 1,X1

      450     5087
      451     5088    2       IF RU_RECX = 0

   5088  3 001575   200073 235100                    LDA     RU_RECX,,AUTO
         3 001576   001602 601000 3                  TNZ     s:5090

      452     5089    2       THEN RU_RECX = 1;

   5089  3 001577   000001 235007                    LDA     1,DL
         3 001600   200073 755100                    STA     RU_RECX,,AUTO
         3 001601   001603 710000 3                  TRA     s:5091

      453     5090    2       ELSE RU_RECX = 0;

   5090  3 001602   200073 450100                    STZ     RU_RECX,,AUTO

      454     5091    2       IF RU_RECS.PAGE(RU_RECX) = P_PAGE
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:73   

   5091  3 001603   200073 720100                    LXL0    RU_RECX,,AUTO
         3 001604   200076 236110                    LDQ     RU_RECS,X0,AUTO
         3 001605   001610 604000 3                  TMI     s:5095
         3 001606   000000 116100                    CMPQ    0,,PR0
         3 001607   001650 600000 3                  TZE     SWAPPED_PAGE

      455     5092    2       THEN
      456     5093    2           GOTO SWAPPED_PAGE;
      457     5094
      458     5095    2       CALL PUT_REC( NEXT_RU_REC );

   5095  3 001610   200072 631500                    EPPR1   NEXT_RU_REC,,AUTO
         3 001611   204113 451500                    STP1    @P_PAGE+2,,AUTO
         3 001612   001664 701000 3                  TSX1    PUT_REC
         3 001613   000000 011000                    NOP     0

      459     5096
      460     5097    2       B$RUKEY.ISADDR = P_PAGE;

   5097  3 001614   204111 470500                    LDP0    @P_PAGE,,AUTO
         3 001615   003000 061500                    CSR     bolr='003'O
         3 001616   000000 000044                    BDSC    0,,PR0                   by=0,bit=0,n=36
         3 001617   000010 670024 1                  BDSC    B$RUKEY                  by=3,bit=7,n=20

      461     5098    2       CALL LLM$MON_SVC (LL#READRU, RU_RECS.REC$(NEXT_RU_REC), LL_PRECBOUND, B$RUKEY)

   5098  3 001620   000030 237000 4                  LDAQ    24
         3 001621   204116 757100                    STAQ    @P_RECX+3,,AUTO
         3 001622   200072 720100                    LXL0    NEXT_RU_REC,,AUTO
         3 001623   200100 631510                    EPPR1   RU_RECS+2,X0,AUTO
         3 001624   204115 451500                    STP1    @P_RECX+2,,AUTO
         3 001625   000032 236000 4                  LDQ     26
         3 001626   204114 756100                    STQ     @P_RECX+1,,AUTO
         3 001627   204114 630500                    EPPR0   @P_RECX+1,,AUTO
         3 001630   000022 631400 xsym               EPPR1   B_VECTNIL+18
         3 001631   000000 701000 xent               TSX1    LLM$MON_SVC
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:74   
         3 001632   001634 702000 3                  TSX2    s:5100
         3 001633   001642 710000 3                  TRA     s:5103

      462     5099    3       WHENALTRETURN DO;

      463     5100    3           RU_RECS.REC$(NEXT_RU_REC)->RU_WORDS = '0'B;

   5100  3 001634   200072 720100                    LXL0    NEXT_RU_REC,,AUTO
         3 001635   200100 470510                    LDP0    RU_RECS+2,X0,AUTO
         3 001636   010000 221003                    LDX1    4096,DU
         3 001637   000140 100400                    MLR     fill='000'O
         3 001640   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         3 001641   000000 000011                    ADSC9   0,,PR0                   cn=0,n=*X1

      464     5101    3           END;

      465     5102
      466     5103    2       RU_RECX = NEXT_RU_REC;

   5103  3 001642   200072 235100                    LDA     NEXT_RU_REC,,AUTO
         3 001643   200073 755100                    STA     RU_RECX,,AUTO

      467     5104    2       RU_RECS.PAGE(RU_RECX) = P_PAGE;

   5104  3 001644   204111 470500                    LDP0    @P_PAGE,,AUTO
         3 001645   000000 235100                    LDA     0,,PR0
         3 001646   200073 720100                    LXL0    RU_RECX,,AUTO
         3 001647   200076 755110                    STA     RU_RECS,X0,AUTO

   5104  3 001650                       SWAPPED_PAGE null
      468     5105
      469     5106    2   SWAPPED_PAGE:;
      470     5107    2       IF RU_RECX = 0

   5107  3 001650   200073 235100                    LDA     RU_RECX,,AUTO
         3 001651   001655 601000 3                  TNZ     s:5109

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:75   
      471     5108    2       THEN NEXT_RU_REC = 1;

   5108  3 001652   000001 236007                    LDQ     1,DL
         3 001653   200072 756100                    STQ     NEXT_RU_REC,,AUTO
         3 001654   001656 710000 3                  TRA     s:5110

      472     5109    2       ELSE NEXT_RU_REC = 0;

   5109  3 001655   200072 450100                    STZ     NEXT_RU_REC,,AUTO

      473     5110    2       RU_REC$ = RU_RECS.REC$(RU_RECX);

   5110  3 001656   200100 236110                    LDQ     RU_RECS+2,X0,AUTO
         3 001657   200075 756100                    STQ     RU_REC$,,AUTO

      474     5111    2       RU_PAGE = P_PAGE;

   5111  3 001660   000000 235100                    LDA     0,,PR0
         3 001661   200074 755100                    STA     RU_PAGE,,AUTO

      475     5112
      476     5113    2   END GET_PAGE;

   5113  3 001662   204110 221300                    LDX1  ! BIN_FIELD+1,,AUTO
         3 001663   000001 702211                    TSX2  ! 1,X1

      477     5114        %EJECT;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:76   
      478     5115    1   PUT_REC: PROC( P_RECX );

   5115  3 001664   204112 741300       PUT_REC      STX1  ! @P_PAGE+1,,AUTO

      479     5116
      480     5117    2   DCL P_RECX UBIN;
      481     5118
      482     5119    2       IF RU_RECS.MODIFIED(P_RECX)

   5119  3 001665   204113 470500                    LDP0    @P_RECX,,AUTO
         3 001666   000000 720100                    LXL0    0,,PR0
         3 001667   200102 234110                    SZN     RU_RECS+4,X0,AUTO
         3 001670   001715 605000 3                  TPL     s:5126

      483     5120    3       THEN DO;

      484     5121    3           B$RUKEY.ISADDR = RU_RECS.PAGE(P_RECX);

   5121  3 001671   000000 636010                    EAQ     0,X0
         3 001672   000022 772000                    QRL     18
         3 001673   000044 402007                    MPY     36,DL
         3 001674   003000 061506                    CSR     bolr='003'O
         3 001675   200076 000044                    BDSC    RU_RECS,Q,AUTO           by=0,bit=0,n=36
         3 001676   000010 670024 1                  BDSC    B$RUKEY                  by=3,bit=7,n=20

      485     5122    3           CALL LLM$MON_SVC (LL#WRITERU, RU_RECS.REC$(P_RECX), LL_PRECBOUND, B$RUKEY);

   5122  3 001677   000000 720100                    LXL0    0,,PR0
         3 001700   000030 237000 4                  LDAQ    24
         3 001701   204116 757100                    STAQ    @P_RECX+3,,AUTO
         3 001702   200100 631510                    EPPR1   RU_RECS+2,X0,AUTO
         3 001703   204115 451500                    STP1    @P_RECX+2,,AUTO
         3 001704   000034 236000 4                  LDQ     28
         3 001705   204114 756100                    STQ     @P_RECX+1,,AUTO
         3 001706   204114 630500                    EPPR0   @P_RECX+1,,AUTO
         3 001707   000022 631400 xsym               EPPR1   B_VECTNIL+18
         3 001710   000000 701000 xent               TSX1    LLM$MON_SVC
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:77   
         3 001711   000000 011000                    NOP     0

      486     5123    3           RU_RECS.MODIFIED( P_RECX ) = '0'B;

   5123  3 001712   204113 470500                    LDP0    @P_RECX,,AUTO
         3 001713   000000 720100                    LXL0    0,,PR0
         3 001714   200102 450110                    STZ     RU_RECS+4,X0,AUTO

      487     5124    3           END;

      488     5125
      489     5126    2   END PUT_REC;

   5126  3 001715   204112 221300                    LDX1  ! @P_PAGE+1,,AUTO
         3 001716   000001 702211                    TSX2  ! 1,X1

      490     5127        %EJECT;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:78   
      491     5128    1   RELOC_FIELD: PROC;

   5128  3 001717   204106 741300       RELOC_FIELD  STX1  ! RU_RECS+2056,,AUTO

      492     5129
      493     5130    2   DCL BIT_K BIT(K) BASED UNAL;
      494     5131    2   DCL BIT_FL BIT(FIELD_LENGTH) BASED UNAL;
      495     5132    2   DCL BIN_FIELD SBIN;
      496     5133
      497     5134
      498     5135
      499     5136
      500     5137    2       PAGE_IN = ( ( LOCATION + STBIT/16 ) / LL_PRECMEM ) * LL_PRECMEM;

   5137  3 001720   200060 236100                    LDQ     STBIT,,AUTO
         3 001721   000004 772000                    QRL     4
         3 001722   200065 036100                    ADLQ    LOCATION,,AUTO
         3 001723   000013 772000                    QRL     11
         3 001724   000013 736000                    QLS     11
         3 001725   200063 756100                    STQ     PAGE_IN,,AUTO

      501     5138    2       CALL GET_PAGE( PAGE_IN );

   5138  3 001726   200063 630500                    EPPR0   PAGE_IN,,AUTO
         3 001727   204111 450500                    STP0    @P_PAGE,,AUTO
         3 001730   001567 701000 3                  TSX1    GET_PAGE
         3 001731   000000 011000                    NOP     0

      502     5139    2       RU_RECS.MODIFIED( RU_RECX ) = '1'B;

   5139  3 001732   400000 236003                    LDQ     -131072,DU
         3 001733   200073 720100                    LXL0    RU_RECX,,AUTO
         3 001734   200102 756110                    STQ     RU_RECS+4,X0,AUTO

      503     5140
      504     5141    2       IF ( LOCATION + (ENDBIT / 16)) >= ( RU_PAGE + LL_PRECMEM )

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:79   
   5141  3 001735   200061 236100                    LDQ     ENDBIT,,AUTO
         3 001736   000004 772000                    QRL     4
         3 001737   200065 036100                    ADLQ    LOCATION,,AUTO
         3 001740   200074 235100                    LDA     RU_PAGE,,AUTO
         3 001741   004000 035007                    ADLA    2048,DL
         3 001742   204114 755100                    STA     @P_RECX+1,,AUTO
         3 001743   204114 116100                    CMPQ    @P_RECX+1,,AUTO
         3 001744   002007 602000 3                  TNC     s:5160

      505     5142    3       THEN DO;

      506     5143    3           PAGE_IN = RU_PAGE;

   5143  3 001745   200074 236100                    LDQ     RU_PAGE,,AUTO
         3 001746   200063 756100                    STQ     PAGE_IN,,AUTO

      507     5144    3           IF RU_RECX ~= 0

   5144  3 001747   200073 235100                    LDA     RU_RECX,,AUTO
         3 001750   001767 600000 3                  TZE     s:5152

      508     5145    4           THEN DO;

      509     5146    4               CALL PUT_REC(0);

   5146  3 001751   000007 236000 4                  LDQ     7
         3 001752   204113 756100                    STQ     @P_RECX,,AUTO
         3 001753   001664 701000 3                  TSX1    PUT_REC
         3 001754   000000 011000                    NOP     0

      510     5147    4               RU_RECS.REC0 = RU_RECS.REC1;

   5147  3 001755   010000 220003                    LDX0    4096,DU
         3 001756   000140 100540                    MLR     fill='000'O
         3 001757   202104 000010                    ADSC9   RU_RECS+1030,,AUTO       cn=0,n=*X0
         3 001760   200104 000010                    ADSC9   RU_RECS+6,,AUTO          cn=0,n=*X0

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:80   
      511     5148    4               RU_RECS.PAGE(0) = RU_RECS.PAGE(1);

   5148  3 001761   200077 235100                    LDA     RU_RECS+1,,AUTO
         3 001762   200076 755100                    STA     RU_RECS,,AUTO

      512     5149    4               RU_RECS.MODIFIED(0) = RU_RECS.MODIFIED(1);

   5149  3 001763   200103 236100                    LDQ     RU_RECS+5,,AUTO
         3 001764   400000 376003                    ANQ     -131072,DU
         3 001765   200102 756100                    STQ     RU_RECS+4,,AUTO

      513     5150    4               RU_RECS.MODIFIED(1) = '0'B;

   5150  3 001766   200103 450100                    STZ     RU_RECS+5,,AUTO

      514     5151    4               END;

      515     5152    3           NEXT_RU_REC = 1;

   5152  3 001767   000001 235007                    LDA     1,DL
         3 001770   200072 755100                    STA     NEXT_RU_REC,,AUTO

      516     5153    3           CALL GET_PAGE( PAGE_IN + LL_PRECMEM );

   5153  3 001771   200063 236100                    LDQ     PAGE_IN,,AUTO
         3 001772   004000 036007                    ADLQ    2048,DL
         3 001773   204125 756100                    STQ     @P_RECX+10,,AUTO
         3 001774   204125 630500                    EPPR0   @P_RECX+10,,AUTO
         3 001775   204111 450500                    STP0    @P_PAGE,,AUTO
         3 001776   001567 701000 3                  TSX1    GET_PAGE
         3 001777   000000 011000                    NOP     0

      517     5154    3           RU_RECS.MODIFIED(1) = '1'B;

   5154  3 002000   400000 236003                    LDQ     -131072,DU
         3 002001   200103 756100                    STQ     RU_RECS+5,,AUTO

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:81   
      518     5155    3           RU_RECX = 0;

   5155  3 002002   200073 450100                    STZ     RU_RECX,,AUTO

      519     5156    3           RU_PAGE = PAGE_IN;

   5156  3 002003   200063 235100                    LDA     PAGE_IN,,AUTO
         3 002004   200074 755100                    STA     RU_PAGE,,AUTO

      520     5157    3           RU_REC$ = RU_RECS.REC$(0);

   5157  3 002005   200100 236100                    LDQ     RU_RECS+2,,AUTO
         3 002006   200075 756100                    STQ     RU_REC$,,AUTO

      521     5158    3           END;

      522     5159
      523     5160    2       FIELD$ = PINCRB (RU_REC$, 9*((LOCATION-RU_PAGE)*2+STBIT/8)+MOD(STBIT,8)+1);

   5160  3 002007   200065 236100                    LDQ     LOCATION,,AUTO
         3 002010   200074 136100                    SBLQ    RU_PAGE,,AUTO
         3 002011   204114 756100                    STQ     @P_RECX+1,,AUTO
         3 002012   200060 236100                    LDQ     STBIT,,AUTO
         3 002013   000003 772000                    QRL     3
         3 002014   204115 756100                    STQ     @P_RECX+2,,AUTO
         3 002015   204114 236100                    LDQ     @P_RECX+1,,AUTO
         3 002016   000001 736000                    QLS     1
         3 002017   204115 036100                    ADLQ    @P_RECX+2,,AUTO
         3 002020   204116 756100                    STQ     @P_RECX+3,,AUTO
         3 002021   200060 236100                    LDQ     STBIT,,AUTO
         3 002022   000007 376007                    ANQ     7,DL
         3 002023   204117 756100                    STQ     @P_RECX+4,,AUTO
         3 002024   204116 236100                    LDQ     @P_RECX+3,,AUTO
         3 002025   000011 402007                    MPY     9,DL
         3 002026   204117 036100                    ADLQ    @P_RECX+4,,AUTO
         3 002027   200075 470500                    LDP0    RU_REC$,,AUTO
         3 002030   000001 036007                    ADLQ    1,DL
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:82   
         3 002031   002033 605000 3                  TPL     s:5160+20
         3 002032   000044 036003                    ADLQ    36,DU
         3 002033   000000 503506                    ABD     0,QL,PR0
         3 002034   200070 450500                    STP0    FIELD$,,AUTO

      524     5161    3       IF (FIELD_LENGTH > 32) THEN DO;

   5161  3 002035   200066 235100                    LDA     FIELD_LENGTH,,AUTO
         3 002036   000041 115007                    CMPA    33,DL
         3 002037   002053 602000 3                  TNC     s:5166

      525     5162    3           LL_DOBUF = 'A  ***Bad field';

   5162  3 002040   040000 100400                    MLR     fill='040'O
         3 002041   000043 000017 2                  ADSC9   35                       cn=0,n=15
         3 002042   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      526     5163    3           CALL LLM$MON_SVC (LL#WRITEDO);

   5163  3 002043   000016 630400 4                  EPPR0   14
         3 002044   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 002045   000000 701000 xent               TSX1    LLM$MON_SVC
         3 002046   000000 011000                    NOP     0

      527     5164    3           CALL LLM$MON_SVC (LL#ERR);

   5164  3 002047   000036 630400 4                  EPPR0   30
         3 002050   000017 631400 xsym               EPPR1   B_VECTNIL+15
         3 002051   000000 701000 xent               TSX1    LLM$MON_SVC
         3 002052   000000 011000                    NOP     0

      528     5165    3           END;

      529     5166    3       IF RELOCOP < 5 THEN DO;

   5166  3 002053   200054 235100                    LDA     RELOCOP,,AUTO
         3 002054   000005 115007                    CMPA    5,DL
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:83   
         3 002055   002124 603000 3                  TRC     s:5179

      530     5167    3           BIN_FIELD = 0;

   5167  3 002056   204107 450100                    STZ     BIN_FIELD,,AUTO

      531     5168    3           BIT$ = FIELD$;

   5168  3 002057   200070 236100                    LDQ     FIELD$,,AUTO
         3 002060   200071 756100                    STQ     BIT$,,AUTO

      532     5169    3           M = FIELD_LENGTH;

   5169  3 002061   200066 235100                    LDA     FIELD_LENGTH,,AUTO
         3 002062   200030 755100                    STA     M,,AUTO

      533     5170    3           K = MINIMUM (8-MOD(STBIT,8), M);

   5170  3 002063   200060 236100                    LDQ     STBIT,,AUTO
         3 002064   000007 376007                    ANQ     7,DL
         3 002065   000027 676000 xsym               ERQ     B_VECTNIL+23
         3 002066   000011 036007                    ADLQ    9,DL
         3 002067   002074 604000 3                  TMI     s:5170+9
         3 002070   200030 116100                    CMPQ    M,,AUTO
         3 002071   002074 602000 3                  TNC     s:5170+9
         3 002072   002074 600000 3                  TZE     s:5170+9
         3 002073   200030 236100                    LDQ     M,,AUTO
         3 002074   200026 756100                    STQ     K,,AUTO

      534     5171    4           DO WHILE '1'B;

      535     5172    4               PINCRB(ADDR(BIN_FIELD),36-M)->BIT_K = BIT$->BIT_K;

   5172  3 002075   000000 235003                    LDA     0,DU
         3 002076   200030 135100                    SBLA    M,,AUTO
         3 002077   002101 605000 3                  TPL     s:5172+4
         3 002100   000044 035003                    ADLA    36,DU
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:84   
         3 002101   200071 470500                    LDP0    BIT$,,AUTO
         3 002102   200026 720100                    LXL0    K,,AUTO
         3 002103   003145 060540                    CSL     bolr='003'O
         3 002104   000000 000010                    BDSC    0,,PR0                   by=0,bit=0,n=*X0
         3 002105   204110 000010                    BDSC    BIN_FIELD+1,A,AUTO       by=0,bit=0,n=*X0

      536     5173    4               M = M-K;

   5173  3 002106   200030 236100                    LDQ     M,,AUTO
         3 002107   200026 136100                    SBLQ    K,,AUTO
         3 002110   200030 756100                    STQ     M,,AUTO

      537     5174    4               IF M=0 THEN EXIT;

   5174  3 002111   002124 600000 3                  TZE     s:5179

      538     5175    4               BIT$ = PINCRB(BIT$,K+1);

   5175  3 002112   200026 235100                    LDA     K,,AUTO
         3 002113   000001 035007                    ADLA    1,DL
         3 002114   000000 503505                    ABD     0,AL,PR0
         3 002115   200071 450500                    STP0    BIT$,,AUTO

      539     5176    4               K = MINIMUM (8,M);

   5176  3 002116   000010 116007                    CMPQ    8,DL
         3 002117   002122 602000 3                  TNC     s:5176+4
         3 002120   002122 600000 3                  TZE     s:5176+4
         3 002121   000010 236007                    LDQ     8,DL
         3 002122   200026 756100                    STQ     K,,AUTO

      540     5177    4               END;

   5177  3 002123   002075 710000 3                  TRA     s:5172

      541     5178    3           END;

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:85   
      542     5179    3       DO CASE (RELOCOP);

   5179  3 002124   200054 235100                    LDA     RELOCOP,,AUTO
         3 002125   000020 115007                    CMPA    16,DL
         3 002126   002130 602005 3                  TNC     s:5179+4,AL
         3 002127   002177 710000 3                  TRA     s:5199
         3 002130   002177 710000 3                  TRA     s:5199
         3 002131   002150 710000 3                  TRA     s:5181
         3 002132   002154 710000 3                  TRA     s:5184
         3 002133   002160 710000 3                  TRA     s:5187
         3 002134   002164 710000 3                  TRA     s:5190
         3 002135   002177 710000 3                  TRA     s:5199
         3 002136   002177 710000 3                  TRA     s:5199
         3 002137   002177 710000 3                  TRA     s:5199
         3 002140   002177 710000 3                  TRA     s:5199
         3 002141   002177 710000 3                  TRA     s:5199
         3 002142   002177 710000 3                  TRA     s:5199
         3 002143   002177 710000 3                  TRA     s:5199
         3 002144   002177 710000 3                  TRA     s:5199
         3 002145   002177 710000 3                  TRA     s:5199
         3 002146   002170 710000 3                  TRA     s:5193
         3 002147   002173 710000 3                  TRA     s:5195

      543     5180    3       CASE (1);

      544     5181    3           BIN_FIELD = BIN_FIELD +

   5181  3 002150   204107 236100                    LDQ     BIN_FIELD,,AUTO
         3 002151   200062 036100                    ADLQ    ACCUM,,AUTO
         3 002152   204107 756100                    STQ     BIN_FIELD,,AUTO
         3 002153   002177 710000 3                  TRA     s:5199

      545     5182    3              ACCUM;
      546     5183    3       CASE (2);

      547     5184    3           BIN_FIELD = BIN_FIELD -

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:86   
   5184  3 002154   204107 236100                    LDQ     BIN_FIELD,,AUTO
         3 002155   200062 136100                    SBLQ    ACCUM,,AUTO
         3 002156   204107 756100                    STQ     BIN_FIELD,,AUTO
         3 002157   002177 710000 3                  TRA     s:5199

      548     5185    3              ACCUM;
      549     5186    3       CASE (3);

      550     5187    3           BIN_FIELD = BIN_FIELD *

   5187  3 002160   204107 236100                    LDQ     BIN_FIELD,,AUTO
         3 002161   200062 402100                    MPY     ACCUM,,AUTO
         3 002162   204107 756100                    STQ     BIN_FIELD,,AUTO
         3 002163   002177 710000 3                  TRA     s:5199

      551     5188    3              ACCUM;
      552     5189    3       CASE (4);

      553     5190    3           BIN_FIELD = BIN_FIELD /

   5190  3 002164   204107 236100                    LDQ     BIN_FIELD,,AUTO
         3 002165   200062 506100                    DIV     ACCUM,,AUTO
         3 002166   204107 756100                    STQ     BIN_FIELD,,AUTO
         3 002167   002177 710000 3                  TRA     s:5199

      554     5191    3              ACCUM;
      555     5192    3       CASE (14);

      556     5193    3           BIN_FIELD = ACCUM;

   5193  3 002170   200062 236100                    LDQ     ACCUM,,AUTO
         3 002171   204107 756100                    STQ     BIN_FIELD,,AUTO
         3 002172   002177 710000 3                  TRA     s:5199

      557     5194    3       CASE (15);

      558     5195    3           L = 0;
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:87   

   5195  3 002173   200027 450100                    STZ     L,,AUTO

      559     5196    3           BIN_FIELD = ACCUM;

   5196  3 002174   200062 236100                    LDQ     ACCUM,,AUTO
         3 002175   204107 756100                    STQ     BIN_FIELD,,AUTO

      560     5197    3           GOTO POKE;

   5197  3 002176   002202 710000 3                  TRA     POKE

      561     5198    3           END;

      562     5199    2       L = 36 - FIELD_LENGTH;

   5199  3 002177   000044 235007                    LDA     36,DL
         3 002200   200066 135100                    SBLA    FIELD_LENGTH,,AUTO
         3 002201   200027 755100                    STA     L,,AUTO

   5199  3 002202                       POKE         null
      563     5200    2   POKE:;
      564     5201    2       M = FIELD_LENGTH;

   5201  3 002202   200066 235100                    LDA     FIELD_LENGTH,,AUTO
         3 002203   200030 755100                    STA     M,,AUTO

      565     5202    2       K = MINIMUM (8-MOD(STBIT,8), M);

   5202  3 002204   200060 236100                    LDQ     STBIT,,AUTO
         3 002205   000007 376007                    ANQ     7,DL
         3 002206   000027 676000 xsym               ERQ     B_VECTNIL+23
         3 002207   000011 036007                    ADLQ    9,DL
         3 002210   002215 604000 3                  TMI     s:5202+9
         3 002211   200030 116100                    CMPQ    M,,AUTO
         3 002212   002215 602000 3                  TNC     s:5202+9
         3 002213   002215 600000 3                  TZE     s:5202+9
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:88   
         3 002214   200030 236100                    LDQ     M,,AUTO
         3 002215   200026 756100                    STQ     K,,AUTO

      566     5203    3       DO WHILE '1'B;

      567     5204    3           FIELD$->BIT_K = PINCRB(ADDR(BIN_FIELD),L)->BIT_K;

   5204  3 002216   200026 720100                    LXL0    K,,AUTO
         3 002217   200027 235100                    LDA     L,,AUTO
         3 002220   200070 470500                    LDP0    FIELD$,,AUTO
         3 002221   003140 060545                    CSL     bolr='003'O
         3 002222   204107 000010                    BDSC    BIN_FIELD,A,AUTO         by=0,bit=0,n=*X0
         3 002223   000000 000010                    BDSC    0,,PR0                   by=0,bit=0,n=*X0

      568     5205    3           M = M-K;

   5205  3 002224   200030 236100                    LDQ     M,,AUTO
         3 002225   200026 136100                    SBLQ    K,,AUTO
         3 002226   200030 756100                    STQ     M,,AUTO

      569     5206    3           IF M=0 THEN EXIT;

   5206  3 002227   002246 600000 3                  TZE     s:5211

      570     5207    3           FIELD$ = PINCRB(FIELD$,K+1);

   5207  3 002230   200026 235100                    LDA     K,,AUTO
         3 002231   000001 035007                    ADLA    1,DL
         3 002232   000000 503505                    ABD     0,AL,PR0
         3 002233   200070 450500                    STP0    FIELD$,,AUTO

      571     5208    3           L = L+K;

   5208  3 002234   200027 236100                    LDQ     L,,AUTO
         3 002235   200026 036100                    ADLQ    K,,AUTO
         3 002236   200027 756100                    STQ     L,,AUTO

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:89   
      572     5209    3           K = MINIMUM (8,M);

   5209  3 002237   200030 236100                    LDQ     M,,AUTO
         3 002240   000010 116007                    CMPQ    8,DL
         3 002241   002244 602000 3                  TNC     s:5209+5
         3 002242   002244 600000 3                  TZE     s:5209+5
         3 002243   000010 236007                    LDQ     8,DL
         3 002244   200026 756100                    STQ     K,,AUTO

      573     5210    3           END;

   5210  3 002245   002216 710000 3                  TRA     s:5204

      574     5211    2   END RELOC_FIELD;

   5211  3 002246   204106 221300                    LDX1  ! RU_RECS+2056,,AUTO
         3 002247   000001 702211                    TSX2  ! 1,X1
      575     5212    1   END LLC$PASS2;
      576     5213        %EOD;

PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:90   
--  Include file information  --

   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
   LL_SUBS_C.:E05TOU  is referenced.
   LL_MACS_C.:E05TOU  is referenced.
   LL_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure LLC$PASS2.
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:91   

 **** Variables and constants ****

  ****  Section 001  Data  LLC$PASS2

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(117)   r     1 B$PRGKEY                   4-0-0/w STRC(117)   r     1 B$RELOCKEY
    10-0-0/w STRC(54)    r     1 B$RUKEY

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @AVAIL$                 4111-0-0/w PTR         r     1 @P_PAGE
  4113-0-0/w PTR         r     1 @P_RECX                   62-0-0/w SBIN        r     1 ACCUM
    *0-0-0/w PTR         r     1 AVAIL$                  4107-0-0/w SBIN        r     1 BIN_FIELD
    71-0-0/w PTR         r     1 BIT$                      33-0-0/w PTR         r     1 BUFFER$
    13-0-0/w PTR         r     1 DEFN$                     55-0-0/w UBIN        r     1 DISP
    61-0-0/w UBIN        r     1 ENDBIT                    15-0-0/w PTR         r     1 ENTREF$
    57-0-0/w UBIN        r     1 EVALOP                    53-0-0/w UBIN        r     1 FIELD
    70-0-0/w PTR         r     1 FIELD$                    66-0-0/w UBIN        r     1 FIELD_LENGTH
    24-0-0/w UBIN        r     1 I                         25-0-0/w UBIN        r     1 J
    26-0-0/w UBIN        r     1 K                         27-0-0/w UBIN        r     1 L
    50-0-0/w UBIN        r     1 LENGTH                    65-0-0/w UBIN        r     1 LOCATION
    30-0-0/w UBIN        r     1 M                         31-0-0/w UBIN        r     1 N
    72-0-0/w UBIN        r     1 NEXT_RU_REC               34-0-0/w UBIN        r     1 NREFS
    37-0-0/w UBIN        r     1 NUNSATS                   52-0-0/w UBIN        r     1 OPERAND
    51-0-0/w UBIN        r     1 OPNDTYP                   64-0-0/w UBIN        r     1 PAGE
    63-0-0/w UBIN        r     1 PAGE_IN                    7-0-0/w UBIN        r     1 PROCESSTYPE
    21-0-0/w PTR         r     1 PROG$                     42-0-0/w UBIN        r     1 PROG_BASE
    47-0-0/w UBIN        r     1 PROG_SIZE                 *0-0-0/w UBIN        r     1 P_PAGE
    *0-0-0/w UBIN        r     1 P_RECX                    35-0-0/w PTR         r     1 REF$
    14-0-0/w PTR         r     1 REFN$                     22-0-0/w PTR         r     1 RELOC$
    54-0-0/w UBIN        r     1 RELOCOP                   10-0-0/b BIT         r     1 RELOC_FOUND#
     6-0-0/w SBIN        r     1 REPEAT_COUNT              36-0-0/w PTR         r     1 ROOT$
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:92   
    74-0-0/w UBIN        r     1 RU_PAGE                   75-0-0/w PTR         r     1 RU_REC$
    76-0-0/w STRC(74016) r     1 RU_RECS                   73-0-0/w UBIN        r     1 RU_RECX
    41-0-0/w UBIN        r     1 SECT_BASE                 40-0-0/w PTR         r     1 SECT_PTR$
     5-0-0/c CHAR(3)     r     1 SECT_TEXT                 11-0-0/b UBIN        r     1 SIZE
    60-0-0/w UBIN        r     1 STBIT                     16-0-0/w PTR         r     1 SYMREF$
    43-0-0/w UBIN        r     1 TEXT_OFFSET               23-0-0/w UBIN        r     1 TOTAL_SIZE
    12-0-0/w PTR         r     1 TPTR$                     32-0-0/w UBIN        r     1 TYPE
    20-0-0/w PTR         r     1 UNSAT_ENTREF$             17-0-0/w PTR         r     1 UNSAT_SYMREF$
    46-0-0/w UBIN        r     1 UPPER_BOUND               56-0-0/w SBIN        r     1 VALUE

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(72)    r     1 LL_DNAME_VEC               0-0-0/w CHAR(112)   r     1 LL_DOBUF
     0-0-0/w PTR         r     1 LL_ENTDEF_R$               0-0-0/w CHAR(52)    r     1 LL_FIRSTFID
     0-0-0/w STRC        r     1 LL_FLAGS                   0-0-0/w STRC(1440)  r     1 LL_HEAD
     0-0-0/w UBIN        r     1 LL_NOU                     0-0-0/w PTR         r     1 LL_OF$
     0-0-0/w PTR         r     1 LL_OU_PTR$                 0-0-0/w PTR         r     1 LL_R_OU$
     0-0-0/w UBIN        r     1 LL_STATE                   0-0-0/w PTR         r     1 LL_SYMDEF_R$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(1044)  r     1 B$OUHEAD                   0-0-0/w STRC        r     1 B$RELOC1
     0-0-0/w STRC(108)   r     1 B$RELOC2                   0-0-0/b ABIT        r     1 BIT_K
     0-0-0/w UBIN        r     1 ISADDR                     0-0-0/w STRC(72)    r     1 LL_SECTION
     0-0-0/w STRC        r     1 OUWORD(0:0)                0-0-0/w ASTR(504)   r     1 OU_ENTRY
     0-0-0/w STRC(504)   r     1 OU_FID(0:0)                0-0-0/w STRC        r     1 RU_WORD
     0-0-0/w UBIN        r     1 RU_WORDS(0:1023)


   Procedure LLC$PASS2 requires 1192 words for executable code.
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:93   
   Procedure LLC$PASS2 requires 2134 words of local(AUTO) storage.
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:94   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:95   
          MINI XREF LISTING

ACCUM
      4723**DCL      5005<<ASSIGN   5010<<ASSIGN   5013<<ASSIGN   5016<<ASSIGN   5022<<ASSIGN   5022>>ASSIGN
      5024<<ASSIGN   5024>>ASSIGN   5026<<ASSIGN   5026>>ASSIGN   5028<<ASSIGN   5028>>ASSIGN   5031<<ASSIGN
      5031>>ASSIGN   5035<<ASSIGN   5035>>ASSIGN   5039<<ASSIGN   5041<<ASSIGN   5041>>ASSIGN   5181>>ASSIGN
      5184>>ASSIGN   5187>>ASSIGN   5190>>ASSIGN   5193>>ASSIGN   5196>>ASSIGN
AVAIL$
        16**DCL        15--PROC     4764>>ASSIGN   5075<>CALL     5076<>CALL
B$OUHEAD.EREFPSIZ
      4316**DCL      4796>>ASSIGN
B$OUHEAD.EREFSIZ
      4313**DCL      4774>>ASSIGN   4795>>ASSIGN   4811>>ASSIGN
B$OUHEAD.PROGPSIZ
      4293**DCL      4780>>ASSIGN   4833>>ASSIGN
B$OUHEAD.RELPSIZ
      4295**DCL      4782>>ASSIGN   4833>>ASSIGN
B$OUHEAD.RNAMPSIZ
      4306**DCL      4791>>ASSIGN
B$OUHEAD.RNAMSIZ
      4303**DCL      4772>>ASSIGN   4790>>ASSIGN
B$OUHEAD.SREFPSIZ
      4328**DCL      4801>>ASSIGN
B$OUHEAD.SREFSIZ
      4325**DCL      4777>>ASSIGN   4800>>ASSIGN   4815>>ASSIGN
B$OUHEAD.UTS
      4239**DCL      4804<>CALL     4825>>ASSIGN
B$OUHEAD.VERSION
      4256**DCL      4258--REDEF
B$PRGKEY
      4048**DCL      4836<>CALL     4838<>CALL     4932>>ASSIGN   5063<<ASSIGN
B$PRGKEY.KEYSIZ
      4049**DCL      4823<<ASSIGN
B$PRGKEY.NOTHD
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:96   
      4053**DCL      4824<<ASSIGN
B$PRGKEY.OFFSET
      4063**DCL      4832<<ASSIGN   4867>>ASSIGN
B$PRGKEY.SECTNUM
      4060**DCL      4828<<ASSIGN   4865>>ASSIGN   4873>>CALLBLT
B$PRGKEY.SUBTYPE
      4066**DCL      4826<<ASSIGN   4868>>IF       4889>>IF       4937>>IF
B$PRGKEY.TYPE
      4058**DCL      4827<<ASSIGN   4837>>DOWHILE  4840>>IF
B$PRGKEY.UTS
      4055**DCL      4825<<ASSIGN
B$RELOC1.DISP
      4136**DCL      4957>>ASSIGN
B$RELOC1.FIELD
      4124**DCL      4953>>ASSIGN
B$RELOC1.OP
      4119**DCL      4955>>ASSIGN
B$RELOC1.OPERAND
      4131**DCL      4951>>ASSIGN
B$RELOC1.OPNDTYP
      4111**DCL      4940>>IF       4949>>ASSIGN
B$RELOC2.DISP
      4193**DCL      4976>>ASSIGN
B$RELOC2.ENDBIT
      4199**DCL      4980>>ASSIGN
B$RELOC2.EVALOP
      4152**DCL      4943>>IF       4970>>ASSIGN
B$RELOC2.OPERAND
      4188**DCL      4974>>ASSIGN
B$RELOC2.OPNDTYP
      4144**DCL      4968>>ASSIGN
B$RELOC2.RELOCOP
      4172**DCL      4972>>ASSIGN
B$RELOC2.STBIT
      4196**DCL      4978>>ASSIGN
B$RELOC2.VALUE
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:97   
      4202**DCL      4965>>ASSIGN
B$RELOCKEY
      4079**DCL      4932<<ASSIGN   5063>>ASSIGN
B$RUKEY
      4226**DCL      5098<>CALL     5122<>CALL
B$RUKEY.ISADDR
      4235**DCL      5097<<ASSIGN   5121<<ASSIGN
B$RUKEY.PAGE
      4233**DCL      4235--REDEF
B$RUKEY.TYPE
      4229**DCL      4831<<ASSIGN
BIN_FIELD IN PROCEDURE RELOC_FIELD
      5132**DCL      5167<<ASSIGN   5172--ASSIGN   5181<<ASSIGN   5181>>ASSIGN   5184<<ASSIGN   5184>>ASSIGN
      5187<<ASSIGN   5187>>ASSIGN   5190<<ASSIGN   5190>>ASSIGN   5193<<ASSIGN   5196<<ASSIGN   5204--ASSIGN
BIT$
      4730**DCL      5168<<ASSIGN   5172>>ASSIGN   5175<<ASSIGN   5175>>ASSIGN
BIT_K IN PROCEDURE RELOC_FIELD
      5130**DCL      5172<<ASSIGN   5172>>ASSIGN   5204<<ASSIGN   5204>>ASSIGN
BLETCHO
      4836**LABEL    5064--GOTO
BUFFER$
      4696**DCL      4789<<ASSIGN   4794<<ASSIGN   4799<<ASSIGN   4804<>CALL
DEFN$
      4680**DCL      4763<<ASSIGN   4820<>CALL     5075<>CALL     5076<>CALL
DISP
      4718**DCL      4957<<ASSIGN   4976<<ASSIGN   5018>>ASSIGN
DONE
      4807**LABEL    4804--CALLALT
ENDBIT
      4722**DCL      4980<<ASSIGN   4991<<ASSIGN   4994<<ASSIGN   4997<<ASSIGN   5000<<ASSIGN   5044>>ASSIGN
      5047<<ASSIGN   5047>>ASSIGN   5141>>IF
ENTREF$
      4682**DCL      4773<<ASSIGN   4775>>ASSIGN   4776>>ASSIGN   4794>>ASSIGN   4812>>ASSIGN   5010>>ASSIGN
      5066<>CALL
EVALOP
      4720**DCL      4960<<ASSIGN   4970<<ASSIGN   5020>>DOCASE
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:98   
FIELD
      4716**DCL      4953<<ASSIGN   4988>>DOCASE
FIELD$
      4729**DCL      4745--IMP-PTR  4896<<ASSIGN   4898>>ASSIGN   4899>>ASSIGN   4900<<ASSIGN   4900>>ASSIGN
      4909>>ASSIGN   4910>>ASSIGN   4911>>ASSIGN   4912>>ASSIGN   4913<<ASSIGN   4913>>ASSIGN   4918>>ASSIGN
      4919>>ASSIGN   4926<<ASSIGN   5160<<ASSIGN   5168>>ASSIGN   5204>>ASSIGN   5207<<ASSIGN   5207>>ASSIGN
FIELD_LENGTH
      4727**DCL      5044<<ASSIGN   5047>>ASSIGN   5048>>ASSIGN   5131--IMP-SIZ  5161>>IF       5169>>ASSIGN
      5199>>ASSIGN   5201>>ASSIGN
GET_NEXT_RCD
      5058**LABEL    4840--GOTO
GET_PAGE
      5079**PROC     4892--CALL     4924--CALL     5138--CALL     5153--CALL
I
      4689**DCL      4765<<DOINDEX  4766>>ASSIGN   4769>>DOWHILE  4983>>IF       5050>>IF
ISADDR
      4731**DCL      5010>>ASSIGN   5013>>ASSIGN
J
      4690**DCL      4785<<DOINDEX  4786>>DOCASE
K
      4691**DCL      4906<<ASSIGN   4908>>IF       4916>>IF       5030<<DOINDEX  5034<<DOINDEX  5066<>CALL
      5067>>IF       5067>>ASSIGN   5130--IMP-SIZ  5170<<ASSIGN   5172>>ASSIGN   5172>>ASSIGN   5173>>ASSIGN
      5175>>ASSIGN   5176<<ASSIGN   5202<<ASSIGN   5204>>ASSIGN   5204>>ASSIGN   5205>>ASSIGN   5207>>ASSIGN
      5208>>ASSIGN   5209<<ASSIGN
L
      4692**DCL      4895<<ASSIGN   4901<<ASSIGN   4901>>ASSIGN   4906>>ASSIGN   4923<<ASSIGN   5195<<ASSIGN
      5199<<ASSIGN   5204>>ASSIGN   5208<<ASSIGN   5208>>ASSIGN
LENGTH
      4713**DCL      4941<<ASSIGN   4944<<ASSIGN   4946<<ASSIGN   4947>>DOCASE   4986>>ASSIGN   4987>>IF
      5053>>ASSIGN
LENGTH_3
      4968**LABEL    4963--GOTO
LLC$SCHEMA
      4752**DCL-ENT  5066--CALL
LLE$READOU
      4733**DCL-ENT  4804--CALL
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:99   
LLM$MON_SVC
      4750**DCL-ENT  4767--CALL     4768--CALL     4784--CALL     4836--CALL     4838--CALL     4862--CALL
      4879--CALL     4885--CALL     5070--CALL     5098--CALL     5122--CALL     5163--CALL     5164--CALL
LLS$SATREF
      4751**DCL-ENT  4820--CALL
LLW$WRTDEF
      4732**DCL-ENT  5075--CALL     5076--CALL
LL_DNAME_VEC.P$
        48**DCL      4763>>ASSIGN
LL_DOBUF
        25**DCL      4874<<CALLBLT  4880<<CALLBLT  5162<<ASSIGN
LL_ENTDEF_R$
        35**DCL      4813>>ASSIGN   5075<>CALL
LL_FIRSTFID
        30**DCL      4766<<ASSIGN
LL_FLAGS.VECTOR#
        29**DCL      4983>>IF       5050>>IF
LL_HEAD.NRECSIZE
      4423**DCL      4764>>ASSIGN
LL_HEAD.SEV
      4397**DCL      4872<<ASSIGN   5067>>IF       5067<<ASSIGN
LL_NOU
        32**DCL      4765>>DOINDEX
LL_OF$
        25**DCL      4766>>ASSIGN   4874>>CALLBLT
LL_OU_PTR$
        36**DCL      4770<<ASSIGN
LL_R_OU$
        36**DCL      4762>>ASSIGN
LL_SECTION
      4605**DCL      4865--ASSIGN   5005--ASSIGN
LL_SECTION.ISADDR
      4634**DCL      4866>>ASSIGN   4868>>IF       5005>>ASSIGN
LL_SECTION.SIZE
      4640**DCL      4868>>IF
LL_STATE
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:100  
        33**DCL      4771<<ASSIGN
LL_SYMDEF_R$
        35**DCL      4817>>ASSIGN   5076<>CALL
LOCATION
      4726**DCL      5018<<ASSIGN   5041>>ASSIGN   5137>>ASSIGN   5141>>IF       5160>>ASSIGN
M
      4693**DCL      4894<<ASSIGN   4902<<ASSIGN   4906>>ASSIGN   4908>>IF       4909>>ASSIGN   4910>>ASSIGN
      4911>>ASSIGN   4912>>ASSIGN   4914<<ASSIGN   4914>>ASSIGN   4918>>ASSIGN   4919>>ASSIGN   4920<<ASSIGN
      4920>>ASSIGN   4922>>IF       5169<<ASSIGN   5170>>ASSIGN   5172>>ASSIGN   5173<<ASSIGN   5173>>ASSIGN
      5174>>IF       5176>>ASSIGN   5201<<ASSIGN   5202>>ASSIGN   5205<<ASSIGN   5205>>ASSIGN   5206>>IF
      5209>>ASSIGN
N
      4694**DCL      5045<<DOINDEX
NEXT_RU_REC
      4734**DCL      4761<<ASSIGN   5095<>CALL     5098>>CALL     5100>>ASSIGN   5103>>ASSIGN   5108<<ASSIGN
      5109<<ASSIGN   5152<<ASSIGN
NO_DEBUG
      5060**LABEL    4838--CALLALT
NREFS
      4697**DCL      4811<<ASSIGN   4815<<ASSIGN   4820<>CALL
NUNSATS
      4700**DCL      4819<<ASSIGN   4820<>CALL
OPERAND
      4715**DCL      4951<<ASSIGN   4974<<ASSIGN   5005>>ASSIGN   5010>>ASSIGN   5013>>ASSIGN   5016>>ASSIGN
      5038>>ASSIGN
OPNDTYP
      4714**DCL      4949<<ASSIGN   4968<<ASSIGN   5003>>DOCASE
OUWORD.BYTE1
      4709**DCL      4898>>ASSIGN   4909>>ASSIGN   4911>>ASSIGN   4918>>ASSIGN
OUWORD.BYTE2
      4710**DCL      4899>>ASSIGN   4910>>ASSIGN   4912>>ASSIGN   4919>>ASSIGN
OU_ENTRY.HEAD$
      4594**DCL      4772>>ASSIGN   4774>>ASSIGN   4777>>ASSIGN   4780>>ASSIGN   4782>>ASSIGN   4790>>ASSIGN
      4791>>ASSIGN   4795>>ASSIGN   4796>>ASSIGN   4800>>ASSIGN   4801>>ASSIGN   4804>>CALL     4811>>ASSIGN
      4815>>ASSIGN   4825>>ASSIGN   4833>>ASSIGN   4833>>ASSIGN
OU_ENTRY.NEXT$
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:101  
      4573**DCL      5068>>ASSIGN
OU_ENTRY.OF
      4571**DCL      4769>>DOWHILE  4874>>CALLBLT
OU_ENTRY.OUNAME.SIZE
      4599**DCL      4601--IMP-SIZ  4874>>CALLBLT
OU_ENTRY.OUNAME.TEXT
      4601**DCL      4874>>CALLBLT
OU_ENTRY.SECT$
      4578**DCL      4864>>ASSIGN   5005>>ASSIGN
OU_FID.NAME
      4672**DCL      4766>>ASSIGN   4874>>CALLBLT
PAGE
      4725**DCL      4791<<ASSIGN   4796<<ASSIGN   4801<<ASSIGN   4804<>CALL
PAGE_IN
      4724**DCL      4890<<ASSIGN   4891>>ASSIGN   4892<>CALL     5137<<ASSIGN   5138<>CALL     5143<<ASSIGN
      5153>>CALL     5156>>ASSIGN
POKE IN PROCEDURE RELOC_FIELD
      5199**LABEL    5197--GOTO
PROCESSTYPE
      4676**DCL      4829<<ASSIGN   4868>>IF       4887>>DOCASE   5060>>IF       5062<<ASSIGN
PROG$
      4686**DCL      4779<<ASSIGN   4781>>ASSIGN   4838>>CALL     4898>>ASSIGN   4899>>ASSIGN   4909>>ASSIGN
      4910>>ASSIGN   4911>>ASSIGN   4912>>ASSIGN   4918>>ASSIGN   4919>>ASSIGN   4938>>ASSIGN
PROG_BASE
      4703**DCL      4867<<ASSIGN   4868>>IF       4890>>ASSIGN   4891>>ASSIGN   5018>>ASSIGN
PROG_SIZE
      4712**DCL      4862<>CALL     4863<<ASSIGN   4863>>ASSIGN   4868>>IF       4889>>IF       4904>>ASSIGN
      4906>>ASSIGN   4916>>IF       4922>>IF       4939>>DOWHILE  4984<<ASSIGN   4984>>ASSIGN   4986<<ASSIGN
      4986>>ASSIGN
PUT_REC
      5115**PROC     5072--CALL     5073--CALL     5095--CALL     5146--CALL
P_PAGE IN PROCEDURE GET_PAGE
      5081**DCL      5079--PROC     5084>>IF       5091>>IF       5097>>ASSIGN   5104>>ASSIGN   5111>>ASSIGN
P_RECX IN PROCEDURE PUT_REC
      5117**DCL      5115--PROC     5119>>IF       5121>>ASSIGN   5122>>CALL     5123>>ASSIGN
REF$
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:102  
      4698**DCL      4812<<ASSIGN   4816<<ASSIGN   4820<>CALL
REFN$
      4681**DCL      4764<<ASSIGN   4773>>ASSIGN   4783>>ASSIGN   4784<>CALL     4789>>ASSIGN   4820<>CALL
RELOC$
      4687**DCL      4781<<ASSIGN   4783>>ASSIGN   4938<<ASSIGN   4940>>IF       4943>>IF       4949>>ASSIGN
      4951>>ASSIGN   4953>>ASSIGN   4955>>ASSIGN   4957>>ASSIGN   4965>>ASSIGN   4968>>ASSIGN   4970>>ASSIGN
      4972>>ASSIGN   4974>>ASSIGN   4976>>ASSIGN   4978>>ASSIGN   4980>>ASSIGN   5051<<ASSIGN   5051>>ASSIGN
      5053<<ASSIGN   5053>>ASSIGN
RELOCOP
      4717**DCL      4955<<ASSIGN   4972<<ASSIGN   5166>>IF       5179>>DOCASE
RELOC_FIELD
      5128**PROC     5046--CALL
RELOC_FOUND#
      4677**DCL      4830<<ASSIGN   4930>>IF       4933<<ASSIGN   5060>>IF       5061<<ASSIGN
REPEAT_COUNT
      4675**DCL      5019<<ASSIGN   5038<<ASSIGN   5045>>DOINDEX
ROOT$
      4699**DCL      4813<<ASSIGN   4817<<ASSIGN   4820<>CALL
RU_PAGE
      4736**DCL      4924>>CALL     5084>>IF       5111<<ASSIGN   5141>>IF       5143>>ASSIGN   5156<<ASSIGN
      5160>>ASSIGN
RU_REC$
      4737**DCL      4896>>ASSIGN   4926>>ASSIGN   5110<<ASSIGN   5157<<ASSIGN   5160>>ASSIGN
RU_RECS.MODIFIED
      4741**DCL      4756<<ASSIGN   4757<<ASSIGN   4893<<ASSIGN   4925<<ASSIGN   5119>>IF       5123<<ASSIGN
      5139<<ASSIGN   5149<<ASSIGN   5149>>ASSIGN   5150<<ASSIGN   5154<<ASSIGN
RU_RECS.PAGE
      4739**DCL      4754<<ASSIGN   4755<<ASSIGN   5091>>IF       5104<<ASSIGN   5121>>ASSIGN   5148<<ASSIGN
      5148>>ASSIGN
RU_RECS.REC$
      4740**DCL      4758<<ASSIGN   4759<<ASSIGN   5098<>CALL     5100>>ASSIGN   5110>>ASSIGN   5122<>CALL
      5157>>ASSIGN
RU_RECS.REC0
      4742**DCL      4758--ASSIGN   5147<<ASSIGN
RU_RECS.REC1
      4743**DCL      4759--ASSIGN   5147>>ASSIGN
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:103  
RU_RECX
      4735**DCL      4760<<ASSIGN   4893>>ASSIGN   4925>>ASSIGN   5088>>IF       5089<<ASSIGN   5090<<ASSIGN
      5091>>IF       5103<<ASSIGN   5104>>ASSIGN   5107>>IF       5110>>ASSIGN   5139>>ASSIGN   5144>>IF
      5155<<ASSIGN
RU_WORD.BYTE1
      4746**DCL      4909<<ASSIGN   4918<<ASSIGN
RU_WORD.BYTE2
      4747**DCL      4910<<ASSIGN   4919<<ASSIGN
RU_WORD.BYTE3
      4748**DCL      4898<<ASSIGN   4911<<ASSIGN
RU_WORD.BYTE4
      4749**DCL      4899<<ASSIGN   4912<<ASSIGN
RU_WORDS IN PROCEDURE GET_PAGE
      5082**DCL      5100<<ASSIGN
SECT_BASE
      4702**DCL      4866<<ASSIGN   4867>>ASSIGN
SECT_PTR$
      4701**DCL      4864<<ASSIGN   4865<<ASSIGN   4865>>ASSIGN   4866>>ASSIGN   4868>>IF       4868>>IF
SECT_TEXT
      4674**DCL      4873<<CALLBLT  4880>>CALLBLT
SIZE
      4678**DCL      4772<<ASSIGN   4773>>ASSIGN   4774<<ASSIGN   4775>>ASSIGN   4776>>ASSIGN   4777<<ASSIGN
      4778>>ASSIGN   4779>>ASSIGN   4780<<ASSIGN   4781>>ASSIGN   4782<<ASSIGN   4782>>ASSIGN   4783>>ASSIGN
      4790<<ASSIGN   4795<<ASSIGN   4800<<ASSIGN   4803<<ASSIGN   4803>>ASSIGN   4804<>CALL     4833<<ASSIGN
      4838<>CALL
STBIT
      4721**DCL      4978<<ASSIGN   4990<<ASSIGN   4993<<ASSIGN   4996<<ASSIGN   4999<<ASSIGN   5044>>ASSIGN
      5048<<ASSIGN   5048>>ASSIGN   5137>>ASSIGN   5160>>ASSIGN   5160>>ASSIGN   5170>>ASSIGN   5202>>ASSIGN
SWAPPED_PAGE IN PROCEDURE GET_PAGE
      5104**LABEL    5093--GOTO
SYMREF$
      4683**DCL      4775<<ASSIGN   4778>>ASSIGN   4779>>ASSIGN   4799>>ASSIGN   4816>>ASSIGN   5013>>ASSIGN
      5066<>CALL
TEXT_OFFSET
      4704**DCL      4891<<ASSIGN   4895>>ASSIGN   4896>>ASSIGN   4897>>IF       4904>>ASSIGN
TOTAL_SIZE
PL6.E3A0      #001=LLC$PASS2 File=LLC$PASS2.:E05TSI                              WED 07/30/97 03:13 Page:104  
      4688**DCL      4783<<ASSIGN   4784<>CALL
TPTR$
      4679**DCL      4762<<ASSIGN   4769>>DOWHILE  4769>>DOWHILE  4770>>ASSIGN   4772>>ASSIGN   4774>>ASSIGN
      4777>>ASSIGN   4780>>ASSIGN   4782>>ASSIGN   4790>>ASSIGN   4791>>ASSIGN   4795>>ASSIGN   4796>>ASSIGN
      4800>>ASSIGN   4801>>ASSIGN   4804>>CALL     4811>>ASSIGN   4815>>ASSIGN   4820<>CALL     4825>>ASSIGN
      4833>>ASSIGN   4833>>ASSIGN   4864>>ASSIGN   4874>>CALLBLT  4874>>CALLBLT  4874>>CALLBLT  5005>>ASSIGN
      5066<>CALL     5068<<ASSIGN   5068>>ASSIGN
TYPE
      4695**DCL      4788<<ASSIGN   4793<<ASSIGN   4798<<ASSIGN   4804<>CALL     4808<<DOINDEX  4809>>DOCASE
      4820<>CALL
UNSAT_ENTREF$
      4685**DCL      4776<<ASSIGN
UNSAT_SYMREF$
      4684**DCL      4778<<ASSIGN
UPPER_BOUND
      4707**DCL      4904<<ASSIGN   4916>>IF
VALUE
      4719**DCL      4959<<ASSIGN   4962<<ASSIGN   4965<<ASSIGN   5022>>ASSIGN   5024>>ASSIGN   5026>>ASSIGN
      5028>>ASSIGN   5030>>DOINDEX  5034>>DOINDEX  5039>>ASSIGN   5041>>ASSIGN

PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:105  
      577        1        /*T***********************************************************/
      578        2        /*T*                                                         */
      579        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      580        4        /*T*                                                         */
      581        5        /*T***********************************************************/
      582        6        %EJECT;
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:106  
      583        7        LLC$SCHEMA: PROC (OU$,SEV,ENTREF$,SYMREF$);
      584        8
      585        9        %INCLUDE B$OBJECT_C;
      586     3439        %INCLUDE B_SEGIDS_C;
      587     3978        %INCLUDE CP_6;
      588     4059        %INCLUDE LL_SUBS_C;
      589     4188        %INCLUDE LL_DATA_R;
      590     4224        %INCLUDE LL_MACS_C;
      591     4578
      592     4579        %B$EDEF;
      593     4649        %B$FEP_SECTION;
      594     4688        %B$LBNTRY0;
      595     4724        %B$LBNTRY1;
      596     4751        %B$INTNTRY;
      597     4809        %B$EXST;
      598     4916        %B$VREBL;
      599     5080        %B$VREBLC;
      600     5153        %B$VREBLCA;
      601     5241        %B$RECORDSUBS;
      602     5269        %VREBL_DATATYPES;
      603     5344        %B$RELOCSUBS;
      604     5374        %B$DBGKEY ( NAME = B$DBGKEY,
      605     5375         STCLASS = STATIC );
      606     5402        %B$OUKEY ( NAME = B$OUKEY,
      607     5403         STCLASS = STATIC );
      608     5439
      609     5440    1   DCL OU$ PTR; /* Parameter */
      610     5441    1   DCL SEV UBIN WORD ALIGNED; /* Parameter */
      611     5442    1   DCL ENTREF$ PTR; /* Parameter */
      612     5443    1   DCL SYMREF$ PTR; /* Parameter */
      613     5444
      614     5445    1   DCL LOGBLK$ PTR; /* Ptr to logical block rec */
      615     5446    1   DCL LOGBLK_SIZE UBIN WORD ALIGNED; /* Size of logical block rec */
      616     5447    1   DCL INTNTRY$ PTR; /* Ptr to int. entries rec */
      617     5448    1   DCL EXST$ PTR; /* Ptr to exu. stmts. rec */
      618     5449    1   DCL VREBL$ PTR; /* Ptr to variables rec */
      619     5450    1   DCL NAME$ PTR; /* Ptr to debug names rec */
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:107  
      620     5451    1   DCL DBG$ PTR;
      621     5452    1   DCL NPOINTER SBIN WORD ALIGNED; /* Pri name pointer */
      622     5453    1   DCL BOUND UBIN WORD ALIGNED;
      623     5454    1   DCL I UBIN WORD ALIGNED;
      624     5455
      625     5456    1   DCL TEMP UBIN WORD ALIGNED; /* Scratch */
      626     5457    1   DCL TEMP$ PTR; /* Scratch pointer */
      627     5458    1   DCL NPAG SBIN STATIC INIT(0); /* # pages we have */
      628     5459
      629     5460    1   DCL M$RU DCB;
      630     5461
      631     5462    1   DCL LLM$MON_SVC ENTRY(4) ALTRET; /* Entry to service routine */
      632     5463
      633     5464        %FPT_GDS ( FPTN = GETBUF , SEGSIZE = 1024 ,
      634     5465         RESULTS = VLP_VECTOR );
      635     5481        %VLP_VECTOR ( FPTN = VLP_VECTOR,
      636     5482         SEGID = %DS8SID,
      637     5483         BASE = 0 );
      638     5498
      639     5499        %B$OUHEAD ( STCLASS = BASED );
      640     5617        %LL$OU_ENTRY ( NAME = OU_ENTRY );
      641     5665        %EJECT;
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:108  
      642     5666
      643     5667         /* Decide whether or not debug schema is to be processed */
      644     5668
      645     5669
      646     5670    1       SEV = 0;
      647     5671    1       IF ( LL_FLAGS.NODEBUG# ) THEN RETURN;
      648     5672
      649     5673
      650     5674         /* Initialization:
      651     5675            1.  Read logical block record to determine size of memory
      652     5676            workspace to allocate for I/O buffer.
      653     5677            2.  Get memory for buffer
      654     5678            3.  Resolve address in logical block record.
      655     5679            4.  Find primary name pointer for OU.
      656     5680            5.  Write logical block record into the run unit. */
      657     5681
      658     5682
      659     5683    1       TEMP = OU$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.LOGBLKSIZ;
      660     5684    1       IF ( TEMP = 0 ) THEN RETURN; /* No schema ... dont go on */
      661     5685    2       DO WHILE ( TEMP > NPAG * 1024 );
      662     5686    2           CALL M$GDS ( GETBUF ) ALTRET ( OH_MY_GOD_NO_MEMORY );
      663     5687    2           NPAG = NPAG + 1;
      664     5688    2           END;
      665     5689
      666     5690    1       LOGBLK$ = VLP_VECTOR.PTR$;
      667     5691    1       INTNTRY$ = LOGBLK$;
      668     5692    1       EXST$ = LOGBLK$;
      669     5693    1       VREBL$ = LOGBLK$;
      670     5694    1       NAME$ = LOGBLK$;
      671     5695    1       DBG$ = LOGBLK$;
      672     5696    1       LOGBLK_SIZE = TEMP;
      673     5697
      674     5698    1       B$OUKEY.UTS = OU$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.UTS;
      675     5699    1       B$OUKEY.TYPE = %TYPLOGBLK;
      676     5700    1       B$OUKEY.PAGE = 0;
      677     5701    1       B$OUKEY.KEYSIZ = 7;
      678     5702    1       CALL LLM$MON_SVC ( LL#READOU, LOGBLK$, LOGBLK_SIZE*4-1,
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:109  
      679     5703    1          B$OUKEY ) ALTRET ( NO_SCHEMA );
      680     5704
      681     5705    1       TEMP$ = PINCRW ( LOGBLK$, SIZEW ( B$LBNTRY0 ) );
      682     5706    1       TEMP = MAXIMUM ( TEMP ,
      683     5707    1          TEMP$ -> B$LBNTRY1.NAMPSIZ ,
      684     5708    1          TEMP$ -> B$LBNTRY1.STMNTPSIZ ,
      685     5709    1          TEMP$ -> B$LBNTRY1.VREBLPSIZ ,
      686     5710    1          TEMP$ -> B$LBNTRY1.INTRYPSIZ );
      687     5711    1       BOUND = TEMP * 4 - 1;
      688     5712    2       DO WHILE ( TEMP > NPAG * 1024 );
      689     5713    2           CALL M$GDS ( GETBUF ) ALTRET ( OH_MY_GOD_NO_MEMORY );
      690     5714    2           NPAG = NPAG + 1;
      691     5715    2           END;
      692     5716
      693     5717    1       TEMP$ = OU$ -> OU_ENTRY.ENTDEF$;
      694     5718    1       TEMP = OU$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.EDEFSIZ / 2 - 1;
      695     5719    1       NPOINTER = -1;
      696     5720    2       DO I = 0 TO TEMP;
      697     5721    2           TEMP$ = PINCRW ( TEMP$, I * 2 ); /* Point at nxt entdef */
      698     5722    3           IF ( TEMP$ -> B$EDEF.PRI ) THEN DO;
      699     5723    3               I = TEMP; /* Kludge for exitloop */
      700     5724    3               NPOINTER = TEMP$ -> B$EDEF.NPOINTER;
      701     5725    3               END;
      702     5726    2           END;
      703     5727    2       IF ( NPOINTER < 0 ) THEN DO;
      704     5728    2           LL_DOBUF = 'A **** Object language error:';
      705     5729    2           CALL LLM$MON_SVC ( LL#WRITEDO );
      706     5730    2           CALL INSERT ( LL_DOBUF, 0 , ,
      707     5731    2              'A      Object unit ',
      708     5732    2              OU$ -> OU_ENTRY.OUNAME.TEXT,
      709     5733    2              ' has debug schema and no primary ENTDEF' );
      710     5734    2           CALL LLM$MON_SVC ( LL#WRITEDO );
      711     5735    2           LL_DOBUF = 'A     Schema processing for this object unit aborted';
      712     5736    2           CALL LLM$MON_SVC ( LL#WRITEDO );
      713     5737    2           END;
      714     5738    2       ELSE DO; /* All OK */
      715     5739    3           IF ( LOGBLK$ -> B$LBNTRY0.NO_AUTO.OPNDTYP ~= 0 ) THEN DO;
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:110  
      716     5740    3               TEMP$ = PINCRW ( OU$ -> OU_ENTRY.SECT$,
      717     5741    3                  LOGBLK$ -> B$LBNTRY0.NO_AUTO.OPERAND * 2);
      718     5742         /* Pointer to section */
      719     5743    3               LOGBLK$ -> B$LBNTRY0.FRAME =
      720     5744    3                  TEMP$ -> B$FEP_SECTION.ISADDR +
      721     5745    3                  LOGBLK$ -> B$LBNTRY0.NO_AUTO.OFFSET;
      722     5746    3               END;
      723     5747
      724     5748    2           B$DBGKEY.NODE = 0;
      725     5749    2           B$DBGKEY.NPOINTER = NPOINTER;
      726     5750    2           B$DBGKEY.TYPE = %TYPLOGBLK;
      727     5751    2           B$DBGKEY.PAGE = B$OUKEY.PAGE;
      728     5752    2           TEMP = OU$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.LOGBLKSIZ * 4 - 1;
      729     5753    2           CALL LLM$MON_SVC ( LL#WRITERU, LOGBLK$, TEMP, B$DBGKEY )
      730     5754    2              ALTRET ( ABORT );
      731     5755
      732     5756
      733     5757         /* Now that the first logical block record has been written into
      734     5758            the run unit, all we have to do is read the object unit
      735     5759            sequentially until eof or until the uts doesn't match the
      736     5760            uts of the current OU and write the records into the run
      737     5761            unit.  The variables and internal entry records are the
      738     5762            only records that have addresses that have to be munged.
      739     5763         */
      740     5764
      741     5765
      742     5766    2           VREBL$ = LOGBLK$;
      743     5767    2           EXST$ = LOGBLK$;
      744     5768    2           INTNTRY$ = LOGBLK$;
      745     5769    2           NAME$ = LOGBLK$;
      746     5770    2           CALL LLM$MON_SVC ( LL#RDEFSQ, INTNTRY$, BOUND, B$OUKEY )
      747     5771    2              ALTRET ( OH_MY_GOD );
      748     5772    3           DO WHILE ( B$OUKEY.UTS = OU$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.UTS );
      749     5773    3               CALL LLM$MON_SVC ( LL#SIZEEF, TEMP );
      750     5774    4               DO CASE ( B$OUKEY.TYPE );
      751     5775    4               CASE ( %TYPLOGBLK );
      752     5776         /* Null - write record into ru unchanged */
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:111  
      753     5777    4               CASE ( %TYPINTNTRY );
      754     5778    4                   I = 0;
      755     5779    5                   DO WHILE (I < TEMP);
      756     5780    5                       TEMP$ = PINCRC ( INTNTRY$, I);
      757     5781    5                       I = I + SIZEC ( B$INTNTRY );
      758     5782    5                       TEMP$ -> B$INTNTRY.ISADDR =
      759     5783    5                          PINCRW ( OU$ -> OU_ENTRY.SECT$,
      760     5784    5                          TEMP$ -> B$INTNTRY.OU.SECTNUM * 2 )
      761     5785    5                          -> B$FEP_SECTION.ISADDR +
      762     5786    5                          TEMP$ -> B$INTNTRY.OU.OFFSET;
      763     5787    5                       END;
      764     5788    4               CASE ( %TYPEXST );
      765     5789    4                   I = 0;
      766     5790    5                   DO WHILE (I < TEMP);
      767     5791    5                       TEMP$ = PINCRC ( EXST$, I);
      768     5792    5                       I = I + SIZEC ( B$EXST );
      769     5793    5                       TEMP$ -> B$EXST.ISADDR =
      770     5794    5                          PINCRW ( OU$ -> OU_ENTRY.SECT$,
      771     5795    5                          TEMP$ -> B$EXST.OU.SECTNUM *
      772     5796    5                          SIZEW ( B$FEP_SECTION )) ->
      773     5797    5                          B$FEP_SECTION.ISADDR +
      774     5798    5                          TEMP$ -> B$EXST.OU.OFFSET;
      775     5799    5                       END;
      776     5800    4               CASE ( %TYPVREBL );
      777     5801    4                   I = 0;
      778     5802    5                   DO WHILE ( I < TEMP );
      779     5803    5                       TEMP$ = PINCRC ( VREBL$, I );
      780     5804    5                       IF TEMP$ -> B$VREBL.DATATYP >=
      781     5805    5                          %NULL_DATATYPE OR
      782     5806    5                          TEMP$ -> B$VREBL.ADDRTYP = 0
      783     5807    5                       THEN
      784     5808    5                           ;
      785     5809    6                       ELSE DO;
      786     5810    6                           TEMP$ -> B$VREBL.ADR6.B =
      787     5811    6                              TEMP$ -> B$VREBL.ADR.B;
      788     5812    6                           TEMP$ -> B$VREBL.ADR6.C =
      789     5813    6                              TEMP$ -> B$VREBL.ADR.C;
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:112  
      790     5814    6                           TEMP$ -> B$VREBL.ADR6.W =
      791     5815    6                              TEMP$ -> B$VREBL.ADR.W;
      792     5816    6                           CALL LLC$EVALOPER;
      793     5817    6                           END;
      794     5818    5                       I = I + SIZEC ( B$VREBL );
      795     5819    5                       END;
      796     5820    4               CASE ( %TYPDBGNAM );
      797     5821         /* Null - just write rcd into ru */
      798     5822    4                   END;
      799     5823    3               TEMP = TEMP - 1;
      800     5824
      801     5825
      802     5826         /* Write record into run unit */
      803     5827
      804     5828
      805     5829    3               B$DBGKEY.NODE = 0;
      806     5830    3               B$DBGKEY.NPOINTER = NPOINTER;
      807     5831    3               B$DBGKEY.PAGE = B$OUKEY.PAGE;
      808     5832    3               B$DBGKEY.TYPE = B$OUKEY.TYPE;
      809     5833    3               CALL LLM$MON_SVC ( LL#WRITERU, DBG$, TEMP, B$DBGKEY )
      810     5834    3                  ALTRET ( ABORT );
      811     5835    3               CALL LLM$MON_SVC ( LL#RDEFSQ, DBG$, BOUND, B$OUKEY )
      812     5836    3                  ALTRET ( NO_SCHEMA );
      813     5837    3               END;
      814     5838
      815     5839    2   NO_SCHEMA:
      816     5840    2           RETURN;
      817     5841    2           END;
      818     5842
      819     5843    1   OH_MY_GOD_NO_MEMORY:
      820     5844    1       LL_DOBUF = 'A **** Can''t get any more memory - FEPLINK aborting';
      821     5845    1       CALL LLM$MON_SVC (LL#WRITEDO);
      822     5846    1       CALL LLM$MON_SVC (LL#ERR);
      823     5847    1   OH_MY_GOD:
      824     5848    1       LL_DOBUF = 'A **** Logical block record contains invalid information ****';
      825     5849    1       CALL LLM$MON_SVC ( LL#WRITEDO );
      826     5850    1       LL_DOBUF = 'A      Altret taken from M$READ while processing';
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:113  
      827     5851    1       CALL LLM$MON_SVC ( LL#WRITEDO );
      828     5852    1       CALL INSERT (LL_DOBUF, 0, ,
      829     5853    1          'A      object unit ',
      830     5854    1          OU$ -> OU_ENTRY.OUNAME.TEXT );
      831     5855    1       CALL LLM$MON_SVC (LL#WRITEDO);
      832     5856    1       CALL LLM$MON_SVC (LL#ERR);
      833     5857
      834     5858    1   ABORT:
      835     5859    1       LL_DOBUF = 'A **** Altret from M$WRITE while processing debug schema ****';
      836     5860    1       CALL LLM$MON_SVC ( LL#WRITEDO );
      837     5861    1       CALL INSERT ( LL_DOBUF, 0, ,
      838     5862    1          'A      The error occured while processing object unit ',
      839     5863    1          OU$ -> OU_ENTRY.OUNAME.TEXT );
      840     5864    1       CALL LLM$MON_SVC ( LL#WRITEDO );
      841     5865    1       CALL LLM$MON_SVC ( LL#ERR );
      842     5866        %EJECT;
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:114  
      843     5867    1   LLC$EVALOPER: PROC;
      844     5868
      845     5869    2   DCL LL_WORD UBIN WORD BASED ALIGNED;
      846     5870    2   DCL RESULT UBIN WORD;
      847     5871
      848     5872    3       DO CASE ( TEMP$ -> B$VREBL.ADDRTYP );
      849     5873    3       CASE ( 1 ); /* Static - Relocate ADR6.W */
      850     5874    3           RESULT = TEMP$ -> B$VREBL.ADR6.W;
      851     5875    3       CASE ( 4 ); /* DCB - OPERAND is SYMREF#, put DCB# in IMPTR; */
      852     5876    3           RESULT = 0;
      853     5877    3           GOTO OPERSREF;
      854     5878    3       CASE ( 7 ); /* Static parm - Relocate IMPTR */
      855     5879    3           RESULT = TEMP$ -> B$VREBL.IMPTR;
      856     5880    3       CASE (ELSE);
      857     5881    3           RETURN;
      858     5882    3           END;
      859     5883    3       DO CASE ( TEMP$ -> B$VREBL.OPNDTYP );
      860     5884    3       CASE ( %OPERSECT );
      861     5885
      862     5886         /*
      863     5887            Operand is an offset from a control section.
      864     5888         */
      865     5889
      866     5890    3           RESULT =
      867     5891    3              PINCRW ( OU$ -> OU_ENTRY.SECT$,
      868     5892    3              TEMP$ -> B$VREBL.OPERAND * 2 )
      869     5893    3              -> B$FEP_SECTION.ISADDR +
      870     5894    3              RESULT;
      871     5895    3       CASE ( %OPEREREF );
      872     5896
      873     5897         /*
      874     5898            Operand is an offset from an ENTREF.
      875     5899         */
      876     5900
      877     5901    3           RESULT =
      878     5902    3              PINCRW ( ENTREF$,
      879     5903    3              TEMP$ -> B$VREBL.OPERAND )
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:115  
      880     5904    3              -> LL_WORD + RESULT;
      881     5905    3       CASE ( %OPERSREF );
      882     5906
      883     5907         /*
      884     5908            Operand is an offset from an SYMREF.
      885     5909         */
      886     5910
      887     5911    3   OPERSREF:;
      888     5912    3           RESULT =
      889     5913    3              PINCRW ( SYMREF$,
      890     5914    3              TEMP$ -> B$VREBL.OPERAND )
      891     5915    3              -> LL_WORD + RESULT;
      892     5916    3       CASE ( %OPERCONST );
      893     5917
      894     5918         /*
      895     5919            Operand is a constant.
      896     5920         */
      897     5921
      898     5922         /* Do nothing. */
      899     5923    3           RETURN;
      900     5924    3       CASE ( ELSE );
      901     5925
      902     5926         /*
      903     5927            Invalid operand .... yell
      904     5928         */
      905     5929
      906     5930    3           LL_DOBUF = 'A **** Invalid operand type in variables record ****';
      907     5931    3           CALL LLM$MON_SVC ( LL#WRITEDO );
      908     5932    3           CALL INSERT ( LL_DOBUF, 0, ,
      909     5933    3              'A      The error occured while processing object unit ',
      910     5934    3              OU$ -> OU_ENTRY.OUNAME.TEXT );
      911     5935    3           CALL LLM$MON_SVC ( LL#WRITEDO );
      912     5936    3           SEV = 16;
      913     5937    3           RETURN;
      914     5938    3           END;
      915     5939    2       IF TEMP$ -> B$VREBL.ADDRTYP = 1 THEN TEMP$ -> B$VREBL.ADR6.W = RESULT;
      916     5940    2       ELSE TEMP$ -> B$VREBL.IMPTR = RESULT;
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:116  
      917     5941    2   END LLC$EVALOPER;
      918     5942    1   END LLC$SCHEMA;

PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:117  
--  Include file information  --

   LL_MACS_C.:E05TOU  is referenced.
   LL_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   LL_SUBS_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B_SEGIDS_C.:E05TOU  is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure LLC$SCHEMA.

   Procedure LLC$SCHEMA requires 586 words for executable code.
   Procedure LLC$SCHEMA requires 28 words of local(AUTO) storage.

    No errors detected in file LLC$PASS2.:E05TSI    .

PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:118  

 Object Unit name= LLC$SCHEMA                                 File name= LLC$PASS2.:E05TOU
 UTS= JUL 30 '97 03:14:06.20 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   Data  even  none    14     16  LLC$SCHEMA
    2   DCB   even  none     0      0  M$RU
    3  RoData even  UTS    125    175  LLC$SCHEMA
    4   Proc  even  none   586   1112  LLC$SCHEMA
    5  RoData even  none    14     16  LLC$SCHEMA

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     4      0   yes            yes      Std        4  LLC$SCHEMA

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       4 LLM$MON_SVC
                       nStd      0 X66_AUTO_4
                       nStd      0 X66_ARET
                       Std       0 B_CONSPOOL_D
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:119  

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  LL_DOBUF                              LL_FLAGS
     M$RU                                  B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:120  


      577        1        /*T***********************************************************/
      578        2        /*T*                                                         */
      579        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      580        4        /*T*                                                         */
      581        5        /*T***********************************************************/
      582        6        %EJECT;
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:121  
      583        7        LLC$SCHEMA: PROC (OU$,SEV,ENTREF$,SYMREF$);

      7  4 000000   000000 700200 xent  LLC$SCHEMA   TSX0  ! X66_AUTO_4
         4 000001   000034 000004                    ZERO    28,4

      584        8
      585        9        %INCLUDE B$OBJECT_C;
      586     3439        %INCLUDE B_SEGIDS_C;
      587     3978        %INCLUDE CP_6;
      588     4059        %INCLUDE LL_SUBS_C;
      589     4188        %INCLUDE LL_DATA_R;
      590     4224        %INCLUDE LL_MACS_C;
      591     4578
      592     4579        %B$EDEF;
      593     4649        %B$FEP_SECTION;
      594     4688        %B$LBNTRY0;
      595     4724        %B$LBNTRY1;
      596     4751        %B$INTNTRY;
      597     4809        %B$EXST;
      598     4916        %B$VREBL;
      599     5080        %B$VREBLC;
      600     5153        %B$VREBLCA;
      601     5241        %B$RECORDSUBS;
      602     5269        %VREBL_DATATYPES;
      603     5344        %B$RELOCSUBS;
      604     5374        %B$DBGKEY ( NAME = B$DBGKEY,
      605     5375         STCLASS = STATIC );
      606     5402        %B$OUKEY ( NAME = B$OUKEY,
      607     5403         STCLASS = STATIC );
      608     5439
      609     5440    1   DCL OU$ PTR; /* Parameter */
      610     5441    1   DCL SEV UBIN WORD ALIGNED; /* Parameter */
      611     5442    1   DCL ENTREF$ PTR; /* Parameter */
      612     5443    1   DCL SYMREF$ PTR; /* Parameter */
      613     5444
      614     5445    1   DCL LOGBLK$ PTR; /* Ptr to logical block rec */
      615     5446    1   DCL LOGBLK_SIZE UBIN WORD ALIGNED; /* Size of logical block rec */
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:122  
      616     5447    1   DCL INTNTRY$ PTR; /* Ptr to int. entries rec */
      617     5448    1   DCL EXST$ PTR; /* Ptr to exu. stmts. rec */
      618     5449    1   DCL VREBL$ PTR; /* Ptr to variables rec */
      619     5450    1   DCL NAME$ PTR; /* Ptr to debug names rec */
      620     5451    1   DCL DBG$ PTR;
      621     5452    1   DCL NPOINTER SBIN WORD ALIGNED; /* Pri name pointer */
      622     5453    1   DCL BOUND UBIN WORD ALIGNED;
      623     5454    1   DCL I UBIN WORD ALIGNED;
      624     5455
      625     5456    1   DCL TEMP UBIN WORD ALIGNED; /* Scratch */
      626     5457    1   DCL TEMP$ PTR; /* Scratch pointer */
      627     5458    1   DCL NPAG SBIN STATIC INIT(0); /* # pages we have */
      628     5459
      629     5460    1   DCL M$RU DCB;
      630     5461
      631     5462    1   DCL LLM$MON_SVC ENTRY(4) ALTRET; /* Entry to service routine */
      632     5463
      633     5464        %FPT_GDS ( FPTN = GETBUF , SEGSIZE = 1024 ,
      634     5465         RESULTS = VLP_VECTOR );
      635     5481        %VLP_VECTOR ( FPTN = VLP_VECTOR,
      636     5482         SEGID = %DS8SID,
      637     5483         BASE = 0 );
      638     5498
      639     5499        %B$OUHEAD ( STCLASS = BASED );
      640     5617        %LL$OU_ENTRY ( NAME = OU_ENTRY );
      641     5665        %EJECT;
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:123  
      642     5666
      643     5667         /* Decide whether or not debug schema is to be processed */
      644     5668
      645     5669
      646     5670    1       SEV = 0;

   5670  4 000002   200004 470500                    LDP0    @SEV,,AUTO
         4 000003   000000 450100                    STZ     0,,PR0

      647     5671    1       IF ( LL_FLAGS.NODEBUG# ) THEN RETURN;

   5671  4 000004   000000 236000 xsym               LDQ     LL_FLAGS
         4 000005   040000 316003                    CANQ    16384,DU
         4 000006   000010 600000 4                  TZE     s:5683

   5671  4 000007   000000 702200 xent               TSX2  ! X66_ARET

      648     5672
      649     5673
      650     5674         /* Initialization:
      651     5675            1.  Read logical block record to determine size of memory
      652     5676            workspace to allocate for I/O buffer.
      653     5677            2.  Get memory for buffer
      654     5678            3.  Resolve address in logical block record.
      655     5679            4.  Find primary name pointer for OU.
      656     5680            5.  Write logical block record into the run unit. */
      657     5681
      658     5682
      659     5683    1       TEMP = OU$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.LOGBLKSIZ;

   5683  4 000010   200003 471500                    LDP1    @OU$,,AUTO
         4 000011   100000 473500                    LDP3    0,,PR1
         4 000012   300013 474500                    LDP4    11,,PR3
         4 000013   400003 236100                    LDQ     3,,PR4
         4 000014   777777 376007                    ANQ     -1,DL
         4 000015   200022 756100                    STQ     TEMP,,AUTO

PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:124  
      660     5684    1       IF ( TEMP = 0 ) THEN RETURN; /* No schema ... dont go on */

   5684  4 000016   000020 601000 4                  TNZ     s:5685

   5684  4 000017   000000 702200 xent               TSX2  ! X66_ARET

      661     5685    2       DO WHILE ( TEMP > NPAG * 1024 );

   5685  4 000020   000026 710000 4                  TRA     s:5688

      662     5686    2           CALL M$GDS ( GETBUF ) ALTRET ( OH_MY_GOD_NO_MEMORY );

   5686  4 000021   000006 630400 1                  EPPR0   GETBUF
         4 000022   430001 713400                    CLIMB   alt,gds
         4 000023   400400 401760                    pmme    nvectors=2
         4 000024   000633 702000 4                  TSX2    OH_MY_GOD_NO_MEMORY

      663     5687    2           NPAG = NPAG + 1;

   5687  4 000025   000004 054000 1                  AOS     NPAG

      664     5688    2           END;

   5688  4 000026   000004 236000 1                  LDQ     NPAG
         4 000027   000012 736000                    QLS     10
         4 000030   000021 604000 4                  TMI     s:5686
         4 000031   200022 116100                    CMPQ    TEMP,,AUTO
         4 000032   000021 602000 4                  TNC     s:5686

      665     5689
      666     5690    1       LOGBLK$ = VLP_VECTOR.PTR$;

   5690  4 000033   000015 236000 1                  LDQ     VLP_VECTOR+1
         4 000034   200010 756100                    STQ     LOGBLK$,,AUTO

      667     5691    1       INTNTRY$ = LOGBLK$;

PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:125  
   5691  4 000035   200012 756100                    STQ     INTNTRY$,,AUTO

      668     5692    1       EXST$ = LOGBLK$;

   5692  4 000036   200013 756100                    STQ     EXST$,,AUTO

      669     5693    1       VREBL$ = LOGBLK$;

   5693  4 000037   200014 756100                    STQ     VREBL$,,AUTO

      670     5694    1       NAME$ = LOGBLK$;

   5694  4 000040   200015 756100                    STQ     NAME$,,AUTO

      671     5695    1       DBG$ = LOGBLK$;

   5695  4 000041   200016 756100                    STQ     DBG$,,AUTO

      672     5696    1       LOGBLK_SIZE = TEMP;

   5696  4 000042   200022 235100                    LDA     TEMP,,AUTO
         4 000043   200011 755100                    STA     LOGBLK_SIZE,,AUTO

      673     5697
      674     5698    1       B$OUKEY.UTS = OU$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.UTS;

   5698  4 000044   200003 470500                    LDP0    @OU$,,AUTO
         4 000045   000000 471500                    LDP1    0,,PR0
         4 000046   100013 473500                    LDP3    11,,PR1
         4 000047   000000 100500                    MLR     fill='000'O
         4 000050   300000 000004                    ADSC9   0,,PR3                   cn=0,n=4
         4 000051   000002 400004 1                  ADSC9   B$OUKEY                  cn=2,n=4

      675     5699    1       B$OUKEY.TYPE = %TYPLOGBLK;

   5699  4 000052   013000 236007                    LDQ     5632,DL
         4 000053   000003 552010 1                  STBQ    B$OUKEY+1,'10'O
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:126  

      676     5700    1       B$OUKEY.PAGE = 0;

   5700  4 000054   000000 236003                    LDQ     0,DU
         4 000055   000003 552004 1                  STBQ    B$OUKEY+1,'04'O

      677     5701    1       B$OUKEY.KEYSIZ = 7;

   5701  4 000056   007000 236003                    LDQ     3584,DU
         4 000057   000002 552040 1                  STBQ    B$OUKEY,'40'O

      678     5702    1       CALL LLM$MON_SVC ( LL#READOU, LOGBLK$, LOGBLK_SIZE*4-1,

   5702  4 000060   000002 735000                    ALS     2
         4 000061   000001 135007                    SBLA    1,DL
         4 000062   200026 755100                    STA     RESULT+1,,AUTO
         4 000063   000001 236000 5                  LDQ     1
         4 000064   200033 756100                    STQ     RESULT+6,,AUTO
         4 000065   200026 631500                    EPPR1   RESULT+1,,AUTO
         4 000066   200032 451500                    STP1    RESULT+5,,AUTO
         4 000067   200010 633500                    EPPR3   LOGBLK$,,AUTO
         4 000070   200031 453500                    STP3    RESULT+4,,AUTO
         4 000071   000002 236000 5                  LDQ     2
         4 000072   200030 756100                    STQ     RESULT+3,,AUTO
         4 000073   200030 630500                    EPPR0   RESULT+3,,AUTO
         4 000074   000022 631400 xsym               EPPR1   B_VECTNIL+18
         4 000075   000000 701000 xent               TSX1    LLM$MON_SVC
         4 000076   000632 702000 4                  TSX2    NO_SCHEMA

      679     5703    1          B$OUKEY ) ALTRET ( NO_SCHEMA );
      680     5704
      681     5705    1       TEMP$ = PINCRW ( LOGBLK$, SIZEW ( B$LBNTRY0 ) );

   5705  4 000077   200010 236100                    LDQ     LOGBLK$,,AUTO
         4 000100   000004 036003                    ADLQ    4,DU
         4 000101   200023 756100                    STQ     TEMP$,,AUTO

PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:127  
      682     5706    1       TEMP = MAXIMUM ( TEMP ,

   5706  4 000102   200023 470500                    LDP0    TEMP$,,AUTO
         4 000103   000003 236100                    LDQ     3,,PR0
         4 000104   777777 376007                    ANQ     -1,DL
         4 000105   200026 756100                    STQ     RESULT+1,,AUTO
         4 000106   000002 236100                    LDQ     2,,PR0
         4 000107   777777 376007                    ANQ     -1,DL
         4 000110   200027 756100                    STQ     RESULT+2,,AUTO
         4 000111   000001 236100                    LDQ     1,,PR0
         4 000112   777777 376007                    ANQ     -1,DL
         4 000113   200030 756100                    STQ     RESULT+3,,AUTO
         4 000114   000000 236100                    LDQ     0,,PR0
         4 000115   777777 376007                    ANQ     -1,DL
         4 000116   200027 116100                    CMPQ    RESULT+2,,AUTO
         4 000117   000121 603000 4                  TRC     s:5706+15
         4 000120   200027 236100                    LDQ     RESULT+2,,AUTO
         4 000121   200030 116100                    CMPQ    RESULT+3,,AUTO
         4 000122   000124 603000 4                  TRC     s:5706+18
         4 000123   200030 236100                    LDQ     RESULT+3,,AUTO
         4 000124   200026 116100                    CMPQ    RESULT+1,,AUTO
         4 000125   000127 603000 4                  TRC     s:5706+21
         4 000126   200026 236100                    LDQ     RESULT+1,,AUTO
         4 000127   200022 116100                    CMPQ    TEMP,,AUTO
         4 000130   000132 603000 4                  TRC     s:5706+24
         4 000131   200022 236100                    LDQ     TEMP,,AUTO
         4 000132   200022 756100                    STQ     TEMP,,AUTO

      683     5707    1          TEMP$ -> B$LBNTRY1.NAMPSIZ ,
      684     5708    1          TEMP$ -> B$LBNTRY1.STMNTPSIZ ,
      685     5709    1          TEMP$ -> B$LBNTRY1.VREBLPSIZ ,
      686     5710    1          TEMP$ -> B$LBNTRY1.INTRYPSIZ );
      687     5711    1       BOUND = TEMP * 4 - 1;

   5711  4 000133   200022 235100                    LDA     TEMP,,AUTO
         4 000134   000002 735000                    ALS     2
         4 000135   000001 135007                    SBLA    1,DL
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:128  
         4 000136   200020 755100                    STA     BOUND,,AUTO

      688     5712    2       DO WHILE ( TEMP > NPAG * 1024 );

   5712  4 000137   000145 710000 4                  TRA     s:5715

      689     5713    2           CALL M$GDS ( GETBUF ) ALTRET ( OH_MY_GOD_NO_MEMORY );

   5713  4 000140   000006 630400 1                  EPPR0   GETBUF
         4 000141   430001 713400                    CLIMB   alt,gds
         4 000142   400400 401760                    pmme    nvectors=2
         4 000143   000633 702000 4                  TSX2    OH_MY_GOD_NO_MEMORY

      690     5714    2           NPAG = NPAG + 1;

   5714  4 000144   000004 054000 1                  AOS     NPAG

      691     5715    2           END;

   5715  4 000145   000004 236000 1                  LDQ     NPAG
         4 000146   000012 736000                    QLS     10
         4 000147   000140 604000 4                  TMI     s:5713
         4 000150   200022 116100                    CMPQ    TEMP,,AUTO
         4 000151   000140 602000 4                  TNC     s:5713

      692     5716
      693     5717    1       TEMP$ = OU$ -> OU_ENTRY.ENTDEF$;

   5717  4 000152   200003 470500                    LDP0    @OU$,,AUTO
         4 000153   000000 471500                    LDP1    0,,PR0
         4 000154   100006 236100                    LDQ     6,,PR1
         4 000155   200023 756100                    STQ     TEMP$,,AUTO

      694     5718    1       TEMP = OU$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.EDEFSIZ / 2 - 1;

   5718  4 000156   100013 473500                    LDP3    11,,PR1
         4 000157   300007 236100                    LDQ     7,,PR3
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:129  
         4 000160   000022 772000                    QRL     18
         4 000161   000001 772000                    QRL     1
         4 000162   000001 136007                    SBLQ    1,DL
         4 000163   200022 756100                    STQ     TEMP,,AUTO

      695     5719    1       NPOINTER = -1;

   5719  4 000164   000001 335007                    LCA     1,DL
         4 000165   200017 755100                    STA     NPOINTER,,AUTO

      696     5720    2       DO I = 0 TO TEMP;

   5720  4 000166   200021 450100                    STZ     I,,AUTO
         4 000167   000210 710000 4                  TRA     s:5726+3

      697     5721    2           TEMP$ = PINCRW ( TEMP$, I * 2 ); /* Point at nxt entdef */

   5721  4 000170   200021 236100                    LDQ     I,,AUTO
         4 000171   000023 736000                    QLS     19
         4 000172   200023 036100                    ADLQ    TEMP$,,AUTO
         4 000173   200023 756100                    STQ     TEMP$,,AUTO

      698     5722    3           IF ( TEMP$ -> B$EDEF.PRI ) THEN DO;

   5722  4 000174   200023 470500                    LDP0    TEMP$,,AUTO
         4 000175   000001 236100                    LDQ     1,,PR0
         4 000176   400000 316007                    CANQ    -131072,DL
         4 000177   000205 600000 4                  TZE     s:5726

      699     5723    3               I = TEMP; /* Kludge for exitloop */

   5723  4 000200   200022 235100                    LDA     TEMP,,AUTO
         4 000201   200021 755100                    STA     I,,AUTO

      700     5724    3               NPOINTER = TEMP$ -> B$EDEF.NPOINTER;

   5724  4 000202   000001 236100                    LDQ     1,,PR0
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:130  
         4 000203   000022 732000                    QRS     18
         4 000204   200017 756100                    STQ     NPOINTER,,AUTO

      701     5725    3               END;

      702     5726    2           END;

   5726  4 000205   200021 235100                    LDA     I,,AUTO
         4 000206   000001 035007                    ADLA    1,DL
         4 000207   200021 755100                    STA     I,,AUTO
         4 000210   200022 236100                    LDQ     TEMP,,AUTO
         4 000211   200021 116100                    CMPQ    I,,AUTO
         4 000212   000170 603000 4                  TRC     s:5721

      703     5727    2       IF ( NPOINTER < 0 ) THEN DO;

   5727  4 000213   200017 235100                    LDA     NPOINTER,,AUTO
         4 000214   000262 605000 4                  TPL     s:5739

      704     5728    2           LL_DOBUF = 'A **** Object language error:';

   5728  4 000215   040000 100400                    MLR     fill='040'O
         4 000216   000000 000035 3                  ADSC9   0                        cn=0,n=29
         4 000217   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      705     5729    2           CALL LLM$MON_SVC ( LL#WRITEDO );

   5729  4 000220   000003 630400 5                  EPPR0   3
         4 000221   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000222   000000 701000 xent               TSX1    LLM$MON_SVC
         4 000223   000000 011000                    NOP     0

      706     5730    2           CALL INSERT ( LL_DOBUF, 0 , ,

   5730  4 000224   200003 470500                    LDP0    @OU$,,AUTO
         4 000225   000000 471500                    LDP1    0,,PR0
         4 000226   100015 236100                    LDQ     13,,PR1
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:131  
         4 000227   000033 772000                    QRL     27
         4 000230   040000 100400                    MLR     fill='040'O
         4 000231   000010 000023 3                  ADSC9   8                        cn=0,n=19
         4 000232   000000 000023 xsym               ADSC9   LL_DOBUF                 cn=0,n=19
         4 000233   000000 620006                    EAX0    0,QL
         4 000234   040000 100540                    MLR     fill='040'O
         4 000235   100015 200010                    ADSC9   13,,PR1                  cn=1,n=*X0
         4 000236   000004 600135 xsym               ADSC9   LL_DOBUF+4               cn=3,n=93
         4 000237   000135 116007                    CMPQ    93,DL
         4 000240   000246 603000 4                  TRC     s:5734
         4 000241   777642 620006                    EAX0    -94,QL
         4 000242   777777 660003                    ERX0    -1,DU
         4 000243   040046 100400                    MLR     fill='040'O
         4 000244   000015 000047 3                  ADSC9   13                       cn=0,n=39
         4 000245   000004 600010 xsym               ADSC9   LL_DOBUF+4,Q             cn=3,n=*X0

      707     5731    2              'A      Object unit ',
      708     5732    2              OU$ -> OU_ENTRY.OUNAME.TEXT,
      709     5733    2              ' has debug schema and no primary ENTDEF' );
      710     5734    2           CALL LLM$MON_SVC ( LL#WRITEDO );

   5734  4 000246   000003 630400 5                  EPPR0   3
         4 000247   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000250   000000 701000 xent               TSX1    LLM$MON_SVC
         4 000251   000000 011000                    NOP     0

      711     5735    2           LL_DOBUF = 'A     Schema processing for this object unit aborted';

   5735  4 000252   040000 100400                    MLR     fill='040'O
         4 000253   000027 000064 3                  ADSC9   23                       cn=0,n=52
         4 000254   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      712     5736    2           CALL LLM$MON_SVC ( LL#WRITEDO );

   5736  4 000255   000003 630400 5                  EPPR0   3
         4 000256   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000257   000000 701000 xent               TSX1    LLM$MON_SVC
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:132  
         4 000260   000000 011000                    NOP     0

      713     5737    2           END;

   5737  4 000261   000633 710000 4                  TRA     OH_MY_GOD_NO_MEMORY

      714     5738    2       ELSE DO; /* All OK */

      715     5739    3           IF ( LOGBLK$ -> B$LBNTRY0.NO_AUTO.OPNDTYP ~= 0 ) THEN DO;

   5739  4 000262   200010 470500                    LDP0    LOGBLK$,,AUTO
         4 000263   000002 236100                    LDQ     2,,PR0
         4 000264   740000 316003                    CANQ    -16384,DU
         4 000265   000306 600000 4                  TZE     s:5748

      716     5740    3               TEMP$ = PINCRW ( OU$ -> OU_ENTRY.SECT$,

   5740  4 000266   200003 471500                    LDP1    @OU$,,AUTO
         4 000267   100000 473500                    LDP3    0,,PR1
         4 000270   000002 220100                    LDX0    2,,PR0
         4 000271   000777 360003                    ANX0    511,DU
         4 000272   300003 474500                    LDP4    3,,PR3
         4 000273   000000 635010                    EAA     0,X0
         4 000274   000021 771000                    ARL     17
         4 000275   400000 635505                    EPPR5   0,AL,PR4
         4 000276   200023 455500                    STP5    TEMP$,,AUTO

      717     5741    3                  LOGBLK$ -> B$LBNTRY0.NO_AUTO.OPERAND * 2);
      718     5742         /* Pointer to section */
      719     5743    3               LOGBLK$ -> B$LBNTRY0.FRAME =

   5743  4 000277   000002 236100                    LDQ     2,,PR0
         4 000300   777777 376007                    ANQ     -1,DL
         4 000301   200026 756100                    STQ     RESULT+1,,AUTO
         4 000302   500000 236100                    LDQ     0,,PR5
         4 000303   000032 376000 xsym               ANQ     B_VECTNIL+26
         4 000304   200026 036100                    ADLQ    RESULT+1,,AUTO
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:133  
         4 000305   000002 756100                    STQ     2,,PR0

      720     5744    3                  TEMP$ -> B$FEP_SECTION.ISADDR +
      721     5745    3                  LOGBLK$ -> B$LBNTRY0.NO_AUTO.OFFSET;
      722     5746    3               END;

      723     5747
      724     5748    2           B$DBGKEY.NODE = 0;

   5748  4 000306   000000 220003                    LDX0    0,DU
         4 000307   000000 440000 1                  SXL0    B$DBGKEY

      725     5749    2           B$DBGKEY.NPOINTER = NPOINTER;

   5749  4 000310   200017 721100                    LXL1    NPOINTER,,AUTO
         4 000311   000001 741000 1                  STX1    B$DBGKEY+1

      726     5750    2           B$DBGKEY.TYPE = %TYPLOGBLK;

   5750  4 000312   013000 236007                    LDQ     5632,DL
         4 000313   000001 552010 1                  STBQ    B$DBGKEY+1,'10'O

      727     5751    2           B$DBGKEY.PAGE = B$OUKEY.PAGE;

   5751  4 000314   000003 236000 1                  LDQ     B$OUKEY+1
         4 000315   000001 552004 1                  STBQ    B$DBGKEY+1,'04'O

      728     5752    2           TEMP = OU$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.LOGBLKSIZ * 4 - 1;

   5752  4 000316   200003 470500                    LDP0    @OU$,,AUTO
         4 000317   000000 471500                    LDP1    0,,PR0
         4 000320   100013 473500                    LDP3    11,,PR1
         4 000321   300003 236100                    LDQ     3,,PR3
         4 000322   000002 736000                    QLS     2
         4 000323   000004 376000 5                  ANQ     4
         4 000324   000001 136007                    SBLQ    1,DL
         4 000325   200022 756100                    STQ     TEMP,,AUTO
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:134  

      729     5753    2           CALL LLM$MON_SVC ( LL#WRITERU, LOGBLK$, TEMP, B$DBGKEY )

   5753  4 000326   000006 236000 5                  LDQ     6
         4 000327   200031 756100                    STQ     RESULT+4,,AUTO
         4 000330   200022 631500                    EPPR1   TEMP,,AUTO
         4 000331   200030 451500                    STP1    RESULT+3,,AUTO
         4 000332   200010 633500                    EPPR3   LOGBLK$,,AUTO
         4 000333   200027 453500                    STP3    RESULT+2,,AUTO
         4 000334   000007 236000 5                  LDQ     7
         4 000335   200026 756100                    STQ     RESULT+1,,AUTO
         4 000336   200026 630500                    EPPR0   RESULT+1,,AUTO
         4 000337   000022 631400 xsym               EPPR1   B_VECTNIL+18
         4 000340   000000 701000 xent               TSX1    LLM$MON_SVC
         4 000341   000707 702000 4                  TSX2    ABORT

      730     5754    2              ALTRET ( ABORT );
      731     5755
      732     5756
      733     5757         /* Now that the first logical block record has been written into
      734     5758            the run unit, all we have to do is read the object unit
      735     5759            sequentially until eof or until the uts doesn't match the
      736     5760            uts of the current OU and write the records into the run
      737     5761            unit.  The variables and internal entry records are the
      738     5762            only records that have addresses that have to be munged.
      739     5763         */
      740     5764
      741     5765
      742     5766    2           VREBL$ = LOGBLK$;

   5766  4 000342   200010 236100                    LDQ     LOGBLK$,,AUTO
         4 000343   200014 756100                    STQ     VREBL$,,AUTO

      743     5767    2           EXST$ = LOGBLK$;

   5767  4 000344   200013 756100                    STQ     EXST$,,AUTO

PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:135  
      744     5768    2           INTNTRY$ = LOGBLK$;

   5768  4 000345   200012 756100                    STQ     INTNTRY$,,AUTO

      745     5769    2           NAME$ = LOGBLK$;

   5769  4 000346   200015 756100                    STQ     NAME$,,AUTO

      746     5770    2           CALL LLM$MON_SVC ( LL#RDEFSQ, INTNTRY$, BOUND, B$OUKEY )

   5770  4 000347   000001 236000 5                  LDQ     1
         4 000350   200031 756100                    STQ     RESULT+4,,AUTO
         4 000351   200020 630500                    EPPR0   BOUND,,AUTO
         4 000352   200030 450500                    STP0    RESULT+3,,AUTO
         4 000353   200012 631500                    EPPR1   INTNTRY$,,AUTO
         4 000354   200027 451500                    STP1    RESULT+2,,AUTO
         4 000355   000011 236000 5                  LDQ     9
         4 000356   200026 756100                    STQ     RESULT+1,,AUTO
         4 000357   200026 630500                    EPPR0   RESULT+1,,AUTO
         4 000360   000022 631400 xsym               EPPR1   B_VECTNIL+18
         4 000361   000000 701000 xent               TSX1    LLM$MON_SVC
         4 000362   000646 702000 4                  TSX2    OH_MY_GOD

      747     5771    2              ALTRET ( OH_MY_GOD );
      748     5772    3           DO WHILE ( B$OUKEY.UTS = OU$ -> OU_ENTRY.HEAD$ -> B$OUHEAD.UTS );

   5772  4 000363   200003 470500                    LDP0    @OU$,,AUTO
         4 000364   000000 471500                    LDP1    0,,PR0
         4 000365   100013 473500                    LDP3    11,,PR1
         4 000366   000002 235000 1                  LDA     B$OUKEY
         4 000367   000003 236000 1                  LDQ     B$OUKEY+1
         4 000370   000022 773000                    LRL     18
         4 000371   300000 116100                    CMPQ    0,,PR3
         4 000372   000632 601000 4                  TNZ     NO_SCHEMA

      749     5773    3               CALL LLM$MON_SVC ( LL#SIZEEF, TEMP );

PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:136  
   5773  4 000373   200022 630500                    EPPR0   TEMP,,AUTO
         4 000374   200027 450500                    STP0    RESULT+2,,AUTO
         4 000375   000013 236000 5                  LDQ     11
         4 000376   200026 756100                    STQ     RESULT+1,,AUTO
         4 000377   200026 630500                    EPPR0   RESULT+1,,AUTO
         4 000400   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000401   000000 701000 xent               TSX1    LLM$MON_SVC
         4 000402   000000 011000                    NOP     0

      750     5774    4               DO CASE ( B$OUKEY.TYPE );

   5774  4 000403   000003 236000 1                  LDQ     B$OUKEY+1
         4 000404   000011 772000                    QRL     9
         4 000405   000777 376007                    ANQ     511,DL
         4 000406   000014 136007                    SBLQ    12,DL
         4 000407   000003 116007                    CMPQ    3,DL
         4 000410   000412 602006 4                  TNC     s:5774+7,QL
         4 000411   000560 710000 4                  TRA     s:5823
         4 000412   000415 710000 4                  TRA     s:5778
         4 000413   000453 710000 4                  TRA     s:5789
         4 000414   000511 710000 4                  TRA     s:5801

      751     5775    4               CASE ( %TYPLOGBLK );

      752     5776         /* Null - write record into ru unchanged */
      753     5777    4               CASE ( %TYPINTNTRY );

      754     5778    4                   I = 0;

   5778  4 000415   200021 450100                    STZ     I,,AUTO

      755     5779    5                   DO WHILE (I < TEMP);

   5779  4 000416   200021 236100                    LDQ     I,,AUTO
         4 000417   200022 116100                    CMPQ    TEMP,,AUTO
         4 000420   000560 603000 4                  TRC     s:5823

PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:137  
      756     5780    5                       TEMP$ = PINCRC ( INTNTRY$, I);

   5780  4 000421   200021 236100                    LDQ     I,,AUTO
         4 000422   000020 736000                    QLS     16
         4 000423   200012 036100                    ADLQ    INTNTRY$,,AUTO
         4 000424   200023 756100                    STQ     TEMP$,,AUTO

      757     5781    5                       I = I + SIZEC ( B$INTNTRY );

   5781  4 000425   200021 235100                    LDA     I,,AUTO
         4 000426   000010 035007                    ADLA    8,DL
         4 000427   200021 755100                    STA     I,,AUTO

      758     5782    5                       TEMP$ -> B$INTNTRY.ISADDR =

   5782  4 000430   200003 470500                    LDP0    @OU$,,AUTO
         4 000431   000000 471500                    LDP1    0,,PR0
         4 000432   200023 473500                    LDP3    TEMP$,,AUTO
         4 000433   300000 220100                    LDX0    0,,PR3
         4 000434   000777 360003                    ANX0    511,DU
         4 000435   100003 474500                    LDP4    3,,PR1
         4 000436   300000 236100                    LDQ     0,,PR3
         4 000437   777777 376007                    ANQ     -1,DL
         4 000440   200026 756100                    STQ     RESULT+1,,AUTO
         4 000441   000000 635010                    EAA     0,X0
         4 000442   000021 771000                    ARL     17
         4 000443   400000 236105                    LDQ     0,AL,PR4
         4 000444   000032 376000 xsym               ANQ     B_VECTNIL+26
         4 000445   200026 036100                    ADLQ    RESULT+1,,AUTO
         4 000446   300000 552134                    STBQ    0,'34'O,PR3

      759     5783    5                          PINCRW ( OU$ -> OU_ENTRY.SECT$,
      760     5784    5                          TEMP$ -> B$INTNTRY.OU.SECTNUM * 2 )
      761     5785    5                          -> B$FEP_SECTION.ISADDR +
      762     5786    5                          TEMP$ -> B$INTNTRY.OU.OFFSET;
      763     5787    5                       END;

PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:138  
   5787  4 000447   200021 236100                    LDQ     I,,AUTO
         4 000450   200022 116100                    CMPQ    TEMP,,AUTO
         4 000451   000421 602000 4                  TNC     s:5780
         4 000452   000560 710000 4                  TRA     s:5823

      764     5788    4               CASE ( %TYPEXST );

      765     5789    4                   I = 0;

   5789  4 000453   200021 450100                    STZ     I,,AUTO

      766     5790    5                   DO WHILE (I < TEMP);

   5790  4 000454   200021 236100                    LDQ     I,,AUTO
         4 000455   200022 116100                    CMPQ    TEMP,,AUTO
         4 000456   000560 603000 4                  TRC     s:5823

      767     5791    5                       TEMP$ = PINCRC ( EXST$, I);

   5791  4 000457   200021 236100                    LDQ     I,,AUTO
         4 000460   000020 736000                    QLS     16
         4 000461   200013 036100                    ADLQ    EXST$,,AUTO
         4 000462   200023 756100                    STQ     TEMP$,,AUTO

      768     5792    5                       I = I + SIZEC ( B$EXST );

   5792  4 000463   200021 235100                    LDA     I,,AUTO
         4 000464   000014 035007                    ADLA    12,DL
         4 000465   200021 755100                    STA     I,,AUTO

      769     5793    5                       TEMP$ -> B$EXST.ISADDR =

   5793  4 000466   200003 470500                    LDP0    @OU$,,AUTO
         4 000467   000000 471500                    LDP1    0,,PR0
         4 000470   200023 473500                    LDP3    TEMP$,,AUTO
         4 000471   300000 220100                    LDX0    0,,PR3
         4 000472   000777 360003                    ANX0    511,DU
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:139  
         4 000473   100003 474500                    LDP4    3,,PR1
         4 000474   300000 236100                    LDQ     0,,PR3
         4 000475   777777 376007                    ANQ     -1,DL
         4 000476   200026 756100                    STQ     RESULT+1,,AUTO
         4 000477   000000 635010                    EAA     0,X0
         4 000500   000021 771000                    ARL     17
         4 000501   400000 236105                    LDQ     0,AL,PR4
         4 000502   000032 376000 xsym               ANQ     B_VECTNIL+26
         4 000503   200026 036100                    ADLQ    RESULT+1,,AUTO
         4 000504   300000 552134                    STBQ    0,'34'O,PR3

      770     5794    5                          PINCRW ( OU$ -> OU_ENTRY.SECT$,
      771     5795    5                          TEMP$ -> B$EXST.OU.SECTNUM *
      772     5796    5                          SIZEW ( B$FEP_SECTION )) ->
      773     5797    5                          B$FEP_SECTION.ISADDR +
      774     5798    5                          TEMP$ -> B$EXST.OU.OFFSET;
      775     5799    5                       END;

   5799  4 000505   200021 236100                    LDQ     I,,AUTO
         4 000506   200022 116100                    CMPQ    TEMP,,AUTO
         4 000507   000457 602000 4                  TNC     s:5791
         4 000510   000560 710000 4                  TRA     s:5823

      776     5800    4               CASE ( %TYPVREBL );

      777     5801    4                   I = 0;

   5801  4 000511   200021 450100                    STZ     I,,AUTO

      778     5802    5                   DO WHILE ( I < TEMP );

   5802  4 000512   200021 236100                    LDQ     I,,AUTO
         4 000513   200022 116100                    CMPQ    TEMP,,AUTO
         4 000514   000560 603000 4                  TRC     s:5823

      779     5803    5                       TEMP$ = PINCRC ( VREBL$, I );

PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:140  
   5803  4 000515   200021 236100                    LDQ     I,,AUTO
         4 000516   000020 736000                    QLS     16
         4 000517   200014 036100                    ADLQ    VREBL$,,AUTO
         4 000520   200023 756100                    STQ     TEMP$,,AUTO

      780     5804    5                       IF TEMP$ -> B$VREBL.DATATYP >=

   5804  4 000521   200023 470500                    LDP0    TEMP$,,AUTO
         4 000522   000000 236100                    LDQ     0,,PR0
         4 000523   000374 376007                    ANQ     252,DL
         4 000524   000360 116007                    CMPQ    240,DL
         4 000525   000551 603000 4                  TRC     s:5818
         4 000526   000000 236100                    LDQ     0,,PR0
         4 000527   007400 316007                    CANQ    3840,DL
         4 000530   000551 600000 4                  TZE     s:5818

      781     5805    5                          %NULL_DATATYPE OR
      782     5806    5                          TEMP$ -> B$VREBL.ADDRTYP = 0
      783     5807    5                       THEN
      784     5808    5                           ;
      785     5809    6                       ELSE DO;

      786     5810    6                           TEMP$ -> B$VREBL.ADR6.B =

   5810  4 000531   000000 676100                    ERQ     0,,PR0
         4 000532   070000 376007                    ANQ     28672,DL
         4 000533   000000 656100                    ERSQ    0,,PR0

      787     5811    6                              TEMP$ -> B$VREBL.ADR.B;
      788     5812    6                           TEMP$ -> B$VREBL.ADR6.C =

   5812  4 000534   000000 236100                    LDQ     0,,PR0
         4 000535   000001 772000                    QRL     1
         4 000536   000000 676100                    ERQ     0,,PR0
         4 000537   100000 376007                    ANQ     32768,DL
         4 000540   000000 656100                    ERSQ    0,,PR0

PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:141  
      789     5813    6                              TEMP$ -> B$VREBL.ADR.C;
      790     5814    6                           TEMP$ -> B$VREBL.ADR6.W =

   5814  4 000541   000000 236100                    LDQ     0,,PR0
         4 000542   777777 376003                    ANQ     -1,DU
         4 000543   000002 772000                    QRL     2
         4 000544   000000 676100                    ERQ     0,,PR0
         4 000545   000034 376000 xsym               ANQ     B_VECTNIL+28
         4 000546   000000 656100                    ERSQ    0,,PR0

      791     5815    6                              TEMP$ -> B$VREBL.ADR.W;
      792     5816    6                           CALL LLC$EVALOPER;

   5816  4 000547   000742 701000 4                  TSX1    LLC$EVALOPER
         4 000550   000000 011000                    NOP     0

      793     5817    6                           END;

      794     5818    5                       I = I + SIZEC ( B$VREBL );

   5818  4 000551   200021 235100                    LDA     I,,AUTO
         4 000552   000024 035007                    ADLA    20,DL
         4 000553   200021 755100                    STA     I,,AUTO

      795     5819    5                       END;

   5819  4 000554   200021 236100                    LDQ     I,,AUTO
         4 000555   200022 116100                    CMPQ    TEMP,,AUTO
         4 000556   000515 602000 4                  TNC     s:5803
         4 000557   000560 710000 4                  TRA     s:5823

      796     5820    4               CASE ( %TYPDBGNAM );

      797     5821         /* Null - just write rcd into ru */
      798     5822    4                   END;

      799     5823    3               TEMP = TEMP - 1;
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:142  

   5823  4 000560   200022 235100                    LDA     TEMP,,AUTO
         4 000561   000001 135007                    SBLA    1,DL
         4 000562   200022 755100                    STA     TEMP,,AUTO

      800     5824
      801     5825
      802     5826         /* Write record into run unit */
      803     5827
      804     5828
      805     5829    3               B$DBGKEY.NODE = 0;

   5829  4 000563   000000 220003                    LDX0    0,DU
         4 000564   000000 440000 1                  SXL0    B$DBGKEY

      806     5830    3               B$DBGKEY.NPOINTER = NPOINTER;

   5830  4 000565   200017 721100                    LXL1    NPOINTER,,AUTO
         4 000566   000001 741000 1                  STX1    B$DBGKEY+1

      807     5831    3               B$DBGKEY.PAGE = B$OUKEY.PAGE;

   5831  4 000567   000003 236000 1                  LDQ     B$OUKEY+1
         4 000570   000001 552004 1                  STBQ    B$DBGKEY+1,'04'O

      808     5832    3               B$DBGKEY.TYPE = B$OUKEY.TYPE;

   5832  4 000571   000001 552010 1                  STBQ    B$DBGKEY+1,'10'O

      809     5833    3               CALL LLM$MON_SVC ( LL#WRITERU, DBG$, TEMP, B$DBGKEY )

   5833  4 000572   000006 236000 5                  LDQ     6
         4 000573   200031 756100                    STQ     RESULT+4,,AUTO
         4 000574   200022 630500                    EPPR0   TEMP,,AUTO
         4 000575   200030 450500                    STP0    RESULT+3,,AUTO
         4 000576   200016 631500                    EPPR1   DBG$,,AUTO
         4 000577   200027 451500                    STP1    RESULT+2,,AUTO
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:143  
         4 000600   000007 236000 5                  LDQ     7
         4 000601   200026 756100                    STQ     RESULT+1,,AUTO
         4 000602   200026 630500                    EPPR0   RESULT+1,,AUTO
         4 000603   000022 631400 xsym               EPPR1   B_VECTNIL+18
         4 000604   000000 701000 xent               TSX1    LLM$MON_SVC
         4 000605   000707 702000 4                  TSX2    ABORT

      810     5834    3                  ALTRET ( ABORT );
      811     5835    3               CALL LLM$MON_SVC ( LL#RDEFSQ, DBG$, BOUND, B$OUKEY )

   5835  4 000606   000001 236000 5                  LDQ     1
         4 000607   200031 756100                    STQ     RESULT+4,,AUTO
         4 000610   200020 630500                    EPPR0   BOUND,,AUTO
         4 000611   200030 450500                    STP0    RESULT+3,,AUTO
         4 000612   200016 631500                    EPPR1   DBG$,,AUTO
         4 000613   200027 451500                    STP1    RESULT+2,,AUTO
         4 000614   000011 236000 5                  LDQ     9
         4 000615   200026 756100                    STQ     RESULT+1,,AUTO
         4 000616   200026 630500                    EPPR0   RESULT+1,,AUTO
         4 000617   000022 631400 xsym               EPPR1   B_VECTNIL+18
         4 000620   000000 701000 xent               TSX1    LLM$MON_SVC
         4 000621   000632 702000 4                  TSX2    NO_SCHEMA

      812     5836    3                  ALTRET ( NO_SCHEMA );
      813     5837    3               END;

   5837  4 000622   200003 470500                    LDP0    @OU$,,AUTO
         4 000623   000000 471500                    LDP1    0,,PR0
         4 000624   100013 473500                    LDP3    11,,PR1
         4 000625   000002 235000 1                  LDA     B$OUKEY
         4 000626   000003 236000 1                  LDQ     B$OUKEY+1
         4 000627   000022 773000                    LRL     18
         4 000630   300000 116100                    CMPQ    0,,PR3
         4 000631   000373 600000 4                  TZE     s:5773

      814     5838
      815     5839    2   NO_SCHEMA:
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:144  
      816     5840    2           RETURN;

   5840  4 000632   000000 702200 xent  NO_SCHEMA    TSX2  ! X66_ARET

      817     5841    2           END;
      818     5842
      819     5843    1   OH_MY_GOD_NO_MEMORY:
      820     5844    1       LL_DOBUF = 'A **** Can''t get any more memory - FEPLINK aborting';

   5844  4 000633   040000 100400       OH_MY_GOD_N* MLR     fill='040'O
         4 000634   000044 000063 3                  ADSC9   36                       cn=0,n=51
         4 000635   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      821     5845    1       CALL LLM$MON_SVC (LL#WRITEDO);

   5845  4 000636   000003 630400 5                  EPPR0   3
         4 000637   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000640   000000 701000 xent               TSX1    LLM$MON_SVC
         4 000641   000000 011000                    NOP     0

      822     5846    1       CALL LLM$MON_SVC (LL#ERR);

   5846  4 000642   000015 630400 5                  EPPR0   13
         4 000643   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000644   000000 701000 xent               TSX1    LLM$MON_SVC
         4 000645   000000 011000                    NOP     0

      823     5847    1   OH_MY_GOD:
      824     5848    1       LL_DOBUF = 'A **** Logical block record contains invalid information ****';

   5848  4 000646   040000 100400       OH_MY_GOD    MLR     fill='040'O
         4 000647   000061 000075 3                  ADSC9   49                       cn=0,n=61
         4 000650   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      825     5849    1       CALL LLM$MON_SVC ( LL#WRITEDO );

   5849  4 000651   000003 630400 5                  EPPR0   3
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:145  
         4 000652   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000653   000000 701000 xent               TSX1    LLM$MON_SVC
         4 000654   000000 011000                    NOP     0

      826     5850    1       LL_DOBUF = 'A      Altret taken from M$READ while processing';

   5850  4 000655   040000 100400                    MLR     fill='040'O
         4 000656   000101 000060 3                  ADSC9   65                       cn=0,n=48
         4 000657   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      827     5851    1       CALL LLM$MON_SVC ( LL#WRITEDO );

   5851  4 000660   000003 630400 5                  EPPR0   3
         4 000661   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000662   000000 701000 xent               TSX1    LLM$MON_SVC
         4 000663   000000 011000                    NOP     0

      828     5852    1       CALL INSERT (LL_DOBUF, 0, ,

   5852  4 000664   200003 470500                    LDP0    @OU$,,AUTO
         4 000665   000000 471500                    LDP1    0,,PR0
         4 000666   100015 236100                    LDQ     13,,PR1
         4 000667   000033 772000                    QRL     27
         4 000670   040000 100400                    MLR     fill='040'O
         4 000671   000115 000023 3                  ADSC9   77                       cn=0,n=19
         4 000672   000000 000023 xsym               ADSC9   LL_DOBUF                 cn=0,n=19
         4 000673   000000 620006                    EAX0    0,QL
         4 000674   040000 100540                    MLR     fill='040'O
         4 000675   100015 200010                    ADSC9   13,,PR1                  cn=1,n=*X0
         4 000676   000004 600135 xsym               ADSC9   LL_DOBUF+4               cn=3,n=93

      829     5853    1          'A      object unit ',
      830     5854    1          OU$ -> OU_ENTRY.OUNAME.TEXT );
      831     5855    1       CALL LLM$MON_SVC (LL#WRITEDO);

   5855  4 000677   000003 630400 5                  EPPR0   3
         4 000700   000017 631400 xsym               EPPR1   B_VECTNIL+15
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:146  
         4 000701   000000 701000 xent               TSX1    LLM$MON_SVC
         4 000702   000000 011000                    NOP     0

      832     5856    1       CALL LLM$MON_SVC (LL#ERR);

   5856  4 000703   000015 630400 5                  EPPR0   13
         4 000704   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000705   000000 701000 xent               TSX1    LLM$MON_SVC
         4 000706   000000 011000                    NOP     0

      833     5857
      834     5858    1   ABORT:
      835     5859    1       LL_DOBUF = 'A **** Altret from M$WRITE while processing debug schema ****';

   5859  4 000707   040000 100400       ABORT        MLR     fill='040'O
         4 000710   000122 000075 3                  ADSC9   82                       cn=0,n=61
         4 000711   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      836     5860    1       CALL LLM$MON_SVC ( LL#WRITEDO );

   5860  4 000712   000003 630400 5                  EPPR0   3
         4 000713   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000714   000000 701000 xent               TSX1    LLM$MON_SVC
         4 000715   000000 011000                    NOP     0

      837     5861    1       CALL INSERT ( LL_DOBUF, 0, ,

   5861  4 000716   200003 470500                    LDP0    @OU$,,AUTO
         4 000717   000000 471500                    LDP1    0,,PR0
         4 000720   100015 236100                    LDQ     13,,PR1
         4 000721   000033 772000                    QRL     27
         4 000722   040000 100400                    MLR     fill='040'O
         4 000723   000142 000066 3                  ADSC9   98                       cn=0,n=54
         4 000724   000000 000066 xsym               ADSC9   LL_DOBUF                 cn=0,n=54
         4 000725   000000 620006                    EAX0    0,QL
         4 000726   040000 100540                    MLR     fill='040'O
         4 000727   100015 200010                    ADSC9   13,,PR1                  cn=1,n=*X0
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:147  
         4 000730   000015 400072 xsym               ADSC9   LL_DOBUF+13              cn=2,n=58

      838     5862    1          'A      The error occured while processing object unit ',
      839     5863    1          OU$ -> OU_ENTRY.OUNAME.TEXT );
      840     5864    1       CALL LLM$MON_SVC ( LL#WRITEDO );

   5864  4 000731   000003 630400 5                  EPPR0   3
         4 000732   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000733   000000 701000 xent               TSX1    LLM$MON_SVC
         4 000734   000000 011000                    NOP     0

      841     5865    1       CALL LLM$MON_SVC ( LL#ERR );

   5865  4 000735   000015 630400 5                  EPPR0   13
         4 000736   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000737   000000 701000 xent               TSX1    LLM$MON_SVC
         4 000740   000000 011000                    NOP     0
         4 000741   001111 710000 4                  TRA     s:5942

      842     5866        %EJECT;
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:148  
      843     5867    1   LLC$EVALOPER: PROC;

   5867  4 000742   200024 741300       LLC$EVALOPER STX1  ! TEMP$+1,,AUTO

      844     5868
      845     5869    2   DCL LL_WORD UBIN WORD BASED ALIGNED;
      846     5870    2   DCL RESULT UBIN WORD;
      847     5871
      848     5872    3       DO CASE ( TEMP$ -> B$VREBL.ADDRTYP );

   5872  4 000743   200023 470500                    LDP0    TEMP$,,AUTO
         4 000744   000000 236100                    LDQ     0,,PR0
         4 000745   000010 772000                    QRL     8
         4 000746   000017 376007                    ANQ     15,DL
         4 000747   000010 116007                    CMPQ    8,DL
         4 000750   000752 602006 4                  TNC     s:5872+7,QL
         4 000751   000774 710000 4                  TRA     s:5881
         4 000752   000774 710000 4                  TRA     s:5881
         4 000753   000762 710000 4                  TRA     s:5874
         4 000754   000774 710000 4                  TRA     s:5881
         4 000755   000774 710000 4                  TRA     s:5881
         4 000756   000766 710000 4                  TRA     s:5876
         4 000757   000774 710000 4                  TRA     s:5881
         4 000760   000774 710000 4                  TRA     s:5881
         4 000761   000770 710000 4                  TRA     s:5879

      849     5873    3       CASE ( 1 ); /* Static - Relocate ADR6.W */

      850     5874    3           RESULT = TEMP$ -> B$VREBL.ADR6.W;

   5874  4 000762   000000 236100                    LDQ     0,,PR0
         4 000763   000020 772000                    QRL     16
         4 000764   200025 756100                    STQ     RESULT,,AUTO
         4 000765   000775 710000 4                  TRA     s:5883

      851     5875    3       CASE ( 4 ); /* DCB - OPERAND is SYMREF#, put DCB# in IMPTR; */

PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:149  
      852     5876    3           RESULT = 0;

   5876  4 000766   200025 450100                    STZ     RESULT,,AUTO

      853     5877    3           GOTO OPERSREF;

   5877  4 000767   001030 710000 4                  TRA     OPERSREF

      854     5878    3       CASE ( 7 ); /* Static parm - Relocate IMPTR */

      855     5879    3           RESULT = TEMP$ -> B$VREBL.IMPTR;

   5879  4 000770   000002 236100                    LDQ     2,,PR0
         4 000771   000022 732000                    QRS     18
         4 000772   200025 756100                    STQ     RESULT,,AUTO
         4 000773   000775 710000 4                  TRA     s:5883

      856     5880    3       CASE (ELSE);

      857     5881    3           RETURN;

   5881  4 000774   000001 702211                    TSX2  ! 1,X1

      858     5882    3           END;

      859     5883    3       DO CASE ( TEMP$ -> B$VREBL.OPNDTYP );

   5883  4 000775   000001 720100                    LXL0    1,,PR0
         4 000776   000017 360003                    ANX0    15,DU
         4 000777   000005 100003                    CMPX0   5,DU
         4 001000   001002 602010 4                  TNC     s:5883+5,X0
         4 001001   001040 710000 4                  TRA     s:5930
         4 001002   001040 710000 4                  TRA     s:5930
         4 001003   001007 710000 4                  TRA     s:5890
         4 001004   001022 710000 4                  TRA     s:5901
         4 001005   001030 710000 4                  TRA     OPERSREF
         4 001006   001037 710000 4                  TRA     s:5923
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:150  

      860     5884    3       CASE ( %OPERSECT );

      861     5885
      862     5886         /*
      863     5887            Operand is an offset from a control section.
      864     5888         */
      865     5889
      866     5890    3           RESULT =

   5890  4 001007   200003 471500                    LDP1    @OU$,,AUTO
         4 001010   100000 473500                    LDP3    0,,PR1
         4 001011   000002 722100                    LXL2    2,,PR0
         4 001012   300003 474500                    LDP4    3,,PR3
         4 001013   000000 635012                    EAA     0,X2
         4 001014   000021 771000                    ARL     17
         4 001015   400000 236105                    LDQ     0,AL,PR4
         4 001016   000032 376000 xsym               ANQ     B_VECTNIL+26
         4 001017   200025 036100                    ADLQ    RESULT,,AUTO
         4 001020   200025 756100                    STQ     RESULT,,AUTO
         4 001021   001073 710000 4                  TRA     s:5939

      867     5891    3              PINCRW ( OU$ -> OU_ENTRY.SECT$,
      868     5892    3              TEMP$ -> B$VREBL.OPERAND * 2 )
      869     5893    3              -> B$FEP_SECTION.ISADDR +
      870     5894    3              RESULT;
      871     5895    3       CASE ( %OPEREREF );

      872     5896
      873     5897         /*
      874     5898            Operand is an offset from an ENTREF.
      875     5899         */
      876     5900
      877     5901    3           RESULT =

   5901  4 001022   000002 722100                    LXL2    2,,PR0
         4 001023   200005 471500                    LDP1    @ENTREF$,,AUTO
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:151  
         4 001024   100000 473500                    LDP3    0,,PR1
         4 001025   300000 036112                    ADLQ    0,X2,PR3
         4 001026   200025 756100                    STQ     RESULT,,AUTO
         4 001027   001073 710000 4                  TRA     s:5939

      878     5902    3              PINCRW ( ENTREF$,
      879     5903    3              TEMP$ -> B$VREBL.OPERAND )
      880     5904    3              -> LL_WORD + RESULT;
      881     5905    3       CASE ( %OPERSREF );

   5902  4 001030                       OPERSREF     null
      882     5906
      883     5907         /*
      884     5908            Operand is an offset from an SYMREF.
      885     5909         */
      886     5910
      887     5911    3   OPERSREF:;
      888     5912    3           RESULT =

   5912  4 001030   000002 720100                    LXL0    2,,PR0
         4 001031   200006 471500                    LDP1    @SYMREF$,,AUTO
         4 001032   100000 473500                    LDP3    0,,PR1
         4 001033   300000 236110                    LDQ     0,X0,PR3
         4 001034   200025 036100                    ADLQ    RESULT,,AUTO
         4 001035   200025 756100                    STQ     RESULT,,AUTO
         4 001036   001073 710000 4                  TRA     s:5939

      889     5913    3              PINCRW ( SYMREF$,
      890     5914    3              TEMP$ -> B$VREBL.OPERAND )
      891     5915    3              -> LL_WORD + RESULT;
      892     5916    3       CASE ( %OPERCONST );

      893     5917
      894     5918         /*
      895     5919            Operand is a constant.
      896     5920         */
      897     5921
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:152  
      898     5922         /* Do nothing. */
      899     5923    3           RETURN;

   5923  4 001037   000001 702211                    TSX2  ! 1,X1

      900     5924    3       CASE ( ELSE );

      901     5925
      902     5926         /*
      903     5927            Invalid operand .... yell
      904     5928         */
      905     5929
      906     5930    3           LL_DOBUF = 'A **** Invalid operand type in variables record ****';

   5930  4 001040   040000 100400                    MLR     fill='040'O
         4 001041   000160 000064 3                  ADSC9   112                      cn=0,n=52
         4 001042   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      907     5931    3           CALL LLM$MON_SVC ( LL#WRITEDO );

   5931  4 001043   000003 630400 5                  EPPR0   3
         4 001044   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 001045   000000 701000 xent               TSX1    LLM$MON_SVC
         4 001046   000000 011000                    NOP     0

      908     5932    3           CALL INSERT ( LL_DOBUF, 0, ,

   5932  4 001047   200003 470500                    LDP0    @OU$,,AUTO
         4 001050   000000 471500                    LDP1    0,,PR0
         4 001051   100015 236100                    LDQ     13,,PR1
         4 001052   000033 772000                    QRL     27
         4 001053   040000 100400                    MLR     fill='040'O
         4 001054   000142 000066 3                  ADSC9   98                       cn=0,n=54
         4 001055   000000 000066 xsym               ADSC9   LL_DOBUF                 cn=0,n=54
         4 001056   000000 620006                    EAX0    0,QL
         4 001057   040000 100540                    MLR     fill='040'O
         4 001060   100015 200010                    ADSC9   13,,PR1                  cn=1,n=*X0
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:153  
         4 001061   000015 400072 xsym               ADSC9   LL_DOBUF+13              cn=2,n=58

      909     5933    3              'A      The error occured while processing object unit ',
      910     5934    3              OU$ -> OU_ENTRY.OUNAME.TEXT );
      911     5935    3           CALL LLM$MON_SVC ( LL#WRITEDO );

   5935  4 001062   000003 630400 5                  EPPR0   3
         4 001063   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 001064   000000 701000 xent               TSX1    LLM$MON_SVC
         4 001065   000000 011000                    NOP     0

      912     5936    3           SEV = 16;

   5936  4 001066   000020 235007                    LDA     16,DL
         4 001067   200004 470500                    LDP0    @SEV,,AUTO
         4 001070   000000 755100                    STA     0,,PR0

      913     5937    3           RETURN;

   5937  4 001071   200024 221300                    LDX1  ! TEMP$+1,,AUTO
         4 001072   000001 702211                    TSX2  ! 1,X1

      914     5938    3           END;

      915     5939    2       IF TEMP$ -> B$VREBL.ADDRTYP = 1 THEN TEMP$ -> B$VREBL.ADR6.W = RESULT;

   5939  4 001073   000000 236100                    LDQ     0,,PR0
         4 001074   007400 376007                    ANQ     3840,DL
         4 001075   000400 116007                    CMPQ    256,DL
         4 001076   001105 601000 4                  TNZ     s:5940

   5939  4 001077   200025 236100                    LDQ     RESULT,,AUTO
         4 001100   000020 736000                    QLS     16
         4 001101   000000 676100                    ERQ     0,,PR0
         4 001102   000034 376000 xsym               ANQ     B_VECTNIL+28
         4 001103   000000 656100                    ERSQ    0,,PR0
         4 001104   001107 710000 4                  TRA     s:5941
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:154  

      916     5940    2       ELSE TEMP$ -> B$VREBL.IMPTR = RESULT;

   5940  4 001105   200025 720100                    LXL0    RESULT,,AUTO
         4 001106   000002 740100                    STX0    2,,PR0

      917     5941    2   END LLC$EVALOPER;

   5941  4 001107   200024 221300                    LDX1  ! TEMP$+1,,AUTO
         4 001110   000001 702211                    TSX2  ! 1,X1

      918     5942    1   END LLC$SCHEMA;

   5942  4 001111   000000 702200 xent               TSX2  ! X66_ARET

PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:155  
--  Include file information  --

   LL_MACS_C.:E05TOU  is referenced.
   LL_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   LL_SUBS_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B_SEGIDS_C.:E05TOU  is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure LLC$SCHEMA.
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:156  

 **** Variables and constants ****

  ****  Section 001  Data  LLC$SCHEMA

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(72)    r     1 B$DBGKEY                   2-0-0/w STRC(72)    r     1 B$OUKEY
     6-0-0/d STRC(216)   r     1 GETBUF                     4-0-0/w SBIN        r     1 NPAG
    14-0-0/d STRC(72)    r     1 VLP_VECTOR

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     5-0-0/w PTR         r     1 @ENTREF$                   3-0-0/w PTR         r     1 @OU$
     4-0-0/w PTR         r     1 @SEV                       6-0-0/w PTR         r     1 @SYMREF$
    20-0-0/w UBIN        r     1 BOUND                     16-0-0/w PTR         r     1 DBG$
    *0-0-0/w PTR         r     1 ENTREF$                   13-0-0/w PTR         r     1 EXST$
    21-0-0/w UBIN        r     1 I                         12-0-0/w PTR         r     1 INTNTRY$
    10-0-0/w PTR         r     1 LOGBLK$                   11-0-0/w UBIN        r     1 LOGBLK_SIZE
    15-0-0/w PTR         r     1 NAME$                     17-0-0/w SBIN        r     1 NPOINTER
    *0-0-0/w PTR         r     1 OU$                       25-0-0/w UBIN        r     1 RESULT
    *0-0-0/w UBIN        r     1 SEV                       *0-0-0/w PTR         r     1 SYMREF$
    22-0-0/w UBIN        r     1 TEMP                      23-0-0/w PTR         r     1 TEMP$
    14-0-0/w PTR         r     1 VREBL$

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w CHAR(112)   r     1 LL_DOBUF                   0-0-0/w STRC        r     1 LL_FLAGS

  ****  BASED and DCB variables  ****

PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:157  
  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(72)    r     1 B$EDEF                     0-0-0/w STRC(108)   r     1 B$EXST
     0-0-0/w STRC(72)    r     1 B$FEP_SECTION              0-0-0/w STRC(72)    r     1 B$INTNTRY
     0-0-0/w STRC(144)   r     1 B$LBNTRY0                  0-0-0/w STRC(144)   r     1 B$LBNTRY1
     0-0-0/w STRC(1044)  r     1 B$OUHEAD                   0-0-0/w STRC(180)   r     1 B$VREBL
     0-0-0/w UBIN        r     1 LL_WORD                    0-0-0/w ASTR(504)   r     1 OU_ENTRY


   Procedure LLC$SCHEMA requires 586 words for executable code.
   Procedure LLC$SCHEMA requires 28 words of local(AUTO) storage.

    No errors detected in file LLC$PASS2.:E05TSI    .
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:158  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:159  
          MINI XREF LISTING

ABORT
      5859**LABEL    5753--CALLALT  5833--CALLALT
B$DBGKEY
      5376**DCL      5753<>CALL     5833<>CALL
B$DBGKEY.NODE
      5381**DCL      5748<<ASSIGN   5829<<ASSIGN
B$DBGKEY.NPOINTER
      5383**DCL      5749<<ASSIGN   5830<<ASSIGN
B$DBGKEY.PAGE
      5394**DCL      5751<<ASSIGN   5831<<ASSIGN
B$DBGKEY.TYPE
      5387**DCL      5750<<ASSIGN   5832<<ASSIGN
B$EDEF.NPOINTER
      4605**DCL      5724>>ASSIGN
B$EDEF.OU
      4597**DCL      4603--REDEF
B$EDEF.PRI
      4608**DCL      5722>>IF
B$EXST
      4810**DCL      5792--ASSIGN
B$EXST.ISADDR
      4825**DCL      5793<<ASSIGN
B$EXST.OU
      4819**DCL      4825--REDEF
B$EXST.OU.OFFSET
      4823**DCL      5793>>ASSIGN
B$EXST.OU.SECTNUM
      4820**DCL      5793>>ASSIGN
B$FEP_SECTION
      4650**DCL      5793--ASSIGN
B$FEP_SECTION.ISADDR
      4679**DCL      5743>>ASSIGN   5782>>ASSIGN   5793>>ASSIGN   5890>>ASSIGN
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:160  
B$INTNTRY
      4752**DCL      5781--ASSIGN
B$INTNTRY.ISADDR
      4763**DCL      5782<<ASSIGN
B$INTNTRY.OU
      4756**DCL      4763--REDEF
B$INTNTRY.OU.OFFSET
      4760**DCL      5782>>ASSIGN
B$INTNTRY.OU.SECTNUM
      4757**DCL      5782>>ASSIGN
B$LBNTRY0
      4689**DCL      5705--ASSIGN
B$LBNTRY0.FRAME
      4720**DCL      5743<<ASSIGN
B$LBNTRY0.NO_AUTO
      4715**DCL      4720--REDEF
B$LBNTRY0.NO_AUTO.OFFSET
      4719**DCL      5743>>ASSIGN
B$LBNTRY0.NO_AUTO.OPERAND
      4718**DCL      5740>>ASSIGN
B$LBNTRY0.NO_AUTO.OPNDTYP
      4716**DCL      5739>>IF
B$LBNTRY0.VERSION
      4704**DCL      4706--REDEF
B$LBNTRY1.INTRYPSIZ
      4747**DCL      5706>>ASSIGN
B$LBNTRY1.NAMPSIZ
      4729**DCL      5706>>ASSIGN
B$LBNTRY1.STMNTPSIZ
      4735**DCL      5706>>ASSIGN
B$LBNTRY1.VREBLPSIZ
      4741**DCL      5706>>ASSIGN
B$OUHEAD.EDEFSIZ
      5571**DCL      5718>>ASSIGN
B$OUHEAD.LOGBLKSIZ
      5552**DCL      5683>>ASSIGN   5752>>ASSIGN
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:161  
B$OUHEAD.UTS
      5501**DCL      5698>>ASSIGN   5772>>DOWHILE
B$OUHEAD.VERSION
      5518**DCL      5520--REDEF
B$OUKEY
      5404**DCL      5702<>CALL     5770<>CALL     5835<>CALL
B$OUKEY.KEYSIZ
      5405**DCL      5701<<ASSIGN
B$OUKEY.PAGE
      5431**DCL      5700<<ASSIGN   5751>>ASSIGN   5831>>ASSIGN
B$OUKEY.TYPE
      5413**DCL      5699<<ASSIGN   5774>>DOCASE   5832>>ASSIGN
B$OUKEY.UTS
      5410**DCL      5698<<ASSIGN   5772>>DOWHILE
B$VREBL
      4917**DCL      5818--ASSIGN
B$VREBL.ADDRTYP
      4944**DCL      5804>>IF       5872>>DOCASE   5939>>IF
B$VREBL.ADR
      4918**DCL      4930--REDEF
B$VREBL.ADR.B
      4928**DCL      5810>>ASSIGN
B$VREBL.ADR.C
      4926**DCL      5812>>ASSIGN
B$VREBL.ADR.W
      4924**DCL      5814>>ASSIGN
B$VREBL.ADR6.B
      4942**DCL      5810<<ASSIGN
B$VREBL.ADR6.C
      4940**DCL      5812<<ASSIGN
B$VREBL.ADR6.W
      4938**DCL      5814<<ASSIGN   5874>>ASSIGN   5939<<ASSIGN
B$VREBL.DATATYP
      4968**DCL      5804>>IF
B$VREBL.IMPTR
      5035**DCL      5879>>ASSIGN   5940<<ASSIGN
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:162  
B$VREBL.OPERAND
      5048**DCL      5890>>ASSIGN   5901>>ASSIGN   5912>>ASSIGN
B$VREBL.OPNDTYP
      5027**DCL      5883>>DOCASE
B$VREBLC.MULT_61
      5104**DCL      5128--REDEF
B$VREBLCA.ELEMENTS
      5191**DCL      5194--REDEF
B$VREBLCA.OFFSET
      5167**DCL      5171--REDEF
BOUND
      5453**DCL      5711<<ASSIGN   5770<>CALL     5835<>CALL
DBG$
      5451**DCL      5695<<ASSIGN   5833<>CALL     5835<>CALL
ENTREF$
      5442**DCL         7--PROC     5901>>ASSIGN
EXST$
      5448**DCL      5692<<ASSIGN   5767<<ASSIGN   5791>>ASSIGN
GETBUF
      5476**DCL      5686<>CALL     5713<>CALL
GETBUF.V
      5476**DCL      5476--DCLINIT
I
      5454**DCL      5720<<DOINDEX  5721>>ASSIGN   5723<<ASSIGN   5778<<ASSIGN   5779>>DOWHILE  5780>>ASSIGN
      5781<<ASSIGN   5781>>ASSIGN   5789<<ASSIGN   5790>>DOWHILE  5791>>ASSIGN   5792<<ASSIGN   5792>>ASSIGN
      5801<<ASSIGN   5802>>DOWHILE  5803>>ASSIGN   5818<<ASSIGN   5818>>ASSIGN
INTNTRY$
      5447**DCL      5691<<ASSIGN   5768<<ASSIGN   5770<>CALL     5780>>ASSIGN
LLC$EVALOPER
      5867**PROC     5816--CALL
LLM$MON_SVC
      5462**DCL-ENT  5702--CALL     5729--CALL     5734--CALL     5736--CALL     5753--CALL     5770--CALL
      5773--CALL     5833--CALL     5835--CALL     5845--CALL     5846--CALL     5849--CALL     5851--CALL
      5855--CALL     5856--CALL     5860--CALL     5864--CALL     5865--CALL     5931--CALL     5935--CALL
LL_DOBUF
      4196**DCL      5728<<ASSIGN   5730<<CALLBLT  5735<<ASSIGN   5844<<ASSIGN   5848<<ASSIGN   5850<<ASSIGN
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:163  
      5852<<CALLBLT  5859<<ASSIGN   5861<<CALLBLT  5930<<ASSIGN   5932<<CALLBLT
LL_FLAGS.NODEBUG#
      4197**DCL      5671>>IF
LL_WORD IN PROCEDURE LLC$EVALOPER
      5869**DCL      5901>>ASSIGN   5912>>ASSIGN
LOGBLK$
      5445**DCL      5690<<ASSIGN   5691>>ASSIGN   5692>>ASSIGN   5693>>ASSIGN   5694>>ASSIGN   5695>>ASSIGN
      5702<>CALL     5705>>ASSIGN   5739>>IF       5740>>ASSIGN   5743>>ASSIGN   5743>>ASSIGN   5753<>CALL
      5766>>ASSIGN   5767>>ASSIGN   5768>>ASSIGN   5769>>ASSIGN
LOGBLK_SIZE
      5446**DCL      5696<<ASSIGN   5702>>CALL
M$GDS
      4022**DCL-ENT  5686--CALL     5713--CALL
NAME$
      5450**DCL      5694<<ASSIGN   5769<<ASSIGN
NO_SCHEMA
      5840**LABEL    5702--CALLALT  5835--CALLALT
NPAG
      5458**DCL      5685>>DOWHILE  5687<<ASSIGN   5687>>ASSIGN   5712>>DOWHILE  5714<<ASSIGN   5714>>ASSIGN
NPOINTER
      5452**DCL      5719<<ASSIGN   5724<<ASSIGN   5727>>IF       5749>>ASSIGN   5830>>ASSIGN
OH_MY_GOD
      5848**LABEL    5770--CALLALT
OH_MY_GOD_NO_MEMORY
      5844**LABEL    5686--CALLALT  5713--CALLALT
OPERSREF IN PROCEDURE LLC$EVALOPER
      5902**LABEL    5877--GOTO
OU$
      5440**DCL         7--PROC     5683>>ASSIGN   5698>>ASSIGN   5717>>ASSIGN   5718>>ASSIGN   5730>>CALLBLT
      5730>>CALLBLT  5740>>ASSIGN   5752>>ASSIGN   5772>>DOWHILE  5782>>ASSIGN   5793>>ASSIGN   5852>>CALLBLT
      5852>>CALLBLT  5861>>CALLBLT  5861>>CALLBLT  5890>>ASSIGN   5932>>CALLBLT  5932>>CALLBLT
OU_ENTRY.ENTDEF$
      5645**DCL      5717>>ASSIGN
OU_ENTRY.HEAD$
      5655**DCL      5683>>ASSIGN   5698>>ASSIGN   5718>>ASSIGN   5752>>ASSIGN   5772>>DOWHILE
OU_ENTRY.OUNAME.SIZE
PL6.E3A0      #002=LLC$SCHEMA File=LLC$PASS2.:E05TSI                             WED 07/30/97 03:14 Page:164  
      5660**DCL      5662--IMP-SIZ  5730>>CALLBLT  5852>>CALLBLT  5861>>CALLBLT  5932>>CALLBLT
OU_ENTRY.OUNAME.TEXT
      5662**DCL      5730>>CALLBLT  5852>>CALLBLT  5861>>CALLBLT  5932>>CALLBLT
OU_ENTRY.SECT$
      5639**DCL      5740>>ASSIGN   5782>>ASSIGN   5793>>ASSIGN   5890>>ASSIGN
RESULT IN PROCEDURE LLC$EVALOPER
      5870**DCL      5874<<ASSIGN   5876<<ASSIGN   5879<<ASSIGN   5890<<ASSIGN   5890>>ASSIGN   5901<<ASSIGN
      5901>>ASSIGN   5912<<ASSIGN   5912>>ASSIGN   5939>>ASSIGN   5940>>ASSIGN
SEV
      5441**DCL         7--PROC     5670<<ASSIGN   5936<<ASSIGN
SYMREF$
      5443**DCL         7--PROC     5912>>ASSIGN
TEMP
      5456**DCL      5683<<ASSIGN   5684>>IF       5685>>DOWHILE  5696>>ASSIGN   5706<<ASSIGN   5706>>ASSIGN
      5711>>ASSIGN   5712>>DOWHILE  5718<<ASSIGN   5720>>DOINDEX  5723>>ASSIGN   5752<<ASSIGN   5753<>CALL
      5773<>CALL     5779>>DOWHILE  5790>>DOWHILE  5802>>DOWHILE  5823<<ASSIGN   5823>>ASSIGN   5833<>CALL
TEMP$
      5457**DCL      5705<<ASSIGN   5706>>ASSIGN   5706>>ASSIGN   5706>>ASSIGN   5706>>ASSIGN   5717<<ASSIGN
      5721<<ASSIGN   5721>>ASSIGN   5722>>IF       5724>>ASSIGN   5740<<ASSIGN   5743>>ASSIGN   5780<<ASSIGN
      5782>>ASSIGN   5782>>ASSIGN   5782>>ASSIGN   5791<<ASSIGN   5793>>ASSIGN   5793>>ASSIGN   5793>>ASSIGN
      5803<<ASSIGN   5804>>IF       5804>>IF       5810>>ASSIGN   5810>>ASSIGN   5812>>ASSIGN   5812>>ASSIGN
      5814>>ASSIGN   5814>>ASSIGN   5872>>DOCASE   5874>>ASSIGN   5879>>ASSIGN   5883>>DOCASE   5890>>ASSIGN
      5901>>ASSIGN   5912>>ASSIGN   5939>>IF       5939>>ASSIGN   5940>>ASSIGN
VLP_VECTOR
      5494**DCL      5476--DCLINIT
VLP_VECTOR.PTR$
      5496**DCL      5690>>ASSIGN
VLP_VECTOR.W2
      5495**DCL      5496--REDEF
VREBL$
      5449**DCL      5693<<ASSIGN   5766<<ASSIGN   5803>>ASSIGN

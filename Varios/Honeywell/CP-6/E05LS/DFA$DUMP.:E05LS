VERSION E05

PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:1    
        1        1        /*M* DFA$DUMP  - DUMP DO ROUTINE */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* CCC,DMR,PLM=5,IND=5,CSU=3,EXM=0,ECU=3,MOC,DCI=5,CRT=5 */
        8        8        %SET LISTSUB='1'B;
        9        9        /*P* NAME: DFA$DUMP
       10       10             PURPOSE:  To provide the dump function for the DUMP commands.
       11       11        */
       12       12        /*D* NAME: DFA$DUMP
       13       13             DESCRIPTION: This routine is called by DDA$DO to perform the DUMP
       14       14                  directive.  The data_descriptor is decoded, and the optional
       15       15                  output destination, page eject, and heading are output.
       16       16        */
       17       17        DFA$DUMP: PROC ALTRET;
       18       18                                                /**/
       19       19    1   DCL PADDRESS UBIN;
       20       20    1   DCL PSEG UBIN;
       21       21    1   DCL PDESC# UBIN;
       22       22    1   DCL PNOT_IS BIT(1) ALIGNED;
       23       23    1   DCL PC_FLAG BIT(1) ALIGNED;
       24       24    1   DCL PNUM_WORDS UBIN;
       25       25    1   DCL ADDRESS SBIN;
       26       26    1   DCL TEMP_S SBIN;
       27       27    1   DCL I UBIN;
       28       28    1   DCL TEMP UBIN;
       29       29    1   DCL MAX_CELL SBIN;
       30       30    1   DCL MAX_ADDRESS UBIN;
       31       31    1   DCL TEXT_LEN UBIN;
       32       32    1   DCL SEG UBIN;
       33       33    1   DCL DESC# UBIN;
       34       34    1   DCL NOT_IS BIT(1);
       35       35    1   DCL EXPR_OP BIT(1) ALIGNED;
       36       36    1   DCL NUM_WORDS UBIN;
       37       37    1   DCL SAVE_CALLED BIT(1);
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:2    
       38       38    1   DCL C_FLAG BIT(1);
       39       39    1   DCL H_FLAG BIT(1);
       40       40    1   DCL EB_FLAG BIT(1);
       41       41    1   DCL O_FLAG BIT(1);
       42       42    1   DCL LONG_FLAG BIT(1);
       43       43    1   DCL MUST_CALL_CLOSE BIT(1);
       44       44    1   DCL MISSING_PAGE_FLAG BIT(1);
       45       45    1   DCL VALUE UBIN;
       46       46    1   DCL 1 CACHE,
       47       47    1         2 SIZE UBIN WORD,
       48       48    1         2 OPS ( 0:15 ) UBIN WORD;
       49       49    1   DCL 1 CACHE_BOOK,
       50       50    1         2 SOURCE UBIN WORD,
       51       51    1         2 START_ADDR UBIN WORD,
       52       52    1         2 END_ADDR UBIN WORD;
       53       53        %EQU UNID = 1;
       54       54        %EQU RU = 2;
       55       55        %EQU MEM = 3;
       56       56    1   DCL SAVE_DCTX SBIN;
       57       57    1   DCL SAVE_WIDTH UBIN;
       58       58    1   DCL SAVE_ADDRESS UBIN;
       59       59    1   DCL SIZE UBIN;
       60       60    1   DCL OFFSET UBIN;
       61       61    1   DCL MAX_CELL_M_1 UBIN;
       62       62    1   DCL 1 DATA(0:15),
       63       63    1         2 * BIT(20) UNAL,
       64       64    1         2 VAL,
       65       65    1           3 L UBIN(8) UNAL,
       66       66    1           3 R UBIN(8) UNAL;
       67       67    1   DCL DATA_CHAR ( 0:31 ) UBIN(9) UNAL;
       68       68    1   DCL DATA_STR REDEF DATA_CHAR CHAR(32);
       69       69    1   DCL 1 SAVE_DATA(0:15),
       70       70    1         2 * BIT(20) UNAL,
       71       71    1         2 VAL,
       72       72    1           3 L UBIN(8) UNAL,
       73       73    1           3 R UBIN(8) UNAL;
       74       74    1   DCL SAVE_DATA_CHAR ( 0:31 ) UBIN(9) UNAL;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:3    
       75       75    1   DCL SAVE_DATA_STR REDEF SAVE_DATA_CHAR CHAR(32);
       76       76    1   DCL 1 SAVE_VALUE,
       77       77    1         2 * BIT(20) UNAL,
       78       78    1         2 VAL,
       79       79    1           3 L UBIN(8) UNAL,
       80       80    1           3 R UBIN(8) UNAL;
       81       81    1   DCL SAVE_VALUE_CHAR (0:1) UBIN(9) UNAL;
       82       82    1   DCL VALUE_STR REDEF SAVE_VALUE_CHAR CHAR(2);
       83       83    1   DCL OFFSET_SAVE SBIN;
       84       84    1   DCL BLANK UBIN;
       85       85    1   DCL J UBIN;
       86       86    1   DCL K UBIN;
       87       87    1   DCL L UBIN;
       88       88    1   DCL OUTPUT$ PTR;
       89       89    1   DCL SAME_COUNT UBIN;
       90       90    1   DCL CHECK_DUP BIT(1);
       91       91    1   DCL CHAR_HOLD CHAR(12);
       92       92
       93       93        %INCLUDE B$TABLES_C;
       94      201        %B$XL_ASC_DUMP(NAME=T_TABLE);
       95      205        %B$XL_EBC_DUMP(NAME=EBCDIC_XLATE_TABLE);
       96      209
       97      210    1   DCL OTEXT CHAR(12) BASED;
       98      211    1   DCL CHAR6 CHAR(6) BASED;
       99      212    1   DCL CHAR9 CHAR(SIZE) BASED;
      100      213    1   DCL CHAR32 CHAR(32) BASED;
      101      214    1   DCL 1 DUMP_HEADING BASED,
      102      215    1         2 LEN UBIN(9) UNAL,
      103      216    1         2 TEXT CHAR(TEXT_LEN);
      104      217        %INCLUDE DD$BASED;
      105     1520        %DUMP$CMD;
      106     1550        %INCLUDE DD_SUBS_C;
      107     1821        %INCLUDE DD$DITEM;
       12+    1924             %LIST;
       13+    1925    1        DCL SDD$ PTR;
       14+    1926    1        DCL ZITEM$ PTR;
       15+    1927    1        DCL SDD_L6$ PTR;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:4    
       16+    1928    1        DCL ZITEM_L6$ PTR;
      108     2502        %ZITEM;
      109     2574        %INCLUDE DD_ERR_C;
      110     2971        %INCLUDE XUH_MACRO_C;
      111     3055        %INCLUDE DD_SD_M;
      112     4391        %S_D;
      113     5709        %INCLUDE DD_PSUBS_C;
      114     6184        %INCLUDE CP_6;
      115     6265        %F$DCB;
      116     6322        %INCLUDE CP_6_SUBS;
      117     6862    1   DCL DCTX_LP UBIN SYMREF;
      118     6863    1   DCL DCTX_ME UBIN SYMREF;
      119     6864    1   DCL D_M$DO# UBIN SYMREF;
      120     6865    1   DCL D_XDELTA BIT(1) SYMREF;
      121     6866    1   DCL OUT_DEV UBIN SYMREF;
      122     6867    1   DCL ECHO_DEV UBIN SYMREF;
      123     6868    1   DCL DDK$EVAL ENTRY(6) ALTRET;
      124     6869    1   DCL DFK$EVAL ENTRY(8) ALTRET;
      125     6870    1   DCL DFK$GETMVAL ENTRY(6) ALTRET;
      126     6871    1   DCL DDK$GETMVAL ENTRY(5) ALTRET;
      127     6872    1   DCL DUL$GETMVAL ENTRY(5) ALTRET;
      128     6873    1   DCL DUU$GETMVAL ENTRY(6) ALTRET;
      129     6874    1   DCL DDS$IC2NODE ENTRY(2) ALTRET;
      130     6875    1   DCL DDA$DISPADR ENTRY(7) ALTRET;
      131     6876    1   DCL DDA$DISPFMT ENTRY(6) ALTRET;
      132     6877    1   DCL DDA$DUMP_DO ENTRY ALTRET;
      133     6878    1   DCL DFQ$READ_FD ENTRY(2) ALTRET;
      134     6879    1   DCL DDQ$WRITED ENTRY(2);
      135     6880    1   DCL DDR$BINOCT ENTRY(2) ALTRET;
      136     6881    1   DCL DDQ$WRTOFD ENTRY;
      137     6882    1   DCL DUA$OUTPUT ENTRY(4) ALTRET;
      138     6883    1   DCL DUA$CLOSEDUMP ENTRY ALTRET;
      139     6884    1   DCL DDR$BINTXT    ENTRY(4);
      140     6885    1   DCL DDB$BREAK ENTRY ALTRET;
      141     6886        %EJECT;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:5    
      142     6887    1        CACHE_BOOK.SOURCE = %UNID;
      143     6888    1        C_FLAG = '0'B;
      144     6889    1        NUM_WORDS = S_D.DO$->DUMP$CMD.NUM;
      145     6890    1        IF S_D.DO$ -> DUMP$CMD.LONG
      146     6891    1        THEN LONG_FLAG = '1'B;
      147     6892    1        ELSE LONG_FLAG = '0'B;
      148     6893
      149     6894    1        S_D.ERROR = 0;                     /* Clear error flag for later testing */
      150     6895    1        OUTPUT$ = ADDR(S_D.OUTPUT);
      151     6896    1        SAVE_CALLED = '0'B;
      152     6897    1        H_FLAG = '1'B;
      153     6898    1        O_FLAG = '0'B;
      154     6899    1        C_FLAG = '0'B;
      155     6900    1        EB_FLAG = '0'B;
      156     6901    1        MUST_CALL_CLOSE = '0'B;
      157     6902    1        MISSING_PAGE_FLAG = '0'B;
      158     6903
      159     6904                                                /* Set up output for udelta */
      160     6905
      161     6906    1        IF S_D.DO$->DUMP$CMD.DEST
      162     6907    2        THEN DO;
      163     6908    2             I = S_D.DO$->DUMP$CMD.DESTCODE;
      164     6909    2             CALL DUA$OUTPUT (S_D.DO$->DUMP$CMD.FID, I, S_D.DUMPDCB) ALTRET(
              6909                      CLEAN_RETURN);
      165     6910    2             MUST_CALL_CLOSE = '1'B;
      166     6911    2           END;
      167     6912    1        ELSE S_D.DUMPDCB = D_M$DO#;
      168     6913    1        SAVE_WIDTH = S_D.OUT_WIDTH;
      169     6914    1        IF DCBADDR(S_D.DUMPDCB)->F$DCB.ASN# = %DEVICE#
      170     6915    2        THEN DO;
      171     6916    2             IF DCBADDR(S_D.DUMPDCB)->F$DCB.WIDTH# = 0
      172     6917    2             THEN S_D.OUT_WIDTH = 80;
      173     6918    2             ELSE S_D.OUT_WIDTH = DCBADDR(S_D.DUMPDCB)->F$DCB.WIDTH#;
      174     6919    2           END;
      175     6920    1        ELSE S_D.OUT_WIDTH = 132;
      176     6921
      177     6922    1        S_D.DESC$ = S_D.D$;                /* Point to descriptor */
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:6    
      178     6923
      179     6924                                           /* Decode address descriptor and get 16 words
      180     6925                                              back in cache. */
      181     6926
      182     6927    1        IF S_D.RUM
      183     6928    2        THEN DO;
      184     6929    2             CALL DDK$EVAL ( ADDRESS, SEG, DESC#, NOT_IS ) ALTRET ( CLEAN_RETURN );
      185     6930    2             S_D.DUMP_HEAD = '0'B;
      186     6931    2             IF SEG = 7 AND
      187     6932    2               DESC# = 2
      188     6933    3             THEN DO;
      189     6934    3                  S_D.DO$ -> DUMP$CMD.FORMATCODE = 353;
      190     6935    3                  S_D.DO$ -> DUMP$CMD.FORMAT = '1'B;
      191     6936    3                  S_D.DUMP_HEAD = '1'B;
      192     6937    3                  CALL DDA$DUMP_DO ALTRET(OKAY);
      193     6938    3   OKAY:
      194     6939    3                  RETURN;
      195     6940    3                END;
      196     6941    2             CALL GET_L6WRD ( VALUE, %RU ) ALTRET ( L2 );
      197     6942    2           END;
      198     6943    2        ELSE DO;
      199     6944    2             ZITEM$ = S_D.D$;
      200     6945    2             IF ZITEM.ADDR_TYPE = %SPEC_ACODE AND
      201     6946    2               (ZITEM.SP.VS.ID = %O_RTN OR
      202     6947    2               ZITEM.SP.VS.ID = %I_RTN OR
      203     6948    2               ZITEM.SP.VS.ID = %L_RTN OR
      204     6949    2               ZITEM.SP.VS.ID = %@_RTN OR
      205     6950    2               ZITEM.SP.VS.ID = %@@_RTN OR
      206     6951    2               ZITEM.SP.VS.ID = %#_RTN OR
      207     6952    2               ZITEM.SP.VS.ID = %##_RTN OR
      208     6953    2               ZITEM.SP.VS.ID = %RI_RTN OR
      209     6954    2               ZITEM.SP.VS.ID = %NA_RTN OR
      210     6955    2               ZITEM.SP.VS.ID = %IC_RTN OR
      211     6956    2               ZITEM.SP.VS.ID = %N_RTN OR
      212     6957    2               ZITEM.SP.VS.ID = %FMASK_RTN OR
      213     6958    2               ZITEM.SP.VS.ID = %FRANGE_RTN)
      214     6959    3             THEN DO;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:7    
      215     6960    3                  CALL DDK$EVAL(ADDRESS, SEG, DESC#, NOT_IS) ALTRET(CLEAN_RETURN);
      216     6961    3                  CALL DFK$GETMVAL (CACHE, ADDRESS, SEG, DESC#, NOT_IS, '0'B) ALTRET(
              6961                           CLEAN_RETURN);
      217     6962    3                END;
      218     6963    2             ELSE CALL DFK$EVAL(CACHE, ADDRESS, SEG, DESC#, NOT_IS, SIZE, EXPR_OP, '0'B
              6963                      )
      219     6964    2                    ALTRET ( CLEAN_RETURN );
      220     6965    2             CACHE_BOOK.SOURCE = %MEM;
      221     6966    2             CACHE_BOOK.START_ADDR = ADDRESS;
      222     6967    2             CACHE_BOOK.END_ADDR = ADDRESS + CACHE.SIZE - 1;
      223     6968    2             VALUE = CACHE.OPS ( 0 );
      224     6969    2           END;
      225     6970
      226     6971    1        SAVE_VALUE.VAL = BINBIT ( VALUE, 16 ); /* Set up for same value check */
      227     6972
      228     6973                                                /* Determine display format */
      229     6974
      230     6975    1        BLANK = 32;         /* '040'o corresponds to ' ' in ascii character set */
      231     6976    1        IF S_D.DO$->DUMP$CMD.ASCII_FLAG THEN C_FLAG = '1'B;
      232     6977    1        IF S_D.DO$->DUMP$CMD.EBCDIC_FLAG THEN EB_FLAG = '1'B;
      233     6978    1        IF S_D.DO$->DUMP$CMD.FORMAT THEN
      234     6979    2        DO CASE ( S_D.DO$ -> DUMP$CMD.FORMATCODE );
      235     6980    2          CASE ( 344 );              /* FMT4_CODE (\c) */
      236     6981    2             C_FLAG = '1'B;
      237     6982    2          CASE ( 361 );             /* FMT21_CODE (\eb) */
      238     6983    2             EB_FLAG = '1'B;
      239     6984    2             IF C_FLAG
      240     6985    3             THEN DO;
      241     6986    3                  S_D.ERROR = 322; /* E@FMTCONFLICT */
      242     6987    3                  ALTRETURN;
      243     6988    3                END;
      244     6989    2             BLANK = 64;    /* '100'o corresponds to ' ' in ebcdic character set */
      245     6990    2          CASE ( 358 );             /* FMT18_CODE (\X1) */
      246     6991    2             S_D.ERROR = 311;     /* E@WRONFEPFMT */
      247     6992    2             ALTRETURN;
      248     6993    2          CASE ( 353 );             /* FMT13_CODE (\x) */
      249     6994    2             H_FLAG = '1'B;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:8    
      250     6995    2          CASE ( 341 );              /* FMT1_CODE (\o) */
      251     6996    2             O_FLAG = '1'B;
      252     6997    2          END;
      253     6998
      254     6999                                                /* Setup display width */
      255     7000
      256     7001    1        S_D.OUTPUT = ' ';
      257     7002    1        IF O_FLAG
      258     7003    1        THEN TEMP = 7;                     /* Size of one word in octal dump */
      259     7004    1        ELSE TEMP = 5;                     /* Size of one word in hex dump */
      260     7005    1        MAX_CELL = MAXIMUM ( S_D.OUT_WIDTH, 11 ) - 10;
      261     7006    1        IF C_FLAG OR EB_FLAG
      262     7007    2        THEN DO;
      263     7008    2             MAX_CELL = MAX_CELL - 1;
      264     7009    2             TEMP = TEMP + 1;
      265     7010    2           END;
      266     7011    1        MAX_CELL = MAX_CELL / TEMP;
      267     7012    1        IF MAX_CELL < 8
      268     7013    1        THEN MAX_CELL = 4;
      269     7014    1        ELSE IF MAX_CELL < 16
      270     7015    1             THEN MAX_CELL = 8;
      271     7016    1             ELSE MAX_CELL = 16;
      272     7017    1        IF C_FLAG OR EB_FLAG
      273     7018    1        THEN TEMP = TEMP - 1;
      274     7019    1        TEMP = 10 + TEMP * MAX_CELL / 2;
      275     7020
      276     7021    1        IF S_D.DO$->DUMP$CMD.PAGE_EJECT THEN CALL DDQ$WRTOFD;
      277     7022
      278     7023                                                /* Output heading if present */
      279     7024
      280     7025    1        IF S_D.DO$->DUMP$CMD.HEADING
      281     7026    2        THEN DO;
      282     7027    2             TEXT_LEN = S_D.DESC$->DUMP_HEADING.LEN;
      283     7028    2             TEMP_S = TEMP - TEXT_LEN/2;
      284     7029    2             IF TEMP_S < 1 THEN TEMP_S = 1;
      285     7030    2             S_D.D$=PINCRC(OUTPUT$, TEMP_S);
      286     7031    2             S_D.D$->CHAR32 = S_D.DESC$->DUMP_HEADING.TEXT;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:9    
      287     7032    2             CALL DDQ$WRITED(OUTPUT$,
      288     7033    2               POFFC(PINCRC(S_D.D$,TEXT_LEN+1),OUTPUT$));
      289     7034    2           END;
      290     7035
      291     7036                                                /* Put symbolic address in title */
      292     7037
      293     7038    1        S_D.D$ = OUTPUT$;
      294     7039    1        S_D.DESCL$ = PINCRC(S_D.D$, SIZEC(S_D.OUTPUT));
      295     7040    1        CALL DDA$DISPADR(ADDRESS,SEG,DESC#,NOT_IS,%REL_FMT, , 36 ) ALTRET(CLEAN_RETURN)
              7040                 ;
      296     7041    1        CALL DDQ$WRITED(OUTPUT$,POFFC(S_D.D$,OUTPUT$));
      297     7042
      298     7043                                                /* Setup for dump loop */
      299     7044
      300     7045    1        IF ADDRESS ~= 0
      301     7046    1        THEN OFFSET = (ADDRESS/MAX_CELL)*MAX_CELL;
      302     7047    1        ELSE OFFSET = 0;
      303     7048    1        MAX_ADDRESS = ADDRESS + NUM_WORDS-1;
      304     7049    1        J = ADDRESS - OFFSET;              /* Compute position of first cell */
      305     7050    2        DO I = 0 TO 15;
      306     7051    2             DATA.VAL.L (I) = BLANK;
      307     7052    2             DATA.VAL.R (I) = BLANK;
      308     7053    2             SAVE_DATA.VAL.L (I) = BLANK;
      309     7054    2             SAVE_DATA.VAL.R (I) = BLANK;
      310     7055    2           END;
      311     7056    1        DATA_STR = ' ';
      312     7057    1        SAVE_DATA_STR = ' ';
      313     7058    1        OFFSET_SAVE = -1;   /* Show that offset must be saved when dup found */
      314     7059    1        SAME_COUNT = 0;
      315     7060    1        IF (J = 0) AND (NOT LONG_FLAG)
      316     7061    1        THEN CHECK_DUP = '1'B;
      317     7062    1        ELSE CHECK_DUP = '0'B; /* Dont check for dups if not full line or long format*/
      318     7063    1        MAX_CELL_M_1 = MAX_CELL - 1;
      319     7064
      320     7065                                                /* Dump loop */
      321     7066
      322     7067    1   LOOP_TOP: ;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:10   
      323     7068    2        DO I=J TO MAX_CELL_M_1;            /* For each cell in a particular line */
      324     7069    2             CALL DDB$BREAK ALTRET(CLEAN_RETURN); /* Check if user has hit break */
      325     7070    2             IF S_D.RUM THEN CALL GET_L6WRD ( VALUE, %RU ) ALTRET ( ALT_CHECK );
      326     7071    2             ELSE CALL GET_L6WRD ( VALUE, %MEM ) ALTRET ( ALT_CHECK );
      327     7072    2             DATA.VAL(I) = BINBIT ( VALUE , 16 );
      328     7073    3             IF CHECK_DUP THEN DO;
      329     7074    4                  IF SAVE_VALUE.VAL = BINBIT ( VALUE, 16 ) THEN DO;
      330     7075    4                       SAME_COUNT = SAME_COUNT + 1;
      331     7076    4                       IF OFFSET_SAVE = -1 THEN OFFSET_SAVE = OFFSET;
      332     7077    4                     END;
      333     7078    4                  ELSE DO;
      334     7079    5                       IF SAME_COUNT >= MAX_CELL THEN DO; /* At least 1 line */
      335     7080    5                            CALL SAME_OUT; /* Describe same values */
      336     7081    5                            OFFSET_SAVE = -1;
      337     7082    5                          END;
      338     7083    4                       SAVE_VALUE.VAL = BINBIT ( VALUE, 16 );
      339     7084    4                       SAME_COUNT = 1;
      340     7085    5                       IF I ~= 0 THEN DO;
      341     7086    5                            CHECK_DUP = '0'B; /* Turn off dup check
      342     7087                                                if we're in the middle of a line */
      343     7088    5                            SAME_COUNT = 0;
      344     7089    5                            OFFSET_SAVE = -1;
      345     7090    5                          END;
      346     7091    4                     END;
      347     7092    3                END;
      348     7093    2             ADDRESS = ADDRESS + 1;
      349     7094    2             IF ADDRESS > MAX_ADDRESS THEN GOTO LAST_TIME;
      350     7095    2           END;
      351     7096
      352     7097    1        IF CHECK_DUP THEN GOTO RE_ENTER_LOOP; /* CHECK_DUP means SAME_COUNT
      353     7098                                                is at least = MAX_CELL, otherwise we
      354     7099                                                have a data line to print */
      355     7100    1        CALL LINE_OUT;
      356     7101
      357     7102    1   RE_ENTER_LOOP: ;                        /* Here to temporarily bypass output */
      358     7103    1        OFFSET = OFFSET + MAX_CELL;
      359     7104    1        J = 0;                             /* Start at the begining of the line */
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:11   
      360     7105    2        DO I = 0 TO 15;
      361     7106    2             DATA.VAL.L ( I ) = BLANK;
      362     7107    2             DATA.VAL.R ( I ) = BLANK;
      363     7108    2           END;
      364     7109    1        DATA_STR = ' ';
      365     7110    1        IF LONG_FLAG
      366     7111    1        THEN CHECK_DUP = '0'B;
      367     7112    1        ELSE CHECK_DUP = '1'B; /* We finished a line, so CHECK_DUP should be on */
      368     7113    1        GOTO LOOP_TOP;                     /* Restart loop */
      369     7114
      370     7115
      371     7116    1   LAST_TIME: ;             /* Here on error, seg end, or MAX_ADDRESS exceeded */
      372     7117    1        IF ADDRESS = OFFSET+MAX_CELL AND CHECK_DUP
      373     7118                                 /* Take care of case where last line is all dup, and
      374     7119                                 exactly full but offset hasn't been updated yet */
      375     7120    1        THEN OFFSET = OFFSET + MAX_CELL;
      376     7121    2        IF SAME_COUNT >= MAX_CELL THEN DO;
      377     7122    2             CALL SAME_OUT;
      378     7123    2             IF OFFSET_SAVE ~= ADDRESS - 1 /*Ie. If last line not all dups */
      379     7124    2             THEN CALL LINE_OUT;
      380     7125    2           END;
      381     7126    1        ELSE IF ADDRESS ~= OFFSET THEN     /*Don't print offset on an empty line*/
      382     7127    1                  CALL LINE_OUT;
      383     7128    1        IF MISSING_PAGE_FLAG               /* See if there's more to do */
      384     7129    2        THEN DO;                           /* Yes, we hit a missing page */
      385     7130    2             MISSING_PAGE_FLAG = '0'B;
      386     7131    2   L1:       ADDRESS = SAVE_ADDRESS + 1024; /* Point at next page */
      387     7132    2             SAVE_ADDRESS = ADDRESS;
      388     7133    2             S_D.ERROR = 0;
      389     7134    2             CALL DDB$BREAK ALTRET(CLEAN_RETURN);
      390     7135    3             IF ADDRESS > MAX_ADDRESS THEN DO;
      391     7136    3   L5:            S_D.OUTPUT = '(missing page(s))';
      392     7137    3                  CALL DDQ$WRITED(OUTPUT$, 17);
      393     7138    3                  IF NUM_WORDS = 17000000/*DD_BIGNUM*/ THEN S_D.ERROR = 0;
      394     7139    3                  GOTO CLEAN_RETURN;
      395     7140    3                END;
      396     7141                                                /* See if we can get one */
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:12   
      397     7142    2             IF S_D.RUM THEN CALL GET_L6WRD ( VALUE, %RU ) ALTRET ( L2 );
      398     7143    2             ELSE CALL GET_L6WRD ( VALUE, %MEM ) ALTRET ( L2 );
      399     7144    2             OFFSET = ADDRESS;             /* We got one */
      400     7145    2             J = 0;
      401     7146    2             SAVE_VALUE.VAL = BINBIT ( VALUE, 16 );
      402     7147    3             DO I = 0 TO 15;
      403     7148    3                  DATA.VAL.L ( I ) = BLANK;
      404     7149    3                  DATA.VAL.R ( I ) = BLANK;
      405     7150    3                  SAVE_DATA.VAL.L ( I ) = BLANK;
      406     7151    3                  SAVE_DATA.VAL.R ( I ) = BLANK;
      407     7152    3                END;
      408     7153    2             DATA_STR = ' ';
      409     7154    2             SAVE_DATA_STR = ' ';
      410     7155    2             OFFSET_SAVE = -1;
      411     7156    2             SAME_COUNT = 0;
      412     7157    2             IF LONG_FLAG
      413     7158    2             THEN CHECK_DUP = '0'B;
      414     7159    2             ELSE CHECK_DUP = '1'B;
      415     7160    2             S_D.OUTPUT = '(missing page(s))';
      416     7161    2             CALL DDQ$WRITED(OUTPUT$, 17);
      417     7162    2             GOTO LOOP_TOP;                /* Re-enter loop */
      418     7163    2   L2:       IF S_D.ERROR = 76 OR S_D.ERROR = 147 /* E@NOPAGE E@ANLZ_PAGENOTDUMPED */
      419     7164    2             THEN GOTO L1;
      420     7165    2             ELSE GOTO L5;
      421     7166    2           END;
      422     7167
      423     7168
      424     7169    1   CLEAN_RETURN: ;               /* Reset out device, altret if error pending */
      425     7170
      426     7171    1        S_D.OUT_WIDTH = SAVE_WIDTH;
      427     7172    1        IF S_D.ERROR = 83           /* E@BADADDR */
      428     7173    2        THEN DO;
      429     7174    2             S_D.OUTPUT = 'Access out of segment';
      430     7175    2             CALL DDQ$WRITED (OUTPUT$,21);
      431     7176    2             S_D.ERROR = 0;
      432     7177    2           END;
      433     7178    1        IF MUST_CALL_CLOSE THEN CALL DUA$CLOSEDUMP;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:13   
      434     7179    1        IF S_D.ERROR = 0 THEN RETURN;
      435     7180    1        ALTRETURN;
      436     7181    1   ALT_CHECK: ;                       /* Dont report error if dump-len is seg */
      437     7182    1        MISSING_PAGE_FLAG = '0'B;
      438     7183    1        IF S_D.ERROR = 76 OR S_D.ERROR = 147 /*E@NOPAGE, E@ANLZ_PAGENOTDUMPED*/
      439     7184    2        THEN DO;
      440     7185    2             MISSING_PAGE_FLAG = '1'B;
      441     7186    2             SAVE_ADDRESS = ADDRESS;
      442     7187    2           END;
      443     7188    1        ELSE IF NUM_WORDS = 17000000/*DD_BIGNUM*/
      444     7189    1             THEN S_D.ERROR = 0;      /* Don't report errors on segment dumps */
      445     7190    1        GOTO LAST_TIME;
      446     7191        %EJECT;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:14   
      447     7192        /*D*  NAME: SAME_OUT
      448     7193              DESCRIPTION:  PRINT 'DUP-START THRU DUP-END  DUP-VALUE' */
      449     7194    1   SAME_OUT: PROC;
      450     7195    3        IF OFFSET_SAVE + MAX_CELL = OFFSET THEN DO; /* Only one line */
      451     7196    3             SAVE_CALLED = '1'B;
      452     7197    3             CALL LINE_OUT;
      453     7198    3             SAVE_CALLED = '0'B;
      454     7199    3             OFFSET_SAVE = OFFSET-1;
      455     7200    3             RETURN;
      456     7201    3           END;
      457     7202    2        S_D.D$ = OUTPUT$;
      458     7203    2        S_D.DESCL$ = PINCRC(S_D.D$, SIZEC(S_D.OUTPUT));
      459     7204    2        S_D.OUTPUT = ' ';
      460     7205    2        CALL DDR$BINTXT(ADDR(CHAR_HOLD),OFFSET_SAVE,%X_FMT,SIZE);
      461     7206    2        S_D.D$ = PINCRC(OUTPUT$,9-SIZE);   /* Right justify */
      462     7207    2        S_D.D$->CHAR9 = CHAR_HOLD;
      463     7208    2        S_D.D$ = PINCRC(S_D.D$, SIZE);
      464     7209    2        OFFSET_SAVE = OFFSET - 1;
      465     7210    2        S_D.D$->CHAR6 = ' THRU ';
      466     7211    2        S_D.D$ = PINCRC(S_D.D$, 6);
      467     7212    2        CALL DDR$BINTXT(ADDR(CHAR_HOLD),OFFSET_SAVE,%X_FMT,SIZE); /* 'DUP-END' */
      468     7213    2        S_D.D$->CHAR9 = CHAR_HOLD;
      469     7214    2        S_D.D$ = PINCRC(S_D.D$, SIZE);
      470     7215    2        S_D.D$ = PINCRC(S_D.D$, 2);
      471     7216                                                /* Convert value to display format */
      472     7217    2        IF O_FLAG THEN
      473     7218    3        DO;
      474     7219    3             CALL OCTOUT ( TEMP );
      475     7220    3             S_D.D$ = PINCRC(S_D.D$, 10 );
      476     7221    3           END;
      477     7222    3        ELSE DO;
      478     7223    3             CALL HEX_9_OUT(SAVE_VALUE);
      479     7224    3             S_D.D$ = PINCRC(S_D.D$, 7 );
      480     7225    3           END;
      481     7226    2        IF C_FLAG
      482     7227    3        THEN DO;
      483     7228    3             SAVE_VALUE_CHAR (0) = SAVE_VALUE.VAL.L;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:15   
      484     7229    3             SAVE_VALUE_CHAR (1) = SAVE_VALUE.VAL.R;
      485     7230    3             CALL XLATE ( S_D.D$ -> CHAR32, T_TABLE, VALUE_STR );
      486     7231    3             S_D.D$ = PINCRC ( S_D.D$, 2 );
      487     7232    3           END;
      488     7233    2        ELSE IF EB_FLAG
      489     7234    3             THEN DO;
      490     7235    3                  SAVE_VALUE_CHAR (0) = SAVE_VALUE.VAL.L;
      491     7236    3                  SAVE_VALUE_CHAR (1) = SAVE_VALUE.VAL.R;
      492     7237    3                  CALL XLATE ( S_D.D$ -> CHAR32, EBCDIC_XLATE_TABLE, VALUE_STR );
      493     7238    3                  S_D.D$ = PINCRC ( S_D.D$, 2 );
      494     7239    3                END;
      495     7240    2        CALL DDQ$WRITED(OUTPUT$,POFFC(S_D.D$,OUTPUT$));
      496     7241    2        RETURN;
      497     7242    2   END SAME_OUT;
      498     7243        %EJECT;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:16   
      499     7244        /*D*  NAME: LINE_OUT
      500     7245              DESCRIPTION:  FORMAT AND PRINT ONE DUMP LINE.  */
      501     7246
      502     7247    1   LINE_OUT: PROC;
      503     7248
      504     7249    2        S_D.OUTPUT = ' ';
      505     7250    2        IF SAVE_CALLED THEN CALL DDR$BINTXT (ADDR(CHAR_HOLD),OFFSET_SAVE,%X_FMT,SIZE);
      506     7251    2        ELSE CALL DDR$BINTXT(ADDR(CHAR_HOLD),OFFSET,%X_FMT,SIZE);
      507     7252    2        S_D.D$ = PINCRC(OUTPUT$,9-SIZE);   /*Place offset right just */
      508     7253    2        S_D.D$->CHAR9 = CHAR_HOLD;
      509     7254    2        IF O_FLAG THEN
      510     7255    2             S_D.D$ = PINCRC(OUTPUT$,11+J*7); /* J set before entering loop */
      511     7256    2        ELSE
      512     7257    2             S_D.D$ = PINCRC(OUTPUT$,11+J*5); /* J set before entering loop */
      513     7258    2        IF SAVE_CALLED THEN K = OFFSET-OFFSET_SAVE-1;
      514     7259    2        ELSE K = ADDRESS-OFFSET-1;
      515     7260    3        DO L = J TO K;
      516     7261    4             IF SAVE_CALLED THEN DO;
      517     7262    4                  SAVE_DATA.VAL (L) = SAVE_VALUE.VAL;
      518     7263    4                  TEMP = BITBIN ( SAVE_VALUE );
      519     7264    4                END;
      520     7265    3             ELSE TEMP = BITBIN ( DATA(L) );
      521     7266    3             IF O_FLAG THEN
      522     7267    4             DO;
      523     7268    4                  CALL OCTOUT(TEMP);
      524     7269    4                  S_D.D$ = PINCRC(S_D.D$, 7);
      525     7270    4                END;
      526     7271    4             ELSE DO;
      527     7272    4                  CALL HEX_9_OUT(TEMP);
      528     7273    4                  S_D.D$ = PINCRC(S_D.D$, 5);
      529     7274    4                END;
      530     7275    3           END;
      531     7276    2        IF C_FLAG OR EB_FLAG
      532     7277    3        THEN DO;
      533     7278    3             IF O_FLAG THEN S_D.D$ = PINCRC(OUTPUT$, 11+7*MAX_CELL);
      534     7279    3             ELSE S_D.D$ = PINCRC(OUTPUT$, 11+5*MAX_CELL);
      535     7280    3             IF SAVE_CALLED
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:17   
      536     7281    4             THEN DO;
      537     7282    4                  J = 0;
      538     7283    5                  DO L = 0 TO 15;
      539     7284    5                       SAVE_DATA_CHAR (J) = SAVE_DATA.VAL.L (L);
      540     7285    5                       J = J + 1;
      541     7286    5                       SAVE_DATA_CHAR (J) = SAVE_DATA.VAL.R (L);
      542     7287    5                       J = J + 1;
      543     7288    5                     END;
      544     7289    4                  IF C_FLAG
      545     7290    4                  THEN CALL XLATE( S_D.D$->CHAR32, T_TABLE, SAVE_DATA_STR );
      546     7291    4                  ELSE CALL XLATE ( S_D.D$ -> CHAR32, EBCDIC_XLATE_TABLE,
      547     7292    4                         SAVE_DATA_STR );
      548     7293    4                  S_D.D$ = PINCRC ( S_D.D$, MAX_CELL * 2 );
      549     7294    4                END;
      550     7295    4             ELSE DO;
      551     7296    4                  J = 0;
      552     7297    5                  DO L = 0 TO 15;
      553     7298    5                       DATA_CHAR (J) = DATA.VAL.L (L);
      554     7299    5                       J = J + 1;
      555     7300    5                       DATA_CHAR (J) = DATA.VAL.R (L);
      556     7301    5                       J = J + 1;
      557     7302    5                     END;
      558     7303    4                  IF C_FLAG
      559     7304    4                  THEN CALL XLATE( S_D.D$->CHAR32, T_TABLE, DATA_STR );
      560     7305    4                  ELSE CALL XLATE ( S_D.D$ -> CHAR32, EBCDIC_XLATE_TABLE, DATA_STR );
      561     7306    4                  S_D.D$ = PINCRC ( S_D.D$, MAX_CELL * 2 );
      562     7307    4                END;
      563     7308    3           END;
      564     7309    2        CALL DDQ$WRITED(OUTPUT$,POFFC(S_D.D$,OUTPUT$));
      565     7310    2        J = 0;
      566     7311    2        RETURN;
      567     7312    2   END LINE_OUT;
      568     7313        %EJECT;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:18   
      569     7314        /* Convert the right 16 bits of a 36-bit ubin into 4 hex digits where
      570     7315           S_D.D$ points.  Does not increment S_D.D$. */
      571     7316
      572     7317    1   HEX_9_OUT: PROC(VAL);
      573     7318
      574     7319    2   DCL VAL UBIN;
      575     7320    2   DCL 1 XVAL REDEF VAL,
      576     7321    2         2 * BIT(20) UNAL,
      577     7322    2         2 H ( 0:3 ) UBIN (4) UNAL;
      578     7323    2   DCL I UBIN;
      579     7324    2   DCL PTR$ PTR;
      580     7325    2   DCL HEXCHARS(0:15) CHAR(1) CONSTANT INIT(
      581     7326    2        '0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F');
      582     7327    2   DCL CHAR1 CHAR(1) BASED;
      583     7328
      584     7329    2        PTR$ = S_D.D$;
      585     7330    3        DO I = 0 TO 3;
      586     7331    3             PTR$->CHAR1 = HEXCHARS(XVAL.H(I));
      587     7332    3             PTR$ = PINCRC(PTR$, 1);
      588     7333    3           END;
      589     7334    2        RETURN;
      590     7335    2   END HEX_9_OUT;
      591     7336        %EJECT;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:19   
      592     7337        /* Convert the right 18 bits of a 36-bit ubin into 6 octal digits where
      593     7338           S_D.D$ points. Does not increment S_D.D$. */
      594     7339
      595     7340    1   OCTOUT: PROC ( VAL );
      596     7341
      597     7342    2   DCL VAL UBIN;
      598     7343    2   DCL 1 OVAL REDEF VAL,
      599     7344    2         2 * BIT ( 18 ) UNAL,
      600     7345    2         2 O ( 0:5 ) UBIN ( 3 ) UNAL;
      601     7346    2   DCL I UBIN;
      602     7347    2   DCL PTR$ PTR;
      603     7348    2   DCL OCTCHARS ( 0:7 ) CHAR ( 1 ) CONSTANT INIT (
      604     7349    2        '0', '1', '2', '3', '4', '5', '6', '7' );
      605     7350    2   DCL CHAR1 CHAR ( 1 ) BASED;
      606     7351
      607     7352    2        PTR$ = S_D.D$;
      608     7353    3        DO I = 0 TO 5;
      609     7354    3             PTR$ -> CHAR1 = OCTCHARS ( OVAL.O ( I ) );
      610     7355    3             PTR$ = PINCRC ( PTR$, 1 );
      611     7356    3           END;
      612     7357    2        RETURN;
      613     7358    2   END OCTOUT;
      614     7359        %EJECT;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:20   
      615     7360        /* This routine maintains a 16 words cache and returns the requested word. */
      616     7361
      617     7362    1   GET_L6WRD: PROC ( WRD, WRD_SOURCE ) ALTRET;
      618     7363
      619     7364    2   DCL WRD UBIN;
      620     7365    2   DCL WRD_SOURCE UBIN;
      621     7366
      622     7367    2        IF WRD_SOURCE = CACHE_BOOK.SOURCE AND
      623     7368    2          ((ADDRESS - CACHE_BOOK.START_ADDR) >= 0) AND
      624     7369    2          ((ADDRESS - CACHE_BOOK.START_ADDR) <= 15) AND
      625     7370    2          ADDRESS >= CACHE_BOOK.START_ADDR AND ADDRESS <= CACHE_BOOK.END_ADDR
      626     7371    2        THEN VALUE = CACHE.OPS ( ADDRESS - CACHE_BOOK.START_ADDR );
      627     7372    3        ELSE DO;
      628     7373    4             DO CASE ( WRD_SOURCE );
      629     7374    4               CASE ( %RU );
      630     7375    4                  CALL DUU$GETMVAL ( CACHE, 0, ADDRESS, SEG, DESC#, NOT_IS )
      631     7376    4                    ALTRET ( MEM_ERR );
      632     7377    4                  CACHE_BOOK.SOURCE = %RU;
      633     7378    4               CASE ( %MEM );
      634     7379    4                  CALL DFK$GETMVAL ( CACHE, ADDRESS, SEG, DESC#, NOT_IS, '0'B )
      635     7380    4                    ALTRET ( MEM_ERR );
      636     7381    4                  CACHE_BOOK.SOURCE = %MEM;
      637     7382    4               END;
      638     7383    3             CACHE_BOOK.START_ADDR = ADDRESS;
      639     7384    3             CACHE_BOOK.END_ADDR = ADDRESS + CACHE.SIZE - 1;
      640     7385    3             WRD = CACHE.OPS ( 0 );
      641     7386    3           END;
      642     7387    2        RETURN;
      643     7388    2   MEM_ERR: ALTRETURN;
      644     7389    2   END GET_L6WRD;
      645     7390    1   END DFA$DUMP;
      646     7391        %EJECT;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:21   

PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:22   
--  Include file information  --

   CP_6_SUBS.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   DD_PSUBS_C.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   DD_ERR_C.:E05TOU  is referenced.
   DD_SRTN_C.:E05TOU  is referenced.
   DD_ACODE_C.:E05TOU  is referenced.
   DD_ICODE_C.:E05TOU  is referenced.
   DD$DITEM.:E05TOU  cannot be made into a system file and is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD$BASED.:E05TOU  is referenced.
   B$TABLES_C.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure DFA$DUMP.

   Procedure DFA$DUMP requires 1363 words for executable code.
   Procedure DFA$DUMP requires 138 words of local(AUTO) storage.

    No errors detected in file DFA$DUMP.:E05TSI    .

PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:23   

 Object Unit name= DFA$DUMP                                   File name= DFA$DUMP.:E05TOU
 UTS= JUL 29 '97 14:30:24.52 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1  RoData even  UTS     19     23  DFA$DUMP
    2   Proc  even  none  1363   2523  DFA$DUMP
    3  RoData even  none    19     23  DFA$DUMP

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     2      0   yes    yes     yes      Std        0  DFA$DUMP
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:24   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes          ~proc      0 B_POINTER
 yes     yes           Std       4 DUA$OUTPUT
 yes     yes           Std       6 DDK$EVAL
         yes           Std       2 DDQ$WRITED
 yes     yes           Std       0 DDA$DUMP_DO
         yes           Std       0 DDQ$WRTOFD
 yes     yes           Std       7 DDA$DISPADR
 yes     yes           Std       6 DFK$GETMVAL
 yes     yes           Std       8 DFK$EVAL
 yes     yes           Std       0 DUA$CLOSEDUMP
 yes     yes           Std       0 DDB$BREAK
         yes           Std       4 DDR$BINTXT
 yes     yes           Std       6 DUU$GETMVAL
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    B$XL_ASC_DUMP$                   r    B$XL_EBC_DUMP$                   r    S_D$
     M$UC                                  D_M$DO#                               B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ROSID                                 ISSID
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:25   


        1        1        /*M* DFA$DUMP  - DUMP DO ROUTINE */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* CCC,DMR,PLM=5,IND=5,CSU=3,EXM=0,ECU=3,MOC,DCI=5,CRT=5 */
        8        8        %SET LISTSUB='1'B;
        9        9        /*P* NAME: DFA$DUMP
       10       10             PURPOSE:  To provide the dump function for the DUMP commands.
       11       11        */
       12       12        /*D* NAME: DFA$DUMP
       13       13             DESCRIPTION: This routine is called by DDA$DO to perform the DUMP
       14       14                  directive.  The data_descriptor is decoded, and the optional
       15       15                  output destination, page eject, and heading are output.
       16       16        */
       17       17        DFA$DUMP: PROC ALTRET;

     17  2 000000   000000 700200 xent  DFA$DUMP     TSX0  ! X66_AUTO_0
         2 000001   000212 000000                    ZERO    138,0

       18       18                                                /**/
       19       19    1   DCL PADDRESS UBIN;
       20       20    1   DCL PSEG UBIN;
       21       21    1   DCL PDESC# UBIN;
       22       22    1   DCL PNOT_IS BIT(1) ALIGNED;
       23       23    1   DCL PC_FLAG BIT(1) ALIGNED;
       24       24    1   DCL PNUM_WORDS UBIN;
       25       25    1   DCL ADDRESS SBIN;
       26       26    1   DCL TEMP_S SBIN;
       27       27    1   DCL I UBIN;
       28       28    1   DCL TEMP UBIN;
       29       29    1   DCL MAX_CELL SBIN;
       30       30    1   DCL MAX_ADDRESS UBIN;
       31       31    1   DCL TEXT_LEN UBIN;
       32       32    1   DCL SEG UBIN;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:26   
       33       33    1   DCL DESC# UBIN;
       34       34    1   DCL NOT_IS BIT(1);
       35       35    1   DCL EXPR_OP BIT(1) ALIGNED;
       36       36    1   DCL NUM_WORDS UBIN;
       37       37    1   DCL SAVE_CALLED BIT(1);
       38       38    1   DCL C_FLAG BIT(1);
       39       39    1   DCL H_FLAG BIT(1);
       40       40    1   DCL EB_FLAG BIT(1);
       41       41    1   DCL O_FLAG BIT(1);
       42       42    1   DCL LONG_FLAG BIT(1);
       43       43    1   DCL MUST_CALL_CLOSE BIT(1);
       44       44    1   DCL MISSING_PAGE_FLAG BIT(1);
       45       45    1   DCL VALUE UBIN;
       46       46    1   DCL 1 CACHE,
       47       47    1         2 SIZE UBIN WORD,
       48       48    1         2 OPS ( 0:15 ) UBIN WORD;
       49       49    1   DCL 1 CACHE_BOOK,
       50       50    1         2 SOURCE UBIN WORD,
       51       51    1         2 START_ADDR UBIN WORD,
       52       52    1         2 END_ADDR UBIN WORD;
       53       53        %EQU UNID = 1;
       54       54        %EQU RU = 2;
       55       55        %EQU MEM = 3;
       56       56    1   DCL SAVE_DCTX SBIN;
       57       57    1   DCL SAVE_WIDTH UBIN;
       58       58    1   DCL SAVE_ADDRESS UBIN;
       59       59    1   DCL SIZE UBIN;
       60       60    1   DCL OFFSET UBIN;
       61       61    1   DCL MAX_CELL_M_1 UBIN;
       62       62    1   DCL 1 DATA(0:15),
       63       63    1         2 * BIT(20) UNAL,
       64       64    1         2 VAL,
       65       65    1           3 L UBIN(8) UNAL,
       66       66    1           3 R UBIN(8) UNAL;
       67       67    1   DCL DATA_CHAR ( 0:31 ) UBIN(9) UNAL;
       68       68    1   DCL DATA_STR REDEF DATA_CHAR CHAR(32);
       69       69    1   DCL 1 SAVE_DATA(0:15),
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:27   
       70       70    1         2 * BIT(20) UNAL,
       71       71    1         2 VAL,
       72       72    1           3 L UBIN(8) UNAL,
       73       73    1           3 R UBIN(8) UNAL;
       74       74    1   DCL SAVE_DATA_CHAR ( 0:31 ) UBIN(9) UNAL;
       75       75    1   DCL SAVE_DATA_STR REDEF SAVE_DATA_CHAR CHAR(32);
       76       76    1   DCL 1 SAVE_VALUE,
       77       77    1         2 * BIT(20) UNAL,
       78       78    1         2 VAL,
       79       79    1           3 L UBIN(8) UNAL,
       80       80    1           3 R UBIN(8) UNAL;
       81       81    1   DCL SAVE_VALUE_CHAR (0:1) UBIN(9) UNAL;
       82       82    1   DCL VALUE_STR REDEF SAVE_VALUE_CHAR CHAR(2);
       83       83    1   DCL OFFSET_SAVE SBIN;
       84       84    1   DCL BLANK UBIN;
       85       85    1   DCL J UBIN;
       86       86    1   DCL K UBIN;
       87       87    1   DCL L UBIN;
       88       88    1   DCL OUTPUT$ PTR;
       89       89    1   DCL SAME_COUNT UBIN;
       90       90    1   DCL CHECK_DUP BIT(1);
       91       91    1   DCL CHAR_HOLD CHAR(12);
       92       92
       93       93        %INCLUDE B$TABLES_C;
       94      201        %B$XL_ASC_DUMP(NAME=T_TABLE);
       95      205        %B$XL_EBC_DUMP(NAME=EBCDIC_XLATE_TABLE);
       96      209
       97      210    1   DCL OTEXT CHAR(12) BASED;
       98      211    1   DCL CHAR6 CHAR(6) BASED;
       99      212    1   DCL CHAR9 CHAR(SIZE) BASED;
      100      213    1   DCL CHAR32 CHAR(32) BASED;
      101      214    1   DCL 1 DUMP_HEADING BASED,
      102      215    1         2 LEN UBIN(9) UNAL,
      103      216    1         2 TEXT CHAR(TEXT_LEN);
      104      217        %INCLUDE DD$BASED;
      105     1520        %DUMP$CMD;
      106     1550        %INCLUDE DD_SUBS_C;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:28   
      107     1821        %INCLUDE DD$DITEM;
       12+    1924             %LIST;
       13+    1925    1        DCL SDD$ PTR;
       14+    1926    1        DCL ZITEM$ PTR;
       15+    1927    1        DCL SDD_L6$ PTR;
       16+    1928    1        DCL ZITEM_L6$ PTR;
      108     2502        %ZITEM;
      109     2574        %INCLUDE DD_ERR_C;
      110     2971        %INCLUDE XUH_MACRO_C;
      111     3055        %INCLUDE DD_SD_M;
      112     4391        %S_D;
      113     5709        %INCLUDE DD_PSUBS_C;
      114     6184        %INCLUDE CP_6;
      115     6265        %F$DCB;
      116     6322        %INCLUDE CP_6_SUBS;
      117     6862    1   DCL DCTX_LP UBIN SYMREF;
      118     6863    1   DCL DCTX_ME UBIN SYMREF;
      119     6864    1   DCL D_M$DO# UBIN SYMREF;
      120     6865    1   DCL D_XDELTA BIT(1) SYMREF;
      121     6866    1   DCL OUT_DEV UBIN SYMREF;
      122     6867    1   DCL ECHO_DEV UBIN SYMREF;
      123     6868    1   DCL DDK$EVAL ENTRY(6) ALTRET;
      124     6869    1   DCL DFK$EVAL ENTRY(8) ALTRET;
      125     6870    1   DCL DFK$GETMVAL ENTRY(6) ALTRET;
      126     6871    1   DCL DDK$GETMVAL ENTRY(5) ALTRET;
      127     6872    1   DCL DUL$GETMVAL ENTRY(5) ALTRET;
      128     6873    1   DCL DUU$GETMVAL ENTRY(6) ALTRET;
      129     6874    1   DCL DDS$IC2NODE ENTRY(2) ALTRET;
      130     6875    1   DCL DDA$DISPADR ENTRY(7) ALTRET;
      131     6876    1   DCL DDA$DISPFMT ENTRY(6) ALTRET;
      132     6877    1   DCL DDA$DUMP_DO ENTRY ALTRET;
      133     6878    1   DCL DFQ$READ_FD ENTRY(2) ALTRET;
      134     6879    1   DCL DDQ$WRITED ENTRY(2);
      135     6880    1   DCL DDR$BINOCT ENTRY(2) ALTRET;
      136     6881    1   DCL DDQ$WRTOFD ENTRY;
      137     6882    1   DCL DUA$OUTPUT ENTRY(4) ALTRET;
      138     6883    1   DCL DUA$CLOSEDUMP ENTRY ALTRET;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:29   
      139     6884    1   DCL DDR$BINTXT    ENTRY(4);
      140     6885    1   DCL DDB$BREAK ENTRY ALTRET;
      141     6886        %EJECT;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:30   
      142     6887    1        CACHE_BOOK.SOURCE = %UNID;

   6887  2 000002   000001 235007                    LDA     1,DL
         2 000003   200057 755100                    STA     CACHE_BOOK,,AUTO

      143     6888    1        C_FLAG = '0'B;

   6888  2 000004   200026 450100                    STZ     C_FLAG,,AUTO

      144     6889    1        NUM_WORDS = S_D.DO$->DUMP$CMD.NUM;

   6889  2 000005   000000 470400 xsym               LDP0    S_D$
         2 000006   000031 471500                    LDP1    25,,PR0
         2 000007   100003 235100                    LDA     3,,PR1
         2 000010   200024 755100                    STA     NUM_WORDS,,AUTO

      145     6890    1        IF S_D.DO$ -> DUMP$CMD.LONG

   6890  2 000011   100001 236100                    LDQ     1,,PR1
         2 000012   010000 316003                    CANQ    4096,DU
         2 000013   000017 600000 2                  TZE     s:6892

      146     6891    1        THEN LONG_FLAG = '1'B;

   6891  2 000014   400000 236003                    LDQ     -131072,DU
         2 000015   200032 756100                    STQ     LONG_FLAG,,AUTO
         2 000016   000020 710000 2                  TRA     s:6894

      147     6892    1        ELSE LONG_FLAG = '0'B;

   6892  2 000017   200032 450100                    STZ     LONG_FLAG,,AUTO

      148     6893
      149     6894    1        S_D.ERROR = 0;                     /* Clear error flag for later testing */

   6894  2 000020   000013 450100                    STZ     11,,PR0

PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:31   
      150     6895    1        OUTPUT$ = ADDR(S_D.OUTPUT);

   6895  2 000021   000000 236000 xsym               LDQ     S_D$
         2 000022   005335 036003                    ADLQ    2781,DU
         2 000023   200157 756100                    STQ     OUTPUT$,,AUTO

      151     6896    1        SAVE_CALLED = '0'B;

   6896  2 000024   200025 450100                    STZ     SAVE_CALLED,,AUTO

      152     6897    1        H_FLAG = '1'B;

   6897  2 000025   400000 236003                    LDQ     -131072,DU
         2 000026   200027 756100                    STQ     H_FLAG,,AUTO

      153     6898    1        O_FLAG = '0'B;

   6898  2 000027   200031 450100                    STZ     O_FLAG,,AUTO

      154     6899    1        C_FLAG = '0'B;

   6899  2 000030   200026 450100                    STZ     C_FLAG,,AUTO

      155     6900    1        EB_FLAG = '0'B;

   6900  2 000031   200030 450100                    STZ     EB_FLAG,,AUTO

      156     6901    1        MUST_CALL_CLOSE = '0'B;

   6901  2 000032   200033 450100                    STZ     MUST_CALL_CLOSE,,AUTO

      157     6902    1        MISSING_PAGE_FLAG = '0'B;

   6902  2 000033   200034 450100                    STZ     MISSING_PAGE_FLAG,,AUTO

      158     6903
      159     6904                                                /* Set up output for udelta */
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:32   
      160     6905
      161     6906    1        IF S_D.DO$->DUMP$CMD.DEST

   6906  2 000034   000031 471500                    LDP1    25,,PR0
         2 000035   100001 236100                    LDQ     1,,PR1
         2 000036   100000 316003                    CANQ    32768,DU
         2 000037   000060 600000 2                  TZE     s:6912

      162     6907    2        THEN DO;

      163     6908    2             I = S_D.DO$->DUMP$CMD.DESTCODE;

   6908  2 000040   100002 235100                    LDA     2,,PR1
         2 000041   200013 755100                    STA     I,,AUTO

      164     6909    2             CALL DUA$OUTPUT (S_D.DO$->DUMP$CMD.FID, I, S_D.DUMPDCB) ALTRET(
              6909                      CLEAN_RETURN);

   6909  2 000042   000000 236000 xsym               LDQ     S_D$
         2 000043   005135 036003                    ADLQ    2653,DU
         2 000044   200204 756100                    STQ     PTR$+3,,AUTO
         2 000045   200013 633500                    EPPR3   I,,AUTO
         2 000046   200203 453500                    STP3    PTR$+2,,AUTO
         2 000047   100004 634500                    EPPR4   4,,PR1
         2 000050   200202 454500                    STP4    PTR$+1,,AUTO
         2 000051   200202 630500                    EPPR0   PTR$+1,,AUTO
         2 000052   000021 631400 xsym               EPPR1   B_VECTNIL+17
         2 000053   000000 701000 xent               TSX1    DUA$OUTPUT
         2 000054   001361 702000 2                  TSX2    CLEAN_RETURN

      165     6910    2             MUST_CALL_CLOSE = '1'B;

   6910  2 000055   400000 236003                    LDQ     -131072,DU
         2 000056   200033 756100                    STQ     MUST_CALL_CLOSE,,AUTO

      166     6911    2           END;

PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:33   
   6911  2 000057   000062 710000 2                  TRA     s:6913

      167     6912    1        ELSE S_D.DUMPDCB = D_M$DO#;

   6912  2 000060   000000 235000 xsym               LDA     D_M$DO#
         2 000061   005135 755100                    STA     2653,,PR0

      168     6913    1        SAVE_WIDTH = S_D.OUT_WIDTH;

   6913  2 000062   000000 470400 xsym               LDP0    S_D$
         2 000063   000014 235100                    LDA     12,,PR0
         2 000064   200063 755100                    STA     SAVE_WIDTH,,AUTO

      169     6914    1        IF DCBADDR(S_D.DUMPDCB)->F$DCB.ASN# = %DEVICE#

   6914  2 000065   000000 471400 3                  LDP1    0
         2 000066   100000 473500                    LDP3    0,,PR1
         2 000067   005135 720100                    LXL0    2653,,PR0
         2 000070   300000 474510                    LDP4    0,X0,PR3
         2 000071   400032 236100                    LDQ     26,,PR4
         2 000072   777000 376007                    ANQ     -512,DL
         2 000073   003000 116007                    CMPQ    1536,DL
         2 000074   000107 601000 2                  TNZ     s:6920

      170     6915    2        THEN DO;

      171     6916    2             IF DCBADDR(S_D.DUMPDCB)->F$DCB.WIDTH# = 0

   6916  2 000075   400004 236100                    LDQ     4,,PR4
         2 000076   000777 316007                    CANQ    511,DL
         2 000077   000103 601000 2                  TNZ     s:6918

      172     6917    2             THEN S_D.OUT_WIDTH = 80;

   6917  2 000100   000120 235007                    LDA     80,DL
         2 000101   000014 755100                    STA     12,,PR0
         2 000102   000111 710000 2                  TRA     s:6922
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:34   

      173     6918    2             ELSE S_D.OUT_WIDTH = DCBADDR(S_D.DUMPDCB)->F$DCB.WIDTH#;

   6918  2 000103   400004 236100                    LDQ     4,,PR4
         2 000104   000777 376007                    ANQ     511,DL
         2 000105   000014 756100                    STQ     12,,PR0

      174     6919    2           END;

   6919  2 000106   000111 710000 2                  TRA     s:6922

      175     6920    1        ELSE S_D.OUT_WIDTH = 132;

   6920  2 000107   000204 235007                    LDA     132,DL
         2 000110   000014 755100                    STA     12,,PR0

      176     6921
      177     6922    1        S_D.DESC$ = S_D.D$;                /* Point to descriptor */

   6922  2 000111   000044 236100                    LDQ     36,,PR0
         2 000112   000041 756100                    STQ     33,,PR0

      178     6923
      179     6924                                           /* Decode address descriptor and get 16 words
      180     6925                                              back in cache. */
      181     6926
      182     6927    1        IF S_D.RUM

   6927  2 000113   004755 234100                    SZN     2541,,PR0
         2 000114   000164 605000 2                  TPL     s:6944

      183     6928    2        THEN DO;

      184     6929    2             CALL DDK$EVAL ( ADDRESS, SEG, DESC#, NOT_IS ) ALTRET ( CLEAN_RETURN );

   6929  2 000115   200022 635500                    EPPR5   NOT_IS,,AUTO
         2 000116   200205 455500                    STP5    PTR$+4,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:35   
         2 000117   200021 636500                    EPPR6   DESC#,,AUTO
         2 000120   200204 456500                    STP6    PTR$+3,,AUTO
         2 000121   200020 637500                    EPPR7   SEG,,AUTO
         2 000122   200203 457500                    STP7    PTR$+2,,AUTO
         2 000123   200011 630500                    EPPR0   ADDRESS,,AUTO
         2 000124   200202 450500                    STP0    PTR$+1,,AUTO
         2 000125   200202 630500                    EPPR0   PTR$+1,,AUTO
         2 000126   000022 631400 xsym               EPPR1   B_VECTNIL+18
         2 000127   000000 701000 xent               TSX1    DDK$EVAL
         2 000130   001361 702000 2                  TSX2    CLEAN_RETURN

      185     6930    2             S_D.DUMP_HEAD = '0'B;

   6930  2 000131   000000 470400 xsym               LDP0    S_D$
         2 000132   005247 450100                    STZ     2727,,PR0

      186     6931    2             IF SEG = 7 AND

   6931  2 000133   200020 235100                    LDA     SEG,,AUTO
         2 000134   000007 115007                    CMPA    7,DL
         2 000135   000155 601000 2                  TNZ     s:6941
         2 000136   200021 236100                    LDQ     DESC#,,AUTO
         2 000137   000002 116007                    CMPQ    2,DL
         2 000140   000155 601000 2                  TNZ     s:6941

      187     6932    2               DESC# = 2
      188     6933    3             THEN DO;

      189     6934    3                  S_D.DO$ -> DUMP$CMD.FORMATCODE = 353;

   6934  2 000141   000031 471500                    LDP1    25,,PR0
         2 000142   000541 236003                    LDQ     353,DU
         2 000143   100001 552120                    STBQ    1,'20'O,PR1

      190     6935    3                  S_D.DO$ -> DUMP$CMD.FORMAT = '1'B;

   6935  2 000144   000031 471500                    LDP1    25,,PR0
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:36   
         2 000145   200000 236003                    LDQ     65536,DU
         2 000146   100001 256100                    ORSQ    1,,PR1

      191     6936    3                  S_D.DUMP_HEAD = '1'B;

   6936  2 000147   400000 236003                    LDQ     -131072,DU
         2 000150   005247 756100                    STQ     2727,,PR0

      192     6937    3                  CALL DDA$DUMP_DO ALTRET(OKAY);

   6937  2 000151   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 000152   000000 701000 xent               TSX1    DDA$DUMP_DO
         2 000153   000154 702000 2                  TSX2    OKAY

      193     6938    3   OKAY:
      194     6939    3                  RETURN;

   6939  2 000154   000000 702200 xent  OKAY         TSX2  ! X66_ARET

      195     6940    3                END;
      196     6941    2             CALL GET_L6WRD ( VALUE, %RU ) ALTRET ( L2 );

   6941  2 000155   000001 236000 3                  LDQ     1
         2 000156   200174 756100                    STQ     @WRD+1,,AUTO
         2 000157   200035 631500                    EPPR1   VALUE,,AUTO
         2 000160   200173 451500                    STP1    ZITEM$+5,,AUTO
         2 000161   002400 701000 2                  TSX1    GET_L6WRD
         2 000162   001352 702000 2                  TSX2    L2

      197     6942    2           END;

   6942  2 000163   000321 710000 2                  TRA     s:6971

      198     6943    2        ELSE DO;

      199     6944    2             ZITEM$ = S_D.D$;

PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:37   
   6944  2 000164   200166 756100                    STQ     ZITEM$,,AUTO

      200     6945    2             IF ZITEM.ADDR_TYPE = %SPEC_ACODE AND

   6945  2 000165   200166 475500                    LDP5    ZITEM$,,AUTO
         2 000166   500006 236100                    LDQ     6,,PR5
         2 000167   000777 376003                    ANQ     511,DU
         2 000170   000101 116003                    CMPQ    65,DU
         2 000171   000264 601000 2                  TNZ     s:6963
         2 000172   500007 236100                    LDQ     7,,PR5
         2 000173   777000 316003                    CANQ    -512,DU
         2 000174   000227 600000 2                  TZE     s:6960
         2 000175   500007 236100                    LDQ     7,,PR5
         2 000176   777000 376003                    ANQ     -512,DU
         2 000177   001000 116003                    CMPQ    512,DU
         2 000200   000227 600000 2                  TZE     s:6960
         2 000201   002000 116003                    CMPQ    1024,DU
         2 000202   000227 600000 2                  TZE     s:6960
         2 000203   040000 116003                    CMPQ    16384,DU
         2 000204   000227 600000 2                  TZE     s:6960
         2 000205   041000 116003                    CMPQ    16896,DU
         2 000206   000227 600000 2                  TZE     s:6960
         2 000207   042000 116003                    CMPQ    17408,DU
         2 000210   000227 600000 2                  TZE     s:6960
         2 000211   043000 116003                    CMPQ    17920,DU
         2 000212   000227 600000 2                  TZE     s:6960
         2 000213   036000 116003                    CMPQ    15360,DU
         2 000214   000227 600000 2                  TZE     s:6960
         2 000215   037000 116003                    CMPQ    15872,DU
         2 000216   000227 600000 2                  TZE     s:6960
         2 000217   016000 116003                    CMPQ    7168,DU
         2 000220   000227 600000 2                  TZE     s:6960
         2 000221   060000 116003                    CMPQ    24576,DU
         2 000222   000227 600000 2                  TZE     s:6960
         2 000223   030000 116003                    CMPQ    12288,DU
         2 000224   000227 600000 2                  TZE     s:6960
         2 000225   027000 116003                    CMPQ    11776,DU
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:38   
         2 000226   000264 601000 2                  TNZ     s:6963

      201     6946    2               (ZITEM.SP.VS.ID = %O_RTN OR
      202     6947    2               ZITEM.SP.VS.ID = %I_RTN OR
      203     6948    2               ZITEM.SP.VS.ID = %L_RTN OR
      204     6949    2               ZITEM.SP.VS.ID = %@_RTN OR
      205     6950    2               ZITEM.SP.VS.ID = %@@_RTN OR
      206     6951    2               ZITEM.SP.VS.ID = %#_RTN OR
      207     6952    2               ZITEM.SP.VS.ID = %##_RTN OR
      208     6953    2               ZITEM.SP.VS.ID = %RI_RTN OR
      209     6954    2               ZITEM.SP.VS.ID = %NA_RTN OR
      210     6955    2               ZITEM.SP.VS.ID = %IC_RTN OR
      211     6956    2               ZITEM.SP.VS.ID = %N_RTN OR
      212     6957    2               ZITEM.SP.VS.ID = %FMASK_RTN OR
      213     6958    2               ZITEM.SP.VS.ID = %FRANGE_RTN)
      214     6959    3             THEN DO;

      215     6960    3                  CALL DDK$EVAL(ADDRESS, SEG, DESC#, NOT_IS) ALTRET(CLEAN_RETURN);

   6960  2 000227   200022 636500                    EPPR6   NOT_IS,,AUTO
         2 000230   200205 456500                    STP6    PTR$+4,,AUTO
         2 000231   200021 637500                    EPPR7   DESC#,,AUTO
         2 000232   200204 457500                    STP7    PTR$+3,,AUTO
         2 000233   200020 630500                    EPPR0   SEG,,AUTO
         2 000234   200203 450500                    STP0    PTR$+2,,AUTO
         2 000235   200011 634500                    EPPR4   ADDRESS,,AUTO
         2 000236   200202 454500                    STP4    PTR$+1,,AUTO
         2 000237   200202 630500                    EPPR0   PTR$+1,,AUTO
         2 000240   000022 631400 xsym               EPPR1   B_VECTNIL+18
         2 000241   000000 701000 xent               TSX1    DDK$EVAL
         2 000242   001361 702000 2                  TSX2    CLEAN_RETURN

      216     6961    3                  CALL DFK$GETMVAL (CACHE, ADDRESS, SEG, DESC#, NOT_IS, '0'B) ALTRET(
              6961                           CLEAN_RETURN);

   6961  2 000243   000002 236000 3                  LDQ     2
         2 000244   200207 756100                    STQ     PTR$+6,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:39   
         2 000245   200022 630500                    EPPR0   NOT_IS,,AUTO
         2 000246   200206 450500                    STP0    PTR$+5,,AUTO
         2 000247   200021 631500                    EPPR1   DESC#,,AUTO
         2 000250   200205 451500                    STP1    PTR$+4,,AUTO
         2 000251   200020 633500                    EPPR3   SEG,,AUTO
         2 000252   200204 453500                    STP3    PTR$+3,,AUTO
         2 000253   200011 634500                    EPPR4   ADDRESS,,AUTO
         2 000254   200203 454500                    STP4    PTR$+2,,AUTO
         2 000255   200036 635500                    EPPR5   CACHE,,AUTO
         2 000256   200202 455500                    STP5    PTR$+1,,AUTO
         2 000257   200202 630500                    EPPR0   PTR$+1,,AUTO
         2 000260   000024 631400 xsym               EPPR1   B_VECTNIL+20
         2 000261   000000 701000 xent               TSX1    DFK$GETMVAL
         2 000262   001361 702000 2                  TSX2    CLEAN_RETURN

      217     6962    3                END;

   6962  2 000263   000310 710000 2                  TRA     s:6965

      218     6963    2            ELSE CALL DFK$EVAL(CACHE, ADDRESS, SEG, DESC#, NOT_IS, SIZE, EXPR_OP, '0'B
              6963                      )

   6963  2 000264   000002 236000 3                  LDQ     2
         2 000265   200211 756100                    STQ     PTR$+8,,AUTO
         2 000266   200023 636500                    EPPR6   EXPR_OP,,AUTO
         2 000267   200210 456500                    STP6    PTR$+7,,AUTO
         2 000270   200065 637500                    EPPR7   SIZE,,AUTO
         2 000271   200207 457500                    STP7    PTR$+6,,AUTO
         2 000272   200022 630500                    EPPR0   NOT_IS,,AUTO
         2 000273   200206 450500                    STP0    PTR$+5,,AUTO
         2 000274   200021 634500                    EPPR4   DESC#,,AUTO
         2 000275   200205 454500                    STP4    PTR$+4,,AUTO
         2 000276   200020 630500                    EPPR0   SEG,,AUTO
         2 000277   200204 450500                    STP0    PTR$+3,,AUTO
         2 000300   200011 630500                    EPPR0   ADDRESS,,AUTO
         2 000301   200203 450500                    STP0    PTR$+2,,AUTO
         2 000302   200036 630500                    EPPR0   CACHE,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:40   
         2 000303   200202 450500                    STP0    PTR$+1,,AUTO
         2 000304   200202 630500                    EPPR0   PTR$+1,,AUTO
         2 000305   000026 631400 xsym               EPPR1   B_VECTNIL+22
         2 000306   000000 701000 xent               TSX1    DFK$EVAL
         2 000307   001361 702000 2                  TSX2    CLEAN_RETURN

      219     6964    2                    ALTRET ( CLEAN_RETURN );
      220     6965    2             CACHE_BOOK.SOURCE = %MEM;

   6965  2 000310   000003 235007                    LDA     3,DL
         2 000311   200057 755100                    STA     CACHE_BOOK,,AUTO

      221     6966    2             CACHE_BOOK.START_ADDR = ADDRESS;

   6966  2 000312   200011 236100                    LDQ     ADDRESS,,AUTO
         2 000313   200060 756100                    STQ     CACHE_BOOK+1,,AUTO

      222     6967    2             CACHE_BOOK.END_ADDR = ADDRESS + CACHE.SIZE - 1;

   6967  2 000314   200036 036100                    ADLQ    CACHE,,AUTO
         2 000315   000001 136007                    SBLQ    1,DL
         2 000316   200061 756100                    STQ     CACHE_BOOK+2,,AUTO

      223     6968    2             VALUE = CACHE.OPS ( 0 );

   6968  2 000317   200037 235100                    LDA     CACHE+1,,AUTO
         2 000320   200035 755100                    STA     VALUE,,AUTO

      224     6969    2           END;

      225     6970
      226     6971    1        SAVE_VALUE.VAL = BINBIT ( VALUE, 16 ); /* Set up for same value check */

   6971  2 000321   200035 236100                    LDQ     VALUE,,AUTO
         2 000322   000024 736000                    QLS     20
         2 000323   000024 772000                    QRL     20
         2 000324   200150 676100                    ERQ     SAVE_VALUE,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:41   
         2 000325   177777 376007                    ANQ     65535,DL
         2 000326   200150 656100                    ERSQ    SAVE_VALUE,,AUTO

      227     6972
      228     6973                                                /* Determine display format */
      229     6974
      230     6975    1        BLANK = 32;         /* '040'o corresponds to ' ' in ascii character set */

   6975  2 000327   000040 235007                    LDA     32,DL
         2 000330   200153 755100                    STA     BLANK,,AUTO

      231     6976    1        IF S_D.DO$->DUMP$CMD.ASCII_FLAG THEN C_FLAG = '1'B;

   6976  2 000331   000000 470400 xsym               LDP0    S_D$
         2 000332   000031 471500                    LDP1    25,,PR0
         2 000333   100001 236100                    LDQ     1,,PR1
         2 000334   040000 316003                    CANQ    16384,DU
         2 000335   000340 600000 2                  TZE     s:6977

   6976  2 000336   400000 236003                    LDQ     -131072,DU
         2 000337   200026 756100                    STQ     C_FLAG,,AUTO

      232     6977    1        IF S_D.DO$->DUMP$CMD.EBCDIC_FLAG THEN EB_FLAG = '1'B;

   6977  2 000340   100001 236100                    LDQ     1,,PR1
         2 000341   004000 316003                    CANQ    2048,DU
         2 000342   000345 600000 2                  TZE     s:6978

   6977  2 000343   400000 236003                    LDQ     -131072,DU
         2 000344   200030 756100                    STQ     EB_FLAG,,AUTO

      233     6978    1        IF S_D.DO$->DUMP$CMD.FORMAT THEN

   6978  2 000345   100001 236100                    LDQ     1,,PR1
         2 000346   200000 316003                    CANQ    65536,DU
         2 000347   000431 600000 2                  TZE     s:7001

PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:42   
      234     6979    2        DO CASE ( S_D.DO$ -> DUMP$CMD.FORMATCODE );

   6979  2 000350   100001 236100                    LDQ     1,,PR1
         2 000351   000022 772000                    QRL     18
         2 000352   000777 376007                    ANQ     511,DL
         2 000353   000525 136007                    SBLQ    341,DL
         2 000354   000025 116007                    CMPQ    21,DL
         2 000355   000357 602006 2                  TNC     s:6979+7,QL
         2 000356   000431 710000 2                  TRA     s:7001
         2 000357   000427 710000 2                  TRA     s:6996
         2 000360   000431 710000 2                  TRA     s:7001
         2 000361   000431 710000 2                  TRA     s:7001
         2 000362   000404 710000 2                  TRA     s:6981
         2 000363   000431 710000 2                  TRA     s:7001
         2 000364   000431 710000 2                  TRA     s:7001
         2 000365   000431 710000 2                  TRA     s:7001
         2 000366   000431 710000 2                  TRA     s:7001
         2 000367   000431 710000 2                  TRA     s:7001
         2 000370   000431 710000 2                  TRA     s:7001
         2 000371   000431 710000 2                  TRA     s:7001
         2 000372   000431 710000 2                  TRA     s:7001
         2 000373   000424 710000 2                  TRA     s:6994
         2 000374   000431 710000 2                  TRA     s:7001
         2 000375   000431 710000 2                  TRA     s:7001
         2 000376   000431 710000 2                  TRA     s:7001
         2 000377   000431 710000 2                  TRA     s:7001
         2 000400   000421 710000 2                  TRA     s:6991
         2 000401   000431 710000 2                  TRA     s:7001
         2 000402   000431 710000 2                  TRA     s:7001
         2 000403   000407 710000 2                  TRA     s:6983

      235     6980    2          CASE ( 344 );              /* FMT4_CODE (\c) */

      236     6981    2             C_FLAG = '1'B;

   6981  2 000404   400000 236003                    LDQ     -131072,DU
         2 000405   200026 756100                    STQ     C_FLAG,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:43   
         2 000406   000431 710000 2                  TRA     s:7001

      237     6982    2          CASE ( 361 );             /* FMT21_CODE (\eb) */

      238     6983    2             EB_FLAG = '1'B;

   6983  2 000407   400000 236003                    LDQ     -131072,DU
         2 000410   200030 756100                    STQ     EB_FLAG,,AUTO

      239     6984    2             IF C_FLAG

   6984  2 000411   200026 234100                    SZN     C_FLAG,,AUTO
         2 000412   000416 605000 2                  TPL     s:6989

      240     6985    3             THEN DO;

      241     6986    3                  S_D.ERROR = 322; /* E@FMTCONFLICT */

   6986  2 000413   000502 235007                    LDA     322,DL
         2 000414   000013 755100                    STA     11,,PR0

      242     6987    3                  ALTRETURN;

   6987  2 000415   000000 702200 xent               TSX2  ! X66_AALT

      243     6988    3                END;
      244     6989    2             BLANK = 64;    /* '100'o corresponds to ' ' in ebcdic character set */

   6989  2 000416   000100 235007                    LDA     64,DL
         2 000417   200153 755100                    STA     BLANK,,AUTO
         2 000420   000431 710000 2                  TRA     s:7001

      245     6990    2          CASE ( 358 );             /* FMT18_CODE (\X1) */

      246     6991    2             S_D.ERROR = 311;     /* E@WRONFEPFMT */

   6991  2 000421   000467 235007                    LDA     311,DL
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:44   
         2 000422   000013 755100                    STA     11,,PR0

      247     6992    2             ALTRETURN;

   6992  2 000423   000000 702200 xent               TSX2  ! X66_AALT

      248     6993    2          CASE ( 353 );             /* FMT13_CODE (\x) */

      249     6994    2             H_FLAG = '1'B;

   6994  2 000424   400000 236003                    LDQ     -131072,DU
         2 000425   200027 756100                    STQ     H_FLAG,,AUTO
         2 000426   000431 710000 2                  TRA     s:7001

      250     6995    2          CASE ( 341 );              /* FMT1_CODE (\o) */

      251     6996    2             O_FLAG = '1'B;

   6996  2 000427   400000 236003                    LDQ     -131072,DU
         2 000430   200031 756100                    STQ     O_FLAG,,AUTO

      252     6997    2          END;

      253     6998
      254     6999                                                /* Setup display width */
      255     7000
      256     7001    1        S_D.OUTPUT = ' ';

   7001  2 000431   040100 100400                    MLR     fill='040'O
         2 000432   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         2 000433   005335 004000                    ADSC9   2781,,PR0                cn=0,n=2048

      257     7002    1        IF O_FLAG

   7002  2 000434   200031 234100                    SZN     O_FLAG,,AUTO
         2 000435   000441 605000 2                  TPL     s:7004

PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:45   
      258     7003    1        THEN TEMP = 7;                     /* Size of one word in octal dump */

   7003  2 000436   000007 236007                    LDQ     7,DL
         2 000437   200014 756100                    STQ     TEMP,,AUTO
         2 000440   000443 710000 2                  TRA     s:7005

      259     7004    1        ELSE TEMP = 5;                     /* Size of one word in hex dump */

   7004  2 000441   000005 236007                    LDQ     5,DL
         2 000442   200014 756100                    STQ     TEMP,,AUTO

      260     7005    1        MAX_CELL = MAXIMUM ( S_D.OUT_WIDTH, 11 ) - 10;

   7005  2 000443   000013 236007                    LDQ     11,DL
         2 000444   000450 604000 2                  TMI     s:7005+5
         2 000445   000014 116100                    CMPQ    12,,PR0
         2 000446   000450 605000 2                  TPL     s:7005+5
         2 000447   000014 236100                    LDQ     12,,PR0
         2 000450   000012 136007                    SBLQ    10,DL
         2 000451   200015 756100                    STQ     MAX_CELL,,AUTO

      261     7006    1        IF C_FLAG OR EB_FLAG

   7006  2 000452   200026 234100                    SZN     C_FLAG,,AUTO
         2 000453   000456 604000 2                  TMI     s:7008
         2 000454   200030 234100                    SZN     EB_FLAG,,AUTO
         2 000455   000463 605000 2                  TPL     s:7011

      262     7007    2        THEN DO;

      263     7008    2             MAX_CELL = MAX_CELL - 1;

   7008  2 000456   000001 336007                    LCQ     1,DL
         2 000457   200015 056100                    ASQ     MAX_CELL,,AUTO

      264     7009    2             TEMP = TEMP + 1;

PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:46   
   7009  2 000460   200014 235100                    LDA     TEMP,,AUTO
         2 000461   000001 035007                    ADLA    1,DL
         2 000462   200014 755100                    STA     TEMP,,AUTO

      265     7010    2           END;

      266     7011    1        MAX_CELL = MAX_CELL / TEMP;

   7011  2 000463   200015 236100                    LDQ     MAX_CELL,,AUTO
         2 000464   200014 235100                    LDA     TEMP,,AUTO
         2 000465   000470 605000 2                  TPL     s:7011+5
         2 000466   000000 236003                    LDQ     0,DU
         2 000467   000471 710000 2                  TRA     s:7011+6
         2 000470   200014 506100                    DIV     TEMP,,AUTO
         2 000471   200015 756100                    STQ     MAX_CELL,,AUTO

      267     7012    1        IF MAX_CELL < 8

   7012  2 000472   000010 116007                    CMPQ    8,DL
         2 000473   000477 605000 2                  TPL     s:7014

      268     7013    1        THEN MAX_CELL = 4;

   7013  2 000474   000004 235007                    LDA     4,DL
         2 000475   200015 755100                    STA     MAX_CELL,,AUTO
         2 000476   000506 710000 2                  TRA     s:7017

      269     7014    1        ELSE IF MAX_CELL < 16

   7014  2 000477   000020 116007                    CMPQ    16,DL
         2 000500   000504 605000 2                  TPL     s:7016

      270     7015    1             THEN MAX_CELL = 8;

   7015  2 000501   000010 235007                    LDA     8,DL
         2 000502   200015 755100                    STA     MAX_CELL,,AUTO
         2 000503   000506 710000 2                  TRA     s:7017
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:47   

      271     7016    1             ELSE MAX_CELL = 16;

   7016  2 000504   000020 235007                    LDA     16,DL
         2 000505   200015 755100                    STA     MAX_CELL,,AUTO

      272     7017    1        IF C_FLAG OR EB_FLAG

   7017  2 000506   200026 234100                    SZN     C_FLAG,,AUTO
         2 000507   000512 604000 2                  TMI     s:7018
         2 000510   200030 234100                    SZN     EB_FLAG,,AUTO
         2 000511   000515 605000 2                  TPL     s:7019

      273     7018    1        THEN TEMP = TEMP - 1;

   7018  2 000512   200014 236100                    LDQ     TEMP,,AUTO
         2 000513   000001 136007                    SBLQ    1,DL
         2 000514   200014 756100                    STQ     TEMP,,AUTO

      274     7019    1        TEMP = 10 + TEMP * MAX_CELL / 2;

   7019  2 000515   200014 236100                    LDQ     TEMP,,AUTO
         2 000516   200015 402100                    MPY     MAX_CELL,,AUTO
         2 000517   000002 506007                    DIV     2,DL
         2 000520   000012 036007                    ADLQ    10,DL
         2 000521   200014 756100                    STQ     TEMP,,AUTO

      275     7020
      276     7021    1        IF S_D.DO$->DUMP$CMD.PAGE_EJECT THEN CALL DDQ$WRTOFD;

   7021  2 000522   100001 236100                    LDQ     1,,PR1
         2 000523   020000 316003                    CANQ    8192,DU
         2 000524   000530 600000 2                  TZE     s:7025

   7021  2 000525   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 000526   000000 701000 xent               TSX1    DDQ$WRTOFD
         2 000527   000000 011000                    NOP     0
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:48   

      277     7022
      278     7023                                                /* Output heading if present */
      279     7024
      280     7025    1        IF S_D.DO$->DUMP$CMD.HEADING

   7025  2 000530   000000 470400 xsym               LDP0    S_D$
         2 000531   000031 471500                    LDP1    25,,PR0
         2 000532   100001 234100                    SZN     1,,PR1
         2 000533   000612 605000 2                  TPL     s:7038

      281     7026    2        THEN DO;

      282     7027    2             TEXT_LEN = S_D.DESC$->DUMP_HEADING.LEN;

   7027  2 000534   000041 473500                    LDP3    33,,PR0
         2 000535   000100 101500                    MRL     fill='000'O
         2 000536   300000 000001                    ADSC9   0,,PR3                   cn=0,n=1
         2 000537   200017 000004                    ADSC9   TEXT_LEN,,AUTO           cn=0,n=4

      283     7028    2             TEMP_S = TEMP - TEXT_LEN/2;

   7028  2 000540   200017 236100                    LDQ     TEXT_LEN,,AUTO
         2 000541   000001 772000                    QRL     1
         2 000542   200202 756100                    STQ     PTR$+1,,AUTO
         2 000543   200014 236100                    LDQ     TEMP,,AUTO
         2 000544   200202 136100                    SBLQ    PTR$+1,,AUTO
         2 000545   200012 756100                    STQ     TEMP_S,,AUTO

      284     7029    2             IF TEMP_S < 1 THEN TEMP_S = 1;

   7029  2 000546   000551 605400 2                  TPNZ    s:7030

   7029  2 000547   000001 235007                    LDA     1,DL
         2 000550   200012 755100                    STA     TEMP_S,,AUTO

      285     7030    2             S_D.D$=PINCRC(OUTPUT$, TEMP_S);
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:49   

   7030  2 000551   200012 236100                    LDQ     TEMP_S,,AUTO
         2 000552   000020 736000                    QLS     16
         2 000553   200157 036100                    ADLQ    OUTPUT$,,AUTO
         2 000554   000044 756100                    STQ     36,,PR0

      286     7031    2             S_D.D$->CHAR32 = S_D.DESC$->DUMP_HEADING.TEXT;

   7031  2 000555   000044 471500                    LDP1    36,,PR0
         2 000556   000041 473500                    LDP3    33,,PR0
         2 000557   200017 720100                    LXL0    TEXT_LEN,,AUTO
         2 000560   040100 100540                    MLR     fill='040'O
         2 000561   300000 200010                    ADSC9   0,,PR3                   cn=1,n=*X0
         2 000562   100000 000040                    ADSC9   0,,PR1                   cn=0,n=32

      287     7032    2             CALL DDQ$WRITED(OUTPUT$,

   7032  2 000563   000044 471500                    LDP1    36,,PR0
         2 000564   200017 236100                    LDQ     TEXT_LEN,,AUTO
         2 000565   000011 402007                    MPY     9,DL
         2 000566   000011 036007                    ADLQ    9,DL
         2 000567   100000 503506                    ABD     0,QL,PR1
         2 000570   200202 451500                    STP1    PTR$+1,,AUTO
         2 000571   200202 236100                    LDQ     PTR$+1,,AUTO
         2 000572   000020 772000                    QRL     16
         2 000573   200203 756100                    STQ     PTR$+2,,AUTO
         2 000574   200157 236100                    LDQ     OUTPUT$,,AUTO
         2 000575   000020 772000                    QRL     16
         2 000576   200204 756100                    STQ     PTR$+3,,AUTO
         2 000577   200203 236100                    LDQ     PTR$+2,,AUTO
         2 000600   200204 136100                    SBLQ    PTR$+3,,AUTO
         2 000601   200205 756100                    STQ     PTR$+4,,AUTO
         2 000602   200205 633500                    EPPR3   PTR$+4,,AUTO
         2 000603   200207 453500                    STP3    PTR$+6,,AUTO
         2 000604   200157 634500                    EPPR4   OUTPUT$,,AUTO
         2 000605   200206 454500                    STP4    PTR$+5,,AUTO
         2 000606   200206 630500                    EPPR0   PTR$+5,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:50   
         2 000607   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000610   000000 701000 xent               TSX1    DDQ$WRITED
         2 000611   000000 011000                    NOP     0

      288     7033    2               POFFC(PINCRC(S_D.D$,TEXT_LEN+1),OUTPUT$));
      289     7034    2           END;

      290     7035
      291     7036                                                /* Put symbolic address in title */
      292     7037
      293     7038    1        S_D.D$ = OUTPUT$;

   7038  2 000612   200157 236100                    LDQ     OUTPUT$,,AUTO
         2 000613   000000 470400 xsym               LDP0    S_D$
         2 000614   000044 756100                    STQ     36,,PR0

      294     7039    1        S_D.DESCL$ = PINCRC(S_D.D$, SIZEC(S_D.OUTPUT));

   7039  2 000615   001000 036003                    ADLQ    512,DU
         2 000616   000042 756100                    STQ     34,,PR0

      295     7040    1       CALL DDA$DISPADR(ADDRESS,SEG,DESC#,NOT_IS,%REL_FMT, , 36 ) ALTRET(CLEAN_RETURN)
              7040                 ;

   7040  2 000617   000004 236000 3                  LDQ     4
         2 000620   200210 756100                    STQ     PTR$+7,,AUTO
         2 000621   000001 236000 xsym               LDQ     B_VECTNIL+1
         2 000622   000005 235000 3                  LDA     5
         2 000623   200206 757100                    STAQ    PTR$+5,,AUTO
         2 000624   200022 631500                    EPPR1   NOT_IS,,AUTO
         2 000625   200205 451500                    STP1    PTR$+4,,AUTO
         2 000626   200021 633500                    EPPR3   DESC#,,AUTO
         2 000627   200204 453500                    STP3    PTR$+3,,AUTO
         2 000630   200020 634500                    EPPR4   SEG,,AUTO
         2 000631   200203 454500                    STP4    PTR$+2,,AUTO
         2 000632   200011 635500                    EPPR5   ADDRESS,,AUTO
         2 000633   200202 455500                    STP5    PTR$+1,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:51   
         2 000634   200202 630500                    EPPR0   PTR$+1,,AUTO
         2 000635   000025 631400 xsym               EPPR1   B_VECTNIL+21
         2 000636   000000 701000 xent               TSX1    DDA$DISPADR
         2 000637   001361 702000 2                  TSX2    CLEAN_RETURN

      296     7041    1        CALL DDQ$WRITED(OUTPUT$,POFFC(S_D.D$,OUTPUT$));

   7041  2 000640   200157 236100                    LDQ     OUTPUT$,,AUTO
         2 000641   000020 772000                    QRL     16
         2 000642   200202 756100                    STQ     PTR$+1,,AUTO
         2 000643   000000 470400 xsym               LDP0    S_D$
         2 000644   000044 236100                    LDQ     36,,PR0
         2 000645   000020 772000                    QRL     16
         2 000646   200202 136100                    SBLQ    PTR$+1,,AUTO
         2 000647   200203 756100                    STQ     PTR$+2,,AUTO
         2 000650   200203 631500                    EPPR1   PTR$+2,,AUTO
         2 000651   200205 451500                    STP1    PTR$+4,,AUTO
         2 000652   200157 633500                    EPPR3   OUTPUT$,,AUTO
         2 000653   200204 453500                    STP3    PTR$+3,,AUTO
         2 000654   200204 630500                    EPPR0   PTR$+3,,AUTO
         2 000655   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000656   000000 701000 xent               TSX1    DDQ$WRITED
         2 000657   000000 011000                    NOP     0

      297     7042
      298     7043                                                /* Setup for dump loop */
      299     7044
      300     7045    1        IF ADDRESS ~= 0

   7045  2 000660   200011 235100                    LDA     ADDRESS,,AUTO
         2 000661   000667 600000 2                  TZE     s:7047

      301     7046    1        THEN OFFSET = (ADDRESS/MAX_CELL)*MAX_CELL;

   7046  2 000662   200011 236100                    LDQ     ADDRESS,,AUTO
         2 000663   200015 506100                    DIV     MAX_CELL,,AUTO
         2 000664   200015 402100                    MPY     MAX_CELL,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:52   
         2 000665   200066 756100                    STQ     OFFSET,,AUTO
         2 000666   000670 710000 2                  TRA     s:7048

      302     7047    1        ELSE OFFSET = 0;

   7047  2 000667   200066 450100                    STZ     OFFSET,,AUTO

      303     7048    1        MAX_ADDRESS = ADDRESS + NUM_WORDS-1;

   7048  2 000670   200011 236100                    LDQ     ADDRESS,,AUTO
         2 000671   200024 036100                    ADLQ    NUM_WORDS,,AUTO
         2 000672   000001 136007                    SBLQ    1,DL
         2 000673   200016 756100                    STQ     MAX_ADDRESS,,AUTO

      304     7049    1        J = ADDRESS - OFFSET;              /* Compute position of first cell */

   7049  2 000674   200011 236100                    LDQ     ADDRESS,,AUTO
         2 000675   200066 136100                    SBLQ    OFFSET,,AUTO
         2 000676   200154 756100                    STQ     J,,AUTO

      305     7050    2        DO I = 0 TO 15;

   7050  2 000677   200013 450100                    STZ     I,,AUTO

      306     7051    2             DATA.VAL.L (I) = BLANK;

   7051  2 000700   200013 720100                    LXL0    I,,AUTO
         2 000701   200153 236100                    LDQ     BLANK,,AUTO
         2 000702   000010 736000                    QLS     8
         2 000703   200070 676110                    ERQ     DATA,X0,AUTO
         2 000704   177400 376007                    ANQ     65280,DL
         2 000705   200070 656110                    ERSQ    DATA,X0,AUTO

      307     7052    2             DATA.VAL.R (I) = BLANK;

   7052  2 000706   200153 236100                    LDQ     BLANK,,AUTO
         2 000707   200070 676110                    ERQ     DATA,X0,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:53   
         2 000710   000377 376007                    ANQ     255,DL
         2 000711   200070 656110                    ERSQ    DATA,X0,AUTO

      308     7053    2             SAVE_DATA.VAL.L (I) = BLANK;

   7053  2 000712   200153 236100                    LDQ     BLANK,,AUTO
         2 000713   000010 736000                    QLS     8
         2 000714   200120 676110                    ERQ     SAVE_DATA,X0,AUTO
         2 000715   177400 376007                    ANQ     65280,DL
         2 000716   200120 656110                    ERSQ    SAVE_DATA,X0,AUTO

      309     7054    2             SAVE_DATA.VAL.R (I) = BLANK;

   7054  2 000717   200153 236100                    LDQ     BLANK,,AUTO
         2 000720   200120 676110                    ERQ     SAVE_DATA,X0,AUTO
         2 000721   000377 376007                    ANQ     255,DL
         2 000722   200120 656110                    ERSQ    SAVE_DATA,X0,AUTO

      310     7055    2           END;

   7055  2 000723   200013 235100                    LDA     I,,AUTO
         2 000724   000001 035007                    ADLA    1,DL
         2 000725   200013 755100                    STA     I,,AUTO
         2 000726   000020 115007                    CMPA    16,DL
         2 000727   000700 602000 2                  TNC     s:7051

      311     7056    1        DATA_STR = ' ';

   7056  2 000730   040100 100400                    MLR     fill='040'O
         2 000731   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         2 000732   200110 000040                    ADSC9   DATA_CHAR,,AUTO          cn=0,n=32

      312     7057    1        SAVE_DATA_STR = ' ';

   7057  2 000733   040100 100400                    MLR     fill='040'O
         2 000734   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         2 000735   200140 000040                    ADSC9   SAVE_DATA_CHAR,,AUTO     cn=0,n=32
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:54   

      313     7058    1        OFFSET_SAVE = -1;   /* Show that offset must be saved when dup found */

   7058  2 000736   000001 336007                    LCQ     1,DL
         2 000737   200152 756100                    STQ     OFFSET_SAVE,,AUTO

      314     7059    1        SAME_COUNT = 0;

   7059  2 000740   200160 450100                    STZ     SAME_COUNT,,AUTO

      315     7060    1        IF (J = 0) AND (NOT LONG_FLAG)

   7060  2 000741   200154 235100                    LDA     J,,AUTO
         2 000742   000750 601000 2                  TNZ     s:7062
         2 000743   200032 234100                    SZN     LONG_FLAG,,AUTO
         2 000744   000750 604000 2                  TMI     s:7062

      316     7061    1        THEN CHECK_DUP = '1'B;

   7061  2 000745   400000 236003                    LDQ     -131072,DU
         2 000746   200161 756100                    STQ     CHECK_DUP,,AUTO
         2 000747   000751 710000 2                  TRA     s:7063

      317     7062    1       ELSE CHECK_DUP = '0'B; /* Dont check for dups if not full line or long format*/

   7062  2 000750   200161 450100                    STZ     CHECK_DUP,,AUTO

      318     7063    1        MAX_CELL_M_1 = MAX_CELL - 1;

   7063  2 000751   200015 236100                    LDQ     MAX_CELL,,AUTO
         2 000752   000001 136007                    SBLQ    1,DL
         2 000753   200067 756100                    STQ     MAX_CELL_M_1,,AUTO

   7063  2 000754                       LOOP_TOP     null
      319     7064
      320     7065                                                /* Dump loop */
      321     7066
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:55   
      322     7067    1   LOOP_TOP: ;
      323     7068    2        DO I=J TO MAX_CELL_M_1;            /* For each cell in a particular line */

   7068  2 000754   200154 235100                    LDA     J,,AUTO
         2 000755   200013 755100                    STA     I,,AUTO
         2 000756   001071 710000 2                  TRA     s:7095+3

      324     7069    2             CALL DDB$BREAK ALTRET(CLEAN_RETURN); /* Check if user has hit break */

   7069  2 000757   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 000760   000000 701000 xent               TSX1    DDB$BREAK
         2 000761   001361 702000 2                  TSX2    CLEAN_RETURN

      325     7070    2             IF S_D.RUM THEN CALL GET_L6WRD ( VALUE, %RU ) ALTRET ( ALT_CHECK );

   7070  2 000762   000000 470400 xsym               LDP0    S_D$
         2 000763   004755 234100                    SZN     2541,,PR0
         2 000764   000774 605000 2                  TPL     s:7071

   7070  2 000765   000001 236000 3                  LDQ     1
         2 000766   200174 756100                    STQ     @WRD+1,,AUTO
         2 000767   200035 631500                    EPPR1   VALUE,,AUTO
         2 000770   200173 451500                    STP1    ZITEM$+5,,AUTO
         2 000771   002400 701000 2                  TSX1    GET_L6WRD
         2 000772   001416 702000 2                  TSX2    ALT_CHECK
         2 000773   001002 710000 2                  TRA     s:7072

      326     7071    2             ELSE CALL GET_L6WRD ( VALUE, %MEM ) ALTRET ( ALT_CHECK );

   7071  2 000774   000006 236000 3                  LDQ     6
         2 000775   200174 756100                    STQ     @WRD+1,,AUTO
         2 000776   200035 631500                    EPPR1   VALUE,,AUTO
         2 000777   200173 451500                    STP1    ZITEM$+5,,AUTO
         2 001000   002400 701000 2                  TSX1    GET_L6WRD
         2 001001   001416 702000 2                  TSX2    ALT_CHECK

      327     7072    2             DATA.VAL(I) = BINBIT ( VALUE , 16 );
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:56   

   7072  2 001002   200035 236100                    LDQ     VALUE,,AUTO
         2 001003   000024 736000                    QLS     20
         2 001004   200013 720100                    LXL0    I,,AUTO
         2 001005   000024 772000                    QRL     20
         2 001006   200070 676110                    ERQ     DATA,X0,AUTO
         2 001007   177777 376007                    ANQ     65535,DL
         2 001010   200070 656110                    ERSQ    DATA,X0,AUTO

      328     7073    3             IF CHECK_DUP THEN DO;

   7073  2 001011   200161 234100                    SZN     CHECK_DUP,,AUTO
         2 001012   001061 605000 2                  TPL     s:7093

      329     7074    4                  IF SAVE_VALUE.VAL = BINBIT ( VALUE, 16 ) THEN DO;

   7074  2 001013   200035 236100                    LDQ     VALUE,,AUTO
         2 001014   000024 736000                    QLS     20
         2 001015   200202 756100                    STQ     PTR$+1,,AUTO
         2 001016   000100 066500                    CMPB    filb='0'B
         2 001017   200150 420020                    BDSC    SAVE_VALUE,,AUTO         by=2,bit=2,n=16
         2 001020   200202 000044                    BDSC    PTR$+1,,AUTO             by=0,bit=0,n=36
         2 001021   001033 601000 2                  TNZ     s:7079

      330     7075    4                       SAME_COUNT = SAME_COUNT + 1;

   7075  2 001022   200160 235100                    LDA     SAME_COUNT,,AUTO
         2 001023   000001 035007                    ADLA    1,DL
         2 001024   200160 755100                    STA     SAME_COUNT,,AUTO

      331     7076    4                       IF OFFSET_SAVE = -1 THEN OFFSET_SAVE = OFFSET;

   7076  2 001025   200152 236100                    LDQ     OFFSET_SAVE,,AUTO
         2 001026   000027 116000 xsym               CMPQ    B_VECTNIL+23
         2 001027   001061 601000 2                  TNZ     s:7093

   7076  2 001030   200066 235100                    LDA     OFFSET,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:57   
         2 001031   200152 755100                    STA     OFFSET_SAVE,,AUTO

      332     7077    4                     END;

   7077  2 001032   001061 710000 2                  TRA     s:7093

      333     7078    4                  ELSE DO;

      334     7079    5                       IF SAME_COUNT >= MAX_CELL THEN DO; /* At least 1 line */

   7079  2 001033   200160 236100                    LDQ     SAME_COUNT,,AUTO
         2 001034   001037 604000 2                  TMI     s:7080
         2 001035   200015 116100                    CMPQ    MAX_CELL,,AUTO
         2 001036   001043 604000 2                  TMI     s:7083

      335     7080    5                            CALL SAME_OUT; /* Describe same values */

   7080  2 001037   001437 701000 2                  TSX1    SAME_OUT
         2 001040   000000 011000                    NOP     0

      336     7081    5                            OFFSET_SAVE = -1;

   7081  2 001041   000001 335007                    LCA     1,DL
         2 001042   200152 755100                    STA     OFFSET_SAVE,,AUTO

      337     7082    5                          END;

      338     7083    4                       SAVE_VALUE.VAL = BINBIT ( VALUE, 16 );

   7083  2 001043   200035 236100                    LDQ     VALUE,,AUTO
         2 001044   000024 736000                    QLS     20
         2 001045   000024 772000                    QRL     20
         2 001046   200150 676100                    ERQ     SAVE_VALUE,,AUTO
         2 001047   177777 376007                    ANQ     65535,DL
         2 001050   200150 656100                    ERSQ    SAVE_VALUE,,AUTO

      339     7084    4                       SAME_COUNT = 1;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:58   

   7084  2 001051   000001 235007                    LDA     1,DL
         2 001052   200160 755100                    STA     SAME_COUNT,,AUTO

      340     7085    5                       IF I ~= 0 THEN DO;

   7085  2 001053   200013 236100                    LDQ     I,,AUTO
         2 001054   001061 600000 2                  TZE     s:7093

      341     7086    5                            CHECK_DUP = '0'B; /* Turn off dup check

   7086  2 001055   200161 450100                    STZ     CHECK_DUP,,AUTO

      342     7087                                                if we're in the middle of a line */
      343     7088    5                            SAME_COUNT = 0;

   7088  2 001056   200160 450100                    STZ     SAME_COUNT,,AUTO

      344     7089    5                            OFFSET_SAVE = -1;

   7089  2 001057   000001 335007                    LCA     1,DL
         2 001060   200152 755100                    STA     OFFSET_SAVE,,AUTO

      345     7090    5                          END;

      346     7091    4                     END;

      347     7092    3                END;

      348     7093    2             ADDRESS = ADDRESS + 1;

   7093  2 001061   200011 054100                    AOS     ADDRESS,,AUTO

      349     7094    2             IF ADDRESS > MAX_ADDRESS THEN GOTO LAST_TIME;

   7094  2 001062   200016 236100                    LDQ     MAX_ADDRESS,,AUTO
         2 001063   001066 604000 2                  TMI     s:7095
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:59   
         2 001064   200011 116100                    CMPQ    ADDRESS,,AUTO
         2 001065   001136 604000 2                  TMI     LAST_TIME

      350     7095    2           END;

   7095  2 001066   200013 235100                    LDA     I,,AUTO
         2 001067   000001 035007                    ADLA    1,DL
         2 001070   200013 755100                    STA     I,,AUTO
         2 001071   200067 236100                    LDQ     MAX_CELL_M_1,,AUTO
         2 001072   200013 116100                    CMPQ    I,,AUTO
         2 001073   000757 603000 2                  TRC     s:7069

      351     7096
      352     7097    1        IF CHECK_DUP THEN GOTO RE_ENTER_LOOP; /* CHECK_DUP means SAME_COUNT

   7097  2 001074   200161 234100                    SZN     CHECK_DUP,,AUTO
         2 001075   001100 604000 2                  TMI     RE_ENTER_LOOP

      353     7098                                                is at least = MAX_CELL, otherwise we
      354     7099                                                have a data line to print */
      355     7100    1        CALL LINE_OUT;

   7100  2 001076   001706 701000 2                  TSX1    LINE_OUT
         2 001077   000000 011000                    NOP     0

   7097  2 001100                       RE_ENTER_LO* null
      356     7101
      357     7102    1   RE_ENTER_LOOP: ;                        /* Here to temporarily bypass output */
      358     7103    1        OFFSET = OFFSET + MAX_CELL;

   7103  2 001100   200066 236100                    LDQ     OFFSET,,AUTO
         2 001101   200015 036100                    ADLQ    MAX_CELL,,AUTO
         2 001102   200066 756100                    STQ     OFFSET,,AUTO

      359     7104    1        J = 0;                             /* Start at the begining of the line */

   7104  2 001103   200154 450100                    STZ     J,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:60   

      360     7105    2        DO I = 0 TO 15;

   7105  2 001104   200013 450100                    STZ     I,,AUTO

      361     7106    2             DATA.VAL.L ( I ) = BLANK;

   7106  2 001105   200013 720100                    LXL0    I,,AUTO
         2 001106   200153 236100                    LDQ     BLANK,,AUTO
         2 001107   000010 736000                    QLS     8
         2 001110   200070 676110                    ERQ     DATA,X0,AUTO
         2 001111   177400 376007                    ANQ     65280,DL
         2 001112   200070 656110                    ERSQ    DATA,X0,AUTO

      362     7107    2             DATA.VAL.R ( I ) = BLANK;

   7107  2 001113   200153 236100                    LDQ     BLANK,,AUTO
         2 001114   200070 676110                    ERQ     DATA,X0,AUTO
         2 001115   000377 376007                    ANQ     255,DL
         2 001116   200070 656110                    ERSQ    DATA,X0,AUTO

      363     7108    2           END;

   7108  2 001117   200013 235100                    LDA     I,,AUTO
         2 001120   000001 035007                    ADLA    1,DL
         2 001121   200013 755100                    STA     I,,AUTO
         2 001122   000020 115007                    CMPA    16,DL
         2 001123   001105 602000 2                  TNC     s:7106

      364     7109    1        DATA_STR = ' ';

   7109  2 001124   040100 100400                    MLR     fill='040'O
         2 001125   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         2 001126   200110 000040                    ADSC9   DATA_CHAR,,AUTO          cn=0,n=32

      365     7110    1        IF LONG_FLAG

PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:61   
   7110  2 001127   200032 234100                    SZN     LONG_FLAG,,AUTO
         2 001130   001133 605000 2                  TPL     s:7112

      366     7111    1        THEN CHECK_DUP = '0'B;

   7111  2 001131   200161 450100                    STZ     CHECK_DUP,,AUTO
         2 001132   001135 710000 2                  TRA     s:7113

      367     7112    1        ELSE CHECK_DUP = '1'B; /* We finished a line, so CHECK_DUP should be on */

   7112  2 001133   400000 236003                    LDQ     -131072,DU
         2 001134   200161 756100                    STQ     CHECK_DUP,,AUTO

      368     7113    1        GOTO LOOP_TOP;                     /* Restart loop */

   7113  2 001135   000754 710000 2                  TRA     LOOP_TOP

   7110  2 001136                       LAST_TIME    null
      369     7114
      370     7115
      371     7116    1   LAST_TIME: ;             /* Here on error, seg end, or MAX_ADDRESS exceeded */
      372     7117    1        IF ADDRESS = OFFSET+MAX_CELL AND CHECK_DUP

   7117  2 001136   200066 236100                    LDQ     OFFSET,,AUTO
         2 001137   200015 036100                    ADLQ    MAX_CELL,,AUTO
         2 001140   200011 116100                    CMPQ    ADDRESS,,AUTO
         2 001141   001147 601000 2                  TNZ     s:7121
         2 001142   200161 234100                    SZN     CHECK_DUP,,AUTO
         2 001143   001147 605000 2                  TPL     s:7121

      373     7118                                 /* Take care of case where last line is all dup, and
      374     7119                                 exactly full but offset hasn't been updated yet */
      375     7120    1        THEN OFFSET = OFFSET + MAX_CELL;

   7120  2 001144   200066 236100                    LDQ     OFFSET,,AUTO
         2 001145   200015 036100                    ADLQ    MAX_CELL,,AUTO
         2 001146   200066 756100                    STQ     OFFSET,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:62   

      376     7121    2        IF SAME_COUNT >= MAX_CELL THEN DO;

   7121  2 001147   200160 236100                    LDQ     SAME_COUNT,,AUTO
         2 001150   001153 604000 2                  TMI     s:7122
         2 001151   200015 116100                    CMPQ    MAX_CELL,,AUTO
         2 001152   001164 604000 2                  TMI     s:7126

      377     7122    2             CALL SAME_OUT;

   7122  2 001153   001437 701000 2                  TSX1    SAME_OUT
         2 001154   000000 011000                    NOP     0

      378     7123    2             IF OFFSET_SAVE ~= ADDRESS - 1 /*Ie. If last line not all dups */

   7123  2 001155   200011 236100                    LDQ     ADDRESS,,AUTO
         2 001156   000001 136007                    SBLQ    1,DL
         2 001157   200152 116100                    CMPQ    OFFSET_SAVE,,AUTO
         2 001160   001172 600000 2                  TZE     s:7128

      379     7124    2             THEN CALL LINE_OUT;

   7124  2 001161   001706 701000 2                  TSX1    LINE_OUT
         2 001162   000000 011000                    NOP     0

      380     7125    2           END;

   7125  2 001163   001172 710000 2                  TRA     s:7128

      381     7126    1        ELSE IF ADDRESS ~= OFFSET THEN     /*Don't print offset on an empty line*/

   7126  2 001164   200011 236100                    LDQ     ADDRESS,,AUTO
         2 001165   001170 604000 2                  TMI     s:7127
         2 001166   200066 116100                    CMPQ    OFFSET,,AUTO
         2 001167   001172 600000 2                  TZE     s:7128

      382     7127    1                  CALL LINE_OUT;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:63   

   7127  2 001170   001706 701000 2                  TSX1    LINE_OUT
         2 001171   000000 011000                    NOP     0

      383     7128    1        IF MISSING_PAGE_FLAG               /* See if there's more to do */

   7128  2 001172   200034 234100                    SZN     MISSING_PAGE_FLAG,,AUTO
         2 001173   001361 605000 2                  TPL     CLEAN_RETURN

      384     7129    2        THEN DO;                           /* Yes, we hit a missing page */

      385     7130    2             MISSING_PAGE_FLAG = '0'B;

   7130  2 001174   200034 450100                    STZ     MISSING_PAGE_FLAG,,AUTO

      386     7131    2   L1:       ADDRESS = SAVE_ADDRESS + 1024; /* Point at next page */

   7131  2 001175   200064 235100       L1           LDA     SAVE_ADDRESS,,AUTO
         2 001176   002000 035007                    ADLA    1024,DL
         2 001177   200011 755100                    STA     ADDRESS,,AUTO

      387     7132    2             SAVE_ADDRESS = ADDRESS;

   7132  2 001200   200064 755100                    STA     SAVE_ADDRESS,,AUTO

      388     7133    2             S_D.ERROR = 0;

   7133  2 001201   000000 470400 xsym               LDP0    S_D$
         2 001202   000013 450100                    STZ     11,,PR0

      389     7134    2             CALL DDB$BREAK ALTRET(CLEAN_RETURN);

   7134  2 001203   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001204   000000 701000 xent               TSX1    DDB$BREAK
         2 001205   001361 702000 2                  TSX2    CLEAN_RETURN

      390     7135    3             IF ADDRESS > MAX_ADDRESS THEN DO;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:64   

   7135  2 001206   200016 236100                    LDQ     MAX_ADDRESS,,AUTO
         2 001207   001234 604000 2                  TMI     s:7142
         2 001210   200011 116100                    CMPQ    ADDRESS,,AUTO
         2 001211   001234 605000 2                  TPL     s:7142

      391     7136    3   L5:            S_D.OUTPUT = '(missing page(s))';

   7136  2 001212   000000 470400 xsym  L5           LDP0    S_D$
         2 001213   040100 100400                    MLR     fill='040'O
         2 001214   000006 000021 1                  ADSC9   OCTCHARS+2               cn=0,n=17
         2 001215   005335 004000                    ADSC9   2781,,PR0                cn=0,n=2048

      392     7137    3                  CALL DDQ$WRITED(OUTPUT$, 17);

   7137  2 001216   000010 236000 3                  LDQ     8
         2 001217   200203 756100                    STQ     PTR$+2,,AUTO
         2 001220   200157 631500                    EPPR1   OUTPUT$,,AUTO
         2 001221   200202 451500                    STP1    PTR$+1,,AUTO
         2 001222   200202 630500                    EPPR0   PTR$+1,,AUTO
         2 001223   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 001224   000000 701000 xent               TSX1    DDQ$WRITED
         2 001225   000000 011000                    NOP     0

      393     7138    3                  IF NUM_WORDS = 17000000/*DD_BIGNUM*/ THEN S_D.ERROR = 0;

   7138  2 001226   200024 235100                    LDA     NUM_WORDS,,AUTO
         2 001227   000011 115000 3                  CMPA    9
         2 001230   001233 601000 2                  TNZ     s:7139

   7138  2 001231   000000 470400 xsym               LDP0    S_D$
         2 001232   000013 450100                    STZ     11,,PR0

      394     7139    3                  GOTO CLEAN_RETURN;

   7139  2 001233   001361 710000 2                  TRA     CLEAN_RETURN

PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:65   
      395     7140    3                END;
      396     7141                                                /* See if we can get one */
      397     7142    2             IF S_D.RUM THEN CALL GET_L6WRD ( VALUE, %RU ) ALTRET ( L2 );

   7142  2 001234   000000 470400 xsym               LDP0    S_D$
         2 001235   004755 234100                    SZN     2541,,PR0
         2 001236   001246 605000 2                  TPL     s:7143

   7142  2 001237   000001 236000 3                  LDQ     1
         2 001240   200174 756100                    STQ     @WRD+1,,AUTO
         2 001241   200035 631500                    EPPR1   VALUE,,AUTO
         2 001242   200173 451500                    STP1    ZITEM$+5,,AUTO
         2 001243   002400 701000 2                  TSX1    GET_L6WRD
         2 001244   001352 702000 2                  TSX2    L2
         2 001245   001254 710000 2                  TRA     s:7144

      398     7143    2             ELSE CALL GET_L6WRD ( VALUE, %MEM ) ALTRET ( L2 );

   7143  2 001246   000006 236000 3                  LDQ     6
         2 001247   200174 756100                    STQ     @WRD+1,,AUTO
         2 001250   200035 631500                    EPPR1   VALUE,,AUTO
         2 001251   200173 451500                    STP1    ZITEM$+5,,AUTO
         2 001252   002400 701000 2                  TSX1    GET_L6WRD
         2 001253   001352 702000 2                  TSX2    L2

      399     7144    2             OFFSET = ADDRESS;             /* We got one */

   7144  2 001254   200011 235100                    LDA     ADDRESS,,AUTO
         2 001255   200066 755100                    STA     OFFSET,,AUTO

      400     7145    2             J = 0;

   7145  2 001256   200154 450100                    STZ     J,,AUTO

      401     7146    2             SAVE_VALUE.VAL = BINBIT ( VALUE, 16 );

   7146  2 001257   200035 236100                    LDQ     VALUE,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:66   
         2 001260   000024 736000                    QLS     20
         2 001261   000024 772000                    QRL     20
         2 001262   200150 676100                    ERQ     SAVE_VALUE,,AUTO
         2 001263   177777 376007                    ANQ     65535,DL
         2 001264   200150 656100                    ERSQ    SAVE_VALUE,,AUTO

      402     7147    3             DO I = 0 TO 15;

   7147  2 001265   200013 450100                    STZ     I,,AUTO

      403     7148    3                  DATA.VAL.L ( I ) = BLANK;

   7148  2 001266   200013 720100                    LXL0    I,,AUTO
         2 001267   200153 236100                    LDQ     BLANK,,AUTO
         2 001270   000010 736000                    QLS     8
         2 001271   200070 676110                    ERQ     DATA,X0,AUTO
         2 001272   177400 376007                    ANQ     65280,DL
         2 001273   200070 656110                    ERSQ    DATA,X0,AUTO

      404     7149    3                  DATA.VAL.R ( I ) = BLANK;

   7149  2 001274   200153 236100                    LDQ     BLANK,,AUTO
         2 001275   200070 676110                    ERQ     DATA,X0,AUTO
         2 001276   000377 376007                    ANQ     255,DL
         2 001277   200070 656110                    ERSQ    DATA,X0,AUTO

      405     7150    3                  SAVE_DATA.VAL.L ( I ) = BLANK;

   7150  2 001300   200153 236100                    LDQ     BLANK,,AUTO
         2 001301   000010 736000                    QLS     8
         2 001302   200120 676110                    ERQ     SAVE_DATA,X0,AUTO
         2 001303   177400 376007                    ANQ     65280,DL
         2 001304   200120 656110                    ERSQ    SAVE_DATA,X0,AUTO

      406     7151    3                  SAVE_DATA.VAL.R ( I ) = BLANK;

   7151  2 001305   200153 236100                    LDQ     BLANK,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:67   
         2 001306   200120 676110                    ERQ     SAVE_DATA,X0,AUTO
         2 001307   000377 376007                    ANQ     255,DL
         2 001310   200120 656110                    ERSQ    SAVE_DATA,X0,AUTO

      407     7152    3                END;

   7152  2 001311   200013 235100                    LDA     I,,AUTO
         2 001312   000001 035007                    ADLA    1,DL
         2 001313   200013 755100                    STA     I,,AUTO
         2 001314   000020 115007                    CMPA    16,DL
         2 001315   001266 602000 2                  TNC     s:7148

      408     7153    2             DATA_STR = ' ';

   7153  2 001316   040100 100400                    MLR     fill='040'O
         2 001317   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         2 001320   200110 000040                    ADSC9   DATA_CHAR,,AUTO          cn=0,n=32

      409     7154    2             SAVE_DATA_STR = ' ';

   7154  2 001321   040100 100400                    MLR     fill='040'O
         2 001322   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         2 001323   200140 000040                    ADSC9   SAVE_DATA_CHAR,,AUTO     cn=0,n=32

      410     7155    2             OFFSET_SAVE = -1;

   7155  2 001324   000001 336007                    LCQ     1,DL
         2 001325   200152 756100                    STQ     OFFSET_SAVE,,AUTO

      411     7156    2             SAME_COUNT = 0;

   7156  2 001326   200160 450100                    STZ     SAME_COUNT,,AUTO

      412     7157    2             IF LONG_FLAG

   7157  2 001327   200032 234100                    SZN     LONG_FLAG,,AUTO
         2 001330   001333 605000 2                  TPL     s:7159
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:68   

      413     7158    2             THEN CHECK_DUP = '0'B;

   7158  2 001331   200161 450100                    STZ     CHECK_DUP,,AUTO
         2 001332   001335 710000 2                  TRA     s:7160

      414     7159    2             ELSE CHECK_DUP = '1'B;

   7159  2 001333   400000 236003                    LDQ     -131072,DU
         2 001334   200161 756100                    STQ     CHECK_DUP,,AUTO

      415     7160    2             S_D.OUTPUT = '(missing page(s))';

   7160  2 001335   000000 470400 xsym               LDP0    S_D$
         2 001336   040100 100400                    MLR     fill='040'O
         2 001337   000006 000021 1                  ADSC9   OCTCHARS+2               cn=0,n=17
         2 001340   005335 004000                    ADSC9   2781,,PR0                cn=0,n=2048

      416     7161    2             CALL DDQ$WRITED(OUTPUT$, 17);

   7161  2 001341   000010 236000 3                  LDQ     8
         2 001342   200203 756100                    STQ     PTR$+2,,AUTO
         2 001343   200157 631500                    EPPR1   OUTPUT$,,AUTO
         2 001344   200202 451500                    STP1    PTR$+1,,AUTO
         2 001345   200202 630500                    EPPR0   PTR$+1,,AUTO
         2 001346   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 001347   000000 701000 xent               TSX1    DDQ$WRITED
         2 001350   000000 011000                    NOP     0

      417     7162    2             GOTO LOOP_TOP;                /* Re-enter loop */

   7162  2 001351   000754 710000 2                  TRA     LOOP_TOP

      418     7163    2   L2:       IF S_D.ERROR = 76 OR S_D.ERROR = 147 /* E@NOPAGE E@ANLZ_PAGENOTDUMPED */

   7163  2 001352   000000 470400 xsym  L2           LDP0    S_D$
         2 001353   000013 235100                    LDA     11,,PR0
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:69   
         2 001354   000114 115007                    CMPA    76,DL
         2 001355   001175 600000 2                  TZE     L1
         2 001356   000223 115007                    CMPA    147,DL
         2 001357   001175 600000 2                  TZE     L1

      419     7164    2             THEN GOTO L1;
      420     7165    2             ELSE GOTO L5;

   7165  2 001360   001212 710000 2                  TRA     L5

   7160  2 001361                       CLEAN_RETURN null
      421     7166    2           END;
      422     7167
      423     7168
      424     7169    1   CLEAN_RETURN: ;               /* Reset out device, altret if error pending */
      425     7170
      426     7171    1        S_D.OUT_WIDTH = SAVE_WIDTH;

   7171  2 001361   200063 235100                    LDA     SAVE_WIDTH,,AUTO
         2 001362   000000 470400 xsym               LDP0    S_D$
         2 001363   000014 755100                    STA     12,,PR0

      427     7172    1        IF S_D.ERROR = 83           /* E@BADADDR */

   7172  2 001364   000013 235100                    LDA     11,,PR0
         2 001365   000123 115007                    CMPA    83,DL
         2 001366   001404 601000 2                  TNZ     s:7178

      428     7173    2        THEN DO;

      429     7174    2             S_D.OUTPUT = 'Access out of segment';

   7174  2 001367   040100 100400                    MLR     fill='040'O
         2 001370   000013 000025 1                  ADSC9   OCTCHARS+7               cn=0,n=21
         2 001371   005335 004000                    ADSC9   2781,,PR0                cn=0,n=2048

      430     7175    2             CALL DDQ$WRITED (OUTPUT$,21);
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:70   

   7175  2 001372   000013 236000 3                  LDQ     11
         2 001373   200203 756100                    STQ     PTR$+2,,AUTO
         2 001374   200157 631500                    EPPR1   OUTPUT$,,AUTO
         2 001375   200202 451500                    STP1    PTR$+1,,AUTO
         2 001376   200202 630500                    EPPR0   PTR$+1,,AUTO
         2 001377   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 001400   000000 701000 xent               TSX1    DDQ$WRITED
         2 001401   000000 011000                    NOP     0

      431     7176    2             S_D.ERROR = 0;

   7176  2 001402   000000 470400 xsym               LDP0    S_D$
         2 001403   000013 450100                    STZ     11,,PR0

      432     7177    2           END;

      433     7178    1        IF MUST_CALL_CLOSE THEN CALL DUA$CLOSEDUMP;

   7178  2 001404   200033 234100                    SZN     MUST_CALL_CLOSE,,AUTO
         2 001405   001411 605000 2                  TPL     s:7179

   7178  2 001406   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001407   000000 701000 xent               TSX1    DUA$CLOSEDUMP
         2 001410   000000 011000                    NOP     0

      434     7179    1        IF S_D.ERROR = 0 THEN RETURN;

   7179  2 001411   000000 470400 xsym               LDP0    S_D$
         2 001412   000013 235100                    LDA     11,,PR0
         2 001413   001415 601000 2                  TNZ     s:7180

   7179  2 001414   000000 702200 xent               TSX2  ! X66_ARET

      435     7180    1        ALTRETURN;

   7180  2 001415   000000 702200 xent               TSX2  ! X66_AALT
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:71   

   7179  2 001416                       ALT_CHECK    null
      436     7181    1   ALT_CHECK: ;                       /* Dont report error if dump-len is seg */
      437     7182    1        MISSING_PAGE_FLAG = '0'B;

   7182  2 001416   200034 450100                    STZ     MISSING_PAGE_FLAG,,AUTO

      438     7183    1        IF S_D.ERROR = 76 OR S_D.ERROR = 147 /*E@NOPAGE, E@ANLZ_PAGENOTDUMPED*/

   7183  2 001417   000000 470400 xsym               LDP0    S_D$
         2 001420   000013 235100                    LDA     11,,PR0
         2 001421   000114 115007                    CMPA    76,DL
         2 001422   001425 600000 2                  TZE     s:7185
         2 001423   000223 115007                    CMPA    147,DL
         2 001424   001432 601000 2                  TNZ     s:7188

      439     7184    2        THEN DO;

      440     7185    2             MISSING_PAGE_FLAG = '1'B;

   7185  2 001425   400000 236003                    LDQ     -131072,DU
         2 001426   200034 756100                    STQ     MISSING_PAGE_FLAG,,AUTO

      441     7186    2             SAVE_ADDRESS = ADDRESS;

   7186  2 001427   200011 235100                    LDA     ADDRESS,,AUTO
         2 001430   200064 755100                    STA     SAVE_ADDRESS,,AUTO

      442     7187    2           END;

   7187  2 001431   001436 710000 2                  TRA     s:7190

      443     7188    1        ELSE IF NUM_WORDS = 17000000/*DD_BIGNUM*/

   7188  2 001432   200024 236100                    LDQ     NUM_WORDS,,AUTO
         2 001433   000011 116000 3                  CMPQ    9
         2 001434   001436 601000 2                  TNZ     s:7190
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:72   

      444     7189    1             THEN S_D.ERROR = 0;      /* Don't report errors on segment dumps */

   7189  2 001435   000013 450100                    STZ     11,,PR0

      445     7190    1        GOTO LAST_TIME;

   7190  2 001436   001136 710000 2                  TRA     LAST_TIME

      446     7191        %EJECT;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:73   
      447     7192        /*D*  NAME: SAME_OUT
      448     7193              DESCRIPTION:  PRINT 'DUP-START THRU DUP-END  DUP-VALUE' */
      449     7194    1   SAME_OUT: PROC;

   7194  2 001437   200172 741300       SAME_OUT     STX1  ! ZITEM$+4,,AUTO

      450     7195    3        IF OFFSET_SAVE + MAX_CELL = OFFSET THEN DO; /* Only one line */

   7195  2 001440   200152 236100                    LDQ     OFFSET_SAVE,,AUTO
         2 001441   200015 036100                    ADLQ    MAX_CELL,,AUTO
         2 001442   001457 604000 2                  TMI     s:7202
         2 001443   200066 116100                    CMPQ    OFFSET,,AUTO
         2 001444   001457 601000 2                  TNZ     s:7202

      451     7196    3             SAVE_CALLED = '1'B;

   7196  2 001445   400000 236003                    LDQ     -131072,DU
         2 001446   200025 756100                    STQ     SAVE_CALLED,,AUTO

      452     7197    3             CALL LINE_OUT;

   7197  2 001447   001706 701000 2                  TSX1    LINE_OUT
         2 001450   000000 011000                    NOP     0

      453     7198    3             SAVE_CALLED = '0'B;

   7198  2 001451   200025 450100                    STZ     SAVE_CALLED,,AUTO

      454     7199    3             OFFSET_SAVE = OFFSET-1;

   7199  2 001452   200066 235100                    LDA     OFFSET,,AUTO
         2 001453   000001 135007                    SBLA    1,DL
         2 001454   200152 755100                    STA     OFFSET_SAVE,,AUTO

      455     7200    3             RETURN;

   7200  2 001455   200172 221300                    LDX1  ! ZITEM$+4,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:74   
         2 001456   000001 702211                    TSX2  ! 1,X1

      456     7201    3           END;
      457     7202    2        S_D.D$ = OUTPUT$;

   7202  2 001457   200157 236100                    LDQ     OUTPUT$,,AUTO
         2 001460   000000 470400 xsym               LDP0    S_D$
         2 001461   000044 756100                    STQ     36,,PR0

      458     7203    2        S_D.DESCL$ = PINCRC(S_D.D$, SIZEC(S_D.OUTPUT));

   7203  2 001462   001000 036003                    ADLQ    512,DU
         2 001463   000042 756100                    STQ     34,,PR0

      459     7204    2        S_D.OUTPUT = ' ';

   7204  2 001464   040100 100400                    MLR     fill='040'O
         2 001465   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         2 001466   005335 004000                    ADSC9   2781,,PR0                cn=0,n=2048

      460     7205    2        CALL DDR$BINTXT(ADDR(CHAR_HOLD),OFFSET_SAVE,%X_FMT,SIZE);

   7205  2 001467   200162 631500                    EPPR1   CHAR_HOLD,,AUTO
         2 001470   200202 451500                    STP1    PTR$+1,,AUTO
         2 001471   200065 633500                    EPPR3   SIZE,,AUTO
         2 001472   200207 453500                    STP3    PTR$+6,,AUTO
         2 001473   000015 236000 3                  LDQ     13
         2 001474   200206 756100                    STQ     PTR$+5,,AUTO
         2 001475   200152 634500                    EPPR4   OFFSET_SAVE,,AUTO
         2 001476   200205 454500                    STP4    PTR$+4,,AUTO
         2 001477   200202 635500                    EPPR5   PTR$+1,,AUTO
         2 001500   200204 455500                    STP5    PTR$+3,,AUTO
         2 001501   200204 630500                    EPPR0   PTR$+3,,AUTO
         2 001502   000022 631400 xsym               EPPR1   B_VECTNIL+18
         2 001503   000000 701000 xent               TSX1    DDR$BINTXT
         2 001504   000000 011000                    NOP     0

PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:75   
      461     7206    2        S_D.D$ = PINCRC(OUTPUT$,9-SIZE);   /* Right justify */

   7206  2 001505   000011 236007                    LDQ     9,DL
         2 001506   200065 136100                    SBLQ    SIZE,,AUTO
         2 001507   000020 736000                    QLS     16
         2 001510   200157 036100                    ADLQ    OUTPUT$,,AUTO
         2 001511   000000 470400 xsym               LDP0    S_D$
         2 001512   000044 756100                    STQ     36,,PR0

      462     7207    2        S_D.D$->CHAR9 = CHAR_HOLD;

   7207  2 001513   000044 471500                    LDP1    36,,PR0
         2 001514   200065 720100                    LXL0    SIZE,,AUTO
         2 001515   040140 100500                    MLR     fill='040'O
         2 001516   200162 000014                    ADSC9   CHAR_HOLD,,AUTO          cn=0,n=12
         2 001517   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0

      463     7208    2        S_D.D$ = PINCRC(S_D.D$, SIZE);

   7208  2 001520   000044 471500                    LDP1    36,,PR0
         2 001521   200065 236100                    LDQ     SIZE,,AUTO
         2 001522   000011 402007                    MPY     9,DL
         2 001523   100000 503506                    ABD     0,QL,PR1
         2 001524   000044 451500                    STP1    36,,PR0

      464     7209    2        OFFSET_SAVE = OFFSET - 1;

   7209  2 001525   200066 235100                    LDA     OFFSET,,AUTO
         2 001526   000001 135007                    SBLA    1,DL
         2 001527   200152 755100                    STA     OFFSET_SAVE,,AUTO

      465     7210    2        S_D.D$->CHAR6 = ' THRU ';

   7210  2 001530   000044 471500                    LDP1    36,,PR0
         2 001531   040100 100400                    MLR     fill='040'O
         2 001532   000021 000006 1                  ADSC9   OCTCHARS+13              cn=0,n=6
         2 001533   100000 000006                    ADSC9   0,,PR1                   cn=0,n=6
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:76   

      466     7211    2        S_D.D$ = PINCRC(S_D.D$, 6);

   7211  2 001534   000044 236100                    LDQ     36,,PR0
         2 001535   000016 036000 3                  ADLQ    14
         2 001536   000044 756100                    STQ     36,,PR0

      467     7212    2        CALL DDR$BINTXT(ADDR(CHAR_HOLD),OFFSET_SAVE,%X_FMT,SIZE); /* 'DUP-END' */

   7212  2 001537   200162 631500                    EPPR1   CHAR_HOLD,,AUTO
         2 001540   200202 451500                    STP1    PTR$+1,,AUTO
         2 001541   200065 633500                    EPPR3   SIZE,,AUTO
         2 001542   200207 453500                    STP3    PTR$+6,,AUTO
         2 001543   000015 236000 3                  LDQ     13
         2 001544   200206 756100                    STQ     PTR$+5,,AUTO
         2 001545   200152 634500                    EPPR4   OFFSET_SAVE,,AUTO
         2 001546   200205 454500                    STP4    PTR$+4,,AUTO
         2 001547   200202 635500                    EPPR5   PTR$+1,,AUTO
         2 001550   200204 455500                    STP5    PTR$+3,,AUTO
         2 001551   200204 630500                    EPPR0   PTR$+3,,AUTO
         2 001552   000022 631400 xsym               EPPR1   B_VECTNIL+18
         2 001553   000000 701000 xent               TSX1    DDR$BINTXT
         2 001554   000000 011000                    NOP     0

      468     7213    2        S_D.D$->CHAR9 = CHAR_HOLD;

   7213  2 001555   000000 470400 xsym               LDP0    S_D$
         2 001556   000044 471500                    LDP1    36,,PR0
         2 001557   200065 720100                    LXL0    SIZE,,AUTO
         2 001560   040140 100500                    MLR     fill='040'O
         2 001561   200162 000014                    ADSC9   CHAR_HOLD,,AUTO          cn=0,n=12
         2 001562   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0

      469     7214    2        S_D.D$ = PINCRC(S_D.D$, SIZE);

   7214  2 001563   000044 471500                    LDP1    36,,PR0
         2 001564   200065 236100                    LDQ     SIZE,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:77   
         2 001565   000011 402007                    MPY     9,DL
         2 001566   100000 503506                    ABD     0,QL,PR1
         2 001567   000044 451500                    STP1    36,,PR0

      470     7215    2        S_D.D$ = PINCRC(S_D.D$, 2);

   7215  2 001570   000044 236100                    LDQ     36,,PR0
         2 001571   400000 036007                    ADLQ    -131072,DL
         2 001572   000044 756100                    STQ     36,,PR0

      471     7216                                                /* Convert value to display format */
      472     7217    2        IF O_FLAG THEN

   7217  2 001573   200031 234100                    SZN     O_FLAG,,AUTO
         2 001574   001606 605000 2                  TPL     s:7223

      473     7218    3        DO;

      474     7219    3             CALL OCTOUT ( TEMP );

   7219  2 001575   200014 631500                    EPPR1   TEMP,,AUTO
         2 001576   200177 451500                    STP1    @WRD_SOURCE+3,,AUTO
         2 001577   002346 701000 2                  TSX1    OCTOUT
         2 001600   000000 011000                    NOP     0

      475     7220    3             S_D.D$ = PINCRC(S_D.D$, 10 );

   7220  2 001601   000000 470400 xsym               LDP0    S_D$
         2 001602   000044 236100                    LDQ     36,,PR0
         2 001603   000017 036000 3                  ADLQ    15
         2 001604   000044 756100                    STQ     36,,PR0

      476     7221    3           END;

   7221  2 001605   001616 710000 2                  TRA     s:7226

      477     7222    3        ELSE DO;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:78   

      478     7223    3             CALL HEX_9_OUT(SAVE_VALUE);

   7223  2 001606   200150 631500                    EPPR1   SAVE_VALUE,,AUTO
         2 001607   200177 451500                    STP1    @WRD_SOURCE+3,,AUTO
         2 001610   002314 701000 2                  TSX1    HEX_9_OUT
         2 001611   000000 011000                    NOP     0

      479     7224    3             S_D.D$ = PINCRC(S_D.D$, 7 );

   7224  2 001612   000000 470400 xsym               LDP0    S_D$
         2 001613   000044 236100                    LDQ     36,,PR0
         2 001614   000020 036000 3                  ADLQ    16
         2 001615   000044 756100                    STQ     36,,PR0

      480     7225    3           END;

      481     7226    2        IF C_FLAG

   7226  2 001616   200026 234100                    SZN     C_FLAG,,AUTO
         2 001617   001642 605000 2                  TPL     s:7233

      482     7227    3        THEN DO;

      483     7228    3             SAVE_VALUE_CHAR (0) = SAVE_VALUE.VAL.L;

   7228  2 001620   200150 236100                    LDQ     SAVE_VALUE,,AUTO
         2 001621   177400 376007                    ANQ     65280,DL
         2 001622   000023 736000                    QLS     19
         2 001623   200151 552140                    STBQ    SAVE_VALUE_CHAR,'40'O,AUTO

      484     7229    3             SAVE_VALUE_CHAR (1) = SAVE_VALUE.VAL.R;

   7229  2 001624   200150 236100                    LDQ     SAVE_VALUE,,AUTO
         2 001625   000377 376007                    ANQ     255,DL
         2 001626   000022 736000                    QLS     18
         2 001627   200151 552120                    STBQ    SAVE_VALUE_CHAR,'20'O,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:79   

      485     7230    3             CALL XLATE ( S_D.D$ -> CHAR32, T_TABLE, VALUE_STR );

   7230  2 001630   000044 471500                    LDP1    36,,PR0
         2 001631   000000 473400 xsym               LDP3    B$XL_ASC_DUMP$
         2 001632   040100 160500                    MVT     fill='040'O
         2 001633   200151 000002                    ADSC9   SAVE_VALUE_CHAR,,AUTO    cn=0,n=2
         2 001634   100000 000040                    ADSC9   0,,PR1                   cn=0,n=32
         2 001635   300000 000100                    ARG     0,,PR3

      486     7231    3             S_D.D$ = PINCRC ( S_D.D$, 2 );

   7231  2 001636   000044 236100                    LDQ     36,,PR0
         2 001637   400000 036007                    ADLQ    -131072,DL
         2 001640   000044 756100                    STQ     36,,PR0

      487     7232    3           END;

   7232  2 001641   001665 710000 2                  TRA     s:7240

      488     7233    2        ELSE IF EB_FLAG

   7233  2 001642   200030 234100                    SZN     EB_FLAG,,AUTO
         2 001643   001665 605000 2                  TPL     s:7240

      489     7234    3             THEN DO;

      490     7235    3                  SAVE_VALUE_CHAR (0) = SAVE_VALUE.VAL.L;

   7235  2 001644   200150 236100                    LDQ     SAVE_VALUE,,AUTO
         2 001645   177400 376007                    ANQ     65280,DL
         2 001646   000023 736000                    QLS     19
         2 001647   200151 552140                    STBQ    SAVE_VALUE_CHAR,'40'O,AUTO

      491     7236    3                  SAVE_VALUE_CHAR (1) = SAVE_VALUE.VAL.R;

   7236  2 001650   200150 236100                    LDQ     SAVE_VALUE,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:80   
         2 001651   000377 376007                    ANQ     255,DL
         2 001652   000022 736000                    QLS     18
         2 001653   200151 552120                    STBQ    SAVE_VALUE_CHAR,'20'O,AUTO

      492     7237    3                  CALL XLATE ( S_D.D$ -> CHAR32, EBCDIC_XLATE_TABLE, VALUE_STR );

   7237  2 001654   000044 471500                    LDP1    36,,PR0
         2 001655   000000 473400 xsym               LDP3    B$XL_EBC_DUMP$
         2 001656   040100 160500                    MVT     fill='040'O
         2 001657   200151 000002                    ADSC9   SAVE_VALUE_CHAR,,AUTO    cn=0,n=2
         2 001660   100000 000040                    ADSC9   0,,PR1                   cn=0,n=32
         2 001661   300000 000100                    ARG     0,,PR3

      493     7238    3                  S_D.D$ = PINCRC ( S_D.D$, 2 );

   7238  2 001662   000044 236100                    LDQ     36,,PR0
         2 001663   400000 036007                    ADLQ    -131072,DL
         2 001664   000044 756100                    STQ     36,,PR0

      494     7239    3                END;

      495     7240    2        CALL DDQ$WRITED(OUTPUT$,POFFC(S_D.D$,OUTPUT$));

   7240  2 001665   200157 236100                    LDQ     OUTPUT$,,AUTO
         2 001666   000020 772000                    QRL     16
         2 001667   200202 756100                    STQ     PTR$+1,,AUTO
         2 001670   000044 236100                    LDQ     36,,PR0
         2 001671   000020 772000                    QRL     16
         2 001672   200202 136100                    SBLQ    PTR$+1,,AUTO
         2 001673   200203 756100                    STQ     PTR$+2,,AUTO
         2 001674   200203 631500                    EPPR1   PTR$+2,,AUTO
         2 001675   200205 451500                    STP1    PTR$+4,,AUTO
         2 001676   200157 633500                    EPPR3   OUTPUT$,,AUTO
         2 001677   200204 453500                    STP3    PTR$+3,,AUTO
         2 001700   200204 630500                    EPPR0   PTR$+3,,AUTO
         2 001701   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 001702   000000 701000 xent               TSX1    DDQ$WRITED
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:81   
         2 001703   000000 011000                    NOP     0

      496     7241    2        RETURN;

   7241  2 001704   200172 221300                    LDX1  ! ZITEM$+4,,AUTO
         2 001705   000001 702211                    TSX2  ! 1,X1

      497     7242    2   END SAME_OUT;
      498     7243        %EJECT;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:82   
      499     7244        /*D*  NAME: LINE_OUT
      500     7245              DESCRIPTION:  FORMAT AND PRINT ONE DUMP LINE.  */
      501     7246
      502     7247    1   LINE_OUT: PROC;

   7247  2 001706   200174 741300       LINE_OUT     STX1  ! @WRD+1,,AUTO

      503     7248
      504     7249    2        S_D.OUTPUT = ' ';

   7249  2 001707   000000 470400 xsym               LDP0    S_D$
         2 001710   040100 100400                    MLR     fill='040'O
         2 001711   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         2 001712   005335 004000                    ADSC9   2781,,PR0                cn=0,n=2048

      505     7250    2        IF SAVE_CALLED THEN CALL DDR$BINTXT (ADDR(CHAR_HOLD),OFFSET_SAVE,%X_FMT,SIZE);

   7250  2 001713   200025 234100                    SZN     SAVE_CALLED,,AUTO
         2 001714   001734 605000 2                  TPL     s:7251

   7250  2 001715   200162 631500                    EPPR1   CHAR_HOLD,,AUTO
         2 001716   200202 451500                    STP1    PTR$+1,,AUTO
         2 001717   200065 633500                    EPPR3   SIZE,,AUTO
         2 001720   200207 453500                    STP3    PTR$+6,,AUTO
         2 001721   000015 236000 3                  LDQ     13
         2 001722   200206 756100                    STQ     PTR$+5,,AUTO
         2 001723   200152 634500                    EPPR4   OFFSET_SAVE,,AUTO
         2 001724   200205 454500                    STP4    PTR$+4,,AUTO
         2 001725   200202 635500                    EPPR5   PTR$+1,,AUTO
         2 001726   200204 455500                    STP5    PTR$+3,,AUTO
         2 001727   200204 630500                    EPPR0   PTR$+3,,AUTO
         2 001730   000022 631400 xsym               EPPR1   B_VECTNIL+18
         2 001731   000000 701000 xent               TSX1    DDR$BINTXT
         2 001732   000000 011000                    NOP     0
         2 001733   001752 710000 2                  TRA     s:7252

      506     7251    2        ELSE CALL DDR$BINTXT(ADDR(CHAR_HOLD),OFFSET,%X_FMT,SIZE);
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:83   

   7251  2 001734   200162 631500                    EPPR1   CHAR_HOLD,,AUTO
         2 001735   200202 451500                    STP1    PTR$+1,,AUTO
         2 001736   200065 633500                    EPPR3   SIZE,,AUTO
         2 001737   200207 453500                    STP3    PTR$+6,,AUTO
         2 001740   000015 236000 3                  LDQ     13
         2 001741   200206 756100                    STQ     PTR$+5,,AUTO
         2 001742   200066 634500                    EPPR4   OFFSET,,AUTO
         2 001743   200205 454500                    STP4    PTR$+4,,AUTO
         2 001744   200202 635500                    EPPR5   PTR$+1,,AUTO
         2 001745   200204 455500                    STP5    PTR$+3,,AUTO
         2 001746   200204 630500                    EPPR0   PTR$+3,,AUTO
         2 001747   000022 631400 xsym               EPPR1   B_VECTNIL+18
         2 001750   000000 701000 xent               TSX1    DDR$BINTXT
         2 001751   000000 011000                    NOP     0

      507     7252    2        S_D.D$ = PINCRC(OUTPUT$,9-SIZE);   /*Place offset right just */

   7252  2 001752   000011 236007                    LDQ     9,DL
         2 001753   200065 136100                    SBLQ    SIZE,,AUTO
         2 001754   000020 736000                    QLS     16
         2 001755   200157 036100                    ADLQ    OUTPUT$,,AUTO
         2 001756   000000 470400 xsym               LDP0    S_D$
         2 001757   000044 756100                    STQ     36,,PR0

      508     7253    2        S_D.D$->CHAR9 = CHAR_HOLD;

   7253  2 001760   000044 471500                    LDP1    36,,PR0
         2 001761   200065 720100                    LXL0    SIZE,,AUTO
         2 001762   040140 100500                    MLR     fill='040'O
         2 001763   200162 000014                    ADSC9   CHAR_HOLD,,AUTO          cn=0,n=12
         2 001764   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0

      509     7254    2        IF O_FLAG THEN

   7254  2 001765   200031 234100                    SZN     O_FLAG,,AUTO
         2 001766   001775 605000 2                  TPL     s:7257
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:84   

      510     7255    2             S_D.D$ = PINCRC(OUTPUT$,11+J*7); /* J set before entering loop */

   7255  2 001767   200154 236100                    LDQ     J,,AUTO
         2 001770   000020 402000 3                  MPY     16
         2 001771   000021 036000 3                  ADLQ    17
         2 001772   200157 036100                    ADLQ    OUTPUT$,,AUTO
         2 001773   000044 756100                    STQ     36,,PR0
         2 001774   002002 710000 2                  TRA     s:7258

      511     7256    2        ELSE
      512     7257    2             S_D.D$ = PINCRC(OUTPUT$,11+J*5); /* J set before entering loop */

   7257  2 001775   200154 236100                    LDQ     J,,AUTO
         2 001776   000022 402000 3                  MPY     18
         2 001777   000021 036000 3                  ADLQ    17
         2 002000   200157 036100                    ADLQ    OUTPUT$,,AUTO
         2 002001   000044 756100                    STQ     36,,PR0

      513     7258    2        IF SAVE_CALLED THEN K = OFFSET-OFFSET_SAVE-1;

   7258  2 002002   200025 234100                    SZN     SAVE_CALLED,,AUTO
         2 002003   002011 605000 2                  TPL     s:7259

   7258  2 002004   200066 236100                    LDQ     OFFSET,,AUTO
         2 002005   200152 136100                    SBLQ    OFFSET_SAVE,,AUTO
         2 002006   000001 136007                    SBLQ    1,DL
         2 002007   200155 756100                    STQ     K,,AUTO
         2 002010   002015 710000 2                  TRA     s:7260

      514     7259    2        ELSE K = ADDRESS-OFFSET-1;

   7259  2 002011   200011 236100                    LDQ     ADDRESS,,AUTO
         2 002012   200066 136100                    SBLQ    OFFSET,,AUTO
         2 002013   000001 136007                    SBLQ    1,DL
         2 002014   200155 756100                    STQ     K,,AUTO

PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:85   
      515     7260    3        DO L = J TO K;

   7260  2 002015   200154 235100                    LDA     J,,AUTO
         2 002016   200156 755100                    STA     L,,AUTO
         2 002017   002063 710000 2                  TRA     s:7275+3

      516     7261    4             IF SAVE_CALLED THEN DO;

   7261  2 002020   200025 234100                    SZN     SAVE_CALLED,,AUTO
         2 002021   002032 605000 2                  TPL     s:7265

      517     7262    4                  SAVE_DATA.VAL (L) = SAVE_VALUE.VAL;

   7262  2 002022   200156 720100                    LXL0    L,,AUTO
         2 002023   200150 236100                    LDQ     SAVE_VALUE,,AUTO
         2 002024   200120 676110                    ERQ     SAVE_DATA,X0,AUTO
         2 002025   177777 376007                    ANQ     65535,DL
         2 002026   200120 656110                    ERSQ    SAVE_DATA,X0,AUTO

      518     7263    4                  TEMP = BITBIN ( SAVE_VALUE );

   7263  2 002027   200150 235100                    LDA     SAVE_VALUE,,AUTO
         2 002030   200014 755100                    STA     TEMP,,AUTO

      519     7264    4                END;

   7264  2 002031   002035 710000 2                  TRA     s:7266

      520     7265    3             ELSE TEMP = BITBIN ( DATA(L) );

   7265  2 002032   200156 720100                    LXL0    L,,AUTO
         2 002033   200070 235110                    LDA     DATA,X0,AUTO
         2 002034   200014 755100                    STA     TEMP,,AUTO

      521     7266    3             IF O_FLAG THEN

   7266  2 002035   200031 234100                    SZN     O_FLAG,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:86   
         2 002036   002050 605000 2                  TPL     s:7272

      522     7267    4             DO;

      523     7268    4                  CALL OCTOUT(TEMP);

   7268  2 002037   200014 630500                    EPPR0   TEMP,,AUTO
         2 002040   200177 450500                    STP0    @WRD_SOURCE+3,,AUTO
         2 002041   002346 701000 2                  TSX1    OCTOUT
         2 002042   000000 011000                    NOP     0

      524     7269    4                  S_D.D$ = PINCRC(S_D.D$, 7);

   7269  2 002043   000000 470400 xsym               LDP0    S_D$
         2 002044   000044 236100                    LDQ     36,,PR0
         2 002045   000020 036000 3                  ADLQ    16
         2 002046   000044 756100                    STQ     36,,PR0

      525     7270    4                END;

   7270  2 002047   002060 710000 2                  TRA     s:7275

      526     7271    4             ELSE DO;

      527     7272    4                  CALL HEX_9_OUT(TEMP);

   7272  2 002050   200014 630500                    EPPR0   TEMP,,AUTO
         2 002051   200177 450500                    STP0    @WRD_SOURCE+3,,AUTO
         2 002052   002314 701000 2                  TSX1    HEX_9_OUT
         2 002053   000000 011000                    NOP     0

      528     7273    4                  S_D.D$ = PINCRC(S_D.D$, 5);

   7273  2 002054   000000 470400 xsym               LDP0    S_D$
         2 002055   000044 236100                    LDQ     36,,PR0
         2 002056   000022 036000 3                  ADLQ    18
         2 002057   000044 756100                    STQ     36,,PR0
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:87   

      529     7274    4                END;

      530     7275    3           END;

   7275  2 002060   200156 235100                    LDA     L,,AUTO
         2 002061   000001 035007                    ADLA    1,DL
         2 002062   200156 755100                    STA     L,,AUTO
         2 002063   200155 236100                    LDQ     K,,AUTO
         2 002064   200156 116100                    CMPQ    L,,AUTO
         2 002065   002020 603000 2                  TRC     s:7261

      531     7276    2        IF C_FLAG OR EB_FLAG

   7276  2 002066   200026 234100                    SZN     C_FLAG,,AUTO
         2 002067   002072 604000 2                  TMI     s:7278
         2 002070   200030 234100                    SZN     EB_FLAG,,AUTO
         2 002071   002272 605000 2                  TPL     s:7309

      532     7277    3        THEN DO;

      533     7278    3             IF O_FLAG THEN S_D.D$ = PINCRC(OUTPUT$, 11+7*MAX_CELL);

   7278  2 002072   200031 234100                    SZN     O_FLAG,,AUTO
         2 002073   002102 605000 2                  TPL     s:7279

   7278  2 002074   200015 236100                    LDQ     MAX_CELL,,AUTO
         2 002075   000020 402000 3                  MPY     16
         2 002076   000021 036000 3                  ADLQ    17
         2 002077   200157 036100                    ADLQ    OUTPUT$,,AUTO
         2 002100   000044 756100                    STQ     36,,PR0
         2 002101   002107 710000 2                  TRA     s:7280

      534     7279    3             ELSE S_D.D$ = PINCRC(OUTPUT$, 11+5*MAX_CELL);

   7279  2 002102   200015 236100                    LDQ     MAX_CELL,,AUTO
         2 002103   000022 402000 3                  MPY     18
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:88   
         2 002104   000021 036000 3                  ADLQ    17
         2 002105   200157 036100                    ADLQ    OUTPUT$,,AUTO
         2 002106   000044 756100                    STQ     36,,PR0

      535     7280    3             IF SAVE_CALLED

   7280  2 002107   200025 234100                    SZN     SAVE_CALLED,,AUTO
         2 002110   002202 605000 2                  TPL     s:7296

      536     7281    4             THEN DO;

      537     7282    4                  J = 0;

   7282  2 002111   200154 450100                    STZ     J,,AUTO

      538     7283    5                  DO L = 0 TO 15;

   7283  2 002112   200156 450100                    STZ     L,,AUTO

      539     7284    5                       SAVE_DATA_CHAR (J) = SAVE_DATA.VAL.L (L);

   7284  2 002113   200156 236100                    LDQ     L,,AUTO
         2 002114   000044 402007                    MPY     36,DL
         2 002115   200202 756100                    STQ     PTR$+1,,AUTO
         2 002116   200154 236100                    LDQ     J,,AUTO
         2 002117   000011 402007                    MPY     9,DL
         2 002120   200202 235100                    LDA     PTR$+1,,AUTO
         2 002121   003106 061505                    CSR     bolr='003'O
         2 002122   200120 420010                    BDSC    SAVE_DATA,A,AUTO         by=2,bit=2,n=8
         2 002123   200140 000011                    BDSC    SAVE_DATA_CHAR,Q,AUTO    by=0,bit=0,n=9

      540     7285    5                       J = J + 1;

   7285  2 002124   200154 235100                    LDA     J,,AUTO
         2 002125   000001 035007                    ADLA    1,DL
         2 002126   200154 755100                    STA     J,,AUTO

PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:89   
      541     7286    5                       SAVE_DATA_CHAR (J) = SAVE_DATA.VAL.R (L);

   7286  2 002127   200156 236100                    LDQ     L,,AUTO
         2 002130   000044 402007                    MPY     36,DL
         2 002131   200202 756100                    STQ     PTR$+1,,AUTO
         2 002132   200154 236100                    LDQ     J,,AUTO
         2 002133   000011 402007                    MPY     9,DL
         2 002134   200202 235100                    LDA     PTR$+1,,AUTO
         2 002135   003106 061505                    CSR     bolr='003'O
         2 002136   200120 610010                    BDSC    SAVE_DATA,A,AUTO         by=3,bit=1,n=8
         2 002137   200140 000011                    BDSC    SAVE_DATA_CHAR,Q,AUTO    by=0,bit=0,n=9

      542     7287    5                       J = J + 1;

   7287  2 002140   200154 235100                    LDA     J,,AUTO
         2 002141   000001 035007                    ADLA    1,DL
         2 002142   200154 755100                    STA     J,,AUTO

      543     7288    5                     END;

   7288  2 002143   200156 236100                    LDQ     L,,AUTO
         2 002144   000001 036007                    ADLQ    1,DL
         2 002145   200156 756100                    STQ     L,,AUTO
         2 002146   000020 116007                    CMPQ    16,DL
         2 002147   002113 602000 2                  TNC     s:7284

      544     7289    4                  IF C_FLAG

   7289  2 002150   200026 234100                    SZN     C_FLAG,,AUTO
         2 002151   002162 605000 2                  TPL     s:7291

      545     7290    4                  THEN CALL XLATE( S_D.D$->CHAR32, T_TABLE, SAVE_DATA_STR );

   7290  2 002152   000000 470400 xsym               LDP0    S_D$
         2 002153   000044 471500                    LDP1    36,,PR0
         2 002154   000000 473400 xsym               LDP3    B$XL_ASC_DUMP$
         2 002155   040100 160500                    MVT     fill='040'O
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:90   
         2 002156   200140 000040                    ADSC9   SAVE_DATA_CHAR,,AUTO     cn=0,n=32
         2 002157   100000 000040                    ADSC9   0,,PR1                   cn=0,n=32
         2 002160   300000 000100                    ARG     0,,PR3
         2 002161   002171 710000 2                  TRA     s:7293

      546     7291    4                  ELSE CALL XLATE ( S_D.D$ -> CHAR32, EBCDIC_XLATE_TABLE,

   7291  2 002162   000000 470400 xsym               LDP0    S_D$
         2 002163   000044 471500                    LDP1    36,,PR0
         2 002164   000000 473400 xsym               LDP3    B$XL_EBC_DUMP$
         2 002165   040100 160500                    MVT     fill='040'O
         2 002166   200140 000040                    ADSC9   SAVE_DATA_CHAR,,AUTO     cn=0,n=32
         2 002167   100000 000040                    ADSC9   0,,PR1                   cn=0,n=32
         2 002170   300000 000100                    ARG     0,,PR3

      547     7292    4                         SAVE_DATA_STR );
      548     7293    4                  S_D.D$ = PINCRC ( S_D.D$, MAX_CELL * 2 );

   7293  2 002171   000044 471500                    LDP1    36,,PR0
         2 002172   200015 236100                    LDQ     MAX_CELL,,AUTO
         2 002173   000022 402007                    MPY     18,DL
         2 002174   000000 116003                    CMPQ    0,DU
         2 002175   002177 605000 2                  TPL     s:7293+6
         2 002176   000044 036003                    ADLQ    36,DU
         2 002177   100000 503506                    ABD     0,QL,PR1
         2 002200   000044 451500                    STP1    36,,PR0

      549     7294    4                END;

   7294  2 002201   002272 710000 2                  TRA     s:7309

      550     7295    4             ELSE DO;

      551     7296    4                  J = 0;

   7296  2 002202   200154 450100                    STZ     J,,AUTO

PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:91   
      552     7297    5                  DO L = 0 TO 15;

   7297  2 002203   200156 450100                    STZ     L,,AUTO

      553     7298    5                       DATA_CHAR (J) = DATA.VAL.L (L);

   7298  2 002204   200156 236100                    LDQ     L,,AUTO
         2 002205   000044 402007                    MPY     36,DL
         2 002206   200202 756100                    STQ     PTR$+1,,AUTO
         2 002207   200154 236100                    LDQ     J,,AUTO
         2 002210   000011 402007                    MPY     9,DL
         2 002211   200202 235100                    LDA     PTR$+1,,AUTO
         2 002212   003106 061505                    CSR     bolr='003'O
         2 002213   200070 420010                    BDSC    DATA,A,AUTO              by=2,bit=2,n=8
         2 002214   200110 000011                    BDSC    DATA_CHAR,Q,AUTO         by=0,bit=0,n=9

      554     7299    5                       J = J + 1;

   7299  2 002215   200154 235100                    LDA     J,,AUTO
         2 002216   000001 035007                    ADLA    1,DL
         2 002217   200154 755100                    STA     J,,AUTO

      555     7300    5                       DATA_CHAR (J) = DATA.VAL.R (L);

   7300  2 002220   200156 236100                    LDQ     L,,AUTO
         2 002221   000044 402007                    MPY     36,DL
         2 002222   200202 756100                    STQ     PTR$+1,,AUTO
         2 002223   200154 236100                    LDQ     J,,AUTO
         2 002224   000011 402007                    MPY     9,DL
         2 002225   200202 235100                    LDA     PTR$+1,,AUTO
         2 002226   003106 061505                    CSR     bolr='003'O
         2 002227   200070 610010                    BDSC    DATA,A,AUTO              by=3,bit=1,n=8
         2 002230   200110 000011                    BDSC    DATA_CHAR,Q,AUTO         by=0,bit=0,n=9

      556     7301    5                       J = J + 1;

   7301  2 002231   200154 235100                    LDA     J,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:92   
         2 002232   000001 035007                    ADLA    1,DL
         2 002233   200154 755100                    STA     J,,AUTO

      557     7302    5                     END;

   7302  2 002234   200156 236100                    LDQ     L,,AUTO
         2 002235   000001 036007                    ADLQ    1,DL
         2 002236   200156 756100                    STQ     L,,AUTO
         2 002237   000020 116007                    CMPQ    16,DL
         2 002240   002204 602000 2                  TNC     s:7298

      558     7303    4                  IF C_FLAG

   7303  2 002241   200026 234100                    SZN     C_FLAG,,AUTO
         2 002242   002253 605000 2                  TPL     s:7305

      559     7304    4                  THEN CALL XLATE( S_D.D$->CHAR32, T_TABLE, DATA_STR );

   7304  2 002243   000000 470400 xsym               LDP0    S_D$
         2 002244   000044 471500                    LDP1    36,,PR0
         2 002245   000000 473400 xsym               LDP3    B$XL_ASC_DUMP$
         2 002246   040100 160500                    MVT     fill='040'O
         2 002247   200110 000040                    ADSC9   DATA_CHAR,,AUTO          cn=0,n=32
         2 002250   100000 000040                    ADSC9   0,,PR1                   cn=0,n=32
         2 002251   300000 000100                    ARG     0,,PR3
         2 002252   002262 710000 2                  TRA     s:7306

      560     7305    4                  ELSE CALL XLATE ( S_D.D$ -> CHAR32, EBCDIC_XLATE_TABLE, DATA_STR );

   7305  2 002253   000000 470400 xsym               LDP0    S_D$
         2 002254   000044 471500                    LDP1    36,,PR0
         2 002255   000000 473400 xsym               LDP3    B$XL_EBC_DUMP$
         2 002256   040100 160500                    MVT     fill='040'O
         2 002257   200110 000040                    ADSC9   DATA_CHAR,,AUTO          cn=0,n=32
         2 002260   100000 000040                    ADSC9   0,,PR1                   cn=0,n=32
         2 002261   300000 000100                    ARG     0,,PR3

PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:93   
      561     7306    4                  S_D.D$ = PINCRC ( S_D.D$, MAX_CELL * 2 );

   7306  2 002262   000044 471500                    LDP1    36,,PR0
         2 002263   200015 236100                    LDQ     MAX_CELL,,AUTO
         2 002264   000022 402007                    MPY     18,DL
         2 002265   000000 116003                    CMPQ    0,DU
         2 002266   002270 605000 2                  TPL     s:7306+6
         2 002267   000044 036003                    ADLQ    36,DU
         2 002270   100000 503506                    ABD     0,QL,PR1
         2 002271   000044 451500                    STP1    36,,PR0

      562     7307    4                END;

      563     7308    3           END;

      564     7309    2        CALL DDQ$WRITED(OUTPUT$,POFFC(S_D.D$,OUTPUT$));

   7309  2 002272   200157 236100                    LDQ     OUTPUT$,,AUTO
         2 002273   000020 772000                    QRL     16
         2 002274   200202 756100                    STQ     PTR$+1,,AUTO
         2 002275   000044 236100                    LDQ     36,,PR0
         2 002276   000020 772000                    QRL     16
         2 002277   200202 136100                    SBLQ    PTR$+1,,AUTO
         2 002300   200203 756100                    STQ     PTR$+2,,AUTO
         2 002301   200203 631500                    EPPR1   PTR$+2,,AUTO
         2 002302   200205 451500                    STP1    PTR$+4,,AUTO
         2 002303   200157 633500                    EPPR3   OUTPUT$,,AUTO
         2 002304   200204 453500                    STP3    PTR$+3,,AUTO
         2 002305   200204 630500                    EPPR0   PTR$+3,,AUTO
         2 002306   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 002307   000000 701000 xent               TSX1    DDQ$WRITED
         2 002310   000000 011000                    NOP     0

      565     7310    2        J = 0;

   7310  2 002311   200154 450100                    STZ     J,,AUTO

PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:94   
      566     7311    2        RETURN;

   7311  2 002312   200174 221300                    LDX1  ! @WRD+1,,AUTO
         2 002313   000001 702211                    TSX2  ! 1,X1

      567     7312    2   END LINE_OUT;
      568     7313        %EJECT;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:95   
      569     7314        /* Convert the right 16 bits of a 36-bit ubin into 4 hex digits where
      570     7315           S_D.D$ points.  Does not increment S_D.D$. */
      571     7316
      572     7317    1   HEX_9_OUT: PROC(VAL);

   7317  2 002314   200176 741300       HEX_9_OUT    STX1  ! @WRD_SOURCE+2,,AUTO

      573     7318
      574     7319    2   DCL VAL UBIN;
      575     7320    2   DCL 1 XVAL REDEF VAL,
      576     7321    2         2 * BIT(20) UNAL,
      577     7322    2         2 H ( 0:3 ) UBIN (4) UNAL;
      578     7323    2   DCL I UBIN;
      579     7324    2   DCL PTR$ PTR;
      580     7325    2   DCL HEXCHARS(0:15) CHAR(1) CONSTANT INIT(
      581     7326    2        '0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F');
      582     7327    2   DCL CHAR1 CHAR(1) BASED;
      583     7328
      584     7329    2        PTR$ = S_D.D$;

   7329  2 002315   000000 470400 xsym               LDP0    S_D$
         2 002316   000044 236100                    LDQ     36,,PR0
         2 002317   200201 756100                    STQ     PTR$,,AUTO

      585     7330    3        DO I = 0 TO 3;

   7330  2 002320   200200 450100                    STZ     I,,AUTO

      586     7331    3             PTR$->CHAR1 = HEXCHARS(XVAL.H(I));

   7331  2 002321   200200 235100                    LDA     I,,AUTO
         2 002322   000002 735000                    ALS     2
         2 002323   200177 470500                    LDP0    @VAL,,AUTO
         2 002324   003100 061505                    CSR     bolr='003'O
         2 002325   000000 420004                    BDSC    0,A,PR0                  by=2,bit=2,n=4
         2 002326   200202 000044                    BDSC    PTR$+1,,AUTO             by=0,bit=0,n=36
         2 002327   200202 236100                    LDQ     PTR$+1,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:96   
         2 002330   200201 471500                    LDP1    PTR$,,AUTO
         2 002331   040100 100406                    MLR     fill='040'O
         2 002332   000000 000001 1                  ADSC9   HEXCHARS,Q               cn=0,n=1
         2 002333   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1

      587     7332    3             PTR$ = PINCRC(PTR$, 1);

   7332  2 002334   200201 236100                    LDQ     PTR$,,AUTO
         2 002335   200000 036007                    ADLQ    65536,DL
         2 002336   200201 756100                    STQ     PTR$,,AUTO

      588     7333    3           END;

   7333  2 002337   200200 235100                    LDA     I,,AUTO
         2 002340   000001 035007                    ADLA    1,DL
         2 002341   200200 755100                    STA     I,,AUTO
         2 002342   000004 115007                    CMPA    4,DL
         2 002343   002321 602000 2                  TNC     s:7331

      589     7334    2        RETURN;

   7334  2 002344   200176 221300                    LDX1  ! @WRD_SOURCE+2,,AUTO
         2 002345   000001 702211                    TSX2  ! 1,X1

      590     7335    2   END HEX_9_OUT;
      591     7336        %EJECT;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:97   
      592     7337        /* Convert the right 18 bits of a 36-bit ubin into 6 octal digits where
      593     7338           S_D.D$ points. Does not increment S_D.D$. */
      594     7339
      595     7340    1   OCTOUT: PROC ( VAL );

   7340  2 002346   200176 741300       OCTOUT       STX1  ! @WRD_SOURCE+2,,AUTO

      596     7341
      597     7342    2   DCL VAL UBIN;
      598     7343    2   DCL 1 OVAL REDEF VAL,
      599     7344    2         2 * BIT ( 18 ) UNAL,
      600     7345    2         2 O ( 0:5 ) UBIN ( 3 ) UNAL;
      601     7346    2   DCL I UBIN;
      602     7347    2   DCL PTR$ PTR;
      603     7348    2   DCL OCTCHARS ( 0:7 ) CHAR ( 1 ) CONSTANT INIT (
      604     7349    2        '0', '1', '2', '3', '4', '5', '6', '7' );
      605     7350    2   DCL CHAR1 CHAR ( 1 ) BASED;
      606     7351
      607     7352    2        PTR$ = S_D.D$;

   7352  2 002347   000000 470400 xsym               LDP0    S_D$
         2 002350   000044 236100                    LDQ     36,,PR0
         2 002351   200201 756100                    STQ     PTR$,,AUTO

      608     7353    3        DO I = 0 TO 5;

   7353  2 002352   200200 450100                    STZ     I,,AUTO

      609     7354    3             PTR$ -> CHAR1 = OCTCHARS ( OVAL.O ( I ) );

   7354  2 002353   200200 236100                    LDQ     I,,AUTO
         2 002354   000003 402007                    MPY     3,DL
         2 002355   200177 470500                    LDP0    @VAL,,AUTO
         2 002356   003100 061506                    CSR     bolr='003'O
         2 002357   000000 400003                    BDSC    0,Q,PR0                  by=2,bit=0,n=3
         2 002360   200202 000044                    BDSC    PTR$+1,,AUTO             by=0,bit=0,n=36
         2 002361   200202 236100                    LDQ     PTR$+1,,AUTO
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:98   
         2 002362   200201 471500                    LDP1    PTR$,,AUTO
         2 002363   040100 100406                    MLR     fill='040'O
         2 002364   000004 000001 1                  ADSC9   OCTCHARS,Q               cn=0,n=1
         2 002365   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1

      610     7355    3             PTR$ = PINCRC ( PTR$, 1 );

   7355  2 002366   200201 236100                    LDQ     PTR$,,AUTO
         2 002367   200000 036007                    ADLQ    65536,DL
         2 002370   200201 756100                    STQ     PTR$,,AUTO

      611     7356    3           END;

   7356  2 002371   200200 235100                    LDA     I,,AUTO
         2 002372   000001 035007                    ADLA    1,DL
         2 002373   200200 755100                    STA     I,,AUTO
         2 002374   000006 115007                    CMPA    6,DL
         2 002375   002353 602000 2                  TNC     s:7354

      612     7357    2        RETURN;

   7357  2 002376   200176 221300                    LDX1  ! @WRD_SOURCE+2,,AUTO
         2 002377   000001 702211                    TSX2  ! 1,X1

      613     7358    2   END OCTOUT;
      614     7359        %EJECT;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:99   
      615     7360        /* This routine maintains a 16 words cache and returns the requested word. */
      616     7361
      617     7362    1   GET_L6WRD: PROC ( WRD, WRD_SOURCE ) ALTRET;

   7362  2 002400   200172 741300       GET_L6WRD    STX1  ! ZITEM$+4,,AUTO

      618     7363
      619     7364    2   DCL WRD UBIN;
      620     7365    2   DCL WRD_SOURCE UBIN;
      621     7366
      622     7367    2        IF WRD_SOURCE = CACHE_BOOK.SOURCE AND

   7367  2 002401   200174 470500                    LDP0    @WRD_SOURCE,,AUTO
         2 002402   000000 236100                    LDQ     0,,PR0
         2 002403   200057 116100                    CMPQ    CACHE_BOOK,,AUTO
         2 002404   002431 601000 2                  TNZ     s:7373
         2 002405   200011 236100                    LDQ     ADDRESS,,AUTO
         2 002406   200060 136100                    SBLQ    CACHE_BOOK+1,,AUTO
         2 002407   002431 604000 2                  TMI     s:7373
         2 002410   200011 236100                    LDQ     ADDRESS,,AUTO
         2 002411   200060 136100                    SBLQ    CACHE_BOOK+1,,AUTO
         2 002412   000017 116007                    CMPQ    15,DL
         2 002413   002431 605400 2                  TPNZ    s:7373
         2 002414   200011 236100                    LDQ     ADDRESS,,AUTO
         2 002415   002431 604000 2                  TMI     s:7373
         2 002416   200060 116100                    CMPQ    CACHE_BOOK+1,,AUTO
         2 002417   002431 602000 2                  TNC     s:7373
         2 002420   000000 116003                    CMPQ    0,DU
         2 002421   002425 604000 2                  TMI     s:7371
         2 002422   200061 116100                    CMPQ    CACHE_BOOK+2,,AUTO
         2 002423   002425 600000 2                  TZE     s:7371
         2 002424   002431 603000 2                  TRC     s:7373

      623     7368    2          ((ADDRESS - CACHE_BOOK.START_ADDR) >= 0) AND
      624     7369    2          ((ADDRESS - CACHE_BOOK.START_ADDR) <= 15) AND
      625     7370    2          ADDRESS >= CACHE_BOOK.START_ADDR AND ADDRESS <= CACHE_BOOK.END_ADDR
      626     7371    2        THEN VALUE = CACHE.OPS ( ADDRESS - CACHE_BOOK.START_ADDR );
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:100  

   7371  2 002425   200060 136100                    SBLQ    CACHE_BOOK+1,,AUTO
         2 002426   200037 235106                    LDA     CACHE+1,QL,AUTO
         2 002427   200035 755100                    STA     VALUE,,AUTO
         2 002430   002517 710000 2                  TRA     s:7387

      627     7372    3        ELSE DO;

      628     7373    4             DO CASE ( WRD_SOURCE );

   7373  2 002431   000000 235100                    LDA     0,,PR0
         2 002432   000004 115007                    CMPA    4,DL
         2 002433   002435 602005 2                  TNC     s:7373+4,AL
         2 002434   002506 710000 2                  TRA     s:7383
         2 002435   002506 710000 2                  TRA     s:7383
         2 002436   002506 710000 2                  TRA     s:7383
         2 002437   002441 710000 2                  TRA     s:7375
         2 002440   002464 710000 2                  TRA     s:7379

      629     7374    4               CASE ( %RU );

      630     7375    4                  CALL DUU$GETMVAL ( CACHE, 0, ADDRESS, SEG, DESC#, NOT_IS )

   7375  2 002441   200022 631500                    EPPR1   NOT_IS,,AUTO
         2 002442   200207 451500                    STP1    PTR$+6,,AUTO
         2 002443   200021 633500                    EPPR3   DESC#,,AUTO
         2 002444   200206 453500                    STP3    PTR$+5,,AUTO
         2 002445   200020 634500                    EPPR4   SEG,,AUTO
         2 002446   200205 454500                    STP4    PTR$+4,,AUTO
         2 002447   200011 635500                    EPPR5   ADDRESS,,AUTO
         2 002450   200204 455500                    STP5    PTR$+3,,AUTO
         2 002451   000002 236000 3                  LDQ     2
         2 002452   200203 756100                    STQ     PTR$+2,,AUTO
         2 002453   200036 636500                    EPPR6   CACHE,,AUTO
         2 002454   200202 456500                    STP6    PTR$+1,,AUTO
         2 002455   200202 630500                    EPPR0   PTR$+1,,AUTO
         2 002456   000024 631400 xsym               EPPR1   B_VECTNIL+20
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:101  
         2 002457   000000 701000 xent               TSX1    DUU$GETMVAL
         2 002460   002521 702000 2                  TSX2    MEM_ERR

      631     7376    4                    ALTRET ( MEM_ERR );
      632     7377    4                  CACHE_BOOK.SOURCE = %RU;

   7377  2 002461   000002 235007                    LDA     2,DL
         2 002462   200057 755100                    STA     CACHE_BOOK,,AUTO
         2 002463   002506 710000 2                  TRA     s:7383

      633     7378    4               CASE ( %MEM );

      634     7379    4                  CALL DFK$GETMVAL ( CACHE, ADDRESS, SEG, DESC#, NOT_IS, '0'B )

   7379  2 002464   000002 236000 3                  LDQ     2
         2 002465   200207 756100                    STQ     PTR$+6,,AUTO
         2 002466   200022 631500                    EPPR1   NOT_IS,,AUTO
         2 002467   200206 451500                    STP1    PTR$+5,,AUTO
         2 002470   200021 633500                    EPPR3   DESC#,,AUTO
         2 002471   200205 453500                    STP3    PTR$+4,,AUTO
         2 002472   200020 634500                    EPPR4   SEG,,AUTO
         2 002473   200204 454500                    STP4    PTR$+3,,AUTO
         2 002474   200011 635500                    EPPR5   ADDRESS,,AUTO
         2 002475   200203 455500                    STP5    PTR$+2,,AUTO
         2 002476   200036 636500                    EPPR6   CACHE,,AUTO
         2 002477   200202 456500                    STP6    PTR$+1,,AUTO
         2 002500   200202 630500                    EPPR0   PTR$+1,,AUTO
         2 002501   000024 631400 xsym               EPPR1   B_VECTNIL+20
         2 002502   000000 701000 xent               TSX1    DFK$GETMVAL
         2 002503   002521 702000 2                  TSX2    MEM_ERR

      635     7380    4                    ALTRET ( MEM_ERR );
      636     7381    4                  CACHE_BOOK.SOURCE = %MEM;

   7381  2 002504   000003 235007                    LDA     3,DL
         2 002505   200057 755100                    STA     CACHE_BOOK,,AUTO

PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:102  
      637     7382    4               END;

      638     7383    3             CACHE_BOOK.START_ADDR = ADDRESS;

   7383  2 002506   200011 235100                    LDA     ADDRESS,,AUTO
         2 002507   200060 755100                    STA     CACHE_BOOK+1,,AUTO

      639     7384    3             CACHE_BOOK.END_ADDR = ADDRESS + CACHE.SIZE - 1;

   7384  2 002510   200011 236100                    LDQ     ADDRESS,,AUTO
         2 002511   200036 036100                    ADLQ    CACHE,,AUTO
         2 002512   000001 136007                    SBLQ    1,DL
         2 002513   200061 756100                    STQ     CACHE_BOOK+2,,AUTO

      640     7385    3             WRD = CACHE.OPS ( 0 );

   7385  2 002514   200173 470500                    LDP0    @WRD,,AUTO
         2 002515   200037 235100                    LDA     CACHE+1,,AUTO
         2 002516   000000 755100                    STA     0,,PR0

      641     7386    3           END;

      642     7387    2        RETURN;

   7387  2 002517   200172 221300                    LDX1  ! ZITEM$+4,,AUTO
         2 002520   000001 702211                    TSX2  ! 1,X1

      643     7388    2   MEM_ERR: ALTRETURN;

   7388  2 002521   200172 221300       MEM_ERR      LDX1  ! ZITEM$+4,,AUTO
         2 002522   000000 702211                    TSX2  ! 0,X1

HEXCHARS
 Sect OctLoc
   1     000   060061 062063   064065 066067   070071 101102   103104 105106    0123456789ABCDEF

OCTCHARS
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:103  
 Sect OctLoc
   1     004   060061 062063   064065 066067                                    01234567

(unnamed)
 Sect OctLoc
   1     006   050155 151163   163151 156147   040160 141147   145050 163051    (missing page(s)
   1     012   051040 040040   101143 143145   163163 040157   165164 040157    )   Access out o
   1     016   146040 163145   147155 145156   164040 040040   040124 110122    f segment    THR
   1     022   125040 040040                                                    U

(unnamed)
 Sect OctLoc
   3     000   000000 006003   000004 006000   000002 006000   000000 000044    ...............$
   3     004   000003 006000   000013 006000   000005 006000   000000 000021    ................
   3     010   000007 006000   000100 663100   000000 000025   000012 006000    .....@.@........
   3     014   000000 000015   000014 006000   000001 400000   000002 400000    ................
   3     020   000001 600000   000002 600000   000001 200000                    ............
      644     7389    2   END GET_L6WRD;
      645     7390    1   END DFA$DUMP;
      646     7391        %EJECT;
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:104  

PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:105  
--  Include file information  --

   CP_6_SUBS.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   DD_PSUBS_C.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   DD_ERR_C.:E05TOU  is referenced.
   DD_SRTN_C.:E05TOU  is referenced.
   DD_ACODE_C.:E05TOU  is referenced.
   DD_ICODE_C.:E05TOU  is referenced.
   DD$DITEM.:E05TOU  cannot be made into a system file and is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD$BASED.:E05TOU  is referenced.
   B$TABLES_C.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure DFA$DUMP.

   Procedure DFA$DUMP requires 1363 words for executable code.
   Procedure DFA$DUMP requires 138 words of local(AUTO) storage.

    No errors detected in file DFA$DUMP.:E05TSI    .
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:106  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:107  
          MINI XREF LISTING

ADDRESS
        25**DCL      6929<>CALL     6960<>CALL     6961<>CALL     6963<>CALL     6966>>ASSIGN   6967>>ASSIGN
      7040<>CALL     7045>>IF       7046>>ASSIGN   7048>>ASSIGN   7049>>ASSIGN   7093<<ASSIGN   7093>>ASSIGN
      7094>>IF       7117>>IF       7123>>IF       7126>>IF       7131<<ASSIGN   7132>>ASSIGN   7135>>IF
      7144>>ASSIGN   7186>>ASSIGN   7259>>ASSIGN   7367>>IF       7367>>IF       7367>>IF       7367>>IF
      7371>>ASSIGN   7375<>CALL     7379<>CALL     7383>>ASSIGN   7384>>ASSIGN
ALT_CHECK
      7179**LABEL    7070--CALLALT  7071--CALLALT
B$XL_ASC_DUMP$
       202**DCL       203--IMP-PTR  7230>>CALLBLT  7290>>CALLBLT  7304>>CALLBLT
B$XL_EBC_DUMP$
       206**DCL       207--IMP-PTR  7237>>CALLBLT  7291>>CALLBLT  7305>>CALLBLT
BLANK
        84**DCL      6975<<ASSIGN   6989<<ASSIGN   7051>>ASSIGN   7052>>ASSIGN   7053>>ASSIGN   7054>>ASSIGN
      7106>>ASSIGN   7107>>ASSIGN   7148>>ASSIGN   7149>>ASSIGN   7150>>ASSIGN   7151>>ASSIGN
CACHE
        46**DCL      6961<>CALL     6963<>CALL     7375<>CALL     7379<>CALL
CACHE.OPS
        48**DCL      6968>>ASSIGN   7371>>ASSIGN   7385>>ASSIGN
CACHE.SIZE
        47**DCL      6967>>ASSIGN   7384>>ASSIGN
CACHE_BOOK.END_ADDR
        52**DCL      6967<<ASSIGN   7367>>IF       7384<<ASSIGN
CACHE_BOOK.SOURCE
        50**DCL      6887<<ASSIGN   6965<<ASSIGN   7367>>IF       7377<<ASSIGN   7381<<ASSIGN
CACHE_BOOK.START_ADDR
        51**DCL      6966<<ASSIGN   7367>>IF       7367>>IF       7367>>IF       7371>>ASSIGN   7383<<ASSIGN
CHAR1 IN PROCEDURE HEX_9_OUT
      7327**DCL      7331<<ASSIGN
CHAR1 IN PROCEDURE OCTOUT
      7350**DCL      7354<<ASSIGN
CHAR32
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:108  
       213**DCL      7031<<ASSIGN   7230<<CALLBLT  7237<<CALLBLT  7290<<CALLBLT  7291<<CALLBLT  7304<<CALLBLT
      7305<<CALLBLT
CHAR6
       211**DCL      7210<<ASSIGN
CHAR9
       212**DCL      7207<<ASSIGN   7213<<ASSIGN   7253<<ASSIGN
CHAR_HOLD
        91**DCL      7205--CALL     7207>>ASSIGN   7212--CALL     7213>>ASSIGN   7250--CALL     7251--CALL
      7253>>ASSIGN
CHECK_DUP
        90**DCL      7061<<ASSIGN   7062<<ASSIGN   7073>>IF       7086<<ASSIGN   7097>>IF       7111<<ASSIGN
      7112<<ASSIGN   7117>>IF       7158<<ASSIGN   7159<<ASSIGN
CLEAN_RETURN
      7160**LABEL    6909--CALLALT  6929--CALLALT  6960--CALLALT  6961--CALLALT  6963--CALLALT  7040--CALLALT
      7069--CALLALT  7134--CALLALT  7139--GOTO
C_FLAG
        38**DCL      6888<<ASSIGN   6899<<ASSIGN   6976<<ASSIGN   6981<<ASSIGN   6984>>IF       7006>>IF
      7017>>IF       7226>>IF       7276>>IF       7289>>IF       7303>>IF
DATA
        62**DCL      7265>>ASSIGN
DATA.VAL
        64**DCL      7072<<ASSIGN
DATA.VAL.L
        65**DCL      7051<<ASSIGN   7106<<ASSIGN   7148<<ASSIGN   7298>>ASSIGN
DATA.VAL.R
        66**DCL      7052<<ASSIGN   7107<<ASSIGN   7149<<ASSIGN   7300>>ASSIGN
DATA_CHAR
        67**DCL        68--REDEF    7298<<ASSIGN   7300<<ASSIGN
DATA_STR
        68**DCL      7056<<ASSIGN   7109<<ASSIGN   7153<<ASSIGN   7304>>CALLBLT  7305>>CALLBLT
DDA$DISPADR
      6875**DCL-ENT  7040--CALL
DDA$DUMP_DO
      6877**DCL-ENT  6937--CALL
DDB$BREAK
      6885**DCL-ENT  7069--CALL     7134--CALL
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:109  
DDK$EVAL
      6868**DCL-ENT  6929--CALL     6960--CALL
DDQ$WRITED
      6879**DCL-ENT  7032--CALL     7041--CALL     7137--CALL     7161--CALL     7175--CALL     7240--CALL
      7309--CALL
DDQ$WRTOFD
      6881**DCL-ENT  7021--CALL
DDR$BINTXT
      6884**DCL-ENT  7205--CALL     7212--CALL     7250--CALL     7251--CALL
DESC#
        33**DCL      6929<>CALL     6931>>IF       6960<>CALL     6961<>CALL     6963<>CALL     7040<>CALL
      7375<>CALL     7379<>CALL
DFK$EVAL
      6869**DCL-ENT  6963--CALL
DFK$GETMVAL
      6870**DCL-ENT  6961--CALL     7379--CALL
DUA$CLOSEDUMP
      6883**DCL-ENT  7178--CALL
DUA$OUTPUT
      6882**DCL-ENT  6909--CALL
DUMP$CMD.ASCII_FLAG
      1528**DCL      6976>>IF
DUMP$CMD.DEST
      1527**DCL      6906>>IF
DUMP$CMD.DESTCODE
      1539**DCL      6908>>ASSIGN
DUMP$CMD.EBCDIC_FLAG
      1531**DCL      6977>>IF
DUMP$CMD.FID
      1541**DCL      6909<>CALL
DUMP$CMD.FORMAT
      1526**DCL      6935<<ASSIGN   6978>>IF
DUMP$CMD.FORMATCODE
      1534**DCL      6934<<ASSIGN   6979>>DOCASE
DUMP$CMD.HEADING
      1525**DCL      7025>>IF
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:110  
DUMP$CMD.LONG
      1530**DCL      6890>>IF
DUMP$CMD.NUM
      1540**DCL      6889>>ASSIGN
DUMP$CMD.PAGE_EJECT
      1529**DCL      7021>>IF
DUMP_HEADING.LEN
       215**DCL      7027>>ASSIGN
DUMP_HEADING.TEXT
       216**DCL      7031>>ASSIGN
DUU$GETMVAL
      6873**DCL-ENT  7375--CALL
D_M$DO#
      6864**DCL      6912>>ASSIGN
EBCDIC_XLATE_TABLE
       207**DCL      7237>>CALLBLT  7291>>CALLBLT  7305>>CALLBLT
EB_FLAG
        40**DCL      6900<<ASSIGN   6977<<ASSIGN   6983<<ASSIGN   7006>>IF       7017>>IF       7233>>IF
      7276>>IF
EXPR_OP
        35**DCL      6963<>CALL
F$DCB.ACTPOS
      6298**DCL      6298--REDEF
F$DCB.ARS#
      6272**DCL      6272--REDEF
F$DCB.ASN#
      6287**DCL      6914>>IF
F$DCB.ATTR
      6291**DCL      6292--REDEF
F$DCB.BORROW
      6306**DCL      6306--REDEF    6306--REDEF    6306--REDEF
F$DCB.DCBNAME.L
      6320**DCL      6320--IMP-SIZ
F$DCB.EOMCHAR#
      6276**DCL      6276--REDEF
F$DCB.FLDID
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:111  
      6301**DCL      6301--REDEF
F$DCB.FORM$
      6295**DCL      6295--REDEF
F$DCB.FSECT
      6311**DCL      6311--REDEF
F$DCB.FSN#
      6288**DCL      6288--REDEF    6288--REDEF    6289--REDEF
F$DCB.HEADER$
      6294**DCL      6294--REDEF
F$DCB.IXTNSIZE#
      6292**DCL      6292--REDEF
F$DCB.LASTSTA$
      6281**DCL      6281--REDEF
F$DCB.LVL
      6307**DCL      6307--REDEF
F$DCB.NAME#.C
      6282**DCL      6282--REDEF
F$DCB.NOEOF
      6304**DCL      6304--REDEF
F$DCB.NRECS#
      6293**DCL      6293--REDEF
F$DCB.NRECX
      6312**DCL      6312--REDEF
F$DCB.OHDR
      6304**DCL      6304--REDEF
F$DCB.ORG#
      6287**DCL      6287--REDEF
F$DCB.PRECNO
      6310**DCL      6310--REDEF
F$DCB.RCSZ
      6316**DCL      6316--REDEF
F$DCB.RES#
      6283**DCL      6283--REDEF
F$DCB.SETX
      6295**DCL      6295--REDEF
F$DCB.TAB$
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:112  
      6295**DCL      6295--REDEF
F$DCB.TDA
      6309**DCL      6310--REDEF
F$DCB.WIDTH#
      6279**DCL      6916>>IF       6918>>ASSIGN
F$DCB.WSN#
      6283**DCL      6283--REDEF
GET_L6WRD
      7362**PROC     6941--CALL     7070--CALL     7071--CALL     7142--CALL     7143--CALL
HEXCHARS IN PROCEDURE HEX_9_OUT
      7325**DCL      7331>>ASSIGN
HEX_9_OUT
      7317**PROC     7223--CALL     7272--CALL
H_FLAG
        39**DCL      6897<<ASSIGN   6994<<ASSIGN
I
        27**DCL      6908<<ASSIGN   6909<>CALL     7050<<DOINDEX  7051>>ASSIGN   7052>>ASSIGN   7053>>ASSIGN
      7054>>ASSIGN   7068<<DOINDEX  7072>>ASSIGN   7085>>IF       7105<<DOINDEX  7106>>ASSIGN   7107>>ASSIGN
      7147<<DOINDEX  7148>>ASSIGN   7149>>ASSIGN   7150>>ASSIGN   7151>>ASSIGN
I IN PROCEDURE HEX_9_OUT
      7323**DCL      7330<<DOINDEX  7331>>ASSIGN
I IN PROCEDURE OCTOUT
      7346**DCL      7353<<DOINDEX  7354>>ASSIGN
J
        85**DCL      7049<<ASSIGN   7060>>IF       7068>>DOINDEX  7104<<ASSIGN   7145<<ASSIGN   7255>>ASSIGN
      7257>>ASSIGN   7260>>DOINDEX  7282<<ASSIGN   7284>>ASSIGN   7285<<ASSIGN   7285>>ASSIGN   7286>>ASSIGN
      7287<<ASSIGN   7287>>ASSIGN   7296<<ASSIGN   7298>>ASSIGN   7299<<ASSIGN   7299>>ASSIGN   7300>>ASSIGN
      7301<<ASSIGN   7301>>ASSIGN   7310<<ASSIGN
K
        86**DCL      7258<<ASSIGN   7259<<ASSIGN   7260>>DOINDEX
L
        87**DCL      7260<<DOINDEX  7262>>ASSIGN   7265>>ASSIGN   7283<<DOINDEX  7284>>ASSIGN   7286>>ASSIGN
      7297<<DOINDEX  7298>>ASSIGN   7300>>ASSIGN
L1
      7131**LABEL    7164--GOTO
L2
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:113  
      7163**LABEL    6941--CALLALT  7142--CALLALT  7143--CALLALT
L5
      7136**LABEL    7165--GOTO
LAST_TIME
      7110**LABEL    7094--GOTO     7190--GOTO
LINE_OUT
      7247**PROC     7100--CALL     7124--CALL     7127--CALL     7197--CALL
LONG_FLAG
        42**DCL      6891<<ASSIGN   6892<<ASSIGN   7060>>IF       7110>>IF       7157>>IF
LOOP_TOP
      7063**LABEL    7113--GOTO     7162--GOTO
MAX_ADDRESS
        30**DCL      7048<<ASSIGN   7094>>IF       7135>>IF
MAX_CELL
        29**DCL      7005<<ASSIGN   7008<<ASSIGN   7008>>ASSIGN   7011<<ASSIGN   7011>>ASSIGN   7012>>IF
      7013<<ASSIGN   7014>>IF       7015<<ASSIGN   7016<<ASSIGN   7019>>ASSIGN   7046>>ASSIGN   7046>>ASSIGN
      7063>>ASSIGN   7079>>IF       7103>>ASSIGN   7117>>IF       7120>>ASSIGN   7121>>IF       7195>>IF
      7278>>ASSIGN   7279>>ASSIGN   7293>>ASSIGN   7306>>ASSIGN
MAX_CELL_M_1
        61**DCL      7063<<ASSIGN   7068>>DOINDEX
MEM_ERR IN PROCEDURE GET_L6WRD
      7388**LABEL    7375--CALLALT  7379--CALLALT
MISSING_PAGE_FLAG
        44**DCL      6902<<ASSIGN   7128>>IF       7130<<ASSIGN   7182<<ASSIGN   7185<<ASSIGN
MUST_CALL_CLOSE
        43**DCL      6901<<ASSIGN   6910<<ASSIGN   7178>>IF
NOT_IS
        34**DCL      6929<>CALL     6960<>CALL     6961<>CALL     6963<>CALL     7040<>CALL     7375<>CALL
      7379<>CALL
NUM_WORDS
        36**DCL      6889<<ASSIGN   7048>>ASSIGN   7138>>IF       7188>>IF
OCTCHARS IN PROCEDURE OCTOUT
      7348**DCL      7354>>ASSIGN
OCTOUT
      7340**PROC     7219--CALL     7268--CALL
OFFSET
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:114  
        60**DCL      7046<<ASSIGN   7047<<ASSIGN   7049>>ASSIGN   7076>>ASSIGN   7103<<ASSIGN   7103>>ASSIGN
      7117>>IF       7120<<ASSIGN   7120>>ASSIGN   7126>>IF       7144<<ASSIGN   7195>>IF       7199>>ASSIGN
      7209>>ASSIGN   7251<>CALL     7258>>ASSIGN   7259>>ASSIGN
OFFSET_SAVE
        83**DCL      7058<<ASSIGN   7076>>IF       7076<<ASSIGN   7081<<ASSIGN   7089<<ASSIGN   7123>>IF
      7155<<ASSIGN   7195>>IF       7199<<ASSIGN   7205<>CALL     7209<<ASSIGN   7212<>CALL     7250<>CALL
      7258>>ASSIGN
OKAY
      6939**LABEL    6937--CALLALT
OUTPUT$
        88**DCL      6895<<ASSIGN   7030>>ASSIGN   7032<>CALL     7032>>CALL     7038>>ASSIGN   7041<>CALL
      7041>>CALL     7137<>CALL     7161<>CALL     7175<>CALL     7202>>ASSIGN   7206>>ASSIGN   7240<>CALL
      7240>>CALL     7252>>ASSIGN   7255>>ASSIGN   7257>>ASSIGN   7278>>ASSIGN   7279>>ASSIGN   7309<>CALL
      7309>>CALL
OVAL.O IN PROCEDURE OCTOUT
      7345**DCL      7354>>ASSIGN
O_FLAG
        41**DCL      6898<<ASSIGN   6996<<ASSIGN   7002>>IF       7217>>IF       7254>>IF       7266>>IF
      7278>>IF
PTR$ IN PROCEDURE HEX_9_OUT
      7324**DCL      7329<<ASSIGN   7331>>ASSIGN   7332<<ASSIGN   7332>>ASSIGN
PTR$ IN PROCEDURE OCTOUT
      7347**DCL      7352<<ASSIGN   7354>>ASSIGN   7355<<ASSIGN   7355>>ASSIGN
RE_ENTER_LOOP
      7097**LABEL    7097--GOTO
SAME_COUNT
        89**DCL      7059<<ASSIGN   7075<<ASSIGN   7075>>ASSIGN   7079>>IF       7084<<ASSIGN   7088<<ASSIGN
      7121>>IF       7156<<ASSIGN
SAME_OUT
      7194**PROC     7080--CALL     7122--CALL
SAVE_ADDRESS
        58**DCL      7131>>ASSIGN   7132<<ASSIGN   7186<<ASSIGN
SAVE_CALLED
        37**DCL      6896<<ASSIGN   7196<<ASSIGN   7198<<ASSIGN   7250>>IF       7258>>IF       7261>>IF
      7280>>IF
SAVE_DATA.VAL
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:115  
        71**DCL      7262<<ASSIGN
SAVE_DATA.VAL.L
        72**DCL      7053<<ASSIGN   7150<<ASSIGN   7284>>ASSIGN
SAVE_DATA.VAL.R
        73**DCL      7054<<ASSIGN   7151<<ASSIGN   7286>>ASSIGN
SAVE_DATA_CHAR
        74**DCL        75--REDEF    7284<<ASSIGN   7286<<ASSIGN
SAVE_DATA_STR
        75**DCL      7057<<ASSIGN   7154<<ASSIGN   7290>>CALLBLT  7291>>CALLBLT
SAVE_VALUE
        76**DCL      7223<>CALL     7263>>ASSIGN
SAVE_VALUE.VAL
        78**DCL      6971<<ASSIGN   7074>>IF       7083<<ASSIGN   7146<<ASSIGN   7262>>ASSIGN
SAVE_VALUE.VAL.L
        79**DCL      7228>>ASSIGN   7235>>ASSIGN
SAVE_VALUE.VAL.R
        80**DCL      7229>>ASSIGN   7236>>ASSIGN
SAVE_VALUE_CHAR
        81**DCL        82--REDEF    7228<<ASSIGN   7229<<ASSIGN   7235<<ASSIGN   7236<<ASSIGN
SAVE_WIDTH
        57**DCL      6913<<ASSIGN   7171>>ASSIGN
SEG
        32**DCL      6929<>CALL     6931>>IF       6960<>CALL     6961<>CALL     6963<>CALL     7040<>CALL
      7375<>CALL     7379<>CALL
SIZE
        59**DCL       212--IMP-SIZ  6963<>CALL     7205<>CALL     7206>>ASSIGN   7207>>ASSIGN   7208>>ASSIGN
      7212<>CALL     7213>>ASSIGN   7214>>ASSIGN   7250<>CALL     7251<>CALL     7252>>ASSIGN   7253>>ASSIGN
S_D.CURRENT_CHANNEL
      5343**DCL      5345--REDEF
S_D.D$
      4481**DCL      6922>>ASSIGN   6944>>ASSIGN   7030<<ASSIGN   7031>>ASSIGN   7032>>CALL     7038<<ASSIGN
      7039>>ASSIGN   7041>>CALL     7202<<ASSIGN   7203>>ASSIGN   7206<<ASSIGN   7207>>ASSIGN   7208<<ASSIGN
      7208>>ASSIGN   7210>>ASSIGN   7211<<ASSIGN   7211>>ASSIGN   7213>>ASSIGN   7214<<ASSIGN   7214>>ASSIGN
      7215<<ASSIGN   7215>>ASSIGN   7220<<ASSIGN   7220>>ASSIGN   7224<<ASSIGN   7224>>ASSIGN   7230>>CALLBLT
      7231<<ASSIGN   7231>>ASSIGN   7237>>CALLBLT  7238<<ASSIGN   7238>>ASSIGN   7240>>CALL     7252<<ASSIGN
      7253>>ASSIGN   7255<<ASSIGN   7257<<ASSIGN   7269<<ASSIGN   7269>>ASSIGN   7273<<ASSIGN   7273>>ASSIGN
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:116  
      7278<<ASSIGN   7279<<ASSIGN   7290>>CALLBLT  7291>>CALLBLT  7293<<ASSIGN   7293>>ASSIGN   7304>>CALLBLT
      7305>>CALLBLT  7306<<ASSIGN   7306>>ASSIGN   7309>>CALL     7329>>ASSIGN   7352>>ASSIGN
S_D.DEBUGA
      4495**DCL      4497--REDEF
S_D.DESC$
      4475**DCL      6922<<ASSIGN   7027>>ASSIGN   7031>>ASSIGN
S_D.DESCL$
      4477**DCL      7039<<ASSIGN   7203<<ASSIGN
S_D.DO$
      4446**DCL      6889>>ASSIGN   6890>>IF       6906>>IF       6908>>ASSIGN   6909>>CALL     6934>>ASSIGN
      6935>>ASSIGN   6976>>IF       6977>>IF       6978>>IF       6979>>DOCASE   7021>>IF       7025>>IF
S_D.DUMPDCB
      5149**DCL      6909<>CALL     6912<<ASSIGN   6914--IF       6916--IF       6918--ASSIGN
S_D.DUMP_HEAD
      5242**DCL      6930<<ASSIGN   6936<<ASSIGN
S_D.EIS
      5453**DCL      5482--REDEF
S_D.ERROR
      4424**DCL      6894<<ASSIGN   6986<<ASSIGN   6991<<ASSIGN   7133<<ASSIGN   7138<<ASSIGN   7163>>IF
      7163>>IF       7172>>IF       7176<<ASSIGN   7179>>IF       7183>>IF       7183>>IF       7189<<ASSIGN
S_D.HOST_MESSAGE_BUF_REMOTE
      5386**DCL      5387--REDEF    5401--REDEF
S_D.JDE
      5000**DCL      5001--REDEF
S_D.L$.VALUE
      4553**DCL      4559--REDEF    4567--REDEF    4570--REDEF    4573--REDEF    4576--REDEF
S_D.L$.VALUE.L
      4554**DCL      4555--REDEF    4556--REDEF
S_D.L6_MESSAGE_BUF
      5407**DCL      5409--REDEF
S_D.OUTPUT
      5373**DCL      5375--REDEF    6895--ASSIGN   7001<<ASSIGN   7039--ASSIGN   7136<<ASSIGN   7160<<ASSIGN
      7174<<ASSIGN   7203--ASSIGN   7204<<ASSIGN   7249<<ASSIGN
S_D.OUT_WIDTH
      4426**DCL      6913>>ASSIGN   6917<<ASSIGN   6918<<ASSIGN   6920<<ASSIGN   7005>>ASSIGN   7171<<ASSIGN
S_D.REMOTE_MSG.FNCC
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:117  
      5392**DCL      5393--REDEF
S_D.REMOTE_MSG.STXC
      5388**DCL      5389--REDEF
S_D.REMOTE_MSG.SUBFNCC
      5396**DCL      5397--REDEF
S_D.RUM
      5041**DCL      6927>>IF       7070>>IF       7142>>IF
S_D.SV
      4452**DCL      4473--REDEF
S_D$
      5704**DCL      4400--IMP-PTR  6889>>ASSIGN   6890>>IF       6894>>ASSIGN   6895>>ASSIGN   6906>>IF
      6908>>ASSIGN   6909>>CALL     6909>>CALL     6912>>ASSIGN   6913>>ASSIGN   6914>>IF       6916>>IF
      6917>>ASSIGN   6918>>ASSIGN   6918>>ASSIGN   6920>>ASSIGN   6922>>ASSIGN   6922>>ASSIGN   6927>>IF
      6930>>ASSIGN   6934>>ASSIGN   6935>>ASSIGN   6936>>ASSIGN   6944>>ASSIGN   6976>>IF       6977>>IF
      6978>>IF       6979>>DOCASE   6986>>ASSIGN   6991>>ASSIGN   7001>>ASSIGN   7005>>ASSIGN   7021>>IF
      7025>>IF       7027>>ASSIGN   7030>>ASSIGN   7031>>ASSIGN   7031>>ASSIGN   7032>>CALL     7038>>ASSIGN
      7039>>ASSIGN   7039>>ASSIGN   7041>>CALL     7070>>IF       7133>>ASSIGN   7136>>ASSIGN   7138>>ASSIGN
      7142>>IF       7160>>ASSIGN   7163>>IF       7163>>IF       7171>>ASSIGN   7172>>IF       7174>>ASSIGN
      7176>>ASSIGN   7179>>IF       7183>>IF       7183>>IF       7189>>ASSIGN   7202>>ASSIGN   7203>>ASSIGN
      7203>>ASSIGN   7204>>ASSIGN   7206>>ASSIGN   7207>>ASSIGN   7208>>ASSIGN   7208>>ASSIGN   7210>>ASSIGN
      7211>>ASSIGN   7211>>ASSIGN   7213>>ASSIGN   7214>>ASSIGN   7214>>ASSIGN   7215>>ASSIGN   7215>>ASSIGN
      7220>>ASSIGN   7220>>ASSIGN   7224>>ASSIGN   7224>>ASSIGN   7230>>CALLBLT  7231>>ASSIGN   7231>>ASSIGN
      7237>>CALLBLT  7238>>ASSIGN   7238>>ASSIGN   7240>>CALL     7249>>ASSIGN   7252>>ASSIGN   7253>>ASSIGN
      7255>>ASSIGN   7257>>ASSIGN   7269>>ASSIGN   7269>>ASSIGN   7273>>ASSIGN   7273>>ASSIGN   7278>>ASSIGN
      7279>>ASSIGN   7290>>CALLBLT  7291>>CALLBLT  7293>>ASSIGN   7293>>ASSIGN   7304>>CALLBLT  7305>>CALLBLT
      7306>>ASSIGN   7306>>ASSIGN   7309>>CALL     7329>>ASSIGN   7352>>ASSIGN
TEMP
        28**DCL      7003<<ASSIGN   7004<<ASSIGN   7009<<ASSIGN   7009>>ASSIGN   7011>>ASSIGN   7018<<ASSIGN
      7018>>ASSIGN   7019<<ASSIGN   7019>>ASSIGN   7028>>ASSIGN   7219<>CALL     7263<<ASSIGN   7265<<ASSIGN
      7268<>CALL     7272<>CALL
TEMP_S
        26**DCL      7028<<ASSIGN   7029>>IF       7029<<ASSIGN   7030>>ASSIGN
TEXT_LEN
        31**DCL       216--IMP-SIZ  7027<<ASSIGN   7028>>ASSIGN   7031>>ASSIGN   7032>>CALL
T_TABLE
       203**DCL      7230>>CALLBLT  7290>>CALLBLT  7304>>CALLBLT
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:118  
VAL IN PROCEDURE HEX_9_OUT
      7319**DCL      7317--PROC     7320--REDEF
VAL IN PROCEDURE OCTOUT
      7342**DCL      7340--PROC     7343--REDEF
VALUE
        45**DCL      6941<>CALL     6968<<ASSIGN   6971>>ASSIGN   7070<>CALL     7071<>CALL     7072>>ASSIGN
      7074>>IF       7083>>ASSIGN   7142<>CALL     7143<>CALL     7146>>ASSIGN   7371<<ASSIGN
VALUE_STR
        82**DCL      7230>>CALLBLT  7237>>CALLBLT
WRD IN PROCEDURE GET_L6WRD
      7364**DCL      7362--PROC     7385<<ASSIGN
WRD_SOURCE IN PROCEDURE GET_L6WRD
      7365**DCL      7362--PROC     7367>>IF       7373>>DOCASE
XVAL.H IN PROCEDURE HEX_9_OUT
      7322**DCL      7331>>ASSIGN
ZITEM.ADDRESS
      2537**DCL      2542--REDEF    2543--REDEF    2544--REDEF
ZITEM.ADDR_TYPE
      2531**DCL      6945>>IF
ZITEM.SP.VD
      2545**DCL      2549--REDEF    2552--REDEF
ZITEM.SP.VS.ID
      2553**DCL      6945>>IF       6945>>IF       6945>>IF       6945>>IF       6945>>IF       6945>>IF
      6945>>IF       6945>>IF       6945>>IF       6945>>IF       6945>>IF       6945>>IF       6945>>IF
ZITEM$
      1926**DCL      2503--IMP-PTR  6944<<ASSIGN   6945>>IF       6945>>IF       6945>>IF       6945>>IF
      6945>>IF       6945>>IF       6945>>IF       6945>>IF       6945>>IF       6945>>IF       6945>>IF
      6945>>IF       6945>>IF       6945>>IF
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:119  
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:120  
              MINI UREF LISTING

B_POINTER     143**DCL-ENT
DCTX_LP    6862**DCL
DCTX_ME    6863**DCL
DDA$DISPFMT    6876**DCL-ENT
DDK$GETMVAL    6871**DCL-ENT
DDR$BINOCT    6880**DCL-ENT
DDS$IC2NODE    6874**DCL-ENT
DFA$DUMP      17**PROC
DFQ$READ_FD    6878**DCL-ENT
DUL$GETMVAL    6872**DCL-ENT
D_XDELTA    6865**DCL
ECHO_DEV    6867**DCL
M$ACCT    6210**DCL-ENT
M$ACTIVATE    6213**DCL-ENT
M$ALIB    6206**DCL-ENT
M$ASUSER    6208**DCL-ENT
M$ATTACH    6215**DCL-ENT
M$BADPP    6233**DCL-ENT
M$CGCTL    6214**DCL-ENT
M$CGINFO    6214**DCL-ENT
M$CHECK    6195**DCL-ENT
M$CHGUNIT    6253**DCL-ENT
M$CLOSE    6193**DCL-ENT
M$CLRSTK    6251**DCL-ENT
M$CMDVAR    6262**DCL-ENT
M$CONFIG    6223**DCL-ENT
M$CORRES    6198**DCL-ENT
M$CPEXIT    6207**DCL-ENT
M$CVM    6231**DCL-ENT
M$CVOL    6196**DCL-ENT
M$DCLFLD    6223**DCL-ENT
M$DEACTIVATE    6213**DCL-ENT
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:121  
M$DELREC    6195**DCL-ENT
M$DEQ    6260**DCL-ENT
M$DETACH    6215**DCL-ENT
M$DEVICE    6197**DCL-ENT
M$DISPLAY    6260**DCL-ENT
M$DISPRES    6200**DCL-ENT
M$DLIB    6206**DCL-ENT
M$DRIBBLE    6223**DCL-ENT
M$DRTN    6251**DCL-ENT
M$DSUSER    6208**DCL-ENT
M$ENQ    6259**DCL-ENT
M$EOM    6218**DCL-ENT
M$ERASE    6224**DCL-ENT
M$ERR    6205**DCL-ENT
M$ERRMSG    6256**DCL-ENT
M$EVENT    6248**DCL-ENT
M$EXHUME    6257**DCL-ENT
M$EXIT    6205**DCL-ENT
M$EXTEND    6197**DCL-ENT
M$FDP    6229**DCL-ENT
M$FDS    6228**DCL-ENT
M$FEBOOT    6221**DCL-ENT
M$FECTL    6222**DCL-ENT
M$FEDUMP    6221**DCL-ENT
M$FID    6256**DCL-ENT
M$FINDPROC    6210**DCL-ENT
M$FSUSER    6208**DCL-ENT
M$FVP    6230**DCL-ENT
M$FWCG    6214**DCL-ENT
M$GBPL    6234**DCL-ENT
M$GDDL    6230**DCL-ENT
M$GDP    6229**DCL-ENT
M$GDS    6228**DCL-ENT
M$GETDCB    6199**DCL-ENT
M$GETMOUSE    6239**DCL-ENT
M$GETPM    6240**DCL-ENT
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:122  
M$GJOB    6258**DCL-ENT
M$GLINEATTR    6218**DCL-ENT
M$GOODPP    6233**DCL-ENT
M$GPLATEN    6226**DCL-ENT
M$GPROMPT    6225**DCL-ENT
M$GTRMATTR    6219**DCL-ENT
M$GTRMCTL    6217**DCL-ENT
M$GTRMTAB    6220**DCL-ENT
M$GVP    6229**DCL-ENT
M$HELP    6256**DCL-ENT
M$INT    6248**DCL-ENT
M$INTRTN    6209**DCL-ENT
M$IOQ    6244**DCL-ENT
M$JOBSTATS    6258**DCL-ENT
M$KEYIN    6198**DCL-ENT
M$LDEV    6193**DCL-ENT
M$LDTRC    6206**DCL-ENT
M$LIMIT    6199**DCL-ENT
M$LINES    6198**DCL-ENT
M$LINK    6205**DCL-ENT
M$MADMUCK    6201**DCL-ENT
M$MAKUSER    6232**DCL-ENT
M$MBS    6200**DCL-ENT
M$MDFFLD    6224**DCL-ENT
M$MERC    6249**DCL-ENT
M$MERCS    6250**DCL-ENT
M$MIRROR    6244**DCL-ENT
M$MONINFO    6261**DCL-ENT
M$MPL    6234**DCL-ENT
M$NODEINFO    6225**DCL-ENT
M$NXTUSR    6259**DCL-ENT
M$OCMSG    6257**DCL-ENT
M$OLAY    6205**DCL-ENT
M$OPEN    6193**DCL-ENT
M$PAS    6234**DCL-ENT
M$PATHCON    6257**DCL-ENT
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:123  
M$PDS    6228**DCL-ENT
M$PFIL    6195**DCL-ENT
M$PLATEN    6219**DCL-ENT
M$PRECORD    6197**DCL-ENT
M$PROCNAME    6210**DCL-ENT
M$PROFILE    6221**DCL-ENT
M$PROMPT    6217**DCL-ENT
M$RACST    6201**DCL-ENT
M$RDSYSLOG    6242**DCL-ENT
M$READ    6194**DCL-ENT
M$RELDCB    6199**DCL-ENT
M$RELRES    6200**DCL-ENT
M$RELSTARF    6202**DCL-ENT
M$REM    6202**DCL-ENT
M$RENV    6249**DCL-ENT
M$REQUIRE    6201**DCL-ENT
M$RETRY    6250**DCL-ENT
M$RETRYS    6250**DCL-ENT
M$REW    6196**DCL-ENT
M$RLSFLD    6224**DCL-ENT
M$RPRIV    6252**DCL-ENT
M$RSPP    6231**DCL-ENT
M$RSWITCH    6253**DCL-ENT
M$RUE    6259**DCL-ENT
M$SAD    6232**DCL-ENT
M$SAVE    6208**DCL-ENT
M$SCON    6209**DCL-ENT
M$SCREECH    6207**DCL-ENT
M$SENV    6249**DCL-ENT
M$SETFMA    6193**DCL-ENT
M$SETFP    6222**DCL-ENT
M$SINPUT    6220**DCL-ENT
M$SLCFLD    6225**DCL-ENT
M$SMOUSE    6239**DCL-ENT
M$SMPRT    6231**DCL-ENT
M$SPRIV    6252**DCL-ENT
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:124  
M$SSC    6232**DCL-ENT
M$SSWITCH    6252**DCL-ENT
M$STATE    6261**DCL-ENT
M$STD    6233**DCL-ENT
M$STIMER    6247**DCL-ENT
M$STLPP    6230**DCL-ENT
M$STRAP    6247**DCL-ENT
M$STRMATTR    6219**DCL-ENT
M$STRMCTL    6217**DCL-ENT
M$STRMTAB    6220**DCL-ENT
M$SYMBIO    6258**DCL-ENT
M$SYSCON    6244**DCL-ENT
M$SYSID    6262**DCL-ENT
M$TDCLOSE    6243**DCL-ENT
M$TDIO    6243**DCL-ENT
M$TDOPEN    6242**DCL-ENT
M$TDREQCPU    6243**DCL-ENT
M$TEMPWROC    6237**DCL-ENT
M$TIME    6260**DCL-ENT
M$TRAP    6247**DCL-ENT
M$TRMISC    6222**DCL-ENT
M$TRMPRG    6218**DCL-ENT
M$TRTN    6251**DCL-ENT
M$TRUNC    6194**DCL-ENT
M$TTIMER    6247**DCL-ENT
M$UC    6217**DCL
M$UMPL    6234**DCL-ENT
M$UNFID    6256**DCL-ENT
M$UNLATCH    6213**DCL-ENT
M$UNSHARE    6210**DCL-ENT
M$USRFIELD    6253**DCL-ENT
M$VIRTUAL    6228**DCL-ENT
M$WAIT    6251**DCL-ENT
M$WEOF    6196**DCL-ENT
M$WRITE    6194**DCL-ENT
M$WRSYSLOG    6242**DCL-ENT
PL6.E3A0      #001=DFA$DUMP File=DFA$DUMP.:E05TSI                                TUE 07/29/97 14:30 Page:125  
M$XCON    6248**DCL-ENT
M$XCONRTN    6209**DCL-ENT
M$XEQTIME    6261**DCL-ENT
M$XFLUSH    6202**DCL-ENT
M$XMOUSE    6239**DCL-ENT
M$XXX    6205**DCL-ENT
M$YC    6207**DCL-ENT
OTEXT     210**DCL
OUT_DEV    6866**DCL
PADDRESS      19**DCL
PC_FLAG      23**DCL
PDESC#      21**DCL
PNOT_IS      22**DCL
PNUM_WORDS      24**DCL
PSEG      20**DCL
SAVE_DCTX      56**DCL
SDD$    1925**DCL
SDD_L6$    1927**DCL
ZITEM_L6$    1928**DCL

VERSION A02

PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:1    
        1        1        /*M* TCU$UNLZ - UNIX ANLZ DUMP COMMAND */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /**/
        8        8        /*X* DMR */
        9        9        /**/
       10       10        TCU$UNLZ: PROC MAIN;
       11       11        /**/
       12       12        %INCLUDE CP_6;
       13       93        %INCLUDE XU_MACRO_C;
       14     3199        %INCLUDE XUF_ENTRY;
       15     3207        %INCLUDE XUG_ENTRY;
       16     3238        %INCLUDE XU_FORMAT_C;
       17     3400    1   DCL X$PRE_PROCESS ENTRY(1) ALTRET;
       18     3401        /**/
       19     3402        %XUG_INIT ( GOODCMD=YES,
       20     3403                    ABORT=TCU$BREAK,
       21     3404                    ALWAYS_SET_PROMPT=YES,
       22     3405                    PREPROCESS=YES,
       23     3406                    PREPROCESSOR=X$PRE_PROCESS);
       24     3819        %FPT_INT ( UENTRY=XUG$BREAK, STCLASS=CONSTANT);
       25     3833        %XUG_GETCMD (PROMPT=PROMPT,
       26     3834                     SFROUTINE=TCU$BUILTIN,
       27     3835                     NODES=TCU_CMD);
       28     4173        %B$TCB (STCLASS="BASED(B$TCB$)");
       29     4176        %B$ALT;
       30     4184    1   DCL B$TCB$ PTR SYMREF READONLY;
       31     4185    1   DCL PROMPT CONSTANT CHAR(0) INIT('unlz-');
       32     4186        /**/
       33     4187        %PARSE$OUT (NAME=TOP,STCLASS="BASED(XUG_GETCMD.OUT$)");
       34     4232        %PARSE$OUT (NAME=OUT,STCLASS=BASED);
       35     4277        %PARSE$SYM (NAME=SYM,STCLASS=BASED);
       36     4315        /**/
       37     4316    1   DCL TCU$ANLZ ENTRY(1) ALTRET;
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:2    
       38     4317    1   DCL TCU$BREAK ENTRY;
       39     4318    1   DCL TCU$BUILTIN ENTRY(1);
       40     4319    1   DCL TCU$DELETE ENTRY ALTRET;
       41     4320    1   DCL TCU$EXPRESSION ENTRY(2) ALTRET;
       42     4321    1   DCL TCU$EDIT ENTRY(2) ALTRET;
       43     4322    1   DCL TCU$MAKESYMS ENTRY(1) ALTRET;
       44     4323    1   DCL TCU$RENAME ENTRY(1) ALTRET;
       45     4324    1   DCL TCU_CMD UBIN SYMREF;
       46     4325    1   DCL XUG_BUILTIN_N ENTRY CONV(5);        /* Grab this stuff from :LIB_SYSTEM */
       47     4326    1   DCL XU_OUTPUT_OPTIONS ENTRY CONV(5);    /* Grab this stuff from :LIB_SYSTEM */
       48     4327    1   DCL B_POINTER ENTRY CONV(5);            /* Grab this stuff from :LIB_SYSTEM */
       49     4328        /**/
       50     4329    1   DCL I SBIN;
       51     4330    1   DCL IA(0:0) REDEF I SBIN;
       52     4331    1   DCL IU(0:0) REDEF I UBIN;
       53     4332    1   DCL IBUF(0:20) UBIN;
       54     4333    1   DCL XTAB(0:21) UBIN BASED CALIGNED;
       55     4334        /**/
       56     4335    1   DCL DB_NXT$ PTR SYMREF;
       57     4336    1   DCL DB_FMT BIT(36) STATIC INIT('FFFFFFFFF'X);
       58     4337    1   DCL DB$FMT(0:35) BIT(1);
       59     4338        /**/
       60     4339        %F_FDS (NAME=FDS,DCB=M$LO,BUF=FDSBUF,EDIT=TCU$EDIT,TRUNC=NO,
       61     4340                STCLASS=STATIC SYMDEF);
       62     4453    1   DCL M$LO DCB;
       63     4454    1   DCL FDSBUF CHAR(81) STATIC;
       64     4455    1   DCL TCU_NEXT REMEMBER STATIC SYMDEF;
       65     4456    1   DCL DA_MSCPG3 UBIN CONSTANT SYMDEF;     /* To satisfy PREF from DAS$SYMINIT */
       66     4457        /**/
       67     4458    1   DCL DUMPBUF(0:2048) UBIN HALF HALIGNED;
       68     4459    1   DCL FMTBUF REDEF DUMPBUF CHAR(4098);
       69     4460    1   DCL 1 NXTBUF,
       70     4461    1         2 OFFSET SBIN,
       71     4462    1         2 BUF CHAR(60);
       72     4463    1   DCL 1 TEXTC BASED CALIGNED,
       73     4464    1         2 L UBIN BYTE CALIGNED,
       74     4465    1         2 T CHAR(I);
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:3    
       75     4466        /**/
       76     4467        %EJECT;
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:4    
       77     4468    1           CALL M$INT (FPT_INT);
       78     4469    1           REMEMBER NEXT IN TCU_NEXT;
       79     4470    1           CALL XUG$INIT (XUG_GETCMD, XUG_INIT);
       80     4471    1           CALL TCU$ANLZ ALTRET (MONERR);
       81     4472    2           CALL TCU$MAKESYMS WHENALTRETURN DO;
       82     4473    2   MONERR:    XUG_GETCMD.ERR_CODE=B$TCB.ALT$->B$ALT.ERR;
       83     4474    2              XUG_GETCMD.ERRDCB#=B$TCB.ALT$->B$ALT.DCB#;
       84     4475    2              CALL XUG$ERRMSG (XUG_GETCMD);
       85     4476    2              END;
       86     4477        /**/
       87     4478    2   NEXT:   CALL XUG$GETCMD (XUG_GETCMD) WHENALTRETURN DO; CALL M$EXIT; END;
       88     4479        /**/
       89     4480    2   MLTCMD: DO CASE (TOP.CODE);        /* Last SUBLK is "more commands" indicator */
       90     4481    2            CASE (1);                      /* ANLZ COMMAND */
       91     4482    2              CALL TCU$ANLZ (TOP.SUBLK$(0)->SYM) ALTRET(MONERR);
       92     4483    2              IF TOP.NSUBLKS=2 THEN EXIT;
       93     4484    2              CALL TCU$MAKESYMS (TOP.SUBLK$(1)->SYM) ALTRET(MONERR);
       94     4485    2            CASE (2);                      /* SYMBOLS COMMAND */
       95     4486    2              CALL TCU$MAKESYMS (TOP.SUBLK$(0)->SYM) ALTRET(MONERR);
       96     4487    2            CASE (3);                      /* FMT COMMAND */
       97     4488    2              DB$FMT='0'B;
       98     4489    3              DO I=0 TO TOP.SUBLK$(1)->OUT.NSUBLKS-2;
       99     4490    3                 DB$FMT(TOP.SUBLK$(1)->OUT.SUBLK$(I)->OUT.CODE+2)='1'B;
      100     4491    3                 END;
      101     4492    2              IF NOT DB$FMT THEN DB$FMT=DB_FMT;
      102     4493    2              FMTBUF='%4.x234567890E%(KA$INP%)';
      103     4494    2              TOP.SUBLK$(1)=TOP.SUBLK$(0);
      104     4495    2              DB_NXT$=ADDR(NXTBUF);
      105     4496    2              GOTO FMT_IT;
      106     4497    2            CASE (4);                      /* DELETE command */
      107     4498    2              CALL TCU$DELETE ALTRET(MONERR);
      108     4499    2            CASE (5);                      /* RENAME command */
      109     4500    2              CALL TCU$RENAME (TOP.SUBLK$(0)->SYM) ALTRET(MONERR);
      110     4501    2            CASE (0);                      /* formatter */
      111     4502    2              DB_NXT$=ADDR(NIL);
      112     4503    2              DB$FMT='FFFFFFFFF'X;
      113     4504    2              SUBSTR(FMTBUF,0,16)='%4.x234567890E%(';
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:5    
      114     4505    2              I=TOP.SUBLK$(0)->SYM.COUNT;
      115     4506    2              SUBSTR(FMTBUF,16,I)=TOP.SUBLK$(0)->SYM.TEXT;
      116     4507    2              SUBSTR(FMTBUF,16+I,2)='%)';
      117     4508    2   FMT_IT:    ;
      118     4509    2              I=TOP.NSUBLKS-2;
      119     4510    2              IF I>POFFW(ADDR(FMTBUF),ADDR(IA(3)))
      120     4511    2              THEN I=POFFW(ADDR(FMTBUF),ADDR(IA(3)));
      121     4512    2              IA(1)=I;
      122     4513    2              IA(2)=0;
      123     4514    3              DO WHILE I>0;
      124     4515    4                 CALL TCU$EXPRESSION (TOP.SUBLK$(I)->OUT,IA(I+1)) WHENALTRETURN DO;
      125     4516    4                    FMTBUF='%00x234567890=Expression error%9Q';
      126     4517    4                    I=1;
      127     4518    4                    END;
      128     4519    3                 I=I-1;
      129     4520    3                 END;
      130     4521    2              CALL BINCHAR(SUBSTR(FMTBUF,3,10),MOD(IU(2),%BITBIN('100000000'X)));
      131     4522    2              ia(2)=bitbin(db$fmt);
      132     4523    2              NXTBUF.OFFSET=SIZEC(NXTBUF);
      133     4524    3              DO WHILE '1'B;
      134     4525    3                 CALL X$WRITE (FDS, VECTOR(FMTBUF), VECTOR(ADDR(I)->XTAB),
      135     4526    3                   VECTOR(DUMPBUF(1024)),VECTOR(DUMPBUF(1536)));
      136     4527    3                 IF NXTBUF.OFFSET=SIZEC(NXTBUF) THEN EXIT;
      137     4528    3                 FMTBUF='%4.x234567890E%(';
      138     4529    3                 I=PINCRC(ADDR(NXTBUF),NXTBUF.OFFSET)->TEXTC.L;
      139     4530    3                 SUBSTR(FMTBUF,16)=PINCRC(ADDR(NXTBUF),NXTBUF.OFFSET)->TEXTC.T;
      140     4531    3                 SUBSTR(FMTBUF,16+I,2)='%)';
      141     4532    3                 NXTBUF.OFFSET=NXTBUF.OFFSET+I+5;
      142     4533    3                 I=PINCRC(ADDR(NXTBUF),NXTBUF.OFFSET-4)->XTAB(0);
      143     4534    3                 CALL BINCHAR(SUBSTR(FMTBUF,3,10),I);
      144     4535    3                 END;
      145     4536    2            END;
      146     4537
      147     4538    2           IF TOP.SUBLK$(TOP.NSUBLKS-1)->OUT.NSUBLKS>0 THEN DO;
      148     4539    2              XUG_GETCMD.OUT$=TOP.SUBLK$(TOP.NSUBLKS-1)->OUT.SUBLK$(0);
      149     4540    2              GOTO MLTCMD;
      150     4541    2              END;
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:6    
      151     4542
      152     4543    1           GOTO NEXT;
      153     4544        /**/
      154     4545    1   END TCU$UNLZ;
      155     4546        %EOD;

PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:7    
--  Include file information  --

   XU_FORMAT_C.:LIBRARY  is referenced.
   XUG_ENTRY.:LIBRARY  cannot be made into a system file and is referenced.
   XUF_ENTRY.:LIBRARY  cannot be made into a system file and is referenced.
   XU_MACRO_C.:LIBRARY  is referenced.
   CP_6.:LIBRARY  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure TCU$UNLZ.

   Procedure TCU$UNLZ requires 282 words for executable code.
   Procedure TCU$UNLZ requires 1098 words of local(AUTO) storage.

PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:8    

 Object Unit name= TCU$UNLZ                                   File name= TCU$UNLZ.:TCA2TOU
 UTS= NOV 16 '97 14:25:40.28 SUN                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   Data  even  none   132    204  TCU$UNLZ
    2  RoData even  UTS     23     27  TCU$UNLZ
    3   DCB   even  none     0      0  M$LO
    4   Proc  even  none   282    432  TCU$UNLZ
    5  RoData even  none     6      6  TCU$UNLZ

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     4      0   yes            yes      Main       0  TCU$UNLZ

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    1    117  FDS                                1    202  TCU_NEXT
    2      6  DA_MSCPG3
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:9    

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       0 TCU$BREAK
 yes     yes           Std       1 X$PRE_PROCESS
         yes           Std       1 TCU$BUILTIN
         yes          ~proc      0 XUG_BUILTIN_N
         yes          ~proc      0 XU_OUTPUT_OPTIONS
         yes          ~proc      0 B_POINTER
 yes     yes           Std       2 TCU$EDIT
 yes     yes           Std       0 TCU$DELETE
 yes     yes           Std       2 XTX$ADAPT
 yes     yes           Std       1 TCU$ANLZ
 yes     yes           Std       2 TCU$EXPRESSION
         yes          Async      0 XUG$BREAK
 yes     yes           Std       1 TCU$MAKESYMS
         yes           Std      22 X$WRITE
 yes     yes           Std       1 XUG$GETCMD
 yes     yes           Std       2 XUG$INIT
 yes     yes           Std       1 XUG$ERRMSG
 yes     yes           Std       1 TCU$RENAME
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_MAUTO

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                             r    B$TCB$                                TCU_CMD
     DB_NXT$                               M$LO                                  B_VECTNIL
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:10   

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:11   


        1        1        /*M* TCU$UNLZ - UNIX ANLZ DUMP COMMAND */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /**/
        8        8        /*X* DMR */
        9        9        /**/
       10       10        TCU$UNLZ: PROC MAIN;

     10  4 000000   000000 700200 xent  TCU$UNLZ     TSX0  ! X66_MAUTO
         4 000001   002112 000000                    ZERO    1098,0

       11       11        /**/
       12       12        %INCLUDE CP_6;
       13       93        %INCLUDE XU_MACRO_C;
       14     3199        %INCLUDE XUF_ENTRY;
       15     3207        %INCLUDE XUG_ENTRY;
       16     3238        %INCLUDE XU_FORMAT_C;
       17     3400    1   DCL X$PRE_PROCESS ENTRY(1) ALTRET;
       18     3401        /**/
       19     3402        %XUG_INIT ( GOODCMD=YES,
       20     3403                    ABORT=TCU$BREAK,
       21     3404                    ALWAYS_SET_PROMPT=YES,
       22     3405                    PREPROCESS=YES,
       23     3406                    PREPROCESSOR=X$PRE_PROCESS);
       24     3819        %FPT_INT ( UENTRY=XUG$BREAK, STCLASS=CONSTANT);
       25     3833        %XUG_GETCMD (PROMPT=PROMPT,
       26     3834                     SFROUTINE=TCU$BUILTIN,
       27     3835                     NODES=TCU_CMD);
       28     4173        %B$TCB (STCLASS="BASED(B$TCB$)");
       29     4176        %B$ALT;
       30     4184    1   DCL B$TCB$ PTR SYMREF READONLY;
       31     4185    1   DCL PROMPT CONSTANT CHAR(0) INIT('unlz-');
       32     4186        /**/
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:12   
       33     4187        %PARSE$OUT (NAME=TOP,STCLASS="BASED(XUG_GETCMD.OUT$)");
       34     4232        %PARSE$OUT (NAME=OUT,STCLASS=BASED);
       35     4277        %PARSE$SYM (NAME=SYM,STCLASS=BASED);
       36     4315        /**/
       37     4316    1   DCL TCU$ANLZ ENTRY(1) ALTRET;
       38     4317    1   DCL TCU$BREAK ENTRY;
       39     4318    1   DCL TCU$BUILTIN ENTRY(1);
       40     4319    1   DCL TCU$DELETE ENTRY ALTRET;
       41     4320    1   DCL TCU$EXPRESSION ENTRY(2) ALTRET;
       42     4321    1   DCL TCU$EDIT ENTRY(2) ALTRET;
       43     4322    1   DCL TCU$MAKESYMS ENTRY(1) ALTRET;
       44     4323    1   DCL TCU$RENAME ENTRY(1) ALTRET;
       45     4324    1   DCL TCU_CMD UBIN SYMREF;
       46     4325    1   DCL XUG_BUILTIN_N ENTRY CONV(5);        /* Grab this stuff from :LIB_SYSTEM */
       47     4326    1   DCL XU_OUTPUT_OPTIONS ENTRY CONV(5);    /* Grab this stuff from :LIB_SYSTEM */
       48     4327    1   DCL B_POINTER ENTRY CONV(5);            /* Grab this stuff from :LIB_SYSTEM */
       49     4328        /**/
       50     4329    1   DCL I SBIN;
       51     4330    1   DCL IA(0:0) REDEF I SBIN;
       52     4331    1   DCL IU(0:0) REDEF I UBIN;
       53     4332    1   DCL IBUF(0:20) UBIN;
       54     4333    1   DCL XTAB(0:21) UBIN BASED CALIGNED;
       55     4334        /**/
       56     4335    1   DCL DB_NXT$ PTR SYMREF;
       57     4336    1   DCL DB_FMT BIT(36) STATIC INIT('FFFFFFFFF'X);
       58     4337    1   DCL DB$FMT(0:35) BIT(1);
       59     4338        /**/
       60     4339        %F_FDS (NAME=FDS,DCB=M$LO,BUF=FDSBUF,EDIT=TCU$EDIT,TRUNC=NO,
       61     4340                STCLASS=STATIC SYMDEF);
       62     4453    1   DCL M$LO DCB;
       63     4454    1   DCL FDSBUF CHAR(81) STATIC;
       64     4455    1   DCL TCU_NEXT REMEMBER STATIC SYMDEF;
       65     4456    1   DCL DA_MSCPG3 UBIN CONSTANT SYMDEF;     /* To satisfy PREF from DAS$SYMINIT */
       66     4457        /**/
       67     4458    1   DCL DUMPBUF(0:2048) UBIN HALF HALIGNED;
       68     4459    1   DCL FMTBUF REDEF DUMPBUF CHAR(4098);
       69     4460    1   DCL 1 NXTBUF,
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:13   
       70     4461    1         2 OFFSET SBIN,
       71     4462    1         2 BUF CHAR(60);
       72     4463    1   DCL 1 TEXTC BASED CALIGNED,
       73     4464    1         2 L UBIN BYTE CALIGNED,
       74     4465    1         2 T CHAR(I);
       75     4466        /**/
       76     4467        %EJECT;
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:14   
       77     4468    1           CALL M$INT (FPT_INT);

   4468  4 000002   000000 630400 2                  EPPR0   FPT_INT
         4 000003   010002 713400                    CLIMB   4098
         4 000004   400000 401760                    pmme    nvectors=1

       78     4469    1           REMEMBER NEXT IN TCU_NEXT;

   4469  4 000005   000036 635000 4                  EAA     NEXT
         4 000006   000202 452400 1                  STP2    TCU_NEXT
         4 000007   000203 755000 1                  STA     TCU_NEXT+1

       79     4470    1           CALL XUG$INIT (XUG_GETCMD, XUG_INIT);

   4470  4 000010   000000 630400 5                  EPPR0   0
         4 000011   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000012   000000 701000 xent               TSX1    XUG$INIT
         4 000013   000000 011000                    NOP     0

       80     4471    1           CALL TCU$ANLZ ALTRET (MONERR);

   4471  4 000014   000002 631400 xsym               EPPR1   B_VECTNIL+2
         4 000015   000000 701000 xent               TSX1    TCU$ANLZ
         4 000016   000023 702000 4                  TSX2    MONERR

       81     4472    2           CALL TCU$MAKESYMS WHENALTRETURN DO;

   4472  4 000017   000002 631400 xsym               EPPR1   B_VECTNIL+2
         4 000020   000000 701000 xent               TSX1    TCU$MAKESYMS
         4 000021   000023 702000 4                  TSX2    MONERR
         4 000022   000036 710000 4                  TRA     NEXT

       82     4473    2   MONERR:    XUG_GETCMD.ERR_CODE=B$TCB.ALT$->B$ALT.ERR;

   4473  4 000023   000000 470400 xsym  MONERR       LDP0    B$TCB$
         4 000024   000000 471500                    LDP1    0,,PR0
         4 000025   100102 236100                    LDQ     66,,PR1
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:15   
         4 000026   000054 756000 1                  STQ     XUG_GETCMD+8

       83     4474    2              XUG_GETCMD.ERRDCB#=B$TCB.ALT$->B$ALT.DCB#;

   4474  4 000027   000000 471500                    LDP1    0,,PR0
         4 000030   100101 235100                    LDA     65,,PR1
         4 000031   000055 755000 1                  STA     XUG_GETCMD+9

       84     4475    2              CALL XUG$ERRMSG (XUG_GETCMD);

   4475  4 000032   000000 630400 5                  EPPR0   0
         4 000033   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000034   000000 701000 xent               TSX1    XUG$ERRMSG
         4 000035   000000 011000                    NOP     0

       85     4476    2              END;

       86     4477        /**/
       87     4478    2   NEXT:   CALL XUG$GETCMD (XUG_GETCMD) WHENALTRETURN DO; CALL M$EXIT; END;

   4478  4 000036   000000 630400 5     NEXT         EPPR0   0
         4 000037   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000040   000000 701000 xent               TSX1    XUG$GETCMD
         4 000041   000043 702000 4                  TSX2    s:4478
         4 000042   000045 710000 4                  TRA     MLTCMD

   4478  4 000043   000001 713400                    CLIMB   exit
         4 000044   000000 401760                    pmme    nvectors=0

       88     4479        /**/
       89     4480    2   MLTCMD: DO CASE (TOP.CODE);        /* Last SUBLK is "more commands" indicator */

   4480  4 000045   000045 470400 1     MLTCMD       LDP0    XUG_GETCMD+1
         4 000046   000000 720100                    LXL0    0,,PR0
         4 000047   000006 100003                    CMPX0   6,DU
         4 000050   000052 602010 4                  TNC     MLTCMD+5,X0
         4 000051   000421 710000 4                  TRA     s:4538
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:16   
         4 000052   000163 710000 4                  TRA     s:4502
         4 000053   000060 710000 4                  TRA     s:4482
         4 000054   000101 710000 4                  TRA     s:4486
         4 000055   000110 710000 4                  TRA     s:4488
         4 000056   000150 710000 4                  TRA     s:4498
         4 000057   000154 710000 4                  TRA     s:4500

       90     4481    2            CASE (1);                      /* ANLZ COMMAND */

       91     4482    2              CALL TCU$ANLZ (TOP.SUBLK$(0)->SYM) ALTRET(MONERR);

   4482  4 000060   000003 471500                    LDP1    3,,PR0
         4 000061   202054 451500                    STP1    NXTBUF+17,,AUTO
         4 000062   202054 630500                    EPPR0   NXTBUF+17,,AUTO
         4 000063   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000064   000000 701000 xent               TSX1    TCU$ANLZ
         4 000065   000023 702000 4                  TSX2    MONERR

       92     4483    2              IF TOP.NSUBLKS=2 THEN EXIT;

   4483  4 000066   000045 470400 1                  LDP0    XUG_GETCMD+1
         4 000067   000001 220100                    LDX0    1,,PR0
         4 000070   000002 100003                    CMPX0   2,DU
         4 000071   000421 600000 4                  TZE     s:4538

       93     4484    2              CALL TCU$MAKESYMS (TOP.SUBLK$(1)->SYM) ALTRET(MONERR);

   4484  4 000072   000004 471500                    LDP1    4,,PR0
         4 000073   202054 451500                    STP1    NXTBUF+17,,AUTO
         4 000074   202054 630500                    EPPR0   NXTBUF+17,,AUTO
         4 000075   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000076   000000 701000 xent               TSX1    TCU$MAKESYMS
         4 000077   000023 702000 4                  TSX2    MONERR
         4 000100   000421 710000 4                  TRA     s:4538

       94     4485    2            CASE (2);                      /* SYMBOLS COMMAND */

PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:17   
       95     4486    2              CALL TCU$MAKESYMS (TOP.SUBLK$(0)->SYM) ALTRET(MONERR);

   4486  4 000101   000003 471500                    LDP1    3,,PR0
         4 000102   202054 451500                    STP1    NXTBUF+17,,AUTO
         4 000103   202054 630500                    EPPR0   NXTBUF+17,,AUTO
         4 000104   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000105   000000 701000 xent               TSX1    TCU$MAKESYMS
         4 000106   000023 702000 4                  TSX2    MONERR
         4 000107   000421 710000 4                  TRA     s:4538

       96     4487    2            CASE (3);                      /* FMT COMMAND */

       97     4488    2              DB$FMT='0'B;

   4488  4 000110   200031 450100                    STZ     DB$FMT,,AUTO

       98     4489    3              DO I=0 TO TOP.SUBLK$(1)->OUT.NSUBLKS-2;

   4489  4 000111   200003 450100                    STZ     I,,AUTO
         4 000112   000125 710000 4                  TRA     s:4491+1

       99     4490    3                 DB$FMT(TOP.SUBLK$(1)->OUT.SUBLK$(I)->OUT.CODE+2)='1'B;

   4490  4 000113   000045 470400 1                  LDP0    XUG_GETCMD+1
         4 000114   000004 471500                    LDP1    4,,PR0
         4 000115   200003 720100                    LXL0    I,,AUTO
         4 000116   100003 473510                    LDP3    3,X0,PR1
         4 000117   300000 236100                    LDQ     0,,PR3
         4 000120   777777 376007                    ANQ     -1,DL
         4 000121   003106 060400                    CSL     bolr='003'O
         4 000122   000030 000001 xsym               BDSC    B_VECTNIL+24             by=0,bit=0,n=1
         4 000123   200031 020001                    BDSC    DB$FMT,Q,AUTO            by=0,bit=2,n=1

      100     4491    3                 END;

   4491  4 000124   200003 054100                    AOS     I,,AUTO
         4 000125   000004 471500                    LDP1    4,,PR0
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:18   
         4 000126   100001 236100                    LDQ     1,,PR1
         4 000127   000022 772000                    QRL     18
         4 000130   000002 136007                    SBLQ    2,DL
         4 000131   200003 116100                    CMPQ    I,,AUTO
         4 000132   000113 605000 4                  TPL     s:4490

      101     4492    2              IF NOT DB$FMT THEN DB$FMT=DB_FMT;

   4492  4 000133   200031 235100                    LDA     DB$FMT,,AUTO
         4 000134   000137 601000 4                  TNZ     s:4493

   4492  4 000135   000116 236000 1                  LDQ     DB_FMT
         4 000136   200031 756100                    STQ     DB$FMT,,AUTO

      102     4493    2              FMTBUF='%4.x234567890E%(KA$INP%)';

   4493  4 000137   010002 220003                    LDX0    4098,DU
         4 000140   040140 100400                    MLR     fill='040'O
         4 000141   000007 000030 2                  ADSC9   PROMPT+3                 cn=0,n=24
         4 000142   200032 000010                    ADSC9   DUMPBUF,,AUTO            cn=0,n=*X0

      103     4494    2              TOP.SUBLK$(1)=TOP.SUBLK$(0);

   4494  4 000143   000003 236100                    LDQ     3,,PR0
         4 000144   000004 756100                    STQ     4,,PR0

      104     4495    2              DB_NXT$=ADDR(NXTBUF);

   4495  4 000145   202033 630500                    EPPR0   NXTBUF,,AUTO
         4 000146   000000 450400 xsym               STP0    DB_NXT$

      105     4496    2              GOTO FMT_IT;

   4496  4 000147   000212 710000 4                  TRA     FMT_IT

      106     4497    2            CASE (4);                      /* DELETE command */

PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:19   
      107     4498    2              CALL TCU$DELETE ALTRET(MONERR);

   4498  4 000150   000002 631400 xsym               EPPR1   B_VECTNIL+2
         4 000151   000000 701000 xent               TSX1    TCU$DELETE
         4 000152   000023 702000 4                  TSX2    MONERR
         4 000153   000421 710000 4                  TRA     s:4538

      108     4499    2            CASE (5);                      /* RENAME command */

      109     4500    2              CALL TCU$RENAME (TOP.SUBLK$(0)->SYM) ALTRET(MONERR);

   4500  4 000154   000003 471500                    LDP1    3,,PR0
         4 000155   202054 451500                    STP1    NXTBUF+17,,AUTO
         4 000156   202054 630500                    EPPR0   NXTBUF+17,,AUTO
         4 000157   000017 631400 xsym               EPPR1   B_VECTNIL+15
         4 000160   000000 701000 xent               TSX1    TCU$RENAME
         4 000161   000023 702000 4                  TSX2    MONERR
         4 000162   000421 710000 4                  TRA     s:4538

      110     4501    2            CASE (0);                      /* formatter */

      111     4502    2              DB_NXT$=ADDR(NIL);

   4502  4 000163   000001 236000 xsym               LDQ     B_VECTNIL+1
         4 000164   000000 756000 xsym               STQ     DB_NXT$

      112     4503    2              DB$FMT='FFFFFFFFF'X;

   4503  4 000165   000027 236000 xsym               LDQ     B_VECTNIL+23
         4 000166   200031 756100                    STQ     DB$FMT,,AUTO

      113     4504    2              SUBSTR(FMTBUF,0,16)='%4.x234567890E%(';

   4504  4 000167   040100 100400                    MLR     fill='040'O
         4 000170   000007 000020 2                  ADSC9   PROMPT+3                 cn=0,n=16
         4 000171   200032 000020                    ADSC9   DUMPBUF,,AUTO            cn=0,n=16

PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:20   
      114     4505    2              I=TOP.SUBLK$(0)->SYM.COUNT;

   4505  4 000172   000003 471500                    LDP1    3,,PR0
         4 000173   100004 236100                    LDQ     4,,PR1
         4 000174   000033 772000                    QRL     27
         4 000175   200003 756100                    STQ     I,,AUTO

      115     4506    2              SUBSTR(FMTBUF,16,I)=TOP.SUBLK$(0)->SYM.TEXT;

   4506  4 000176   000003 471500                    LDP1    3,,PR0
         4 000177   100004 236100                    LDQ     4,,PR1
         4 000200   000033 772000                    QRL     27
         4 000201   000000 620006                    EAX0    0,QL
         4 000202   200003 721100                    LXL1    I,,AUTO
         4 000203   040140 100540                    MLR     fill='040'O
         4 000204   100004 200010                    ADSC9   4,,PR1                   cn=1,n=*X0
         4 000205   200036 000011                    ADSC9   DUMPBUF+4,,AUTO          cn=0,n=*X1

      116     4507    2              SUBSTR(FMTBUF,16+I,2)='%)';

   4507  4 000206   200003 235100                    LDA     I,,AUTO
         4 000207   040105 100400                    MLR     fill='040'O
         4 000210   000015 000002 2                  ADSC9   PROMPT+9                 cn=0,n=2
         4 000211   200036 000002                    ADSC9   DUMPBUF+4,A,AUTO         cn=0,n=2

   4507  4 000212                       FMT_IT       null
      117     4508    2   FMT_IT:    ;
      118     4509    2              I=TOP.NSUBLKS-2;

   4509  4 000212   000045 470400 1                  LDP0    XUG_GETCMD+1
         4 000213   000001 236100                    LDQ     1,,PR0
         4 000214   000022 772000                    QRL     18
         4 000215   000002 136007                    SBLQ    2,DL
         4 000216   200003 756100                    STQ     I,,AUTO

      119     4510    2              IF I>POFFW(ADDR(FMTBUF),ADDR(IA(3)))

PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:21   
   4510  4 000217   202054 452500                    STP2    NXTBUF+17,,AUTO
         4 000220   202054 236100                    LDQ     NXTBUF+17,,AUTO
         4 000221   000006 036003                    ADLQ    6,DU
         4 000222   000022 772000                    QRL     18
         4 000223   202055 452500                    STP2    NXTBUF+18,,AUTO
         4 000224   202056 756100                    STQ     NXTBUF+19,,AUTO
         4 000225   202055 236100                    LDQ     NXTBUF+18,,AUTO
         4 000226   000032 036003                    ADLQ    26,DU
         4 000227   000022 772000                    QRL     18
         4 000230   202056 136100                    SBLQ    NXTBUF+19,,AUTO
         4 000231   200003 116100                    CMPQ    I,,AUTO
         4 000232   000246 605000 4                  TPL     s:4512

      120     4511    2              THEN I=POFFW(ADDR(FMTBUF),ADDR(IA(3)));

   4511  4 000233   202054 452500                    STP2    NXTBUF+17,,AUTO
         4 000234   202054 236100                    LDQ     NXTBUF+17,,AUTO
         4 000235   000006 036003                    ADLQ    6,DU
         4 000236   000022 772000                    QRL     18
         4 000237   202055 452500                    STP2    NXTBUF+18,,AUTO
         4 000240   202056 756100                    STQ     NXTBUF+19,,AUTO
         4 000241   202055 236100                    LDQ     NXTBUF+18,,AUTO
         4 000242   000032 036003                    ADLQ    26,DU
         4 000243   000022 772000                    QRL     18
         4 000244   202056 136100                    SBLQ    NXTBUF+19,,AUTO
         4 000245   200003 756100                    STQ     I,,AUTO

      121     4512    2              IA(1)=I;

   4512  4 000246   200003 235100                    LDA     I,,AUTO
         4 000247   200004 755100                    STA     I+1,,AUTO

      122     4513    2              IA(2)=0;

   4513  4 000250   200005 450100                    STZ     I+2,,AUTO

      123     4514    3              DO WHILE I>0;
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:22   

   4514  4 000251   000276 604400 4                  TMOZ    s:4521

      124     4515    4                 CALL TCU$EXPRESSION (TOP.SUBLK$(I)->OUT,IA(I+1)) WHENALTRETURN DO;

   4515  4 000252   000045 470400 1                  LDP0    XUG_GETCMD+1
         4 000253   200003 720100                    LXL0    I,,AUTO
         4 000254   000003 471510                    LDP1    3,X0,PR0
         4 000255   200004 633510                    EPPR3   I+1,X0,AUTO
         4 000256   202055 453500                    STP3    NXTBUF+18,,AUTO
         4 000257   202054 451500                    STP1    NXTBUF+17,,AUTO
         4 000260   202054 630500                    EPPR0   NXTBUF+17,,AUTO
         4 000261   000020 631400 xsym               EPPR1   B_VECTNIL+16
         4 000262   000000 701000 xent               TSX1    TCU$EXPRESSION
         4 000263   000265 702000 4                  TSX2    s:4516
         4 000264   000273 710000 4                  TRA     s:4519

      125     4516    4                    FMTBUF='%00x234567890=Expression error%9Q';

   4516  4 000265   010002 220003                    LDX0    4098,DU
         4 000266   040140 100400                    MLR     fill='040'O
         4 000267   000016 000041 2                  ADSC9   PROMPT+10                cn=0,n=33
         4 000270   200032 000010                    ADSC9   DUMPBUF,,AUTO            cn=0,n=*X0

      126     4517    4                    I=1;

   4517  4 000271   000001 235007                    LDA     1,DL
         4 000272   200003 755100                    STA     I,,AUTO

      127     4518    4                    END;

      128     4519    3                 I=I-1;

   4519  4 000273   000001 336007                    LCQ     1,DL
         4 000274   200003 056100                    ASQ     I,,AUTO

      129     4520    3                 END;
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:23   

   4520  4 000275   000252 605400 4                  TPNZ    s:4515

      130     4521    2              CALL BINCHAR(SUBSTR(FMTBUF,3,10),MOD(IU(2),%BITBIN('100000000'X)));

   4521  4 000276   200005 236100                    LDQ     I+2,,AUTO
         4 000277   000002 376000 5                  ANQ     2
         4 000300   000000 235003                    LDA     0,DU
         4 000301   202054 757100                    STAQ    NXTBUF+17,,AUTO
         4 000302   000100 301500                    BTD
         4 000303   202054 000010                    NDSC9   NXTBUF+17,,AUTO          cn=0,s=lsgnf,sf=0,n=8
         4 000304   200032 630012                    NDSC9   DUMPBUF,,AUTO            cn=3,s=nosgn,sf=0,n=10

      131     4522    2              ia(2)=bitbin(db$fmt);

   4522  4 000305   200031 236100                    LDQ     DB$FMT,,AUTO
         4 000306   200005 756100                    STQ     I+2,,AUTO

      132     4523    2              NXTBUF.OFFSET=SIZEC(NXTBUF);

   4523  4 000307   000100 235007                    LDA     64,DL
         4 000310   202033 755100                    STA     NXTBUF,,AUTO

      133     4524    3              DO WHILE '1'B;

      134     4525    3                 CALL X$WRITE (FDS, VECTOR(FMTBUF), VECTOR(ADDR(I)->XTAB),

   4525  4 000311   000003 235000 5                  LDA     3
         4 000312   202054 452500                    STP2    NXTBUF+17,,AUTO
         4 000313   202054 236100                    LDQ     NXTBUF+17,,AUTO
         4 000314   000032 036003                    ADLQ    26,DU
         4 000315   202056 757100                    STAQ    NXTBUF+19,,AUTO
         4 000316   000004 235000 5                  LDA     4
         4 000317   202060 452500                    STP2    NXTBUF+21,,AUTO
         4 000320   202060 236100                    LDQ     NXTBUF+21,,AUTO
         4 000321   000003 036003                    ADLQ    3,DU
         4 000322   202062 757100                    STAQ    NXTBUF+23,,AUTO
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:24   
         4 000323   377640 235007                    LDA     130976,DL
         4 000324   202064 452500                    STP2    NXTBUF+25,,AUTO
         4 000325   202064 236100                    LDQ     NXTBUF+25,,AUTO
         4 000326   001032 036003                    ADLQ    538,DU
         4 000327   202066 757100                    STAQ    NXTBUF+27,,AUTO
         4 000330   377640 235007                    LDA     130976,DL
         4 000331   202070 452500                    STP2    NXTBUF+29,,AUTO
         4 000332   202070 236100                    LDQ     NXTBUF+29,,AUTO
         4 000333   001432 036003                    ADLQ    794,DU
         4 000334   202074 757100                    STAQ    NXTBUF+33,,AUTO
         4 000335   202056 237100                    LDAQ    NXTBUF+19,,AUTO
         4 000336   202072 757100                    STAQ    NXTBUF+31,,AUTO
         4 000337   202062 237100                    LDAQ    NXTBUF+23,,AUTO
         4 000340   202076 757100                    STAQ    NXTBUF+35,,AUTO
         4 000341   202066 237100                    LDAQ    NXTBUF+27,,AUTO
         4 000342   202100 757100                    STAQ    NXTBUF+37,,AUTO
         4 000343   202074 237100                    LDAQ    NXTBUF+33,,AUTO
         4 000344   202102 757100                    STAQ    NXTBUF+39,,AUTO
         4 000345   202102 630500                    EPPR0   NXTBUF+39,,AUTO
         4 000346   202110 450500                    STP0    NXTBUF+45,,AUTO
         4 000347   202100 631500                    EPPR1   NXTBUF+37,,AUTO
         4 000350   202107 451500                    STP1    NXTBUF+44,,AUTO
         4 000351   202076 633500                    EPPR3   NXTBUF+35,,AUTO
         4 000352   202106 453500                    STP3    NXTBUF+43,,AUTO
         4 000353   202072 634500                    EPPR4   NXTBUF+31,,AUTO
         4 000354   202105 454500                    STP4    NXTBUF+42,,AUTO
         4 000355   000005 236000 5                  LDQ     5
         4 000356   202104 756100                    STQ     NXTBUF+41,,AUTO
         4 000357   202104 630500                    EPPR0   NXTBUF+41,,AUTO
         4 000360   000023 631400 xsym               EPPR1   B_VECTNIL+19
         4 000361   000000 701000 xent               TSX1    X$WRITE
         4 000362   000000 011000                    NOP     0

      135     4526    3                   VECTOR(DUMPBUF(1024)),VECTOR(DUMPBUF(1536)));
      136     4527    3                 IF NXTBUF.OFFSET=SIZEC(NXTBUF) THEN EXIT;

   4527  4 000363   202033 235100                    LDA     NXTBUF,,AUTO
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:25   
         4 000364   000100 115007                    CMPA    64,DL
         4 000365   000421 600000 4                  TZE     s:4538

      137     4528    3                 FMTBUF='%4.x234567890E%(';

   4528  4 000366   010002 220003                    LDX0    4098,DU
         4 000367   040140 100400                    MLR     fill='040'O
         4 000370   000007 000020 2                  ADSC9   PROMPT+3                 cn=0,n=16
         4 000371   200032 000010                    ADSC9   DUMPBUF,,AUTO            cn=0,n=*X0

      138     4529    3                 I=PINCRC(ADDR(NXTBUF),NXTBUF.OFFSET)->TEXTC.L;

   4529  4 000372   202033 235100                    LDA     NXTBUF,,AUTO
         4 000373   000100 101505                    MRL     fill='000'O
         4 000374   202033 000001                    ADSC9   NXTBUF,A,AUTO            cn=0,n=1
         4 000375   200003 000004                    ADSC9   I,,AUTO                  cn=0,n=4

      139     4530    3                 SUBSTR(FMTBUF,16)=PINCRC(ADDR(NXTBUF),NXTBUF.OFFSET)->TEXTC.T;

   4530  4 000376   200003 721100                    LXL1    I,,AUTO
         4 000377   040100 100545                    MLR     fill='040'O
         4 000400   202033 200011                    ADSC9   NXTBUF,A,AUTO            cn=1,n=*X1
         4 000401   200036 007762                    ADSC9   DUMPBUF+4,,AUTO          cn=0,n=4082

      140     4531    3                 SUBSTR(FMTBUF,16+I,2)='%)';

   4531  4 000402   200003 236100                    LDQ     I,,AUTO
         4 000403   040106 100400                    MLR     fill='040'O
         4 000404   000015 000002 2                  ADSC9   PROMPT+9                 cn=0,n=2
         4 000405   200036 000002                    ADSC9   DUMPBUF+4,Q,AUTO         cn=0,n=2

      141     4532    3                 NXTBUF.OFFSET=NXTBUF.OFFSET+I+5;

   4532  4 000406   202033 236100                    LDQ     NXTBUF,,AUTO
         4 000407   200003 036100                    ADLQ    I,,AUTO
         4 000410   000005 036007                    ADLQ    5,DL
         4 000411   202033 756100                    STQ     NXTBUF,,AUTO
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:26   

      142     4533    3                 I=PINCRC(ADDR(NXTBUF),NXTBUF.OFFSET-4)->XTAB(0);

   4533  4 000412   000100 100506                    MLR     fill='000'O
         4 000413   202032 000004                    ADSC9   DUMPBUF+1024,Q,AUTO      cn=0,n=4
         4 000414   200003 000004                    ADSC9   I,,AUTO                  cn=0,n=4

      143     4534    3                 CALL BINCHAR(SUBSTR(FMTBUF,3,10),I);

   4534  4 000415   000100 301500                    BTD
         4 000416   200003 000004                    NDSC9   I,,AUTO                  cn=0,s=lsgnf,sf=0,n=4
         4 000417   200032 630012                    NDSC9   DUMPBUF,,AUTO            cn=3,s=nosgn,sf=0,n=10

      144     4535    3                 END;

   4535  4 000420   000311 710000 4                  TRA     s:4525

      145     4536    2            END;

      146     4537
      147     4538    2           IF TOP.SUBLK$(TOP.NSUBLKS-1)->OUT.NSUBLKS>0 THEN DO;

   4538  4 000421   000045 470400 1                  LDP0    XUG_GETCMD+1
         4 000422   000001 220100                    LDX0    1,,PR0
         4 000423   000002 471510                    LDP1    2,X0,PR0
         4 000424   100001 221100                    LDX1    1,,PR1
         4 000425   000431 600000 4                  TZE     s:4543

      148     4539    2              XUG_GETCMD.OUT$=TOP.SUBLK$(TOP.NSUBLKS-1)->OUT.SUBLK$(0);

   4539  4 000426   100003 236100                    LDQ     3,,PR1
         4 000427   000045 756000 1                  STQ     XUG_GETCMD+1

      149     4540    2              GOTO MLTCMD;

   4540  4 000430   000045 710000 4                  TRA     MLTCMD

PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:27   
      150     4541    2              END;
      151     4542
      152     4543    1           GOTO NEXT;

   4543  4 000431   000036 710000 4                  TRA     NEXT

XUG_INIT
 Sect OctLoc
   1     000   000000 000000   000000 000000   000000 000000   000000 000000    ................
   1     010*  000000 177640   000000 006014   000000 177640   000000 006014    ................
   1     014   000000 006014   000000 177640   000000 006014   000000 006014    ................
   1     020   000000 006014   000000 177640   000000 006014   000000 000454    ................
   1     024   000144 000144   000000 000000   674000 000000   000000 000000    .d.d............
   1     030   000000 000000   000000 000000   000000 000000   000000 006014    ................
   1     034   000000 006014   000000 006014   000000 006014   000000 006014    ................
   1     040   00000* ******   000000 000000   000000 000000   000000 000000    ................

XUG_GETCMD
 Sect OctLoc
   1     044   000000 006000   000000 006014   000000 006014   000000 006014    ................
   1     050   000000 006014   000000 006014   240000 000000   04000* ***000    ............ ...
   1     054   000000 000000   000000 000000   000000 000000   000000 000000    ................
   1     060   000000 000000   000000 000000   000000 000000   000000 177640    ................
   1     064   000000 006014   000000 177640   000000 006014   000000 177640    ................
   1     070   000000 006014   000001 177640   000004 006000   000000 177640    ................
   1     074   000000 006014   000000 000000   000000 000000   000000 000000    ................
   1     100   000000 177640   000000 006014   000000 006014   000000 000000    ................
   1     104   000000 006014   000000 006014   000000 006014   000000 006014    ................
   1     110   000000 006014   000000 006014   000000 000000   000000 000000    ................
   1     114   000000 000000   000000 000000                                    ........

DB_FMT
 Sect OctLoc
   1     116   777777 777777                                                    ....

FDS
 Sect OctLoc
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:28   
   1     117   000000 177640   000000 006014   000000 000000   000000 000000    ................
   1     123   000000 000000   000024 177640   000155 006000   000000 000001    .........m......
   1     127   000000 000000   000000 000000   000000 006014   000000 101100    ..............A@
   1     133   000000 000000   000000 000000   000000 000001   000000 000012    ................
   1     137   000000 000000   ****** ******   ****** ******   000000 000000    ................
   1     143   000000 000000   000000 000000   000000 000000   000000 006014    ................
   1     147   000000 006014   000000 006014   000000 006014   000000 000000    ................
   1     153   000000 000000   000000 000000                                    ........

FDSBUF
 Sect OctLoc
   1     155   ****** ******   ****** ******   ****** ******   ****** ******    ................

FPT_INT
 Sect OctLoc
   2     000   000001 777640   000002 006000   000000 000000   000000 000000    ................

PROMPT
 Sect OctLoc
   2     004   165156 154172   055*** ******                                    unlz-...

(unnamed)
 Sect OctLoc
   2     006   ****** ******   045064 056170   062063 064065   066067 070071    ....%4.x23456789
   2     012   060105 045050   113101 044111   116120 045051   045051 040040    0E%(KA$INP%)%)
   2     016   045060 060170   062063 064065   066067 070071   060075 105170    %00x234567890=Ex
   2     022   160162 145163   163151 157156   040145 162162   157162 045071    pression error%9
   2     026   121040 040040                                                    Q

(unnamed)
 Sect OctLoc
   5     000   000044 006000   000000 006000   037777 777777   002000 377640    .$..............
   5     004   000025 777640   000117 006000                                    .....O..
      153     4544        /**/
      154     4545    1   END TCU$UNLZ;
      155     4546        %EOD;

PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:29   
--  Include file information  --

   XU_FORMAT_C.:LIBRARY  is referenced.
   XUG_ENTRY.:LIBRARY  cannot be made into a system file and is referenced.
   XUF_ENTRY.:LIBRARY  cannot be made into a system file and is referenced.
   XU_MACRO_C.:LIBRARY  is referenced.
   CP_6.:LIBRARY  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure TCU$UNLZ.
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:30   

 **** Variables and constants ****

  ****  Section 001  Data  TCU$UNLZ

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   116-0-0/b BIT         r     1 DB_FMT                   117-0-0/w STRC(1080)  r     1 FDS
   155-0-0/c CHAR(81)    r     1 FDSBUF                   202-0-0/d REMB        r     1 TCU_NEXT
    44-0-0/d STRC(1512)  r     1 XUG_GETCMD                 0-0-0/d STRC(1296)  r     1 XUG_INIT

  ****  Section 002 RoData TCU$UNLZ

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(144)   r     1 FPT_INT                    4-0-0/c CHAR(5)     r     1 PROMPT

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    31-0-0/b BIT         r     1 DB$FMT(0:35)              32-0-0/h UBIN(18)    r     1 DUMPBUF(0:2048)
    32-0-0/h CHAR(4098)  r     1 FMTBUF                     3-0-0/w SBIN        r     1 I
     3-0-0/w SBIN        r     1 IA(0:0)                    3-0-0/w UBIN        r     1 IU(0:0)
  2033-0-0/w STRC(576)   r     1 NXTBUF

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 B$TCB$                     0-0-0/w PTR         r     1 DB_NXT$
     0-0-0/w UBIN        r     1 TCU_CMD

  ****  BASED and DCB variables  ****
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:31   

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(2448)  r     1 B$ALT                      0-0-0/w STRC(144)   r     1 B$TCB
     0-0-0N  NULL        r     1 M$LO                       0-0-0/w STRC(144)   r     1 OUT
     0-0-0/w ASTR(153)   r     1 SYM                        0-0-0/c ASTR(9)     r     1 TEXTC
     0-0-0/w STRC(144)   r     1 TOP                        0-0-0/c UBIN        r     1 XTAB(0:21)


   Procedure TCU$UNLZ requires 282 words for executable code.
   Procedure TCU$UNLZ requires 1098 words of local(AUTO) storage.
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:32   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:33   
          MINI XREF LISTING

B$ALT.CODE
      4178**DCL      4178--REDEF    4179--REDEF    4179--REDEF
B$ALT.DCB#
      4179**DCL      4474>>ASSIGN
B$ALT.ERR
      4179**DCL      4473>>ASSIGN
B$ALT.ERR.ERR#
      4180**DCL      4180--REDEF
B$ALT.EVID
      4179**DCL      4179--REDEF    4179--REDEF
B$TCB.ALT$
      4174**DCL      4473>>ASSIGN   4474>>ASSIGN
B$TCB$
      4184**DCL      4174--IMP-PTR  4473>>ASSIGN   4474>>ASSIGN
DB$FMT
      4337**DCL      4488<<ASSIGN   4490<<ASSIGN   4492>>IF       4492<<ASSIGN   4503<<ASSIGN   4522>>ASSIGN
DB_FMT
      4336**DCL      4492>>ASSIGN
DB_NXT$
      4335**DCL      4495<<ASSIGN   4502<<ASSIGN
DUMPBUF
      4458**DCL      4459--REDEF    4525--CALL     4525--CALL
FDS
      4354**DCL      4525<>CALL
FDSBUF
      4454**DCL      4372--DCLINIT  4374--DCLINIT
FMTBUF
      4459**DCL      4493<<ASSIGN   4504<<ASSIGN   4506<<ASSIGN   4507<<ASSIGN   4510--IF       4511--ASSIGN
      4516<<ASSIGN   4521<<CALLBLT  4525--CALL     4528<<ASSIGN   4530<<ASSIGN   4531<<ASSIGN   4534<<CALLBLT
FMT_IT
      4507**LABEL    4496--GOTO
FPT_INT
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:34   
      3830**DCL      4468<>CALL
FPT_INT.V
      3830**DCL      3830--DCLINIT
I
      4329**DCL      4330--REDEF    4331--REDEF    4465--IMP-SIZ  4489<<DOINDEX  4490>>ASSIGN   4505<<ASSIGN
      4506>>ASSIGN   4507>>ASSIGN   4509<<ASSIGN   4510>>IF       4511<<ASSIGN   4512>>ASSIGN   4514>>DOWHILE
      4515>>CALL     4515>>CALL     4517<<ASSIGN   4519<<ASSIGN   4519>>ASSIGN   4525--CALL     4529<<ASSIGN
      4530>>ASSIGN   4531>>ASSIGN   4532>>ASSIGN   4533<<ASSIGN   4534>>CALLBLT
IA
      4330**DCL      4510--IF       4511--ASSIGN   4512<<ASSIGN   4513<<ASSIGN   4515<>CALL     4522<<ASSIGN
IU
      4331**DCL      4521>>CALLBLT
M$EXIT
        33**DCL-ENT  4478--CALL
M$INT
        76**DCL-ENT  4468--CALL
MLTCMD
      4480**LABEL    4540--GOTO
MONERR
      4473**LABEL    4471--CALLALT  4482--CALLALT  4484--CALLALT  4486--CALLALT  4498--CALLALT  4500--CALLALT
NEXT
      4478**LABEL    4469--REMEMBR  4543--GOTO
NXTBUF
      4460**DCL      4495--ASSIGN   4523--ASSIGN   4527--IF       4529--ASSIGN   4530--ASSIGN   4533--ASSIGN
NXTBUF.OFFSET
      4461**DCL      4523<<ASSIGN   4527>>IF       4529>>ASSIGN   4530>>ASSIGN   4532<<ASSIGN   4532>>ASSIGN
      4533>>ASSIGN
OUT
      4238**DCL      4515<>CALL
OUT.CODE
      4246**DCL      4490>>ASSIGN
OUT.NSUBLKS
      4250**DCL      4489>>DOINDEX  4538>>IF
OUT.SUBLK$
      4271**DCL      4490>>ASSIGN   4539>>ASSIGN
PROMPT
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:35   
      4185**DCL      4057--DCLINIT
SYM
      4284**DCL      4482<>CALL     4484<>CALL     4486<>CALL     4500<>CALL
SYM.COUNT
      4307**DCL      4310--IMP-SIZ  4482>>CALL     4484>>CALL     4486>>CALL     4500>>CALL     4505>>ASSIGN
      4506>>ASSIGN
SYM.TEXT
      4310**DCL      4506>>ASSIGN
TCU$ANLZ
      4316**DCL-ENT  4471--CALL     4482--CALL
TCU$BREAK
      4317**DCL-ENT  3429--DCLINIT
TCU$BUILTIN
      4318**DCL-ENT  4098--DCLINIT
TCU$DELETE
      4319**DCL-ENT  4498--CALL
TCU$EDIT
      4321**DCL-ENT  4413--DCLINIT
TCU$EXPRESSION
      4320**DCL-ENT  4515--CALL
TCU$MAKESYMS
      4322**DCL-ENT  4472--CALL     4484--CALL     4486--CALL
TCU$RENAME
      4323**DCL-ENT  4500--CALL
TCU_CMD
      4324**DCL      3849--DCLINIT
TCU_NEXT
      4455**DCL      4469<<REMEMBR
TEXTC.L
      4464**DCL      4529>>ASSIGN
TEXTC.T
      4465**DCL      4530>>ASSIGN
TOP.CODE
      4201**DCL      4480>>DOCASE
TOP.NSUBLKS
      4205**DCL      4483>>IF       4509>>ASSIGN   4538>>IF       4539>>ASSIGN
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:36   
TOP.SUBLK$
      4226**DCL      4482>>CALL     4482>>CALL     4484>>CALL     4484>>CALL     4486>>CALL     4486>>CALL
      4489>>DOINDEX  4490>>ASSIGN   4494<<ASSIGN   4494>>ASSIGN   4500>>CALL     4500>>CALL     4505>>ASSIGN
      4506>>ASSIGN   4506>>ASSIGN   4515>>CALL     4538>>IF       4539>>ASSIGN
X$PRE_PROCESS
      3400**DCL-ENT  3524--DCLINIT
X$WRITE
      3205**DCL-ENT  4525--CALL
XTAB
      4333**DCL      4525--CALL     4533>>ASSIGN
XTX$ADAPT
      3423**DCL-ENT  3739--DCLINIT
XUG$BREAK
      3224**DCL-ENT  3830--DCLINIT
XUG$ERRMSG
      3221**DCL-ENT  4475--CALL
XUG$GETCMD
      3214**DCL-ENT  4478--CALL
XUG$INIT
      3218**DCL-ENT  4470--CALL
XUG_GETCMD
      3848**DCL      4470<>CALL     4475<>CALL     4478<>CALL
XUG_GETCMD.ERRDCB#
      4007**DCL      4474<<ASSIGN
XUG_GETCMD.ERR_CODE
      3996**DCL      4473<<ASSIGN
XUG_GETCMD.OUT$
      3853**DCL      3859--REDEF    4193--IMP-PTR  4480>>DOCASE   4482>>CALL     4482>>CALL     4483>>IF
      4484>>CALL     4484>>CALL     4486>>CALL     4486>>CALL     4489>>DOINDEX  4490>>ASSIGN   4494>>ASSIGN
      4494>>ASSIGN   4500>>CALL     4500>>CALL     4505>>ASSIGN   4506>>ASSIGN   4506>>ASSIGN   4509>>ASSIGN
      4515>>CALL     4538>>IF       4538>>IF       4539<<ASSIGN   4539>>ASSIGN   4539>>ASSIGN
XUG_INIT
      3428**DCL      4470<>CALL
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:37   
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:38   
              MINI UREF LISTING

B_POINTER    4327**DCL-ENT
DA_MSCPG3    4456**DCL
IBUF    4332**DCL
M$ACCT      38**DCL-ENT
M$ACTIVATE      41**DCL-ENT
M$ALIB      34**DCL-ENT
M$ASUSER      36**DCL-ENT
M$ATTACH      43**DCL-ENT
M$BADPP      61**DCL-ENT
M$CGCTL      42**DCL-ENT
M$CGINFO      42**DCL-ENT
M$CHECK      23**DCL-ENT
M$CHGUNIT      81**DCL-ENT
M$CLOSE      21**DCL-ENT
M$CLRSTK      79**DCL-ENT
M$CMDVAR      90**DCL-ENT
M$CONFIG      51**DCL-ENT
M$CORRES      26**DCL-ENT
M$CPEXIT      35**DCL-ENT
M$CVM      59**DCL-ENT
M$CVOL      24**DCL-ENT
M$DCLFLD      51**DCL-ENT
M$DEACTIVATE      41**DCL-ENT
M$DELREC      23**DCL-ENT
M$DEQ      88**DCL-ENT
M$DETACH      43**DCL-ENT
M$DEVICE      25**DCL-ENT
M$DISPLAY      88**DCL-ENT
M$DISPRES      28**DCL-ENT
M$DLIB      34**DCL-ENT
M$DRIBBLE      51**DCL-ENT
M$DRTN      79**DCL-ENT
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:39   
M$DSUSER      36**DCL-ENT
M$ENQ      87**DCL-ENT
M$EOM      46**DCL-ENT
M$ERASE      52**DCL-ENT
M$ERR      33**DCL-ENT
M$ERRMSG      84**DCL-ENT
M$EVENT      76**DCL-ENT
M$EXHUME      85**DCL-ENT
M$EXTEND      25**DCL-ENT
M$FDP      57**DCL-ENT
M$FDS      56**DCL-ENT
M$FEBOOT      49**DCL-ENT
M$FECTL      50**DCL-ENT
M$FEDUMP      49**DCL-ENT
M$FID      84**DCL-ENT
M$FINDPROC      38**DCL-ENT
M$FSUSER      36**DCL-ENT
M$FVP      58**DCL-ENT
M$FWCG      42**DCL-ENT
M$GBPL      62**DCL-ENT
M$GDDL      58**DCL-ENT
M$GDP      57**DCL-ENT
M$GDS      56**DCL-ENT
M$GETDCB      27**DCL-ENT
M$GETMOUSE      67**DCL-ENT
M$GETPM      68**DCL-ENT
M$GJOB      86**DCL-ENT
M$GLINEATTR      46**DCL-ENT
M$GOODPP      61**DCL-ENT
M$GPLATEN      54**DCL-ENT
M$GPROMPT      53**DCL-ENT
M$GTRMATTR      47**DCL-ENT
M$GTRMCTL      45**DCL-ENT
M$GTRMTAB      48**DCL-ENT
M$GVP      57**DCL-ENT
M$HELP      84**DCL-ENT
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:40   
M$INTRTN      37**DCL-ENT
M$IOQ      72**DCL-ENT
M$JOBSTATS      86**DCL-ENT
M$KEYIN      26**DCL-ENT
M$LDEV      21**DCL-ENT
M$LDTRC      34**DCL-ENT
M$LIMIT      27**DCL-ENT
M$LINES      26**DCL-ENT
M$LINK      33**DCL-ENT
M$LO    4453**DCL
M$MADMUCK      29**DCL-ENT
M$MAKUSER      60**DCL-ENT
M$MBS      28**DCL-ENT
M$MDFFLD      52**DCL-ENT
M$MERC      77**DCL-ENT
M$MERCS      78**DCL-ENT
M$MIRROR      72**DCL-ENT
M$MONINFO      89**DCL-ENT
M$MPL      62**DCL-ENT
M$NODEINFO      53**DCL-ENT
M$NXTUSR      87**DCL-ENT
M$OCMSG      85**DCL-ENT
M$OLAY      33**DCL-ENT
M$OPEN      21**DCL-ENT
M$PAS      62**DCL-ENT
M$PATHCON      85**DCL-ENT
M$PDS      56**DCL-ENT
M$PFIL      23**DCL-ENT
M$PLATEN      47**DCL-ENT
M$PRECORD      25**DCL-ENT
M$PROCNAME      38**DCL-ENT
M$PROFILE      49**DCL-ENT
M$PROMPT      45**DCL-ENT
M$RACST      29**DCL-ENT
M$RDSYSLOG      70**DCL-ENT
M$READ      22**DCL-ENT
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:41   
M$RELDCB      27**DCL-ENT
M$RELRES      28**DCL-ENT
M$RELSTARF      30**DCL-ENT
M$REM      30**DCL-ENT
M$RENV      77**DCL-ENT
M$REQUIRE      29**DCL-ENT
M$RETRY      78**DCL-ENT
M$RETRYS      78**DCL-ENT
M$REW      24**DCL-ENT
M$RLSFLD      52**DCL-ENT
M$RPRIV      80**DCL-ENT
M$RSPP      59**DCL-ENT
M$RSWITCH      81**DCL-ENT
M$RUE      87**DCL-ENT
M$SAD      60**DCL-ENT
M$SAVE      36**DCL-ENT
M$SCON      37**DCL-ENT
M$SCREECH      35**DCL-ENT
M$SENV      77**DCL-ENT
M$SETFMA      21**DCL-ENT
M$SETFP      50**DCL-ENT
M$SINPUT      48**DCL-ENT
M$SLCFLD      53**DCL-ENT
M$SMOUSE      67**DCL-ENT
M$SMPRT      59**DCL-ENT
M$SPRIV      80**DCL-ENT
M$SSC      60**DCL-ENT
M$SSWITCH      80**DCL-ENT
M$STATE      89**DCL-ENT
M$STD      61**DCL-ENT
M$STIMER      75**DCL-ENT
M$STLPP      58**DCL-ENT
M$STRAP      75**DCL-ENT
M$STRMATTR      47**DCL-ENT
M$STRMCTL      45**DCL-ENT
M$STRMTAB      48**DCL-ENT
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:42   
M$SYMBIO      86**DCL-ENT
M$SYSCON      72**DCL-ENT
M$SYSID      90**DCL-ENT
M$TDCLOSE      71**DCL-ENT
M$TDIO      71**DCL-ENT
M$TDOPEN      70**DCL-ENT
M$TDREQCPU      71**DCL-ENT
M$TEMPWROC      65**DCL-ENT
M$TIME      88**DCL-ENT
M$TRAP      75**DCL-ENT
M$TRMISC      50**DCL-ENT
M$TRMPRG      46**DCL-ENT
M$TRTN      79**DCL-ENT
M$TRUNC      22**DCL-ENT
M$TTIMER      75**DCL-ENT
M$UC      45**DCL
M$UMPL      62**DCL-ENT
M$UNFID      84**DCL-ENT
M$UNLATCH      41**DCL-ENT
M$UNSHARE      38**DCL-ENT
M$USRFIELD      81**DCL-ENT
M$VIRTUAL      56**DCL-ENT
M$WAIT      79**DCL-ENT
M$WEOF      24**DCL-ENT
M$WRITE      22**DCL-ENT
M$WRSYSLOG      70**DCL-ENT
M$XCON      76**DCL-ENT
M$XCONRTN      37**DCL-ENT
M$XEQTIME      89**DCL-ENT
M$XFLUSH      30**DCL-ENT
M$XMOUSE      67**DCL-ENT
M$XXX      33**DCL-ENT
M$YC      35**DCL-ENT
TCU$UNLZ      10**PROC
X$FORMAT    3206**DCL-ENT
XUG$ALLMSG    3231**DCL-ENT
PL6.E3A0      #001=TCU$UNLZ File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:25 Page:43   
XUG$BLANK_PASSWORD    3234**DCL-ENT
XUG$CLOSE_DCBS    3223**DCL-ENT
XUG$CLRENABLE    3227**DCL-ENT
XUG$CORRES    3219**DCL-ENT
XUG$DISABLE    3225**DCL-ENT
XUG$ECHO    3217**DCL-ENT
XUG$ECHOIF    3216**DCL-ENT
XUG$ECHOLAST    3220**DCL-ENT
XUG$ENABLE    3226**DCL-ENT
XUG$ERRCNVRT    3236**DCL-ENT
XUG$ERRPTR    3215**DCL-ENT
XUG$ERRTOLCP6    3237**DCL-ENT
XUG$FINDDCB    3232**DCL-ENT
XUG$GETDCB    3233**DCL-ENT
XUG$HELP    3229**DCL-ENT
XUG$MOREMSG    3230**DCL-ENT
XUG$OPENOUT    3235**DCL-ENT
XUG$SETERRMSG    3222**DCL-ENT
XUG$SIMULATE_BREAK    3228**DCL-ENT
XUG_BUILTIN_N    4325**DCL-ENT
XU_OUTPUT_OPTIONS    4326**DCL-ENT

PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:44   
      156        1        /*T***********************************************************/
      157        2        /*T*                                                         */
      158        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      159        4        /*T*                                                         */
      160        5        /*T***********************************************************/
      161        6        TCU$EDIT: PROC(FDS,CNT) ALTRET;
      162        7
      163        8        %INCLUDE CP_6;
      164       89        %INCLUDE XU_FORMAT_C;
      165      251
      166      252        %M$DCB (DCBN=M$FMT, ASN=FILE, NAME=':FORMAT', ACS=DIRECT);
      167      326        %M$DCB (DCBN=M$FMTSYS, ASN=FILE, NAME=':FORMAT', ACCT=':SYS', ACS=DIRECT);
      168      400        %EQU M$FMT=CHARTEXT('DCBADDR(DCBNUM(M$FMT))->M$FMT');
      169      401
      170      402        %FPT_READ (FPTN=READFMT, DCB=M$FMT, KEY=FMTKEY, KEYS=YES);
      171      441        %FPT_PRECORD (FPTN=PREC, DCB=M$FMT, KEY=PRECKEY, KEYR=YES);
      172      462    1   DCL 1 FMTKEY STATIC,
      173      463    1         2 L UBIN(9) UNAL INIT(0),
      174      464    1         2 T CHAR(31);
      175      465    1   DCL 1 PRECKEY STATIC,
      176      466    1         2 L UBIN(9) UNAL INIT(0),
      177      467    1         2 T CHAR(31);
      178      468
      179      469        %F_FDS (NAME=FDS, STCLASS=PARAM);
      180      582    1   DCL CNT(0:4) SBIN;
      181      583
      182      584    1   DCL 1 MEMVEC(0:0) BASED(FDS.VECTR$),
      183      585    1         2 BOUND UBIN(20) UNAL,
      184      586    1         2 * BIT(16),
      185      587    1         2 PTR$ PTR;
      186      588    1   DCL FMT CHAR(FDS.FMTSIZE) BASED(FDS.FMT_.FMT$);
      187      589    1   DCL BUF CHAR(FDS.BUFSIZE) BASED(FDS.BUF_.BUF$);
      188      590    1   DCL I UBIN;
      189      591    1   DCL I$ REDEF I PTR;
      190      592    1   DCL 1 SYM,
      191      593    1         2 L UBIN(9) UNAL,
      192      594    1         2 T CHAR(63);
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:45   
      193      595    1   DCL DATSIZ SBIN STATIC;
      194      596    1   DCL BUBIN UBIN BASED ALIGNED;
      195      597    1   DCL BHBIN UBIN HALF BASED ALIGNED;
      196      598    1   DCL 1 TEXTH BASED ALIGNED,
      197      599    1         2 C UBIN HALF CALIGNED,
      198      600    1         2 T CHAR(TEXTH.C) CALIGNED;
      199      601    1   DCL DB_NXTX SBIN BASED(DB_NXT$) ALIGNED;
      200      602    1   DCL 1 CND BASED ALIGNED,
      201      603    1         2 * BIT(72),
      202      604    1         2 FLG(0:35) BIT(1);
      203      605
      204      606    1   DCL DAS$IC2PEDOFS ENTRY(3) ALTRET;
      205      607    1   DCL DAS$SDSRCHPTR ENTRY(2) ALTRET;
      206      608    1   DCL DAS$EDSRCHPTR ENTRY(2) ALTRET;
      207      609    1   DCL TCU$GETMEM ENTRY(3) ALTRET;
      208      610    1   DCL DB_NXT$ PTR STATIC SYMDEF INIT(ADDR(NIL));
      209      611        %EJECT;
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:46   
      210      612    2           IF SUBSTR(FMT,0,4)~='%(%)' THEN DO;
      211      613    2              FMTKEY.L=0;
      212      614    2              DATSIZ=0;
      213      615    2              END;
      214      616    2           DO CASE(CNT(0));
      215      617    2            CASE(0);                       /* DOT PREV FIELD */
      216      618    3              CALL INDEX1R(I,' ',BUF,FDS.BUFX) WHENRETURN DO;
      217      619    3                 SUBSTR(BUF,I,1)='.';
      218      620    3                 END;
      219      621    2            CASE(1);             /* Next to format: addr in CNT(1), FMT follows */
      220      622    2              IF DB_NXT$=ADDR(NIL) OR CNT(1)=0 THEN EXIT;
      221      623    2              CALL GETFMT;
      222      624    2            CASE (2, 10);                  /* Fix size */
      223      625    2              DATSIZ=CNT(1);
      224      626    3              IF DATSIZ>1024 THEN DO;
      225      627    3                 CALL BADSIZE;
      226      628    3                 RETURN;
      227      629    3                 END;
      228      630    2              IF CNT(4)>1 THEN MEMVEC.PTR$(0)->BUBIN=CNT(2);
      229      631    2              IF DATSIZ~=0 THEN CALL FIXSIZ ALTRET(BADADR);
      230      632    2            CASE (3, 11);                  /* New data, keep FMT */
      231      633    3              CALL GETMEM WHENALTRETURN DO;
      232      634    3   BADADR:       CALL BADADDR;
      233      635    3                 END;
      234      636    2            CASE (4, 12);
      235      637    2              CALL GETFMT;
      236      638    2              IF CNT(4)>0 THEN CALL GETMEM ALTRET(BADADR);
      237      639    2            CASE(5);
               639             /* Abort if no MEMVEC.PTR$(0)->CND.FLG flags set (CNT(1), CNT(2), or CNT(3)) */
      238      640    2              IF NOT MEMVEC.PTR$(0)->CND.FLG(CNT(1))
      239      641    2                AND (CNT(2)=0 OR NOT MEMVEC.PTR$(0)->CND.FLG(CNT(2)))
      240      642    2                AND (CNT(3)=0 OR NOT MEMVEC.PTR$(0)->CND.FLG(CNT(3)))
      241      643    2              THEN UNWIND TO FDS.BAILOUT;
      242      644    2            CASE(6);                       /* Display ENTDEF name */
      243      645    3              CALL DAS$IC2PEDOFS (CNT(2),I$,CNT(3)) WHENRETURN DO;
      244      646    3                 SUBSTR(BUF,FDS.BUFX)=I$->TEXTH.T;
      245      647    3                 FDS.BUFX=MINIMUM(FDS.BUFX+I$->TEXTH.C, FDS.BUFSIZE);
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:47   
      246      648    3                 CNT(0)=CNT(3);
      247      649    3                 END; WHENALTRETURN DO;
      248      650    3                 CNT(0)=-1;
      249      651    3                 END;
      250      652    2              ALTRETURN;
      251      653    2            CASE(7);                       /* Symbol lookup */
      252      654    2              CALL INDEX(I,'%',SUBSTR(FMT,FDS.FMTX+2));
      253      655    2              SYM.L = I;
      254      656    2              SYM.T = SUBSTR(FMT,FDS.FMTX+2,I);
      255      657    3              CALL DAS$SDSRCHPTR (SYM, FDS.USERDAT1#) WHENALTRETURN DO;
      256      658    4                 CALL DAS$EDSRCHPTR (SYM, FDS.USERDAT1#) WHENALTRETURN DO;
      257      659    4   BAD_SYM:         ; CALL NOSYMBOL;
      258      660    4                    END;
      259      661    3                 END;
      260      662    2            END;
      261      663    1           RETURN;
      262      664        %EJECT;
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:48   
      263      665        /* Subroutines */
      264      666    1   GETFMT: PROC ALTRET;
      265      667
      266      668    2   DCL CHAR4 CHAR(4) BASED CALIGNED;
      267      669    2   DCL CHAR1 CHAR(1) BASED CALIGNED;
      268      670    2   DCL CHARI CHAR(I) BASED CALIGNED;
      269      671    2           CALL INDEX(I,'%)',SUBSTR(FMT,FDS.FMTX+2)) ALTRET(BADFMT);
      270      672    3           IF CNT(0)=1 THEN DO;
      271      673    3              IF DB_NXTX<I+9 THEN GOTO NOROOM;
      272      674    3              PINCRC(DB_NXT$,DB_NXTX-4)->CHAR4=ADDR(CNT(1))->CHAR4;
      273      675    3              DB_NXTX=DB_NXTX-5-I;
      274      676    3              PINCRC(DB_NXT$,DB_NXTX+1)->CHARI=ADDR(SUBSTR(FMT,FDS.FMTX+2))->CHARI;
      275      677    3              PINCRC(DB_NXT$,DB_NXTX)->CHAR1=BINASC(I);
      276      678    3              RETURN;
      277      679    3              END;
      278      680    3           IF I~=FMTKEY.L OR SUBSTR(FMT,FDS.FMTX+2,I)~=FMTKEY.T THEN DO;
      279      681    3              FMTKEY.L=I;
      280      682    3              FMTKEY.T=SUBSTR(FMT,FDS.FMTX+2,I);
      281      683    3              READFMT.BUF_.BUF$=FDS.FMT_.FMT$;
      282      684    3              READFMT.BUF_.BOUND=2047;
      283      685    4              CALL M$READ(READFMT) WHENALTRETURN DO;
      284      686    4                 CALL TESTABBREV;
      285      687    4                 IF READFMT.V.DCB#=DCBNUM(M$FMTSYS)
      286      688    4                 THEN IF PRECKEY.L=0 THEN GOTO NOFMT;
      287      689    4                    ELSE EXIT;
      288      690    4                 READFMT.V.DCB#=DCBNUM(M$FMTSYS);
      289      691    5                 CALL M$READ(READFMT) WHENALTRETURN DO;
      290      692    5                    IF PRECKEY.L=0 THEN CALL TESTABBREV;
      291      693    5                    ELSE READFMT.V.DCB#=DCBNUM(M$FMT);
      292      694    5                    IF PRECKEY.L>0 THEN EXIT;
      293      695    5                    IF %M$FMT.FCD# THEN READFMT.V.DCB#=DCBNUM(M$FMT);
      294      696    5                    FMTKEY.L=0;
      295      697    5                    GOTO NOFMT;
      296      698    5                    END;
      297      699    4                 END;
      298      700    3              FDS.FMTSIZE=DCBADDR(READFMT.V.DCB#)->BUBIN;
      299      701    3              IF %M$FMT.FCD# THEN READFMT.V.DCB#=DCBNUM(M$FMT);
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:49   
      300      702    3              IF FDS.FMTSIZE<6 THEN GOTO NOFMT;
      301      703    3              IF ADDR(FMT)->BUBIN~=0 OR CNT(1)~=0
      302      704    3              THEN DATSIZ=ADDR(FMT)->BUBIN;
      303      705    3              IF DATSIZ>1024 THEN GOTO BADSIZ;
      304      706    3              SUBSTR(FMT,0,4)='%(%)';
      305      707    3              END;
      306      708    2           FDS.FMTX=4;                     /* Start at the beginning */
      307      709    2           RETURN;
      308      710    2   NOFMT:  SUBSTR(FMT,0,30)='%/FMT not found in FMT file:';
      309      711    2           GOTO NOFMT1;
      310      712    2   NOROOM: SUBSTR(FMT,0,30)='%/No room for "next" item';
      311      713    2           GOTO NOFMT1;
      312      714    2   BADFMT: SUBSTR(FMT,0,30)='%/No new FMT name found in ';
      313      715    2   NOFMT1: SUBSTR(FMT,30,30)=FMTKEY.T;
      314      716    2   NOFMT2: FDS.FMTX=0;
      315      717    2           FDS.FMTSIZE=63;
      316      718    2           SUBSTR(FMT,60,3)='%1Q';
      317      719    2           DATSIZ=0;
      318      720    2           ALTRETURN;
      319      721    2   BADSIZE: ENTRY ALTRET;
      320      722    2   BADSIZ: SUBSTR(FMT,0,60) = '%/Data request exceeds maximum (1024 words)';
      321      723    2           GOTO NOFMT2;
      322      724    2   BADADDR: ENTRY ALTRET;
      323      725    2   BADADR: SUBSTR(FMT,0,60) = '%/Data request not in dumpfile.';
      324      726    2           GOTO NOFMT2;
      325      727    2   NOSYMBOL: ENTRY ALTRET;
      326      728    2           SUBSTR(FMT,0,20) = '%/Symbol not found:';
      327      729    2           SUBSTR(FMT,20,40) = SYM.T;
      328      730    2           GOTO NOFMT2;
      329      731    2   END GETFMT;
      330      732        %EJECT;
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:50   
      331      733    1   TESTABBREV: PROC ALTRET;
      332      734    2           PREC.V.DCB#=READFMT.V.DCB#;
      333      735    2           PREC.V.N#=0;
      334      736    2           PRECKEY='0'B;              /* If the request matches the next key */
      335      737    2           READFMT.V.KEYS#='0'B;
      336      738    2           CALL M$PRECORD (PREC) ALTRET(MONALT);
      337      739    3           IF SUBSTR(FMTKEY.T,0,FMTKEY.L)=SUBSTR(PRECKEY.T,0,FMTKEY.L) THEN DO;
      338      740    3              PREC.V.N#=1;            /* and doesn"t match the one after that */
      339      741    3              CALL M$PRECORD (PREC) ALTRET(MONALT);
      340      742    4              IF SUBSTR(FMTKEY.T,0,FMTKEY.L)~=SUBSTR(PRECKEY.T,0,FMTKEY.L) THEN DO;
      341      743    4                 PREC.V.N#=-1;   /* go back to the good match and read it in */
      342      744    4                 CALL M$PRECORD (PREC) ALTRET(MONALT);
      343      745    4                 CALL M$READ (READFMT) ALTRET(MONALT);
      344      746    4                 EXIT;
      345      747    4   MONALT:       PREC.V.N#=2;
      346      748    4                 END;
      347      749    3              END;
      348      750    2           READFMT.V.KEYS#='1'B;
      349      751    2           IF PREC.V.N#>=0 THEN PRECKEY.L=0;
      350      752    2           IF PREC.V.N#=2 THEN ALTRETURN;
      351      753    2   END TESTABBREV;
      352      754        %EJECT;
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:51   
      353      755    1   GETMEM: PROC ALTRET;
      354      756    2           MEMVEC.PTR$(0)->BUBIN=CNT(1);
      355      757    2           IF DATSIZ=0 THEN RETURN;
      356      758    2   FIXSIZ: ENTRY ALTRET;
      357      759    2           I=FDS.MEMX;
      358      760    2           IF I=0 THEN I=1;
      359      761    2           ELSE FDS.MEMSZ=FDS.MEMSZ+DATSIZ*18-9-MEMVEC.BOUND(I)*9;
      360      762    2           MEMVEC.BOUND(I)=DATSIZ*2-1;
      361      763    2           CALL TCU$GETMEM (MEMVEC.PTR$(0)->BUBIN,MEMVEC.PTR$(I)->BUBIN,
      362      764    2             DATSIZ*2) ALTRET(NOMEM);
      363      765    2           RETURN;
      364      766    2   NOMEM:  ;
      365      767    2           ALTRETURN;
      366      768    2   END GETMEM;
      367      769    1   END TCU$EDIT;
      368      770        %EOD;

PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:52   
--  Include file information  --

   XU_FORMAT_C.:LIBRARY  is referenced.
   CP_6.:LIBRARY  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure TCU$EDIT.

   Procedure TCU$EDIT requires 573 words for executable code.
   Procedure TCU$EDIT requires 30 words of local(AUTO) storage.

PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:53   

 Object Unit name= TCU$EDIT                                   File name= TCU$UNLZ.:TCA2TOU
 UTS= NOV 16 '97 14:26:38.76 SUN                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   DCB   even  none    98    142  M$FMT
    2   DCB   even  none    98    142  M$FMTSYS
    3   Data  even  none    42     52  TCU$EDIT
    4  RoData even  UTS     48     60  TCU$EDIT
    5   Proc  even  none   573   1075  TCU$EDIT
    6  RoData even  none     7      7  TCU$EDIT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     5      0   yes    yes     yes      Std        2  TCU$EDIT

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    3     51  DB_NXT$
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:54   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       2 DAS$SDSRCHPTR
 yes     yes           Std       2 DAS$EDSRCHPTR
 yes     yes           Std       3 DAS$IC2PEDOFS
 yes     yes           Std       3 TCU$GETMEM
                       nStd      0 X66_AUTO_2
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
                       nStd      0 X66_AUNWIND
                       nStd      0 X66_AALT

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  M$FMT                                 M$FMTSYS
     B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID                                 ROSID
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:55   


      156        1        /*T***********************************************************/
      157        2        /*T*                                                         */
      158        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      159        4        /*T*                                                         */
      160        5        /*T***********************************************************/
      161        6        TCU$EDIT: PROC(FDS,CNT) ALTRET;

      6  5 000000   000000 700200 xent  TCU$EDIT     TSX0  ! X66_AUTO_2
         5 000001   000036 000002                    ZERO    30,2

      162        7
      163        8        %INCLUDE CP_6;
      164       89        %INCLUDE XU_FORMAT_C;
      165      251
      166      252        %M$DCB (DCBN=M$FMT, ASN=FILE, NAME=':FORMAT', ACS=DIRECT);
      167      326        %M$DCB (DCBN=M$FMTSYS, ASN=FILE, NAME=':FORMAT', ACCT=':SYS', ACS=DIRECT);
      168      400        %EQU M$FMT=CHARTEXT('DCBADDR(DCBNUM(M$FMT))->M$FMT');
      169      401
      170      402        %FPT_READ (FPTN=READFMT, DCB=M$FMT, KEY=FMTKEY, KEYS=YES);
      171      441        %FPT_PRECORD (FPTN=PREC, DCB=M$FMT, KEY=PRECKEY, KEYR=YES);
      172      462    1   DCL 1 FMTKEY STATIC,
      173      463    1         2 L UBIN(9) UNAL INIT(0),
      174      464    1         2 T CHAR(31);
      175      465    1   DCL 1 PRECKEY STATIC,
      176      466    1         2 L UBIN(9) UNAL INIT(0),
      177      467    1         2 T CHAR(31);
      178      468
      179      469        %F_FDS (NAME=FDS, STCLASS=PARAM);
      180      582    1   DCL CNT(0:4) SBIN;
      181      583
      182      584    1   DCL 1 MEMVEC(0:0) BASED(FDS.VECTR$),
      183      585    1         2 BOUND UBIN(20) UNAL,
      184      586    1         2 * BIT(16),
      185      587    1         2 PTR$ PTR;
      186      588    1   DCL FMT CHAR(FDS.FMTSIZE) BASED(FDS.FMT_.FMT$);
      187      589    1   DCL BUF CHAR(FDS.BUFSIZE) BASED(FDS.BUF_.BUF$);
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:56   
      188      590    1   DCL I UBIN;
      189      591    1   DCL I$ REDEF I PTR;
      190      592    1   DCL 1 SYM,
      191      593    1         2 L UBIN(9) UNAL,
      192      594    1         2 T CHAR(63);
      193      595    1   DCL DATSIZ SBIN STATIC;
      194      596    1   DCL BUBIN UBIN BASED ALIGNED;
      195      597    1   DCL BHBIN UBIN HALF BASED ALIGNED;
      196      598    1   DCL 1 TEXTH BASED ALIGNED,
      197      599    1         2 C UBIN HALF CALIGNED,
      198      600    1         2 T CHAR(TEXTH.C) CALIGNED;
      199      601    1   DCL DB_NXTX SBIN BASED(DB_NXT$) ALIGNED;
      200      602    1   DCL 1 CND BASED ALIGNED,
      201      603    1         2 * BIT(72),
      202      604    1         2 FLG(0:35) BIT(1);
      203      605
      204      606    1   DCL DAS$IC2PEDOFS ENTRY(3) ALTRET;
      205      607    1   DCL DAS$SDSRCHPTR ENTRY(2) ALTRET;
      206      608    1   DCL DAS$EDSRCHPTR ENTRY(2) ALTRET;
      207      609    1   DCL TCU$GETMEM ENTRY(3) ALTRET;
      208      610    1   DCL DB_NXT$ PTR STATIC SYMDEF INIT(ADDR(NIL));
      209      611        %EJECT;
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:57   
      210      612    2           IF SUBSTR(FMT,0,4)~='%(%)' THEN DO;

    612  5 000002   200003 470500                    LDP0    @FDS,,AUTO
         5 000003   000001 471500                    LDP1    1,,PR0
         5 000004   000004 720100                    LXL0    4,,PR0
         5 000005   040000 106500                    CMPC    fill='040'O
         5 000006   100000 000004                    ADSC9   0,,PR1                   cn=0,n=4
         5 000007   000000 000004 4                  ADSC9   0                        cn=0,n=4
         5 000010   000014 600000 5                  TZE     s:616

      211      613    2              FMTKEY.L=0;

    613  5 000011   000000 236003                    LDQ     0,DU
         5 000012   000030 552040 3                  STBQ    FMTKEY,'40'O

      212      614    2              DATSIZ=0;

    614  5 000013   000050 450000 3                  STZ     DATSIZ

      213      615    2              END;

      214      616    2           DO CASE(CNT(0));

    616  5 000014   200004 471500                    LDP1    @CNT,,AUTO
         5 000015   100000 235100                    LDA     0,,PR1
         5 000016   000015 115007                    CMPA    13,DL
         5 000017   000021 602005 5                  TNC     s:616+5,AL
         5 000020   000312 710000 5                  TRA     s:663
         5 000021   000036 710000 5                  TRA     s:618
         5 000022   000056 710000 5                  TRA     s:622
         5 000023   000066 710000 5                  TRA     s:625
         5 000024   000111 710000 5                  TRA     s:633
         5 000025   000117 710000 5                  TRA     s:637
         5 000026   000127 710000 5                  TRA     s:640
         5 000027   000166 710000 5                  TRA     s:645
         5 000030   000237 710000 5                  TRA     s:654
         5 000031   000312 710000 5                  TRA     s:663
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:58   
         5 000032   000312 710000 5                  TRA     s:663
         5 000033   000066 710000 5                  TRA     s:625
         5 000034   000111 710000 5                  TRA     s:633
         5 000035   000117 710000 5                  TRA     s:637

      215      617    2            CASE(0);                       /* DOT PREV FIELD */

      216      618    3              CALL INDEX1R(I,' ',BUF,FDS.BUFX) WHENRETURN DO;

    618  5 000036   000006 473500                    LDP3    6,,PR0
         5 000037   000010 720100                    LXL0    8,,PR0
         5 000040   000007 721100                    LXL1    7,,PR0
         5 000041   000007 236100                    LDQ     7,,PR0
         5 000042   000000 125540                    SCMR    mask='000'O
         5 000043   300000 000011                    ADSC9   0,,PR3                   cn=0,n=*X1
         5 000044   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         5 000045   200005 000100                    ARG     I,,AUTO
         5 000046   000055 606400 5                  TTN     s:620
         5 000047   200005 054100                    AOS     I,,AUTO
         5 000050   200005 156100                    SSQ     I,,AUTO

      217      619    3                 SUBSTR(BUF,I,1)='.';

    619  5 000051   200005 235100                    LDA     I,,AUTO
         5 000052   040105 100400                    MLR     fill='040'O
         5 000053   000000 000001 6                  ADSC9   0                        cn=0,n=1
         5 000054   300000 000001                    ADSC9   0,A,PR3                  cn=0,n=1

      218      620    3                 END;

    620  5 000055   000312 710000 5                  TRA     s:663

      219      621    2            CASE(1);             /* Next to format: addr in CNT(1), FMT follows */

      220      622    2              IF DB_NXT$=ADDR(NIL) OR CNT(1)=0 THEN EXIT;

    622  5 000056   000051 236000 3                  LDQ     DB_NXT$
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:59   
         5 000057   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 000060   000312 600000 5                  TZE     s:663
         5 000061   100001 235100                    LDA     1,,PR1
         5 000062   000312 600000 5                  TZE     s:663

      221      623    2              CALL GETFMT;

    623  5 000063   000313 701000 5                  TSX1    GETFMT
         5 000064   000000 011000                    NOP     0
         5 000065   000312 710000 5                  TRA     s:663

      222      624    2            CASE (2, 10);                  /* Fix size */

      223      625    2              DATSIZ=CNT(1);

    625  5 000066   100001 235100                    LDA     1,,PR1
         5 000067   000050 755000 3                  STA     DATSIZ

      224      626    3              IF DATSIZ>1024 THEN DO;

    626  5 000070   002000 115007                    CMPA    1024,DL
         5 000071   000075 604400 5                  TMOZ    s:630

      225      627    3                 CALL BADSIZE;

    627  5 000072   000641 701000 5                  TSX1    BADSIZE
         5 000073   000000 011000                    NOP     0

      226      628    3                 RETURN;

    628  5 000074   000000 702200 xent               TSX2  ! X66_ARET

      227      629    3                 END;
      228      630    2              IF CNT(4)>1 THEN MEMVEC.PTR$(0)->BUBIN=CNT(2);

    630  5 000075   100004 235100                    LDA     4,,PR1
         5 000076   000001 115007                    CMPA    1,DL
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:60   
         5 000077   000104 604400 5                  TMOZ    s:631

    630  5 000100   000012 473500                    LDP3    10,,PR0
         5 000101   300001 474500                    LDP4    1,,PR3
         5 000102   100002 235100                    LDA     2,,PR1
         5 000103   400000 755100                    STA     0,,PR4

      229      631    2              IF DATSIZ~=0 THEN CALL FIXSIZ ALTRET(BADADR);

    631  5 000104   000050 235000 3                  LDA     DATSIZ
         5 000105   000312 600000 5                  TZE     s:663

    631  5 000106   001012 701000 5                  TSX1    FIXSIZ
         5 000107   000114 702000 5                  TSX2    BADADR
         5 000110   000312 710000 5                  TRA     s:663

      230      632    2            CASE (3, 11);                  /* New data, keep FMT */

      231      633    3              CALL GETMEM WHENALTRETURN DO;

    633  5 000111   000776 701000 5                  TSX1    GETMEM
         5 000112   000114 702000 5                  TSX2    BADADR
         5 000113   000116 710000 5                  TRA     s:635

      232      634    3   BADADR:       CALL BADADDR;

    634  5 000114   000651 701000 5     BADADR       TSX1    BADADDR
         5 000115   000000 011000                    NOP     0

      233      635    3                 END;

    635  5 000116   000312 710000 5                  TRA     s:663

      234      636    2            CASE (4, 12);

      235      637    2              CALL GETFMT;

PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:61   
    637  5 000117   000313 701000 5                  TSX1    GETFMT
         5 000120   000000 011000                    NOP     0

      236      638    2              IF CNT(4)>0 THEN CALL GETMEM ALTRET(BADADR);

    638  5 000121   200004 470500                    LDP0    @CNT,,AUTO
         5 000122   000004 235100                    LDA     4,,PR0
         5 000123   000312 604400 5                  TMOZ    s:663

    638  5 000124   000776 701000 5                  TSX1    GETMEM
         5 000125   000114 702000 5                  TSX2    BADADR
         5 000126   000312 710000 5                  TRA     s:663

      237      639    2            CASE(5);
               639            /* Abort if no MEMVEC.PTR$(0)->CND.FLG flags set (CNT(1), CNT(2), or CNT(3)) */

      238      640    2              IF NOT MEMVEC.PTR$(0)->CND.FLG(CNT(1))

    640  5 000127   000012 473500                    LDP3    10,,PR0
         5 000130   300001 474500                    LDP4    1,,PR3
         5 000131   100001 235100                    LDA     1,,PR1
         5 000132   000134 605000 5                  TPL     s:640+5
         5 000133   000044 035003                    ADLA    36,DU
         5 000134   000000 066505                    CMPB    filb='0'B
         5 000135   400002 000001                    BDSC    2,A,PR4                  by=0,bit=0,n=1
         5 000136   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         5 000137   000312 601000 5                  TNZ     s:663
         5 000140   100002 235100                    LDA     2,,PR1
         5 000141   000150 600000 5                  TZE     s:640+17
         5 000142   000144 605000 5                  TPL     s:640+13
         5 000143   000044 035003                    ADLA    36,DU
         5 000144   000000 066505                    CMPB    filb='0'B
         5 000145   400002 000001                    BDSC    2,A,PR4                  by=0,bit=0,n=1
         5 000146   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         5 000147   000312 601000 5                  TNZ     s:663
         5 000150   100003 235100                    LDA     3,,PR1
         5 000151   000160 600000 5                  TZE     s:643
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:62   
         5 000152   000154 605000 5                  TPL     s:640+21
         5 000153   000044 035003                    ADLA    36,DU
         5 000154   000000 066505                    CMPB    filb='0'B
         5 000155   400002 000001                    BDSC    2,A,PR4                  by=0,bit=0,n=1
         5 000156   000002 000022 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=18
         5 000157   000312 601000 5                  TNZ     s:663

      239      641    2                AND (CNT(2)=0 OR NOT MEMVEC.PTR$(0)->CND.FLG(CNT(2)))
      240      642    2                AND (CNT(3)=0 OR NOT MEMVEC.PTR$(0)->CND.FLG(CNT(3)))
      241      643    2              THEN UNWIND TO FDS.BAILOUT;

    643  5 000160   000100 100700                    MLR   ! fill='000'O
         5 000161   000021 000010                    ADSC9   17,,PR0                  cn=0,n=8
         5 000162   200032 000010                    ADSC9   SYM+20,,AUTO             cn=0,n=8
         5 000163   200032 237300                    LDAQ  ! SYM+20,,AUTO
         5 000164   000000 700200 xent               TSX0  ! X66_AUNWIND
         5 000165   000000 000200                    ZERO    0,128

      242      644    2            CASE(6);                       /* Display ENTDEF name */

      243      645    3              CALL DAS$IC2PEDOFS (CNT(2),I$,CNT(3)) WHENRETURN DO;

    645  5 000166   200004 236100                    LDQ     @CNT,,AUTO
         5 000167   000003 036003                    ADLQ    3,DU
         5 000170   200034 756100                    STQ     SYM+22,,AUTO
         5 000171   200005 633500                    EPPR3   I,,AUTO
         5 000172   200033 453500                    STP3    SYM+21,,AUTO
         5 000173   200004 236100                    LDQ     @CNT,,AUTO
         5 000174   000002 036003                    ADLQ    2,DU
         5 000175   200032 756100                    STQ     SYM+20,,AUTO
         5 000176   200032 630500                    EPPR0   SYM+20,,AUTO
         5 000177   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 000200   000000 701000 xent               TSX1    DAS$IC2PEDOFS
         5 000201   000233 702000 5                  TSX2    s:650

      244      646    3                 SUBSTR(BUF,FDS.BUFX)=I$->TEXTH.T;

PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:63   
    646  5 000202   200003 470500                    LDP0    @FDS,,AUTO
         5 000203   000006 471500                    LDP1    6,,PR0
         5 000204   000010 720100                    LXL0    8,,PR0
         5 000205   000000 636010                    EAQ     0,X0
         5 000206   000022 732000                    QRS     18
         5 000207   000007 136100                    SBLQ    7,,PR0
         5 000210   000007 235100                    LDA     7,,PR0
         5 000211   200005 473500                    LDP3    I,,AUTO
         5 000212   300000 221100                    LDX1    0,,PR3
         5 000213   000000 622006                    EAX2    0,QL
         5 000214   040145 100540                    MLR     fill='040'O
         5 000215   300000 400011                    ADSC9   0,,PR3                   cn=2,n=*X1
         5 000216   100000 000012                    ADSC9   0,A,PR1                  cn=0,n=*X2

      245      647    3                 FDS.BUFX=MINIMUM(FDS.BUFX+I$->TEXTH.C, FDS.BUFSIZE);

    647  5 000217   200005 471500                    LDP1    I,,AUTO
         5 000220   100000 236100                    LDQ     0,,PR1
         5 000221   000022 772000                    QRL     18
         5 000222   000007 036100                    ADLQ    7,,PR0
         5 000223   000010 116100                    CMPQ    8,,PR0
         5 000224   000226 604400 5                  TMOZ    s:647+7
         5 000225   000010 236100                    LDQ     8,,PR0
         5 000226   000007 756100                    STQ     7,,PR0

      246      648    3                 CNT(0)=CNT(3);

    648  5 000227   200004 473500                    LDP3    @CNT,,AUTO
         5 000230   300003 235100                    LDA     3,,PR3
         5 000231   300000 755100                    STA     0,,PR3

      247      649    3                 END; WHENALTRETURN DO;

    649  5 000232   000236 710000 5                  TRA     s:652

      248      650    3                 CNT(0)=-1;

PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:64   
    650  5 000233   000001 335007                    LCA     1,DL
         5 000234   200004 470500                    LDP0    @CNT,,AUTO
         5 000235   000000 755100                    STA     0,,PR0

      249      651    3                 END;

      250      652    2              ALTRETURN;

    652  5 000236   000000 702200 xent               TSX2  ! X66_AALT

      251      653    2            CASE(7);                       /* Symbol lookup */

      252      654    2              CALL INDEX(I,'%',SUBSTR(FMT,FDS.FMTX+2));

    654  5 000237   000001 473500                    LDP3    1,,PR0
         5 000240   000004 720100                    LXL0    4,,PR0
         5 000241   000000 636010                    EAQ     0,X0
         5 000242   000022 732000                    QRS     18
         5 000243   000002 136100                    SBLQ    2,,PR0
         5 000244   000002 235100                    LDA     2,,PR0
         5 000245   777776 621006                    EAX1    -2,QL
         5 000246   000000 124545                    SCM     mask='000'O
         5 000247   300000 400011                    ADSC9   0,A,PR3                  cn=2,n=*X1
         5 000250   000001 000001 6                  ADSC9   1                        cn=0,n=1
         5 000251   200005 000100                    ARG     I,,AUTO

      253      655    2              SYM.L = I;

    655  5 000252   200005 236100                    LDQ     I,,AUTO
         5 000253   000033 736000                    QLS     27
         5 000254   200006 552140                    STBQ    SYM,'40'O,AUTO

      254      656    2              SYM.T = SUBSTR(FMT,FDS.FMTX+2,I);

    656  5 000255   000001 473500                    LDP3    1,,PR0
         5 000256   000004 720100                    LXL0    4,,PR0
         5 000257   000002 235100                    LDA     2,,PR0
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:65   
         5 000260   200005 721100                    LXL1    I,,AUTO
         5 000261   040100 100545                    MLR     fill='040'O
         5 000262   300000 400011                    ADSC9   0,A,PR3                  cn=2,n=*X1
         5 000263   200006 200077                    ADSC9   SYM,,AUTO                cn=1,n=63

      255      657    3              CALL DAS$SDSRCHPTR (SYM, FDS.USERDAT1#) WHENALTRETURN DO;

    657  5 000264   200003 236100                    LDQ     @FDS,,AUTO
         5 000265   000033 036003                    ADLQ    27,DU
         5 000266   200033 756100                    STQ     SYM+21,,AUTO
         5 000267   200006 633500                    EPPR3   SYM,,AUTO
         5 000270   200032 453500                    STP3    SYM+20,,AUTO
         5 000271   200032 630500                    EPPR0   SYM+20,,AUTO
         5 000272   000020 631400 xsym               EPPR1   B_VECTNIL+16
         5 000273   000000 701000 xent               TSX1    DAS$SDSRCHPTR
         5 000274   000276 702000 5                  TSX2    s:658
         5 000275   000312 710000 5                  TRA     s:663

      256      658    4                 CALL DAS$EDSRCHPTR (SYM, FDS.USERDAT1#) WHENALTRETURN DO;

    658  5 000276   200003 236100                    LDQ     @FDS,,AUTO
         5 000277   000033 036003                    ADLQ    27,DU
         5 000300   200033 756100                    STQ     SYM+21,,AUTO
         5 000301   200006 630500                    EPPR0   SYM,,AUTO
         5 000302   200032 450500                    STP0    SYM+20,,AUTO
         5 000303   200032 630500                    EPPR0   SYM+20,,AUTO
         5 000304   000020 631400 xsym               EPPR1   B_VECTNIL+16
         5 000305   000000 701000 xent               TSX1    DAS$EDSRCHPTR
         5 000306   000310 702000 5                  TSX2    BAD_SYM
         5 000307   000312 710000 5                  TRA     s:663

      257      659    4   BAD_SYM:         ; CALL NOSYMBOL;

    659  5 000310                       BAD_SYM      null
    659  5 000310   000661 701000 5                  TSX1    NOSYMBOL
         5 000311   000000 011000                    NOP     0

PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:66   
      258      660    4                    END;

      259      661    3                 END;

      260      662    2            END;

      261      663    1           RETURN;

    663  5 000312   000000 702200 xent               TSX2  ! X66_ARET

      262      664        %EJECT;
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:67   
      263      665        /* Subroutines */
      264      666    1   GETFMT: PROC ALTRET;

    666  5 000313   200026 741300       GETFMT       STX1  ! SYM+16,,AUTO

      265      667
      266      668    2   DCL CHAR4 CHAR(4) BASED CALIGNED;
      267      669    2   DCL CHAR1 CHAR(1) BASED CALIGNED;
      268      670    2   DCL CHARI CHAR(I) BASED CALIGNED;
      269      671    2           CALL INDEX(I,'%)',SUBSTR(FMT,FDS.FMTX+2)) ALTRET(BADFMT);

    671  5 000314   200003 470500                    LDP0    @FDS,,AUTO
         5 000315   000001 471500                    LDP1    1,,PR0
         5 000316   000004 720100                    LXL0    4,,PR0
         5 000317   000000 636010                    EAQ     0,X0
         5 000320   000022 732000                    QRS     18
         5 000321   000002 136100                    SBLQ    2,,PR0
         5 000322   000002 235100                    LDA     2,,PR0
         5 000323   777776 622006                    EAX2    -2,QL
         5 000324   000000 120545                    SCD
         5 000325   100000 400012                    ADSC9   0,A,PR1                  cn=2,n=*X2
         5 000326   000001 000002 4                  ADSC9   1                        cn=0,n=2
         5 000327   200005 000100                    ARG     I,,AUTO
         5 000330   000333 607000 5                  TTF     s:672
         5 000331   200005 054100                    AOS     I,,AUTO
         5 000332   000612 710000 5                  TRA     BADFMT

      270      672    3           IF CNT(0)=1 THEN DO;

    672  5 000333   200004 471500                    LDP1    @CNT,,AUTO
         5 000334   100000 235100                    LDA     0,,PR1
         5 000335   000001 115007                    CMPA    1,DL
         5 000336   000411 601000 5                  TNZ     s:680

      271      673    3              IF DB_NXTX<I+9 THEN GOTO NOROOM;

    673  5 000337   000051 473400 3                  LDP3    DB_NXT$
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:68   
         5 000340   200005 236100                    LDQ     I,,AUTO
         5 000341   000011 036007                    ADLQ    9,DL
         5 000342   000604 604000 5                  TMI     NOROOM
         5 000343   300000 116100                    CMPQ    0,,PR3
         5 000344   000604 605400 5                  TPNZ    NOROOM

      272      674    3              PINCRC(DB_NXT$,DB_NXTX-4)->CHAR4=ADDR(CNT(1))->CHAR4;

    674  5 000345   300000 236100                    LDQ     0,,PR3
         5 000346   040106 100500                    MLR     fill='040'O
         5 000347   100001 000004                    ADSC9   1,,PR1                   cn=0,n=4
         5 000350   377777 000004                    ADSC9   -1,Q,PR3                 cn=0,n=4

      273      675    3              DB_NXTX=DB_NXTX-5-I;

    675  5 000351   000051 473400 3                  LDP3    DB_NXT$
         5 000352   300000 236100                    LDQ     0,,PR3
         5 000353   200005 136100                    SBLQ    I,,AUTO
         5 000354   000005 136007                    SBLQ    5,DL
         5 000355   300000 756100                    STQ     0,,PR3

      274      676    3              PINCRC(DB_NXT$,DB_NXTX+1)->CHARI=ADDR(SUBSTR(FMT,FDS.FMTX+2))->CHARI;

    676  5 000356   000051 473400 3                  LDP3    DB_NXT$
         5 000357   300000 236100                    LDQ     0,,PR3
         5 000360   000001 474500                    LDP4    1,,PR0
         5 000361   000004 720100                    LXL0    4,,PR0
         5 000362   200032 756100                    STQ     SYM+20,,AUTO
         5 000363   000000 636010                    EAQ     0,X0
         5 000364   000022 732000                    QRS     18
         5 000365   000002 136100                    SBLQ    2,,PR0
         5 000366   000002 235100                    LDA     2,,PR0
         5 000367   200005 720100                    LXL0    I,,AUTO
         5 000370   200032 236100                    LDQ     SYM+20,,AUTO
         5 000371   040146 100545                    MLR     fill='040'O
         5 000372   400000 400010                    ADSC9   0,A,PR4                  cn=2,n=*X0
         5 000373   300000 200010                    ADSC9   0,Q,PR3                  cn=1,n=*X0
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:69   

      275      677    3              PINCRC(DB_NXT$,DB_NXTX)->CHAR1=BINASC(I);

    677  5 000374   000051 473400 3                  LDP3    DB_NXT$
         5 000375   300000 236100                    LDQ     0,,PR3
         5 000376   200032 756100                    STQ     SYM+20,,AUTO
         5 000377   200005 236100                    LDQ     I,,AUTO
         5 000400   000033 736000                    QLS     27
         5 000401   000002 276000 6                  ORQ     2
         5 000402   200033 756100                    STQ     SYM+21,,AUTO
         5 000403   200032 235100                    LDA     SYM+20,,AUTO
         5 000404   040105 100500                    MLR     fill='040'O
         5 000405   200033 000004                    ADSC9   SYM+21,,AUTO             cn=0,n=4
         5 000406   300000 000001                    ADSC9   0,A,PR3                  cn=0,n=1

      276      678    3              RETURN;

    678  5 000407   200026 221300                    LDX1  ! SYM+16,,AUTO
         5 000410   000001 702211                    TSX2  ! 1,X1

      277      679    3              END;
      278      680    3           IF I~=FMTKEY.L OR SUBSTR(FMT,FDS.FMTX+2,I)~=FMTKEY.T THEN DO;

    680  5 000411   000030 236000 3                  LDQ     FMTKEY
         5 000412   000033 772000                    QRL     27
         5 000413   200005 116100                    CMPQ    I,,AUTO
         5 000414   000425 601000 5                  TNZ     s:681
         5 000415   000001 473500                    LDP3    1,,PR0
         5 000416   000004 720100                    LXL0    4,,PR0
         5 000417   000002 235100                    LDA     2,,PR0
         5 000420   200005 722100                    LXL2    I,,AUTO
         5 000421   040000 106545                    CMPC    fill='040'O
         5 000422   300000 400012                    ADSC9   0,A,PR3                  cn=2,n=*X2
         5 000423   000030 200037 3                  ADSC9   FMTKEY                   cn=1,n=31
         5 000424   000570 600000 5                  TZE     s:708

      279      681    3              FMTKEY.L=I;
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:70   

    681  5 000425   200005 236100                    LDQ     I,,AUTO
         5 000426   000033 736000                    QLS     27
         5 000427   000030 552040 3                  STBQ    FMTKEY,'40'O

      280      682    3              FMTKEY.T=SUBSTR(FMT,FDS.FMTX+2,I);

    682  5 000430   000001 473500                    LDP3    1,,PR0
         5 000431   000004 720100                    LXL0    4,,PR0
         5 000432   000002 235100                    LDA     2,,PR0
         5 000433   200005 722100                    LXL2    I,,AUTO
         5 000434   040000 100545                    MLR     fill='040'O
         5 000435   300000 400012                    ADSC9   0,A,PR3                  cn=2,n=*X2
         5 000436   000030 200037 3                  ADSC9   FMTKEY                   cn=1,n=31

      281      683    3              READFMT.BUF_.BUF$=FDS.FMT_.FMT$;

    683  5 000437   000001 236100                    LDQ     1,,PR0
         5 000440   000005 756000 3                  STQ     READFMT+5

      282      684    3              READFMT.BUF_.BOUND=2047;

    684  5 000441   000004 236000 3                  LDQ     READFMT+4
         5 000442   177777 376007                    ANQ     65535,DL
         5 000443   000003 276000 6                  ORQ     3
         5 000444   000004 756000 3                  STQ     READFMT+4

      283      685    4              CALL M$READ(READFMT) WHENALTRETURN DO;

    685  5 000445   000000 630400 3                  EPPR0   READFMT
         5 000446   440000 713400                    CLIMB   alt,read
         5 000447   401400 401760                    pmme    nvectors=4
         5 000450   000452 702000 5                  TSX2    s:686
         5 000451   000527 710000 5                  TRA     s:700

      284      686    4                 CALL TESTABBREV;

PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:71   
    686  5 000452   000676 701000 5                  TSX1    TESTABBREV
         5 000453   000000 011000                    NOP     0

      285      687    4                 IF READFMT.V.DCB#=DCBNUM(M$FMTSYS)

    687  5 000454   000000 236007 xsym               LDQ     M$FMTSYS,DL
         5 000455   200032 756100                    STQ     SYM+20,,AUTO
         5 000456   000010 236000 3                  LDQ     READFMT+8
         5 000457   000022 772000                    QRL     18
         5 000460   200032 116100                    CMPQ    SYM+20,,AUTO
         5 000461   000466 601000 5                  TNZ     s:690

      286      688    4                 THEN IF PRECKEY.L=0 THEN GOTO NOFMT;

    688  5 000462   000040 236000 3                  LDQ     PRECKEY
         5 000463   777000 316003                    CANQ    -512,DU
         5 000464   000575 600000 5                  TZE     NOFMT

      287      689    4                    ELSE EXIT;

    689  5 000465   000527 710000 5                  TRA     s:700

      288      690    4                 READFMT.V.DCB#=DCBNUM(M$FMTSYS);

    690  5 000466   000000 236007 xsym               LDQ     M$FMTSYS,DL
         5 000467   000000 620006                    EAX0    0,QL
         5 000470   000010 740000 3                  STX0    READFMT+8

      289      691    5                 CALL M$READ(READFMT) WHENALTRETURN DO;

    691  5 000471   000000 630400 3                  EPPR0   READFMT
         5 000472   440000 713400                    CLIMB   alt,read
         5 000473   401400 401760                    pmme    nvectors=4
         5 000474   000476 702000 5                  TSX2    s:692
         5 000475   000527 710000 5                  TRA     s:700

      290      692    5                    IF PRECKEY.L=0 THEN CALL TESTABBREV;
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:72   

    692  5 000476   000040 236000 3                  LDQ     PRECKEY
         5 000477   777000 316003                    CANQ    -512,DU
         5 000500   000504 601000 5                  TNZ     s:693

    692  5 000501   000676 701000 5                  TSX1    TESTABBREV
         5 000502   000000 011000                    NOP     0
         5 000503   000507 710000 5                  TRA     s:694

      291      693    5                    ELSE READFMT.V.DCB#=DCBNUM(M$FMT);

    693  5 000504   000000 236007 xsym               LDQ     M$FMT,DL
         5 000505   000000 620006                    EAX0    0,QL
         5 000506   000010 740000 3                  STX0    READFMT+8

      292      694    5                    IF PRECKEY.L>0 THEN EXIT;

    694  5 000507   000040 236000 3                  LDQ     PRECKEY
         5 000510   777000 316003                    CANQ    -512,DU
         5 000511   000527 601000 5                  TNZ     s:700

      293      695    5                    IF %M$FMT.FCD# THEN READFMT.V.DCB#=DCBNUM(M$FMT);

    695  5 000512   000000 236007 xsym               LDQ     M$FMT,DL
         5 000513   000004 470400 6                  LDP0    4
         5 000514   000000 471500                    LDP1    0,,PR0
         5 000515   100000 473506                    LDP3    0,QL,PR1
         5 000516   300031 236100                    LDQ     25,,PR3
         5 000517   020000 316007                    CANQ    8192,DL
         5 000520   000524 600000 5                  TZE     s:696

    695  5 000521   000000 236007 xsym               LDQ     M$FMT,DL
         5 000522   000000 620006                    EAX0    0,QL
         5 000523   000010 740000 3                  STX0    READFMT+8

      294      696    5                    FMTKEY.L=0;

PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:73   
    696  5 000524   000000 236003                    LDQ     0,DU
         5 000525   000030 552040 3                  STBQ    FMTKEY,'40'O

      295      697    5                    GOTO NOFMT;

    697  5 000526   000575 710000 5                  TRA     NOFMT

      296      698    5                    END;
      297      699    4                 END;

      298      700    3              FDS.FMTSIZE=DCBADDR(READFMT.V.DCB#)->BUBIN;

    700  5 000527   000004 470400 6                  LDP0    4
         5 000530   000000 471500                    LDP1    0,,PR0
         5 000531   000010 220000 3                  LDX0    READFMT+8
         5 000532   100000 473510                    LDP3    0,X0,PR1
         5 000533   300000 235100                    LDA     0,,PR3
         5 000534   200003 474500                    LDP4    @FDS,,AUTO
         5 000535   400004 755100                    STA     4,,PR4

      299      701    3              IF %M$FMT.FCD# THEN READFMT.V.DCB#=DCBNUM(M$FMT);

    701  5 000536   000000 236007 xsym               LDQ     M$FMT,DL
         5 000537   100000 473506                    LDP3    0,QL,PR1
         5 000540   300031 236100                    LDQ     25,,PR3
         5 000541   020000 316007                    CANQ    8192,DL
         5 000542   000546 600000 5                  TZE     s:702

    701  5 000543   000000 236007 xsym               LDQ     M$FMT,DL
         5 000544   000000 620006                    EAX0    0,QL
         5 000545   000010 740000 3                  STX0    READFMT+8

      300      702    3              IF FDS.FMTSIZE<6 THEN GOTO NOFMT;

    702  5 000546   400004 235100                    LDA     4,,PR4
         5 000547   000006 115007                    CMPA    6,DL
         5 000550   000575 604000 5                  TMI     NOFMT
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:74   

      301      703    3              IF ADDR(FMT)->BUBIN~=0 OR CNT(1)~=0

    703  5 000551   400001 473500                    LDP3    1,,PR4
         5 000552   300000 235100                    LDA     0,,PR3
         5 000553   000557 601000 5                  TNZ     s:704
         5 000554   200004 475500                    LDP5    @CNT,,AUTO
         5 000555   500001 235100                    LDA     1,,PR5
         5 000556   000561 600000 5                  TZE     s:705

      302      704    3              THEN DATSIZ=ADDR(FMT)->BUBIN;

    704  5 000557   300000 235100                    LDA     0,,PR3
         5 000560   000050 755000 3                  STA     DATSIZ

      303      705    3              IF DATSIZ>1024 THEN GOTO BADSIZ;

    705  5 000561   000050 235000 3                  LDA     DATSIZ
         5 000562   002000 115007                    CMPA    1024,DL
         5 000563   000642 605400 5                  TPNZ    BADSIZ

      304      706    3              SUBSTR(FMT,0,4)='%(%)';

    706  5 000564   400004 720100                    LXL0    4,,PR4
         5 000565   040100 100400                    MLR     fill='040'O
         5 000566   000000 000004 4                  ADSC9   0                        cn=0,n=4
         5 000567   300000 000004                    ADSC9   0,,PR3                   cn=0,n=4

      305      707    3              END;

      306      708    2           FDS.FMTX=4;                     /* Start at the beginning */

    708  5 000570   000004 235007                    LDA     4,DL
         5 000571   200003 470500                    LDP0    @FDS,,AUTO
         5 000572   000002 755100                    STA     2,,PR0

      307      709    2           RETURN;
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:75   

    709  5 000573   200026 221300                    LDX1  ! SYM+16,,AUTO
         5 000574   000001 702211                    TSX2  ! 1,X1

      308      710    2   NOFMT:  SUBSTR(FMT,0,30)='%/FMT not found in FMT file:';

    710  5 000575   200003 470500       NOFMT        LDP0    @FDS,,AUTO
         5 000576   000001 471500                    LDP1    1,,PR0
         5 000577   000004 720100                    LXL0    4,,PR0
         5 000600   040100 100400                    MLR     fill='040'O
         5 000601   000002 000034 4                  ADSC9   2                        cn=0,n=28
         5 000602   100000 000036                    ADSC9   0,,PR1                   cn=0,n=30

      309      711    2           GOTO NOFMT1;

    711  5 000603   000620 710000 5                  TRA     NOFMT1

      310      712    2   NOROOM: SUBSTR(FMT,0,30)='%/No room for "next" item';

    712  5 000604   000001 474500       NOROOM       LDP4    1,,PR0
         5 000605   000004 720100                    LXL0    4,,PR0
         5 000606   040100 100400                    MLR     fill='040'O
         5 000607   000011 000031 4                  ADSC9   9                        cn=0,n=25
         5 000610   400000 000036                    ADSC9   0,,PR4                   cn=0,n=30

      311      713    2           GOTO NOFMT1;

    713  5 000611   000620 710000 5                  TRA     NOFMT1

      312      714    2   BADFMT: SUBSTR(FMT,0,30)='%/No new FMT name found in ';

    714  5 000612   200003 470500       BADFMT       LDP0    @FDS,,AUTO
         5 000613   000001 471500                    LDP1    1,,PR0
         5 000614   000004 720100                    LXL0    4,,PR0
         5 000615   040100 100400                    MLR     fill='040'O
         5 000616   000020 000033 4                  ADSC9   16                       cn=0,n=27
         5 000617   100000 000036                    ADSC9   0,,PR1                   cn=0,n=30
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:76   

      313      715    2   NOFMT1: SUBSTR(FMT,30,30)=FMTKEY.T;

    715  5 000620   000001 471500       NOFMT1       LDP1    1,,PR0
         5 000621   000004 720100                    LXL0    4,,PR0
         5 000622   040100 100400                    MLR     fill='040'O
         5 000623   000030 200036 3                  ADSC9   FMTKEY                   cn=1,n=30
         5 000624   100007 400036                    ADSC9   7,,PR1                   cn=2,n=30

      314      716    2   NOFMT2: FDS.FMTX=0;

    716  5 000625   200003 470500       NOFMT2       LDP0    @FDS,,AUTO
         5 000626   000002 450100                    STZ     2,,PR0

      315      717    2           FDS.FMTSIZE=63;

    717  5 000627   000077 235007                    LDA     63,DL
         5 000630   000004 755100                    STA     4,,PR0

      316      718    2           SUBSTR(FMT,60,3)='%1Q';

    718  5 000631   000001 471500                    LDP1    1,,PR0
         5 000632   000004 720100                    LXL0    4,,PR0
         5 000633   040100 100400                    MLR     fill='040'O
         5 000634   000027 000003 4                  ADSC9   23                       cn=0,n=3
         5 000635   100017 000003                    ADSC9   15,,PR1                  cn=0,n=3

      317      719    2           DATSIZ=0;

    719  5 000636   000050 450000 3                  STZ     DATSIZ

      318      720    2           ALTRETURN;

    720  5 000637   200026 221300                    LDX1  ! SYM+16,,AUTO
         5 000640   000000 702211                    TSX2  ! 0,X1

      319      721    2   BADSIZE: ENTRY ALTRET;
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:77   

    721  5 000641   200026 741300       BADSIZE      STX1  ! SYM+16,,AUTO

      320      722    2   BADSIZ: SUBSTR(FMT,0,60) = '%/Data request exceeds maximum (1024 words)';

    722  5 000642   200003 470500       BADSIZ       LDP0    @FDS,,AUTO
         5 000643   000001 471500                    LDP1    1,,PR0
         5 000644   000004 720100                    LXL0    4,,PR0
         5 000645   040100 100400                    MLR     fill='040'O
         5 000646   000030 000053 4                  ADSC9   24                       cn=0,n=43
         5 000647   100000 000074                    ADSC9   0,,PR1                   cn=0,n=60

      321      723    2           GOTO NOFMT2;

    723  5 000650   000625 710000 5                  TRA     NOFMT2

      322      724    2   BADADDR: ENTRY ALTRET;

    724  5 000651   200026 741300       BADADDR      STX1  ! SYM+16,,AUTO

      323      725    2   BADADR: SUBSTR(FMT,0,60) = '%/Data request not in dumpfile.';

    725  5 000652   200003 470500       BADADR       LDP0    @FDS,,AUTO
         5 000653   000001 471500                    LDP1    1,,PR0
         5 000654   000004 720100                    LXL0    4,,PR0
         5 000655   040100 100400                    MLR     fill='040'O
         5 000656   000043 000037 4                  ADSC9   35                       cn=0,n=31
         5 000657   100000 000074                    ADSC9   0,,PR1                   cn=0,n=60

      324      726    2           GOTO NOFMT2;

    726  5 000660   000625 710000 5                  TRA     NOFMT2

      325      727    2   NOSYMBOL: ENTRY ALTRET;

    727  5 000661   200026 741300       NOSYMBOL     STX1  ! SYM+16,,AUTO

PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:78   
      326      728    2           SUBSTR(FMT,0,20) = '%/Symbol not found:';

    728  5 000662   200003 470500                    LDP0    @FDS,,AUTO
         5 000663   000001 471500                    LDP1    1,,PR0
         5 000664   000004 720100                    LXL0    4,,PR0
         5 000665   040100 100400                    MLR     fill='040'O
         5 000666   000053 000023 4                  ADSC9   43                       cn=0,n=19
         5 000667   100000 000024                    ADSC9   0,,PR1                   cn=0,n=20

      327      729    2           SUBSTR(FMT,20,40) = SYM.T;

    729  5 000670   000001 471500                    LDP1    1,,PR0
         5 000671   000004 720100                    LXL0    4,,PR0
         5 000672   040100 100500                    MLR     fill='040'O
         5 000673   200006 200050                    ADSC9   SYM,,AUTO                cn=1,n=40
         5 000674   100005 000050                    ADSC9   5,,PR1                   cn=0,n=40

      328      730    2           GOTO NOFMT2;

    730  5 000675   000625 710000 5                  TRA     NOFMT2

      329      731    2   END GETFMT;
      330      732        %EJECT;
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:79   
      331      733    1   TESTABBREV: PROC ALTRET;

    733  5 000676   200030 741300       TESTABBREV   STX1  ! SYM+18,,AUTO

      332      734    2           PREC.V.DCB#=READFMT.V.DCB#;

    734  5 000677   000010 220000 3                  LDX0    READFMT+8
         5 000700   000024 740000 3                  STX0    PREC+6

      333      735    2           PREC.V.N#=0;

    735  5 000701   000025 450000 3                  STZ     PREC+7

      334      736    2           PRECKEY='0'B;              /* If the request matches the next key */

    736  5 000702   000000 100400                    MLR     fill='000'O
         5 000703   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         5 000704   000040 000040 3                  ADSC9   PRECKEY                  cn=0,n=32

      335      737    2           READFMT.V.KEYS#='0'B;

    737  5 000705   000005 236000 6                  LDQ     5
         5 000706   000010 356000 3                  ANSQ    READFMT+8

      336      738    2           CALL M$PRECORD (PREC) ALTRET(MONALT);

    738  5 000707   000016 630400 3                  EPPR0   PREC
         5 000710   440003 713400                    CLIMB   alt,+16387
         5 000711   401000 401760                    pmme    nvectors=3
         5 000712   000760 702000 5                  TSX2    MONALT

      337      739    3           IF SUBSTR(FMTKEY.T,0,FMTKEY.L)=SUBSTR(PRECKEY.T,0,FMTKEY.L) THEN DO;

    739  5 000713   000030 236000 3                  LDQ     FMTKEY
         5 000714   000033 772000                    QRL     27
         5 000715   000000 620006                    EAX0    0,QL
         5 000716   000030 236000 3                  LDQ     FMTKEY
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:80   
         5 000717   000033 772000                    QRL     27
         5 000720   000000 621006                    EAX1    0,QL
         5 000721   040040 106440                    CMPC    fill='040'O
         5 000722   000030 200010 3                  ADSC9   FMTKEY                   cn=1,n=*X0
         5 000723   000040 200011 3                  ADSC9   PRECKEY                  cn=1,n=*X1
         5 000724   000762 601000 5                  TNZ     s:750

      338      740    3              PREC.V.N#=1;            /* and doesn"t match the one after that */

    740  5 000725   000001 235007                    LDA     1,DL
         5 000726   000025 755000 3                  STA     PREC+7

      339      741    3              CALL M$PRECORD (PREC) ALTRET(MONALT);

    741  5 000727   000016 630400 3                  EPPR0   PREC
         5 000730   440003 713400                    CLIMB   alt,+16387
         5 000731   401000 401760                    pmme    nvectors=3
         5 000732   000760 702000 5                  TSX2    MONALT

      340      742    4              IF SUBSTR(FMTKEY.T,0,FMTKEY.L)~=SUBSTR(PRECKEY.T,0,FMTKEY.L) THEN DO;

    742  5 000733   000030 236000 3                  LDQ     FMTKEY
         5 000734   000033 772000                    QRL     27
         5 000735   000000 620006                    EAX0    0,QL
         5 000736   000030 236000 3                  LDQ     FMTKEY
         5 000737   000033 772000                    QRL     27
         5 000740   000000 621006                    EAX1    0,QL
         5 000741   040040 106440                    CMPC    fill='040'O
         5 000742   000030 200010 3                  ADSC9   FMTKEY                   cn=1,n=*X0
         5 000743   000040 200011 3                  ADSC9   PRECKEY                  cn=1,n=*X1
         5 000744   000762 600000 5                  TZE     s:750

      341      743    4                 PREC.V.N#=-1;   /* go back to the good match and read it in */

    743  5 000745   000001 335007                    LCA     1,DL
         5 000746   000025 755000 3                  STA     PREC+7

PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:81   
      342      744    4                 CALL M$PRECORD (PREC) ALTRET(MONALT);

    744  5 000747   000016 630400 3                  EPPR0   PREC
         5 000750   440003 713400                    CLIMB   alt,+16387
         5 000751   401000 401760                    pmme    nvectors=3
         5 000752   000760 702000 5                  TSX2    MONALT

      343      745    4                 CALL M$READ (READFMT) ALTRET(MONALT);

    745  5 000753   000000 630400 3                  EPPR0   READFMT
         5 000754   440000 713400                    CLIMB   alt,read
         5 000755   401400 401760                    pmme    nvectors=4
         5 000756   000760 702000 5                  TSX2    MONALT

      344      746    4                 EXIT;

    746  5 000757   000762 710000 5                  TRA     s:750

      345      747    4   MONALT:       PREC.V.N#=2;

    747  5 000760   000002 235007       MONALT       LDA     2,DL
         5 000761   000025 755000 3                  STA     PREC+7

      346      748    4                 END;

      347      749    3              END;

      348      750    2           READFMT.V.KEYS#='1'B;

    750  5 000762   200000 236007                    LDQ     65536,DL
         5 000763   000010 256000 3                  ORSQ    READFMT+8

      349      751    2           IF PREC.V.N#>=0 THEN PRECKEY.L=0;

    751  5 000764   000025 235000 3                  LDA     PREC+7
         5 000765   000770 604000 5                  TMI     s:752

PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:82   
    751  5 000766   000000 236003                    LDQ     0,DU
         5 000767   000040 552040 3                  STBQ    PRECKEY,'40'O

      350      752    2           IF PREC.V.N#=2 THEN ALTRETURN;

    752  5 000770   000002 115007                    CMPA    2,DL
         5 000771   000774 601000 5                  TNZ     s:753

    752  5 000772   200030 221300                    LDX1  ! SYM+18,,AUTO
         5 000773   000000 702211                    TSX2  ! 0,X1

      351      753    2   END TESTABBREV;

    753  5 000774   200030 221300                    LDX1  ! SYM+18,,AUTO
         5 000775   000001 702211                    TSX2  ! 1,X1

      352      754        %EJECT;
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:83   
      353      755    1   GETMEM: PROC ALTRET;

    755  5 000776   200026 741300       GETMEM       STX1  ! SYM+16,,AUTO

      354      756    2           MEMVEC.PTR$(0)->BUBIN=CNT(1);

    756  5 000777   200003 470500                    LDP0    @FDS,,AUTO
         5 001000   000012 471500                    LDP1    10,,PR0
         5 001001   100001 473500                    LDP3    1,,PR1
         5 001002   200004 474500                    LDP4    @CNT,,AUTO
         5 001003   400001 235100                    LDA     1,,PR4
         5 001004   300000 755100                    STA     0,,PR3

      355      757    2           IF DATSIZ=0 THEN RETURN;

    757  5 001005   000050 235000 3                  LDA     DATSIZ
         5 001006   001011 601000 5                  TNZ     s:757+4

    757  5 001007   200026 221300                    LDX1  ! SYM+16,,AUTO
         5 001010   000001 702211                    TSX2  ! 1,X1
         5 001011   001013 710000 5                  TRA     s:759

      356      758    2   FIXSIZ: ENTRY ALTRET;

    758  5 001012   200026 741300       FIXSIZ       STX1  ! SYM+16,,AUTO

      357      759    2           I=FDS.MEMX;

    759  5 001013   200003 470500                    LDP0    @FDS,,AUTO
         5 001014   000026 235100                    LDA     22,,PR0
         5 001015   200005 755100                    STA     I,,AUTO

      358      760    2           IF I=0 THEN I=1;

    760  5 001016   001022 601000 5                  TNZ     s:761

    760  5 001017   000001 236007                    LDQ     1,DL
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:84   
         5 001020   200005 756100                    STQ     I,,AUTO
         5 001021   001037 710000 5                  TRA     s:762

      359      761    2           ELSE FDS.MEMSZ=FDS.MEMSZ+DATSIZ*18-9-MEMVEC.BOUND(I)*9;

    761  5 001022   000050 236000 3                  LDQ     DATSIZ
         5 001023   000022 402007                    MPY     18,DL
         5 001024   000025 036100                    ADLQ    21,,PR0
         5 001025   000012 471500                    LDP1    10,,PR0
         5 001026   200032 756100                    STQ     SYM+20,,AUTO
         5 001027   200005 235100                    LDA     I,,AUTO
         5 001030   000001 735000                    ALS     1
         5 001031   100000 236105                    LDQ     0,AL,PR1
         5 001032   000020 772000                    QRL     16
         5 001033   000006 402000 6                  MPY     6
         5 001034   200032 036100                    ADLQ    SYM+20,,AUTO
         5 001035   000011 136007                    SBLQ    9,DL
         5 001036   000025 756100                    STQ     21,,PR0

      360      762    2           MEMVEC.BOUND(I)=DATSIZ*2-1;

    762  5 001037   000012 471500                    LDP1    10,,PR0
         5 001040   200005 235100                    LDA     I,,AUTO
         5 001041   000001 735000                    ALS     1
         5 001042   000050 236000 3                  LDQ     DATSIZ
         5 001043   000001 736000                    QLS     1
         5 001044   000001 136007                    SBLQ    1,DL
         5 001045   000020 736000                    QLS     16
         5 001046   100000 676105                    ERQ     0,AL,PR1
         5 001047   000034 376000 xsym               ANQ     B_VECTNIL+28
         5 001050   100000 656105                    ERSQ    0,AL,PR1

      361      763    2           CALL TCU$GETMEM (MEMVEC.PTR$(0)->BUBIN,MEMVEC.PTR$(I)->BUBIN,

    763  5 001051   000012 471500                    LDP1    10,,PR0
         5 001052   100001 473500                    LDP3    1,,PR1
         5 001053   200005 235100                    LDA     I,,AUTO
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:85   
         5 001054   000001 735000                    ALS     1
         5 001055   100001 474505                    LDP4    1,AL,PR1
         5 001056   000050 236000 3                  LDQ     DATSIZ
         5 001057   000001 736000                    QLS     1
         5 001060   200032 756100                    STQ     SYM+20,,AUTO
         5 001061   200032 631500                    EPPR1   SYM+20,,AUTO
         5 001062   200035 451500                    STP1    SYM+23,,AUTO
         5 001063   200034 454500                    STP4    SYM+22,,AUTO
         5 001064   200033 453500                    STP3    SYM+21,,AUTO
         5 001065   200033 630500                    EPPR0   SYM+21,,AUTO
         5 001066   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 001067   000000 701000 xent               TSX1    TCU$GETMEM
         5 001070   001073 702000 5                  TSX2    NOMEM

      362      764    2             DATSIZ*2) ALTRET(NOMEM);
      363      765    2           RETURN;

    765  5 001071   200026 221300                    LDX1  ! SYM+16,,AUTO
         5 001072   000001 702211                    TSX2  ! 1,X1

    762  5 001073                       NOMEM        null
      364      766    2   NOMEM:  ;
      365      767    2           ALTRETURN;

    767  5 001073   200026 221300                    LDX1  ! SYM+16,,AUTO
         5 001074   000000 702211                    TSX2  ! 0,X1

(unnamed)
 Sect OctLoc
   1     000   000000 000000   000000 000000   000000 000000   000000 000501    ................
   1     004   000000 000000   000000 000000   000000 006014   000000 006014    ................
   1     010   007072 106117   122115 101124   040040 040040   040040 040040    .:FORMAT
   1     014   040040 040040   040040 040040   040040 040040   040040 040040
   1     024*  040040 040040   040040 040040   115105 040040   040040 040040            ME
   1     030   040040 040040   000000 203015   000000 001000   000000 000000        ............
   1     034   000000 000000   000000 000000   000000 000002   000002 776003    ................
   1     040   001000 000000   000000 000002   000000 000000   000000 000000    ................
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:86   
   1     044   000000 000111   040040 040040   000000 006014   000000 006014    ...I    ........
   1     050   000000 006014   000000 000000   000000 000000   000000 006014    ................
   1     054   000000 000000   000000 000000   000000 000000   000000 000000    ................
   1     060   000000 010000   000000 000000   000000 000000   000000 000000    ................
   1     064   000000 000020   000000 000000   000000 006014   000000 000000    ................
   1     070   000000 000000   000000 000000   000000 000000   000000 000000    ................
   1     074   000000 000000   000000 006014   000000 000000   000000 000000    ................
   1     100   000000 000000   000000 000000   000000 000000   000000 000000    ................
   1     104   ****** ******   ****** ******   000000 000000   ****** ******    ................
   1     110   000000 000000   000000 000000   000000 000000   000000 000000    ................
   1     124*  000000 000000   000000 000000   000000 000000   ****** ******    ................
   1     134*  ****** ******   ****** ******   ****** ******   000000 070707    ..............8.
   1     140   ****** ******   ****** ******                                    ........

(unnamed)
 Sect OctLoc
   2     000   000000 000000   000000 000000   000000 000000   000000 000501    ................
   2     004   000000 000000   000000 000000   000000 006014   000000 006014    ................
   2     010   007072 106117   122115 101124   040040 040040   040040 040040    .:FORMAT
   2     014   040040 040040   040040 040040   040040 040040   040040 040040
   2     020   072123 131123   040040 040040   040040 040040   040040 040040    :SYS
   2     024   040040 040040   040040 040040   115105 040040   040040 040040            ME
   2     030   040040 040040   000000 203015   000000 001000   000000 000000        ............
   2     034   000000 000000   000000 000000   000000 000002   000002 776003    ................
   2     040   001000 000000   000000 000002   000000 000000   000000 000000    ................
   2     044   000000 000111   040040 040040   000000 006014   000000 006014    ...I    ........
   2     050   000000 006014   000000 000000   000000 000000   000000 006014    ................
   2     054   000000 000000   000000 000000   000000 000000   000000 000000    ................
   2     060   000000 010000   000000 000000   000000 000000   000000 000000    ................
   2     064   000000 000020   000000 000000   000000 006014   000000 000000    ................
   2     070   000000 000000   000000 000000   000000 000000   000000 000000    ................
   2     074   000000 000000   000000 006014   000000 000000   000000 000000    ................
   2     100   000000 000000   000000 000000   000000 000000   000000 000000    ................
   2     104   ****** ******   ****** ******   000000 000000   ****** ******    ................
   2     110   000000 000000   000000 000000   000000 000000   000000 000000    ................
   2     124*  000000 000000   000000 000000   000000 000000   ****** ******    ................
   2     134*  ****** ******   ****** ******   ****** ******   000000 070707    ..............8.
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:87   
   2     140   ****** ******   ****** ******                                    ........

READFMT
 Sect OctLoc
   3     000   000005 777640   000010 006000   000007 777640   000030 006000    ................
   3     004   000000 177640   000000 006014   000000 177640   000000 006014    ................
   3     010   000000 600000   000000 000000   000000 000000   000000 000000    ................
   3     014   000000 000000   000000 000000                                    ........

PREC
 Sect OctLoc
   3     016   000003 777640   000024 006000   000007 777640   000040 006000    ............. ..
   3     022   000000 177640   000000 006014   000000 200000   000000 000000    ................
   3     026   000000 000000   0***** ******                                    ........

FMTKEY
 Sect OctLoc
   3     030   000*** ******   ****** ******   ****** ******   ****** ******    ................
   3     034   ****** ******   ****** ******   ****** ******   ****** ******    ................

PRECKEY
 Sect OctLoc
   3     040   000*** ******   ****** ******   ****** ******   ****** ******    ................
   3     044   ****** ******   ****** ******   ****** ******   ****** ******    ................

DB_NXT$
 Sect OctLoc
   3     051   000000 006014                                                    ....

(unnamed)
 Sect OctLoc
   4     000   045050 045051   045051 040040   045057 106115   124040 156157    %(%)%)  %/FMT no
   4     004   164040 146157   165156 144040   151156 040106   115124 040146    t found in FMT f
   4     010   151154 145072   045057 116157   040162 157157   155040 146157    ile:%/No room fo
   4     014   162040 042156   145170 164042   040151 164145   155040 040040    r "next" item
   4     020   045057 116157   040156 145167   040106 115124   040156 141155    %/No new FMT nam
   4     024   145040 146157   165156 144040   151156 040040   045061 121040    e found in  %1Q
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:88   
   4     030   045057 104141   164141 040162   145161 165145   163164 040145    %/Data request e
   4     034   170143 145145   144163 040155   141170 151155   165155 040050    xceeds maximum (
   4     040   061060 062064   040167 157162   144163 051040   045057 104141    1024 words) %/Da
   4     044   164141 040162   145161 165145   163164 040156   157164 040151    ta request not i
   4     050   156040 144165   155160 146151   154145 056040   045057 123171    n dumpfile. %/Sy
   4     054   155142 157154   040156 157164   040146 157165   156144 072040    mbol not found:

(unnamed)
 Sect OctLoc
   6     000   056040 040040   045040 040040   000040 040040   000777 600000    .   %   .   ....
   6     004   000000 006003   777777 577777   777777 777767                    ............
      366      768    2   END GETMEM;
      367      769    1   END TCU$EDIT;
      368      770        %EOD;

PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:89   
--  Include file information  --

   XU_FORMAT_C.:LIBRARY  is referenced.
   CP_6.:LIBRARY  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure TCU$EDIT.
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:90   

 **** Variables and constants ****

  ****  Section 003  Data  TCU$EDIT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    50-0-0/w SBIN        r     1 DATSIZ                    51-0-0/w PTR         r     1 DB_NXT$
    30-0-0/c STRC(288)   r     1 FMTKEY                    16-0-0/d STRC(360)   r     1 PREC
    40-0-0/c STRC(288)   r     1 PRECKEY                    0-0-0/d STRC(504)   r     1 READFMT

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     4-0-0/w PTR         r     1 @CNT                       3-0-0/w PTR         r     1 @FDS
    *0-0-0/w SBIN        r     1 CNT(0:4)                  *0-0-0/w STRC(1080)  r     1 FDS
     5-0-0/w UBIN        r     1 I                          5-0-0/w PTR         r     1 I$
     6-0-0/c STRC(576)   r     1 SYM

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w UBIN        r     1 BUBIN                      0-0-0/c ACHR        r     1 BUF
     0-0-0/c CHAR        r     1 CHAR1                      0-0-0/c CHAR(4)     r     1 CHAR4
     0-0-0/c ACHR        r     1 CHARI                      0-0-0/w STRC(108)   r     1 CND
     0-0-0/w SBIN        r     1 DB_NXTX                    0-0-0/c ACHR        r     1 FMT
     0-0-0/d ASTR(3528)  r     1 M$FMT                      0-0-0/d ASTR(3528)  r     1 M$FMTSYS
     0-0-0/w STRC(72)    r     1 MEMVEC(0:0)                0-0-0/w ASTR(18)    r     1 TEXTH


   Procedure TCU$EDIT requires 573 words for executable code.
   Procedure TCU$EDIT requires 30 words of local(AUTO) storage.
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:91   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:92   
          MINI XREF LISTING

BADADDR IN PROCEDURE GETFMT
       724**ENTRY     634--CALL
BADADR
       634**LABEL     631--CALLALT   638--CALLALT
BADFMT IN PROCEDURE GETFMT
       714**LABEL     671--CALLALT
BADSIZ IN PROCEDURE GETFMT
       722**LABEL     705--GOTO
BADSIZE IN PROCEDURE GETFMT
       721**ENTRY     627--CALL
BUBIN
       596**DCL       630<<ASSIGN    700>>ASSIGN    703>>IF        704>>ASSIGN    756<<ASSIGN    763<>CALL
       763<>CALL
BUF
       589**DCL       618>>CALLBLT   619<<ASSIGN    646<<ASSIGN
CHAR1 IN PROCEDURE GETFMT
       669**DCL       677<<ASSIGN
CHAR4 IN PROCEDURE GETFMT
       668**DCL       674<<ASSIGN    674>>ASSIGN
CHARI IN PROCEDURE GETFMT
       670**DCL       676<<ASSIGN    676>>ASSIGN
CND.FLG
       604**DCL       640>>IF        640>>IF        640>>IF
CNT
       582**DCL         6--PROC      616>>DOCASE    622>>IF        625>>ASSIGN    630>>IF        630>>ASSIGN
       638>>IF        640>>IF        640>>IF        640>>IF        640>>IF        640>>IF        645<>CALL
       645<>CALL      648<<ASSIGN    648>>ASSIGN    650<<ASSIGN    672>>IF        674--ASSIGN    703>>IF
       756>>ASSIGN
DAS$EDSRCHPTR
       608**DCL-ENT   658--CALL
DAS$IC2PEDOFS
       606**DCL-ENT   645--CALL
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:93   
DAS$SDSRCHPTR
       607**DCL-ENT   657--CALL
DATSIZ
       595**DCL       614<<ASSIGN    625<<ASSIGN    626>>IF        631>>IF        704<<ASSIGN    705>>IF
       719<<ASSIGN    757>>IF        761>>ASSIGN    762>>ASSIGN    763>>CALL
DB_NXT$
       610**DCL       601--IMP-PTR   622>>IF        673>>IF        674>>ASSIGN    674>>ASSIGN    675>>ASSIGN
       675>>ASSIGN    676>>ASSIGN    676>>ASSIGN    677>>ASSIGN    677>>ASSIGN
DB_NXTX
       601**DCL       673>>IF        674>>ASSIGN    675<<ASSIGN    675>>ASSIGN    676>>ASSIGN    677>>ASSIGN
FDS
       483**DCL         6--PROC
FDS.BAILOUT
       555**DCL       643>>UNWIND
FDS.BUFSIZE
       509**DCL       589--IMP-SIZ   618>>CALLBLT   619>>ASSIGN    646>>ASSIGN    647>>ASSIGN
FDS.BUFX
       507**DCL       618>>CALLBLT   646>>ASSIGN    647<<ASSIGN    647>>ASSIGN
FDS.BUF_.BUF$
       503**DCL       589--IMP-PTR   618>>CALLBLT   619>>ASSIGN    646>>ASSIGN
FDS.FMTSIZE
       498**DCL       588--IMP-SIZ   612>>IF        654>>CALLBLT   656>>ASSIGN    671>>CALLBLT   676>>ASSIGN
       680>>IF        682>>ASSIGN    700<<ASSIGN    702>>IF        706>>ASSIGN    710>>ASSIGN    712>>ASSIGN
       714>>ASSIGN    715>>ASSIGN    717<<ASSIGN    718>>ASSIGN    722>>ASSIGN    725>>ASSIGN    728>>ASSIGN
       729>>ASSIGN
FDS.FMTX
       494**DCL       654>>CALLBLT   656>>ASSIGN    671>>CALLBLT   676>>ASSIGN    680>>IF        682>>ASSIGN
       708<<ASSIGN    716<<ASSIGN
FDS.FMT_.FMT$
       490**DCL       588--IMP-PTR   612>>IF        654>>CALLBLT   656>>ASSIGN    671>>CALLBLT   676>>ASSIGN
       680>>IF        682>>ASSIGN    683>>ASSIGN    703>>IF        704>>ASSIGN    706>>ASSIGN    710>>ASSIGN
       712>>ASSIGN    714>>ASSIGN    715>>ASSIGN    718>>ASSIGN    722>>ASSIGN    725>>ASSIGN    728>>ASSIGN
       729>>ASSIGN
FDS.MEMSZ
       561**DCL       761<<ASSIGN    761>>ASSIGN
FDS.MEMX
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:94   
       563**DCL       759>>ASSIGN
FDS.USERDAT1#
       578**DCL       657<>CALL      658<>CALL
FDS.VECTR$
       513**DCL       584--IMP-PTR   630>>ASSIGN    640>>IF        640>>IF        640>>IF        756>>ASSIGN
       761>>ASSIGN    762>>ASSIGN    763>>CALL      763>>CALL
FIXSIZ IN PROCEDURE GETMEM
       758**ENTRY     631--CALL
FMT
       588**DCL       612>>IF        654>>CALLBLT   656>>ASSIGN    671>>CALLBLT   676--ASSIGN    680>>IF
       682>>ASSIGN    703--IF        704--ASSIGN    706<<ASSIGN    710<<ASSIGN    712<<ASSIGN    714<<ASSIGN
       715<<ASSIGN    718<<ASSIGN    722<<ASSIGN    725<<ASSIGN    728<<ASSIGN    729<<ASSIGN
FMTKEY
       462**DCL       419--DCLINIT   420--DCLINIT
FMTKEY.L
       463**DCL       613<<ASSIGN    680>>IF        681<<ASSIGN    696<<ASSIGN    739>>IF        739>>IF
       742>>IF        742>>IF
FMTKEY.T
       464**DCL       680>>IF        682<<ASSIGN    715>>ASSIGN    739>>IF        742>>IF
GETFMT
       666**PROC      623--CALL      637--CALL
GETMEM
       755**PROC      633--CALL      638--CALL
I
       590**DCL       591--REDEF     618<<CALLBLT   619>>ASSIGN    654<<CALLBLT   655>>ASSIGN    656>>ASSIGN
       670--IMP-SIZ   671<<CALLBLT   673>>IF        675>>ASSIGN    676>>ASSIGN    676>>ASSIGN    677>>ASSIGN
       680>>IF        680>>IF        681>>ASSIGN    682>>ASSIGN    759<<ASSIGN    760>>IF        760<<ASSIGN
       761>>ASSIGN    762>>ASSIGN    763>>CALL
I$
       591**DCL       645<>CALL      646>>ASSIGN    646>>ASSIGN    647>>ASSIGN
M$FMT
       253**DCL       693>>ASSIGN    695--IF        695>>ASSIGN    701--IF        701>>ASSIGN
M$FMT.ACTPOS
       294**DCL       294--REDEF
M$FMT.ARS#
       253**DCL       253--REDEF
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:95   
M$FMT.ATTR#
       283**DCL       283--REDEF     285--REDEF
M$FMT.BORROW
       305**DCL       305--REDEF     305--REDEF     305--REDEF
M$FMT.DCBNAME.L
       324**DCL       324--IMP-SIZ   693>>ASSIGN    695>>IF        695>>ASSIGN    701>>IF        701>>ASSIGN
M$FMT.EOMCHAR#
       260**DCL       261--REDEF
M$FMT.FCD#
       275**DCL       695>>IF        701>>IF
M$FMT.FLDID
       297**DCL       298--REDEF
M$FMT.FORM$
       289**DCL       289--REDEF
M$FMT.FSECT
       312**DCL       312--REDEF
M$FMT.FSN#
       279**DCL       279--REDEF     279--REDEF     280--REDEF
M$FMT.HEADER$
       288**DCL       289--REDEF
M$FMT.IXTNSIZE#
       285**DCL       286--REDEF
M$FMT.LASTSTA$
       269**DCL       269--REDEF
M$FMT.LVL
       306**DCL       306--REDEF
M$FMT.NAME#.C
       269**DCL       270--REDEF
M$FMT.NOEOF
       301**DCL       301--REDEF
M$FMT.NRECS#
       286**DCL       286--REDEF
M$FMT.NRECX
       313**DCL       313--REDEF
M$FMT.OHDR
       302**DCL       302--REDEF
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:96   
M$FMT.ORG#
       277**DCL       278--REDEF
M$FMT.PRECNO
       310**DCL       310--REDEF
M$FMT.RCSZ
       318**DCL       318--REDEF
M$FMT.RES#
       271**DCL       271--REDEF
M$FMT.SETX
       290**DCL       290--REDEF
M$FMT.TAB$
       289**DCL       289--REDEF
M$FMT.TDA
       309**DCL       310--REDEF
M$FMT.WSN#
       271**DCL       272--REDEF
M$FMTSYS
       327**DCL       687>>IF        690>>ASSIGN
M$FMTSYS.ACTPOS
       368**DCL       368--REDEF
M$FMTSYS.ARS#
       327**DCL       327--REDEF
M$FMTSYS.ATTR#
       357**DCL       357--REDEF     359--REDEF
M$FMTSYS.BORROW
       379**DCL       379--REDEF     379--REDEF     379--REDEF
M$FMTSYS.DCBNAME.L
       398**DCL       398--IMP-SIZ   687>>IF        690>>ASSIGN
M$FMTSYS.EOMCHAR#
       334**DCL       335--REDEF
M$FMTSYS.FLDID
       371**DCL       372--REDEF
M$FMTSYS.FORM$
       363**DCL       363--REDEF
M$FMTSYS.FSECT
       386**DCL       386--REDEF
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:97   
M$FMTSYS.FSN#
       353**DCL       353--REDEF     353--REDEF     354--REDEF
M$FMTSYS.HEADER$
       362**DCL       363--REDEF
M$FMTSYS.IXTNSIZE#
       359**DCL       360--REDEF
M$FMTSYS.LASTSTA$
       343**DCL       343--REDEF
M$FMTSYS.LVL
       380**DCL       380--REDEF
M$FMTSYS.NAME#.C
       343**DCL       344--REDEF
M$FMTSYS.NOEOF
       375**DCL       375--REDEF
M$FMTSYS.NRECS#
       360**DCL       360--REDEF
M$FMTSYS.NRECX
       387**DCL       387--REDEF
M$FMTSYS.OHDR
       376**DCL       376--REDEF
M$FMTSYS.ORG#
       351**DCL       352--REDEF
M$FMTSYS.PRECNO
       384**DCL       384--REDEF
M$FMTSYS.RCSZ
       392**DCL       392--REDEF
M$FMTSYS.RES#
       345**DCL       345--REDEF
M$FMTSYS.SETX
       364**DCL       364--REDEF
M$FMTSYS.TAB$
       363**DCL       363--REDEF
M$FMTSYS.TDA
       383**DCL       384--REDEF
M$FMTSYS.WSN#
       345**DCL       346--REDEF
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:98   
M$PRECORD
        21**DCL-ENT   738--CALL      741--CALL      744--CALL
M$READ
        18**DCL-ENT   685--CALL      691--CALL      745--CALL
MEMVEC.BOUND
       585**DCL       761>>ASSIGN    762<<ASSIGN
MEMVEC.PTR$
       587**DCL       630>>ASSIGN    640>>IF        640>>IF        640>>IF        756>>ASSIGN    763>>CALL
       763>>CALL
MONALT IN PROCEDURE TESTABBREV
       747**LABEL     738--CALLALT   741--CALLALT   744--CALLALT   745--CALLALT
NOFMT IN PROCEDURE GETFMT
       710**LABEL     688--GOTO      697--GOTO      702--GOTO
NOFMT1 IN PROCEDURE GETFMT
       715**LABEL     711--GOTO      713--GOTO
NOFMT2 IN PROCEDURE GETFMT
       716**LABEL     723--GOTO      726--GOTO      730--GOTO
NOMEM IN PROCEDURE GETMEM
       762**LABEL     763--CALLALT
NOROOM IN PROCEDURE GETFMT
       712**LABEL     673--GOTO
NOSYMBOL IN PROCEDURE GETFMT
       727**ENTRY     659--CALL
PREC
       452**DCL       738<>CALL      741<>CALL      744<>CALL
PREC.V
       454**DCL       452--DCLINIT
PREC.V.DCB#
       454**DCL       734<<ASSIGN
PREC.V.N#
       458**DCL       735<<ASSIGN    740<<ASSIGN    743<<ASSIGN    747<<ASSIGN    751>>IF        752>>IF
PRECKEY
       465**DCL       452--DCLINIT   453--DCLINIT   736<<ASSIGN
PRECKEY.L
       466**DCL       688>>IF        692>>IF        694>>IF        751<<ASSIGN
PRECKEY.T
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:99   
       467**DCL       739>>IF        742>>IF
READFMT
       419**DCL       685<>CALL      691<>CALL      745<>CALL
READFMT.BUF_.BOUND
       421**DCL       684<<ASSIGN
READFMT.BUF_.BUF$
       422**DCL       683<<ASSIGN
READFMT.STATION_
       422**DCL       423--REDEF
READFMT.V
       423**DCL       419--DCLINIT
READFMT.V.DCB#
       423**DCL       687>>IF        690<<ASSIGN    693<<ASSIGN    695<<ASSIGN    700--ASSIGN    701<<ASSIGN
       734>>ASSIGN
READFMT.V.DVBYTE.REREAD#
       434**DCL       434--REDEF
READFMT.V.INDX#
       432**DCL       432--REDEF
READFMT.V.KEYS#
       424**DCL       737<<ASSIGN    750<<ASSIGN
SYM
       592**DCL       657<>CALL      658<>CALL
SYM.L
       593**DCL       655<<ASSIGN
SYM.T
       594**DCL       656<<ASSIGN    729>>ASSIGN
TCU$GETMEM
       609**DCL-ENT   763--CALL
TESTABBREV
       733**PROC      686--CALL      692--CALL
TEXTH.C
       599**DCL       600--IMP-SIZ   646>>ASSIGN    647>>ASSIGN
TEXTH.T
       600**DCL       646>>ASSIGN
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:100  
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:101  
              MINI UREF LISTING

BADADR IN PROCEDURE GETFMT    725**LABEL
BAD_SYM     659**LABEL
BHBIN     597**DCL
M$ACCT      34**DCL-ENT
M$ACTIVATE      37**DCL-ENT
M$ALIB      30**DCL-ENT
M$ASUSER      32**DCL-ENT
M$ATTACH      39**DCL-ENT
M$BADPP      57**DCL-ENT
M$CGCTL      38**DCL-ENT
M$CGINFO      38**DCL-ENT
M$CHECK      19**DCL-ENT
M$CHGUNIT      77**DCL-ENT
M$CLOSE      17**DCL-ENT
M$CLRSTK      75**DCL-ENT
M$CMDVAR      86**DCL-ENT
M$CONFIG      47**DCL-ENT
M$CORRES      22**DCL-ENT
M$CPEXIT      31**DCL-ENT
M$CVM      55**DCL-ENT
M$CVOL      20**DCL-ENT
M$DCLFLD      47**DCL-ENT
M$DEACTIVATE      37**DCL-ENT
M$DELREC      19**DCL-ENT
M$DEQ      84**DCL-ENT
M$DETACH      39**DCL-ENT
M$DEVICE      21**DCL-ENT
M$DISPLAY      84**DCL-ENT
M$DISPRES      24**DCL-ENT
M$DLIB      30**DCL-ENT
M$DRIBBLE      47**DCL-ENT
M$DRTN      75**DCL-ENT
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:102  
M$DSUSER      32**DCL-ENT
M$ENQ      83**DCL-ENT
M$EOM      42**DCL-ENT
M$ERASE      48**DCL-ENT
M$ERR      29**DCL-ENT
M$ERRMSG      80**DCL-ENT
M$EVENT      72**DCL-ENT
M$EXHUME      81**DCL-ENT
M$EXIT      29**DCL-ENT
M$EXTEND      21**DCL-ENT
M$FDP      53**DCL-ENT
M$FDS      52**DCL-ENT
M$FEBOOT      45**DCL-ENT
M$FECTL      46**DCL-ENT
M$FEDUMP      45**DCL-ENT
M$FID      80**DCL-ENT
M$FINDPROC      34**DCL-ENT
M$FSUSER      32**DCL-ENT
M$FVP      54**DCL-ENT
M$FWCG      38**DCL-ENT
M$GBPL      58**DCL-ENT
M$GDDL      54**DCL-ENT
M$GDP      53**DCL-ENT
M$GDS      52**DCL-ENT
M$GETDCB      23**DCL-ENT
M$GETMOUSE      63**DCL-ENT
M$GETPM      64**DCL-ENT
M$GJOB      82**DCL-ENT
M$GLINEATTR      42**DCL-ENT
M$GOODPP      57**DCL-ENT
M$GPLATEN      50**DCL-ENT
M$GPROMPT      49**DCL-ENT
M$GTRMATTR      43**DCL-ENT
M$GTRMCTL      41**DCL-ENT
M$GTRMTAB      44**DCL-ENT
M$GVP      53**DCL-ENT
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:103  
M$HELP      80**DCL-ENT
M$INT      72**DCL-ENT
M$INTRTN      33**DCL-ENT
M$IOQ      68**DCL-ENT
M$JOBSTATS      82**DCL-ENT
M$KEYIN      22**DCL-ENT
M$LDEV      17**DCL-ENT
M$LDTRC      30**DCL-ENT
M$LIMIT      23**DCL-ENT
M$LINES      22**DCL-ENT
M$LINK      29**DCL-ENT
M$MADMUCK      25**DCL-ENT
M$MAKUSER      56**DCL-ENT
M$MBS      24**DCL-ENT
M$MDFFLD      48**DCL-ENT
M$MERC      73**DCL-ENT
M$MERCS      74**DCL-ENT
M$MIRROR      68**DCL-ENT
M$MONINFO      85**DCL-ENT
M$MPL      58**DCL-ENT
M$NODEINFO      49**DCL-ENT
M$NXTUSR      83**DCL-ENT
M$OCMSG      81**DCL-ENT
M$OLAY      29**DCL-ENT
M$OPEN      17**DCL-ENT
M$PAS      58**DCL-ENT
M$PATHCON      81**DCL-ENT
M$PDS      52**DCL-ENT
M$PFIL      19**DCL-ENT
M$PLATEN      43**DCL-ENT
M$PROCNAME      34**DCL-ENT
M$PROFILE      45**DCL-ENT
M$PROMPT      41**DCL-ENT
M$RACST      25**DCL-ENT
M$RDSYSLOG      66**DCL-ENT
M$RELDCB      23**DCL-ENT
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:104  
M$RELRES      24**DCL-ENT
M$RELSTARF      26**DCL-ENT
M$REM      26**DCL-ENT
M$RENV      73**DCL-ENT
M$REQUIRE      25**DCL-ENT
M$RETRY      74**DCL-ENT
M$RETRYS      74**DCL-ENT
M$REW      20**DCL-ENT
M$RLSFLD      48**DCL-ENT
M$RPRIV      76**DCL-ENT
M$RSPP      55**DCL-ENT
M$RSWITCH      77**DCL-ENT
M$RUE      83**DCL-ENT
M$SAD      56**DCL-ENT
M$SAVE      32**DCL-ENT
M$SCON      33**DCL-ENT
M$SCREECH      31**DCL-ENT
M$SENV      73**DCL-ENT
M$SETFMA      17**DCL-ENT
M$SETFP      46**DCL-ENT
M$SINPUT      44**DCL-ENT
M$SLCFLD      49**DCL-ENT
M$SMOUSE      63**DCL-ENT
M$SMPRT      55**DCL-ENT
M$SPRIV      76**DCL-ENT
M$SSC      56**DCL-ENT
M$SSWITCH      76**DCL-ENT
M$STATE      85**DCL-ENT
M$STD      57**DCL-ENT
M$STIMER      71**DCL-ENT
M$STLPP      54**DCL-ENT
M$STRAP      71**DCL-ENT
M$STRMATTR      43**DCL-ENT
M$STRMCTL      41**DCL-ENT
M$STRMTAB      44**DCL-ENT
M$SYMBIO      82**DCL-ENT
PL6.E3A0      #002=TCU$EDIT File=TCU$UNLZ.:TCA2TSI                               SUN 11/16/97 14:26 Page:105  
M$SYSCON      68**DCL-ENT
M$SYSID      86**DCL-ENT
M$TDCLOSE      67**DCL-ENT
M$TDIO      67**DCL-ENT
M$TDOPEN      66**DCL-ENT
M$TDREQCPU      67**DCL-ENT
M$TEMPWROC      61**DCL-ENT
M$TIME      84**DCL-ENT
M$TRAP      71**DCL-ENT
M$TRMISC      46**DCL-ENT
M$TRMPRG      42**DCL-ENT
M$TRTN      75**DCL-ENT
M$TRUNC      18**DCL-ENT
M$TTIMER      71**DCL-ENT
M$UC      41**DCL
M$UMPL      58**DCL-ENT
M$UNFID      80**DCL-ENT
M$UNLATCH      37**DCL-ENT
M$UNSHARE      34**DCL-ENT
M$USRFIELD      77**DCL-ENT
M$VIRTUAL      52**DCL-ENT
M$WAIT      75**DCL-ENT
M$WEOF      20**DCL-ENT
M$WRITE      18**DCL-ENT
M$WRSYSLOG      66**DCL-ENT
M$XCON      72**DCL-ENT
M$XCONRTN      33**DCL-ENT
M$XEQTIME      85**DCL-ENT
M$XFLUSH      26**DCL-ENT
M$XMOUSE      63**DCL-ENT
M$XXX      29**DCL-ENT
M$YC      31**DCL-ENT
TCU$EDIT       6**PROC

PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:106  
      369        1        /*T***********************************************************/
      370        2        /*T*                                                         */
      371        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      372        4        /*T*                                                         */
      373        5        /*T***********************************************************/
      374        6        TCU$MAKESYMS: PROC(SYM) ALTRET;
      375        7        %INCLUDE XU_MACRO_C;
      376     3113        %PARSE$SYM (NAME=SYM, STCLASS=PARAM);
      377     3151        /**/
      378     3152        %INCLUDE DA_SYMBOLS_R;
      379     3165        %INCLUDE B$OBJECT_C;
      380     6595        %INCLUDE CP_6;
      381     6676        %INCLUDE CP_6_SUBS;
      382     7216        %INCLUDE B_ERRORS_C;
      383     8343    1   DCL F$SYMBOL DCB;
      384     8344    1   DCL M$DUMPFILE DCB;
      385     8345        /**/
      386     8346        /* LOCAL DATA */
      387     8347        /**/
      388     8348    1   DCL SEGSIZE SBIN;
      389     8349    1   DCL I SBIN;
      390     8350    1   DCL J SBIN;
      391     8351    1   DCL K SBIN;
      392     8352    1   DCL CSIZE SBIN;
      393     8353    1   DCL CBASE CHAR(CSIZE) BASED;
      394     8354        %B$EDEF(NAME=EDEF, STCLASS=AUTO);
      395     8424    1   DCL INBUF CHAR(256);
      396     8425        /**/
      397     8426        /* STATIC, CONSTANT, FPTS */
      398     8427        /**/
      399     8428        %VLP_NAME;
      400     8455        %VLP_ACCT;
      401     8468        %VLP_PASS;
      402     8481        %VLP_SN;
      403     8494        %VLP_WSN;
      404     8507        %VLR_FID;
      405     8526        %FPT_OPEN (DCB=F$SYMBOL,
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:107  
      406     8527                   NAME=VLP_NAME,
      407     8528                   ACCT=VLP_ACCT,
      408     8529                   PASS=VLP_PASS,
      409     8530                   SN=VLP_SN,
      410     8531                   WSN=VLP_WSN,
      411     8532                   FUN=IN);
      412     8641        %FPT_OPEN (FPTN=AN_NEXT,
      413     8642                   DCB=M$DUMPFILE,
      414     8643                   FUN=IN,
      415     8644                   NXTF=YES,
      416     8645                   STCLASS=CONSTANT);
      417     8754        %FPT_OPEN (FPTN=AN_PREV,
      418     8755                   DCB=M$DUMPFILE,
      419     8756                   FUN=IN,
      420     8757                   NXTF=YES, REV=YES,
      421     8758                   STCLASS=CONSTANT);
      422     8867        %FPT_READ (DCB=F$SYMBOL);
      423     8906        %FPT_CLOSE (FPTN=CLOSE_SYM, DCB=F$SYMBOL, STCLASS=CONSTANT);
      424     8948        %FPT_CLOSE (FPTN=CLOSE_DUMP, DCB=M$DUMPFILE, STCLASS=CONSTANT);
      425     8990        %FPT_CLOSE (FPTN=DELETE_DUMP, DCB=M$DUMPFILE, STCLASS=CONSTANT, DISP=SCRATCH);
      426     9032        %FPT_OPEN (FPTN=UPDATE_DUMP, DCB=M$DUMPFILE, STCLASS=CONSTANT, FUN=UPDATE);
      427     9141        %FPT_CLOSE (FPTN=RENAME_DUMP, DCB=M$DUMPFILE, STCLASS=CONSTANT, CHGATT=YES,
      428     9142                    NAME=VLP_NAME);
      429     9184        %F$DCB;
      430     9241        %FPT_FID (ASN="FPT_OPEN.V.ASN#",
      431     9242                  NAME=VLP_NAME,
      432     9243                  PASS=VLP_PASS,
      433     9244                  ACCT=VLP_ACCT,
      434     9245                  SN=VLP_SN,
      435     9246                  RES="FPT_OPEN.V.RES#",
      436     9247                  RESULTS=VLR_FID,
      437     9248                  WSN=VLP_WSN);
      438     9271        %FPT_GDS (RESULTS=DA_SYMSEG);
      439     9287    1   DCL NXTBUF SBIN SYMREF;
      440     9288    1   DCL FDS SBIN SYMREF;
      441     9289    1   DCL X$WRITE ENTRY(22);
      442     9290    1   DCL DUMPDCB SBIN CONSTANT INIT(DCBNUM(M$DUMPFILE));
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:108  
      443     9291    1   DCL AN_FMT CONSTANT CHAR(0) INIT('Anlzing %.3F');
      444     9292    1   DCL B$TCB$ PTR SYMREF;
      445     9293        %B$TCB (STCLASS="BASED(B$TCB$)");
      446     9296        %B$ALT;
      447     9304        %B$EDEF(STCLASS="BASED(ENT$)");
      448     9374        %B$DNAME(NAME=DNAME,STCLASS="BASED(NAME$)");
      449     9393    1   DCL DCB$ PTR;
      450     9394    1   DCL ENT$ PTR;
      451     9395    1   DCL NAME$ PTR;
      452     9396        %EJECT;
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:109  
      453     9397    1           DA_SDCTL(0)='0'B;
      454     9398    1           DA_EDCTL(0)='0'B;
      455     9399    1           DA_ENTDEF$=ADDR(NIL);
      456     9400    1           DA_SYMDEF$=ADDR(NIL);
      457     9401    1           DA_ALTSHI=0;
      458     9402    1           DA_ALTSYM=0;
      459     9403    1           FPT_READ.BUF_=VECTOR(INBUF);
      460     9404    1           FPT_FID.TEXTFID_=VECTOR(NIL);
      461     9405    1           FPT_OPEN.V.DCB#=DCBNUM(F$SYMBOL);
      462     9406    2           IF ADDR(SYM)~=ADDR(NIL) THEN DO;
      463     9407    2              IF SYM.COUNT>0 THEN FPT_FID.TEXTFID_=VECTOR(SYM.TEXT);
      464     9408    2              CALL M$FID(FPT_FID) ALTRET(PMMEALT);
      465     9409        /*         IF NOT VLR_FID.ACCT THEN VLP_ACCT.ACCT#=DA_DFLTACCT; */
      466     9410    2              CALL M$CLOSE(CLOSE_SYM);
      467     9411    2              CALL M$OPEN(FPT_OPEN) ALTRET(PMMEALT);
      468     9412    2              END;
      469     9413    1           DCB$=DCBADDR(DCBNUM(F$SYMBOL));
      470     9414    1           IF DCB$->F$DCB.ASN#~=%FILE# THEN RETURN;
      471     9415    1           CALL M$READ(FPT_READ) ALTRET(PMMEALT);
      472     9416    1           SEGSIZE=DCB$->F$DCB.NRECS#;
      473     9417    1           SEGSIZE=((SEGSIZE*7+1023)/1024)*1024;
      474     9418    1           I=SEGSIZE-((DA_SYMSEG.BOUND+1)/4);
      475     9419    2           IF I>0 THEN DO;
      476     9420    2              FPT_GDS.V.SEGSIZE#=I;
      477     9421    2              CALL M$GDS(FPT_GDS) ALTRET(PMMEALT);
      478     9422    2              END;
      479     9423    2           ELSE IF I<0 THEN DO;
      480     9424    2                 FPT_GDS.V.SEGSIZE#=-I;
      481     9425    2                 CALL M$FDS(FPT_GDS) ALTRET(PMMEALT);
      482     9426    2                 END;
      483     9427    1           DA_DNAME$=DA_SYMSEG.P$;
      484     9428    1           NAME$=DA_DNAME$;
      485     9429    1           DA_SYMDEF$=PINCRW(NAME$,SEGSIZE);
      486     9430    1           DA_ENTDEF$=DA_SYMDEF$;
      487     9431    1   NEXT_REC: ;
      488     9432    1           INBUF=' ';
      489     9433    1           CALL M$READ (FPT_READ) ALTRET(PMMEALT);
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:110  
      490     9434    1           IF SUBSTR(INBUF,0,1)='_' THEN INBUF=SUBSTR(INBUF,1);
      491     9435    1           CALL INDEX (I,'|',INBUF) ALTRET(NEXT_REC);
      492     9436    1           CALL INDEX (J,'|',INBUF,I+1) ALTRET(NEXT_REC);
      493     9437    1           IF SUBSTR(INBUF,I,J-I)='|' THEN GOTO NEXT_REC; /* no address */
      494     9438    1           SUBSTR(DNAME.TEXT,0,I)=INBUF;
      495     9439    1           CALL INDEX(K, ' ',SUBSTR(INBUF,0,I));
      496     9440    1           DNAME.COUNT = K;
      497     9441    1           EDEF='0'B;
      498     9442    1           EDEF.NPOINTER=POFFW(NAME$,DA_DNAME$);
      499     9443    1           NAME$=PINCRW(NAME$,SIZEW(DNAME));
      500     9444    2           DO UNTIL SUBSTR(INBUF,I,1)>='0';
      501     9445    2              I=I+1;
      502     9446    2              END;
      503     9447    2           IF SUBSTR(INBUF,I,1)='0' THEN DO;
      504     9448    2              I=I+1;
      505     9449    2              J=8;
      506     9450    2              IF SUBSTR(INBUF,I,1)~='x' THEN EXIT;
      507     9451    2              J=16;
      508     9452    2              I=I+1;
      509     9453    2              END;
      510     9454    1           ELSE J=10;
      511     9455    1           K=0;                            /* Accumulate the value */
      512     9456    2           DO WHILE '1'B;
      513     9457    2              CSIZE=ASCBIN(SUBSTR(INBUF,I,1));
      514     9458    2              IF CSIZE = ASCBIN('|') THEN EXIT;
      515     9459    2              K=K*J;
      516     9460    2              IF CSIZE<=ASCBIN('9') THEN K=K+CSIZE-ASCBIN('0');
      517     9461    2              ELSE IF CSIZE<=ASCBIN('F') THEN K=K+CSIZE+10-ASCBIN('A');
      518     9462    2                 ELSE IF CSIZE<=ASCBIN('f') THEN K=K+CSIZE+10-ASCBIN('a');
      519     9463    2              I=I+1;
      520     9464    2              END;
      521     9465    1           EDEF.ISADDR=K;
      522     9466    1           EDEF.PRI='1'B;
      523     9467    1           ENT$=DA_ENTDEF$;
      524     9468    2           DO WHILE ENT$<DA_SYMDEF$;
      525     9469    2              IF PINCRW(DA_DNAME$,B$EDEF.NPOINTER)->DNAME.TEXT>INBUF THEN EXIT;
      526     9470    2              ENT$=PINCRW(ENT$,SIZEW(EDEF));
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:111  
      527     9471    2              END;
      528     9472    2           IF ENT$>DA_ENTDEF$ THEN DO;
      529     9473    2              CSIZE=POFFC(ENT$,DA_ENTDEF$);
      530     9474    2              PINCRW(DA_ENTDEF$,-SIZEW(EDEF))->CBASE=DA_ENTDEF$->CBASE;
      531     9475    2              END;
      532     9476    1           DA_ENTDEF$=PINCRW(DA_ENTDEF$,-SIZEW(EDEF));
      533     9477    1           PINCRW(ENT$,-SIZEW(EDEF))->B$EDEF=EDEF;
      534     9478    1           IF POFFW(DA_ENTDEF$,NAME$)>16 THEN GOTO NEXT_REC;
      535     9479    1   PMMEALT:;
      536     9480    1           DA_EDCTL.STOP(0)=POFFW(DA_SYMDEF$,DA_ENTDEF$)/SIZEW(EDEF);
      537     9481    1           DA_SYMDEF$=ADDR(NIL);
      538     9482    1           IF B$TCB.ALT$->B$ALT.ERR.CODE~=6 THEN ALTRETURN;
      539     9483    1           RETURN;
      540     9484        %EJECT;
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:112  
      541     9485    1   TCU$ANLZ: ENTRY (SYM) ALTRET;
      542     9486    1           NXTBUF=-1;
      543     9487    2           IF ADDR(SYM)=ADDR(NIL) THEN DO;
      544     9488    2              CALL M$REW (CLOSE_DUMP) ALTRET (PMMEALT1);
      545     9489    2              RETURN;
      546     9490    2              END;
      547     9491    1           CALL M$CLOSE (CLOSE_DUMP);
      548     9492    2           IF SYM.CODE>=2 THEN DO;
      549     9493    2              IF SYM.CODE>2 THEN CALL M$OPEN (AN_PREV) ALTRET(PMMEALT1);
      550     9494    2              ELSE CALL M$OPEN (AN_NEXT) ALTRET(PMMEALT1);
      551     9495    2              CALL X$WRITE (FDS,VECTOR(AN_FMT),VECTOR(DUMPDCB));
      552     9496    2              END;
      553     9497    2           ELSE DO;
      554     9498    2              FPT_FID.TEXTFID_=VECTOR(SYM.TEXT);
      555     9499    2              CALL M$FID (FPT_FID) ALTRET (PMMEALT1);
      556     9500    2              FPT_OPEN.V.DCB#=DCBNUM(M$DUMPFILE);
      557     9501    3              CALL M$OPEN (FPT_OPEN) WHENALTRETURN DO;
      558     9502    3   PMMEALT1:     ALTRETURN;
      559     9503    3                 END;
      560     9504    2              END;
      561     9505    1           RETURN;
      562     9506        %EJECT;
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:113  
      563     9507    1   TCU$DELETE: ENTRY ALTRET;
      564     9508    1           NXTBUF=-1;
      565     9509    1           CALL M$CLOSE (DELETE_DUMP) ALTRET(PMMEALT1);
      566     9510    1           RETURN;
      567     9511
      568     9512    1   TCU$RENAME: ENTRY (SYM) ALTRET;
      569     9513    1           NXTBUF=-1;
      570     9514    1           DCB$=DCBADDR(DCBNUM(M$DUMPFILE));
      571     9515    1           CALL CONCAT (VLP_NAME.NAME#,SYM.TEXT,'_',DCB$->F$DCB.NAME#.C);
      572     9516    1           VLP_NAME.L#=SYM.COUNT+1+DCB$->F$DCB.NAME#.L;
      573     9517    1           CALL M$CLOSE (CLOSE_DUMP) ALTRET(PMMEALT1);
      574     9518    1           CALL M$OPEN (UPDATE_DUMP) ALTRET(PMMEALT1);
      575     9519    1           CALL M$CLOSE (RENAME_DUMP) ALTRET(PMMEALT1);
      576     9520    1           RETURN;
      577     9521    1   END TCU$MAKESYMS;
      578     9522        %EOD;

PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:114  
--  Include file information  --

   B_ERRORS_C.:LIBRARY  is referenced.
   CP_6_SUBS.:LIBRARY  is referenced.
   CP_6.:LIBRARY  cannot be made into a system file and is referenced.
   B$OBJECT_C.:LIBRARY  is referenced.
   DA_SYMBOLS_R.:TOOLE05  cannot be made into a system file and is referenced.
   XU_MACRO_C.:LIBRARY  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure TCU$MAKESYMS.

   Procedure TCU$MAKESYMS requires 416 words for executable code.
   Procedure TCU$MAKESYMS requires 80 words of local(AUTO) storage.

PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:115  

 Object Unit name= TCU$MAKESYMS                               File name= TCU$UNLZ.:TCA2TOU
 UTS= NOV 16 '97 14:28:03.80 SUN                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   DCB   even  none     0      0  F$SYMBOL
    2   DCB   even  none     0      0  M$DUMPFILE
    3   Data  even  none   130    202  TCU$MAKESYMS
    4  RoData even  UTS    298    452  TCU$MAKESYMS
    5   Proc  even  none   416    640  TCU$MAKESYMS
    6  RoData even  none    16     20  TCU$MAKESYMS

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     5      0   yes    yes     yes      Std        1  TCU$MAKESYMS
     5    451          yes     yes      Std        1  TCU$ANLZ
     5    541          yes     yes      Std        0  TCU$DELETE
     5    552          yes     yes      Std        1  TCU$RENAME

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std      22 X$WRITE
                       nStd      0 X66_AUTO_1
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:116  

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     DA_SYMSEG                             DA_ENTDEF$                            DA_SYMDEF$
     DA_DNAME$                             DA_SDCTL                              DA_EDCTL
     DA_ALTSYM                             DA_ALTSHI                             M$UC
     F$SYMBOL                              M$DUMPFILE                            NXTBUF
     FDS                                   B$TCB$                                B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID                               ROSID
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:117  


      369        1        /*T***********************************************************/
      370        2        /*T*                                                         */
      371        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      372        4        /*T*                                                         */
      373        5        /*T***********************************************************/
      374        6        TCU$MAKESYMS: PROC(SYM) ALTRET;

      6  5 000000   000000 700200 xent  TCU$MAKESYMS TSX0  ! X66_AUTO_1
         5 000001   000120 000001                    ZERO    80,1

      375        7        %INCLUDE XU_MACRO_C;
      376     3113        %PARSE$SYM (NAME=SYM, STCLASS=PARAM);
      377     3151        /**/
      378     3152        %INCLUDE DA_SYMBOLS_R;
      379     3165        %INCLUDE B$OBJECT_C;
      380     6595        %INCLUDE CP_6;
      381     6676        %INCLUDE CP_6_SUBS;
      382     7216        %INCLUDE B_ERRORS_C;
      383     8343    1   DCL F$SYMBOL DCB;
      384     8344    1   DCL M$DUMPFILE DCB;
      385     8345        /**/
      386     8346        /* LOCAL DATA */
      387     8347        /**/
      388     8348    1   DCL SEGSIZE SBIN;
      389     8349    1   DCL I SBIN;
      390     8350    1   DCL J SBIN;
      391     8351    1   DCL K SBIN;
      392     8352    1   DCL CSIZE SBIN;
      393     8353    1   DCL CBASE CHAR(CSIZE) BASED;
      394     8354        %B$EDEF(NAME=EDEF, STCLASS=AUTO);
      395     8424    1   DCL INBUF CHAR(256);
      396     8425        /**/
      397     8426        /* STATIC, CONSTANT, FPTS */
      398     8427        /**/
      399     8428        %VLP_NAME;
      400     8455        %VLP_ACCT;
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:118  
      401     8468        %VLP_PASS;
      402     8481        %VLP_SN;
      403     8494        %VLP_WSN;
      404     8507        %VLR_FID;
      405     8526        %FPT_OPEN (DCB=F$SYMBOL,
      406     8527                   NAME=VLP_NAME,
      407     8528                   ACCT=VLP_ACCT,
      408     8529                   PASS=VLP_PASS,
      409     8530                   SN=VLP_SN,
      410     8531                   WSN=VLP_WSN,
      411     8532                   FUN=IN);
      412     8641        %FPT_OPEN (FPTN=AN_NEXT,
      413     8642                   DCB=M$DUMPFILE,
      414     8643                   FUN=IN,
      415     8644                   NXTF=YES,
      416     8645                   STCLASS=CONSTANT);
      417     8754        %FPT_OPEN (FPTN=AN_PREV,
      418     8755                   DCB=M$DUMPFILE,
      419     8756                   FUN=IN,
      420     8757                   NXTF=YES, REV=YES,
      421     8758                   STCLASS=CONSTANT);
      422     8867        %FPT_READ (DCB=F$SYMBOL);
      423     8906        %FPT_CLOSE (FPTN=CLOSE_SYM, DCB=F$SYMBOL, STCLASS=CONSTANT);
      424     8948        %FPT_CLOSE (FPTN=CLOSE_DUMP, DCB=M$DUMPFILE, STCLASS=CONSTANT);
      425     8990        %FPT_CLOSE (FPTN=DELETE_DUMP, DCB=M$DUMPFILE, STCLASS=CONSTANT, DISP=SCRATCH);
      426     9032        %FPT_OPEN (FPTN=UPDATE_DUMP, DCB=M$DUMPFILE, STCLASS=CONSTANT, FUN=UPDATE);
      427     9141        %FPT_CLOSE (FPTN=RENAME_DUMP, DCB=M$DUMPFILE, STCLASS=CONSTANT, CHGATT=YES,
      428     9142                    NAME=VLP_NAME);
      429     9184        %F$DCB;
      430     9241        %FPT_FID (ASN="FPT_OPEN.V.ASN#",
      431     9242                  NAME=VLP_NAME,
      432     9243                  PASS=VLP_PASS,
      433     9244                  ACCT=VLP_ACCT,
      434     9245                  SN=VLP_SN,
      435     9246                  RES="FPT_OPEN.V.RES#",
      436     9247                  RESULTS=VLR_FID,
      437     9248                  WSN=VLP_WSN);
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:119  
      438     9271        %FPT_GDS (RESULTS=DA_SYMSEG);
      439     9287    1   DCL NXTBUF SBIN SYMREF;
      440     9288    1   DCL FDS SBIN SYMREF;
      441     9289    1   DCL X$WRITE ENTRY(22);
      442     9290    1   DCL DUMPDCB SBIN CONSTANT INIT(DCBNUM(M$DUMPFILE));
      443     9291    1   DCL AN_FMT CONSTANT CHAR(0) INIT('Anlzing %.3F');
      444     9292    1   DCL B$TCB$ PTR SYMREF;
      445     9293        %B$TCB (STCLASS="BASED(B$TCB$)");
      446     9296        %B$ALT;
      447     9304        %B$EDEF(STCLASS="BASED(ENT$)");
      448     9374        %B$DNAME(NAME=DNAME,STCLASS="BASED(NAME$)");
      449     9393    1   DCL DCB$ PTR;
      450     9394    1   DCL ENT$ PTR;
      451     9395    1   DCL NAME$ PTR;
      452     9396        %EJECT;
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:120  
      453     9397    1           DA_SDCTL(0)='0'B;

   9397  5 000002   000000 450000 xsym               STZ     DA_SDCTL

      454     9398    1           DA_EDCTL(0)='0'B;

   9398  5 000003   000000 450000 xsym               STZ     DA_EDCTL

      455     9399    1           DA_ENTDEF$=ADDR(NIL);

   9399  5 000004   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 000005   000000 756000 xsym               STQ     DA_ENTDEF$

      456     9400    1           DA_SYMDEF$=ADDR(NIL);

   9400  5 000006   000000 756000 xsym               STQ     DA_SYMDEF$

      457     9401    1           DA_ALTSHI=0;

   9401  5 000007   000000 450000 xsym               STZ     DA_ALTSHI

      458     9402    1           DA_ALTSYM=0;

   9402  5 000010   000000 450000 xsym               STZ     DA_ALTSYM

      459     9403    1           FPT_READ.BUF_=VECTOR(INBUF);

   9403  5 000011   000000 235000 6                  LDA     0
         5 000012   200116 452500                    STP2    NAME$+1,,AUTO
         5 000013   200116 236100                    LDQ     NAME$+1,,AUTO
         5 000014   000013 036003                    ADLQ    11,DU
         5 000015   000132 757000 3                  STAQ    FPT_READ+4

      460     9404    1           FPT_FID.TEXTFID_=VECTOR(NIL);

   9404  5 000016   000002 237000 6                  LDAQ    2
         5 000017   000146 757000 3                  STAQ    FPT_FID+2
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:121  

      461     9405    1           FPT_OPEN.V.DCB#=DCBNUM(F$SYMBOL);

   9405  5 000020   000000 236007 xsym               LDQ     F$SYMBOL,DL
         5 000021   000000 620006                    EAX0    0,QL
         5 000022   000100 740000 3                  STX0    FPT_OPEN+36

      462     9406    2           IF ADDR(SYM)~=ADDR(NIL) THEN DO;

   9406  5 000023   200003 236100                    LDQ     @SYM,,AUTO
         5 000024   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 000025   000054 600000 5                  TZE     s:9413

      463     9407    2              IF SYM.COUNT>0 THEN FPT_FID.TEXTFID_=VECTOR(SYM.TEXT);

   9407  5 000026   200003 470500                    LDP0    @SYM,,AUTO
         5 000027   000004 236100                    LDQ     4,,PR0
         5 000030   777000 316003                    CANQ    -512,DU
         5 000031   000041 600000 5                  TZE     s:9408

   9407  5 000032   000004 236100                    LDQ     4,,PR0
         5 000033   000033 772000                    QRL     27
         5 000034   000064 737000                    LLS     52
         5 000035   000140 135007                    SBLA    96,DL
         5 000036   200003 236100                    LDQ     @SYM,,AUTO
         5 000037   000001 036000 6                  ADLQ    1
         5 000040   000146 757000 3                  STAQ    FPT_FID+2

      464     9408    2              CALL M$FID(FPT_FID) ALTRET(PMMEALT);

   9408  5 000041   000144 630400 3                  EPPR0   FPT_FID
         5 000042   420001 713400                    CLIMB   alt,+8193
         5 000043   404400 401760                    pmme    nvectors=10
         5 000044   000426 702000 5                  TSX2    PMMEALT

      465     9409        /*         IF NOT VLR_FID.ACCT THEN VLP_ACCT.ACCT#=DA_DFLTACCT; */
      466     9410    2              CALL M$CLOSE(CLOSE_SYM);
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:122  

   9410  5 000045   000164 630400 4                  EPPR0   CLOSE_SYM
         5 000046   050001 713400                    CLIMB   close
         5 000047   406000 401760                    pmme    nvectors=13

      467     9411    2              CALL M$OPEN(FPT_OPEN) ALTRET(PMMEALT);

   9411  5 000050   000034 630400 3                  EPPR0   FPT_OPEN
         5 000051   450000 713400                    CLIMB   alt,open
         5 000052   410400 401760                    pmme    nvectors=18
         5 000053   000426 702000 5                  TSX2    PMMEALT

      468     9412    2              END;

      469     9413    1           DCB$=DCBADDR(DCBNUM(F$SYMBOL));

   9413  5 000054   000000 236007 xsym               LDQ     F$SYMBOL,DL
         5 000055   000004 470400 6                  LDP0    4
         5 000056   000000 471500                    LDP1    0,,PR0
         5 000057   100000 236106                    LDQ     0,QL,PR1
         5 000060   200113 756100                    STQ     DCB$,,AUTO

      470     9414    1           IF DCB$->F$DCB.ASN#~=%FILE# THEN RETURN;

   9414  5 000061   200113 473500                    LDP3    DCB$,,AUTO
         5 000062   300032 236100                    LDQ     26,,PR3
         5 000063   777000 376007                    ANQ     -512,DL
         5 000064   001000 116007                    CMPQ    512,DL
         5 000065   000067 600000 5                  TZE     s:9415

   9414  5 000066   000000 702200 xent               TSX2  ! X66_ARET

      471     9415    1           CALL M$READ(FPT_READ) ALTRET(PMMEALT);

   9415  5 000067   000126 630400 3                  EPPR0   FPT_READ
         5 000070   440000 713400                    CLIMB   alt,read
         5 000071   401400 401760                    pmme    nvectors=4
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:123  
         5 000072   000426 702000 5                  TSX2    PMMEALT

      472     9416    1           SEGSIZE=DCB$->F$DCB.NRECS#;

   9416  5 000073   200113 470500                    LDP0    DCB$,,AUTO
         5 000074   000042 235100                    LDA     34,,PR0
         5 000075   200004 755100                    STA     SEGSIZE,,AUTO

      473     9417    1           SEGSIZE=((SEGSIZE*7+1023)/1024)*1024;

   9417  5 000076   200004 236100                    LDQ     SEGSIZE,,AUTO
         5 000077   000007 402007                    MPY     7,DL
         5 000100   001777 036007                    ADLQ    1023,DL
         5 000101   002000 506007                    DIV     1024,DL
         5 000102   000012 736000                    QLS     10
         5 000103   200004 756100                    STQ     SEGSIZE,,AUTO

      474     9418    1           I=SEGSIZE-((DA_SYMSEG.BOUND+1)/4);

   9418  5 000104   000000 236000 xsym               LDQ     DA_SYMSEG
         5 000105   000020 772000                    QRL     16
         5 000106   000001 036007                    ADLQ    1,DL
         5 000107   000002 772000                    QRL     2
         5 000110   200116 756100                    STQ     NAME$+1,,AUTO
         5 000111   200004 236100                    LDQ     SEGSIZE,,AUTO
         5 000112   200116 136100                    SBLQ    NAME$+1,,AUTO
         5 000113   200005 756100                    STQ     I,,AUTO

      475     9419    2           IF I>0 THEN DO;

   9419  5 000114   000124 604400 5                  TMOZ    s:9423

      476     9420    2              FPT_GDS.V.SEGSIZE#=I;

   9420  5 000115   000000 620006                    EAX0    0,QL
         5 000116   000200 440000 3                  SXL0    FPT_GDS+4

PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:124  
      477     9421    2              CALL M$GDS(FPT_GDS) ALTRET(PMMEALT);

   9421  5 000117   000174 630400 3                  EPPR0   FPT_GDS
         5 000120   430001 713400                    CLIMB   alt,gds
         5 000121   400400 401760                    pmme    nvectors=2
         5 000122   000426 702000 5                  TSX2    PMMEALT

      478     9422    2              END;

   9422  5 000123   000134 710000 5                  TRA     s:9427

      479     9423    2           ELSE IF I<0 THEN DO;

   9423  5 000124   000134 605000 5                  TPL     s:9427

      480     9424    2                 FPT_GDS.V.SEGSIZE#=-I;

   9424  5 000125   777777 620006                    EAX0    -1,QL
         5 000126   777777 660003                    ERX0    -1,DU
         5 000127   000200 440000 3                  SXL0    FPT_GDS+4

      481     9425    2                 CALL M$FDS(FPT_GDS) ALTRET(PMMEALT);

   9425  5 000130   000174 630400 3                  EPPR0   FPT_GDS
         5 000131   430002 713400                    CLIMB   alt,fds
         5 000132   400400 401760                    pmme    nvectors=2
         5 000133   000426 702000 5                  TSX2    PMMEALT

      482     9426    2                 END;

      483     9427    1           DA_DNAME$=DA_SYMSEG.P$;

   9427  5 000134   000001 236000 xsym               LDQ     DA_SYMSEG+1
         5 000135   000000 756000 xsym               STQ     DA_DNAME$

      484     9428    1           NAME$=DA_DNAME$;

PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:125  
   9428  5 000136   200115 756100                    STQ     NAME$,,AUTO

      485     9429    1           DA_SYMDEF$=PINCRW(NAME$,SEGSIZE);

   9429  5 000137   200004 236100                    LDQ     SEGSIZE,,AUTO
         5 000140   000022 736000                    QLS     18
         5 000141   200115 036100                    ADLQ    NAME$,,AUTO
         5 000142   000000 756000 xsym               STQ     DA_SYMDEF$

      486     9430    1           DA_ENTDEF$=DA_SYMDEF$;

   9430  5 000143   000000 756000 xsym               STQ     DA_ENTDEF$

   9430  5 000144                       NEXT_REC     null
      487     9431    1   NEXT_REC: ;
      488     9432    1           INBUF=' ';

   9432  5 000144   040100 100400                    MLR     fill='040'O
         5 000145   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         5 000146   200013 000400                    ADSC9   INBUF,,AUTO              cn=0,n=256

      489     9433    1           CALL M$READ (FPT_READ) ALTRET(PMMEALT);

   9433  5 000147   000126 630400 3                  EPPR0   FPT_READ
         5 000150   440000 713400                    CLIMB   alt,read
         5 000151   401400 401760                    pmme    nvectors=4
         5 000152   000426 702000 5                  TSX2    PMMEALT

      490     9434    1           IF SUBSTR(INBUF,0,1)='_' THEN INBUF=SUBSTR(INBUF,1);

   9434  5 000153   200013 236100                    LDQ     INBUF,,AUTO
         5 000154   777000 376003                    ANQ     -512,DU
         5 000155   137000 116003                    CMPQ    48640,DU
         5 000156   000162 601000 5                  TNZ     s:9435

   9434  5 000157   040100 100500                    MLR     fill='040'O
         5 000160   200013 200377                    ADSC9   INBUF,,AUTO              cn=1,n=255
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:126  
         5 000161   200013 000400                    ADSC9   INBUF,,AUTO              cn=0,n=256

      491     9435    1           CALL INDEX (I,'|',INBUF) ALTRET(NEXT_REC);

   9435  5 000162   000000 124500                    SCM     mask='000'O
         5 000163   200013 000400                    ADSC9   INBUF,,AUTO              cn=0,n=256
         5 000164   000005 000001 6                  ADSC9   5                        cn=0,n=1
         5 000165   200005 000100                    ARG     I,,AUTO
         5 000166   000144 606400 5                  TTN     NEXT_REC

      492     9436    1           CALL INDEX (J,'|',INBUF,I+1) ALTRET(NEXT_REC);

   9436  5 000167   200005 720100                    LXL0    I,,AUTO
         5 000170   777400 620010                    EAX0    -256,X0
         5 000171   777777 660003                    ERX0    -1,DU
         5 000172   200005 236100                    LDQ     I,,AUTO
         5 000173   000001 036007                    ADLQ    1,DL
         5 000174   200005 235100                    LDA     I,,AUTO
         5 000175   000000 124545                    SCM     mask='000'O
         5 000176   200013 200010                    ADSC9   INBUF,A,AUTO             cn=1,n=*X0
         5 000177   000005 000001 6                  ADSC9   5                        cn=0,n=1
         5 000200   200006 000100                    ARG     J,,AUTO
         5 000201   200006 056100                    ASQ     J,,AUTO
         5 000202   000144 606400 5                  TTN     NEXT_REC

      493     9437    1           IF SUBSTR(INBUF,I,J-I)='|' THEN GOTO NEXT_REC; /* no address */

   9437  5 000203   200006 236100                    LDQ     J,,AUTO
         5 000204   200005 136100                    SBLQ    I,,AUTO
         5 000205   000000 621006                    EAX1    0,QL
         5 000206   040000 106545                    CMPC    fill='040'O
         5 000207   200013 000011                    ADSC9   INBUF,A,AUTO             cn=0,n=*X1
         5 000210   000005 000001 6                  ADSC9   5                        cn=0,n=1
         5 000211   000144 600000 5                  TZE     NEXT_REC

      494     9438    1           SUBSTR(DNAME.TEXT,0,I)=INBUF;

PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:127  
   9438  5 000212   200115 470500                    LDP0    NAME$,,AUTO
         5 000213   000000 221100                    LDX1    0,,PR0
         5 000214   000000 622005                    EAX2    0,AL
         5 000215   040140 100500                    MLR     fill='040'O
         5 000216   200013 000400                    ADSC9   INBUF,,AUTO              cn=0,n=256
         5 000217   000000 400012                    ADSC9   0,,PR0                   cn=2,n=*X2

      495     9439    1           CALL INDEX(K, ' ',SUBSTR(INBUF,0,I));

   9439  5 000220   200005 722100                    LXL2    I,,AUTO
         5 000221   000000 124540                    SCM     mask='000'O
         5 000222   200013 000012                    ADSC9   INBUF,,AUTO              cn=0,n=*X2
         5 000223   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         5 000224   200007 000100                    ARG     K,,AUTO

      496     9440    1           DNAME.COUNT = K;

   9440  5 000225   200007 723100                    LXL3    K,,AUTO
         5 000226   000000 743100                    STX3    0,,PR0

      497     9441    1           EDEF='0'B;

   9441  5 000227   200011 450100                    STZ     EDEF,,AUTO
         5 000230   200012 450100                    STZ     EDEF+1,,AUTO

      498     9442    1           EDEF.NPOINTER=POFFW(NAME$,DA_DNAME$);

   9442  5 000231   000000 235000 xsym               LDA     DA_DNAME$
         5 000232   000022 771000                    ARL     18
         5 000233   200116 755100                    STA     NAME$+1,,AUTO
         5 000234   200115 236100                    LDQ     NAME$,,AUTO
         5 000235   000022 772000                    QRL     18
         5 000236   200116 136100                    SBLQ    NAME$+1,,AUTO
         5 000237   000000 621006                    EAX1    0,QL
         5 000240   200012 741100                    STX1    EDEF+1,,AUTO

      499     9443    1           NAME$=PINCRW(NAME$,SIZEW(DNAME));
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:128  

   9443  5 000241   000000 224100                    LDX4    0,,PR0
         5 000242   000002 625014                    EAX5    2,X4
         5 000243   000000 636015                    EAQ     0,X5
         5 000244   000022 772000                    QRL     18
         5 000245   000011 402007                    MPY     9,DL
         5 000246   000043 036007                    ADLQ    35,DL
         5 000247   000044 506007                    DIV     36,DL
         5 000250   000022 736000                    QLS     18
         5 000251   200115 036100                    ADLQ    NAME$,,AUTO
         5 000252   200115 756100                    STQ     NAME$,,AUTO

      500     9444    2           DO UNTIL SUBSTR(INBUF,I,1)>='0';

      501     9445    2              I=I+1;

   9445  5 000253   200005 054100                    AOS     I,,AUTO

      502     9446    2              END;

   9446  5 000254   200005 235100                    LDA     I,,AUTO
         5 000255   040000 106505                    CMPC    fill='040'O
         5 000256   200013 000001                    ADSC9   INBUF,A,AUTO             cn=0,n=1
         5 000257   000006 000001 6                  ADSC9   6                        cn=0,n=1
         5 000260   000253 602000 5                  TNC     s:9445

      503     9447    2           IF SUBSTR(INBUF,I,1)='0' THEN DO;

   9447  5 000261   000276 601000 5                  TNZ     s:9454

      504     9448    2              I=I+1;

   9448  5 000262   200005 054100                    AOS     I,,AUTO

      505     9449    2              J=8;

   9449  5 000263   000010 235007                    LDA     8,DL
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:129  
         5 000264   200006 755100                    STA     J,,AUTO

      506     9450    2              IF SUBSTR(INBUF,I,1)~='x' THEN EXIT;

   9450  5 000265   200005 236100                    LDQ     I,,AUTO
         5 000266   040000 106506                    CMPC    fill='040'O
         5 000267   200013 000001                    ADSC9   INBUF,Q,AUTO             cn=0,n=1
         5 000270   000007 000001 6                  ADSC9   7                        cn=0,n=1
         5 000271   000275 601000 5                  TNZ     s:9453

      507     9451    2              J=16;

   9451  5 000272   000020 235007                    LDA     16,DL
         5 000273   200006 755100                    STA     J,,AUTO

      508     9452    2              I=I+1;

   9452  5 000274   200005 054100                    AOS     I,,AUTO

      509     9453    2              END;

   9453  5 000275   000300 710000 5                  TRA     s:9455

      510     9454    1           ELSE J=10;

   9454  5 000276   000012 236007                    LDQ     10,DL
         5 000277   200006 756100                    STQ     J,,AUTO

      511     9455    1           K=0;                            /* Accumulate the value */

   9455  5 000300   200007 450100                    STZ     K,,AUTO

      512     9456    2           DO WHILE '1'B;

      513     9457    2              CSIZE=ASCBIN(SUBSTR(INBUF,I,1));

   9457  5 000301   200005 235100                    LDA     I,,AUTO
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:130  
         5 000302   000100 101505                    MRL     fill='000'O
         5 000303   200013 000001                    ADSC9   INBUF,A,AUTO             cn=0,n=1
         5 000304   200116 000004                    ADSC9   NAME$+1,,AUTO            cn=0,n=4
         5 000305   200116 236100                    LDQ     NAME$+1,,AUTO
         5 000306   200010 756100                    STQ     CSIZE,,AUTO

      514     9458    2              IF CSIZE = ASCBIN('|') THEN EXIT;

   9458  5 000307   000174 116007                    CMPQ    124,DL
         5 000310   000340 600000 5                  TZE     s:9465

      515     9459    2              K=K*J;

   9459  5 000311   200007 236100                    LDQ     K,,AUTO
         5 000312   200006 402100                    MPY     J,,AUTO
         5 000313   200007 756100                    STQ     K,,AUTO

      516     9460    2              IF CSIZE<=ASCBIN('9') THEN K=K+CSIZE-ASCBIN('0');

   9460  5 000314   200010 235100                    LDA     CSIZE,,AUTO
         5 000315   000071 115007                    CMPA    57,DL
         5 000316   000323 605400 5                  TPNZ    s:9461

   9460  5 000317   200010 036100                    ADLQ    CSIZE,,AUTO
         5 000320   000060 136007                    SBLQ    48,DL
         5 000321   200007 756100                    STQ     K,,AUTO
         5 000322   000336 710000 5                  TRA     s:9463

      517     9461    2              ELSE IF CSIZE<=ASCBIN('F') THEN K=K+CSIZE+10-ASCBIN('A');

   9461  5 000323   000106 115007                    CMPA    70,DL
         5 000324   000331 605400 5                  TPNZ    s:9462

   9461  5 000325   200010 036100                    ADLQ    CSIZE,,AUTO
         5 000326   000067 136007                    SBLQ    55,DL
         5 000327   200007 756100                    STQ     K,,AUTO
         5 000330   000336 710000 5                  TRA     s:9463
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:131  

      518     9462    2                 ELSE IF CSIZE<=ASCBIN('f') THEN K=K+CSIZE+10-ASCBIN('a');

   9462  5 000331   000146 115007                    CMPA    102,DL
         5 000332   000336 605400 5                  TPNZ    s:9463

   9462  5 000333   200010 036100                    ADLQ    CSIZE,,AUTO
         5 000334   000127 136007                    SBLQ    87,DL
         5 000335   200007 756100                    STQ     K,,AUTO

      519     9463    2              I=I+1;

   9463  5 000336   200005 054100                    AOS     I,,AUTO

      520     9464    2              END;

   9464  5 000337   000301 710000 5                  TRA     s:9457

      521     9465    1           EDEF.ISADDR=K;

   9465  5 000340   200007 236100                    LDQ     K,,AUTO
         5 000341   200011 552134                    STBQ    EDEF,'34'O,AUTO

      522     9466    1           EDEF.PRI='1'B;

   9466  5 000342   400000 236007                    LDQ     -131072,DL
         5 000343   200012 256100                    ORSQ    EDEF+1,,AUTO

      523     9467    1           ENT$=DA_ENTDEF$;

   9467  5 000344   000000 236000 xsym               LDQ     DA_ENTDEF$
         5 000345   200114 756100                    STQ     ENT$,,AUTO

      524     9468    2           DO WHILE ENT$<DA_SYMDEF$;

   9468  5 000346   000000 116000 xsym               CMPQ    DA_SYMDEF$
         5 000347   000367 603000 5                  TRC     s:9472
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:132  

      525     9469    2              IF PINCRW(DA_DNAME$,B$EDEF.NPOINTER)->DNAME.TEXT>INBUF THEN EXIT;

   9469  5 000350   200114 470500                    LDP0    ENT$,,AUTO
         5 000351   000001 220100                    LDX0    1,,PR0
         5 000352   000000 471400 xsym               LDP1    DA_DNAME$
         5 000353   100000 221110                    LDX1    0,X0,PR1
         5 000354   000000 635010                    EAA     0,X0
         5 000355   000020 731000                    ARS     16
         5 000356   040145 106500                    CMPC    fill='040'O
         5 000357   200013 000400                    ADSC9   INBUF,,AUTO              cn=0,n=256
         5 000360   100000 400011                    ADSC9   0,A,PR1                  cn=2,n=*X1
         5 000361   000367 602000 5                  TNC     s:9472

      526     9470    2              ENT$=PINCRW(ENT$,SIZEW(EDEF));

   9470  5 000362   200114 236100                    LDQ     ENT$,,AUTO
         5 000363   000002 036003                    ADLQ    2,DU
         5 000364   200114 756100                    STQ     ENT$,,AUTO

      527     9471    2              END;

   9471  5 000365   000000 116000 xsym               CMPQ    DA_SYMDEF$
         5 000366   000350 602000 5                  TNC     s:9469

      528     9472    2           IF ENT$>DA_ENTDEF$ THEN DO;

   9472  5 000367   000000 236000 xsym               LDQ     DA_ENTDEF$
         5 000370   200114 116100                    CMPQ    ENT$,,AUTO
         5 000371   000407 603000 5                  TRC     s:9476

      529     9473    2              CSIZE=POFFC(ENT$,DA_ENTDEF$);

   9473  5 000372   000000 236000 xsym               LDQ     DA_ENTDEF$
         5 000373   000020 772000                    QRL     16
         5 000374   200116 756100                    STQ     NAME$+1,,AUTO
         5 000375   200114 236100                    LDQ     ENT$,,AUTO
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:133  
         5 000376   000020 772000                    QRL     16
         5 000377   200116 136100                    SBLQ    NAME$+1,,AUTO
         5 000400   200010 756100                    STQ     CSIZE,,AUTO

      530     9474    2              PINCRW(DA_ENTDEF$,-SIZEW(EDEF))->CBASE=DA_ENTDEF$->CBASE;

   9474  5 000401   000000 470400 xsym               LDP0    DA_ENTDEF$
         5 000402   000000 620006                    EAX0    0,QL
         5 000403   200010 721100                    LXL1    CSIZE,,AUTO
         5 000404   040140 100540                    MLR     fill='040'O
         5 000405   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0
         5 000406   077776 000011                    ADSC9   -2,,PR0                  cn=0,n=*X1

      531     9475    2              END;

      532     9476    1           DA_ENTDEF$=PINCRW(DA_ENTDEF$,-SIZEW(EDEF));

   9476  5 000407   000000 236000 xsym               LDQ     DA_ENTDEF$
         5 000410   777776 036003                    ADLQ    -2,DU
         5 000411   000000 756000 xsym               STQ     DA_ENTDEF$

      533     9477    1           PINCRW(ENT$,-SIZEW(EDEF))->B$EDEF=EDEF;

   9477  5 000412   200114 470500                    LDP0    ENT$,,AUTO
         5 000413   000100 100500                    MLR     fill='000'O
         5 000414   200011 000010                    ADSC9   EDEF,,AUTO               cn=0,n=8
         5 000415   077776 000010                    ADSC9   -2,,PR0                  cn=0,n=8

      534     9478    1           IF POFFW(DA_ENTDEF$,NAME$)>16 THEN GOTO NEXT_REC;

   9478  5 000416   200115 235100                    LDA     NAME$,,AUTO
         5 000417   000022 771000                    ARL     18
         5 000420   200116 755100                    STA     NAME$+1,,AUTO
         5 000421   000000 236000 xsym               LDQ     DA_ENTDEF$
         5 000422   000022 772000                    QRL     18
         5 000423   200116 136100                    SBLQ    NAME$+1,,AUTO
         5 000424   000020 116007                    CMPQ    16,DL
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:134  
         5 000425   000144 605400 5                  TPNZ    NEXT_REC

   9478  5 000426                       PMMEALT      null
      535     9479    1   PMMEALT:;
      536     9480    1           DA_EDCTL.STOP(0)=POFFW(DA_SYMDEF$,DA_ENTDEF$)/SIZEW(EDEF);

   9480  5 000426   000000 235000 xsym               LDA     DA_ENTDEF$
         5 000427   000022 771000                    ARL     18
         5 000430   200116 755100                    STA     NAME$+1,,AUTO
         5 000431   000000 236000 xsym               LDQ     DA_SYMDEF$
         5 000432   000022 772000                    QRL     18
         5 000433   200116 136100                    SBLQ    NAME$+1,,AUTO
         5 000434   000002 506007                    DIV     2,DL
         5 000435   000000 620006                    EAX0    0,QL
         5 000436   000000 440000 xsym               SXL0    DA_EDCTL

      537     9481    1           DA_SYMDEF$=ADDR(NIL);

   9481  5 000437   000001 236000 xsym               LDQ     B_VECTNIL+1
         5 000440   000000 756000 xsym               STQ     DA_SYMDEF$

      538     9482    1           IF B$TCB.ALT$->B$ALT.ERR.CODE~=6 THEN ALTRETURN;

   9482  5 000441   000000 470400 xsym               LDP0    B$TCB$
         5 000442   000000 471500                    LDP1    0,,PR0
         5 000443   100102 236100                    LDQ     66,,PR1
         5 000444   377770 376007                    ANQ     131064,DL
         5 000445   000060 116007                    CMPQ    48,DL
         5 000446   000450 600000 5                  TZE     s:9483

   9482  5 000447   000000 702200 xent               TSX2  ! X66_AALT

      539     9483    1           RETURN;

   9483  5 000450   000000 702200 xent               TSX2  ! X66_ARET

      540     9484        %EJECT;
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:135  
      541     9485    1   TCU$ANLZ: ENTRY (SYM) ALTRET;

   9485  5 000451   000000 700200 xent  TCU$ANLZ     TSX0  ! X66_AUTO_1
         5 000452   000120 000001                    ZERO    80,1

      542     9486    1           NXTBUF=-1;

   9486  5 000453   000001 335007                    LCA     1,DL
         5 000454   000000 755000 xsym               STA     NXTBUF

      543     9487    2           IF ADDR(SYM)=ADDR(NIL) THEN DO;

   9487  5 000455   200003 236100                    LDQ     @SYM,,AUTO
         5 000456   000001 116000 xsym               CMPQ    B_VECTNIL+1
         5 000457   000465 601000 5                  TNZ     s:9491

      544     9488    2              CALL M$REW (CLOSE_DUMP) ALTRET (PMMEALT1);

   9488  5 000460   000222 630400 4                  EPPR0   CLOSE_DUMP
         5 000461   440006 713400                    CLIMB   alt,+16390
         5 000462   400000 401760                    pmme    nvectors=1
         5 000463   000537 702000 5                  TSX2    PMMEALT1

      545     9489    2              RETURN;

   9489  5 000464   000000 702200 xent               TSX2  ! X66_ARET

      546     9490    2              END;
      547     9491    1           CALL M$CLOSE (CLOSE_DUMP);

   9491  5 000465   000222 630400 4                  EPPR0   CLOSE_DUMP
         5 000466   050001 713400                    CLIMB   close
         5 000467   406000 401760                    pmme    nvectors=13

      548     9492    2           IF SYM.CODE>=2 THEN DO;

   9492  5 000470   200003 470500                    LDP0    @SYM,,AUTO
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:136  
         5 000471   000000 720100                    LXL0    0,,PR0
         5 000472   000002 100003                    CMPX0   2,DU
         5 000473   000514 602000 5                  TNC     s:9498

      549     9493    2              IF SYM.CODE>2 THEN CALL M$OPEN (AN_PREV) ALTRET(PMMEALT1);

   9493  5 000474   000003 100003                    CMPX0   3,DU
         5 000475   000503 602000 5                  TNC     s:9494

   9493  5 000476   000072 630400 4                  EPPR0   AN_PREV
         5 000477   450000 713400                    CLIMB   alt,open
         5 000500   410400 401760                    pmme    nvectors=18
         5 000501   000537 702000 5                  TSX2    PMMEALT1
         5 000502   000507 710000 5                  TRA     s:9495

      550     9494    2              ELSE CALL M$OPEN (AN_NEXT) ALTRET(PMMEALT1);

   9494  5 000503   000000 630400 4                  EPPR0   AN_NEXT
         5 000504   450000 713400                    CLIMB   alt,open
         5 000505   410400 401760                    pmme    nvectors=18
         5 000506   000537 702000 5                  TSX2    PMMEALT1

      551     9495    2              CALL X$WRITE (FDS,VECTOR(AN_FMT),VECTOR(DUMPDCB));

   9495  5 000507   000014 630400 6                  EPPR0   12
         5 000510   000021 631400 xsym               EPPR1   B_VECTNIL+17
         5 000511   000000 701000 xent               TSX1    X$WRITE
         5 000512   000000 011000                    NOP     0

      552     9496    2              END;

   9496  5 000513   000540 710000 5                  TRA     s:9505

      553     9497    2           ELSE DO;

      554     9498    2              FPT_FID.TEXTFID_=VECTOR(SYM.TEXT);

PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:137  
   9498  5 000514   000004 236100                    LDQ     4,,PR0
         5 000515   000033 772000                    QRL     27
         5 000516   000064 737000                    LLS     52
         5 000517   000140 135007                    SBLA    96,DL
         5 000520   200003 236100                    LDQ     @SYM,,AUTO
         5 000521   000001 036000 6                  ADLQ    1
         5 000522   000146 757000 3                  STAQ    FPT_FID+2

      555     9499    2              CALL M$FID (FPT_FID) ALTRET (PMMEALT1);

   9499  5 000523   000144 630400 3                  EPPR0   FPT_FID
         5 000524   420001 713400                    CLIMB   alt,+8193
         5 000525   404400 401760                    pmme    nvectors=10
         5 000526   000537 702000 5                  TSX2    PMMEALT1

      556     9500    2              FPT_OPEN.V.DCB#=DCBNUM(M$DUMPFILE);

   9500  5 000527   000000 236007 xsym               LDQ     M$DUMPFILE,DL
         5 000530   000000 620006                    EAX0    0,QL
         5 000531   000100 740000 3                  STX0    FPT_OPEN+36

      557     9501    3              CALL M$OPEN (FPT_OPEN) WHENALTRETURN DO;

   9501  5 000532   000034 630400 3                  EPPR0   FPT_OPEN
         5 000533   450000 713400                    CLIMB   alt,open
         5 000534   410400 401760                    pmme    nvectors=18
         5 000535   000537 702000 5                  TSX2    PMMEALT1
         5 000536   000540 710000 5                  TRA     s:9505

      558     9502    3   PMMEALT1:     ALTRETURN;

   9502  5 000537   000000 702200 xent  PMMEALT1     TSX2  ! X66_AALT

      559     9503    3                 END;
      560     9504    2              END;

      561     9505    1           RETURN;
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:138  

   9505  5 000540   000000 702200 xent               TSX2  ! X66_ARET

      562     9506        %EJECT;
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:139  
      563     9507    1   TCU$DELETE: ENTRY ALTRET;

   9507  5 000541   000000 700200 xent  TCU$DELETE   TSX0  ! X66_AUTO_1
         5 000542   000120 000001                    ZERO    80,1

      564     9508    1           NXTBUF=-1;

   9508  5 000543   000001 335007                    LCA     1,DL
         5 000544   000000 755000 xsym               STA     NXTBUF

      565     9509    1           CALL M$CLOSE (DELETE_DUMP) ALTRET(PMMEALT1);

   9509  5 000545   000260 630400 4                  EPPR0   DELETE_DUMP
         5 000546   450001 713400                    CLIMB   alt,close
         5 000547   406000 401760                    pmme    nvectors=13
         5 000550   000537 702000 5                  TSX2    PMMEALT1

      566     9510    1           RETURN;

   9510  5 000551   000000 702200 xent               TSX2  ! X66_ARET

      567     9511
      568     9512    1   TCU$RENAME: ENTRY (SYM) ALTRET;

   9512  5 000552   000000 700200 xent  TCU$RENAME   TSX0  ! X66_AUTO_1
         5 000553   000120 000001                    ZERO    80,1

      569     9513    1           NXTBUF=-1;

   9513  5 000554   000001 335007                    LCA     1,DL
         5 000555   000000 755000 xsym               STA     NXTBUF

      570     9514    1           DCB$=DCBADDR(DCBNUM(M$DUMPFILE));

   9514  5 000556   000000 236007 xsym               LDQ     M$DUMPFILE,DL
         5 000557   000004 470400 6                  LDP0    4
         5 000560   000000 471500                    LDP1    0,,PR0
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:140  
         5 000561   100000 236106                    LDQ     0,QL,PR1
         5 000562   200113 756100                    STQ     DCB$,,AUTO

      571     9515    1           CALL CONCAT (VLP_NAME.NAME#,SYM.TEXT,'_',DCB$->F$DCB.NAME#.C);

   9515  5 000563   200003 473500                    LDP3    @SYM,,AUTO
         5 000564   300004 236100                    LDQ     4,,PR3
         5 000565   000033 772000                    QRL     27
         5 000566   000000 620006                    EAX0    0,QL
         5 000567   040000 100540                    MLR     fill='040'O
         5 000570   300004 200010                    ADSC9   4,,PR3                   cn=1,n=*X0
         5 000571   000000 200037 3                  ADSC9   VLP_NAME                 cn=1,n=31
         5 000572   000037 116007                    CMPQ    31,DL
         5 000573   000611 603000 5                  TRC     s:9516
         5 000574   777740 620006                    EAX0    -32,QL
         5 000575   777777 660003                    ERX0    -1,DU
         5 000576   040046 100400                    MLR     fill='040'O
         5 000577   000017 000001 6                  ADSC9   15                       cn=0,n=1
         5 000600   000000 200010 3                  ADSC9   VLP_NAME,Q               cn=1,n=*X0
         5 000601   000036 116007                    CMPQ    30,DL
         5 000602   000611 603000 5                  TRC     s:9516
         5 000603   777741 620006                    EAX0    -31,QL
         5 000604   777777 660003                    ERX0    -1,DU
         5 000605   200113 474500                    LDP4    DCB$,,AUTO
         5 000606   040046 100500                    MLR     fill='040'O
         5 000607   400010 200037                    ADSC9   8,,PR4                   cn=1,n=31
         5 000610   000000 400010 3                  ADSC9   VLP_NAME,Q               cn=2,n=*X0

      572     9516    1           VLP_NAME.L#=SYM.COUNT+1+DCB$->F$DCB.NAME#.L;

   9516  5 000611   200113 474500                    LDP4    DCB$,,AUTO
         5 000612   400010 236100                    LDQ     8,,PR4
         5 000613   000033 772000                    QRL     27
         5 000614   200116 756100                    STQ     NAME$+1,,AUTO
         5 000615   300004 236100                    LDQ     4,,PR3
         5 000616   000033 772000                    QRL     27
         5 000617   200116 036100                    ADLQ    NAME$+1,,AUTO
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:141  
         5 000620   000001 036007                    ADLQ    1,DL
         5 000621   000033 736000                    QLS     27
         5 000622   000000 552040 3                  STBQ    VLP_NAME,'40'O

      573     9517    1           CALL M$CLOSE (CLOSE_DUMP) ALTRET(PMMEALT1);

   9517  5 000623   000222 630400 4                  EPPR0   CLOSE_DUMP
         5 000624   450001 713400                    CLIMB   alt,close
         5 000625   406000 401760                    pmme    nvectors=13
         5 000626   000537 702000 5                  TSX2    PMMEALT1

      574     9518    1           CALL M$OPEN (UPDATE_DUMP) ALTRET(PMMEALT1);

   9518  5 000627   000316 630400 4                  EPPR0   UPDATE_DUMP
         5 000630   450000 713400                    CLIMB   alt,open
         5 000631   410400 401760                    pmme    nvectors=18
         5 000632   000537 702000 5                  TSX2    PMMEALT1

      575     9519    1           CALL M$CLOSE (RENAME_DUMP) ALTRET(PMMEALT1);

   9519  5 000633   000410 630400 4                  EPPR0   RENAME_DUMP
         5 000634   450001 713400                    CLIMB   alt,close
         5 000635   406000 401760                    pmme    nvectors=13
         5 000636   000537 702000 5                  TSX2    PMMEALT1

      576     9520    1           RETURN;

   9520  5 000637   000000 702200 xent               TSX2  ! X66_ARET

VLP_NAME
 Sect OctLoc
   3     000   037040 040040   040040 040040   040040 040040   040040 040040    .
   3     004   040040 040040   040040 040040   040040 040040   040040 040040

VLP_ACCT
 Sect OctLoc
   3     010   040040 040040   040040 040040
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:142  

VLP_PASS
 Sect OctLoc
   3     012   040040 040040   040040 040040

VLP_SN
 Sect OctLoc
   3     014   000000 000001   040040 040040   040040 ******                    ....      ..

VLP_WSN
 Sect OctLoc
   3     020   040040 040040   040040 040040

VLR_FID
 Sect OctLoc
   3     022   ****** ******   ****** ******   ****** ******   ****** ******    ................

FPT_OPEN
 Sect OctLoc
   3     034   000025 777640   000100 006000   000003 777640   000014 006000    .....@..........
   3     040   000000 177640   000000 006014   000007 777640   000000 006000    ................
   3     044   000001 777640   000012 006000   000000 177640   000000 006014    ................
   3     050   000000 177640   000000 006014   000000 177640   000000 006014    ................
   3     060*  000001 777640   000010 006000   000000 177640   000000 006014    ................
   3     064   000000 177640   000000 006014   000001 777640   000020 006000    ................
   3     070   000000 177640   000000 006014   000000 177640   000000 006014    ................
   3     100*  000000 000042   000000 002000   252525 000000   000040 252520    ..."......... ..
   3     104   000040 040040   000000 000000   000000 777777   000000 000000    .   ............
   3     110   000000 000000   000000 000000   000000 000000   000000 000000    ................
   3     114   251000 622000   000000 000000   000000 000000   111250 000000    ............I...
   3     120   040040 040040   000000 000000   000000 000000   000000 000000        ............
   3     124   000000 000000   ****** ******                                    ........

FPT_READ
 Sect OctLoc
   3     126   000005 777640   000136 006000   000000 177640   000000 006014    .....^..........
   3     132   000000 177640   000000 006014   000000 177640   000000 006014    ................
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:143  
   3     136   000000 400000   000000 000000   000000 000000   000000 000000    ................
   3     142   000000 000000   000000 000000                                    ........

FPT_FID
 Sect OctLoc
   3     144   000003 777640   000170 006000   000000 177640   000000 006014    .....x..........
   3     150   000007 777640   000000 006000   000001 777640   000010 006000    ................
   3     154   000001 777640   000012 006000   000003 777640   000014 006000    ................
   3     160   000001 777640   000020 006000   000000 177640   000101 606000    .............A..
   3     164   000000 777640   000104 006000   000011 777640   000022 006000    .....D..........
   3     170   777000 000000   000000 000000   000000 000000   ****** ******    ................

FPT_GDS
 Sect OctLoc
   3     174   000001 777640   000200 006000   000001 777640   000000 006000    ................
   3     200   000600 000000   ****** ******                                    ........

AN_NEXT
 Sect OctLoc
   4     000   000025 777640   000044 006000   000000 177640   000000 006014    .....$..........
   4     004   000000 177640   000000 006014   000000 177640   000000 006014    ................
   4     044*  000000 004042   000000 002000   252525 000000   000040 252520    ..."......... ..
   4     050   000040 040040   000000 000000   000000 777777   000000 000000    .   ............
   4     054   000000 000000   000000 000000   000000 000000   000000 000000    ................
   4     060   251000 622000   000000 000000   000000 000000   111250 000000    ............I...
   4     064   040040 040040   000000 000000   000000 000000   000000 000000        ............
   4     070   000000 000000   ****** ******                                    ........

AN_PREV
 Sect OctLoc
   4     072   000025 777640   000136 006000   000000 177640   000000 006014    .....^..........
   4     076   000000 177640   000000 006014   000000 177640   000000 006014    ................
   4     136*  000000 004042   000001 002000   252525 000000   000040 252520    ..."......... ..
   4     142   000040 040040   000000 000000   000000 777777   000000 000000    .   ............
   4     146   000000 000000   000000 000000   000000 000000   000000 000000    ................
   4     152   251000 622000   000000 000000   000000 000000   111250 000000    ............I...
   4     156   040040 040040   000000 000000   000000 000000   000000 000000        ............
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:144  
   4     162   000000 000000   ****** ******                                    ........

CLOSE_SYM
 Sect OctLoc
   4     164   000003 777640   000216 006000   000000 177640   000000 006014    ................
   4     170   000000 177640   000000 006014   000000 177640   000000 006014    ................
   4     214*  000000 177640   000000 006014   000000 000000   000000 000040    ...............
   4     220   000220 000000   000000 000000                                    ........

CLOSE_DUMP
 Sect OctLoc
   4     222   000003 777640   000254 006000   000000 177640   000000 006014    ................
   4     226   000000 177640   000000 006014   000000 177640   000000 006014    ................
   4     252*  000000 177640   000000 006014   000000 000000   000000 000040    ...............
   4     256   000220 000000   000000 000000                                    ........

DELETE_DUMP
 Sect OctLoc
   4     260   000003 777640   000312 006000   000000 177640   000000 006014    ................
   4     264   000000 177640   000000 006014   000000 177640   000000 006014    ................
   4     310*  000000 177640   000000 006014   000000 000001   000000 000040    ...............
   4     314   000220 000000   000000 000000                                    ........

UPDATE_DUMP
 Sect OctLoc
   4     316   000025 777640   000362 006000   000000 177640   000000 006014    ................
   4     322   000000 177640   000000 006014   000000 177640   000000 006014    ................
   4     362*  000000 000042   000000 001000   252525 000000   000040 252520    ..."......... ..
   4     366   000040 040040   000000 000000   000000 777777   000000 000000    .   ............
   4     372   000000 000000   000000 000000   000000 000000   000000 000000    ................
   4     376   251000 622000   000000 000000   000000 000000   111250 000000    ............I...
   4     402   040040 040040   000000 000000   000000 000000   000000 000000        ............
   4     406   000000 000000   ****** ******                                    ........

RENAME_DUMP
 Sect OctLoc
   4     410   000003 777640   000442 006000   000000 177640   000000 006014    ................
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:145  
   4     414   000000 177640   000000 006014   000007 777640   000000 006000    ................
   4     420   000000 177640   000000 006014   000000 177640   000000 006014    ................
   4     440*  000000 177640   000000 006014   000000 400000   000000 000040    ...............
   4     444   000220 000000   000000 000000                                    ........

DUMPDCB
 Sect OctLoc
   4     446   000000 000000                                                    ....

AN_FMT
 Sect OctLoc
   4     447   101156 154172   151156 147040   045056 063106                    Anlzing %.3F

(unnamed)
 Sect OctLoc
   6     000   000077 777640   000004 200000   000000 177640   000000 006014    .?..............
   6     004   000000 006003   174040 040040   060040 040040   170040 040040    ....|   0   x
   6     010   000002 777640   000447 006000   000000 777640   000446 006000    ................
   6     014   000000 006000   000010 006000   000012 006000   137040 040040    ............_
      577     9521    1   END TCU$MAKESYMS;
      578     9522        %EOD;

PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:146  
--  Include file information  --

   B_ERRORS_C.:LIBRARY  is referenced.
   CP_6_SUBS.:LIBRARY  is referenced.
   CP_6.:LIBRARY  cannot be made into a system file and is referenced.
   B$OBJECT_C.:LIBRARY  is referenced.
   DA_SYMBOLS_R.:TOOLE05  cannot be made into a system file and is referenced.
   XU_MACRO_C.:LIBRARY  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure TCU$MAKESYMS.
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:147  

 **** Variables and constants ****

  ****  Section 003  Data  TCU$MAKESYMS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   144-0-0/d STRC(864)   r     1 FPT_FID                  174-0-0/d STRC(216)   r     1 FPT_GDS
    34-0-0/d STRC(2088)  r     1 FPT_OPEN                 126-0-0/d STRC(504)   r     1 FPT_READ
    10-0-0/c STRC(72)    r     1 VLP_ACCT                   0-0-0/c STRC(288)   r     1 VLP_NAME
    12-0-0/c STRC(72)    r     1 VLP_PASS                  14-0-0/d STRC(90)    r     1 VLP_SN
    20-0-0/c STRC(72)    r     1 VLP_WSN                   22-0-0/d STRC(324)   r     1 VLR_FID

  ****  Section 004 RoData TCU$MAKESYMS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   447-0-0/c CHAR(12)    r     1 AN_FMT                     0-0-0/d STRC(2088)  r     1 AN_NEXT
    72-0-0/d STRC(2088)  r     1 AN_PREV                  222-0-0/d STRC(1080)  r     1 CLOSE_DUMP
   164-0-0/d STRC(1080)  r     1 CLOSE_SYM                260-0-0/d STRC(1080)  r     1 DELETE_DUMP
   446-0-0/w SBIN        r     1 DUMPDCB                  410-0-0/d STRC(1080)  r     1 RENAME_DUMP
   316-0-0/d STRC(2088)  r     1 UPDATE_DUMP

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @SYM                      10-0-0/w SBIN        r     1 CSIZE
   113-0-0/w PTR         r     1 DCB$                      11-0-0/w STRC(72)    r     1 EDEF
   114-0-0/w PTR         r     1 ENT$                       5-0-0/w SBIN        r     1 I
    13-0-0/c CHAR(256)   r     1 INBUF                      6-0-0/w SBIN        r     1 J
     7-0-0/w SBIN        r     1 K                        115-0-0/w PTR         r     1 NAME$
     4-0-0/w SBIN        r     1 SEGSIZE                   *0-0-0/w ASTR(153)   r     1 SYM

  ****  SYMREF variables  ****
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:148  

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 B$TCB$                     0-0-0/w SBIN        r     1 DA_ALTSHI
     0-0-0/w SBIN        r     1 DA_ALTSYM                  0-0-0/w PTR         r     1 DA_DNAME$
     0-0-0/b STRC        r     1 DA_EDCTL(0:15)
     0-0-0/w PTR         r     1 DA_ENTDEF$
     0-0-0/b STRC        r     1 DA_SDCTL(0:15)
     0-0-0/w PTR         r     1 DA_SYMDEF$                 0-0-0/w STRC(72)    r     1 DA_SYMSEG
     0-0-0/w SBIN        r     1 FDS                        0-0-0/w SBIN        r     1 NXTBUF

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(2448)  r     1 B$ALT                      0-0-0/w STRC(72)    r     1 B$EDEF
     0-0-0/w STRC(144)   r     1 B$TCB                      0-0-0/c ACHR        r     1 CBASE
     0-0-0/w ASTR(18)    r     1 DNAME                      0-0-0/d ASTR(3528)  r     1 F$DCB
     0-0-0N  NULL        r     1 F$SYMBOL                   0-0-0N  NULL        r     1 M$DUMPFILE


   Procedure TCU$MAKESYMS requires 416 words for executable code.
   Procedure TCU$MAKESYMS requires 80 words of local(AUTO) storage.
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:149  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:150  
          MINI XREF LISTING

AN_FMT
      9291**DCL      9495--CALL
AN_NEXT
      8710**DCL      9494<>CALL
AN_NEXT.ACSVEH_
      8712**DCL      8713--REDEF
AN_NEXT.ALTKEYS_
      8718**DCL      8719--REDEF    8719--REDEF
AN_NEXT.HDR_
      8717**DCL      8718--REDEF
AN_NEXT.TAB_
      8716**DCL      8717--REDEF
AN_NEXT.UHL_
      8710**DCL      8711--REDEF    8711--REDEF
AN_NEXT.V
      8719**DCL      8710--DCLINIT
AN_NEXT.V.FSN#
      8750**DCL      8750--REDEF    8750--REDEF
AN_NEXT.WSN_
      8716**DCL      8716--REDEF
AN_PREV
      8823**DCL      9493<>CALL
AN_PREV.ACSVEH_
      8825**DCL      8826--REDEF
AN_PREV.ALTKEYS_
      8831**DCL      8832--REDEF    8832--REDEF
AN_PREV.HDR_
      8830**DCL      8831--REDEF
AN_PREV.TAB_
      8829**DCL      8830--REDEF
AN_PREV.UHL_
      8823**DCL      8824--REDEF    8824--REDEF
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:151  
AN_PREV.V
      8832**DCL      8823--DCLINIT
AN_PREV.V.FSN#
      8863**DCL      8863--REDEF    8863--REDEF
AN_PREV.WSN_
      8829**DCL      8829--REDEF
B$ALT.CODE
      9298**DCL      9298--REDEF    9299--REDEF    9299--REDEF
B$ALT.ERR.CODE
      9300**DCL      9482>>IF
B$ALT.ERR.ERR#
      9300**DCL      9300--REDEF
B$ALT.EVID
      9299**DCL      9299--REDEF    9299--REDEF
B$EDEF
      9305**DCL      9477<<ASSIGN
B$EDEF.NPOINTER
      9330**DCL      9469>>IF       9469>>IF
B$EDEF.OU
      9322**DCL      9328--REDEF
B$TCB.ALT$
      9294**DCL      9482>>IF
B$TCB$
      9292**DCL      9294--IMP-PTR  9482>>IF
CBASE
      8353**DCL      9474<<ASSIGN   9474>>ASSIGN
CLOSE_DUMP
      8971**DCL      9488<>CALL     9491<>CALL     9517<>CALL
CLOSE_DUMP.SN_
      8971**DCL      8971--REDEF
CLOSE_DUMP.UTL_
      8972**DCL      8972--REDEF
CLOSE_DUMP.V
      8976**DCL      8971--DCLINIT
CLOSE_DUMP.V.EXPIRE#
      8986**DCL      8986--REDEF
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:152  
CLOSE_DUMP.V.TYPE#
      8984**DCL      8984--REDEF
CLOSE_DUMP.V.XTNSIZE#
      8981**DCL      8981--REDEF    8983--REDEF
CLOSE_SYM
      8929**DCL      9410<>CALL
CLOSE_SYM.SN_
      8929**DCL      8929--REDEF
CLOSE_SYM.UTL_
      8930**DCL      8930--REDEF
CLOSE_SYM.V
      8934**DCL      8929--DCLINIT
CLOSE_SYM.V.EXPIRE#
      8944**DCL      8944--REDEF
CLOSE_SYM.V.TYPE#
      8942**DCL      8942--REDEF
CLOSE_SYM.V.XTNSIZE#
      8939**DCL      8939--REDEF    8941--REDEF
CSIZE
      8352**DCL      8353--IMP-SIZ  9457<<ASSIGN   9458>>IF       9460>>IF       9460>>ASSIGN   9461>>IF
      9461>>ASSIGN   9462>>IF       9462>>ASSIGN   9473<<ASSIGN   9474>>ASSIGN   9474>>ASSIGN
DA_ALTSHI
      3164**DCL      9401<<ASSIGN
DA_ALTSYM
      3164**DCL      9402<<ASSIGN
DA_DNAME$
      3161**DCL      9427<<ASSIGN   9428>>ASSIGN   9442>>ASSIGN   9469>>IF       9469>>IF
DA_EDCTL
      3164**DCL      9398<<ASSIGN
DA_EDCTL.STOP
      3164**DCL      9480<<ASSIGN
DA_ENTDEF$
      3161**DCL      9399<<ASSIGN   9430<<ASSIGN   9467>>ASSIGN   9472>>IF       9473>>ASSIGN   9474>>ASSIGN
      9474>>ASSIGN   9476<<ASSIGN   9476>>ASSIGN   9478>>IF       9480>>ASSIGN
DA_SDCTL
      3163**DCL      9397<<ASSIGN
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:153  
DA_SYMDEF$
      3161**DCL      9400<<ASSIGN   9429<<ASSIGN   9430>>ASSIGN   9468>>DOWHILE  9480>>ASSIGN   9481<<ASSIGN
DA_SYMSEG
      3160**DCL      9282--DCLINIT
DA_SYMSEG.BOUND
      3160**DCL      9418>>ASSIGN
DA_SYMSEG.P
      3160**DCL      3161--REDEF
DA_SYMSEG.P$
      3161**DCL      9427>>ASSIGN
DCB$
      9393**DCL      9413<<ASSIGN   9414>>IF       9416>>ASSIGN   9514<<ASSIGN   9515>>CALLBLT  9516>>ASSIGN
DELETE_DUMP
      9013**DCL      9509<>CALL
DELETE_DUMP.SN_
      9013**DCL      9013--REDEF
DELETE_DUMP.UTL_
      9014**DCL      9014--REDEF
DELETE_DUMP.V
      9018**DCL      9013--DCLINIT
DELETE_DUMP.V.EXPIRE#
      9028**DCL      9028--REDEF
DELETE_DUMP.V.TYPE#
      9026**DCL      9026--REDEF
DELETE_DUMP.V.XTNSIZE#
      9023**DCL      9023--REDEF    9025--REDEF
DNAME
      9382**DCL      9443--ASSIGN
DNAME.COUNT
      9383**DCL      9390--IMP-SIZ  9438>>ASSIGN   9440<<ASSIGN   9443>>ASSIGN   9469>>IF
DNAME.TEXT
      9390**DCL      9438<<ASSIGN   9469>>IF
DUMPDCB
      9290**DCL      9495--CALL
EDEF
      8355**DCL      9441<<ASSIGN   9470--ASSIGN   9474--ASSIGN   9476--ASSIGN   9477--ASSIGN   9477>>ASSIGN
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:154  
      9480--ASSIGN
EDEF.ISADDR
      8378**DCL      9465<<ASSIGN
EDEF.NPOINTER
      8380**DCL      9442<<ASSIGN
EDEF.OU
      8372**DCL      8378--REDEF
EDEF.PRI
      8383**DCL      9466<<ASSIGN
ENT$
      9394**DCL      9305--IMP-PTR  9467<<ASSIGN   9468>>DOWHILE  9469>>IF       9469>>IF       9470<<ASSIGN
      9470>>ASSIGN   9472>>IF       9473>>ASSIGN   9477>>ASSIGN
F$DCB.ACTPOS
      9217**DCL      9217--REDEF
F$DCB.ARS#
      9191**DCL      9191--REDEF
F$DCB.ASN#
      9206**DCL      9414>>IF
F$DCB.ATTR
      9210**DCL      9211--REDEF
F$DCB.BORROW
      9225**DCL      9225--REDEF    9225--REDEF    9225--REDEF
F$DCB.DCBNAME.L
      9239**DCL      9239--IMP-SIZ
F$DCB.EOMCHAR#
      9195**DCL      9195--REDEF
F$DCB.FLDID
      9220**DCL      9220--REDEF
F$DCB.FORM$
      9214**DCL      9214--REDEF
F$DCB.FSECT
      9230**DCL      9230--REDEF
F$DCB.FSN#
      9207**DCL      9207--REDEF    9207--REDEF    9208--REDEF
F$DCB.HEADER$
      9213**DCL      9213--REDEF
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:155  
F$DCB.IXTNSIZE#
      9211**DCL      9211--REDEF
F$DCB.LASTSTA$
      9200**DCL      9200--REDEF
F$DCB.LVL
      9226**DCL      9226--REDEF
F$DCB.NAME#.C
      9201**DCL      9201--REDEF    9515>>CALLBLT
F$DCB.NAME#.L
      9201**DCL      9516>>ASSIGN
F$DCB.NOEOF
      9223**DCL      9223--REDEF
F$DCB.NRECS#
      9212**DCL      9212--REDEF    9416>>ASSIGN
F$DCB.NRECX
      9231**DCL      9231--REDEF
F$DCB.OHDR
      9223**DCL      9223--REDEF
F$DCB.ORG#
      9206**DCL      9206--REDEF
F$DCB.PRECNO
      9229**DCL      9229--REDEF
F$DCB.RCSZ
      9235**DCL      9235--REDEF
F$DCB.RES#
      9202**DCL      9202--REDEF
F$DCB.SETX
      9214**DCL      9214--REDEF
F$DCB.TAB$
      9214**DCL      9214--REDEF
F$DCB.TDA
      9228**DCL      9229--REDEF
F$DCB.WSN#
      9202**DCL      9202--REDEF
F$SYMBOL
      8343**DCL      9405>>ASSIGN   9413--ASSIGN
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:156  
FDS
      9288**DCL      9495<>CALL
FPT_FID
      9259**DCL      9408<>CALL     9499<>CALL
FPT_FID.TEXTFID_
      9259**DCL      9404<<ASSIGN   9407<<ASSIGN   9498<<ASSIGN
FPT_FID.V
      9263**DCL      9259--DCLINIT
FPT_GDS
      9282**DCL      9421<>CALL     9425<>CALL
FPT_GDS.V
      9282**DCL      9282--DCLINIT
FPT_GDS.V.SEGSIZE#
      9285**DCL      9420<<ASSIGN   9424<<ASSIGN
FPT_OPEN
      8597**DCL      9411<>CALL     9501<>CALL
FPT_OPEN.ACSVEH_
      8599**DCL      8600--REDEF
FPT_OPEN.ALTKEYS_
      8605**DCL      8606--REDEF    8606--REDEF
FPT_OPEN.HDR_
      8604**DCL      8605--REDEF
FPT_OPEN.TAB_
      8603**DCL      8604--REDEF
FPT_OPEN.UHL_
      8597**DCL      8598--REDEF    8598--REDEF
FPT_OPEN.V
      8606**DCL      8597--DCLINIT
FPT_OPEN.V.ASN#
      8616**DCL      9262--DCLINIT
FPT_OPEN.V.DCB#
      8606**DCL      9405<<ASSIGN   9500<<ASSIGN
FPT_OPEN.V.FSN#
      8637**DCL      8637--REDEF    8637--REDEF
FPT_OPEN.V.RES#
      8621**DCL      9262--DCLINIT
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:157  
FPT_OPEN.WSN_
      8603**DCL      8603--REDEF
FPT_READ
      8884**DCL      9415<>CALL     9433<>CALL
FPT_READ.BUF_
      8886**DCL      9403<<ASSIGN
FPT_READ.STATION_
      8887**DCL      8888--REDEF
FPT_READ.V
      8888**DCL      8884--DCLINIT
FPT_READ.V.DVBYTE.REREAD#
      8899**DCL      8899--REDEF
FPT_READ.V.INDX#
      8897**DCL      8897--REDEF
I
      8349**DCL      9418<<ASSIGN   9419>>IF       9420>>ASSIGN   9423>>IF       9424>>ASSIGN   9435<<CALLBLT
      9436>>CALLBLT  9437>>IF       9437>>IF       9438>>ASSIGN   9439>>CALLBLT  9444>>DOUNTIL  9445<<ASSIGN
      9445>>ASSIGN   9447>>IF       9448<<ASSIGN   9448>>ASSIGN   9450>>IF       9452<<ASSIGN   9452>>ASSIGN
      9457>>ASSIGN   9463<<ASSIGN   9463>>ASSIGN
INBUF
      8424**DCL      9403--ASSIGN   9432<<ASSIGN   9434>>IF       9434<<ASSIGN   9434>>ASSIGN   9435>>CALLBLT
      9436>>CALLBLT  9437>>IF       9438>>ASSIGN   9439>>CALLBLT  9444>>DOUNTIL  9447>>IF       9450>>IF
      9457>>ASSIGN   9469>>IF
J
      8350**DCL      9436<<CALLBLT  9437>>IF       9449<<ASSIGN   9451<<ASSIGN   9454<<ASSIGN   9459>>ASSIGN
K
      8351**DCL      9439<<CALLBLT  9440>>ASSIGN   9455<<ASSIGN   9459<<ASSIGN   9459>>ASSIGN   9460<<ASSIGN
      9460>>ASSIGN   9461<<ASSIGN   9461>>ASSIGN   9462<<ASSIGN   9462>>ASSIGN   9465>>ASSIGN
M$CLOSE
      6604**DCL-ENT  9410--CALL     9491--CALL     9509--CALL     9517--CALL     9519--CALL
M$DUMPFILE
      8344**DCL      9500>>ASSIGN   9514--ASSIGN
M$FDS
      6639**DCL-ENT  9425--CALL
M$FID
      6667**DCL-ENT  9408--CALL     9499--CALL
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:158  
M$GDS
      6639**DCL-ENT  9421--CALL
M$OPEN
      6604**DCL-ENT  9411--CALL     9493--CALL     9494--CALL     9501--CALL     9518--CALL
M$READ
      6605**DCL-ENT  9415--CALL     9433--CALL
M$REW
      6607**DCL-ENT  9488--CALL
NAME$
      9395**DCL      9382--IMP-PTR  9428<<ASSIGN   9429>>ASSIGN   9438>>ASSIGN   9438>>ASSIGN   9440>>ASSIGN
      9442>>ASSIGN   9443<<ASSIGN   9443>>ASSIGN   9443>>ASSIGN   9443>>ASSIGN   9478>>IF
NEXT_REC
      9430**LABEL    9435--CALLALT  9436--CALLALT  9437--GOTO     9478--GOTO
NXTBUF
      9287**DCL      9486<<ASSIGN   9508<<ASSIGN   9513<<ASSIGN
PMMEALT
      9478**LABEL    9408--CALLALT  9411--CALLALT  9415--CALLALT  9421--CALLALT  9425--CALLALT  9433--CALLALT
PMMEALT1
      9502**LABEL    9488--CALLALT  9493--CALLALT  9494--CALLALT  9499--CALLALT  9509--CALLALT  9517--CALLALT
      9518--CALLALT  9519--CALLALT
RENAME_DUMP
      9165**DCL      9519<>CALL
RENAME_DUMP.SN_
      9165**DCL      9165--REDEF
RENAME_DUMP.UTL_
      9166**DCL      9166--REDEF
RENAME_DUMP.V
      9170**DCL      9165--DCLINIT
RENAME_DUMP.V.EXPIRE#
      9180**DCL      9180--REDEF
RENAME_DUMP.V.TYPE#
      9178**DCL      9178--REDEF
RENAME_DUMP.V.XTNSIZE#
      9175**DCL      9175--REDEF    9177--REDEF
SEGSIZE
      8348**DCL      9416<<ASSIGN   9417<<ASSIGN   9417>>ASSIGN   9418>>ASSIGN   9429>>ASSIGN
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:159  
SYM
      3120**DCL         6--PROC     9406--IF       9485--ENTRY    9487--IF       9512--ENTRY
SYM.CODE
      3126**DCL      9492>>IF       9493>>IF
SYM.COUNT
      3143**DCL      3146--IMP-SIZ  9407>>IF       9407>>ASSIGN   9498>>ASSIGN   9515>>CALLBLT  9516>>ASSIGN
SYM.TEXT
      3146**DCL      9407--ASSIGN   9498--ASSIGN   9515>>CALLBLT
UPDATE_DUMP
      9097**DCL      9518<>CALL
UPDATE_DUMP.ACSVEH_
      9099**DCL      9100--REDEF
UPDATE_DUMP.ALTKEYS_
      9105**DCL      9106--REDEF    9106--REDEF
UPDATE_DUMP.HDR_
      9104**DCL      9105--REDEF
UPDATE_DUMP.TAB_
      9103**DCL      9104--REDEF
UPDATE_DUMP.UHL_
      9097**DCL      9098--REDEF    9098--REDEF
UPDATE_DUMP.V
      9106**DCL      9097--DCLINIT
UPDATE_DUMP.V.FSN#
      9137**DCL      9137--REDEF    9137--REDEF
UPDATE_DUMP.WSN_
      9103**DCL      9103--REDEF
VLP_ACCT
      8466**DCL      8602--DCLINIT  9260--DCLINIT
VLP_NAME
      8453**DCL      8598--DCLINIT  9167--DCLINIT  9260--DCLINIT
VLP_NAME.L#
      8453**DCL      9516<<ASSIGN
VLP_NAME.NAME#
      8453**DCL      9515<<CALLBLT
VLP_PASS
      8479**DCL      8599--DCLINIT  9261--DCLINIT
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:160  
VLP_SN
      8492**DCL      8597--DCLINIT  9261--DCLINIT
VLP_WSN
      8505**DCL      8603--DCLINIT  9261--DCLINIT
VLR_FID
      8518**DCL      9263--DCLINIT
X$WRITE
      9289**DCL-ENT  9495--CALL
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:161  
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:162  
              MINI UREF LISTING

DA_DFLTACCT    3162**DCL
DA_MONPTR$    3163**DCL
DA_SYMBOL    3162**DCL
DA_SYMERR    3161**DCL
M$ACCT    6621**DCL-ENT
M$ACTIVATE    6624**DCL-ENT
M$ALIB    6617**DCL-ENT
M$ASUSER    6619**DCL-ENT
M$ATTACH    6626**DCL-ENT
M$BADPP    6644**DCL-ENT
M$CGCTL    6625**DCL-ENT
M$CGINFO    6625**DCL-ENT
M$CHECK    6606**DCL-ENT
M$CHGUNIT    6664**DCL-ENT
M$CLRSTK    6662**DCL-ENT
M$CMDVAR    6673**DCL-ENT
M$CONFIG    6634**DCL-ENT
M$CORRES    6609**DCL-ENT
M$CPEXIT    6618**DCL-ENT
M$CVM    6642**DCL-ENT
M$CVOL    6607**DCL-ENT
M$DCLFLD    6634**DCL-ENT
M$DEACTIVATE    6624**DCL-ENT
M$DELREC    6606**DCL-ENT
M$DEQ    6671**DCL-ENT
M$DETACH    6626**DCL-ENT
M$DEVICE    6608**DCL-ENT
M$DISPLAY    6671**DCL-ENT
M$DISPRES    6611**DCL-ENT
M$DLIB    6617**DCL-ENT
M$DRIBBLE    6634**DCL-ENT
M$DRTN    6662**DCL-ENT
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:163  
M$DSUSER    6619**DCL-ENT
M$ENQ    6670**DCL-ENT
M$EOM    6629**DCL-ENT
M$ERASE    6635**DCL-ENT
M$ERR    6616**DCL-ENT
M$ERRMSG    6667**DCL-ENT
M$EVENT    6659**DCL-ENT
M$EXHUME    6668**DCL-ENT
M$EXIT    6616**DCL-ENT
M$EXTEND    6608**DCL-ENT
M$FDP    6640**DCL-ENT
M$FEBOOT    6632**DCL-ENT
M$FECTL    6633**DCL-ENT
M$FEDUMP    6632**DCL-ENT
M$FINDPROC    6621**DCL-ENT
M$FSUSER    6619**DCL-ENT
M$FVP    6641**DCL-ENT
M$FWCG    6625**DCL-ENT
M$GBPL    6645**DCL-ENT
M$GDDL    6641**DCL-ENT
M$GDP    6640**DCL-ENT
M$GETDCB    6610**DCL-ENT
M$GETMOUSE    6650**DCL-ENT
M$GETPM    6651**DCL-ENT
M$GJOB    6669**DCL-ENT
M$GLINEATTR    6629**DCL-ENT
M$GOODPP    6644**DCL-ENT
M$GPLATEN    6637**DCL-ENT
M$GPROMPT    6636**DCL-ENT
M$GTRMATTR    6630**DCL-ENT
M$GTRMCTL    6628**DCL-ENT
M$GTRMTAB    6631**DCL-ENT
M$GVP    6640**DCL-ENT
M$HELP    6667**DCL-ENT
M$INT    6659**DCL-ENT
M$INTRTN    6620**DCL-ENT
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:164  
M$IOQ    6655**DCL-ENT
M$JOBSTATS    6669**DCL-ENT
M$KEYIN    6609**DCL-ENT
M$LDEV    6604**DCL-ENT
M$LDTRC    6617**DCL-ENT
M$LIMIT    6610**DCL-ENT
M$LINES    6609**DCL-ENT
M$LINK    6616**DCL-ENT
M$MADMUCK    6612**DCL-ENT
M$MAKUSER    6643**DCL-ENT
M$MBS    6611**DCL-ENT
M$MDFFLD    6635**DCL-ENT
M$MERC    6660**DCL-ENT
M$MERCS    6661**DCL-ENT
M$MIRROR    6655**DCL-ENT
M$MONINFO    6672**DCL-ENT
M$MPL    6645**DCL-ENT
M$NODEINFO    6636**DCL-ENT
M$NXTUSR    6670**DCL-ENT
M$OCMSG    6668**DCL-ENT
M$OLAY    6616**DCL-ENT
M$PAS    6645**DCL-ENT
M$PATHCON    6668**DCL-ENT
M$PDS    6639**DCL-ENT
M$PFIL    6606**DCL-ENT
M$PLATEN    6630**DCL-ENT
M$PRECORD    6608**DCL-ENT
M$PROCNAME    6621**DCL-ENT
M$PROFILE    6632**DCL-ENT
M$PROMPT    6628**DCL-ENT
M$RACST    6612**DCL-ENT
M$RDSYSLOG    6653**DCL-ENT
M$RELDCB    6610**DCL-ENT
M$RELRES    6611**DCL-ENT
M$RELSTARF    6613**DCL-ENT
M$REM    6613**DCL-ENT
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:165  
M$RENV    6660**DCL-ENT
M$REQUIRE    6612**DCL-ENT
M$RETRY    6661**DCL-ENT
M$RETRYS    6661**DCL-ENT
M$RLSFLD    6635**DCL-ENT
M$RPRIV    6663**DCL-ENT
M$RSPP    6642**DCL-ENT
M$RSWITCH    6664**DCL-ENT
M$RUE    6670**DCL-ENT
M$SAD    6643**DCL-ENT
M$SAVE    6619**DCL-ENT
M$SCON    6620**DCL-ENT
M$SCREECH    6618**DCL-ENT
M$SENV    6660**DCL-ENT
M$SETFMA    6604**DCL-ENT
M$SETFP    6633**DCL-ENT
M$SINPUT    6631**DCL-ENT
M$SLCFLD    6636**DCL-ENT
M$SMOUSE    6650**DCL-ENT
M$SMPRT    6642**DCL-ENT
M$SPRIV    6663**DCL-ENT
M$SSC    6643**DCL-ENT
M$SSWITCH    6663**DCL-ENT
M$STATE    6672**DCL-ENT
M$STD    6644**DCL-ENT
M$STIMER    6658**DCL-ENT
M$STLPP    6641**DCL-ENT
M$STRAP    6658**DCL-ENT
M$STRMATTR    6630**DCL-ENT
M$STRMCTL    6628**DCL-ENT
M$STRMTAB    6631**DCL-ENT
M$SYMBIO    6669**DCL-ENT
M$SYSCON    6655**DCL-ENT
M$SYSID    6673**DCL-ENT
M$TDCLOSE    6654**DCL-ENT
M$TDIO    6654**DCL-ENT
PL6.E3A0      #003=TCU$MAKESYMS File=TCU$UNLZ.:TCA2TSI                           SUN 11/16/97 14:28 Page:166  
M$TDOPEN    6653**DCL-ENT
M$TDREQCPU    6654**DCL-ENT
M$TEMPWROC    6648**DCL-ENT
M$TIME    6671**DCL-ENT
M$TRAP    6658**DCL-ENT
M$TRMISC    6633**DCL-ENT
M$TRMPRG    6629**DCL-ENT
M$TRTN    6662**DCL-ENT
M$TRUNC    6605**DCL-ENT
M$TTIMER    6658**DCL-ENT
M$UC    6628**DCL
M$UMPL    6645**DCL-ENT
M$UNFID    6667**DCL-ENT
M$UNLATCH    6624**DCL-ENT
M$UNSHARE    6621**DCL-ENT
M$USRFIELD    6664**DCL-ENT
M$VIRTUAL    6639**DCL-ENT
M$WAIT    6662**DCL-ENT
M$WEOF    6607**DCL-ENT
M$WRITE    6605**DCL-ENT
M$WRSYSLOG    6653**DCL-ENT
M$XCON    6659**DCL-ENT
M$XCONRTN    6620**DCL-ENT
M$XEQTIME    6672**DCL-ENT
M$XFLUSH    6613**DCL-ENT
M$XMOUSE    6650**DCL-ENT
M$XXX    6616**DCL-ENT
M$YC    6618**DCL-ENT
TCU$ANLZ    9485**ENTRY
TCU$DELETE    9507**ENTRY
TCU$MAKESYMS       6**PROC
TCU$RENAME    9512**ENTRY

PL6.E3A0      #004=DAM$VPAGE File=TCU$UNLZ.:TCA2TSI                              SUN 11/16/97 14:30 Page:167  
      579        1        /*T***********************************************************/
      580        2        /*T*                                                         */
      581        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      582        4        /*T*                                                         */
      583        5        /*T***********************************************************/
      584        6        DAM$VPAGE: PROC(P1,P2,P3,P4,P5) ALTRET;
      585        7        /* A dumm y routine to eliminate PREFs */
      586        8    1   DCL P1 UBIN;
      587        9    1   DCL P2 UBIN;
      588       10    1   DCL P3 UBIN;
      589       11    1   DCL P4 UBIN;
      590       12    1   DCL P5 UBIN;
      591       13    1   DCL DA_DFLT_RADIX SBIN CONSTANT SYMDEF;
      592       14    1   DCL DA_INITIALIZED SBIN CONSTANT SYMDEF;
      593       15    1   DCL DA_WINDOWBASE SBIN CONSTANT SYMDEF;
      594       16    1           RETURN;
      595       17    1   END DAM$VPAGE;
      596       18        %EOD;

PL6.E3A0      #004=DAM$VPAGE File=TCU$UNLZ.:TCA2TSI                              SUN 11/16/97 14:30 Page:168  
--  Include file information  --

   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DAM$VPAGE.

   Procedure DAM$VPAGE requires 3 words for executable code.
   Procedure DAM$VPAGE requires 8 words of local(AUTO) storage.

PL6.E3A0      #004=DAM$VPAGE File=TCU$UNLZ.:TCA2TSI                              SUN 11/16/97 14:30 Page:169  

 Object Unit name= DAM$VPAGE                                  File name= TCU$UNLZ.:TCA2TOU
 UTS= NOV 16 '97 14:30:11.72 SUN                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  RoData even  UTS      3      3  DAM$VPAGE
    1   Proc  even  none     3      3  DAM$VPAGE

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes    yes     yes      Std        5  DAM$VPAGE

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    0      0  DA_DFLT_RADIX                      0      1  DA_INITIALIZED
    0      2  DA_WINDOWBASE

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
                       nStd      0 X66_AUTO_5
                       nStd      0 X66_ARET
PL6.E3A0      #004=DAM$VPAGE File=TCU$UNLZ.:TCA2TSI                              SUN 11/16/97 14:30 Page:170  


      579        1        /*T***********************************************************/
      580        2        /*T*                                                         */
      581        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      582        4        /*T*                                                         */
      583        5        /*T***********************************************************/
      584        6        DAM$VPAGE: PROC(P1,P2,P3,P4,P5) ALTRET;

      6  1 000000   000000 700200 xent  DAM$VPAGE    TSX0  ! X66_AUTO_5
         1 000001   000010 000005                    ZERO    8,5

      585        7        /* A dumm y routine to eliminate PREFs */
      586        8    1   DCL P1 UBIN;
      587        9    1   DCL P2 UBIN;
      588       10    1   DCL P3 UBIN;
      589       11    1   DCL P4 UBIN;
      590       12    1   DCL P5 UBIN;
      591       13    1   DCL DA_DFLT_RADIX SBIN CONSTANT SYMDEF;
      592       14    1   DCL DA_INITIALIZED SBIN CONSTANT SYMDEF;
      593       15    1   DCL DA_WINDOWBASE SBIN CONSTANT SYMDEF;
      594       16    1           RETURN;

     16  1 000002   000000 702200 xent               TSX2  ! X66_ARET
      595       17    1   END DAM$VPAGE;
      596       18        %EOD;

PL6.E3A0      #004=DAM$VPAGE File=TCU$UNLZ.:TCA2TSI                              SUN 11/16/97 14:30 Page:171  
--  Include file information  --

   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DAM$VPAGE.
PL6.E3A0      #004=DAM$VPAGE File=TCU$UNLZ.:TCA2TSI                              SUN 11/16/97 14:30 Page:172  

 **** Variables and constants ****

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @P1                        4-0-0/w PTR         r     1 @P2
     5-0-0/w PTR         r     1 @P3                        6-0-0/w PTR         r     1 @P4
     7-0-0/w PTR         r     1 @P5                       *0-0-0/w UBIN        r     1 P1
    *0-0-0/w UBIN        r     1 P2                        *0-0-0/w UBIN        r     1 P3
    *0-0-0/w UBIN        r     1 P4                        *0-0-0/w UBIN        r     1 P5


   Procedure DAM$VPAGE requires 3 words for executable code.
   Procedure DAM$VPAGE requires 8 words of local(AUTO) storage.
PL6.E3A0      #004=DAM$VPAGE File=TCU$UNLZ.:TCA2TSI                              SUN 11/16/97 14:30 Page:173  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #004=DAM$VPAGE File=TCU$UNLZ.:TCA2TSI                              SUN 11/16/97 14:30 Page:174  
          MINI XREF LISTING

P1
         8**DCL         6--PROC
P2
         9**DCL         6--PROC
P3
        10**DCL         6--PROC
P4
        11**DCL         6--PROC
P5
        12**DCL         6--PROC
PL6.E3A0      #004=DAM$VPAGE File=TCU$UNLZ.:TCA2TSI                              SUN 11/16/97 14:30 Page:175  
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #004=DAM$VPAGE File=TCU$UNLZ.:TCA2TSI                              SUN 11/16/97 14:30 Page:176  
              MINI UREF LISTING

DAM$VPAGE       6**PROC
DA_DFLT_RADIX      13**DCL
DA_INITIALIZED      14**DCL
DA_WINDOWBASE      15**DCL

PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:177  
      597        1        /*T***********************************************************/
      598        2        /*T*                                                         */
      599        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      600        4        /*T*                                                         */
      601        5        /*T***********************************************************/
      602        6        TCU$EXPRESSION: PROC(TOP,VALUE) ALTRET;
      603        7        /**/
      604        8        %INCLUDE XU_MACRO_C;
      605     3114        %INCLUDE B$OBJECT_C;
      606     6544        /**/
      607     6545        %PARSE$OUT (NAME=TOP,STCLASS=PARAM);
      608     6590    1   DCL VALUE SBIN;
      609     6591        /**/
      610     6592    1   DCL V1 SBIN;
      611     6593    1   DCL V2 SBIN;
      612     6594    1   DCL I SBIN;
      613     6595    1   DCL X SBIN;
      614     6596        /**/
      615     6597    1   DCL DAS$SDSRCH ENTRY(2) ALTRET;
      616     6598    1   DCL DAS$EDSRCH ENTRY(2) ALTRET;
      617     6599    1   DCL TCU$GETMEM ENTRY(3) ALTRET;
      618     6600    1   DCL XSL$NTOHL ENTRY(2);
      619     6601        /**/
      620     6602        %PARSE$OUT (NAME=OUT,STCLASS=BASED);
      621     6647        %PARSE$SYM (NAME=SYM,STCLASS=BASED);
      622     6685        /**/
      623     6686    1   DCL DA_SYMERR BIT(36) SYMREF;
      624     6687        /**/
      625     6688        %EJECT;
PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:178  
      626     6689        /**/
      627     6690    1           I=1;
      628     6691    2           CALL VALUE(V1,0) WHENALTRETURN DO; ALTRETURN; END;
      629     6692    2           DO WHILE(I<TOP.NSUBLKS);
      630     6693    3              CALL VALUE(V2,I+1) WHENALTRETURN DO; ALTRETURN; END;
      631     6694    3              DO CASE(TOP.SUBLK$(I)->OUT.CODE);
      632     6695    3               CASE(2);
      633     6696    3                 V1=V1+V2;
      634     6697    3               CASE(3);
      635     6698    3                 V1=V1-V2;
      636     6699    3               CASE(6);
      637     6700    4                 CALL TCU$GETMEM(V1,X,4) WHENALTRETURN DO;
      638     6701    4                    ALTRETURN;
      639     6702    4                    END;
      640     6703    3                 CALL XSL$NTOHL(V1,X);
      641     6704    3                 V1=V1+V2;
      642     6705    3               CASE(4);
      643     6706    3                 V1=V1*V2;
      644     6707    3               CASE(5);
      645     6708    3                 V1=V1/V2;
      646     6709    3               END;
      647     6710    2              I=I+2;
      648     6711    2              END;
      649     6712    1           VALUE=V1;
      650     6713    1           RETURN;
      651     6714        /**/
      652     6715    1   VALUE:  PROC(V,NODX) ALTRET;
      653     6716        /**/
      654     6717    2   DCL V SBIN;
      655     6718    2   DCL NODX SBIN;
      656     6719    2   DCL DEF$ PTR;
      657     6720    2   DCL I SBIN;
      658     6721    2   DCL J SBIN;
      659     6722    2   DCL RADIX SBIN;
      660     6723    2   DCL TV SBIN;
      661     6724        %B$EDEF (NAME=EDEF,STCLASS="BASED(DEF$)");
      662     6794        /**/
PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:179  
      663     6795    3           DO CASE(TOP.SUBLK$(NODX)->OUT.CODE);
      664     6796    3            CASE(0);
      665     6797    3              TV=0;
      666     6798    3              DEF$=TOP.SUBLK$(NODX)->OUT.SUBLK$(0)->OUT.SUBLK$(0);
      667     6799    3              RADIX=DEF$->OUT.CODE;
      668     6800    4              DO I=0 TO DEF$->SYM.COUNT-1;
      669     6801    4                 J=ASCBIN(SUBSTR(DEF$->SYM.TEXT,I,1))-ASCBIN('0');
      670     6802    4                 IF J>9 THEN J=J+ASCBIN('0')+10-ASCBIN('A');
      671     6803    4                 TV=TV*RADIX+J;
      672     6804    4                 END;
      673     6805    3              IF TOP.SUBLK$(NODX)->OUT.SUBLK$(0)->OUT.CODE=0 THEN TV=-TV;
      674     6806    3              V=TV;
      675     6807    3            CASE(1);
      676     6808    4              CALL DAS$SDSRCH(TOP.SUBLK$(NODX)->SYM.COUNT,DEF$)WHENALTRETURN DO;
      677     6809    5                 CALL DAS$EDSRCH(TOP.SUBLK$(NODX)->SYM.COUNT,DEF$)WHENALTRETURN DO;
      678     6810    5                    ALTRETURN;
      679     6811    5                    END;
      680     6812    4                 END;
      681     6813    3              V=EDEF.ISADDR;
      682     6814    3            END;
      683     6815    2           RETURN;
      684     6816    2   END VALUE;
      685     6817        /**/
      686     6818    1   END TCU$EXPRESSION;
      687     6819        %EOD;

PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:180  
--  Include file information  --

   B$OBJECT_C.:LIBRARY  is referenced.
   XU_MACRO_C.:LIBRARY  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure TCU$EXPRESSION.

   Procedure TCU$EXPRESSION requires 185 words for executable code.
   Procedure TCU$EXPRESSION requires 22 words of local(AUTO) storage.

PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:181  

 Object Unit name= TCU$EXPRESSION                             File name= TCU$UNLZ.:TCA2TOU
 UTS= NOV 16 '97 14:30:17.80 SUN                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Proc  even  none   185    271  TCU$EXPRESSION
    1  RoData even  none     2      2  TCU$EXPRESSION

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     0      0   yes    yes     yes      Std        2  TCU$EXPRESSION

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       3 TCU$GETMEM
         yes           Std       2 XSL$NTOHL
 yes     yes           Std       2 DAS$SDSRCH
 yes     yes           Std       2 DAS$EDSRCH
                       nStd      0 X66_AUTO_2
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_AALT
                       nStd      0 X66_ARET
PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:182  

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:183  


      597        1        /*T***********************************************************/
      598        2        /*T*                                                         */
      599        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      600        4        /*T*                                                         */
      601        5        /*T***********************************************************/
      602        6        TCU$EXPRESSION: PROC(TOP,VALUE) ALTRET;

      6  0 000000   000000 700200 xent  TCU$EXPRESS* TSX0  ! X66_AUTO_2
         0 000001   000026 000002                    ZERO    22,2

      603        7        /**/
      604        8        %INCLUDE XU_MACRO_C;
      605     3114        %INCLUDE B$OBJECT_C;
      606     6544        /**/
      607     6545        %PARSE$OUT (NAME=TOP,STCLASS=PARAM);
      608     6590    1   DCL VALUE SBIN;
      609     6591        /**/
      610     6592    1   DCL V1 SBIN;
      611     6593    1   DCL V2 SBIN;
      612     6594    1   DCL I SBIN;
      613     6595    1   DCL X SBIN;
      614     6596        /**/
      615     6597    1   DCL DAS$SDSRCH ENTRY(2) ALTRET;
      616     6598    1   DCL DAS$EDSRCH ENTRY(2) ALTRET;
      617     6599    1   DCL TCU$GETMEM ENTRY(3) ALTRET;
      618     6600    1   DCL XSL$NTOHL ENTRY(2);
      619     6601        /**/
      620     6602        %PARSE$OUT (NAME=OUT,STCLASS=BASED);
      621     6647        %PARSE$SYM (NAME=SYM,STCLASS=BASED);
      622     6685        /**/
      623     6686    1   DCL DA_SYMERR BIT(36) SYMREF;
      624     6687        /**/
      625     6688        %EJECT;
PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:184  
      626     6689        /**/
      627     6690    1           I=1;

   6690  0 000002   000001 235007                    LDA     1,DL
         0 000003   200007 755100                    STA     I,,AUTO

      628     6691    2           CALL VALUE(V1,0) WHENALTRETURN DO; ALTRETURN; END;

   6691  0 000004   000000 236000 1                  LDQ     0
         0 000005   200014 756100                    STQ     @V+1,,AUTO
         0 000006   200005 630500                    EPPR0   V1,,AUTO
         0 000007   200013 450500                    STP0    X+3,,AUTO
         0 000010   000134 701000 0                  TSX1    VALUE
         0 000011   000013 702000 0                  TSX2    s:6691+7
         0 000012   000014 710000 0                  TRA     s:6692

   6691  0 000013   000000 702200 xent               TSX2  ! X66_AALT

      629     6692    2           DO WHILE(I<TOP.NSUBLKS);

   6692  0 000014   200003 470500                    LDP0    @TOP,,AUTO
         0 000015   000001 236100                    LDQ     1,,PR0
         0 000016   000022 772000                    QRL     18
         0 000017   200007 116100                    CMPQ    I,,AUTO
         0 000020   000130 604400 0                  TMOZ    s:6712

      630     6693    3              CALL VALUE(V2,I+1) WHENALTRETURN DO; ALTRETURN; END;

   6693  0 000021   200007 235100                    LDA     I,,AUTO
         0 000022   000001 035007                    ADLA    1,DL
         0 000023   200025 755100                    STA     TV+4,,AUTO
         0 000024   200025 630500                    EPPR0   TV+4,,AUTO
         0 000025   200014 450500                    STP0    @V+1,,AUTO
         0 000026   200006 631500                    EPPR1   V2,,AUTO
         0 000027   200013 451500                    STP1    X+3,,AUTO
         0 000030   000134 701000 0                  TSX1    VALUE
         0 000031   000033 702000 0                  TSX2    s:6693+10
PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:185  
         0 000032   000034 710000 0                  TRA     s:6694

   6693  0 000033   000000 702200 xent               TSX2  ! X66_AALT

      631     6694    3              DO CASE(TOP.SUBLK$(I)->OUT.CODE);

   6694  0 000034   200003 470500                    LDP0    @TOP,,AUTO
         0 000035   200007 720100                    LXL0    I,,AUTO
         0 000036   000003 471510                    LDP1    3,X0,PR0
         0 000037   100000 721100                    LXL1    0,,PR1
         0 000040   000007 101003                    CMPX1   7,DU
         0 000041   000043 602011 0                  TNC     s:6694+7,X1
         0 000042   000121 710000 0                  TRA     s:6710
         0 000043   000121 710000 0                  TRA     s:6710
         0 000044   000121 710000 0                  TRA     s:6710
         0 000045   000052 710000 0                  TRA     s:6696
         0 000046   000056 710000 0                  TRA     s:6698
         0 000047   000112 710000 0                  TRA     s:6706
         0 000050   000116 710000 0                  TRA     s:6708
         0 000051   000062 710000 0                  TRA     s:6700

      632     6695    3               CASE(2);

      633     6696    3                 V1=V1+V2;

   6696  0 000052   200005 236100                    LDQ     V1,,AUTO
         0 000053   200006 036100                    ADLQ    V2,,AUTO
         0 000054   200005 756100                    STQ     V1,,AUTO
         0 000055   000121 710000 0                  TRA     s:6710

      634     6697    3               CASE(3);

      635     6698    3                 V1=V1-V2;

   6698  0 000056   200005 236100                    LDQ     V1,,AUTO
         0 000057   200006 136100                    SBLQ    V2,,AUTO
         0 000060   200005 756100                    STQ     V1,,AUTO
PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:186  
         0 000061   000121 710000 0                  TRA     s:6710

      636     6699    3               CASE(6);

      637     6700    4                 CALL TCU$GETMEM(V1,X,4) WHENALTRETURN DO;

   6700  0 000062   000001 236000 1                  LDQ     1
         0 000063   200024 756100                    STQ     TV+3,,AUTO
         0 000064   200010 631500                    EPPR1   X,,AUTO
         0 000065   200023 451500                    STP1    TV+2,,AUTO
         0 000066   200005 633500                    EPPR3   V1,,AUTO
         0 000067   200022 453500                    STP3    TV+1,,AUTO
         0 000070   200022 630500                    EPPR0   TV+1,,AUTO
         0 000071   000021 631400 xsym               EPPR1   B_VECTNIL+17
         0 000072   000000 701000 xent               TSX1    TCU$GETMEM
         0 000073   000075 702000 0                  TSX2    s:6701
         0 000074   000076 710000 0                  TRA     s:6703

      638     6701    4                    ALTRETURN;

   6701  0 000075   000000 702200 xent               TSX2  ! X66_AALT

      639     6702    4                    END;
      640     6703    3                 CALL XSL$NTOHL(V1,X);

   6703  0 000076   200010 630500                    EPPR0   X,,AUTO
         0 000077   200023 450500                    STP0    TV+2,,AUTO
         0 000100   200005 631500                    EPPR1   V1,,AUTO
         0 000101   200022 451500                    STP1    TV+1,,AUTO
         0 000102   200022 630500                    EPPR0   TV+1,,AUTO
         0 000103   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000104   000000 701000 xent               TSX1    XSL$NTOHL
         0 000105   000000 011000                    NOP     0

      641     6704    3                 V1=V1+V2;

   6704  0 000106   200005 236100                    LDQ     V1,,AUTO
PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:187  
         0 000107   200006 036100                    ADLQ    V2,,AUTO
         0 000110   200005 756100                    STQ     V1,,AUTO
         0 000111   000121 710000 0                  TRA     s:6710

      642     6705    3               CASE(4);

      643     6706    3                 V1=V1*V2;

   6706  0 000112   200005 236100                    LDQ     V1,,AUTO
         0 000113   200006 402100                    MPY     V2,,AUTO
         0 000114   200005 756100                    STQ     V1,,AUTO
         0 000115   000121 710000 0                  TRA     s:6710

      644     6707    3               CASE(5);

      645     6708    3                 V1=V1/V2;

   6708  0 000116   200005 236100                    LDQ     V1,,AUTO
         0 000117   200006 506100                    DIV     V2,,AUTO
         0 000120   200005 756100                    STQ     V1,,AUTO

      646     6709    3               END;

      647     6710    2              I=I+2;

   6710  0 000121   000002 236007                    LDQ     2,DL
         0 000122   200007 056100                    ASQ     I,,AUTO

      648     6711    2              END;

   6711  0 000123   200003 470500                    LDP0    @TOP,,AUTO
         0 000124   000001 236100                    LDQ     1,,PR0
         0 000125   000022 772000                    QRL     18
         0 000126   200007 116100                    CMPQ    I,,AUTO
         0 000127   000021 605400 0                  TPNZ    s:6693

      649     6712    1           VALUE=V1;
PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:188  

   6712  0 000130   200004 471500                    LDP1    @VALUE,,AUTO
         0 000131   200005 235100                    LDA     V1,,AUTO
         0 000132   100000 755100                    STA     0,,PR1

      650     6713    1           RETURN;

   6713  0 000133   000000 702200 xent               TSX2  ! X66_ARET

      651     6714        /**/
      652     6715    1   VALUE:  PROC(V,NODX) ALTRET;

   6715  0 000134   200012 741300       VALUE        STX1  ! X+2,,AUTO

      653     6716        /**/
      654     6717    2   DCL V SBIN;
      655     6718    2   DCL NODX SBIN;
      656     6719    2   DCL DEF$ PTR;
      657     6720    2   DCL I SBIN;
      658     6721    2   DCL J SBIN;
      659     6722    2   DCL RADIX SBIN;
      660     6723    2   DCL TV SBIN;
      661     6724        %B$EDEF (NAME=EDEF,STCLASS="BASED(DEF$)");
      662     6794        /**/
      663     6795    3           DO CASE(TOP.SUBLK$(NODX)->OUT.CODE);

   6795  0 000135   200014 470500                    LDP0    @NODX,,AUTO
         0 000136   000000 235100                    LDA     0,,PR0
         0 000137   200003 471500                    LDP1    @TOP,,AUTO
         0 000140   100003 473505                    LDP3    3,AL,PR1
         0 000141   300000 720100                    LXL0    0,,PR3
         0 000142   000002 100003                    CMPX0   2,DU
         0 000143   000145 602010 0                  TNC     s:6795+8,X0
         0 000144   000267 710000 0                  TRA     s:6815
         0 000145   000147 710000 0                  TRA     s:6797
         0 000146   000230 710000 0                  TRA     s:6808

PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:189  
      664     6796    3            CASE(0);

      665     6797    3              TV=0;

   6797  0 000147   200021 450100                    STZ     TV,,AUTO

      666     6798    3              DEF$=TOP.SUBLK$(NODX)->OUT.SUBLK$(0)->OUT.SUBLK$(0);

   6798  0 000150   000000 235100                    LDA     0,,PR0
         0 000151   100003 473505                    LDP3    3,AL,PR1
         0 000152   300003 474500                    LDP4    3,,PR3
         0 000153   400003 236100                    LDQ     3,,PR4
         0 000154   200015 756100                    STQ     DEF$,,AUTO

      667     6799    3              RADIX=DEF$->OUT.CODE;

   6799  0 000155   200015 473500                    LDP3    DEF$,,AUTO
         0 000156   300000 236100                    LDQ     0,,PR3
         0 000157   777777 376007                    ANQ     -1,DL
         0 000160   200020 756100                    STQ     RADIX,,AUTO

      668     6800    4              DO I=0 TO DEF$->SYM.COUNT-1;

   6800  0 000161   200016 450100                    STZ     I,,AUTO
         0 000162   000206 710000 0                  TRA     s:6804+1

      669     6801    4                 J=ASCBIN(SUBSTR(DEF$->SYM.TEXT,I,1))-ASCBIN('0');

   6801  0 000163   200015 470500                    LDP0    DEF$,,AUTO
         0 000164   000004 236100                    LDQ     4,,PR0
         0 000165   000033 772000                    QRL     27
         0 000166   200016 235100                    LDA     I,,AUTO
         0 000167   000100 101505                    MRL     fill='000'O
         0 000170   000004 200001                    ADSC9   4,A,PR0                  cn=1,n=1
         0 000171   200022 000004                    ADSC9   TV+1,,AUTO               cn=0,n=4
         0 000172   200022 236100                    LDQ     TV+1,,AUTO
         0 000173   000060 136007                    SBLQ    48,DL
PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:190  
         0 000174   200017 756100                    STQ     J,,AUTO

      670     6802    4                 IF J>9 THEN J=J+ASCBIN('0')+10-ASCBIN('A');

   6802  0 000175   000011 116007                    CMPQ    9,DL
         0 000176   000201 604400 0                  TMOZ    s:6803

   6802  0 000177   000007 336007                    LCQ     7,DL
         0 000200   200017 056100                    ASQ     J,,AUTO

      671     6803    4                 TV=TV*RADIX+J;

   6803  0 000201   200021 236100                    LDQ     TV,,AUTO
         0 000202   200020 402100                    MPY     RADIX,,AUTO
         0 000203   200017 036100                    ADLQ    J,,AUTO
         0 000204   200021 756100                    STQ     TV,,AUTO

      672     6804    4                 END;

   6804  0 000205   200016 054100                    AOS     I,,AUTO
         0 000206   200015 470500                    LDP0    DEF$,,AUTO
         0 000207   000004 236100                    LDQ     4,,PR0
         0 000210   000033 772000                    QRL     27
         0 000211   200016 116100                    CMPQ    I,,AUTO
         0 000212   000163 605400 0                  TPNZ    s:6801

      673     6805    3              IF TOP.SUBLK$(NODX)->OUT.SUBLK$(0)->OUT.CODE=0 THEN TV=-TV;

   6805  0 000213   200014 471500                    LDP1    @NODX,,AUTO
         0 000214   100000 235100                    LDA     0,,PR1
         0 000215   200003 473500                    LDP3    @TOP,,AUTO
         0 000216   300003 474505                    LDP4    3,AL,PR3
         0 000217   400003 475500                    LDP5    3,,PR4
         0 000220   500000 720100                    LXL0    0,,PR5
         0 000221   000224 601000 0                  TNZ     s:6806

   6805  0 000222   200021 335100                    LCA     TV,,AUTO
PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:191  
         0 000223   200021 755100                    STA     TV,,AUTO

      674     6806    3              V=TV;

   6806  0 000224   200013 474500                    LDP4    @V,,AUTO
         0 000225   200021 235100                    LDA     TV,,AUTO
         0 000226   400000 755100                    STA     0,,PR4
         0 000227   000267 710000 0                  TRA     s:6815

      675     6807    3            CASE(1);

      676     6808    4              CALL DAS$SDSRCH(TOP.SUBLK$(NODX)->SYM.COUNT,DEF$)WHENALTRETURN DO;

   6808  0 000230   000000 235100                    LDA     0,,PR0
         0 000231   100003 473505                    LDP3    3,AL,PR1
         0 000232   200015 634500                    EPPR4   DEF$,,AUTO
         0 000233   200023 454500                    STP4    TV+2,,AUTO
         0 000234   300004 635500                    EPPR5   4,,PR3
         0 000235   200022 455500                    STP5    TV+1,,AUTO
         0 000236   200022 630500                    EPPR0   TV+1,,AUTO
         0 000237   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000240   000000 701000 xent               TSX1    DAS$SDSRCH
         0 000241   000243 702000 0                  TSX2    s:6809
         0 000242   000262 710000 0                  TRA     s:6813

      677     6809    5                 CALL DAS$EDSRCH(TOP.SUBLK$(NODX)->SYM.COUNT,DEF$)WHENALTRETURN DO;

   6809  0 000243   200014 470500                    LDP0    @NODX,,AUTO
         0 000244   000000 235100                    LDA     0,,PR0
         0 000245   200003 471500                    LDP1    @TOP,,AUTO
         0 000246   100003 473505                    LDP3    3,AL,PR1
         0 000247   200015 634500                    EPPR4   DEF$,,AUTO
         0 000250   200023 454500                    STP4    TV+2,,AUTO
         0 000251   300004 635500                    EPPR5   4,,PR3
         0 000252   200022 455500                    STP5    TV+1,,AUTO
         0 000253   200022 630500                    EPPR0   TV+1,,AUTO
         0 000254   000020 631400 xsym               EPPR1   B_VECTNIL+16
PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:192  
         0 000255   000000 701000 xent               TSX1    DAS$EDSRCH
         0 000256   000260 702000 0                  TSX2    s:6810
         0 000257   000262 710000 0                  TRA     s:6813

      678     6810    5                    ALTRETURN;

   6810  0 000260   200012 221300                    LDX1  ! X+2,,AUTO
         0 000261   000000 702211                    TSX2  ! 0,X1

      679     6811    5                    END;
      680     6812    4                 END;

      681     6813    3              V=EDEF.ISADDR;

   6813  0 000262   200015 470500                    LDP0    DEF$,,AUTO
         0 000263   000000 236100                    LDQ     0,,PR0
         0 000264   000032 376000 xsym               ANQ     B_VECTNIL+26
         0 000265   200013 471500                    LDP1    @V,,AUTO
         0 000266   100000 756100                    STQ     0,,PR1

      682     6814    3            END;

      683     6815    2           RETURN;

   6815  0 000267   200012 221300                    LDX1  ! X+2,,AUTO
         0 000270   000001 702211                    TSX2  ! 1,X1

(unnamed)
 Sect OctLoc
   1     000   000002 006000   000006 006000                                    ........
      684     6816    2   END VALUE;
      685     6817        /**/
      686     6818    1   END TCU$EXPRESSION;
      687     6819        %EOD;

PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:193  
--  Include file information  --

   B$OBJECT_C.:LIBRARY  is referenced.
   XU_MACRO_C.:LIBRARY  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure TCU$EXPRESSION.
PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:194  

 **** Variables and constants ****

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    14-0-0/w PTR         r     1 @NODX                      3-0-0/w PTR         r     1 @TOP
    13-0-0/w PTR         r     1 @V                         4-0-0/w PTR         r     1 @VALUE
    15-0-0/w PTR         r     1 DEF$                       7-0-0/w SBIN        r     1 I
    16-0-0/w SBIN        r     1 I                         17-0-0/w SBIN        r     1 J
    *0-0-0/w SBIN        r     1 NODX                      20-0-0/w SBIN        r     1 RADIX
    *0-0-0/w STRC(144)   r     1 TOP                       21-0-0/w SBIN        r     1 TV
    *0-0-0/w SBIN        r     1 V                          5-0-0/w SBIN        r     1 V1
     6-0-0/w SBIN        r     1 V2                        *0-0-0/w SBIN        r     1 VALUE
    10-0-0/w SBIN        r     1 X

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(72)    r     1 EDEF                       0-0-0/w STRC(144)   r     1 OUT
     0-0-0/w ASTR(153)   r     1 SYM


   Procedure TCU$EXPRESSION requires 185 words for executable code.
   Procedure TCU$EXPRESSION requires 22 words of local(AUTO) storage.
PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:195  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:196  
          MINI XREF LISTING

DAS$EDSRCH
      6598**DCL-ENT  6809--CALL
DAS$SDSRCH
      6597**DCL-ENT  6808--CALL
DEF$ IN PROCEDURE VALUE
      6719**DCL      6725--IMP-PTR  6798<<ASSIGN   6799>>ASSIGN   6800>>DOINDEX  6801>>ASSIGN   6801>>ASSIGN
      6808<>CALL     6809<>CALL     6813>>ASSIGN
EDEF.ISADDR IN PROCEDURE VALUE
      6748**DCL      6813>>ASSIGN
EDEF.OU IN PROCEDURE VALUE
      6742**DCL      6748--REDEF
I
      6594**DCL      6690<<ASSIGN   6692>>DOWHILE  6693>>CALL     6694>>DOCASE   6710<<ASSIGN   6710>>ASSIGN
I IN PROCEDURE VALUE
      6720**DCL      6800<<DOINDEX  6801>>ASSIGN
J IN PROCEDURE VALUE
      6721**DCL      6801<<ASSIGN   6802>>IF       6802<<ASSIGN   6802>>ASSIGN   6803>>ASSIGN
NODX IN PROCEDURE VALUE
      6718**DCL      6715--PROC     6795>>DOCASE   6798>>ASSIGN   6805>>IF       6808>>CALL     6809>>CALL
OUT.CODE
      6616**DCL      6694>>DOCASE   6795>>DOCASE   6799>>ASSIGN   6805>>IF
OUT.SUBLK$
      6641**DCL      6798>>ASSIGN   6798>>ASSIGN   6805>>IF
RADIX IN PROCEDURE VALUE
      6722**DCL      6799<<ASSIGN   6803>>ASSIGN
SYM.COUNT
      6677**DCL      6680--IMP-SIZ  6800>>DOINDEX  6801>>ASSIGN   6808<>CALL     6809<>CALL
SYM.TEXT
      6680**DCL      6801>>ASSIGN
TCU$GETMEM
      6599**DCL-ENT  6700--CALL
TOP
PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:197  
      6551**DCL         6--PROC
TOP.NSUBLKS
      6563**DCL      6692>>DOWHILE
TOP.SUBLK$
      6584**DCL      6694>>DOCASE   6795>>DOCASE   6798>>ASSIGN   6805>>IF       6808>>CALL     6809>>CALL
TV IN PROCEDURE VALUE
      6723**DCL      6797<<ASSIGN   6803<<ASSIGN   6803>>ASSIGN   6805<<ASSIGN   6805>>ASSIGN   6806>>ASSIGN
V IN PROCEDURE VALUE
      6717**DCL      6715--PROC     6806<<ASSIGN   6813<<ASSIGN
V1
      6592**DCL      6691<>CALL     6696<<ASSIGN   6696>>ASSIGN   6698<<ASSIGN   6698>>ASSIGN   6700<>CALL
      6703<>CALL     6704<<ASSIGN   6704>>ASSIGN   6706<<ASSIGN   6706>>ASSIGN   6708<<ASSIGN   6708>>ASSIGN
      6712>>ASSIGN
V2
      6593**DCL      6693<>CALL     6696>>ASSIGN   6698>>ASSIGN   6704>>ASSIGN   6706>>ASSIGN   6708>>ASSIGN
VALUE
      6715**PROC        6--PROC     6691--CALL     6693--CALL     6712<<ASSIGN
X
      6595**DCL      6700<>CALL     6703<>CALL
XSL$NTOHL
      6600**DCL-ENT  6703--CALL
PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:198  
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #005=TCU$EXPRESSION File=TCU$UNLZ.:TCA2TSI                         SUN 11/16/97 14:30 Page:199  
              MINI UREF LISTING

DA_SYMERR    6686**DCL
TCU$EXPRESSION       6**PROC

PL6.E3A0      #006=TCU$BUILTIN File=TCU$UNLZ.:TCA2TSI                            SUN 11/16/97 14:30 Page:200  
      688        1        /*T***********************************************************/
      689        2        /*T*                                                         */
      690        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      691        4        /*T*                                                         */
      692        5        /*T***********************************************************/
      693        6        TCU$BUILTIN: PROC (PARM);
      694        7
      695        8        %INCLUDE XU_MACRO_C;
      696     3114        %INCLUDE XU_SUBS_C;
      697     3206
      698     3207        %PARSE$PARAM (NAME=PARM, STCLASS=);
      699     3288        %PARSE$OUT (NAME=OUT$BLK, STCLASS="BASED(PARM.OUT$)");
      700     3333    1   DCL TCU_NEXT REMEMBER SYMREF;
      701     3334
      702     3335    1           IF PARM.TYPE = %SUCC#
      703     3336    1           THEN IF PARM.OUT$=ADDR(NIL) OR OUT$BLK.SUBLK$(0)->OUT$BLK.CODE ~= 0
      704     3337    1              THEN PARM.REJECT = '1'B;
      705     3338    1           RETURN;
      706     3339    1   TCU$BREAK: ENTRY;
      707     3340    1           UNWIND TO TCU_NEXT;
      708     3341    1   END TCU$BUILTIN;
      709     3342        %EOD;

PL6.E3A0      #006=TCU$BUILTIN File=TCU$UNLZ.:TCA2TSI                            SUN 11/16/97 14:30 Page:201  
--  Include file information  --

   XU_SUBS_C.:LIBRARY  is referenced.
   XU_MACRO_C.:LIBRARY  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure TCU$BUILTIN.

   Procedure TCU$BUILTIN requires 22 words for executable code.
   Procedure TCU$BUILTIN requires 4 words of local(AUTO) storage.

PL6.E3A0      #006=TCU$BUILTIN File=TCU$UNLZ.:TCA2TSI                            SUN 11/16/97 14:30 Page:202  

 Object Unit name= TCU$BUILTIN                                File name= TCU$UNLZ.:TCA2TOU
 UTS= NOV 16 '97 14:30:54.32 SUN                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Proc  even  none    22     26  TCU$BUILTIN

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     0      0   yes            yes      Std        1  TCU$BUILTIN
     0     21                  yes      Std        0  TCU$BREAK

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
                       nStd      0 X66_AUTO_1
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
                       nStd      0 X66_AUNWIND

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     TCU_NEXT                              B_VECTNIL
PL6.E3A0      #006=TCU$BUILTIN File=TCU$UNLZ.:TCA2TSI                            SUN 11/16/97 14:30 Page:203  


      688        1        /*T***********************************************************/
      689        2        /*T*                                                         */
      690        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      691        4        /*T*                                                         */
      692        5        /*T***********************************************************/
      693        6        TCU$BUILTIN: PROC (PARM);

      6  0 000000   000000 700200 xent  TCU$BUILTIN  TSX0  ! X66_AUTO_1
         0 000001   000004 000001                    ZERO    4,1

      694        7
      695        8        %INCLUDE XU_MACRO_C;
      696     3114        %INCLUDE XU_SUBS_C;
      697     3206
      698     3207        %PARSE$PARAM (NAME=PARM, STCLASS=);
      699     3288        %PARSE$OUT (NAME=OUT$BLK, STCLASS="BASED(PARM.OUT$)");
      700     3333    1   DCL TCU_NEXT REMEMBER SYMREF;
      701     3334
      702     3335    1           IF PARM.TYPE = %SUCC#

   3335  0 000002   200003 470500                    LDP0    @PARM,,AUTO
         0 000003   000000 236100                    LDQ     0,,PR0
         0 000004   777000 376003                    ANQ     -512,DU
         0 000005   002000 116003                    CMPQ    1024,DU
         0 000006   000020 601000 0                  TNZ     s:3338

      703     3336    1           THEN IF PARM.OUT$=ADDR(NIL) OR OUT$BLK.SUBLK$(0)->OUT$BLK.CODE ~= 0

   3336  0 000007   000002 236100                    LDQ     2,,PR0
         0 000010   000001 116000 xsym               CMPQ    B_VECTNIL+1
         0 000011   000016 600000 0                  TZE     s:3337
         0 000012   000002 471500                    LDP1    2,,PR0
         0 000013   100003 473500                    LDP3    3,,PR1
         0 000014   300000 720100                    LXL0    0,,PR3
         0 000015   000020 600000 0                  TZE     s:3338

PL6.E3A0      #006=TCU$BUILTIN File=TCU$UNLZ.:TCA2TSI                            SUN 11/16/97 14:30 Page:204  
      704     3337    1              THEN PARM.REJECT = '1'B;

   3337  0 000016   000200 236003                    LDQ     128,DU
         0 000017   000000 256100                    ORSQ    0,,PR0

      705     3338    1           RETURN;

   3338  0 000020   000000 702200 xent               TSX2  ! X66_ARET

      706     3339    1   TCU$BREAK: ENTRY;

   3339  0 000021   000000 700200 xent  TCU$BREAK    TSX0  ! X66_AUTO_1
         0 000022   000004 000001                    ZERO    4,1

      707     3340    1           UNWIND TO TCU_NEXT;

   3340  0 000023   000000 237200 xsym               LDAQ  ! TCU_NEXT
         0 000024   000000 700200 xent               TSX0  ! X66_AUNWIND
         0 000025   000000 000200                    ZERO    0,128
      708     3341    1   END TCU$BUILTIN;
      709     3342        %EOD;

PL6.E3A0      #006=TCU$BUILTIN File=TCU$UNLZ.:TCA2TSI                            SUN 11/16/97 14:30 Page:205  
--  Include file information  --

   XU_SUBS_C.:LIBRARY  is referenced.
   XU_MACRO_C.:LIBRARY  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure TCU$BUILTIN.
PL6.E3A0      #006=TCU$BUILTIN File=TCU$UNLZ.:TCA2TSI                            SUN 11/16/97 14:30 Page:206  

 **** Variables and constants ****

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     3-0-0/w PTR         r     1 @PARM                     *0-0-0/w STRC(270)   r     1 PARM

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d REMB        r     1 TCU_NEXT

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(144)   r     1 OUT$BLK


   Procedure TCU$BUILTIN requires 22 words for executable code.
   Procedure TCU$BUILTIN requires 4 words of local(AUTO) storage.
PL6.E3A0      #006=TCU$BUILTIN File=TCU$UNLZ.:TCA2TSI                            SUN 11/16/97 14:30 Page:207  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #006=TCU$BUILTIN File=TCU$UNLZ.:TCA2TSI                            SUN 11/16/97 14:30 Page:208  
          MINI XREF LISTING

OUT$BLK.CODE
      3302**DCL      3336>>IF
OUT$BLK.SUBLK$
      3327**DCL      3336>>IF
PARM
      3226**DCL         6--PROC
PARM.OUT$
      3256**DCL      3294--IMP-PTR  3336>>IF       3336>>IF
PARM.REJECT
      3238**DCL      3337<<ASSIGN
PARM.TYPE
      3227**DCL      3335>>IF
TCU_NEXT
      3333**DCL      3340>>UNWIND
PL6.E3A0      #006=TCU$BUILTIN File=TCU$UNLZ.:TCA2TSI                            SUN 11/16/97 14:30 Page:209  
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #006=TCU$BUILTIN File=TCU$UNLZ.:TCA2TSI                            SUN 11/16/97 14:30 Page:210  
              MINI UREF LISTING

TCU$BREAK    3339**ENTRY
TCU$BUILTIN       6**PROC

PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:211  
      710        1        /*T***********************************************************/
      711        2        /*T*                                                         */
      712        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      713        4        /*T*                                                         */
      714        5        /*T***********************************************************/
      715        6        TCU$GETMEM: PROC (LOC, BUF, SIZE) ALTRET;
      716        7    1   DCL LOC UBIN;
      717        8    1   DCL 1 BUF,2 * CHAR(SIZE);
      718        9    1   DCL 1 BBUF BASED,2 * CHAR(S);
      719       10    1   DCL SIZE UBIN;
      720       11
      721       12        %INCLUDE CP_6;
      722       93        %INCLUDE XU_FORMAT_C;
      723      255        %F_FDS (NAME=FDS, STCLASS=SYMREF);
      724      368    1   DCL M$DUMPFILE DCB;
      725      369        %FPT_READ (DCB=M$DUMPFILE, KEY=LASTPAGE#, BUF=BUF1, KEYR=YES);
      726      408        %FPT_PRECORD (DCB=M$DUMPFILE);
      727      429    1   DCL BUF1 CHAR(1024) STATIC;
      728      430    1   DCL BUF2 CHAR(1024) STATIC;
      729      431    1   DCL PAGE# SBIN STATIC;
      730      432    1   DCL LASTPAGE# SBIN STATIC;
      731      433    1   DCL NXTBUF SBIN STATIC SYMDEF INIT(-1);
      732      434    1   DCL BPTR$(0:1) PTR CONSTANT INIT(ADDR(BUF1),ADDR(BUF2));
      733      435    1   DCL INPAGE(0:1) SBIN STATIC;
      734      436    1   DCL 1 SECTS STATIC,
      735      437    1         2 VA(0:3) SBIN                    /* Start byte address */
      736      438    1    INIT(0,%BITBIN('130000'X),0*0),
      737      439    1         2 VE(0:3) SBIN                    /* Ending byte address */
      738      440    1    INIT(4096,%BITBIN('140000'X),0*0),
      739      441    1         2 OF(0:3) SBIN                    /* File offset (add to VA) */
      740      442    1    INIT(0,%(4096-BITBIN('130000'X)),0*0);
      741      443
      742      444    1   DCL L UBIN;
      743      445    1   DCL I SBIN;
      744      446    1   DCL IU REDEF I UBIN;
      745      447    1   DCL S SBIN;
      746      448    1   DCL SU REDEF S UBIN;
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:212  
      747      449
      748      450    2           IF NXTBUF<0 THEN DO;            /* New file, initialize pointers. */
      749      451    2              NXTBUF=0;
      750      452    2              LASTPAGE#=0;
      751      453    2              INPAGE(0)=-1;
      752      454    2              INPAGE(1)=-1;
      753      455    2              SECTS.VE(0)=%BITBIN('80000000'X);
      754      456    2              L=796;                       /* Try XPS format */
      755      457    3              DO WHILE '1'B;
      756      458    4                 CALL TCU$GETMEM (L,I,4) WHENALTRETURN DO; /* Get a word */
      757      459    4                    NXTBUF=-1;
      758      460    4                    ALTRETURN;
      759      461    4                    END;
      760      462    3                 IF I>0 OR L=344 THEN EXIT;
      761      463    3                 L=344;
      762      464    3                 END;
      763      465    2              IF I=0 THEN EXIT;
      764      466    3              IF L=796 THEN DO;            /* XPS dump */
      765      467    3                 SECTS.VE(0)=4096;
      766      468    3                 SECTS.VA(1)=((IU+15)/16)*65536+%BITBIN('100000'X);
      767      469    3                 SECTS.VE(2)=%BITBIN('1000000'X);
      768      470    3                 END;
      769      471    3              ELSE DO;
      770      472    3                 SECTS.VE(0)=8192;
      771      473    3                 SECTS.VA(1)=%BITBIN('2012C0'X)-MOD(IU,8192);
      772      474                      /* there'a a 2012c0 at .612 in the Bos 2.0.69 dumps, which
      773      475                      might make it easier to get this right if they change the
      774      476                      offset again in a future release, but maybe that'll move too. */
      775      477    3                 SECTS.VE(2)=%BITBIN('80000000'X);
      776      478    3                 END;
      777      479    2              L=L+4;
      778      480    2              CALL TCU$GETMEM (L,I,8);     /* Two words - in I and S */
      779      481    3              IF L~=800 THEN DO;
      780      482    3                 IU=IU/8192;               /* 4096, but there's a slack bit */
      781      483    3                 IF IU>15 THEN IU=(MOD(IU,16)+IU)/2;
      782      484    3                 SU=SU/8192;               /* 4096, but there's a slack bit */
      783      485    3                 IF SU>15 THEN SU=(MOD(SU,16)+SU)/2;
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:213  
      784      486    3                 END;
      785      487    2              SECTS.VE(1)=SECTS.VA(1)+IU*4096;
      786      488    2              SECTS.VA(2)=SECTS.VE(2)-SU*4096;
      787      489    2              SECTS.OF(1)=SECTS.VE(0)-SECTS.VA(1);
      788      490    2              SECTS.OF(2)=SECTS.OF(1)+SECTS.VE(1)-SECTS.VA(2);
      789      491    2              FDS.USERDAT3#=SECTS.VE(0)-84;
      790      492    2              END;
      791      493
      792      494    2           DO I=0 TO SIZEW(SECTS.VA);
      793      495    3              IF LOC>=SECTS.VA(I) AND LOC<SECTS.VE(I) THEN DO;
      794      496    3                 S=MINIMUM (SIZE,SECTS.VE(I)-LOC);
      795      497    3                 L=LOC+SECTS.OF(I);
      796      498    3                 PAGE#=L/1024+1;           /* relative file keys start at 1 */
      797      499    3                 L=MOD(L,1024);
      798      500    4                 IF L+S>1024 THEN DO;
      799      501    4                    FPT_READ.BUF_.BUF$=BPTR$(1);
      800      502    4                    PAGE#=PAGE#+1;
      801      503    5                    IF PAGE#~=INPAGE(1) THEN DO;
      802      504    5                       INPAGE(1)=PAGE#;
      803      505    5                       FPT_PRECORD.V.N#=PAGE#-LASTPAGE#-1;
      804      506    5                       CALL M$PRECORD (FPT_PRECORD) ALTRET(MONALT);
      805      507    5                       CALL M$READ (FPT_READ) ALTRET(MONALT);
      806      508    5                       END;
      807      509    4                    PAGE#=PAGE#-1;
      808      510    4                    I=0;
      809      511    4                    END;
      810      512    3                 ELSE IF PAGE#=INPAGE(0) THEN I=0;
      811      513    3                    ELSE IF PAGE#=INPAGE(1) THEN I=1;
      812      514    4                       ELSE DO;
      813      515    4                          I=NXTBUF;
      814      516    4                          NXTBUF=1-NXTBUF;
      815      517    4                          END;
      816      518    3                 FPT_READ.BUF_.BUF$=BPTR$(I);
      817      519    4                 IF PAGE#~=INPAGE(I) THEN DO;
      818      520    4                    FPT_PRECORD.V.N#=PAGE#-LASTPAGE#-1;
      819      521    4                    CALL M$PRECORD (FPT_PRECORD) ALTRET(MONALT);
      820      522    4                    CALL M$READ (FPT_READ) ALTRET(MONALT);
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:214  
      821      523    4                    END;
      822      524    3                 INPAGE(I)=PAGE#;
      823      525    3                 BUF=PINCRC(FPT_READ.BUF_.BUF$,L)->BBUF;
      824      526    3                 RETURN;
      825      527    3                 END;
      826      528    2              END;
      827      529    1   MONALT: ;
      828      530    1           ALTRETURN;
      829      531    1   END TCU$GETMEM;

PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:215  
--  Include file information  --

   XU_FORMAT_C.:LIBRARY  is referenced.
   CP_6.:LIBRARY  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure TCU$GETMEM.

   Procedure TCU$GETMEM requires 217 words for executable code.
   Procedure TCU$GETMEM requires 14 words of local(AUTO) storage.

    No errors detected in file TCU$UNLZ.:TCA2TSI    .

PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:216  

 Object Unit name= TCU$GETMEM                                 File name= TCU$UNLZ.:TCA2TOU
 UTS= NOV 16 '97 14:31:13.36 SUN                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   DCB   even  none     0      0  M$DUMPFILE
    2   Data  even  none   553   1051  TCU$GETMEM
    3  RoData even  UTS      2      2  TCU$GETMEM
    4   Proc  even  none   217    331  TCU$GETMEM
    5  RoData even  none     3      3  TCU$GETMEM

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     4      0   yes    yes     yes      Std        3  TCU$GETMEM

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    2   1032  NXTBUF

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
                       nStd      0 X66_AUTO_3
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_AALT
                       nStd      0 X66_ARET
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:217  

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  FDS                                   M$DUMPFILE
     B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:218  


      710        1        /*T***********************************************************/
      711        2        /*T*                                                         */
      712        3        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      713        4        /*T*                                                         */
      714        5        /*T***********************************************************/
      715        6        TCU$GETMEM: PROC (LOC, BUF, SIZE) ALTRET;

      6  4 000000   000000 700200 xent  TCU$GETMEM   TSX0  ! X66_AUTO_3
         4 000001   000016 000003                    ZERO    14,3

      716        7    1   DCL LOC UBIN;
      717        8    1   DCL 1 BUF,2 * CHAR(SIZE);
      718        9    1   DCL 1 BBUF BASED,2 * CHAR(S);
      719       10    1   DCL SIZE UBIN;
      720       11
      721       12        %INCLUDE CP_6;
      722       93        %INCLUDE XU_FORMAT_C;
      723      255        %F_FDS (NAME=FDS, STCLASS=SYMREF);
      724      368    1   DCL M$DUMPFILE DCB;
      725      369        %FPT_READ (DCB=M$DUMPFILE, KEY=LASTPAGE#, BUF=BUF1, KEYR=YES);
      726      408        %FPT_PRECORD (DCB=M$DUMPFILE);
      727      429    1   DCL BUF1 CHAR(1024) STATIC;
      728      430    1   DCL BUF2 CHAR(1024) STATIC;
      729      431    1   DCL PAGE# SBIN STATIC;
      730      432    1   DCL LASTPAGE# SBIN STATIC;
      731      433    1   DCL NXTBUF SBIN STATIC SYMDEF INIT(-1);
      732      434    1   DCL BPTR$(0:1) PTR CONSTANT INIT(ADDR(BUF1),ADDR(BUF2));
      733      435    1   DCL INPAGE(0:1) SBIN STATIC;
      734      436    1   DCL 1 SECTS STATIC,
      735      437    1         2 VA(0:3) SBIN                    /* Start byte address */
      736      438    1    INIT(0,%BITBIN('130000'X),0*0),
      737      439    1         2 VE(0:3) SBIN                    /* Ending byte address */
      738      440    1    INIT(4096,%BITBIN('140000'X),0*0),
      739      441    1         2 OF(0:3) SBIN                    /* File offset (add to VA) */
      740      442    1    INIT(0,%(4096-BITBIN('130000'X)),0*0);
      741      443
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:219  
      742      444    1   DCL L UBIN;
      743      445    1   DCL I SBIN;
      744      446    1   DCL IU REDEF I UBIN;
      745      447    1   DCL S SBIN;
      746      448    1   DCL SU REDEF S UBIN;
      747      449
      748      450    2           IF NXTBUF<0 THEN DO;            /* New file, initialize pointers. */

    450  4 000002   001032 235000 2                  LDA     NXTBUF
         4 000003   000160 605000 4                  TPL     s:494

      749      451    2              NXTBUF=0;

    451  4 000004   001032 450000 2                  STZ     NXTBUF

      750      452    2              LASTPAGE#=0;

    452  4 000005   001031 450000 2                  STZ     LASTPAGE#

      751      453    2              INPAGE(0)=-1;

    453  4 000006   000001 335007                    LCA     1,DL
         4 000007   001033 755000 2                  STA     INPAGE

      752      454    2              INPAGE(1)=-1;

    454  4 000010   001034 755000 2                  STA     INPAGE+1

      753      455    2              SECTS.VE(0)=%BITBIN('80000000'X);

    455  4 000011   020000 236003                    LDQ     8192,DU
         4 000012   001041 756000 2                  STQ     SECTS+4

      754      456    2              L=796;                       /* Try XPS format */

    456  4 000013   001434 235007                    LDA     796,DL
         4 000014   200006 755100                    STA     L,,AUTO
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:220  

      755      457    3              DO WHILE '1'B;

      756      458    4                 CALL TCU$GETMEM (L,I,4) WHENALTRETURN DO; /* Get a word */

    458  4 000015   000000 236000 5                  LDQ     0
         4 000016   200014 756100                    STQ     S+4,,AUTO
         4 000017   200007 630500                    EPPR0   I,,AUTO
         4 000020   200013 450500                    STP0    S+3,,AUTO
         4 000021   200006 631500                    EPPR1   L,,AUTO
         4 000022   200012 451500                    STP1    S+2,,AUTO
         4 000023   200012 630500                    EPPR0   S+2,,AUTO
         4 000024   000021 631400 xsym               EPPR1   B_VECTNIL+17
         4 000025   000000 701000 4                  TSX1    s:6
         4 000026   000030 702000 4                  TSX2    s:459
         4 000027   000033 710000 4                  TRA     s:462

      757      459    4                    NXTBUF=-1;

    459  4 000030   000001 335007                    LCA     1,DL
         4 000031   001032 755000 2                  STA     NXTBUF

      758      460    4                    ALTRETURN;

    460  4 000032   000000 702200 xent               TSX2  ! X66_AALT

      759      461    4                    END;
      760      462    3                 IF I>0 OR L=344 THEN EXIT;

    462  4 000033   200007 235100                    LDA     I,,AUTO
         4 000034   000043 605400 4                  TPNZ    s:465
         4 000035   200006 236100                    LDQ     L,,AUTO
         4 000036   000530 116007                    CMPQ    344,DL
         4 000037   000043 600000 4                  TZE     s:465

      761      463    3                 L=344;

PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:221  
    463  4 000040   000530 235007                    LDA     344,DL
         4 000041   200006 755100                    STA     L,,AUTO

      762      464    3                 END;

    464  4 000042   000015 710000 4                  TRA     s:458

      763      465    2              IF I=0 THEN EXIT;

    465  4 000043   000000 115003                    CMPA    0,DU
         4 000044   000160 600000 4                  TZE     s:494

      764      466    3              IF L=796 THEN DO;            /* XPS dump */

    466  4 000045   200006 236100                    LDQ     L,,AUTO
         4 000046   001434 116007                    CMPQ    796,DL
         4 000047   000063 601000 4                  TNZ     s:472

      765      467    3                 SECTS.VE(0)=4096;

    467  4 000050   010000 235007                    LDA     4096,DL
         4 000051   001041 755000 2                  STA     SECTS+4

      766      468    3                 SECTS.VA(1)=((IU+15)/16)*65536+%BITBIN('100000'X);

    468  4 000052   200007 236100                    LDQ     I,,AUTO
         4 000053   000017 036007                    ADLQ    15,DL
         4 000054   000004 772000                    QRL     4
         4 000055   000020 736000                    QLS     16
         4 000056   000004 036003                    ADLQ    4,DU
         4 000057   001036 756000 2                  STQ     SECTS+1

      767      469    3                 SECTS.VE(2)=%BITBIN('1000000'X);

    469  4 000060   000100 235003                    LDA     64,DU
         4 000061   001043 755000 2                  STA     SECTS+6

PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:222  
      768      470    3                 END;

    470  4 000062   000074 710000 4                  TRA     s:479

      769      471    3              ELSE DO;

      770      472    3                 SECTS.VE(0)=8192;

    472  4 000063   020000 235007                    LDA     8192,DL
         4 000064   001041 755000 2                  STA     SECTS+4

      771      473    3                 SECTS.VA(1)=%BITBIN('2012C0'X)-MOD(IU,8192);

    473  4 000065   200007 236100                    LDQ     I,,AUTO
         4 000066   017777 376007                    ANQ     8191,DL
         4 000067   000027 676000 xsym               ERQ     B_VECTNIL+23
         4 000070   000001 036000 5                  ADLQ    1
         4 000071   001036 756000 2                  STQ     SECTS+1

      772      474                      /* there'a a 2012c0 at .612 in the Bos 2.0.69 dumps, which
      773      475                      might make it easier to get this right if they change the
      774      476                      offset again in a future release, but maybe that'll move too. */
      775      477    3                 SECTS.VE(2)=%BITBIN('80000000'X);

    477  4 000072   020000 235003                    LDA     8192,DU
         4 000073   001043 755000 2                  STA     SECTS+6

      776      478    3                 END;

      777      479    2              L=L+4;

    479  4 000074   200006 235100                    LDA     L,,AUTO
         4 000075   000004 035007                    ADLA    4,DL
         4 000076   200006 755100                    STA     L,,AUTO

      778      480    2              CALL TCU$GETMEM (L,I,8);     /* Two words - in I and S */

PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:223  
    480  4 000077   000002 236000 5                  LDQ     2
         4 000100   200014 756100                    STQ     S+4,,AUTO
         4 000101   200007 630500                    EPPR0   I,,AUTO
         4 000102   200013 450500                    STP0    S+3,,AUTO
         4 000103   200006 631500                    EPPR1   L,,AUTO
         4 000104   200012 451500                    STP1    S+2,,AUTO
         4 000105   200012 630500                    EPPR0   S+2,,AUTO
         4 000106   000021 631400 xsym               EPPR1   B_VECTNIL+17
         4 000107   000000 701000 4                  TSX1    s:6
         4 000110   000000 011000                    NOP     0

      779      481    3              IF L~=800 THEN DO;

    481  4 000111   200006 235100                    LDA     L,,AUTO
         4 000112   001440 115007                    CMPA    800,DL
         4 000113   000136 600000 4                  TZE     s:487

      780      482    3                 IU=IU/8192;               /* 4096, but there's a slack bit */

    482  4 000114   200007 236100                    LDQ     I,,AUTO
         4 000115   000015 772000                    QRL     13
         4 000116   200007 756100                    STQ     I,,AUTO

      781      483    3                 IF IU>15 THEN IU=(MOD(IU,16)+IU)/2;

    483  4 000117   000020 116007                    CMPQ    16,DL
         4 000120   000125 602000 4                  TNC     s:484

    483  4 000121   000017 376007                    ANQ     15,DL
         4 000122   200007 036100                    ADLQ    I,,AUTO
         4 000123   000001 772000                    QRL     1
         4 000124   200007 756100                    STQ     I,,AUTO

      782      484    3                 SU=SU/8192;               /* 4096, but there's a slack bit */

    484  4 000125   200010 236100                    LDQ     S,,AUTO
         4 000126   000015 772000                    QRL     13
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:224  
         4 000127   200010 756100                    STQ     S,,AUTO

      783      485    3                 IF SU>15 THEN SU=(MOD(SU,16)+SU)/2;

    485  4 000130   000020 116007                    CMPQ    16,DL
         4 000131   000136 602000 4                  TNC     s:487

    485  4 000132   000017 376007                    ANQ     15,DL
         4 000133   200010 036100                    ADLQ    S,,AUTO
         4 000134   000001 772000                    QRL     1
         4 000135   200010 756100                    STQ     S,,AUTO

      784      486    3                 END;

      785      487    2              SECTS.VE(1)=SECTS.VA(1)+IU*4096;

    487  4 000136   200007 236100                    LDQ     I,,AUTO
         4 000137   000014 736000                    QLS     12
         4 000140   001036 036000 2                  ADLQ    SECTS+1
         4 000141   001042 756000 2                  STQ     SECTS+5

      786      488    2              SECTS.VA(2)=SECTS.VE(2)-SU*4096;

    488  4 000142   000000 236003                    LDQ     0,DU
         4 000143   200010 136100                    SBLQ    S,,AUTO
         4 000144   000014 736000                    QLS     12
         4 000145   001043 036000 2                  ADLQ    SECTS+6
         4 000146   001037 756000 2                  STQ     SECTS+2

      787      489    2              SECTS.OF(1)=SECTS.VE(0)-SECTS.VA(1);

    489  4 000147   001041 236000 2                  LDQ     SECTS+4
         4 000150   001036 136000 2                  SBLQ    SECTS+1
         4 000151   001046 756000 2                  STQ     SECTS+9

      788      490    2              SECTS.OF(2)=SECTS.OF(1)+SECTS.VE(1)-SECTS.VA(2);

PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:225  
    490  4 000152   001042 036000 2                  ADLQ    SECTS+5
         4 000153   001037 136000 2                  SBLQ    SECTS+2
         4 000154   001047 756000 2                  STQ     SECTS+10

      789      491    2              FDS.USERDAT3#=SECTS.VE(0)-84;

    491  4 000155   001041 235000 2                  LDA     SECTS+4
         4 000156   000124 135007                    SBLA    84,DL
         4 000157   000035 755000 xsym               STA     FDS+29

      790      492    2              END;

      791      493
      792      494    2           DO I=0 TO SIZEW(SECTS.VA);

    494  4 000160   200007 450100                    STZ     I,,AUTO
         4 000161   000325 710000 4                  TRA     s:528+1

      793      495    3              IF LOC>=SECTS.VA(I) AND LOC<SECTS.VE(I) THEN DO;

    495  4 000162   200003 470500                    LDP0    @LOC,,AUTO
         4 000163   200007 720100                    LXL0    I,,AUTO
         4 000164   000000 236100                    LDQ     0,,PR0
         4 000165   000170 604000 4                  TMI     s:495+6
         4 000166   001035 116010 2                  CMPQ    SECTS,X0
         4 000167   000324 604000 4                  TMI     s:528
         4 000170   000000 116003                    CMPQ    0,DU
         4 000171   000324 604000 4                  TMI     s:528
         4 000172   001041 116010 2                  CMPQ    SECTS+4,X0
         4 000173   000324 605000 4                  TPL     s:528

      794      496    3                 S=MINIMUM (SIZE,SECTS.VE(I)-LOC);

    496  4 000174   001041 236010 2                  LDQ     SECTS+4,X0
         4 000175   000000 136100                    SBLQ    0,,PR0
         4 000176   200005 471500                    LDP1    @SIZE,,AUTO
         4 000177   000204 604000 4                  TMI     s:496+8
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:226  
         4 000200   100000 116100                    CMPQ    0,,PR1
         4 000201   000204 602000 4                  TNC     s:496+8
         4 000202   000204 600000 4                  TZE     s:496+8
         4 000203   100000 236100                    LDQ     0,,PR1
         4 000204   200010 756100                    STQ     S,,AUTO

      795      497    3                 L=LOC+SECTS.OF(I);

    497  4 000205   000000 236100                    LDQ     0,,PR0
         4 000206   001045 036010 2                  ADLQ    SECTS+8,X0
         4 000207   200006 756100                    STQ     L,,AUTO

      796      498    3                 PAGE#=L/1024+1;           /* relative file keys start at 1 */

    498  4 000210   000012 772000                    QRL     10
         4 000211   000001 036007                    ADLQ    1,DL
         4 000212   001030 756000 2                  STQ     PAGE#

      797      499    3                 L=MOD(L,1024);

    499  4 000213   200006 236100                    LDQ     L,,AUTO
         4 000214   001777 376007                    ANQ     1023,DL
         4 000215   200006 756100                    STQ     L,,AUTO

      798      500    4                 IF L+S>1024 THEN DO;

    500  4 000216   200010 036100                    ADLQ    S,,AUTO
         4 000217   002000 116007                    CMPQ    1024,DL
         4 000220   000247 604400 4                  TMOZ    s:512

      799      501    4                    FPT_READ.BUF_.BUF$=BPTR$(1);

    501  4 000221   000001 236000 3                  LDQ     BPTR$+1
         4 000222   000005 756000 2                  STQ     FPT_READ+5

      800      502    4                    PAGE#=PAGE#+1;

PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:227  
    502  4 000223   001030 054000 2                  AOS     PAGE#

      801      503    5                    IF PAGE#~=INPAGE(1) THEN DO;

    503  4 000224   001030 236000 2                  LDQ     PAGE#
         4 000225   001034 116000 2                  CMPQ    INPAGE+1
         4 000226   000243 600000 4                  TZE     s:509

      802      504    5                       INPAGE(1)=PAGE#;

    504  4 000227   001034 756000 2                  STQ     INPAGE+1

      803      505    5                       FPT_PRECORD.V.N#=PAGE#-LASTPAGE#-1;

    505  4 000230   001031 136000 2                  SBLQ    LASTPAGE#
         4 000231   000001 136007                    SBLQ    1,DL
         4 000232   000025 756000 2                  STQ     FPT_PRECORD+7

      804      506    5                       CALL M$PRECORD (FPT_PRECORD) ALTRET(MONALT);

    506  4 000233   000016 630400 2                  EPPR0   FPT_PRECORD
         4 000234   440003 713400                    CLIMB   alt,+16387
         4 000235   401000 401760                    pmme    nvectors=3
         4 000236   000330 702000 4                  TSX2    MONALT

      805      507    5                       CALL M$READ (FPT_READ) ALTRET(MONALT);

    507  4 000237   000000 630400 2                  EPPR0   FPT_READ
         4 000240   440000 713400                    CLIMB   alt,read
         4 000241   401400 401760                    pmme    nvectors=4
         4 000242   000330 702000 4                  TSX2    MONALT

      806      508    5                       END;

      807      509    4                    PAGE#=PAGE#-1;

    509  4 000243   000001 336007                    LCQ     1,DL
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:228  
         4 000244   001030 056000 2                  ASQ     PAGE#

      808      510    4                    I=0;

    510  4 000245   200007 450100                    STZ     I,,AUTO

      809      511    4                    END;

    511  4 000246   000266 710000 4                  TRA     s:518

      810      512    3                 ELSE IF PAGE#=INPAGE(0) THEN I=0;

    512  4 000247   001030 236000 2                  LDQ     PAGE#
         4 000250   001033 116000 2                  CMPQ    INPAGE
         4 000251   000254 601000 4                  TNZ     s:513

    512  4 000252   200007 450100                    STZ     I,,AUTO
         4 000253   000266 710000 4                  TRA     s:518

      811      513    3                    ELSE IF PAGE#=INPAGE(1) THEN I=1;

    513  4 000254   001034 116000 2                  CMPQ    INPAGE+1
         4 000255   000261 601000 4                  TNZ     s:515

    513  4 000256   000001 235007                    LDA     1,DL
         4 000257   200007 755100                    STA     I,,AUTO
         4 000260   000266 710000 4                  TRA     s:518

      812      514    4                       ELSE DO;

      813      515    4                          I=NXTBUF;

    515  4 000261   001032 235000 2                  LDA     NXTBUF
         4 000262   200007 755100                    STA     I,,AUTO

      814      516    4                          NXTBUF=1-NXTBUF;

PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:229  
    516  4 000263   000027 675000 xsym               ERA     B_VECTNIL+23
         4 000264   000002 035007                    ADLA    2,DL
         4 000265   001032 755000 2                  STA     NXTBUF

      815      517    4                          END;

      816      518    3                 FPT_READ.BUF_.BUF$=BPTR$(I);

    518  4 000266   200007 720100                    LXL0    I,,AUTO
         4 000267   000000 236010 3                  LDQ     BPTR$,X0
         4 000270   000005 756000 2                  STQ     FPT_READ+5

      817      519    4                 IF PAGE#~=INPAGE(I) THEN DO;

    519  4 000271   001030 236000 2                  LDQ     PAGE#
         4 000272   001033 116010 2                  CMPQ    INPAGE,X0
         4 000273   000307 600000 4                  TZE     s:524

      818      520    4                    FPT_PRECORD.V.N#=PAGE#-LASTPAGE#-1;

    520  4 000274   001031 136000 2                  SBLQ    LASTPAGE#
         4 000275   000001 136007                    SBLQ    1,DL
         4 000276   000025 756000 2                  STQ     FPT_PRECORD+7

      819      521    4                    CALL M$PRECORD (FPT_PRECORD) ALTRET(MONALT);

    521  4 000277   000016 630400 2                  EPPR0   FPT_PRECORD
         4 000300   440003 713400                    CLIMB   alt,+16387
         4 000301   401000 401760                    pmme    nvectors=3
         4 000302   000330 702000 4                  TSX2    MONALT

      820      522    4                    CALL M$READ (FPT_READ) ALTRET(MONALT);

    522  4 000303   000000 630400 2                  EPPR0   FPT_READ
         4 000304   440000 713400                    CLIMB   alt,read
         4 000305   401400 401760                    pmme    nvectors=4
         4 000306   000330 702000 4                  TSX2    MONALT
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:230  

      821      523    4                    END;

      822      524    3                 INPAGE(I)=PAGE#;

    524  4 000307   200007 720100                    LXL0    I,,AUTO
         4 000310   001030 235000 2                  LDA     PAGE#
         4 000311   001033 755010 2                  STA     INPAGE,X0

      823      525    3                 BUF=PINCRC(FPT_READ.BUF_.BUF$,L)->BBUF;

    525  4 000312   200005 470500                    LDP0    @SIZE,,AUTO
         4 000313   000000 721100                    LXL1    0,,PR0
         4 000314   000005 471400 2                  LDP1    FPT_READ+5
         4 000315   200010 722100                    LXL2    S,,AUTO
         4 000316   200006 236100                    LDQ     L,,AUTO
         4 000317   200004 473500                    LDP3    @BUF,,AUTO
         4 000320   000140 100546                    MLR     fill='000'O
         4 000321   100000 000012                    ADSC9   0,Q,PR1                  cn=0,n=*X2
         4 000322   300000 000011                    ADSC9   0,,PR3                   cn=0,n=*X1

      824      526    3                 RETURN;

    526  4 000323   000000 702200 xent               TSX2  ! X66_ARET

      825      527    3                 END;
      826      528    2              END;

    528  4 000324   200007 054100                    AOS     I,,AUTO
         4 000325   200007 235100                    LDA     I,,AUTO
         4 000326   000004 115007                    CMPA    4,DL
         4 000327   000162 604400 4                  TMOZ    s:495

    522  4 000330                       MONALT       null
      827      529    1   MONALT: ;
      828      530    1           ALTRETURN;

PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:231  
    530  4 000330   000000 702200 xent               TSX2  ! X66_AALT

FPT_READ
 Sect OctLoc
   2     000   000005 777640   000010 006000   000000 777640   001031 006000    ................
   2     004   000377 777640   000030 006000   000000 177640   000000 006014    ................
   2     010   000000 500000   000000 000000   000000 000000   000000 000000    ................
   2     014   000000 000000   000000 000000                                    ........

FPT_PRECORD
 Sect OctLoc
   2     016   000003 777640   000024 006000   000000 177640   000000 006014    ................
   2     022   000000 177640   000000 006014   000000 000000   000000 000000    ................
   2     026   000000 000000   0***** ******                                    ........

BUF1
 Sect OctLoc
   2     030   ****** ******   ****** ******   ****** ******   ****** ******    ................

BUF2
 Sect OctLoc
   2     430   ****** ******   ****** ******   ****** ******   ****** ******    ................

NXTBUF
 Sect OctLoc
   2    1032   777777 777777                                                    ....

SECTS
 Sect OctLoc
   2    1035   000000 000000   000004 600000   000000 000000   000000 000000    ................
   2    1041   000000 010000   000005 000000   000000 000000   000000 000000    ................
   2    1045   000000 000000   777773 210000   000000 000000   000000 000000    ................

BPTR$
 Sect OctLoc
   3     000   000030 006000   000430 006000                                    ........

PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:232  
(unnamed)
 Sect OctLoc
   5     000   000006 006000   000010 011301   000012 006000                    ............
      829      531    1   END TCU$GETMEM;

PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:233  
--  Include file information  --

   XU_FORMAT_C.:LIBRARY  is referenced.
   CP_6.:LIBRARY  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure TCU$GETMEM.
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:234  

 **** Variables and constants ****

  ****  Section 002  Data  TCU$GETMEM

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    30-0-0/c CHAR(1024)  r     1 BUF1                     430-0-0/c CHAR(1024)  r     1 BUF2
    16-0-0/d STRC(360)   r     1 FPT_PRECORD                0-0-0/d STRC(504)   r     1 FPT_READ
  1033-0-0/w SBIN        r     1 INPAGE(0:1)             1031-0-0/w SBIN        r     1 LASTPAGE#
  1032-0-0/w SBIN        r     1 NXTBUF                  1030-0-0/w SBIN        r     1 PAGE#
  1035-0-0/w STRC(432)   r     1 SECTS

  ****  Section 003 RoData TCU$GETMEM

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 BPTR$(0:1)

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     4-0-0/w PTR         r     1 @BUF                       3-0-0/w PTR         r     1 @LOC
     5-0-0/w PTR         r     1 @SIZE                     *0-0-0/c ASTR(0)     r     1 BUF
     7-0-0/w SBIN        r     1 I                          7-0-0/w UBIN        r     1 IU
     6-0-0/w UBIN        r     1 L                         *0-0-0/w UBIN        r     1 LOC
    10-0-0/w SBIN        r     1 S                         *0-0-0/w UBIN        r     1 SIZE
    10-0-0/w UBIN        r     1 SU

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:235  
     0-0-0/w STRC(1080)  r     1 FDS

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c ASTR(0)     r     1 BBUF                       0-0-0N  NULL        r     1 M$DUMPFILE


   Procedure TCU$GETMEM requires 217 words for executable code.
   Procedure TCU$GETMEM requires 14 words of local(AUTO) storage.

    No errors detected in file TCU$UNLZ.:TCA2TSI    .
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:236  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:237  
          MINI XREF LISTING

BBUF
         9**DCL       525>>ASSIGN
BPTR$
       434**DCL       501>>ASSIGN    518>>ASSIGN
BUF
         8**DCL         6--PROC      525<<ASSIGN
BUF1
       429**DCL       388--DCLINIT   389--DCLINIT   434--DCLINIT
BUF2
       430**DCL       434--DCLINIT
FDS.USERDAT3#
       366**DCL       491<<ASSIGN
FPT_PRECORD
       419**DCL       506<>CALL      521<>CALL
FPT_PRECORD.V
       421**DCL       419--DCLINIT
FPT_PRECORD.V.N#
       425**DCL       505<<ASSIGN    520<<ASSIGN
FPT_READ
       386**DCL       507<>CALL      522<>CALL
FPT_READ.BUF_.BUF$
       389**DCL       501<<ASSIGN    518<<ASSIGN    525>>ASSIGN
FPT_READ.STATION_
       389**DCL       390--REDEF
FPT_READ.V
       390**DCL       386--DCLINIT
FPT_READ.V.DVBYTE.REREAD#
       401**DCL       401--REDEF
FPT_READ.V.INDX#
       399**DCL       399--REDEF
I
       445**DCL       446--REDEF     458<>CALL      462>>IF        465>>IF        480<>CALL      494<<DOINDEX
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:238  
       495>>IF        495>>IF        496>>ASSIGN    497>>ASSIGN    510<<ASSIGN    512<<ASSIGN    513<<ASSIGN
       515<<ASSIGN    518>>ASSIGN    519>>IF        524>>ASSIGN
INPAGE
       435**DCL       453<<ASSIGN    454<<ASSIGN    503>>IF        504<<ASSIGN    512>>IF        513>>IF
       519>>IF        524<<ASSIGN
IU
       446**DCL       468>>ASSIGN    473>>ASSIGN    482<<ASSIGN    482>>ASSIGN    483>>IF        483<<ASSIGN
       483>>ASSIGN    483>>ASSIGN    487>>ASSIGN
L
       444**DCL       456<<ASSIGN    458<>CALL      462>>IF        463<<ASSIGN    466>>IF        479<<ASSIGN
       479>>ASSIGN    480<>CALL      481>>IF        497<<ASSIGN    498>>ASSIGN    499<<ASSIGN    499>>ASSIGN
       500>>IF        525>>ASSIGN
LASTPAGE#
       432**DCL       386--DCLINIT   387--DCLINIT   452<<ASSIGN    505>>ASSIGN    520>>ASSIGN
LOC
         7**DCL         6--PROC      495>>IF        495>>IF        496>>ASSIGN    497>>ASSIGN
M$PRECORD
        25**DCL-ENT   506--CALL      521--CALL
M$READ
        22**DCL-ENT   507--CALL      522--CALL
MONALT
       522**LABEL     506--CALLALT   507--CALLALT   521--CALLALT   522--CALLALT
NXTBUF
       433**DCL       450>>IF        451<<ASSIGN    459<<ASSIGN    515>>ASSIGN    516<<ASSIGN    516>>ASSIGN
PAGE#
       431**DCL       498<<ASSIGN    502<<ASSIGN    502>>ASSIGN    503>>IF        504>>ASSIGN    505>>ASSIGN
       509<<ASSIGN    509>>ASSIGN    512>>IF        513>>IF        519>>IF        520>>ASSIGN    524>>ASSIGN
S
       447**DCL         9--IMP-SIZ   448--REDEF     496<<ASSIGN    500>>IF        525>>ASSIGN
SECTS.OF
       441**DCL       489<<ASSIGN    490<<ASSIGN    490>>ASSIGN    497>>ASSIGN
SECTS.VA
       437**DCL       468<<ASSIGN    473<<ASSIGN    487>>ASSIGN    488<<ASSIGN    489>>ASSIGN    490>>ASSIGN
       494--DOINDEX   495>>IF
SECTS.VE
       439**DCL       455<<ASSIGN    467<<ASSIGN    469<<ASSIGN    472<<ASSIGN    477<<ASSIGN    487<<ASSIGN
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:239  
       488>>ASSIGN    489>>ASSIGN    490>>ASSIGN    491>>ASSIGN    495>>IF        496>>ASSIGN
SIZE
        10**DCL         6--PROC        8--IMP-SIZ   496>>ASSIGN    525>>ASSIGN
SU
       448**DCL       484<<ASSIGN    484>>ASSIGN    485>>IF        485<<ASSIGN    485>>ASSIGN    485>>ASSIGN
       488>>ASSIGN
TCU$GETMEM
         6**PROC      458--CALL      480--CALL
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:240  
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:241  
              MINI UREF LISTING

M$ACCT      38**DCL-ENT
M$ACTIVATE      41**DCL-ENT
M$ALIB      34**DCL-ENT
M$ASUSER      36**DCL-ENT
M$ATTACH      43**DCL-ENT
M$BADPP      61**DCL-ENT
M$CGCTL      42**DCL-ENT
M$CGINFO      42**DCL-ENT
M$CHECK      23**DCL-ENT
M$CHGUNIT      81**DCL-ENT
M$CLOSE      21**DCL-ENT
M$CLRSTK      79**DCL-ENT
M$CMDVAR      90**DCL-ENT
M$CONFIG      51**DCL-ENT
M$CORRES      26**DCL-ENT
M$CPEXIT      35**DCL-ENT
M$CVM      59**DCL-ENT
M$CVOL      24**DCL-ENT
M$DCLFLD      51**DCL-ENT
M$DEACTIVATE      41**DCL-ENT
M$DELREC      23**DCL-ENT
M$DEQ      88**DCL-ENT
M$DETACH      43**DCL-ENT
M$DEVICE      25**DCL-ENT
M$DISPLAY      88**DCL-ENT
M$DISPRES      28**DCL-ENT
M$DLIB      34**DCL-ENT
M$DRIBBLE      51**DCL-ENT
M$DRTN      79**DCL-ENT
M$DSUSER      36**DCL-ENT
M$DUMPFILE     368**DCL
M$ENQ      87**DCL-ENT
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:242  
M$EOM      46**DCL-ENT
M$ERASE      52**DCL-ENT
M$ERR      33**DCL-ENT
M$ERRMSG      84**DCL-ENT
M$EVENT      76**DCL-ENT
M$EXHUME      85**DCL-ENT
M$EXIT      33**DCL-ENT
M$EXTEND      25**DCL-ENT
M$FDP      57**DCL-ENT
M$FDS      56**DCL-ENT
M$FEBOOT      49**DCL-ENT
M$FECTL      50**DCL-ENT
M$FEDUMP      49**DCL-ENT
M$FID      84**DCL-ENT
M$FINDPROC      38**DCL-ENT
M$FSUSER      36**DCL-ENT
M$FVP      58**DCL-ENT
M$FWCG      42**DCL-ENT
M$GBPL      62**DCL-ENT
M$GDDL      58**DCL-ENT
M$GDP      57**DCL-ENT
M$GDS      56**DCL-ENT
M$GETDCB      27**DCL-ENT
M$GETMOUSE      67**DCL-ENT
M$GETPM      68**DCL-ENT
M$GJOB      86**DCL-ENT
M$GLINEATTR      46**DCL-ENT
M$GOODPP      61**DCL-ENT
M$GPLATEN      54**DCL-ENT
M$GPROMPT      53**DCL-ENT
M$GTRMATTR      47**DCL-ENT
M$GTRMCTL      45**DCL-ENT
M$GTRMTAB      48**DCL-ENT
M$GVP      57**DCL-ENT
M$HELP      84**DCL-ENT
M$INT      76**DCL-ENT
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:243  
M$INTRTN      37**DCL-ENT
M$IOQ      72**DCL-ENT
M$JOBSTATS      86**DCL-ENT
M$KEYIN      26**DCL-ENT
M$LDEV      21**DCL-ENT
M$LDTRC      34**DCL-ENT
M$LIMIT      27**DCL-ENT
M$LINES      26**DCL-ENT
M$LINK      33**DCL-ENT
M$MADMUCK      29**DCL-ENT
M$MAKUSER      60**DCL-ENT
M$MBS      28**DCL-ENT
M$MDFFLD      52**DCL-ENT
M$MERC      77**DCL-ENT
M$MERCS      78**DCL-ENT
M$MIRROR      72**DCL-ENT
M$MONINFO      89**DCL-ENT
M$MPL      62**DCL-ENT
M$NODEINFO      53**DCL-ENT
M$NXTUSR      87**DCL-ENT
M$OCMSG      85**DCL-ENT
M$OLAY      33**DCL-ENT
M$OPEN      21**DCL-ENT
M$PAS      62**DCL-ENT
M$PATHCON      85**DCL-ENT
M$PDS      56**DCL-ENT
M$PFIL      23**DCL-ENT
M$PLATEN      47**DCL-ENT
M$PROCNAME      38**DCL-ENT
M$PROFILE      49**DCL-ENT
M$PROMPT      45**DCL-ENT
M$RACST      29**DCL-ENT
M$RDSYSLOG      70**DCL-ENT
M$RELDCB      27**DCL-ENT
M$RELRES      28**DCL-ENT
M$RELSTARF      30**DCL-ENT
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:244  
M$REM      30**DCL-ENT
M$RENV      77**DCL-ENT
M$REQUIRE      29**DCL-ENT
M$RETRY      78**DCL-ENT
M$RETRYS      78**DCL-ENT
M$REW      24**DCL-ENT
M$RLSFLD      52**DCL-ENT
M$RPRIV      80**DCL-ENT
M$RSPP      59**DCL-ENT
M$RSWITCH      81**DCL-ENT
M$RUE      87**DCL-ENT
M$SAD      60**DCL-ENT
M$SAVE      36**DCL-ENT
M$SCON      37**DCL-ENT
M$SCREECH      35**DCL-ENT
M$SENV      77**DCL-ENT
M$SETFMA      21**DCL-ENT
M$SETFP      50**DCL-ENT
M$SINPUT      48**DCL-ENT
M$SLCFLD      53**DCL-ENT
M$SMOUSE      67**DCL-ENT
M$SMPRT      59**DCL-ENT
M$SPRIV      80**DCL-ENT
M$SSC      60**DCL-ENT
M$SSWITCH      80**DCL-ENT
M$STATE      89**DCL-ENT
M$STD      61**DCL-ENT
M$STIMER      75**DCL-ENT
M$STLPP      58**DCL-ENT
M$STRAP      75**DCL-ENT
M$STRMATTR      47**DCL-ENT
M$STRMCTL      45**DCL-ENT
M$STRMTAB      48**DCL-ENT
M$SYMBIO      86**DCL-ENT
M$SYSCON      72**DCL-ENT
M$SYSID      90**DCL-ENT
PL6.E3A0      #007=TCU$GETMEM File=TCU$UNLZ.:TCA2TSI                             SUN 11/16/97 14:31 Page:245  
M$TDCLOSE      71**DCL-ENT
M$TDIO      71**DCL-ENT
M$TDOPEN      70**DCL-ENT
M$TDREQCPU      71**DCL-ENT
M$TEMPWROC      65**DCL-ENT
M$TIME      88**DCL-ENT
M$TRAP      75**DCL-ENT
M$TRMISC      50**DCL-ENT
M$TRMPRG      46**DCL-ENT
M$TRTN      79**DCL-ENT
M$TRUNC      22**DCL-ENT
M$TTIMER      75**DCL-ENT
M$UC      45**DCL
M$UMPL      62**DCL-ENT
M$UNFID      84**DCL-ENT
M$UNLATCH      41**DCL-ENT
M$UNSHARE      38**DCL-ENT
M$USRFIELD      81**DCL-ENT
M$VIRTUAL      56**DCL-ENT
M$WAIT      79**DCL-ENT
M$WEOF      24**DCL-ENT
M$WRITE      22**DCL-ENT
M$WRSYSLOG      70**DCL-ENT
M$XCON      76**DCL-ENT
M$XCONRTN      37**DCL-ENT
M$XEQTIME      89**DCL-ENT
M$XFLUSH      30**DCL-ENT
M$XMOUSE      67**DCL-ENT
M$XXX      33**DCL-ENT
M$YC      35**DCL-ENT

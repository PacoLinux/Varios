VERSION E05

PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:1    
        1        1        /*M* DXS$BLD Build routines for Exec DELTA only commands */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* DMR,PLM=5,IND=5,CSU=3,EXM=0,ECU=3,MOC,DCI=5,CRT=5 */
        8        8        %SET LISTSUB='1'B;
        9        9        /*F* NAME: DXS$BLD
       10       10             PURPOSE: To build command frames for Exec DELTA only commands.
       11       11             DESCRIPTION: This module contains various Exec DELTA only build routines.
       12       12                          The commands that are built here have different syntax
       13       13                          in User DELTA and Exec DELTA */
       14       14        /*D* NAME: DXS$BLD
       15       15             ENVIRONMENT: Exec Delta.
       16       16             INPUT: S_D.NCMD$ - Ptr to root of parse output tree for command to
       17       17                                be built.
       18       18                    S_D.LASTBLT$ - Ptr to build frame, where to build command.
       19       19             OUTPUT: The appropriate frame built where specified.
       20       20             DESCRIPTION: This module contains various Exec DELTA only build routines.
       21       21                          The commands that are built here have different syntax
       22       22                          in User DELTA and Exec DELTA. The routines that reside
       23       23                          in this module are coded just like the build routines
       24       24                          in DCS$SCAN. */
       25       25                                                /**/
       26       26        DXS$BLD: PROC ALTRET;
       27       27                                                /**/
       28       28        %INCLUDE DD$BASED;
       29     1331        %INCLUDE DD_ERR_C;
       30     1728        %INCLUDE DD_PSUBS_C;
       31     2203        %INCLUDE DD_SUBS_C;
       32     2474        %INCLUDE XU_MACRO_C;
       33     5580        %INCLUDE XU_SUBS_C;
       34     5672        /* Auto */
       35     5673    1   DCL NCMD$ PTR;
       36     5674    1   DCL LASTBLT$ PTR;
       37     5675    1   DCL NSB SBIN;
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:2    
       38     5676    1   DCL IX SBIN;
       39     5677        /*D* NSB & IX must be SBIN */
       40     5678    1   DCL NC$ PTR;
       41     5679    1   DCL CODE UBIN;
       42     5680    1   DCL V UBIN;
       43     5681    1   DCL L$ PTR;
       44     5682    1   DCL TEMP_FLAG BIT(1) ALIGNED;
       45     5683        /* Based */
       46     5684        %DUMP$CMD (STCLASS="BASED(LASTBLT$)");
       47     5714        %DOO (NAME=ECHO$CMD,STCLASS="BASED(LASTBLT$)");
       48     5729        %DOO (NAME=KEEP$CMD,STCLASS="BASED(LASTBLT$)");
       49     5744        %DOO (NAME=OUTPUT$CMD,STCLASS="BASED(LASTBLT$)");
       50     5759        %DOO (NAME=READ$CMD,STCLASS="BASED(LASTBLT$)");
       51     5774        %PARSE$OUT (NAME=POB,STCLASS=BASED,NSUBLKS=NSB);
       52     5819        %TEXT$C;
       53     5824    1   DCL 1 TTEXT$C BASED,
       54     5825    1         2 SIZE UBIN(9) UNAL,
       55     5826    1         2 TXT CHAR(V) UNAL;
       56     5827        %INCLUDE DD$DITEM;
       12+    5930             %LIST;
       13+    5931    1        DCL SDD$ PTR;
       14+    5932    1        DCL ZITEM$ PTR;
       15+    5933    1        DCL SDD_L6$ PTR;
       16+    5934    1        DCL ZITEM_L6$ PTR;
       57     6508        %ZITEM;
       58     6580        %INCLUDE XUH_MACRO_C;
       59     6664        %INCLUDE DD_SD_M;
       60     8000        %S_D;
       61     9318        /* Constant */
       62     9319        /* Entrys */
       63     9320    1   DCL DDD$BUMP_D$ ENTRY(1) ALTRET;
       64     9321    1   DCL DDS$ATTDIRA ENTRY(2) ALTRET;
       65     9322    1   DCL DDD$SIMEXP ENTRY(3) ALTRET;
       66     9323    1   DCL DDS$VREFCOM ENTRY(2) ALTRET;
       67     9324        %EJECT;
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:3    
       68     9325        /*F* NAME: DDS$BLD_DUMP
       69     9326             PURPOSE: TO BUILD THE DUMP COMMAND.
       70     9327             DESCRIPTION: BUILDS THE DUMP COMMAND. */
       71     9328        /*D* NAME: DDS$BLD_DUMP
       72     9329             ENTRY: DDS$BLD_DUMP
       73     9330             CALL: CALL DDS$BLD_DUMP ALTRET( ERROR );
       74     9331             INTERFACE: DDS$VREFCOM
       75     9332             ENVIRONMENT: DDS$SCAN ACTIVE
       76     9333             INPUT: NCMD$ - PTR TO "DUMP" NODE.
       77     9334             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
       78     9335             SCRATCH: LOCAL AUTO ONLY.
       79     9336             DESCRIPTION: */
       80     9337                                                /**/
       81     9338    1   DDS$BLD_DUMP: ENTRY ALTRET;
       82     9339                                                /**/
       83     9340    1        NCMD$ = S_D.NCMD$;
       84     9341    1        LASTBLT$ = S_D.LASTBLT$;
       85     9342    1        CALL DDS$ATTDIRA( SIZEW( DUMP$CMD ), 7 ) ALTRET( ARET ); /* C_DUMP */
       86     9343    1        NSB = NCMD$ -> POB.NSB - 1;
       87     9344    1        DUMP$CMD.NUM = 100/*DD_DMPDEF*/;          /* DEFAULT SIZE > 100 WORDS */
       88     9345    2        DO IX = 0 TO NSB;
       89     9346    2             L$ = S_D.D$;
       90     9347    2             NC$ = NCMD$ -> POB.SUBLK$ ( IX );
       91     9348    2             CODE = NC$ -> POB.CODE;
       92     9349    2             IF ( CODE = 38 )       /* VREF_CODE */
       93     9350    3             THEN DO;
       94     9351    3                  CALL DDS$VREFCOM( NC$ ) ALTRET( ARET );
       95     9352    3                  IF ( NOT L$ -> ZITEM.FLAGS.MDSE.M )
       96     9353    4                  THEN DO;
       97     9354    4                       S_D.ERROR = 42; /* E@NOMOD  */
       98     9355    4                       GOTO ARET;
       99     9356    4                     END;
      100     9357    3                END;
      101     9358    2             ELSE IF ( CODE = 47 ) /* SIMEXP_CODE */
      102     9359    3                  THEN DO;
      103     9360    3                       CALL DDD$SIMEXP ( NC$, V, TEMP_FLAG ) ALTRET( ARET );
      104     9361    3                       DUMP$CMD.NUM = V;
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:4    
      105     9362    3                     END;
      106     9363    2                  ELSE IF ( CODE >= 340 ) AND ( CODE <= 364 )
              9363                           /* FMTFIRST,FMTLAST _CODE */
      107     9364    3                       THEN DO;
      108     9365    3                            DUMP$CMD.FORMAT = '1'B;
      109     9366    3                            DUMP$CMD.FORMATCODE = CODE;
      110     9367    3                          END;
      111     9368    2                       ELSE IF ( CODE >= 390 ) AND ( CODE <= 392 ) /* C@ON, C@INTO */
      112     9369    3                            THEN DO;       /* NOTHING */
      113     9370    3                               END;
      114     9371    2                            ELSE IF ( CODE >= 515 ) AND ( CODE <= 519 )
              9371                                     /* C@NO, C@LP */
      115     9372    3                                 THEN DO;
      116     9373    3                                      DUMP$CMD.DEST = '1'B;
      117     9374    3                                      DUMP$CMD.DESTCODE = CODE;
      118     9375    3                                    END;
      119     9376    2                                 ELSE IF CODE = 87 /* C@ASCII */
      120     9377    2                                      THEN DUMP$CMD.ASCII_FLAG = '1'B;
      121     9378    2                                      ELSE IF CODE = 89 /* C@PAGE_EJECT */
      122     9379    2                                           THEN DUMP$CMD.PAGE_EJECT = '1'B;
      123     9380    2                                           ELSE IF CODE = 94 /* C@LONG */
      124     9381    2                                                THEN DUMP$CMD.LONG = '1'B;
      125     9382    3                                                ELSE DO; /* "QTSTRINGS" */
      126     9383    3                                                     NC$ = NC$ -> POB.SUBLK$( 0 );
      127     9384    3                                                     V = NC$ -> TEXT$C.SIZE;
      128     9385    3                                                     IF ( V > 31 )
      129     9386    4                                                     THEN DO;
      130     9387    4                                                          V = 31;
      131     9388    4                                                          NC$ -> TEXT$C.SIZE = V;
      132     9389    4                                                        END;
      133     9390    3                                                     CODE = ( V / 4 ) + 1;
      134     9391    3                                                     CALL DDD$BUMP_D$( CODE ) ALTRET(
              9391                                                              ARET );
      135     9392    3                                                     DUMP$CMD.HEADING = '1'B;
      136     9393    3                                                     L$ -> TTEXT$C = NC$ -> TEXT$C;
      137     9394    3                                                   END;
      138     9395    2           END;                            /* "DO IX" */
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:5    
      139     9396                                                /**/
      140     9397    1        RETURN;
      141     9398        %EJECT;
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:6    
      142     9399        /*F* NAME: DDS$BLD_ECHO
      143     9400             PURPOSE: TO BUILD THE ECHO COMMAND.
      144     9401             DESCRIPTION: BUILDS THE ECHO COMMAND. */
      145     9402        /*D* NAME: DDS$BLD_ECHO
      146     9403             ENTRY: DDS$BLD_ECHO
      147     9404             CALL: CALL DDS$BLD_ECHO ALTRET( ERROR );
      148     9405             INTERFACE: DDS$INSTR
      149     9406             ENVIRONMENT: DDS$SCAN ACTIVE
      150     9407             INPUT: NCMD$ - PTR TO "ECHO" NODE.
      151     9408             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
      152     9409             SCRATCH: LOCAL AUTO ONLY.
      153     9410             DESCRIPTION: */
      154     9411                                                /**/
      155     9412    1   DDS$BLD_ECHO: ENTRY ALTRET;
      156     9413                                                /**/
      157     9414    1        NCMD$ = S_D.NCMD$;
      158     9415    1        LASTBLT$ = S_D.LASTBLT$;
      159     9416    1        CALL DDS$ATTDIRA( SIZEW( ECHO$CMD ), 33 ) ALTRET( ARET ); /* C_ECHO */
      160     9417    1        V = 519;                          /* ASSUME C@LP */
      161     9418    2        DO IX = 0 TO NCMD$ -> POB.NSB - 1;
      162     9419    2             CODE = NCMD$ -> POB.SUBLK$( IX ) -> POB.CODE;
      163     9420    2             IF CODE = 390                /* C@ON */
      164     9421    3             THEN DO;
      165     9422    3                END;
      166     9423    2             ELSE IF CODE = 391         /* C@OVER */
      167     9424    3                  THEN DO;
      168     9425    3                     END;
      169     9426    2                  ELSE IF CODE = 392    /* C@INTO */
      170     9427    3                       THEN DO;
      171     9428    3                          END;
      172     9429    2                       ELSE V = CODE;
      173     9430    2           END;
      174     9431    1        ECHO$CMD.ID = V;
      175     9432                                                /**/
      176     9433    1        RETURN;
      177     9434        %EJECT;
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:7    
      178     9435        /*F* NAME: DDS$BLD_KEEP
      179     9436             PURPOSE: TO BUILD THE KEEP COMMAND
      180     9437             DESCRIPTION: BUILDS THE KEEP ATTACHMENT   */
      181     9438                                                /**/
      182     9439    1   DDS$BLD_KEEP: ENTRY ALTRET;
      183     9440    1   DDS$BLD_TRAP: ENTRY ALTRET;             /* DUMMY */
      184     9441    1   DDS$BLD_IGNORE: ENTRY ALTRET;           /* DUMMY */
      185     9442                                                /**/
      186     9443    1        NCMD$ = S_D.NCMD$;
      187     9444    1        LASTBLT$ = S_D.LASTBLT$;
      188     9445    1        CALL DDS$ATTDIRA(SIZEW(KEEP$CMD), 22) /* C_KEEP */
      189     9446    1          ALTRET(ARET);
      190     9447    1        IF NCMD$ -> POB.NSB = 0
      191     9448    1        THEN CODE = 532;                 /* C@MON - DEFAULT */
      192     9449    1        ELSE CODE = NCMD$ -> POB.SUBLK$(0) -> POB.CODE;
      193     9450    1        CODE = CODE - (530 - 1);         /* CODE - (C@ALL - 1) */
      194     9451    1        KEEP$CMD.ID = CODE;
      195     9452    1        RETURN;
      196     9453             %EJECT;
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:8    
      197     9454        /*F* NAME: DDS$BLD_OUTPUT
      198     9455             PURPOSE: TO BUILD THE OUTPUT COMMAND.
      199     9456             DESCRIPTION: BUILDS THE OUTPUT COMMAND. */
      200     9457        /*D* NAME: DDS$BLD_OUTPUT
      201     9458             ENTRY: DDS$BLD_OUTPUT
      202     9459             CALL: CALL DDS$BLD_OUTPUT ALTRET( ERROR );
      203     9460             ENVIRONMENT: DDS$SCAN ACTIVE
      204     9461             INPUT: NCMD$ - PTR TO "OUTPUT" NODE.
      205     9462             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
      206     9463             SCRATCH: LOCAL AUTO ONLY.
      207     9464             DESCRIPTION: */
      208     9465                                                /**/
      209     9466    1   DDS$BLD_OUTPUT: ENTRY ALTRET;
      210     9467                                                /**/
      211     9468    1        NCMD$ = S_D.NCMD$;
      212     9469    1        LASTBLT$ = S_D.LASTBLT$;
      213     9470    1        CALL DDS$ATTDIRA( SIZEW( OUTPUT$CMD ), 36 ) ALTRET( ARET ); /* C_OUTPUT */
      214     9471    1        V = 516;                          /* ASSUME C@ME */
      215     9472    2        DO IX = 0 TO NCMD$ -> POB.NSB - 1;
      216     9473    2             CODE = NCMD$ -> POB.SUBLK$( IX ) -> POB.CODE;
      217     9474    2             IF CODE = 390                /* C@ON */
      218     9475    3             THEN DO;
      219     9476    3                END;
      220     9477    2             ELSE IF CODE = 391         /* C@OVER */
      221     9478    3                  THEN DO;
      222     9479    3                     END;
      223     9480    2                  ELSE IF CODE = 392    /* C@INTO */
      224     9481    3                       THEN DO;
      225     9482    3                          END;
      226     9483    2                       ELSE V = CODE;
      227     9484    2           END;
      228     9485    1        OUTPUT$CMD.ID = V;
      229     9486                                                /**/
      230     9487    1        RETURN;
      231     9488        %EJECT;
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:9    
      232     9489        /*F* NAME: DDS$BLD_READ
      233     9490             PURPOSE: TO BUILD THE READ COMMAND.
      234     9491             DESCRIPTION: BUILDS THE READ COMMAND. */
      235     9492        /*D* NAME: DDS$BLD_READ
      236     9493             ENTRY: DDS$BLD_READ
      237     9494             CALL: CALL DDS$BLD_READ ALTRET( ERROR );
      238     9495             ENVIRONMENT: DDS$SCAN ACTIVE
      239     9496             INPUT: NCMD$ - PTR TO "READ" NODE.
      240     9497             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
      241     9498             SCRATCH: LOCAL AUTO ONLY.
      242     9499             DESCRIPTION: */
      243     9500                                                /**/
      244     9501    1   DDS$BLD_READ: ENTRY ALTRET;
      245     9502                                                /**/
      246     9503    1        NCMD$ = S_D.NCMD$;
      247     9504    1        LASTBLT$ = S_D.LASTBLT$;
      248     9505    1        CALL DDS$ATTDIRA( SIZEW( READ$CMD ), 42 ) ALTRET( ARET ); /* C_READ */
      249     9506    1        READ$CMD.ID = NCMD$ -> POB.SUBLK$( 0 ) -> POB.CODE;
      250     9507                                                /**/
      251     9508    1        RETURN;
      252     9509                                                /**/
      253     9510    1   ARET:
      254     9511    1        ALTRETURN;
      255     9512                                                /**/
      256     9513    1   END DXS$BLD;

PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:10   
--  Include file information  --

   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   DD_SRTN_C.:E05TOU  is referenced.
   DD_ACODE_C.:E05TOU  is referenced.
   DD_ICODE_C.:E05TOU  is referenced.
   DD$DITEM.:E05TOU  cannot be made into a system file and is referenced.
   XU_SUBS_C.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD_PSUBS_C.:E05TOU  is referenced.
   DD_ERR_C.:E05TOU  is referenced.
   DD$BASED.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DXS$BLD.

   Procedure DXS$BLD requires 285 words for executable code.
   Procedure DXS$BLD requires 20 words of local(AUTO) storage.

    No errors detected in file DXS$BLD.:E05TSI    .

PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:11   

 Object Unit name= DXS$BLD                                    File name= DXS$BLD.:E05TOU
 UTS= JUL 29 '97 15:13:01.60 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Proc  even  none   285    435  DXS$BLD
    1  RoData even  none    15     17  DXS$BLD

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     0      0   yes    yes     yes      Std        0  DXS$BLD
     0      3          yes     yes      Std        0  DDS$BLD_DUMP
     0    227          yes     yes      Std        0  DDS$BLD_ECHO
     0    300          yes     yes      Std        0  DDS$BLD_KEEP
     0    303          yes     yes      Std        0  DDS$BLD_TRAP
     0    306          yes     yes      Std        0  DDS$BLD_IGNORE
     0    342          yes     yes      Std        0  DDS$BLD_OUTPUT
     0    413          yes     yes      Std        0  DDS$BLD_READ
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:12   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       2 DDS$ATTDIRA
 yes     yes           Std       2 DDS$VREFCOM
 yes     yes           Std       3 DDD$SIMEXP
 yes     yes           Std       1 DDD$BUMP_D$
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    S_D$                                  B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:13   


        1        1        /*M* DXS$BLD Build routines for Exec DELTA only commands */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* DMR,PLM=5,IND=5,CSU=3,EXM=0,ECU=3,MOC,DCI=5,CRT=5 */
        8        8        %SET LISTSUB='1'B;
        9        9        /*F* NAME: DXS$BLD
       10       10             PURPOSE: To build command frames for Exec DELTA only commands.
       11       11             DESCRIPTION: This module contains various Exec DELTA only build routines.
       12       12                          The commands that are built here have different syntax
       13       13                          in User DELTA and Exec DELTA */
       14       14        /*D* NAME: DXS$BLD
       15       15             ENVIRONMENT: Exec Delta.
       16       16             INPUT: S_D.NCMD$ - Ptr to root of parse output tree for command to
       17       17                                be built.
       18       18                    S_D.LASTBLT$ - Ptr to build frame, where to build command.
       19       19             OUTPUT: The appropriate frame built where specified.
       20       20             DESCRIPTION: This module contains various Exec DELTA only build routines.
       21       21                          The commands that are built here have different syntax
       22       22                          in User DELTA and Exec DELTA. The routines that reside
       23       23                          in this module are coded just like the build routines
       24       24                          in DCS$SCAN. */
       25       25                                                /**/
       26       26        DXS$BLD: PROC ALTRET;

     26  0 000000   000000 700200 xent  DXS$BLD      TSX0  ! X66_AUTO_0
         0 000001   000024 000000                    ZERO    20,0
         0 000002   000005 710000 0                  TRA     s:9340

       27       27                                                /**/
       28       28        %INCLUDE DD$BASED;
       29     1331        %INCLUDE DD_ERR_C;
       30     1728        %INCLUDE DD_PSUBS_C;
       31     2203        %INCLUDE DD_SUBS_C;
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:14   
       32     2474        %INCLUDE XU_MACRO_C;
       33     5580        %INCLUDE XU_SUBS_C;
       34     5672        /* Auto */
       35     5673    1   DCL NCMD$ PTR;
       36     5674    1   DCL LASTBLT$ PTR;
       37     5675    1   DCL NSB SBIN;
       38     5676    1   DCL IX SBIN;
       39     5677        /*D* NSB & IX must be SBIN */
       40     5678    1   DCL NC$ PTR;
       41     5679    1   DCL CODE UBIN;
       42     5680    1   DCL V UBIN;
       43     5681    1   DCL L$ PTR;
       44     5682    1   DCL TEMP_FLAG BIT(1) ALIGNED;
       45     5683        /* Based */
       46     5684        %DUMP$CMD (STCLASS="BASED(LASTBLT$)");
       47     5714        %DOO (NAME=ECHO$CMD,STCLASS="BASED(LASTBLT$)");
       48     5729        %DOO (NAME=KEEP$CMD,STCLASS="BASED(LASTBLT$)");
       49     5744        %DOO (NAME=OUTPUT$CMD,STCLASS="BASED(LASTBLT$)");
       50     5759        %DOO (NAME=READ$CMD,STCLASS="BASED(LASTBLT$)");
       51     5774        %PARSE$OUT (NAME=POB,STCLASS=BASED,NSUBLKS=NSB);
       52     5819        %TEXT$C;
       53     5824    1   DCL 1 TTEXT$C BASED,
       54     5825    1         2 SIZE UBIN(9) UNAL,
       55     5826    1         2 TXT CHAR(V) UNAL;
       56     5827        %INCLUDE DD$DITEM;
       12+    5930             %LIST;
       13+    5931    1        DCL SDD$ PTR;
       14+    5932    1        DCL ZITEM$ PTR;
       15+    5933    1        DCL SDD_L6$ PTR;
       16+    5934    1        DCL ZITEM_L6$ PTR;
       57     6508        %ZITEM;
       58     6580        %INCLUDE XUH_MACRO_C;
       59     6664        %INCLUDE DD_SD_M;
       60     8000        %S_D;
       61     9318        /* Constant */
       62     9319        /* Entrys */
       63     9320    1   DCL DDD$BUMP_D$ ENTRY(1) ALTRET;
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:15   
       64     9321    1   DCL DDS$ATTDIRA ENTRY(2) ALTRET;
       65     9322    1   DCL DDD$SIMEXP ENTRY(3) ALTRET;
       66     9323    1   DCL DDS$VREFCOM ENTRY(2) ALTRET;
       67     9324        %EJECT;
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:16   
       68     9325        /*F* NAME: DDS$BLD_DUMP
       69     9326             PURPOSE: TO BUILD THE DUMP COMMAND.
       70     9327             DESCRIPTION: BUILDS THE DUMP COMMAND. */
       71     9328        /*D* NAME: DDS$BLD_DUMP
       72     9329             ENTRY: DDS$BLD_DUMP
       73     9330             CALL: CALL DDS$BLD_DUMP ALTRET( ERROR );
       74     9331             INTERFACE: DDS$VREFCOM
       75     9332             ENVIRONMENT: DDS$SCAN ACTIVE
       76     9333             INPUT: NCMD$ - PTR TO "DUMP" NODE.
       77     9334             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
       78     9335             SCRATCH: LOCAL AUTO ONLY.
       79     9336             DESCRIPTION: */
       80     9337                                                /**/
       81     9338    1   DDS$BLD_DUMP: ENTRY ALTRET;

   9338  0 000003   000000 700200 xent  DDS$BLD_DUMP TSX0  ! X66_AUTO_0
         0 000004   000024 000000                    ZERO    20,0

       82     9339                                                /**/
       83     9340    1        NCMD$ = S_D.NCMD$;

   9340  0 000005   000000 470400 xsym               LDP0    S_D$
         0 000006   004750 236100                    LDQ     2536,,PR0
         0 000007   200003 756100                    STQ     NCMD$,,AUTO

       84     9341    1        LASTBLT$ = S_D.LASTBLT$;

   9341  0 000010   000134 236100                    LDQ     92,,PR0
         0 000011   200004 756100                    STQ     LASTBLT$,,AUTO

       85     9342    1        CALL DDS$ATTDIRA( SIZEW( DUMP$CMD ), 7 ) ALTRET( ARET ); /* C_DUMP */

   9342  0 000012   000001 630400 1                  EPPR0   1
         0 000013   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000014   000000 701000 xent               TSX1    DDS$ATTDIRA
         0 000015   000434 702000 0                  TSX2    ARET

PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:17   
       86     9343    1        NSB = NCMD$ -> POB.NSB - 1;

   9343  0 000016   200003 470500                    LDP0    NCMD$,,AUTO
         0 000017   000001 236100                    LDQ     1,,PR0
         0 000020   000022 772000                    QRL     18
         0 000021   000001 136007                    SBLQ    1,DL
         0 000022   200005 756100                    STQ     NSB,,AUTO

       87     9344    1        DUMP$CMD.NUM = 100/*DD_DMPDEF*/;          /* DEFAULT SIZE > 100 WORDS */

   9344  0 000023   000144 235007                    LDA     100,DL
         0 000024   200004 471500                    LDP1    LASTBLT$,,AUTO
         0 000025   100003 755100                    STA     3,,PR1

       88     9345    2        DO IX = 0 TO NSB;

   9345  0 000026   200006 450100                    STZ     IX,,AUTO
         0 000027   000223 710000 0                  TRA     s:9395+1

       89     9346    2             L$ = S_D.D$;

   9346  0 000030   000000 470400 xsym               LDP0    S_D$
         0 000031   000044 236100                    LDQ     36,,PR0
         0 000032   200012 756100                    STQ     L$,,AUTO

       90     9347    2             NC$ = NCMD$ -> POB.SUBLK$ ( IX );

   9347  0 000033   200003 471500                    LDP1    NCMD$,,AUTO
         0 000034   200006 720100                    LXL0    IX,,AUTO
         0 000035   100003 236110                    LDQ     3,X0,PR1
         0 000036   200007 756100                    STQ     NC$,,AUTO

       91     9348    2             CODE = NC$ -> POB.CODE;

   9348  0 000037   200007 473500                    LDP3    NC$,,AUTO
         0 000040   300000 236100                    LDQ     0,,PR3
         0 000041   777777 376007                    ANQ     -1,DL
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:18   
         0 000042   200010 756100                    STQ     CODE,,AUTO

       92     9349    2             IF ( CODE = 38 )       /* VREF_CODE */

   9349  0 000043   000046 116007                    CMPQ    38,DL
         0 000044   000062 601000 0                  TNZ     s:9358

       93     9350    3             THEN DO;

       94     9351    3                  CALL DDS$VREFCOM( NC$ ) ALTRET( ARET );

   9351  0 000045   200007 634500                    EPPR4   NC$,,AUTO
         0 000046   200020 454500                    STP4    ZITEM$+3,,AUTO
         0 000047   200020 630500                    EPPR0   ZITEM$+3,,AUTO
         0 000050   000017 631400 xsym               EPPR1   B_VECTNIL+15
         0 000051   000000 701000 xent               TSX1    DDS$VREFCOM
         0 000052   000434 702000 0                  TSX2    ARET

       95     9352    3                  IF ( NOT L$ -> ZITEM.FLAGS.MDSE.M )

   9352  0 000053   200012 470500                    LDP0    L$,,AUTO
         0 000054   000001 234100                    SZN     1,,PR0
         0 000055   000222 604000 0                  TMI     s:9395

       96     9353    4                  THEN DO;

       97     9354    4                       S_D.ERROR = 42; /* E@NOMOD  */

   9354  0 000056   000052 235007                    LDA     42,DL
         0 000057   000000 471400 xsym               LDP1    S_D$
         0 000060   100013 755100                    STA     11,,PR1

       98     9355    4                       GOTO ARET;

   9355  0 000061   000434 710000 0                  TRA     ARET

       99     9356    4                     END;
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:19   
      100     9357    3                END;
      101     9358    2             ELSE IF ( CODE = 47 ) /* SIMEXP_CODE */

   9358  0 000062   000057 116007                    CMPQ    47,DL
         0 000063   000102 601000 0                  TNZ     s:9363

      102     9359    3                  THEN DO;

      103     9360    3                       CALL DDD$SIMEXP ( NC$, V, TEMP_FLAG ) ALTRET( ARET );

   9360  0 000064   200013 634500                    EPPR4   TEMP_FLAG,,AUTO
         0 000065   200022 454500                    STP4    ZITEM$+5,,AUTO
         0 000066   200011 635500                    EPPR5   V,,AUTO
         0 000067   200021 455500                    STP5    ZITEM$+4,,AUTO
         0 000070   200007 636500                    EPPR6   NC$,,AUTO
         0 000071   200020 456500                    STP6    ZITEM$+3,,AUTO
         0 000072   200020 630500                    EPPR0   ZITEM$+3,,AUTO
         0 000073   000021 631400 xsym               EPPR1   B_VECTNIL+17
         0 000074   000000 701000 xent               TSX1    DDD$SIMEXP
         0 000075   000434 702000 0                  TSX2    ARET

      104     9361    3                       DUMP$CMD.NUM = V;

   9361  0 000076   200004 470500                    LDP0    LASTBLT$,,AUTO
         0 000077   200011 235100                    LDA     V,,AUTO
         0 000100   000003 755100                    STA     3,,PR0

      105     9362    3                     END;

   9362  0 000101   000222 710000 0                  TRA     s:9395

      106     9363    2                  ELSE IF ( CODE >= 340 ) AND ( CODE <= 364 )
              9363                           /* FMTFIRST,FMTLAST _CODE */

   9363  0 000102   000524 116007                    CMPQ    340,DL
         0 000103   000115 602000 0                  TNC     s:9368
         0 000104   000555 116007                    CMPQ    365,DL
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:20   
         0 000105   000115 603000 0                  TRC     s:9368

      107     9364    3                       THEN DO;

      108     9365    3                            DUMP$CMD.FORMAT = '1'B;

   9365  0 000106   200004 474500                    LDP4    LASTBLT$,,AUTO
         0 000107   200000 236003                    LDQ     65536,DU
         0 000110   400001 256100                    ORSQ    1,,PR4

      109     9366    3                            DUMP$CMD.FORMATCODE = CODE;

   9366  0 000111   200010 236100                    LDQ     CODE,,AUTO
         0 000112   000022 736000                    QLS     18
         0 000113   400001 552120                    STBQ    1,'20'O,PR4

      110     9367    3                          END;

   9367  0 000114   000222 710000 0                  TRA     s:9395

      111     9368    2                       ELSE IF ( CODE >= 390 ) AND ( CODE <= 392 ) /* C@ON, C@INTO */

   9368  0 000115   000606 116007                    CMPQ    390,DL
         0 000116   000122 602000 0                  TNC     s:9371
         0 000117   000611 116007                    CMPQ    393,DL
         0 000120   000122 603000 0                  TRC     s:9371

      112     9369    3                            THEN DO;       /* NOTHING */

      113     9370    3                               END;

   9370  0 000121   000222 710000 0                  TRA     s:9395

      114     9371    2                            ELSE IF ( CODE >= 515 ) AND ( CODE <= 519 )
              9371                                     /* C@NO, C@LP */

   9371  0 000122   001003 116007                    CMPQ    515,DL
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:21   
         0 000123   000134 602000 0                  TNC     s:9376
         0 000124   001010 116007                    CMPQ    520,DL
         0 000125   000134 603000 0                  TRC     s:9376

      115     9372    3                                 THEN DO;

      116     9373    3                                      DUMP$CMD.DEST = '1'B;

   9373  0 000126   200004 474500                    LDP4    LASTBLT$,,AUTO
         0 000127   100000 236003                    LDQ     32768,DU
         0 000130   400001 256100                    ORSQ    1,,PR4

      117     9374    3                                      DUMP$CMD.DESTCODE = CODE;

   9374  0 000131   200010 235100                    LDA     CODE,,AUTO
         0 000132   400002 755100                    STA     2,,PR4

      118     9375    3                                    END;

   9375  0 000133   000222 710000 0                  TRA     s:9395

      119     9376    2                                 ELSE IF CODE = 87 /* C@ASCII */

   9376  0 000134   000127 116007                    CMPQ    87,DL
         0 000135   000142 601000 0                  TNZ     s:9378

      120     9377    2                                      THEN DUMP$CMD.ASCII_FLAG = '1'B;

   9377  0 000136   200004 474500                    LDP4    LASTBLT$,,AUTO
         0 000137   040000 236003                    LDQ     16384,DU
         0 000140   400001 256100                    ORSQ    1,,PR4
         0 000141   000222 710000 0                  TRA     s:9395

      121     9378    2                                      ELSE IF CODE = 89 /* C@PAGE_EJECT */

   9378  0 000142   000131 116007                    CMPQ    89,DL
         0 000143   000150 601000 0                  TNZ     s:9380
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:22   

      122     9379    2                                           THEN DUMP$CMD.PAGE_EJECT = '1'B;

   9379  0 000144   200004 474500                    LDP4    LASTBLT$,,AUTO
         0 000145   020000 236003                    LDQ     8192,DU
         0 000146   400001 256100                    ORSQ    1,,PR4
         0 000147   000222 710000 0                  TRA     s:9395

      123     9380    2                                           ELSE IF CODE = 94 /* C@LONG */

   9380  0 000150   000136 116007                    CMPQ    94,DL
         0 000151   000156 601000 0                  TNZ     s:9383

      124     9381    2                                                THEN DUMP$CMD.LONG = '1'B;

   9381  0 000152   200004 474500                    LDP4    LASTBLT$,,AUTO
         0 000153   010000 236003                    LDQ     4096,DU
         0 000154   400001 256100                    ORSQ    1,,PR4
         0 000155   000222 710000 0                  TRA     s:9395

      125     9382    3                                                ELSE DO; /* "QTSTRINGS" */

      126     9383    3                                                     NC$ = NC$ -> POB.SUBLK$( 0 );

   9383  0 000156   300003 236100                    LDQ     3,,PR3
         0 000157   200007 756100                    STQ     NC$,,AUTO

      127     9384    3                                                     V = NC$ -> TEXT$C.SIZE;

   9384  0 000160   200007 473500                    LDP3    NC$,,AUTO
         0 000161   300000 236100                    LDQ     0,,PR3
         0 000162   000033 772000                    QRL     27
         0 000163   200011 756100                    STQ     V,,AUTO

      128     9385    3                                                     IF ( V > 31 )

   9385  0 000164   000040 116007                    CMPQ    32,DL
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:23   
         0 000165   000173 602000 0                  TNC     s:9390

      129     9386    4                                                     THEN DO;

      130     9387    4                                                          V = 31;

   9387  0 000166   000037 235007                    LDA     31,DL
         0 000167   200011 755100                    STA     V,,AUTO

      131     9388    4                                                          NC$ -> TEXT$C.SIZE = V;

   9388  0 000170   200011 236100                    LDQ     V,,AUTO
         0 000171   000033 736000                    QLS     27
         0 000172   300000 552140                    STBQ    0,'40'O,PR3

      132     9389    4                                                        END;

      133     9390    3                                                     CODE = ( V / 4 ) + 1;

   9390  0 000173   200011 236100                    LDQ     V,,AUTO
         0 000174   000002 772000                    QRL     2
         0 000175   000001 036007                    ADLQ    1,DL
         0 000176   200010 756100                    STQ     CODE,,AUTO

      134     9391    3                                                     CALL DDD$BUMP_D$( CODE ) ALTRET(
              9391                                                              ARET );

   9391  0 000177   200010 633500                    EPPR3   CODE,,AUTO
         0 000200   200020 453500                    STP3    ZITEM$+3,,AUTO
         0 000201   200020 630500                    EPPR0   ZITEM$+3,,AUTO
         0 000202   000017 631400 xsym               EPPR1   B_VECTNIL+15
         0 000203   000000 701000 xent               TSX1    DDD$BUMP_D$
         0 000204   000434 702000 0                  TSX2    ARET

      135     9392    3                                                     DUMP$CMD.HEADING = '1'B;

   9392  0 000205   200004 470500                    LDP0    LASTBLT$,,AUTO
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:24   
         0 000206   400000 236003                    LDQ     -131072,DU
         0 000207   000001 256100                    ORSQ    1,,PR0

      136     9393    3                                                     L$ -> TTEXT$C = NC$ -> TEXT$C;

   9393  0 000210   200007 471500                    LDP1    NC$,,AUTO
         0 000211   100000 236100                    LDQ     0,,PR1
         0 000212   000033 772000                    QRL     27
         0 000213   000001 620006                    EAX0    1,QL
         0 000214   200011 721100                    LXL1    V,,AUTO
         0 000215   000001 622011                    EAX2    1,X1
         0 000216   200012 473500                    LDP3    L$,,AUTO
         0 000217   000140 100540                    MLR     fill='000'O
         0 000220   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0
         0 000221   300000 000012                    ADSC9   0,,PR3                   cn=0,n=*X2

      137     9394    3                                                   END;

      138     9395    2           END;                            /* "DO IX" */

   9395  0 000222   200006 054100                    AOS     IX,,AUTO
         0 000223   200006 236100                    LDQ     IX,,AUTO
         0 000224   200005 116100                    CMPQ    NSB,,AUTO
         0 000225   000030 604400 0                  TMOZ    s:9346

      139     9396                                                /**/
      140     9397    1        RETURN;

   9397  0 000226   000000 702200 xent               TSX2  ! X66_ARET

      141     9398        %EJECT;
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:25   
      142     9399        /*F* NAME: DDS$BLD_ECHO
      143     9400             PURPOSE: TO BUILD THE ECHO COMMAND.
      144     9401             DESCRIPTION: BUILDS THE ECHO COMMAND. */
      145     9402        /*D* NAME: DDS$BLD_ECHO
      146     9403             ENTRY: DDS$BLD_ECHO
      147     9404             CALL: CALL DDS$BLD_ECHO ALTRET( ERROR );
      148     9405             INTERFACE: DDS$INSTR
      149     9406             ENVIRONMENT: DDS$SCAN ACTIVE
      150     9407             INPUT: NCMD$ - PTR TO "ECHO" NODE.
      151     9408             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
      152     9409             SCRATCH: LOCAL AUTO ONLY.
      153     9410             DESCRIPTION: */
      154     9411                                                /**/
      155     9412    1   DDS$BLD_ECHO: ENTRY ALTRET;

   9412  0 000227   000000 700200 xent  DDS$BLD_ECHO TSX0  ! X66_AUTO_0
         0 000230   000024 000000                    ZERO    20,0

      156     9413                                                /**/
      157     9414    1        NCMD$ = S_D.NCMD$;

   9414  0 000231   000000 470400 xsym               LDP0    S_D$
         0 000232   004750 236100                    LDQ     2536,,PR0
         0 000233   200003 756100                    STQ     NCMD$,,AUTO

      158     9415    1        LASTBLT$ = S_D.LASTBLT$;

   9415  0 000234   000134 236100                    LDQ     92,,PR0
         0 000235   200004 756100                    STQ     LASTBLT$,,AUTO

      159     9416    1        CALL DDS$ATTDIRA( SIZEW( ECHO$CMD ), 33 ) ALTRET( ARET ); /* C_ECHO */

   9416  0 000236   000004 630400 1                  EPPR0   4
         0 000237   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000240   000000 701000 xent               TSX1    DDS$ATTDIRA
         0 000241   000434 702000 0                  TSX2    ARET

PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:26   
      160     9417    1        V = 519;                          /* ASSUME C@LP */

   9417  0 000242   001007 235007                    LDA     519,DL
         0 000243   200011 755100                    STA     V,,AUTO

      161     9418    2        DO IX = 0 TO NCMD$ -> POB.NSB - 1;

   9418  0 000244   200006 450100                    STZ     IX,,AUTO
         0 000245   000267 710000 0                  TRA     s:9430+1

      162     9419    2             CODE = NCMD$ -> POB.SUBLK$( IX ) -> POB.CODE;

   9419  0 000246   200003 470500                    LDP0    NCMD$,,AUTO
         0 000247   200006 720100                    LXL0    IX,,AUTO
         0 000250   000003 471510                    LDP1    3,X0,PR0
         0 000251   100000 236100                    LDQ     0,,PR1
         0 000252   777777 376007                    ANQ     -1,DL
         0 000253   200010 756100                    STQ     CODE,,AUTO

      163     9420    2             IF CODE = 390                /* C@ON */

   9420  0 000254   000606 116007                    CMPQ    390,DL
         0 000255   000257 601000 0                  TNZ     s:9423

      164     9421    3             THEN DO;

      165     9422    3                END;

   9422  0 000256   000266 710000 0                  TRA     s:9430

      166     9423    2             ELSE IF CODE = 391         /* C@OVER */

   9423  0 000257   000607 116007                    CMPQ    391,DL
         0 000260   000262 601000 0                  TNZ     s:9426

      167     9424    3                  THEN DO;

PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:27   
      168     9425    3                     END;

   9425  0 000261   000266 710000 0                  TRA     s:9430

      169     9426    2                  ELSE IF CODE = 392    /* C@INTO */

   9426  0 000262   000610 116007                    CMPQ    392,DL
         0 000263   000265 601000 0                  TNZ     s:9429

      170     9427    3                       THEN DO;

      171     9428    3                          END;

   9428  0 000264   000266 710000 0                  TRA     s:9430

      172     9429    2                       ELSE V = CODE;

   9429  0 000265   200011 756100                    STQ     V,,AUTO

      173     9430    2           END;

   9430  0 000266   200006 054100                    AOS     IX,,AUTO
         0 000267   200003 470500                    LDP0    NCMD$,,AUTO
         0 000270   000001 236100                    LDQ     1,,PR0
         0 000271   000022 772000                    QRL     18
         0 000272   200006 116100                    CMPQ    IX,,AUTO
         0 000273   000246 605400 0                  TPNZ    s:9419

      174     9431    1        ECHO$CMD.ID = V;

   9431  0 000274   200011 720100                    LXL0    V,,AUTO
         0 000275   200004 471500                    LDP1    LASTBLT$,,AUTO
         0 000276   100001 740100                    STX0    1,,PR1

      175     9432                                                /**/
      176     9433    1        RETURN;

PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:28   
   9433  0 000277   000000 702200 xent               TSX2  ! X66_ARET

      177     9434        %EJECT;
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:29   
      178     9435        /*F* NAME: DDS$BLD_KEEP
      179     9436             PURPOSE: TO BUILD THE KEEP COMMAND
      180     9437             DESCRIPTION: BUILDS THE KEEP ATTACHMENT   */
      181     9438                                                /**/
      182     9439    1   DDS$BLD_KEEP: ENTRY ALTRET;

   9439  0 000300   000000 700200 xent  DDS$BLD_KEEP TSX0  ! X66_AUTO_0
         0 000301   000024 000000                    ZERO    20,0
         0 000302   000305 710000 0                  TRA     s:9440+2

      183     9440    1   DDS$BLD_TRAP: ENTRY ALTRET;             /* DUMMY */

   9440  0 000303   000000 700200 xent  DDS$BLD_TRAP TSX0  ! X66_AUTO_0
         0 000304   000024 000000                    ZERO    20,0
         0 000305   000310 710000 0                  TRA     s:9443

      184     9441    1   DDS$BLD_IGNORE: ENTRY ALTRET;           /* DUMMY */

   9441  0 000306   000000 700200 xent  DDS$BLD_IGN* TSX0  ! X66_AUTO_0
         0 000307   000024 000000                    ZERO    20,0

      185     9442                                                /**/
      186     9443    1        NCMD$ = S_D.NCMD$;

   9443  0 000310   000000 470400 xsym               LDP0    S_D$
         0 000311   004750 236100                    LDQ     2536,,PR0
         0 000312   200003 756100                    STQ     NCMD$,,AUTO

      187     9444    1        LASTBLT$ = S_D.LASTBLT$;

   9444  0 000313   000134 236100                    LDQ     92,,PR0
         0 000314   200004 756100                    STQ     LASTBLT$,,AUTO

      188     9445    1        CALL DDS$ATTDIRA(SIZEW(KEEP$CMD), 22) /* C_KEEP */

   9445  0 000315   000007 630400 1                  EPPR0   7
         0 000316   000020 631400 xsym               EPPR1   B_VECTNIL+16
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:30   
         0 000317   000000 701000 xent               TSX1    DDS$ATTDIRA
         0 000320   000434 702000 0                  TSX2    ARET

      189     9446    1          ALTRET(ARET);
      190     9447    1        IF NCMD$ -> POB.NSB = 0

   9447  0 000321   200003 470500                    LDP0    NCMD$,,AUTO
         0 000322   000001 220100                    LDX0    1,,PR0
         0 000323   000327 601000 0                  TNZ     s:9449

      191     9448    1        THEN CODE = 532;                 /* C@MON - DEFAULT */

   9448  0 000324   001024 235007                    LDA     532,DL
         0 000325   200010 755100                    STA     CODE,,AUTO
         0 000326   000333 710000 0                  TRA     s:9450

      192     9449    1        ELSE CODE = NCMD$ -> POB.SUBLK$(0) -> POB.CODE;

   9449  0 000327   000003 471500                    LDP1    3,,PR0
         0 000330   100000 236100                    LDQ     0,,PR1
         0 000331   777777 376007                    ANQ     -1,DL
         0 000332   200010 756100                    STQ     CODE,,AUTO

      193     9450    1        CODE = CODE - (530 - 1);         /* CODE - (C@ALL - 1) */

   9450  0 000333   200010 235100                    LDA     CODE,,AUTO
         0 000334   001021 135007                    SBLA    529,DL
         0 000335   200010 755100                    STA     CODE,,AUTO

      194     9451    1        KEEP$CMD.ID = CODE;

   9451  0 000336   000000 620005                    EAX0    0,AL
         0 000337   200004 471500                    LDP1    LASTBLT$,,AUTO
         0 000340   100001 740100                    STX0    1,,PR1

      195     9452    1        RETURN;

PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:31   
   9452  0 000341   000000 702200 xent               TSX2  ! X66_ARET

      196     9453             %EJECT;
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:32   
      197     9454        /*F* NAME: DDS$BLD_OUTPUT
      198     9455             PURPOSE: TO BUILD THE OUTPUT COMMAND.
      199     9456             DESCRIPTION: BUILDS THE OUTPUT COMMAND. */
      200     9457        /*D* NAME: DDS$BLD_OUTPUT
      201     9458             ENTRY: DDS$BLD_OUTPUT
      202     9459             CALL: CALL DDS$BLD_OUTPUT ALTRET( ERROR );
      203     9460             ENVIRONMENT: DDS$SCAN ACTIVE
      204     9461             INPUT: NCMD$ - PTR TO "OUTPUT" NODE.
      205     9462             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
      206     9463             SCRATCH: LOCAL AUTO ONLY.
      207     9464             DESCRIPTION: */
      208     9465                                                /**/
      209     9466    1   DDS$BLD_OUTPUT: ENTRY ALTRET;

   9466  0 000342   000000 700200 xent  DDS$BLD_OUT* TSX0  ! X66_AUTO_0
         0 000343   000024 000000                    ZERO    20,0

      210     9467                                                /**/
      211     9468    1        NCMD$ = S_D.NCMD$;

   9468  0 000344   000000 470400 xsym               LDP0    S_D$
         0 000345   004750 236100                    LDQ     2536,,PR0
         0 000346   200003 756100                    STQ     NCMD$,,AUTO

      212     9469    1        LASTBLT$ = S_D.LASTBLT$;

   9469  0 000347   000134 236100                    LDQ     92,,PR0
         0 000350   200004 756100                    STQ     LASTBLT$,,AUTO

      213     9470    1        CALL DDS$ATTDIRA( SIZEW( OUTPUT$CMD ), 36 ) ALTRET( ARET ); /* C_OUTPUT */

   9470  0 000351   000012 630400 1                  EPPR0   10
         0 000352   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000353   000000 701000 xent               TSX1    DDS$ATTDIRA
         0 000354   000434 702000 0                  TSX2    ARET

      214     9471    1        V = 516;                          /* ASSUME C@ME */
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:33   

   9471  0 000355   001004 235007                    LDA     516,DL
         0 000356   200011 755100                    STA     V,,AUTO

      215     9472    2        DO IX = 0 TO NCMD$ -> POB.NSB - 1;

   9472  0 000357   200006 450100                    STZ     IX,,AUTO
         0 000360   000402 710000 0                  TRA     s:9484+1

      216     9473    2             CODE = NCMD$ -> POB.SUBLK$( IX ) -> POB.CODE;

   9473  0 000361   200003 470500                    LDP0    NCMD$,,AUTO
         0 000362   200006 720100                    LXL0    IX,,AUTO
         0 000363   000003 471510                    LDP1    3,X0,PR0
         0 000364   100000 236100                    LDQ     0,,PR1
         0 000365   777777 376007                    ANQ     -1,DL
         0 000366   200010 756100                    STQ     CODE,,AUTO

      217     9474    2             IF CODE = 390                /* C@ON */

   9474  0 000367   000606 116007                    CMPQ    390,DL
         0 000370   000372 601000 0                  TNZ     s:9477

      218     9475    3             THEN DO;

      219     9476    3                END;

   9476  0 000371   000401 710000 0                  TRA     s:9484

      220     9477    2             ELSE IF CODE = 391         /* C@OVER */

   9477  0 000372   000607 116007                    CMPQ    391,DL
         0 000373   000375 601000 0                  TNZ     s:9480

      221     9478    3                  THEN DO;

      222     9479    3                     END;
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:34   

   9479  0 000374   000401 710000 0                  TRA     s:9484

      223     9480    2                  ELSE IF CODE = 392    /* C@INTO */

   9480  0 000375   000610 116007                    CMPQ    392,DL
         0 000376   000400 601000 0                  TNZ     s:9483

      224     9481    3                       THEN DO;

      225     9482    3                          END;

   9482  0 000377   000401 710000 0                  TRA     s:9484

      226     9483    2                       ELSE V = CODE;

   9483  0 000400   200011 756100                    STQ     V,,AUTO

      227     9484    2           END;

   9484  0 000401   200006 054100                    AOS     IX,,AUTO
         0 000402   200003 470500                    LDP0    NCMD$,,AUTO
         0 000403   000001 236100                    LDQ     1,,PR0
         0 000404   000022 772000                    QRL     18
         0 000405   200006 116100                    CMPQ    IX,,AUTO
         0 000406   000361 605400 0                  TPNZ    s:9473

      228     9485    1        OUTPUT$CMD.ID = V;

   9485  0 000407   200011 720100                    LXL0    V,,AUTO
         0 000410   200004 471500                    LDP1    LASTBLT$,,AUTO
         0 000411   100001 740100                    STX0    1,,PR1

      229     9486                                                /**/
      230     9487    1        RETURN;

   9487  0 000412   000000 702200 xent               TSX2  ! X66_ARET
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:35   

      231     9488        %EJECT;
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:36   
      232     9489        /*F* NAME: DDS$BLD_READ
      233     9490             PURPOSE: TO BUILD THE READ COMMAND.
      234     9491             DESCRIPTION: BUILDS THE READ COMMAND. */
      235     9492        /*D* NAME: DDS$BLD_READ
      236     9493             ENTRY: DDS$BLD_READ
      237     9494             CALL: CALL DDS$BLD_READ ALTRET( ERROR );
      238     9495             ENVIRONMENT: DDS$SCAN ACTIVE
      239     9496             INPUT: NCMD$ - PTR TO "READ" NODE.
      240     9497             OUTPUT: COMMAND BUILT IN BUILD BUFFER.
      241     9498             SCRATCH: LOCAL AUTO ONLY.
      242     9499             DESCRIPTION: */
      243     9500                                                /**/
      244     9501    1   DDS$BLD_READ: ENTRY ALTRET;

   9501  0 000413   000000 700200 xent  DDS$BLD_READ TSX0  ! X66_AUTO_0
         0 000414   000024 000000                    ZERO    20,0

      245     9502                                                /**/
      246     9503    1        NCMD$ = S_D.NCMD$;

   9503  0 000415   000000 470400 xsym               LDP0    S_D$
         0 000416   004750 236100                    LDQ     2536,,PR0
         0 000417   200003 756100                    STQ     NCMD$,,AUTO

      247     9504    1        LASTBLT$ = S_D.LASTBLT$;

   9504  0 000420   000134 236100                    LDQ     92,,PR0
         0 000421   200004 756100                    STQ     LASTBLT$,,AUTO

      248     9505    1        CALL DDS$ATTDIRA( SIZEW( READ$CMD ), 42 ) ALTRET( ARET ); /* C_READ */

   9505  0 000422   000015 630400 1                  EPPR0   13
         0 000423   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000424   000000 701000 xent               TSX1    DDS$ATTDIRA
         0 000425   000434 702000 0                  TSX2    ARET

      249     9506    1        READ$CMD.ID = NCMD$ -> POB.SUBLK$( 0 ) -> POB.CODE;
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:37   

   9506  0 000426   200003 470500                    LDP0    NCMD$,,AUTO
         0 000427   000003 471500                    LDP1    3,,PR0
         0 000430   100000 720100                    LXL0    0,,PR1
         0 000431   200004 473500                    LDP3    LASTBLT$,,AUTO
         0 000432   300001 740100                    STX0    1,,PR3

      250     9507                                                /**/
      251     9508    1        RETURN;

   9508  0 000433   000000 702200 xent               TSX2  ! X66_ARET

      252     9509                                                /**/
      253     9510    1   ARET:
      254     9511    1        ALTRETURN;

   9511  0 000434   000000 702200 xent  ARET         TSX2  ! X66_AALT

(unnamed)
 Sect OctLoc
   1     000   000000 000024   000000 006000   000011 006000   000000 000041    ...............!
   1     004   000004 006000   000003 006000   000000 000026   000004 006000    ................
   1     010   000006 006000   000000 000044   000004 006000   000011 006000    .......$........
   1     014   000000 000052   000004 006000   000014 006000                    ...*........
      255     9512                                                /**/
      256     9513    1   END DXS$BLD;

PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:38   
--  Include file information  --

   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   DD_SRTN_C.:E05TOU  is referenced.
   DD_ACODE_C.:E05TOU  is referenced.
   DD_ICODE_C.:E05TOU  is referenced.
   DD$DITEM.:E05TOU  cannot be made into a system file and is referenced.
   XU_SUBS_C.:E05TOU  is referenced.
   XU_MACRO_C.:E05TOU  is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD_PSUBS_C.:E05TOU  is referenced.
   DD_ERR_C.:E05TOU  is referenced.
   DD$BASED.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DXS$BLD.

   Procedure DXS$BLD requires 285 words for executable code.
   Procedure DXS$BLD requires 20 words of local(AUTO) storage.

    No errors detected in file DXS$BLD.:E05TSI    .
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:39   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:40   
          MINI XREF LISTING

ARET
      9511**LABEL    9342--CALLALT  9351--CALLALT  9355--GOTO     9360--CALLALT  9391--CALLALT  9416--CALLALT
      9445--CALLALT  9470--CALLALT  9505--CALLALT
CODE
      5679**DCL      9348<<ASSIGN   9349>>IF       9358>>IF       9363>>IF       9363>>IF       9366>>ASSIGN
      9368>>IF       9368>>IF       9371>>IF       9371>>IF       9374>>ASSIGN   9376>>IF       9378>>IF
      9380>>IF       9390<<ASSIGN   9391<>CALL     9419<<ASSIGN   9420>>IF       9423>>IF       9426>>IF
      9429>>ASSIGN   9448<<ASSIGN   9449<<ASSIGN   9450<<ASSIGN   9450>>ASSIGN   9451>>ASSIGN   9473<<ASSIGN
      9474>>IF       9477>>IF       9480>>IF       9483>>ASSIGN
DDD$BUMP_D$
      9320**DCL-ENT  9391--CALL
DDD$SIMEXP
      9322**DCL-ENT  9360--CALL
DDS$ATTDIRA
      9321**DCL-ENT  9342--CALL     9416--CALL     9445--CALL     9470--CALL     9505--CALL
DDS$VREFCOM
      9323**DCL-ENT  9351--CALL
DUMP$CMD
      5685**DCL      9342--CALL
DUMP$CMD.ASCII_FLAG
      5692**DCL      9377<<ASSIGN
DUMP$CMD.DEST
      5691**DCL      9373<<ASSIGN
DUMP$CMD.DESTCODE
      5703**DCL      9374<<ASSIGN
DUMP$CMD.FORMAT
      5690**DCL      9365<<ASSIGN
DUMP$CMD.FORMATCODE
      5698**DCL      9366<<ASSIGN
DUMP$CMD.HEADING
      5689**DCL      9392<<ASSIGN
DUMP$CMD.LONG
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:41   
      5694**DCL      9381<<ASSIGN
DUMP$CMD.NUM
      5704**DCL      9344<<ASSIGN   9361<<ASSIGN
DUMP$CMD.PAGE_EJECT
      5693**DCL      9379<<ASSIGN
ECHO$CMD
      5715**DCL      9416--CALL
ECHO$CMD.ID
      5719**DCL      9431<<ASSIGN
IX
      5676**DCL      9345<<DOINDEX  9347>>ASSIGN   9418<<DOINDEX  9419>>ASSIGN   9472<<DOINDEX  9473>>ASSIGN
KEEP$CMD
      5730**DCL      9445--CALL
KEEP$CMD.ID
      5734**DCL      9451<<ASSIGN
L$
      5681**DCL      9346<<ASSIGN   9352>>IF       9393>>ASSIGN
LASTBLT$
      5674**DCL      5685--IMP-PTR  5715--IMP-PTR  5730--IMP-PTR  5745--IMP-PTR  5760--IMP-PTR  9341<<ASSIGN
      9344>>ASSIGN   9361>>ASSIGN   9365>>ASSIGN   9366>>ASSIGN   9373>>ASSIGN   9374>>ASSIGN   9377>>ASSIGN
      9379>>ASSIGN   9381>>ASSIGN   9392>>ASSIGN   9415<<ASSIGN   9431>>ASSIGN   9444<<ASSIGN   9451>>ASSIGN
      9469<<ASSIGN   9485>>ASSIGN   9504<<ASSIGN   9506>>ASSIGN
NC$
      5678**DCL      9347<<ASSIGN   9348>>ASSIGN   9351<>CALL     9360<>CALL     9383<<ASSIGN   9383>>ASSIGN
      9384>>ASSIGN   9388>>ASSIGN   9393>>ASSIGN   9393>>ASSIGN
NCMD$
      5673**DCL      9340<<ASSIGN   9343>>ASSIGN   9347>>ASSIGN   9414<<ASSIGN   9418>>DOINDEX  9419>>ASSIGN
      9443<<ASSIGN   9447>>IF       9449>>ASSIGN   9468<<ASSIGN   9472>>DOINDEX  9473>>ASSIGN   9503<<ASSIGN
      9506>>ASSIGN
NSB
      5675**DCL      9343<<ASSIGN   9345>>DOINDEX
OUTPUT$CMD
      5745**DCL      9470--CALL
OUTPUT$CMD.ID
      5749**DCL      9485<<ASSIGN
POB.CODE
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:42   
      5788**DCL      9348>>ASSIGN   9419>>ASSIGN   9449>>ASSIGN   9473>>ASSIGN   9506>>ASSIGN
POB.NSB
      5792**DCL      9343>>ASSIGN   9418>>DOINDEX  9447>>IF       9472>>DOINDEX
POB.SUBLK$
      5813**DCL      9347>>ASSIGN   9383>>ASSIGN   9419>>ASSIGN   9449>>ASSIGN   9473>>ASSIGN   9506>>ASSIGN
READ$CMD
      5760**DCL      9505--CALL
READ$CMD.ID
      5764**DCL      9506<<ASSIGN
S_D.CURRENT_CHANNEL
      8952**DCL      8954--REDEF
S_D.D$
      8090**DCL      9346>>ASSIGN
S_D.DEBUGA
      8104**DCL      8106--REDEF
S_D.EIS
      9062**DCL      9091--REDEF
S_D.ERROR
      8033**DCL      9354<<ASSIGN
S_D.HOST_MESSAGE_BUF_REMOTE
      8995**DCL      8996--REDEF    9010--REDEF
S_D.JDE
      8609**DCL      8610--REDEF
S_D.L$.VALUE
      8162**DCL      8168--REDEF    8176--REDEF    8179--REDEF    8182--REDEF    8185--REDEF
S_D.L$.VALUE.L
      8163**DCL      8164--REDEF    8165--REDEF
S_D.L6_MESSAGE_BUF
      9016**DCL      9018--REDEF
S_D.LASTBLT$
      8196**DCL      9341>>ASSIGN   9415>>ASSIGN   9444>>ASSIGN   9469>>ASSIGN   9504>>ASSIGN
S_D.NCMD$
      8640**DCL      9340>>ASSIGN   9414>>ASSIGN   9443>>ASSIGN   9468>>ASSIGN   9503>>ASSIGN
S_D.OUTPUT
      8982**DCL      8984--REDEF
S_D.REMOTE_MSG.FNCC
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:43   
      9001**DCL      9002--REDEF
S_D.REMOTE_MSG.STXC
      8997**DCL      8998--REDEF
S_D.REMOTE_MSG.SUBFNCC
      9005**DCL      9006--REDEF
S_D.SV
      8061**DCL      8082--REDEF
S_D$
      9313**DCL      8009--IMP-PTR  9340>>ASSIGN   9341>>ASSIGN   9346>>ASSIGN   9354>>ASSIGN   9414>>ASSIGN
      9415>>ASSIGN   9443>>ASSIGN   9444>>ASSIGN   9468>>ASSIGN   9469>>ASSIGN   9503>>ASSIGN   9504>>ASSIGN
TEMP_FLAG
      5682**DCL      9360<>CALL
TEXT$C
      5820**DCL      9393>>ASSIGN
TEXT$C.SIZE
      5821**DCL      5822--IMP-SIZ  9384>>ASSIGN   9388<<ASSIGN   9393>>ASSIGN
TTEXT$C
      5824**DCL      9393<<ASSIGN
V
      5680**DCL      5826--IMP-SIZ  9360<>CALL     9361>>ASSIGN   9384<<ASSIGN   9385>>IF       9387<<ASSIGN
      9388>>ASSIGN   9390>>ASSIGN   9393>>ASSIGN   9417<<ASSIGN   9429<<ASSIGN   9431>>ASSIGN   9471<<ASSIGN
      9483<<ASSIGN   9485>>ASSIGN
ZITEM.ADDRESS
      6543**DCL      6548--REDEF    6549--REDEF    6550--REDEF
ZITEM.FLAGS.MDSE.M
      6514**DCL      9352>>IF
ZITEM.SP.VD
      6551**DCL      6555--REDEF    6558--REDEF
ZITEM$
      5932**DCL      6509--IMP-PTR
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:44   
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DXS$BLD File=DXS$BLD.:E05TSI                                  TUE 07/29/97 15:13 Page:45   
              MINI UREF LISTING

DDS$BLD_DUMP    9338**ENTRY
DDS$BLD_ECHO    9412**ENTRY
DDS$BLD_IGNORE    9441**ENTRY
DDS$BLD_KEEP    9439**ENTRY
DDS$BLD_OUTPUT    9466**ENTRY
DDS$BLD_READ    9501**ENTRY
DDS$BLD_TRAP    9440**ENTRY
DXS$BLD      26**PROC
SDD$    5931**DCL
SDD_L6$    5933**DCL
ZITEM_L6$    5934**DCL

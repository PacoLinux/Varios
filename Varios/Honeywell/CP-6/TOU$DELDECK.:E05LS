VERSION E05

PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:1    
        1        1        /*M* TOU$DELDECK     DEckfile Editor Routine DELETE DECK Function */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7
        8        8        /*X* PLM=3,DCI=6,SQB=N,PRB=N,DTI=5,ENI=0,AND=Y,ECI=0,CSU=3,DIN=3,
        9        9             CTI=8,CRM=109,CRT=1,NLB=N,NTB=Y,MCL=110 */
       10       10
       11       11        /*P*  NAME:        TOU$DELDECK
       12       12              AUTHOR:      Scott S. Sheppard
       13       13              PURPOSE:     DEckfile Editor Routine DELETE DECK Function
       14       14              DESCRIPTION: This program is called when the DELDECK function
       15       15                           is invoked by the  CP-6  deckfile editor driver.
       16       16                           This program  deletes the  object deck  from the
       17       17                           deckfile and removes all  catalog references  to
       18       18                           the deck.
       19       19              REFERENCE:   CP-6 Release C0M0
       20       20              LAST UPDATE: 10/27/83
       21       21        */
       22       22
       23       23        /*F*  NAME:        TOU$DELDECK
       24       24              DESCRIPTION: Procedure Nesting Hierarchy
       25       25
       26       26              TOU$DELDECK: procedure
       27       27                 DD_INIT_DUP: procedure
       28       28                 DD_COMMAND_SETUP: procedure ALTRET ;
       29       29                 DD_FIND_DECK: procedure ALTRET ;
       30       30                 DD_REMEMBER_REFLIST: procedure ALTRET
       31       31                 DD_REMOVE_FROM_CATALOGS: procedure ALTRET
       32       32                 DD_REMOVE_FROM_DECKFILE: procedure ALTRET ;
       33       33        */
       34       34        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:2    
       35       35        TOU$DELDECK: PROC ;
       36       36
       37       37        /* Include Files */
       38       38
       39       39           %INCLUDE TOU_DEER_M ;
       40     1450           %INCLUDE TOU_RQSTS_E ;
       41     1525           %INCLUDE TO_PERR_C ;
       42     2110           %INCLUDE XU_MACRO_C ;
       43     5216
       44     5217        /* Macros */
       45     5218
       46     5219           %DUP (STCLASS = SYMREF) ;
       47     5362           %CATALOG_DATA (STCLASS = SYMREF) ;
       48     5376           %CATALOG_ENTRY_KEY (STCLASS = SYMREF) ;
       49     5390           %CATALOG_KEY (STCLASS = SYMREF) ;
       50     5404           %CATALOG_SEARCH_KEY (STCLASS = SYMREF) ;
       51     5416           %BINARY_KEY (STCLASS = SYMREF) ;
       52     5430           %MASTER_DATA (STCLASS = SYMREF) ;
       53     5444           %MASTER_ENTRY_KEY (STCLASS = SYMREF) ;
       54     5458           %OBJECT (STCLASS = SYMREF) ;
       55     5521           %OBJECT_KEY (STCLASS = SYMREF) ;
       56     5534           %OBJECT_REFLIST_KEY (STCLASS = SYMREF) ;
       57     5548           %OBJECT_REFLIST_DATA (STCLASS = SYMREF) ;
       58     5563           %OBJECT_REFLIST_DATA (NAME    = SAVED_REFLIST,
       59     5564                                 STCLASS = STATIC) ;
       60     5579           %OBJECT_SEARCH_KEY (STCLASS = SYMREF) ;
       61     5591
       62     5592        /* Variables */
       63     5593
       64     5594    1      DCL SAVED_DECK#                UBIN HALF HALIGNED ;
       65     5595           %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:3    
       66     5596        /* External Entry Points */
       67     5597
       68     5598    1      DCL TOU$DU_SET_DF_FID              ENTRY ALTRET ;
       69     5599    1      DCL TOU$DU_OPEN_DF                 ENTRY ALTRET ;
       70     5600    1      DCL TOU$DU_CLOSE_DF                ENTRY ALTRET ;
       71     5601
       72     5602    1      DCL TOU$DU_USER_WRITE              ENTRY ALTRET ;
       73     5603    1      DCL TOU$DU_PRINTER_WRITE           ENTRY ALTRET ;
       74     5604    1      DCL TOU$DU_UPDATE_LOG              ENTRY ALTRET ;
       75     5605
       76     5606    1      DCL TOU$DFU_DF_RD_MASTER_CONTROL   ENTRY ALTRET ;
       77     5607    1      DCL TOU$DFU_DF_RD_MASTER_ENTRY     ENTRY ALTRET ;
       78     5608    1      DCL TOU$DFU_DF_RD_CATALOG_CONTROL  ENTRY ALTRET ;
       79     5609    1      DCL TOU$DFU_DF_RD_OBJECT           ENTRY ALTRET ;
       80     5610    1      DCL TOU$DFU_DF_RD_OBJECT_REFLIST   ENTRY ALTRET ;
       81     5611    1      DCL TOU$DFU_DF_RD_LOG              ENTRY ALTRET ;
       82     5612
       83     5613    1      DCL TOU$DFU_DF_CHECK_FOR_KEY       ENTRY ALTRET ;
       84     5614    1      DCL TOU$DFU_DF_DL_DECK             ENTRY ALTRET ;
       85     5615
       86     5616    1      DCL TOU$DFU_DF_WR_MASTER_CONTROL   ENTRY ALTRET ;
       87     5617    1      DCL TOU$DFU_DF_WR_LOG              ENTRY ALTRET ;
       88     5618
       89     5619    1      DCL TOU$RR_REMOVE_FROM_CATALOG     ENTRY ALTRET ;
       90     5620
       91     5621    1      DCL TOU$L_SHOW_DCB                 ENTRY ;
       92     5622           %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:4    
       93     5623        /* ****************
       94     5624           * Main Program *
       95     5625           **************** */
       96     5626
       97     5627    1      CALL DD_INIT_DUP ;
       98     5628    1      CALL DD_COMMAND_SETUP ALTRET (ERROR_RETURN) ;
       99     5629    1      CALL TOU$L_SHOW_DCB ;
      100     5630
      101     5631    1      CALL TOU$DU_OPEN_DF ALTRET (ERROR_RETURN) ;
      102     5632    1      CALL DD_FIND_DECK ALTRET (ERROR_RETURN) ;
      103     5633    1      CALL DD_REMEMBER_REFLIST ALTRET (ERROR_RETURN) ;
      104     5634    1      DUP.BREAK_DISABLED = %TRUE ;
      105     5635    1      CALL DD_REMOVE_FROM_CATALOGS ALTRET (ERROR_RETURN) ;
      106     5636    1      CALL DD_REMOVE_FROM_DECKFILE ALTRET (ERROR_RETURN) ;
      107     5637    1      CALL TOU$DU_CLOSE_DF ALTRET (ERROR_RETURN) ;
      108     5638
      109     5639        /* NORMAL_RETURN: */
      110     5640    1      DUP.MSG_CODE = %T$DD_SUCCESS;
      111     5641    1      CALL TOU$DU_USER_WRITE ;
      112     5642    1      DUP.BREAK_DISABLED = %FALSE ;
      113     5643    1      RETURN ;
      114     5644
      115     5645    1   ERROR_RETURN:
      116     5646    1      DUP.BREAK_DISABLED = %FALSE ;
      117     5647    1      CALL TOU$DU_CLOSE_DF ;
      118     5648    1      DUP.MSG_CODE = %T$DD_FAILURE;
      119     5649    1      CALL TOU$DU_USER_WRITE ;
      120     5650    1      RETURN ;
      121     5651
      122     5652        /* ***************
      123     5653           * End Of Main *
      124     5654           *************** */
      125     5655        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:5    
      126     5656        /*I*  NAME:        DD_INIT_DUP
      127     5657              AUTHOR:      Scott S. Sheppard
      128     5658              PURPOSE:     Initilization
      129     5659              INTERFACE:   None called.
      130     5660              INPUT:       Set of system equates.
      131     5661              OUTPUT:      DUP - Deckfile Utility Parameter
      132     5662              DESCRIPTION: This procedure initializes the deckfile utility
      133     5663                           parameter to appropriate starting values.
      134     5664        */
      135     5665
      136     5666    1   DD_INIT_DUP: PROC ;
      137     5667
      138     5668        /* Code */
      139     5669
      140     5670    2      DUP.HDR_CODE = %H$DELDECK ;
      141     5671    2      DUP.LINE_VFC = %SKIP_WRITE ;
      142     5672    2      DUP.FORCE_NEW_PAGE = %TRUE ;
      143     5673    2      DUP.DF.ENTERED = %FALSE ;
      144     5674    2      DUP.DF.OPEN_TYPE = %UPDATE_FILE ;
      145     5675    2      DUP.DF.REPORT_ERROR = %TRUE ;
      146     5676    2      DUP.DF.CLOSE_TYPE = %SAVE_FILE ;
      147     5677    2      RETURN ;
      148     5678
      149     5679    2   END DD_INIT_DUP ;
      150     5680        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:6    
      151     5681        /*I*  NAME:        DD_COMMAND_SETUP
      152     5682              AUTHOR:      Scott S. Sheppard
      153     5683              PURPOSE:     Sets up DELDECK Command
      154     5684              INTERFACE:   TOU$DU_SET_DF_FID
      155     5685              INPUT:       DUP.CMD$ - pointer to the parse control block
      156     5686              OUTPUT:      DUP.DF.HOLD_AREA
      157     5687                           DUP.DF.HOLD_AREA_LGTH
      158     5688              DESCRIPTION: This procedure sets up the DELDECK command from the
      159     5689                           information entered by the user.    DUP.CMD$ is a
      160     5690                           pointer to a   parse control block  that contains
      161     5691                           the tokens entered by the user.
      162     5692                           COMMAND FORMS:
      163     5693              Case 1: DD <object key>
      164     5694              Case 2: DD <object key> FROM <deckfile fid>
      165     5695        */
      166     5696        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:7    
      167     5697    1   DD_COMMAND_SETUP: PROC ALTRET ;
      168     5698
      169     5699    2      DCL OUTBLK#                    UBIN WORD ALIGNED ;
      170     5700    2      DCL OUTBLK$                    PTR ALIGNED ;
      171     5701           %PARSE$OUT (STCLASS = BASED) ;
      172     5746           %PARSE$SYM (STCLASS = BASED) ;
      173     5784
      174     5785        /* Code */
      175     5786
      176     5787    3      DO OUTBLK# = 0 TO DUP.CMD$ -> OUT$BLK.NSUBLKS - 1 ;
      177     5788    3         OUTBLK$ = DUP.CMD$ -> OUT$BLK.SUBLK$(OUTBLK#) ;
      178     5789    4         DO CASE (OUTBLK$ -> OUT$BLK.CODE) ;
      179     5790    4            CASE (%OBJKEY) ;
      180     5791    4               OBJECT_SEARCH_KEY.DATA = OUTBLK$ -> OUT$SYM.TEXT ;
      181     5792    4            CASE (%DECKFILE_FID) ;
      182     5793    4               DUP.DF.ENTERED = %TRUE ;
      183     5794    4               DUP.HOLD_AREA = OUTBLK$ -> OUT$SYM.TEXT ;
      184     5795    4               DUP.HOLD_AREA_LGTH = OUTBLK$ -> OUT$SYM.COUNT ;
      185     5796    4               CALL TOU$DU_SET_DF_FID ALTRET (ERROR) ;
      186     5797    4         END /* CASE */ ;
      187     5798    3      END /* DO */ ;
      188     5799
      189     5800    2      IF DUP.DF.ENTERED
      190     5801    2      THEN /* FID set from DEER command */ ;
      191     5802    2      ELSE CALL TOU$DU_SET_DF_FID ALTRET (ERROR) ;
      192     5803    2      RETURN ;
      193     5804
      194     5805    2   ERROR:
      195     5806    2      ALTRETURN ;
      196     5807
      197     5808    2   END DD_COMMAND_SETUP ;
      198     5809        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:8    
      199     5810        /*I*  NAME:        DD_FIND_DECK
      200     5811              AUTHOR:      Scott S. Sheppard
      201     5812              PURPOSE:     Locates Object Deck
      202     5813              INTERFACE:   TOU$DFU_DF_CHECK_FOR_KEY
      203     5814                           TOU$DU_USER_WRITE
      204     5815              INPUT:       OBJECT_SEARCH_KEY
      205     5816              OUTPUT:      OBJECT - contains $Object card of deck to be deleted
      206     5817              DESCRIPTION: This procedure locates an object card for the deck
      207     5818                           to be deleted.
      208     5819        */
      209     5820
      210     5821    1   DD_FIND_DECK: PROC ALTRET ;
      211     5822
      212     5823        /* Code */
      213     5824
      214     5825    2      OBJECT_KEY.DATA = OBJECT_SEARCH_KEY.DATA ;
      215     5826    2      CALL TOU$DFU_DF_CHECK_FOR_KEY ALTRET (NOT_FOUND) ;
      216     5827    2      RETURN ;
      217     5828
      218     5829    2   NOT_FOUND:
      219     5830    2      DUP.MSG_CODE = %E$DFD_NO_OBJ_IN_DF ;
      220     5831    2      CALL TOU$DU_USER_WRITE ;
      221     5832    2      ALTRETURN ;
      222     5833
      223     5834    2   END DD_FIND_DECK ;
      224     5835        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:9    
      225     5836        /*I*  NAME:        DD_REMEMBER_REFLIST
      226     5837              AUTHOR:      Scott S. Sheppard
      227     5838              PURPOSE:     Reads In The Object Reference List
      228     5839              INTERFACE:   TOU$DU_USER_WRITE
      229     5840                           TOU$DFU_DF_RD_OBJECT
      230     5841                           TOU$DFU_DF_RD_OBJECT_REFLIST
      231     5842                           TOU$DFU_DF_RD_LOG
      232     5843              INPUT:       CATALOG_ENTRY_KEY  - used to read in $Object Card
      233     5844              OUTPUT:      OBJECT_REFLIST_DATA
      234     5845                           SAVED_REFLIST
      235     5846                           SAVED_DECK#
      236     5847              DESCRIPTION: This  procedure  reads in the object reference list
      237     5848                           of the object deck being deleted from the deckfile.
      238     5849                           It then saves the reference list and deck number of
      239     5850                           the object deck to be deleted.
      240     5851        */
      241     5852
      242     5853    1   DD_REMEMBER_REFLIST: PROC ALTRET ;
      243     5854
      244     5855        /* Code */
      245     5856
      246     5857    2      CALL TOU$DFU_DF_RD_OBJECT ALTRET (ERROR) ;
      247     5858    2      SAVED_DECK# = OBJECT.DECK# ;
      248     5859    2      OBJECT_REFLIST_KEY.DECK# = OBJECT.DECK# ;
      249     5860    2      CALL TOU$DFU_DF_RD_OBJECT_REFLIST ALTRET (ERROR) ;
      250     5861    2      SAVED_REFLIST = OBJECT_REFLIST_DATA ;
      251     5862    2      CALL TOU$DFU_DF_RD_LOG ALTRET (ERROR) ;
      252     5863    2      RETURN ;
      253     5864
      254     5865    2   ERROR:
      255     5866    2      ALTRETURN ;
      256     5867
      257     5868    2   END DD_REMEMBER_REFLIST ;
      258     5869        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:10   
      259     5870        /*I*  NAME:        DD_REMOVE_FROM_CATALOGS
      260     5871              AUTHOR:      Scott S. Sheppard
      261     5872              PURPOSE:     Unlinks the Object Deck
      262     5873              INTERFACE:   TOU$DFU_DF_RD_MASTER_CONTROL
      263     5874                           TOU$DFU_DF_RD_MASTER_ENTRY
      264     5875                           TOU$DFU_DF_RD_CATALOG_CONTROL
      265     5876                           TOU$RR_REMOVE_FROM_CATALOG
      266     5877              INPUT:       SAVED_REFLIST
      267     5878                           MASTER_DATA
      268     5879                           CATALOG_DATA
      269     5880              OUTPUT:      MASTER_ENTRY
      270     5881                           CATALOG_ENTRY
      271     5882              DESCRIPTION: This procedure steps through the  reference list of
      272     5883                           the object to be deleted and removes all references
      273     5884                           to the  object deck  from the  catalogs.  Hence, no
      274     5885                           catalogs will now  consider  the  object deck  as a
      275     5886                           part of the catalog and the deck may be deleted.
      276     5887        */
      277     5888        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:11   
      278     5889    1   DD_REMOVE_FROM_CATALOGS: PROC ALTRET ;
      279     5890
      280     5891    2      DCL I UBIN WORD ALIGNED ;
      281     5892
      282     5893        /* Code */
      283     5894
      284     5895    2      CALL TOU$DFU_DF_RD_MASTER_CONTROL ALTRET (ERROR) ;
      285     5896    2      MASTER_ENTRY_KEY.DECK# = MASTER_DATA.DECK# ;
      286     5897    3      DO I = 0 TO SAVED_REFLIST.NUM_REFS - 1 ;
      287     5898    3         MASTER_ENTRY_KEY.ENTRY# = SAVED_REFLIST.REFS.ME#(I) ;
      288     5899    3         CALL TOU$DFU_DF_RD_MASTER_ENTRY ALTRET (ERROR) ;
      289     5900    3         CATALOG_SEARCH_KEY.DATA = CATALOG_KEY.DATA ;
      290     5901    3         CALL TOU$DFU_DF_RD_CATALOG_CONTROL ALTRET (ERROR) ;
      291     5902    3         CATALOG_ENTRY_KEY.DECK# = CATALOG_DATA.DECK# ;
      292     5903    3         CATALOG_ENTRY_KEY.ENTRY# = SAVED_REFLIST.REFS.CE#(I) ;
      293     5904    3         CALL TOU$RR_REMOVE_FROM_CATALOG ALTRET (ERROR) ;
      294     5905    3      END /* DO */ ;
      295     5906    2      RETURN ;
      296     5907
      297     5908    2   ERROR:
      298     5909    2      ALTRETURN ;
      299     5910
      300     5911    2   END DD_REMOVE_FROM_CATALOGS ;
      301     5912        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:12   
      302     5913        /*I*  NAME:        DD_REMOVE_FROM_DECKFILE
      303     5914              AUTHOR:      Scott S. Sheppard
      304     5915              PURPOSE:     Removes Object Deck
      305     5916              INTERFACE:   TOU$DFU_DF_DL_DECK
      306     5917                           TOU$REFORM_MASTER_CHECKSUM
      307     5918                           TOU$DFU_DF_WR_MASTER_CONTROL
      308     5919                           TOU$DU_USER_WRITE
      309     5920                           TOU$DU_PRINTER_WRITE
      310     5921                           TOU$DU_UPDATE_LOG
      311     5922                           TOU$DFU_DF_WR_LOG
      312     5923              INPUT:       OBJECT_SEARCH_KEY - saved object key
      313     5924                           SAVED_DECK#       - deck number of deck to delete
      314     5925                           MASTER_DATA.ENTRY_COUNT
      315     5926              OUTPUT:      OBJECT_KEY         - set to key of deck to delete
      316     5927                           BINARY_KEY           - set to key of deck to delete
      317     5928                           OBJECT_REFLIST_KEY - set to key of deck to delete
      318     5929              DESCRIPTION: This procedure removes an  object deck  from the
      319     5930                           deckfile by deleting all records in the deckfile
      320     5931                           whose keys are between (and including):
      321     5932                              Object Key:     <object key>
      322     5933                              Deck Key:       '<deck>000000'O
      323     5934                              Ref. List Key:  '<deck>000311'O
      324     5935                           The   procedure  then  recalculates  the  master
      325     5936                           catalog checksum and  resaves the master catalog
      326     5937                           control record.
      327     5938        */
      328     5939        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:13   
      329     5940    1   DD_REMOVE_FROM_DECKFILE: PROC ALTRET ;
      330     5941
      331     5942        /* Code */
      332     5943
      333     5944    2      IF MASTER_DATA.ENTRY_COUNT > 0
      334     5945    3      THEN DO ;
      335     5946    3              OBJECT_KEY.DATA = OBJECT_SEARCH_KEY.DATA ;
      336     5947    3              BINARY_KEY.DECK# = SAVED_DECK# ;
      337     5948    3              OBJECT_REFLIST_KEY.DECK# = SAVED_DECK# ;
      338     5949    3              CALL TOU$DFU_DF_DL_DECK ALTRET (ERROR) ;
      339     5950    3              CALL TOU$DFU_DF_WR_MASTER_CONTROL ALTRET (ERROR) ;
      340     5951    3              DUP.LOG.TYPE = %T$SF_DELDECK ;
      341     5952    3              DUP.LOG.CATALOG = ' ' ;
      342     5953    3              DUP.LOG.DECK = OBJECT_KEY.DATA ;
      343     5954    3              DUP.HOLD_AREA = ' ' ;
      344     5955    3              CALL TOU$DU_UPDATE_LOG ALTRET (ERROR) ;
      345     5956    3              CALL TOU$DFU_DF_WR_LOG ALTRET (ERROR) ;
      346     5957    3              DUP.MSG_CODE = %T$DD_INFORM ;
      347     5958    3              CALL TOU$DU_USER_WRITE ;
      348     5959    3              CALL TOU$DU_PRINTER_WRITE ;
      349     5960    3           END /* THEN */ ;
      350     5961    3      ELSE DO ;
      351     5962    3              DUP.DF.CLOSE_TYPE = %DISCARD_FILE ;
      352     5963    3              DUP.MSG_CODE = %T$DD_DEL_DF ;
      353     5964    3              CALL TOU$DU_USER_WRITE ;
      354     5965    3           END /* ELSE */ ;
      355     5966    2      RETURN ;
      356     5967
      357     5968    2   ERROR:
      358     5969    2      ALTRETURN ;
      359     5970
      360     5971    2   END DD_REMOVE_FROM_DECKFILE ;
      361     5972    1   END TOU$DELDECK ;

PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:14   
--  Include file information  --

   XU_MACRO_C.:E05TOU  is referenced.
   TO_PERR_C.:E05TOU  is referenced.
   TOU_RQSTS_E.:E05TOU  is referenced.
   TOU_DEER_M.:E05TOU  is referenced.
      No diagnostics issued in procedure TOU$DELDECK.

   Procedure TOU$DELDECK requires 255 words for executable code.
   Procedure TOU$DELDECK requires 8 words of local(AUTO) storage.

    No errors detected in file TOU$DELDECK.:E05TSI    .

PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:15   

 Object Unit name= TOU$DELDECK                                File name= TOU$DELDECK.:E05TOU
 UTS= JUL 30 '97 06:41:58.28 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Data  even  none    16     20  TOU$DELDECK
    1   Proc  even  none   255    377  TOU$DELDECK
    2  RoData even  none     1      1  TOU$DELDECK

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes            yes      Std        0  TOU$DELDECK
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:16   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       0 TOU$DU_CLOSE_DF
         yes           Std       0 TOU$L_SHOW_DCB
 yes     yes           Std       0 TOU$DU_OPEN_DF
 yes     yes           Std       0 TOU$DU_USER_WRITE
 yes     yes           Std       0 TOU$DU_SET_DF_FID
 yes     yes           Std       0 TOU$DFU_DF_CHECK_FOR_KEY
 yes     yes           Std       0 TOU$DFU_DF_RD_OBJECT
 yes     yes           Std       0 TOU$DFU_DF_RD_OBJECT_REFLIST
 yes     yes           Std       0 TOU$DFU_DF_RD_LOG
 yes     yes           Std       0 TOU$DFU_DF_RD_MASTER_CONTROL
 yes     yes           Std       0 TOU$RR_REMOVE_FROM_CATALOG
 yes     yes           Std       0 TOU$DFU_DF_RD_MASTER_ENTRY
 yes     yes           Std       0 TOU$DFU_DF_RD_CATALOG_CONTROL
 yes     yes           Std       0 TOU$DFU_DF_DL_DECK
 yes     yes           Std       0 TOU$DFU_DF_WR_MASTER_CONTROL
 yes     yes           Std       0 TOU$DFU_DF_WR_LOG
 yes     yes           Std       0 TOU$DU_PRINTER_WRITE
 yes     yes           Std       0 TOU$DU_UPDATE_LOG
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     DUP                                   CATALOG_DATA                          CATALOG_ENTRY_KEY
     CATALOG_KEY                           CATALOG_SEARCH_KEY                    BINARY_KEY
     MASTER_DATA                           MASTER_ENTRY_KEY                      OBJECT
     OBJECT_KEY                            OBJECT_REFLIST_KEY                    OBJECT_REFLIST_DATA
     OBJECT_SEARCH_KEY                     B_VECTNIL
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:17   


        1        1        /*M* TOU$DELDECK     DEckfile Editor Routine DELETE DECK Function */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7
        8        8        /*X* PLM=3,DCI=6,SQB=N,PRB=N,DTI=5,ENI=0,AND=Y,ECI=0,CSU=3,DIN=3,
        9        9             CTI=8,CRM=109,CRT=1,NLB=N,NTB=Y,MCL=110 */
       10       10
       11       11        /*P*  NAME:        TOU$DELDECK
       12       12              AUTHOR:      Scott S. Sheppard
       13       13              PURPOSE:     DEckfile Editor Routine DELETE DECK Function
       14       14              DESCRIPTION: This program is called when the DELDECK function
       15       15                           is invoked by the  CP-6  deckfile editor driver.
       16       16                           This program  deletes the  object deck  from the
       17       17                           deckfile and removes all  catalog references  to
       18       18                           the deck.
       19       19              REFERENCE:   CP-6 Release C0M0
       20       20              LAST UPDATE: 10/27/83
       21       21        */
       22       22
       23       23        /*F*  NAME:        TOU$DELDECK
       24       24              DESCRIPTION: Procedure Nesting Hierarchy
       25       25
       26       26              TOU$DELDECK: procedure
       27       27                 DD_INIT_DUP: procedure
       28       28                 DD_COMMAND_SETUP: procedure ALTRET ;
       29       29                 DD_FIND_DECK: procedure ALTRET ;
       30       30                 DD_REMEMBER_REFLIST: procedure ALTRET
       31       31                 DD_REMOVE_FROM_CATALOGS: procedure ALTRET
       32       32                 DD_REMOVE_FROM_DECKFILE: procedure ALTRET ;
       33       33        */
       34       34        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:18   
       35       35        TOU$DELDECK: PROC ;

     35  1 000000   000000 700200 xent  TOU$DELDECK  TSX0  ! X66_AUTO_0
         1 000001   000010 000000                    ZERO    8,0

       36       36
       37       37        /* Include Files */
       38       38
       39       39           %INCLUDE TOU_DEER_M ;
       40     1450           %INCLUDE TOU_RQSTS_E ;
       41     1525           %INCLUDE TO_PERR_C ;
       42     2110           %INCLUDE XU_MACRO_C ;
       43     5216
       44     5217        /* Macros */
       45     5218
       46     5219           %DUP (STCLASS = SYMREF) ;
       47     5362           %CATALOG_DATA (STCLASS = SYMREF) ;
       48     5376           %CATALOG_ENTRY_KEY (STCLASS = SYMREF) ;
       49     5390           %CATALOG_KEY (STCLASS = SYMREF) ;
       50     5404           %CATALOG_SEARCH_KEY (STCLASS = SYMREF) ;
       51     5416           %BINARY_KEY (STCLASS = SYMREF) ;
       52     5430           %MASTER_DATA (STCLASS = SYMREF) ;
       53     5444           %MASTER_ENTRY_KEY (STCLASS = SYMREF) ;
       54     5458           %OBJECT (STCLASS = SYMREF) ;
       55     5521           %OBJECT_KEY (STCLASS = SYMREF) ;
       56     5534           %OBJECT_REFLIST_KEY (STCLASS = SYMREF) ;
       57     5548           %OBJECT_REFLIST_DATA (STCLASS = SYMREF) ;
       58     5563           %OBJECT_REFLIST_DATA (NAME    = SAVED_REFLIST,
       59     5564                                 STCLASS = STATIC) ;
       60     5579           %OBJECT_SEARCH_KEY (STCLASS = SYMREF) ;
       61     5591
       62     5592        /* Variables */
       63     5593
       64     5594    1      DCL SAVED_DECK#                UBIN HALF HALIGNED ;
       65     5595           %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:19   
       66     5596        /* External Entry Points */
       67     5597
       68     5598    1      DCL TOU$DU_SET_DF_FID              ENTRY ALTRET ;
       69     5599    1      DCL TOU$DU_OPEN_DF                 ENTRY ALTRET ;
       70     5600    1      DCL TOU$DU_CLOSE_DF                ENTRY ALTRET ;
       71     5601
       72     5602    1      DCL TOU$DU_USER_WRITE              ENTRY ALTRET ;
       73     5603    1      DCL TOU$DU_PRINTER_WRITE           ENTRY ALTRET ;
       74     5604    1      DCL TOU$DU_UPDATE_LOG              ENTRY ALTRET ;
       75     5605
       76     5606    1      DCL TOU$DFU_DF_RD_MASTER_CONTROL   ENTRY ALTRET ;
       77     5607    1      DCL TOU$DFU_DF_RD_MASTER_ENTRY     ENTRY ALTRET ;
       78     5608    1      DCL TOU$DFU_DF_RD_CATALOG_CONTROL  ENTRY ALTRET ;
       79     5609    1      DCL TOU$DFU_DF_RD_OBJECT           ENTRY ALTRET ;
       80     5610    1      DCL TOU$DFU_DF_RD_OBJECT_REFLIST   ENTRY ALTRET ;
       81     5611    1      DCL TOU$DFU_DF_RD_LOG              ENTRY ALTRET ;
       82     5612
       83     5613    1      DCL TOU$DFU_DF_CHECK_FOR_KEY       ENTRY ALTRET ;
       84     5614    1      DCL TOU$DFU_DF_DL_DECK             ENTRY ALTRET ;
       85     5615
       86     5616    1      DCL TOU$DFU_DF_WR_MASTER_CONTROL   ENTRY ALTRET ;
       87     5617    1      DCL TOU$DFU_DF_WR_LOG              ENTRY ALTRET ;
       88     5618
       89     5619    1      DCL TOU$RR_REMOVE_FROM_CATALOG     ENTRY ALTRET ;
       90     5620
       91     5621    1      DCL TOU$L_SHOW_DCB                 ENTRY ;
       92     5622           %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:20   
       93     5623        /* ****************
       94     5624           * Main Program *
       95     5625           **************** */
       96     5626
       97     5627    1      CALL DD_INIT_DUP ;

   5627  1 000002   000054 701000 1                  TSX1    DD_INIT_DUP
         1 000003   000000 011000                    NOP     0

       98     5628    1      CALL DD_COMMAND_SETUP ALTRET (ERROR_RETURN) ;

   5628  1 000004   000073 701000 1                  TSX1    DD_COMMAND_SETUP
         1 000005   000041 702000 1                  TSX2    ERROR_RETURN

       99     5629    1      CALL TOU$L_SHOW_DCB ;

   5629  1 000006   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000007   000000 701000 xent               TSX1    TOU$L_SHOW_DCB
         1 000010   000000 011000                    NOP     0

      100     5630
      101     5631    1      CALL TOU$DU_OPEN_DF ALTRET (ERROR_RETURN) ;

   5631  1 000011   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000012   000000 701000 xent               TSX1    TOU$DU_OPEN_DF
         1 000013   000041 702000 1                  TSX2    ERROR_RETURN

      102     5632    1      CALL DD_FIND_DECK ALTRET (ERROR_RETURN) ;

   5632  1 000014   000166 701000 1                  TSX1    DD_FIND_DECK
         1 000015   000041 702000 1                  TSX2    ERROR_RETURN

      103     5633    1      CALL DD_REMEMBER_REFLIST ALTRET (ERROR_RETURN) ;

   5633  1 000016   000206 701000 1                  TSX1    DD_REMEMBER_REFLIST
         1 000017   000041 702000 1                  TSX2    ERROR_RETURN

PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:21   
      104     5634    1      DUP.BREAK_DISABLED = %TRUE ;

   5634  1 000020   000400 236003                    LDQ     256,DU
         1 000021   000155 256000 xsym               ORSQ    DUP+109

      105     5635    1      CALL DD_REMOVE_FROM_CATALOGS ALTRET (ERROR_RETURN) ;

   5635  1 000022   000234 701000 1                  TSX1    DD_REMOVE_FROM_CATALOGS
         1 000023   000041 702000 1                  TSX2    ERROR_RETURN

      106     5636    1      CALL DD_REMOVE_FROM_DECKFILE ALTRET (ERROR_RETURN) ;

   5636  1 000024   000310 701000 1                  TSX1    DD_REMOVE_FROM_DECKFILE
         1 000025   000041 702000 1                  TSX2    ERROR_RETURN

      107     5637    1      CALL TOU$DU_CLOSE_DF ALTRET (ERROR_RETURN) ;

   5637  1 000026   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000027   000000 701000 xent               TSX1    TOU$DU_CLOSE_DF
         1 000030   000041 702000 1                  TSX2    ERROR_RETURN

      108     5638
      109     5639        /* NORMAL_RETURN: */
      110     5640    1      DUP.MSG_CODE = %T$DD_SUCCESS;

   5640  1 000031   000202 235007                    LDA     130,DL
         1 000032   000020 755000 xsym               STA     DUP+16

      111     5641    1      CALL TOU$DU_USER_WRITE ;

   5641  1 000033   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000034   000000 701000 xent               TSX1    TOU$DU_USER_WRITE
         1 000035   000000 011000                    NOP     0

      112     5642    1      DUP.BREAK_DISABLED = %FALSE ;

   5642  1 000036   000000 236000 2                  LDQ     0
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:22   
         1 000037   000155 356000 xsym               ANSQ    DUP+109

      113     5643    1      RETURN ;

   5643  1 000040   000000 702200 xent               TSX2  ! X66_ARET

      114     5644
      115     5645    1   ERROR_RETURN:
      116     5646    1      DUP.BREAK_DISABLED = %FALSE ;

   5646  1 000041   000000 236000 2     ERROR_RETURN LDQ     0
         1 000042   000155 356000 xsym               ANSQ    DUP+109

      117     5647    1      CALL TOU$DU_CLOSE_DF ;

   5647  1 000043   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000044   000000 701000 xent               TSX1    TOU$DU_CLOSE_DF
         1 000045   000000 011000                    NOP     0

      118     5648    1      DUP.MSG_CODE = %T$DD_FAILURE;

   5648  1 000046   000203 235007                    LDA     131,DL
         1 000047   000020 755000 xsym               STA     DUP+16

      119     5649    1      CALL TOU$DU_USER_WRITE ;

   5649  1 000050   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000051   000000 701000 xent               TSX1    TOU$DU_USER_WRITE
         1 000052   000000 011000                    NOP     0

      120     5650    1      RETURN ;

   5650  1 000053   000000 702200 xent               TSX2  ! X66_ARET

      121     5651
      122     5652        /* ***************
      123     5653           * End Of Main *
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:23   
      124     5654           *************** */
      125     5655        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:24   
      126     5656        /*I*  NAME:        DD_INIT_DUP
      127     5657              AUTHOR:      Scott S. Sheppard
      128     5658              PURPOSE:     Initilization
      129     5659              INTERFACE:   None called.
      130     5660              INPUT:       Set of system equates.
      131     5661              OUTPUT:      DUP - Deckfile Utility Parameter
      132     5662              DESCRIPTION: This procedure initializes the deckfile utility
      133     5663                           parameter to appropriate starting values.
      134     5664        */
      135     5665
      136     5666    1   DD_INIT_DUP: PROC ;

   5666  1 000054   200004 741300       DD_INIT_DUP  STX1  ! SAVED_DECK#+1,,AUTO

      137     5667
      138     5668        /* Code */
      139     5669
      140     5670    2      DUP.HDR_CODE = %H$DELDECK ;

   5670  1 000055   001426 235007                    LDA     790,DL
         1 000056   000021 755000 xsym               STA     DUP+17

      141     5671    2      DUP.LINE_VFC = %SKIP_WRITE ;

   5671  1 000057   142000 236003                    LDQ     50176,DU
         1 000060   000026 756000 xsym               STQ     DUP+22

      142     5672    2      DUP.FORCE_NEW_PAGE = %TRUE ;

   5672  1 000061   400000 236003                    LDQ     -131072,DU
         1 000062   000056 756000 xsym               STQ     DUP+46

      143     5673    2      DUP.DF.ENTERED = %FALSE ;

   5673  1 000063   000031 236000 xsym               LDQ     B_VECTNIL+25
         1 000064   000104 356000 xsym               ANSQ    DUP+68

PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:25   
      144     5674    2      DUP.DF.OPEN_TYPE = %UPDATE_FILE ;

   5674  1 000065   000001 235007                    LDA     1,DL
         1 000066   000105 755000 xsym               STA     DUP+69

      145     5675    2      DUP.DF.REPORT_ERROR = %TRUE ;

   5675  1 000067   400000 236007                    LDQ     -131072,DL
         1 000070   000104 256000 xsym               ORSQ    DUP+68

      146     5676    2      DUP.DF.CLOSE_TYPE = %SAVE_FILE ;

   5676  1 000071   000106 450000 xsym               STZ     DUP+70

      147     5677    2      RETURN ;

   5677  1 000072   000001 702211                    TSX2  ! 1,X1

      148     5678
      149     5679    2   END DD_INIT_DUP ;
      150     5680        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:26   
      151     5681        /*I*  NAME:        DD_COMMAND_SETUP
      152     5682              AUTHOR:      Scott S. Sheppard
      153     5683              PURPOSE:     Sets up DELDECK Command
      154     5684              INTERFACE:   TOU$DU_SET_DF_FID
      155     5685              INPUT:       DUP.CMD$ - pointer to the parse control block
      156     5686              OUTPUT:      DUP.DF.HOLD_AREA
      157     5687                           DUP.DF.HOLD_AREA_LGTH
      158     5688              DESCRIPTION: This procedure sets up the DELDECK command from the
      159     5689                           information entered by the user.    DUP.CMD$ is a
      160     5690                           pointer to a   parse control block  that contains
      161     5691                           the tokens entered by the user.
      162     5692                           COMMAND FORMS:
      163     5693              Case 1: DD <object key>
      164     5694              Case 2: DD <object key> FROM <deckfile fid>
      165     5695        */
      166     5696        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:27   
      167     5697    1   DD_COMMAND_SETUP: PROC ALTRET ;

   5697  1 000073   200004 741300       DD_COMMAND_* STX1  ! SAVED_DECK#+1,,AUTO

      168     5698
      169     5699    2      DCL OUTBLK#                    UBIN WORD ALIGNED ;
      170     5700    2      DCL OUTBLK$                    PTR ALIGNED ;
      171     5701           %PARSE$OUT (STCLASS = BASED) ;
      172     5746           %PARSE$SYM (STCLASS = BASED) ;
      173     5784
      174     5785        /* Code */
      175     5786
      176     5787    3      DO OUTBLK# = 0 TO DUP.CMD$ -> OUT$BLK.NSUBLKS - 1 ;

   5787  1 000074   200005 450100                    STZ     OUTBLK#,,AUTO
         1 000075   000147 710000 1                  TRA     s:5798+3

      177     5788    3         OUTBLK$ = DUP.CMD$ -> OUT$BLK.SUBLK$(OUTBLK#) ;

   5788  1 000076   000017 470400 xsym               LDP0    DUP+15
         1 000077   200005 720100                    LXL0    OUTBLK#,,AUTO
         1 000100   000003 236110                    LDQ     3,X0,PR0
         1 000101   200006 756100                    STQ     OUTBLK$,,AUTO

      178     5789    4         DO CASE (OUTBLK$ -> OUT$BLK.CODE) ;

   5789  1 000102   200006 471500                    LDP1    OUTBLK$,,AUTO
         1 000103   100000 236100                    LDQ     0,,PR1
         1 000104   777777 376007                    ANQ     -1,DL
         1 000105   000004 136007                    SBLQ    4,DL
         1 000106   000006 116007                    CMPQ    6,DL
         1 000107   000111 602006 1                  TNC     s:5789+7,QL
         1 000110   000144 710000 1                  TRA     s:5798
         1 000111   000126 710000 1                  TRA     s:5793
         1 000112   000144 710000 1                  TRA     s:5798
         1 000113   000144 710000 1                  TRA     s:5798
         1 000114   000144 710000 1                  TRA     s:5798
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:28   
         1 000115   000144 710000 1                  TRA     s:5798
         1 000116   000117 710000 1                  TRA     s:5791

      179     5790    4            CASE (%OBJKEY) ;

      180     5791    4               OBJECT_SEARCH_KEY.DATA = OUTBLK$ -> OUT$SYM.TEXT ;

   5791  1 000117   100004 236100                    LDQ     4,,PR1
         1 000120   000033 772000                    QRL     27
         1 000121   000000 621006                    EAX1    0,QL
         1 000122   040000 100540                    MLR     fill='040'O
         1 000123   100004 200011                    ADSC9   4,,PR1                   cn=1,n=*X1
         1 000124   000000 000027 xsym               ADSC9   OBJECT_SEARCH_KEY        cn=0,n=23
         1 000125   000144 710000 1                  TRA     s:5798

      181     5792    4            CASE (%DECKFILE_FID) ;

      182     5793    4               DUP.DF.ENTERED = %TRUE ;

   5793  1 000126   400000 236003                    LDQ     -131072,DU
         1 000127   000104 256000 xsym               ORSQ    DUP+68

      183     5794    4               DUP.HOLD_AREA = OUTBLK$ -> OUT$SYM.TEXT ;

   5794  1 000130   100004 236100                    LDQ     4,,PR1
         1 000131   000033 772000                    QRL     27
         1 000132   000000 621006                    EAX1    0,QL
         1 000133   040000 100540                    MLR     fill='040'O
         1 000134   100004 200011                    ADSC9   4,,PR1                   cn=1,n=*X1
         1 000135   000142 000050 xsym               ADSC9   DUP+98                   cn=0,n=40

      184     5795    4               DUP.HOLD_AREA_LGTH = OUTBLK$ -> OUT$SYM.COUNT ;

   5795  1 000136   100004 236100                    LDQ     4,,PR1
         1 000137   000033 772000                    QRL     27
         1 000140   000154 756000 xsym               STQ     DUP+108

PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:29   
      185     5796    4               CALL TOU$DU_SET_DF_FID ALTRET (ERROR) ;

   5796  1 000141   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000142   000000 701000 xent               TSX1    TOU$DU_SET_DF_FID
         1 000143   000164 702000 1                  TSX2    ERROR

      186     5797    4         END /* CASE */ ;

      187     5798    3      END /* DO */ ;

   5798  1 000144   200005 235100                    LDA     OUTBLK#,,AUTO
         1 000145   000001 035007                    ADLA    1,DL
         1 000146   200005 755100                    STA     OUTBLK#,,AUTO
         1 000147   000017 470400 xsym               LDP0    DUP+15
         1 000150   000001 236100                    LDQ     1,,PR0
         1 000151   000022 772000                    QRL     18
         1 000152   200005 116100                    CMPQ    OUTBLK#,,AUTO
         1 000153   000155 600000 1                  TZE     s:5800
         1 000154   000076 603000 1                  TRC     s:5788

      188     5799
      189     5800    2      IF DUP.DF.ENTERED

   5800  1 000155   000104 234000 xsym               SZN     DUP+68
         1 000156   000162 604000 1                  TMI     s:5803

      190     5801    2      THEN /* FID set from DEER command */ ;
      191     5802    2      ELSE CALL TOU$DU_SET_DF_FID ALTRET (ERROR) ;

   5802  1 000157   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000160   000000 701000 xent               TSX1    TOU$DU_SET_DF_FID
         1 000161   000164 702000 1                  TSX2    ERROR

      192     5803    2      RETURN ;

   5803  1 000162   200004 221300                    LDX1  ! SAVED_DECK#+1,,AUTO
         1 000163   000001 702211                    TSX2  ! 1,X1
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:30   

      193     5804
      194     5805    2   ERROR:
      195     5806    2      ALTRETURN ;

   5806  1 000164   200004 221300       ERROR        LDX1  ! SAVED_DECK#+1,,AUTO
         1 000165   000000 702211                    TSX2  ! 0,X1

      196     5807
      197     5808    2   END DD_COMMAND_SETUP ;
      198     5809        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:31   
      199     5810        /*I*  NAME:        DD_FIND_DECK
      200     5811              AUTHOR:      Scott S. Sheppard
      201     5812              PURPOSE:     Locates Object Deck
      202     5813              INTERFACE:   TOU$DFU_DF_CHECK_FOR_KEY
      203     5814                           TOU$DU_USER_WRITE
      204     5815              INPUT:       OBJECT_SEARCH_KEY
      205     5816              OUTPUT:      OBJECT - contains $Object card of deck to be deleted
      206     5817              DESCRIPTION: This procedure locates an object card for the deck
      207     5818                           to be deleted.
      208     5819        */
      209     5820
      210     5821    1   DD_FIND_DECK: PROC ALTRET ;

   5821  1 000166   200004 741300       DD_FIND_DECK STX1  ! SAVED_DECK#+1,,AUTO

      211     5822
      212     5823        /* Code */
      213     5824
      214     5825    2      OBJECT_KEY.DATA = OBJECT_SEARCH_KEY.DATA ;

   5825  1 000167   040000 100400                    MLR     fill='040'O
         1 000170   000000 000027 xsym               ADSC9   OBJECT_SEARCH_KEY        cn=0,n=23
         1 000171   000000 200027 xsym               ADSC9   OBJECT_KEY               cn=1,n=23

      215     5826    2      CALL TOU$DFU_DF_CHECK_FOR_KEY ALTRET (NOT_FOUND) ;

   5826  1 000172   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000173   000000 701000 xent               TSX1    TOU$DFU_DF_CHECK_FOR_KEY
         1 000174   000177 702000 1                  TSX2    NOT_FOUND

      216     5827    2      RETURN ;

   5827  1 000175   200004 221300                    LDX1  ! SAVED_DECK#+1,,AUTO
         1 000176   000001 702211                    TSX2  ! 1,X1

      217     5828
      218     5829    2   NOT_FOUND:
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:32   
      219     5830    2      DUP.MSG_CODE = %E$DFD_NO_OBJ_IN_DF ;

   5830  1 000177   001010 235007       NOT_FOUND    LDA     520,DL
         1 000200   000020 755000 xsym               STA     DUP+16

      220     5831    2      CALL TOU$DU_USER_WRITE ;

   5831  1 000201   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000202   000000 701000 xent               TSX1    TOU$DU_USER_WRITE
         1 000203   000000 011000                    NOP     0

      221     5832    2      ALTRETURN ;

   5832  1 000204   200004 221300                    LDX1  ! SAVED_DECK#+1,,AUTO
         1 000205   000000 702211                    TSX2  ! 0,X1

      222     5833
      223     5834    2   END DD_FIND_DECK ;
      224     5835        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:33   
      225     5836        /*I*  NAME:        DD_REMEMBER_REFLIST
      226     5837              AUTHOR:      Scott S. Sheppard
      227     5838              PURPOSE:     Reads In The Object Reference List
      228     5839              INTERFACE:   TOU$DU_USER_WRITE
      229     5840                           TOU$DFU_DF_RD_OBJECT
      230     5841                           TOU$DFU_DF_RD_OBJECT_REFLIST
      231     5842                           TOU$DFU_DF_RD_LOG
      232     5843              INPUT:       CATALOG_ENTRY_KEY  - used to read in $Object Card
      233     5844              OUTPUT:      OBJECT_REFLIST_DATA
      234     5845                           SAVED_REFLIST
      235     5846                           SAVED_DECK#
      236     5847              DESCRIPTION: This  procedure  reads in the object reference list
      237     5848                           of the object deck being deleted from the deckfile.
      238     5849                           It then saves the reference list and deck number of
      239     5850                           the object deck to be deleted.
      240     5851        */
      241     5852
      242     5853    1   DD_REMEMBER_REFLIST: PROC ALTRET ;

   5853  1 000206   200004 741300       DD_REMEMBER* STX1  ! SAVED_DECK#+1,,AUTO

      243     5854
      244     5855        /* Code */
      245     5856
      246     5857    2      CALL TOU$DFU_DF_RD_OBJECT ALTRET (ERROR) ;

   5857  1 000207   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000210   000000 701000 xent               TSX1    TOU$DFU_DF_RD_OBJECT
         1 000211   000232 702000 1                  TSX2    ERROR

      247     5858    2      SAVED_DECK# = OBJECT.DECK# ;

   5858  1 000212   000024 220000 xsym               LDX0    OBJECT+20
         1 000213   200003 740100                    STX0    SAVED_DECK#,,AUTO

      248     5859    2      OBJECT_REFLIST_KEY.DECK# = OBJECT.DECK# ;

PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:34   
   5859  1 000214   000024 236000 xsym               LDQ     OBJECT+20
         1 000215   000011 772000                    QRL     9
         1 000216   000000 552030 xsym               STBQ    OBJECT_REFLIST_KEY,'30'O

      249     5860    2      CALL TOU$DFU_DF_RD_OBJECT_REFLIST ALTRET (ERROR) ;

   5860  1 000217   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000220   000000 701000 xent               TSX1    TOU$DFU_DF_RD_OBJECT_REFLIST
         1 000221   000232 702000 1                  TSX2    ERROR

      250     5861    2      SAVED_REFLIST = OBJECT_REFLIST_DATA ;

   5861  1 000222   000000 100400                    MLR     fill='000'O
         1 000223   000000 000100 xsym               ADSC9   OBJECT_REFLIST_DATA      cn=0,n=64
         1 000224   000000 000100 0                  ADSC9   SAVED_REFLIST            cn=0,n=64

      251     5862    2      CALL TOU$DFU_DF_RD_LOG ALTRET (ERROR) ;

   5862  1 000225   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000226   000000 701000 xent               TSX1    TOU$DFU_DF_RD_LOG
         1 000227   000232 702000 1                  TSX2    ERROR

      252     5863    2      RETURN ;

   5863  1 000230   200004 221300                    LDX1  ! SAVED_DECK#+1,,AUTO
         1 000231   000001 702211                    TSX2  ! 1,X1

      253     5864
      254     5865    2   ERROR:
      255     5866    2      ALTRETURN ;

   5866  1 000232   200004 221300       ERROR        LDX1  ! SAVED_DECK#+1,,AUTO
         1 000233   000000 702211                    TSX2  ! 0,X1

      256     5867
      257     5868    2   END DD_REMEMBER_REFLIST ;
      258     5869        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:35   
      259     5870        /*I*  NAME:        DD_REMOVE_FROM_CATALOGS
      260     5871              AUTHOR:      Scott S. Sheppard
      261     5872              PURPOSE:     Unlinks the Object Deck
      262     5873              INTERFACE:   TOU$DFU_DF_RD_MASTER_CONTROL
      263     5874                           TOU$DFU_DF_RD_MASTER_ENTRY
      264     5875                           TOU$DFU_DF_RD_CATALOG_CONTROL
      265     5876                           TOU$RR_REMOVE_FROM_CATALOG
      266     5877              INPUT:       SAVED_REFLIST
      267     5878                           MASTER_DATA
      268     5879                           CATALOG_DATA
      269     5880              OUTPUT:      MASTER_ENTRY
      270     5881                           CATALOG_ENTRY
      271     5882              DESCRIPTION: This procedure steps through the  reference list of
      272     5883                           the object to be deleted and removes all references
      273     5884                           to the  object deck  from the  catalogs.  Hence, no
      274     5885                           catalogs will now  consider  the  object deck  as a
      275     5886                           part of the catalog and the deck may be deleted.
      276     5887        */
      277     5888        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:36   
      278     5889    1   DD_REMOVE_FROM_CATALOGS: PROC ALTRET ;

   5889  1 000234   200004 741300       DD_REMOVE_F* STX1  ! SAVED_DECK#+1,,AUTO

      279     5890
      280     5891    2      DCL I UBIN WORD ALIGNED ;
      281     5892
      282     5893        /* Code */
      283     5894
      284     5895    2      CALL TOU$DFU_DF_RD_MASTER_CONTROL ALTRET (ERROR) ;

   5895  1 000235   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000236   000000 701000 xent               TSX1    TOU$DFU_DF_RD_MASTER_CONTROL
         1 000237   000306 702000 1                  TSX2    ERROR

      285     5896    2      MASTER_ENTRY_KEY.DECK# = MASTER_DATA.DECK# ;

   5896  1 000240   000000 236000 xsym               LDQ     MASTER_DATA
         1 000241   000011 772000                    QRL     9
         1 000242   000000 552030 xsym               STBQ    MASTER_ENTRY_KEY,'30'O

      286     5897    3      DO I = 0 TO SAVED_REFLIST.NUM_REFS - 1 ;

   5897  1 000243   200005 450100                    STZ     I,,AUTO
         1 000244   000301 710000 1                  TRA     s:5905+3

      287     5898    3         MASTER_ENTRY_KEY.ENTRY# = SAVED_REFLIST.REFS.ME#(I) ;

   5898  1 000245   200005 235100                    LDA     I,,AUTO
         1 000246   000002 735000                    ALS     2
         1 000247   000000 100405                    MLR     fill='000'O
         1 000250   000001 000002 0                  ADSC9   SAVED_REFLIST+1,A        cn=0,n=2
         1 000251   000000 600002 xsym               ADSC9   MASTER_ENTRY_KEY         cn=3,n=2

      288     5899    3         CALL TOU$DFU_DF_RD_MASTER_ENTRY ALTRET (ERROR) ;

   5899  1 000252   000002 631400 xsym               EPPR1   B_VECTNIL+2
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:37   
         1 000253   000000 701000 xent               TSX1    TOU$DFU_DF_RD_MASTER_ENTRY
         1 000254   000306 702000 1                  TSX2    ERROR

      289     5900    3         CATALOG_SEARCH_KEY.DATA = CATALOG_KEY.DATA ;

   5900  1 000255   040000 100400                    MLR     fill='040'O
         1 000256   000000 200025 xsym               ADSC9   CATALOG_KEY              cn=1,n=21
         1 000257   000000 000025 xsym               ADSC9   CATALOG_SEARCH_KEY       cn=0,n=21

      290     5901    3         CALL TOU$DFU_DF_RD_CATALOG_CONTROL ALTRET (ERROR) ;

   5901  1 000260   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000261   000000 701000 xent               TSX1    TOU$DFU_DF_RD_CATALOG_CONTROL
         1 000262   000306 702000 1                  TSX2    ERROR

      291     5902    3         CATALOG_ENTRY_KEY.DECK# = CATALOG_DATA.DECK# ;

   5902  1 000263   000000 236000 xsym               LDQ     CATALOG_DATA
         1 000264   000011 772000                    QRL     9
         1 000265   000000 552030 xsym               STBQ    CATALOG_ENTRY_KEY,'30'O

      292     5903    3         CATALOG_ENTRY_KEY.ENTRY# = SAVED_REFLIST.REFS.CE#(I) ;

   5903  1 000266   200005 235100                    LDA     I,,AUTO
         1 000267   000002 735000                    ALS     2
         1 000270   000000 100405                    MLR     fill='000'O
         1 000271   000001 400002 0                  ADSC9   SAVED_REFLIST+1,A        cn=2,n=2
         1 000272   000000 600002 xsym               ADSC9   CATALOG_ENTRY_KEY        cn=3,n=2

      293     5904    3         CALL TOU$RR_REMOVE_FROM_CATALOG ALTRET (ERROR) ;

   5904  1 000273   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000274   000000 701000 xent               TSX1    TOU$RR_REMOVE_FROM_CATALOG
         1 000275   000306 702000 1                  TSX2    ERROR

      294     5905    3      END /* DO */ ;

PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:38   
   5905  1 000276   200005 235100                    LDA     I,,AUTO
         1 000277   000001 035007                    ADLA    1,DL
         1 000300   200005 755100                    STA     I,,AUTO
         1 000301   200005 236100                    LDQ     I,,AUTO
         1 000302   000000 116000 0                  CMPQ    SAVED_REFLIST
         1 000303   000245 602000 1                  TNC     s:5898

      295     5906    2      RETURN ;

   5906  1 000304   200004 221300                    LDX1  ! SAVED_DECK#+1,,AUTO
         1 000305   000001 702211                    TSX2  ! 1,X1

      296     5907
      297     5908    2   ERROR:
      298     5909    2      ALTRETURN ;

   5909  1 000306   200004 221300       ERROR        LDX1  ! SAVED_DECK#+1,,AUTO
         1 000307   000000 702211                    TSX2  ! 0,X1

      299     5910
      300     5911    2   END DD_REMOVE_FROM_CATALOGS ;
      301     5912        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:39   
      302     5913        /*I*  NAME:        DD_REMOVE_FROM_DECKFILE
      303     5914              AUTHOR:      Scott S. Sheppard
      304     5915              PURPOSE:     Removes Object Deck
      305     5916              INTERFACE:   TOU$DFU_DF_DL_DECK
      306     5917                           TOU$REFORM_MASTER_CHECKSUM
      307     5918                           TOU$DFU_DF_WR_MASTER_CONTROL
      308     5919                           TOU$DU_USER_WRITE
      309     5920                           TOU$DU_PRINTER_WRITE
      310     5921                           TOU$DU_UPDATE_LOG
      311     5922                           TOU$DFU_DF_WR_LOG
      312     5923              INPUT:       OBJECT_SEARCH_KEY - saved object key
      313     5924                           SAVED_DECK#       - deck number of deck to delete
      314     5925                           MASTER_DATA.ENTRY_COUNT
      315     5926              OUTPUT:      OBJECT_KEY         - set to key of deck to delete
      316     5927                           BINARY_KEY           - set to key of deck to delete
      317     5928                           OBJECT_REFLIST_KEY - set to key of deck to delete
      318     5929              DESCRIPTION: This procedure removes an  object deck  from the
      319     5930                           deckfile by deleting all records in the deckfile
      320     5931                           whose keys are between (and including):
      321     5932                              Object Key:     <object key>
      322     5933                              Deck Key:       '<deck>000000'O
      323     5934                              Ref. List Key:  '<deck>000311'O
      324     5935                           The   procedure  then  recalculates  the  master
      325     5936                           catalog checksum and  resaves the master catalog
      326     5937                           control record.
      327     5938        */
      328     5939        %EJECT ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:40   
      329     5940    1   DD_REMOVE_FROM_DECKFILE: PROC ALTRET ;

   5940  1 000310   200004 741300       DD_REMOVE_F* STX1  ! SAVED_DECK#+1,,AUTO

      330     5941
      331     5942        /* Code */
      332     5943
      333     5944    2      IF MASTER_DATA.ENTRY_COUNT > 0

   5944  1 000311   000000 720000 xsym               LXL0    MASTER_DATA
         1 000312   000364 600000 1                  TZE     s:5962

      334     5945    3      THEN DO ;

      335     5946    3              OBJECT_KEY.DATA = OBJECT_SEARCH_KEY.DATA ;

   5946  1 000313   040000 100400                    MLR     fill='040'O
         1 000314   000000 000027 xsym               ADSC9   OBJECT_SEARCH_KEY        cn=0,n=23
         1 000315   000000 200027 xsym               ADSC9   OBJECT_KEY               cn=1,n=23

      336     5947    3              BINARY_KEY.DECK# = SAVED_DECK# ;

   5947  1 000316   200003 236100                    LDQ     SAVED_DECK#,,AUTO
         1 000317   000011 772000                    QRL     9
         1 000320   000000 552030 xsym               STBQ    BINARY_KEY,'30'O

      337     5948    3              OBJECT_REFLIST_KEY.DECK# = SAVED_DECK# ;

   5948  1 000321   200003 236100                    LDQ     SAVED_DECK#,,AUTO
         1 000322   000011 772000                    QRL     9
         1 000323   000000 552030 xsym               STBQ    OBJECT_REFLIST_KEY,'30'O

      338     5949    3              CALL TOU$DFU_DF_DL_DECK ALTRET (ERROR) ;

   5949  1 000324   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000325   000000 701000 xent               TSX1    TOU$DFU_DF_DL_DECK
         1 000326   000375 702000 1                  TSX2    ERROR
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:41   

      339     5950    3              CALL TOU$DFU_DF_WR_MASTER_CONTROL ALTRET (ERROR) ;

   5950  1 000327   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000330   000000 701000 xent               TSX1    TOU$DFU_DF_WR_MASTER_CONTROL
         1 000331   000375 702000 1                  TSX2    ERROR

      340     5951    3              DUP.LOG.TYPE = %T$SF_DELDECK ;

   5951  1 000332   000115 235007                    LDA     77,DL
         1 000333   000122 755000 xsym               STA     DUP+82

      341     5952    3              DUP.LOG.CATALOG = ' ' ;

   5952  1 000334   040000 100400                    MLR     fill='040'O
         1 000335   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 000336   000123 000025 xsym               ADSC9   DUP+83                   cn=0,n=21

      342     5953    3              DUP.LOG.DECK = OBJECT_KEY.DATA ;

   5953  1 000337   040000 100400                    MLR     fill='040'O
         1 000340   000000 200027 xsym               ADSC9   OBJECT_KEY               cn=1,n=23
         1 000341   000130 200027 xsym               ADSC9   DUP+88                   cn=1,n=23

      343     5954    3              DUP.HOLD_AREA = ' ' ;

   5954  1 000342   040000 100400                    MLR     fill='040'O
         1 000343   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         1 000344   000142 000050 xsym               ADSC9   DUP+98                   cn=0,n=40

      344     5955    3              CALL TOU$DU_UPDATE_LOG ALTRET (ERROR) ;

   5955  1 000345   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000346   000000 701000 xent               TSX1    TOU$DU_UPDATE_LOG
         1 000347   000375 702000 1                  TSX2    ERROR

      345     5956    3              CALL TOU$DFU_DF_WR_LOG ALTRET (ERROR) ;
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:42   

   5956  1 000350   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000351   000000 701000 xent               TSX1    TOU$DFU_DF_WR_LOG
         1 000352   000375 702000 1                  TSX2    ERROR

      346     5957    3              DUP.MSG_CODE = %T$DD_INFORM ;

   5957  1 000353   000204 235007                    LDA     132,DL
         1 000354   000020 755000 xsym               STA     DUP+16

      347     5958    3              CALL TOU$DU_USER_WRITE ;

   5958  1 000355   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000356   000000 701000 xent               TSX1    TOU$DU_USER_WRITE
         1 000357   000000 011000                    NOP     0

      348     5959    3              CALL TOU$DU_PRINTER_WRITE ;

   5959  1 000360   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000361   000000 701000 xent               TSX1    TOU$DU_PRINTER_WRITE
         1 000362   000000 011000                    NOP     0

      349     5960    3           END /* THEN */ ;

   5960  1 000363   000373 710000 1                  TRA     s:5966

      350     5961    3      ELSE DO ;

      351     5962    3              DUP.DF.CLOSE_TYPE = %DISCARD_FILE ;

   5962  1 000364   000001 235007                    LDA     1,DL
         1 000365   000106 755000 xsym               STA     DUP+70

      352     5963    3              DUP.MSG_CODE = %T$DD_DEL_DF ;

   5963  1 000366   000206 236007                    LDQ     134,DL
         1 000367   000020 756000 xsym               STQ     DUP+16
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:43   

      353     5964    3              CALL TOU$DU_USER_WRITE ;

   5964  1 000370   000002 631400 xsym               EPPR1   B_VECTNIL+2
         1 000371   000000 701000 xent               TSX1    TOU$DU_USER_WRITE
         1 000372   000000 011000                    NOP     0

      354     5965    3           END /* ELSE */ ;

      355     5966    2      RETURN ;

   5966  1 000373   200004 221300                    LDX1  ! SAVED_DECK#+1,,AUTO
         1 000374   000001 702211                    TSX2  ! 1,X1

      356     5967
      357     5968    2   ERROR:
      358     5969    2      ALTRETURN ;

   5969  1 000375   200004 221300       ERROR        LDX1  ! SAVED_DECK#+1,,AUTO
         1 000376   000000 702211                    TSX2  ! 0,X1

SAVED_REFLIST
 Sect OctLoc
   0     000   000000 000000   000000 000000   000000 000000   000000 000000    ................
   0     014*  000000 000000   000000 000000   000000 000000   000000 000000    ................

(unnamed)
 Sect OctLoc
   2     000   777377 777777                                                    ....
      359     5970
      360     5971    2   END DD_REMOVE_FROM_DECKFILE ;
      361     5972    1   END TOU$DELDECK ;

PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:44   
--  Include file information  --

   XU_MACRO_C.:E05TOU  is referenced.
   TO_PERR_C.:E05TOU  is referenced.
   TOU_RQSTS_E.:E05TOU  is referenced.
   TOU_DEER_M.:E05TOU  is referenced.
      No diagnostics issued in procedure TOU$DELDECK.
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:45   

 **** Procedure blocks ****

LB#    Line#s    #stmts #vars Sect# OctLoc  P A C   NP Lvl/name
  0    35-  5972    101    50     1      0  y   y    0   1 TOU$DELDECK
  1  5666-  5679      9     0     1     54  y   y    0     2 DD_INIT_DUP
  2  5697-  5808     17     9     1     73  y y y    0     2 DD_COMMAND_SETUP
  3  5821-  5834      7     0     1    166  y y y    0     2 DD_FIND_DECK
  4  5853-  5868      9     0     1    206  y y y    0     2 DD_REMEMBER_REFLIST
  5  5889-  5911     14     1     1    234  y y y    0     2 DD_REMOVE_FROM_CATALOGS
  6  5940-  5971     25     0     1    310  y y y    0     2 DD_REMOVE_FROM_DECKFILE
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:46   

    **** Executable statements  ****

  Exec cost Stmt Sec OctLoc Type   LB Label              Exec cost Stmt Sec OctLoc Type   LB Label

              35   1      0 Proc    0                              5627   1      2 Call    0
            5628   1      4 Call    0                              5629   1      6 Call    0
            5631   1     11 Call    0                              5632   1     14 Call    0
            5633   1     16 Call    0                              5634   1     20 Assign  0
            5635   1     22 Call    0                              5636   1     24 Call    0
            5637   1     26 Call    0                              5640   1     31 Assign  0
            5641   1     33 Call    0                              5642   1     36 Assign  0
            5643   1     40 Return  0                              5646   1     41 Assign  0 ERROR_RETURN
            5647   1     43 Call    0                              5648   1     46 Assign  0
            5649   1     50 Call    0                              5650   1     53 Return  0
            5666   1     54 Proc    1                              5670   1     55 Assign  1
            5671   1     57 Assign  1                              5672   1     61 Assign  1
            5673   1     63 Assign  1                              5674   1     65 Assign  1
            5675   1     67 Assign  1                              5676   1     71 Assign  1
            5677   1     72 Return  1                              5697   1     73 Proc    2
            5787   1     74 DoIndx  2                           $  5788   1     76 Assign  2
      $$$$  5789   1    102 DoCase  2                              5790   1    117 Case    2
         $  5791   1    117 Assign  2                              5792   1    126 Case    2
            5793   1    126 Assign  2                           $  5794   1    130 Assign  2
            5795   1    136 Assign  2                              5796   1    141 Call    2
            5797   1    144 EndCse  2                          $$  5798   1    144 EndInd  2
            5800   1    155 If      2                              5802   1    157 Call    2
            5803   1    162 Return  2                              5806   1    164 Altret  2 ERROR
            5821   1    166 Proc    3                              5825   1    167 Assign  3
            5826   1    172 Call    3                              5827   1    175 Return  3
            5830   1    177 Assign  3 NOT_FOUND                    5831   1    201 Call    3
            5832   1    204 Altret  3                              5853   1    206 Proc    4
            5857   1    207 Call    4                              5858   1    212 Assign  4
            5859   1    214 Assign  4                              5860   1    217 Call    4
            5861   1    222 Assign  4                              5862   1    225 Call    4
            5863   1    230 Return  4                              5866   1    232 Altret  4 ERROR
            5889   1    234 Proc    5                              5895   1    235 Call    5
            5896   1    240 Assign  5                              5897   1    243 DoIndx  5
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:47   
         $  5898   1    245 Assign  5                              5899   1    252 Call    5
            5900   1    255 Assign  5                              5901   1    260 Call    5
            5902   1    263 Assign  5                           $  5903   1    266 Assign  5
            5904   1    273 Call    5                              5905   1    276 EndInd  5
            5906   1    304 Return  5                              5909   1    306 Altret  5 ERROR
            5940   1    310 Proc    6                              5944   1    311 If      6
            5945   1    313 Do      6                              5946   1    313 Assign  6
            5947   1    316 Assign  6                              5948   1    321 Assign  6
            5949   1    324 Call    6                              5950   1    327 Call    6
            5951   1    332 Assign  6                              5952   1    334 Assign  6
            5953   1    337 Assign  6                              5954   1    342 Assign  6
            5955   1    345 Call    6                              5956   1    350 Call    6
            5957   1    353 Assign  6                              5958   1    355 Call    6
            5959   1    360 Call    6                              5960   1    363 EndDo   6
            5961   1    364 Do      6                              5962   1    364 Assign  6
            5963   1    366 Assign  6                              5964   1    370 Call    6
            5965   1    373 EndDo   6                              5966   1    373 Return  6
            5969   1    375 Altret  6 ERROR

  **** Statement type totals  ****

    37 Assign    30 Call       2 If         2 Case       8 Return     5 Altret
     2 DoIndx     1 DoCase     2 Do         2 EndInd     1 EndCse     2 EndDo
     7 Proc       6 Labels

 # major stmts=   85 Code/major= 3.00 # stmts=  101 Code/stmt= 2.52  Point total=100.4
 Cost/major stmt=  2.4 Cost/stmt=  2.0 Total cost=    209.6

   0-4  $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
   4-6  $$$$$
   6-8  $
  8-10
 10-12  $
 12-14
 14-16
 16-18
 18-20
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:48   
 20-22
 22-??
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:49   

 **** Variables and constants ****

  ****  Section 000  Data  TOU$DELDECK

  ****  Structures  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(576)   r     1 SAVED_REFLIST
     0-0-0/b UBIN        r         2 NUM_REFS
     1-0-0/b STRC        r         2 REFS(0:14)
     1-0-0/b UBIN(18)    r          3 ME#
     1-2-0/b UBIN(18)    r          3 CE#


  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     5-0-0/w UBIN        r     1 I                          5-0-0/w UBIN        r     1 OUTBLK#
     6-0-0/w PTR         r     1 OUTBLK$                    3-0-0/h UBIN(18)    r     1 SAVED_DECK#

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(576)   r     1 OBJECT_REFLIST_DATA

  ****  Structures  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c STRC(45)    r     1 BINARY_KEY
     0-1-0/b UBIN(18)    r         2 DECK#

     0-0-0/w STRC(72)    r     1 CATALOG_DATA
     0-0-0/b UBIN(18)    r         2 DECK#
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:50   

     0-0-0/c STRC(45)    r     1 CATALOG_ENTRY_KEY
     0-1-0/b UBIN(18)    r         2 DECK#
     0-3-0/b UBIN(18)    r         2 ENTRY#

     0-0-0/w STRC(216)   r     1 CATALOG_KEY
     0-1-0/c CHAR(21)    r         2 DATA

     0-0-0/c STRC(189)   r     1 CATALOG_SEARCH_KEY
     0-0-0/c CHAR(21)    r         2 DATA

     0-0-0/d STRC(5220)  r     1 DUP
    17-0-0/w PTR         r         2 CMD$
    20-0-0/w UBIN        r         2 MSG_CODE
    21-0-0/w UBIN        r         2 HDR_CODE
    26-0-0/c CHAR        r         2 LINE_VFC
    56-0-0/c BIT         r         2 FORCE_NEW_PAGE
   104-0-0/w STRC(504)   r         2 DF
   104-0-0/c BIT         r          3 ENTERED
   104-2-0/c BIT         r          3 REPORT_ERROR
   105-0-0/w UBIN        r          3 OPEN_TYPE
   106-0-0/w UBIN        r          3 CLOSE_TYPE
   122-0-0/w STRC(432)   r         2 LOG
   122-0-0/w UBIN        r          3 TYPE
   123-0-0/c CHAR(21)    r          3 CATALOG
   130-1-0/c CHAR(23)    r          3 DECK
   142-0-0/c CHAR(40)    r         2 HOLD_AREA
   154-0-0/w UBIN        r         2 HOLD_AREA_LGTH
   155-1-0/c BIT         r         2 BREAK_DISABLED

     0-0-0/w STRC(72)    r     1 MASTER_DATA
     0-0-0/b UBIN(18)    r         2 DECK#
     0-2-0/b UBIN(18)    r         2 ENTRY_COUNT

     0-0-0/c STRC(45)    r     1 MASTER_ENTRY_KEY
     0-1-0/b UBIN(18)    r         2 DECK#
     0-3-0/b UBIN(18)    r         2 ENTRY#
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:51   

     0-0-0/w STRC(864)   r     1 OBJECT
    24-0-0/b UBIN(18)    r         2 DECK#

     0-0-0/w STRC(216)   r     1 OBJECT_KEY
     0-1-0/c CHAR(23)    r         2 DATA

     0-0-0/c STRC(45)    r     1 OBJECT_REFLIST_KEY
     0-1-0/b UBIN(18)    r         2 DECK#

     0-0-0/c STRC(207)   r     1 OBJECT_SEARCH_KEY
     0-0-0/c CHAR(23)    r         2 DATA


  ****  BASED and DCB variables  ****

  ****  Structures  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(144)   r     1 OUT$BLK
     0-2-0/h UBIN(18)    r         2 CODE
     1-0-0/h UBIN(18)    r         2 NSUBLKS
     3-0-0/b PTR         r         2 SUBLK$(0:0)

     0-0-0/w ASTR(153)   r     1 OUT$SYM
     4-0-0/c UBIN(9)     r         2 COUNT
     4-1-0/c ACHR        r         2 TEXT



   Procedure TOU$DELDECK requires 255 words for executable code.
   Procedure TOU$DELDECK requires 8 words of local(AUTO) storage.

    No errors detected in file TOU$DELDECK.:E05TSI    .
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:52   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:53   
          MINI XREF LISTING

BINARY_KEY.DECK#
      5427**DCL      5947<<ASSIGN
CATALOG_DATA.DECK#
      5372**DCL      5902>>ASSIGN
CATALOG_ENTRY_KEY.DECK#
      5387**DCL      5902<<ASSIGN
CATALOG_ENTRY_KEY.ENTRY#
      5388**DCL      5903<<ASSIGN
CATALOG_KEY.DATA
      5401**DCL      5900>>ASSIGN
CATALOG_SEARCH_KEY.DATA
      5414**DCL      5900<<ASSIGN
DD_COMMAND_SETUP
      5697**PROC     5628--CALL
DD_FIND_DECK
      5821**PROC     5632--CALL
DD_INIT_DUP
      5666**PROC     5627--CALL
DD_REMEMBER_REFLIST
      5853**PROC     5633--CALL
DD_REMOVE_FROM_CATALOGS
      5889**PROC     5635--CALL
DD_REMOVE_FROM_DECKFILE
      5940**PROC     5636--CALL
DUP.BREAK_DISABLED
      5348**DCL      5634<<ASSIGN   5642<<ASSIGN   5646<<ASSIGN
DUP.CMD$
      5246**DCL      5787>>DOINDEX  5788>>ASSIGN
DUP.DF.CLOSE_TYPE
      5314**DCL      5676<<ASSIGN   5962<<ASSIGN
DUP.DF.ENTERED
      5306**DCL      5673<<ASSIGN   5793<<ASSIGN   5800>>IF
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:54   
DUP.DF.OPEN_TYPE
      5312**DCL      5674<<ASSIGN
DUP.DF.REPORT_ERROR
      5310**DCL      5675<<ASSIGN
DUP.FORCE_NEW_PAGE
      5270**DCL      5672<<ASSIGN
DUP.HDR_CODE
      5251**DCL      5670<<ASSIGN
DUP.HOLD_AREA
      5341**DCL      5794<<ASSIGN   5954<<ASSIGN
DUP.HOLD_AREA_LGTH
      5343**DCL      5795<<ASSIGN
DUP.LINE_VFC
      5260**DCL      5671<<ASSIGN
DUP.LOG.CATALOG
      5324**DCL      5952<<ASSIGN
DUP.LOG.DECK
      5326**DCL      5953<<ASSIGN
DUP.LOG.TYPE
      5322**DCL      5951<<ASSIGN
DUP.LOG_V
      5328**DCL      5333--REDEF
DUP.MSG_CODE
      5249**DCL      5640<<ASSIGN   5648<<ASSIGN   5830<<ASSIGN   5957<<ASSIGN   5963<<ASSIGN
ERROR IN PROCEDURE DD_COMMAND_SETUP
      5806**LABEL    5796--CALLALT  5802--CALLALT
ERROR IN PROCEDURE DD_REMEMBER_REFLIST
      5866**LABEL    5857--CALLALT  5860--CALLALT  5862--CALLALT
ERROR IN PROCEDURE DD_REMOVE_FROM_CATALOGS
      5909**LABEL    5895--CALLALT  5899--CALLALT  5901--CALLALT  5904--CALLALT
ERROR IN PROCEDURE DD_REMOVE_FROM_DECKFILE
      5969**LABEL    5949--CALLALT  5950--CALLALT  5955--CALLALT  5956--CALLALT
ERROR_RETURN
      5646**LABEL    5628--CALLALT  5631--CALLALT  5632--CALLALT  5633--CALLALT  5635--CALLALT  5636--CALLALT
      5637--CALLALT
I IN PROCEDURE DD_REMOVE_FROM_CATALOGS
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:55   
      5891**DCL      5897<<DOINDEX  5898>>ASSIGN   5903>>ASSIGN
MASTER_DATA.DECK#
      5440**DCL      5896>>ASSIGN
MASTER_DATA.ENTRY_COUNT
      5441**DCL      5944>>IF
MASTER_ENTRY_KEY.DECK#
      5455**DCL      5896<<ASSIGN
MASTER_ENTRY_KEY.ENTRY#
      5456**DCL      5898<<ASSIGN
NOT_FOUND IN PROCEDURE DD_FIND_DECK
      5830**LABEL    5826--CALLALT
OBJECT.BCD
      5468**DCL      5490--REDEF    5513--REDEF
OBJECT.DECK#
      5514**DCL      5858>>ASSIGN   5859>>ASSIGN
OBJECT.NIO_BCD.X_OF_N
      5501**DCL      5506--REDEF
OBJECT_KEY.DATA
      5532**DCL      5825<<ASSIGN   5946<<ASSIGN   5953>>ASSIGN
OBJECT_REFLIST_DATA
      5557**DCL      5861>>ASSIGN
OBJECT_REFLIST_KEY.DECK#
      5545**DCL      5859<<ASSIGN   5948<<ASSIGN
OBJECT_SEARCH_KEY.DATA
      5589**DCL      5791<<ASSIGN   5825>>ASSIGN   5946>>ASSIGN
OUT$BLK.CODE IN PROCEDURE DD_COMMAND_SETUP
      5715**DCL      5789>>DOCASE
OUT$BLK.NSUBLKS IN PROCEDURE DD_COMMAND_SETUP
      5719**DCL      5787>>DOINDEX
OUT$BLK.SUBLK$ IN PROCEDURE DD_COMMAND_SETUP
      5740**DCL      5788>>ASSIGN
OUT$SYM.COUNT IN PROCEDURE DD_COMMAND_SETUP
      5776**DCL      5779--IMP-SIZ  5791>>ASSIGN   5794>>ASSIGN   5795>>ASSIGN
OUT$SYM.TEXT IN PROCEDURE DD_COMMAND_SETUP
      5779**DCL      5791>>ASSIGN   5794>>ASSIGN
OUTBLK# IN PROCEDURE DD_COMMAND_SETUP
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:56   
      5699**DCL      5787<<DOINDEX  5788>>ASSIGN
OUTBLK$ IN PROCEDURE DD_COMMAND_SETUP
      5700**DCL      5788<<ASSIGN   5789>>DOCASE   5791>>ASSIGN   5791>>ASSIGN   5794>>ASSIGN   5794>>ASSIGN
      5795>>ASSIGN
SAVED_DECK#
      5594**DCL      5858<<ASSIGN   5947>>ASSIGN   5948>>ASSIGN
SAVED_REFLIST
      5573**DCL      5861<<ASSIGN
SAVED_REFLIST.NUM_REFS
      5574**DCL      5897>>DOINDEX
SAVED_REFLIST.REFS.CE#
      5577**DCL      5903>>ASSIGN
SAVED_REFLIST.REFS.ME#
      5576**DCL      5898>>ASSIGN
TOU$DFU_DF_CHECK_FOR_KEY
      5613**DCL-ENT  5826--CALL
TOU$DFU_DF_DL_DECK
      5614**DCL-ENT  5949--CALL
TOU$DFU_DF_RD_CATALOG_CONTROL
      5608**DCL-ENT  5901--CALL
TOU$DFU_DF_RD_LOG
      5611**DCL-ENT  5862--CALL
TOU$DFU_DF_RD_MASTER_CONTROL
      5606**DCL-ENT  5895--CALL
TOU$DFU_DF_RD_MASTER_ENTRY
      5607**DCL-ENT  5899--CALL
TOU$DFU_DF_RD_OBJECT
      5609**DCL-ENT  5857--CALL
TOU$DFU_DF_RD_OBJECT_REFLIST
      5610**DCL-ENT  5860--CALL
TOU$DFU_DF_WR_LOG
      5617**DCL-ENT  5956--CALL
TOU$DFU_DF_WR_MASTER_CONTROL
      5616**DCL-ENT  5950--CALL
TOU$DU_CLOSE_DF
      5600**DCL-ENT  5637--CALL     5647--CALL
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:57   
TOU$DU_OPEN_DF
      5599**DCL-ENT  5631--CALL
TOU$DU_PRINTER_WRITE
      5603**DCL-ENT  5959--CALL
TOU$DU_SET_DF_FID
      5598**DCL-ENT  5796--CALL     5802--CALL
TOU$DU_UPDATE_LOG
      5604**DCL-ENT  5955--CALL
TOU$DU_USER_WRITE
      5602**DCL-ENT  5641--CALL     5649--CALL     5831--CALL     5958--CALL     5964--CALL
TOU$L_SHOW_DCB
      5621**DCL-ENT  5629--CALL
TOU$RR_REMOVE_FROM_CATALOG
      5619**DCL-ENT  5904--CALL
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:58   
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:59   
              FULL UREF LISTING

BINARY_KEY
      5425**DCL
BINARY_KEY.ENTRY#
      5428**DCL
BINARY_KEY.SIZE
      5426**DCL
CATALOG_DATA
      5371**DCL
CATALOG_DATA.ENTRY_COUNT
      5373**DCL
CATALOG_DATA.RFU
      5374**DCL
CATALOG_ENTRY_KEY
      5385**DCL
CATALOG_ENTRY_KEY.SIZE
      5386**DCL
CATALOG_KEY
      5399**DCL
CATALOG_KEY.DECK#
      5402**DCL
CATALOG_KEY.SIZE
      5400**DCL
CATALOG_SEARCH_KEY
      5413**DCL
DUP
      5228**DCL
DUP.BATCH_MODE
      5230**DCL
DUP.BCD_V
      5299**DCL
DUP.BCD_V.PTR$
      5302**DCL
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:60   
DUP.BINARY_V
      5294**DCL
DUP.BINARY_V.PTR$
      5297**DCL
DUP.BOTTOM_LINE#
      5266**DCL
DUP.BREAK_RETURN
      5350**DCL
DUP.BREAK_TERMINATE
      5346**DCL
DUP.CPU_TYPE
      5359**DCL
DUP.CURRENT_LINE#
      5264**DCL
DUP.CURRENT_PAGE#
      5262**DCL
DUP.DF
      5305**DCL
DUP.DF.FID
      5316**DCL
DUP.DF.FID_LGTH
      5318**DCL
DUP.DF.NO_EXIST
      5308**DCL
DUP.DS_V
      5239**DCL
DUP.ERROR_IMAGE
      5268**DCL
DUP.FAULT_ERROR
      5234**DCL
DUP.IFAD
      5273**DCL
DUP.IFAD.CONFIG_TAB
      5282**DCL
DUP.IFAD.DEVICE_INPUT
      5278**DCL
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:61   
DUP.IFAD.DRIVE_NUMBER
      5288**DCL
DUP.IFAD.ENTERED
      5276**DCL
DUP.IFAD.FID
      5290**DCL
DUP.IFAD.FID_LGTH
      5292**DCL
DUP.IFAD.IMU_NUMBER
      5286**DCL
DUP.IFAD.IMU_TAB
      5280**DCL
DUP.IFAD.ME_ALLOWED
      5274**DCL
DUP.IFAD.NUM_VOLUMES
      5284**DCL
DUP.LOG
      5321**DCL
DUP.LOG_V.PTR$
      5331**DCL
DUP.LOG_V_
      5333**DCL
DUP.MSG_V
      5255**DCL
DUP.MSG_V.PTR$
      5258**DCL
DUP.NUM_LINES
      5253**DCL
DUP.NUM_WORDS
      5237**DCL
DUP.PROCESS_COMPLETE
      5232**DCL
DUP.RESPONSE
      5242**DCL
DUP.RESPONSE_LGTH
      5244**DCL
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:62   
DUP.SITE_ID
      5357**DCL
DUP.SITE_NAME
      5352**DCL
DUP.SITE_NAME.LGTH
      5353**DCL
DUP.SITE_NAME.TEXT
      5355**DCL
DUP.TEMP
      5335**DCL
DUP.TEMP.CLOSE_TYPE
      5338**DCL
DUP.TEMP.OPEN_TYPE
      5336**DCL
MASTER_DATA
      5439**DCL
MASTER_DATA.RFU
      5442**DCL
MASTER_ENTRY_KEY
      5453**DCL
MASTER_ENTRY_KEY.SIZE
      5454**DCL
OBJECT
      5467**DCL
OBJECT.BCD.ASSEMBLER
      5485**DCL
OBJECT.BCD.CLASS
      5473**DCL
OBJECT.BCD.CONTROL
      5469**DCL
OBJECT.BCD.DATE
      5487**DCL
OBJECT.BCD.DONT_APPLY
      5474**DCL
OBJECT.BCD.DONT_APPLY.CP6
      5476**DCL
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:63   
OBJECT.BCD.DONT_APPLY.DPS8000
      5479**DCL
OBJECT.BCD.DONT_APPLY.DPS90
      5478**DCL
OBJECT.BCD.FILENAME
      5483**DCL
OBJECT.BCD.GECALL
      5486**DCL
OBJECT.BCD.LBL
      5488**DCL
OBJECT.BCD.LIBRARY
      5471**DCL
OBJECT.BCD.LOAD_TYPE
      5472**DCL
OBJECT.BCD.MODEL
      5482**DCL
OBJECT.BCD.SEQ
      5489**DCL
OBJECT.BCD.TYPE
      5470**DCL
OBJECT.BCD_
      5513**DCL
OBJECT.BINARY_COUNT
      5515**DCL
OBJECT.CHECKSUM
      5519**DCL
OBJECT.DECK_CHECKSUM
      5518**DCL
OBJECT.LOAD_SIZE
      5517**DCL
OBJECT.NIO_BCD
      5490**DCL
OBJECT.NIO_BCD.ASSEMBLER
      5507**DCL
OBJECT.NIO_BCD.CLASS
      5495**DCL
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:64   
OBJECT.NIO_BCD.CONTROL
      5491**DCL
OBJECT.NIO_BCD.DATA
      5497**DCL
OBJECT.NIO_BCD.EQUIP_TYPE
      5499**DCL
OBJECT.NIO_BCD.FILE_NAME
      5500**DCL
OBJECT.NIO_BCD.LBL
      5511**DCL
OBJECT.NIO_BCD.LIBRARY
      5493**DCL
OBJECT.NIO_BCD.LOAD_TYPE
      5494**DCL
OBJECT.NIO_BCD.PRD_NUM_TAB
      5508**DCL
OBJECT.NIO_BCD.PRG_NUM_TAB
      5509**DCL
OBJECT.NIO_BCD.SEQ
      5512**DCL
OBJECT.NIO_BCD.TYPE
      5492**DCL
OBJECT.NIO_BCD.X_OF_N.N
      5505**DCL
OBJECT.NIO_BCD.X_OF_N.X
      5503**DCL
OBJECT.NIO_BCD.X_OF_N_
      5506**DCL
OBJECT.TOTAL_COUNT
      5516**DCL
OBJECT_KEY
      5530**DCL
OBJECT_KEY.SIZE
      5531**DCL
OBJECT_REFLIST_DATA.NUM_REFS
      5558**DCL
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:65   
OBJECT_REFLIST_DATA.REFS
      5559**DCL
OBJECT_REFLIST_DATA.REFS.CE#
      5561**DCL
OBJECT_REFLIST_DATA.REFS.ME#
      5560**DCL
OBJECT_REFLIST_KEY
      5543**DCL
OBJECT_REFLIST_KEY.ENTRY#
      5546**DCL
OBJECT_REFLIST_KEY.SIZE
      5544**DCL
OBJECT_SEARCH_KEY
      5588**DCL
OUT$BLK IN PROCEDURE DD_COMMAND_SETUP
      5707**DCL
OUT$BLK.CPOS IN PROCEDURE DD_COMMAND_SETUP
      5733**DCL
OUT$BLK.NDTYPE IN PROCEDURE DD_COMMAND_SETUP
      5710**DCL
OUT$BLK.SCRITCH IN PROCEDURE DD_COMMAND_SETUP
      5723**DCL
OUT$BLK.TEMP IN PROCEDURE DD_COMMAND_SETUP
      5708**DCL
OUT$SYM IN PROCEDURE DD_COMMAND_SETUP
      5753**DCL
OUT$SYM.CODE IN PROCEDURE DD_COMMAND_SETUP
      5759**DCL
OUT$SYM.CPOS IN PROCEDURE DD_COMMAND_SETUP
      5768**DCL
OUT$SYM.NDTYPE IN PROCEDURE DD_COMMAND_SETUP
      5756**DCL
OUT$SYM.NSUBLKS IN PROCEDURE DD_COMMAND_SETUP
      5762**DCL
OUT$SYM.SCRITCH IN PROCEDURE DD_COMMAND_SETUP
      5765**DCL
PL6.E3A0      #001=TOU$DELDECK File=TOU$DELDECK.:E05TSI                          WED 07/30/97 06:41 Page:66   
OUT$SYM.TEMP IN PROCEDURE DD_COMMAND_SETUP
      5754**DCL
OUT$SYM.TEXTC$ IN PROCEDURE DD_COMMAND_SETUP
      5771**DCL
SAVED_REFLIST.REFS
      5575**DCL
TOU$DELDECK
        35**PROC

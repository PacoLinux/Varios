VERSION A06

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:1    
        1        1        /*M*  Z8JS$START_TREEWALKER                                                     */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7
        8        8        Z8JS$START_TREEWALKER: PROC;
        9        9
       10       10        /*P*
       11       11
       12       12                   NAME: Z8JS$START_TREEWALKER
       13       13                PURPOSE:  To search the ILL table for the line number requested
       14       14                          and pass a pointer to that line number to the Tree
       15       15                          Walker routine.
       16       16        */
       17       17        /*D*
       18       18                   NAME: Z8JS$START_TREEWALKER
       19       19                   CALL:   CALL Z8JS$START_TREEWALKER;
       20       20
       21       21              INTERFACE:     1) FIND_TREE            -- Internal
       22       22                             2) INTERACTIVE_TREES    -- Internal
       23       23                             3) SCAN_LINE            -- Internal
       24       24                             4) Z8JW$WALK_TREE       -- Traverses and outputs the trees.
       25       25                             5) Z9AL$DUMP_LINE       -- Prints OBUF to the LO file.
       26       26                             6) Z9AL$FORM_FEED       -- Prints a form feed to the LO file.
       27       27                             7) Z9AL$WRITE_BLANK_LINE -- Prints a blank line.
       28       28                             8) Z9AL$WRITE_TERMINAL  -- Interactive write.
       29       29                             9) Z9AL$READ_TERMINAL   -- Interactive read.
       30       30                             8) X8CO$CONV_TO_OCTAL   -- Convert an address to octal.
       31       31                            11) Z9JS$SCAN_POINTER    -- Builds a valid pointer.
       32       32                            13) Z9AP$BRING_IN_PHASE  -- Calling routine.
       33       33
       34       34
       35       35                  INPUT:   COMCOM.LINE#S  -- Array of line numbers and/or pointers.
       36       36                           COMCOM.OB.IT   -- Interactive tree option bit.
       37       37                           USER INPUT     -- Directly from user's terminal.
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:2    
       38       38
       39       39                 OUTPUT:   Compiler INVOCATION LINE AND
       40       40                            HEADING LINE FOR EACH TREE
       41       41
       42       42                SCRATCH: NONE
       43       43              REFERENCE:
       44       44        */
       45       45        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:3    
       46       46            %SET PHASE = 6;
       47       47
       48       48            %INCLUDE Z8A_DEFC;
       49      116            %INCLUDE Z8A_COMCOM;
       50      766            %INCLUDE Z8A_SUPP_MAC;
       51     3166            %INCLUDE Z8A_DNT;
       52     3387            %INCLUDE Z8A_ILL;
       53     4080            %INCLUDE Z8A_ILS;
       54     4189            %INCLUDE Z8A_ETT;
       55     4490
       56     4491    1       DCL Z9AL$FORM_FEED       ENTRY;
       57     4492    1       DCL Z9AL$DUMP_LINE       ENTRY;
       58     4493    1       DCL Z9AL$WRITE_BLANK_LINE      ENTRY;
       59     4494    1       DCL Z8JW$WALK_TREE       ENTRY(3);
       60     4495    1       DCL Z9JW$CHECK_PTR       ENTRY(1) ALTRET;
       61     4496    1       DCL X8CO$CONV_TO_OCTAL   ENTRY(2);
       62     4497    1       DCL Z9AL$WRITE_TERMINAL_VFC  ENTRY;
       63     4498    1       DCL Z9AL$WRITE_TERMINAL  ENTRY;
       64     4499    1       DCL Z9AL$READ_TERMINAL   ENTRY;
       65     4500    1       DCL Z9JS$SCAN_POINTER    ENTRY(1);
       66     4501    1       DCL Z9JS$START           ENTRY(1);
       67     4502    1       DCL Z8JW$ABSTRACT_TREES  ENTRY(3);
       68     4503    1       DCL Z8JT$ONLINE_TABLE_DUMP ENTRY(1);
       69     4504
       70     4505
       71     4506
       72     4507    1       DCL LIST_INDEX      SBIN WORD;     /* LINE#S INDEX */
       73     4508    1       DCL PRINT_ARG       SBIN WORD;
       74     4509    1       DCL OBUF            CHAR(120) EXT;
       75     4510    1       DCL INBUF           CHAR(80)  EXT;
       76     4511    1       DCL TEMP$           PTR;
       77     4512    1       DCL PTR_LEN         SBIN WORD;
       78     4513    1       DCL TREE_WALKING_POINTERS   BIT(1) ALIGNED;
       79     4514    1       DCL TREE_WALKING_LINES      BIT(1) ALIGNED;
       80     4515    1       DCL TABLE_DUMPING           BIT(1);
       81     4516    1       DCL USER_QUITS              BIT(1) ALIGNED;
       82     4517    1       DCL DNT_DUMPING             BIT(1) ALIGNED;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:4    
       83     4518    1       DCL LENGTH                  SBIN;
       84     4519    1       DCL ERROR                   BIT(1);
       85     4520    1       DCL LINE#S (0:999)          SBIN WORD;
       86     4521    1       DCL ARG#                    SBIN WORD;      /* Index for LINE#S  */
       87     4522    1       DCL LINE_NO                 SBIN WORD;
       88     4523    1       DCL P$                PTR;
       89     4524    1       DCL PTR_ABORT               BIT(1) EXT INIT(FALSE);
       90     4525    1       DCL CCOSU_OFF                BIT(1) EXT INIT(FALSE);
       91     4526         %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:5    
       92     4527        %MACRO SET_ILL$;
       93     4528          DO;
       94     4529            ILL$ = ILS$->ILS.ILL$;
       95     4530            DO WHILE ( ILL$ = ADDR(NIL) );
       96     4531              ILS$ = ILS$->ILS.NEXT;
       97     4532              ILL$ = ILS$->ILS.ILL$;
       98     4533            END; /* while */
       99     4534          END; /* macro */
      100     4535        %MEND;
      101     4536        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:6    
      102     4537        %MACRO SET_ILS$_ILL$;
      103     4538          DO;
      104     4539            IF ILL$ -> ILL.ID = %CCOSU OR
      105     4540                ILL$ -> ILL.ID = %EVALP THEN
      106     4541              ILL$ = ILL$ -> CCOSU.ILL$;
      107     4542            ELSE
      108     4543              DO;
      109     4544                ILS$ = ILS$-> ILS.NEXT;
      110     4545                IF ILS$ ~= ADDR(NIL) THEN
      111     4546                  %SET_ILL$;
      112     4547                ELSE
      113     4548                  ILL$ = ADDR(NIL);
      114     4549              END;
      115     4550          END;
      116     4551        %MEND;
      117     4552        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:7    
      118     4553
      119     4554            /*V*     CHECK THE INTERACTIVE TREE BIT FOR INTERACTIVE CALS */
      120     4555
      121     4556    1       IF COMCOM.OB.IT THEN
      122     4557    2         DO;
      123     4558    2           CALL Z8JS$ONLINE_TREES;
      124     4559    2           RETURN;
      125     4560    2         END;
      126     4561
      127     4562            /*   IF NOT INTERACTIVE THEN NORMAL PROCESSING BEGIN HERE  */
      128     4563
      129     4564        /*
      130     4565               Start break control
      131     4566        */
      132     4567    1       CALL Z9JS$START( ENTADDR( Z8JS$ONLINE_TREES ) );
      133     4568
      134     4569    1       OBUF = COMCOM.LINE1;
      135     4570    1       CALL Z9AL$DUMP_LINE;
      136     4571    1       CALL Z9AL$WRITE_BLANK_LINE;
      137     4572    1       IF COMCOM.TREE_LINE  ~=  ' ' THEN
      138     4573    2         DO;
      139     4574    2           INBUF = COMCOM.TREE_LINE;
      140     4575    2           CALL SCAN_LINE( LINE#S );
      141     4576    2           CALL PRINT_TREES( LINE#S );
      142     4577    2         END;
      143     4578    1       RETURN;
      144     4579        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:8    
      145     4580    1   PHASE2_3_LINES: PROC(LINE#S);
      146     4581
      147     4582            /*V*   IN THIS CASE A LINE NUMBER WAS FOUND.  NOW, SEARCH THE
      148     4583                   ILL TABLE FOR THE LINOI CONTAINING THAT LINE NUMBER
      149     4584                   AND CALL FIND_TREES TO PRINT ALL THE TREE FOR THAT LINE
      150     4585                   NUMBER.
      151     4586            */
      152     4587    2       DCL LINE_NO           SBIN WORD;
      153     4588    2       DCL LINE#S(0:999)     SBIN WORD;
      154     4589    2       DCL LINE#_NOT_FOUND   BIT(1);
      155     4590    2       DCL STRING            CHAR(80);
      156     4591    2       DCL I                 SBIN WORD;
      157     4592
      158     4593        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:9    
      159     4594
      160     4595    3       DO I = 0 TO ARG# - 1;
      161     4596    3         LINE_NO = LINE#S( I );
      162     4597              %TOP_ILL  ( POINTER = ILL$ );
      163     4602    3       LINE#_NOT_FOUND = TRUE;
      164     4603
      165     4604    4             DO WHILE  ( ILL$ ~= ADDR(NIL)  );
      166     4605    4               IF ILL$ -> ILL.ID = %LINOI THEN
      167     4606    4                 IF ILL$ -> LINOI.LINE_NO = LINE_NO THEN
      168     4607    5                   DO;
      169     4608                          %STEP_ILL  ( POINTER = ILL$ );
      170     4619    5                     CALL PHASE2_3_TREES ( LINE_NO );
      171     4620    5                     LINE#_NOT_FOUND = FALSE;
      172     4621    5                   END;
      173     4622    4                 ELSE
      174     4623                        %STEP_ILL  ( POINTER = ILL$ );
      175     4634    4               ELSE
      176     4635                      %STEP_ILL  ( POINTER = ILL$ );
      177     4646
      178     4647    4             END;  /* while */
      179     4648
      180     4649    3           IF LINE#_NOT_FOUND THEN
      181     4650    4             DO;
      182     4651    4               STRING = 'Line        not found.';
      183     4652    4               CALL BINCHAR ( SUBSTR( STRING,5,6 ), LINE_NO );
      184     4653    4               CALL WRITE_OBUF ( STRING,22 );
      185     4654    4             END;
      186     4655
      187     4656    3       END;  /* index ( I to Arg# )  */
      188     4657    2   END PHASE2_3_LINES;  /* proc */
      189     4658        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:10   
      190     4659    1     PHASE2_3_TREES: PROC( LINE_NO );
      191     4660
      192     4661        /*  WE HAVE A GOOD LINE#, PROCESS UNTIL WE GET DIFFERENT OR
      193     4662            ILL$ = NIL */
      194     4663
      195     4664    2       DCL PRINT_ARG UBIN WORD;
      196     4665    2       DCL LINE_NO   UBIN WORD;
      197     4666        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:11   
      198     4667
      199     4668    3     LOOP:   DO WHILE ILL$ ~= ADDR(NIL);
      200     4669    3               IF ILL$ -> ILL.ID ~= %LINOI THEN
      201     4670    3                 IF ILL$-> ILL.ID ~= %END THEN
      202     4671    4                   DO;
      203     4672    4                     CALL LINE_NO_HEADING ( LINE_NO );
      204     4673    4                     PRINT_ARG = 0;          /* START AT 0 FOR EACH TREE */
      205     4674    4                     CALL Z8JW$WALK_TREE ( ILL$, 2, PRINT_ARG);
      206     4675    4                     CALL Z9AL$FORM_FEED;
      207     4676                          %STEP_ILL ( POINTER = ILL$  );
      208     4687    4                   END;
      209     4688    3                 ELSE
      210     4689    3                   EXIT LOOP;
      211     4690    3               ELSE
      212     4691    3                 IF ILL$ -> LINOI.LINE_NO = 0
      213     4692    3                 OR ILL$ -> LINOI.LINE_NO = LINE_NO THEN
      214     4693                        %STEP_ILL ( POINTER = ILL$  );
      215     4704    3                 ELSE
      216     4705    3                   EXIT LOOP;
      217     4706    3              END; /* while */
      218     4707    2     END PHASE2_3_TREES;  /* proc */
      219     4708        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:12   
      220     4709    1   Z8JS$ONLINE_TREES:  ENTRY;
      221     4710
      222     4711        /*I*  NAME:   INTERACTIVE_TREES
      223     4712                      -----------------
      224     4713
      225     4714                    PROCESS USER REQUESTS FOR TREES INTERACTIVELY, AND
      226     4715              PRINT THEN TO THE USER'S TERMINAL.
      227     4716        */
      228     4717
      229     4718        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:13   
      230     4719        /*V*                BREAK_CONTROL
      231     4720             START BREAK CONTROL FOR INTERACTIVE TREES
      232     4721        */
      233     4722
      234     4723    1       COMCOM.OB.IT = TRUE;
      235     4724    1       CALL Z9JS$START( ENTADDR( Z8JS$ONLINE_TREES ) );
      236     4725
      237     4726            /*V*  PRINT HEADER AND FIRST QUERY */
      238     4727
      239     4728    1       IF NOT PTR_ABORT THEN
      240     4729    2         DO;
      241     4730    2           CALL WRITE_OBUF('Luke Treewalker C00  here ........',35);
      242     4731    2           CALL Z9AL$WRITE_BLANK_LINE;
      243     4732
      244     4733    2         END;
      245     4734    1       USER_QUITS = FALSE;
      246     4735    1       CALL START_ILS$;
      247     4736        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:14   
      248     4737    2       DO WHILE NOT USER_QUITS;
      249     4738    2         IF PTR_ABORT THEN
      250     4739    3          DO;
      251     4740    3            TREE_WALKING_LINES = FALSE;
      252     4741    3            CALL WRITE_OBUF('Access out of segment', 21);
      253     4742    3            PTR_ABORT = FALSE;
      254     4743    3          END;
      255     4744    2         ELSE
      256     4745    3           DO;
      257     4746    3             TREE_WALKING_LINES = TRUE;
      258     4747    3             CALL WRITE_OBUF_VFC( 'Enter line number ',18);
      259     4748    3             CALL Z9AL$READ_TERMINAL;
      260     4749    3             CALL PRE_SCAN( USER_QUITS, TREE_WALKING_LINES );
      261     4750    3           END;
      262     4751
      263     4752    3         DO WHILE ( TREE_WALKING_LINES );
      264     4753    3           CALL SCAN_LINE( LINE#S );
      265     4754    3           IF NOT ERROR THEN
      266     4755    3             IF COMCOM.FIRST_ILS-> ILS.ILL$-> ILL.ID = %END THEN
      267     4756    3               CALL PHASE2_3_TREES( LINE#S );
      268     4757    3             ELSE
      269     4758    3               CALL PRINT_TREES( LINE#S );
      270     4759    3           ELSE
      271     4760    3             CALL WRITE_OBUF('Invalid line number.',20);
      272     4761    3           CALL WRITE_OBUF_VFC('Enter line number ',18);
      273     4762    3           CALL Z9AL$READ_TERMINAL;
      274     4763    3           CALL PRE_SCAN( USER_QUITS, TREE_WALKING_LINES );
      275     4764    3         END;  /* while */
      276     4765        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:15   
      277     4766    2         IF NOT USER_QUITS THEN
      278     4767    3           DO;
      279     4768    3             TREE_WALKING_POINTERS = TRUE;
      280     4769    3             CALL WRITE_OBUF_VFC('Enter pointer,segid (EX: 000000,$LS0).',38);
      281     4770    3             CALL Z9AL$READ_TERMINAL;
      282     4771    3             CALL PRE_SCAN ( USER_QUITS, TREE_WALKING_POINTERS );
      283     4772
      284     4773    4             DO WHILE ( TREE_WALKING_POINTERS );
      285     4774    4               CALL Z9JS$SCAN_POINTER( P$ );
      286     4775    4               IF P$ = ADDR(NIL) THEN
      287     4776    4                 CALL WRITE_OBUF ('Invalid pointer/segid',21);
      288     4777    4               ELSE
      289     4778    5                 DO;
      290     4779    5                   CALL POINTER_HEADING(P$);
      291     4780    5                  PRINT_ARG = 0;
      292     4781    5                  PTR_ABORT = TRUE;
      293     4782    5                  CALL Z8JW$WALK_TREE ( P$, 2, PRINT_ARG );
      294     4783    5                  PTR_ABORT = FALSE;
      295     4784    5                END;
      296     4785    4              CALL WRITE_OBUF_VFC('Enter pointer,segid (ex: 000000,$LS0).',38);
      297     4786    4              CALL Z9AL$READ_TERMINAL;
      298     4787    4              CALL PRE_SCAN ( USER_QUITS, TREE_WALKING_POINTERS );
      299     4788    4             END; /* while */
      300     4789    3           END;
      301     4790        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:16   
      302     4791    2         IF NOT USER_QUITS THEN
      303     4792    3           DO;
      304     4793    3             TABLE_DUMPING = TRUE;
      305     4794    3             CALL WRITE_OBUF_VFC('Enter pointer to item to be dumped.',35);
      306     4795    3             CALL Z9AL$READ_TERMINAL;
      307     4796    3             CALL PRE_SCAN ( USER_QUITS, TABLE_DUMPING );
      308     4797
      309     4798    4             DO WHILE ( TABLE_DUMPING );
      310     4799    4               CALL Z9JS$SCAN_POINTER( P$ );
      311     4800    4               IF P$ = ADDR(NIL) THEN
      312     4801    4                 CALL WRITE_OBUF ('Invalid pointer/segid',21);
      313     4802    4               ELSE
      314     4803    4                  CALL Z8JT$ONLINE_TABLE_DUMP( P$ );
      315     4804    4              CALL WRITE_OBUF_VFC('Enter pointer to item to be dumped.',35);
      316     4805    4              CALL Z9AL$READ_TERMINAL;
      317     4806    4              CALL PRE_SCAN ( USER_QUITS, TABLE_DUMPING );
      318     4807    4             END; /* while */
      319     4808    3           END;
      320     4809
      321     4810
      322     4811        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:17   
      323     4812
      324     4813    2          IF NOT USER_QUITS THEN
      325     4814    3            DO;
      326     4815    3              DNT_DUMPING = TRUE;
      327     4816
      328     4817    3              CALL WRITE_OBUF_VFC ('Enter DNT TEXT of item to be dumped.',36);
      329     4818    3              CALL Z9AL$READ_TERMINAL;
      330     4819    3              CALL PRE_SCAN (USER_QUITS, DNT_DUMPING);
      331     4820
      332     4821    4              DO WHILE (DNT_DUMPING);
      333     4822    4                CALL DNT_SCAN (LENGTH);
      334     4823
      335     4824    4                IF LENGTH = 0 THEN
      336     4825    4                  CALL WRITE_OBUF ('Invalid DNT TEXT.', 16);
      337     4826    4                ELSE
      338     4827    4                  CALL PRINT_ST_FROM_DNT (INBUF, LENGTH);
      339     4828
      340     4829    4                CALL WRITE_OBUF_VFC ('Enter DNT TEXT of item to be dumped.',36);
      341     4830    4                CALL Z9AL$READ_TERMINAL;
      342     4831    4                CALL PRE_SCAN (USER_QUITS, DNT_DUMPING);
      343     4832    4              END; /* While */
      344     4833    3            END; /* If not user_quits */
      345     4834
      346     4835    2       END;  /* until */
      347     4836    1       RETURN;
      348     4837        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:18   
      349     4838    1   DNT_SCAN: PROC (LENGTH);
      350     4839
      351     4840    2        DCL LENGTH        SBIN;
      352     4841    2        DCL TABLEVAL      SBIN;
      353     4842    2        DCL BLANK_SCAN_TABLE     (0:511) UBIN (9) UNAL CONSTANT INIT (
      354     4843    2                                 1*32, 0, 1*479);
      355     4844
      356     4845
      357     4846
      358     4847    2        CALL SEARCHR (LENGTH, TABLEVAL, BLANK_SCAN_TABLE, INBUF);
      359     4848
      360     4849    2        IF LENGTH = 80 THEN
      361     4850    3          DO;
      362     4851    3            LENGTH = 0;
      363     4852    3            RETURN;
      364     4853    3          END;
      365     4854
      366     4855    2        LENGTH = LENGTH + 1;
      367     4856
      368     4857    2   END DNT_SCAN;
      369     4858        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:19   
      370     4859    1   PRINT_ST_FROM_DNT: PROC (STRING, LENGTH);
      371     4860
      372     4861    2        DCL LENGTH        SBIN;
      373     4862    2        DCL STRING        CHAR (LENGTH);
      374     4863    2        DCL DNT$$         PTR;
      375     4864
      376     4865
      377     4866             %TOP_DNT (POINTER = DNT$$);
      378     4871
      379     4872    3        DO WHILE (DNT$$ ~= ADDR(NIL));
      380     4873    3          IF DNT$$ -> DNT.TEXT.LENGTH = LENGTH THEN
      381     4874    3            IF DNT$$ -> DNT.TEXT.NAME = STRING THEN
      382     4875    4              DO;
      383     4876                     /* A Match found, If a ST$ exists, print the item */
      384     4877    4                CALL Z9AL$WRITE_BLANK_LINE;
      385     4878
      386     4879    4                IF DNT$$ -> DNT.ST$ ~= ADDR(NIL) THEN
      387     4880    4                  CALL Z8JT$ONLINE_TABLE_DUMP (DNT$$ -> DNT.ST$);
      388     4881    4                ELSE
      389     4882    4                  CALL WRITE_OBUF ('The ST$ is nil.',14);
      390     4883    4              END;
      391     4884
      392     4885               %STEP_DNT (POINTER = DNT$$);
      393     4895    3        END; /* While */
      394     4896
      395     4897    2   END PRINT_ST_FROM_DNT;
      396     4898        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:20   
      397     4899    1     START_ILS$:  PROC;
      398     4900
      399     4901
      400     4902        /*V*              START_ILS$
      401     4903             Start ILS$ at COMCOM.FIRST _ILS for phases 2-5, but
      402     4904             for phase 1 COMCOM.FIRST _ILS is nil so prompt the user for
      403     4905             the pointer to start ILS$ at.
      404     4906        */
      405     4907
      406     4908    2           ILS$ = COMCOM.FIRST_ILS;
      407     4909
      408     4910    3           DO WHILE( ILS$ = ADDR(NIL) AND NOT USER_QUITS );
      409     4911    3             INBUF = ' ';                   /* Clear INBUF for ils$ */
      410     4912    3             CALL WRITE_OBUF_VFC('Enter ILS$,Segid (Ex: 000000,$LS0).',35);
      411     4913    3             CALL Z9AL$READ_TERMINAL;
      412     4914    3             CALL PRE_SCAN(USER_QUITS, TREE_WALKING_LINES);
      413     4915    3             IF NOT USER_QUITS THEN
      414     4916    4               DO;
      415     4917    4                 CALL Z9JS$SCAN_POINTER( ILS$ );
      416     4918        /*
      417     4919          Z9JP$scan_pointer allows a blank input for tranfers between line#s
      418     4920          and pointers but, blank is not valid here.
      419     4921        */
      420     4922
      421     4923    4                 IF  INBUF = ' ' THEN
      422     4924    4                   ILS$ = ADDR(NIL);
      423     4925    4                 IF ILS$ = ADDR(NIL) THEN
      424     4926    4                   CALL WRITE_OBUF('Invalid pointer/segid',21);
      425     4927    4                 ELSE
      426     4928    4                   CALL Z9JW$CHECK_PTR( ILS$ )
      427     4929    4                   WHENRETURN
      428     4930    5                     DO;
      429     4931    5                       COMCOM.FIRST_ILS = ILS$;
      430     4932    5                     END;
      431     4933    4                   WHENALTRETURN
      432     4934    5                     DO;
      433     4935    5                       CALL WRITE_OBUF('Invalid pointer/segid',21);
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:21   
      434     4936    5                     END;
      435     4937    4               END;
      436     4938    3         END; /* while */
      437     4939    2     END START_ILS$;  /* proc */
      438     4940        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:22   
      439     4941    1   Z8JS$ABSTRACT_TREES:  ENTRY;
      440     4942
      441     4943        /*
      442     4944               Start break and abort control.
      443     4945        */
      444     4946    1       CALL Z9JS$START( ENTADDR( Z8JS$ABSTRACT_TREES ) );
      445     4947
      446     4948    1       USER_QUITS = FALSE;
      447     4949    1       CALL WRITE_OBUF_VFC('Enter pointer,segid (Ex: 000000,$LS0).',38);
      448     4950    1       CALL Z9AL$READ_TERMINAL;
      449     4951    1       CALL PRE_SCAN( USER_QUITS, TREE_WALKING_POINTERS );
      450     4952    2       DO WHILE NOT USER_QUITS;
      451     4953    2         CALL Z9JS$SCAN_POINTER( P$ );
      452     4954    2         IF P$ = ADDR(NIL) THEN
      453     4955    2           CALL WRITE_OBUF('Invalid pointer/segid',21);
      454     4956    2         ELSE
      455     4957    3           DO;
      456     4958
      457     4959    3             CALL WRITE_OBUF_VFC('Lower trees?',12);
      458     4960    3             CALL Z9AL$READ_TERMINAL;
      459     4961    3             OBUF = ' ';
      460     4962    3             IF SUBSTR( INBUF,0,1 ) = 'N' THEN
      461     4963    3               CALL Z8JW$ABSTRACT_TREES( P$, 2, -2);
      462     4964    3             ELSE
      463     4965    3               CALL Z8JW$ABSTRACT_TREES( P$, 3, -2);
      464     4966
      465     4967    3           END;
      466     4968    2       CALL WRITE_OBUF_VFC('Enter pointer,segid (Ex: 000000,$LS0).',38);
      467     4969    2       CALL Z9AL$READ_TERMINAL;
      468     4970    2       CALL PRE_SCAN( USER_QUITS, TREE_WALKING_POINTERS );
      469     4971    2       END;
      470     4972
      471     4973        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:23   
      472     4974    1     SCAN_LINE: PROC (LINE#S);
      473     4975        /*I*    NAME:  SCAN_LINE
      474     4976                       ---------
      475     4977            VERIFY AND BUILD THE LINE NUMBER REQUESTED BY THE
      476     4978            USER .
      477     4979        */
      478     4980
      479     4981
      480     4982    2       DCL I             SBIN WORD;
      481     4983    2       DCL J             SBIN WORD;
      482     4984    2       DCL THRU_CLAUSE   BIT(1);
      483     4985
      484     4986
      485     4987    2       DCL LINE#S(0:999)  SBIN WORD;
      486     4988    2       DCL NUMBER_FOUND  BIT(1);
      487     4989
      488     4990
      489     4991    2       NUMBER_FOUND = FALSE;
      490     4992    2       THRU_CLAUSE  = FALSE;
      491     4993    2       ERROR        = FALSE;
      492     4994    2       ARG#         = 0;
      493     4995    2       J            = 0;
      494     4996        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:24   
      495     4997
      496     4998    3   L:  DO I = 0 TO 79;
      497     4999    4          DO SELECT (SUBSTR (INBUF,I,1) );
      498     5000                             /*  DIGITS ARE VALID FOR LINE NUMBERS SO CONTINUE. */
      499     5001
      500     5002    4            SELECT ( '0', '1', '2', '3', '4', '5', '6', '7', '8', '9' );
      501     5003    4              NUMBER_FOUND = TRUE;
      502     5004                             /*  BLANK IS THE END OF THE LINE NUMBER SO
      503     5005                                 CHARBIN THE CHARACTERS INTO A NUMBER. */
      504     5006
      505     5007    4            SELECT (' ',',');
      506     5008    4              IF NUMBER_FOUND THEN
      507     5009    4                IF THRU_CLAUSE THEN
      508     5010    5                  DO;
      509     5011    5                    CALL CHARBIN( LINE_NO, SUBSTR( INBUF,J,I-J ) );
      510     5012    5                    CALL THRU_TREES;
      511     5013    5                    THRU_CLAUSE = FALSE;
      512     5014    5                    NUMBER_FOUND = FALSE;
      513     5015    5                    J = I+1;    /* skip this column */
      514     5016    5                  END;
      515     5017    4                ELSE
      516     5018    5                  DO;
      517     5019    5                    CALL CHARBIN( LINE#S(ARG#), SUBSTR( INBUF,J,I-J ));
      518     5020    5                    ARG# = ARG# +1;
      519     5021    5                    J = I +1;
      520     5022    5                    NUMBER_FOUND = FALSE;
      521     5023    5                  END;
      522     5024    4              ELSE           /*  ignore this column  */
      523     5025    4                J = I+1;
      524     5026
      525     5027    4            SELECT( 'A' );
      526     5028    4              CALL ALL_TREES;
      527     5029    4              J = I + 1;
      528     5030
      529     5031    4            SELECT('C');
      530     5032    4              IF CCOSU_OFF THEN
      531     5033    4                CCOSU_OFF = FALSE;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:25   
      532     5034    4              ELSE
      533     5035    4                CCOSU_OFF = TRUE;
      534     5036    4              J = I + 1;
      535     5037
      536     5038    4            SELECT( 'H' );
      537     5039    4              CALL HELP_LINES;
      538     5040    4              EXIT L;
      539     5041
      540     5042    4            SELECT( '-' );
      541     5043    4              IF NUMBER_FOUND THEN
      542     5044    4                IF THRU_CLAUSE THEN
      543     5045    5                  DO;
      544     5046    5                    ERROR = TRUE;
      545     5047    5                    EXIT L;
      546     5048    5                  END;
      547     5049    4                ELSE
      548     5050    5                  DO;
      549     5051    5                    THRU_CLAUSE = TRUE;
      550     5052    5                    CALL CHARBIN( LINE#S(ARG#), SUBSTR( INBUF,J,I-J) );
      551     5053    5                    ARG# = ARG# + 1;
      552     5054    5                    J = I + 1;
      553     5055    5                  END;
      554     5056    4              ELSE               /* Number_found is false */
      555     5057    5                DO;
      556     5058    5                  ERROR = TRUE;
      557     5059    5                  EXIT L;
      558     5060    5                END;
      559     5061                             /*  ALL REMAINING CHARACTERS ARE ILLEGAL, SO
      560     5062                                 SET ERROR FLAG AND RETURN FOR REPROMPT. */
      561     5063
      562     5064
      563     5065    4            SELECT ( ELSE );
      564     5066    4              ERROR = TRUE;
      565     5067    4              EXIT L;
      566     5068    4          END;  /* SELECT */
      567     5069    3        END; /* index */
      568     5070        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:26   
      569     5071    2     THRU_TREES: PROC;
      570     5072
      571     5073    3       DCL L              SBIN WORD;
      572     5074
      573     5075    4       DO L = LINE#S( ARG# - 1) + 1   TO  LINE_NO;
      574     5076    4         LINE#S( ARG# ) = L;
      575     5077    4         ARG# = ARG# + 1;
      576     5078    4       END;
      577     5079
      578     5080    3     END THRU_TREES; /* proc */
      579     5081        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:27   
      580     5082    2     HELP_LINES: PROC;
      581     5083
      582     5084    3       CALL WRITE_OBUF('Examples of valid syntax:',25);
      583     5085    3       CALL WRITE_OBUF('  A       -- prints all trees for program.',42);
      584     5086    3       CALL WRITE_OBUF('  12      -- prints tree for line 12.     ',42);
      585     5087    3       CALL WRITE_OBUF('  12,13   -- prints tree for line 12 & 13.',42);
      586     5088    3       CALL WRITE_OBUF('  12-15   -- prints trees for line 12,13,14 & 15.',48);
      587     5089    3       CALL WRITE_OBUF('Some combinations of the above will also work,   ',48);
      588     5090    3       CALL WRITE_OBUF('eventually all. "A" must be on a line by itself. ',48);
      589     5091    3     END HELP_LINES;  /* proc */
      590     5092
      591     5093
      592     5094    2     END SCAN_LINE;   /* proc */
      593     5095        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:28   
      594     5096    1   ALL_TREES: PROC;
      595     5097    2       CALL START_ILS$;
      596     5098            %SET_ILL$;
      597     5107    3       DO WHILE ILL$-> ILL.ID ~= %END;
      598     5108    3         IF ILL$ -> ILL.ID = %LINOI THEN
      599     5109    4           DO;
      600     5110    4             LINE_NO = ILL$-> LINOI.LINE_NO;
      601     5111                  %SET_ILS$_ILL$;
      602     5134    4             CALL FIND_TREES ( LINE_NO );
      603     5135    4           END;
      604     5136    3         ELSE
      605     5137                %SET_ILS$_ILL$;
      606     5160    3       END;  /* while */
      607     5161
      608     5162    2     END ALL_TREES;  /*  proc  */
      609     5163        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:29   
      610     5164    1   PRINT_TREES: PROC( LINE#S );
      611     5165
      612     5166    2       DCL I                     SBIN WORD;
      613     5167    2       DCL LINE#S( 0:999)        UBIN WORD;
      614     5168    2       DCL FOUND                 BIT(1);
      615     5169    2       DCL FOUND_LINE#S( 0:999)  BIT(1) ;
      616     5170    2       DCL STRING                CHAR(120);
      617     5171
      618     5172    3       DO I = 0 TO ARG# -1;         /* initialize found flags */
      619     5173    3         FOUND_LINE#S(I) = FALSE;
      620     5174    3       END;
      621     5175
      622     5176    2       CALL START_ILS$;
      623     5177            %SET_ILL$;
      624     5186    3       DO WHILE ILL$ ~=ADDR(NIL) AND  ILL$-> ILL.ID ~= %END;
      625     5187    3         IF ILL$ -> ILL.ID = %LINOI THEN
      626     5188    4           DO;
      627     5189    4             LINE_NO = ILL$-> LINOI.LINE_NO;
      628     5190    4             FOUND = FALSE;
      629     5191    5             DO I = 0 TO ARG# - 1;
      630     5192    5               IF LINE_NO = LINE#S(I) THEN
      631     5193    6                 DO;
      632     5194    6                   FOUND_LINE#S(I) = TRUE;
      633     5195    6                   FOUND = TRUE;
      634     5196    6                 END;
      635     5197    5             END;
      636     5198    4             IF FOUND THEN
      637     5199    5               DO;
      638     5200                      %SET_ILS$_ILL$;
      639     5223    5                 CALL FIND_TREES( LINE_NO );
      640     5224    5               END;
      641     5225    4             ELSE
      642     5226                    %SET_ILS$_ILL$;
      643     5249    4           END;
      644     5250    3         ELSE
      645     5251                %SET_ILS$_ILL$;
      646     5274    3       END;  /* while */
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:30   
      647     5275
      648     5276    3       DO I = 0 TO ARG# -1;
      649     5277    3         IF FOUND_LINE#S(I) = FALSE THEN
      650     5278    4           DO;
      651     5279    4             STRING = 'Line number           not found.';
      652     5280    4             CALL BINCHAR( SUBSTR( STRING,12,6 ), LINE#S(I) );
      653     5281    4             CALL WRITE_OBUF( STRING,32 );
      654     5282    4           END;
      655     5283    3       END;
      656     5284
      657     5285    2     END PRINT_TREES;  /*  proc  */
      658     5286        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:31   
      659     5287    1     FIND_TREES:   PROC ( LINE_NO );
      660     5288
      661     5289        /*  WE HAVE A GOOD LINE#, PROCESS UNTIL WE GET DIFFERENT OR
      662     5290            ILL$ = NIL */
      663     5291
      664     5292    2       DCL PRINT_ARG UBIN WORD;
      665     5293    2       DCL LINE_NO   UBIN WORD;
      666     5294        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:32   
      667     5295
      668     5296    3     LOOP:   DO WHILE ILL$ ~= ADDR(NIL);
      669     5297    3               IF ILL$ -> ILL.ID ~= %LINOI THEN
      670     5298    3                 IF ILL$-> ILL.ID ~= %END THEN
      671     5299    3                   IF  (ILL$-> ILL.ID = %CCOSU
      672     5300    3                        OR ILL$ -> ILL.ID = %EVALP)
      673     5301    3                   AND CCOSU_OFF THEN
      674     5302                          %SET_ILS$_ILL$;
      675     5325    3                   ELSE                   /* Normal treewalk */
      676     5326    4                     DO;
      677     5327    4                       CALL LINE_NO_HEADING ( LINE_NO );
      678     5328    4                       PRINT_ARG = 0;          /* START AT 0 FOR EACH TREE */
      679     5329    4                       CALL Z8JW$WALK_TREE ( ILL$, 2, PRINT_ARG);
      680     5330    4                       CALL Z9AL$FORM_FEED;
      681     5331                            %SET_ILS$_ILL$;
      682     5354    4                     END;
      683     5355    3                 ELSE
      684     5356    3                   EXIT LOOP;
      685     5357    3               ELSE
      686     5358    3                 IF ILL$ -> LINOI.LINE_NO = 0
      687     5359    3                 OR ILL$ -> LINOI.LINE_NO = LINE_NO THEN
      688     5360                        %SET_ILS$_ILL$;
      689     5383    3                 ELSE
      690     5384    3                   EXIT LOOP;
      691     5385    3              END; /* while */
      692     5386    2     END FIND_TREES;  /* proc */
      693     5387        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:33   
      694     5388    1     POINTER_HEADING: PROC(P$);
      695     5389
      696     5390    2       DCL P$        PTR;
      697     5391    2       DCL CHAR12          CHAR(12);
      698     5392
      699     5393
      700     5394        /*V*     LOAD OBUF WITH HEADER MESSAGE, PRINT IT, THEN CLEAR OBUF. */
      701     5395
      702     5396    2       OBUF = 'Location          Tree starting at location:';
      703     5397    2       CALL X8CO$CONV_TO_OCTAL ( P$, CHAR12 );
      704     5398    2       SUBSTR (OBUF,50,6) = SUBSTR (CHAR12,0,6);
      705     5399    2       CALL Z9AL$DUMP_LINE;
      706     5400    2       CALL Z9AL$WRITE_BLANK_LINE;
      707     5401    2       OBUF = ' ';
      708     5402
      709     5403    2     END POINTER_HEADING; /* PROC */
      710     5404        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:34   
      711     5405    1     LINE_NO_HEADING: PROC (LINE_NO);
      712     5406
      713     5407    2       DCL CHAR6      CHAR(6);
      714     5408    2       DCL LINE_NO    UBIN WORD;
      715     5409
      716     5410
      717     5411    2       OBUF = 'Location         Tree for line #';
      718     5412    2       CALL BINCHAR ( CHAR6, LINE_NO );
      719     5413    2       SUBSTR (OBUF, 36, 6) = CHAR6;
      720     5414    2       CALL Z9AL$DUMP_LINE;
      721     5415    2       CALL Z9AL$WRITE_BLANK_LINE;
      722     5416    2       OBUF = ' ';
      723     5417    2     END LINE_NO_HEADING; /* proc */
      724     5418          %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:35   
      725     5419    1     PRE_SCAN: PROC( QUIT, TREE_WALKING );
      726     5420
      727     5421    2       DCL QUIT           BIT(1) ALIGNED;
      728     5422    2       DCL TREE_WALKING   BIT(1) ALIGNED;
      729     5423
      730     5424    3       DO SELECT ( INBUF );
      731     5425
      732     5426                   /* SCAN FOR QUIT STRINGS */
      733     5427
      734     5428    3         SELECT ('Q','QUIT', 'E', 'END', 'EXIT', 'X');
      735     5429    3           QUIT = TRUE;
      736     5430    3           TREE_WALKING = FALSE;
      737     5431
      738     5432                   /* SCAN FOR BLANK  */
      739     5433
      740     5434    3         SELECT (' ');
      741     5435    3           TREE_WALKING = FALSE;
      742     5436
      743     5437    3       END;  /* SELECT */
      744     5438
      745     5439    2     END PRE_SCAN;  /* proc */
      746     5440        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:36   
      747     5441    1     WRITE_OBUF: PROC( STRING, LENGTH );
      748     5442
      749     5443    2       DCL LENGTH      SBIN WORD;
      750     5444    2       DCL STRING      CHAR (LENGTH);
      751     5445
      752     5446    2       OBUF = ' ';
      753     5447    2       SUBSTR(OBUF,0,LENGTH) = STRING;
      754     5448
      755     5449    2       IF COMCOM.OB.IT THEN
      756     5450    2           CALL Z9AL$WRITE_TERMINAL;
      757     5451    2       ELSE
      758     5452    2         CALL Z9AL$DUMP_LINE;
      759     5453
      760     5454    2     END WRITE_OBUF;  /* proc */
      761     5455        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:37   
      762     5456    1     WRITE_OBUF_VFC:  PROC ( STRING, LENGTH );
      763     5457
      764     5458    2       DCL STRING         CHAR ( LENGTH );
      765     5459    2       DCL LENGTH         SBIN WORD;
      766     5460
      767     5461    2       OBUF = 'a';       /* Small 'a' for VFC */
      768     5462    2       SUBSTR(OBUF,1,LENGTH) = STRING;
      769     5463    2       CALL Z9AL$WRITE_TERMINAL_VFC;
      770     5464
      771     5465
      772     5466    2     END WRITE_OBUF_VFC;  /* proc */
      773     5467
      774     5468    1   END Z8JS$START_TREEWALKER; /* proc */
      775     5469        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:38   
      776     5470

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:39   
--  Include file information  --

   Z8A_ETT.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_ILS.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_ILL.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_DNT.:Z8A6TOU  cannot be made into a system file and is referenced.
   X8A_COM_MACS.:X8A6TOU  is referenced.
   Z8A_NAMES.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_SUPP_MAC.:Z8A6TOU  is referenced.
   Z8A_COMCOM.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_DEFC.:Z8A6TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure Z8JS$START_TREEWALKER.

   Procedure Z8JS$START_TREEWALKER requires 1556 words for executable code.
   Procedure Z8JS$START_TREEWALKER requires 1092 words of local(AUTO) storage.

    No errors detected in file Z8JS.:Z8A6TSI    .

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:40   

 Object Unit name= Z8JS$START_TREEWALKER                      File name= Z8JS.:Z8A6TOU
 UTS= AUG 09 '97 13:31:10.36 SAT                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  LblCom even  none     1      1  ITERATION
    1  LblCom even  none     1      1  DNT$
    2  LblCom even  none     5      5  DNT_
    3  LblCom even  none     1      1  DNT_BUCKET_NUMBER
    4  LblCom even  none     1      1  DNT_OF_1$
    5  LblCom even  none     1      1  ILL$
    6  LblCom even  none     5      5  ILL_
    7  LblCom even  none     1      1  ILS$
    8  LblCom even  none     5      5  ILS_
    9  LblCom even  none     1      1  ETT$
   10  LblCom even  none     1      1  HEAD_ETT$
   11  LblCom even  none   512   1000  ETT_BUCKETS
   12  LblCom even  none     5      5  ETT_
   13  LblCom even  none    30     36  OBUF
   14  LblCom even  none    20     24  INBUF
   15  LblCom even  none     1      1  PTR_ABORT
   16  LblCom even  none     1      1  CCOSU_OFF
   17  RoData even  UTS    343    527  Z8JS$START_TREEWALKER
   18   Proc  even  none  1556   3024  Z8JS$START_TREEWALKER
   19  RoData even  none    84    124  Z8JS$START_TREEWALKER

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
    18      0   yes            yes      Std        0  Z8JS$START_TREEWALKER
    18    342                  yes      Std        0  Z8JS$ONLINE_TREES
    18   1232                  yes      Std        0  Z8JS$ABSTRACT_TREES
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:41   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       1 Z9JS$START
         yes           Std       0 Z9AL$DUMP_LINE
         yes           Std       1 Z9JS$SCAN_POINTER
         yes           Std       0 Z9AL$WRITE_BLANK_LINE
         yes           Std       1 Z8JT$ONLINE_TABLE_DUMP
         yes           Std       0 Z9AL$READ_TERMINAL
         yes           Std       3 Z8JW$WALK_TREE
         yes           Std       3 Z8JW$ABSTRACT_TREES
         yes           Std       0 Z9AL$FORM_FEED
 yes     yes           Std       1 Z9JW$CHECK_PTR
         yes           Std       2 X8CO$CONV_TO_OCTAL
         yes           Std       0 Z9AL$WRITE_TERMINAL
         yes           Std       0 Z9AL$WRITE_TERMINAL_VFC
         yes           Std       0 Z8JS$ONLINE_TREES
         yes           Std       0 Z8JS$ABSTRACT_TREES
                       nStd      0 X66_AUTO_0
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     COMCOM                           r    NAMES                            r    ILL_STEP
r    ILS_STEP_TABLE

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:42   


        1        1        /*M*  Z8JS$START_TREEWALKER                                                     */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7
        8        8        Z8JS$START_TREEWALKER: PROC;

      8 18 000000   000000 700200 xent  Z8JS$START_* TSX0  ! X66_AUTO_0
        18 000001   002104 000000                    ZERO    1092,0

        9        9
       10       10        /*P*
       11       11
       12       12                   NAME: Z8JS$START_TREEWALKER
       13       13                PURPOSE:  To search the ILL table for the line number requested
       14       14                          and pass a pointer to that line number to the Tree
       15       15                          Walker routine.
       16       16        */
       17       17        /*D*
       18       18                   NAME: Z8JS$START_TREEWALKER
       19       19                   CALL:   CALL Z8JS$START_TREEWALKER;
       20       20
       21       21              INTERFACE:     1) FIND_TREE            -- Internal
       22       22                             2) INTERACTIVE_TREES    -- Internal
       23       23                             3) SCAN_LINE            -- Internal
       24       24                             4) Z8JW$WALK_TREE       -- Traverses and outputs the trees.
       25       25                             5) Z9AL$DUMP_LINE       -- Prints OBUF to the LO file.
       26       26                             6) Z9AL$FORM_FEED       -- Prints a form feed to the LO file.
       27       27                             7) Z9AL$WRITE_BLANK_LINE -- Prints a blank line.
       28       28                             8) Z9AL$WRITE_TERMINAL  -- Interactive write.
       29       29                             9) Z9AL$READ_TERMINAL   -- Interactive read.
       30       30                             8) X8CO$CONV_TO_OCTAL   -- Convert an address to octal.
       31       31                            11) Z9JS$SCAN_POINTER    -- Builds a valid pointer.
       32       32                            13) Z9AP$BRING_IN_PHASE  -- Calling routine.
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:43   
       33       33
       34       34
       35       35                  INPUT:   COMCOM.LINE#S  -- Array of line numbers and/or pointers.
       36       36                           COMCOM.OB.IT   -- Interactive tree option bit.
       37       37                           USER INPUT     -- Directly from user's terminal.
       38       38
       39       39                 OUTPUT:   Compiler INVOCATION LINE AND
       40       40                            HEADING LINE FOR EACH TREE
       41       41
       42       42                SCRATCH: NONE
       43       43              REFERENCE:
       44       44        */
       45       45        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:44   
       46       46            %SET PHASE = 6;
       47       47
       48       48            %INCLUDE Z8A_DEFC;
       49      116            %INCLUDE Z8A_COMCOM;
       50      766            %INCLUDE Z8A_SUPP_MAC;
       51     3166            %INCLUDE Z8A_DNT;
       52     3387            %INCLUDE Z8A_ILL;
       53     4080            %INCLUDE Z8A_ILS;
       54     4189            %INCLUDE Z8A_ETT;
       55     4490
       56     4491    1       DCL Z9AL$FORM_FEED       ENTRY;
       57     4492    1       DCL Z9AL$DUMP_LINE       ENTRY;
       58     4493    1       DCL Z9AL$WRITE_BLANK_LINE      ENTRY;
       59     4494    1       DCL Z8JW$WALK_TREE       ENTRY(3);
       60     4495    1       DCL Z9JW$CHECK_PTR       ENTRY(1) ALTRET;
       61     4496    1       DCL X8CO$CONV_TO_OCTAL   ENTRY(2);
       62     4497    1       DCL Z9AL$WRITE_TERMINAL_VFC  ENTRY;
       63     4498    1       DCL Z9AL$WRITE_TERMINAL  ENTRY;
       64     4499    1       DCL Z9AL$READ_TERMINAL   ENTRY;
       65     4500    1       DCL Z9JS$SCAN_POINTER    ENTRY(1);
       66     4501    1       DCL Z9JS$START           ENTRY(1);
       67     4502    1       DCL Z8JW$ABSTRACT_TREES  ENTRY(3);
       68     4503    1       DCL Z8JT$ONLINE_TABLE_DUMP ENTRY(1);
       69     4504
       70     4505
       71     4506
       72     4507    1       DCL LIST_INDEX      SBIN WORD;     /* LINE#S INDEX */
       73     4508    1       DCL PRINT_ARG       SBIN WORD;
       74     4509    1       DCL OBUF            CHAR(120) EXT;
       75     4510    1       DCL INBUF           CHAR(80)  EXT;
       76     4511    1       DCL TEMP$           PTR;
       77     4512    1       DCL PTR_LEN         SBIN WORD;
       78     4513    1       DCL TREE_WALKING_POINTERS   BIT(1) ALIGNED;
       79     4514    1       DCL TREE_WALKING_LINES      BIT(1) ALIGNED;
       80     4515    1       DCL TABLE_DUMPING           BIT(1);
       81     4516    1       DCL USER_QUITS              BIT(1) ALIGNED;
       82     4517    1       DCL DNT_DUMPING             BIT(1) ALIGNED;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:45   
       83     4518    1       DCL LENGTH                  SBIN;
       84     4519    1       DCL ERROR                   BIT(1);
       85     4520    1       DCL LINE#S (0:999)          SBIN WORD;
       86     4521    1       DCL ARG#                    SBIN WORD;      /* Index for LINE#S  */
       87     4522    1       DCL LINE_NO                 SBIN WORD;
       88     4523    1       DCL P$                PTR;
       89     4524    1       DCL PTR_ABORT               BIT(1) EXT INIT(FALSE);
       90     4525    1       DCL CCOSU_OFF                BIT(1) EXT INIT(FALSE);
       91     4526         %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:46   
       92     4527        %MACRO SET_ILL$;
       93     4528          DO;
       94     4529            ILL$ = ILS$->ILS.ILL$;
       95     4530            DO WHILE ( ILL$ = ADDR(NIL) );
       96     4531              ILS$ = ILS$->ILS.NEXT;
       97     4532              ILL$ = ILS$->ILS.ILL$;
       98     4533            END; /* while */
       99     4534          END; /* macro */
      100     4535        %MEND;
      101     4536        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:47   
      102     4537        %MACRO SET_ILS$_ILL$;
      103     4538          DO;
      104     4539            IF ILL$ -> ILL.ID = %CCOSU OR
      105     4540                ILL$ -> ILL.ID = %EVALP THEN
      106     4541              ILL$ = ILL$ -> CCOSU.ILL$;
      107     4542            ELSE
      108     4543              DO;
      109     4544                ILS$ = ILS$-> ILS.NEXT;
      110     4545                IF ILS$ ~= ADDR(NIL) THEN
      111     4546                  %SET_ILL$;
      112     4547                ELSE
      113     4548                  ILL$ = ADDR(NIL);
      114     4549              END;
      115     4550          END;
      116     4551        %MEND;
      117     4552        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:48   
      118     4553
      119     4554            /*V*     CHECK THE INTERACTIVE TREE BIT FOR INTERACTIVE CALS */
      120     4555
      121     4556    1       IF COMCOM.OB.IT THEN

   4556 18 000002   000104 234000 xsym               SZN     COMCOM+68
        18 000003   000010 605000 18                 TPL     s:4567

      122     4557    2         DO;

      123     4558    2           CALL Z8JS$ONLINE_TREES;

   4558 18 000004   000000 631400 19                 EPPR1   0
        18 000005   000342 701000 18                 TSX1    s:4709
        18 000006   000000 011000                    NOP     0

      124     4559    2           RETURN;

   4559 18 000007   000000 702200 xent               TSX2  ! X66_ARET

      125     4560    2         END;
      126     4561
      127     4562            /*   IF NOT INTERACTIVE THEN NORMAL PROCESSING BEGIN HERE  */
      128     4563
      129     4564        /*
      130     4565               Start break control
      131     4566        */
      132     4567    1       CALL Z9JS$START( ENTADDR( Z8JS$ONLINE_TREES ) );

   4567 18 000010   000342 636000 18                 EAQ     s:4709
        18 000011   202100 756100                    STQ     CHAR6+2,,AUTO
        18 000012   202100 630500                    EPPR0   CHAR6+2,,AUTO
        18 000013   202101 450500                    STP0    CHAR6+3,,AUTO
        18 000014   202101 630500                    EPPR0   CHAR6+3,,AUTO
        18 000015   000001 631400 19                 EPPR1   1
        18 000016   000000 701000 xent               TSX1    Z9JS$START
        18 000017   000000 011000                    NOP     0
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:49   

      133     4568
      134     4569    1       OBUF = COMCOM.LINE1;

   4569 18 000020   040000 100400                    MLR     fill='040'O
        18 000021   000334 000120 xsym               ADSC9   COMCOM+220               cn=0,n=80
        18 000022   000000 000170 13                 ADSC9   OBUF                     cn=0,n=120

      135     4570    1       CALL Z9AL$DUMP_LINE;

   4570 18 000023   000000 631400 19                 EPPR1   0
        18 000024   000000 701000 xent               TSX1    Z9AL$DUMP_LINE
        18 000025   000000 011000                    NOP     0

      136     4571    1       CALL Z9AL$WRITE_BLANK_LINE;

   4571 18 000026   000000 631400 19                 EPPR1   0
        18 000027   000000 701000 xent               TSX1    Z9AL$WRITE_BLANK_LINE
        18 000030   000000 011000                    NOP     0

      137     4572    1       IF COMCOM.TREE_LINE  ~=  ' ' THEN

   4572 18 000031   040000 106400                    CMPC    fill='040'O
        18 000032   000376 000124 xsym               ADSC9   COMCOM+254               cn=0,n=84
        18 000033   000002 000001 19                 ADSC9   2                        cn=0,n=1
        18 000034   000050 600000 18                 TZE     s:4578

      138     4573    2         DO;

      139     4574    2           INBUF = COMCOM.TREE_LINE;

   4574 18 000035   040000 100400                    MLR     fill='040'O
        18 000036   000376 000120 xsym               ADSC9   COMCOM+254               cn=0,n=80
        18 000037   000000 000120 14                 ADSC9   INBUF                    cn=0,n=80

      140     4575    2           CALL SCAN_LINE( LINE#S );

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:50   
   4575 18 000040   200016 630500                    EPPR0   LINE#S,,AUTO
        18 000041   201773 450500                    STP0    P$+3,,AUTO
        18 000042   001374 701000 18                 TSX1    SCAN_LINE
        18 000043   000000 011000                    NOP     0

      141     4576    2           CALL PRINT_TREES( LINE#S );

   4576 18 000044   200016 630500                    EPPR0   LINE#S,,AUTO
        18 000045   201773 450500                    STP0    P$+3,,AUTO
        18 000046   002117 701000 18                 TSX1    PRINT_TREES
        18 000047   000000 011000                    NOP     0

      142     4577    2         END;

      143     4578    1       RETURN;

   4578 18 000050   000000 702200 xent               TSX2  ! X66_ARET

      144     4579        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:51   
      145     4580    1   PHASE2_3_LINES: PROC(LINE#S);

   4580 18 000051   201772 741300       PHASE2_3_LI* STX1  ! P$+2,,AUTO

      146     4581
      147     4582            /*V*   IN THIS CASE A LINE NUMBER WAS FOUND.  NOW, SEARCH THE
      148     4583                   ILL TABLE FOR THE LINOI CONTAINING THAT LINE NUMBER
      149     4584                   AND CALL FIND_TREES TO PRINT ALL THE TREE FOR THAT LINE
      150     4585                   NUMBER.
      151     4586            */
      152     4587    2       DCL LINE_NO           SBIN WORD;
      153     4588    2       DCL LINE#S(0:999)     SBIN WORD;
      154     4589    2       DCL LINE#_NOT_FOUND   BIT(1);
      155     4590    2       DCL STRING            CHAR(80);
      156     4591    2       DCL I                 SBIN WORD;
      157     4592
      158     4593        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:52   
      159     4594
      160     4595    3       DO I = 0 TO ARG# - 1;

   4595 18 000052   202022 450100                    STZ     I,,AUTO
        18 000053   000217 710000 18                 TRA     s:4656+1

      161     4596    3         LINE_NO = LINE#S( I );

   4596 18 000054   201773 470500                    LDP0    @LINE#S,,AUTO
        18 000055   202022 720100                    LXL0    I,,AUTO
        18 000056   000000 235110                    LDA     0,X0,PR0
        18 000057   201774 755100                    STA     LINE_NO,,AUTO

      162     4597              %TOP_ILL  ( POINTER = ILL$ );

   4599 18 000060   000000 236000 6                  LDQ     ILL_
        18 000061   000000 756000 5                  STQ     ILL$

      163     4602    3       LINE#_NOT_FOUND = TRUE;

   4602 18 000062   400000 236003                    LDQ     -131072,DU
        18 000063   201775 756100                    STQ     LINE#_NOT_FOUND,,AUTO

      164     4603
      165     4604    4             DO WHILE  ( ILL$ ~= ADDR(NIL)  );

   4604 18 000064   000175 710000 18                 TRA     s:4647

      166     4605    4               IF ILL$ -> ILL.ID = %LINOI THEN

   4605 18 000065   000000 470400 5                  LDP0    ILL$
        18 000066   000000 220100                    LDX0    0,,PR0
        18 000067   000373 100003                    CMPX0   251,DU
        18 000070   000152 601000 18                 TNZ     s:4637

      167     4606    4                 IF ILL$ -> LINOI.LINE_NO = LINE_NO THEN

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:53   
   4606 18 000071   000001 236100                    LDQ     1,,PR0
        18 000072   777777 376007                    ANQ     -1,DL
        18 000073   201774 116100                    CMPQ    LINE_NO,,AUTO
        18 000074   000126 601000 18                 TNZ     s:4625

      168     4607    5                   DO;

      169     4608                          %STEP_ILL  ( POINTER = ILL$ );

   4610 18 000075   777552 235010 xsym               LDA     ILL_STEP-150,X0
        18 000076   000000 755000 0                  STA     ITERATION

   4611 18 000077   000000 236000 0                  LDQ     ITERATION
        18 000100   000022 736000                    QLS     18
        18 000101   000000 036000 5                  ADLQ    ILL$
        18 000102   000000 756000 5                  STQ     ILL$

   4612 18 000103   000002 236000 6                  LDQ     ILL_+2
        18 000104   000022 736000                    QLS     18
        18 000105   000001 036000 6                  ADLQ    ILL_+1
        18 000106   000000 116000 5                  CMPQ    ILL$
        18 000107   000113 601000 18                 TNZ     s:4615

   4613 18 000110   000003 236000 19                 LDQ     3
        18 000111   000000 756000 5                  STQ     ILL$
        18 000112   000120 710000 18                 TRA     s:4619

   4615 18 000113   000000 470400 5                  LDP0    ILL$
        18 000114   000000 220100                    LDX0    0,,PR0
        18 000115   000120 601000 18                 TNZ     s:4619

   4616 18 000116   000001 236100                    LDQ     1,,PR0
        18 000117   000000 756000 5                  STQ     ILL$

      170     4619    5                     CALL PHASE2_3_TREES ( LINE_NO );

   4619 18 000120   201774 630500                    EPPR0   LINE_NO,,AUTO
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:54   
        18 000121   201773 450500                    STP0    @LINE#S,,AUTO
        18 000122   000224 701000 18                 TSX1    PHASE2_3_TREES
        18 000123   000000 011000                    NOP     0

      171     4620    5                     LINE#_NOT_FOUND = FALSE;

   4620 18 000124   201775 450100                    STZ     LINE#_NOT_FOUND,,AUTO

      172     4621    5                   END;

   4621 18 000125   000175 710000 18                 TRA     s:4647

      173     4622    4                 ELSE
      174     4623                        %STEP_ILL  ( POINTER = ILL$ );

   4625 18 000126   777552 235010 xsym               LDA     ILL_STEP-150,X0
        18 000127   000000 755000 0                  STA     ITERATION

   4626 18 000130   000000 236000 0                  LDQ     ITERATION
        18 000131   000022 736000                    QLS     18
        18 000132   000000 036000 5                  ADLQ    ILL$
        18 000133   000000 756000 5                  STQ     ILL$

   4627 18 000134   000002 236000 6                  LDQ     ILL_+2
        18 000135   000022 736000                    QLS     18
        18 000136   000001 036000 6                  ADLQ    ILL_+1
        18 000137   000000 116000 5                  CMPQ    ILL$
        18 000140   000144 601000 18                 TNZ     s:4630

   4628 18 000141   000003 236000 19                 LDQ     3
        18 000142   000000 756000 5                  STQ     ILL$
        18 000143   000175 710000 18                 TRA     s:4647

   4630 18 000144   000000 470400 5                  LDP0    ILL$
        18 000145   000000 220100                    LDX0    0,,PR0
        18 000146   000175 601000 18                 TNZ     s:4647

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:55   
   4631 18 000147   000001 236100                    LDQ     1,,PR0
        18 000150   000000 756000 5                  STQ     ILL$

   4632 18 000151   000175 710000 18                 TRA     s:4647

      175     4634    4               ELSE
      176     4635                      %STEP_ILL  ( POINTER = ILL$ );

   4637 18 000152   777552 235010 xsym               LDA     ILL_STEP-150,X0
        18 000153   000000 755000 0                  STA     ITERATION

   4638 18 000154   000000 236000 0                  LDQ     ITERATION
        18 000155   000022 736000                    QLS     18
        18 000156   000000 036000 5                  ADLQ    ILL$
        18 000157   000000 756000 5                  STQ     ILL$

   4639 18 000160   000002 236000 6                  LDQ     ILL_+2
        18 000161   000022 736000                    QLS     18
        18 000162   000001 036000 6                  ADLQ    ILL_+1
        18 000163   000000 116000 5                  CMPQ    ILL$
        18 000164   000170 601000 18                 TNZ     s:4642

   4640 18 000165   000003 236000 19                 LDQ     3
        18 000166   000000 756000 5                  STQ     ILL$
        18 000167   000175 710000 18                 TRA     s:4647

   4642 18 000170   000000 470400 5                  LDP0    ILL$
        18 000171   000000 220100                    LDX0    0,,PR0
        18 000172   000175 601000 18                 TNZ     s:4647

   4643 18 000173   000001 236100                    LDQ     1,,PR0
        18 000174   000000 756000 5                  STQ     ILL$

      177     4646
      178     4647    4             END;  /* while */

   4647 18 000175   000000 236000 5                  LDQ     ILL$
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:56   
        18 000176   000003 116000 19                 CMPQ    3
        18 000177   000065 601000 18                 TNZ     s:4605

      179     4648
      180     4649    3           IF LINE#_NOT_FOUND THEN

   4649 18 000200   201775 234100                    SZN     LINE#_NOT_FOUND,,AUTO
        18 000201   000216 605000 18                 TPL     s:4656

      181     4650    4             DO;

      182     4651    4               STRING = 'Line        not found.';

   4651 18 000202   040100 100400                    MLR     fill='040'O
        18 000203   000200 000026 17                 ADSC9   BLANK_SCAN_TABLE+128     cn=0,n=22
        18 000204   201776 000120                    ADSC9   STRING,,AUTO             cn=0,n=80

      183     4652    4               CALL BINCHAR ( SUBSTR( STRING,5,6 ), LINE_NO );

   4652 18 000205   000100 301500                    BTD
        18 000206   201774 000004                    NDSC9   LINE_NO,,AUTO            cn=0,s=lsgnf,sf=0,n=4
        18 000207   201777 230006                    NDSC9   FOUND_LINE#S+1,,AUTO     cn=1,s=nosgn,sf=0,n=6

      184     4653    4               CALL WRITE_OBUF ( STRING,22 );

   4653 18 000210   000005 236000 19                 LDQ     5
        18 000211   202074 756100                    STQ     @STRING+1,,AUTO
        18 000212   201776 630500                    EPPR0   STRING,,AUTO
        18 000213   202073 450500                    STP0    PRINT_ARG+1,,AUTO
        18 000214   002755 701000 18                 TSX1    WRITE_OBUF
        18 000215   000000 011000                    NOP     0

      185     4654    4             END;

      186     4655
      187     4656    3       END;  /* index ( I to Arg# )  */

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:57   
   4656 18 000216   202022 054100                    AOS     I,,AUTO
        18 000217   202022 236100                    LDQ     I,,AUTO
        18 000220   201766 116100                    CMPQ    ARG#,,AUTO
        18 000221   000054 604000 18                 TMI     s:4596

      188     4657    2   END PHASE2_3_LINES;  /* proc */

   4657 18 000222   201772 221300                    LDX1  ! P$+2,,AUTO
        18 000223   000001 702211                    TSX2  ! 1,X1

      189     4658        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:58   
      190     4659    1     PHASE2_3_TREES: PROC( LINE_NO );

   4659 18 000224   201772 741300       PHASE2_3_TR* STX1  ! P$+2,,AUTO

      191     4660
      192     4661        /*  WE HAVE A GOOD LINE#, PROCESS UNTIL WE GET DIFFERENT OR
      193     4662            ILL$ = NIL */
      194     4663
      195     4664    2       DCL PRINT_ARG UBIN WORD;
      196     4665    2       DCL LINE_NO   UBIN WORD;
      197     4666        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:59   
      198     4667
      199     4668    3     LOOP:   DO WHILE ILL$ ~= ADDR(NIL);

   4668 18 000225   000335 710000 18    LOOP         TRA     s:4706

      200     4669    3               IF ILL$ -> ILL.ID ~= %LINOI THEN

   4669 18 000226   000000 470400 5                  LDP0    ILL$
        18 000227   000000 220100                    LDX0    0,,PR0
        18 000230   000373 100003                    CMPX0   251,DU
        18 000231   000302 600000 18                 TZE     s:4691

      201     4670    3                 IF ILL$-> ILL.ID ~= %END THEN

   4670 18 000232   000374 100003                    CMPX0   252,DU
        18 000233   000340 600000 18                 TZE     s:4707

      202     4671    4                   DO;

      203     4672    4                     CALL LINE_NO_HEADING ( LINE_NO );

   4672 18 000234   201773 236100                    LDQ     @LINE_NO,,AUTO
        18 000235   202075 756100                    STQ     @LENGTH+1,,AUTO
        18 000236   002645 701000 18                 TSX1    LINE_NO_HEADING
        18 000237   000000 011000                    NOP     0

      204     4673    4                     PRINT_ARG = 0;          /* START AT 0 FOR EACH TREE */

   4673 18 000240   201774 450100                    STZ     PRINT_ARG,,AUTO

      205     4674    4                     CALL Z8JW$WALK_TREE ( ILL$, 2, PRINT_ARG);

   4674 18 000241   201774 630500                    EPPR0   PRINT_ARG,,AUTO
        18 000242   202102 450500                    STP0    CHAR6+4,,AUTO
        18 000243   000010 237000 19                 LDAQ    8
        18 000244   202100 757100                    STAQ    CHAR6+2,,AUTO
        18 000245   202100 630500                    EPPR0   CHAR6+2,,AUTO
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:60   
        18 000246   000006 631400 19                 EPPR1   6
        18 000247   000000 701000 xent               TSX1    Z8JW$WALK_TREE
        18 000250   000000 011000                    NOP     0

      206     4675    4                     CALL Z9AL$FORM_FEED;

   4675 18 000251   000000 631400 19                 EPPR1   0
        18 000252   000000 701000 xent               TSX1    Z9AL$FORM_FEED
        18 000253   000000 011000                    NOP     0

      207     4676                          %STEP_ILL ( POINTER = ILL$  );

   4678 18 000254   000000 470400 5                  LDP0    ILL$
        18 000255   000000 220100                    LDX0    0,,PR0
        18 000256   777552 235010 xsym               LDA     ILL_STEP-150,X0
        18 000257   000000 755000 0                  STA     ITERATION

   4679 18 000260   000000 236000 0                  LDQ     ITERATION
        18 000261   000022 736000                    QLS     18
        18 000262   000000 036000 5                  ADLQ    ILL$
        18 000263   000000 756000 5                  STQ     ILL$

   4680 18 000264   000002 236000 6                  LDQ     ILL_+2
        18 000265   000022 736000                    QLS     18
        18 000266   000001 036000 6                  ADLQ    ILL_+1
        18 000267   000000 116000 5                  CMPQ    ILL$
        18 000270   000274 601000 18                 TNZ     s:4683

   4681 18 000271   000003 236000 19                 LDQ     3
        18 000272   000000 756000 5                  STQ     ILL$
        18 000273   000335 710000 18                 TRA     s:4706

   4683 18 000274   000000 470400 5                  LDP0    ILL$
        18 000275   000000 220100                    LDX0    0,,PR0
        18 000276   000335 601000 18                 TNZ     s:4706

   4684 18 000277   000001 236100                    LDQ     1,,PR0
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:61   
        18 000300   000000 756000 5                  STQ     ILL$

      208     4687    4                   END;

   4687 18 000301   000335 710000 18                 TRA     s:4706

      209     4688    3                 ELSE
      210     4689    3                   EXIT LOOP;
      211     4690    3               ELSE
      212     4691    3                 IF ILL$ -> LINOI.LINE_NO = 0

   4691 18 000302   000001 721100                    LXL1    1,,PR0
        18 000303   000311 600000 18                 TZE     s:4695
        18 000304   201773 471500                    LDP1    @LINE_NO,,AUTO
        18 000305   000001 236100                    LDQ     1,,PR0
        18 000306   777777 376007                    ANQ     -1,DL
        18 000307   100000 116100                    CMPQ    0,,PR1
        18 000310   000340 601000 18                 TNZ     s:4707

      213     4692    3                 OR ILL$ -> LINOI.LINE_NO = LINE_NO THEN
      214     4693                        %STEP_ILL ( POINTER = ILL$  );

   4695 18 000311   777552 235010 xsym               LDA     ILL_STEP-150,X0
        18 000312   000000 755000 0                  STA     ITERATION

   4696 18 000313   000000 236000 0                  LDQ     ITERATION
        18 000314   000022 736000                    QLS     18
        18 000315   000000 036000 5                  ADLQ    ILL$
        18 000316   000000 756000 5                  STQ     ILL$

   4697 18 000317   000002 236000 6                  LDQ     ILL_+2
        18 000320   000022 736000                    QLS     18
        18 000321   000001 036000 6                  ADLQ    ILL_+1
        18 000322   000000 116000 5                  CMPQ    ILL$
        18 000323   000327 601000 18                 TNZ     s:4700

   4698 18 000324   000003 236000 19                 LDQ     3
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:62   
        18 000325   000000 756000 5                  STQ     ILL$
        18 000326   000335 710000 18                 TRA     s:4706

   4700 18 000327   000000 470400 5                  LDP0    ILL$
        18 000330   000000 220100                    LDX0    0,,PR0
        18 000331   000335 601000 18                 TNZ     s:4706

   4701 18 000332   000001 236100                    LDQ     1,,PR0
        18 000333   000000 756000 5                  STQ     ILL$

   4702 18 000334   000335 710000 18                 TRA     s:4706

      215     4704    3                 ELSE
      216     4705    3                   EXIT LOOP;
      217     4706    3              END; /* while */

   4706 18 000335   000000 236000 5                  LDQ     ILL$
        18 000336   000003 116000 19                 CMPQ    3
        18 000337   000226 601000 18                 TNZ     s:4669

      218     4707    2     END PHASE2_3_TREES;  /* proc */

   4707 18 000340   201772 221300                    LDX1  ! P$+2,,AUTO
        18 000341   000001 702211                    TSX2  ! 1,X1

      219     4708        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:63   
      220     4709    1   Z8JS$ONLINE_TREES:  ENTRY;

   4709 18 000342   000000 700200 xent  Z8JS$ONLINE* TSX0  ! X66_AUTO_0
        18 000343   002104 000000                    ZERO    1092,0

      221     4710
      222     4711        /*I*  NAME:   INTERACTIVE_TREES
      223     4712                      -----------------
      224     4713
      225     4714                    PROCESS USER REQUESTS FOR TREES INTERACTIVELY, AND
      226     4715              PRINT THEN TO THE USER'S TERMINAL.
      227     4716        */
      228     4717
      229     4718        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:64   
      230     4719        /*V*                BREAK_CONTROL
      231     4720             START BREAK CONTROL FOR INTERACTIVE TREES
      232     4721        */
      233     4722
      234     4723    1       COMCOM.OB.IT = TRUE;

   4723 18 000344   400000 236003                    LDQ     -131072,DU
        18 000345   000104 256000 xsym               ORSQ    COMCOM+68

      235     4724    1       CALL Z9JS$START( ENTADDR( Z8JS$ONLINE_TREES ) );

   4724 18 000346   000342 636000 18                 EAQ     s:4709
        18 000347   202100 756100                    STQ     CHAR6+2,,AUTO
        18 000350   202100 630500                    EPPR0   CHAR6+2,,AUTO
        18 000351   202101 450500                    STP0    CHAR6+3,,AUTO
        18 000352   202101 630500                    EPPR0   CHAR6+3,,AUTO
        18 000353   000001 631400 19                 EPPR1   1
        18 000354   000000 701000 xent               TSX1    Z9JS$START
        18 000355   000000 011000                    NOP     0

      236     4725
      237     4726            /*V*  PRINT HEADER AND FIRST QUERY */
      238     4727
      239     4728    1       IF NOT PTR_ABORT THEN

   4728 18 000356   000000 234000 15                 SZN     PTR_ABORT
        18 000357   000371 604000 18                 TMI     s:4734

      240     4729    2         DO;

      241     4730    2           CALL WRITE_OBUF('Luke Treewalker C00  here ........',35);

   4730 18 000360   000013 236000 19                 LDQ     11
        18 000361   202074 756100                    STQ     @STRING+1,,AUTO
        18 000362   000014 236000 19                 LDQ     12
        18 000363   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 000364   002755 701000 18                 TSX1    WRITE_OBUF
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:65   
        18 000365   000000 011000                    NOP     0

      242     4731    2           CALL Z9AL$WRITE_BLANK_LINE;

   4731 18 000366   000000 631400 19                 EPPR1   0
        18 000367   000000 701000 xent               TSX1    Z9AL$WRITE_BLANK_LINE
        18 000370   000000 011000                    NOP     0

      243     4732
      244     4733    2         END;

      245     4734    1       USER_QUITS = FALSE;

   4734 18 000371   200012 450100                    STZ     USER_QUITS,,AUTO

      246     4735    1       CALL START_ILS$;

   4735 18 000372   001132 701000 18                 TSX1    START_ILS$
        18 000373   000000 011000                    NOP     0

      247     4736        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:66   
      248     4737    2       DO WHILE NOT USER_QUITS;

   4737 18 000374   001004 710000 18                 TRA     s:4835

      249     4738    2         IF PTR_ABORT THEN

   4738 18 000375   000000 234000 15                 SZN     PTR_ABORT
        18 000376   000410 605000 18                 TPL     s:4746

      250     4739    3          DO;

      251     4740    3            TREE_WALKING_LINES = FALSE;

   4740 18 000377   200010 450100                    STZ     TREE_WALKING_LINES,,AUTO

      252     4741    3            CALL WRITE_OBUF('Access out of segment', 21);

   4741 18 000400   000016 236000 19                 LDQ     14
        18 000401   202074 756100                    STQ     @STRING+1,,AUTO
        18 000402   000017 236000 19                 LDQ     15
        18 000403   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 000404   002755 701000 18                 TSX1    WRITE_OBUF
        18 000405   000000 011000                    NOP     0

      253     4742    3            PTR_ABORT = FALSE;

   4742 18 000406   000000 450000 15                 STZ     PTR_ABORT

      254     4743    3          END;

   4743 18 000407   000431 710000 18                 TRA     s:4752

      255     4744    2         ELSE
      256     4745    3           DO;

      257     4746    3             TREE_WALKING_LINES = TRUE;

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:67   
   4746 18 000410   400000 236003                    LDQ     -131072,DU
        18 000411   200010 756100                    STQ     TREE_WALKING_LINES,,AUTO

      258     4747    3             CALL WRITE_OBUF_VFC( 'Enter line number ',18);

   4747 18 000412   000021 236000 19                 LDQ     17
        18 000413   202074 756100                    STQ     @STRING+1,,AUTO
        18 000414   000022 236000 19                 LDQ     18
        18 000415   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 000416   003003 701000 18                 TSX1    WRITE_OBUF_VFC
        18 000417   000000 011000                    NOP     0

      259     4748    3             CALL Z9AL$READ_TERMINAL;

   4748 18 000420   000000 631400 19                 EPPR1   0
        18 000421   000000 701000 xent               TSX1    Z9AL$READ_TERMINAL
        18 000422   000000 011000                    NOP     0

      260     4749    3             CALL PRE_SCAN( USER_QUITS, TREE_WALKING_LINES );

   4749 18 000423   200010 630500                    EPPR0   TREE_WALKING_LINES,,AUTO
        18 000424   202074 450500                    STP0    @STRING+1,,AUTO
        18 000425   200012 631500                    EPPR1   USER_QUITS,,AUTO
        18 000426   202073 451500                    STP1    PRINT_ARG+1,,AUTO
        18 000427   002676 701000 18                 TSX1    PRE_SCAN
        18 000430   000000 011000                    NOP     0

      261     4750    3           END;

      262     4751
      263     4752    3         DO WHILE ( TREE_WALKING_LINES );

   4752 18 000431   200010 234100                    SZN     TREE_WALKING_LINES,,AUTO
        18 000432   000507 605000 18                 TPL     s:4766

      264     4753    3           CALL SCAN_LINE( LINE#S );

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:68   
   4753 18 000433   200016 630500                    EPPR0   LINE#S,,AUTO
        18 000434   201773 450500                    STP0    P$+3,,AUTO
        18 000435   001374 701000 18                 TSX1    SCAN_LINE
        18 000436   000000 011000                    NOP     0

      265     4754    3           IF NOT ERROR THEN

   4754 18 000437   200015 234100                    SZN     ERROR,,AUTO
        18 000440   000460 604000 18                 TMI     s:4760

      266     4755    3             IF COMCOM.FIRST_ILS-> ILS.ILL$-> ILL.ID = %END THEN

   4755 18 000441   000010 470400 xsym               LDP0    COMCOM+8
        18 000442   000003 471500                    LDP1    3,,PR0
        18 000443   100000 220100                    LDX0    0,,PR1
        18 000444   000374 100003                    CMPX0   252,DU
        18 000445   000453 601000 18                 TNZ     s:4758

      267     4756    3               CALL PHASE2_3_TREES( LINE#S );

   4756 18 000446   200016 633500                    EPPR3   LINE#S,,AUTO
        18 000447   201773 453500                    STP3    P$+3,,AUTO
        18 000450   000224 701000 18                 TSX1    PHASE2_3_TREES
        18 000451   000000 011000                    NOP     0
        18 000452   000466 710000 18                 TRA     s:4761

      268     4757    3             ELSE
      269     4758    3               CALL PRINT_TREES( LINE#S );

   4758 18 000453   200016 633500                    EPPR3   LINE#S,,AUTO
        18 000454   201773 453500                    STP3    P$+3,,AUTO
        18 000455   002117 701000 18                 TSX1    PRINT_TREES
        18 000456   000000 011000                    NOP     0
        18 000457   000466 710000 18                 TRA     s:4761

      270     4759    3           ELSE
      271     4760    3             CALL WRITE_OBUF('Invalid line number.',20);
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:69   

   4760 18 000460   000024 236000 19                 LDQ     20
        18 000461   202074 756100                    STQ     @STRING+1,,AUTO
        18 000462   000025 236000 19                 LDQ     21
        18 000463   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 000464   002755 701000 18                 TSX1    WRITE_OBUF
        18 000465   000000 011000                    NOP     0

      272     4761    3           CALL WRITE_OBUF_VFC('Enter line number ',18);

   4761 18 000466   000021 236000 19                 LDQ     17
        18 000467   202074 756100                    STQ     @STRING+1,,AUTO
        18 000470   000022 236000 19                 LDQ     18
        18 000471   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 000472   003003 701000 18                 TSX1    WRITE_OBUF_VFC
        18 000473   000000 011000                    NOP     0

      273     4762    3           CALL Z9AL$READ_TERMINAL;

   4762 18 000474   000000 631400 19                 EPPR1   0
        18 000475   000000 701000 xent               TSX1    Z9AL$READ_TERMINAL
        18 000476   000000 011000                    NOP     0

      274     4763    3           CALL PRE_SCAN( USER_QUITS, TREE_WALKING_LINES );

   4763 18 000477   200010 630500                    EPPR0   TREE_WALKING_LINES,,AUTO
        18 000500   202074 450500                    STP0    @STRING+1,,AUTO
        18 000501   200012 631500                    EPPR1   USER_QUITS,,AUTO
        18 000502   202073 451500                    STP1    PRINT_ARG+1,,AUTO
        18 000503   002676 701000 18                 TSX1    PRE_SCAN
        18 000504   000000 011000                    NOP     0

      275     4764    3         END;  /* while */

   4764 18 000505   200010 234100                    SZN     TREE_WALKING_LINES,,AUTO
        18 000506   000433 604000 18                 TMI     s:4753

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:70   
      276     4765        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:71   
      277     4766    2         IF NOT USER_QUITS THEN

   4766 18 000507   200012 234100                    SZN     USER_QUITS,,AUTO
        18 000510   000617 604000 18                 TMI     s:4791

      278     4767    3           DO;

      279     4768    3             TREE_WALKING_POINTERS = TRUE;

   4768 18 000511   400000 236003                    LDQ     -131072,DU
        18 000512   200007 756100                    STQ     TREE_WALKING_POINTERS,,AUTO

      280     4769    3             CALL WRITE_OBUF_VFC('Enter pointer,segid (EX: 000000,$LS0).',38);

   4769 18 000513   000027 236000 19                 LDQ     23
        18 000514   202074 756100                    STQ     @STRING+1,,AUTO
        18 000515   000030 236000 19                 LDQ     24
        18 000516   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 000517   003003 701000 18                 TSX1    WRITE_OBUF_VFC
        18 000520   000000 011000                    NOP     0

      281     4770    3             CALL Z9AL$READ_TERMINAL;

   4770 18 000521   000000 631400 19                 EPPR1   0
        18 000522   000000 701000 xent               TSX1    Z9AL$READ_TERMINAL
        18 000523   000000 011000                    NOP     0

      282     4771    3             CALL PRE_SCAN ( USER_QUITS, TREE_WALKING_POINTERS );

   4771 18 000524   200007 630500                    EPPR0   TREE_WALKING_POINTERS,,AUTO
        18 000525   202074 450500                    STP0    @STRING+1,,AUTO
        18 000526   200012 631500                    EPPR1   USER_QUITS,,AUTO
        18 000527   202073 451500                    STP1    PRINT_ARG+1,,AUTO
        18 000530   002676 701000 18                 TSX1    PRE_SCAN
        18 000531   000000 011000                    NOP     0

      283     4772
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:72   
      284     4773    4             DO WHILE ( TREE_WALKING_POINTERS );

   4773 18 000532   200007 234100                    SZN     TREE_WALKING_POINTERS,,AUTO
        18 000533   000617 605000 18                 TPL     s:4791

      285     4774    4               CALL Z9JS$SCAN_POINTER( P$ );

   4774 18 000534   201770 630500                    EPPR0   P$,,AUTO
        18 000535   202100 450500                    STP0    CHAR6+2,,AUTO
        18 000536   202100 630500                    EPPR0   CHAR6+2,,AUTO
        18 000537   000001 631400 19                 EPPR1   1
        18 000540   000000 701000 xent               TSX1    Z9JS$SCAN_POINTER
        18 000541   000000 011000                    NOP     0

      286     4775    4               IF P$ = ADDR(NIL) THEN

   4775 18 000542   201770 236100                    LDQ     P$,,AUTO
        18 000543   000003 116000 19                 CMPQ    3
        18 000544   000554 601000 18                 TNZ     s:4779

      287     4776    4                 CALL WRITE_OBUF ('Invalid pointer/segid',21);

   4776 18 000545   000016 236000 19                 LDQ     14
        18 000546   202074 756100                    STQ     @STRING+1,,AUTO
        18 000547   000031 236000 19                 LDQ     25
        18 000550   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 000551   002755 701000 18                 TSX1    WRITE_OBUF
        18 000552   000000 011000                    NOP     0
        18 000553   000576 710000 18                 TRA     s:4785

      288     4777    4               ELSE
      289     4778    5                 DO;

      290     4779    5                   CALL POINTER_HEADING(P$);

   4779 18 000554   201770 630500                    EPPR0   P$,,AUTO
        18 000555   201773 450500                    STP0    P$+3,,AUTO
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:73   
        18 000556   002613 701000 18                 TSX1    POINTER_HEADING
        18 000557   000000 011000                    NOP     0

      291     4780    5                  PRINT_ARG = 0;

   4780 18 000560   200004 450100                    STZ     PRINT_ARG,,AUTO

      292     4781    5                  PTR_ABORT = TRUE;

   4781 18 000561   400000 236003                    LDQ     -131072,DU
        18 000562   000000 756000 15                 STQ     PTR_ABORT

      293     4782    5                  CALL Z8JW$WALK_TREE ( P$, 2, PRINT_ARG );

   4782 18 000563   200004 630500                    EPPR0   PRINT_ARG,,AUTO
        18 000564   202102 450500                    STP0    CHAR6+4,,AUTO
        18 000565   000011 236000 19                 LDQ     9
        18 000566   202101 756100                    STQ     CHAR6+3,,AUTO
        18 000567   201770 631500                    EPPR1   P$,,AUTO
        18 000570   202100 451500                    STP1    CHAR6+2,,AUTO
        18 000571   202100 630500                    EPPR0   CHAR6+2,,AUTO
        18 000572   000006 631400 19                 EPPR1   6
        18 000573   000000 701000 xent               TSX1    Z8JW$WALK_TREE
        18 000574   000000 011000                    NOP     0

      294     4783    5                  PTR_ABORT = FALSE;

   4783 18 000575   000000 450000 15                 STZ     PTR_ABORT

      295     4784    5                END;

      296     4785    4              CALL WRITE_OBUF_VFC('Enter pointer,segid (ex: 000000,$LS0).',38);

   4785 18 000576   000027 236000 19                 LDQ     23
        18 000577   202074 756100                    STQ     @STRING+1,,AUTO
        18 000600   000032 236000 19                 LDQ     26
        18 000601   202073 756100                    STQ     PRINT_ARG+1,,AUTO
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:74   
        18 000602   003003 701000 18                 TSX1    WRITE_OBUF_VFC
        18 000603   000000 011000                    NOP     0

      297     4786    4              CALL Z9AL$READ_TERMINAL;

   4786 18 000604   000000 631400 19                 EPPR1   0
        18 000605   000000 701000 xent               TSX1    Z9AL$READ_TERMINAL
        18 000606   000000 011000                    NOP     0

      298     4787    4              CALL PRE_SCAN ( USER_QUITS, TREE_WALKING_POINTERS );

   4787 18 000607   200007 630500                    EPPR0   TREE_WALKING_POINTERS,,AUTO
        18 000610   202074 450500                    STP0    @STRING+1,,AUTO
        18 000611   200012 631500                    EPPR1   USER_QUITS,,AUTO
        18 000612   202073 451500                    STP1    PRINT_ARG+1,,AUTO
        18 000613   002676 701000 18                 TSX1    PRE_SCAN
        18 000614   000000 011000                    NOP     0

      299     4788    4             END; /* while */

   4788 18 000615   200007 234100                    SZN     TREE_WALKING_POINTERS,,AUTO
        18 000616   000534 604000 18                 TMI     s:4774

      300     4789    3           END;

      301     4790        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:75   
      302     4791    2         IF NOT USER_QUITS THEN

   4791 18 000617   200012 234100                    SZN     USER_QUITS,,AUTO
        18 000620   000713 604000 18                 TMI     s:4813

      303     4792    3           DO;

      304     4793    3             TABLE_DUMPING = TRUE;

   4793 18 000621   400000 236003                    LDQ     -131072,DU
        18 000622   200011 756100                    STQ     TABLE_DUMPING,,AUTO

      305     4794    3             CALL WRITE_OBUF_VFC('Enter pointer to item to be dumped.',35);

   4794 18 000623   000013 236000 19                 LDQ     11
        18 000624   202074 756100                    STQ     @STRING+1,,AUTO
        18 000625   000033 236000 19                 LDQ     27
        18 000626   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 000627   003003 701000 18                 TSX1    WRITE_OBUF_VFC
        18 000630   000000 011000                    NOP     0

      306     4795    3             CALL Z9AL$READ_TERMINAL;

   4795 18 000631   000000 631400 19                 EPPR1   0
        18 000632   000000 701000 xent               TSX1    Z9AL$READ_TERMINAL
        18 000633   000000 011000                    NOP     0

      307     4796    3             CALL PRE_SCAN ( USER_QUITS, TABLE_DUMPING );

   4796 18 000634   200011 630500                    EPPR0   TABLE_DUMPING,,AUTO
        18 000635   202074 450500                    STP0    @STRING+1,,AUTO
        18 000636   200012 631500                    EPPR1   USER_QUITS,,AUTO
        18 000637   202073 451500                    STP1    PRINT_ARG+1,,AUTO
        18 000640   002676 701000 18                 TSX1    PRE_SCAN
        18 000641   000000 011000                    NOP     0

      308     4797
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:76   
      309     4798    4             DO WHILE ( TABLE_DUMPING );

   4798 18 000642   200011 234100                    SZN     TABLE_DUMPING,,AUTO
        18 000643   000713 605000 18                 TPL     s:4813

      310     4799    4               CALL Z9JS$SCAN_POINTER( P$ );

   4799 18 000644   201770 630500                    EPPR0   P$,,AUTO
        18 000645   202100 450500                    STP0    CHAR6+2,,AUTO
        18 000646   202100 630500                    EPPR0   CHAR6+2,,AUTO
        18 000647   000001 631400 19                 EPPR1   1
        18 000650   000000 701000 xent               TSX1    Z9JS$SCAN_POINTER
        18 000651   000000 011000                    NOP     0

      311     4800    4               IF P$ = ADDR(NIL) THEN

   4800 18 000652   201770 236100                    LDQ     P$,,AUTO
        18 000653   000003 116000 19                 CMPQ    3
        18 000654   000664 601000 18                 TNZ     s:4803

      312     4801    4                 CALL WRITE_OBUF ('Invalid pointer/segid',21);

   4801 18 000655   000016 236000 19                 LDQ     14
        18 000656   202074 756100                    STQ     @STRING+1,,AUTO
        18 000657   000031 236000 19                 LDQ     25
        18 000660   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 000661   002755 701000 18                 TSX1    WRITE_OBUF
        18 000662   000000 011000                    NOP     0
        18 000663   000672 710000 18                 TRA     s:4804

      313     4802    4               ELSE
      314     4803    4                  CALL Z8JT$ONLINE_TABLE_DUMP( P$ );

   4803 18 000664   201770 630500                    EPPR0   P$,,AUTO
        18 000665   202100 450500                    STP0    CHAR6+2,,AUTO
        18 000666   202100 630500                    EPPR0   CHAR6+2,,AUTO
        18 000667   000001 631400 19                 EPPR1   1
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:77   
        18 000670   000000 701000 xent               TSX1    Z8JT$ONLINE_TABLE_DUMP
        18 000671   000000 011000                    NOP     0

      315     4804    4              CALL WRITE_OBUF_VFC('Enter pointer to item to be dumped.',35);

   4804 18 000672   000013 236000 19                 LDQ     11
        18 000673   202074 756100                    STQ     @STRING+1,,AUTO
        18 000674   000033 236000 19                 LDQ     27
        18 000675   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 000676   003003 701000 18                 TSX1    WRITE_OBUF_VFC
        18 000677   000000 011000                    NOP     0

      316     4805    4              CALL Z9AL$READ_TERMINAL;

   4805 18 000700   000000 631400 19                 EPPR1   0
        18 000701   000000 701000 xent               TSX1    Z9AL$READ_TERMINAL
        18 000702   000000 011000                    NOP     0

      317     4806    4              CALL PRE_SCAN ( USER_QUITS, TABLE_DUMPING );

   4806 18 000703   200011 630500                    EPPR0   TABLE_DUMPING,,AUTO
        18 000704   202074 450500                    STP0    @STRING+1,,AUTO
        18 000705   200012 631500                    EPPR1   USER_QUITS,,AUTO
        18 000706   202073 451500                    STP1    PRINT_ARG+1,,AUTO
        18 000707   002676 701000 18                 TSX1    PRE_SCAN
        18 000710   000000 011000                    NOP     0

      318     4807    4             END; /* while */

   4807 18 000711   200011 234100                    SZN     TABLE_DUMPING,,AUTO
        18 000712   000644 604000 18                 TMI     s:4799

      319     4808    3           END;

      320     4809
      321     4810
      322     4811        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:78   
      323     4812
      324     4813    2          IF NOT USER_QUITS THEN

   4813 18 000713   200012 234100                    SZN     USER_QUITS,,AUTO
        18 000714   001004 604000 18                 TMI     s:4835

      325     4814    3            DO;

      326     4815    3              DNT_DUMPING = TRUE;

   4815 18 000715   400000 236003                    LDQ     -131072,DU
        18 000716   200013 756100                    STQ     DNT_DUMPING,,AUTO

      327     4816
      328     4817    3              CALL WRITE_OBUF_VFC ('Enter DNT TEXT of item to be dumped.',36);

   4817 18 000717   000035 236000 19                 LDQ     29
        18 000720   202074 756100                    STQ     @STRING+1,,AUTO
        18 000721   000036 236000 19                 LDQ     30
        18 000722   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 000723   003003 701000 18                 TSX1    WRITE_OBUF_VFC
        18 000724   000000 011000                    NOP     0

      329     4818    3              CALL Z9AL$READ_TERMINAL;

   4818 18 000725   000000 631400 19                 EPPR1   0
        18 000726   000000 701000 xent               TSX1    Z9AL$READ_TERMINAL
        18 000727   000000 011000                    NOP     0

      330     4819    3              CALL PRE_SCAN (USER_QUITS, DNT_DUMPING);

   4819 18 000730   200013 630500                    EPPR0   DNT_DUMPING,,AUTO
        18 000731   202074 450500                    STP0    @STRING+1,,AUTO
        18 000732   200012 631500                    EPPR1   USER_QUITS,,AUTO
        18 000733   202073 451500                    STP1    PRINT_ARG+1,,AUTO
        18 000734   002676 701000 18                 TSX1    PRE_SCAN
        18 000735   000000 011000                    NOP     0
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:79   

      331     4820
      332     4821    4              DO WHILE (DNT_DUMPING);

   4821 18 000736   200013 234100                    SZN     DNT_DUMPING,,AUTO
        18 000737   001004 605000 18                 TPL     s:4835

      333     4822    4                CALL DNT_SCAN (LENGTH);

   4822 18 000740   200014 630500                    EPPR0   LENGTH,,AUTO
        18 000741   201773 450500                    STP0    P$+3,,AUTO
        18 000742   001007 701000 18                 TSX1    DNT_SCAN
        18 000743   000000 011000                    NOP     0

      334     4823
      335     4824    4                IF LENGTH = 0 THEN

   4824 18 000744   200014 235100                    LDA     LENGTH,,AUTO
        18 000745   000755 601000 18                 TNZ     s:4827

      336     4825    4                  CALL WRITE_OBUF ('Invalid DNT TEXT.', 16);

   4825 18 000746   000040 236000 19                 LDQ     32
        18 000747   202074 756100                    STQ     @STRING+1,,AUTO
        18 000750   000041 236000 19                 LDQ     33
        18 000751   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 000752   002755 701000 18                 TSX1    WRITE_OBUF
        18 000753   000000 011000                    NOP     0
        18 000754   000763 710000 18                 TRA     s:4829

      337     4826    4                ELSE
      338     4827    4                  CALL PRINT_ST_FROM_DNT (INBUF, LENGTH);

   4827 18 000755   200014 630500                    EPPR0   LENGTH,,AUTO
        18 000756   201774 450500                    STP0    @P$+1,,AUTO
        18 000757   000042 236000 19                 LDQ     34
        18 000760   201773 756100                    STQ     P$+3,,AUTO
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:80   
        18 000761   001035 701000 18                 TSX1    PRINT_ST_FROM_DNT
        18 000762   000000 011000                    NOP     0

      339     4828
      340     4829    4                CALL WRITE_OBUF_VFC ('Enter DNT TEXT of item to be dumped.',36);

   4829 18 000763   000035 236000 19                 LDQ     29
        18 000764   202074 756100                    STQ     @STRING+1,,AUTO
        18 000765   000036 236000 19                 LDQ     30
        18 000766   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 000767   003003 701000 18                 TSX1    WRITE_OBUF_VFC
        18 000770   000000 011000                    NOP     0

      341     4830    4                CALL Z9AL$READ_TERMINAL;

   4830 18 000771   000000 631400 19                 EPPR1   0
        18 000772   000000 701000 xent               TSX1    Z9AL$READ_TERMINAL
        18 000773   000000 011000                    NOP     0

      342     4831    4                CALL PRE_SCAN (USER_QUITS, DNT_DUMPING);

   4831 18 000774   200013 630500                    EPPR0   DNT_DUMPING,,AUTO
        18 000775   202074 450500                    STP0    @STRING+1,,AUTO
        18 000776   200012 631500                    EPPR1   USER_QUITS,,AUTO
        18 000777   202073 451500                    STP1    PRINT_ARG+1,,AUTO
        18 001000   002676 701000 18                 TSX1    PRE_SCAN
        18 001001   000000 011000                    NOP     0

      343     4832    4              END; /* While */

   4832 18 001002   200013 234100                    SZN     DNT_DUMPING,,AUTO
        18 001003   000740 604000 18                 TMI     s:4822

      344     4833    3            END; /* If not user_quits */

      345     4834
      346     4835    2       END;  /* until */
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:81   

   4835 18 001004   200012 234100                    SZN     USER_QUITS,,AUTO
        18 001005   000375 605000 18                 TPL     s:4738

      347     4836    1       RETURN;

   4836 18 001006   000000 702200 xent               TSX2  ! X66_ARET

      348     4837        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:82   
      349     4838    1   DNT_SCAN: PROC (LENGTH);

   4838 18 001007   201772 741300       DNT_SCAN     STX1  ! P$+2,,AUTO

      350     4839
      351     4840    2        DCL LENGTH        SBIN;
      352     4841    2        DCL TABLEVAL      SBIN;
      353     4842    2        DCL BLANK_SCAN_TABLE     (0:511) UBIN (9) UNAL CONSTANT INIT (
      354     4843    2                                 1*32, 0, 1*479);
      355     4844
      356     4845
      357     4846
      358     4847    2        CALL SEARCHR (LENGTH, TABLEVAL, BLANK_SCAN_TABLE, INBUF);

   4847 18 001010   201773 470500                    LDP0    @LENGTH,,AUTO
        18 001011   000000 165400                    TCTR
        18 001012   000000 000120 14                 ADSC9   INBUF                    cn=0,n=80
        18 001013   000000 000000 17                 ARG     BLANK_SCAN_TABLE
        18 001014   000000 000100                    ARG     0,,PR0
        18 001015   000000 235100                    LDA     0,,PR0
        18 001016   000033 771000                    ARL     27
        18 001017   201774 755100                    STA     TABLEVAL,,AUTO
        18 001020   000000 551140                    STBA    0,'40'O,PR0
        18 001021   001024 606400 18                 TTN     s:4849
        18 001022   000117 236007                    LDQ     79,DL
        18 001023   000000 156100                    SSQ     0,,PR0

      359     4848
      360     4849    2        IF LENGTH = 80 THEN

   4849 18 001024   000000 235100                    LDA     0,,PR0
        18 001025   000120 115007                    CMPA    80,DL
        18 001026   001032 601000 18                 TNZ     s:4855

      361     4850    3          DO;

      362     4851    3            LENGTH = 0;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:83   

   4851 18 001027   000000 450100                    STZ     0,,PR0

      363     4852    3            RETURN;

   4852 18 001030   201772 221300                    LDX1  ! P$+2,,AUTO
        18 001031   000001 702211                    TSX2  ! 1,X1

      364     4853    3          END;
      365     4854
      366     4855    2        LENGTH = LENGTH + 1;

   4855 18 001032   000000 054100                    AOS     0,,PR0

      367     4856
      368     4857    2   END DNT_SCAN;

   4857 18 001033   201772 221300                    LDX1  ! P$+2,,AUTO
        18 001034   000001 702211                    TSX2  ! 1,X1

      369     4858        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:84   
      370     4859    1   PRINT_ST_FROM_DNT: PROC (STRING, LENGTH);

   4859 18 001035   201772 741300       PRINT_ST_FR* STX1  ! P$+2,,AUTO

      371     4860
      372     4861    2        DCL LENGTH        SBIN;
      373     4862    2        DCL STRING        CHAR (LENGTH);
      374     4863    2        DCL DNT$$         PTR;
      375     4864
      376     4865
      377     4866             %TOP_DNT (POINTER = DNT$$);

   4868 18 001036   000000 236000 2                  LDQ     DNT_
        18 001037   201775 756100                    STQ     DNT$$,,AUTO

      378     4871
      379     4872    3        DO WHILE (DNT$$ ~= ADDR(NIL));

   4872 18 001040   001125 710000 18                 TRA     s:4895

      380     4873    3          IF DNT$$ -> DNT.TEXT.LENGTH = LENGTH THEN

   4873 18 001041   201774 470500                    LDP0    @LENGTH,,AUTO
        18 001042   201775 471500                    LDP1    DNT$$,,AUTO
        18 001043   100004 236100                    LDQ     4,,PR1
        18 001044   000022 772000                    QRL     18
        18 001045   000000 116100                    CMPQ    0,,PR0
        18 001046   001103 601000 18                 TNZ     s:4887

      381     4874    3            IF DNT$$ -> DNT.TEXT.NAME = STRING THEN

   4874 18 001047   100004 220100                    LDX0    4,,PR1
        18 001050   000000 721100                    LXL1    0,,PR0
        18 001051   201773 473500                    LDP3    @STRING,,AUTO
        18 001052   040140 106540                    CMPC    fill='040'O
        18 001053   100004 400010                    ADSC9   4,,PR1                   cn=2,n=*X0
        18 001054   300000 000011                    ADSC9   0,,PR3                   cn=0,n=*X1
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:85   
        18 001055   001103 601000 18                 TNZ     s:4887

      382     4875    4              DO;

      383     4876                     /* A Match found, If a ST$ exists, print the item */
      384     4877    4                CALL Z9AL$WRITE_BLANK_LINE;

   4877 18 001056   000000 631400 19                 EPPR1   0
        18 001057   000000 701000 xent               TSX1    Z9AL$WRITE_BLANK_LINE
        18 001060   000000 011000                    NOP     0

      385     4878
      386     4879    4                IF DNT$$ -> DNT.ST$ ~= ADDR(NIL) THEN

   4879 18 001061   201775 470500                    LDP0    DNT$$,,AUTO
        18 001062   000001 236100                    LDQ     1,,PR0
        18 001063   000003 116000 19                 CMPQ    3
        18 001064   001075 600000 18                 TZE     s:4882

      387     4880    4                  CALL Z8JT$ONLINE_TABLE_DUMP (DNT$$ -> DNT.ST$);

   4880 18 001065   201775 236100                    LDQ     DNT$$,,AUTO
        18 001066   000001 036003                    ADLQ    1,DU
        18 001067   202100 756100                    STQ     CHAR6+2,,AUTO
        18 001070   202100 630500                    EPPR0   CHAR6+2,,AUTO
        18 001071   000001 631400 19                 EPPR1   1
        18 001072   000000 701000 xent               TSX1    Z8JT$ONLINE_TABLE_DUMP
        18 001073   000000 011000                    NOP     0
        18 001074   001103 710000 18                 TRA     s:4887

      388     4881    4                ELSE
      389     4882    4                  CALL WRITE_OBUF ('The ST$ is nil.',14);

   4882 18 001075   000044 236000 19                 LDQ     36
        18 001076   202074 756100                    STQ     @STRING+1,,AUTO
        18 001077   000045 236000 19                 LDQ     37
        18 001100   202073 756100                    STQ     PRINT_ARG+1,,AUTO
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:86   
        18 001101   002755 701000 18                 TSX1    WRITE_OBUF
        18 001102   000000 011000                    NOP     0

      390     4883    4              END;

      391     4884
      392     4885               %STEP_DNT (POINTER = DNT$$);

   4887 18 001103   201775 470500                    LDP0    DNT$$,,AUTO
        18 001104   000000 720100                    LXL0    0,,PR0
        18 001105   000000 636010                    EAQ     0,X0
        18 001106   201775 036100                    ADLQ    DNT$$,,AUTO
        18 001107   201775 756100                    STQ     DNT$$,,AUTO

   4888 18 001110   000002 236000 2                  LDQ     DNT_+2
        18 001111   000022 736000                    QLS     18
        18 001112   000001 036000 2                  ADLQ    DNT_+1
        18 001113   201775 116100                    CMPQ    DNT$$,,AUTO
        18 001114   001120 601000 18                 TNZ     s:4891

   4889 18 001115   000003 236000 19                 LDQ     3
        18 001116   201775 756100                    STQ     DNT$$,,AUTO
        18 001117   001125 710000 18                 TRA     s:4895

   4891 18 001120   201775 470500                    LDP0    DNT$$,,AUTO
        18 001121   000000 220100                    LDX0    0,,PR0
        18 001122   001125 601000 18                 TNZ     s:4895

   4892 18 001123   000001 236100                    LDQ     1,,PR0
        18 001124   201775 756100                    STQ     DNT$$,,AUTO

      393     4895    3        END; /* While */

   4895 18 001125   201775 236100                    LDQ     DNT$$,,AUTO
        18 001126   000003 116000 19                 CMPQ    3
        18 001127   001041 601000 18                 TNZ     s:4873

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:87   
      394     4896
      395     4897    2   END PRINT_ST_FROM_DNT;

   4897 18 001130   201772 221300                    LDX1  ! P$+2,,AUTO
        18 001131   000001 702211                    TSX2  ! 1,X1

      396     4898        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:88   
      397     4899    1     START_ILS$:  PROC;

   4899 18 001132   202070 741300       START_ILS$   STX1  ! STRING+30,,AUTO

      398     4900
      399     4901
      400     4902        /*V*              START_ILS$
      401     4903             Start ILS$ at COMCOM.FIRST _ILS for phases 2-5, but
      402     4904             for phase 1 COMCOM.FIRST _ILS is nil so prompt the user for
      403     4905             the pointer to start ILS$ at.
      404     4906        */
      405     4907
      406     4908    2           ILS$ = COMCOM.FIRST_ILS;

   4908 18 001133   000010 236000 xsym               LDQ     COMCOM+8
        18 001134   000000 756000 7                  STQ     ILS$

      407     4909
      408     4910    3           DO WHILE( ILS$ = ADDR(NIL) AND NOT USER_QUITS );

   4910 18 001135   001223 710000 18                 TRA     s:4938

      409     4911    3             INBUF = ' ';                   /* Clear INBUF for ils$ */

   4911 18 001136   040000 100400                    MLR     fill='040'O
        18 001137   000002 000001 19                 ADSC9   2                        cn=0,n=1
        18 001140   000000 000120 14                 ADSC9   INBUF                    cn=0,n=80

      410     4912    3             CALL WRITE_OBUF_VFC('Enter ILS$,Segid (Ex: 000000,$LS0).',35);

   4912 18 001141   000013 236000 19                 LDQ     11
        18 001142   202074 756100                    STQ     @STRING+1,,AUTO
        18 001143   000046 236000 19                 LDQ     38
        18 001144   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 001145   003003 701000 18                 TSX1    WRITE_OBUF_VFC
        18 001146   000000 011000                    NOP     0

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:89   
      411     4913    3             CALL Z9AL$READ_TERMINAL;

   4913 18 001147   000000 631400 19                 EPPR1   0
        18 001150   000000 701000 xent               TSX1    Z9AL$READ_TERMINAL
        18 001151   000000 011000                    NOP     0

      412     4914    3             CALL PRE_SCAN(USER_QUITS, TREE_WALKING_LINES);

   4914 18 001152   200010 630500                    EPPR0   TREE_WALKING_LINES,,AUTO
        18 001153   202074 450500                    STP0    @STRING+1,,AUTO
        18 001154   200012 631500                    EPPR1   USER_QUITS,,AUTO
        18 001155   202073 451500                    STP1    PRINT_ARG+1,,AUTO
        18 001156   002676 701000 18                 TSX1    PRE_SCAN
        18 001157   000000 011000                    NOP     0

      413     4915    3             IF NOT USER_QUITS THEN

   4915 18 001160   200012 234100                    SZN     USER_QUITS,,AUTO
        18 001161   001223 604000 18                 TMI     s:4938

      414     4916    4               DO;

      415     4917    4                 CALL Z9JS$SCAN_POINTER( ILS$ );

   4917 18 001162   000047 630400 19                 EPPR0   39
        18 001163   000001 631400 19                 EPPR1   1
        18 001164   000000 701000 xent               TSX1    Z9JS$SCAN_POINTER
        18 001165   000000 011000                    NOP     0

      416     4918        /*
      417     4919          Z9JP$scan_pointer allows a blank input for tranfers between line#s
      418     4920          and pointers but, blank is not valid here.
      419     4921        */
      420     4922
      421     4923    4                 IF  INBUF = ' ' THEN

   4923 18 001166   040000 106400                    CMPC    fill='040'O
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:90   
        18 001167   000000 000120 14                 ADSC9   INBUF                    cn=0,n=80
        18 001170   000002 000001 19                 ADSC9   2                        cn=0,n=1
        18 001171   001174 601000 18                 TNZ     s:4925

      422     4924    4                   ILS$ = ADDR(NIL);

   4924 18 001172   000003 236000 19                 LDQ     3
        18 001173   000000 756000 7                  STQ     ILS$

      423     4925    4                 IF ILS$ = ADDR(NIL) THEN

   4925 18 001174   000000 236000 7                  LDQ     ILS$
        18 001175   000003 116000 19                 CMPQ    3
        18 001176   001206 601000 18                 TNZ     s:4928

      424     4926    4                   CALL WRITE_OBUF('Invalid pointer/segid',21);

   4926 18 001177   000016 236000 19                 LDQ     14
        18 001200   202074 756100                    STQ     @STRING+1,,AUTO
        18 001201   000031 236000 19                 LDQ     25
        18 001202   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 001203   002755 701000 18                 TSX1    WRITE_OBUF
        18 001204   000000 011000                    NOP     0
        18 001205   001223 710000 18                 TRA     s:4938

      425     4927    4                 ELSE
      426     4928    4                   CALL Z9JW$CHECK_PTR( ILS$ )

   4928 18 001206   000047 630400 19                 EPPR0   39
        18 001207   000001 631400 19                 EPPR1   1
        18 001210   000000 701000 xent               TSX1    Z9JW$CHECK_PTR
        18 001211   001215 702000 18                 TSX2    s:4935

      427     4929    4                   WHENRETURN
      428     4930    5                     DO;

      429     4931    5                       COMCOM.FIRST_ILS = ILS$;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:91   

   4931 18 001212   000000 236000 7                  LDQ     ILS$
        18 001213   000010 756000 xsym               STQ     COMCOM+8

      430     4932    5                     END;

   4932 18 001214   001223 710000 18                 TRA     s:4938

      431     4933    4                   WHENALTRETURN
      432     4934    5                     DO;

      433     4935    5                       CALL WRITE_OBUF('Invalid pointer/segid',21);

   4935 18 001215   000016 236000 19                 LDQ     14
        18 001216   202074 756100                    STQ     @STRING+1,,AUTO
        18 001217   000031 236000 19                 LDQ     25
        18 001220   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 001221   002755 701000 18                 TSX1    WRITE_OBUF
        18 001222   000000 011000                    NOP     0

      434     4936    5                     END;

      435     4937    4               END;

      436     4938    3         END; /* while */

   4938 18 001223   000000 236000 7                  LDQ     ILS$
        18 001224   000003 116000 19                 CMPQ    3
        18 001225   001230 601000 18                 TNZ     s:4939
        18 001226   200012 234100                    SZN     USER_QUITS,,AUTO
        18 001227   001136 605000 18                 TPL     s:4911

      437     4939    2     END START_ILS$;  /* proc */

   4939 18 001230   202070 221300                    LDX1  ! STRING+30,,AUTO
        18 001231   000001 702211                    TSX2  ! 1,X1

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:92   
      438     4940        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:93   
      439     4941    1   Z8JS$ABSTRACT_TREES:  ENTRY;

   4941 18 001232   000000 700200 xent  Z8JS$ABSTRA* TSX0  ! X66_AUTO_0
        18 001233   002104 000000                    ZERO    1092,0

      440     4942
      441     4943        /*
      442     4944               Start break and abort control.
      443     4945        */
      444     4946    1       CALL Z9JS$START( ENTADDR( Z8JS$ABSTRACT_TREES ) );

   4946 18 001234   001232 636000 18                 EAQ     s:4941
        18 001235   202100 756100                    STQ     CHAR6+2,,AUTO
        18 001236   202100 630500                    EPPR0   CHAR6+2,,AUTO
        18 001237   202101 450500                    STP0    CHAR6+3,,AUTO
        18 001240   202101 630500                    EPPR0   CHAR6+3,,AUTO
        18 001241   000001 631400 19                 EPPR1   1
        18 001242   000000 701000 xent               TSX1    Z9JS$START
        18 001243   000000 011000                    NOP     0

      445     4947
      446     4948    1       USER_QUITS = FALSE;

   4948 18 001244   200012 450100                    STZ     USER_QUITS,,AUTO

      447     4949    1       CALL WRITE_OBUF_VFC('Enter pointer,segid (Ex: 000000,$LS0).',38);

   4949 18 001245   000027 236000 19                 LDQ     23
        18 001246   202074 756100                    STQ     @STRING+1,,AUTO
        18 001247   000050 236000 19                 LDQ     40
        18 001250   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 001251   003003 701000 18                 TSX1    WRITE_OBUF_VFC
        18 001252   000000 011000                    NOP     0

      448     4950    1       CALL Z9AL$READ_TERMINAL;

   4950 18 001253   000000 631400 19                 EPPR1   0
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:94   
        18 001254   000000 701000 xent               TSX1    Z9AL$READ_TERMINAL
        18 001255   000000 011000                    NOP     0

      449     4951    1       CALL PRE_SCAN( USER_QUITS, TREE_WALKING_POINTERS );

   4951 18 001256   200007 630500                    EPPR0   TREE_WALKING_POINTERS,,AUTO
        18 001257   202074 450500                    STP0    @STRING+1,,AUTO
        18 001260   200012 631500                    EPPR1   USER_QUITS,,AUTO
        18 001261   202073 451500                    STP1    PRINT_ARG+1,,AUTO
        18 001262   002676 701000 18                 TSX1    PRE_SCAN
        18 001263   000000 011000                    NOP     0

      450     4952    2       DO WHILE NOT USER_QUITS;

   4952 18 001264   001371 710000 18                 TRA     s:4971

      451     4953    2         CALL Z9JS$SCAN_POINTER( P$ );

   4953 18 001265   201770 630500                    EPPR0   P$,,AUTO
        18 001266   202100 450500                    STP0    CHAR6+2,,AUTO
        18 001267   202100 630500                    EPPR0   CHAR6+2,,AUTO
        18 001270   000001 631400 19                 EPPR1   1
        18 001271   000000 701000 xent               TSX1    Z9JS$SCAN_POINTER
        18 001272   000000 011000                    NOP     0

      452     4954    2         IF P$ = ADDR(NIL) THEN

   4954 18 001273   201770 236100                    LDQ     P$,,AUTO
        18 001274   000003 116000 19                 CMPQ    3
        18 001275   001305 601000 18                 TNZ     s:4959

      453     4955    2           CALL WRITE_OBUF('Invalid pointer/segid',21);

   4955 18 001276   000016 236000 19                 LDQ     14
        18 001277   202074 756100                    STQ     @STRING+1,,AUTO
        18 001300   000031 236000 19                 LDQ     25
        18 001301   202073 756100                    STQ     PRINT_ARG+1,,AUTO
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:95   
        18 001302   002755 701000 18                 TSX1    WRITE_OBUF
        18 001303   000000 011000                    NOP     0
        18 001304   001352 710000 18                 TRA     s:4968

      454     4956    2         ELSE
      455     4957    3           DO;

      456     4958
      457     4959    3             CALL WRITE_OBUF_VFC('Lower trees?',12);

   4959 18 001305   000052 236000 19                 LDQ     42
        18 001306   202074 756100                    STQ     @STRING+1,,AUTO
        18 001307   000053 236000 19                 LDQ     43
        18 001310   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 001311   003003 701000 18                 TSX1    WRITE_OBUF_VFC
        18 001312   000000 011000                    NOP     0

      458     4960    3             CALL Z9AL$READ_TERMINAL;

   4960 18 001313   000000 631400 19                 EPPR1   0
        18 001314   000000 701000 xent               TSX1    Z9AL$READ_TERMINAL
        18 001315   000000 011000                    NOP     0

      459     4961    3             OBUF = ' ';

   4961 18 001316   040000 100400                    MLR     fill='040'O
        18 001317   000002 000001 19                 ADSC9   2                        cn=0,n=1
        18 001320   000000 000170 13                 ADSC9   OBUF                     cn=0,n=120

      460     4962    3             IF SUBSTR( INBUF,0,1 ) = 'N' THEN

   4962 18 001321   000000 236000 14                 LDQ     INBUF
        18 001322   777000 376003                    ANQ     -512,DU
        18 001323   116000 116003                    CMPQ    39936,DU
        18 001324   001340 601000 18                 TNZ     s:4965

      461     4963    3               CALL Z8JW$ABSTRACT_TREES( P$, 2, -2);
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:96   

   4963 18 001325   000055 236000 19                 LDQ     45
        18 001326   202102 756100                    STQ     CHAR6+4,,AUTO
        18 001327   000011 236000 19                 LDQ     9
        18 001330   202101 756100                    STQ     CHAR6+3,,AUTO
        18 001331   201770 630500                    EPPR0   P$,,AUTO
        18 001332   202100 450500                    STP0    CHAR6+2,,AUTO
        18 001333   202100 630500                    EPPR0   CHAR6+2,,AUTO
        18 001334   000006 631400 19                 EPPR1   6
        18 001335   000000 701000 xent               TSX1    Z8JW$ABSTRACT_TREES
        18 001336   000000 011000                    NOP     0
        18 001337   001352 710000 18                 TRA     s:4968

      462     4964    3             ELSE
      463     4965    3               CALL Z8JW$ABSTRACT_TREES( P$, 3, -2);

   4965 18 001340   000055 236000 19                 LDQ     45
        18 001341   202102 756100                    STQ     CHAR6+4,,AUTO
        18 001342   000057 236000 19                 LDQ     47
        18 001343   202101 756100                    STQ     CHAR6+3,,AUTO
        18 001344   201770 630500                    EPPR0   P$,,AUTO
        18 001345   202100 450500                    STP0    CHAR6+2,,AUTO
        18 001346   202100 630500                    EPPR0   CHAR6+2,,AUTO
        18 001347   000006 631400 19                 EPPR1   6
        18 001350   000000 701000 xent               TSX1    Z8JW$ABSTRACT_TREES
        18 001351   000000 011000                    NOP     0

      464     4966
      465     4967    3           END;

      466     4968    2       CALL WRITE_OBUF_VFC('Enter pointer,segid (Ex: 000000,$LS0).',38);

   4968 18 001352   000027 236000 19                 LDQ     23
        18 001353   202074 756100                    STQ     @STRING+1,,AUTO
        18 001354   000050 236000 19                 LDQ     40
        18 001355   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 001356   003003 701000 18                 TSX1    WRITE_OBUF_VFC
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:97   
        18 001357   000000 011000                    NOP     0

      467     4969    2       CALL Z9AL$READ_TERMINAL;

   4969 18 001360   000000 631400 19                 EPPR1   0
        18 001361   000000 701000 xent               TSX1    Z9AL$READ_TERMINAL
        18 001362   000000 011000                    NOP     0

      468     4970    2       CALL PRE_SCAN( USER_QUITS, TREE_WALKING_POINTERS );

   4970 18 001363   200007 630500                    EPPR0   TREE_WALKING_POINTERS,,AUTO
        18 001364   202074 450500                    STP0    @STRING+1,,AUTO
        18 001365   200012 631500                    EPPR1   USER_QUITS,,AUTO
        18 001366   202073 451500                    STP1    PRINT_ARG+1,,AUTO
        18 001367   002676 701000 18                 TSX1    PRE_SCAN
        18 001370   000000 011000                    NOP     0

      469     4971    2       END;

   4971 18 001371   200012 234100                    SZN     USER_QUITS,,AUTO
        18 001372   001265 605000 18                 TPL     s:4953
        18 001373   003023 710000 18                 TRA     s:5468

      470     4972
      471     4973        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:98   
      472     4974    1     SCAN_LINE: PROC (LINE#S);

   4974 18 001374   201772 741300       SCAN_LINE    STX1  ! P$+2,,AUTO

      473     4975        /*I*    NAME:  SCAN_LINE
      474     4976                       ---------
      475     4977            VERIFY AND BUILD THE LINE NUMBER REQUESTED BY THE
      476     4978            USER .
      477     4979        */
      478     4980
      479     4981
      480     4982    2       DCL I             SBIN WORD;
      481     4983    2       DCL J             SBIN WORD;
      482     4984    2       DCL THRU_CLAUSE   BIT(1);
      483     4985
      484     4986
      485     4987    2       DCL LINE#S(0:999)  SBIN WORD;
      486     4988    2       DCL NUMBER_FOUND  BIT(1);
      487     4989
      488     4990
      489     4991    2       NUMBER_FOUND = FALSE;

   4991 18 001375   201777 450100                    STZ     NUMBER_FOUND,,AUTO

      490     4992    2       THRU_CLAUSE  = FALSE;

   4992 18 001376   201776 450100                    STZ     THRU_CLAUSE,,AUTO

      491     4993    2       ERROR        = FALSE;

   4993 18 001377   200015 450100                    STZ     ERROR,,AUTO

      492     4994    2       ARG#         = 0;

   4994 18 001400   201766 450100                    STZ     ARG#,,AUTO

      493     4995    2       J            = 0;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:99   

   4995 18 001401   201775 450100                    STZ     J,,AUTO

      494     4996        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:100  
      495     4997
      496     4998    3   L:  DO I = 0 TO 79;

   4998 18 001402   201774 450100       L            STZ     I,,AUTO

      497     4999    4          DO SELECT (SUBSTR (INBUF,I,1) );

   4999 18 001403   201774 235100                    LDA     I,,AUTO
        18 001404   040000 106405                    CMPC    fill='040'O
        18 001405   000000 000001 14                 ADSC9   INBUF,A                  cn=0,n=1
        18 001406   000060 000001 19                 ADSC9   48                       cn=0,n=1
        18 001407   001466 602000 18                 TNC     s:4999+51
        18 001410   001524 600000 18                 TZE     s:5003
        18 001411   040000 106405                    CMPC    fill='040'O
        18 001412   000000 000001 14                 ADSC9   INBUF,A                  cn=0,n=1
        18 001413   000061 000001 19                 ADSC9   49                       cn=0,n=1
        18 001414   001447 602000 18                 TNC     s:4999+36
        18 001415   001524 600000 18                 TZE     s:5003
        18 001416   040000 106405                    CMPC    fill='040'O
        18 001417   000000 000001 14                 ADSC9   INBUF,A                  cn=0,n=1
        18 001420   000062 000001 19                 ADSC9   50                       cn=0,n=1
        18 001421   001442 602000 18                 TNC     s:4999+31
        18 001422   001524 600000 18                 TZE     s:5003
        18 001423   040000 106405                    CMPC    fill='040'O
        18 001424   000000 000001 14                 ADSC9   INBUF,A                  cn=0,n=1
        18 001425   000063 000001 19                 ADSC9   51                       cn=0,n=1
        18 001426   001435 602000 18                 TNC     s:4999+26
        18 001427   001603 600000 18                 TZE     s:5032
        18 001430   040000 106405                    CMPC    fill='040'O
        18 001431   000000 000001 14                 ADSC9   INBUF,A                  cn=0,n=1
        18 001432   000064 000001 19                 ADSC9   52                       cn=0,n=1
        18 001433   001652 601000 18                 TNZ     s:5066
        18 001434   001614 710000 18                 TRA     s:5039
        18 001435   040000 106405                    CMPC    fill='040'O
        18 001436   000000 000001 14                 ADSC9   INBUF,A                  cn=0,n=1
        18 001437   000065 000001 19                 ADSC9   53                       cn=0,n=1
        18 001440   001652 601000 18                 TNZ     s:5066
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:101  
        18 001441   001575 710000 18                 TRA     s:5028
        18 001442   040000 106405                    CMPC    fill='040'O
        18 001443   000000 000001 14                 ADSC9   INBUF,A                  cn=0,n=1
        18 001444   000066 000001 19                 ADSC9   54                       cn=0,n=1
        18 001445   001652 601000 18                 TNZ     s:5066
        18 001446   001524 710000 18                 TRA     s:5003
        18 001447   040000 106405                    CMPC    fill='040'O
        18 001450   000000 000001 14                 ADSC9   INBUF,A                  cn=0,n=1
        18 001451   000067 000001 19                 ADSC9   55                       cn=0,n=1
        18 001452   001461 602000 18                 TNC     s:4999+46
        18 001453   001524 600000 18                 TZE     s:5003
        18 001454   040000 106405                    CMPC    fill='040'O
        18 001455   000000 000001 14                 ADSC9   INBUF,A                  cn=0,n=1
        18 001456   000070 000001 19                 ADSC9   56                       cn=0,n=1
        18 001457   001652 601000 18                 TNZ     s:5066
        18 001460   001524 710000 18                 TRA     s:5003
        18 001461   040000 106405                    CMPC    fill='040'O
        18 001462   000000 000001 14                 ADSC9   INBUF,A                  cn=0,n=1
        18 001463   000071 000001 19                 ADSC9   57                       cn=0,n=1
        18 001464   001652 601000 18                 TNZ     s:5066
        18 001465   001524 710000 18                 TRA     s:5003
        18 001466   040000 106405                    CMPC    fill='040'O
        18 001467   000000 000001 14                 ADSC9   INBUF,A                  cn=0,n=1
        18 001470   000072 000001 19                 ADSC9   58                       cn=0,n=1
        18 001471   001505 602000 18                 TNC     s:4999+66
        18 001472   001524 600000 18                 TZE     s:5003
        18 001473   040000 106405                    CMPC    fill='040'O
        18 001474   000000 000001 14                 ADSC9   INBUF,A                  cn=0,n=1
        18 001475   000073 000001 19                 ADSC9   59                       cn=0,n=1
        18 001476   001652 602000 18                 TNC     s:5066
        18 001477   001524 600000 18                 TZE     s:5003
        18 001500   040000 106405                    CMPC    fill='040'O
        18 001501   000000 000001 14                 ADSC9   INBUF,A                  cn=0,n=1
        18 001502   000074 000001 19                 ADSC9   60                       cn=0,n=1
        18 001503   001652 601000 18                 TNZ     s:5066
        18 001504   001524 710000 18                 TRA     s:5003
        18 001505   040000 106405                    CMPC    fill='040'O
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:102  
        18 001506   000000 000001 14                 ADSC9   INBUF,A                  cn=0,n=1
        18 001507   000075 000001 19                 ADSC9   61                       cn=0,n=1
        18 001510   001517 602000 18                 TNC     s:4999+76
        18 001511   001527 600000 18                 TZE     s:5008
        18 001512   040000 106405                    CMPC    fill='040'O
        18 001513   000000 000001 14                 ADSC9   INBUF,A                  cn=0,n=1
        18 001514   000076 000001 19                 ADSC9   62                       cn=0,n=1
        18 001515   001652 601000 18                 TNZ     s:5066
        18 001516   001617 710000 18                 TRA     s:5043
        18 001517   040000 106405                    CMPC    fill='040'O
        18 001520   000000 000001 14                 ADSC9   INBUF,A                  cn=0,n=1
        18 001521   000002 000001 19                 ADSC9   2                        cn=0,n=1
        18 001522   001652 601000 18                 TNZ     s:5066
        18 001523   001527 710000 18                 TRA     s:5008

      498     5000                             /*  DIGITS ARE VALID FOR LINE NUMBERS SO CONTINUE. */
      499     5001
      500     5002    4            SELECT ( '0', '1', '2', '3', '4', '5', '6', '7', '8', '9' );

      501     5003    4              NUMBER_FOUND = TRUE;

   5003 18 001524   400000 236003                    LDQ     -131072,DU
        18 001525   201777 756100                    STQ     NUMBER_FOUND,,AUTO
        18 001526   001655 710000 18                 TRA     s:5069

      502     5004                             /*  BLANK IS THE END OF THE LINE NUMBER SO
      503     5005                                 CHARBIN THE CHARACTERS INTO A NUMBER. */
      504     5006
      505     5007    4            SELECT (' ',',');

      506     5008    4              IF NUMBER_FOUND THEN

   5008 18 001527   201777 234100                    SZN     NUMBER_FOUND,,AUTO
        18 001530   001572 605000 18                 TPL     s:5025

      507     5009    4                IF THRU_CLAUSE THEN

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:103  
   5009 18 001531   201776 234100                    SZN     THRU_CLAUSE,,AUTO
        18 001532   001552 605000 18                 TPL     s:5019

      508     5010    5                  DO;

      509     5011    5                    CALL CHARBIN( LINE_NO, SUBSTR( INBUF,J,I-J ) );

   5011 18 001533   201774 236100                    LDQ     I,,AUTO
        18 001534   201775 136100                    SBLQ    J,,AUTO
        18 001535   000000 620006                    EAX0    0,QL
        18 001536   201775 236100                    LDQ     J,,AUTO
        18 001537   000100 305446                    DTB
        18 001540   000000 030010 14                 NDSC9   INBUF,Q                  cn=0,s=nosgn,sf=0,n=*X0
        18 001541   201767 000004                    NDSC9   LINE_NO,,AUTO            cn=0,s=lsgnf,sf=0,n=4

      510     5012    5                    CALL THRU_TREES;

   5012 18 001542   001662 701000 18                 TSX1    THRU_TREES
        18 001543   000000 011000                    NOP     0

      511     5013    5                    THRU_CLAUSE = FALSE;

   5013 18 001544   201776 450100                    STZ     THRU_CLAUSE,,AUTO

      512     5014    5                    NUMBER_FOUND = FALSE;

   5014 18 001545   201777 450100                    STZ     NUMBER_FOUND,,AUTO

      513     5015    5                    J = I+1;    /* skip this column */

   5015 18 001546   201774 235100                    LDA     I,,AUTO
        18 001547   000001 035007                    ADLA    1,DL
        18 001550   201775 755100                    STA     J,,AUTO

      514     5016    5                  END;

   5016 18 001551   001655 710000 18                 TRA     s:5069
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:104  

      515     5017    4                ELSE
      516     5018    5                  DO;

      517     5019    5                    CALL CHARBIN( LINE#S(ARG#), SUBSTR( INBUF,J,I-J ));

   5019 18 001552   201774 236100                    LDQ     I,,AUTO
        18 001553   201775 136100                    SBLQ    J,,AUTO
        18 001554   201766 235100                    LDA     ARG#,,AUTO
        18 001555   000002 735000                    ALS     2
        18 001556   201773 470500                    LDP0    @LINE#S,,AUTO
        18 001557   000000 620006                    EAX0    0,QL
        18 001560   201775 236100                    LDQ     J,,AUTO
        18 001561   000105 305446                    DTB
        18 001562   000000 030010 14                 NDSC9   INBUF,Q                  cn=0,s=nosgn,sf=0,n=*X0
        18 001563   000000 000004                    NDSC9   0,A,PR0                  cn=0,s=lsgnf,sf=0,n=4

      518     5020    5                    ARG# = ARG# +1;

   5020 18 001564   201766 054100                    AOS     ARG#,,AUTO

      519     5021    5                    J = I +1;

   5021 18 001565   201774 235100                    LDA     I,,AUTO
        18 001566   000001 035007                    ADLA    1,DL
        18 001567   201775 755100                    STA     J,,AUTO

      520     5022    5                    NUMBER_FOUND = FALSE;

   5022 18 001570   201777 450100                    STZ     NUMBER_FOUND,,AUTO

      521     5023    5                  END;

   5023 18 001571   001655 710000 18                 TRA     s:5069

      522     5024    4              ELSE           /*  ignore this column  */
      523     5025    4                J = I+1;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:105  

   5025 18 001572   000001 035007                    ADLA    1,DL
        18 001573   201775 755100                    STA     J,,AUTO
        18 001574   001655 710000 18                 TRA     s:5069

      524     5026
      525     5027    4            SELECT( 'A' );

      526     5028    4              CALL ALL_TREES;

   5028 18 001575   001763 701000 18                 TSX1    ALL_TREES
        18 001576   000000 011000                    NOP     0

      527     5029    4              J = I + 1;

   5029 18 001577   201774 235100                    LDA     I,,AUTO
        18 001600   000001 035007                    ADLA    1,DL
        18 001601   201775 755100                    STA     J,,AUTO
        18 001602   001655 710000 18                 TRA     s:5069

      528     5030
      529     5031    4            SELECT('C');

      530     5032    4              IF CCOSU_OFF THEN

   5032 18 001603   000000 234000 16                 SZN     CCOSU_OFF
        18 001604   001607 605000 18                 TPL     s:5035

      531     5033    4                CCOSU_OFF = FALSE;

   5033 18 001605   000000 450000 16                 STZ     CCOSU_OFF
        18 001606   001611 710000 18                 TRA     s:5036

      532     5034    4              ELSE
      533     5035    4                CCOSU_OFF = TRUE;

   5035 18 001607   400000 236003                    LDQ     -131072,DU
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:106  
        18 001610   000000 756000 16                 STQ     CCOSU_OFF

      534     5036    4              J = I + 1;

   5036 18 001611   000001 035007                    ADLA    1,DL
        18 001612   201775 755100                    STA     J,,AUTO
        18 001613   001655 710000 18                 TRA     s:5069

      535     5037
      536     5038    4            SELECT( 'H' );

      537     5039    4              CALL HELP_LINES;

   5039 18 001614   001704 701000 18                 TSX1    HELP_LINES
        18 001615   000000 011000                    NOP     0

      538     5040    4              EXIT L;

   5040 18 001616   001661 710000 18                 TRA     s:5069+4

      539     5041
      540     5042    4            SELECT( '-' );

      541     5043    4              IF NUMBER_FOUND THEN

   5043 18 001617   201777 234100                    SZN     NUMBER_FOUND,,AUTO
        18 001620   001647 605000 18                 TPL     s:5058

      542     5044    4                IF THRU_CLAUSE THEN

   5044 18 001621   201776 234100                    SZN     THRU_CLAUSE,,AUTO
        18 001622   001626 605000 18                 TPL     s:5051

      543     5045    5                  DO;

      544     5046    5                    ERROR = TRUE;

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:107  
   5046 18 001623   400000 236003                    LDQ     -131072,DU
        18 001624   200015 756100                    STQ     ERROR,,AUTO

      545     5047    5                    EXIT L;

   5047 18 001625   001661 710000 18                 TRA     s:5069+4

      546     5048    5                  END;
      547     5049    4                ELSE
      548     5050    5                  DO;

      549     5051    5                    THRU_CLAUSE = TRUE;

   5051 18 001626   400000 236003                    LDQ     -131072,DU
        18 001627   201776 756100                    STQ     THRU_CLAUSE,,AUTO

      550     5052    5                    CALL CHARBIN( LINE#S(ARG#), SUBSTR( INBUF,J,I-J) );

   5052 18 001630   201774 236100                    LDQ     I,,AUTO
        18 001631   201775 136100                    SBLQ    J,,AUTO
        18 001632   201766 235100                    LDA     ARG#,,AUTO
        18 001633   000002 735000                    ALS     2
        18 001634   201773 470500                    LDP0    @LINE#S,,AUTO
        18 001635   000000 620006                    EAX0    0,QL
        18 001636   201775 236100                    LDQ     J,,AUTO
        18 001637   000105 305446                    DTB
        18 001640   000000 030010 14                 NDSC9   INBUF,Q                  cn=0,s=nosgn,sf=0,n=*X0
        18 001641   000000 000004                    NDSC9   0,A,PR0                  cn=0,s=lsgnf,sf=0,n=4

      551     5053    5                    ARG# = ARG# + 1;

   5053 18 001642   201766 054100                    AOS     ARG#,,AUTO

      552     5054    5                    J = I + 1;

   5054 18 001643   201774 235100                    LDA     I,,AUTO
        18 001644   000001 035007                    ADLA    1,DL
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:108  
        18 001645   201775 755100                    STA     J,,AUTO

      553     5055    5                  END;

   5055 18 001646   001655 710000 18                 TRA     s:5069

      554     5056    4              ELSE               /* Number_found is false */
      555     5057    5                DO;

      556     5058    5                  ERROR = TRUE;

   5058 18 001647   400000 236003                    LDQ     -131072,DU
        18 001650   200015 756100                    STQ     ERROR,,AUTO

      557     5059    5                  EXIT L;

   5059 18 001651   001661 710000 18                 TRA     s:5069+4

      558     5060    5                END;
      559     5061                             /*  ALL REMAINING CHARACTERS ARE ILLEGAL, SO
      560     5062                                 SET ERROR FLAG AND RETURN FOR REPROMPT. */
      561     5063
      562     5064
      563     5065    4            SELECT ( ELSE );

      564     5066    4              ERROR = TRUE;

   5066 18 001652   400000 236003                    LDQ     -131072,DU
        18 001653   200015 756100                    STQ     ERROR,,AUTO

      565     5067    4              EXIT L;

   5067 18 001654   001661 710000 18                 TRA     s:5069+4

      566     5068    4          END;  /* SELECT */

      567     5069    3        END; /* index */
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:109  

   5069 18 001655   201774 054100                    AOS     I,,AUTO
        18 001656   201774 235100                    LDA     I,,AUTO
        18 001657   000117 115007                    CMPA    79,DL
        18 001660   001403 604400 18                 TMOZ    s:4999
        18 001661   001761 710000 18                 TRA     s:5094

      568     5070        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:110  
      569     5071    2     THRU_TREES: PROC;

   5071 18 001662   202000 741300       THRU_TREES   STX1  ! NUMBER_FOUND+1,,AUTO

      570     5072
      571     5073    3       DCL L              SBIN WORD;
      572     5074
      573     5075    4       DO L = LINE#S( ARG# - 1) + 1   TO  LINE_NO;

   5075 18 001663   201773 470500                    LDP0    @LINE#S,,AUTO
        18 001664   201766 720100                    LXL0    ARG#,,AUTO
        18 001665   077777 235110                    LDA     -1,X0,PR0
        18 001666   000001 035007                    ADLA    1,DL
        18 001667   202001 755100                    STA     L,,AUTO
        18 001670   001677 710000 18                 TRA     s:5078+1

      574     5076    4         LINE#S( ARG# ) = L;

   5076 18 001671   201773 470500                    LDP0    @LINE#S,,AUTO
        18 001672   201766 720100                    LXL0    ARG#,,AUTO
        18 001673   202001 235100                    LDA     L,,AUTO
        18 001674   000000 755110                    STA     0,X0,PR0

      575     5077    4         ARG# = ARG# + 1;

   5077 18 001675   201766 054100                    AOS     ARG#,,AUTO

      576     5078    4       END;

   5078 18 001676   202001 054100                    AOS     L,,AUTO
        18 001677   202001 236100                    LDQ     L,,AUTO
        18 001700   201767 116100                    CMPQ    LINE_NO,,AUTO
        18 001701   001671 604400 18                 TMOZ    s:5076

      577     5079
      578     5080    3     END THRU_TREES; /* proc */

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:111  
   5080 18 001702   202000 221300                    LDX1  ! NUMBER_FOUND+1,,AUTO
        18 001703   000001 702211                    TSX2  ! 1,X1

      579     5081        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:112  
      580     5082    2     HELP_LINES: PROC;

   5082 18 001704   202000 741300       HELP_LINES   STX1  ! NUMBER_FOUND+1,,AUTO

      581     5083
      582     5084    3       CALL WRITE_OBUF('Examples of valid syntax:',25);

   5084 18 001705   000100 236000 19                 LDQ     64
        18 001706   202074 756100                    STQ     @STRING+1,,AUTO
        18 001707   000101 236000 19                 LDQ     65
        18 001710   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 001711   002755 701000 18                 TSX1    WRITE_OBUF
        18 001712   000000 011000                    NOP     0

      583     5085    3       CALL WRITE_OBUF('  A       -- prints all trees for program.',42);

   5085 18 001713   000103 236000 19                 LDQ     67
        18 001714   202074 756100                    STQ     @STRING+1,,AUTO
        18 001715   000104 236000 19                 LDQ     68
        18 001716   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 001717   002755 701000 18                 TSX1    WRITE_OBUF
        18 001720   000000 011000                    NOP     0

      584     5086    3       CALL WRITE_OBUF('  12      -- prints tree for line 12.     ',42);

   5086 18 001721   000103 236000 19                 LDQ     67
        18 001722   202074 756100                    STQ     @STRING+1,,AUTO
        18 001723   000105 236000 19                 LDQ     69
        18 001724   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 001725   002755 701000 18                 TSX1    WRITE_OBUF
        18 001726   000000 011000                    NOP     0

      585     5087    3       CALL WRITE_OBUF('  12,13   -- prints tree for line 12 & 13.',42);

   5087 18 001727   000103 236000 19                 LDQ     67
        18 001730   202074 756100                    STQ     @STRING+1,,AUTO
        18 001731   000106 236000 19                 LDQ     70
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:113  
        18 001732   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 001733   002755 701000 18                 TSX1    WRITE_OBUF
        18 001734   000000 011000                    NOP     0

      586     5088    3       CALL WRITE_OBUF('  12-15   -- prints trees for line 12,13,14 & 15.',48);

   5088 18 001735   000110 236000 19                 LDQ     72
        18 001736   202074 756100                    STQ     @STRING+1,,AUTO
        18 001737   000111 236000 19                 LDQ     73
        18 001740   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 001741   002755 701000 18                 TSX1    WRITE_OBUF
        18 001742   000000 011000                    NOP     0

      587     5089    3       CALL WRITE_OBUF('Some combinations of the above will also work,   ',48);

   5089 18 001743   000110 236000 19                 LDQ     72
        18 001744   202074 756100                    STQ     @STRING+1,,AUTO
        18 001745   000112 236000 19                 LDQ     74
        18 001746   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 001747   002755 701000 18                 TSX1    WRITE_OBUF
        18 001750   000000 011000                    NOP     0

      588     5090    3       CALL WRITE_OBUF('eventually all. "A" must be on a line by itself. ',48);

   5090 18 001751   000110 236000 19                 LDQ     72
        18 001752   202074 756100                    STQ     @STRING+1,,AUTO
        18 001753   000113 236000 19                 LDQ     75
        18 001754   202073 756100                    STQ     PRINT_ARG+1,,AUTO
        18 001755   002755 701000 18                 TSX1    WRITE_OBUF
        18 001756   000000 011000                    NOP     0

      589     5091    3     END HELP_LINES;  /* proc */

   5091 18 001757   202000 221300                    LDX1  ! NUMBER_FOUND+1,,AUTO
        18 001760   000001 702211                    TSX2  ! 1,X1

      590     5092
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:114  
      591     5093
      592     5094    2     END SCAN_LINE;   /* proc */

   5094 18 001761   201772 221300                    LDX1  ! P$+2,,AUTO
        18 001762   000001 702211                    TSX2  ! 1,X1

      593     5095        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:115  
      594     5096    1   ALL_TREES: PROC;

   5096 18 001763   202000 741300       ALL_TREES    STX1  ! NUMBER_FOUND+1,,AUTO

      595     5097    2       CALL START_ILS$;

   5097 18 001764   001132 701000 18                 TSX1    START_ILS$
        18 001765   000000 011000                    NOP     0

      596     5098            %SET_ILL$;

   5100 18 001766   000000 470400 7                  LDP0    ILS$
        18 001767   000003 236100                    LDQ     3,,PR0
        18 001770   000000 756000 5                  STQ     ILL$

   5101 18 001771   002000 710000 18                 TRA     s:5104

   5102 18 001772   000000 470400 7                  LDP0    ILS$
        18 001773   000002 236100                    LDQ     2,,PR0
        18 001774   000000 756000 7                  STQ     ILS$

   5103 18 001775   000000 470400 7                  LDP0    ILS$
        18 001776   000003 236100                    LDQ     3,,PR0
        18 001777   000000 756000 5                  STQ     ILL$

   5104 18 002000   000003 116000 19                 CMPQ    3
        18 002001   001772 600000 18                 TZE     s:5102

      597     5107    3       DO WHILE ILL$-> ILL.ID ~= %END;

   5107 18 002002   000000 471400 5                  LDP1    ILL$
        18 002003   100000 220100                    LDX0    0,,PR1
        18 002004   000374 100003                    CMPX0   252,DU
        18 002005   002115 600000 18                 TZE     s:5162

      598     5108    3         IF ILL$ -> ILL.ID = %LINOI THEN

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:116  
   5108 18 002006   000000 470400 5                  LDP0    ILL$
        18 002007   000000 220100                    LDX0    0,,PR0
        18 002010   000373 100003                    CMPX0   251,DU
        18 002011   002056 601000 18                 TNZ     s:5139

      599     5109    4           DO;

      600     5110    4             LINE_NO = ILL$-> LINOI.LINE_NO;

   5110 18 002012   000001 236100                    LDQ     1,,PR0
        18 002013   777777 376007                    ANQ     -1,DL
        18 002014   201767 756100                    STQ     LINE_NO,,AUTO

      601     5111                  %SET_ILS$_ILL$;

   5113 18 002015   000000 220100                    LDX0    0,,PR0
        18 002016   000342 100003                    CMPX0   226,DU
        18 002017   002022 600000 18                 TZE     s:5115
        18 002020   000341 100003                    CMPX0   225,DU
        18 002021   002025 601000 18                 TNZ     s:5118

   5115 18 002022   000003 236100                    LDQ     3,,PR0
        18 002023   000000 756000 5                  STQ     ILL$
        18 002024   002051 710000 18                 TRA     s:5134

   5118 18 002025   000000 471400 7                  LDP1    ILS$
        18 002026   100002 236100                    LDQ     2,,PR1
        18 002027   000000 756000 7                  STQ     ILS$

   5119 18 002030   000003 116000 19                 CMPQ    3
        18 002031   002047 600000 18                 TZE     s:5130

   5122 18 002032   000000 471400 7                  LDP1    ILS$
        18 002033   100003 236100                    LDQ     3,,PR1
        18 002034   000000 756000 5                  STQ     ILL$

   5123 18 002035   002044 710000 18                 TRA     s:5126
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:117  

   5124 18 002036   000000 470400 7                  LDP0    ILS$
        18 002037   000002 236100                    LDQ     2,,PR0
        18 002040   000000 756000 7                  STQ     ILS$

   5125 18 002041   000000 470400 7                  LDP0    ILS$
        18 002042   000003 236100                    LDQ     3,,PR0
        18 002043   000000 756000 5                  STQ     ILL$

   5126 18 002044   000003 116000 19                 CMPQ    3
        18 002045   002036 600000 18                 TZE     s:5124

   5127 18 002046   002051 710000 18                 TRA     s:5134

   5130 18 002047   000003 236000 19                 LDQ     3
        18 002050   000000 756000 5                  STQ     ILL$

      602     5134    4             CALL FIND_TREES ( LINE_NO );

   5134 18 002051   201767 630500                    EPPR0   LINE_NO,,AUTO
        18 002052   202071 450500                    STP0    STRING+31,,AUTO
        18 002053   002413 701000 18                 TSX1    FIND_TREES
        18 002054   000000 011000                    NOP     0

      603     5135    4           END;

   5135 18 002055   002111 710000 18                 TRA     s:5160

      604     5136    3         ELSE
      605     5137                %SET_ILS$_ILL$;

   5139 18 002056   000342 100003                    CMPX0   226,DU
        18 002057   002062 600000 18                 TZE     s:5141
        18 002060   000341 100003                    CMPX0   225,DU
        18 002061   002065 601000 18                 TNZ     s:5144

   5141 18 002062   000003 236100                    LDQ     3,,PR0
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:118  
        18 002063   000000 756000 5                  STQ     ILL$
        18 002064   002111 710000 18                 TRA     s:5160

   5144 18 002065   000000 471400 7                  LDP1    ILS$
        18 002066   100002 236100                    LDQ     2,,PR1
        18 002067   000000 756000 7                  STQ     ILS$

   5145 18 002070   000003 116000 19                 CMPQ    3
        18 002071   002107 600000 18                 TZE     s:5156

   5148 18 002072   000000 471400 7                  LDP1    ILS$
        18 002073   100003 236100                    LDQ     3,,PR1
        18 002074   000000 756000 5                  STQ     ILL$

   5149 18 002075   002104 710000 18                 TRA     s:5152

   5150 18 002076   000000 470400 7                  LDP0    ILS$
        18 002077   000002 236100                    LDQ     2,,PR0
        18 002100   000000 756000 7                  STQ     ILS$

   5151 18 002101   000000 470400 7                  LDP0    ILS$
        18 002102   000003 236100                    LDQ     3,,PR0
        18 002103   000000 756000 5                  STQ     ILL$

   5152 18 002104   000003 116000 19                 CMPQ    3
        18 002105   002076 600000 18                 TZE     s:5150

   5153 18 002106   002111 710000 18                 TRA     s:5160

   5156 18 002107   000003 236000 19                 LDQ     3
        18 002110   000000 756000 5                  STQ     ILL$

      606     5160    3       END;  /* while */

   5160 18 002111   000000 470400 5                  LDP0    ILL$
        18 002112   000000 220100                    LDX0    0,,PR0
        18 002113   000374 100003                    CMPX0   252,DU
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:119  
        18 002114   002006 601000 18                 TNZ     s:5108

      607     5161
      608     5162    2     END ALL_TREES;  /*  proc  */

   5162 18 002115   202000 221300                    LDX1  ! NUMBER_FOUND+1,,AUTO
        18 002116   000001 702211                    TSX2  ! 1,X1

      609     5163        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:120  
      610     5164    1   PRINT_TREES: PROC( LINE#S );

   5164 18 002117   201772 741300       PRINT_TREES  STX1  ! P$+2,,AUTO

      611     5165
      612     5166    2       DCL I                     SBIN WORD;
      613     5167    2       DCL LINE#S( 0:999)        UBIN WORD;
      614     5168    2       DCL FOUND                 BIT(1);
      615     5169    2       DCL FOUND_LINE#S( 0:999)  BIT(1) ;
      616     5170    2       DCL STRING                CHAR(120);
      617     5171
      618     5172    3       DO I = 0 TO ARG# -1;         /* initialize found flags */

   5172 18 002120   201774 450100                    STZ     I,,AUTO
        18 002121   002131 710000 18                 TRA     s:5174+1

      619     5173    3         FOUND_LINE#S(I) = FALSE;

   5173 18 002122   201774 235100                    LDA     I,,AUTO
        18 002123   002125 605000 18                 TPL     s:5173+3
        18 002124   000044 035003                    ADLA    36,DU
        18 002125   003105 060400                    CSL     bolr='003'O
        18 002126   000000 000001 19                 BDSC    0                        by=0,bit=0,n=1
        18 002127   201776 000001                    BDSC    FOUND_LINE#S,A,AUTO      by=0,bit=0,n=1

      620     5174    3       END;

   5174 18 002130   201774 054100                    AOS     I,,AUTO
        18 002131   201774 236100                    LDQ     I,,AUTO
        18 002132   201766 116100                    CMPQ    ARG#,,AUTO
        18 002133   002122 604000 18                 TMI     s:5173

      621     5175
      622     5176    2       CALL START_ILS$;

   5176 18 002134   001132 701000 18                 TSX1    START_ILS$
        18 002135   000000 011000                    NOP     0
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:121  

      623     5177            %SET_ILL$;

   5179 18 002136   000000 470400 7                  LDP0    ILS$
        18 002137   000003 236100                    LDQ     3,,PR0
        18 002140   000000 756000 5                  STQ     ILL$

   5180 18 002141   002150 710000 18                 TRA     s:5183

   5181 18 002142   000000 470400 7                  LDP0    ILS$
        18 002143   000002 236100                    LDQ     2,,PR0
        18 002144   000000 756000 7                  STQ     ILS$

   5182 18 002145   000000 470400 7                  LDP0    ILS$
        18 002146   000003 236100                    LDQ     3,,PR0
        18 002147   000000 756000 5                  STQ     ILL$

   5183 18 002150   000003 116000 19                 CMPQ    3
        18 002151   002142 600000 18                 TZE     s:5181

      624     5186    3       DO WHILE ILL$ ~=ADDR(NIL) AND  ILL$-> ILL.ID ~= %END;

   5186 18 002152   002344 710000 18                 TRA     s:5274

      625     5187    3         IF ILL$ -> ILL.ID = %LINOI THEN

   5187 18 002153   000000 470400 5                  LDP0    ILL$
        18 002154   000000 220100                    LDX0    0,,PR0
        18 002155   000373 100003                    CMPX0   251,DU
        18 002156   002311 601000 18                 TNZ     s:5253

      626     5188    4           DO;

      627     5189    4             LINE_NO = ILL$-> LINOI.LINE_NO;

   5189 18 002157   000001 236100                    LDQ     1,,PR0
        18 002160   777777 376007                    ANQ     -1,DL
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:122  
        18 002161   201767 756100                    STQ     LINE_NO,,AUTO

      628     5190    4             FOUND = FALSE;

   5190 18 002162   201775 450100                    STZ     FOUND,,AUTO

      629     5191    5             DO I = 0 TO ARG# - 1;

   5191 18 002163   201774 450100                    STZ     I,,AUTO
        18 002164   002204 710000 18                 TRA     s:5197+1

      630     5192    5               IF LINE_NO = LINE#S(I) THEN

   5192 18 002165   201773 470500                    LDP0    @LINE#S,,AUTO
        18 002166   201774 720100                    LXL0    I,,AUTO
        18 002167   201767 236100                    LDQ     LINE_NO,,AUTO
        18 002170   002203 604000 18                 TMI     s:5197
        18 002171   000000 116110                    CMPQ    0,X0,PR0
        18 002172   002203 601000 18                 TNZ     s:5197

      631     5193    6                 DO;

      632     5194    6                   FOUND_LINE#S(I) = TRUE;

   5194 18 002173   201774 235100                    LDA     I,,AUTO
        18 002174   002176 605000 18                 TPL     s:5194+3
        18 002175   000044 035003                    ADLA    36,DU
        18 002176   003105 060400                    CSL     bolr='003'O
        18 002177   000114 000001 19                 BDSC    76                       by=0,bit=0,n=1
        18 002200   201776 000001                    BDSC    FOUND_LINE#S,A,AUTO      by=0,bit=0,n=1

      633     5195    6                   FOUND = TRUE;

   5195 18 002201   400000 236003                    LDQ     -131072,DU
        18 002202   201775 756100                    STQ     FOUND,,AUTO

      634     5196    6                 END;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:123  

      635     5197    5             END;

   5197 18 002203   201774 054100                    AOS     I,,AUTO
        18 002204   201774 236100                    LDQ     I,,AUTO
        18 002205   201766 116100                    CMPQ    ARG#,,AUTO
        18 002206   002165 604000 18                 TMI     s:5192

      636     5198    4             IF FOUND THEN

   5198 18 002207   201775 234100                    SZN     FOUND,,AUTO
        18 002210   002253 605000 18                 TPL     s:5228

      637     5199    5               DO;

      638     5200                      %SET_ILS$_ILL$;

   5202 18 002211   000000 470400 5                  LDP0    ILL$
        18 002212   000000 220100                    LDX0    0,,PR0
        18 002213   000342 100003                    CMPX0   226,DU
        18 002214   002217 600000 18                 TZE     s:5204
        18 002215   000341 100003                    CMPX0   225,DU
        18 002216   002222 601000 18                 TNZ     s:5207

   5204 18 002217   000003 236100                    LDQ     3,,PR0
        18 002220   000000 756000 5                  STQ     ILL$
        18 002221   002246 710000 18                 TRA     s:5223

   5207 18 002222   000000 471400 7                  LDP1    ILS$
        18 002223   100002 236100                    LDQ     2,,PR1
        18 002224   000000 756000 7                  STQ     ILS$

   5208 18 002225   000003 116000 19                 CMPQ    3
        18 002226   002244 600000 18                 TZE     s:5219

   5211 18 002227   000000 471400 7                  LDP1    ILS$
        18 002230   100003 236100                    LDQ     3,,PR1
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:124  
        18 002231   000000 756000 5                  STQ     ILL$

   5212 18 002232   002241 710000 18                 TRA     s:5215

   5213 18 002233   000000 470400 7                  LDP0    ILS$
        18 002234   000002 236100                    LDQ     2,,PR0
        18 002235   000000 756000 7                  STQ     ILS$

   5214 18 002236   000000 470400 7                  LDP0    ILS$
        18 002237   000003 236100                    LDQ     3,,PR0
        18 002240   000000 756000 5                  STQ     ILL$

   5215 18 002241   000003 116000 19                 CMPQ    3
        18 002242   002233 600000 18                 TZE     s:5213

   5216 18 002243   002246 710000 18                 TRA     s:5223

   5219 18 002244   000003 236000 19                 LDQ     3
        18 002245   000000 756000 5                  STQ     ILL$

      639     5223    5                 CALL FIND_TREES( LINE_NO );

   5223 18 002246   201767 630500                    EPPR0   LINE_NO,,AUTO
        18 002247   202071 450500                    STP0    STRING+31,,AUTO
        18 002250   002413 701000 18                 TSX1    FIND_TREES
        18 002251   000000 011000                    NOP     0

      640     5224    5               END;

   5224 18 002252   002344 710000 18                 TRA     s:5274

      641     5225    4             ELSE
      642     5226                    %SET_ILS$_ILL$;

   5228 18 002253   000000 470400 5                  LDP0    ILL$
        18 002254   000000 220100                    LDX0    0,,PR0
        18 002255   000342 100003                    CMPX0   226,DU
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:125  
        18 002256   002261 600000 18                 TZE     s:5230
        18 002257   000341 100003                    CMPX0   225,DU
        18 002260   002264 601000 18                 TNZ     s:5233

   5230 18 002261   000003 236100                    LDQ     3,,PR0
        18 002262   000000 756000 5                  STQ     ILL$
        18 002263   002344 710000 18                 TRA     s:5274

   5233 18 002264   000000 471400 7                  LDP1    ILS$
        18 002265   100002 236100                    LDQ     2,,PR1
        18 002266   000000 756000 7                  STQ     ILS$

   5234 18 002267   000003 116000 19                 CMPQ    3
        18 002270   002306 600000 18                 TZE     s:5245

   5237 18 002271   000000 471400 7                  LDP1    ILS$
        18 002272   100003 236100                    LDQ     3,,PR1
        18 002273   000000 756000 5                  STQ     ILL$

   5238 18 002274   002303 710000 18                 TRA     s:5241

   5239 18 002275   000000 470400 7                  LDP0    ILS$
        18 002276   000002 236100                    LDQ     2,,PR0
        18 002277   000000 756000 7                  STQ     ILS$

   5240 18 002300   000000 470400 7                  LDP0    ILS$
        18 002301   000003 236100                    LDQ     3,,PR0
        18 002302   000000 756000 5                  STQ     ILL$

   5241 18 002303   000003 116000 19                 CMPQ    3
        18 002304   002275 600000 18                 TZE     s:5239

   5242 18 002305   002344 710000 18                 TRA     s:5274

   5245 18 002306   000003 236000 19                 LDQ     3
        18 002307   000000 756000 5                  STQ     ILL$

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:126  
      643     5249    4           END;

   5249 18 002310   002344 710000 18                 TRA     s:5274

      644     5250    3         ELSE
      645     5251                %SET_ILS$_ILL$;

   5253 18 002311   000342 100003                    CMPX0   226,DU
        18 002312   002315 600000 18                 TZE     s:5255
        18 002313   000341 100003                    CMPX0   225,DU
        18 002314   002320 601000 18                 TNZ     s:5258

   5255 18 002315   000003 236100                    LDQ     3,,PR0
        18 002316   000000 756000 5                  STQ     ILL$
        18 002317   002344 710000 18                 TRA     s:5274

   5258 18 002320   000000 471400 7                  LDP1    ILS$
        18 002321   100002 236100                    LDQ     2,,PR1
        18 002322   000000 756000 7                  STQ     ILS$

   5259 18 002323   000003 116000 19                 CMPQ    3
        18 002324   002342 600000 18                 TZE     s:5270

   5262 18 002325   000000 471400 7                  LDP1    ILS$
        18 002326   100003 236100                    LDQ     3,,PR1
        18 002327   000000 756000 5                  STQ     ILL$

   5263 18 002330   002337 710000 18                 TRA     s:5266

   5264 18 002331   000000 470400 7                  LDP0    ILS$
        18 002332   000002 236100                    LDQ     2,,PR0
        18 002333   000000 756000 7                  STQ     ILS$

   5265 18 002334   000000 470400 7                  LDP0    ILS$
        18 002335   000003 236100                    LDQ     3,,PR0
        18 002336   000000 756000 5                  STQ     ILL$

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:127  
   5266 18 002337   000003 116000 19                 CMPQ    3
        18 002340   002331 600000 18                 TZE     s:5264

   5267 18 002341   002344 710000 18                 TRA     s:5274

   5270 18 002342   000003 236000 19                 LDQ     3
        18 002343   000000 756000 5                  STQ     ILL$

      646     5274    3       END;  /* while */

   5274 18 002344   000000 236000 5                  LDQ     ILL$
        18 002345   000003 116000 19                 CMPQ    3
        18 002346   002353 600000 18                 TZE     s:5276
        18 002347   000000 470400 5                  LDP0    ILL$
        18 002350   000000 220100                    LDX0    0,,PR0
        18 002351   000374 100003                    CMPX0   252,DU
        18 002352   002153 601000 18                 TNZ     s:5187

      647     5275
      648     5276    3       DO I = 0 TO ARG# -1;

   5276 18 002353   201774 450100                    STZ     I,,AUTO
        18 002354   002406 710000 18                 TRA     s:5283+1

      649     5277    3         IF FOUND_LINE#S(I) = FALSE THEN

   5277 18 002355   201774 235100                    LDA     I,,AUTO
        18 002356   002360 605000 18                 TPL     s:5277+3
        18 002357   000044 035003                    ADLA    36,DU
        18 002360   000000 066505                    CMPB    filb='0'B
        18 002361   201776 000001                    BDSC    FOUND_LINE#S,A,AUTO      by=0,bit=0,n=1
        18 002362   000000 000022 19                 BDSC    0                        by=0,bit=0,n=18
        18 002363   002405 601000 18                 TNZ     s:5283

      650     5278    4           DO;

      651     5279    4             STRING = 'Line number           not found.';
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:128  

   5279 18 002364   040100 100400                    MLR     fill='040'O
        18 002365   000471 000040 17                 ADSC9   BLANK_SCAN_TABLE+313     cn=0,n=32
        18 002366   202032 000170                    ADSC9   STRING,,AUTO             cn=0,n=120

      652     5280    4             CALL BINCHAR( SUBSTR( STRING,12,6 ), LINE#S(I) );

   5280 18 002367   201773 470500                    LDP0    @LINE#S,,AUTO
        18 002370   201774 720100                    LXL0    I,,AUTO
        18 002371   000000 235110                    LDA     0,X0,PR0
        18 002372   000044 773000                    LRL     36
        18 002373   202100 757100                    STAQ    CHAR6+2,,AUTO
        18 002374   000100 301500                    BTD
        18 002375   202100 000010                    NDSC9   CHAR6+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
        18 002376   202035 030006                    NDSC9   STRING+3,,AUTO           cn=0,s=nosgn,sf=0,n=6

      653     5281    4             CALL WRITE_OBUF( STRING,32 );

   5281 18 002377   000116 236000 19                 LDQ     78
        18 002400   202074 756100                    STQ     @STRING+1,,AUTO
        18 002401   202032 631500                    EPPR1   STRING,,AUTO
        18 002402   202073 451500                    STP1    PRINT_ARG+1,,AUTO
        18 002403   002755 701000 18                 TSX1    WRITE_OBUF
        18 002404   000000 011000                    NOP     0

      654     5282    4           END;

      655     5283    3       END;

   5283 18 002405   201774 054100                    AOS     I,,AUTO
        18 002406   201774 236100                    LDQ     I,,AUTO
        18 002407   201766 116100                    CMPQ    ARG#,,AUTO
        18 002410   002355 604000 18                 TMI     s:5277

      656     5284
      657     5285    2     END PRINT_TREES;  /*  proc  */

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:129  
   5285 18 002411   201772 221300                    LDX1  ! P$+2,,AUTO
        18 002412   000001 702211                    TSX2  ! 1,X1

      658     5286        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:130  
      659     5287    1     FIND_TREES:   PROC ( LINE_NO );

   5287 18 002413   202070 741300       FIND_TREES   STX1  ! STRING+30,,AUTO

      660     5288
      661     5289        /*  WE HAVE A GOOD LINE#, PROCESS UNTIL WE GET DIFFERENT OR
      662     5290            ILL$ = NIL */
      663     5291
      664     5292    2       DCL PRINT_ARG UBIN WORD;
      665     5293    2       DCL LINE_NO   UBIN WORD;
      666     5294        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:131  
      667     5295
      668     5296    3     LOOP:   DO WHILE ILL$ ~= ADDR(NIL);

   5296 18 002414   002606 710000 18    LOOP         TRA     s:5385

      669     5297    3               IF ILL$ -> ILL.ID ~= %LINOI THEN

   5297 18 002415   000000 470400 5                  LDP0    ILL$
        18 002416   000000 220100                    LDX0    0,,PR0
        18 002417   000373 100003                    CMPX0   251,DU
        18 002420   002543 600000 18                 TZE     s:5358

      670     5298    3                 IF ILL$-> ILL.ID ~= %END THEN

   5298 18 002421   000374 100003                    CMPX0   252,DU
        18 002422   002611 600000 18                 TZE     s:5386

      671     5299    3                   IF  (ILL$-> ILL.ID = %CCOSU

   5299 18 002423   000342 100003                    CMPX0   226,DU
        18 002424   002427 600000 18                 TZE     s:5299+4
        18 002425   000341 100003                    CMPX0   225,DU
        18 002426   002465 601000 18                 TNZ     s:5327
        18 002427   000000 234000 16                 SZN     CCOSU_OFF
        18 002430   002465 605000 18                 TPL     s:5327

      672     5300    3                        OR ILL$ -> ILL.ID = %EVALP)
      673     5301    3                   AND CCOSU_OFF THEN
      674     5302                          %SET_ILS$_ILL$;

   5304 18 002431   000342 100003                    CMPX0   226,DU
        18 002432   002435 600000 18                 TZE     s:5306
        18 002433   000341 100003                    CMPX0   225,DU
        18 002434   002440 601000 18                 TNZ     s:5309

   5306 18 002435   000003 236100                    LDQ     3,,PR0
        18 002436   000000 756000 5                  STQ     ILL$
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:132  
        18 002437   002606 710000 18                 TRA     s:5385

   5309 18 002440   000000 471400 7                  LDP1    ILS$
        18 002441   100002 236100                    LDQ     2,,PR1
        18 002442   000000 756000 7                  STQ     ILS$

   5310 18 002443   000003 116000 19                 CMPQ    3
        18 002444   002462 600000 18                 TZE     s:5321

   5313 18 002445   000000 471400 7                  LDP1    ILS$
        18 002446   100003 236100                    LDQ     3,,PR1
        18 002447   000000 756000 5                  STQ     ILL$

   5314 18 002450   002457 710000 18                 TRA     s:5317

   5315 18 002451   000000 470400 7                  LDP0    ILS$
        18 002452   000002 236100                    LDQ     2,,PR0
        18 002453   000000 756000 7                  STQ     ILS$

   5316 18 002454   000000 470400 7                  LDP0    ILS$
        18 002455   000003 236100                    LDQ     3,,PR0
        18 002456   000000 756000 5                  STQ     ILL$

   5317 18 002457   000003 116000 19                 CMPQ    3
        18 002460   002451 600000 18                 TZE     s:5315

   5318 18 002461   002606 710000 18                 TRA     s:5385

   5321 18 002462   000003 236000 19                 LDQ     3
        18 002463   000000 756000 5                  STQ     ILL$

   5323 18 002464   002606 710000 18                 TRA     s:5385

      675     5325    3                   ELSE                   /* Normal treewalk */
      676     5326    4                     DO;

      677     5327    4                       CALL LINE_NO_HEADING ( LINE_NO );
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:133  

   5327 18 002465   202071 236100                    LDQ     @LINE_NO,,AUTO
        18 002466   202075 756100                    STQ     @LENGTH+1,,AUTO
        18 002467   002645 701000 18                 TSX1    LINE_NO_HEADING
        18 002470   000000 011000                    NOP     0

      678     5328    4                       PRINT_ARG = 0;          /* START AT 0 FOR EACH TREE */

   5328 18 002471   202072 450100                    STZ     PRINT_ARG,,AUTO

      679     5329    4                       CALL Z8JW$WALK_TREE ( ILL$, 2, PRINT_ARG);

   5329 18 002472   202072 630500                    EPPR0   PRINT_ARG,,AUTO
        18 002473   202102 450500                    STP0    CHAR6+4,,AUTO
        18 002474   000010 237000 19                 LDAQ    8
        18 002475   202100 757100                    STAQ    CHAR6+2,,AUTO
        18 002476   202100 630500                    EPPR0   CHAR6+2,,AUTO
        18 002477   000006 631400 19                 EPPR1   6
        18 002500   000000 701000 xent               TSX1    Z8JW$WALK_TREE
        18 002501   000000 011000                    NOP     0

      680     5330    4                       CALL Z9AL$FORM_FEED;

   5330 18 002502   000000 631400 19                 EPPR1   0
        18 002503   000000 701000 xent               TSX1    Z9AL$FORM_FEED
        18 002504   000000 011000                    NOP     0

      681     5331                            %SET_ILS$_ILL$;

   5333 18 002505   000000 470400 5                  LDP0    ILL$
        18 002506   000000 220100                    LDX0    0,,PR0
        18 002507   000342 100003                    CMPX0   226,DU
        18 002510   002513 600000 18                 TZE     s:5335
        18 002511   000341 100003                    CMPX0   225,DU
        18 002512   002516 601000 18                 TNZ     s:5338

   5335 18 002513   000003 236100                    LDQ     3,,PR0
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:134  
        18 002514   000000 756000 5                  STQ     ILL$
        18 002515   002606 710000 18                 TRA     s:5385

   5338 18 002516   000000 471400 7                  LDP1    ILS$
        18 002517   100002 236100                    LDQ     2,,PR1
        18 002520   000000 756000 7                  STQ     ILS$

   5339 18 002521   000003 116000 19                 CMPQ    3
        18 002522   002540 600000 18                 TZE     s:5350

   5342 18 002523   000000 471400 7                  LDP1    ILS$
        18 002524   100003 236100                    LDQ     3,,PR1
        18 002525   000000 756000 5                  STQ     ILL$

   5343 18 002526   002535 710000 18                 TRA     s:5346

   5344 18 002527   000000 470400 7                  LDP0    ILS$
        18 002530   000002 236100                    LDQ     2,,PR0
        18 002531   000000 756000 7                  STQ     ILS$

   5345 18 002532   000000 470400 7                  LDP0    ILS$
        18 002533   000003 236100                    LDQ     3,,PR0
        18 002534   000000 756000 5                  STQ     ILL$

   5346 18 002535   000003 116000 19                 CMPQ    3
        18 002536   002527 600000 18                 TZE     s:5344

   5347 18 002537   002606 710000 18                 TRA     s:5385

   5350 18 002540   000003 236000 19                 LDQ     3
        18 002541   000000 756000 5                  STQ     ILL$

      682     5354    4                     END;

   5354 18 002542   002606 710000 18                 TRA     s:5385

      683     5355    3                 ELSE
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:135  
      684     5356    3                   EXIT LOOP;
      685     5357    3               ELSE
      686     5358    3                 IF ILL$ -> LINOI.LINE_NO = 0

   5358 18 002543   000001 721100                    LXL1    1,,PR0
        18 002544   002552 600000 18                 TZE     s:5362
        18 002545   202071 471500                    LDP1    @LINE_NO,,AUTO
        18 002546   000001 236100                    LDQ     1,,PR0
        18 002547   777777 376007                    ANQ     -1,DL
        18 002550   100000 116100                    CMPQ    0,,PR1
        18 002551   002611 601000 18                 TNZ     s:5386

      687     5359    3                 OR ILL$ -> LINOI.LINE_NO = LINE_NO THEN
      688     5360                        %SET_ILS$_ILL$;

   5362 18 002552   000342 100003                    CMPX0   226,DU
        18 002553   002556 600000 18                 TZE     s:5364
        18 002554   000341 100003                    CMPX0   225,DU
        18 002555   002561 601000 18                 TNZ     s:5367

   5364 18 002556   000003 236100                    LDQ     3,,PR0
        18 002557   000000 756000 5                  STQ     ILL$
        18 002560   002606 710000 18                 TRA     s:5385

   5367 18 002561   000000 471400 7                  LDP1    ILS$
        18 002562   100002 236100                    LDQ     2,,PR1
        18 002563   000000 756000 7                  STQ     ILS$

   5368 18 002564   000003 116000 19                 CMPQ    3
        18 002565   002603 600000 18                 TZE     s:5379

   5371 18 002566   000000 471400 7                  LDP1    ILS$
        18 002567   100003 236100                    LDQ     3,,PR1
        18 002570   000000 756000 5                  STQ     ILL$

   5372 18 002571   002600 710000 18                 TRA     s:5375

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:136  
   5373 18 002572   000000 470400 7                  LDP0    ILS$
        18 002573   000002 236100                    LDQ     2,,PR0
        18 002574   000000 756000 7                  STQ     ILS$

   5374 18 002575   000000 470400 7                  LDP0    ILS$
        18 002576   000003 236100                    LDQ     3,,PR0
        18 002577   000000 756000 5                  STQ     ILL$

   5375 18 002600   000003 116000 19                 CMPQ    3
        18 002601   002572 600000 18                 TZE     s:5373

   5376 18 002602   002606 710000 18                 TRA     s:5385

   5379 18 002603   000003 236000 19                 LDQ     3
        18 002604   000000 756000 5                  STQ     ILL$

   5381 18 002605   002606 710000 18                 TRA     s:5385

      689     5383    3                 ELSE
      690     5384    3                   EXIT LOOP;
      691     5385    3              END; /* while */

   5385 18 002606   000000 236000 5                  LDQ     ILL$
        18 002607   000003 116000 19                 CMPQ    3
        18 002610   002415 601000 18                 TNZ     s:5297

      692     5386    2     END FIND_TREES;  /* proc */

   5386 18 002611   202070 221300                    LDX1  ! STRING+30,,AUTO
        18 002612   000001 702211                    TSX2  ! 1,X1

      693     5387        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:137  
      694     5388    1     POINTER_HEADING: PROC(P$);

   5388 18 002613   201772 741300       POINTER_HEA* STX1  ! P$+2,,AUTO

      695     5389
      696     5390    2       DCL P$        PTR;
      697     5391    2       DCL CHAR12          CHAR(12);
      698     5392
      699     5393
      700     5394        /*V*     LOAD OBUF WITH HEADER MESSAGE, PRINT IT, THEN CLEAR OBUF. */
      701     5395
      702     5396    2       OBUF = 'Location          Tree starting at location:';

   5396 18 002614   040000 100400                    MLR     fill='040'O
        18 002615   000501 000054 17                 ADSC9   BLANK_SCAN_TABLE+321     cn=0,n=44
        18 002616   000000 000170 13                 ADSC9   OBUF                     cn=0,n=120

      703     5397    2       CALL X8CO$CONV_TO_OCTAL ( P$, CHAR12 );

   5397 18 002617   201774 630500                    EPPR0   CHAR12,,AUTO
        18 002620   202101 450500                    STP0    CHAR6+3,,AUTO
        18 002621   201773 236100                    LDQ     @P$,,AUTO
        18 002622   202100 756100                    STQ     CHAR6+2,,AUTO
        18 002623   202100 630500                    EPPR0   CHAR6+2,,AUTO
        18 002624   000117 631400 19                 EPPR1   79
        18 002625   000000 701000 xent               TSX1    X8CO$CONV_TO_OCTAL
        18 002626   000000 011000                    NOP     0

      704     5398    2       SUBSTR (OBUF,50,6) = SUBSTR (CHAR12,0,6);

   5398 18 002627   040000 100500                    MLR     fill='040'O
        18 002630   201774 000006                    ADSC9   CHAR12,,AUTO             cn=0,n=6
        18 002631   000014 400006 13                 ADSC9   OBUF+12                  cn=2,n=6

      705     5399    2       CALL Z9AL$DUMP_LINE;

   5399 18 002632   000000 631400 19                 EPPR1   0
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:138  
        18 002633   000000 701000 xent               TSX1    Z9AL$DUMP_LINE
        18 002634   000000 011000                    NOP     0

      706     5400    2       CALL Z9AL$WRITE_BLANK_LINE;

   5400 18 002635   000000 631400 19                 EPPR1   0
        18 002636   000000 701000 xent               TSX1    Z9AL$WRITE_BLANK_LINE
        18 002637   000000 011000                    NOP     0

      707     5401    2       OBUF = ' ';

   5401 18 002640   040000 100400                    MLR     fill='040'O
        18 002641   000002 000001 19                 ADSC9   2                        cn=0,n=1
        18 002642   000000 000170 13                 ADSC9   OBUF                     cn=0,n=120

      708     5402
      709     5403    2     END POINTER_HEADING; /* PROC */

   5403 18 002643   201772 221300                    LDX1  ! P$+2,,AUTO
        18 002644   000001 702211                    TSX2  ! 1,X1

      710     5404        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:139  
      711     5405    1     LINE_NO_HEADING: PROC (LINE_NO);

   5405 18 002645   202074 741300       LINE_NO_HEA* STX1  ! @STRING+1,,AUTO

      712     5406
      713     5407    2       DCL CHAR6      CHAR(6);
      714     5408    2       DCL LINE_NO    UBIN WORD;
      715     5409
      716     5410
      717     5411    2       OBUF = 'Location         Tree for line #';

   5411 18 002646   040000 100400                    MLR     fill='040'O
        18 002647   000514 000040 17                 ADSC9   BLANK_SCAN_TABLE+332     cn=0,n=32
        18 002650   000000 000170 13                 ADSC9   OBUF                     cn=0,n=120

      718     5412    2       CALL BINCHAR ( CHAR6, LINE_NO );

   5412 18 002651   202075 470500                    LDP0    @LINE_NO,,AUTO
        18 002652   000000 235100                    LDA     0,,PR0
        18 002653   000044 773000                    LRL     36
        18 002654   202100 757100                    STAQ    CHAR6+2,,AUTO
        18 002655   000100 301500                    BTD
        18 002656   202100 000010                    NDSC9   CHAR6+2,,AUTO            cn=0,s=lsgnf,sf=0,n=8
        18 002657   202076 030006                    NDSC9   CHAR6,,AUTO              cn=0,s=nosgn,sf=0,n=6

      719     5413    2       SUBSTR (OBUF, 36, 6) = CHAR6;

   5413 18 002660   040000 100500                    MLR     fill='040'O
        18 002661   202076 000006                    ADSC9   CHAR6,,AUTO              cn=0,n=6
        18 002662   000011 000006 13                 ADSC9   OBUF+9                   cn=0,n=6

      720     5414    2       CALL Z9AL$DUMP_LINE;

   5414 18 002663   000000 631400 19                 EPPR1   0
        18 002664   000000 701000 xent               TSX1    Z9AL$DUMP_LINE
        18 002665   000000 011000                    NOP     0

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:140  
      721     5415    2       CALL Z9AL$WRITE_BLANK_LINE;

   5415 18 002666   000000 631400 19                 EPPR1   0
        18 002667   000000 701000 xent               TSX1    Z9AL$WRITE_BLANK_LINE
        18 002670   000000 011000                    NOP     0

      722     5416    2       OBUF = ' ';

   5416 18 002671   040000 100400                    MLR     fill='040'O
        18 002672   000002 000001 19                 ADSC9   2                        cn=0,n=1
        18 002673   000000 000170 13                 ADSC9   OBUF                     cn=0,n=120

      723     5417    2     END LINE_NO_HEADING; /* proc */

   5417 18 002674   202074 221300                    LDX1  ! @STRING+1,,AUTO
        18 002675   000001 702211                    TSX2  ! 1,X1

      724     5418          %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:141  
      725     5419    1     PRE_SCAN: PROC( QUIT, TREE_WALKING );

   5419 18 002676   202072 741300       PRE_SCAN     STX1  ! PRINT_ARG,,AUTO

      726     5420
      727     5421    2       DCL QUIT           BIT(1) ALIGNED;
      728     5422    2       DCL TREE_WALKING   BIT(1) ALIGNED;
      729     5423
      730     5424    3       DO SELECT ( INBUF );

   5424 18 002677   040000 106400                    CMPC    fill='040'O
        18 002700   000000 000120 14                 ADSC9   INBUF                    cn=0,n=80
        18 002701   000120 000001 19                 ADSC9   80                       cn=0,n=1
        18 002702   002716 602000 18                 TNC     s:5424+15
        18 002703   002743 600000 18                 TZE     s:5429
        18 002704   040000 106400                    CMPC    fill='040'O
        18 002705   000000 000120 14                 ADSC9   INBUF                    cn=0,n=80
        18 002706   000524 000004 17                 ADSC9   BLANK_SCAN_TABLE+340     cn=0,n=4
        18 002707   002753 602000 18                 TNC     s:5439
        18 002710   002743 600000 18                 TZE     s:5429
        18 002711   040000 106400                    CMPC    fill='040'O
        18 002712   000000 000120 14                 ADSC9   INBUF                    cn=0,n=80
        18 002713   000121 000001 19                 ADSC9   81                       cn=0,n=1
        18 002714   002753 601000 18                 TNZ     s:5439
        18 002715   002743 710000 18                 TRA     s:5429
        18 002716   040000 106400                    CMPC    fill='040'O
        18 002717   000000 000120 14                 ADSC9   INBUF                    cn=0,n=80
        18 002720   000525 000003 17                 ADSC9   BLANK_SCAN_TABLE+341     cn=0,n=3
        18 002721   002730 602000 18                 TNC     s:5424+25
        18 002722   002743 600000 18                 TZE     s:5429
        18 002723   040000 106400                    CMPC    fill='040'O
        18 002724   000000 000120 14                 ADSC9   INBUF                    cn=0,n=80
        18 002725   000526 000004 17                 ADSC9   BLANK_SCAN_TABLE+342     cn=0,n=4
        18 002726   002753 601000 18                 TNZ     s:5439
        18 002727   002743 710000 18                 TRA     s:5429
        18 002730   040000 106400                    CMPC    fill='040'O
        18 002731   000000 000120 14                 ADSC9   INBUF                    cn=0,n=80
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:142  
        18 002732   000122 000001 19                 ADSC9   82                       cn=0,n=1
        18 002733   002736 602000 18                 TNC     s:5424+31
        18 002734   002743 600000 18                 TZE     s:5429
        18 002735   002753 710000 18                 TRA     s:5439
        18 002736   040000 106400                    CMPC    fill='040'O
        18 002737   000000 000120 14                 ADSC9   INBUF                    cn=0,n=80
        18 002740   000002 000001 19                 ADSC9   2                        cn=0,n=1
        18 002741   002753 601000 18                 TNZ     s:5439
        18 002742   002751 710000 18                 TRA     s:5435

      731     5425
      732     5426                   /* SCAN FOR QUIT STRINGS */
      733     5427
      734     5428    3         SELECT ('Q','QUIT', 'E', 'END', 'EXIT', 'X');

      735     5429    3           QUIT = TRUE;

   5429 18 002743   400000 236003                    LDQ     -131072,DU
        18 002744   202073 470500                    LDP0    @QUIT,,AUTO
        18 002745   000000 756100                    STQ     0,,PR0

      736     5430    3           TREE_WALKING = FALSE;

   5430 18 002746   202074 471500                    LDP1    @TREE_WALKING,,AUTO
        18 002747   100000 450100                    STZ     0,,PR1
        18 002750   002753 710000 18                 TRA     s:5439

      737     5431
      738     5432                   /* SCAN FOR BLANK  */
      739     5433
      740     5434    3         SELECT (' ');

      741     5435    3           TREE_WALKING = FALSE;

   5435 18 002751   202074 470500                    LDP0    @TREE_WALKING,,AUTO
        18 002752   000000 450100                    STZ     0,,PR0

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:143  
      742     5436
      743     5437    3       END;  /* SELECT */

      744     5438
      745     5439    2     END PRE_SCAN;  /* proc */

   5439 18 002753   202072 221300                    LDX1  ! PRINT_ARG,,AUTO
        18 002754   000001 702211                    TSX2  ! 1,X1

      746     5440        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:144  
      747     5441    1     WRITE_OBUF: PROC( STRING, LENGTH );

   5441 18 002755   202072 741300       WRITE_OBUF   STX1  ! PRINT_ARG,,AUTO

      748     5442
      749     5443    2       DCL LENGTH      SBIN WORD;
      750     5444    2       DCL STRING      CHAR (LENGTH);
      751     5445
      752     5446    2       OBUF = ' ';

   5446 18 002756   040000 100400                    MLR     fill='040'O
        18 002757   000002 000001 19                 ADSC9   2                        cn=0,n=1
        18 002760   000000 000170 13                 ADSC9   OBUF                     cn=0,n=120

      753     5447    2       SUBSTR(OBUF,0,LENGTH) = STRING;

   5447 18 002761   202074 470500                    LDP0    @LENGTH,,AUTO
        18 002762   000000 720100                    LXL0    0,,PR0
        18 002763   000000 722100                    LXL2    0,,PR0
        18 002764   202073 471500                    LDP1    @STRING,,AUTO
        18 002765   040040 100540                    MLR     fill='040'O
        18 002766   100000 000012                    ADSC9   0,,PR1                   cn=0,n=*X2
        18 002767   000000 000010 13                 ADSC9   OBUF                     cn=0,n=*X0

      754     5448
      755     5449    2       IF COMCOM.OB.IT THEN

   5449 18 002770   000104 234000 xsym               SZN     COMCOM+68
        18 002771   002776 605000 18                 TPL     s:5452

      756     5450    2           CALL Z9AL$WRITE_TERMINAL;

   5450 18 002772   000000 631400 19                 EPPR1   0
        18 002773   000000 701000 xent               TSX1    Z9AL$WRITE_TERMINAL
        18 002774   000000 011000                    NOP     0
        18 002775   003001 710000 18                 TRA     s:5454

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:145  
      757     5451    2       ELSE
      758     5452    2         CALL Z9AL$DUMP_LINE;

   5452 18 002776   000000 631400 19                 EPPR1   0
        18 002777   000000 701000 xent               TSX1    Z9AL$DUMP_LINE
        18 003000   000000 011000                    NOP     0

      759     5453
      760     5454    2     END WRITE_OBUF;  /* proc */

   5454 18 003001   202072 221300                    LDX1  ! PRINT_ARG,,AUTO
        18 003002   000001 702211                    TSX2  ! 1,X1

      761     5455        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:146  
      762     5456    1     WRITE_OBUF_VFC:  PROC ( STRING, LENGTH );

   5456 18 003003   202072 741300       WRITE_OBUF_* STX1  ! PRINT_ARG,,AUTO

      763     5457
      764     5458    2       DCL STRING         CHAR ( LENGTH );
      765     5459    2       DCL LENGTH         SBIN WORD;
      766     5460
      767     5461    2       OBUF = 'a';       /* Small 'a' for VFC */

   5461 18 003004   040000 100400                    MLR     fill='040'O
        18 003005   000123 000001 19                 ADSC9   83                       cn=0,n=1
        18 003006   000000 000170 13                 ADSC9   OBUF                     cn=0,n=120

      768     5462    2       SUBSTR(OBUF,1,LENGTH) = STRING;

   5462 18 003007   202074 470500                    LDP0    @LENGTH,,AUTO
        18 003010   000000 720100                    LXL0    0,,PR0
        18 003011   000000 722100                    LXL2    0,,PR0
        18 003012   202073 471500                    LDP1    @STRING,,AUTO
        18 003013   040040 100540                    MLR     fill='040'O
        18 003014   100000 000012                    ADSC9   0,,PR1                   cn=0,n=*X2
        18 003015   000000 200010 13                 ADSC9   OBUF                     cn=1,n=*X0

      769     5463    2       CALL Z9AL$WRITE_TERMINAL_VFC;

   5463 18 003016   000000 631400 19                 EPPR1   0
        18 003017   000000 701000 xent               TSX1    Z9AL$WRITE_TERMINAL_VFC
        18 003020   000000 011000                    NOP     0

      770     5464
      771     5465
      772     5466    2     END WRITE_OBUF_VFC;  /* proc */

   5466 18 003021   202072 221300                    LDX1  ! PRINT_ARG,,AUTO
        18 003022   000001 702211                    TSX2  ! 1,X1

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:147  
      773     5467
      774     5468    1   END Z8JS$START_TREEWALKER; /* proc */

   5468 18 003023   000000 702200 xent               TSX2  ! X66_ARET
      775     5469        %EJECT;
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:148  
      776     5470

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:149  
--  Include file information  --

   Z8A_ETT.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_ILS.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_ILL.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_DNT.:Z8A6TOU  cannot be made into a system file and is referenced.
   X8A_COM_MACS.:X8A6TOU  is referenced.
   Z8A_NAMES.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_SUPP_MAC.:Z8A6TOU  is referenced.
   Z8A_COMCOM.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_DEFC.:Z8A6TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure Z8JS$START_TREEWALKER.
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:150  

 **** Variables and constants ****

  ****  Section 000 LblCom ITERATION

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 ITERATION

  ****  Section 001 LblCom DNT$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 DNT$

  ****  Section 002 LblCom DNT_

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(180)   r     1 DNT_

  ****  Section 003 LblCom DNT_BUCKET_NUMBER

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w UBIN              1 DNT_BUCKET_NUMBER

  ****  Section 004 LblCom DNT_OF_1$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 DNT_OF_1$

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:151  
  ****  Section 005 LblCom ILL$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 ILL$

  ****  Section 006 LblCom ILL_

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(180)   r     1 ILL_

  ****  Section 007 LblCom ILS$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 ILS$

  ****  Section 008 LblCom ILS_

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(180)         1 ILS_

  ****  Section 009 LblCom ETT$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 ETT$

  ****  Section 010 LblCom HEAD_ETT$

PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:152  
  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 HEAD_ETT$

  ****  Section 011 LblCom ETT_BUCKETS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 ETT_BUCKETS(0:511)

  ****  Section 012 LblCom ETT_

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(180)         1 ETT_

  ****  Section 013 LblCom OBUF

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(120)   r     1 OBUF

  ****  Section 014 LblCom INBUF

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/c CHAR(80)    r     1 INBUF

  ****  Section 015 LblCom PTR_ABORT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:153  

     0-0-0/b BIT         r     1 PTR_ABORT

  ****  Section 016 LblCom CCOSU_OFF

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b BIT         r     1 CCOSU_OFF

  ****  Section 017 RoData Z8JS$START_TREEWALKER

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/b UBIN(9)     r     1 BLANK_SCAN_TABLE(0:511)

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

  1773-0-0/w PTR         r     1 @LENGTH                 1774-0-0/w PTR         r     1 @LENGTH
  2074-0-0/w PTR         r     1 @LENGTH                 2074-0-0/w PTR         r     1 @LENGTH
  1773-0-0/w PTR         r     1 @LINE#S                 1773-0-0/w PTR         r     1 @LINE#S
  1773-0-0/w PTR         r     1 @LINE#S                 1773-0-0/w PTR         r     1 @LINE_NO
  2071-0-0/w PTR         r     1 @LINE_NO                2075-0-0/w PTR         r     1 @LINE_NO
  1773-0-0/w PTR         r     1 @P$                     2073-0-0/w PTR         r     1 @QUIT
  1773-0-0/w PTR         r     1 @STRING                 2073-0-0/w PTR         r     1 @STRING
  2073-0-0/w PTR         r     1 @STRING                 2074-0-0/w PTR         r     1 @TREE_WALKING
  1766-0-0/w SBIN        r     1 ARG#                    1774-0-0/c CHAR(12)    r     1 CHAR12
  2076-0-0/c CHAR(6)     r     1 CHAR6                   1775-0-0/w PTR         r     1 DNT$$
    13-0-0/w BIT         r     1 DNT_DUMPING               15-0-0/b BIT         r     1 ERROR
  1775-0-0/b BIT         r     1 FOUND
  1776-0-0/b BIT         r     1 FOUND_LINE#S(0:999)
  2022-0-0/w SBIN        r     1 I                       1774-0-0/w SBIN        r     1 I
  1774-0-0/w SBIN        r     1 I                       1775-0-0/w SBIN        r     1 J
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:154  
  2001-0-0/w SBIN        r     1 L                         14-0-0/w SBIN        r     1 LENGTH
    *0-0-0/w SBIN        r     1 LENGTH                    *0-0-0/w SBIN        r     1 LENGTH
    *0-0-0/w SBIN        r     1 LENGTH                    *0-0-0/w SBIN        r     1 LENGTH
    16-0-0/w SBIN        r     1 LINE#S(0:999)             *0-0-0/w SBIN        r     1 LINE#S(0:999)
    *0-0-0/w SBIN        r     1 LINE#S(0:999)             *0-0-0/w UBIN        r     1 LINE#S(0:999)
  1775-0-0/b BIT         r     1 LINE#_NOT_FOUND         1767-0-0/w SBIN        r     1 LINE_NO
  1774-0-0/w SBIN        r     1 LINE_NO                   *0-0-0/w UBIN        r     1 LINE_NO
    *0-0-0/w UBIN        r     1 LINE_NO                   *0-0-0/w UBIN        r     1 LINE_NO
     3-0-0/w SBIN              1 LIST_INDEX              1777-0-0/b BIT         r     1 NUMBER_FOUND
  1770-0-0/w PTR         r     1 P$                        *0-0-0/w PTR         r     1 P$
     4-0-0/w SBIN        r     1 PRINT_ARG               1774-0-0/w UBIN        r     1 PRINT_ARG
  2072-0-0/w UBIN        r     1 PRINT_ARG                  6-0-0/w SBIN              1 PTR_LEN
    *0-0-0/w BIT         r     1 QUIT                    1776-0-0/c CHAR(80)    r     1 STRING
    *0-0-0/c ACHR        r     1 STRING                  2032-0-0/c CHAR(120)   r     1 STRING
    *0-0-0/c ACHR        r     1 STRING                    *0-0-0/c ACHR        r     1 STRING
  1774-0-0/w SBIN        r     1 TABLEVAL                  11-0-0/b BIT         r     1 TABLE_DUMPING
     5-0-0/w PTR               1 TEMP$                   1776-0-0/b BIT         r     1 THRU_CLAUSE
    *0-0-0/w BIT         r     1 TREE_WALKING              10-0-0/w BIT         r     1 TREE_WALKING_LINES
     7-0-0/w BIT         r     1 TREE_WALKING_POINTERS
    12-0-0/w BIT         r     1 USER_QUITS

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(13248) r     1 COMCOM                     0-0-0/w UBIN        r     1 ILL_STEP(0:144)
     0-0-0/w UBIN              1 ILS_STEP_TABLE(0:2)
     0-0-0/c CHAR(12)          1 NAMES(0:599)

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(108)         1 ACCEPT_DISPLAY             0-0-0/w STRC(108)         1 BINARY_ILL
     0-0-0/w STRC(144)         1 BRANCH_ILL                 0-0-0/w STRC(216)   r     1 CCOSU
PL6.E3A0      #001=Z8JS$START_TREEWALKER File=Z8JS.:Z8A6TSI                      SAT 08/09/97 13:31 Page:155  
     0-0-0/w CHAR(4096)        1 CHARS                      0-0-0/w STRC(108)         1 CODED_MOVE
     0-0-0/w STRC(72)    r     1 CONT                       0-0-0/w STRC(144)         1 DEFLB
     0-0-0/w ASTR(180)   r     1 DNT                        0-0-0/w STRC(144)         1 DOEND
     0-0-0/w STRC(396)         1 DO_N                       0-0-0/w STRC(180)         1 DV4I
     0-0-0/w STRC(180)         1 ENTRY_ILL                  0-0-0/w STRC(180)         1 ETT
     0-0-0/w STRC(108)         1 EVALU                      0-0-0/w STRC(144)         1 GO
     0-0-0/w STRC(180)   r     1 ILL                        0-0-0/w STRC              1 ILL_NO_OPS
     0-0-0/w STRC(180)   r     1 ILS                        0-0-0/w STRC(108)   r     1 LINOI
     0-0-0/w STRC(72)          1 MFILL                      0-0-0/w STRC(180)         1 MULTI_GO
     0-0-0/w STRC(180)         1 MVEAL                      0-0-0/w STRC(108)         1 MVFIL
     0-0-0/w STRC(72)          1 MVIIS                      0-0-0/w STRC(144)         1 OPN
     0-0-0/w STRC(180)         1 OS_CALL                    0-0-0/w STRC(36864)       1 PAGE
     0-0-0/w STRC(216)         1 PFORM                      0-0-0/w STRC(144)         1 PINC
     0-0-0/w STRC(144)         1 PREOFF                     0-0-0/w STRC(108)         1 PRESET
     0-0-0/w STRC(144)         1 P_A_PRESET                 0-0-0/w STRC(144)         1 P_P_PRESET
     0-0-0/w STRC(144)         1 REMEM                      0-0-0/w STRC(144)         1 SCOPE
     0-0-0/w STRC(216)         1 SEARCH_                    0-0-0/w STRC(72)          1 STP2
     0-0-0/w STRC(144)         1 TRINARY_ILL                0-0-0/w STRC(72)          1 UNARY_ILL
     0-0-0/w STRC(216)         1 USER_CALL                  0-0-0/w STRC(108)         1 VAL
     0-0-0/w STRC(108)         1 VAL_END                    0-0-0/w STRC(72)          1 WHEN


   Procedure Z8JS$START_TREEWALKER requires 1556 words for executable code.
   Procedure Z8JS$START_TREEWALKER requires 1092 words of local(AUTO) storage.

    No errors detected in file Z8JS.:Z8A6TSI    .

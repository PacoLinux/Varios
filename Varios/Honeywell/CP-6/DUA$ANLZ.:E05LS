VERSION E05

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:1    
        1        1        /*M* DUA$ANLZ - SET UP FOR ACCESS TO MONITOR, RUNNING OR DUMP FILE */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* DMR,PLM=5,IND=5,CSU=3,EXM=0,ECU=3,MOC,DCI=5,CRT=5 */
        8        8        /*D* NAME: DUA$ANLZ
        9        9             ENVIRONMENT: USER DELTA, USER MUST HAVE SPECIAL MEMORY ACCESS
       10       10                  PRIVILEGE TO LOOK, AND EXTENDED TO TOUCH THE RUNNING MONITOR.
       11       11                  ONLY ACCESS RIGHTS TO THE FILE ARE REQUIRED FOR ANLZ FID.
       12       12             DESCRIPTION: THE ANLZ COMMAND WILL CAUSE DELTA TO ACCESS THE
       13       13                  RUNNING MONITOR FOR ALL MEMORY ACCESS COMMANDS. THIS IS
       14       14                  DONE BY USING M$SAD TO REPLACE THE USERLAND DESCRIPTORS ON
       15       15                  DELTA'S LS WITH MONITOR DESCRIPTORS.  ONE DESCRIPTOR FRAMES
       16       16                  THE LS FOR MONWSQ, AND THE OTHER THE LS FOR UDELWSQ.  UDELWSQ IS
       17       17                  A COPY OF MONWSQ WITH THE HOUSEKEEPING PAGE BITS TURNED OFF
       18       18                  IN ITS PAGE TABLE, THUS ALLOWING A NON-MASTER MODE PROCESS
       19       19                  TO MODIFY MONITOR IS AND STUFF LIKE THAT.
       20       20
       21       21                  THE ANLZ FID COMMAND WILL ACCESS A RCVR2 BUILT DUMP FILE.
       22       22
       23       23                  DUA$ANLZ WILL ALTRET IF THE USER IS NOT PRIVILEGED ENUFF TO
       24       24                  FONDLE THE MONITOR, OR IF THE DUMP FILE IS NOT STRUCTURED CORRECTLY. */
       25       25                                                /**/
       26       26        DUA$ANLZ: PROC ALTRET;
       27       27                                                /**/
       28       28    1   DCL OUTBUF CHAR(256);
       29       29    1   DCL SIZE UBIN;
       30       30    1   DCL KLUDGE_FLAG BIT(1);
       31       31    1   DCL TEMP_FLAG BIT(1);
       32       32    1   DCL MON BIT(1);
       33       33    1   DCL HEAD$ PTR;
       34       34    1   DCL ROS$ PTR;
       35       35    1   DCL ROSIZE UBIN;
       36       36    1   DCL ARS SBIN;
       37       37    1   DCL IX UBIN;
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:2    
       38       38    1   DCL TEMP1$ PTR;
       39       39    1   DCL TOGET SBIN;
       40       40    1   DCL NEED UBIN;
       41       41    1   DCL DCB$ PTR;
       42       42    1   DCL DCBPTR$ PTR;
       43       43    1   DCL PAGE UBIN;
       44       44    1   DCL DCB$PTR$ PTR BASED ALIGNED;
       45       45    1   DCL DCBRES UBIN;
       46       46    1   DCL 1 PTR$WORD BASED ALIGNED,
       47       47    1         2 LH UBIN HALF UNAL,
       48       48    1         2 * UBIN HALF UNAL;
       49       49        %SUB @PSIZ=1024 /* @PSIZ */;
       50       50        %SUB @PAGE=0 /* @PAGE */;
       51       51        %SUB @NODE=0 /* @NODE */;
       52       52        %INCLUDE DD$BASED;
       53     1355        %ANLZ$CMD;
       54     1378        %TEXT$C;
       55     1383        %INCLUDE B$ROSEG;
       56     1446        %INCLUDE B$OBJECT_C;
       57     4876    1   DCL TEMP$ PTR;
       58     4877        %B$EDEF;
       59     4947        %B$SDEF;
       60     5001        %B$HEAD;
       61     5201        %RU_FLAVORS;
       62     5207        %B$TREE_TABLE (HDR_NAME=B$TREEHDR,NODE_NAME="B$NODE(0:0)");
       63     5265        %B$RECORDSUBS;
       64     5293    1   DCL 1 DD_AXOU CONSTANT,
       65     5294    1         2 SIZE UBIN BYTE UNAL INIT( LENGTHC( DD_AXOU.TEXT ) ),
       66     5295    1         2 TEXT CHAR(0) UNAL INIT( 'B_DELTA_D' );
       67     5296    1   DCL DD_AXOU$ PTR CONSTANT INIT( ADDR( DD_AXOU ) );
       68     5297    1   DCL 1 DD_S_CNODE CONSTANT,
       69     5298    1         2 SIZE UBIN BYTE UNAL INIT(LENGTHC(DD_S_CNODE.TEXT)),
       70     5299    1         2 TEXT CHAR(0) UNAL INIT( 'S_CNODE' );
       71     5300    1   DCL I UBIN;
       72     5301    1   DCL TEMP_ADR UBIN;
       73     5302    1   DCL NWORD UBIN;
       74     5303    1   DCL DD_S_CNODE$ PTR CONSTANT INIT( ADDR( DD_S_CNODE ) );
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:3    
       75     5304    1   DCL 1 REGS BASED DALIGNED,
       76     5305    1         2 *(0:6) UBIN;
       77     5306        %INCLUDE DD_ERR_C;
       78     5703        %INCLUDE DD_SUBS_C;
       79     5974        %INCLUDE B_SEGIDS_C;
       80     6513        %INCLUDE CP_6;
       81     6594        %INCLUDE XUH_MACRO_C;
       82     6678        %INCLUDE DD_SD_M;
       83     8014        %S_D;
       84     9332        %S_D_PTRS;
       85     9369        %INCLUDE CP_6_SUBS;
       86     9909        %F$DCB;
       87     9966        %INCLUDE IR_DATA_M;
       88    10130        %INCLUDE NI$TABLES;
       89    10346        %INCLUDE DD$DA;
       90    10427        %RV_BUFF (NAME=RV_BUFF, STCLASS=BASED);
       91    10463        %B$TCB;
       92    10466        %B$ALT;
       93    10474        %B$EXCFR;
       94    10492        %INCLUDE B$JIT;
       95    10782        %FPT_PRIV (FPTN=FPT_PRIV, STCLASS=CONSTANT,
       96    10783                  PRIV=%PR_SPCLMM#,AUTH=YES);
       97    10798        %FPT_CLOSE (FPTN=FPT$CLOSE, STCLASS=AUTO);
       98    10840        %FPT_FID (FPTN=FPT$FID, STCLASS=AUTO);
       99    10863        %FPT_GETDCB (FPTN=FPT$GETDCB, STCLASS=AUTO);
      100    10878        %FPT_OPEN (FPTN=FPT$OPEN, STCLASS=AUTO);
      101    10987        %VLP_NAME (FPTN=VLP$NAME, STCLASS=AUTO, LEN=64);
      102    11014        %VLP_ACCT (FPTN=VLP$ACCT, STCLASS=AUTO);
      103    11027        %VLP_PASS (FPTN=VLP$PASS, STCLASS=AUTO);
      104    11040        %VLP_WSN (FPTN=VLP$WSN, STCLASS=AUTO);
      105    11053        %VLP_SN (FPTN=VLP$SN, STCLASS=AUTO, N=1);
      106    11066        %VLR_FID (FPTN=VLR$FID, STCLASS=AUTO);
      107    11085        %FPT_FID (FPTN=FPT_FID, STCLASS=SYMREF);
      108    11108        %FPT_GETDCB (FPTN=FPT_GETDCB, STCLASS=SYMREF);
      109    11123        %FPT_RELDCB (FPTN=FPT$RELDCB, STCLASS=AUTO);
      110    11137        %FPT_RELDCB (FPTN=FPT_RELDCB, STCLASS=SYMREF);
      111    11151        %FPT_UNFID (FPTN=FPT$UNFID, STCLASS=AUTO);
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:4    
      112    11169        %FPT_OPEN (FPTN=FPT_OPEN,
      113    11170                  STCLASS=CONSTANT,
      114    11171                  ASN=FILE,
      115    11172                  FUN=IN,
      116    11173                  SCRUB=YES);
      117    11282        %FPT_OPEN (FPTN=FPT_OPENSCHEMA,
      118    11283                  STCLASS=CONSTANT,
      119    11284                  ASN=FILE,
      120    11285                  NAME=VLP_MONNAME,
      121    11286                  ACCT=VLP_SYSACCT,
      122    11287                  FUN=IN,
      123    11288                  SCRUB=YES);
      124    11397        %FPT_CLOSE (FPTN=FPT_CLOSE,
      125    11398                  STCLASS=SYMREF);
      126    11440        %FPT_UNFID (FPTN=FPT_UNFID, STCLASS=CONSTANT);
      127    11458        %VLP_NAME (FPTN=VLP_MONNAME, STCLASS=CONSTANT,
      128    11459                  NAME='M:MON');
      129    11486        %VLP_ACCT (FPTN=VLP_SYSACCT, STCLASS=CONSTANT,
      130    11487                  ACCT=':SYS');
      131    11500        %VLP_SN (FPTN=VLP_SN, STCLASS=CONSTANT);
      132    11513        %FPT_SAD (FPTN=SAD1, STCLASS=CONSTANT, USERSID=%SPCL1SID, MONSID=%NULLSID);
      133    11528        %FPT_SAD (FPTN=SAD2, STCLASS=CONSTANT, USERSID=%SPCL2SID, MONSID=%MLS1SID);
      134    11543        %FPT_SAD (FPTN=SAD3, STCLASS=CONSTANT, USERSID=%SPCL3SID, MONSID=%NULLSID);
      135    11558        %FPT_SAD (FPTN=SAD4, STCLASS=CONSTANT, USERSID=%SPCL4SID, MONSID=%NULLSID);
      136    11573        %FPT_SAD (FPTN=SAD5, STCLASS=CONSTANT, USERSID=%SPCL5SID, MONSID=%NULLSID);
      137    11588        %FPT_SAD (FPTN=SAD6, STCLASS=CONSTANT, USERSID=%SPCL6SID, MONSID=%WS3MLSSID);
      138    11603        %FPT_DRTN (FPTN=FPT_DRTN, STCLASS=CONSTANT);
      139    11627        %FPT_DRTN (FPTN=FPT$DRTN, STCLASS=AUTO);
      140    11651        %FPT_EOM (FPTN=FPT_EOM,STCLASS=SYMREF);
      141    11681    1   DCL D_M$LM# UBIN SYMREF;
      142    11682    1   DCL B$TCB$ PTR SYMREF;
      143    11683    1   DCL DD_RUMNODE$ PTR SYMREF;
      144    11684    1   DCL B$ROS$ PTR SYMREF;
      145    11685    1   DCL B$JIT$ PTR SYMREF;
      146    11686        /*  Dcl DD_ANLZSEG$ ptr symref;  this comes in DD$$DA   */
      147    11687    1   DCL DDS$EQCS# ENTRY(1) ALTRET;
      148    11688    1   DCL DDS$PD_SRCH ENTRY(2) ALTRET;
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:5    
      149    11689    1   DCL DDS$SET_Q2X ENTRY(0) ALTRET;
      150    11690    1   DCL DDQ$WRITED ENTRY(2);
      151    11691    1   DCL DUA$KILL_RUM ENTRY;
      152    11692    1   DCL DUE$ERRMSG ENTRY;
      153    11693    1   DCL DUI$INIT_HOST ENTRY;
      154    11694    1   DCL DUI$INIT_L6 ENTRY;
      155    11695    1   DCL DUI$RU_ACCESS ENTRY ALTRET;
      156    11696    1   DCL DDS$SD_SRCH ENTRY(2) ALTRET;
      157    11697    1   DCL DDS$EMTREE ENTRY ALTRET;
      158    11698    1   DCL DUL$GETMVAL ENTRY(5) ALTRET;
      159    11699    1   DCL DDM$GETMEM ENTRY(3) ALTRET;
      160    11700    1   DCL DDQ$READLM ENTRY(7) ALTRET;
      161    11701    1   DCL DDS$ES_INQ ENTRY(1) ALTRET;
      162    11702    1   DCL DDS$SET_Q2C ENTRY ALTRET;
      163    11703    1   DCL DDR$REPORT ENTRY(1);
      164    11704    1   DCL DUL$INIT ENTRY ALTRET;
      165    11705    1   DCL DDM$PUTMEM ENTRY(3) ALTRET;
      166    11706    1   DCL DDE$ERROR ENTRY;
      167    11707    1   DCL DFA$KILL_FPRG ENTRY(1);
      168    11708    1   DCL DDA$RESET_PATCH_SPACE ENTRY;
      169    11709                                                /**/
      170    11710    1        FPT$FID = FPT_FID;
      171    11711    1        FPT$OPEN = FPT_OPEN;
      172    11712    1        FPT$FID.V_ = VECTOR(FPT$FID.V);
      173    11713    1        FPT$FID.NAME_ = VECTOR(VLP$NAME);
      174    11714    1        FPT$FID.ACCT_ = VECTOR(VLP$ACCT);
      175    11715    1        FPT$FID.PASS_ = VECTOR(VLP$PASS);
      176    11716    1        FPT$FID.WSN_ = VECTOR(VLP$WSN);
      177    11717    1        VLP$SN = VLP_SN;
      178    11718    1        FPT$FID.SN_ = VECTOR(VLP$SN);
      179    11719    1        FPT$FID.ASN_ = VECTOR(FPT$OPEN.V.ASN#);
      180    11720    1        FPT$FID.RES_ = VECTOR(FPT$OPEN.V.RES#);
      181    11721    1        FPT$FID.RESULTS_ = VECTOR(VLR$FID);
      182    11722    1        FPT$OPEN.V_ = VECTOR(FPT$OPEN.V);
      183    11723    1        FPT$OPEN.NAME_ = VECTOR(VLP$NAME);
      184    11724    1        FPT$OPEN.ACCT_ = VECTOR(VLP$ACCT);
      185    11725    1        FPT$OPEN.PASS_ = VECTOR(VLP$PASS);
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:6    
      186    11726    1        FPT$OPEN.WSN_ = VECTOR(VLP$WSN);
      187    11727    1        FPT$OPEN.SN_ = VECTOR(VLP$SN);
      188    11728    1        IF S_D.DO$->ANLZ$CMD.RUNNING       /* If @ specified for fid */
      189    11729    2        THEN DO;
      190    11730    2             KLUDGE_FLAG = '1'B;
      191    11731    2             S_D.SAVEIC_SAVE = S_D.SAVEIC;
      192    11732    2             S_D.EXEC_DOMAIN_SAVE = S_D.ONE_TO_TWO.EXEC_DOMAIN;
      193    11733    2             S_D.LMDCB_SAVE = S_D.LMDCB;
      194    11734    2             S_D.USS$_SAVE = S_D.USS$;
      195    11735    2             CALL DDM$PUTMEM(S_D_SEG$, POFFW(S_D.SCHSEG$, S_D.SCHSEG_BEGIN$));
      196    11736    2             S_D.SCHSEG$ = S_D.SCHSEG_BEGIN$;
      197    11737                                                /* Release old schema */
      198    11738    2             GOTO KLUDGE_ENTRY0;
      199    11739    2           END;
      200    11740    1        ELSE KLUDGE_FLAG = '0'B;
      201    11741    1        IF S_D.RUM THEN CALL DUA$KILL_RUM;
      202    11742    1        IF S_D.FPRG THEN CALL DFA$KILL_FPRG;
      203    11743    1        CALL KILL_ANLZ ALTRET(CALL_XXX);
      204    11744    1        S_D.SAVEIC_SAVE = S_D.SAVEIC;
      205    11745    1        S_D.EXEC_DOMAIN_SAVE = S_D.ONE_TO_TWO.EXEC_DOMAIN;
      206    11746    1        S_D.LMDCB_SAVE = S_D.LMDCB;
      207    11747    1        IF S_D.DO$->ANLZ$CMD.FILE          /* Anlz fid */
      208    11748    2        THEN DO;
      209    11749    2             IF S_D.ANLZDCB = 0
      210    11750    3             THEN DO;                      /* We need another dcb */
      211    11751    3                  FPT$GETDCB = FPT_GETDCB;
      212    11752    3                  FPT$GETDCB.V_ = VECTOR(FPT$GETDCB.V);
      213    11753    3                  FPT$GETDCB.DCBNUM_ = VECTOR(S_D.ANLZDCB);
      214    11754    3                  CALL M$GETDCB(FPT$GETDCB) ALTRET(PMME_ALT);
      215    11755    3                END;
      216    11756                                                /* Decode the fid */
      217    11757    2   KLUDGE_ENTRY0:
      218    11758    2             FPT$FID.TEXTFID_ = VECTOR( ADDR(S_D.DO$->ANLZ$CMD.FID)->TEXT$C.TXT);
      219    11759    2             FPT$OPEN.V.DCB# = S_D.ANLZDCB;
      220    11760    2             IF KLUDGE_FLAG THEN GOTO KLUDGE_ENTRY1;
      221    11761    2             CALL M$FID(FPT$FID) ALTRET(PMME_ALT);
      222    11762                                                /* Now open it */
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:7    
      223    11763    2             CALL M$OPEN(FPT$OPEN) ALTRET(OPEN_ALT);
      224    11764    2             S_D.ANLZ = '1'B;
      225    11765    2             S_D.ANLZ_FILE = '1'B;         /* We are now in anlz fid mode */
      226    11766    2             CALL DUL$INIT ALTRET(ARET);   /* Set up to access the dump file */
      227    11767                                      /* Set up safe store pointers and registers */
      228    11768    2             S_D.USS$ = ADDR(DA.RVBUFF$->RV_BUFF.SSFRAME);
      229    11769    2             S_D.IND$ = PINCRW(S_D.USS$,4);
      230    11770    2             S_D.UREG$->REGS = S_D.USS$->B$EXCFR.REGS;
      231    11771    2           END;
      232    11772    2        ELSE DO;
      233    11773    2             CALL M$SPRIV(FPT_PRIV);
      234    11774    2             CALL M$SAD(SAD1) ALTRET(NOT_PRIV);
      235    11775    2             CALL M$SAD(SAD2) ALTRET(NOT_PRIV);
      236    11776    2             CALL M$SAD(SAD3) ALTRET(NOT_PRIV);
      237    11777    2             CALL M$SAD(SAD4) ALTRET(NOT_PRIV);
      238    11778    2             CALL M$SAD(SAD5) ALTRET(NOT_PRIV);
      239    11779    2             CALL M$SAD(SAD6) ALTRET(NOT_PRIV);
      240    11780    2             S_D.ANLZ = '1'B;         /* We are now in anlz running monitor mode */
      241    11781    2           END;
      242    11782                            /* Let's tuck the regs values away so they don't get lost */
      243    11783    1        FPT$DRTN = FPT_DRTN;
      244    11784    1        FPT$DRTN.V_ = VECTOR(FPT$DRTN.V);
      245    11785    1        FPT$DRTN.REGS_ = VECTOR(S_D.UREG$->REGS);
      246    11786    1        FPT$DRTN.V.MRGSS# = '1'B;
      247    11787    1        CALL M$DRTN (FPT$DRTN) ALTRET(CALL_XXX);
      248    11788    1        IF S_D.LMDCB = D_M$LM#
      249    11789    2        THEN DO;                           /* Get schema */
      250    11790    2   KLUDGE_ENTRY1:
      251    11791                                                /* Get a dcb first */
      252    11792    2             FPT$GETDCB = FPT_GETDCB;
      253    11793    2             FPT$GETDCB.V_ = VECTOR(FPT$GETDCB.V);
      254    11794    2             FPT$GETDCB.DCBNUM_ = VECTOR(S_D.LMDCB);
      255    11795    2             CALL M$GETDCB(FPT$GETDCB) ALTRET(PMME_ALT);
      256    11796    2             IF S_D.DO$->ANLZ$CMD.FILESCH
      257    11797    3             THEN DO;                      /* Get schema from fid */
      258    11798    3                  FPT$FID.TEXTFID_ = VECTOR( ADDR(S_D.DO$->ANLZ$CMD.FIDSCH)->TEXT$C.TXT
             11798                           );
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:8    
      259    11799    3                  VLP$SN = VLP_SN;
      260    11800    3                  CALL M$FID(FPT$FID) ALTRET(BAD_SCH_FILE);
      261    11801    3                END;
      262    11802    3             ELSE DO;
      263    11803                                                /* Open it to M:MON.:SYS */
      264    11804    3                  FPT$OPEN = FPT_OPENSCHEMA;
      265    11805    3                  FPT$OPEN.V_ = VECTOR(FPT$OPEN.V);
      266    11806    3                  IF KLUDGE_FLAG
      267    11807    3                  THEN S_D.ANLZ_KLUDGE = '1'B;
      268    11808    3                  ELSE S_D.ANLZ_KLUDGE = '0'B;
      269    11809    3                END;
      270    11810    2             FPT$OPEN.V.DCB# = S_D.LMDCB;
      271    11811    2             CALL M$OPEN (FPT$OPEN) ALTRET(BAD_SCH_FILE);
      272    11812    2           END;
      273    11813    1        IF KLUDGE_FLAG
      274    11814    2        THEN DO;
      275    11815    2             TEMP_FLAG = S_D.STAND_ALONE;
      276    11816    2             S_D.STAND_ALONE = '0'B;
      277    11817    2           END;
      278    11818    1        DCB$ = DCBADDR( S_D.LMDCB );
      279    11819    1        MON = '0'B;
      280    11820    1        IF DCB$ -> F$DCB.NAME#.C = 'M:MON                          '
      281    11821    1          AND S_D.ANLZ_FILE
      282    11822    2        THEN DO;
      283    11823    2             MON = '1'B;
      284    11824    2             CALL DDM$GETMEM(DD_ANLZSEG$, @PSIZ) ALTRET(NO_MEM);
      285    11825    2             HEAD$ = DA.ANLZSEGEND$;
      286    11826    2             S_D.NODESEG_USED$ = PINCRW(DA.ANLZSEGEND$, @PSIZ);
      287    11827    2             DA.ANLZSEGEND$ = PINCRW(DA.ANLZSEGEND$, @PSIZ);
      288    11828    2             ARS = 0;                      /* Positive */
      289    11829    2             CALL DDQ$READLM( %TYPHEAD, @PAGE, @NODE, HEAD$, SIZEC( B$HEAD ), ARS )
             11829                      ALTRET( NOHEAD );
      290    11830    2             IF ARS ~= SIZEC(B$HEAD)
      291    11831    2             THEN GOTO NOHEAD;
      292    11832    2             ROS$ = PINCRW(HEAD$, SIZEW(B$HEAD));
      293    11833    2             ROSIZE = HEAD$ -> B$HEAD.ROSIZE;
      294    11834    2             NEED = SIZEW(B$ROSEG) + %M$1STDCB# + ROSIZE;
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:9    
      295    11835    2             TOGET = (@PSIZ - SIZEW(B$HEAD)) - NEED;
      296    11836    2             IF TOGET > 0
      297    11837    3             THEN DO;
      298    11838    3                  TOGET = ( ( -TOGET + @PSIZ -1 ) / @PSIZ ) * @PSIZ;
      299    11839    3                  CALL DDM$GETMEM( DD_ANLZSEG$, TOGET ) ALTRET( NO_MEM );
      300    11840    3                  S_D.NODESEG_USED$ = PINCRW(S_D.NODESEG_USED$, TOGET);
      301    11841    3                  DA.ANLZSEGEND$ = PINCRW(DA.ANLZSEGEND$, TOGET);
      302    11842    3                END;
      303    11843    2             S_D.NODESEG$ = PINCRW(ROS$,NEED);
      304    11844    2             IF ROSIZE = 0
      305    11845    3             THEN DO;
      306    11846    3                  S_D.B$ROS$ = ADDR( NIL );
      307    11847    3                  S_D.PADDR = ( HEAD$ -> B$HEAD.BIAS / @PSIZ );
      308    11848    3                END;
      309    11849    3             ELSE DO;
      310    11850    3                  S_D.B$ROS$ = ROS$;
      311    11851    3                  DCBPTR$ = PINCRW( S_D.B$ROS$, SIZEW( B$ROSEG ) );
      312    11852    3                  S_D.B$ROS$ -> B$ROSEG.DCBPTR$ = DCBPTR$;
      313    11853    4                  DO IX = 1 TO %M$1STDCB#;
      314    11854    4                       DCBPTR$ -> DCB$PTR$ = ADDR( NIL );
      315    11855    4                       DCBPTR$ = PINCRW( DCBPTR$, SIZEW( DCB$PTR$ ) );
      316    11856    4                     END;
      317    11857                                      /* Read read-only-segment from RU into memory */
      318    11858    3                  TOGET = ROSIZE * SIZEC( ROSIZE );
      319    11859    3                  PAGE = 0;
      320    11860    3                  ARS = 0;
      321    11861    3                  TEMP$ = DCBPTR$;
      322    11862    4                  DO WHILE ( TOGET > 0 );
      323    11863    4                       CALL DDQ$READLM( %TYPROS, PAGE, @NODE, TEMP$, TOGET, ARS )
             11863                                ALTRET( NOROS );
      324    11864    4                       PAGE = PAGE + HEAD$ -> B$HEAD.PRECSIZE;
      325    11865    4                       TOGET = TOGET - ARS;
      326    11866    4                       TEMP$ = PINCRC( TEMP$, ARS );
      327    11867    4                     END;
      328    11868                                           /* Setup pointers to user defined dcbs */
      329    11869    3                  TOGET = HEAD$ -> B$HEAD.UDCBNUM;
      330    11870    3                  DCBRES = HEAD$ -> B$HEAD.DCBRES;
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:10   
      331    11871    3                  S_D.B$ROS$ -> B$ROSEG.NUMDCBS = %M$1STDCB# - 1 + TOGET + DCBRES;
      332    11872    3                  TEMP$ = DCBPTR$;
      333    11873    4                  DO IX = 1 TO TOGET;
      334    11874    4                       DCBPTR$ -> DCB$PTR$ = PINCRW( TEMP$, DCBPTR$ -> PTR$WORD.LH );
      335    11875    4                       DCBPTR$ = PINCRW( DCBPTR$, SIZEW( DCB$PTR$ ) );
      336    11876    4                     END;
      337    11877    4                  DO IX = 1 TO DCBRES;
      338    11878    4                       DCBPTR$ -> DCB$PTR$ = ADDR( NIL );
      339    11879    4                       DCBPTR$ = PINCRW( DCBPTR$, SIZEW( DCBPTR$ ) );
      340    11880    4                     END;
      341    11881                                                /* Setup tree table pointers */
      342    11882    3                  TEMP$ = PINCRW( TEMP$, HEAD$ -> B$HEAD.TREEDISP );
      343    11883    3                  IF HEAD$ -> B$HEAD.OVRL
      344    11884    3                  THEN S_D.B$ROS$ -> B$ROSEG.TREE$ = TEMP$;
      345    11885    3                  ELSE S_D.B$ROS$ -> B$ROSEG.TREE$ = ADDR( NIL );
      346    11886    3                  TEMP1$ = PINCRW( TEMP$, SIZEW( B$TREEHDR ) );
      347    11887    3                  TEMP1$ -> B$NODE.FLGS.NOW_IN( 0 ) = '1'B; /* Root as in */
      348    11888    3                  S_D.PADDR = TEMP1$ -> B$NODE.PADDR( 0 );
      349    11889    4                  DO IX = 0 TO TEMP$ -> B$TREEHDR.NODES - 1;
      350    11890    4                       TEMP1$ -> B$NODE.NAME$( 0 ) = PINCRW( TEMP$, TEMP1$ -> PTR$WORD.
             11890                                LH );
      351    11891    4                       TEMP1$ = PINCRW( TEMP1$, SIZEW( B$NODE ) );
      352    11892    4                     END;
      353    11893    3                END;
      354    11894    2           END;
      355    11895                                                /* Release schema memory */
      356    11896    1        CALL DDM$PUTMEM(S_D_SEG$, POFFW(S_D.SCHSEG$, S_D.SCHSEG_BEGIN$));
      357    11897    1        S_D.SCHSEG$ = S_D.SCHSEG_BEGIN$;
      358    11898    1        CALL DDA$RESET_PATCH_SPACE;
      359    11899    1        S_D.FIRST_TIME = '1'B;
      360    11900    1        CALL DUI$RU_ACCESS            /* Another of jeff's magic schema routines */
      361    11901    2        WHENALTRETURN DO;
      362    11902    2             CALL DDE$ERROR;
      363    11903    2             GOTO INTERNAL_KILL;
      364    11904    2           END;
      365    11905                                                /* Say hello */
      366    11906    1        IF NOT KLUDGE_FLAG THEN CALL DDR$REPORT(R_ANLZ);
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:11   
      367    11907    1        ELSE S_D.STAND_ALONE = TEMP_FLAG;
      368    11908        /* Establish default schema access */
      369    11909    1        S_D.XOU_NAME = DD_AXOU;
      370    11910    1        CALL DDS$PD_SRCH( DD_AXOU$, TEMP$ ) ALTRET( GOTXOU );
      371    11911    2        DO WHILE ( '0'B );
      372    11912    2   GOTXOU:
      373    11913    2             CALL DDS$EQCS#( POFFW( TEMP$, S_D.EDEF$ ) / SIZEW( B$EDEF ) ) ALTRET(
             11913                      NOXOU );
      374    11914    2             CALL DDS$SET_Q2X ALTRET( NOXOU );
      375    11915    2           END;
      376    11916    1   NOXOU:
      377    11917    1        IF MON
      378    11918    2        THEN DO;
      379    11919    2             CALL DDS$SD_SRCH(DD_S_CNODE$, TEMP$)
      380    11920    3             WHENRETURN DO;
      381    11921    3   NO_S_CNODE:    S_D.ERROR = E@NOS_CNODE; /* E@NOS_CNODE */
      382    11922    3                  CALL DDE$ERROR;
      383    11923    3                  GOTO INTERNAL_KILL;
      384    11924    3                END;
      385    11925    2             TEMP_ADR = TEMP$ -> B$SDEF.AD.ISADDR;
      386    11926    2             CALL DUL$GETMVAL(NWORD, TEMP_ADR, 0, 0, '0'B) ALTRET(NO_S_CNODE);
      387    11927    2             S_D.NODE = NWORD;
      388    11928    2             IF S_D.NODE > S_D.NODE#M1
      389    11929    3             THEN DO;
      390    11930    3                  S_D.ERROR = E@BADNODE;   /* E@BADNODE */
      391    11931    3                  CALL DDE$ERROR;
      392    11932    3                  S_D.NODE = 0;
      393    11933    3                END;
      394    11934    2             CALL DDS$EMTREE;
      395    11935    2             S_D.TREE$ = S_D.MTREE$;
      396    11936    2             S_D.UNODE.USENODE = S_D.NODE;
      397    11937    2             I = S_D.B$TREE$ -> B$NODE.PADDR(S_D.NODE);
      398    11938    2             CALL DDS$ES_INQ(I);
      399    11939    2             CALL DDS$SET_Q2C;
      400    11940    2           END;
      401    11941    1        IF S_D.STAND_ALONE AND
      402    11942    1          NOT S_D.EOM AND
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:12   
      403    11943    1          NOT S_D.BATCH
      404    11944    2        THEN DO;
      405    11945    2             CALL M$EOM (FPT_EOM) ALTRET(NOEOM);
      406    11946    2             S_D.EOM = '1'B;
      407    11947    3             DO WHILE ( '0'B );
      408    11948    3   NOEOM:
      409    11949    3                  IF B$TCB$ -> B$TCB.ALT$ -> B$ALT.ERR.SEV ~= 0
      410    11950    3                  THEN GOTO BAD_SCH_FILE;
      411    11951    3                END;
      412    11952    2           END;
      413    11953    1        RETURN;
      414    11954    1   NOT_PRIV: ;                             /* Must have at lease sp mem */
      415    11955    1        S_D.ERROR = E@CANT_ANLZ;           /*E@CANT_ANLZ*/
      416    11956    1   ARET: ALTRETURN;
      417    11957    1   PMME_ALT:
      418    11958    1        CALL DUE$ERRMSG;
      419    11959    1        RETURN;
      420    11960    1   NO_MEM:
      421    11961    1        S_D.ERROR = E@ANLZ_NOMEM;          /* E@ANLZ_NOMEM */
      422    11962    1        CALL DDE$ERROR;
      423    11963    1        GOTO INTERNAL_KILL;
      424    11964    1   NOHEAD:
      425    11965    1        S_D.ERROR = E@IGLRFID;             /* E@IGLRFID */
      426    11966    1        CALL DDE$ERROR;
      427    11967    1        GOTO INTERNAL_KILL;
      428    11968    1   NOROS:
      429    11969    1        S_D.ERROR = E@ACROS;               /* E@ACROS */
      430    11970    1        CALL DDE$ERROR;
      431    11971    1        GOTO INTERNAL_KILL;
      432    11972    1   BAD_SCH_FILE:
      433    11973    1        CALL DUE$ERRMSG;
      434    11974    1        GOTO INTERNAL_KILL;
      435    11975    1   OPEN_ALT:
      436    11976    1        CALL DUE$ERRMSG;         /* Tell him why we couldn't get his file open*/
      437    11977    1        FPT$RELDCB = FPT_RELDCB;
      438    11978    1        FPT$RELDCB.V_ = VECTOR(FPT$RELDCB.V);
      439    11979    1        FPT$RELDCB.V.DCB# = S_D.ANLZDCB;
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:13   
      440    11980    1        S_D.ANLZDCB = 0;
      441    11981    1        CALL M$RELDCB (FPT$RELDCB) ALTRET(PMME_ALT);
      442    11982    1        RETURN;
      443    11983        %EJECT;
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:14   
      444    11984        /*F* NAME: DUA$KILL_ANLZ
      445    11985             PURPOSE: TO RESET TO DELTA MODE, RELEASE ANLZ MEMORY AND DCBS */
      446    11986                                                /**/
      447    11987    1   DUA$KILL_ANLZ: ENTRY ALTRET;
      448    11988    2        IF NOT S_D.ANLZ THEN DO;
      449    11989    2             S_D.ERROR = E@DELBUG;         /*E@DELBUG*/
      450    11990    2             CALL DDE$ERROR;
      451    11991    2             RETURN;
      452    11992    2           END;
      453    11993                                                /* Close and release schema dcb */
      454    11994    1   INTERNAL_KILL:
      455    11995    1        FPT$RELDCB = FPT_RELDCB;
      456    11996    1        FPT$RELDCB.V_ = VECTOR(FPT$RELDCB.V);
      457    11997    1        FPT$RELDCB.V.DCB# = S_D.LMDCB;
      458    11998    1        FPT$CLOSE = FPT_CLOSE;
      459    11999    1        FPT$CLOSE.V_ = VECTOR(FPT$CLOSE.V);
      460    12000    1        FPT$CLOSE.V.DCB# = S_D.LMDCB;
      461    12001    1        CALL M$CLOSE(FPT$CLOSE) ALTRET(IGNORE_IT);
      462    12002    1   IGNORE_IT: CALL M$RELDCB(FPT$RELDCB) ALTRET(IGNORE_IT_TOO);
      463    12003    1   IGNORE_IT_TOO: ;
      464    12004    1        S_D.SAVEIC = S_D.SAVEIC_SAVE;
      465    12005    1        S_D.ONE_TO_TWO.EXEC_DOMAIN = S_D.EXEC_DOMAIN_SAVE;
      466    12006    1        S_D.LMDCB = S_D.LMDCB_SAVE;
      467    12007                                                /* setup original environment */
      468    12008    1        IF NOT S_D.DLIB
      469    12009    2        THEN DO;
      470    12010    2             FPT$DRTN = FPT_DRTN;
      471    12011    2             FPT$DRTN.V_ = VECTOR(FPT$DRTN.V);
      472    12012    2             FPT$DRTN.V.SPCLD# = '1'B;
      473    12013    2             CALL M$DRTN (FPT$DRTN) ALTRET(CALL_XXX);
      474    12014    2           END;
      475    12015    1        S_D.USS$ = B$TCB$->B$TCB.STK$;
      476    12016    1        S_D.IND$ = PINCRW(S_D.USS$, 4);
      477    12017    1        S_D.UREG$->REGS = S_D.USS$->B$EXCFR.REGS;
      478    12018    1        CALL KILL_ANLZ ALTRET(CALL_XXX);   /* To close and release dump file dcb */
      479    12019    1        S_D.ANLZ = '0'B;
      480    12020    1        S_D.ANLZ_FILE = '0'B;
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:15   
      481    12021                                                /* Release schema memory */
      482    12022    1        CALL DDM$PUTMEM(S_D_SEG$, POFFW(S_D.SCHSEG$, S_D.SCHSEG_BEGIN$));
      483    12023    1        S_D.SCHSEG$ = S_D.SCHSEG_BEGIN$;
      484    12024    2        DO CASE(S_D.ONE_TO_TWO.EXEC_DOMAIN);
      485    12025    2          CASE(%HOST_RU);
      486    12026    2             CALL DUI$INIT_HOST;
      487    12027    2          CASE(%FEP_RU);
      488    12028    2             CALL DUI$INIT_L6;
      489    12029    2          CASE(ELSE);
      490    12030    2             S_D.ERROR = E@DELBUG;         /* E@DELBUG */
      491    12031    2             CALL DDE$ERROR;
      492    12032    2             CALL M$XXX;
      493    12033    2          END;
      494    12034    1        CALL DDA$RESET_PATCH_SPACE;
      495    12035    1        S_D.FIRST_TIME = '1'B;
      496    12036    1        CALL DUI$RU_ACCESS
      497    12037    2        WHENALTRETURN DO;
      498    12038    2             CALL DDE$ERROR;
      499    12039    2             GOTO RET;
      500    12040    2           END;
      501    12041    1        CALL DDS$ES_INQ( S_D.SAVEIC ) ALTRET(SKIP_IT);
      502    12042    1        CALL DDS$SET_Q2C;
      503    12043    2   SKIP_IT: IF S_D.DO$ ~= ADDR(NIL) THEN DO;
      504    12044    2             IF S_D.DO$->ANLZ$CMD.CMD ~= C_RUM AND S_D.DO$->ANLZ$CMD.CMD ~= C_QUIT
      505    12045    2             THEN CALL DDR$REPORT(R_DELTA);
      506    12046    2           END;
      507    12047    1   RET:
      508    12048    1        RETURN;
      509    12049    1   CALL_XXX: CALL DUE$ERRMSG;
      510    12050    1        CALL M$XXX;
      511    12051    1   KILL_ANLZ: PROC ALTRET;                 /* Release dcb and memory */
      512    12052    2        IF S_D.ANLZ
      513    12053    3        THEN DO;
      514    12054    3             FPT$RELDCB = FPT_RELDCB;
      515    12055    3             FPT$RELDCB.V_ = VECTOR(FPT$RELDCB.V);
      516    12056    3             FPT$RELDCB.V.DCB# = S_D.LMDCB;
      517    12057    3             FPT$CLOSE = FPT_CLOSE;
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:16   
      518    12058    3             FPT$CLOSE.V_ = VECTOR(FPT$CLOSE.V);
      519    12059    3             FPT$CLOSE.V.DCB# = S_D.LMDCB;
      520    12060    3             CALL M$CLOSE(FPT$CLOSE) ALTRET(IGNORE_IT);
      521    12061    3   IGNORE_IT: CALL M$RELDCB(FPT$RELDCB) ALTRET(IGNORE_IT_TOO);
      522    12062    3   IGNORE_IT_TOO: ;
      523    12063    3             S_D.SAVEIC = S_D.SAVEIC_SAVE;
      524    12064    3             S_D.ONE_TO_TWO.EXEC_DOMAIN = S_D.EXEC_DOMAIN_SAVE;
      525    12065    3             S_D.LMDCB = S_D.LMDCB_SAVE;
      526    12066    3           END;
      527    12067    2        IF S_D.ANLZDCB = 0 THEN RETURN;
             12067                 /* Dcb = 0 means ANLZ_FILE stuff is already gone */
      528    12068    2        FPT$CLOSE = FPT_CLOSE;
      529    12069    2        FPT$CLOSE.V_ = VECTOR(FPT$CLOSE.V);
      530    12070    2        FPT$CLOSE.V.DCB# = S_D.ANLZDCB;
      531    12071    2        CALL M$CLOSE(FPT$CLOSE);
      532    12072    2        FPT$RELDCB = FPT_RELDCB;
      533    12073    2        FPT$RELDCB.V_ = VECTOR(FPT$RELDCB.V);
      534    12074    2        FPT$RELDCB.V.DCB# = S_D.ANLZDCB;
      535    12075    2        S_D.ANLZDCB = 0;
      536    12076    2        S_D.ANLZ_FILE = '0'B;
      537    12077    2        CALL M$RELDCB (FPT$RELDCB) ALTRET(ARET);
      538    12078    2        CALL DDM$PUTMEM(DD_ANLZSEG$, POFFW(DA.ANLZSEGEND$, DD_ANLZSEG$));
      539    12079    2        S_D.B$ROS$ = B$ROS$;
      540    12080    2        S_D.NODESEG$ = DD_RUMNODE$;
      541    12081    2        S_D.NODESEG_USED$ = DD_RUMNODE$;
      542    12082    2        RETURN;
      543    12083    2   ARET: ALTRETURN;
      544    12084    2   END KILL_ANLZ;
      545    12085        %EJECT;
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:17   
      546    12086        /*F* NAME: DUA$SHOW_ANLZ
      547    12087             PURPOSE: To display the name of the RU being anlzed, or
      548    12088                  state that the running monitor is being anlzed.
      549    12089                       */
      550    12090    1   DUA$SHOW_ANLZ: ENTRY ALTRET;
      551    12091    1        IF S_D.ANLZ_FILE
      552    12092    2        THEN DO;
      553    12093    2             FPT$UNFID = FPT_UNFID;
      554    12094    2             FPT$UNFID.V_ = VECTOR(FPT$UNFID.V);
      555    12095    2             FPT$UNFID.V.DCB# = S_D.ANLZDCB;
      556    12096    2             FPT$UNFID.TEXTFID_ = VECTOR(OUTBUF);
      557    12097    2             CALL M$UNFID (FPT$UNFID) ALTRET(PMME_ALT);
      558    12098    2             CALL INDEX(SIZE, ' ', OUTBUF);
      559    12099    3             IF NOT S_D.SIM_UPDATE THEN DO;
      560    12100    3                  SIZE = LENGTHC('ANLZing ') + SIZE;
      561    12101    3                  CALL CONCAT(S_D.OUTPUT, 'ANLZing ', OUTBUF);
      562    12102    3                END;
      563    12103    3             ELSE DO;
      564    12104    3                  SIZE = LENGTHC('ANLZ ') + SIZE;
      565    12105    3                  CALL CONCAT (S_D.OUTPUT, 'ANLZ ', OUTBUF);
      566    12106    3                END;
      567    12107    2           END;
      568    12108    2        ELSE DO;
      569    12109    3             IF NOT S_D.SIM_UPDATE THEN DO;
      570    12110    3                  S_D.OUTPUT = 'ANLZing running monitor';
      571    12111    3                  SIZE = LENGTHC('ANLZing running monitor');
      572    12112    3                END;
      573    12113    3             ELSE DO;
      574    12114    3                  S_D.OUTPUT = 'ANLZ';
      575    12115    3                  SIZE = 4;
      576    12116    3                END;
      577    12117    2           END;
      578    12118    1        CALL DDQ$WRITED(ADDR(S_D.OUTPUT), SIZE);
      579    12119    1        RETURN;
      580    12120    1   END DUA$ANLZ;

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:18   
--  Include file information  --

   B$JIT.:E05TOU  cannot be made into a system file and is referenced.
   DD$DA.:E05TOU  cannot be made into a system file and is referenced.
   NI$TABLES.:E05TOU  is referenced.
   IR_DATA_M.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B_SEGIDS_C.:E05TOU  is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD_ERR_C.:E05TOU  is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
   B$ROSEG.:E05TOU  cannot be made into a system file and is referenced.
   DD$BASED.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure DUA$ANLZ.

   Procedure DUA$ANLZ requires 1126 words for executable code.
   Procedure DUA$ANLZ requires 294 words of local(AUTO) storage.

    No errors detected in file DUA$ANLZ.:E05TSI    .

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:19   

 Object Unit name= DUA$ANLZ                                   File name= DUA$ANLZ.:E05TOU
 UTS= JUL 29 '97 14:46:08.04 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  RoData even  UTS    214    326  DUA$ANLZ
    1   DCB   even  none     0      0  M$UC
    2   Proc  even  none  1126   2146  DUA$ANLZ
    3  RoData even  none    29     35  DUA$ANLZ

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     2      0   yes    yes     yes      Std        0  DUA$ANLZ
     2   1423          yes     yes      Std        0  DUA$KILL_ANLZ
     2   2032          yes     yes      Std        0  DUA$SHOW_ANLZ
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:20   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       3 DDM$PUTMEM
         yes           Std       0 DUA$KILL_RUM
         yes           Std       2 DDQ$WRITED
         yes           Std       1 DFA$KILL_FPRG
 yes     yes           Std       7 DDQ$READLM
         yes           Std       1 DDR$REPORT
 yes     yes           Std       2 DDS$PD_SRCH
         yes           Std       0 DDA$RESET_PATCH_SPACE
 yes     yes           Std       2 DDS$SD_SRCH
 yes     yes           Std       0 DDS$SET_Q2C
 yes     yes           Std       0 DDS$SET_Q2X
 yes     yes           Std       0 DDS$EMTREE
         yes           Std       0 DUE$ERRMSG
 yes     yes           Std       1 DDS$ES_INQ
 yes     yes           Std       5 DUL$GETMVAL
         yes           Std       0 DUI$INIT_HOST
 yes     yes           Std       3 DDM$GETMEM
 yes     yes           Std       1 DDS$EQCS#
         yes           Std       0 DUI$INIT_L6
 yes     yes           Std       0 DUI$RU_ACCESS
         yes           Std       0 DDE$ERROR
 yes     yes           Std       0 DUL$INIT
                       nStd      0 X66_AUTO_0
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:21   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                             r    S_D$                             r    S_D_SEG$
     DD_ANLZSEG$                           FPT_FID                               FPT_GETDCB
     FPT_RELDCB                            FPT_CLOSE                             FPT_EOM
     D_M$LM#                               B$TCB$                                DD_RUMNODE$
     B$ROS$                                B$JIT$                                B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID                               ROSID
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:22   


        1        1        /*M* DUA$ANLZ - SET UP FOR ACCESS TO MONITOR, RUNNING OR DUMP FILE */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* DMR,PLM=5,IND=5,CSU=3,EXM=0,ECU=3,MOC,DCI=5,CRT=5 */
        8        8        /*D* NAME: DUA$ANLZ
        9        9             ENVIRONMENT: USER DELTA, USER MUST HAVE SPECIAL MEMORY ACCESS
       10       10                  PRIVILEGE TO LOOK, AND EXTENDED TO TOUCH THE RUNNING MONITOR.
       11       11                  ONLY ACCESS RIGHTS TO THE FILE ARE REQUIRED FOR ANLZ FID.
       12       12             DESCRIPTION: THE ANLZ COMMAND WILL CAUSE DELTA TO ACCESS THE
       13       13                  RUNNING MONITOR FOR ALL MEMORY ACCESS COMMANDS. THIS IS
       14       14                  DONE BY USING M$SAD TO REPLACE THE USERLAND DESCRIPTORS ON
       15       15                  DELTA'S LS WITH MONITOR DESCRIPTORS.  ONE DESCRIPTOR FRAMES
       16       16                  THE LS FOR MONWSQ, AND THE OTHER THE LS FOR UDELWSQ.  UDELWSQ IS
       17       17                  A COPY OF MONWSQ WITH THE HOUSEKEEPING PAGE BITS TURNED OFF
       18       18                  IN ITS PAGE TABLE, THUS ALLOWING A NON-MASTER MODE PROCESS
       19       19                  TO MODIFY MONITOR IS AND STUFF LIKE THAT.
       20       20
       21       21                  THE ANLZ FID COMMAND WILL ACCESS A RCVR2 BUILT DUMP FILE.
       22       22
       23       23                  DUA$ANLZ WILL ALTRET IF THE USER IS NOT PRIVILEGED ENUFF TO
       24       24                  FONDLE THE MONITOR, OR IF THE DUMP FILE IS NOT STRUCTURED CORRECTLY. */
       25       25                                                /**/
       26       26        DUA$ANLZ: PROC ALTRET;

     26  2 000000   000000 700200 xent  DUA$ANLZ     TSX0  ! X66_AUTO_0
         2 000001   000446 000000                    ZERO    294,0

       27       27                                                /**/
       28       28    1   DCL OUTBUF CHAR(256);
       29       29    1   DCL SIZE UBIN;
       30       30    1   DCL KLUDGE_FLAG BIT(1);
       31       31    1   DCL TEMP_FLAG BIT(1);
       32       32    1   DCL MON BIT(1);
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:23   
       33       33    1   DCL HEAD$ PTR;
       34       34    1   DCL ROS$ PTR;
       35       35    1   DCL ROSIZE UBIN;
       36       36    1   DCL ARS SBIN;
       37       37    1   DCL IX UBIN;
       38       38    1   DCL TEMP1$ PTR;
       39       39    1   DCL TOGET SBIN;
       40       40    1   DCL NEED UBIN;
       41       41    1   DCL DCB$ PTR;
       42       42    1   DCL DCBPTR$ PTR;
       43       43    1   DCL PAGE UBIN;
       44       44    1   DCL DCB$PTR$ PTR BASED ALIGNED;
       45       45    1   DCL DCBRES UBIN;
       46       46    1   DCL 1 PTR$WORD BASED ALIGNED,
       47       47    1         2 LH UBIN HALF UNAL,
       48       48    1         2 * UBIN HALF UNAL;
       49       49        %SUB @PSIZ=1024 /* @PSIZ */;
       50       50        %SUB @PAGE=0 /* @PAGE */;
       51       51        %SUB @NODE=0 /* @NODE */;
       52       52        %INCLUDE DD$BASED;
       53     1355        %ANLZ$CMD;
       54     1378        %TEXT$C;
       55     1383        %INCLUDE B$ROSEG;
       56     1446        %INCLUDE B$OBJECT_C;
       57     4876    1   DCL TEMP$ PTR;
       58     4877        %B$EDEF;
       59     4947        %B$SDEF;
       60     5001        %B$HEAD;
       61     5201        %RU_FLAVORS;
       62     5207        %B$TREE_TABLE (HDR_NAME=B$TREEHDR,NODE_NAME="B$NODE(0:0)");
       63     5265        %B$RECORDSUBS;
       64     5293    1   DCL 1 DD_AXOU CONSTANT,
       65     5294    1         2 SIZE UBIN BYTE UNAL INIT( LENGTHC( DD_AXOU.TEXT ) ),
       66     5295    1         2 TEXT CHAR(0) UNAL INIT( 'B_DELTA_D' );
       67     5296    1   DCL DD_AXOU$ PTR CONSTANT INIT( ADDR( DD_AXOU ) );
       68     5297    1   DCL 1 DD_S_CNODE CONSTANT,
       69     5298    1         2 SIZE UBIN BYTE UNAL INIT(LENGTHC(DD_S_CNODE.TEXT)),
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:24   
       70     5299    1         2 TEXT CHAR(0) UNAL INIT( 'S_CNODE' );
       71     5300    1   DCL I UBIN;
       72     5301    1   DCL TEMP_ADR UBIN;
       73     5302    1   DCL NWORD UBIN;
       74     5303    1   DCL DD_S_CNODE$ PTR CONSTANT INIT( ADDR( DD_S_CNODE ) );
       75     5304    1   DCL 1 REGS BASED DALIGNED,
       76     5305    1         2 *(0:6) UBIN;
       77     5306        %INCLUDE DD_ERR_C;
       78     5703        %INCLUDE DD_SUBS_C;
       79     5974        %INCLUDE B_SEGIDS_C;
       80     6513        %INCLUDE CP_6;
       81     6594        %INCLUDE XUH_MACRO_C;
       82     6678        %INCLUDE DD_SD_M;
       83     8014        %S_D;
       84     9332        %S_D_PTRS;
       85     9369        %INCLUDE CP_6_SUBS;
       86     9909        %F$DCB;
       87     9966        %INCLUDE IR_DATA_M;
       88    10130        %INCLUDE NI$TABLES;
       89    10346        %INCLUDE DD$DA;
       90    10427        %RV_BUFF (NAME=RV_BUFF, STCLASS=BASED);
       91    10463        %B$TCB;
       92    10466        %B$ALT;
       93    10474        %B$EXCFR;
       94    10492        %INCLUDE B$JIT;
       95    10782        %FPT_PRIV (FPTN=FPT_PRIV, STCLASS=CONSTANT,
       96    10783                  PRIV=%PR_SPCLMM#,AUTH=YES);
       97    10798        %FPT_CLOSE (FPTN=FPT$CLOSE, STCLASS=AUTO);
       98    10840        %FPT_FID (FPTN=FPT$FID, STCLASS=AUTO);
       99    10863        %FPT_GETDCB (FPTN=FPT$GETDCB, STCLASS=AUTO);
      100    10878        %FPT_OPEN (FPTN=FPT$OPEN, STCLASS=AUTO);
      101    10987        %VLP_NAME (FPTN=VLP$NAME, STCLASS=AUTO, LEN=64);
      102    11014        %VLP_ACCT (FPTN=VLP$ACCT, STCLASS=AUTO);
      103    11027        %VLP_PASS (FPTN=VLP$PASS, STCLASS=AUTO);
      104    11040        %VLP_WSN (FPTN=VLP$WSN, STCLASS=AUTO);
      105    11053        %VLP_SN (FPTN=VLP$SN, STCLASS=AUTO, N=1);
      106    11066        %VLR_FID (FPTN=VLR$FID, STCLASS=AUTO);
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:25   
      107    11085        %FPT_FID (FPTN=FPT_FID, STCLASS=SYMREF);
      108    11108        %FPT_GETDCB (FPTN=FPT_GETDCB, STCLASS=SYMREF);
      109    11123        %FPT_RELDCB (FPTN=FPT$RELDCB, STCLASS=AUTO);
      110    11137        %FPT_RELDCB (FPTN=FPT_RELDCB, STCLASS=SYMREF);
      111    11151        %FPT_UNFID (FPTN=FPT$UNFID, STCLASS=AUTO);
      112    11169        %FPT_OPEN (FPTN=FPT_OPEN,
      113    11170                  STCLASS=CONSTANT,
      114    11171                  ASN=FILE,
      115    11172                  FUN=IN,
      116    11173                  SCRUB=YES);
      117    11282        %FPT_OPEN (FPTN=FPT_OPENSCHEMA,
      118    11283                  STCLASS=CONSTANT,
      119    11284                  ASN=FILE,
      120    11285                  NAME=VLP_MONNAME,
      121    11286                  ACCT=VLP_SYSACCT,
      122    11287                  FUN=IN,
      123    11288                  SCRUB=YES);
      124    11397        %FPT_CLOSE (FPTN=FPT_CLOSE,
      125    11398                  STCLASS=SYMREF);
      126    11440        %FPT_UNFID (FPTN=FPT_UNFID, STCLASS=CONSTANT);
      127    11458        %VLP_NAME (FPTN=VLP_MONNAME, STCLASS=CONSTANT,
      128    11459                  NAME='M:MON');
      129    11486        %VLP_ACCT (FPTN=VLP_SYSACCT, STCLASS=CONSTANT,
      130    11487                  ACCT=':SYS');
      131    11500        %VLP_SN (FPTN=VLP_SN, STCLASS=CONSTANT);
      132    11513        %FPT_SAD (FPTN=SAD1, STCLASS=CONSTANT, USERSID=%SPCL1SID, MONSID=%NULLSID);
      133    11528        %FPT_SAD (FPTN=SAD2, STCLASS=CONSTANT, USERSID=%SPCL2SID, MONSID=%MLS1SID);
      134    11543        %FPT_SAD (FPTN=SAD3, STCLASS=CONSTANT, USERSID=%SPCL3SID, MONSID=%NULLSID);
      135    11558        %FPT_SAD (FPTN=SAD4, STCLASS=CONSTANT, USERSID=%SPCL4SID, MONSID=%NULLSID);
      136    11573        %FPT_SAD (FPTN=SAD5, STCLASS=CONSTANT, USERSID=%SPCL5SID, MONSID=%NULLSID);
      137    11588        %FPT_SAD (FPTN=SAD6, STCLASS=CONSTANT, USERSID=%SPCL6SID, MONSID=%WS3MLSSID);
      138    11603        %FPT_DRTN (FPTN=FPT_DRTN, STCLASS=CONSTANT);
      139    11627        %FPT_DRTN (FPTN=FPT$DRTN, STCLASS=AUTO);
      140    11651        %FPT_EOM (FPTN=FPT_EOM,STCLASS=SYMREF);
      141    11681    1   DCL D_M$LM# UBIN SYMREF;
      142    11682    1   DCL B$TCB$ PTR SYMREF;
      143    11683    1   DCL DD_RUMNODE$ PTR SYMREF;
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:26   
      144    11684    1   DCL B$ROS$ PTR SYMREF;
      145    11685    1   DCL B$JIT$ PTR SYMREF;
      146    11686        /*  Dcl DD_ANLZSEG$ ptr symref;  this comes in DD$$DA   */
      147    11687    1   DCL DDS$EQCS# ENTRY(1) ALTRET;
      148    11688    1   DCL DDS$PD_SRCH ENTRY(2) ALTRET;
      149    11689    1   DCL DDS$SET_Q2X ENTRY(0) ALTRET;
      150    11690    1   DCL DDQ$WRITED ENTRY(2);
      151    11691    1   DCL DUA$KILL_RUM ENTRY;
      152    11692    1   DCL DUE$ERRMSG ENTRY;
      153    11693    1   DCL DUI$INIT_HOST ENTRY;
      154    11694    1   DCL DUI$INIT_L6 ENTRY;
      155    11695    1   DCL DUI$RU_ACCESS ENTRY ALTRET;
      156    11696    1   DCL DDS$SD_SRCH ENTRY(2) ALTRET;
      157    11697    1   DCL DDS$EMTREE ENTRY ALTRET;
      158    11698    1   DCL DUL$GETMVAL ENTRY(5) ALTRET;
      159    11699    1   DCL DDM$GETMEM ENTRY(3) ALTRET;
      160    11700    1   DCL DDQ$READLM ENTRY(7) ALTRET;
      161    11701    1   DCL DDS$ES_INQ ENTRY(1) ALTRET;
      162    11702    1   DCL DDS$SET_Q2C ENTRY ALTRET;
      163    11703    1   DCL DDR$REPORT ENTRY(1);
      164    11704    1   DCL DUL$INIT ENTRY ALTRET;
      165    11705    1   DCL DDM$PUTMEM ENTRY(3) ALTRET;
      166    11706    1   DCL DDE$ERROR ENTRY;
      167    11707    1   DCL DFA$KILL_FPRG ENTRY(1);
      168    11708    1   DCL DDA$RESET_PATCH_SPACE ENTRY;
      169    11709                                                /**/
      170    11710    1        FPT$FID = FPT_FID;

  11710  2 000002   000100 100400                    MLR     fill='000'O
         2 000003   000000 000140 xsym               ADSC9   FPT_FID                  cn=0,n=96
         2 000004   200166 000140                    ADSC9   FPT$FID,,AUTO            cn=0,n=96

      171    11711    1        FPT$OPEN = FPT_OPEN;

  11711  2 000005   000100 100400                    MLR     fill='000'O
         2 000006   000014 000350 0                  ADSC9   FPT_OPEN                 cn=0,n=232
         2 000007   200226 000350                    ADSC9   FPT$OPEN,,AUTO           cn=0,n=232
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:27   

      172    11712    1        FPT$FID.V_ = VECTOR(FPT$FID.V);

  11712  2 000010   000000 235000 3                  LDA     0
         2 000011   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 000012   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000013   000212 036003                    ADLQ    138,DU
         2 000014   200166 757100                    STAQ    FPT$FID,,AUTO

      173    11713    1        FPT$FID.NAME_ = VECTOR(VLP$NAME);

  11713  2 000015   000001 235000 3                  LDA     1
         2 000016   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 000017   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000020   000320 036003                    ADLQ    208,DU
         2 000021   200172 757100                    STAQ    FPT$FID+4,,AUTO

      174    11714    1        FPT$FID.ACCT_ = VECTOR(VLP$ACCT);

  11714  2 000022   000002 235000 3                  LDA     2
         2 000023   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 000024   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000025   000341 036003                    ADLQ    225,DU
         2 000026   200174 757100                    STAQ    FPT$FID+6,,AUTO

      175    11715    1        FPT$FID.PASS_ = VECTOR(VLP$PASS);

  11715  2 000027   000002 235000 3                  LDA     2
         2 000030   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 000031   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000032   000343 036003                    ADLQ    227,DU
         2 000033   200176 757100                    STAQ    FPT$FID+8,,AUTO

      176    11716    1        FPT$FID.WSN_ = VECTOR(VLP$WSN);

  11716  2 000034   000002 235000 3                  LDA     2
         2 000035   200440 452500                    STP2    FPT$DRTN+16,,AUTO
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:28   
         2 000036   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000037   000345 036003                    ADLQ    229,DU
         2 000040   200202 757100                    STAQ    FPT$FID+12,,AUTO

      177    11717    1        VLP$SN = VLP_SN;

  11717  2 000041   000100 100400                    MLR     fill='000'O
         2 000042   000232 000012 0                  ADSC9   VLP_SN                   cn=0,n=10
         2 000043   200350 000012                    ADSC9   VLP$SN,,AUTO             cn=0,n=10

      178    11718    1        FPT$FID.SN_ = VECTOR(VLP$SN);

  11718  2 000044   000000 235000 3                  LDA     0
         2 000045   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 000046   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000047   000350 036003                    ADLQ    232,DU
         2 000050   200200 757100                    STAQ    FPT$FID+10,,AUTO

      179    11719    1        FPT$FID.ASN_ = VECTOR(FPT$OPEN.V.ASN#);

  11719  2 000051   177640 235007                    LDA     65440,DL
         2 000052   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 000053   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000054   000003 036000 3                  ADLQ    3
         2 000055   200204 757100                    STAQ    FPT$FID+14,,AUTO

      180    11720    1        FPT$FID.RES_ = VECTOR(FPT$OPEN.V.RES#);

  11720  2 000056   777640 235007                    LDA     -96,DL
         2 000057   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 000060   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000061   000276 036003                    ADLQ    190,DU
         2 000062   200206 757100                    STAQ    FPT$FID+16,,AUTO

      181    11721    1        FPT$FID.RESULTS_ = VECTOR(VLR$FID);

  11721  2 000063   000004 235000 3                  LDA     4
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:29   
         2 000064   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 000065   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000066   000354 036003                    ADLQ    236,DU
         2 000067   200210 757100                    STAQ    FPT$FID+18,,AUTO

      182    11722    1        FPT$OPEN.V_ = VECTOR(FPT$OPEN.V);

  11722  2 000070   000005 235000 3                  LDA     5
         2 000071   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 000072   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000073   000272 036003                    ADLQ    186,DU
         2 000074   200226 757100                    STAQ    FPT$OPEN,,AUTO

      183    11723    1        FPT$OPEN.NAME_ = VECTOR(VLP$NAME);

  11723  2 000075   000001 235000 3                  LDA     1
         2 000076   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 000077   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000100   000320 036003                    ADLQ    208,DU
         2 000101   200234 757100                    STAQ    FPT$OPEN+6,,AUTO

      184    11724    1        FPT$OPEN.ACCT_ = VECTOR(VLP$ACCT);

  11724  2 000102   000002 235000 3                  LDA     2
         2 000103   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 000104   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000105   000341 036003                    ADLQ    225,DU
         2 000106   200252 757100                    STAQ    FPT$OPEN+20,,AUTO

      185    11725    1        FPT$OPEN.PASS_ = VECTOR(VLP$PASS);

  11725  2 000107   000002 235000 3                  LDA     2
         2 000110   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 000111   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000112   000343 036003                    ADLQ    227,DU
         2 000113   200236 757100                    STAQ    FPT$OPEN+8,,AUTO

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:30   
      186    11726    1        FPT$OPEN.WSN_ = VECTOR(VLP$WSN);

  11726  2 000114   000002 235000 3                  LDA     2
         2 000115   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 000116   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000117   000345 036003                    ADLQ    229,DU
         2 000120   200260 757100                    STAQ    FPT$OPEN+26,,AUTO

      187    11727    1        FPT$OPEN.SN_ = VECTOR(VLP$SN);

  11727  2 000121   000000 235000 3                  LDA     0
         2 000122   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 000123   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000124   000350 036003                    ADLQ    232,DU
         2 000125   200230 757100                    STAQ    FPT$OPEN+2,,AUTO

      188    11728    1        IF S_D.DO$->ANLZ$CMD.RUNNING       /* If @ specified for fid */

  11728  2 000126   000000 470400 xsym               LDP0    S_D$
         2 000127   000031 471500                    LDP1    25,,PR0
         2 000130   100001 236100                    LDQ     1,,PR1
         2 000131   100000 316003                    CANQ    32768,DU
         2 000132   000170 600000 2                  TZE     s:11740

      189    11729    2        THEN DO;

      190    11730    2             KLUDGE_FLAG = '1'B;

  11730  2 000133   400000 236003                    LDQ     -131072,DU
         2 000134   200104 756100                    STQ     KLUDGE_FLAG,,AUTO

      191    11731    2             S_D.SAVEIC_SAVE = S_D.SAVEIC;

  11731  2 000135   000002 235100                    LDA     2,,PR0
         2 000136   005051 755100                    STA     2601,,PR0

      192    11732    2             S_D.EXEC_DOMAIN_SAVE = S_D.ONE_TO_TWO.EXEC_DOMAIN;
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:31   

  11732  2 000137   006714 235100                    LDA     3532,,PR0
         2 000140   005325 755100                    STA     2773,,PR0

      193    11733    2             S_D.LMDCB_SAVE = S_D.LMDCB;

  11733  2 000141   004774 235100                    LDA     2556,,PR0
         2 000142   006743 755100                    STA     3555,,PR0

      194    11734    2             S_D.USS$_SAVE = S_D.USS$;

  11734  2 000143   000005 236100                    LDQ     5,,PR0
         2 000144   005141 756100                    STQ     2657,,PR0

      195    11735    2             CALL DDM$PUTMEM(S_D_SEG$, POFFW(S_D.SCHSEG$, S_D.SCHSEG_BEGIN$));

  11735  2 000145   000043 236100                    LDQ     35,,PR0
         2 000146   000022 772000                    QRL     18
         2 000147   200440 756100                    STQ     FPT$DRTN+16,,AUTO
         2 000150   001034 236100                    LDQ     540,,PR0
         2 000151   000022 772000                    QRL     18
         2 000152   200440 136100                    SBLQ    FPT$DRTN+16,,AUTO
         2 000153   200441 756100                    STQ     FPT$DRTN+17,,AUTO
         2 000154   200441 631500                    EPPR1   FPT$DRTN+17,,AUTO
         2 000155   200443 451500                    STP1    FPT$DRTN+19,,AUTO
         2 000156   000006 236000 3                  LDQ     6
         2 000157   200442 756100                    STQ     FPT$DRTN+18,,AUTO
         2 000160   200442 630500                    EPPR0   FPT$DRTN+18,,AUTO
         2 000161   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000162   000000 701000 xent               TSX1    DDM$PUTMEM
         2 000163   000000 011000                    NOP     0

      196    11736    2             S_D.SCHSEG$ = S_D.SCHSEG_BEGIN$;

  11736  2 000164   000000 470400 xsym               LDP0    S_D$
         2 000165   000043 236100                    LDQ     35,,PR0
         2 000166   001034 756100                    STQ     540,,PR0
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:32   

      197    11737                                                /* Release old schema */
      198    11738    2             GOTO KLUDGE_ENTRY0;

  11738  2 000167   000242 710000 2                  TRA     KLUDGE_ENTRY0

      199    11739    2           END;
      200    11740    1        ELSE KLUDGE_FLAG = '0'B;

  11740  2 000170   200104 450100                    STZ     KLUDGE_FLAG,,AUTO

      201    11741    1        IF S_D.RUM THEN CALL DUA$KILL_RUM;

  11741  2 000171   004755 234100                    SZN     2541,,PR0
         2 000172   000176 605000 2                  TPL     s:11742

  11741  2 000173   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 000174   000000 701000 xent               TSX1    DUA$KILL_RUM
         2 000175   000000 011000                    NOP     0

      202    11742    1        IF S_D.FPRG THEN CALL DFA$KILL_FPRG;

  11742  2 000176   000000 470400 xsym               LDP0    S_D$
         2 000177   000101 234100                    SZN     65,,PR0
         2 000200   000204 605000 2                  TPL     s:11743

  11742  2 000201   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 000202   000000 701000 xent               TSX1    DFA$KILL_FPRG
         2 000203   000000 011000                    NOP     0

      203    11743    1        CALL KILL_ANLZ ALTRET(CALL_XXX);

  11743  2 000204   001667 701000 2                  TSX1    KILL_ANLZ
         2 000205   001661 702000 2                  TSX2    CALL_XXX

      204    11744    1        S_D.SAVEIC_SAVE = S_D.SAVEIC;

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:33   
  11744  2 000206   000000 470400 xsym               LDP0    S_D$
         2 000207   000002 235100                    LDA     2,,PR0
         2 000210   005051 755100                    STA     2601,,PR0

      205    11745    1        S_D.EXEC_DOMAIN_SAVE = S_D.ONE_TO_TWO.EXEC_DOMAIN;

  11745  2 000211   006714 235100                    LDA     3532,,PR0
         2 000212   005325 755100                    STA     2773,,PR0

      206    11746    1        S_D.LMDCB_SAVE = S_D.LMDCB;

  11746  2 000213   004774 235100                    LDA     2556,,PR0
         2 000214   006743 755100                    STA     3555,,PR0

      207    11747    1        IF S_D.DO$->ANLZ$CMD.FILE          /* Anlz fid */

  11747  2 000215   000031 471500                    LDP1    25,,PR0
         2 000216   100001 234100                    SZN     1,,PR1
         2 000217   000314 605000 2                  TPL     s:11773

      208    11748    2        THEN DO;

      209    11749    2             IF S_D.ANLZDCB = 0

  11749  2 000220   005053 235100                    LDA     2603,,PR0
         2 000221   000242 601000 2                  TNZ     KLUDGE_ENTRY0

      210    11750    3             THEN DO;                      /* We need another dcb */

      211    11751    3                  FPT$GETDCB = FPT_GETDCB;

  11751  2 000222   000100 100400                    MLR     fill='000'O
         2 000223   000000 000040 xsym               ADSC9   FPT_GETDCB               cn=0,n=32
         2 000224   200216 000040                    ADSC9   FPT$GETDCB,,AUTO         cn=0,n=32

      212    11752    3                  FPT$GETDCB.V_ = VECTOR(FPT$GETDCB.V);

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:34   
  11752  2 000225   000002 235000 3                  LDA     2
         2 000226   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 000227   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000230   000224 036003                    ADLQ    148,DU
         2 000231   200216 757100                    STAQ    FPT$GETDCB,,AUTO

      213    11753    3                  FPT$GETDCB.DCBNUM_ = VECTOR(S_D.ANLZDCB);

  11753  2 000232   777640 235007                    LDA     -96,DL
         2 000233   000000 236000 xsym               LDQ     S_D$
         2 000234   005053 036003                    ADLQ    2603,DU
         2 000235   200222 757100                    STAQ    FPT$GETDCB+4,,AUTO

      214    11754    3                  CALL M$GETDCB(FPT$GETDCB) ALTRET(PMME_ALT);

  11754  2 000236   200216 630500                    EPPR0   FPT$GETDCB,,AUTO
         2 000237   460002 713400                    CLIMB   alt,+24578
         2 000240   401000 401760                    pmme    nvectors=3
         2 000241   001342 702000 2                  TSX2    PMME_ALT

      215    11755    3                END;

      216    11756                                                /* Decode the fid */
      217    11757    2   KLUDGE_ENTRY0:
      218    11758    2             FPT$FID.TEXTFID_ = VECTOR( ADDR(S_D.DO$->ANLZ$CMD.FID)->TEXT$C.TXT);

  11758  2 000242   000000 470400 xsym  KLUDGE_ENTR* LDP0    S_D$
         2 000243   000031 471500                    LDP1    25,,PR0
         2 000244   100002 236100                    LDQ     2,,PR1
         2 000245   000033 772000                    QRL     27
         2 000246   000064 737000                    LLS     52
         2 000247   000140 135007                    SBLA    96,DL
         2 000250   200440 451500                    STP1    FPT$DRTN+16,,AUTO
         2 000251   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000252   000007 036000 3                  ADLQ    7
         2 000253   200170 757100                    STAQ    FPT$FID+2,,AUTO

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:35   
      219    11759    2             FPT$OPEN.V.DCB# = S_D.ANLZDCB;

  11759  2 000254   005053 720100                    LXL0    2603,,PR0
         2 000255   200272 740100                    STX0    FPT$OPEN+36,,AUTO

      220    11760    2             IF KLUDGE_FLAG THEN GOTO KLUDGE_ENTRY1;

  11760  2 000256   200104 234100                    SZN     KLUDGE_FLAG,,AUTO
         2 000257   000402 604000 2                  TMI     KLUDGE_ENTRY1

      221    11761    2             CALL M$FID(FPT$FID) ALTRET(PMME_ALT);

  11761  2 000260   200166 630500                    EPPR0   FPT$FID,,AUTO
         2 000261   420001 713400                    CLIMB   alt,+8193
         2 000262   404400 401760                    pmme    nvectors=10
         2 000263   001342 702000 2                  TSX2    PMME_ALT

      222    11762                                                /* Now open it */
      223    11763    2             CALL M$OPEN(FPT$OPEN) ALTRET(OPEN_ALT);

  11763  2 000264   200226 630500                    EPPR0   FPT$OPEN,,AUTO
         2 000265   450000 713400                    CLIMB   alt,open
         2 000266   410400 401760                    pmme    nvectors=18
         2 000267   001377 702000 2                  TSX2    OPEN_ALT

      224    11764    2             S_D.ANLZ = '1'B;

  11764  2 000270   400000 236003                    LDQ     -131072,DU
         2 000271   000000 470400 xsym               LDP0    S_D$
         2 000272   004756 756100                    STQ     2542,,PR0

      225    11765    2             S_D.ANLZ_FILE = '1'B;         /* We are now in anlz fid mode */

  11765  2 000273   005052 756100                    STQ     2602,,PR0

      226    11766    2             CALL DUL$INIT ALTRET(ARET);   /* Set up to access the dump file */

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:36   
  11766  2 000274   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 000275   000000 701000 xent               TSX1    DUL$INIT
         2 000276   001341 702000 2                  TSX2    ARET

      227    11767                                      /* Set up safe store pointers and registers */
      228    11768    2             S_D.USS$ = ADDR(DA.RVBUFF$->RV_BUFF.SSFRAME);

  11768  2 000277   000000 470400 xsym               LDP0    DD_ANLZSEG$
         2 000300   000011 471500                    LDP1    9,,PR0
         2 000301   100040 633500                    EPPR3   32,,PR1
         2 000302   000000 474400 xsym               LDP4    S_D$
         2 000303   400005 453500                    STP3    5,,PR4

      229    11769    2             S_D.IND$ = PINCRW(S_D.USS$,4);

  11769  2 000304   400005 236100                    LDQ     5,,PR4
         2 000305   000004 036003                    ADLQ    4,DU
         2 000306   400046 756100                    STQ     38,,PR4

      230    11770    2             S_D.UREG$->REGS = S_D.USS$->B$EXCFR.REGS;

  11770  2 000307   400045 471500                    LDP1    37,,PR4
         2 000310   000100 100500                    MLR     fill='000'O
         2 000311   300050 000034                    ADSC9   40,,PR3                  cn=0,n=28
         2 000312   100000 000034                    ADSC9   0,,PR1                   cn=0,n=28

      231    11771    2           END;

  11771  2 000313   000352 710000 2                  TRA     s:11783

      232    11772    2        ELSE DO;

      233    11773    2             CALL M$SPRIV(FPT_PRIV);

  11773  2 000314   000010 630400 0                  EPPR0   FPT_PRIV
         2 000315   020012 713400                    CLIMB   8202
         2 000316   400000 401760                    pmme    nvectors=1
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:37   

      234    11774    2             CALL M$SAD(SAD1) ALTRET(NOT_PRIV);

  11774  2 000317   000236 630400 0                  EPPR0   SAD1
         2 000320   430015 713400                    CLIMB   alt,+12301
         2 000321   400000 401760                    pmme    nvectors=1
         2 000322   001336 702000 2                  TSX2    NOT_PRIV

      235    11775    2             CALL M$SAD(SAD2) ALTRET(NOT_PRIV);

  11775  2 000323   000242 630400 0                  EPPR0   SAD2
         2 000324   430015 713400                    CLIMB   alt,+12301
         2 000325   400000 401760                    pmme    nvectors=1
         2 000326   001336 702000 2                  TSX2    NOT_PRIV

      236    11776    2             CALL M$SAD(SAD3) ALTRET(NOT_PRIV);

  11776  2 000327   000246 630400 0                  EPPR0   SAD3
         2 000330   430015 713400                    CLIMB   alt,+12301
         2 000331   400000 401760                    pmme    nvectors=1
         2 000332   001336 702000 2                  TSX2    NOT_PRIV

      237    11777    2             CALL M$SAD(SAD4) ALTRET(NOT_PRIV);

  11777  2 000333   000252 630400 0                  EPPR0   SAD4
         2 000334   430015 713400                    CLIMB   alt,+12301
         2 000335   400000 401760                    pmme    nvectors=1
         2 000336   001336 702000 2                  TSX2    NOT_PRIV

      238    11778    2             CALL M$SAD(SAD5) ALTRET(NOT_PRIV);

  11778  2 000337   000256 630400 0                  EPPR0   SAD5
         2 000340   430015 713400                    CLIMB   alt,+12301
         2 000341   400000 401760                    pmme    nvectors=1
         2 000342   001336 702000 2                  TSX2    NOT_PRIV

      239    11779    2             CALL M$SAD(SAD6) ALTRET(NOT_PRIV);
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:38   

  11779  2 000343   000262 630400 0                  EPPR0   SAD6
         2 000344   430015 713400                    CLIMB   alt,+12301
         2 000345   400000 401760                    pmme    nvectors=1
         2 000346   001336 702000 2                  TSX2    NOT_PRIV

      240    11780    2             S_D.ANLZ = '1'B;         /* We are now in anlz running monitor mode */

  11780  2 000347   400000 236003                    LDQ     -131072,DU
         2 000350   000000 470400 xsym               LDP0    S_D$
         2 000351   004756 756100                    STQ     2542,,PR0

      241    11781    2           END;

      242    11782                            /* Let's tuck the regs values away so they don't get lost */
      243    11783    1        FPT$DRTN = FPT_DRTN;

  11783  2 000352   000100 100400                    MLR     fill='000'O
         2 000353   000266 000070 0                  ADSC9   FPT_DRTN                 cn=0,n=56
         2 000354   200420 000070                    ADSC9   FPT$DRTN,,AUTO           cn=0,n=56

      244    11784    1        FPT$DRTN.V_ = VECTOR(FPT$DRTN.V);

  11784  2 000355   000000 235000 3                  LDA     0
         2 000356   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 000357   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000360   000432 036003                    ADLQ    282,DU
         2 000361   200424 757100                    STAQ    FPT$DRTN+4,,AUTO

      245    11785    1        FPT$DRTN.REGS_ = VECTOR(S_D.UREG$->REGS);

  11785  2 000362   000000 470400 xsym               LDP0    S_D$
         2 000363   000045 471500                    LDP1    37,,PR0
         2 000364   000010 235000 3                  LDA     8
         2 000365   200440 451500                    STP1    FPT$DRTN+16,,AUTO
         2 000366   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000367   200420 757100                    STAQ    FPT$DRTN,,AUTO
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:39   

      246    11786    1        FPT$DRTN.V.MRGSS# = '1'B;

  11786  2 000370   000400 236003                    LDQ     256,DU
         2 000371   200433 256100                    ORSQ    FPT$DRTN+11,,AUTO

      247    11787    1        CALL M$DRTN (FPT$DRTN) ALTRET(CALL_XXX);

  11787  2 000372   200420 630500                    EPPR0   FPT$DRTN,,AUTO
         2 000373   410017 713400                    CLIMB   alt,+4111
         2 000374   402000 401760                    pmme    nvectors=5
         2 000375   001661 702000 2                  TSX2    CALL_XXX

      248    11788    1        IF S_D.LMDCB = D_M$LM#

  11788  2 000376   000000 470400 xsym               LDP0    S_D$
         2 000377   004774 236100                    LDQ     2556,,PR0
         2 000400   000000 116000 xsym               CMPQ    D_M$LM#
         2 000401   000474 601000 2                  TNZ     s:11813

      249    11789    2        THEN DO;                           /* Get schema */

      250    11790    2   KLUDGE_ENTRY1:
      251    11791                                                /* Get a dcb first */
      252    11792    2             FPT$GETDCB = FPT_GETDCB;

  11792  2 000402   000100 100400       KLUDGE_ENTR* MLR     fill='000'O
         2 000403   000000 000040 xsym               ADSC9   FPT_GETDCB               cn=0,n=32
         2 000404   200216 000040                    ADSC9   FPT$GETDCB,,AUTO         cn=0,n=32

      253    11793    2             FPT$GETDCB.V_ = VECTOR(FPT$GETDCB.V);

  11793  2 000405   000002 235000 3                  LDA     2
         2 000406   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 000407   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000410   000224 036003                    ADLQ    148,DU
         2 000411   200216 757100                    STAQ    FPT$GETDCB,,AUTO
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:40   

      254    11794    2             FPT$GETDCB.DCBNUM_ = VECTOR(S_D.LMDCB);

  11794  2 000412   777640 235007                    LDA     -96,DL
         2 000413   000000 236000 xsym               LDQ     S_D$
         2 000414   004774 036003                    ADLQ    2556,DU
         2 000415   200222 757100                    STAQ    FPT$GETDCB+4,,AUTO

      255    11795    2             CALL M$GETDCB(FPT$GETDCB) ALTRET(PMME_ALT);

  11795  2 000416   200216 630500                    EPPR0   FPT$GETDCB,,AUTO
         2 000417   460002 713400                    CLIMB   alt,+24578
         2 000420   401000 401760                    pmme    nvectors=3
         2 000421   001342 702000 2                  TSX2    PMME_ALT

      256    11796    2             IF S_D.DO$->ANLZ$CMD.FILESCH

  11796  2 000422   000000 470400 xsym               LDP0    S_D$
         2 000423   000031 471500                    LDP1    25,,PR0
         2 000424   100001 236100                    LDQ     1,,PR1
         2 000425   200000 316003                    CANQ    65536,DU
         2 000426   000447 600000 2                  TZE     s:11804

      257    11797    3             THEN DO;                      /* Get schema from fid */

      258    11798    3                 FPT$FID.TEXTFID_ = VECTOR( ADDR(S_D.DO$->ANLZ$CMD.FIDSCH)->TEXT$C.TXT
             11798                           );

  11798  2 000427   100022 236100                    LDQ     18,,PR1
         2 000430   000033 772000                    QRL     27
         2 000431   000064 737000                    LLS     52
         2 000432   000140 135007                    SBLA    96,DL
         2 000433   200440 451500                    STP1    FPT$DRTN+16,,AUTO
         2 000434   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000435   000011 036000 3                  ADLQ    9
         2 000436   200170 757100                    STAQ    FPT$FID+2,,AUTO

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:41   
      259    11799    3                  VLP$SN = VLP_SN;

  11799  2 000437   000100 100400                    MLR     fill='000'O
         2 000440   000232 000012 0                  ADSC9   VLP_SN                   cn=0,n=10
         2 000441   200350 000012                    ADSC9   VLP$SN,,AUTO             cn=0,n=10

      260    11800    3                  CALL M$FID(FPT$FID) ALTRET(BAD_SCH_FILE);

  11800  2 000442   200166 630500                    EPPR0   FPT$FID,,AUTO
         2 000443   420001 713400                    CLIMB   alt,+8193
         2 000444   404400 401760                    pmme    nvectors=10
         2 000445   001373 702000 2                  TSX2    BAD_SCH_FILE

      261    11801    3                END;

  11801  2 000446   000465 710000 2                  TRA     s:11810

      262    11802    3             ELSE DO;

      263    11803                                                /* Open it to M:MON.:SYS */
      264    11804    3                  FPT$OPEN = FPT_OPENSCHEMA;

  11804  2 000447   000100 100400                    MLR     fill='000'O
         2 000450   000106 000350 0                  ADSC9   FPT_OPENSCHEMA           cn=0,n=232
         2 000451   200226 000350                    ADSC9   FPT$OPEN,,AUTO           cn=0,n=232

      265    11805    3                  FPT$OPEN.V_ = VECTOR(FPT$OPEN.V);

  11805  2 000452   000005 235000 3                  LDA     5
         2 000453   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 000454   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 000455   000272 036003                    ADLQ    186,DU
         2 000456   200226 757100                    STAQ    FPT$OPEN,,AUTO

      266    11806    3                  IF KLUDGE_FLAG

  11806  2 000457   200104 234100                    SZN     KLUDGE_FLAG,,AUTO
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:42   
         2 000460   000464 605000 2                  TPL     s:11808

      267    11807    3                  THEN S_D.ANLZ_KLUDGE = '1'B;

  11807  2 000461   400000 236003                    LDQ     -131072,DU
         2 000462   005324 756100                    STQ     2772,,PR0
         2 000463   000465 710000 2                  TRA     s:11810

      268    11808    3                  ELSE S_D.ANLZ_KLUDGE = '0'B;

  11808  2 000464   005324 450100                    STZ     2772,,PR0

      269    11809    3                END;

      270    11810    2             FPT$OPEN.V.DCB# = S_D.LMDCB;

  11810  2 000465   000000 470400 xsym               LDP0    S_D$
         2 000466   004774 720100                    LXL0    2556,,PR0
         2 000467   200272 740100                    STX0    FPT$OPEN+36,,AUTO

      271    11811    2             CALL M$OPEN (FPT$OPEN) ALTRET(BAD_SCH_FILE);

  11811  2 000470   200226 630500                    EPPR0   FPT$OPEN,,AUTO
         2 000471   450000 713400                    CLIMB   alt,open
         2 000472   410400 401760                    pmme    nvectors=18
         2 000473   001373 702000 2                  TSX2    BAD_SCH_FILE

      272    11812    2           END;

      273    11813    1        IF KLUDGE_FLAG

  11813  2 000474   200104 234100                    SZN     KLUDGE_FLAG,,AUTO
         2 000475   000503 605000 2                  TPL     s:11818

      274    11814    2        THEN DO;

      275    11815    2             TEMP_FLAG = S_D.STAND_ALONE;
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:43   

  11815  2 000476   000000 470400 xsym               LDP0    S_D$
         2 000477   004624 236100                    LDQ     2452,,PR0
         2 000500   400000 376003                    ANQ     -131072,DU
         2 000501   200105 756100                    STQ     TEMP_FLAG,,AUTO

      276    11816    2             S_D.STAND_ALONE = '0'B;

  11816  2 000502   004624 450100                    STZ     2452,,PR0

      277    11817    2           END;

      278    11818    1        DCB$ = DCBADDR( S_D.LMDCB );

  11818  2 000503   000012 470400 3                  LDP0    10
         2 000504   000000 471500                    LDP1    0,,PR0
         2 000505   000000 473400 xsym               LDP3    S_D$
         2 000506   304774 720100                    LXL0    2556,,PR3
         2 000507   100000 236110                    LDQ     0,X0,PR1
         2 000510   200117 756100                    STQ     DCB$,,AUTO

      279    11819    1        MON = '0'B;

  11819  2 000511   200106 450100                    STZ     MON,,AUTO

      280    11820    1        IF DCB$ -> F$DCB.NAME#.C = 'M:MON                          '

  11820  2 000512   200117 474500                    LDP4    DCB$,,AUTO
         2 000513   040000 106500                    CMPC    fill='040'O
         2 000514   400010 200037                    ADSC9   8,,PR4                   cn=1,n=31
         2 000515   000304 000037 0                  ADSC9   FPT_DRTN+14              cn=0,n=31
         2 000516   001071 601000 2                  TNZ     s:11896
         2 000517   305052 234100                    SZN     2602,,PR3
         2 000520   001071 605000 2                  TPL     s:11896

      281    11821    1          AND S_D.ANLZ_FILE
      282    11822    2        THEN DO;
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:44   

      283    11823    2             MON = '1'B;

  11823  2 000521   400000 236003                    LDQ     -131072,DU
         2 000522   200106 756100                    STQ     MON,,AUTO

      284    11824    2             CALL DDM$GETMEM(DD_ANLZSEG$, @PSIZ) ALTRET(NO_MEM);

  11824  2 000523   000014 630400 3                  EPPR0   12
         2 000524   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000525   000000 701000 xent               TSX1    DDM$GETMEM
         2 000526   001346 702000 2                  TSX2    NO_MEM

      285    11825    2             HEAD$ = DA.ANLZSEGEND$;

  11825  2 000527   000000 470400 xsym               LDP0    DD_ANLZSEG$
         2 000530   000014 236100                    LDQ     12,,PR0
         2 000531   200107 756100                    STQ     HEAD$,,AUTO

      286    11826    2             S_D.NODESEG_USED$ = PINCRW(DA.ANLZSEGEND$, @PSIZ);

  11826  2 000532   000014 236100                    LDQ     12,,PR0
         2 000533   002000 036003                    ADLQ    1024,DU
         2 000534   000000 471400 xsym               LDP1    S_D$
         2 000535   104771 756100                    STQ     2553,,PR1

      287    11827    2             DA.ANLZSEGEND$ = PINCRW(DA.ANLZSEGEND$, @PSIZ);

  11827  2 000536   000014 236100                    LDQ     12,,PR0
         2 000537   002000 036003                    ADLQ    1024,DU
         2 000540   000014 756100                    STQ     12,,PR0

      288    11828    2             ARS = 0;                      /* Positive */

  11828  2 000541   200112 450100                    STZ     ARS,,AUTO

      289    11829    2             CALL DDQ$READLM( %TYPHEAD, @PAGE, @NODE, HEAD$, SIZEC( B$HEAD ), ARS )
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:45   
             11829                      ALTRET( NOHEAD );

  11829  2 000542   200112 633500                    EPPR3   ARS,,AUTO
         2 000543   200445 453500                    STP3    FPT$DRTN+21,,AUTO
         2 000544   000017 236000 3                  LDQ     15
         2 000545   200444 756100                    STQ     FPT$DRTN+20,,AUTO
         2 000546   200107 634500                    EPPR4   HEAD$,,AUTO
         2 000547   200443 454500                    STP4    FPT$DRTN+19,,AUTO
         2 000550   000020 236000 3                  LDQ     16
         2 000551   200442 756100                    STQ     FPT$DRTN+18,,AUTO
         2 000552   000022 237000 3                  LDAQ    18
         2 000553   200440 757100                    STAQ    FPT$DRTN+16,,AUTO
         2 000554   200440 630500                    EPPR0   FPT$DRTN+16,,AUTO
         2 000555   000024 631400 xsym               EPPR1   B_VECTNIL+20
         2 000556   000000 701000 xent               TSX1    DDQ$READLM
         2 000557   001355 702000 2                  TSX2    NOHEAD

      290    11830    2             IF ARS ~= SIZEC(B$HEAD)

  11830  2 000560   200112 235100                    LDA     ARS,,AUTO
         2 000561   000240 115007                    CMPA    160,DL
         2 000562   001355 601000 2                  TNZ     NOHEAD

      291    11831    2             THEN GOTO NOHEAD;
      292    11832    2             ROS$ = PINCRW(HEAD$, SIZEW(B$HEAD));

  11832  2 000563   200107 236100                    LDQ     HEAD$,,AUTO
         2 000564   000050 036003                    ADLQ    40,DU
         2 000565   200110 756100                    STQ     ROS$,,AUTO

      293    11833    2             ROSIZE = HEAD$ -> B$HEAD.ROSIZE;

  11833  2 000566   200107 470500                    LDP0    HEAD$,,AUTO
         2 000567   000010 236100                    LDQ     8,,PR0
         2 000570   777777 376007                    ANQ     -1,DL
         2 000571   200111 756100                    STQ     ROSIZE,,AUTO

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:46   
      294    11834    2             NEED = SIZEW(B$ROSEG) + %M$1STDCB# + ROSIZE;

  11834  2 000572   000136 036007                    ADLQ    94,DL
         2 000573   200116 756100                    STQ     NEED,,AUTO

      295    11835    2             TOGET = (@PSIZ - SIZEW(B$HEAD)) - NEED;

  11835  2 000574   001730 235007                    LDA     984,DL
         2 000575   200116 135100                    SBLA    NEED,,AUTO
         2 000576   200115 755100                    STA     TOGET,,AUTO

      296    11836    2             IF TOGET > 0

  11836  2 000577   000626 604400 2                  TMOZ    s:11843

      297    11837    3             THEN DO;

      298    11838    3                  TOGET = ( ( -TOGET + @PSIZ -1 ) / @PSIZ ) * @PSIZ;

  11838  2 000600   001777 236007                    LDQ     1023,DL
         2 000601   200115 136100                    SBLQ    TOGET,,AUTO
         2 000602   002000 506007                    DIV     1024,DL
         2 000603   000012 736000                    QLS     10
         2 000604   200115 756100                    STQ     TOGET,,AUTO

      299    11839    3                  CALL DDM$GETMEM( DD_ANLZSEG$, TOGET ) ALTRET( NO_MEM );

  11839  2 000605   200115 631500                    EPPR1   TOGET,,AUTO
         2 000606   200441 451500                    STP1    FPT$DRTN+17,,AUTO
         2 000607   000014 236000 3                  LDQ     12
         2 000610   200440 756100                    STQ     FPT$DRTN+16,,AUTO
         2 000611   200440 630500                    EPPR0   FPT$DRTN+16,,AUTO
         2 000612   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 000613   000000 701000 xent               TSX1    DDM$GETMEM
         2 000614   001346 702000 2                  TSX2    NO_MEM

      300    11840    3                  S_D.NODESEG_USED$ = PINCRW(S_D.NODESEG_USED$, TOGET);
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:47   

  11840  2 000615   000000 470400 xsym               LDP0    S_D$
         2 000616   004771 471500                    LDP1    2553,,PR0
         2 000617   200115 720100                    LXL0    TOGET,,AUTO
         2 000620   100000 633510                    EPPR3   0,X0,PR1
         2 000621   004771 453500                    STP3    2553,,PR0

      301    11841    3                  DA.ANLZSEGEND$ = PINCRW(DA.ANLZSEGEND$, TOGET);

  11841  2 000622   000000 471400 xsym               LDP1    DD_ANLZSEG$
         2 000623   100014 474500                    LDP4    12,,PR1
         2 000624   400000 635510                    EPPR5   0,X0,PR4
         2 000625   100014 455500                    STP5    12,,PR1

      302    11842    3                END;

      303    11843    2             S_D.NODESEG$ = PINCRW(ROS$,NEED);

  11843  2 000626   200116 236100                    LDQ     NEED,,AUTO
         2 000627   000022 736000                    QLS     18
         2 000630   200110 036100                    ADLQ    ROS$,,AUTO
         2 000631   000000 470400 xsym               LDP0    S_D$
         2 000632   005003 756100                    STQ     2563,,PR0

      304    11844    2             IF ROSIZE = 0

  11844  2 000633   200111 235100                    LDA     ROSIZE,,AUTO
         2 000634   000645 601000 2                  TNZ     s:11850

      305    11845    3             THEN DO;

      306    11846    3                  S_D.B$ROS$ = ADDR( NIL );

  11846  2 000635   000001 236000 xsym               LDQ     B_VECTNIL+1
         2 000636   004775 756100                    STQ     2557,,PR0

      307    11847    3                  S_D.PADDR = ( HEAD$ -> B$HEAD.BIAS / @PSIZ );
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:48   

  11847  2 000637   200107 471500                    LDP1    HEAD$,,AUTO
         2 000640   100023 236100                    LDQ     19,,PR1
         2 000641   000024 376000 3                  ANQ     20
         2 000642   000012 772000                    QRL     10
         2 000643   004765 756100                    STQ     2549,,PR0

      308    11848    3                END;

  11848  2 000644   001071 710000 2                  TRA     s:11896

      309    11849    3             ELSE DO;

      310    11850    3                  S_D.B$ROS$ = ROS$;

  11850  2 000645   200110 236100                    LDQ     ROS$,,AUTO
         2 000646   004775 756100                    STQ     2557,,PR0

      311    11851    3                  DCBPTR$ = PINCRW( S_D.B$ROS$, SIZEW( B$ROSEG ) );

  11851  2 000647   000124 036003                    ADLQ    84,DU
         2 000650   200120 756100                    STQ     DCBPTR$,,AUTO

      312    11852    3                  S_D.B$ROS$ -> B$ROSEG.DCBPTR$ = DCBPTR$;

  11852  2 000651   004775 471500                    LDP1    2557,,PR0
         2 000652   100000 756100                    STQ     0,,PR1

      313    11853    4                  DO IX = 1 TO %M$1STDCB#;

  11853  2 000653   000001 235007                    LDA     1,DL
         2 000654   200113 755100                    STA     IX,,AUTO

      314    11854    4                       DCBPTR$ -> DCB$PTR$ = ADDR( NIL );

  11854  2 000655   000001 236000 xsym               LDQ     B_VECTNIL+1
         2 000656   200120 470500                    LDP0    DCBPTR$,,AUTO
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:49   
         2 000657   000000 756100                    STQ     0,,PR0

      315    11855    4                       DCBPTR$ = PINCRW( DCBPTR$, SIZEW( DCB$PTR$ ) );

  11855  2 000660   200120 236100                    LDQ     DCBPTR$,,AUTO
         2 000661   000001 036003                    ADLQ    1,DU
         2 000662   200120 756100                    STQ     DCBPTR$,,AUTO

      316    11856    4                     END;

  11856  2 000663   200113 235100                    LDA     IX,,AUTO
         2 000664   000001 035007                    ADLA    1,DL
         2 000665   200113 755100                    STA     IX,,AUTO
         2 000666   000013 115007                    CMPA    11,DL
         2 000667   000655 602000 2                  TNC     s:11854

      317    11857                                      /* Read read-only-segment from RU into memory */
      318    11858    3                  TOGET = ROSIZE * SIZEC( ROSIZE );

  11858  2 000670   200111 235100                    LDA     ROSIZE,,AUTO
         2 000671   000002 735000                    ALS     2
         2 000672   200115 755100                    STA     TOGET,,AUTO

      319    11859    3                  PAGE = 0;

  11859  2 000673   200121 450100                    STZ     PAGE,,AUTO

      320    11860    3                  ARS = 0;

  11860  2 000674   200112 450100                    STZ     ARS,,AUTO

      321    11861    3                  TEMP$ = DCBPTR$;

  11861  2 000675   200123 756100                    STQ     TEMP$,,AUTO

      322    11862    4                  DO WHILE ( TOGET > 0 );

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:50   
  11862  2 000676   000735 604400 2                  TMOZ    s:11869

      323    11863    4                       CALL DDQ$READLM( %TYPROS, PAGE, @NODE, TEMP$, TOGET, ARS )
             11863                                ALTRET( NOROS );

  11863  2 000677   200112 630500                    EPPR0   ARS,,AUTO
         2 000700   200445 450500                    STP0    FPT$DRTN+21,,AUTO
         2 000701   200115 631500                    EPPR1   TOGET,,AUTO
         2 000702   200444 451500                    STP1    FPT$DRTN+20,,AUTO
         2 000703   200123 633500                    EPPR3   TEMP$,,AUTO
         2 000704   200443 453500                    STP3    FPT$DRTN+19,,AUTO
         2 000705   000020 236000 3                  LDQ     16
         2 000706   200442 756100                    STQ     FPT$DRTN+18,,AUTO
         2 000707   200121 634500                    EPPR4   PAGE,,AUTO
         2 000710   200441 454500                    STP4    FPT$DRTN+17,,AUTO
         2 000711   000026 236000 3                  LDQ     22
         2 000712   200440 756100                    STQ     FPT$DRTN+16,,AUTO
         2 000713   200440 630500                    EPPR0   FPT$DRTN+16,,AUTO
         2 000714   000024 631400 xsym               EPPR1   B_VECTNIL+20
         2 000715   000000 701000 xent               TSX1    DDQ$READLM
         2 000716   001364 702000 2                  TSX2    NOROS

      324    11864    4                       PAGE = PAGE + HEAD$ -> B$HEAD.PRECSIZE;

  11864  2 000717   200107 470500                    LDP0    HEAD$,,AUTO
         2 000720   000006 236100                    LDQ     6,,PR0
         2 000721   000022 772000                    QRL     18
         2 000722   200121 036100                    ADLQ    PAGE,,AUTO
         2 000723   200121 756100                    STQ     PAGE,,AUTO

      325    11865    4                       TOGET = TOGET - ARS;

  11865  2 000724   200115 236100                    LDQ     TOGET,,AUTO
         2 000725   200112 136100                    SBLQ    ARS,,AUTO
         2 000726   200115 756100                    STQ     TOGET,,AUTO

      326    11866    4                       TEMP$ = PINCRC( TEMP$, ARS );
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:51   

  11866  2 000727   200112 236100                    LDQ     ARS,,AUTO
         2 000730   000020 736000                    QLS     16
         2 000731   200123 036100                    ADLQ    TEMP$,,AUTO
         2 000732   200123 756100                    STQ     TEMP$,,AUTO

      327    11867    4                     END;

  11867  2 000733   200115 235100                    LDA     TOGET,,AUTO
         2 000734   000677 605400 2                  TPNZ    s:11863

      328    11868                                           /* Setup pointers to user defined dcbs */
      329    11869    3                  TOGET = HEAD$ -> B$HEAD.UDCBNUM;

  11869  2 000735   200107 470500                    LDP0    HEAD$,,AUTO
         2 000736   000004 236100                    LDQ     4,,PR0
         2 000737   000022 772000                    QRL     18
         2 000740   200115 756100                    STQ     TOGET,,AUTO

      330    11870    3                  DCBRES = HEAD$ -> B$HEAD.DCBRES;

  11870  2 000741   000004 236100                    LDQ     4,,PR0
         2 000742   777777 376007                    ANQ     -1,DL
         2 000743   200122 756100                    STQ     DCBRES,,AUTO

      331    11871    3                  S_D.B$ROS$ -> B$ROSEG.NUMDCBS = %M$1STDCB# - 1 + TOGET + DCBRES;

  11871  2 000744   000000 471400 xsym               LDP1    S_D$
         2 000745   104775 473500                    LDP3    2557,,PR1
         2 000746   200115 036100                    ADLQ    TOGET,,AUTO
         2 000747   000011 620006                    EAX0    9,QL
         2 000750   300002 740100                    STX0    2,,PR3

      332    11872    3                  TEMP$ = DCBPTR$;

  11872  2 000751   200120 236100                    LDQ     DCBPTR$,,AUTO
         2 000752   200123 756100                    STQ     TEMP$,,AUTO
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:52   

      333    11873    4                  DO IX = 1 TO TOGET;

  11873  2 000753   000001 235007                    LDA     1,DL
         2 000754   200113 755100                    STA     IX,,AUTO
         2 000755   000771 710000 2                  TRA     s:11876+3

      334    11874    4                       DCBPTR$ -> DCB$PTR$ = PINCRW( TEMP$, DCBPTR$ -> PTR$WORD.LH );

  11874  2 000756   200120 470500                    LDP0    DCBPTR$,,AUTO
         2 000757   000000 220100                    LDX0    0,,PR0
         2 000760   000000 636010                    EAQ     0,X0
         2 000761   200123 036100                    ADLQ    TEMP$,,AUTO
         2 000762   000000 756100                    STQ     0,,PR0

      335    11875    4                       DCBPTR$ = PINCRW( DCBPTR$, SIZEW( DCB$PTR$ ) );

  11875  2 000763   200120 236100                    LDQ     DCBPTR$,,AUTO
         2 000764   000001 036003                    ADLQ    1,DU
         2 000765   200120 756100                    STQ     DCBPTR$,,AUTO

      336    11876    4                     END;

  11876  2 000766   200113 235100                    LDA     IX,,AUTO
         2 000767   000001 035007                    ADLA    1,DL
         2 000770   200113 755100                    STA     IX,,AUTO
         2 000771   200113 236100                    LDQ     IX,,AUTO
         2 000772   000775 604000 2                  TMI     s:11877
         2 000773   200115 116100                    CMPQ    TOGET,,AUTO
         2 000774   000756 604400 2                  TMOZ    s:11874

      337    11877    4                  DO IX = 1 TO DCBRES;

  11877  2 000775   000001 235007                    LDA     1,DL
         2 000776   200113 755100                    STA     IX,,AUTO
         2 000777   001011 710000 2                  TRA     s:11880+3

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:53   
      338    11878    4                       DCBPTR$ -> DCB$PTR$ = ADDR( NIL );

  11878  2 001000   000001 236000 xsym               LDQ     B_VECTNIL+1
         2 001001   200120 470500                    LDP0    DCBPTR$,,AUTO
         2 001002   000000 756100                    STQ     0,,PR0

      339    11879    4                       DCBPTR$ = PINCRW( DCBPTR$, SIZEW( DCBPTR$ ) );

  11879  2 001003   200120 236100                    LDQ     DCBPTR$,,AUTO
         2 001004   000001 036003                    ADLQ    1,DU
         2 001005   200120 756100                    STQ     DCBPTR$,,AUTO

      340    11880    4                     END;

  11880  2 001006   200113 235100                    LDA     IX,,AUTO
         2 001007   000001 035007                    ADLA    1,DL
         2 001010   200113 755100                    STA     IX,,AUTO
         2 001011   200122 236100                    LDQ     DCBRES,,AUTO
         2 001012   200113 116100                    CMPQ    IX,,AUTO
         2 001013   001000 603000 2                  TRC     s:11878

      341    11881                                                /* Setup tree table pointers */
      342    11882    3                  TEMP$ = PINCRW( TEMP$, HEAD$ -> B$HEAD.TREEDISP );

  11882  2 001014   200107 470500                    LDP0    HEAD$,,AUTO
         2 001015   000005 220100                    LDX0    5,,PR0
         2 001016   000000 636010                    EAQ     0,X0
         2 001017   200123 036100                    ADLQ    TEMP$,,AUTO
         2 001020   200123 756100                    STQ     TEMP$,,AUTO

      343    11883    3                  IF HEAD$ -> B$HEAD.OVRL

  11883  2 001021   000022 236100                    LDQ     18,,PR0
         2 001022   000010 316003                    CANQ    8,DU
         2 001023   001031 600000 2                  TZE     s:11885

      344    11884    3                  THEN S_D.B$ROS$ -> B$ROSEG.TREE$ = TEMP$;
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:54   

  11884  2 001024   000000 471400 xsym               LDP1    S_D$
         2 001025   104775 473500                    LDP3    2557,,PR1
         2 001026   200123 236100                    LDQ     TEMP$,,AUTO
         2 001027   300001 756100                    STQ     1,,PR3
         2 001030   001035 710000 2                  TRA     s:11886

      345    11885    3                  ELSE S_D.B$ROS$ -> B$ROSEG.TREE$ = ADDR( NIL );

  11885  2 001031   000000 471400 xsym               LDP1    S_D$
         2 001032   104775 473500                    LDP3    2557,,PR1
         2 001033   000001 236000 xsym               LDQ     B_VECTNIL+1
         2 001034   300001 756100                    STQ     1,,PR3

      346    11886    3                  TEMP1$ = PINCRW( TEMP$, SIZEW( B$TREEHDR ) );

  11886  2 001035   200123 236100                    LDQ     TEMP$,,AUTO
         2 001036   000003 036003                    ADLQ    3,DU
         2 001037   200114 756100                    STQ     TEMP1$,,AUTO

      347    11887    3                  TEMP1$ -> B$NODE.FLGS.NOW_IN( 0 ) = '1'B; /* Root as in */

  11887  2 001040   200114 470500                    LDP0    TEMP1$,,AUTO
         2 001041   400000 236003                    LDQ     -131072,DU
         2 001042   000001 256100                    ORSQ    1,,PR0

      348    11888    3                  S_D.PADDR = TEMP1$ -> B$NODE.PADDR( 0 );

  11888  2 001043   000003 236100                    LDQ     3,,PR0
         2 001044   000022 772000                    QRL     18
         2 001045   104765 756100                    STQ     2549,,PR1

      349    11889    4                  DO IX = 0 TO TEMP$ -> B$TREEHDR.NODES - 1;

  11889  2 001046   200113 450100                    STZ     IX,,AUTO
         2 001047   001063 710000 2                  TRA     s:11892+3

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:55   
      350    11890    4                      TEMP1$ -> B$NODE.NAME$( 0 ) = PINCRW( TEMP$, TEMP1$ -> PTR$WORD.
             11890                                LH );

  11890  2 001050   200114 470500                    LDP0    TEMP1$,,AUTO
         2 001051   000000 220100                    LDX0    0,,PR0
         2 001052   000000 636010                    EAQ     0,X0
         2 001053   200123 036100                    ADLQ    TEMP$,,AUTO
         2 001054   000000 756100                    STQ     0,,PR0

      351    11891    4                       TEMP1$ = PINCRW( TEMP1$, SIZEW( B$NODE ) );

  11891  2 001055   200114 236100                    LDQ     TEMP1$,,AUTO
         2 001056   000006 036003                    ADLQ    6,DU
         2 001057   200114 756100                    STQ     TEMP1$,,AUTO

      352    11892    4                     END;

  11892  2 001060   200113 235100                    LDA     IX,,AUTO
         2 001061   000001 035007                    ADLA    1,DL
         2 001062   200113 755100                    STA     IX,,AUTO
         2 001063   200123 470500                    LDP0    TEMP$,,AUTO
         2 001064   000000 236100                    LDQ     0,,PR0
         2 001065   000022 772000                    QRL     18
         2 001066   200113 116100                    CMPQ    IX,,AUTO
         2 001067   001071 600000 2                  TZE     s:11896
         2 001070   001050 603000 2                  TRC     s:11890

      353    11893    3                END;

      354    11894    2           END;

      355    11895                                                /* Release schema memory */
      356    11896    1        CALL DDM$PUTMEM(S_D_SEG$, POFFW(S_D.SCHSEG$, S_D.SCHSEG_BEGIN$));

  11896  2 001071   000000 470400 xsym               LDP0    S_D$
         2 001072   000043 236100                    LDQ     35,,PR0
         2 001073   000022 772000                    QRL     18
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:56   
         2 001074   200440 756100                    STQ     FPT$DRTN+16,,AUTO
         2 001075   001034 236100                    LDQ     540,,PR0
         2 001076   000022 772000                    QRL     18
         2 001077   200440 136100                    SBLQ    FPT$DRTN+16,,AUTO
         2 001100   200441 756100                    STQ     FPT$DRTN+17,,AUTO
         2 001101   200441 631500                    EPPR1   FPT$DRTN+17,,AUTO
         2 001102   200443 451500                    STP1    FPT$DRTN+19,,AUTO
         2 001103   000006 236000 3                  LDQ     6
         2 001104   200442 756100                    STQ     FPT$DRTN+18,,AUTO
         2 001105   200442 630500                    EPPR0   FPT$DRTN+18,,AUTO
         2 001106   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 001107   000000 701000 xent               TSX1    DDM$PUTMEM
         2 001110   000000 011000                    NOP     0

      357    11897    1        S_D.SCHSEG$ = S_D.SCHSEG_BEGIN$;

  11897  2 001111   000000 470400 xsym               LDP0    S_D$
         2 001112   000043 236100                    LDQ     35,,PR0
         2 001113   001034 756100                    STQ     540,,PR0

      358    11898    1        CALL DDA$RESET_PATCH_SPACE;

  11898  2 001114   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001115   000000 701000 xent               TSX1    DDA$RESET_PATCH_SPACE
         2 001116   000000 011000                    NOP     0

      359    11899    1        S_D.FIRST_TIME = '1'B;

  11899  2 001117   400000 236003                    LDQ     -131072,DU
         2 001120   000000 470400 xsym               LDP0    S_D$
         2 001121   006725 756100                    STQ     3541,,PR0

      360    11900    1        CALL DUI$RU_ACCESS            /* Another of jeff's magic schema routines */

  11900  2 001122   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001123   000000 701000 xent               TSX1    DUI$RU_ACCESS
         2 001124   001126 702000 2                  TSX2    s:11902
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:57   
         2 001125   001132 710000 2                  TRA     s:11906

      361    11901    2        WHENALTRETURN DO;

      362    11902    2             CALL DDE$ERROR;

  11902  2 001126   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001127   000000 701000 xent               TSX1    DDE$ERROR
         2 001130   000000 011000                    NOP     0

      363    11903    2             GOTO INTERNAL_KILL;

  11903  2 001131   001436 710000 2                  TRA     INTERNAL_KILL

      364    11904    2           END;
      365    11905                                                /* Say hello */
      366    11906    1        IF NOT KLUDGE_FLAG THEN CALL DDR$REPORT(R_ANLZ);

  11906  2 001132   200104 234100                    SZN     KLUDGE_FLAG,,AUTO
         2 001133   001141 604000 2                  TMI     s:11907

  11906  2 001134   000030 630400 3                  EPPR0   24
         2 001135   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 001136   000000 701000 xent               TSX1    DDR$REPORT
         2 001137   000000 011000                    NOP     0
         2 001140   001145 710000 2                  TRA     s:11909

      367    11907    1        ELSE S_D.STAND_ALONE = TEMP_FLAG;

  11907  2 001141   200105 236100                    LDQ     TEMP_FLAG,,AUTO
         2 001142   400000 376003                    ANQ     -131072,DU
         2 001143   000000 470400 xsym               LDP0    S_D$
         2 001144   004624 756100                    STQ     2452,,PR0

      368    11908        /* Establish default schema access */
      369    11909    1        S_D.XOU_NAME = DD_AXOU;

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:58   
  11909  2 001145   000000 470400 xsym               LDP0    S_D$
         2 001146   000100 100400                    MLR     fill='000'O
         2 001147   000000 000012 0                  ADSC9   DD_AXOU                  cn=0,n=10
         2 001150   001021 000040                    ADSC9   529,,PR0                 cn=0,n=32

      370    11910    1        CALL DDS$PD_SRCH( DD_AXOU$, TEMP$ ) ALTRET( GOTXOU );

  11910  2 001151   200123 631500                    EPPR1   TEMP$,,AUTO
         2 001152   200441 451500                    STP1    FPT$DRTN+17,,AUTO
         2 001153   000031 236000 3                  LDQ     25
         2 001154   200440 756100                    STQ     FPT$DRTN+16,,AUTO
         2 001155   200440 630500                    EPPR0   FPT$DRTN+16,,AUTO
         2 001156   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 001157   000000 701000 xent               TSX1    DDS$PD_SRCH
         2 001160   001162 702000 2                  TSX2    GOTXOU

      371    11911    2        DO WHILE ( '0'B );

  11911  2 001161   001204 710000 2                  TRA     NOXOU

      372    11912    2   GOTXOU:
      373    11913    2             CALL DDS$EQCS#( POFFW( TEMP$, S_D.EDEF$ ) / SIZEW( B$EDEF ) ) ALTRET(
             11913                      NOXOU );

  11913  2 001162   000000 470400 xsym  GOTXOU       LDP0    S_D$
         2 001163   001042 236100                    LDQ     546,,PR0
         2 001164   000022 772000                    QRL     18
         2 001165   200440 756100                    STQ     FPT$DRTN+16,,AUTO
         2 001166   200123 236100                    LDQ     TEMP$,,AUTO
         2 001167   000022 772000                    QRL     18
         2 001170   200440 136100                    SBLQ    FPT$DRTN+16,,AUTO
         2 001171   000002 506007                    DIV     2,DL
         2 001172   200441 756100                    STQ     FPT$DRTN+17,,AUTO
         2 001173   200441 631500                    EPPR1   FPT$DRTN+17,,AUTO
         2 001174   200442 451500                    STP1    FPT$DRTN+18,,AUTO
         2 001175   200442 630500                    EPPR0   FPT$DRTN+18,,AUTO
         2 001176   000017 631400 xsym               EPPR1   B_VECTNIL+15
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:59   
         2 001177   000000 701000 xent               TSX1    DDS$EQCS#
         2 001200   001204 702000 2                  TSX2    NOXOU

      374    11914    2             CALL DDS$SET_Q2X ALTRET( NOXOU );

  11914  2 001201   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001202   000000 701000 xent               TSX1    DDS$SET_Q2X
         2 001203   001204 702000 2                  TSX2    NOXOU

      375    11915    2           END;

      376    11916    1   NOXOU:
      377    11917    1        IF MON

  11917  2 001204   200106 234100       NOXOU        SZN     MON,,AUTO
         2 001205   001311 605000 2                  TPL     s:11941

      378    11918    2        THEN DO;

      379    11919    2             CALL DDS$SD_SRCH(DD_S_CNODE$, TEMP$)

  11919  2 001206   200123 630500                    EPPR0   TEMP$,,AUTO
         2 001207   200441 450500                    STP0    FPT$DRTN+17,,AUTO
         2 001210   000032 236000 3                  LDQ     26
         2 001211   200440 756100                    STQ     FPT$DRTN+16,,AUTO
         2 001212   200440 630500                    EPPR0   FPT$DRTN+16,,AUTO
         2 001213   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 001214   000000 701000 xent               TSX1    DDS$SD_SRCH
         2 001215   001225 702000 2                  TSX2    s:11925

      380    11920    3             WHENRETURN DO;

      381    11921    3   NO_S_CNODE:    S_D.ERROR = E@NOS_CNODE; /* E@NOS_CNODE */

  11921  2 001216   001001 235007       NO_S_CNODE   LDA     513,DL
         2 001217   000000 470400 xsym               LDP0    S_D$
         2 001220   000013 755100                    STA     11,,PR0
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:60   

      382    11922    3                  CALL DDE$ERROR;

  11922  2 001221   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001222   000000 701000 xent               TSX1    DDE$ERROR
         2 001223   000000 011000                    NOP     0

      383    11923    3                  GOTO INTERNAL_KILL;

  11923  2 001224   001436 710000 2                  TRA     INTERNAL_KILL

      384    11924    3                END;
      385    11925    2             TEMP_ADR = TEMP$ -> B$SDEF.AD.ISADDR;

  11925  2 001225   200123 470500                    LDP0    TEMP$,,AUTO
         2 001226   000000 236100                    LDQ     0,,PR0
         2 001227   000032 376000 xsym               ANQ     B_VECTNIL+26
         2 001230   200125 756100                    STQ     TEMP_ADR,,AUTO

      386    11926    2             CALL DUL$GETMVAL(NWORD, TEMP_ADR, 0, 0, '0'B) ALTRET(NO_S_CNODE);

  11926  2 001231   000020 236000 3                  LDQ     16
         2 001232   200444 756100                    STQ     FPT$DRTN+20,,AUTO
         2 001233   000020 237000 3                  LDAQ    16
         2 001234   200442 757100                    STAQ    FPT$DRTN+18,,AUTO
         2 001235   200125 631500                    EPPR1   TEMP_ADR,,AUTO
         2 001236   200441 451500                    STP1    FPT$DRTN+17,,AUTO
         2 001237   200126 633500                    EPPR3   NWORD,,AUTO
         2 001240   200440 453500                    STP3    FPT$DRTN+16,,AUTO
         2 001241   200440 630500                    EPPR0   FPT$DRTN+16,,AUTO
         2 001242   000023 631400 xsym               EPPR1   B_VECTNIL+19
         2 001243   000000 701000 xent               TSX1    DUL$GETMVAL
         2 001244   001216 702000 2                  TSX2    NO_S_CNODE

      387    11927    2             S_D.NODE = NWORD;

  11927  2 001245   000000 470400 xsym               LDP0    S_D$
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:61   
         2 001246   200126 235100                    LDA     NWORD,,AUTO
         2 001247   004706 755100                    STA     2502,,PR0

      388    11928    2             IF S_D.NODE > S_D.NODE#M1

  11928  2 001250   004766 236100                    LDQ     2550,,PR0
         2 001251   004706 116100                    CMPQ    2502,,PR0
         2 001252   001262 603000 2                  TRC     s:11934

      389    11929    3             THEN DO;

      390    11930    3                  S_D.ERROR = E@BADNODE;   /* E@BADNODE */

  11930  2 001253   000170 235007                    LDA     120,DL
         2 001254   000013 755100                    STA     11,,PR0

      391    11931    3                  CALL DDE$ERROR;

  11931  2 001255   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001256   000000 701000 xent               TSX1    DDE$ERROR
         2 001257   000000 011000                    NOP     0

      392    11932    3                  S_D.NODE = 0;

  11932  2 001260   000000 470400 xsym               LDP0    S_D$
         2 001261   004706 450100                    STZ     2502,,PR0

      393    11933    3                END;

      394    11934    2             CALL DDS$EMTREE;

  11934  2 001262   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001263   000000 701000 xent               TSX1    DDS$EMTREE
         2 001264   000000 011000                    NOP     0

      395    11935    2             S_D.TREE$ = S_D.MTREE$;

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:62   
  11935  2 001265   000000 470400 xsym               LDP0    S_D$
         2 001266   004762 236100                    LDQ     2546,,PR0
         2 001267   004761 756100                    STQ     2545,,PR0

      396    11936    2             S_D.UNODE.USENODE = S_D.NODE;

  11936  2 001270   004706 235100                    LDA     2502,,PR0
         2 001271   004760 755100                    STA     2544,,PR0

      397    11937    2             I = S_D.B$TREE$ -> B$NODE.PADDR(S_D.NODE);

  11937  2 001272   004767 471500                    LDP1    2551,,PR0
         2 001273   004706 236100                    LDQ     2502,,PR0
         2 001274   000006 402007                    MPY     6,DL
         2 001275   100003 236106                    LDQ     3,QL,PR1
         2 001276   000022 772000                    QRL     18
         2 001277   200124 756100                    STQ     I,,AUTO

      398    11938    2             CALL DDS$ES_INQ(I);

  11938  2 001300   200124 633500                    EPPR3   I,,AUTO
         2 001301   200440 453500                    STP3    FPT$DRTN+16,,AUTO
         2 001302   200440 630500                    EPPR0   FPT$DRTN+16,,AUTO
         2 001303   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 001304   000000 701000 xent               TSX1    DDS$ES_INQ
         2 001305   000000 011000                    NOP     0

      399    11939    2             CALL DDS$SET_Q2C;

  11939  2 001306   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001307   000000 701000 xent               TSX1    DDS$SET_Q2C
         2 001310   000000 011000                    NOP     0

      400    11940    2           END;

      401    11941    1        IF S_D.STAND_ALONE AND

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:63   
  11941  2 001311   000000 470400 xsym               LDP0    S_D$
         2 001312   004624 234100                    SZN     2452,,PR0
         2 001313   001335 605000 2                  TPL     s:11953
         2 001314   004752 234100                    SZN     2538,,PR0
         2 001315   001335 604000 2                  TMI     s:11953
         2 001316   004625 234100                    SZN     2453,,PR0
         2 001317   001335 604000 2                  TMI     s:11953

      402    11942    1          NOT S_D.EOM AND
      403    11943    1          NOT S_D.BATCH
      404    11944    2        THEN DO;

      405    11945    2             CALL M$EOM (FPT_EOM) ALTRET(NOEOM);

  11945  2 001320   000000 630400 xsym               EPPR0   FPT_EOM
         2 001321   560003 713400                    CLIMB   alt,+57347
         2 001322   401000 401760                    pmme    nvectors=3
         2 001323   001330 702000 2                  TSX2    NOEOM

      406    11946    2             S_D.EOM = '1'B;

  11946  2 001324   400000 236003                    LDQ     -131072,DU
         2 001325   000000 470400 xsym               LDP0    S_D$
         2 001326   004752 756100                    STQ     2538,,PR0

      407    11947    3             DO WHILE ( '0'B );

  11947  2 001327   001335 710000 2                  TRA     s:11953

      408    11948    3   NOEOM:
      409    11949    3                  IF B$TCB$ -> B$TCB.ALT$ -> B$ALT.ERR.SEV ~= 0

  11949  2 001330   000000 470400 xsym  NOEOM        LDP0    B$TCB$
         2 001331   000000 471500                    LDP1    0,,PR0
         2 001332   100102 236100                    LDQ     66,,PR1
         2 001333   000007 316007                    CANQ    7,DL
         2 001334   001373 601000 2                  TNZ     BAD_SCH_FILE
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:64   

      410    11950    3                  THEN GOTO BAD_SCH_FILE;
      411    11951    3                END;

      412    11952    2           END;

      413    11953    1        RETURN;

  11953  2 001335   000000 702200 xent               TSX2  ! X66_ARET

  11949  2 001336                       NOT_PRIV     null
      414    11954    1   NOT_PRIV: ;                             /* Must have at lease sp mem */
      415    11955    1        S_D.ERROR = E@CANT_ANLZ;           /*E@CANT_ANLZ*/

  11955  2 001336   000162 235007                    LDA     114,DL
         2 001337   000000 470400 xsym               LDP0    S_D$
         2 001340   000013 755100                    STA     11,,PR0

      416    11956    1   ARET: ALTRETURN;

  11956  2 001341   000000 702200 xent  ARET         TSX2  ! X66_AALT

      417    11957    1   PMME_ALT:
      418    11958    1        CALL DUE$ERRMSG;

  11958  2 001342   000002 631400 xsym  PMME_ALT     EPPR1   B_VECTNIL+2
         2 001343   000000 701000 xent               TSX1    DUE$ERRMSG
         2 001344   000000 011000                    NOP     0

      419    11959    1        RETURN;

  11959  2 001345   000000 702200 xent               TSX2  ! X66_ARET

      420    11960    1   NO_MEM:
      421    11961    1        S_D.ERROR = E@ANLZ_NOMEM;          /* E@ANLZ_NOMEM */

  11961  2 001346   000225 235007       NO_MEM       LDA     149,DL
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:65   
         2 001347   000000 470400 xsym               LDP0    S_D$
         2 001350   000013 755100                    STA     11,,PR0

      422    11962    1        CALL DDE$ERROR;

  11962  2 001351   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001352   000000 701000 xent               TSX1    DDE$ERROR
         2 001353   000000 011000                    NOP     0

      423    11963    1        GOTO INTERNAL_KILL;

  11963  2 001354   001436 710000 2                  TRA     INTERNAL_KILL

      424    11964    1   NOHEAD:
      425    11965    1        S_D.ERROR = E@IGLRFID;             /* E@IGLRFID */

  11965  2 001355   000200 235007       NOHEAD       LDA     128,DL
         2 001356   000000 470400 xsym               LDP0    S_D$
         2 001357   000013 755100                    STA     11,,PR0

      426    11966    1        CALL DDE$ERROR;

  11966  2 001360   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001361   000000 701000 xent               TSX1    DDE$ERROR
         2 001362   000000 011000                    NOP     0

      427    11967    1        GOTO INTERNAL_KILL;

  11967  2 001363   001436 710000 2                  TRA     INTERNAL_KILL

      428    11968    1   NOROS:
      429    11969    1        S_D.ERROR = E@ACROS;               /* E@ACROS */

  11969  2 001364   001007 235007       NOROS        LDA     519,DL
         2 001365   000000 470400 xsym               LDP0    S_D$
         2 001366   000013 755100                    STA     11,,PR0

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:66   
      430    11970    1        CALL DDE$ERROR;

  11970  2 001367   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001370   000000 701000 xent               TSX1    DDE$ERROR
         2 001371   000000 011000                    NOP     0

      431    11971    1        GOTO INTERNAL_KILL;

  11971  2 001372   001436 710000 2                  TRA     INTERNAL_KILL

      432    11972    1   BAD_SCH_FILE:
      433    11973    1        CALL DUE$ERRMSG;

  11973  2 001373   000002 631400 xsym  BAD_SCH_FILE EPPR1   B_VECTNIL+2
         2 001374   000000 701000 xent               TSX1    DUE$ERRMSG
         2 001375   000000 011000                    NOP     0

      434    11974    1        GOTO INTERNAL_KILL;

  11974  2 001376   001436 710000 2                  TRA     INTERNAL_KILL

      435    11975    1   OPEN_ALT:
      436    11976    1        CALL DUE$ERRMSG;         /* Tell him why we couldn't get his file open*/

  11976  2 001377   000002 631400 xsym  OPEN_ALT     EPPR1   B_VECTNIL+2
         2 001400   000000 701000 xent               TSX1    DUE$ERRMSG
         2 001401   000000 011000                    NOP     0

      437    11977    1        FPT$RELDCB = FPT_RELDCB;

  11977  2 001402   000100 100400                    MLR     fill='000'O
         2 001403   000000 000020 xsym               ADSC9   FPT_RELDCB               cn=0,n=16
         2 001404   200366 000020                    ADSC9   FPT$RELDCB,,AUTO         cn=0,n=16

      438    11978    1        FPT$RELDCB.V_ = VECTOR(FPT$RELDCB.V);

  11978  2 001405   000002 235000 3                  LDA     2
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:67   
         2 001406   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 001407   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 001410   000370 036003                    ADLQ    248,DU
         2 001411   200366 757100                    STAQ    FPT$RELDCB,,AUTO

      439    11979    1        FPT$RELDCB.V.DCB# = S_D.ANLZDCB;

  11979  2 001412   000000 470400 xsym               LDP0    S_D$
         2 001413   005053 720100                    LXL0    2603,,PR0
         2 001414   200370 740100                    STX0    FPT$RELDCB+2,,AUTO

      440    11980    1        S_D.ANLZDCB = 0;

  11980  2 001415   005053 450100                    STZ     2603,,PR0

      441    11981    1        CALL M$RELDCB (FPT$RELDCB) ALTRET(PMME_ALT);

  11981  2 001416   200366 630500                    EPPR0   FPT$RELDCB,,AUTO
         2 001417   460003 713400                    CLIMB   alt,+24579
         2 001420   400000 401760                    pmme    nvectors=1
         2 001421   001342 702000 2                  TSX2    PMME_ALT

      442    11982    1        RETURN;

  11982  2 001422   000000 702200 xent               TSX2  ! X66_ARET

      443    11983        %EJECT;
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:68   
      444    11984        /*F* NAME: DUA$KILL_ANLZ
      445    11985             PURPOSE: TO RESET TO DELTA MODE, RELEASE ANLZ MEMORY AND DCBS */
      446    11986                                                /**/
      447    11987    1   DUA$KILL_ANLZ: ENTRY ALTRET;

  11987  2 001423   000000 700200 xent  DUA$KILL_AN* TSX0  ! X66_AUTO_0
         2 001424   000446 000000                    ZERO    294,0

      448    11988    2        IF NOT S_D.ANLZ THEN DO;

  11988  2 001425   000000 470400 xsym               LDP0    S_D$
         2 001426   004756 234100                    SZN     2542,,PR0
         2 001427   001436 604000 2                  TMI     INTERNAL_KILL

      449    11989    2             S_D.ERROR = E@DELBUG;         /*E@DELBUG*/

  11989  2 001430   000766 235007                    LDA     502,DL
         2 001431   000013 755100                    STA     11,,PR0

      450    11990    2             CALL DDE$ERROR;

  11990  2 001432   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001433   000000 701000 xent               TSX1    DDE$ERROR
         2 001434   000000 011000                    NOP     0

      451    11991    2             RETURN;

  11991  2 001435   000000 702200 xent               TSX2  ! X66_ARET

      452    11992    2           END;
      453    11993                                                /* Close and release schema dcb */
      454    11994    1   INTERNAL_KILL:
      455    11995    1        FPT$RELDCB = FPT_RELDCB;

  11995  2 001436   000100 100400       INTERNAL_KI* MLR     fill='000'O
         2 001437   000000 000020 xsym               ADSC9   FPT_RELDCB               cn=0,n=16
         2 001440   200366 000020                    ADSC9   FPT$RELDCB,,AUTO         cn=0,n=16
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:69   

      456    11996    1        FPT$RELDCB.V_ = VECTOR(FPT$RELDCB.V);

  11996  2 001441   000002 235000 3                  LDA     2
         2 001442   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 001443   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 001444   000370 036003                    ADLQ    248,DU
         2 001445   200366 757100                    STAQ    FPT$RELDCB,,AUTO

      457    11997    1        FPT$RELDCB.V.DCB# = S_D.LMDCB;

  11997  2 001446   000000 470400 xsym               LDP0    S_D$
         2 001447   004774 720100                    LXL0    2556,,PR0
         2 001450   200370 740100                    STX0    FPT$RELDCB+2,,AUTO

      458    11998    1        FPT$CLOSE = FPT_CLOSE;

  11998  2 001451   000100 100400                    MLR     fill='000'O
         2 001452   000000 000170 xsym               ADSC9   FPT_CLOSE                cn=0,n=120
         2 001453   200130 000170                    ADSC9   FPT$CLOSE,,AUTO          cn=0,n=120

      459    11999    1        FPT$CLOSE.V_ = VECTOR(FPT$CLOSE.V);

  11999  2 001454   000000 235000 3                  LDA     0
         2 001455   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 001456   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 001457   000162 036003                    ADLQ    114,DU
         2 001460   200130 757100                    STAQ    FPT$CLOSE,,AUTO

      460    12000    1        FPT$CLOSE.V.DCB# = S_D.LMDCB;

  12000  2 001461   200162 740100                    STX0    FPT$CLOSE+26,,AUTO

      461    12001    1        CALL M$CLOSE(FPT$CLOSE) ALTRET(IGNORE_IT);

  12001  2 001462   200130 630500                    EPPR0   FPT$CLOSE,,AUTO
         2 001463   450001 713400                    CLIMB   alt,close
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:70   
         2 001464   406000 401760                    pmme    nvectors=13
         2 001465   001466 702000 2                  TSX2    IGNORE_IT

      462    12002    1   IGNORE_IT: CALL M$RELDCB(FPT$RELDCB) ALTRET(IGNORE_IT_TOO);

  12002  2 001466   200366 630500       IGNORE_IT    EPPR0   FPT$RELDCB,,AUTO
         2 001467   460003 713400                    CLIMB   alt,+24579
         2 001470   400000 401760                    pmme    nvectors=1
         2 001471   001472 702000 2                  TSX2    IGNORE_IT_TOO

  12000  2 001472                       IGNORE_IT_T* null
      463    12003    1   IGNORE_IT_TOO: ;
      464    12004    1        S_D.SAVEIC = S_D.SAVEIC_SAVE;

  12004  2 001472   000000 470400 xsym               LDP0    S_D$
         2 001473   005051 235100                    LDA     2601,,PR0
         2 001474   000002 755100                    STA     2,,PR0

      465    12005    1        S_D.ONE_TO_TWO.EXEC_DOMAIN = S_D.EXEC_DOMAIN_SAVE;

  12005  2 001475   005325 235100                    LDA     2773,,PR0
         2 001476   006714 755100                    STA     3532,,PR0

      466    12006    1        S_D.LMDCB = S_D.LMDCB_SAVE;

  12006  2 001477   006743 235100                    LDA     3555,,PR0
         2 001500   004774 755100                    STA     2556,,PR0

      467    12007                                                /* setup original environment */
      468    12008    1        IF NOT S_D.DLIB

  12008  2 001501   005010 234100                    SZN     2568,,PR0
         2 001502   001521 604000 2                  TMI     s:12015

      469    12009    2        THEN DO;

      470    12010    2             FPT$DRTN = FPT_DRTN;
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:71   

  12010  2 001503   000100 100400                    MLR     fill='000'O
         2 001504   000266 000070 0                  ADSC9   FPT_DRTN                 cn=0,n=56
         2 001505   200420 000070                    ADSC9   FPT$DRTN,,AUTO           cn=0,n=56

      471    12011    2             FPT$DRTN.V_ = VECTOR(FPT$DRTN.V);

  12011  2 001506   000000 235000 3                  LDA     0
         2 001507   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 001510   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 001511   000432 036003                    ADLQ    282,DU
         2 001512   200424 757100                    STAQ    FPT$DRTN+4,,AUTO

      472    12012    2             FPT$DRTN.V.SPCLD# = '1'B;

  12012  2 001513   000200 236003                    LDQ     128,DU
         2 001514   200433 256100                    ORSQ    FPT$DRTN+11,,AUTO

      473    12013    2             CALL M$DRTN (FPT$DRTN) ALTRET(CALL_XXX);

  12013  2 001515   200420 630500                    EPPR0   FPT$DRTN,,AUTO
         2 001516   410017 713400                    CLIMB   alt,+4111
         2 001517   402000 401760                    pmme    nvectors=5
         2 001520   001661 702000 2                  TSX2    CALL_XXX

      474    12014    2           END;

      475    12015    1        S_D.USS$ = B$TCB$->B$TCB.STK$;

  12015  2 001521   000000 470400 xsym               LDP0    B$TCB$
         2 001522   000001 236100                    LDQ     1,,PR0
         2 001523   000000 471400 xsym               LDP1    S_D$
         2 001524   100005 756100                    STQ     5,,PR1

      476    12016    1        S_D.IND$ = PINCRW(S_D.USS$, 4);

  12016  2 001525   000004 036003                    ADLQ    4,DU
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:72   
         2 001526   100046 756100                    STQ     38,,PR1

      477    12017    1        S_D.UREG$->REGS = S_D.USS$->B$EXCFR.REGS;

  12017  2 001527   100045 473500                    LDP3    37,,PR1
         2 001530   100005 474500                    LDP4    5,,PR1
         2 001531   000100 100500                    MLR     fill='000'O
         2 001532   400050 000034                    ADSC9   40,,PR4                  cn=0,n=28
         2 001533   300000 000034                    ADSC9   0,,PR3                   cn=0,n=28

      478    12018    1        CALL KILL_ANLZ ALTRET(CALL_XXX);   /* To close and release dump file dcb */

  12018  2 001534   001667 701000 2                  TSX1    KILL_ANLZ
         2 001535   001661 702000 2                  TSX2    CALL_XXX

      479    12019    1        S_D.ANLZ = '0'B;

  12019  2 001536   000000 470400 xsym               LDP0    S_D$
         2 001537   004756 450100                    STZ     2542,,PR0

      480    12020    1        S_D.ANLZ_FILE = '0'B;

  12020  2 001540   005052 450100                    STZ     2602,,PR0

      481    12021                                                /* Release schema memory */
      482    12022    1        CALL DDM$PUTMEM(S_D_SEG$, POFFW(S_D.SCHSEG$, S_D.SCHSEG_BEGIN$));

  12022  2 001541   000043 236100                    LDQ     35,,PR0
         2 001542   000022 772000                    QRL     18
         2 001543   200440 756100                    STQ     FPT$DRTN+16,,AUTO
         2 001544   001034 236100                    LDQ     540,,PR0
         2 001545   000022 772000                    QRL     18
         2 001546   200440 136100                    SBLQ    FPT$DRTN+16,,AUTO
         2 001547   200441 756100                    STQ     FPT$DRTN+17,,AUTO
         2 001550   200441 631500                    EPPR1   FPT$DRTN+17,,AUTO
         2 001551   200443 451500                    STP1    FPT$DRTN+19,,AUTO
         2 001552   000006 236000 3                  LDQ     6
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:73   
         2 001553   200442 756100                    STQ     FPT$DRTN+18,,AUTO
         2 001554   200442 630500                    EPPR0   FPT$DRTN+18,,AUTO
         2 001555   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 001556   000000 701000 xent               TSX1    DDM$PUTMEM
         2 001557   000000 011000                    NOP     0

      483    12023    1        S_D.SCHSEG$ = S_D.SCHSEG_BEGIN$;

  12023  2 001560   000000 470400 xsym               LDP0    S_D$
         2 001561   000043 236100                    LDQ     35,,PR0
         2 001562   001034 756100                    STQ     540,,PR0

      484    12024    2        DO CASE(S_D.ONE_TO_TWO.EXEC_DOMAIN);

  12024  2 001563   006714 235100                    LDA     3532,,PR0
         2 001564   000003 115007                    CMPA    3,DL
         2 001565   001567 602005 2                  TNC     s:12024+4,AL
         2 001566   001602 710000 2                  TRA     s:12030
         2 001567   001602 710000 2                  TRA     s:12030
         2 001570   001572 710000 2                  TRA     s:12026
         2 001571   001576 710000 2                  TRA     s:12028

      485    12025    2          CASE(%HOST_RU);

      486    12026    2             CALL DUI$INIT_HOST;

  12026  2 001572   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001573   000000 701000 xent               TSX1    DUI$INIT_HOST
         2 001574   000000 011000                    NOP     0
         2 001575   001611 710000 2                  TRA     s:12034

      487    12027    2          CASE(%FEP_RU);

      488    12028    2             CALL DUI$INIT_L6;

  12028  2 001576   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001577   000000 701000 xent               TSX1    DUI$INIT_L6
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:74   
         2 001600   000000 011000                    NOP     0
         2 001601   001611 710000 2                  TRA     s:12034

      489    12029    2          CASE(ELSE);

      490    12030    2             S_D.ERROR = E@DELBUG;         /* E@DELBUG */

  12030  2 001602   000766 235007                    LDA     502,DL
         2 001603   000013 755100                    STA     11,,PR0

      491    12031    2             CALL DDE$ERROR;

  12031  2 001604   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001605   000000 701000 xent               TSX1    DDE$ERROR
         2 001606   000000 011000                    NOP     0

      492    12032    2             CALL M$XXX;

  12032  2 001607   000003 713400                    CLIMB   3
         2 001610   000000 401760                    pmme    nvectors=0

      493    12033    2          END;

      494    12034    1        CALL DDA$RESET_PATCH_SPACE;

  12034  2 001611   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001612   000000 701000 xent               TSX1    DDA$RESET_PATCH_SPACE
         2 001613   000000 011000                    NOP     0

      495    12035    1        S_D.FIRST_TIME = '1'B;

  12035  2 001614   400000 236003                    LDQ     -131072,DU
         2 001615   000000 470400 xsym               LDP0    S_D$
         2 001616   006725 756100                    STQ     3541,,PR0

      496    12036    1        CALL DUI$RU_ACCESS

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:75   
  12036  2 001617   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001620   000000 701000 xent               TSX1    DUI$RU_ACCESS
         2 001621   001623 702000 2                  TSX2    s:12038
         2 001622   001627 710000 2                  TRA     s:12041

      497    12037    2        WHENALTRETURN DO;

      498    12038    2             CALL DDE$ERROR;

  12038  2 001623   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001624   000000 701000 xent               TSX1    DDE$ERROR
         2 001625   000000 011000                    NOP     0

      499    12039    2             GOTO RET;

  12039  2 001626   001660 710000 2                  TRA     RET

      500    12040    2           END;
      501    12041    1        CALL DDS$ES_INQ( S_D.SAVEIC ) ALTRET(SKIP_IT);

  12041  2 001627   000000 236000 xsym               LDQ     S_D$
         2 001630   000002 036003                    ADLQ    2,DU
         2 001631   200440 756100                    STQ     FPT$DRTN+16,,AUTO
         2 001632   200440 630500                    EPPR0   FPT$DRTN+16,,AUTO
         2 001633   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 001634   000000 701000 xent               TSX1    DDS$ES_INQ
         2 001635   001641 702000 2                  TSX2    SKIP_IT

      502    12042    1        CALL DDS$SET_Q2C;

  12042  2 001636   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001637   000000 701000 xent               TSX1    DDS$SET_Q2C
         2 001640   000000 011000                    NOP     0

      503    12043    2   SKIP_IT: IF S_D.DO$ ~= ADDR(NIL) THEN DO;

  12043  2 001641   000000 470400 xsym  SKIP_IT      LDP0    S_D$
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:76   
         2 001642   000031 236100                    LDQ     25,,PR0
         2 001643   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 001644   001660 600000 2                  TZE     RET

      504    12044    2             IF S_D.DO$->ANLZ$CMD.CMD ~= C_RUM AND S_D.DO$->ANLZ$CMD.CMD ~= C_QUIT

  12044  2 001645   000031 471500                    LDP1    25,,PR0
         2 001646   100000 236100                    LDQ     0,,PR1
         2 001647   777000 376003                    ANQ     -512,DU
         2 001650   110000 116003                    CMPQ    36864,DU
         2 001651   001660 600000 2                  TZE     RET
         2 001652   047000 116003                    CMPQ    19968,DU
         2 001653   001660 600000 2                  TZE     RET

      505    12045    2             THEN CALL DDR$REPORT(R_DELTA);

  12045  2 001654   000033 630400 3                  EPPR0   27
         2 001655   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 001656   000000 701000 xent               TSX1    DDR$REPORT
         2 001657   000000 011000                    NOP     0

      506    12046    2           END;

      507    12047    1   RET:
      508    12048    1        RETURN;

  12048  2 001660   000000 702200 xent  RET          TSX2  ! X66_ARET

      509    12049    1   CALL_XXX: CALL DUE$ERRMSG;

  12049  2 001661   000002 631400 xsym  CALL_XXX     EPPR1   B_VECTNIL+2
         2 001662   000000 701000 xent               TSX1    DUE$ERRMSG
         2 001663   000000 011000                    NOP     0

      510    12050    1        CALL M$XXX;

  12050  2 001664   000003 713400                    CLIMB   3
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:77   
         2 001665   000000 401760                    pmme    nvectors=0
         2 001666   002031 710000 2                  TRA     ARET+2

      511    12051    1   KILL_ANLZ: PROC ALTRET;                 /* Release dcb and memory */

  12051  2 001667   200436 741300       KILL_ANLZ    STX1  ! FPT$DRTN+14,,AUTO

      512    12052    2        IF S_D.ANLZ

  12052  2 001670   000000 470400 xsym               LDP0    S_D$
         2 001671   004756 234100                    SZN     2542,,PR0
         2 001672   001735 605000 2                  TPL     s:12067

      513    12053    3        THEN DO;

      514    12054    3             FPT$RELDCB = FPT_RELDCB;

  12054  2 001673   000100 100400                    MLR     fill='000'O
         2 001674   000000 000020 xsym               ADSC9   FPT_RELDCB               cn=0,n=16
         2 001675   200366 000020                    ADSC9   FPT$RELDCB,,AUTO         cn=0,n=16

      515    12055    3             FPT$RELDCB.V_ = VECTOR(FPT$RELDCB.V);

  12055  2 001676   000002 235000 3                  LDA     2
         2 001677   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 001700   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 001701   000370 036003                    ADLQ    248,DU
         2 001702   200366 757100                    STAQ    FPT$RELDCB,,AUTO

      516    12056    3             FPT$RELDCB.V.DCB# = S_D.LMDCB;

  12056  2 001703   004774 720100                    LXL0    2556,,PR0
         2 001704   200370 740100                    STX0    FPT$RELDCB+2,,AUTO

      517    12057    3             FPT$CLOSE = FPT_CLOSE;

  12057  2 001705   000100 100400                    MLR     fill='000'O
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:78   
         2 001706   000000 000170 xsym               ADSC9   FPT_CLOSE                cn=0,n=120
         2 001707   200130 000170                    ADSC9   FPT$CLOSE,,AUTO          cn=0,n=120

      518    12058    3             FPT$CLOSE.V_ = VECTOR(FPT$CLOSE.V);

  12058  2 001710   000000 235000 3                  LDA     0
         2 001711   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 001712   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 001713   000162 036003                    ADLQ    114,DU
         2 001714   200130 757100                    STAQ    FPT$CLOSE,,AUTO

      519    12059    3             FPT$CLOSE.V.DCB# = S_D.LMDCB;

  12059  2 001715   200162 740100                    STX0    FPT$CLOSE+26,,AUTO

      520    12060    3             CALL M$CLOSE(FPT$CLOSE) ALTRET(IGNORE_IT);

  12060  2 001716   200130 630500                    EPPR0   FPT$CLOSE,,AUTO
         2 001717   450001 713400                    CLIMB   alt,close
         2 001720   406000 401760                    pmme    nvectors=13
         2 001721   001722 702000 2                  TSX2    IGNORE_IT

      521    12061    3   IGNORE_IT: CALL M$RELDCB(FPT$RELDCB) ALTRET(IGNORE_IT_TOO);

  12061  2 001722   200366 630500       IGNORE_IT    EPPR0   FPT$RELDCB,,AUTO
         2 001723   460003 713400                    CLIMB   alt,+24579
         2 001724   400000 401760                    pmme    nvectors=1
         2 001725   001726 702000 2                  TSX2    IGNORE_IT_TOO

  12059  2 001726                       IGNORE_IT_T* null
      522    12062    3   IGNORE_IT_TOO: ;
      523    12063    3             S_D.SAVEIC = S_D.SAVEIC_SAVE;

  12063  2 001726   000000 470400 xsym               LDP0    S_D$
         2 001727   005051 235100                    LDA     2601,,PR0
         2 001730   000002 755100                    STA     2,,PR0

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:79   
      524    12064    3             S_D.ONE_TO_TWO.EXEC_DOMAIN = S_D.EXEC_DOMAIN_SAVE;

  12064  2 001731   005325 235100                    LDA     2773,,PR0
         2 001732   006714 755100                    STA     3532,,PR0

      525    12065    3             S_D.LMDCB = S_D.LMDCB_SAVE;

  12065  2 001733   006743 235100                    LDA     3555,,PR0
         2 001734   004774 755100                    STA     2556,,PR0

      526    12066    3           END;

      527    12067    2        IF S_D.ANLZDCB = 0 THEN RETURN;
             12067                 /* Dcb = 0 means ANLZ_FILE stuff is already gone */

  12067  2 001735   005053 235100                    LDA     2603,,PR0
         2 001736   001741 601000 2                  TNZ     s:12068

  12067  2 001737   200436 221300                    LDX1  ! FPT$DRTN+14,,AUTO
         2 001740   000001 702211                    TSX2  ! 1,X1

      528    12068    2        FPT$CLOSE = FPT_CLOSE;

  12068  2 001741   000100 100400                    MLR     fill='000'O
         2 001742   000000 000170 xsym               ADSC9   FPT_CLOSE                cn=0,n=120
         2 001743   200130 000170                    ADSC9   FPT$CLOSE,,AUTO          cn=0,n=120

      529    12069    2        FPT$CLOSE.V_ = VECTOR(FPT$CLOSE.V);

  12069  2 001744   000000 235000 3                  LDA     0
         2 001745   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 001746   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 001747   000162 036003                    ADLQ    114,DU
         2 001750   200130 757100                    STAQ    FPT$CLOSE,,AUTO

      530    12070    2        FPT$CLOSE.V.DCB# = S_D.ANLZDCB;

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:80   
  12070  2 001751   005053 720100                    LXL0    2603,,PR0
         2 001752   200162 740100                    STX0    FPT$CLOSE+26,,AUTO

      531    12071    2        CALL M$CLOSE(FPT$CLOSE);

  12071  2 001753   200130 630500                    EPPR0   FPT$CLOSE,,AUTO
         2 001754   050001 713400                    CLIMB   close
         2 001755   406000 401760                    pmme    nvectors=13

      532    12072    2        FPT$RELDCB = FPT_RELDCB;

  12072  2 001756   000100 100400                    MLR     fill='000'O
         2 001757   000000 000020 xsym               ADSC9   FPT_RELDCB               cn=0,n=16
         2 001760   200366 000020                    ADSC9   FPT$RELDCB,,AUTO         cn=0,n=16

      533    12073    2        FPT$RELDCB.V_ = VECTOR(FPT$RELDCB.V);

  12073  2 001761   000002 235000 3                  LDA     2
         2 001762   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 001763   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 001764   000370 036003                    ADLQ    248,DU
         2 001765   200366 757100                    STAQ    FPT$RELDCB,,AUTO

      534    12074    2        FPT$RELDCB.V.DCB# = S_D.ANLZDCB;

  12074  2 001766   000000 470400 xsym               LDP0    S_D$
         2 001767   005053 720100                    LXL0    2603,,PR0
         2 001770   200370 740100                    STX0    FPT$RELDCB+2,,AUTO

      535    12075    2        S_D.ANLZDCB = 0;

  12075  2 001771   005053 450100                    STZ     2603,,PR0

      536    12076    2        S_D.ANLZ_FILE = '0'B;

  12076  2 001772   005052 450100                    STZ     2602,,PR0

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:81   
      537    12077    2        CALL M$RELDCB (FPT$RELDCB) ALTRET(ARET);

  12077  2 001773   200366 630500                    EPPR0   FPT$RELDCB,,AUTO
         2 001774   460003 713400                    CLIMB   alt,+24579
         2 001775   400000 401760                    pmme    nvectors=1
         2 001776   002027 702000 2                  TSX2    ARET

      538    12078    2        CALL DDM$PUTMEM(DD_ANLZSEG$, POFFW(DA.ANLZSEGEND$, DD_ANLZSEG$));

  12078  2 001777   000000 235000 xsym               LDA     DD_ANLZSEG$
         2 002000   000022 771000                    ARL     18
         2 002001   200440 755100                    STA     FPT$DRTN+16,,AUTO
         2 002002   000000 470400 xsym               LDP0    DD_ANLZSEG$
         2 002003   000014 236100                    LDQ     12,,PR0
         2 002004   000022 772000                    QRL     18
         2 002005   200440 136100                    SBLQ    FPT$DRTN+16,,AUTO
         2 002006   200441 756100                    STQ     FPT$DRTN+17,,AUTO
         2 002007   200441 631500                    EPPR1   FPT$DRTN+17,,AUTO
         2 002010   200443 451500                    STP1    FPT$DRTN+19,,AUTO
         2 002011   000014 236000 3                  LDQ     12
         2 002012   200442 756100                    STQ     FPT$DRTN+18,,AUTO
         2 002013   200442 630500                    EPPR0   FPT$DRTN+18,,AUTO
         2 002014   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 002015   000000 701000 xent               TSX1    DDM$PUTMEM
         2 002016   000000 011000                    NOP     0

      539    12079    2        S_D.B$ROS$ = B$ROS$;

  12079  2 002017   000000 236000 xsym               LDQ     B$ROS$
         2 002020   000000 470400 xsym               LDP0    S_D$
         2 002021   004775 756100                    STQ     2557,,PR0

      540    12080    2        S_D.NODESEG$ = DD_RUMNODE$;

  12080  2 002022   000000 236000 xsym               LDQ     DD_RUMNODE$
         2 002023   005003 756100                    STQ     2563,,PR0

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:82   
      541    12081    2        S_D.NODESEG_USED$ = DD_RUMNODE$;

  12081  2 002024   004771 756100                    STQ     2553,,PR0

      542    12082    2        RETURN;

  12082  2 002025   200436 221300                    LDX1  ! FPT$DRTN+14,,AUTO
         2 002026   000001 702211                    TSX2  ! 1,X1

      543    12083    2   ARET: ALTRETURN;

  12083  2 002027   200436 221300       ARET         LDX1  ! FPT$DRTN+14,,AUTO
         2 002030   000000 702211                    TSX2  ! 0,X1
         2 002031   002034 710000 2                  TRA     s:12091

      544    12084    2   END KILL_ANLZ;
      545    12085        %EJECT;
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:83   
      546    12086        /*F* NAME: DUA$SHOW_ANLZ
      547    12087             PURPOSE: To display the name of the RU being anlzed, or
      548    12088                  state that the running monitor is being anlzed.
      549    12089                       */
      550    12090    1   DUA$SHOW_ANLZ: ENTRY ALTRET;

  12090  2 002032   000000 700200 xent  DUA$SHOW_AN* TSX0  ! X66_AUTO_0
         2 002033   000446 000000                    ZERO    294,0

      551    12091    1        IF S_D.ANLZ_FILE

  12091  2 002034   000000 470400 xsym               LDP0    S_D$
         2 002035   005052 234100                    SZN     2602,,PR0
         2 002036   002115 605000 2                  TPL     s:12109

      552    12092    2        THEN DO;

      553    12093    2             FPT$UNFID = FPT_UNFID;

  12093  2 002037   000100 100400                    MLR     fill='000'O
         2 002040   000200 000130 0                  ADSC9   FPT_UNFID                cn=0,n=88
         2 002041   200372 000130                    ADSC9   FPT$UNFID,,AUTO          cn=0,n=88

      554    12094    2             FPT$UNFID.V_ = VECTOR(FPT$UNFID.V);

  12094  2 002042   000002 235000 3                  LDA     2
         2 002043   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 002044   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 002045   000416 036003                    ADLQ    270,DU
         2 002046   200372 757100                    STAQ    FPT$UNFID,,AUTO

      555    12095    2             FPT$UNFID.V.DCB# = S_D.ANLZDCB;

  12095  2 002047   005053 720100                    LXL0    2603,,PR0
         2 002050   200416 740100                    STX0    FPT$UNFID+20,,AUTO

      556    12096    2             FPT$UNFID.TEXTFID_ = VECTOR(OUTBUF);
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:84   

  12096  2 002051   000034 235000 3                  LDA     28
         2 002052   200440 452500                    STP2    FPT$DRTN+16,,AUTO
         2 002053   200440 236100                    LDQ     FPT$DRTN+16,,AUTO
         2 002054   000003 036003                    ADLQ    3,DU
         2 002055   200374 757100                    STAQ    FPT$UNFID+2,,AUTO

      557    12097    2             CALL M$UNFID (FPT$UNFID) ALTRET(PMME_ALT);

  12097  2 002056   200372 630500                    EPPR0   FPT$UNFID,,AUTO
         2 002057   420021 713400                    CLIMB   alt,+8209
         2 002060   404400 401760                    pmme    nvectors=10
         2 002061   001342 702000 2                  TSX2    PMME_ALT

      558    12098    2             CALL INDEX(SIZE, ' ', OUTBUF);

  12098  2 002062   000000 124500                    SCM     mask='000'O
         2 002063   200003 000400                    ADSC9   OUTBUF,,AUTO             cn=0,n=256
         2 002064   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         2 002065   200103 000100                    ARG     SIZE,,AUTO

      559    12099    3             IF NOT S_D.SIM_UPDATE THEN DO;

  12099  2 002066   000000 470400 xsym               LDP0    S_D$
         2 002067   006766 234100                    SZN     3574,,PR0
         2 002070   002103 604000 2                  TMI     s:12104

      560    12100    3                  SIZE = LENGTHC('ANLZing ') + SIZE;

  12100  2 002071   200103 235100                    LDA     SIZE,,AUTO
         2 002072   000010 035007                    ADLA    8,DL
         2 002073   200103 755100                    STA     SIZE,,AUTO

      561    12101    3                  CALL CONCAT(S_D.OUTPUT, 'ANLZing ', OUTBUF);

  12101  2 002074   000314 237000 0                  LDAQ    FPT_DRTN+22
         2 002075   005335 755100                    STA     2781,,PR0
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:85   
         2 002076   005336 756100                    STQ     2782,,PR0
         2 002077   040100 100500                    MLR     fill='040'O
         2 002100   200003 000400                    ADSC9   OUTBUF,,AUTO             cn=0,n=256
         2 002101   005337 003770                    ADSC9   2783,,PR0                cn=0,n=2040

      562    12102    3                END;

  12102  2 002102   002132 710000 2                  TRA     s:12118

      563    12103    3             ELSE DO;

      564    12104    3                  SIZE = LENGTHC('ANLZ ') + SIZE;

  12104  2 002103   200103 235100                    LDA     SIZE,,AUTO
         2 002104   000005 035007                    ADLA    5,DL
         2 002105   200103 755100                    STA     SIZE,,AUTO

      565    12105    3                  CALL CONCAT (S_D.OUTPUT, 'ANLZ ', OUTBUF);

  12105  2 002106   040100 100400                    MLR     fill='040'O
         2 002107   000316 000005 0                  ADSC9   FPT_DRTN+24              cn=0,n=5
         2 002110   005335 000005                    ADSC9   2781,,PR0                cn=0,n=5
         2 002111   040100 100500                    MLR     fill='040'O
         2 002112   200003 000400                    ADSC9   OUTBUF,,AUTO             cn=0,n=256
         2 002113   005336 203773                    ADSC9   2782,,PR0                cn=1,n=2043

      566    12106    3                END;

      567    12107    2           END;

  12107  2 002114   002132 710000 2                  TRA     s:12118

      568    12108    2        ELSE DO;

      569    12109    3             IF NOT S_D.SIM_UPDATE THEN DO;

  12109  2 002115   006766 234100                    SZN     3574,,PR0
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:86   
         2 002116   002125 604000 2                  TMI     s:12114

      570    12110    3                  S_D.OUTPUT = 'ANLZing running monitor';

  12110  2 002117   040100 100400                    MLR     fill='040'O
         2 002120   000320 000027 0                  ADSC9   FPT_DRTN+26              cn=0,n=23
         2 002121   005335 004000                    ADSC9   2781,,PR0                cn=0,n=2048

      571    12111    3                  SIZE = LENGTHC('ANLZing running monitor');

  12111  2 002122   000027 235007                    LDA     23,DL
         2 002123   200103 755100                    STA     SIZE,,AUTO

      572    12112    3                END;

  12112  2 002124   002132 710000 2                  TRA     s:12118

      573    12113    3             ELSE DO;

      574    12114    3                  S_D.OUTPUT = 'ANLZ';

  12114  2 002125   040100 100400                    MLR     fill='040'O
         2 002126   000314 000004 0                  ADSC9   FPT_DRTN+22              cn=0,n=4
         2 002127   005335 004000                    ADSC9   2781,,PR0                cn=0,n=2048

      575    12115    3                  SIZE = 4;

  12115  2 002130   000004 235007                    LDA     4,DL
         2 002131   200103 755100                    STA     SIZE,,AUTO

      576    12116    3                END;

      577    12117    2           END;

      578    12118    1        CALL DDQ$WRITED(ADDR(S_D.OUTPUT), SIZE);

  12118  2 002132   000000 236000 xsym               LDQ     S_D$
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:87   
         2 002133   005335 036003                    ADLQ    2781,DU
         2 002134   200440 756100                    STQ     FPT$DRTN+16,,AUTO
         2 002135   200103 630500                    EPPR0   SIZE,,AUTO
         2 002136   200443 450500                    STP0    FPT$DRTN+19,,AUTO
         2 002137   200440 631500                    EPPR1   FPT$DRTN+16,,AUTO
         2 002140   200442 451500                    STP1    FPT$DRTN+18,,AUTO
         2 002141   200442 630500                    EPPR0   FPT$DRTN+18,,AUTO
         2 002142   000020 631400 xsym               EPPR1   B_VECTNIL+16
         2 002143   000000 701000 xent               TSX1    DDQ$WRITED
         2 002144   000000 011000                    NOP     0

      579    12119    1        RETURN;

  12119  2 002145   000000 702200 xent               TSX2  ! X66_ARET

DD_AXOU
 Sect OctLoc
   0     000   011102 137104   105114 124101   137104 ******                    .B_DELTA_D..

DD_AXOU$
 Sect OctLoc
   0     003   000000 006000                                                    ....

DD_S_CNODE
 Sect OctLoc
   0     004   007123 137103   116117 104105                                    .S_CNODE

DD_S_CNODE$
 Sect OctLoc
   0     006   000004 006000                                                    ....

FPT_PRIV
 Sect OctLoc
   0     010   000001 777640   000012 006000   000000 000001   400000 000000    ................

FPT_OPEN
 Sect OctLoc
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:88   
   0     014   000025 777640   000060 006000   000000 177640   000000 006014    .....0..........
   0     020   000000 177640   000000 006014   000000 177640   000000 006014    ................
   0     060*  000000 400042   000000 002001   252525 000000   000040 252520    ..."......... ..
   0     064   000040 040040   000000 000000   000000 777777   000000 000000    .   ............
   0     070   000000 000000   000000 000000   000000 000000   000000 000000    ................
   0     074   251000 622000   000000 000000   000000 000000   111250 000000    ............I...
   0     100   040040 040040   000000 000000   000000 000000   000000 000000        ............
   0     104   000000 000000   ****** ******                                    ........

FPT_OPENSCHEMA
 Sect OctLoc
   0     106   000025 777640   000152 006000   000000 177640   000000 006014    .....j..........
   0     112   000000 177640   000000 006014   000001 377640   000226 006000    ................
   0     116   000000 177640   000000 006014   000000 177640   000000 006014    ................
   0     132*  000001 777640   000230 006000   000000 177640   000000 006014    ................
   0     136   000000 177640   000000 006014   000000 177640   000000 006014    ................
   0     152*  000000 400042   000000 002001   252525 000000   000040 252520    ..."......... ..
   0     156   000040 040040   000000 000000   000000 777777   000000 000000    .   ............
   0     162   000000 000000   000000 000000   000000 000000   000000 000000    ................
   0     166   251000 622000   000000 000000   000000 000000   111250 000000    ............I...
   0     172   040040 040040   000000 000000   000000 000000   000000 000000        ............
   0     176   000000 000000   ****** ******                                    ........

FPT_UNFID
 Sect OctLoc
   0     200   000001 777640   000224 006000   000000 177640   000000 006014    ................
   0     204   000000 177640   000000 006014   000000 177640   000000 006014    ................
   0     224*  000000 000000   0***** ******                                    ........

VLP_MONNAME
 Sect OctLoc
   0     226   005115 072115   117116 ******                                    .M:MON..

VLP_SYSACCT
 Sect OctLoc
   0     230   072123 131123   040040 040040                                    :SYS

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:89   
VLP_SN
 Sect OctLoc
   0     232   000000 000001   040040 040040   040040 ******                    ....      ..

SAD1
 Sect OctLoc
   0     236   000001 777640   000240 006000   006021 006014   ****** ******    ................

SAD2
 Sect OctLoc
   0     242   000001 777640   000244 006000   006022 006132   ****** ******    ...........Z....

SAD3
 Sect OctLoc
   0     246   000001 777640   000250 006000   006023 006014   ****** ******    ................

SAD4
 Sect OctLoc
   0     252   000001 777640   000254 006000   006024 006014   ****** ******    ................

SAD5
 Sect OctLoc
   0     256   000001 777640   000260 006000   006026 006014   ****** ******    ................

SAD6
 Sect OctLoc
   0     262   000001 777640   000264 006000   006027 006133   ****** ******    ...........[....

FPT_DRTN
 Sect OctLoc
   0     266   000000 177640   000000 006014   000000 177640   000000 006014    ................
   0     272   000003 777640   000300 006000   000000 177640   000000 006014    ................
   0     276   000000 177640   000000 006014   000000 000000   000000 000000    ................
   0     302   000000 000000   000000 000000                                    ........

(unnamed)
 Sect OctLoc
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:90   
   0     304   115072 115117   116040 040040   040040 040040   040040 040040    M:MON
   0     310   040040 040040   040040 040040   040040 040040   040040 040040
   0     314   101116 114132   151156 147040   101116 114132   040040 040040    ANLZing ANLZ
   0     320   101116 114132   151156 147040   162165 156156   151156 147040    ANLZing running
   0     324   155157 156151   164157 162040                                    monitor

(unnamed)
 Sect OctLoc
   3     000   000003 777640   000020 177640   000001 777640   000273 600000    ................
   3     004   000011 777640   000025 777640   000000 006000   000002 200000    ................
   3     010   000007 777640   000022 200000   000000 006003   000000 002000    ................
   3     014   000000 006000   000013 006000   000000 000240   000016 006000    ................
   3     020   000002 006000   000002 006000   000002 006000   000002 006000    ................
   3     024   000003 777777   000000 000036   000025 006000   000000 000023    ................
   3     030   000027 006000   000003 006000   000006 006000   000015 006000    ................
   3     034   000077 777640                                                    .?..
      580    12120    1   END DUA$ANLZ;

PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:91   
--  Include file information  --

   B$JIT.:E05TOU  cannot be made into a system file and is referenced.
   DD$DA.:E05TOU  cannot be made into a system file and is referenced.
   NI$TABLES.:E05TOU  is referenced.
   IR_DATA_M.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B_SEGIDS_C.:E05TOU  is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD_ERR_C.:E05TOU  is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
   B$ROSEG.:E05TOU  cannot be made into a system file and is referenced.
   DD$BASED.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure DUA$ANLZ.

   Procedure DUA$ANLZ requires 1126 words for executable code.
   Procedure DUA$ANLZ requires 294 words of local(AUTO) storage.

    No errors detected in file DUA$ANLZ.:E05TSI    .
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:92   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:93   
          MINI XREF LISTING

ANLZ$CMD.CMD
      1357**DCL     12044>>IF      12044>>IF
ANLZ$CMD.FID
      1368**DCL      1371--REDEF   11758--ASSIGN  11758--ASSIGN
ANLZ$CMD.FIDSCH
      1374**DCL     11798--ASSIGN  11798--ASSIGN
ANLZ$CMD.FILE
      1360**DCL     11747>>IF
ANLZ$CMD.FILESCH
      1361**DCL     11796>>IF
ANLZ$CMD.RUNNING
      1362**DCL     11728>>IF
ARET
     11956**LABEL   11766--CALLALT
ARET IN PROCEDURE KILL_ANLZ
     12083**LABEL   12077--CALLALT
ARS
        36**DCL     11828<<ASSIGN  11829<>CALL    11830>>IF      11860<<ASSIGN  11863<>CALL    11865>>ASSIGN
     11866>>ASSIGN
B$ALT.CODE
     10468**DCL     10468--REDEF   10469--REDEF   10469--REDEF
B$ALT.ERR.ERR#
     10470**DCL     10470--REDEF
B$ALT.ERR.SEV
     10470**DCL     11949>>IF
B$ALT.EVID
     10469**DCL     10469--REDEF   10469--REDEF
B$EDEF
      4878**DCL     11913--CALL
B$EDEF.OU
      4895**DCL      4901--REDEF
B$EXCFR.ASL
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:94   
     10475**DCL     10475--REDEF
B$EXCFR.ERR.ERR#
     10489**DCL     10489--REDEF
B$EXCFR.EVID
     10488**DCL     10488--REDEF   10489--REDEF
B$EXCFR.IR
     10476**DCL     10476--REDEF
B$EXCFR.PREVSZ
     10475**DCL     10475--REDEF
B$EXCFR.REGS
     10486**DCL     11770>>ASSIGN  12017>>ASSIGN
B$EXCFR.SUBC
     10487**DCL     10487--REDEF   10488--REDEF   10488--REDEF
B$HEAD
      5002**DCL     11829--CALL    11830--IF      11832--ASSIGN  11835--ASSIGN
B$HEAD.BIAS
      5166**DCL     11847>>ASSIGN
B$HEAD.DCBRES
      5053**DCL     11870>>ASSIGN
B$HEAD.OVRL
      5141**DCL     11883>>IF
B$HEAD.PRECSIZE
      5064**DCL     11864>>ASSIGN
B$HEAD.ROSIZE
      5080**DCL     11833>>ASSIGN
B$HEAD.TREEDISP
      5056**DCL     11882>>ASSIGN
B$HEAD.UDCBNUM
      5050**DCL     11869>>ASSIGN
B$JIT.CPFLAGS1.SLEAZE
     10600**DCL     10600--REDEF
B$JIT.ERR.MID
     10507**DCL     10507--REDEF
B$JIT.JRESPEAK
     10668**DCL     10669--REDEF
B$JIT.ORIGINATOR_PORT.FROM_CR
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:95   
     10777**DCL     10777--REDEF   10778--REDEF
B$JIT.PNR
     10681**DCL     10681--REDEF
B$JIT.TSLINE
     10775**DCL     10776--REDEF
B$JIT$
     11685**DCL     10501--IMP-PTR
B$NODE
      5224**DCL     11891--ASSIGN
B$NODE.FLGS.NOW_IN
      5230**DCL     11887<<ASSIGN
B$NODE.NAME$
      5226**DCL     11890<<ASSIGN
B$NODE.PADDR
      5254**DCL     11888>>ASSIGN  11937>>ASSIGN
B$ROS$
     11684**DCL     12079>>ASSIGN
B$ROSEG
      1393**DCL     11834--ASSIGN  11851--ASSIGN
B$ROSEG.DCBPTR$
      1394**DCL     11852<<ASSIGN
B$ROSEG.NUMDCBS
      1396**DCL     11871<<ASSIGN
B$ROSEG.TREE$
      1395**DCL     11884<<ASSIGN  11885<<ASSIGN
B$SDEF.AD.ISADDR
      4974**DCL     11925>>ASSIGN
B$SDEF.AD.OU
      4968**DCL      4974--REDEF
B$SDEF.VALUE
      4949**DCL      4952--REDEF
B$TCB.ALT$
     10464**DCL     11949>>IF
B$TCB.STK$
     10464**DCL     12015>>ASSIGN
B$TCB$
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:96   
     11682**DCL     11949>>IF      12015>>ASSIGN
B$TREEHDR
      5208**DCL     11886--ASSIGN
B$TREEHDR.NODES
      5210**DCL     11889>>DOINDEX
BAD_SCH_FILE
     11973**LABEL   11800--CALLALT 11811--CALLALT 11950--GOTO
CALL_XXX
     12049**LABEL   11743--CALLALT 11787--CALLALT 12013--CALLALT 12018--CALLALT
DA.ANLZSEGEND$
     10365**DCL     11825>>ASSIGN  11826>>ASSIGN  11827<<ASSIGN  11827>>ASSIGN  11841<<ASSIGN  11841>>ASSIGN
     12078>>CALL
DA.RVBUFF$
     10362**DCL     11768>>ASSIGN
DCB$
        41**DCL     11818<<ASSIGN  11820>>IF
DCB$PTR$
        44**DCL     11854<<ASSIGN  11855--ASSIGN  11874<<ASSIGN  11875--ASSIGN  11878<<ASSIGN
DCBPTR$
        42**DCL     11851<<ASSIGN  11852>>ASSIGN  11854>>ASSIGN  11855<<ASSIGN  11855>>ASSIGN  11861>>ASSIGN
     11872>>ASSIGN  11874>>ASSIGN  11874>>ASSIGN  11875<<ASSIGN  11875>>ASSIGN  11878>>ASSIGN  11879<<ASSIGN
     11879>>ASSIGN  11879--ASSIGN
DCBRES
        45**DCL     11870<<ASSIGN  11871>>ASSIGN  11877>>DOINDEX
DDA$RESET_PATCH_SPACE
     11708**DCL-ENT 11898--CALL    12034--CALL
DDE$ERROR
     11706**DCL-ENT 11902--CALL    11922--CALL    11931--CALL    11962--CALL    11966--CALL    11970--CALL
     11990--CALL    12031--CALL    12038--CALL
DDM$GETMEM
     11699**DCL-ENT 11824--CALL    11839--CALL
DDM$PUTMEM
     11705**DCL-ENT 11735--CALL    11896--CALL    12022--CALL    12078--CALL
DDQ$READLM
     11700**DCL-ENT 11829--CALL    11863--CALL
DDQ$WRITED
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:97   
     11690**DCL-ENT 12118--CALL
DDR$REPORT
     11703**DCL-ENT 11906--CALL    12045--CALL
DDS$EMTREE
     11697**DCL-ENT 11934--CALL
DDS$EQCS#
     11687**DCL-ENT 11913--CALL
DDS$ES_INQ
     11701**DCL-ENT 11938--CALL    12041--CALL
DDS$PD_SRCH
     11688**DCL-ENT 11910--CALL
DDS$SD_SRCH
     11696**DCL-ENT 11919--CALL
DDS$SET_Q2C
     11702**DCL-ENT 11939--CALL    12042--CALL
DDS$SET_Q2X
     11689**DCL-ENT 11914--CALL
DD_ANLZSEG$
     10353**DCL     10354--IMP-PTR 11768>>ASSIGN  11824<>CALL    11825>>ASSIGN  11826>>ASSIGN  11827>>ASSIGN
     11827>>ASSIGN  11839<>CALL    11841>>ASSIGN  11841>>ASSIGN  12078<>CALL    12078>>CALL    12078>>CALL
DD_AXOU
      5293**DCL      5296--DCLINIT 11909>>ASSIGN
DD_AXOU.TEXT
      5295**DCL      5294--DCLINIT
DD_AXOU$
      5296**DCL     11910<>CALL
DD_RUMNODE$
     11683**DCL     12080>>ASSIGN  12081>>ASSIGN
DD_S_CNODE
      5297**DCL      5303--DCLINIT
DD_S_CNODE.TEXT
      5299**DCL      5298--DCLINIT
DD_S_CNODE$
      5303**DCL     11919<>CALL
DFA$KILL_FPRG
     11707**DCL-ENT 11742--CALL
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:98   
DUA$KILL_RUM
     11691**DCL-ENT 11741--CALL
DUE$ERRMSG
     11692**DCL-ENT 11958--CALL    11973--CALL    11976--CALL    12049--CALL
DUI$INIT_HOST
     11693**DCL-ENT 12026--CALL
DUI$INIT_L6
     11694**DCL-ENT 12028--CALL
DUI$RU_ACCESS
     11695**DCL-ENT 11900--CALL    12036--CALL
DUL$GETMVAL
     11698**DCL-ENT 11926--CALL
DUL$INIT
     11704**DCL-ENT 11766--CALL
D_M$LM#
     11681**DCL     11788>>IF
F$DCB.ACTPOS
      9942**DCL      9942--REDEF
F$DCB.ARS#
      9916**DCL      9916--REDEF
F$DCB.ATTR
      9935**DCL      9936--REDEF
F$DCB.BORROW
      9950**DCL      9950--REDEF    9950--REDEF    9950--REDEF
F$DCB.DCBNAME.L
      9964**DCL      9964--IMP-SIZ
F$DCB.EOMCHAR#
      9920**DCL      9920--REDEF
F$DCB.FLDID
      9945**DCL      9945--REDEF
F$DCB.FORM$
      9939**DCL      9939--REDEF
F$DCB.FSECT
      9955**DCL      9955--REDEF
F$DCB.FSN#
      9932**DCL      9932--REDEF    9932--REDEF    9933--REDEF
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:99   
F$DCB.HEADER$
      9938**DCL      9938--REDEF
F$DCB.IXTNSIZE#
      9936**DCL      9936--REDEF
F$DCB.LASTSTA$
      9925**DCL      9925--REDEF
F$DCB.LVL
      9951**DCL      9951--REDEF
F$DCB.NAME#.C
      9926**DCL      9926--REDEF   11820>>IF
F$DCB.NOEOF
      9948**DCL      9948--REDEF
F$DCB.NRECS#
      9937**DCL      9937--REDEF
F$DCB.NRECX
      9956**DCL      9956--REDEF
F$DCB.OHDR
      9948**DCL      9948--REDEF
F$DCB.ORG#
      9931**DCL      9931--REDEF
F$DCB.PRECNO
      9954**DCL      9954--REDEF
F$DCB.RCSZ
      9960**DCL      9960--REDEF
F$DCB.RES#
      9927**DCL      9927--REDEF
F$DCB.SETX
      9939**DCL      9939--REDEF
F$DCB.TAB$
      9939**DCL      9939--REDEF
F$DCB.TDA
      9953**DCL      9954--REDEF
F$DCB.WSN#
      9927**DCL      9927--REDEF
FPT$CLOSE
     10821**DCL     11998<<ASSIGN  12001<>CALL    12057<<ASSIGN  12060<>CALL    12068<<ASSIGN  12071<>CALL
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:100  
FPT$CLOSE.SN_
     10821**DCL     10821--REDEF
FPT$CLOSE.UTL_
     10822**DCL     10822--REDEF
FPT$CLOSE.V
     10826**DCL     11999--ASSIGN  12058--ASSIGN  12069--ASSIGN
FPT$CLOSE.V.DCB#
     10827**DCL     12000<<ASSIGN  12059<<ASSIGN  12070<<ASSIGN
FPT$CLOSE.V.EXPIRE#
     10836**DCL     10836--REDEF
FPT$CLOSE.V.TYPE#
     10834**DCL     10834--REDEF
FPT$CLOSE.V.XTNSIZE#
     10831**DCL     10831--REDEF   10833--REDEF
FPT$CLOSE.V_
     10821**DCL     11999<<ASSIGN  12058<<ASSIGN  12069<<ASSIGN
FPT$DRTN
     11638**DCL     11783<<ASSIGN  11787<>CALL    12010<<ASSIGN  12013<>CALL
FPT$DRTN.REGS_
     11638**DCL     11785<<ASSIGN
FPT$DRTN.V
     11640**DCL     11784--ASSIGN  12011--ASSIGN
FPT$DRTN.V.IR#
     11640**DCL     11640--REDEF
FPT$DRTN.V.MRGSS#
     11645**DCL     11786<<ASSIGN
FPT$DRTN.V.SPCLD#
     11646**DCL     12012<<ASSIGN
FPT$DRTN.V_
     11638**DCL     11784<<ASSIGN  12011<<ASSIGN
FPT$FID
     10851**DCL     11710<<ASSIGN  11761<>CALL    11800<>CALL
FPT$FID.ACCT_
     10852**DCL     11714<<ASSIGN
FPT$FID.ASN_
     10854**DCL     11719<<ASSIGN
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:101  
FPT$FID.NAME_
     10852**DCL     11713<<ASSIGN
FPT$FID.PASS_
     10852**DCL     11715<<ASSIGN
FPT$FID.RESULTS_
     10854**DCL     11721<<ASSIGN
FPT$FID.RES_
     10854**DCL     11720<<ASSIGN
FPT$FID.SN_
     10853**DCL     11718<<ASSIGN
FPT$FID.TEXTFID_
     10851**DCL     11758<<ASSIGN  11798<<ASSIGN
FPT$FID.V
     10855**DCL     11712--ASSIGN
FPT$FID.V_
     10851**DCL     11712<<ASSIGN
FPT$FID.WSN_
     10853**DCL     11716<<ASSIGN
FPT$GETDCB
     10874**DCL     11751<<ASSIGN  11754<>CALL    11792<<ASSIGN  11795<>CALL
FPT$GETDCB.DCBNUM_
     10874**DCL     11753<<ASSIGN  11794<<ASSIGN
FPT$GETDCB.V
     10875**DCL     11752--ASSIGN  11793--ASSIGN
FPT$GETDCB.V_
     10874**DCL     11752<<ASSIGN  11793<<ASSIGN
FPT$OPEN
     10943**DCL     11711<<ASSIGN  11763<>CALL    11804<<ASSIGN  11811<>CALL
FPT$OPEN.ACCT_
     10947**DCL     11724<<ASSIGN
FPT$OPEN.ACSVEH_
     10945**DCL     10946--REDEF
FPT$OPEN.ALTKEYS_
     10951**DCL     10952--REDEF   10952--REDEF
FPT$OPEN.HDR_
     10950**DCL     10951--REDEF
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:102  
FPT$OPEN.NAME_
     10944**DCL     11723<<ASSIGN
FPT$OPEN.PASS_
     10945**DCL     11725<<ASSIGN
FPT$OPEN.SN_
     10943**DCL     11727<<ASSIGN
FPT$OPEN.TAB_
     10949**DCL     10950--REDEF
FPT$OPEN.UHL_
     10943**DCL     10944--REDEF   10944--REDEF
FPT$OPEN.V
     10952**DCL     11722--ASSIGN  11805--ASSIGN
FPT$OPEN.V.ASN#
     10962**DCL     11719--ASSIGN
FPT$OPEN.V.DCB#
     10952**DCL     11759<<ASSIGN  11810<<ASSIGN
FPT$OPEN.V.FSN#
     10983**DCL     10983--REDEF   10983--REDEF
FPT$OPEN.V.RES#
     10967**DCL     11720--ASSIGN
FPT$OPEN.V_
     10943**DCL     11722<<ASSIGN  11805<<ASSIGN
FPT$OPEN.WSN_
     10949**DCL     10949--REDEF   11726<<ASSIGN
FPT$RELDCB
     11134**DCL     11977<<ASSIGN  11981<>CALL    11995<<ASSIGN  12002<>CALL    12054<<ASSIGN  12061<>CALL
     12072<<ASSIGN  12077<>CALL
FPT$RELDCB.V
     11134**DCL     11978--ASSIGN  11996--ASSIGN  12055--ASSIGN  12073--ASSIGN
FPT$RELDCB.V.DCB#
     11134**DCL     11979<<ASSIGN  11997<<ASSIGN  12056<<ASSIGN  12074<<ASSIGN
FPT$RELDCB.V_
     11134**DCL     11978<<ASSIGN  11996<<ASSIGN  12055<<ASSIGN  12073<<ASSIGN
FPT$UNFID
     11162**DCL     12093<<ASSIGN  12097<>CALL
FPT$UNFID.TEXTFID_
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:103  
     11162**DCL     12096<<ASSIGN
FPT$UNFID.V
     11166**DCL     12094--ASSIGN
FPT$UNFID.V.DCB#
     11166**DCL     12095<<ASSIGN
FPT$UNFID.V_
     11162**DCL     12094<<ASSIGN
FPT_CLOSE
     11421**DCL     11998>>ASSIGN  12057>>ASSIGN  12068>>ASSIGN
FPT_CLOSE.SN_
     11421**DCL     11421--REDEF
FPT_CLOSE.UTL_
     11422**DCL     11422--REDEF
FPT_CLOSE.V.EXPIRE#
     11436**DCL     11436--REDEF
FPT_CLOSE.V.TYPE#
     11434**DCL     11434--REDEF
FPT_CLOSE.V.XTNSIZE#
     11431**DCL     11431--REDEF   11433--REDEF
FPT_DRTN
     11614**DCL     11783>>ASSIGN  12010>>ASSIGN
FPT_DRTN.V
     11616**DCL     11615--DCLINIT
FPT_DRTN.V.IR#
     11616**DCL     11616--REDEF
FPT_EOM
     11669**DCL     11945<>CALL
FPT_FID
     11096**DCL     11710>>ASSIGN
FPT_GETDCB
     11119**DCL     11751>>ASSIGN  11792>>ASSIGN
FPT_OPEN
     11238**DCL     11711>>ASSIGN
FPT_OPEN.ACSVEH_
     11240**DCL     11241--REDEF
FPT_OPEN.ALTKEYS_
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:104  
     11246**DCL     11247--REDEF   11247--REDEF
FPT_OPEN.HDR_
     11245**DCL     11246--REDEF
FPT_OPEN.TAB_
     11244**DCL     11245--REDEF
FPT_OPEN.UHL_
     11238**DCL     11239--REDEF   11239--REDEF
FPT_OPEN.V
     11247**DCL     11238--DCLINIT
FPT_OPEN.V.FSN#
     11278**DCL     11278--REDEF   11278--REDEF
FPT_OPEN.WSN_
     11244**DCL     11244--REDEF
FPT_OPENSCHEMA
     11353**DCL     11804>>ASSIGN
FPT_OPENSCHEMA.ACSVEH_
     11355**DCL     11356--REDEF
FPT_OPENSCHEMA.ALTKEYS_
     11361**DCL     11362--REDEF   11362--REDEF
FPT_OPENSCHEMA.HDR_
     11360**DCL     11361--REDEF
FPT_OPENSCHEMA.TAB_
     11359**DCL     11360--REDEF
FPT_OPENSCHEMA.UHL_
     11353**DCL     11354--REDEF   11354--REDEF
FPT_OPENSCHEMA.V
     11362**DCL     11353--DCLINIT
FPT_OPENSCHEMA.V.FSN#
     11393**DCL     11393--REDEF   11393--REDEF
FPT_OPENSCHEMA.WSN_
     11359**DCL     11359--REDEF
FPT_PRIV
     10794**DCL     11773<>CALL
FPT_PRIV.V
     10794**DCL     10794--DCLINIT
FPT_RELDCB
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:105  
     11148**DCL     11977>>ASSIGN  11995>>ASSIGN  12054>>ASSIGN  12072>>ASSIGN
FPT_UNFID
     11451**DCL     12093>>ASSIGN
FPT_UNFID.V
     11455**DCL     11451--DCLINIT
GOTXOU
     11913**LABEL   11910--CALLALT
HEAD$
        33**DCL     11825<<ASSIGN  11829<>CALL    11832>>ASSIGN  11833>>ASSIGN  11847>>ASSIGN  11864>>ASSIGN
     11869>>ASSIGN  11870>>ASSIGN  11882>>ASSIGN  11883>>IF
I
      5300**DCL     11937<<ASSIGN  11938<>CALL
IGNORE_IT
     12002**LABEL   12001--CALLALT
IGNORE_IT IN PROCEDURE KILL_ANLZ
     12061**LABEL   12060--CALLALT
IGNORE_IT_TOO
     12000**LABEL   12002--CALLALT
IGNORE_IT_TOO IN PROCEDURE KILL_ANLZ
     12059**LABEL   12061--CALLALT
INTERNAL_KILL
     11995**LABEL   11903--GOTO    11923--GOTO    11963--GOTO    11967--GOTO    11971--GOTO    11974--GOTO
IX
        37**DCL     11853<<DOINDEX 11873<<DOINDEX 11877<<DOINDEX 11889<<DOINDEX
KILL_ANLZ
     12051**PROC    11743--CALL    12018--CALL
KLUDGE_ENTRY0
     11758**LABEL   11738--GOTO
KLUDGE_ENTRY1
     11792**LABEL   11760--GOTO
KLUDGE_FLAG
        30**DCL     11730<<ASSIGN  11740<<ASSIGN  11760>>IF      11806>>IF      11813>>IF      11906>>IF
M$CLOSE
      6522**DCL-ENT 12001--CALL    12060--CALL    12071--CALL
M$DRTN
      6580**DCL-ENT 11787--CALL    12013--CALL
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:106  
M$EOM
      6547**DCL-ENT 11945--CALL
M$FID
      6585**DCL-ENT 11761--CALL    11800--CALL
M$GETDCB
      6528**DCL-ENT 11754--CALL    11795--CALL
M$OPEN
      6522**DCL-ENT 11763--CALL    11811--CALL
M$RELDCB
      6528**DCL-ENT 11981--CALL    12002--CALL    12061--CALL    12077--CALL
M$SAD
      6561**DCL-ENT 11774--CALL    11775--CALL    11776--CALL    11777--CALL    11778--CALL    11779--CALL
M$SPRIV
      6581**DCL-ENT 11773--CALL
M$UNFID
      6585**DCL-ENT 12097--CALL
M$XXX
      6534**DCL-ENT 12032--CALL    12050--CALL
MON
        32**DCL     11819<<ASSIGN  11823<<ASSIGN  11917>>IF
NEED
        40**DCL     11834<<ASSIGN  11835>>ASSIGN  11843>>ASSIGN
NOEOM
     11949**LABEL   11945--CALLALT
NOHEAD
     11965**LABEL   11829--CALLALT 11831--GOTO
NOROS
     11969**LABEL   11863--CALLALT
NOT_PRIV
     11949**LABEL   11774--CALLALT 11775--CALLALT 11776--CALLALT 11777--CALLALT 11778--CALLALT 11779--CALLALT
NOXOU
     11917**LABEL   11913--CALLALT 11914--CALLALT
NO_MEM
     11961**LABEL   11824--CALLALT 11839--CALLALT
NO_S_CNODE
     11921**LABEL   11926--CALLALT
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:107  
NWORD
      5302**DCL     11926<>CALL    11927>>ASSIGN
OPEN_ALT
     11976**LABEL   11763--CALLALT
OUTBUF
        28**DCL     12096--ASSIGN  12098>>CALLBLT 12101>>CALLBLT 12105>>CALLBLT
PAGE
        43**DCL     11859<<ASSIGN  11863<>CALL    11864<<ASSIGN  11864>>ASSIGN
PMME_ALT
     11958**LABEL   11754--CALLALT 11761--CALLALT 11795--CALLALT 11981--CALLALT 12097--CALLALT
PTR$WORD.LH
        47**DCL     11874>>ASSIGN  11890>>ASSIGN
REGS
      5304**DCL     11770<<ASSIGN  11785--ASSIGN  12017<<ASSIGN
RET
     12048**LABEL   12039--GOTO
ROS$
        34**DCL     11832<<ASSIGN  11843>>ASSIGN  11850>>ASSIGN
ROSIZE
        35**DCL     11833<<ASSIGN  11834>>ASSIGN  11844>>IF      11858>>ASSIGN  11858--ASSIGN
RV_BUFF.SSFRAME
     10438**DCL     11768--ASSIGN
SAD1
     11524**DCL     11774<>CALL
SAD1.V
     11524**DCL     11524--DCLINIT
SAD2
     11539**DCL     11775<>CALL
SAD2.V
     11539**DCL     11539--DCLINIT
SAD3
     11554**DCL     11776<>CALL
SAD3.V
     11554**DCL     11554--DCLINIT
SAD4
     11569**DCL     11777<>CALL
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:108  
SAD4.V
     11569**DCL     11569--DCLINIT
SAD5
     11584**DCL     11778<>CALL
SAD5.V
     11584**DCL     11584--DCLINIT
SAD6
     11599**DCL     11779<>CALL
SAD6.V
     11599**DCL     11599--DCLINIT
SIZE
        29**DCL     12098<<CALLBLT 12100<<ASSIGN  12100>>ASSIGN  12104<<ASSIGN  12104>>ASSIGN  12111<<ASSIGN
     12115<<ASSIGN  12118<>CALL
SKIP_IT
     12043**LABEL   12041--CALLALT
S_D.ANLZ
      8666**DCL     11764<<ASSIGN  11780<<ASSIGN  11988>>IF      12019<<ASSIGN  12052>>IF
S_D.ANLZDCB
      8732**DCL     11749>>IF      11753--ASSIGN  11759>>ASSIGN  11979>>ASSIGN  11980<<ASSIGN  12067>>IF
     12070>>ASSIGN  12074>>ASSIGN  12075<<ASSIGN  12095>>ASSIGN
S_D.ANLZ_FILE
      8730**DCL     11765<<ASSIGN  11820>>IF      12020<<ASSIGN  12076<<ASSIGN  12091>>IF
S_D.ANLZ_KLUDGE
      8975**DCL     11807<<ASSIGN  11808<<ASSIGN
S_D.B$ROS$
      8698**DCL     11846<<ASSIGN  11850<<ASSIGN  11851>>ASSIGN  11852>>ASSIGN  11871>>ASSIGN  11884>>ASSIGN
     11885>>ASSIGN  12079<<ASSIGN
S_D.B$TREE$
      8686**DCL     11937>>ASSIGN
S_D.BATCH
      8493**DCL     11941>>IF
S_D.CURRENT_CHANNEL
      8966**DCL      8968--REDEF
S_D.DEBUGA
      8118**DCL      8120--REDEF
S_D.DLIB
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:109  
      8720**DCL     12008>>IF
S_D.DO$
      8069**DCL     11728>>IF      11747>>IF      11758>>ASSIGN  11758>>ASSIGN  11796>>IF      11798>>ASSIGN
     11798>>ASSIGN  12043>>IF      12044>>IF      12044>>IF
S_D.EDEF$
      8462**DCL     11913>>CALL
S_D.EIS
      9076**DCL      9105--REDEF
S_D.EOM
      8658**DCL     11941>>IF      11946<<ASSIGN
S_D.ERROR
      8047**DCL     11921<<ASSIGN  11930<<ASSIGN  11955<<ASSIGN  11961<<ASSIGN  11965<<ASSIGN  11969<<ASSIGN
     11989<<ASSIGN  12030<<ASSIGN
S_D.EXEC_DOMAIN_SAVE
      8977**DCL     11732<<ASSIGN  11745<<ASSIGN  12005>>ASSIGN  12064>>ASSIGN
S_D.FIRST_TIME
      9059**DCL     11899<<ASSIGN  12035<<ASSIGN
S_D.FPRG
      8164**DCL     11742>>IF
S_D.HOST_MESSAGE_BUF_REMOTE
      9009**DCL      9010--REDEF    9024--REDEF
S_D.IND$
      8108**DCL     11769<<ASSIGN  12016<<ASSIGN
S_D.JDE
      8623**DCL      8624--REDEF
S_D.L$.VALUE
      8176**DCL      8182--REDEF    8190--REDEF    8193--REDEF    8196--REDEF    8199--REDEF
S_D.L$.VALUE.L
      8177**DCL      8178--REDEF    8179--REDEF
S_D.L6_MESSAGE_BUF
      9030**DCL      9032--REDEF
S_D.LMDCB
      8696**DCL     11733>>ASSIGN  11746>>ASSIGN  11788>>IF      11794--ASSIGN  11810>>ASSIGN  11818--ASSIGN
     11997>>ASSIGN  12000>>ASSIGN  12006<<ASSIGN  12056>>ASSIGN  12059>>ASSIGN  12065<<ASSIGN
S_D.LMDCB_SAVE
      9112**DCL     11733<<ASSIGN  11746<<ASSIGN  12006>>ASSIGN  12065>>ASSIGN
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:110  
S_D.MTREE$
      8676**DCL     11935>>ASSIGN
S_D.NODE
      8575**DCL     11927<<ASSIGN  11928>>IF      11932<<ASSIGN  11936>>ASSIGN  11937>>ASSIGN
S_D.NODE#M1
      8684**DCL     11928>>IF
S_D.NODESEG$
      8710**DCL     11843<<ASSIGN  12080<<ASSIGN
S_D.NODESEG_USED$
      8690**DCL     11826<<ASSIGN  11840<<ASSIGN  11840>>ASSIGN  12081<<ASSIGN
S_D.ONE_TO_TWO.EXEC_DOMAIN
      9041**DCL     11732>>ASSIGN  11745>>ASSIGN  12005<<ASSIGN  12024>>DOCASE  12064<<ASSIGN
S_D.OUTPUT
      8996**DCL      8998--REDEF   12101<<CALLBLT 12105<<CALLBLT 12110<<ASSIGN  12114<<ASSIGN  12118--CALL
S_D.PADDR
      8682**DCL     11847<<ASSIGN  11888<<ASSIGN
S_D.REMOTE_MSG.FNCC
      9015**DCL      9016--REDEF
S_D.REMOTE_MSG.STXC
      9011**DCL      9012--REDEF
S_D.REMOTE_MSG.SUBFNCC
      9019**DCL      9020--REDEF
S_D.RUM
      8664**DCL     11741>>IF
S_D.SAVEIC
      8029**DCL     11731>>ASSIGN  11744>>ASSIGN  12004<<ASSIGN  12041<>CALL    12063<<ASSIGN
S_D.SAVEIC_SAVE
      8728**DCL     11731<<ASSIGN  11744<<ASSIGN  12004>>ASSIGN  12063>>ASSIGN
S_D.SCHSEG$
      8450**DCL     11735>>CALL    11736<<ASSIGN  11896>>CALL    11897<<ASSIGN  12022>>CALL    12023<<ASSIGN
S_D.SCHSEG_BEGIN$
      8102**DCL     11735>>CALL    11736>>ASSIGN  11896>>CALL    11897>>ASSIGN  12022>>CALL    12023>>ASSIGN
S_D.SIM_UPDATE
      9133**DCL     12099>>IF      12109>>IF
S_D.STAND_ALONE
      8491**DCL     11815>>ASSIGN  11816<<ASSIGN  11907<<ASSIGN  11941>>IF
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:111  
S_D.SV
      8075**DCL      8096--REDEF
S_D.TREE$
      8674**DCL     11935<<ASSIGN
S_D.UNODE.USENODE
      8672**DCL     11936<<ASSIGN
S_D.UREG$
      8106**DCL     11770>>ASSIGN  11785>>ASSIGN  12017>>ASSIGN
S_D.USS$
      8035**DCL     11734>>ASSIGN  11768<<ASSIGN  11769>>ASSIGN  11770>>ASSIGN  12015<<ASSIGN  12016>>ASSIGN
     12017>>ASSIGN
S_D.USS$_SAVE
      8780**DCL     11734<<ASSIGN
S_D.XOU_NAME
      8440**DCL     11909<<ASSIGN
S_D$
      9327**DCL      8023--IMP-PTR 11728>>IF      11731>>ASSIGN  11731>>ASSIGN  11732>>ASSIGN  11732>>ASSIGN
     11733>>ASSIGN  11733>>ASSIGN  11734>>ASSIGN  11734>>ASSIGN  11735>>CALL    11735>>CALL    11736>>ASSIGN
     11736>>ASSIGN  11741>>IF      11742>>IF      11744>>ASSIGN  11744>>ASSIGN  11745>>ASSIGN  11745>>ASSIGN
     11746>>ASSIGN  11746>>ASSIGN  11747>>IF      11749>>IF      11753>>ASSIGN  11758>>ASSIGN  11758>>ASSIGN
     11759>>ASSIGN  11764>>ASSIGN  11765>>ASSIGN  11768>>ASSIGN  11769>>ASSIGN  11769>>ASSIGN  11770>>ASSIGN
     11770>>ASSIGN  11780>>ASSIGN  11785>>ASSIGN  11788>>IF      11794>>ASSIGN  11796>>IF      11798>>ASSIGN
     11798>>ASSIGN  11807>>ASSIGN  11808>>ASSIGN  11810>>ASSIGN  11815>>ASSIGN  11816>>ASSIGN  11818>>ASSIGN
     11820>>IF      11826>>ASSIGN  11840>>ASSIGN  11840>>ASSIGN  11843>>ASSIGN  11846>>ASSIGN  11847>>ASSIGN
     11850>>ASSIGN  11851>>ASSIGN  11852>>ASSIGN  11871>>ASSIGN  11884>>ASSIGN  11885>>ASSIGN  11888>>ASSIGN
     11896>>CALL    11896>>CALL    11897>>ASSIGN  11897>>ASSIGN  11899>>ASSIGN  11907>>ASSIGN  11909>>ASSIGN
     11913>>CALL    11921>>ASSIGN  11927>>ASSIGN  11928>>IF      11928>>IF      11930>>ASSIGN  11932>>ASSIGN
     11935>>ASSIGN  11935>>ASSIGN  11936>>ASSIGN  11936>>ASSIGN  11937>>ASSIGN  11937>>ASSIGN  11941>>IF
     11941>>IF      11941>>IF      11946>>ASSIGN  11955>>ASSIGN  11961>>ASSIGN  11965>>ASSIGN  11969>>ASSIGN
     11979>>ASSIGN  11980>>ASSIGN  11988>>IF      11989>>ASSIGN  11997>>ASSIGN  12000>>ASSIGN  12004>>ASSIGN
     12004>>ASSIGN  12005>>ASSIGN  12005>>ASSIGN  12006>>ASSIGN  12006>>ASSIGN  12008>>IF      12015>>ASSIGN
     12016>>ASSIGN  12016>>ASSIGN  12017>>ASSIGN  12017>>ASSIGN  12019>>ASSIGN  12020>>ASSIGN  12022>>CALL
     12022>>CALL    12023>>ASSIGN  12023>>ASSIGN  12024>>DOCASE  12030>>ASSIGN  12035>>ASSIGN  12041>>CALL
     12043>>IF      12044>>IF      12044>>IF      12052>>IF      12056>>ASSIGN  12059>>ASSIGN  12063>>ASSIGN
     12063>>ASSIGN  12064>>ASSIGN  12064>>ASSIGN  12065>>ASSIGN  12065>>ASSIGN  12067>>IF      12070>>ASSIGN
     12074>>ASSIGN  12075>>ASSIGN  12076>>ASSIGN  12079>>ASSIGN  12080>>ASSIGN  12081>>ASSIGN  12091>>IF
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:112  
     12095>>ASSIGN  12099>>IF      12101>>CALLBLT 12105>>CALLBLT 12109>>IF      12110>>ASSIGN  12114>>ASSIGN
     12118>>CALL
S_D_SEG$
      9341**DCL     11735<>CALL    11896<>CALL    12022<>CALL
TEMP$
      4876**DCL     11861<<ASSIGN  11863<>CALL    11866<<ASSIGN  11866>>ASSIGN  11872<<ASSIGN  11874>>ASSIGN
     11882<<ASSIGN  11882>>ASSIGN  11884>>ASSIGN  11886>>ASSIGN  11889>>DOINDEX 11890>>ASSIGN  11910<>CALL
     11913>>CALL    11919<>CALL    11925>>ASSIGN
TEMP1$
        38**DCL     11886<<ASSIGN  11887>>ASSIGN  11888>>ASSIGN  11890>>ASSIGN  11890>>ASSIGN  11891<<ASSIGN
     11891>>ASSIGN
TEMP_ADR
      5301**DCL     11925<<ASSIGN  11926<>CALL
TEMP_FLAG
        31**DCL     11815<<ASSIGN  11907>>ASSIGN
TEXT$C.SIZE
      1380**DCL      1381--IMP-SIZ 11758>>ASSIGN  11798>>ASSIGN
TEXT$C.TXT
      1381**DCL     11758--ASSIGN  11798--ASSIGN
TOGET
        39**DCL     11835<<ASSIGN  11836>>IF      11838<<ASSIGN  11838>>ASSIGN  11839<>CALL    11840>>ASSIGN
     11841>>ASSIGN  11858<<ASSIGN  11862>>DOWHILE 11863<>CALL    11865<<ASSIGN  11865>>ASSIGN  11869<<ASSIGN
     11871>>ASSIGN  11873>>DOINDEX
VLP$ACCT
     11025**DCL     11714--ASSIGN  11724--ASSIGN
VLP$NAME
     11012**DCL     11713--ASSIGN  11723--ASSIGN
VLP$PASS
     11038**DCL     11715--ASSIGN  11725--ASSIGN
VLP$SN
     11064**DCL     11717<<ASSIGN  11718--ASSIGN  11727--ASSIGN  11799<<ASSIGN
VLP$WSN
     11051**DCL     11716--ASSIGN  11726--ASSIGN
VLP_MONNAME
     11484**DCL     11354--DCLINIT
VLP_SN
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:113  
     11511**DCL     11717>>ASSIGN  11799>>ASSIGN
VLP_SYSACCT
     11498**DCL     11358--DCLINIT
VLR$FID
     11077**DCL     11721--ASSIGN
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:114  
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:115  
              MINI UREF LISTING

B$ROAVAIL    1433**DCL
B$RODCB$    1430**DCL
DUA$ANLZ      26**PROC
DUA$KILL_ANLZ   11987**ENTRY
DUA$SHOW_ANLZ   12090**ENTRY
M$ACCT    6539**DCL-ENT
M$ACTIVATE    6542**DCL-ENT
M$ALIB    6535**DCL-ENT
M$ASUSER    6537**DCL-ENT
M$ATTACH    6544**DCL-ENT
M$BADPP    6562**DCL-ENT
M$CGCTL    6543**DCL-ENT
M$CGINFO    6543**DCL-ENT
M$CHECK    6524**DCL-ENT
M$CHGUNIT    6582**DCL-ENT
M$CLRSTK    6580**DCL-ENT
M$CMDVAR    6591**DCL-ENT
M$CONFIG    6552**DCL-ENT
M$CORRES    6527**DCL-ENT
M$CPEXIT    6536**DCL-ENT
M$CVM    6560**DCL-ENT
M$CVOL    6525**DCL-ENT
M$DCLFLD    6552**DCL-ENT
M$DEACTIVATE    6542**DCL-ENT
M$DELREC    6524**DCL-ENT
M$DEQ    6589**DCL-ENT
M$DETACH    6544**DCL-ENT
M$DEVICE    6526**DCL-ENT
M$DISPLAY    6589**DCL-ENT
M$DISPRES    6529**DCL-ENT
M$DLIB    6535**DCL-ENT
M$DRIBBLE    6552**DCL-ENT
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:116  
M$DSUSER    6537**DCL-ENT
M$ENQ    6588**DCL-ENT
M$ERASE    6553**DCL-ENT
M$ERR    6534**DCL-ENT
M$ERRMSG    6585**DCL-ENT
M$EVENT    6577**DCL-ENT
M$EXHUME    6586**DCL-ENT
M$EXIT    6534**DCL-ENT
M$EXTEND    6526**DCL-ENT
M$FDP    6558**DCL-ENT
M$FDS    6557**DCL-ENT
M$FEBOOT    6550**DCL-ENT
M$FECTL    6551**DCL-ENT
M$FEDUMP    6550**DCL-ENT
M$FINDPROC    6539**DCL-ENT
M$FSUSER    6537**DCL-ENT
M$FVP    6559**DCL-ENT
M$FWCG    6543**DCL-ENT
M$GBPL    6563**DCL-ENT
M$GDDL    6559**DCL-ENT
M$GDP    6558**DCL-ENT
M$GDS    6557**DCL-ENT
M$GETMOUSE    6568**DCL-ENT
M$GETPM    6569**DCL-ENT
M$GJOB    6587**DCL-ENT
M$GLINEATTR    6547**DCL-ENT
M$GOODPP    6562**DCL-ENT
M$GPLATEN    6555**DCL-ENT
M$GPROMPT    6554**DCL-ENT
M$GTRMATTR    6548**DCL-ENT
M$GTRMCTL    6546**DCL-ENT
M$GTRMTAB    6549**DCL-ENT
M$GVP    6558**DCL-ENT
M$HELP    6585**DCL-ENT
M$INT    6577**DCL-ENT
M$INTRTN    6538**DCL-ENT
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:117  
M$IOQ    6573**DCL-ENT
M$JOBSTATS    6587**DCL-ENT
M$KEYIN    6527**DCL-ENT
M$LDEV    6522**DCL-ENT
M$LDTRC    6535**DCL-ENT
M$LIMIT    6528**DCL-ENT
M$LINES    6527**DCL-ENT
M$LINK    6534**DCL-ENT
M$MADMUCK    6530**DCL-ENT
M$MAKUSER    6561**DCL-ENT
M$MBS    6529**DCL-ENT
M$MDFFLD    6553**DCL-ENT
M$MERC    6578**DCL-ENT
M$MERCS    6579**DCL-ENT
M$MIRROR    6573**DCL-ENT
M$MONINFO    6590**DCL-ENT
M$MPL    6563**DCL-ENT
M$NODEINFO    6554**DCL-ENT
M$NXTUSR    6588**DCL-ENT
M$OCMSG    6586**DCL-ENT
M$OLAY    6534**DCL-ENT
M$PAS    6563**DCL-ENT
M$PATHCON    6586**DCL-ENT
M$PDS    6557**DCL-ENT
M$PFIL    6524**DCL-ENT
M$PLATEN    6548**DCL-ENT
M$PRECORD    6526**DCL-ENT
M$PROCNAME    6539**DCL-ENT
M$PROFILE    6550**DCL-ENT
M$PROMPT    6546**DCL-ENT
M$RACST    6530**DCL-ENT
M$RDSYSLOG    6571**DCL-ENT
M$READ    6523**DCL-ENT
M$RELRES    6529**DCL-ENT
M$RELSTARF    6531**DCL-ENT
M$REM    6531**DCL-ENT
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:118  
M$RENV    6578**DCL-ENT
M$REQUIRE    6530**DCL-ENT
M$RETRY    6579**DCL-ENT
M$RETRYS    6579**DCL-ENT
M$REW    6525**DCL-ENT
M$RLSFLD    6553**DCL-ENT
M$RPRIV    6581**DCL-ENT
M$RSPP    6560**DCL-ENT
M$RSWITCH    6582**DCL-ENT
M$RUE    6588**DCL-ENT
M$SAVE    6537**DCL-ENT
M$SCON    6538**DCL-ENT
M$SCREECH    6536**DCL-ENT
M$SENV    6578**DCL-ENT
M$SETFMA    6522**DCL-ENT
M$SETFP    6551**DCL-ENT
M$SINPUT    6549**DCL-ENT
M$SLCFLD    6554**DCL-ENT
M$SMOUSE    6568**DCL-ENT
M$SMPRT    6560**DCL-ENT
M$SSC    6561**DCL-ENT
M$SSWITCH    6581**DCL-ENT
M$STATE    6590**DCL-ENT
M$STD    6562**DCL-ENT
M$STIMER    6576**DCL-ENT
M$STLPP    6559**DCL-ENT
M$STRAP    6576**DCL-ENT
M$STRMATTR    6548**DCL-ENT
M$STRMCTL    6546**DCL-ENT
M$STRMTAB    6549**DCL-ENT
M$SYMBIO    6587**DCL-ENT
M$SYSCON    6573**DCL-ENT
M$SYSID    6591**DCL-ENT
M$TDCLOSE    6572**DCL-ENT
M$TDIO    6572**DCL-ENT
M$TDOPEN    6571**DCL-ENT
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:119  
M$TDREQCPU    6572**DCL-ENT
M$TEMPWROC    6566**DCL-ENT
M$TIME    6589**DCL-ENT
M$TRAP    6576**DCL-ENT
M$TRMISC    6551**DCL-ENT
M$TRMPRG    6547**DCL-ENT
M$TRTN    6580**DCL-ENT
M$TRUNC    6523**DCL-ENT
M$TTIMER    6576**DCL-ENT
M$UC    6546**DCL
M$UMPL    6563**DCL-ENT
M$UNLATCH    6542**DCL-ENT
M$UNSHARE    6539**DCL-ENT
M$USRFIELD    6582**DCL-ENT
M$VIRTUAL    6557**DCL-ENT
M$WAIT    6580**DCL-ENT
M$WEOF    6525**DCL-ENT
M$WRITE    6523**DCL-ENT
M$WRSYSLOG    6571**DCL-ENT
M$XCON    6577**DCL-ENT
M$XCONRTN    6538**DCL-ENT
M$XEQTIME    6590**DCL-ENT
M$XFLUSH    6531**DCL-ENT
M$XMOUSE    6568**DCL-ENT
M$YC    6536**DCL-ENT
S_D_ACCESS$    9342**DCL
S_D_ANLZ$    9344**DCL
S_D_ASTACKOFF$    9343**DCL
S_D_BREAK$    9345**DCL
S_D_DO_SCAN$    9346**DCL
S_D_ERROR$    9347**DCL
S_D_FAULTCMD$$    9348**DCL
S_D_FAULTINS$$    9349**DCL
S_D_GOIC$    9350**DCL
S_D_GO_MODE$    9351**DCL
S_D_HOST_MESSAGE$    9363**DCL
PL6.E3A0      #001=DUA$ANLZ File=DUA$ANLZ.:E05TSI                                TUE 07/29/97 14:46 Page:120  
S_D_HW_PTB_UNITS$    9367**DCL
S_D_HW_RES_MEM$    9365**DCL
S_D_HW_WSQ0PT$    9366**DCL
S_D_IPRFLT$    9353**DCL
S_D_IXFIX$    9352**DCL
S_D_L6_MESSAGE$    9364**DCL
S_D_REM_ACCESS$    9354**DCL
S_D_REM_DISKBOOT$    9356**DCL
S_D_REM_DO_SCAN$    9355**DCL
S_D_RETURNN$    9357**DCL
S_D_SAD$    9358**DCL
S_D_SAVEIC$    9359**DCL
S_D_TCB$$    9360**DCL
S_D_UREG$$    9361**DCL
S_D_USS$$    9362**DCL

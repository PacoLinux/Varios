VERSION E05

PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:1    
        1        1        /*M* DUL$USE - PROCESS THE USE COMMAND FOR ANLZ/DELTA */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* CCC,DMR,PLM=5,IND=5,CSU=3,EXM=0,ECU=3,MOC,DCI=5,CRT=5 */
        8        8        /*P* NAME: DUL$USE
        9        9             DESCRIPTION: READS THE PROPER JIT AND HJIT, ACCORDING TO TYPE
       10       10                  AND USER NUMBER.
       11       11                            */
       12       12        DUL$USE: PROC(TYPE, USR#, CPU#, DOMAINN) ALTRET;
       13       13                                                /**/
       14       14    1   DCL TYPE UBIN;                          /* Wsq type, mon, user, or special */
       15       15    1   DCL USR# UBIN;                          /* User num if user */
       16       16    1   DCL CPU# UBIN;                          /* Cpu number for mon wsq */
       17       17    1   DCL DOMAINN UBIN;                       /* Domain if use user */
       18       18    1   DCL I UBIN;
       19       19                                                /**/
       20       20    1   DCL 1 BASED_PAGE CHAR(4096) BASED;
       21       21    1   DCL 1 BASED_BIT BASED,
       22       22    1         2 * CHAR(4096);
       23       23        %INCLUDE DD_ERR_C;
       24      420        %INCLUDE DD_SUBS_C;
       25      691        %INCLUDE XUH_MACRO_C;
       26      775        %INCLUDE DD_SD_M;
       27     2111        %S_D;
       28     3429        %INCLUDE IR_DATA_M;
       29     3593        %INCLUDE DD$DA;
       30     3674        %RV_USRDIR (NAME=DA_USRDIR, STCLASS=BASED);
       31     3678        %RV_DFSUBS;
       32     3705                                                /**/
       33     3706                                                /**/
       34     3707    1   DCL DUL$READ ENTRY(2) ALTRET;
       35     3708    1   DCL DDE$ERROR ENTRY;
       36     3709                                                /**/
       37     3710    1        IF (TYPE ~= USE_MON AND TYPE ~= USE_USER# ) OR
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:2    
       38     3711    1          (TYPE = USE_USER# AND DOMAINN ~= LS_USER)
       39     3712    2        THEN DO;
       40     3713        /*        S_D.ERROR = E@ANLZ_BADUSE;       E@ANLZ_BADUSE */
       41     3714        /*        Altreturn;  */
       42     3715    2             RETURN ;
       43     3716    2           END;
       44     3717                                                /* Clear vp table */
       45     3718    2        DO I = 0 TO 2;
       46     3719    2             DA.VP#(I) = -1;
       47     3720    2           END;
       48     3721    1        IF TYPE = USE_USER# AND DA.USRDIR$->DA_USRDIR.USER.SZ(USR#) = 0
       49     3722    2        THEN DO;
       50     3723    2             S_D.ERROR = E@ANLZ_NOUSER;    /*E@ANLZ_NOUSER*/
       51     3724    2             ALTRETURN;
       52     3725    2           END;
       53     3726    1        IF TYPE = USE_MON
       54     3727    2        THEN DO;
       55     3728    2             CALL SETUP_MON ALTRET(ALT1);
       56     3729    2             DA.CURPT$ = DA.MONPT$;
       57     3730    2             DA.CURLS$ = DA.MONLS$;
       58     3731    2             IF USR# = 0
       59     3732    3             THEN DO;
       60     3733    3                  DA.UPT$->BASED_BIT = '0'B;
       61     3734    3                  RETURN;
       62     3735    3                END;
       63     3736    2             IF DA.USRDIR$->DA_USRDIR.USER.SZ(USR#) = 0
       64     3737    3             THEN DO;
       65     3738    3                  S_D.ERROR = E@ANLZ_NOUSER; /* E@ANLZ_NOUSER */
       66     3739    3                  GOTO ALT2;
       67     3740    3                END;
       68     3741    2             CALL SETUP_USER ALTRET(ALT2);
       69     3742    2             RETURN;
       70     3743    2           END;
       71     3744    1        ELSE IF TYPE = USE_USER#
       72     3745    2             THEN DO;
       73     3746    2                  CALL SETUP_USER ALTRET(ALT1);
       74     3747    2                  DA.CURPT$ = DA.UPT$;
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:3    
       75     3748    2                  DA.CURLS$ = DA.ULS$;
       76     3749    2                  RETURN;
       77     3750    2                END;
       78     3751    1   ALT1:                                   /* Can't setup use */
       79     3752    1        DA.CURPT$ = ADDR(NIL);
       80     3753    1        DA.CURLS$ = ADDR(NIL);
       81     3754    1        ALTRETURN;
       82     3755    1   ALT2:                                   /* Can't set up user for use mon */
       83     3756    1        DA.UPT$->BASED_BIT = '0'B;         /* Mark all user pages as not dumped */
       84     3757    1        CALL DDE$ERROR;     /* This is bad, but not fatal, warn him and return */
       85     3758    1        RETURN;
       86     3759                                                /**/
       87     3760                                      /* Read the user jit and hjit, set up pt and ls */
       88     3761                                                /**/
       89     3762    1   SETUP_USER: PROC ALTRET;
       90     3763                                                /**/
       91     3764    2        DA.UKEY = '0'B;
       92     3765    2        DA.UKEY.K.TYP = %R_UWSQ#;
       93     3766    2        DA.UKEY.K.STYP = DA.USRDIR$->DA_USRDIR.USER.TYP(USR#);
       94     3767    2        DA.UKEY.K.USR# = USR#;
       95     3768    2        DA.UKEY.K.NODEIDX = DA.NODEIDX;
       96     3769    2        DA.UKEY.L = 7;
       97     3770    2        DA.CURKEY = DA.UKEY;
       98     3771    2        DA.CURKEY.K.VP# = 0;               /* Jit page */
       99     3772    2        CALL DUL$READ(DA.VP$(1), 4096) ALTRET(NO_JIT);
      100     3773    2        DA.UPT$->BASED_PAGE = DA.VP$(1)->BASED_PAGE;
      101     3774    2        DA.CURKEY.K.VP# = 13;
      102     3775    2        CALL DUL$READ(DA.VP$(1), 4096) ALTRET(NO_HJIT);
      103     3776    2        DA.ULS$->BASED_PAGE = DA.VP$(1)->BASED_PAGE;
      104     3777    2        RETURN;
      105     3778                                                /**/
      106     3779    2   NO_JIT:
      107     3780    2        S_D.ERROR = E@ANLZ_NOJIT;          /*E@ANLZ_NOJIT*/
      108     3781    2        ALTRETURN;
      109     3782    2   NO_HJIT:
      110     3783    2        S_D.ERROR = E@ANLZ_NOHJIT;         /*E@ANLZ_NOHJIT*/
      111     3784    2        ALTRETURN;
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:4    
      112     3785    2   END SETUP_USER;
      113     3786                                                /**/
      114     3787                                      /* Read the mon jit and hjit, set up pt and ls */
      115     3788                                                /**/
      116     3789    1   SETUP_MON: PROC ALTRET;
      117     3790                                                /**/
      118     3791    2        DA.MONKEY = '0'B;
      119     3792    2        DA.MONKEY.K.TYP = %R_MWSQ#;
      120     3793    2        DA.MONKEY.K.USR# = CPU#;
      121     3794    2        DA.MONKEY.K.NODEIDX = DA.NODEIDX;
      122     3795    2        DA.MONKEY.L = 7;
      123     3796    2        DA.CURKEY = DA.MONKEY;
      124     3797    2        DA.CURKEY.K.VP# = 0;
      125     3798    2        CALL DUL$READ(DA.VP$(1), 4096) ALTRET(NO_JIT);
      126     3799    2        DA.MONPT$->BASED_PAGE = DA.VP$(1)->BASED_PAGE;
      127     3800    2        DA.CURKEY.K.VP# = 13;
      128     3801    2        CALL DUL$READ(DA.VP$(1), 4096) ALTRET(NO_HJIT);
      129     3802    2        DA.MONLS$->BASED_PAGE = DA.VP$(1)->BASED_PAGE;
      130     3803    2        RETURN;
      131     3804                                                /**/
      132     3805    2   NO_JIT:
      133     3806    2        S_D.ERROR = E@ANLZ_NOJIT;          /*E@ANLZ_NOJIT*/
      134     3807    2        ALTRETURN;
      135     3808    2   NO_HJIT:
      136     3809    2        S_D.ERROR = E@ANLZ_NOHJIT;         /*E@ANLZ_NOHJIT*/
      137     3810    2        ALTRETURN;
      138     3811    2   END SETUP_MON;
      139     3812    1   END DUL$USE;

PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:5    
--  Include file information  --

   DD$DA.:E05TOU  cannot be made into a system file and is referenced.
   IR_DATA_M.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD_ERR_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DUL$USE.

   Procedure DUL$USE requires 237 words for executable code.
   Procedure DUL$USE requires 12 words of local(AUTO) storage.

    No errors detected in file DUL$USE.:E05TSI    .

PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:6    

 Object Unit name= DUL$USE                                    File name= DUL$USE.:E05TOU
 UTS= JUL 29 '97 14:56:24.08 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Proc  even  none   237    355  DUL$USE
    1  RoData even  none     2      2  DUL$USE

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     0      0   yes    yes     yes      Std        4  DUL$USE

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       0 DDE$ERROR
 yes     yes           Std       2 DUL$READ
                       nStd      0 X66_AUTO_4
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT
                       Std       0 B_CONSPOOL_D

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    S_D$                                  DD_ANLZSEG$                           B_VECTNIL
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:7    

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:8    


        1        1        /*M* DUL$USE - PROCESS THE USE COMMAND FOR ANLZ/DELTA */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* CCC,DMR,PLM=5,IND=5,CSU=3,EXM=0,ECU=3,MOC,DCI=5,CRT=5 */
        8        8        /*P* NAME: DUL$USE
        9        9             DESCRIPTION: READS THE PROPER JIT AND HJIT, ACCORDING TO TYPE
       10       10                  AND USER NUMBER.
       11       11                            */
       12       12        DUL$USE: PROC(TYPE, USR#, CPU#, DOMAINN) ALTRET;

     12  0 000000   000000 700200 xent  DUL$USE      TSX0  ! X66_AUTO_4
         0 000001   000014 000004                    ZERO    12,4

       13       13                                                /**/
       14       14    1   DCL TYPE UBIN;                          /* Wsq type, mon, user, or special */
       15       15    1   DCL USR# UBIN;                          /* User num if user */
       16       16    1   DCL CPU# UBIN;                          /* Cpu number for mon wsq */
       17       17    1   DCL DOMAINN UBIN;                       /* Domain if use user */
       18       18    1   DCL I UBIN;
       19       19                                                /**/
       20       20    1   DCL 1 BASED_PAGE CHAR(4096) BASED;
       21       21    1   DCL 1 BASED_BIT BASED,
       22       22    1         2 * CHAR(4096);
       23       23        %INCLUDE DD_ERR_C;
       24      420        %INCLUDE DD_SUBS_C;
       25      691        %INCLUDE XUH_MACRO_C;
       26      775        %INCLUDE DD_SD_M;
       27     2111        %S_D;
       28     3429        %INCLUDE IR_DATA_M;
       29     3593        %INCLUDE DD$DA;
       30     3674        %RV_USRDIR (NAME=DA_USRDIR, STCLASS=BASED);
       31     3678        %RV_DFSUBS;
       32     3705                                                /**/
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:9    
       33     3706                                                /**/
       34     3707    1   DCL DUL$READ ENTRY(2) ALTRET;
       35     3708    1   DCL DDE$ERROR ENTRY;
       36     3709                                                /**/
       37     3710    1        IF (TYPE ~= USE_MON AND TYPE ~= USE_USER# ) OR

   3710  0 000002   200003 470500                    LDP0    @TYPE,,AUTO
         0 000003   000000 235100                    LDA     0,,PR0
         0 000004   000007 600000 0                  TZE     s:3710+5
         0 000005   000004 115007                    CMPA    4,DL
         0 000006   000015 601000 0                  TNZ     s:3715
         0 000007   000004 115007                    CMPA    4,DL
         0 000010   000016 601000 0                  TNZ     s:3718
         0 000011   200006 471500                    LDP1    @DOMAINN,,AUTO
         0 000012   100000 235100                    LDA     0,,PR1
         0 000013   000001 115007                    CMPA    1,DL
         0 000014   000016 600000 0                  TZE     s:3718

       38     3711    1          (TYPE = USE_USER# AND DOMAINN ~= LS_USER)
       39     3712    2        THEN DO;

       40     3713        /*        S_D.ERROR = E@ANLZ_BADUSE;       E@ANLZ_BADUSE */
       41     3714        /*        Altreturn;  */
       42     3715    2             RETURN ;

   3715  0 000015   000000 702200 xent               TSX2  ! X66_ARET

       43     3716    2           END;
       44     3717                                                /* Clear vp table */
       45     3718    2        DO I = 0 TO 2;

   3718  0 000016   200007 450100                    STZ     I,,AUTO

       46     3719    2             DA.VP#(I) = -1;

   3719  0 000017   000001 335007                    LCA     1,DL
         0 000020   000000 470400 xsym               LDP0    DD_ANLZSEG$
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:10   
         0 000021   200007 720100                    LXL0    I,,AUTO
         0 000022   000015 755110                    STA     13,X0,PR0

       47     3720    2           END;

   3720  0 000023   200007 236100                    LDQ     I,,AUTO
         0 000024   000001 036007                    ADLQ    1,DL
         0 000025   200007 756100                    STQ     I,,AUTO
         0 000026   000003 116007                    CMPQ    3,DL
         0 000027   000017 602000 0                  TNC     s:3719

       48     3721    1        IF TYPE = USE_USER# AND DA.USRDIR$->DA_USRDIR.USER.SZ(USR#) = 0

   3721  0 000030   200003 470500                    LDP0    @TYPE,,AUTO
         0 000031   000000 235100                    LDA     0,,PR0
         0 000032   000004 115007                    CMPA    4,DL
         0 000033   000050 601000 0                  TNZ     s:3726
         0 000034   000000 471400 xsym               LDP1    DD_ANLZSEG$
         0 000035   100012 473500                    LDP3    10,,PR1
         0 000036   200004 474500                    LDP4    @USR#,,AUTO
         0 000037   400000 720100                    LXL0    0,,PR4
         0 000040   000000 635010                    EAA     0,X0
         0 000041   000021 771000                    ARL     17
         0 000042   300001 721105                    LXL1    1,AL,PR3
         0 000043   000050 601000 0                  TNZ     s:3726

       49     3722    2        THEN DO;

       50     3723    2             S_D.ERROR = E@ANLZ_NOUSER;    /*E@ANLZ_NOUSER*/

   3723  0 000044   000222 235007                    LDA     146,DL
         0 000045   000000 475400 xsym               LDP5    S_D$
         0 000046   500013 755100                    STA     11,,PR5

       51     3724    2             ALTRETURN;

   3724  0 000047   000000 702200 xent               TSX2  ! X66_AALT
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:11   

       52     3725    2           END;
       53     3726    1        IF TYPE = USE_MON

   3726  0 000050   000000 235100                    LDA     0,,PR0
         0 000051   000107 601000 0                  TNZ     s:3744

       54     3727    2        THEN DO;

       55     3728    2             CALL SETUP_MON ALTRET(ALT1);

   3728  0 000052   000252 701000 0                  TSX1    SETUP_MON
         0 000053   000121 702000 0                  TSX2    ALT1

       56     3729    2             DA.CURPT$ = DA.MONPT$;

   3729  0 000054   000000 470400 xsym               LDP0    DD_ANLZSEG$
         0 000055   000003 236100                    LDQ     3,,PR0
         0 000056   000005 756100                    STQ     5,,PR0

       57     3730    2             DA.CURLS$ = DA.MONLS$;

   3730  0 000057   000000 236100                    LDQ     0,,PR0
         0 000060   000002 756100                    STQ     2,,PR0

       58     3731    2             IF USR# = 0

   3731  0 000061   200004 471500                    LDP1    @USR#,,AUTO
         0 000062   100000 235100                    LDA     0,,PR1
         0 000063   000072 601000 0                  TNZ     s:3736

       59     3732    3             THEN DO;

       60     3733    3                  DA.UPT$->BASED_BIT = '0'B;

   3733  0 000064   000004 473500                    LDP3    4,,PR0
         0 000065   010000 220003                    LDX0    4096,DU
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:12   
         0 000066   000140 100400                    MLR     fill='000'O
         0 000067   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         0 000070   300000 000010                    ADSC9   0,,PR3                   cn=0,n=*X0

       61     3734    3                  RETURN;

   3734  0 000071   000000 702200 xent               TSX2  ! X66_ARET

       62     3735    3                END;
       63     3736    2             IF DA.USRDIR$->DA_USRDIR.USER.SZ(USR#) = 0

   3736  0 000072   000012 473500                    LDP3    10,,PR0
         0 000073   100000 720100                    LXL0    0,,PR1
         0 000074   000000 635010                    EAA     0,X0
         0 000075   000021 771000                    ARL     17
         0 000076   300001 721105                    LXL1    1,AL,PR3
         0 000077   000104 601000 0                  TNZ     s:3741

       64     3737    3             THEN DO;

       65     3738    3                  S_D.ERROR = E@ANLZ_NOUSER; /* E@ANLZ_NOUSER */

   3738  0 000100   000222 235007                    LDA     146,DL
         0 000101   000000 474400 xsym               LDP4    S_D$
         0 000102   400013 755100                    STA     11,,PR4

       66     3739    3                  GOTO ALT2;

   3739  0 000103   000126 710000 0                  TRA     ALT2

       67     3740    3                END;
       68     3741    2             CALL SETUP_USER ALTRET(ALT2);

   3741  0 000104   000140 701000 0                  TSX1    SETUP_USER
         0 000105   000126 702000 0                  TSX2    ALT2

       69     3742    2             RETURN;
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:13   

   3742  0 000106   000000 702200 xent               TSX2  ! X66_ARET

       70     3743    2           END;
       71     3744    1        ELSE IF TYPE = USE_USER#

   3744  0 000107   000004 115007                    CMPA    4,DL
         0 000110   000121 601000 0                  TNZ     ALT1

       72     3745    2             THEN DO;

       73     3746    2                  CALL SETUP_USER ALTRET(ALT1);

   3746  0 000111   000140 701000 0                  TSX1    SETUP_USER
         0 000112   000121 702000 0                  TSX2    ALT1

       74     3747    2                  DA.CURPT$ = DA.UPT$;

   3747  0 000113   000000 470400 xsym               LDP0    DD_ANLZSEG$
         0 000114   000004 236100                    LDQ     4,,PR0
         0 000115   000005 756100                    STQ     5,,PR0

       75     3748    2                  DA.CURLS$ = DA.ULS$;

   3748  0 000116   000001 236100                    LDQ     1,,PR0
         0 000117   000002 756100                    STQ     2,,PR0

       76     3749    2                  RETURN;

   3749  0 000120   000000 702200 xent               TSX2  ! X66_ARET

       77     3750    2                END;
       78     3751    1   ALT1:                                   /* Can't setup use */
       79     3752    1        DA.CURPT$ = ADDR(NIL);

   3752  0 000121   000001 236000 xsym  ALT1         LDQ     B_VECTNIL+1
         0 000122   000000 470400 xsym               LDP0    DD_ANLZSEG$
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:14   
         0 000123   000005 756100                    STQ     5,,PR0

       80     3753    1        DA.CURLS$ = ADDR(NIL);

   3753  0 000124   000002 756100                    STQ     2,,PR0

       81     3754    1        ALTRETURN;

   3754  0 000125   000000 702200 xent               TSX2  ! X66_AALT

       82     3755    1   ALT2:                                   /* Can't set up user for use mon */
       83     3756    1        DA.UPT$->BASED_BIT = '0'B;         /* Mark all user pages as not dumped */

   3756  0 000126   000000 470400 xsym  ALT2         LDP0    DD_ANLZSEG$
         0 000127   000004 471500                    LDP1    4,,PR0
         0 000130   010000 220003                    LDX0    4096,DU
         0 000131   000140 100400                    MLR     fill='000'O
         0 000132   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         0 000133   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0

       84     3757    1        CALL DDE$ERROR;     /* This is bad, but not fatal, warn him and return */

   3757  0 000134   000002 631400 xsym               EPPR1   B_VECTNIL+2
         0 000135   000000 701000 xent               TSX1    DDE$ERROR
         0 000136   000000 011000                    NOP     0

       85     3758    1        RETURN;

   3758  0 000137   000000 702200 xent               TSX2  ! X66_ARET

       86     3759                                                /**/
       87     3760                                      /* Read the user jit and hjit, set up pt and ls */
       88     3761                                                /**/
       89     3762    1   SETUP_USER: PROC ALTRET;

   3762  0 000140   200010 741300       SETUP_USER   STX1  ! I+1,,AUTO

PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:15   
       90     3763                                                /**/
       91     3764    2        DA.UKEY = '0'B;

   3764  0 000141   000000 235003                    LDA     0,DU
         0 000142   000000 236003                    LDQ     0,DU
         0 000143   000000 470400 xsym               LDP0    DD_ANLZSEG$
         0 000144   000032 757100                    STAQ    26,,PR0

       92     3765    2        DA.UKEY.K.TYP = %R_UWSQ#;

   3765  0 000145   004000 236007                    LDQ     2048,DL
         0 000146   000032 552110                    STBQ    26,'10'O,PR0

       93     3766    2        DA.UKEY.K.STYP = DA.USRDIR$->DA_USRDIR.USER.TYP(USR#);

   3766  0 000147   000012 471500                    LDP1    10,,PR0
         0 000150   200004 473500                    LDP3    @USR#,,AUTO
         0 000151   300000 720100                    LXL0    0,,PR3
         0 000152   000000 635010                    EAA     0,X0
         0 000153   000021 771000                    ARL     17
         0 000154   100001 236105                    LDQ     1,AL,PR1
         0 000155   000022 772000                    QRL     18
         0 000156   000032 552104                    STBQ    26,'04'O,PR0

       94     3767    2        DA.UKEY.K.USR# = USR#;

   3767  0 000157   300000 236100                    LDQ     0,,PR3
         0 000160   000033 736000                    QLS     27
         0 000161   000033 552140                    STBQ    27,'40'O,PR0

       95     3768    2        DA.UKEY.K.NODEIDX = DA.NODEIDX;

   3768  0 000162   000024 236100                    LDQ     20,,PR0
         0 000163   000022 736000                    QLS     18
         0 000164   000032 552120                    STBQ    26,'20'O,PR0

       96     3769    2        DA.UKEY.L = 7;
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:16   

   3769  0 000165   007000 236003                    LDQ     3584,DU
         0 000166   000032 552140                    STBQ    26,'40'O,PR0

       97     3770    2        DA.CURKEY = DA.UKEY;

   3770  0 000167   000032 237100                    LDAQ    26,,PR0
         0 000170   000026 757100                    STAQ    22,,PR0

       98     3771    2        DA.CURKEY.K.VP# = 0;               /* Jit page */

   3771  0 000171   000000 236003                    LDQ     0,DU
         0 000172   000027 552134                    STBQ    23,'34'O,PR0

       99     3772    2        CALL DUL$READ(DA.VP$(1), 4096) ALTRET(NO_JIT);

   3772  0 000173   000001 236000 1                  LDQ     1
         0 000174   200013 756100                    STQ     I+4,,AUTO
         0 000175   000000 236000 xsym               LDQ     DD_ANLZSEG$
         0 000176   000007 036003                    ADLQ    7,DU
         0 000177   200012 756100                    STQ     I+3,,AUTO
         0 000200   200012 630500                    EPPR0   I+3,,AUTO
         0 000201   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000202   000000 701000 xent               TSX1    DUL$READ
         0 000203   000240 702000 0                  TSX2    NO_JIT

      100     3773    2        DA.UPT$->BASED_PAGE = DA.VP$(1)->BASED_PAGE;

   3773  0 000204   000000 470400 xsym               LDP0    DD_ANLZSEG$
         0 000205   000004 471500                    LDP1    4,,PR0
         0 000206   000007 473500                    LDP3    7,,PR0
         0 000207   010000 220003                    LDX0    4096,DU
         0 000210   040140 100540                    MLR     fill='040'O
         0 000211   300000 000010                    ADSC9   0,,PR3                   cn=0,n=*X0
         0 000212   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0

      101     3774    2        DA.CURKEY.K.VP# = 13;
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:17   

   3774  0 000213   000000 470400 xsym               LDP0    DD_ANLZSEG$
         0 000214   000015 236007                    LDQ     13,DL
         0 000215   000027 552134                    STBQ    23,'34'O,PR0

      102     3775    2        CALL DUL$READ(DA.VP$(1), 4096) ALTRET(NO_HJIT);

   3775  0 000216   000001 236000 1                  LDQ     1
         0 000217   200013 756100                    STQ     I+4,,AUTO
         0 000220   000000 236000 xsym               LDQ     DD_ANLZSEG$
         0 000221   000007 036003                    ADLQ    7,DU
         0 000222   200012 756100                    STQ     I+3,,AUTO
         0 000223   200012 630500                    EPPR0   I+3,,AUTO
         0 000224   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000225   000000 701000 xent               TSX1    DUL$READ
         0 000226   000245 702000 0                  TSX2    NO_HJIT

      103     3776    2        DA.ULS$->BASED_PAGE = DA.VP$(1)->BASED_PAGE;

   3776  0 000227   000000 470400 xsym               LDP0    DD_ANLZSEG$
         0 000230   000001 471500                    LDP1    1,,PR0
         0 000231   000007 473500                    LDP3    7,,PR0
         0 000232   010000 220003                    LDX0    4096,DU
         0 000233   040140 100540                    MLR     fill='040'O
         0 000234   300000 000010                    ADSC9   0,,PR3                   cn=0,n=*X0
         0 000235   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0

      104     3777    2        RETURN;

   3777  0 000236   200010 221300                    LDX1  ! I+1,,AUTO
         0 000237   000001 702211                    TSX2  ! 1,X1

      105     3778                                                /**/
      106     3779    2   NO_JIT:
      107     3780    2        S_D.ERROR = E@ANLZ_NOJIT;          /*E@ANLZ_NOJIT*/

   3780  0 000240   000221 235007       NO_JIT       LDA     145,DL
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:18   
         0 000241   000000 470400 xsym               LDP0    S_D$
         0 000242   000013 755100                    STA     11,,PR0

      108     3781    2        ALTRETURN;

   3781  0 000243   200010 221300                    LDX1  ! I+1,,AUTO
         0 000244   000000 702211                    TSX2  ! 0,X1

      109     3782    2   NO_HJIT:
      110     3783    2        S_D.ERROR = E@ANLZ_NOHJIT;         /*E@ANLZ_NOHJIT*/

   3783  0 000245   000220 235007       NO_HJIT      LDA     144,DL
         0 000246   000000 470400 xsym               LDP0    S_D$
         0 000247   000013 755100                    STA     11,,PR0

      111     3784    2        ALTRETURN;

   3784  0 000250   200010 221300                    LDX1  ! I+1,,AUTO
         0 000251   000000 702211                    TSX2  ! 0,X1

      112     3785    2   END SETUP_USER;
      113     3786                                                /**/
      114     3787                                      /* Read the mon jit and hjit, set up pt and ls */
      115     3788                                                /**/
      116     3789    1   SETUP_MON: PROC ALTRET;

   3789  0 000252   200010 741300       SETUP_MON    STX1  ! I+1,,AUTO

      117     3790                                                /**/
      118     3791    2        DA.MONKEY = '0'B;

   3791  0 000253   000000 235003                    LDA     0,DU
         0 000254   000000 236003                    LDQ     0,DU
         0 000255   000000 470400 xsym               LDP0    DD_ANLZSEG$
         0 000256   000030 757100                    STAQ    24,,PR0

      119     3792    2        DA.MONKEY.K.TYP = %R_MWSQ#;
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:19   

   3792  0 000257   002000 236007                    LDQ     1024,DL
         0 000260   000030 552110                    STBQ    24,'10'O,PR0

      120     3793    2        DA.MONKEY.K.USR# = CPU#;

   3793  0 000261   200005 471500                    LDP1    @CPU#,,AUTO
         0 000262   100000 236100                    LDQ     0,,PR1
         0 000263   000033 736000                    QLS     27
         0 000264   000031 552140                    STBQ    25,'40'O,PR0

      121     3794    2        DA.MONKEY.K.NODEIDX = DA.NODEIDX;

   3794  0 000265   000024 236100                    LDQ     20,,PR0
         0 000266   000022 736000                    QLS     18
         0 000267   000030 552120                    STBQ    24,'20'O,PR0

      122     3795    2        DA.MONKEY.L = 7;

   3795  0 000270   007000 236003                    LDQ     3584,DU
         0 000271   000030 552140                    STBQ    24,'40'O,PR0

      123     3796    2        DA.CURKEY = DA.MONKEY;

   3796  0 000272   000030 237100                    LDAQ    24,,PR0
         0 000273   000026 757100                    STAQ    22,,PR0

      124     3797    2        DA.CURKEY.K.VP# = 0;

   3797  0 000274   000000 236003                    LDQ     0,DU
         0 000275   000027 552134                    STBQ    23,'34'O,PR0

      125     3798    2        CALL DUL$READ(DA.VP$(1), 4096) ALTRET(NO_JIT);

   3798  0 000276   000001 236000 1                  LDQ     1
         0 000277   200013 756100                    STQ     I+4,,AUTO
         0 000300   000000 236000 xsym               LDQ     DD_ANLZSEG$
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:20   
         0 000301   000007 036003                    ADLQ    7,DU
         0 000302   200012 756100                    STQ     I+3,,AUTO
         0 000303   200012 630500                    EPPR0   I+3,,AUTO
         0 000304   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000305   000000 701000 xent               TSX1    DUL$READ
         0 000306   000343 702000 0                  TSX2    NO_JIT

      126     3799    2        DA.MONPT$->BASED_PAGE = DA.VP$(1)->BASED_PAGE;

   3799  0 000307   000000 470400 xsym               LDP0    DD_ANLZSEG$
         0 000310   000003 471500                    LDP1    3,,PR0
         0 000311   000007 473500                    LDP3    7,,PR0
         0 000312   010000 220003                    LDX0    4096,DU
         0 000313   040140 100540                    MLR     fill='040'O
         0 000314   300000 000010                    ADSC9   0,,PR3                   cn=0,n=*X0
         0 000315   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0

      127     3800    2        DA.CURKEY.K.VP# = 13;

   3800  0 000316   000000 470400 xsym               LDP0    DD_ANLZSEG$
         0 000317   000015 236007                    LDQ     13,DL
         0 000320   000027 552134                    STBQ    23,'34'O,PR0

      128     3801    2        CALL DUL$READ(DA.VP$(1), 4096) ALTRET(NO_HJIT);

   3801  0 000321   000001 236000 1                  LDQ     1
         0 000322   200013 756100                    STQ     I+4,,AUTO
         0 000323   000000 236000 xsym               LDQ     DD_ANLZSEG$
         0 000324   000007 036003                    ADLQ    7,DU
         0 000325   200012 756100                    STQ     I+3,,AUTO
         0 000326   200012 630500                    EPPR0   I+3,,AUTO
         0 000327   000020 631400 xsym               EPPR1   B_VECTNIL+16
         0 000330   000000 701000 xent               TSX1    DUL$READ
         0 000331   000350 702000 0                  TSX2    NO_HJIT

      129     3802    2        DA.MONLS$->BASED_PAGE = DA.VP$(1)->BASED_PAGE;

PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:21   
   3802  0 000332   000000 470400 xsym               LDP0    DD_ANLZSEG$
         0 000333   000000 471500                    LDP1    0,,PR0
         0 000334   000007 473500                    LDP3    7,,PR0
         0 000335   010000 220003                    LDX0    4096,DU
         0 000336   040140 100540                    MLR     fill='040'O
         0 000337   300000 000010                    ADSC9   0,,PR3                   cn=0,n=*X0
         0 000340   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0

      130     3803    2        RETURN;

   3803  0 000341   200010 221300                    LDX1  ! I+1,,AUTO
         0 000342   000001 702211                    TSX2  ! 1,X1

      131     3804                                                /**/
      132     3805    2   NO_JIT:
      133     3806    2        S_D.ERROR = E@ANLZ_NOJIT;          /*E@ANLZ_NOJIT*/

   3806  0 000343   000221 235007       NO_JIT       LDA     145,DL
         0 000344   000000 470400 xsym               LDP0    S_D$
         0 000345   000013 755100                    STA     11,,PR0

      134     3807    2        ALTRETURN;

   3807  0 000346   200010 221300                    LDX1  ! I+1,,AUTO
         0 000347   000000 702211                    TSX2  ! 0,X1

      135     3808    2   NO_HJIT:
      136     3809    2        S_D.ERROR = E@ANLZ_NOHJIT;         /*E@ANLZ_NOHJIT*/

   3809  0 000350   000220 235007       NO_HJIT      LDA     144,DL
         0 000351   000000 470400 xsym               LDP0    S_D$
         0 000352   000013 755100                    STA     11,,PR0

      137     3810    2        ALTRETURN;

   3810  0 000353   200010 221300                    LDX1  ! I+1,,AUTO
         0 000354   000000 702211                    TSX2  ! 0,X1
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:22   

(unnamed)
 Sect OctLoc
   1     000   000000 010000   000000 006000                                    ........
      138     3811    2   END SETUP_MON;
      139     3812    1   END DUL$USE;

PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:23   
--  Include file information  --

   DD$DA.:E05TOU  cannot be made into a system file and is referenced.
   IR_DATA_M.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   DD_SUBS_C.:E05TOU  is referenced.
   DD_ERR_C.:E05TOU  is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is never referenced.
      No diagnostics issued in procedure DUL$USE.

   Procedure DUL$USE requires 237 words for executable code.
   Procedure DUL$USE requires 12 words of local(AUTO) storage.

    No errors detected in file DUL$USE.:E05TSI    .
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:24   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:25   
          MINI XREF LISTING

ALT1
      3752**LABEL    3728--CALLALT  3746--CALLALT
ALT2
      3756**LABEL    3739--GOTO     3741--CALLALT
BASED_BIT
        21**DCL      3733<<ASSIGN   3756<<ASSIGN
BASED_PAGE
        20**DCL      3773<<ASSIGN   3773>>ASSIGN   3776<<ASSIGN   3776>>ASSIGN   3799<<ASSIGN   3799>>ASSIGN
      3802<<ASSIGN   3802>>ASSIGN
CPU#
        16**DCL        12--PROC     3793>>ASSIGN
DA.CURKEY
      3630**DCL      3770<<ASSIGN   3796<<ASSIGN
DA.CURKEY.K.VP#
      3633**DCL      3771<<ASSIGN   3774<<ASSIGN   3797<<ASSIGN   3800<<ASSIGN
DA.CURLS$
      3604**DCL      3730<<ASSIGN   3748<<ASSIGN   3753<<ASSIGN
DA.CURPT$
      3607**DCL      3729<<ASSIGN   3747<<ASSIGN   3752<<ASSIGN
DA.MONKEY
      3648**DCL      3791<<ASSIGN   3796>>ASSIGN
DA.MONKEY.K.NODEIDX
      3650**DCL      3794<<ASSIGN
DA.MONKEY.K.TYP
      3650**DCL      3792<<ASSIGN
DA.MONKEY.K.USR#
      3650**DCL      3793<<ASSIGN
DA.MONKEY.L
      3650**DCL      3795<<ASSIGN
DA.MONLS$
      3602**DCL      3730>>ASSIGN   3802>>ASSIGN
DA.MONPT$
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:26   
      3605**DCL      3729>>ASSIGN   3799>>ASSIGN
DA.NODEIDX
      3616**DCL      3768>>ASSIGN   3794>>ASSIGN
DA.UKEY
      3666**DCL      3764<<ASSIGN   3770>>ASSIGN
DA.UKEY.K.NODEIDX
      3668**DCL      3768<<ASSIGN
DA.UKEY.K.STYP
      3668**DCL      3766<<ASSIGN
DA.UKEY.K.TYP
      3668**DCL      3765<<ASSIGN
DA.UKEY.K.USR#
      3668**DCL      3767<<ASSIGN
DA.UKEY.L
      3668**DCL      3769<<ASSIGN
DA.ULS$
      3603**DCL      3748>>ASSIGN   3776>>ASSIGN
DA.UPT$
      3606**DCL      3733>>ASSIGN   3747>>ASSIGN   3756>>ASSIGN   3773>>ASSIGN
DA.USRDIR$
      3610**DCL      3721>>IF       3736>>IF       3766>>ASSIGN
DA.VP#
      3613**DCL      3719<<ASSIGN
DA.VP$
      3608**DCL      3772<>CALL     3773>>ASSIGN   3775<>CALL     3776>>ASSIGN   3798<>CALL     3799>>ASSIGN
      3801<>CALL     3802>>ASSIGN
DA_USRDIR.USER.SZ
      3676**DCL      3721>>IF       3736>>IF
DA_USRDIR.USER.TYP
      3676**DCL      3766>>ASSIGN
DDE$ERROR
      3708**DCL-ENT  3757--CALL
DD_ANLZSEG$
      3600**DCL      3601--IMP-PTR  3719>>ASSIGN   3721>>IF       3729>>ASSIGN   3729>>ASSIGN   3730>>ASSIGN
      3730>>ASSIGN   3733>>ASSIGN   3736>>IF       3747>>ASSIGN   3747>>ASSIGN   3748>>ASSIGN   3748>>ASSIGN
      3752>>ASSIGN   3753>>ASSIGN   3756>>ASSIGN   3764>>ASSIGN   3765>>ASSIGN   3766>>ASSIGN   3766>>ASSIGN
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:27   
      3767>>ASSIGN   3768>>ASSIGN   3768>>ASSIGN   3769>>ASSIGN   3770>>ASSIGN   3770>>ASSIGN   3771>>ASSIGN
      3772>>CALL     3773>>ASSIGN   3773>>ASSIGN   3774>>ASSIGN   3775>>CALL     3776>>ASSIGN   3776>>ASSIGN
      3791>>ASSIGN   3792>>ASSIGN   3793>>ASSIGN   3794>>ASSIGN   3794>>ASSIGN   3795>>ASSIGN   3796>>ASSIGN
      3796>>ASSIGN   3797>>ASSIGN   3798>>CALL     3799>>ASSIGN   3799>>ASSIGN   3800>>ASSIGN   3801>>CALL
      3802>>ASSIGN   3802>>ASSIGN
DOMAINN
        17**DCL        12--PROC     3710>>IF
DUL$READ
      3707**DCL-ENT  3772--CALL     3775--CALL     3798--CALL     3801--CALL
I
        18**DCL      3718<<DOINDEX  3719>>ASSIGN
NO_HJIT IN PROCEDURE SETUP_MON
      3809**LABEL    3801--CALLALT
NO_HJIT IN PROCEDURE SETUP_USER
      3783**LABEL    3775--CALLALT
NO_JIT IN PROCEDURE SETUP_MON
      3806**LABEL    3798--CALLALT
NO_JIT IN PROCEDURE SETUP_USER
      3780**LABEL    3772--CALLALT
SETUP_MON
      3789**PROC     3728--CALL
SETUP_USER
      3762**PROC     3741--CALL     3746--CALL
S_D.CURRENT_CHANNEL
      3063**DCL      3065--REDEF
S_D.DEBUGA
      2215**DCL      2217--REDEF
S_D.EIS
      3173**DCL      3202--REDEF
S_D.ERROR
      2144**DCL      3723<<ASSIGN   3738<<ASSIGN   3780<<ASSIGN   3783<<ASSIGN   3806<<ASSIGN   3809<<ASSIGN
S_D.HOST_MESSAGE_BUF_REMOTE
      3106**DCL      3107--REDEF    3121--REDEF
S_D.JDE
      2720**DCL      2721--REDEF
S_D.L$.VALUE
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:28   
      2273**DCL      2279--REDEF    2287--REDEF    2290--REDEF    2293--REDEF    2296--REDEF
S_D.L$.VALUE.L
      2274**DCL      2275--REDEF    2276--REDEF
S_D.L6_MESSAGE_BUF
      3127**DCL      3129--REDEF
S_D.OUTPUT
      3093**DCL      3095--REDEF
S_D.REMOTE_MSG.FNCC
      3112**DCL      3113--REDEF
S_D.REMOTE_MSG.STXC
      3108**DCL      3109--REDEF
S_D.REMOTE_MSG.SUBFNCC
      3116**DCL      3117--REDEF
S_D.SV
      2172**DCL      2193--REDEF
S_D$
      3424**DCL      2120--IMP-PTR  3723>>ASSIGN   3738>>ASSIGN   3780>>ASSIGN   3783>>ASSIGN   3806>>ASSIGN
      3809>>ASSIGN
TYPE
        14**DCL        12--PROC     3710>>IF       3710>>IF       3710>>IF       3721>>IF       3726>>IF
      3744>>IF
USR#
        15**DCL        12--PROC     3721>>IF       3731>>IF       3736>>IF       3766>>ASSIGN   3767>>ASSIGN
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:29   
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DUL$USE File=DUL$USE.:E05TSI                                  TUE 07/29/97 14:56 Page:30   
              MINI UREF LISTING

DUL$USE      12**PROC

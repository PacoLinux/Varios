VERSION E05

PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:1    
        1        1        /*M* LLW$WRTDEF - Symbol table writer                               */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* PLM=4,STI=0,IND=4,CTI=3,DCI=4,ECI=4,CSI=0,THI=0,DTI=0,ENI=4,
        8        8             CLM=0,SQB,NTB,MOC,CCI=3,NLB,MCL=0,EDMC*/
        9        9        /*F* NAME:         LLW$WRTDEF
       10       10             PURPOSE:      Writes ENTDEF and SYMDEF records into the run
       11       11                           unit from the symbol tables                      */
       12       12        LLW$WRTDEF: PROC (ROOT$, AVAIL$, TYPE, NAME$);
       13       13        %INCLUDE B$OBJECT_C;
       14     3443        %INCLUDE LL_SUBS_C;
       15     3572        %INCLUDE LL_MACS_C;
       16     3926        %INCLUDE LL_DATA_R;
       17     3962        %B$EDEF ( NAME = LL_ENTDEF );
       18     4032        %B$SDEF ( NAME = LL_SYMDEF );
       19     4086        %B$EDEF ( NAME = NODE );
       20     4156        %B$DNAME;
       21     4175        %B$HEAD (NAME=LL_HEAD , STCLASS = SYMREF);
       22     4375        %B$FEP_RUKEY (NAME=RUKEY);
       23     4399        %LL$NODE ( NAME = TREE );
       24     4431        %LL$OU_ENTRY ( NAME = OU_ENTRY );
       25     4479    1   DCL ROOT$ PTR;
       26     4480    1   DCL AVAIL$ PTR;
       27     4481    1   DCL TYPE UBIN WORD ALIGNED;
       28     4482    1   DCL NAME$ PTR;
       29     4483    1   DCL 1 BUFFER(0:2047) ALIGNED,
       30     4484    1         2 * CHAR(8) UNAL;
       31     4485    1   DCL STACK$(0:0) PTR BASED(AVAIL$) ALIGNED;
       32     4486    1   DCL I UBIN WORD ALIGNED;
       33     4487    1   DCL J UBIN WORD ALIGNED;
       34     4488    1   DCL L UBIN WORD ALIGNED;
       35     4489    1   DCL N UBIN WORD ALIGNED;
       36     4490    1   DCL TPTR$ PTR;
       37     4491    1   DCL NPTR$ PTR;
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:2    
       38     4492    1   DCL TREE$ PTR;
       39     4493    1   DCL TEMP UBIN WORD ALIGNED;
       40     4494    1   DCL I_HAVENT_YELLED# BIT(1) UNAL;
       41     4495    1   DCL 1 OU_FID(0:0) BASED(LL_OF$) ALIGNED,
       42     4496    1         2 NAME CHAR(50),
       43     4497    1         2 BIAS SBIN WORD;
       44     4498    1   DCL FOUND BIT(1) ;
       45     4499    1   DCL SAVE$ PTR;
       46     4500    1   DCL REGION UBIN BYTE;
       47     4501    1   DCL NEXT_REGION UBIN BYTE;
       48     4502    1   DCL LLM$MON_SVC ENTRY(4) ALTRET;
       49     4503        %EJECT;
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:3    
       50     4504    1   BEGIN:
       51     4505    1       I_HAVENT_YELLED# = '1'B;
       52     4506    1       TPTR$ = ROOT$;
       53     4507    1       N = 0;
       54     4508    1       I = 0;
       55     4509    1       RUKEY.TYPE = TYPE;
       56     4510    1       RUKEY.NODE = 0;
       57     4511    1       RUKEY.PAGE = 0;
       58     4512    2       DO WHILE ( 1 = 1 ); /* Do until hell freezes over */
       59     4513    3           IF (TPTR$ ~= ADDR(NIL)) THEN DO;
       60     4514    3               STACK$(I) = TPTR$;
       61     4515    3               I = I + 1;
       62     4516    3               TPTR$ = TPTR$ -> TREE.L_CHILD$;
       63     4517    3               END;
       64     4518    3           ELSE DO;
       65     4519    4               IF (I ~= 0) THEN DO;
       66     4520    4                   I = I - 1;
       67     4521    4                   TPTR$ = STACK$(I);
       68     4522    4                   END;
       69     4523    4               ELSE DO;
       70     4524    4                   IF TYPE = 4
       71     4525    4                   THEN LL_HEAD.EPRECSIZE = N * 2;
       72     4526    4                   ELSE LL_HEAD.EDRECSIZE = N * 2;
       73     4527    4                   IF (N > 0) THEN
       74     4528    4                       CALL LLM$MON_SVC (LL#WRITERU, ADDR(BUFFER), N*8-1,
       75     4529    4                          RUKEY);
       76     4530    4                   RETURN;
       77     4531    4                   END;
       78     4532    4               IF ( TYPE = 4 ) THEN DO;
       79     4533    4                   FOUND = '0'B;
       80     4534    4                   SAVE$ = TPTR$;
       81     4535    4                   IF (SAVE$->TREE.BROTHER$ ~= ADDR(NIL))
       82     4536    4                   THEN
       83     4537    5                   DO;
       84     4538    6                       DO WHILE (SAVE$->TREE.BROTHER$ ~= ADDR(NIL));
       85     4539    6                           IF SAVE$->TREE.NODE$->LL_ENTDEF.LFLAGS.MULTIPLE = '1'B
       86     4540    6                           THEN
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:4    
       87     4541    6                               FOUND = '1'B;
       88     4542    6                           SAVE$ = SAVE$->TREE.BROTHER$;
       89     4543    6                           END;
       90     4544    5                       END;
       91     4545    4                   IF FOUND
       92     4546    4                   THEN
       93     4547    5                   DO;
       94     4548    6                       IF ( I_HAVENT_YELLED# ) THEN DO;
       95     4549    6                           LL_DOBUF = 'C';
       96     4550    6                           CALL LLM$MON_SVC ( LL#WRITEDO );
       97     4551    6                           LL_DOBUF =
              4551                                    'B******** MULTIPLY DEFINED ENTRY DEFINITIONS ********';
       98     4552    6                           CALL LLM$MON_SVC ( LL#WRITEDO );
       99     4553    6                           I_HAVENT_YELLED# = '0'B;
      100     4554    6                           END;
      101     4555    5                       LL_DOBUF = 'A    ENTDEF ';
      102     4556    5                       END;
      103     4557    4                   END;
      104     4558    4               ELSE DO;
      105     4559    4                   FOUND = '0'B;
      106     4560    4                   SAVE$ = TPTR$;
      107     4561    4                   IF (SAVE$->TREE.BROTHER$ ~= ADDR(NIL))
      108     4562    4                   THEN
      109     4563    5                   DO;
      110     4564    6                       DO WHILE (SAVE$->TREE.BROTHER$ ~= ADDR(NIL));
      111     4565    6                           IF SAVE$->TREE.NODE$->LL_SYMDEF.LFLAGS.MULTIPLE = '1'B
      112     4566    6                           THEN
      113     4567    6                               FOUND = '1'B;
      114     4568    6                           SAVE$ = SAVE$->TREE.BROTHER$;
      115     4569    6                           END;
      116     4570    5                       END;
      117     4571    5                   IF FOUND THEN DO;
      118     4572    6                       IF ( I_HAVENT_YELLED# ) THEN DO;
      119     4573    6                           LL_DOBUF = 'C';
      120     4574    6                           CALL LLM$MON_SVC ( LL#WRITEDO );
      121     4575    6                           LL_DOBUF =
              4575                                    'B******** MULTIPLY DEFINED SYMBOL DEFINITIONS ********'
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:5    
              4575                                    ;
      122     4576    6                           CALL LLM$MON_SVC ( LL#WRITEDO );
      123     4577    6                           I_HAVENT_YELLED# = '0'B;
      124     4578    6                           END;
      125     4579    5                       LL_DOBUF = 'A    SYMDEF ';
      126     4580    5                       END;
      127     4581    4                   END;
      128     4582    3               IF (TPTR$-> TREE.BROTHER$ ~= ADDR(NIL))
      129     4583    3               THEN
      130     4584    4               DO;
      131     4585    4                   SAVE$ = TPTR$;
      132     4586    5                   DO WHILE (SAVE$->TREE.BROTHER$ ~= ADDR(NIL));
      133     4587    5                       IF (SAVE$->TREE.NODE$->LL_SYMDEF.LFLAGS.MULTIPLE = '1'B)
      134     4588    5                          OR (SAVE$->TREE.NODE$->LL_ENTDEF.LFLAGS.MULTIPLE = '1'B)
      135     4589    5                       THEN
      136     4590    6                       DO;
      137     4591    6                           TREE$ = SAVE$ -> TREE.BROTHER$;
      138     4592    6                           TEMP = SAVE$->TREE.NODE$-> NODE.NPOINTER;
      139     4593    6                           NPTR$ = PINCRW ( NAME$, TEMP );
      140     4594    6                           CALL INSERT ( LL_DOBUF, 12, ,
      141     4595    6                              NPTR$ -> B$DNAME.TEXT,
      142     4596    6                              ' defined in object unit ',
      143     4597    6                              SAVE$->TREE.OU$->OU_ENTRY.OUNAME.TEXT,
      144     4598    6                              ' from object file ',
      145     4599    6                              OU_FID.NAME(SAVE$->TREE.OU$->OU_ENTRY.OF));
      146     4600    6                           CALL LLM$MON_SVC ( LL#WRITEDO );
      147     4601    7                           IF ( TYPE = 6 ) THEN DO;
      148     4602    7                               CALL INSERT ( LL_DOBUF, 0, ,
      149     4603    7                              'A        has been used to satisfy references to SYMDEF '
              4603                                           ,
      150     4604    7                                  NPTR$ -> B$DNAME.TEXT,
      151     4605    7                                  '.' );
      152     4606    7                               END;
      153     4607    7                           ELSE DO;
      154     4608    7                               CALL INSERT ( LL_DOBUF, 0, ,
      155     4609    7                              'A        has been used to satisfy references to ENTDEF '
              4609                                           ,
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:6    
      156     4610    7                                  NPTR$ -> B$DNAME.TEXT,
      157     4611    7                                  '.' );
      158     4612    7                               END;
      159     4613    6                           CALL LLM$MON_SVC ( LL#WRITEDO );
      160     4614    6                           LL_DOBUF =
              4614                         'A        Other definitions were found in the following module(s):'
              4614                                    ;
      161     4615    6                           CALL LLM$MON_SVC ( LL#WRITEDO );
      162     4616    6                           IF SAVE$->TREE.OU$ = ADDR(NIL)
      163     4617    6                           THEN
      164     4618    6                               REGION = 0;
      165     4619    6                           ELSE
      166     4620    6                               NEXT_REGION = SAVE$->TREE.OU$->OU_ENTRY.REGION;
      167     4621    7                           DO WHILE ( TREE$ ~= ADDR(NIL) );
      168     4622    7                               IF TREE$->TREE.OU$ = ADDR(NIL)
      169     4623    7                               THEN
      170     4624    7                                   NEXT_REGION = 0;
      171     4625    7                               ELSE
      172     4626    7                                   NEXT_REGION = TREE$->TREE.OU$->OU_ENTRY.REGION;
      173     4627    7                               IF REGION = NEXT_REGION
      174     4628    7                               THEN
      175     4629    8                               DO;
      176     4630    8                                   IF TREE$->TREE.OU$ = ADDR(NIL)
      177     4631    9                                   THEN DO; /* This was defined by FEPLINK */
      178     4632    9                                       LL_DOBUF = 'A            Defined by FEPLINK';
      179     4633    9                                       END;
      180     4634    9                                   ELSE DO;
      181     4635    9                                       CALL INSERT ( LL_DOBUF, 0, ,
      182     4636    9                                          'A            Object unit ',
      183     4637    9                                          TREE$ -> TREE.OU$ -> OU_ENTRY.OUNAME.TEXT,
      184     4638    9                                          ' from object file ',
      185     4639    9                                          OU_FID.NAME(TREE$->TREE.OU$->OU_ENTRY.OF));
      186     4640    9                                       END;
      187     4641    8                                   CALL LLM$MON_SVC ( LL#WRITEDO );
      188     4642    8                                   END;
      189     4643    7                               TREE$ = TREE$ -> TREE.BROTHER$;
      190     4644    7                               END;
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:7    
      191     4645    6                           END;
      192     4646    5                       SAVE$ = SAVE$->TREE.BROTHER$;
      193     4647    5                       END;
      194     4648    4                   END;
      195     4649    3               BUFFER(N) = TPTR$ -> TREE.NODE$ -> NODE;
      196     4650    3               N = N + 1;
      197     4651    3               TPTR$ = TPTR$ -> TREE.R_CHILD$;
      198     4652    3               END;
      199     4653    2           END;
      200     4654    1   END LLW$WRTDEF;

PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:8    
--  Include file information  --

   LL_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   LL_MACS_C.:E05TOU  is referenced.
   LL_SUBS_C.:E05TOU  is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
      No diagnostics issued in procedure LLW$WRTDEF.

   Procedure LLW$WRTDEF requires 413 words for executable code.
   Procedure LLW$WRTDEF requires 4124 words of local(AUTO) storage.

    No errors detected in file LLW$WRTDEF.:E05TSI    .

PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:9    

 Object Unit name= LLW$WRTDEF                                 File name= LLW$WRTDEF.:E05TOU
 UTS= JUL 30 '97 03:18:08.20 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   Data  even  none     2      2  LLW$WRTDEF
    1  RoData even  UTS    105    151  LLW$WRTDEF
    2   Proc  even  none   413    635  LLW$WRTDEF
    3  RoData even  none     7      7  LLW$WRTDEF

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     2      0   yes            yes      Std        4  LLW$WRTDEF

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       4 LLM$MON_SVC
                       nStd      0 X66_AUTO_4
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     LL_OF$                                LL_DOBUF                              LL_HEAD
     B_VECTNIL
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:10   

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:11   


        1        1        /*M* LLW$WRTDEF - Symbol table writer                               */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* PLM=4,STI=0,IND=4,CTI=3,DCI=4,ECI=4,CSI=0,THI=0,DTI=0,ENI=4,
        8        8             CLM=0,SQB,NTB,MOC,CCI=3,NLB,MCL=0,EDMC*/
        9        9        /*F* NAME:         LLW$WRTDEF
       10       10             PURPOSE:      Writes ENTDEF and SYMDEF records into the run
       11       11                           unit from the symbol tables                      */
       12       12        LLW$WRTDEF: PROC (ROOT$, AVAIL$, TYPE, NAME$);

     12  2 000000   000000 700200 xent  LLW$WRTDEF   TSX0  ! X66_AUTO_4
         2 000001   010034 000004                    ZERO    4124,4

       13       13        %INCLUDE B$OBJECT_C;
       14     3443        %INCLUDE LL_SUBS_C;
       15     3572        %INCLUDE LL_MACS_C;
       16     3926        %INCLUDE LL_DATA_R;
       17     3962        %B$EDEF ( NAME = LL_ENTDEF );
       18     4032        %B$SDEF ( NAME = LL_SYMDEF );
       19     4086        %B$EDEF ( NAME = NODE );
       20     4156        %B$DNAME;
       21     4175        %B$HEAD (NAME=LL_HEAD , STCLASS = SYMREF);
       22     4375        %B$FEP_RUKEY (NAME=RUKEY);
       23     4399        %LL$NODE ( NAME = TREE );
       24     4431        %LL$OU_ENTRY ( NAME = OU_ENTRY );
       25     4479    1   DCL ROOT$ PTR;
       26     4480    1   DCL AVAIL$ PTR;
       27     4481    1   DCL TYPE UBIN WORD ALIGNED;
       28     4482    1   DCL NAME$ PTR;
       29     4483    1   DCL 1 BUFFER(0:2047) ALIGNED,
       30     4484    1         2 * CHAR(8) UNAL;
       31     4485    1   DCL STACK$(0:0) PTR BASED(AVAIL$) ALIGNED;
       32     4486    1   DCL I UBIN WORD ALIGNED;
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:12   
       33     4487    1   DCL J UBIN WORD ALIGNED;
       34     4488    1   DCL L UBIN WORD ALIGNED;
       35     4489    1   DCL N UBIN WORD ALIGNED;
       36     4490    1   DCL TPTR$ PTR;
       37     4491    1   DCL NPTR$ PTR;
       38     4492    1   DCL TREE$ PTR;
       39     4493    1   DCL TEMP UBIN WORD ALIGNED;
       40     4494    1   DCL I_HAVENT_YELLED# BIT(1) UNAL;
       41     4495    1   DCL 1 OU_FID(0:0) BASED(LL_OF$) ALIGNED,
       42     4496    1         2 NAME CHAR(50),
       43     4497    1         2 BIAS SBIN WORD;
       44     4498    1   DCL FOUND BIT(1) ;
       45     4499    1   DCL SAVE$ PTR;
       46     4500    1   DCL REGION UBIN BYTE;
       47     4501    1   DCL NEXT_REGION UBIN BYTE;
       48     4502    1   DCL LLM$MON_SVC ENTRY(4) ALTRET;
       49     4503        %EJECT;
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:13   
       50     4504    1   BEGIN:
       51     4505    1       I_HAVENT_YELLED# = '1'B;

   4505  2 000002   400000 236003       BEGIN        LDQ     -131072,DU
         2 000003   210020 756100                    STQ     I_HAVENT_YELLED#,,AUTO

       52     4506    1       TPTR$ = ROOT$;

   4506  2 000004   200003 470500                    LDP0    @ROOT$,,AUTO
         2 000005   000000 236100                    LDQ     0,,PR0
         2 000006   210014 756100                    STQ     TPTR$,,AUTO

       53     4507    1       N = 0;

   4507  2 000007   210013 450100                    STZ     N,,AUTO

       54     4508    1       I = 0;

   4508  2 000010   210010 450100                    STZ     I,,AUTO

       55     4509    1       RUKEY.TYPE = TYPE;

   4509  2 000011   200005 471500                    LDP1    @TYPE,,AUTO
         2 000012   100000 236100                    LDQ     0,,PR1
         2 000013   000022 736000                    QLS     18
         2 000014   000000 552020 0                  STBQ    RUKEY,'20'O

       56     4510    1       RUKEY.NODE = 0;

   4510  2 000015   000000 236000 3                  LDQ     0
         2 000016   000000 356000 0                  ANSQ    RUKEY

       57     4511    1       RUKEY.PAGE = 0;

   4511  2 000017   003000 061400                    CSR     bolr='003'O
         2 000020   000002 000044 xsym               BDSC    B_VECTNIL+2              by=0,bit=0,n=36
         2 000021   000000 670024 0                  BDSC    RUKEY                    by=3,bit=7,n=20
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:14   

       58     4512    2       DO WHILE ( 1 = 1 ); /* Do until hell freezes over */

       59     4513    3           IF (TPTR$ ~= ADDR(NIL)) THEN DO;

   4513  2 000022   210014 236100                    LDQ     TPTR$,,AUTO
         2 000023   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 000024   000040 600000 2                  TZE     s:4519

       60     4514    3               STACK$(I) = TPTR$;

   4514  2 000025   200004 470500                    LDP0    @AVAIL$,,AUTO
         2 000026   000000 471500                    LDP1    0,,PR0
         2 000027   210010 720100                    LXL0    I,,AUTO
         2 000030   100000 756110                    STQ     0,X0,PR1

       61     4515    3               I = I + 1;

   4515  2 000031   210010 235100                    LDA     I,,AUTO
         2 000032   000001 035007                    ADLA    1,DL
         2 000033   210010 755100                    STA     I,,AUTO

       62     4516    3               TPTR$ = TPTR$ -> TREE.L_CHILD$;

   4516  2 000034   210014 471500                    LDP1    TPTR$,,AUTO
         2 000035   100004 236100                    LDQ     4,,PR1
         2 000036   210014 756100                    STQ     TPTR$,,AUTO

       63     4517    3               END;

   4517  2 000037   000634 710000 2                  TRA     s:4653

       64     4518    3           ELSE DO;

       65     4519    4               IF (I ~= 0) THEN DO;

   4519  2 000040   210010 235100                    LDA     I,,AUTO
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:15   
         2 000041   000051 600000 2                  TZE     s:4524

       66     4520    4                   I = I - 1;

   4520  2 000042   000001 135007                    SBLA    1,DL
         2 000043   210010 755100                    STA     I,,AUTO

       67     4521    4                   TPTR$ = STACK$(I);

   4521  2 000044   200004 470500                    LDP0    @AVAIL$,,AUTO
         2 000045   000000 471500                    LDP1    0,,PR0
         2 000046   100000 236105                    LDQ     0,AL,PR1
         2 000047   210014 756100                    STQ     TPTR$,,AUTO

       68     4522    4                   END;

   4522  2 000050   000112 710000 2                  TRA     s:4532

       69     4523    4               ELSE DO;

       70     4524    4                   IF TYPE = 4

   4524  2 000051   200005 470500                    LDP0    @TYPE,,AUTO
         2 000052   000000 235100                    LDA     0,,PR0
         2 000053   000004 115007                    CMPA    4,DL
         2 000054   000062 601000 2                  TNZ     s:4526

       71     4525    4                   THEN LL_HEAD.EPRECSIZE = N * 2;

   4525  2 000055   210013 235100                    LDA     N,,AUTO
         2 000056   000001 735000                    ALS     1
         2 000057   000000 620005                    EAX0    0,AL
         2 000060   000007 740000 xsym               STX0    LL_HEAD+7
         2 000061   000066 710000 2                  TRA     s:4527

       72     4526    4                   ELSE LL_HEAD.EDRECSIZE = N * 2;

PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:16   
   4526  2 000062   210013 235100                    LDA     N,,AUTO
         2 000063   000001 735000                    ALS     1
         2 000064   000000 620005                    EAX0    0,AL
         2 000065   000007 440000 xsym               SXL0    LL_HEAD+7

       73     4527    4                   IF (N > 0) THEN

   4527  2 000066   210013 235100                    LDA     N,,AUTO
         2 000067   000111 600000 2                  TZE     s:4530

       74     4528    4                       CALL LLM$MON_SVC (LL#WRITERU, ADDR(BUFFER), N*8-1,

   4528  2 000070   200010 631500                    EPPR1   BUFFER,,AUTO
         2 000071   210026 451500                    STP1    NEXT_REGION+2,,AUTO
         2 000072   000003 735000                    ALS     3
         2 000073   000001 135007                    SBLA    1,DL
         2 000074   210027 755100                    STA     NEXT_REGION+3,,AUTO
         2 000075   000002 236000 3                  LDQ     2
         2 000076   210033 756100                    STQ     NEXT_REGION+7,,AUTO
         2 000077   210027 633500                    EPPR3   NEXT_REGION+3,,AUTO
         2 000100   210032 453500                    STP3    NEXT_REGION+6,,AUTO
         2 000101   210026 634500                    EPPR4   NEXT_REGION+2,,AUTO
         2 000102   210031 454500                    STP4    NEXT_REGION+5,,AUTO
         2 000103   000003 236000 3                  LDQ     3
         2 000104   210030 756100                    STQ     NEXT_REGION+4,,AUTO
         2 000105   210030 630500                    EPPR0   NEXT_REGION+4,,AUTO
         2 000106   000022 631400 xsym               EPPR1   B_VECTNIL+18
         2 000107   000000 701000 xent               TSX1    LLM$MON_SVC
         2 000110   000000 011000                    NOP     0

       75     4529    4                          RUKEY);
       76     4530    4                   RETURN;

   4530  2 000111   000000 702200 xent               TSX2  ! X66_ARET

       77     4531    4                   END;
       78     4532    4               IF ( TYPE = 4 ) THEN DO;
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:17   

   4532  2 000112   200005 473500                    LDP3    @TYPE,,AUTO
         2 000113   300000 235100                    LDA     0,,PR3
         2 000114   000004 115007                    CMPA    4,DL
         2 000115   000171 601000 2                  TNZ     s:4559

       79     4533    4                   FOUND = '0'B;

   4533  2 000116   210021 450100                    STZ     FOUND,,AUTO

       80     4534    4                   SAVE$ = TPTR$;

   4534  2 000117   210022 756100                    STQ     SAVE$,,AUTO

       81     4535    4                   IF (SAVE$->TREE.BROTHER$ ~= ADDR(NIL))

   4535  2 000120   210022 474500                    LDP4    SAVE$,,AUTO
         2 000121   400002 236100                    LDQ     2,,PR4
         2 000122   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 000123   000142 600000 2                  TZE     s:4545

       82     4536    4                   THEN
       83     4537    5                   DO;

       84     4538    6                       DO WHILE (SAVE$->TREE.BROTHER$ ~= ADDR(NIL));

   4538  2 000124   000136 710000 2                  TRA     s:4543

       85     4539    6                           IF SAVE$->TREE.NODE$->LL_ENTDEF.LFLAGS.MULTIPLE = '1'B

   4539  2 000125   210022 470500                    LDP0    SAVE$,,AUTO
         2 000126   000001 471500                    LDP1    1,,PR0
         2 000127   100000 236100                    LDQ     0,,PR1
         2 000130   020000 316003                    CANQ    8192,DU
         2 000131   000134 600000 2                  TZE     s:4542

       86     4540    6                           THEN
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:18   
       87     4541    6                               FOUND = '1'B;

   4541  2 000132   400000 236003                    LDQ     -131072,DU
         2 000133   210021 756100                    STQ     FOUND,,AUTO

       88     4542    6                           SAVE$ = SAVE$->TREE.BROTHER$;

   4542  2 000134   000002 236100                    LDQ     2,,PR0
         2 000135   210022 756100                    STQ     SAVE$,,AUTO

       89     4543    6                           END;

   4543  2 000136   210022 470500                    LDP0    SAVE$,,AUTO
         2 000137   000002 236100                    LDQ     2,,PR0
         2 000140   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 000141   000125 601000 2                  TNZ     s:4539

       90     4544    5                       END;

       91     4545    4                   IF FOUND

   4545  2 000142   210021 234100                    SZN     FOUND,,AUTO
         2 000143   000243 605000 2                  TPL     s:4582

       92     4546    4                   THEN
       93     4547    5                   DO;

       94     4548    6                       IF ( I_HAVENT_YELLED# ) THEN DO;

   4548  2 000144   210020 234100                    SZN     I_HAVENT_YELLED#,,AUTO
         2 000145   000165 605000 2                  TPL     s:4555

       95     4549    6                           LL_DOBUF = 'C';

   4549  2 000146   040000 100400                    MLR     fill='040'O
         2 000147   000004 000001 3                  ADSC9   4                        cn=0,n=1
         2 000150   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:19   

       96     4550    6                           CALL LLM$MON_SVC ( LL#WRITEDO );

   4550  2 000151   000005 630400 3                  EPPR0   5
         2 000152   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 000153   000000 701000 xent               TSX1    LLM$MON_SVC
         2 000154   000000 011000                    NOP     0

       97     4551    6                           LL_DOBUF =
              4551                                   'B******** MULTIPLY DEFINED ENTRY DEFINITIONS ********';

   4551  2 000155   040000 100400                    MLR     fill='040'O
         2 000156   000000 000065 1                  ADSC9   0                        cn=0,n=53
         2 000157   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

       98     4552    6                           CALL LLM$MON_SVC ( LL#WRITEDO );

   4552  2 000160   000005 630400 3                  EPPR0   5
         2 000161   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 000162   000000 701000 xent               TSX1    LLM$MON_SVC
         2 000163   000000 011000                    NOP     0

       99     4553    6                           I_HAVENT_YELLED# = '0'B;

   4553  2 000164   210020 450100                    STZ     I_HAVENT_YELLED#,,AUTO

      100     4554    6                           END;

      101     4555    5                       LL_DOBUF = 'A    ENTDEF ';

   4555  2 000165   040000 100400                    MLR     fill='040'O
         2 000166   000016 000014 1                  ADSC9   14                       cn=0,n=12
         2 000167   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      102     4556    5                       END;

      103     4557    4                   END;
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:20   

   4557  2 000170   000243 710000 2                  TRA     s:4582

      104     4558    4               ELSE DO;

      105     4559    4                   FOUND = '0'B;

   4559  2 000171   210021 450100                    STZ     FOUND,,AUTO

      106     4560    4                   SAVE$ = TPTR$;

   4560  2 000172   210022 756100                    STQ     SAVE$,,AUTO

      107     4561    4                   IF (SAVE$->TREE.BROTHER$ ~= ADDR(NIL))

   4561  2 000173   210022 474500                    LDP4    SAVE$,,AUTO
         2 000174   400002 236100                    LDQ     2,,PR4
         2 000175   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 000176   000215 600000 2                  TZE     s:4571

      108     4562    4                   THEN
      109     4563    5                   DO;

      110     4564    6                       DO WHILE (SAVE$->TREE.BROTHER$ ~= ADDR(NIL));

   4564  2 000177   000211 710000 2                  TRA     s:4569

      111     4565    6                           IF SAVE$->TREE.NODE$->LL_SYMDEF.LFLAGS.MULTIPLE = '1'B

   4565  2 000200   210022 470500                    LDP0    SAVE$,,AUTO
         2 000201   000001 471500                    LDP1    1,,PR0
         2 000202   100001 236100                    LDQ     1,,PR1
         2 000203   200000 316007                    CANQ    65536,DL
         2 000204   000207 600000 2                  TZE     s:4568

      112     4566    6                           THEN
      113     4567    6                               FOUND = '1'B;
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:21   

   4567  2 000205   400000 236003                    LDQ     -131072,DU
         2 000206   210021 756100                    STQ     FOUND,,AUTO

      114     4568    6                           SAVE$ = SAVE$->TREE.BROTHER$;

   4568  2 000207   000002 236100                    LDQ     2,,PR0
         2 000210   210022 756100                    STQ     SAVE$,,AUTO

      115     4569    6                           END;

   4569  2 000211   210022 470500                    LDP0    SAVE$,,AUTO
         2 000212   000002 236100                    LDQ     2,,PR0
         2 000213   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 000214   000200 601000 2                  TNZ     s:4565

      116     4570    5                       END;

      117     4571    5                   IF FOUND THEN DO;

   4571  2 000215   210021 234100                    SZN     FOUND,,AUTO
         2 000216   000243 605000 2                  TPL     s:4582

      118     4572    6                       IF ( I_HAVENT_YELLED# ) THEN DO;

   4572  2 000217   210020 234100                    SZN     I_HAVENT_YELLED#,,AUTO
         2 000220   000240 605000 2                  TPL     s:4579

      119     4573    6                           LL_DOBUF = 'C';

   4573  2 000221   040000 100400                    MLR     fill='040'O
         2 000222   000004 000001 3                  ADSC9   4                        cn=0,n=1
         2 000223   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      120     4574    6                           CALL LLM$MON_SVC ( LL#WRITEDO );

   4574  2 000224   000005 630400 3                  EPPR0   5
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:22   
         2 000225   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 000226   000000 701000 xent               TSX1    LLM$MON_SVC
         2 000227   000000 011000                    NOP     0

      121     4575    6                           LL_DOBUF =
              4575                                   'B******** MULTIPLY DEFINED SYMBOL DEFINITIONS ********'
              4575                                    ;

   4575  2 000230   040000 100400                    MLR     fill='040'O
         2 000231   000021 000066 1                  ADSC9   17                       cn=0,n=54
         2 000232   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      122     4576    6                           CALL LLM$MON_SVC ( LL#WRITEDO );

   4576  2 000233   000005 630400 3                  EPPR0   5
         2 000234   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 000235   000000 701000 xent               TSX1    LLM$MON_SVC
         2 000236   000000 011000                    NOP     0

      123     4577    6                           I_HAVENT_YELLED# = '0'B;

   4577  2 000237   210020 450100                    STZ     I_HAVENT_YELLED#,,AUTO

      124     4578    6                           END;

      125     4579    5                       LL_DOBUF = 'A    SYMDEF ';

   4579  2 000240   040000 100400                    MLR     fill='040'O
         2 000241   000037 000014 1                  ADSC9   31                       cn=0,n=12
         2 000242   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      126     4580    5                       END;

      127     4581    4                   END;

      128     4582    3               IF (TPTR$-> TREE.BROTHER$ ~= ADDR(NIL))

PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:23   
   4582  2 000243   210014 470500                    LDP0    TPTR$,,AUTO
         2 000244   000002 236100                    LDQ     2,,PR0
         2 000245   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 000246   000617 600000 2                  TZE     s:4649

      129     4583    3               THEN
      130     4584    4               DO;

      131     4585    4                   SAVE$ = TPTR$;

   4585  2 000247   210014 236100                    LDQ     TPTR$,,AUTO
         2 000250   210022 756100                    STQ     SAVE$,,AUTO

      132     4586    5                   DO WHILE (SAVE$->TREE.BROTHER$ ~= ADDR(NIL));

   4586  2 000251   000613 710000 2                  TRA     s:4647

      133     4587    5                       IF (SAVE$->TREE.NODE$->LL_SYMDEF.LFLAGS.MULTIPLE = '1'B)

   4587  2 000252   210022 470500                    LDP0    SAVE$,,AUTO
         2 000253   000001 471500                    LDP1    1,,PR0
         2 000254   100001 236100                    LDQ     1,,PR1
         2 000255   200000 316007                    CANQ    65536,DL
         2 000256   000262 601000 2                  TNZ     s:4591
         2 000257   100000 236100                    LDQ     0,,PR1
         2 000260   020000 316003                    CANQ    8192,DU
         2 000261   000610 600000 2                  TZE     s:4646

      134     4588    5                          OR (SAVE$->TREE.NODE$->LL_ENTDEF.LFLAGS.MULTIPLE = '1'B)
      135     4589    5                       THEN
      136     4590    6                       DO;

      137     4591    6                           TREE$ = SAVE$ -> TREE.BROTHER$;

   4591  2 000262   000002 236100                    LDQ     2,,PR0
         2 000263   210016 756100                    STQ     TREE$,,AUTO

PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:24   
      138     4592    6                           TEMP = SAVE$->TREE.NODE$-> NODE.NPOINTER;

   4592  2 000264   100001 236100                    LDQ     1,,PR1
         2 000265   000022 732000                    QRS     18
         2 000266   210017 756100                    STQ     TEMP,,AUTO

      139     4593    6                           NPTR$ = PINCRW ( NAME$, TEMP );

   4593  2 000267   200006 473500                    LDP3    @NAME$,,AUTO
         2 000270   300000 474500                    LDP4    0,,PR3
         2 000271   400000 635506                    EPPR5   0,QL,PR4
         2 000272   210015 455500                    STP5    NPTR$,,AUTO

      140     4594    6                           CALL INSERT ( LL_DOBUF, 12, ,

   4594  2 000273   500000 220100                    LDX0    0,,PR5
         2 000274   000000 476500                    LDP6    0,,PR0
         2 000275   600015 236100                    LDQ     13,,PR6
         2 000276   000033 772000                    QRL     27
         2 000277   000000 621006                    EAX1    0,QL
         2 000300   600000 236100                    LDQ     0,,PR6
         2 000301   000016 402007                    MPY     14,DL
         2 000302   040000 100540                    MLR     fill='040'O
         2 000303   500000 400010                    ADSC9   0,,PR5                   cn=2,n=*X0
         2 000304   000003 000144 xsym               ADSC9   LL_DOBUF+3               cn=0,n=100
         2 000305   000000 622006                    EAX2    0,QL
         2 000306   000000 636010                    EAQ     0,X0
         2 000307   000022 772000                    QRL     18
         2 000310   000144 116007                    CMPQ    100,DL
         2 000311   000373 603000 2                  TRC     s:4600
         2 000312   210026 740100                    STX0    NEXT_REGION+2,,AUTO
         2 000313   777633 620010                    EAX0    -101,X0
         2 000314   777777 660003                    ERX0    -1,DU
         2 000315   210026 235100                    LDA     NEXT_REGION+2,,AUTO
         2 000316   000022 771000                    ARL     18
         2 000317   040045 100400                    MLR     fill='040'O
         2 000320   000042 000030 1                  ADSC9   34                       cn=0,n=24
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:25   
         2 000321   000003 000010 xsym               ADSC9   LL_DOBUF+3,A             cn=0,n=*X0
         2 000322   210026 236100                    LDQ     NEXT_REGION+2,,AUTO
         2 000323   000022 772000                    QRL     18
         2 000324   000114 116007                    CMPQ    76,DL
         2 000325   000373 603000 2                  TRC     s:4600
         2 000326   777663 620006                    EAX0    -77,QL
         2 000327   777777 660003                    ERX0    -1,DU
         2 000330   040046 100540                    MLR     fill='040'O
         2 000331   600015 200011                    ADSC9   13,,PR6                  cn=1,n=*X1
         2 000332   000011 000010 xsym               ADSC9   LL_DOBUF+9,Q             cn=0,n=*X0
         2 000333   000000 635011                    EAA     0,X1
         2 000334   000022 771000                    ARL     18
         2 000335   210027 755100                    STA     NEXT_REGION+3,,AUTO
         2 000336   210027 036100                    ADLQ    NEXT_REGION+3,,AUTO
         2 000337   000114 116007                    CMPQ    76,DL
         2 000340   000373 603000 2                  TRC     s:4600
         2 000341   000000 635011                    EAA     0,X1
         2 000342   000022 771000                    ARL     18
         2 000343   210030 755100                    STA     NEXT_REGION+4,,AUTO
         2 000344   210031 756100                    STQ     NEXT_REGION+5,,AUTO
         2 000345   210026 236100                    LDQ     NEXT_REGION+2,,AUTO
         2 000346   000022 772000                    QRL     18
         2 000347   210030 036100                    ADLQ    NEXT_REGION+4,,AUTO
         2 000350   210031 721100                    LXL1    NEXT_REGION+5,,AUTO
         2 000351   777663 621011                    EAX1    -77,X1
         2 000352   777777 661003                    ERX1    -1,DU
         2 000353   040046 100400                    MLR     fill='040'O
         2 000354   000050 000022 1                  ADSC9   40                       cn=0,n=18
         2 000355   000011 000011 xsym               ADSC9   LL_DOBUF+9,Q             cn=0,n=*X1
         2 000356   210032 756100                    STQ     NEXT_REGION+6,,AUTO
         2 000357   210031 236100                    LDQ     NEXT_REGION+5,,AUTO
         2 000360   000072 116007                    CMPQ    58,DL
         2 000361   000373 603000 2                  TRC     s:4600
         2 000362   000000 635012                    EAA     0,X2
         2 000363   000020 771000                    ARL     16
         2 000364   777705 622006                    EAX2    -59,QL
         2 000365   777777 662003                    ERX2    -1,DU
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:26   
         2 000366   000000 471400 xsym               LDP1    LL_OF$
         2 000367   210032 236100                    LDQ     NEXT_REGION+6,,AUTO
         2 000370   040046 100505                    MLR     fill='040'O
         2 000371   100000 000062                    ADSC9   0,A,PR1                  cn=0,n=50
         2 000372   000015 400012 xsym               ADSC9   LL_DOBUF+13,Q            cn=2,n=*X2

      141     4595    6                              NPTR$ -> B$DNAME.TEXT,
      142     4596    6                              ' defined in object unit ',
      143     4597    6                              SAVE$->TREE.OU$->OU_ENTRY.OUNAME.TEXT,
      144     4598    6                              ' from object file ',
      145     4599    6                              OU_FID.NAME(SAVE$->TREE.OU$->OU_ENTRY.OF));
      146     4600    6                           CALL LLM$MON_SVC ( LL#WRITEDO );

   4600  2 000373   000005 630400 3                  EPPR0   5
         2 000374   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 000375   000000 701000 xent               TSX1    LLM$MON_SVC
         2 000376   000000 011000                    NOP     0

      147     4601    7                           IF ( TYPE = 6 ) THEN DO;

   4601  2 000377   200005 470500                    LDP0    @TYPE,,AUTO
         2 000400   000000 235100                    LDA     0,,PR0
         2 000401   000006 115007                    CMPA    6,DL
         2 000402   000430 601000 2                  TNZ     s:4608

      148     4602    7                               CALL INSERT ( LL_DOBUF, 0, ,

   4602  2 000403   210015 471500                    LDP1    NPTR$,,AUTO
         2 000404   100000 220100                    LDX0    0,,PR1
         2 000405   040000 100400                    MLR     fill='040'O
         2 000406   000055 000067 1                  ADSC9   45                       cn=0,n=55
         2 000407   000000 000067 xsym               ADSC9   LL_DOBUF                 cn=0,n=55
         2 000410   040000 100540                    MLR     fill='040'O
         2 000411   100000 400010                    ADSC9   0,,PR1                   cn=2,n=*X0
         2 000412   000015 600071 xsym               ADSC9   LL_DOBUF+13              cn=3,n=57
         2 000413   000000 636010                    EAQ     0,X0
         2 000414   000022 772000                    QRL     18
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:27   
         2 000415   000071 116007                    CMPQ    57,DL
         2 000416   000427 603000 2                  TRC     s:4606
         2 000417   210026 740100                    STX0    NEXT_REGION+2,,AUTO
         2 000420   777706 620010                    EAX0    -58,X0
         2 000421   777777 660003                    ERX0    -1,DU
         2 000422   210026 235100                    LDA     NEXT_REGION+2,,AUTO
         2 000423   000022 771000                    ARL     18
         2 000424   040045 100400                    MLR     fill='040'O
         2 000425   000006 000001 3                  ADSC9   6                        cn=0,n=1
         2 000426   000015 600010 xsym               ADSC9   LL_DOBUF+13,A            cn=3,n=*X0

      149     4603    7                              'A       has been used to satisfy references to SYMDEF '
              4603                                           ,
      150     4604    7                                  NPTR$ -> B$DNAME.TEXT,
      151     4605    7                                  '.' );
      152     4606    7                               END;

   4606  2 000427   000454 710000 2                  TRA     s:4613

      153     4607    7                           ELSE DO;

      154     4608    7                               CALL INSERT ( LL_DOBUF, 0, ,

   4608  2 000430   210015 471500                    LDP1    NPTR$,,AUTO
         2 000431   100000 220100                    LDX0    0,,PR1
         2 000432   040000 100400                    MLR     fill='040'O
         2 000433   000073 000067 1                  ADSC9   59                       cn=0,n=55
         2 000434   000000 000067 xsym               ADSC9   LL_DOBUF                 cn=0,n=55
         2 000435   040000 100540                    MLR     fill='040'O
         2 000436   100000 400010                    ADSC9   0,,PR1                   cn=2,n=*X0
         2 000437   000015 600071 xsym               ADSC9   LL_DOBUF+13              cn=3,n=57
         2 000440   000000 636010                    EAQ     0,X0
         2 000441   000022 772000                    QRL     18
         2 000442   000071 116007                    CMPQ    57,DL
         2 000443   000454 603000 2                  TRC     s:4613
         2 000444   210026 740100                    STX0    NEXT_REGION+2,,AUTO
         2 000445   777706 620010                    EAX0    -58,X0
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:28   
         2 000446   777777 660003                    ERX0    -1,DU
         2 000447   210026 235100                    LDA     NEXT_REGION+2,,AUTO
         2 000450   000022 771000                    ARL     18
         2 000451   040045 100400                    MLR     fill='040'O
         2 000452   000006 000001 3                  ADSC9   6                        cn=0,n=1
         2 000453   000015 600010 xsym               ADSC9   LL_DOBUF+13,A            cn=3,n=*X0

      155     4609    7                              'A       has been used to satisfy references to ENTDEF '
              4609                                           ,
      156     4610    7                                  NPTR$ -> B$DNAME.TEXT,
      157     4611    7                                  '.' );
      158     4612    7                               END;

      159     4613    6                           CALL LLM$MON_SVC ( LL#WRITEDO );

   4613  2 000454   000005 630400 3                  EPPR0   5
         2 000455   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 000456   000000 701000 xent               TSX1    LLM$MON_SVC
         2 000457   000000 011000                    NOP     0

      160     4614    6                           LL_DOBUF =
              4614                         'A       Other definitions were found in the following module(s):'
              4614                                    ;

   4614  2 000460   040000 100400                    MLR     fill='040'O
         2 000461   000111 000101 1                  ADSC9   73                       cn=0,n=65
         2 000462   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      161     4615    6                           CALL LLM$MON_SVC ( LL#WRITEDO );

   4615  2 000463   000005 630400 3                  EPPR0   5
         2 000464   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 000465   000000 701000 xent               TSX1    LLM$MON_SVC
         2 000466   000000 011000                    NOP     0

      162     4616    6                           IF SAVE$->TREE.OU$ = ADDR(NIL)

PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:29   
   4616  2 000467   210022 470500                    LDP0    SAVE$,,AUTO
         2 000470   000000 236100                    LDQ     0,,PR0
         2 000471   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 000472   000475 601000 2                  TNZ     s:4620

      163     4617    6                           THEN
      164     4618    6                               REGION = 0;

   4618  2 000473   210023 450100                    STZ     REGION,,AUTO
         2 000474   000502 710000 2                  TRA     s:4621

      165     4619    6                           ELSE
      166     4620    6                               NEXT_REGION = SAVE$->TREE.OU$->OU_ENTRY.REGION;

   4620  2 000475   000000 471500                    LDP1    0,,PR0
         2 000476   100014 236100                    LDQ     12,,PR1
         2 000477   000033 772000                    QRL     27
         2 000500   000033 736000                    QLS     27
         2 000501   210024 756100                    STQ     NEXT_REGION,,AUTO

      167     4621    7                           DO WHILE ( TREE$ ~= ADDR(NIL) );

   4621  2 000502   000605 710000 2                  TRA     s:4644

      168     4622    7                               IF TREE$->TREE.OU$ = ADDR(NIL)

   4622  2 000503   210016 470500                    LDP0    TREE$,,AUTO
         2 000504   000000 236100                    LDQ     0,,PR0
         2 000505   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 000506   000511 601000 2                  TNZ     s:4626

      169     4623    7                               THEN
      170     4624    7                                   NEXT_REGION = 0;

   4624  2 000507   210024 450100                    STZ     NEXT_REGION,,AUTO
         2 000510   000516 710000 2                  TRA     s:4627

PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:30   
      171     4625    7                               ELSE
      172     4626    7                                   NEXT_REGION = TREE$->TREE.OU$->OU_ENTRY.REGION;

   4626  2 000511   000000 471500                    LDP1    0,,PR0
         2 000512   100014 236100                    LDQ     12,,PR1
         2 000513   000033 772000                    QRL     27
         2 000514   000033 736000                    QLS     27
         2 000515   210024 756100                    STQ     NEXT_REGION,,AUTO

      173     4627    7                               IF REGION = NEXT_REGION

   4627  2 000516   210023 236100                    LDQ     REGION,,AUTO
         2 000517   210024 676100                    ERQ     NEXT_REGION,,AUTO
         2 000520   777000 376003                    ANQ     -512,DU
         2 000521   000602 601000 2                  TNZ     s:4643

      174     4628    7                               THEN
      175     4629    8                               DO;

      176     4630    8                                   IF TREE$->TREE.OU$ = ADDR(NIL)

   4630  2 000522   000000 236100                    LDQ     0,,PR0
         2 000523   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 000524   000531 601000 2                  TNZ     s:4635

      177     4631    9                                   THEN DO; /* This was defined by FEPLINK */

      178     4632    9                                       LL_DOBUF = 'A            Defined by FEPLINK';

   4632  2 000525   040000 100400                    MLR     fill='040'O
         2 000526   000132 000037 1                  ADSC9   90                       cn=0,n=31
         2 000527   000000 000160 xsym               ADSC9   LL_DOBUF                 cn=0,n=112

      179     4633    9                                       END;

   4633  2 000530   000576 710000 2                  TRA     s:4641

PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:31   
      180     4634    9                                   ELSE DO;

      181     4635    9                                       CALL INSERT ( LL_DOBUF, 0, ,

   4635  2 000531   000000 471500                    LDP1    0,,PR0
         2 000532   100015 236100                    LDQ     13,,PR1
         2 000533   000033 772000                    QRL     27
         2 000534   000000 620006                    EAX0    0,QL
         2 000535   100000 236100                    LDQ     0,,PR1
         2 000536   000016 402007                    MPY     14,DL
         2 000537   040000 100400                    MLR     fill='040'O
         2 000540   000142 000031 1                  ADSC9   98                       cn=0,n=25
         2 000541   000000 000031 xsym               ADSC9   LL_DOBUF                 cn=0,n=25
         2 000542   040000 100540                    MLR     fill='040'O
         2 000543   100015 200010                    ADSC9   13,,PR1                  cn=1,n=*X0
         2 000544   000006 200127 xsym               ADSC9   LL_DOBUF+6               cn=1,n=87
         2 000545   000000 621006                    EAX1    0,QL
         2 000546   000000 636010                    EAQ     0,X0
         2 000547   000022 772000                    QRL     18
         2 000550   000127 116007                    CMPQ    87,DL
         2 000551   000576 603000 2                  TRC     s:4641
         2 000552   210026 740100                    STX0    NEXT_REGION+2,,AUTO
         2 000553   777650 620010                    EAX0    -88,X0
         2 000554   777777 660003                    ERX0    -1,DU
         2 000555   210026 235100                    LDA     NEXT_REGION+2,,AUTO
         2 000556   000022 771000                    ARL     18
         2 000557   040045 100400                    MLR     fill='040'O
         2 000560   000050 000022 1                  ADSC9   40                       cn=0,n=18
         2 000561   000006 200010 xsym               ADSC9   LL_DOBUF+6,A             cn=1,n=*X0
         2 000562   210026 236100                    LDQ     NEXT_REGION+2,,AUTO
         2 000563   000022 772000                    QRL     18
         2 000564   000105 116007                    CMPQ    69,DL
         2 000565   000576 603000 2                  TRC     s:4641
         2 000566   000000 635011                    EAA     0,X1
         2 000567   000020 771000                    ARL     16
         2 000570   777672 620006                    EAX0    -70,QL
         2 000571   777777 660003                    ERX0    -1,DU
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:32   
         2 000572   000000 471400 xsym               LDP1    LL_OF$
         2 000573   040046 100505                    MLR     fill='040'O
         2 000574   100000 000062                    ADSC9   0,A,PR1                  cn=0,n=50
         2 000575   000012 600010 xsym               ADSC9   LL_DOBUF+10,Q            cn=3,n=*X0

      182     4636    9                                          'A            Object unit ',
      183     4637    9                                          TREE$ -> TREE.OU$ -> OU_ENTRY.OUNAME.TEXT,
      184     4638    9                                          ' from object file ',
      185     4639    9                                          OU_FID.NAME(TREE$->TREE.OU$->OU_ENTRY.OF));
      186     4640    9                                       END;

      187     4641    8                                   CALL LLM$MON_SVC ( LL#WRITEDO );

   4641  2 000576   000005 630400 3                  EPPR0   5
         2 000577   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 000600   000000 701000 xent               TSX1    LLM$MON_SVC
         2 000601   000000 011000                    NOP     0

      188     4642    8                                   END;

      189     4643    7                               TREE$ = TREE$ -> TREE.BROTHER$;

   4643  2 000602   210016 470500                    LDP0    TREE$,,AUTO
         2 000603   000002 236100                    LDQ     2,,PR0
         2 000604   210016 756100                    STQ     TREE$,,AUTO

      190     4644    7                               END;

   4644  2 000605   210016 236100                    LDQ     TREE$,,AUTO
         2 000606   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 000607   000503 601000 2                  TNZ     s:4622

      191     4645    6                           END;

      192     4646    5                       SAVE$ = SAVE$->TREE.BROTHER$;

   4646  2 000610   210022 470500                    LDP0    SAVE$,,AUTO
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:33   
         2 000611   000002 236100                    LDQ     2,,PR0
         2 000612   210022 756100                    STQ     SAVE$,,AUTO

      193     4647    5                       END;

   4647  2 000613   210022 470500                    LDP0    SAVE$,,AUTO
         2 000614   000002 236100                    LDQ     2,,PR0
         2 000615   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 000616   000252 601000 2                  TNZ     s:4587

      194     4648    4                   END;

      195     4649    3               BUFFER(N) = TPTR$ -> TREE.NODE$ -> NODE;

   4649  2 000617   210013 235100                    LDA     N,,AUTO
         2 000620   000001 735000                    ALS     1
         2 000621   210014 470500                    LDP0    TPTR$,,AUTO
         2 000622   000001 471500                    LDP1    1,,PR0
         2 000623   000002 735000                    ALS     2
         2 000624   000105 100500                    MLR     fill='000'O
         2 000625   100000 000010                    ADSC9   0,,PR1                   cn=0,n=8
         2 000626   200010 000010                    ADSC9   BUFFER,A,AUTO            cn=0,n=8

      196     4650    3               N = N + 1;

   4650  2 000627   210013 235100                    LDA     N,,AUTO
         2 000630   000001 035007                    ADLA    1,DL
         2 000631   210013 755100                    STA     N,,AUTO

      197     4651    3               TPTR$ = TPTR$ -> TREE.R_CHILD$;

   4651  2 000632   000005 236100                    LDQ     5,,PR0
         2 000633   210014 756100                    STQ     TPTR$,,AUTO

      198     4652    3               END;

      199     4653    2           END;
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:34   

   4653  2 000634   000022 710000 2                  TRA     s:4513
      200     4654    1   END LLW$WRTDEF;

PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:35   
--  Include file information  --

   LL_DATA_R.:E05TOU  cannot be made into a system file and is referenced.
   LL_MACS_C.:E05TOU  is referenced.
   LL_SUBS_C.:E05TOU  is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
      No diagnostics issued in procedure LLW$WRTDEF.
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:36   

 **** Variables and constants ****

  ****  Section 000  Data  LLW$WRTDEF

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(54)    r     1 RUKEY

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     4-0-0/w PTR         r     1 @AVAIL$                    6-0-0/w PTR         r     1 @NAME$
     3-0-0/w PTR         r     1 @ROOT$                     5-0-0/w PTR         r     1 @TYPE
    *0-0-0/w PTR         r     1 AVAIL$                    10-0-0/w STRC(72)    r     1 BUFFER(0:2047)
 10021-0-0/b BIT         r     1 FOUND                  10010-0-0/w UBIN        r     1 I
 10020-0-0/b BIT         r     1 I_HAVENT_YELLED#       10013-0-0/w UBIN        r     1 N
    *0-0-0/w PTR         r     1 NAME$                  10024-0-0/w UBIN(9)     r     1 NEXT_REGION
 10015-0-0/w PTR         r     1 NPTR$                  10023-0-0/w UBIN(9)     r     1 REGION
    *0-0-0/w PTR         r     1 ROOT$                  10022-0-0/w PTR         r     1 SAVE$
 10017-0-0/w UBIN        r     1 TEMP                   10014-0-0/w PTR         r     1 TPTR$
 10016-0-0/w PTR         r     1 TREE$                     *0-0-0/w UBIN        r     1 TYPE

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w CHAR(112)   r     1 LL_DOBUF                   0-0-0/w STRC(1440)  r     1 LL_HEAD
     0-0-0/w PTR         r     1 LL_OF$

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:37   

     0-0-0/w ASTR(18)    r     1 B$DNAME                    0-0-0/w STRC(72)    r     1 LL_ENTDEF
     0-0-0/w STRC(72)    r     1 LL_SYMDEF                  0-0-0/w STRC(72)    r     1 NODE
     0-0-0/w ASTR(504)   r     1 OU_ENTRY                   0-0-0/w STRC(504)   r     1 OU_FID(0:0)
     0-0-0/w PTR         r     1 STACK$(0:0)                0-0-0/w STRC(216)   r     1 TREE


   Procedure LLW$WRTDEF requires 413 words for executable code.
   Procedure LLW$WRTDEF requires 4124 words of local(AUTO) storage.

    No errors detected in file LLW$WRTDEF.:E05TSI    .
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:38   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:39   
          MINI XREF LISTING

AVAIL$
      4480**DCL        12--PROC     4485--IMP-PTR  4514>>ASSIGN   4521>>ASSIGN
B$DNAME.COUNT
      4165**DCL      4172--IMP-SIZ  4594>>CALLBLT  4602>>CALLBLT  4608>>CALLBLT
B$DNAME.TEXT
      4172**DCL      4594>>CALLBLT  4602>>CALLBLT  4608>>CALLBLT
BUFFER
      4483**DCL      4528--CALL     4649<<ASSIGN
FOUND
      4498**DCL      4533<<ASSIGN   4541<<ASSIGN   4545>>IF       4559<<ASSIGN   4567<<ASSIGN   4571>>IF
I
      4486**DCL      4508<<ASSIGN   4514>>ASSIGN   4515<<ASSIGN   4515>>ASSIGN   4519>>IF       4520<<ASSIGN
      4520>>ASSIGN   4521>>ASSIGN
I_HAVENT_YELLED#
      4494**DCL      4505<<ASSIGN   4548>>IF       4553<<ASSIGN   4572>>IF       4577<<ASSIGN
LLM$MON_SVC
      4502**DCL-ENT  4528--CALL     4550--CALL     4552--CALL     4574--CALL     4576--CALL     4600--CALL
      4613--CALL     4615--CALL     4641--CALL
LL_DOBUF
      3934**DCL      4549<<ASSIGN   4551<<ASSIGN   4555<<ASSIGN   4573<<ASSIGN   4575<<ASSIGN   4579<<ASSIGN
      4594<<CALLBLT  4602<<CALLBLT  4608<<CALLBLT  4614<<ASSIGN   4632<<ASSIGN   4635<<CALLBLT
LL_ENTDEF.LFLAGS.MULTIPLE
      3972**DCL      4539>>IF       4587>>IF
LL_ENTDEF.OU
      3980**DCL      3986--REDEF
LL_HEAD.EDRECSIZE
      4248**DCL      4526<<ASSIGN
LL_HEAD.EPRECSIZE
      4245**DCL      4525<<ASSIGN
LL_OF$
      3934**DCL      4495--IMP-PTR  4594>>CALLBLT  4635>>CALLBLT
LL_SYMDEF.AD.OU
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:40   
      4053**DCL      4059--REDEF
LL_SYMDEF.LFLAGS.MULTIPLE
      4073**DCL      4565>>IF       4587>>IF
LL_SYMDEF.VALUE
      4034**DCL      4037--REDEF
N
      4489**DCL      4507<<ASSIGN   4525>>ASSIGN   4526>>ASSIGN   4527>>IF       4528>>CALL     4649>>ASSIGN
      4650<<ASSIGN   4650>>ASSIGN
NAME$
      4482**DCL        12--PROC     4593>>ASSIGN
NEXT_REGION
      4501**DCL      4620<<ASSIGN   4624<<ASSIGN   4626<<ASSIGN   4627>>IF
NODE
      4087**DCL      4649>>ASSIGN
NODE.NPOINTER
      4112**DCL      4592>>ASSIGN
NODE.OU
      4104**DCL      4110--REDEF
NPTR$
      4491**DCL      4593<<ASSIGN   4594>>CALLBLT  4594>>CALLBLT  4602>>CALLBLT  4602>>CALLBLT  4608>>CALLBLT
      4608>>CALLBLT
OU_ENTRY.OF
      4446**DCL      4594>>CALLBLT  4635>>CALLBLT
OU_ENTRY.OUNAME.SIZE
      4474**DCL      4476--IMP-SIZ  4594>>CALLBLT  4635>>CALLBLT
OU_ENTRY.OUNAME.TEXT
      4476**DCL      4594>>CALLBLT  4635>>CALLBLT
OU_ENTRY.REGION
      4470**DCL      4620>>ASSIGN   4626>>ASSIGN
OU_FID.NAME
      4496**DCL      4594>>CALLBLT  4635>>CALLBLT
REGION
      4500**DCL      4618<<ASSIGN   4627>>IF
ROOT$
      4479**DCL        12--PROC     4506>>ASSIGN
RUKEY
PL6.E3A0      #001=LLW$WRTDEF File=LLW$WRTDEF.:E05TSI                            WED 07/30/97 03:18 Page:41   
      4388**DCL      4528<>CALL
RUKEY.NODE
      4393**DCL      4510<<ASSIGN
RUKEY.PAGE
      4395**DCL      4397--REDEF    4511<<ASSIGN
RUKEY.TYPE
      4391**DCL      4509<<ASSIGN
SAVE$
      4499**DCL      4534<<ASSIGN   4535>>IF       4538>>DOWHILE  4539>>IF       4542<<ASSIGN   4542>>ASSIGN
      4560<<ASSIGN   4561>>IF       4564>>DOWHILE  4565>>IF       4568<<ASSIGN   4568>>ASSIGN   4585<<ASSIGN
      4586>>DOWHILE  4587>>IF       4587>>IF       4591>>ASSIGN   4592>>ASSIGN   4594>>CALLBLT  4594>>CALLBLT
      4594>>CALLBLT  4616>>IF       4620>>ASSIGN   4646<<ASSIGN   4646>>ASSIGN
STACK$
      4485**DCL      4514<<ASSIGN   4521>>ASSIGN
TEMP
      4493**DCL      4592<<ASSIGN   4593>>ASSIGN
TPTR$
      4490**DCL      4506<<ASSIGN   4513>>IF       4514>>ASSIGN   4516<<ASSIGN   4516>>ASSIGN   4521<<ASSIGN
      4534>>ASSIGN   4560>>ASSIGN   4582>>IF       4585>>ASSIGN   4649>>ASSIGN   4651<<ASSIGN   4651>>ASSIGN
TREE.BROTHER$
      4419**DCL      4535>>IF       4538>>DOWHILE  4542>>ASSIGN   4561>>IF       4564>>DOWHILE  4568>>ASSIGN
      4582>>IF       4586>>DOWHILE  4591>>ASSIGN   4643>>ASSIGN   4646>>ASSIGN
TREE.L_CHILD$
      4426**DCL      4516>>ASSIGN
TREE.NODE$
      4415**DCL      4539>>IF       4565>>IF       4587>>IF       4587>>IF       4592>>ASSIGN   4649>>ASSIGN
TREE.OU$
      4412**DCL      4594>>CALLBLT  4594>>CALLBLT  4594>>CALLBLT  4616>>IF       4620>>ASSIGN   4622>>IF
      4626>>ASSIGN   4630>>IF       4635>>CALLBLT  4635>>CALLBLT  4635>>CALLBLT
TREE.R_CHILD$
      4428**DCL      4651>>ASSIGN
TREE$
      4492**DCL      4591<<ASSIGN   4621>>DOWHILE  4622>>IF       4626>>ASSIGN   4630>>IF       4635>>CALLBLT
      4635>>CALLBLT  4635>>CALLBLT  4643<<ASSIGN   4643>>ASSIGN
TYPE
      4481**DCL        12--PROC     4509>>ASSIGN   4524>>IF       4532>>IF       4601>>IF

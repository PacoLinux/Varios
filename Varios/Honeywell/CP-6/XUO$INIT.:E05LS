VERSION E05

PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:1    
        1        1        /*M*     XUO$OUINIT  -- THIS MODULE WILL PERFORM ALL OU INITIALIZATIONS*/
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* PLM=4,STI=0,IND=4,CTI=3,DCI=4,ECI=4,CSI=0,THI=0,DTI=0,
        8        8             ENI=4,CLM=0,SQB,NTB,MOC,CCI=3,NLB,MCL=0,EDMC */
        9        9        /*P*
       10       10
       11       11
       12       12        NAME:  XUO$OUINIT
       13       13        XUO$OUINIT --Object unit Initialization
       14       14
       15       15        PURPOSE:  To perform initialization prior to building
       16       16                  the object unit.
       17       17
       18       18        DESCRIPTION:  This routine performs the initialization
       19       19             necessary prior to building the object unit.
       20       20             This module must be called before any object unit
       21       21             building routines can be called.   Space is
       22       22             allocated for the object unit buffers and pointers
       23       23             to the buffers are initialized.  All fields of the
       24       24             following four keys are initialized:  Head Key,
       25       25             OU Key, Program Key, and Relocation Key.  The
       26       26             object unit file is opened.  This routine altreturns
       27       27             when insufficient memory exists for the object unit
       28       28             If any unexpected I/O errors occur while trying to
       29       29             write the object unit, the DCB will be closed in
       30       30             accordance with the OU Close Required Flag.
       31       31
       32       32        */
       33       33        /*D*
       34       34        CALL XUO$OUINIT (DCB Number,
       35       35                         Close Required Flag,
       36       36                         Schema Required Flag,
       37       37                         Compiler ID,
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:2    
       38       38                         Version,
       39       39                         Library Name,
       40       40                         UTS,
       41       41                         Error Routine,
       42       42                         Word Size,
       43       43                        *Trust Me,
       44       44                         Alternate Shared Library)
       45       45
       46       46        INPUT:
       47       47            DCB Number          UBIN ALIGNED
       48       48                                The DCB number to which the object unit
       49       49                                will be written.  If DCBNUM(nil) is
       50       50                                passed, the object unit will not be
       51       51                                written.
       52       52            Close Required Flag BIT(1)
       53       53                                When set, this flag implies that the
       54       54                                M$OU DCB is to be closed by the object
       55       55                                unit routines.  Otherwise, it will
       56       56                                remain open.
       57       57            Schema Required Flag  BIT(1)
       58       58                                When set, this flag implies that record
       59       59                                types 11 to 15 (debug records) are to be
       60       60                                output.  When reset, no debug data will
       61       61                                be included in the object unit.
       62       62            Compiler ID         UBIN ALIGNED
       63       63                                Identifies the language as follows:
       64       64                                  0 - Assembler
       65       65                                  1 - PL6
       66       66                                  2 - FORTRAN
       67       67                                  3 - COBOL
       68       68                                  4 - PL1
       69       69                                  5 - RPG
       70       70             Version            UBIN ALIGNED
       71       71                                Version number of the compiler conforming
       72       72                                to release standards.
       73       73             Library Name         STRUCTURE where
       74       74                  Size          UBIN BYTE UNALIGNED
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:3    
       75       75                                Size in bytes of the library name
       76       76                  Text          CHAR(Size)
       77       77                                Character string representing the
       78       78                                library name to be associated.
       79       79             UTS                UBIN ALIGNED
       80       80                                The Universal Time Stamp value to be used
       81       81                                in the object unit keys.  If not specified
       82       82                                a new value will be obtained and used.
       83       83             Error Routine      EPTR
       84       84                                Represents the entry point of an error
       85       85                                routine to call when an I/O error or
       86       86                                memory allocation error occurs.  This
       87       87                                routine will be passed B$JIT.ERR.  If
       88       88                                not specified, ENTADDR(nil) will be the
       89       89                                default.
       90       90             Word Size          UBIN ALIGNED
       91       91                                Represents the word size of the object
       92       92                                code.  ILf not specified, word size
       93       93                                will be set to 36.
       94       94             Trust Me           BIT(1)
       95       95                                When set, this bit allows the user
       96       96                                to write program records out of order.
       97       97                                If not set, checking will be done to
       98       98                                ensure program records are written
       99       99                                in sequence.
      100      100             Alternate Shared Library STRUCTURE where
      101      101                   Size           UBIN BYTE ALIGNED
      102      102                                  Represents the number of characters
      103      103                                  in the Alternate Shared Library name.
      104      104                   Text           CHAR (Size)
      105      105                                  The character string that is the name
      106      106                                  of the Alternate Shared Library that
      107      107                                  is to be associated with this object unit.
      108      108
      109      109        OUTPUT:    None
      110      110
      111      111        B$OBJECT REFERENCE:  B$HEADKEY, B$OUKEY, B$PRGKEY, B$RELKEY
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:4    
      112      112
      113      113        */
      114      114        /*B*
      115      115        GLOBAL DATA:
      116      116                      B$HEADKEY
      117      117                      B$OUKEY
      118      118                      B$PRGKEY
      119      119                      B$RELKEY
      120      120                      XUO_OU_UTS
      121      121                      B_DNAME_BASE$
      122      122                      B_DNAME_CUR$
      123      123                      B_DNAME_END$
      124      124                      B_DNAME_COUNT
      125      125                      B_DNAME_PAGE
      126      126                      B_DNAME_PAGE_SIZE
      127      127                      B_RNAME_BASE$
      128      128                      B_RNAME_CUR$
      129      129                      B_RNAME_END$
      130      130                      B_RNAME_COUNT
      131      131                      B_RNAME_PAGE
      132      132                      B_RNAME_PAGE_SIZE
      133      133                      B_DBGNAME_BASE$
      134      134                      B_DBGNAME_CUR$
      135      135                      B_DBGNAME_END$
      136      136                      B_DBGNAME_COUNT
      137      137                      B_DBGNAME_PAGE
      138      138                      B_DBGNAME_PAGE_SIZE
      139      139                      B_SECTION_BASE$
      140      140                      B_SECTION_CUR$
      141      141                      B_SECTION_END$
      142      142                      B_SECTION_COUNT
      143      143                      B_SECTION_PAGE_SIZE
      144      144                      B_EDEF_BASE$
      145      145                      B_EDEF_CUR$
      146      146                      B_EDEF_END$
      147      147                      B_EDEF_COUNT
      148      148                      B_EDEF_PAGE_SIZE
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:5    
      149      149                      B_EDEF_PAGE
      150      150                      B_EREF_BASE$
      151      151                      B_EREF_CUR$
      152      152                      B_EREF_END$
      153      153                      B_EREF_COUNT
      154      154                      B_EREF_PAGE
      155      155                      B_EREF_PAGE_SIZE
      156      156                      B_SDEF_BASE$
      157      157                      B_SDEF_CUR$
      158      158                      B_SDEF_END$
      159      159                      B_SDEF_COUNT
      160      160                      B_SDEF_PAGE
      161      161                      B_SDEF_PAGE_SIZE
      162      162                      B_SREF_BASE$
      163      163                      B_SREF_CUR$
      164      164                      B_SREF_END$
      165      165                      B_SREF_COUNT
      166      166                      B_SREF_PAGE
      167      167                      B_SREF_PAGE_SIZE
      168      168                      B_SEGDEF_BASE$
      169      169                      B_SEGDEF_CUR$
      170      170                      B_SEGDEF_END$
      171      171                      B_SEGDEF_COUNT
      172      172                      B_SEGDEF_PAGE
      173      173                      B_SEGDEF_PAGE_SIZE
      174      174                      B_SEGREF_BASE$
      175      175                      B_SEGREF_CUR$
      176      176                      B_SEGREF_END$
      177      177                      B_SEGREF_COUNT
      178      178                      B_SEGREF_PAGE
      179      179                      B_SEGREF_PAGE_SIZE
      180      180                      B_LOGBLK_BASE$
      181      181                      B_LOGBLK_ENTRY0$
      182      182                      B_LOGBLK_ENTRY1$
      183      183                      B_LOGBLK_CUR$
      184      184                      B_LOGBLK_END$
      185      185                      B_LOGBLK_COUNT
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:6    
      186      186                      B_LOGBLK_PAGE
      187      187                      B_LOGBLK_PAGE_SIZE
      188      188                      B_INTNTRY_BASE$
      189      189                      B_INTNTRY_CUR$
      190      190                      B_INTNTRY_END$
      191      191                      B_INTNTRY_COUNT
      192      192                      B_INTNTRY_PAGE
      193      193                      B_INTNTRY_PAGE_SIZE
      194      194                      B_EXST_BASE$
      195      195                      B_EXST_CUR$
      196      196                      B_EXST_END$
      197      197                      B_EXST_COUNT
      198      198                      B_EXST_PAGE
      199      199                      B_EXST_PAGE_SIZE
      200      200                      B_VREBL_BASE$
      201      201                      B_VREBL_CUR$
      202      202                      B_VREBL_END$
      203      203                      B_VREBL_COUNT
      204      204                      B_VREBL_PAGE
      205      205                      B_VREBL_PAGE_SIZE
      206      206                      XUO_OU_DCB_NUMBER
      207      207                      XUO_CLOSE_REQUIRED
      208      208                      XUO_SCHEMA_REQUIRED
      209      209                      XUO_COMPILER_ID
      210      210                      XUO_VERSION_NUMBER
      211      211                      XUO_WORDSIZE
      212      212                      XUO_CHARSIZE
      213      213                      XUO_OU_UTS
      214      214                      XUO_ERROR_ROUTINE
      215      215                      XUO_MOST_RECENT_SECTION
      216      216
      217      217        INTERFACE:
      218      218             XUO$OUOPEN
      219      219             XUO$OUROOTDATA
      220      220
      221      221
      222      222        */
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:7    
      223      223        XUO$OUINIT: PROC (P_OU_DCB_NUMBER,P_OU_CLOSE_REQUIRED_FLAG,P_SCHEMA_REQUIRED_FLAG,
      224      224               P_COMPILER_ID,P_VERSION,P_LIBRARY_NAME,
      225      225               P_OU_UTS,P_ERROR_ROUTINE,P_WORDSIZE,P_TRUST_ME,
      226      226               P_ASL_NAME) ALTRET;
      227      227        %INCLUDE ZVA_SYSTEM_FILE;
      228     6478            %PAGE (ARG=INCLUDES);

              6491    1   /*******************************************************************************
              6492    1   *                                                                              *
              6493    1   *        INCLUDES              INCLUDES                                            *
              6494    1   *                                                                              *
              6495    1   *******************************************************************************/

      229     6499        %INCLUDE B$OBJECT_C;
      230     9929        %INCLUDE XUO$OBJ_C;
      231    10339        %INCLUDE XUM_ENTRIES_C;
      232    10359    1   DCL XUO$BUFINIT ENTRY (17);
      233    10360        %XUM_ENTRIES;
      234    10369         %PAGE (ARG=SUBS);

             10382    1   /*******************************************************************************
             10383    1   *                                                                              *
             10384    1   *        SUBS              SUBS                                                  *
             10385    1   *                                                                              *
             10386    1   *******************************************************************************/

      235    10390         %B$RECORDSUBS;
      236    10418         %PAGE (ARG=PARAMETERS);

             10431    1   /*******************************************************************************
             10432    1   *                                                                              *
             10433    1   *        PARAMETERS              PARAMETERS                                        *
             10434    1   *                                                                              *
             10435    1   *******************************************************************************/

      237    10439    1   DCL P_OU_DCB_NUMBER UBIN; /*Dcb number to write on*/
      238    10440    1   DCL P_OU_CLOSE_REQUIRED_FLAG BIT(1) UNAL PARAM;
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:8    
      239    10441    1   DCL P_SCHEMA_REQUIRED_FLAG BIT(1) UNAL PARAM;
      240    10442    1   DCL P_COMPILER_ID UBIN;
      241    10443    1   DCL 1 P_VERSION ALIGNED,
      242    10444    1         2 LETTER CHAR(1) UNAL,
      243    10445    1         2 NUMBER UBIN(9) UNAL;
      244    10446    1   DCL 1 P_LIBRARY_NAME ALIGNED,
      245    10447    1         2 SIZE UBIN BYTE CALIGNED,
      246    10448    1         2 TEXT CHAR(P_LIBRARY_NAME.SIZE) CALIGNED;
      247    10449    1   DCL P_OU_UTS UBIN;
      248    10450    1   DCL P_ERROR_ROUTINE EPTR;
      249    10451    1   DCL P_WORDSIZE UBIN;
      250    10452    1   DCL P_TRUST_ME BIT(1) UNAL PARAM;
      251    10453    1   DCL 1 P_ASL_NAME ALIGNED,
      252    10454    1         2 SIZE UBIN BYTE CALIGNED,
      253    10455    1         2 TEXT CHAR (P_ASL_NAME.SIZE) CALIGNED;
      254    10456        %PAGE (ARG=OU HEAD);

             10469    1   /*******************************************************************************
             10470    1   *                                                                              *
             10471    1   *        OU HEAD              OU HEAD                                              *
             10472    1   *                                                                              *
             10473    1   *******************************************************************************/

      255    10477    1   DCL B$OUHEAD$ PTR SYMREF;
      256    10478        %B$OUHEAD(STCLASS="BASED(B$OUHEAD$)");
      257    10596        %PAGE (ARG=KEYS);

             10609    1   /*******************************************************************************
             10610    1   *                                                                              *
             10611    1   *        KEYS              KEYS                                                  *
             10612    1   *                                                                              *
             10613    1   *******************************************************************************/

      258    10617        %B$HEADKEY (STCLASS=SYMREF,HFLAGINIT=);
      259    10629        %B$OUKEY (STCLASS=SYMREF,KEYSIZINIT=,NOTHDINIT=);
      260    10665        %B$PRGRELKEY (NAME=B$PRGKEY,STCLASS="BASED(OU_WORK$)",KEYSIZINIT=,NOTHDINIT=,
             10665            TYPEINIT=);
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:9    
      261    10696    1   DCL B$PRGKEY$ PTR SYMREF;
      262    10697        %B$PRGRELKEY (NAME=B$RELKEY,STCLASS="BASED(OU_WORK$)",KEYSIZINIT=,NOTHDINIT=,
             10697            TYPEINIT=);
      263    10728    1   DCL B$RELKEY$ PTR SYMREF;
      264    10729        %B$PRGRELKEY (NAME=B$FRWDKEY,STCLASS="BASED(OU_WORK$)",KEYSIZINIT=,NOTHDINIT=,
             10729            TYPEINIT=);
      265    10760    1   DCL B$FRWDKEY$ PTR SYMREF;
      266    10761        %PAGE (ARG=NAME RECORDS);

             10774    1   /*******************************************************************************
             10775    1   *                                                                              *
             10776    1   *        NAME RECORDS              NAME RECORDS                                    *
             10777    1   *                                                                              *
             10778    1   *******************************************************************************/

      267    10782        %B$DNAME(NAME=B$DNAME,STCLASS="BASED(B_DNAME_CUR$)");
      268    10801        %B_DNAME_POINTERS;
      269    10821        %B$DNAME(NAME=B$RNAME,STCLASS="BASED(B_RNAME_CUR$)");
      270    10840        %B_RNAME_POINTERS;
      271    10860        %B$DNAME(NAME=B$DBGNAME,STCLASS="BASED(B_DBGNAME_CUR$)");
      272    10879        %B_DBGNAME_POINTERS;
      273    10899        %PAGE (ARG=SECTION RECORD);

             10912    1   /*******************************************************************************
             10913    1   *                                                                              *
             10914    1   *        SECTION RECORD              SECTION RECORD                                *
             10915    1   *                                                                              *
             10916    1   *******************************************************************************/

      274    10920        %B$SECTION(STCLASS="BASED(B_SECTION_CUR$)");
      275    10979        %B_SECTION_POINTERS;
      276    10998        %PAGE (ARG=ENTRY DEF RECORD);

             11011    1   /*******************************************************************************
             11012    1   *                                                                              *
             11013    1   *        ENTRY DEF RECORD              ENTRY DEF RECORD                            *
             11014    1   *                                                                              *
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:10   
             11015    1   *******************************************************************************/

      277    11019        %B$EDEF(STCLASS="BASED(B_EDEF_CUR$)");
      278    11089        %B_EDEF_POINTERS;
      279    11109        %PAGE (ARG=ENTRY REF RECORD);

             11122    1   /*******************************************************************************
             11123    1   *                                                                              *
             11124    1   *        ENTRY REF RECORD              ENTRY REF RECORD                            *
             11125    1   *                                                                              *
             11126    1   *******************************************************************************/

      280    11130        %B$EREF(STCLASS="BASED(B_EREF_CUR$)");
      281    11173        %B_EREF_POINTERS;
      282    11193        %PAGE (ARG=SYM DEF RECORD);

             11206    1   /*******************************************************************************
             11207    1   *                                                                              *
             11208    1   *        SYM DEF RECORD              SYM DEF RECORD                                *
             11209    1   *                                                                              *
             11210    1   *******************************************************************************/

      283    11214        %B$SDEF(STCLASS="BASED(B_SDEF_CUR$)");
      284    11268        %B_SDEF_POINTERS;
      285    11288        %PAGE (ARG=SYM REF RECORDS);

             11301    1   /*******************************************************************************
             11302    1   *                                                                              *
             11303    1   *        SYM REF RECORDS              SYM REF RECORDS                              *
             11304    1   *                                                                              *
             11305    1   *******************************************************************************/

      286    11309        %B$SREF(STCLASS="BASED(B_SREF_CUR$)");
      287    11323        %B_SREF_POINTERS;
      288    11343        %PAGE (ARG=SEG DEF RECORDS);

             11356    1   /*******************************************************************************
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:11   
             11357    1   *                                                                              *
             11358    1   *        SEG DEF RECORDS              SEG DEF RECORDS                              *
             11359    1   *                                                                              *
             11360    1   *******************************************************************************/

      289    11364        %B$SEGDEF (STCLASS="BASED(B_SEGDEF_CUR$)");
      290    11419        %B_SEGDEF_POINTERS;
      291    11439        %PAGE (ARG=SEG REF RECORDS);

             11452    1   /*******************************************************************************
             11453    1   *                                                                              *
             11454    1   *        SEG REF RECORDS              SEG REF RECORDS                              *
             11455    1   *                                                                              *
             11456    1   *******************************************************************************/

      292    11460        %B$SEGREF(STCLASS="BASED(B_SEGREF_CUR$)");
      293    11477        %B_SEGREF_POINTERS;
      294    11497        %PAGE (ARG=PROGRAM/RELOCATION RECORDS);

             11510    1   /*******************************************************************************
             11511    1   *                                                                              *
             11512    1   *        PROGRAM/RELOCATION RECORDS              PROGRAM/RELOCATION RECORDS        *
             11513    1   *                                                                              *
             11514    1   *******************************************************************************/

      295    11518        %B_RELOCATION_POINTERS;
      296    11533        %B_PROGRAM_POINTERS;
      297    11548        %PAGE (ARG=LOGICAL BLOCK RECORDS);

             11561    1   /*******************************************************************************
             11562    1   *                                                                              *
             11563    1   *        LOGICAL BLOCK RECORDS              LOGICAL BLOCK RECORDS                  *
             11564    1   *                                                                              *
             11565    1   *******************************************************************************/

      298    11569        %B$LBNTRY0(STCLASS="BASED(B_LOGBLK_ENTRY0$)");
      299    11605        %B$LBNTRY1(STCLASS="BASED(B_LOGBLK_ENTRY1$)");
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:12   
      300    11632        %B$LOGBLK(STCLASS="BASED(B_LOGBLK_CUR$)");
      301    11663        %B_LOGBLK_POINTERS;
      302    11685        %PAGE (ARG=INTERNAL ENTRY RECORDS);

             11698    1   /*******************************************************************************
             11699    1   *                                                                              *
             11700    1   *        INTERNAL ENTRY RECORDS              INTERNAL ENTRY RECORDS                *
             11701    1   *                                                                              *
             11702    1   *******************************************************************************/

      303    11706        %B$INTNTRY(STCLASS="BASED(B_INTNTRY_CUR$)");
      304    11764        %B_INTNTRY_POINTERS;
      305    11784        %PAGE (ARG=EXEC STMNT RECORDS);

             11797    1   /*******************************************************************************
             11798    1   *                                                                              *
             11799    1   *        EXEC STMNT RECORDS              EXEC STMNT RECORDS                        *
             11800    1   *                                                                              *
             11801    1   *******************************************************************************/

      306    11805        %B$EXST(STCLASS="BASED(B_EXST_CUR$)");
      307    11912        %B_EXST_POINTERS;
      308    11932        %PAGE (ARG=VARIABLE RECORD);

             11945    1   /*******************************************************************************
             11946    1   *                                                                              *
             11947    1   *        VARIABLE RECORD              VARIABLE RECORD                              *
             11948    1   *                                                                              *
             11949    1   *******************************************************************************/

      309    11953        %B$VREBL(STCLASS="BASED(B_VREBL_CUR$)");
      310    12117        %B_VREBL_POINTERS;
      311    12137        %PAGE (ARG=FPTS);

             12150    1   /*******************************************************************************
             12151    1   *                                                                              *
             12152    1   *        FPTS              FPTS                                                  *
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:13   
             12153    1   *                                                                              *
             12154    1   *******************************************************************************/

      312    12158        %B_MULTIBUF_VARS;
      313    12185        %B_TRUST_ME;
      314    12199        %LOCAL_STUFF;
      315    12205        %BUFINIT_CALLED;
      316    12219         /*
      317    12220            The following fpt is to open the file
      318    12221            */
      319    12222    1   DCL XUO_OU_OPEN$ PTR SYMREF;
      320    12223        %IF GCOS;
      321    12224 C      %FPT_OPEN (FPTN=XUO_OU_OPEN_BASE,STCLASS=CONSTANT,ASN=FILE,ORG=KEYED,
      322    12225 C       ACS=DIRECT,IXTNSIZE=10,FUN=CREATE);
      323    12226        %ELSE;
      324    12227        %FPT_OPEN (FPTN=XUO_OU_OPEN_BASE,STCLASS=CONSTANT,ASN=FILE,ORG=KEYED,
      325    12228         ACS=DIRECT,IXTNSIZE=10,XTNSIZE=5,LSLIDE=3,SPARE=100);
      326    12337        %ENDIF;
      327    12338
      328    12339        %FPT_OPEN (FPTN=XUO_OU_OPEN,STCLASS="BASED(OU_WORK$)",ASN=FILE,ORG=KEYED,
      329    12340         ACS=DIRECT,IXTNSIZE=10);
      330    12449         /*
      331    12450         The following fpts are to write the file
      332    12451            */
      333    12452    1   DCL XUO_HEAD_WRITE$ PTR SYMREF;
      334    12453        %FPT_WRITE (FPTN=XUO_HEAD_WRITE_BASE,STCLASS=CONSTANT,ONEWKEY=YES,NEWKEY=NO);
      335    12484        %FPT_WRITE (FPTN=XUO_HEAD_WRITE,STCLASS="BASED(OU_WORK$)",ONEWKEY=YES,NEWKEY=NO);
      336    12515
      337    12516    1   DCL XUO_OU_WRITE$ PTR SYMREF;
      338    12517        %FPT_WRITE (FPTN=XUO_OU_WRITE_BASE,STCLASS=CONSTANT,ONEWKEY=NO,NEWKEY=YES);
      339    12548        %FPT_WRITE (FPTN=XUO_OU_WRITE,STCLASS="BASED(OU_WORK$)",ONEWKEY=NO,NEWKEY=YES);
      340    12579
      341    12580    1   DCL XUO_PROGRAM_WRITE$ PTR SYMREF;
      342    12581        %FPT_WRITE (FPTN=XUO_PROGRAM_WRITE,STCLASS="BASED(OU_WORK$)",ONEWKEY=NO,NEWKEY=YES);
      343    12612
      344    12613
      345    12614    1   DCL XUO_RELOCATION_WRITE$ PTR SYMREF;
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:14   
      346    12615        %FPT_WRITE (FPTN=XUO_RELOCATION_WRITE,STCLASS="BASED(OU_WORK$)",ONEWKEY=NO,NEWKEY=
             12615            YES);
      347    12646
      348    12647    1   DCL XUO_RELOCATION_READ$ PTR SYMREF;
      349    12648        %FPT_READ (FPTN=XUO_RELOCATION_READ_BASE,STCLASS=CONSTANT,KEYR=YES);
      350    12687        %FPT_READ (FPTN=XUO_RELOCATION_READ,STCLASS="BASED(OU_WORK$)",KEYR=YES);
      351    12726
      352    12727    1   DCL XUO_RELOCATION_REWRITE$ PTR SYMREF;
      353    12728        %FPT_WRITE (FPTN=XUO_RELOCATION_REWRITE_BASE,STCLASS=CONSTANT,ONEWKEY=NO,NEWKEY=NO);
      354    12759        %FPT_WRITE (FPTN=XUO_RELOCATION_REWRITE,STCLASS="BASED(OU_WORK$)",ONEWKEY=NO,NEWKEY=
             12759            NO);
      355    12790         /*
      356    12791            The following fpt is to cose the file
      357    12792            */
      358    12793    1   DCL XUO_OU_CLOSE$ PTR SYMREF;
      359    12794        %IF GCOS;
      360    12795 C      %FPT_CLOSE (FPTN=XUO_OU_CLOSE_BASE,STCLASS=CONSTANT,DISP=SAVE);
      361    12796        %ELSE;
      362    12797        %FPT_CLOSE (FPTN=XUO_OU_CLOSE_BASE,STCLASS=CONSTANT,REBLD=YES,RELG=YES,DISP=SAVE);
      363    12839        %ENDIF;
      364    12840        %FPT_CLOSE (FPTN=XUO_OU_CLOSE,STCLASS="BASED(OU_WORK$)",RELG=YES,DISP=SAVE);
      365    12882         /**/
      366    12883        %FPT_GDS (FPTN=XUO_OU_GDS_FDS,STCLASS=SYMREF);
      367    12899         /**/
      368    12900        %FPT_TIME (FPTN=FPT_UTS_BASE,STCLASS=CONSTANT,SOURCE=UNQUTS,DEST=UTS);
      369    12919        %FPT_TIME (FPTN=FPT_UTS,STCLASS=AUTO);
      370    12938        %PAGE (ARG=ENTRY DCLS);

             12951    1   /*******************************************************************************
             12952    1   *                                                                              *
             12953    1   *        ENTRY DCLS              ENTRY DCLS                                        *
             12954    1   *                                                                              *
             12955    1   *******************************************************************************/

      371    12959    1   DCL XUO$OUOPEN ENTRY;
      372    12960    1   DCL XUO$OUROOTDATA ENTRY;
      373    12961        %PAGE (ARG=TCB);
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:15   

             12974    1   /*******************************************************************************
             12975    1   *                                                                              *
             12976    1   *        TCB              TCB                                                  *
             12977    1   *                                                                              *
             12978    1   *******************************************************************************/

      374    12982        %B$TCB;
      375    12985        %B$ALT;
      376    12993    1   DCL B$TCB$ PTR SYMREF;
      377    12994         /**/
      378    12995    1   DCL 1 ERROR,
      379    12996    1         2 FCG_MID BIT(18),
      380    12997    1         2 MON BIT(1),
      381    12998    1         2 CODE UBIN(14) UNAL,
      382    12999    1         2 SEV UBIN(3) UNAL;
      383    13000        %PAGE (ARG=LOCAL DATA);

             13013    1   /*******************************************************************************
             13014    1   *                                                                              *
             13015    1   *        LOCAL DATA              LOCAL DATA                                        *
             13016    1   *                                                                              *
             13017    1   *******************************************************************************/

      384    13021    1   DCL OU_SEGMENT_SIZE UBIN;
      385    13022    1   DCL OU_WORK$ PTR;
      386    13023    1   DCL CHAR_SIZE UBIN HALF;
      387    13024        %PAGE (ARG=BASED);

             13037    1   /*******************************************************************************
             13038    1   *                                                                              *
             13039    1   *        BASED              BASED                                                  *
             13040    1   *                                                                              *
             13041    1   *******************************************************************************/

      388    13045    1   DCL 1 OU_CLEAR BASED(OU_WORK$) ALIGNED,
      389    13046    1         2 * CHAR(CHAR_SIZE);
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:16   
      390    13047    1   DCL WORD_ARRAY (0:0) UBIN BASED;
      391    13048        %PAGE (ARG=MISC DATA);

             13061    1   /*******************************************************************************
             13062    1   *                                                                              *
             13063    1   *        MISC DATA              MISC DATA                                          *
             13064    1   *                                                                              *
             13065    1   *******************************************************************************/

      392    13069    1   DCL XUO_OU_UTS UBIN SYMREF;
      393    13070    1   DCL XUO_OU_DCB_NUMBER UBIN SYMREF;
      394    13071    1   DCL XUO_CLOSE_REQUIRED BIT(1) ALIGNED SYMREF;
      395    13072    1   DCL XUO_OU_WRITE_REQUIRED BIT(1) ALIGNED SYMREF;
      396    13073    1   DCL XUO_ERROR_ROUTINE EPTR SYMREF;
      397    13074    1   DCL XUO_SCHEMA_REQUIRED BIT(1) ALIGNED SYMREF;
      398    13075    1   DCL XUO_COMPILER_ID UBIN SYMREF;
      399    13076    1   DCL 1 XUO_VERSION_NUMBER SYMREF,
      400    13077    1         2 LETTER CHAR(1) UNAL,
      401    13078    1         2 NUMBER UBIN(9) UNAL;
      402    13079    1   DCL XUO_WORDSIZE UBIN SYMREF;
      403    13080    1   DCL XUO_CHARSIZE UBIN SYMREF;
      404    13081    1   DCL XUO_MAXIMUM_SEVERITY UBIN SYMREF;
      405    13082    1   DCL XUO_MOST_RECENT_SECTION SBIN WORD SYMREF;
      406    13083        %VLR_GDS(FPTN=XUO_OU_GDS_RESULTS,STCLASS=SYMREF);
      407    13111         /**/
      408    13112        %PAGE (ARG=XUO$INIT);

             13125    1   /*******************************************************************************
             13126    1   *                                                                              *
             13127    1   *        XUO$INIT              XUO$INIT                                            *
             13128    1   *                                                                              *
             13129    1   *******************************************************************************/

      409    13133         /*
      410    13134         The following call is only to ensure that
      411    13135         the root data module is included when the
      412    13136         object code modules are being included from
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:17   
      413    13137         a lemur'd library.
      414    13138         */
      415    13139    1       CALL XUO$OUROOTDATA;
      416    13140    1       IF NOT BUFINIT_CALLED
      417    13141    2       THEN DO;
      418    13142    2           CALL XUO$BUFINIT(,,,,,,,,,,,,,,,,);
      419    13143    2           END;
      420    13144         /*
      421    13145            Save the i/o error routine
      422    13146            address.
      423    13147            */
      424    13148    1       IF ADDR(P_ERROR_ROUTINE)~=ADDR(NIL) THEN
      425    13149    1           XUO_ERROR_ROUTINE=P_ERROR_ROUTINE;
      426    13150    1       ELSE
      427    13151    1           XUO_ERROR_ROUTINE=ENTADDR(NIL);
      428    13152         /*
      429    13153         The following section will determine the space required for
      430    13154         the ou dynamic segment by summing up the counts of
      431    13155         all the records.
      432    13156         Then it will get the space and zero it.
      433    13157         */
      434    13158    1       B_SECTION_PAGE_SIZE=B_SECTION_PAGE_SIZE*SIZEW(B$SECTION);
      435    13159    1       B_EDEF_PAGE_SIZE=B_EDEF_PAGE_SIZE*SIZEW(B$EDEF);
      436    13160    1       B_EREF_PAGE_SIZE=B_EREF_PAGE_SIZE*SIZEW(B$EREF);
      437    13161    1       B_SDEF_PAGE_SIZE=B_SDEF_PAGE_SIZE*SIZEW(B$SDEF);
      438    13162    1       B_SREF_PAGE_SIZE=B_SREF_PAGE_SIZE*SIZEW(B$SREF);
      439    13163    1       B_SEGDEF_PAGE_SIZE=B_SEGDEF_PAGE_SIZE*SIZEW(B$SEGDEF);
      440    13164    1       B_SEGREF_PAGE_SIZE=B_SEGREF_PAGE_SIZE*SIZEW(B$SEGREF);
      441    13165    1       B_LOGBLK_PAGE_SIZE=B_LOGBLK_PAGE_SIZE*SIZEW(B$LOGBLK);
      442    13166    1       B_INTNTRY_PAGE_SIZE=B_INTNTRY_PAGE_SIZE*SIZEW(B$INTNTRY);
      443    13167    1       B_EXST_PAGE_SIZE=B_EXST_PAGE_SIZE*SIZEW(B$EXST);
      444    13168    1       B_VREBL_PAGE_SIZE=B_VREBL_PAGE_SIZE*SIZEW(B$VREBL);
      445    13169    1       OU_SEGMENT_SIZE=B_DNAME_PAGE_SIZE+
      446    13170    1          B_RNAME_PAGE_SIZE+
      447    13171    1          B_SECTION_PAGE_SIZE+
      448    13172    1          B_EDEF_PAGE_SIZE+
      449    13173    1          B_EREF_PAGE_SIZE+
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:18   
      450    13174    1          B_SDEF_PAGE_SIZE+
      451    13175    1          B_SREF_PAGE_SIZE+
      452    13176    1          B_SEGDEF_PAGE_SIZE+
      453    13177    1          B_SEGREF_PAGE_SIZE+
      454    13178    1          B_PROGRAM_PAGE_SIZE * B_NUMBER_OF_BUFFERS +
      455    13179    1          B_RELOCATION_PAGE_SIZE * B_NUMBER_OF_BUFFERS +
      456    13180    1          (B_NUMBER_OF_BUFFERS *2 +2) +
      457    13181    1          (B_NUMBER_OF_SECTIONS + 1) * SIZEW (SECTION_ARRAY) +
      458    13182    1          B_LOGBLK_PAGE_SIZE+
      459    13183    1          B_INTNTRY_PAGE_SIZE+
      460    13184    1          B_EXST_PAGE_SIZE+
      461    13185    1          B_VREBL_PAGE_SIZE+
      462    13186    1          B_DBGNAME_PAGE_SIZE+
      463    13187    1          SIZEW(B$OUHEAD)+
      464    13188    1          SIZEW(XUO_OU_OPEN)+
      465    13189    1          SIZEW(XUO_OU_WRITE_BASE)*9+
      466    13190    1          SIZEW(XUO_RELOCATION_READ_BASE)+
      467    13191    1          SIZEW(XUO_OU_CLOSE)+
      468    13192    1          SIZEW(B$PRGKEY)*7+
      469    13193    1          +10; /* Allow of dalignment slack words */
      470    13194    1       XUO_OU_GDS_FDS.RESULTS_=VECTOR(XUO_OU_GDS_RESULTS.VECT);
      471    13195    1       XUO_OU_GDS_FDS.V.SEGSIZE#=OU_SEGMENT_SIZE;
      472    13196    1       XUO_OU_GDS_RESULTS.LOGSIZE#=OU_SEGMENT_SIZE;
      473    13197    1       XUO_OU_GDS_RESULTS.REALSIZE#=XUO_OU_GDS_RESULTS.LOGSIZE#;
      474    13198    1       CALL M$GDS(XUO_OU_GDS_FDS) ALTRET(OU_GDS_ERROR);
      475    13199    1       OU_WORK$=XUO_OU_GDS_RESULTS.VECT.PTR$;
      476    13200         /*
      477    13201            Clear the entire area to zeros
      478    13202            */
      479    13203    1       CHAR_SIZE=OU_SEGMENT_SIZE*4;
      480    13204    1       OU_CLEAR='000'O;
      481    13205         /*
      482    13206            The following initializes the keys.
      483    13207            */
      484    13208    1       IF ADDR(P_OU_UTS)=ADDR(NIL) THEN
      485    13209    2       DO;
      486    13210    2           FPT_UTS=FPT_UTS_BASE;
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:19   
      487    13211    2           FPT_UTS.TSTAMP_=VECTOR(XUO_OU_UTS);
      488    13212    2           CALL M$TIME (FPT_UTS);
      489    13213    2           END;
      490    13214    1       ELSE
      491    13215    1           XUO_OU_UTS=P_OU_UTS;
      492    13216
      493    13217    1       B$OUKEY.UTS=XUO_OU_UTS;
      494    13218
      495    13219    1       B$PRGKEY$=OU_WORK$;
      496    13220    1       B$PRGKEY.KEYSIZ=11;
      497    13221    1       B$PRGKEY.NOTHD='777'O;
      498    13222    1       B$PRGKEY.UTS=XUO_OU_UTS;
      499    13223    1       B$PRGKEY.TYPE=%TYPPROG;
      500    13224    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(B$PRGKEY));
      501    13225
      502    13226    1       B$RELKEY$=OU_WORK$;
      503    13227    1       B$RELKEY=B$PRGKEY$->B$PRGKEY;
      504    13228    1       B$RELKEY.SUBTYPE=%SUBTYPREL;
      505    13229    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(B$PRGKEY));
      506    13230
      507    13231    1       B$FRWDKEY$=OU_WORK$;
      508    13232    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(B$PRGKEY));
      509    13233
      510    13234         /*
      511    13235            Initialize all the fpts
      512    13236            with the dcb number and appropriate
      513    13237         vectors.
      514    13238            */
      515    13239    1       B$OUHEAD$=OU_WORK$;
      516    13240    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(B$OUHEAD));
      517    13241
      518    13242    1       IF ADDR(P_LIBRARY_NAME)~=ADDR(NIL)
      519    13243    2       THEN DO;
      520    13244    2           B$OUHEAD.LNAMSIZ = P_LIBRARY_NAME.SIZE;
      521    13245    2           B$OUHEAD.LNAM = P_LIBRARY_NAME.TEXT;
      522    13246    2           END;
      523    13247    2       ELSE DO;
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:20   
      524    13248    2           B$OUHEAD.LNAMSIZ = 0;
      525    13249    2           B$OUHEAD.LNAM = ' ';
      526    13250    2           END;
      527    13251
      528    13252         /*       Save the asl name and asl size in B$OUHEAD. */
      529    13253
      530    13254    1       IF ADDR(P_ASL_NAME)~=ADDR(NIL)
      531    13255    2       THEN DO;
      532    13256    2           B$OUHEAD.ASLNAMSIZ = P_ASL_NAME.SIZE;
      533    13257    2           B$OUHEAD.ASLNAM = P_ASL_NAME.TEXT;
      534    13258    2           END;
      535    13259    2       ELSE DO;
      536    13260    2           B$OUHEAD.ASLNAMSIZ = 0;
      537    13261    2           B$OUHEAD.ASLNAM = ' ';
      538    13262    2           END;
      539    13263
      540    13264    1       XUO_OU_DCB_NUMBER=P_OU_DCB_NUMBER;
      541    13265
      542    13266         /*
      543    13267         Make sure fpts start on double word
      544    13268         */
      545    13269    1       OU_WORK$=PALIGND(OU_WORK$);
      546    13270    1       XUO_OU_OPEN$=OU_WORK$;
      547    13271    1       XUO_OU_OPEN=XUO_OU_OPEN_BASE;
      548    13272    1       XUO_OU_OPEN.V_=VECTOR(XUO_OU_OPEN.V);
      549    13273    1       XUO_OU_OPEN.V.DCB#=XUO_OU_DCB_NUMBER;
      550    13274    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(XUO_OU_OPEN_BASE));
      551    13275
      552    13276    1       XUO_HEAD_WRITE$=OU_WORK$;
      553    13277    1       XUO_HEAD_WRITE=XUO_HEAD_WRITE_BASE;
      554    13278    1       XUO_HEAD_WRITE.V_=VECTOR(XUO_HEAD_WRITE.V);
      555    13279    1       XUO_HEAD_WRITE.V.DCB#=XUO_OU_DCB_NUMBER;
      556    13280    1       XUO_HEAD_WRITE.BUF_=VECTOR(B$OUHEAD$->B$OUHEAD);
      557    13281    1       XUO_HEAD_WRITE.KEY_=VECTOR(B$HEADKEY);
      558    13282    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(XUO_HEAD_WRITE_BASE));
      559    13283
      560    13284    1       XUO_OU_WRITE$=OU_WORK$;
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:21   
      561    13285    1       XUO_OU_WRITE=XUO_OU_WRITE_BASE;
      562    13286    1       XUO_OU_WRITE.V_=VECTOR(XUO_OU_WRITE.V);
      563    13287    1       XUO_OU_WRITE.V.DCB#=XUO_OU_DCB_NUMBER;
      564    13288    1       XUO_OU_WRITE.KEY_=VECTOR(B$OUKEY);
      565    13289    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(XUO_OU_WRITE_BASE));
      566    13290
      567    13291    1       XUO_PROGRAM_WRITE$=OU_WORK$;
      568    13292    1       XUO_PROGRAM_WRITE=XUO_OU_WRITE$->XUO_OU_WRITE;
      569    13293         /*V area the same for OU_WRITE/PROGRAM write/relocation write*/
      570    13294    1       XUO_PROGRAM_WRITE.KEY_=VECTOR(B$PRGKEY$->B$PRGKEY);
      571    13295    1       XUO_PROGRAM_WRITE.BUF_ = VECTOR (XUO_OU_WRITE$->XUO_OU_WRITE);
      572    13296    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(XUO_PROGRAM_WRITE));
      573    13297
      574    13298    1       XUO_RELOCATION_WRITE$=OU_WORK$;
      575    13299    1       XUO_RELOCATION_WRITE=XUO_OU_WRITE$->XUO_OU_WRITE;
      576    13300    1       XUO_RELOCATION_WRITE.KEY_=VECTOR(B$RELKEY$->B$RELKEY);
      577    13301    1       XUO_RELOCATION_WRITE.BUF_ = VECTOR(XUO_OU_WRITE$->XUO_OU_WRITE);
      578    13302    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(XUO_RELOCATION_WRITE));
      579    13303
      580    13304    1       XUO_RELOCATION_READ$=OU_WORK$;
      581    13305    1       XUO_RELOCATION_READ=XUO_RELOCATION_READ_BASE;
      582    13306    1       XUO_RELOCATION_READ.V_=VECTOR(XUO_RELOCATION_READ.V);
      583    13307    1       XUO_RELOCATION_READ.V.DCB#=XUO_OU_DCB_NUMBER;
      584    13308    1       XUO_RELOCATION_READ.KEY_=VECTOR(B$FRWDKEY$->B$FRWDKEY);
      585    13309    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(XUO_RELOCATION_READ));
      586    13310
      587    13311    1       XUO_RELOCATION_REWRITE$=OU_WORK$;
      588    13312    1       XUO_RELOCATION_REWRITE=XUO_RELOCATION_REWRITE_BASE;
      589    13313    1       XUO_RELOCATION_REWRITE.V_=VECTOR(XUO_RELOCATION_REWRITE.V);
      590    13314    1       XUO_RELOCATION_REWRITE.V.DCB#=XUO_OU_DCB_NUMBER;
      591    13315    1       XUO_RELOCATION_REWRITE.KEY_=VECTOR(B$FRWDKEY$->B$FRWDKEY);
      592    13316    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(XUO_RELOCATION_REWRITE));
      593    13317
      594    13318    1       XUO_OU_CLOSE$=OU_WORK$;
      595    13319    1       XUO_OU_CLOSE=XUO_OU_CLOSE_BASE;
      596    13320    1       XUO_OU_CLOSE.V_=VECTOR(XUO_OU_CLOSE.V);
      597    13321    1       XUO_OU_CLOSE.V.DCB#=XUO_OU_DCB_NUMBER;
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:22   
      598    13322    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(XUO_OU_CLOSE));
      599    13323         /*
      600    13324            Indicate whether to close the ou
      601    13325            file when done
      602    13326            */
      603    13327    1       XUO_CLOSE_REQUIRED=P_OU_CLOSE_REQUIRED_FLAG;
      604    13328    1       XUO_OU_WRITE_REQUIRED='0'B;
      605    13329         /*
      606    13330            Indicate whether type 11 to
      607    13331            15 (I.E. Debug) records are to
      608    13332            be output
      609    13333            */
      610    13334    1       XUO_SCHEMA_REQUIRED=P_SCHEMA_REQUIRED_FLAG;
      611    13335         /*
      612    13336            Save compiler id and version
      613    13337            */
      614    13338    1       XUO_COMPILER_ID=P_COMPILER_ID;
      615    13339    1       XUO_VERSION_NUMBER=P_VERSION;
      616    13340         /*
      617    13341            Save word/char size/severity
      618    13342            */
      619    13343    1       IF ADDR(P_WORDSIZE)~=ADDR(NIL) THEN
      620    13344    1           XUO_WORDSIZE=P_WORDSIZE;
      621    13345    1       ELSE
      622    13346    1           XUO_WORDSIZE=36;
      623    13347    1       IF XUO_WORDSIZE=36 THEN
      624    13348    1           XUO_CHARSIZE=9;
      625    13349    1       ELSE
      626    13350    1           XUO_CHARSIZE=8;
      627    13351    1       XUO_MAXIMUM_SEVERITY=0;
      628    13352    1       XUO_MOST_RECENT_SECTION = -1;
      629    13353         /*
      630    13354         The following section will lay out the pointers for the
      631    13355         appropriate records.
      632    13356         The follwoing allocates data names record.
      633    13357         */
      634    13358    1       B_DNAME_BASE$=OU_WORK$;
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:23   
      635    13359    1       B_DNAME_CUR$=OU_WORK$;
      636    13360    1       OU_WORK$=PINCRW(OU_WORK$,B_DNAME_PAGE_SIZE);
      637    13361    1       B_DNAME_END$=OU_WORK$;
      638    13362    1       B_DNAME_COUNT=0;
      639    13363    1       B_DNAME_PAGE=0;
      640    13364         /*
      641    13365         The following allocates ref names record
      642    13366            */
      643    13367    1       B_RNAME_BASE$=OU_WORK$;
      644    13368    1       B_RNAME_CUR$=OU_WORK$;
      645    13369    1       OU_WORK$=PINCRW(OU_WORK$,B_RNAME_PAGE_SIZE);
      646    13370    1       B_RNAME_END$=OU_WORK$;
      647    13371    1       B_RNAME_COUNT=0;
      648    13372    1       B_RNAME_PAGE=0;
      649    13373         /*
      650    13374            The following allocates section record.
      651    13375            */
      652    13376    1       B_SECTION_BASE$=OU_WORK$;
      653    13377    1       B_SECTION_CUR$=OU_WORK$;
      654    13378    1       OU_WORK$=PINCRW(OU_WORK$,B_SECTION_PAGE_SIZE);
      655    13379    1       B_SECTION_END$=OU_WORK$;
      656    13380    1       B_SECTION_COUNT=-1;
      657    13381         /*
      658    13382         The following section allocates entry def records.
      659    13383         */
      660    13384    1       B_EDEF_BASE$=OU_WORK$;
      661    13385    1       B_EDEF_CUR$=OU_WORK$;
      662    13386    1       OU_WORK$=PINCRW(OU_WORK$,B_EDEF_PAGE_SIZE);
      663    13387    1       B_EDEF_END$=OU_WORK$;
      664    13388    1       B_EDEF_COUNT=-1;
      665    13389    1       B_EDEF_PAGE=0;
      666    13390         /*
      667    13391         The following section allocates entry ref records.
      668    13392         */
      669    13393    1       B_EREF_BASE$=OU_WORK$;
      670    13394    1       B_EREF_CUR$=OU_WORK$;
      671    13395    1       OU_WORK$=PINCRW(OU_WORK$,B_EREF_PAGE_SIZE);
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:24   
      672    13396    1       B_EREF_END$=OU_WORK$;
      673    13397    1       B_EREF_COUNT=-1;
      674    13398    1       B_EREF_PAGE=0;
      675    13399         /*
      676    13400         The following section allocates data def records.
      677    13401         */
      678    13402    1       B_SDEF_BASE$=OU_WORK$;
      679    13403    1       B_SDEF_CUR$=OU_WORK$;
      680    13404    1       OU_WORK$=PINCRW(OU_WORK$,B_SDEF_PAGE_SIZE);
      681    13405    1       B_SDEF_END$=OU_WORK$;
      682    13406    1       B_SDEF_COUNT=-1;
      683    13407    1       B_SDEF_PAGE=0;
      684    13408         /*
      685    13409         The following section allocates data ref records.
      686    13410         */
      687    13411    1       B_SREF_BASE$=OU_WORK$;
      688    13412    1       B_SREF_CUR$=OU_WORK$;
      689    13413    1       OU_WORK$=PINCRW(OU_WORK$,B_SREF_PAGE_SIZE);
      690    13414    1       B_SREF_END$=OU_WORK$;
      691    13415    1       B_SREF_COUNT=-1;
      692    13416    1       B_SREF_PAGE=0;
      693    13417         /*
      694    13418         The following section allocates segment def records
      695    13419         */
      696    13420    1       B_SEGDEF_BASE$=OU_WORK$;
      697    13421    1       B_SEGDEF_CUR$=OU_WORK$;
      698    13422    1       OU_WORK$=PINCRW(OU_WORK$,B_SEGDEF_PAGE_SIZE);
      699    13423    1       B_SEGDEF_END$=OU_WORK$;
      700    13424    1       B_SEGDEF_COUNT=-1;
      701    13425    1       B_SEGDEF_PAGE=0;
      702    13426         /*
      703    13427         The following section allocates segment ref records.
      704    13428         */
      705    13429    1       B_SEGREF_BASE$=OU_WORK$;
      706    13430    1       B_SEGREF_CUR$=OU_WORK$;
      707    13431    1       OU_WORK$=PINCRW(OU_WORK$,B_SEGREF_PAGE_SIZE);
      708    13432    1       B_SEGREF_END$=OU_WORK$;
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:25   
      709    13433    1       B_SEGREF_COUNT=-1;
      710    13434    1       B_SEGREF_PAGE=0;
      711    13435         /* Create and initialize the lru workspace */
      712    13436    1       LRU_VECTOR = VECTOR (OU_WORK$ -> BUBIN);
      713    13437         /*Vbound works with bytes so after i figure the # words figure bytes*/
      714    13438    1       VBOUND (LRU_VECTOR) = (B_NUMBER_OF_BUFFERS *2 +2) *4 -1;
      715    13439    1       OU_WORK$ = PINCRW (OU_WORK$, (B_NUMBER_OF_BUFFERS *2 +2));
      716    13440    1       CALL XUM$INIT_WORKSPACE (LRU_VECTOR) ALTRET (ERR_LRU);
      717    13441
      718    13442         /* Initailize the section array to indicate the buffers */
      719    13443    1       PTR2_SECTION_ARRAY$ = OU_WORK$;
      720    13444    1       OU_WORK$ = PINCRW(OU_WORK$,(SIZEW(SECTION_ARRAY)*(B_NUMBER_OF_SECTIONS+1)));
      721    13445    2       DO I = 0 TO B_NUMBER_OF_BUFFERS -1;
      722    13446    2           SECTION_ARRAY.PROGRAM_CURS(I) = 0;
      723    13447    2           SECTION_ARRAY.PTR2_PROGRAM_BUF$(I) = OU_WORK$;
      724    13448    2           SECTION_ARRAY.BUF_OFFSET(I) = 0;
      725    13449    2           OU_WORK$ = PINCRW (OU_WORK$, B_PROGRAM_PAGE_SIZE);
      726    13450
      727    13451    2           SECTION_ARRAY.RELOCATION_CURS(I) = 0;
      728    13452    2           SECTION_ARRAY.PTR2_RELOCATION_BUF$(I) = OU_WORK$;
      729    13453    2           OU_WORK$ = PINCRW (OU_WORK$, B_RELOCATION_PAGE_SIZE);
      730    13454
      731    13455    2           CALL XUM$CREATE_NEW_ITEM (LRU_VECTOR, PTR2_LRU$) ALTRET (ERR_LRU);
      732    13456    2           PTR2_LRU$->BUBIN = I;
      733    13457    2           SECTION_ARRAY.PTR2_LRU$(I) = PTR2_LRU$;
      734    13458    2           SECTION_ARRAY.MAX_PROG_RELOC(I) = -1;
      735    13459    2           SECTION_ARRAY.PROG_WORD_COUNT(I) = 0;
      736    13460
      737    13461    2           END;
      738    13462
      739    13463         /* Initialize the section array part which wont have buffer info at
      740    13464            the start of this whole thing */
      741    13465    2       DO I = B_NUMBER_OF_BUFFERS TO B_NUMBER_OF_SECTIONS;
      742    13466    2           SECTION_ARRAY.PROGRAM_CURS(I) = 0;
      743    13467    2           SECTION_ARRAY.MAX_PROG_RELOC(I) = -1;
      744    13468    2           SECTION_ARRAY.PTR2_PROGRAM_BUF$(I) = ADDR (NIL);
      745    13469    2           SECTION_ARRAY.BUF_OFFSET(I) = 0;
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:26   
      746    13470
      747    13471    2           SECTION_ARRAY.RELOCATION_CURS(I) = 0;
      748    13472    2           SECTION_ARRAY.PTR2_RELOCATION_BUF$(I) = ADDR (NIL);
      749    13473
      750    13474    2           SECTION_ARRAY.PTR2_LRU$(I) = ADDR (NIL);
      751    13475
      752    13476    2           END;
      753    13477         /*
      754    13478         The following allocates the logical block record.
      755    13479         */
      756    13480    1       B_LOGBLK_ENTRY0$=OU_WORK$;
      757    13481    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(B$LOGBLK));
      758    13482    1       B_LOGBLK_ENTRY1$=OU_WORK$;
      759    13483    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(B$LOGBLK));
      760    13484    1       B_LOGBLK_BASE$=OU_WORK$;
      761    13485    1       B_LOGBLK_CUR$=OU_WORK$;
      762    13486    1       OU_WORK$=PINCRW(OU_WORK$,B_LOGBLK_PAGE_SIZE-2*SIZEW(B$LOGBLK));
      763    13487    1       B_LOGBLK_COUNT=-1;
      764    13488    1       B_LOGBLK_END$=OU_WORK$;
      765    13489    1       B_LOGBLK_PAGE=0;
      766    13490         /*
      767    13491         The following section allocates internal entry records.
      768    13492         */
      769    13493    1       B_INTNTRY_BASE$=OU_WORK$;
      770    13494    1       B_INTNTRY_CUR$=OU_WORK$;
      771    13495    1       OU_WORK$=PINCRW(OU_WORK$,B_INTNTRY_PAGE_SIZE);
      772    13496    1       B_INTNTRY_END$=OU_WORK$;
      773    13497    1       B_INTNTRY_COUNT=-1;
      774    13498    1       B_INTNTRY_PAGE=0;
      775    13499         /*
      776    13500         The following section allocates exec stmnt records.
      777    13501         */
      778    13502    1       B_EXST_BASE$=OU_WORK$;
      779    13503    1       B_EXST_CUR$=OU_WORK$;
      780    13504    1       OU_WORK$=PINCRW(OU_WORK$,B_EXST_PAGE_SIZE);
      781    13505    1       B_EXST_END$=OU_WORK$;
      782    13506    1       B_EXST_COUNT=-1;
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:27   
      783    13507    1       B_EXST_PAGE=0;
      784    13508         /*
      785    13509         The following section allocates variable records.
      786    13510         */
      787    13511    1       B_VREBL_BASE$=OU_WORK$;
      788    13512    1       B_VREBL_CUR$=OU_WORK$;
      789    13513    1       OU_WORK$=PINCRW(OU_WORK$,B_VREBL_PAGE_SIZE);
      790    13514    1       B_VREBL_END$=OU_WORK$;
      791    13515    1       B_VREBL_COUNT=-1;
      792    13516    1       B_VREBL_PAGE=0;
      793    13517         /*
      794    13518         The following section allocates the dbg names record
      795    13519         */
      796    13520    1       B_DBGNAME_BASE$=OU_WORK$;
      797    13521    1       B_DBGNAME_CUR$=OU_WORK$;
      798    13522    1       OU_WORK$=PINCRW(OU_WORK$,B_DBGNAME_PAGE_SIZE);
      799    13523    1       B_DBGNAME_END$=OU_WORK$;
      800    13524    1       B_DBGNAME_COUNT=0;
      801    13525    1       B_DBGNAME_PAGE=0;
      802    13526         /*
      803    13527         If the TRUST_ME flag is in the parameter list then
      804    13528         set the variable for use elsewhere in the xuo
      805    13529         package.  This flag is basically to help cobol8x
      806    13530         screw up their object units.
      807    13531         */
      808    13532    1       B_TRUST_ME = '0'B;
      809    13533    1       IF ADDR(P_TRUST_ME) ~= ADDR(NIL)
      810    13534    2       THEN DO;
      811    13535    2           B_TRUST_ME = P_TRUST_ME;
      812    13536    2           END;
      813    13537         /*
      814    13538            Now open the object unit file
      815    13539            */
      816    13540    1       CALL XUO$OUOPEN;
      817    13541    1       RETURN;
      818    13542            %PAGE (ARG=ERRORS);

PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:28   
             13555    1   /*******************************************************************************
             13556    1   *                                                                              *
             13557    1   *        ERRORS              ERRORS                                                *
             13558    1   *                                                                              *
             13559    1   *******************************************************************************/

      819    13563         /*
      820    13564         The following section handles the case of error on M$GDS.
      821    13565         */
      822    13566    1   OU_GDS_ERROR: ;
      823    13567    1       IF XUO_ERROR_ROUTINE~=ENTADDR(NIL) THEN
      824    13568    2       DO;
      825    13569    2           ERROR=B$TCB$->B$TCB.ALT$->B$ALT.ERR;
      826    13570    2           CALL XUO_ERROR_ROUTINE(ERROR);
      827    13571    2           END;
      828    13572    1       ALTRETURN;
      829    13573    1   ERR_LRU: ;
      830    13574    1       ALTRETURN;
      831    13575         /*
      832    13576            */
      833    13577    1   END XUO$OUINIT;
      834    13578        %EOD;

PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:29   
--  Include file information  --

   XUM_ENTRIES_C.:E05TOU  is referenced.
   XUO$OBJ_C.:E05TOU  is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   ZVA_FLAGS.:TOOLE04  is referenced.
   ZVA_SYSTEM_FILE.:TOOLE04  is referenced.
      No diagnostics issued in procedure XUO$OUINIT.

   Procedure XUO$OUINIT requires 614 words for executable code.
   Procedure XUO$OUINIT requires 36 words of local(AUTO) storage.

PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:30   

 Object Unit name= XUO$OUINIT                                 File name= XUO$INIT.:E05TOU
 UTS= JUL 30 '97 09:30:33.92 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1  RoData even  UTS    150    226  XUO$OUINIT
    2   Proc  even  none   614   1146  XUO$OUINIT
    3  RoData even  none    16     20  XUO$OUINIT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     2      0   yes    yes     yes      Std       11  XUO$OUINIT

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       0 XUO$OUROOTDATA
         yes           Std      17 XUO$BUFINIT
 yes     yes           Std       2 XUM$CREATE_NEW_ITEM
         yes           Std       0 XUO$OUOPEN
 yes     yes           Std       1 XUM$INIT_WORKSPACE
                       nStd      0 X66_AUTO_N
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
                       nStd      0 X66_AALT
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:31   

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  B$OUHEAD$                             B$HEADKEY
     B$OUKEY                               B$PRGKEY$                             B$RELKEY$
     B$FRWDKEY$                            B_DNAME_BASE$                         B_DNAME_CUR$
     B_DNAME_END$                          B_DNAME_COUNT                         B_DNAME_PAGE
     B_DNAME_PAGE_SIZE                     B_RNAME_BASE$                         B_RNAME_CUR$
     B_RNAME_END$                          B_RNAME_COUNT                         B_RNAME_PAGE
     B_RNAME_PAGE_SIZE                     B_DBGNAME_BASE$                       B_DBGNAME_CUR$
     B_DBGNAME_END$                        B_DBGNAME_COUNT                       B_DBGNAME_PAGE
     B_DBGNAME_PAGE_SIZE                   B_SECTION_BASE$                       B_SECTION_CUR$
     B_SECTION_END$                        B_SECTION_COUNT                       B_SECTION_PAGE_SIZE
     B_EDEF_BASE$                          B_EDEF_CUR$                           B_EDEF_END$
     B_EDEF_COUNT                          B_EDEF_PAGE                           B_EDEF_PAGE_SIZE
     B_EREF_BASE$                          B_EREF_CUR$                           B_EREF_END$
     B_EREF_COUNT                          B_EREF_PAGE                           B_EREF_PAGE_SIZE
     B_SDEF_BASE$                          B_SDEF_CUR$                           B_SDEF_END$
     B_SDEF_COUNT                          B_SDEF_PAGE                           B_SDEF_PAGE_SIZE
     B_SREF_BASE$                          B_SREF_CUR$                           B_SREF_END$
     B_SREF_COUNT                          B_SREF_PAGE                           B_SREF_PAGE_SIZE
     B_SEGDEF_BASE$                        B_SEGDEF_CUR$                         B_SEGDEF_END$
     B_SEGDEF_COUNT                        B_SEGDEF_PAGE                         B_SEGDEF_PAGE_SIZE
     B_SEGREF_BASE$                        B_SEGREF_CUR$                         B_SEGREF_END$
     B_SEGREF_COUNT                        B_SEGREF_PAGE                         B_SEGREF_PAGE_SIZE
     B_RELOCATION_PAGE_SIZE                B_PROGRAM_PAGE_SIZE                   B_LOGBLK_BASE$
     B_LOGBLK_ENTRY0$                      B_LOGBLK_ENTRY1$                      B_LOGBLK_CUR$
     B_LOGBLK_END$                         B_LOGBLK_COUNT                        B_LOGBLK_PAGE
     B_LOGBLK_PAGE_SIZE                    B_INTNTRY_BASE$                       B_INTNTRY_CUR$
     B_INTNTRY_END$                        B_INTNTRY_COUNT                       B_INTNTRY_PAGE
     B_INTNTRY_PAGE_SIZE                   B_EXST_BASE$                          B_EXST_CUR$
     B_EXST_END$                           B_EXST_COUNT                          B_EXST_PAGE
     B_EXST_PAGE_SIZE                      B_VREBL_BASE$                         B_VREBL_CUR$
     B_VREBL_END$                          B_VREBL_COUNT                         B_VREBL_PAGE
     B_VREBL_PAGE_SIZE                     LRU_VECTOR                            PTR2_SECTION_ARRAY$
     B_NUMBER_OF_SECTIONS                  B_NUMBER_OF_BUFFERS                   B_TRUST_ME
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:32   
     BUFINIT_CALLED                        XUO_OU_OPEN$                          XUO_HEAD_WRITE$
     XUO_OU_WRITE$                         XUO_PROGRAM_WRITE$                    XUO_RELOCATION_WRITE$
     XUO_RELOCATION_READ$                  XUO_RELOCATION_REWRITE$               XUO_OU_CLOSE$
     XUO_OU_GDS_FDS                        B$TCB$                                XUO_OU_UTS
     XUO_OU_DCB_NUMBER                     XUO_CLOSE_REQUIRED                    XUO_OU_WRITE_REQUIRED
     XUO_ERROR_ROUTINE                     XUO_SCHEMA_REQUIRED                   XUO_COMPILER_ID
     XUO_VERSION_NUMBER                    XUO_WORDSIZE                          XUO_CHARSIZE
     XUO_MAXIMUM_SEVERITY                  XUO_MOST_RECENT_SECTION               XUO_OU_GDS_RESULTS
     B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:33   


        1        1        /*M*     XUO$OUINIT  -- THIS MODULE WILL PERFORM ALL OU INITIALIZATIONS*/
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* PLM=4,STI=0,IND=4,CTI=3,DCI=4,ECI=4,CSI=0,THI=0,DTI=0,
        8        8             ENI=4,CLM=0,SQB,NTB,MOC,CCI=3,NLB,MCL=0,EDMC */
        9        9        /*P*
       10       10
       11       11
       12       12        NAME:  XUO$OUINIT
       13       13        XUO$OUINIT --Object unit Initialization
       14       14
       15       15        PURPOSE:  To perform initialization prior to building
       16       16                  the object unit.
       17       17
       18       18        DESCRIPTION:  This routine performs the initialization
       19       19             necessary prior to building the object unit.
       20       20             This module must be called before any object unit
       21       21             building routines can be called.   Space is
       22       22             allocated for the object unit buffers and pointers
       23       23             to the buffers are initialized.  All fields of the
       24       24             following four keys are initialized:  Head Key,
       25       25             OU Key, Program Key, and Relocation Key.  The
       26       26             object unit file is opened.  This routine altreturns
       27       27             when insufficient memory exists for the object unit
       28       28             If any unexpected I/O errors occur while trying to
       29       29             write the object unit, the DCB will be closed in
       30       30             accordance with the OU Close Required Flag.
       31       31
       32       32        */
       33       33        /*D*
       34       34        CALL XUO$OUINIT (DCB Number,
       35       35                         Close Required Flag,
       36       36                         Schema Required Flag,
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:34   
       37       37                         Compiler ID,
       38       38                         Version,
       39       39                         Library Name,
       40       40                         UTS,
       41       41                         Error Routine,
       42       42                         Word Size,
       43       43                        *Trust Me,
       44       44                         Alternate Shared Library)
       45       45
       46       46        INPUT:
       47       47            DCB Number          UBIN ALIGNED
       48       48                                The DCB number to which the object unit
       49       49                                will be written.  If DCBNUM(nil) is
       50       50                                passed, the object unit will not be
       51       51                                written.
       52       52            Close Required Flag BIT(1)
       53       53                                When set, this flag implies that the
       54       54                                M$OU DCB is to be closed by the object
       55       55                                unit routines.  Otherwise, it will
       56       56                                remain open.
       57       57            Schema Required Flag  BIT(1)
       58       58                                When set, this flag implies that record
       59       59                                types 11 to 15 (debug records) are to be
       60       60                                output.  When reset, no debug data will
       61       61                                be included in the object unit.
       62       62            Compiler ID         UBIN ALIGNED
       63       63                                Identifies the language as follows:
       64       64                                  0 - Assembler
       65       65                                  1 - PL6
       66       66                                  2 - FORTRAN
       67       67                                  3 - COBOL
       68       68                                  4 - PL1
       69       69                                  5 - RPG
       70       70             Version            UBIN ALIGNED
       71       71                                Version number of the compiler conforming
       72       72                                to release standards.
       73       73             Library Name         STRUCTURE where
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:35   
       74       74                  Size          UBIN BYTE UNALIGNED
       75       75                                Size in bytes of the library name
       76       76                  Text          CHAR(Size)
       77       77                                Character string representing the
       78       78                                library name to be associated.
       79       79             UTS                UBIN ALIGNED
       80       80                                The Universal Time Stamp value to be used
       81       81                                in the object unit keys.  If not specified
       82       82                                a new value will be obtained and used.
       83       83             Error Routine      EPTR
       84       84                                Represents the entry point of an error
       85       85                                routine to call when an I/O error or
       86       86                                memory allocation error occurs.  This
       87       87                                routine will be passed B$JIT.ERR.  If
       88       88                                not specified, ENTADDR(nil) will be the
       89       89                                default.
       90       90             Word Size          UBIN ALIGNED
       91       91                                Represents the word size of the object
       92       92                                code.  ILf not specified, word size
       93       93                                will be set to 36.
       94       94             Trust Me           BIT(1)
       95       95                                When set, this bit allows the user
       96       96                                to write program records out of order.
       97       97                                If not set, checking will be done to
       98       98                                ensure program records are written
       99       99                                in sequence.
      100      100             Alternate Shared Library STRUCTURE where
      101      101                   Size           UBIN BYTE ALIGNED
      102      102                                  Represents the number of characters
      103      103                                  in the Alternate Shared Library name.
      104      104                   Text           CHAR (Size)
      105      105                                  The character string that is the name
      106      106                                  of the Alternate Shared Library that
      107      107                                  is to be associated with this object unit.
      108      108
      109      109        OUTPUT:    None
      110      110
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:36   
      111      111        B$OBJECT REFERENCE:  B$HEADKEY, B$OUKEY, B$PRGKEY, B$RELKEY
      112      112
      113      113        */
      114      114        /*B*
      115      115        GLOBAL DATA:
      116      116                      B$HEADKEY
      117      117                      B$OUKEY
      118      118                      B$PRGKEY
      119      119                      B$RELKEY
      120      120                      XUO_OU_UTS
      121      121                      B_DNAME_BASE$
      122      122                      B_DNAME_CUR$
      123      123                      B_DNAME_END$
      124      124                      B_DNAME_COUNT
      125      125                      B_DNAME_PAGE
      126      126                      B_DNAME_PAGE_SIZE
      127      127                      B_RNAME_BASE$
      128      128                      B_RNAME_CUR$
      129      129                      B_RNAME_END$
      130      130                      B_RNAME_COUNT
      131      131                      B_RNAME_PAGE
      132      132                      B_RNAME_PAGE_SIZE
      133      133                      B_DBGNAME_BASE$
      134      134                      B_DBGNAME_CUR$
      135      135                      B_DBGNAME_END$
      136      136                      B_DBGNAME_COUNT
      137      137                      B_DBGNAME_PAGE
      138      138                      B_DBGNAME_PAGE_SIZE
      139      139                      B_SECTION_BASE$
      140      140                      B_SECTION_CUR$
      141      141                      B_SECTION_END$
      142      142                      B_SECTION_COUNT
      143      143                      B_SECTION_PAGE_SIZE
      144      144                      B_EDEF_BASE$
      145      145                      B_EDEF_CUR$
      146      146                      B_EDEF_END$
      147      147                      B_EDEF_COUNT
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:37   
      148      148                      B_EDEF_PAGE_SIZE
      149      149                      B_EDEF_PAGE
      150      150                      B_EREF_BASE$
      151      151                      B_EREF_CUR$
      152      152                      B_EREF_END$
      153      153                      B_EREF_COUNT
      154      154                      B_EREF_PAGE
      155      155                      B_EREF_PAGE_SIZE
      156      156                      B_SDEF_BASE$
      157      157                      B_SDEF_CUR$
      158      158                      B_SDEF_END$
      159      159                      B_SDEF_COUNT
      160      160                      B_SDEF_PAGE
      161      161                      B_SDEF_PAGE_SIZE
      162      162                      B_SREF_BASE$
      163      163                      B_SREF_CUR$
      164      164                      B_SREF_END$
      165      165                      B_SREF_COUNT
      166      166                      B_SREF_PAGE
      167      167                      B_SREF_PAGE_SIZE
      168      168                      B_SEGDEF_BASE$
      169      169                      B_SEGDEF_CUR$
      170      170                      B_SEGDEF_END$
      171      171                      B_SEGDEF_COUNT
      172      172                      B_SEGDEF_PAGE
      173      173                      B_SEGDEF_PAGE_SIZE
      174      174                      B_SEGREF_BASE$
      175      175                      B_SEGREF_CUR$
      176      176                      B_SEGREF_END$
      177      177                      B_SEGREF_COUNT
      178      178                      B_SEGREF_PAGE
      179      179                      B_SEGREF_PAGE_SIZE
      180      180                      B_LOGBLK_BASE$
      181      181                      B_LOGBLK_ENTRY0$
      182      182                      B_LOGBLK_ENTRY1$
      183      183                      B_LOGBLK_CUR$
      184      184                      B_LOGBLK_END$
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:38   
      185      185                      B_LOGBLK_COUNT
      186      186                      B_LOGBLK_PAGE
      187      187                      B_LOGBLK_PAGE_SIZE
      188      188                      B_INTNTRY_BASE$
      189      189                      B_INTNTRY_CUR$
      190      190                      B_INTNTRY_END$
      191      191                      B_INTNTRY_COUNT
      192      192                      B_INTNTRY_PAGE
      193      193                      B_INTNTRY_PAGE_SIZE
      194      194                      B_EXST_BASE$
      195      195                      B_EXST_CUR$
      196      196                      B_EXST_END$
      197      197                      B_EXST_COUNT
      198      198                      B_EXST_PAGE
      199      199                      B_EXST_PAGE_SIZE
      200      200                      B_VREBL_BASE$
      201      201                      B_VREBL_CUR$
      202      202                      B_VREBL_END$
      203      203                      B_VREBL_COUNT
      204      204                      B_VREBL_PAGE
      205      205                      B_VREBL_PAGE_SIZE
      206      206                      XUO_OU_DCB_NUMBER
      207      207                      XUO_CLOSE_REQUIRED
      208      208                      XUO_SCHEMA_REQUIRED
      209      209                      XUO_COMPILER_ID
      210      210                      XUO_VERSION_NUMBER
      211      211                      XUO_WORDSIZE
      212      212                      XUO_CHARSIZE
      213      213                      XUO_OU_UTS
      214      214                      XUO_ERROR_ROUTINE
      215      215                      XUO_MOST_RECENT_SECTION
      216      216
      217      217        INTERFACE:
      218      218             XUO$OUOPEN
      219      219             XUO$OUROOTDATA
      220      220
      221      221
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:39   
      222      222        */
      223      223        XUO$OUINIT: PROC (P_OU_DCB_NUMBER,P_OU_CLOSE_REQUIRED_FLAG,P_SCHEMA_REQUIRED_FLAG,

    223  2 000000   000000 700200 xent  XUO$OUINIT   TSX0  ! X66_AUTO_N
         2 000001   000044 000013                    ZERO    36,11

      224      224               P_COMPILER_ID,P_VERSION,P_LIBRARY_NAME,
      225      225               P_OU_UTS,P_ERROR_ROUTINE,P_WORDSIZE,P_TRUST_ME,
      226      226               P_ASL_NAME) ALTRET;
      227      227        %INCLUDE ZVA_SYSTEM_FILE;
      228     6478            %PAGE (ARG=INCLUDES);

              6491    1   /*******************************************************************************
              6492    1   *                                                                              *
              6493    1   *        INCLUDES              INCLUDES                                           *
              6494    1   *                                                                              *
              6495    1   *******************************************************************************/

      229     6499        %INCLUDE B$OBJECT_C;
      230     9929        %INCLUDE XUO$OBJ_C;
      231    10339        %INCLUDE XUM_ENTRIES_C;
      232    10359    1   DCL XUO$BUFINIT ENTRY (17);
      233    10360        %XUM_ENTRIES;
      234    10369         %PAGE (ARG=SUBS);

             10382    1   /*******************************************************************************
             10383    1   *                                                                              *
             10384    1   *        SUBS              SUBS                                                  *
             10385    1   *                                                                              *
             10386    1   *******************************************************************************/

      235    10390         %B$RECORDSUBS;
      236    10418         %PAGE (ARG=PARAMETERS);

             10431    1   /*******************************************************************************
             10432    1   *                                                                              *
             10433    1   *        PARAMETERS              PARAMETERS                                       *
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:40   
             10434    1   *                                                                              *
             10435    1   *******************************************************************************/

      237    10439    1   DCL P_OU_DCB_NUMBER UBIN; /*Dcb number to write on*/
      238    10440    1   DCL P_OU_CLOSE_REQUIRED_FLAG BIT(1) UNAL PARAM;
      239    10441    1   DCL P_SCHEMA_REQUIRED_FLAG BIT(1) UNAL PARAM;
      240    10442    1   DCL P_COMPILER_ID UBIN;
      241    10443    1   DCL 1 P_VERSION ALIGNED,
      242    10444    1         2 LETTER CHAR(1) UNAL,
      243    10445    1         2 NUMBER UBIN(9) UNAL;
      244    10446    1   DCL 1 P_LIBRARY_NAME ALIGNED,
      245    10447    1         2 SIZE UBIN BYTE CALIGNED,
      246    10448    1         2 TEXT CHAR(P_LIBRARY_NAME.SIZE) CALIGNED;
      247    10449    1   DCL P_OU_UTS UBIN;
      248    10450    1   DCL P_ERROR_ROUTINE EPTR;
      249    10451    1   DCL P_WORDSIZE UBIN;
      250    10452    1   DCL P_TRUST_ME BIT(1) UNAL PARAM;
      251    10453    1   DCL 1 P_ASL_NAME ALIGNED,
      252    10454    1         2 SIZE UBIN BYTE CALIGNED,
      253    10455    1         2 TEXT CHAR (P_ASL_NAME.SIZE) CALIGNED;
      254    10456        %PAGE (ARG=OU HEAD);

             10469    1   /*******************************************************************************
             10470    1   *                                                                              *
             10471    1   *        OU HEAD              OU HEAD                                             *
             10472    1   *                                                                              *
             10473    1   *******************************************************************************/

      255    10477    1   DCL B$OUHEAD$ PTR SYMREF;
      256    10478        %B$OUHEAD(STCLASS="BASED(B$OUHEAD$)");
      257    10596        %PAGE (ARG=KEYS);

             10609    1   /*******************************************************************************
             10610    1   *                                                                              *
             10611    1   *        KEYS              KEYS                                                  *
             10612    1   *                                                                              *
             10613    1   *******************************************************************************/
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:41   

      258    10617        %B$HEADKEY (STCLASS=SYMREF,HFLAGINIT=);
      259    10629        %B$OUKEY (STCLASS=SYMREF,KEYSIZINIT=,NOTHDINIT=);
      260    10665        %B$PRGRELKEY (NAME=B$PRGKEY,STCLASS="BASED(OU_WORK$)",KEYSIZINIT=,NOTHDINIT=,
             10665            TYPEINIT=);
      261    10696    1   DCL B$PRGKEY$ PTR SYMREF;
      262    10697        %B$PRGRELKEY (NAME=B$RELKEY,STCLASS="BASED(OU_WORK$)",KEYSIZINIT=,NOTHDINIT=,
             10697            TYPEINIT=);
      263    10728    1   DCL B$RELKEY$ PTR SYMREF;
      264    10729        %B$PRGRELKEY (NAME=B$FRWDKEY,STCLASS="BASED(OU_WORK$)",KEYSIZINIT=,NOTHDINIT=,
             10729            TYPEINIT=);
      265    10760    1   DCL B$FRWDKEY$ PTR SYMREF;
      266    10761        %PAGE (ARG=NAME RECORDS);

             10774    1   /*******************************************************************************
             10775    1   *                                                                              *
             10776    1   *        NAME RECORDS              NAME RECORDS                                   *
             10777    1   *                                                                              *
             10778    1   *******************************************************************************/

      267    10782        %B$DNAME(NAME=B$DNAME,STCLASS="BASED(B_DNAME_CUR$)");
      268    10801        %B_DNAME_POINTERS;
      269    10821        %B$DNAME(NAME=B$RNAME,STCLASS="BASED(B_RNAME_CUR$)");
      270    10840        %B_RNAME_POINTERS;
      271    10860        %B$DNAME(NAME=B$DBGNAME,STCLASS="BASED(B_DBGNAME_CUR$)");
      272    10879        %B_DBGNAME_POINTERS;
      273    10899        %PAGE (ARG=SECTION RECORD);

             10912    1   /*******************************************************************************
             10913    1   *                                                                              *
             10914    1   *        SECTION RECORD              SECTION RECORD                               *
             10915    1   *                                                                              *
             10916    1   *******************************************************************************/

      274    10920        %B$SECTION(STCLASS="BASED(B_SECTION_CUR$)");
      275    10979        %B_SECTION_POINTERS;
      276    10998        %PAGE (ARG=ENTRY DEF RECORD);
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:42   

             11011    1   /*******************************************************************************
             11012    1   *                                                                              *
             11013    1   *        ENTRY DEF RECORD              ENTRY DEF RECORD                           *
             11014    1   *                                                                              *
             11015    1   *******************************************************************************/

      277    11019        %B$EDEF(STCLASS="BASED(B_EDEF_CUR$)");
      278    11089        %B_EDEF_POINTERS;
      279    11109        %PAGE (ARG=ENTRY REF RECORD);

             11122    1   /*******************************************************************************
             11123    1   *                                                                              *
             11124    1   *        ENTRY REF RECORD              ENTRY REF RECORD                           *
             11125    1   *                                                                              *
             11126    1   *******************************************************************************/

      280    11130        %B$EREF(STCLASS="BASED(B_EREF_CUR$)");
      281    11173        %B_EREF_POINTERS;
      282    11193        %PAGE (ARG=SYM DEF RECORD);

             11206    1   /*******************************************************************************
             11207    1   *                                                                              *
             11208    1   *        SYM DEF RECORD              SYM DEF RECORD                               *
             11209    1   *                                                                              *
             11210    1   *******************************************************************************/

      283    11214        %B$SDEF(STCLASS="BASED(B_SDEF_CUR$)");
      284    11268        %B_SDEF_POINTERS;
      285    11288        %PAGE (ARG=SYM REF RECORDS);

             11301    1   /*******************************************************************************
             11302    1   *                                                                              *
             11303    1   *        SYM REF RECORDS              SYM REF RECORDS                             *
             11304    1   *                                                                              *
             11305    1   *******************************************************************************/

PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:43   
      286    11309        %B$SREF(STCLASS="BASED(B_SREF_CUR$)");
      287    11323        %B_SREF_POINTERS;
      288    11343        %PAGE (ARG=SEG DEF RECORDS);

             11356    1   /*******************************************************************************
             11357    1   *                                                                              *
             11358    1   *        SEG DEF RECORDS              SEG DEF RECORDS                             *
             11359    1   *                                                                              *
             11360    1   *******************************************************************************/

      289    11364        %B$SEGDEF (STCLASS="BASED(B_SEGDEF_CUR$)");
      290    11419        %B_SEGDEF_POINTERS;
      291    11439        %PAGE (ARG=SEG REF RECORDS);

             11452    1   /*******************************************************************************
             11453    1   *                                                                              *
             11454    1   *        SEG REF RECORDS              SEG REF RECORDS                             *
             11455    1   *                                                                              *
             11456    1   *******************************************************************************/

      292    11460        %B$SEGREF(STCLASS="BASED(B_SEGREF_CUR$)");
      293    11477        %B_SEGREF_POINTERS;
      294    11497        %PAGE (ARG=PROGRAM/RELOCATION RECORDS);

             11510    1   /*******************************************************************************
             11511    1   *                                                                              *
             11512    1   *        PROGRAM/RELOCATION RECORDS              PROGRAM/RELOCATION RECORDS       *
             11513    1   *                                                                              *
             11514    1   *******************************************************************************/

      295    11518        %B_RELOCATION_POINTERS;
      296    11533        %B_PROGRAM_POINTERS;
      297    11548        %PAGE (ARG=LOGICAL BLOCK RECORDS);

             11561    1   /*******************************************************************************
             11562    1   *                                                                              *
             11563    1   *        LOGICAL BLOCK RECORDS              LOGICAL BLOCK RECORDS                 *
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:44   
             11564    1   *                                                                              *
             11565    1   *******************************************************************************/

      298    11569        %B$LBNTRY0(STCLASS="BASED(B_LOGBLK_ENTRY0$)");
      299    11605        %B$LBNTRY1(STCLASS="BASED(B_LOGBLK_ENTRY1$)");
      300    11632        %B$LOGBLK(STCLASS="BASED(B_LOGBLK_CUR$)");
      301    11663        %B_LOGBLK_POINTERS;
      302    11685        %PAGE (ARG=INTERNAL ENTRY RECORDS);

             11698    1   /*******************************************************************************
             11699    1   *                                                                              *
             11700    1   *        INTERNAL ENTRY RECORDS              INTERNAL ENTRY RECORDS               *
             11701    1   *                                                                              *
             11702    1   *******************************************************************************/

      303    11706        %B$INTNTRY(STCLASS="BASED(B_INTNTRY_CUR$)");
      304    11764        %B_INTNTRY_POINTERS;
      305    11784        %PAGE (ARG=EXEC STMNT RECORDS);

             11797    1   /*******************************************************************************
             11798    1   *                                                                              *
             11799    1   *        EXEC STMNT RECORDS              EXEC STMNT RECORDS                       *
             11800    1   *                                                                              *
             11801    1   *******************************************************************************/

      306    11805        %B$EXST(STCLASS="BASED(B_EXST_CUR$)");
      307    11912        %B_EXST_POINTERS;
      308    11932        %PAGE (ARG=VARIABLE RECORD);

             11945    1   /*******************************************************************************
             11946    1   *                                                                              *
             11947    1   *        VARIABLE RECORD              VARIABLE RECORD                             *
             11948    1   *                                                                              *
             11949    1   *******************************************************************************/

      309    11953        %B$VREBL(STCLASS="BASED(B_VREBL_CUR$)");
      310    12117        %B_VREBL_POINTERS;
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:45   
      311    12137        %PAGE (ARG=FPTS);

             12150    1   /*******************************************************************************
             12151    1   *                                                                              *
             12152    1   *        FPTS              FPTS                                                  *
             12153    1   *                                                                              *
             12154    1   *******************************************************************************/

      312    12158        %B_MULTIBUF_VARS;
      313    12185        %B_TRUST_ME;
      314    12199        %LOCAL_STUFF;
      315    12205        %BUFINIT_CALLED;
      316    12219         /*
      317    12220            The following fpt is to open the file
      318    12221            */
      319    12222    1   DCL XUO_OU_OPEN$ PTR SYMREF;
      320    12223        %IF GCOS;
      321    12224 C      %FPT_OPEN (FPTN=XUO_OU_OPEN_BASE,STCLASS=CONSTANT,ASN=FILE,ORG=KEYED,
      322    12225 C       ACS=DIRECT,IXTNSIZE=10,FUN=CREATE);
      323    12226        %ELSE;
      324    12227        %FPT_OPEN (FPTN=XUO_OU_OPEN_BASE,STCLASS=CONSTANT,ASN=FILE,ORG=KEYED,
      325    12228         ACS=DIRECT,IXTNSIZE=10,XTNSIZE=5,LSLIDE=3,SPARE=100);
      326    12337        %ENDIF;
      327    12338
      328    12339        %FPT_OPEN (FPTN=XUO_OU_OPEN,STCLASS="BASED(OU_WORK$)",ASN=FILE,ORG=KEYED,
      329    12340         ACS=DIRECT,IXTNSIZE=10);
      330    12449         /*
      331    12450         The following fpts are to write the file
      332    12451            */
      333    12452    1   DCL XUO_HEAD_WRITE$ PTR SYMREF;
      334    12453        %FPT_WRITE (FPTN=XUO_HEAD_WRITE_BASE,STCLASS=CONSTANT,ONEWKEY=YES,NEWKEY=NO);
      335    12484        %FPT_WRITE (FPTN=XUO_HEAD_WRITE,STCLASS="BASED(OU_WORK$)",ONEWKEY=YES,NEWKEY=NO);
      336    12515
      337    12516    1   DCL XUO_OU_WRITE$ PTR SYMREF;
      338    12517        %FPT_WRITE (FPTN=XUO_OU_WRITE_BASE,STCLASS=CONSTANT,ONEWKEY=NO,NEWKEY=YES);
      339    12548        %FPT_WRITE (FPTN=XUO_OU_WRITE,STCLASS="BASED(OU_WORK$)",ONEWKEY=NO,NEWKEY=YES);
      340    12579
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:46   
      341    12580    1   DCL XUO_PROGRAM_WRITE$ PTR SYMREF;
      342    12581       %FPT_WRITE (FPTN=XUO_PROGRAM_WRITE,STCLASS="BASED(OU_WORK$)",ONEWKEY=NO,NEWKEY=YES);
      343    12612
      344    12613
      345    12614    1   DCL XUO_RELOCATION_WRITE$ PTR SYMREF;
      346    12615        %FPT_WRITE (FPTN=XUO_RELOCATION_WRITE,STCLASS="BASED(OU_WORK$)",ONEWKEY=NO,NEWKEY=
             12615            YES);
      347    12646
      348    12647    1   DCL XUO_RELOCATION_READ$ PTR SYMREF;
      349    12648        %FPT_READ (FPTN=XUO_RELOCATION_READ_BASE,STCLASS=CONSTANT,KEYR=YES);
      350    12687        %FPT_READ (FPTN=XUO_RELOCATION_READ,STCLASS="BASED(OU_WORK$)",KEYR=YES);
      351    12726
      352    12727    1   DCL XUO_RELOCATION_REWRITE$ PTR SYMREF;
      353    12728       %FPT_WRITE (FPTN=XUO_RELOCATION_REWRITE_BASE,STCLASS=CONSTANT,ONEWKEY=NO,NEWKEY=NO);
      354    12759       %FPT_WRITE (FPTN=XUO_RELOCATION_REWRITE,STCLASS="BASED(OU_WORK$)",ONEWKEY=NO,NEWKEY=
             12759            NO);
      355    12790         /*
      356    12791            The following fpt is to cose the file
      357    12792            */
      358    12793    1   DCL XUO_OU_CLOSE$ PTR SYMREF;
      359    12794        %IF GCOS;
      360    12795 C      %FPT_CLOSE (FPTN=XUO_OU_CLOSE_BASE,STCLASS=CONSTANT,DISP=SAVE);
      361    12796        %ELSE;
      362    12797        %FPT_CLOSE (FPTN=XUO_OU_CLOSE_BASE,STCLASS=CONSTANT,REBLD=YES,RELG=YES,DISP=SAVE);
      363    12839        %ENDIF;
      364    12840        %FPT_CLOSE (FPTN=XUO_OU_CLOSE,STCLASS="BASED(OU_WORK$)",RELG=YES,DISP=SAVE);
      365    12882         /**/
      366    12883        %FPT_GDS (FPTN=XUO_OU_GDS_FDS,STCLASS=SYMREF);
      367    12899         /**/
      368    12900        %FPT_TIME (FPTN=FPT_UTS_BASE,STCLASS=CONSTANT,SOURCE=UNQUTS,DEST=UTS);
      369    12919        %FPT_TIME (FPTN=FPT_UTS,STCLASS=AUTO);
      370    12938        %PAGE (ARG=ENTRY DCLS);

             12951    1   /*******************************************************************************
             12952    1   *                                                                              *
             12953    1   *        ENTRY DCLS              ENTRY DCLS                                       *
             12954    1   *                                                                              *
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:47   
             12955    1   *******************************************************************************/

      371    12959    1   DCL XUO$OUOPEN ENTRY;
      372    12960    1   DCL XUO$OUROOTDATA ENTRY;
      373    12961        %PAGE (ARG=TCB);

             12974    1   /*******************************************************************************
             12975    1   *                                                                              *
             12976    1   *        TCB              TCB                                                  *
             12977    1   *                                                                              *
             12978    1   *******************************************************************************/

      374    12982        %B$TCB;
      375    12985        %B$ALT;
      376    12993    1   DCL B$TCB$ PTR SYMREF;
      377    12994         /**/
      378    12995    1   DCL 1 ERROR,
      379    12996    1         2 FCG_MID BIT(18),
      380    12997    1         2 MON BIT(1),
      381    12998    1         2 CODE UBIN(14) UNAL,
      382    12999    1         2 SEV UBIN(3) UNAL;
      383    13000        %PAGE (ARG=LOCAL DATA);

             13013    1   /*******************************************************************************
             13014    1   *                                                                              *
             13015    1   *        LOCAL DATA              LOCAL DATA                                       *
             13016    1   *                                                                              *
             13017    1   *******************************************************************************/

      384    13021    1   DCL OU_SEGMENT_SIZE UBIN;
      385    13022    1   DCL OU_WORK$ PTR;
      386    13023    1   DCL CHAR_SIZE UBIN HALF;
      387    13024        %PAGE (ARG=BASED);

             13037    1   /*******************************************************************************
             13038    1   *                                                                              *
             13039    1   *        BASED              BASED                                                 *
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:48   
             13040    1   *                                                                              *
             13041    1   *******************************************************************************/

      388    13045    1   DCL 1 OU_CLEAR BASED(OU_WORK$) ALIGNED,
      389    13046    1         2 * CHAR(CHAR_SIZE);
      390    13047    1   DCL WORD_ARRAY (0:0) UBIN BASED;
      391    13048        %PAGE (ARG=MISC DATA);

             13061    1   /*******************************************************************************
             13062    1   *                                                                              *
             13063    1   *        MISC DATA              MISC DATA                                         *
             13064    1   *                                                                              *
             13065    1   *******************************************************************************/

      392    13069    1   DCL XUO_OU_UTS UBIN SYMREF;
      393    13070    1   DCL XUO_OU_DCB_NUMBER UBIN SYMREF;
      394    13071    1   DCL XUO_CLOSE_REQUIRED BIT(1) ALIGNED SYMREF;
      395    13072    1   DCL XUO_OU_WRITE_REQUIRED BIT(1) ALIGNED SYMREF;
      396    13073    1   DCL XUO_ERROR_ROUTINE EPTR SYMREF;
      397    13074    1   DCL XUO_SCHEMA_REQUIRED BIT(1) ALIGNED SYMREF;
      398    13075    1   DCL XUO_COMPILER_ID UBIN SYMREF;
      399    13076    1   DCL 1 XUO_VERSION_NUMBER SYMREF,
      400    13077    1         2 LETTER CHAR(1) UNAL,
      401    13078    1         2 NUMBER UBIN(9) UNAL;
      402    13079    1   DCL XUO_WORDSIZE UBIN SYMREF;
      403    13080    1   DCL XUO_CHARSIZE UBIN SYMREF;
      404    13081    1   DCL XUO_MAXIMUM_SEVERITY UBIN SYMREF;
      405    13082    1   DCL XUO_MOST_RECENT_SECTION SBIN WORD SYMREF;
      406    13083        %VLR_GDS(FPTN=XUO_OU_GDS_RESULTS,STCLASS=SYMREF);
      407    13111         /**/
      408    13112        %PAGE (ARG=XUO$INIT);

             13125    1   /*******************************************************************************
             13126    1   *                                                                              *
             13127    1   *        XUO$INIT              XUO$INIT                                           *
             13128    1   *                                                                              *
             13129    1   *******************************************************************************/
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:49   

      409    13133         /*
      410    13134         The following call is only to ensure that
      411    13135         the root data module is included when the
      412    13136         object code modules are being included from
      413    13137         a lemur'd library.
      414    13138         */
      415    13139    1       CALL XUO$OUROOTDATA;

  13139  2 000002   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 000003   000000 701000 xent               TSX1    XUO$OUROOTDATA
         2 000004   000000 011000                    NOP     0

      416    13140    1       IF NOT BUFINIT_CALLED

  13140  2 000005   000000 234000 xsym               SZN     BUFINIT_CALLED
         2 000006   000012 604000 2                  TMI     s:13148

      417    13141    2       THEN DO;

      418    13142    2           CALL XUO$BUFINIT(,,,,,,,,,,,,,,,,);

  13142  2 000007   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 000010   000000 701000 xent               TSX1    XUO$BUFINIT
         2 000011   000000 011000                    NOP     0

      419    13143    2           END;

      420    13144         /*
      421    13145            Save the i/o error routine
      422    13146            address.
      423    13147            */
      424    13148    1       IF ADDR(P_ERROR_ROUTINE)~=ADDR(NIL) THEN

  13148  2 000012   200012 236100                    LDQ     @P_ERROR_ROUTINE,,AUTO
         2 000013   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 000014   000021 600000 2                  TZE     s:13151
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:50   

      425    13149    1           XUO_ERROR_ROUTINE=P_ERROR_ROUTINE;

  13149  2 000015   200012 470500                    LDP0    @P_ERROR_ROUTINE,,AUTO
         2 000016   000000 236100                    LDQ     0,,PR0
         2 000017   000000 756000 xsym               STQ     XUO_ERROR_ROUTINE
         2 000020   000023 710000 2                  TRA     s:13158

      426    13150    1       ELSE
      427    13151    1           XUO_ERROR_ROUTINE=ENTADDR(NIL);

  13151  2 000021   000002 236000 xsym               LDQ     B_VECTNIL+2
         2 000022   000000 756000 xsym               STQ     XUO_ERROR_ROUTINE

      428    13152         /*
      429    13153         The following section will determine the space required for
      430    13154         the ou dynamic segment by summing up the counts of
      431    13155         all the records.
      432    13156         Then it will get the space and zero it.
      433    13157         */
      434    13158    1       B_SECTION_PAGE_SIZE=B_SECTION_PAGE_SIZE*SIZEW(B$SECTION);

  13158  2 000023   000000 235000 xsym               LDA     B_SECTION_PAGE_SIZE
         2 000024   000001 735000                    ALS     1
         2 000025   000000 755000 xsym               STA     B_SECTION_PAGE_SIZE

      435    13159    1       B_EDEF_PAGE_SIZE=B_EDEF_PAGE_SIZE*SIZEW(B$EDEF);

  13159  2 000026   000000 235000 xsym               LDA     B_EDEF_PAGE_SIZE
         2 000027   000001 735000                    ALS     1
         2 000030   000000 755000 xsym               STA     B_EDEF_PAGE_SIZE

      436    13160    1       B_EREF_PAGE_SIZE=B_EREF_PAGE_SIZE*SIZEW(B$EREF);

      437    13161    1       B_SDEF_PAGE_SIZE=B_SDEF_PAGE_SIZE*SIZEW(B$SDEF);

  13161  2 000031   000000 235000 xsym               LDA     B_SDEF_PAGE_SIZE
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:51   
         2 000032   000001 735000                    ALS     1
         2 000033   000000 755000 xsym               STA     B_SDEF_PAGE_SIZE

      438    13162    1       B_SREF_PAGE_SIZE=B_SREF_PAGE_SIZE*SIZEW(B$SREF);

      439    13163    1       B_SEGDEF_PAGE_SIZE=B_SEGDEF_PAGE_SIZE*SIZEW(B$SEGDEF);

  13163  2 000034   000000 235000 xsym               LDA     B_SEGDEF_PAGE_SIZE
         2 000035   000001 735000                    ALS     1
         2 000036   000000 755000 xsym               STA     B_SEGDEF_PAGE_SIZE

      440    13164    1       B_SEGREF_PAGE_SIZE=B_SEGREF_PAGE_SIZE*SIZEW(B$SEGREF);

      441    13165    1       B_LOGBLK_PAGE_SIZE=B_LOGBLK_PAGE_SIZE*SIZEW(B$LOGBLK);

  13165  2 000037   000000 235000 xsym               LDA     B_LOGBLK_PAGE_SIZE
         2 000040   000002 735000                    ALS     2
         2 000041   000000 755000 xsym               STA     B_LOGBLK_PAGE_SIZE

      442    13166    1       B_INTNTRY_PAGE_SIZE=B_INTNTRY_PAGE_SIZE*SIZEW(B$INTNTRY);

  13166  2 000042   000000 235000 xsym               LDA     B_INTNTRY_PAGE_SIZE
         2 000043   000001 735000                    ALS     1
         2 000044   000000 755000 xsym               STA     B_INTNTRY_PAGE_SIZE

      443    13167    1       B_EXST_PAGE_SIZE=B_EXST_PAGE_SIZE*SIZEW(B$EXST);

  13167  2 000045   000000 236000 xsym               LDQ     B_EXST_PAGE_SIZE
         2 000046   000003 402007                    MPY     3,DL
         2 000047   000000 756000 xsym               STQ     B_EXST_PAGE_SIZE

      444    13168    1       B_VREBL_PAGE_SIZE=B_VREBL_PAGE_SIZE*SIZEW(B$VREBL);

  13168  2 000050   000000 236000 xsym               LDQ     B_VREBL_PAGE_SIZE
         2 000051   000005 402007                    MPY     5,DL
         2 000052   000000 756000 xsym               STQ     B_VREBL_PAGE_SIZE

PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:52   
      445    13169    1       OU_SEGMENT_SIZE=B_DNAME_PAGE_SIZE+

  13169  2 000053   000000 236000 xsym               LDQ     B_DNAME_PAGE_SIZE
         2 000054   000000 036000 xsym               ADLQ    B_RNAME_PAGE_SIZE
         2 000055   000000 036000 xsym               ADLQ    B_SECTION_PAGE_SIZE
         2 000056   000000 036000 xsym               ADLQ    B_EDEF_PAGE_SIZE
         2 000057   000000 036000 xsym               ADLQ    B_EREF_PAGE_SIZE
         2 000060   000000 036000 xsym               ADLQ    B_SDEF_PAGE_SIZE
         2 000061   000000 036000 xsym               ADLQ    B_SREF_PAGE_SIZE
         2 000062   000000 036000 xsym               ADLQ    B_SEGDEF_PAGE_SIZE
         2 000063   000000 036000 xsym               ADLQ    B_SEGREF_PAGE_SIZE
         2 000064   200040 756100                    STQ     CHAR_SIZE+1,,AUTO
         2 000065   000000 236000 xsym               LDQ     B_PROGRAM_PAGE_SIZE
         2 000066   000000 402000 xsym               MPY     B_NUMBER_OF_BUFFERS
         2 000067   200040 036100                    ADLQ    CHAR_SIZE+1,,AUTO
         2 000070   200041 756100                    STQ     CHAR_SIZE+2,,AUTO
         2 000071   000000 236000 xsym               LDQ     B_RELOCATION_PAGE_SIZE
         2 000072   000000 402000 xsym               MPY     B_NUMBER_OF_BUFFERS
         2 000073   200041 036100                    ADLQ    CHAR_SIZE+2,,AUTO
         2 000074   200042 756100                    STQ     CHAR_SIZE+3,,AUTO
         2 000075   000000 236000 xsym               LDQ     B_NUMBER_OF_BUFFERS
         2 000076   000001 736000                    QLS     1
         2 000077   200042 036100                    ADLQ    CHAR_SIZE+3,,AUTO
         2 000100   200043 756100                    STQ     CHAR_SIZE+4,,AUTO
         2 000101   000000 236000 xsym               LDQ     B_NUMBER_OF_SECTIONS
         2 000102   000003 736000                    QLS     3
         2 000103   200043 036100                    ADLQ    CHAR_SIZE+4,,AUTO
         2 000104   000000 036000 xsym               ADLQ    B_LOGBLK_PAGE_SIZE
         2 000105   000000 036000 xsym               ADLQ    B_INTNTRY_PAGE_SIZE
         2 000106   000000 036000 xsym               ADLQ    B_EXST_PAGE_SIZE
         2 000107   000000 036000 xsym               ADLQ    B_VREBL_PAGE_SIZE
         2 000110   000000 036000 xsym               ADLQ    B_DBGNAME_PAGE_SIZE
         2 000111   000437 036007                    ADLQ    287,DL
         2 000112   200035 756100                    STQ     OU_SEGMENT_SIZE,,AUTO

      446    13170    1          B_RNAME_PAGE_SIZE+
      447    13171    1          B_SECTION_PAGE_SIZE+
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:53   
      448    13172    1          B_EDEF_PAGE_SIZE+
      449    13173    1          B_EREF_PAGE_SIZE+
      450    13174    1          B_SDEF_PAGE_SIZE+
      451    13175    1          B_SREF_PAGE_SIZE+
      452    13176    1          B_SEGDEF_PAGE_SIZE+
      453    13177    1          B_SEGREF_PAGE_SIZE+
      454    13178    1          B_PROGRAM_PAGE_SIZE * B_NUMBER_OF_BUFFERS +
      455    13179    1          B_RELOCATION_PAGE_SIZE * B_NUMBER_OF_BUFFERS +
      456    13180    1          (B_NUMBER_OF_BUFFERS *2 +2) +
      457    13181    1          (B_NUMBER_OF_SECTIONS + 1) * SIZEW (SECTION_ARRAY) +
      458    13182    1          B_LOGBLK_PAGE_SIZE+
      459    13183    1          B_INTNTRY_PAGE_SIZE+
      460    13184    1          B_EXST_PAGE_SIZE+
      461    13185    1          B_VREBL_PAGE_SIZE+
      462    13186    1          B_DBGNAME_PAGE_SIZE+
      463    13187    1          SIZEW(B$OUHEAD)+
      464    13188    1          SIZEW(XUO_OU_OPEN)+
      465    13189    1          SIZEW(XUO_OU_WRITE_BASE)*9+
      466    13190    1          SIZEW(XUO_RELOCATION_READ_BASE)+
      467    13191    1          SIZEW(XUO_OU_CLOSE)+
      468    13192    1          SIZEW(B$PRGKEY)*7+
      469    13193    1          +10; /* Allow of dalignment slack words */
      470    13194    1       XUO_OU_GDS_FDS.RESULTS_=VECTOR(XUO_OU_GDS_RESULTS.VECT);

  13194  2 000113   000000 237000 3                  LDAQ    0
         2 000114   000002 757000 xsym               STAQ    XUO_OU_GDS_FDS+2

      471    13195    1       XUO_OU_GDS_FDS.V.SEGSIZE#=OU_SEGMENT_SIZE;

  13195  2 000115   200035 720100                    LXL0    OU_SEGMENT_SIZE,,AUTO
         2 000116   000004 440000 xsym               SXL0    XUO_OU_GDS_FDS+4

      472    13196    1       XUO_OU_GDS_RESULTS.LOGSIZE#=OU_SEGMENT_SIZE;

  13196  2 000117   200035 235100                    LDA     OU_SEGMENT_SIZE,,AUTO
         2 000120   000002 755000 xsym               STA     XUO_OU_GDS_RESULTS+2

PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:54   
      473    13197    1       XUO_OU_GDS_RESULTS.REALSIZE#=XUO_OU_GDS_RESULTS.LOGSIZE#;

  13197  2 000121   000003 755000 xsym               STA     XUO_OU_GDS_RESULTS+3

      474    13198    1       CALL M$GDS(XUO_OU_GDS_FDS) ALTRET(OU_GDS_ERROR);

  13198  2 000122   000000 630400 xsym               EPPR0   XUO_OU_GDS_FDS
         2 000123   430001 713400                    CLIMB   alt,gds
         2 000124   400400 401760                    pmme    nvectors=2
         2 000125   001126 702000 2                  TSX2    OU_GDS_ERROR

      475    13199    1       OU_WORK$=XUO_OU_GDS_RESULTS.VECT.PTR$;

  13199  2 000126   000001 236000 xsym               LDQ     XUO_OU_GDS_RESULTS+1
         2 000127   200036 756100                    STQ     OU_WORK$,,AUTO

      476    13200         /*
      477    13201            Clear the entire area to zeros
      478    13202            */
      479    13203    1       CHAR_SIZE=OU_SEGMENT_SIZE*4;

  13203  2 000130   200035 235100                    LDA     OU_SEGMENT_SIZE,,AUTO
         2 000131   000002 735000                    ALS     2
         2 000132   000000 620005                    EAX0    0,AL
         2 000133   200037 740100                    STX0    CHAR_SIZE,,AUTO

      480    13204    1       OU_CLEAR='000'O;

  13204  2 000134   200036 470500                    LDP0    OU_WORK$,,AUTO
         2 000135   000140 100400                    MLR     fill='000'O
         2 000136   000002 000001 xsym               ADSC9   B_VECTNIL+2              cn=0,n=1
         2 000137   000000 000010                    ADSC9   0,,PR0                   cn=0,n=*X0

      481    13205         /*
      482    13206            The following initializes the keys.
      483    13207            */
      484    13208    1       IF ADDR(P_OU_UTS)=ADDR(NIL) THEN
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:55   

  13208  2 000140   200011 236100                    LDQ     @P_OU_UTS,,AUTO
         2 000141   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 000142   000154 601000 2                  TNZ     s:13215

      485    13209    2       DO;

      486    13210    2           FPT_UTS=FPT_UTS_BASE;

  13210  2 000143   000100 100400                    MLR     fill='000'O
         2 000144   000212 000060 1                  ADSC9   FPT_UTS_BASE             cn=0,n=48
         2 000145   200020 000060                    ADSC9   FPT_UTS,,AUTO            cn=0,n=48

      487    13211    2           FPT_UTS.TSTAMP_=VECTOR(XUO_OU_UTS);

  13211  2 000146   000002 237000 3                  LDAQ    2
         2 000147   200030 757100                    STAQ    FPT_UTS+8,,AUTO

      488    13212    2           CALL M$TIME (FPT_UTS);

  13212  2 000150   200020 630500                    EPPR0   FPT_UTS,,AUTO
         2 000151   020004 713400                    CLIMB   8196
         2 000152   402000 401760                    pmme    nvectors=5

      489    13213    2           END;

  13213  2 000153   000157 710000 2                  TRA     s:13217

      490    13214    1       ELSE
      491    13215    1           XUO_OU_UTS=P_OU_UTS;

  13215  2 000154   200011 471500                    LDP1    @P_OU_UTS,,AUTO
         2 000155   100000 235100                    LDA     0,,PR1
         2 000156   000000 755000 xsym               STA     XUO_OU_UTS

      492    13216
      493    13217    1       B$OUKEY.UTS=XUO_OU_UTS;
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:56   

  13217  2 000157   000000 100400                    MLR     fill='000'O
         2 000160   000000 000004 xsym               ADSC9   XUO_OU_UTS               cn=0,n=4
         2 000161   000000 400004 xsym               ADSC9   B$OUKEY                  cn=2,n=4

      494    13218
      495    13219    1       B$PRGKEY$=OU_WORK$;

  13219  2 000162   200036 236100                    LDQ     OU_WORK$,,AUTO
         2 000163   000000 756000 xsym               STQ     B$PRGKEY$

      496    13220    1       B$PRGKEY.KEYSIZ=11;

  13220  2 000164   200036 470500                    LDP0    OU_WORK$,,AUTO
         2 000165   013000 236003                    LDQ     5632,DU
         2 000166   000000 552140                    STBQ    0,'40'O,PR0

      497    13221    1       B$PRGKEY.NOTHD='777'O;

  13221  2 000167   000777 236003                    LDQ     511,DU
         2 000170   000000 552120                    STBQ    0,'20'O,PR0

      498    13222    1       B$PRGKEY.UTS=XUO_OU_UTS;

  13222  2 000171   000100 100400                    MLR     fill='000'O
         2 000172   000000 000004 xsym               ADSC9   XUO_OU_UTS               cn=0,n=4
         2 000173   000000 400004                    ADSC9   0,,PR0                   cn=2,n=4

      499    13223    1       B$PRGKEY.TYPE=%TYPPROG;

  13223  2 000174   012000 236007                    LDQ     5120,DL
         2 000175   000001 552110                    STBQ    1,'10'O,PR0

      500    13224    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(B$PRGKEY));

  13224  2 000176   200036 236100                    LDQ     OU_WORK$,,AUTO
         2 000177   000004 036003                    ADLQ    4,DU
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:57   
         2 000200   200036 756100                    STQ     OU_WORK$,,AUTO

      501    13225
      502    13226    1       B$RELKEY$=OU_WORK$;

  13226  2 000201   000000 756000 xsym               STQ     B$RELKEY$

      503    13227    1       B$RELKEY=B$PRGKEY$->B$PRGKEY;

  13227  2 000202   000000 470400 xsym               LDP0    B$PRGKEY$
         2 000203   200036 471500                    LDP1    OU_WORK$,,AUTO
         2 000204   000100 100500                    MLR     fill='000'O
         2 000205   000000 000015                    ADSC9   0,,PR0                   cn=0,n=13
         2 000206   100000 000015                    ADSC9   0,,PR1                   cn=0,n=13

      504    13228    1       B$RELKEY.SUBTYPE=%SUBTYPREL;

  13228  2 000207   000001 236007                    LDQ     1,DL
         2 000210   100002 552104                    STBQ    2,'04'O,PR1

      505    13229    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(B$PRGKEY));

  13229  2 000211   200036 236100                    LDQ     OU_WORK$,,AUTO
         2 000212   000004 036003                    ADLQ    4,DU
         2 000213   200036 756100                    STQ     OU_WORK$,,AUTO

      506    13230
      507    13231    1       B$FRWDKEY$=OU_WORK$;

  13231  2 000214   000000 756000 xsym               STQ     B$FRWDKEY$

      508    13232    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(B$PRGKEY));

  13232  2 000215   000004 036003                    ADLQ    4,DU
         2 000216   200036 756100                    STQ     OU_WORK$,,AUTO

      509    13233
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:58   
      510    13234         /*
      511    13235            Initialize all the fpts
      512    13236            with the dcb number and appropriate
      513    13237         vectors.
      514    13238            */
      515    13239    1       B$OUHEAD$=OU_WORK$;

  13239  2 000217   000000 756000 xsym               STQ     B$OUHEAD$

      516    13240    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(B$OUHEAD));

  13240  2 000220   000035 036003                    ADLQ    29,DU
         2 000221   200036 756100                    STQ     OU_WORK$,,AUTO

      517    13241
      518    13242    1       IF ADDR(P_LIBRARY_NAME)~=ADDR(NIL)

  13242  2 000222   200010 236100                    LDQ     @P_LIBRARY_NAME,,AUTO
         2 000223   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 000224   000240 600000 2                  TZE     s:13248

      519    13243    2       THEN DO;

      520    13244    2           B$OUHEAD.LNAMSIZ = P_LIBRARY_NAME.SIZE;

  13244  2 000225   200010 470500                    LDP0    @P_LIBRARY_NAME,,AUTO
         2 000226   000000 471400 xsym               LDP1    B$OUHEAD$
         2 000227   000000 236100                    LDQ     0,,PR0
         2 000230   100015 552140                    STBQ    13,'40'O,PR1

      521    13245    2           B$OUHEAD.LNAM = P_LIBRARY_NAME.TEXT;

  13245  2 000231   000000 236100                    LDQ     0,,PR0
         2 000232   000033 772000                    QRL     27
         2 000233   000000 620006                    EAX0    0,QL
         2 000234   040100 100540                    MLR     fill='040'O
         2 000235   000000 200010                    ADSC9   0,,PR0                   cn=1,n=*X0
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:59   
         2 000236   100015 200037                    ADSC9   13,,PR1                  cn=1,n=31

      522    13246    2           END;

  13246  2 000237   000246 710000 2                  TRA     s:13254

      523    13247    2       ELSE DO;

      524    13248    2           B$OUHEAD.LNAMSIZ = 0;

  13248  2 000240   000000 470400 xsym               LDP0    B$OUHEAD$
         2 000241   000000 236003                    LDQ     0,DU
         2 000242   000015 552140                    STBQ    13,'40'O,PR0

      525    13249    2           B$OUHEAD.LNAM = ' ';

  13249  2 000243   040100 100400                    MLR     fill='040'O
         2 000244   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         2 000245   000015 200037                    ADSC9   13,,PR0                  cn=1,n=31

      526    13250    2           END;

      527    13251
      528    13252         /*       Save the asl name and asl size in B$OUHEAD. */
      529    13253
      530    13254    1       IF ADDR(P_ASL_NAME)~=ADDR(NIL)

  13254  2 000246   200015 236100                    LDQ     @P_ASL_NAME,,AUTO
         2 000247   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 000250   000264 600000 2                  TZE     s:13260

      531    13255    2       THEN DO;

      532    13256    2           B$OUHEAD.ASLNAMSIZ = P_ASL_NAME.SIZE;

  13256  2 000251   200015 470500                    LDP0    @P_ASL_NAME,,AUTO
         2 000252   000000 471400 xsym               LDP1    B$OUHEAD$
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:60   
         2 000253   000000 236100                    LDQ     0,,PR0
         2 000254   100025 552140                    STBQ    21,'40'O,PR1

      533    13257    2           B$OUHEAD.ASLNAM = P_ASL_NAME.TEXT;

  13257  2 000255   000000 236100                    LDQ     0,,PR0
         2 000256   000033 772000                    QRL     27
         2 000257   000000 620006                    EAX0    0,QL
         2 000260   040100 100540                    MLR     fill='040'O
         2 000261   000000 200010                    ADSC9   0,,PR0                   cn=1,n=*X0
         2 000262   100025 200037                    ADSC9   21,,PR1                  cn=1,n=31

      534    13258    2           END;

  13258  2 000263   000272 710000 2                  TRA     s:13264

      535    13259    2       ELSE DO;

      536    13260    2           B$OUHEAD.ASLNAMSIZ = 0;

  13260  2 000264   000000 470400 xsym               LDP0    B$OUHEAD$
         2 000265   000000 236003                    LDQ     0,DU
         2 000266   000025 552140                    STBQ    21,'40'O,PR0

      537    13261    2           B$OUHEAD.ASLNAM = ' ';

  13261  2 000267   040100 100400                    MLR     fill='040'O
         2 000270   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         2 000271   000025 200037                    ADSC9   21,,PR0                  cn=1,n=31

      538    13262    2           END;

      539    13263
      540    13264    1       XUO_OU_DCB_NUMBER=P_OU_DCB_NUMBER;

  13264  2 000272   200003 470500                    LDP0    @P_OU_DCB_NUMBER,,AUTO
         2 000273   000000 235100                    LDA     0,,PR0
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:61   
         2 000274   000000 755000 xsym               STA     XUO_OU_DCB_NUMBER

      541    13265
      542    13266         /*
      543    13267         Make sure fpts start on double word
      544    13268         */
      545    13269    1       OU_WORK$=PALIGND(OU_WORK$);

  13269  2 000275   200036 236100                    LDQ     OU_WORK$,,AUTO
         2 000276   000004 036000 3                  ADLQ    4
         2 000277   000005 376000 3                  ANQ     5
         2 000300   200036 756100                    STQ     OU_WORK$,,AUTO

      546    13270    1       XUO_OU_OPEN$=OU_WORK$;

  13270  2 000301   000000 756000 xsym               STQ     XUO_OU_OPEN$

      547    13271    1       XUO_OU_OPEN=XUO_OU_OPEN_BASE;

  13271  2 000302   200036 471500                    LDP1    OU_WORK$,,AUTO
         2 000303   000100 100400                    MLR     fill='000'O
         2 000304   000000 000350 1                  ADSC9   XUO_OU_OPEN_BASE         cn=0,n=232
         2 000305   100000 000350                    ADSC9   0,,PR1                   cn=0,n=232

      548    13272    1       XUO_OU_OPEN.V_=VECTOR(XUO_OU_OPEN.V);

  13272  2 000306   000006 235000 3                  LDA     6
         2 000307   000044 036003                    ADLQ    36,DU
         2 000310   100000 757100                    STAQ    0,,PR1

      549    13273    1       XUO_OU_OPEN.V.DCB#=XUO_OU_DCB_NUMBER;

  13273  2 000311   000000 720000 xsym               LXL0    XUO_OU_DCB_NUMBER
         2 000312   100044 740100                    STX0    36,,PR1

      550    13274    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(XUO_OU_OPEN_BASE));

PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:62   
  13274  2 000313   200036 236100                    LDQ     OU_WORK$,,AUTO
         2 000314   000072 036003                    ADLQ    58,DU
         2 000315   200036 756100                    STQ     OU_WORK$,,AUTO

      551    13275
      552    13276    1       XUO_HEAD_WRITE$=OU_WORK$;

  13276  2 000316   000000 756000 xsym               STQ     XUO_HEAD_WRITE$

      553    13277    1       XUO_HEAD_WRITE=XUO_HEAD_WRITE_BASE;

  13277  2 000317   200036 471500                    LDP1    OU_WORK$,,AUTO
         2 000320   000100 100400                    MLR     fill='000'O
         2 000321   000072 000060 1                  ADSC9   XUO_HEAD_WRITE_BASE      cn=0,n=48
         2 000322   100000 000060                    ADSC9   0,,PR1                   cn=0,n=48

      554    13278    1       XUO_HEAD_WRITE.V_=VECTOR(XUO_HEAD_WRITE.V);

  13278  2 000323   000007 235000 3                  LDA     7
         2 000324   000010 036003                    ADLQ    8,DU
         2 000325   100000 757100                    STAQ    0,,PR1

      555    13279    1       XUO_HEAD_WRITE.V.DCB#=XUO_OU_DCB_NUMBER;

  13279  2 000326   000000 720000 xsym               LXL0    XUO_OU_DCB_NUMBER
         2 000327   100010 740100                    STX0    8,,PR1

      556    13280    1       XUO_HEAD_WRITE.BUF_=VECTOR(B$OUHEAD$->B$OUHEAD);

  13280  2 000330   000010 235000 3                  LDA     8
         2 000331   000000 236000 xsym               LDQ     B$OUHEAD$
         2 000332   100004 757100                    STAQ    4,,PR1

      557    13281    1       XUO_HEAD_WRITE.KEY_=VECTOR(B$HEADKEY);

  13281  2 000333   000012 237000 3                  LDAQ    10
         2 000334   100002 757100                    STAQ    2,,PR1
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:63   

      558    13282    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(XUO_HEAD_WRITE_BASE));

  13282  2 000335   200036 236100                    LDQ     OU_WORK$,,AUTO
         2 000336   000014 036003                    ADLQ    12,DU
         2 000337   200036 756100                    STQ     OU_WORK$,,AUTO

      559    13283
      560    13284    1       XUO_OU_WRITE$=OU_WORK$;

  13284  2 000340   000000 756000 xsym               STQ     XUO_OU_WRITE$

      561    13285    1       XUO_OU_WRITE=XUO_OU_WRITE_BASE;

  13285  2 000341   200036 471500                    LDP1    OU_WORK$,,AUTO
         2 000342   000100 100400                    MLR     fill='000'O
         2 000343   000106 000060 1                  ADSC9   XUO_OU_WRITE_BASE        cn=0,n=48
         2 000344   100000 000060                    ADSC9   0,,PR1                   cn=0,n=48

      562    13286    1       XUO_OU_WRITE.V_=VECTOR(XUO_OU_WRITE.V);

  13286  2 000345   000007 235000 3                  LDA     7
         2 000346   000010 036003                    ADLQ    8,DU
         2 000347   100000 757100                    STAQ    0,,PR1

      563    13287    1       XUO_OU_WRITE.V.DCB#=XUO_OU_DCB_NUMBER;

  13287  2 000350   000000 720000 xsym               LXL0    XUO_OU_DCB_NUMBER
         2 000351   100010 740100                    STX0    8,,PR1

      564    13288    1       XUO_OU_WRITE.KEY_=VECTOR(B$OUKEY);

  13288  2 000352   000014 237000 3                  LDAQ    12
         2 000353   100002 757100                    STAQ    2,,PR1

      565    13289    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(XUO_OU_WRITE_BASE));

PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:64   
  13289  2 000354   200036 236100                    LDQ     OU_WORK$,,AUTO
         2 000355   000014 036003                    ADLQ    12,DU
         2 000356   200036 756100                    STQ     OU_WORK$,,AUTO

      566    13290
      567    13291    1       XUO_PROGRAM_WRITE$=OU_WORK$;

  13291  2 000357   000000 756000 xsym               STQ     XUO_PROGRAM_WRITE$

      568    13292    1       XUO_PROGRAM_WRITE=XUO_OU_WRITE$->XUO_OU_WRITE;

  13292  2 000360   000000 471400 xsym               LDP1    XUO_OU_WRITE$
         2 000361   200036 473500                    LDP3    OU_WORK$,,AUTO
         2 000362   000100 100500                    MLR     fill='000'O
         2 000363   100000 000060                    ADSC9   0,,PR1                   cn=0,n=48
         2 000364   300000 000060                    ADSC9   0,,PR3                   cn=0,n=48

      569    13293         /*V area the same for OU_WRITE/PROGRAM write/relocation write*/
      570    13294    1       XUO_PROGRAM_WRITE.KEY_=VECTOR(B$PRGKEY$->B$PRGKEY);

  13294  2 000365   000007 235000 3                  LDA     7
         2 000366   000000 236000 xsym               LDQ     B$PRGKEY$
         2 000367   300002 757100                    STAQ    2,,PR3

      571    13295    1       XUO_PROGRAM_WRITE.BUF_ = VECTOR (XUO_OU_WRITE$->XUO_OU_WRITE);

  13295  2 000370   000011 235000 3                  LDA     9
         2 000371   000000 236000 xsym               LDQ     XUO_OU_WRITE$
         2 000372   300004 757100                    STAQ    4,,PR3

      572    13296    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(XUO_PROGRAM_WRITE));

  13296  2 000373   200036 236100                    LDQ     OU_WORK$,,AUTO
         2 000374   000014 036003                    ADLQ    12,DU
         2 000375   200036 756100                    STQ     OU_WORK$,,AUTO

      573    13297
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:65   
      574    13298    1       XUO_RELOCATION_WRITE$=OU_WORK$;

  13298  2 000376   000000 756000 xsym               STQ     XUO_RELOCATION_WRITE$

      575    13299    1       XUO_RELOCATION_WRITE=XUO_OU_WRITE$->XUO_OU_WRITE;

  13299  2 000377   000000 471400 xsym               LDP1    XUO_OU_WRITE$
         2 000400   200036 473500                    LDP3    OU_WORK$,,AUTO
         2 000401   000100 100500                    MLR     fill='000'O
         2 000402   100000 000060                    ADSC9   0,,PR1                   cn=0,n=48
         2 000403   300000 000060                    ADSC9   0,,PR3                   cn=0,n=48

      576    13300    1       XUO_RELOCATION_WRITE.KEY_=VECTOR(B$RELKEY$->B$RELKEY);

  13300  2 000404   000007 235000 3                  LDA     7
         2 000405   000000 236000 xsym               LDQ     B$RELKEY$
         2 000406   300002 757100                    STAQ    2,,PR3

      577    13301    1       XUO_RELOCATION_WRITE.BUF_ = VECTOR(XUO_OU_WRITE$->XUO_OU_WRITE);

  13301  2 000407   000011 235000 3                  LDA     9
         2 000410   000000 236000 xsym               LDQ     XUO_OU_WRITE$
         2 000411   300004 757100                    STAQ    4,,PR3

      578    13302    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(XUO_RELOCATION_WRITE));

  13302  2 000412   200036 236100                    LDQ     OU_WORK$,,AUTO
         2 000413   000014 036003                    ADLQ    12,DU
         2 000414   200036 756100                    STQ     OU_WORK$,,AUTO

      579    13303
      580    13304    1       XUO_RELOCATION_READ$=OU_WORK$;

  13304  2 000415   000000 756000 xsym               STQ     XUO_RELOCATION_READ$

      581    13305    1       XUO_RELOCATION_READ=XUO_RELOCATION_READ_BASE;

PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:66   
  13305  2 000416   200036 471500                    LDP1    OU_WORK$,,AUTO
         2 000417   000100 100400                    MLR     fill='000'O
         2 000420   000122 000070 1                  ADSC9   XUO_RELOCATION_READ_BASE cn=0,n=56
         2 000421   100000 000070                    ADSC9   0,,PR1                   cn=0,n=56

      582    13306    1       XUO_RELOCATION_READ.V_=VECTOR(XUO_RELOCATION_READ.V);

  13306  2 000422   000016 235000 3                  LDA     14
         2 000423   000010 036003                    ADLQ    8,DU
         2 000424   100000 757100                    STAQ    0,,PR1

      583    13307    1       XUO_RELOCATION_READ.V.DCB#=XUO_OU_DCB_NUMBER;

  13307  2 000425   000000 720000 xsym               LXL0    XUO_OU_DCB_NUMBER
         2 000426   100010 740100                    STX0    8,,PR1

      584    13308    1       XUO_RELOCATION_READ.KEY_=VECTOR(B$FRWDKEY$->B$FRWDKEY);

  13308  2 000427   000007 235000 3                  LDA     7
         2 000430   000000 236000 xsym               LDQ     B$FRWDKEY$
         2 000431   100002 757100                    STAQ    2,,PR1

      585    13309    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(XUO_RELOCATION_READ));

  13309  2 000432   200036 236100                    LDQ     OU_WORK$,,AUTO
         2 000433   000016 036003                    ADLQ    14,DU
         2 000434   200036 756100                    STQ     OU_WORK$,,AUTO

      586    13310
      587    13311    1       XUO_RELOCATION_REWRITE$=OU_WORK$;

  13311  2 000435   000000 756000 xsym               STQ     XUO_RELOCATION_REWRITE$

      588    13312    1       XUO_RELOCATION_REWRITE=XUO_RELOCATION_REWRITE_BASE;

  13312  2 000436   200036 471500                    LDP1    OU_WORK$,,AUTO
         2 000437   000100 100400                    MLR     fill='000'O
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:67   
         2 000440   000140 000060 1                  ADSC9   XUO_RELOCATION_REWRITE_BASE cn=0,n=48
         2 000441   100000 000060                    ADSC9   0,,PR1                   cn=0,n=48

      589    13313    1       XUO_RELOCATION_REWRITE.V_=VECTOR(XUO_RELOCATION_REWRITE.V);

  13313  2 000442   000007 235000 3                  LDA     7
         2 000443   000010 036003                    ADLQ    8,DU
         2 000444   100000 757100                    STAQ    0,,PR1

      590    13314    1       XUO_RELOCATION_REWRITE.V.DCB#=XUO_OU_DCB_NUMBER;

  13314  2 000445   000000 720000 xsym               LXL0    XUO_OU_DCB_NUMBER
         2 000446   100010 740100                    STX0    8,,PR1

      591    13315    1       XUO_RELOCATION_REWRITE.KEY_=VECTOR(B$FRWDKEY$->B$FRWDKEY);

  13315  2 000447   000007 235000 3                  LDA     7
         2 000450   000000 236000 xsym               LDQ     B$FRWDKEY$
         2 000451   100002 757100                    STAQ    2,,PR1

      592    13316    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(XUO_RELOCATION_REWRITE));

  13316  2 000452   200036 236100                    LDQ     OU_WORK$,,AUTO
         2 000453   000014 036003                    ADLQ    12,DU
         2 000454   200036 756100                    STQ     OU_WORK$,,AUTO

      593    13317
      594    13318    1       XUO_OU_CLOSE$=OU_WORK$;

  13318  2 000455   000000 756000 xsym               STQ     XUO_OU_CLOSE$

      595    13319    1       XUO_OU_CLOSE=XUO_OU_CLOSE_BASE;

  13319  2 000456   200036 471500                    LDP1    OU_WORK$,,AUTO
         2 000457   000100 100400                    MLR     fill='000'O
         2 000460   000154 000170 1                  ADSC9   XUO_OU_CLOSE_BASE        cn=0,n=120
         2 000461   100000 000170                    ADSC9   0,,PR1                   cn=0,n=120
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:68   

      596    13320    1       XUO_OU_CLOSE.V_=VECTOR(XUO_OU_CLOSE.V);

  13320  2 000462   000007 235000 3                  LDA     7
         2 000463   000032 036003                    ADLQ    26,DU
         2 000464   100000 757100                    STAQ    0,,PR1

      597    13321    1       XUO_OU_CLOSE.V.DCB#=XUO_OU_DCB_NUMBER;

  13321  2 000465   000000 720000 xsym               LXL0    XUO_OU_DCB_NUMBER
         2 000466   100032 740100                    STX0    26,,PR1

      598    13322    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(XUO_OU_CLOSE));

  13322  2 000467   200036 236100                    LDQ     OU_WORK$,,AUTO
         2 000470   000036 036003                    ADLQ    30,DU
         2 000471   200036 756100                    STQ     OU_WORK$,,AUTO

      599    13323         /*
      600    13324            Indicate whether to close the ou
      601    13325            file when done
      602    13326            */
      603    13327    1       XUO_CLOSE_REQUIRED=P_OU_CLOSE_REQUIRED_FLAG;

  13327  2 000472   200004 471500                    LDP1    @P_OU_CLOSE_REQUIRED_FLAG,,AUTO
         2 000473   003000 060500                    CSL     bolr='003'O
         2 000474   100000 000001                    BDSC    0,,PR1                   by=0,bit=0,n=1
         2 000475   000000 000001 xsym               BDSC    XUO_CLOSE_REQUIRED       by=0,bit=0,n=1

      604    13328    1       XUO_OU_WRITE_REQUIRED='0'B;

  13328  2 000476   000000 450000 xsym               STZ     XUO_OU_WRITE_REQUIRED

      605    13329         /*
      606    13330            Indicate whether type 11 to
      607    13331            15 (I.E. Debug) records are to
      608    13332            be output
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:69   
      609    13333            */
      610    13334    1       XUO_SCHEMA_REQUIRED=P_SCHEMA_REQUIRED_FLAG;

  13334  2 000477   200005 473500                    LDP3    @P_SCHEMA_REQUIRED_FLAG,,AUTO
         2 000500   003000 060500                    CSL     bolr='003'O
         2 000501   300000 000001                    BDSC    0,,PR3                   by=0,bit=0,n=1
         2 000502   000000 000001 xsym               BDSC    XUO_SCHEMA_REQUIRED      by=0,bit=0,n=1

      611    13335         /*
      612    13336            Save compiler id and version
      613    13337            */
      614    13338    1       XUO_COMPILER_ID=P_COMPILER_ID;

  13338  2 000503   200006 474500                    LDP4    @P_COMPILER_ID,,AUTO
         2 000504   400000 235100                    LDA     0,,PR4
         2 000505   000000 755000 xsym               STA     XUO_COMPILER_ID

      615    13339    1       XUO_VERSION_NUMBER=P_VERSION;

  13339  2 000506   200007 475500                    LDP5    @P_VERSION,,AUTO
         2 000507   500000 221100                    LDX1    0,,PR5
         2 000510   000000 741000 xsym               STX1    XUO_VERSION_NUMBER

      616    13340         /*
      617    13341            Save word/char size/severity
      618    13342            */
      619    13343    1       IF ADDR(P_WORDSIZE)~=ADDR(NIL) THEN

  13343  2 000511   200013 236100                    LDQ     @P_WORDSIZE,,AUTO
         2 000512   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 000513   000520 600000 2                  TZE     s:13346

      620    13344    1           XUO_WORDSIZE=P_WORDSIZE;

  13344  2 000514   200013 476500                    LDP6    @P_WORDSIZE,,AUTO
         2 000515   600000 235100                    LDA     0,,PR6
         2 000516   000000 755000 xsym               STA     XUO_WORDSIZE
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:70   
         2 000517   000522 710000 2                  TRA     s:13347

      621    13345    1       ELSE
      622    13346    1           XUO_WORDSIZE=36;

  13346  2 000520   000044 235007                    LDA     36,DL
         2 000521   000000 755000 xsym               STA     XUO_WORDSIZE

      623    13347    1       IF XUO_WORDSIZE=36 THEN

  13347  2 000522   000044 115007                    CMPA    36,DL
         2 000523   000527 601000 2                  TNZ     s:13350

      624    13348    1           XUO_CHARSIZE=9;

  13348  2 000524   000011 235007                    LDA     9,DL
         2 000525   000000 755000 xsym               STA     XUO_CHARSIZE
         2 000526   000531 710000 2                  TRA     s:13351

      625    13349    1       ELSE
      626    13350    1           XUO_CHARSIZE=8;

  13350  2 000527   000010 235007                    LDA     8,DL
         2 000530   000000 755000 xsym               STA     XUO_CHARSIZE

      627    13351    1       XUO_MAXIMUM_SEVERITY=0;

  13351  2 000531   000000 450000 xsym               STZ     XUO_MAXIMUM_SEVERITY

      628    13352    1       XUO_MOST_RECENT_SECTION = -1;

  13352  2 000532   000001 335007                    LCA     1,DL
         2 000533   000000 755000 xsym               STA     XUO_MOST_RECENT_SECTION

      629    13353         /*
      630    13354         The following section will lay out the pointers for the
      631    13355         appropriate records.
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:71   
      632    13356         The follwoing allocates data names record.
      633    13357         */
      634    13358    1       B_DNAME_BASE$=OU_WORK$;

  13358  2 000534   200036 236100                    LDQ     OU_WORK$,,AUTO
         2 000535   000000 756000 xsym               STQ     B_DNAME_BASE$

      635    13359    1       B_DNAME_CUR$=OU_WORK$;

  13359  2 000536   000000 756000 xsym               STQ     B_DNAME_CUR$

      636    13360    1       OU_WORK$=PINCRW(OU_WORK$,B_DNAME_PAGE_SIZE);

  13360  2 000537   000000 236000 xsym               LDQ     B_DNAME_PAGE_SIZE
         2 000540   000022 736000                    QLS     18
         2 000541   200036 036100                    ADLQ    OU_WORK$,,AUTO
         2 000542   200036 756100                    STQ     OU_WORK$,,AUTO

      637    13361    1       B_DNAME_END$=OU_WORK$;

  13361  2 000543   000000 756000 xsym               STQ     B_DNAME_END$

      638    13362    1       B_DNAME_COUNT=0;

  13362  2 000544   000000 450000 xsym               STZ     B_DNAME_COUNT

      639    13363    1       B_DNAME_PAGE=0;

  13363  2 000545   000000 450000 xsym               STZ     B_DNAME_PAGE

      640    13364         /*
      641    13365         The following allocates ref names record
      642    13366            */
      643    13367    1       B_RNAME_BASE$=OU_WORK$;

  13367  2 000546   000000 756000 xsym               STQ     B_RNAME_BASE$

PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:72   
      644    13368    1       B_RNAME_CUR$=OU_WORK$;

  13368  2 000547   000000 756000 xsym               STQ     B_RNAME_CUR$

      645    13369    1       OU_WORK$=PINCRW(OU_WORK$,B_RNAME_PAGE_SIZE);

  13369  2 000550   000000 236000 xsym               LDQ     B_RNAME_PAGE_SIZE
         2 000551   000022 736000                    QLS     18
         2 000552   200036 036100                    ADLQ    OU_WORK$,,AUTO
         2 000553   200036 756100                    STQ     OU_WORK$,,AUTO

      646    13370    1       B_RNAME_END$=OU_WORK$;

  13370  2 000554   000000 756000 xsym               STQ     B_RNAME_END$

      647    13371    1       B_RNAME_COUNT=0;

  13371  2 000555   000000 450000 xsym               STZ     B_RNAME_COUNT

      648    13372    1       B_RNAME_PAGE=0;

  13372  2 000556   000000 450000 xsym               STZ     B_RNAME_PAGE

      649    13373         /*
      650    13374            The following allocates section record.
      651    13375            */
      652    13376    1       B_SECTION_BASE$=OU_WORK$;

  13376  2 000557   000000 756000 xsym               STQ     B_SECTION_BASE$

      653    13377    1       B_SECTION_CUR$=OU_WORK$;

  13377  2 000560   000000 756000 xsym               STQ     B_SECTION_CUR$

      654    13378    1       OU_WORK$=PINCRW(OU_WORK$,B_SECTION_PAGE_SIZE);

  13378  2 000561   000000 236000 xsym               LDQ     B_SECTION_PAGE_SIZE
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:73   
         2 000562   000022 736000                    QLS     18
         2 000563   200036 036100                    ADLQ    OU_WORK$,,AUTO
         2 000564   200036 756100                    STQ     OU_WORK$,,AUTO

      655    13379    1       B_SECTION_END$=OU_WORK$;

  13379  2 000565   000000 756000 xsym               STQ     B_SECTION_END$

      656    13380    1       B_SECTION_COUNT=-1;

  13380  2 000566   000000 755000 xsym               STA     B_SECTION_COUNT

      657    13381         /*
      658    13382         The following section allocates entry def records.
      659    13383         */
      660    13384    1       B_EDEF_BASE$=OU_WORK$;

  13384  2 000567   000000 756000 xsym               STQ     B_EDEF_BASE$

      661    13385    1       B_EDEF_CUR$=OU_WORK$;

  13385  2 000570   000000 756000 xsym               STQ     B_EDEF_CUR$

      662    13386    1       OU_WORK$=PINCRW(OU_WORK$,B_EDEF_PAGE_SIZE);

  13386  2 000571   000000 236000 xsym               LDQ     B_EDEF_PAGE_SIZE
         2 000572   000022 736000                    QLS     18
         2 000573   200036 036100                    ADLQ    OU_WORK$,,AUTO
         2 000574   200036 756100                    STQ     OU_WORK$,,AUTO

      663    13387    1       B_EDEF_END$=OU_WORK$;

  13387  2 000575   000000 756000 xsym               STQ     B_EDEF_END$

      664    13388    1       B_EDEF_COUNT=-1;

  13388  2 000576   000000 755000 xsym               STA     B_EDEF_COUNT
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:74   

      665    13389    1       B_EDEF_PAGE=0;

  13389  2 000577   000000 450000 xsym               STZ     B_EDEF_PAGE

      666    13390         /*
      667    13391         The following section allocates entry ref records.
      668    13392         */
      669    13393    1       B_EREF_BASE$=OU_WORK$;

  13393  2 000600   000000 756000 xsym               STQ     B_EREF_BASE$

      670    13394    1       B_EREF_CUR$=OU_WORK$;

  13394  2 000601   000000 756000 xsym               STQ     B_EREF_CUR$

      671    13395    1       OU_WORK$=PINCRW(OU_WORK$,B_EREF_PAGE_SIZE);

  13395  2 000602   000000 236000 xsym               LDQ     B_EREF_PAGE_SIZE
         2 000603   000022 736000                    QLS     18
         2 000604   200036 036100                    ADLQ    OU_WORK$,,AUTO
         2 000605   200036 756100                    STQ     OU_WORK$,,AUTO

      672    13396    1       B_EREF_END$=OU_WORK$;

  13396  2 000606   000000 756000 xsym               STQ     B_EREF_END$

      673    13397    1       B_EREF_COUNT=-1;

  13397  2 000607   000000 755000 xsym               STA     B_EREF_COUNT

      674    13398    1       B_EREF_PAGE=0;

  13398  2 000610   000000 450000 xsym               STZ     B_EREF_PAGE

      675    13399         /*
      676    13400         The following section allocates data def records.
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:75   
      677    13401         */
      678    13402    1       B_SDEF_BASE$=OU_WORK$;

  13402  2 000611   000000 756000 xsym               STQ     B_SDEF_BASE$

      679    13403    1       B_SDEF_CUR$=OU_WORK$;

  13403  2 000612   000000 756000 xsym               STQ     B_SDEF_CUR$

      680    13404    1       OU_WORK$=PINCRW(OU_WORK$,B_SDEF_PAGE_SIZE);

  13404  2 000613   000000 236000 xsym               LDQ     B_SDEF_PAGE_SIZE
         2 000614   000022 736000                    QLS     18
         2 000615   200036 036100                    ADLQ    OU_WORK$,,AUTO
         2 000616   200036 756100                    STQ     OU_WORK$,,AUTO

      681    13405    1       B_SDEF_END$=OU_WORK$;

  13405  2 000617   000000 756000 xsym               STQ     B_SDEF_END$

      682    13406    1       B_SDEF_COUNT=-1;

  13406  2 000620   000000 755000 xsym               STA     B_SDEF_COUNT

      683    13407    1       B_SDEF_PAGE=0;

  13407  2 000621   000000 450000 xsym               STZ     B_SDEF_PAGE

      684    13408         /*
      685    13409         The following section allocates data ref records.
      686    13410         */
      687    13411    1       B_SREF_BASE$=OU_WORK$;

  13411  2 000622   000000 756000 xsym               STQ     B_SREF_BASE$

      688    13412    1       B_SREF_CUR$=OU_WORK$;

PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:76   
  13412  2 000623   000000 756000 xsym               STQ     B_SREF_CUR$

      689    13413    1       OU_WORK$=PINCRW(OU_WORK$,B_SREF_PAGE_SIZE);

  13413  2 000624   000000 236000 xsym               LDQ     B_SREF_PAGE_SIZE
         2 000625   000022 736000                    QLS     18
         2 000626   200036 036100                    ADLQ    OU_WORK$,,AUTO
         2 000627   200036 756100                    STQ     OU_WORK$,,AUTO

      690    13414    1       B_SREF_END$=OU_WORK$;

  13414  2 000630   000000 756000 xsym               STQ     B_SREF_END$

      691    13415    1       B_SREF_COUNT=-1;

  13415  2 000631   000000 755000 xsym               STA     B_SREF_COUNT

      692    13416    1       B_SREF_PAGE=0;

  13416  2 000632   000000 450000 xsym               STZ     B_SREF_PAGE

      693    13417         /*
      694    13418         The following section allocates segment def records
      695    13419         */
      696    13420    1       B_SEGDEF_BASE$=OU_WORK$;

  13420  2 000633   000000 756000 xsym               STQ     B_SEGDEF_BASE$

      697    13421    1       B_SEGDEF_CUR$=OU_WORK$;

  13421  2 000634   000000 756000 xsym               STQ     B_SEGDEF_CUR$

      698    13422    1       OU_WORK$=PINCRW(OU_WORK$,B_SEGDEF_PAGE_SIZE);

  13422  2 000635   000000 236000 xsym               LDQ     B_SEGDEF_PAGE_SIZE
         2 000636   000022 736000                    QLS     18
         2 000637   200036 036100                    ADLQ    OU_WORK$,,AUTO
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:77   
         2 000640   200036 756100                    STQ     OU_WORK$,,AUTO

      699    13423    1       B_SEGDEF_END$=OU_WORK$;

  13423  2 000641   000000 756000 xsym               STQ     B_SEGDEF_END$

      700    13424    1       B_SEGDEF_COUNT=-1;

  13424  2 000642   000000 755000 xsym               STA     B_SEGDEF_COUNT

      701    13425    1       B_SEGDEF_PAGE=0;

  13425  2 000643   000000 450000 xsym               STZ     B_SEGDEF_PAGE

      702    13426         /*
      703    13427         The following section allocates segment ref records.
      704    13428         */
      705    13429    1       B_SEGREF_BASE$=OU_WORK$;

  13429  2 000644   000000 756000 xsym               STQ     B_SEGREF_BASE$

      706    13430    1       B_SEGREF_CUR$=OU_WORK$;

  13430  2 000645   000000 756000 xsym               STQ     B_SEGREF_CUR$

      707    13431    1       OU_WORK$=PINCRW(OU_WORK$,B_SEGREF_PAGE_SIZE);

  13431  2 000646   000000 236000 xsym               LDQ     B_SEGREF_PAGE_SIZE
         2 000647   000022 736000                    QLS     18
         2 000650   200036 036100                    ADLQ    OU_WORK$,,AUTO
         2 000651   200036 756100                    STQ     OU_WORK$,,AUTO

      708    13432    1       B_SEGREF_END$=OU_WORK$;

  13432  2 000652   000000 756000 xsym               STQ     B_SEGREF_END$

      709    13433    1       B_SEGREF_COUNT=-1;
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:78   

  13433  2 000653   000000 755000 xsym               STA     B_SEGREF_COUNT

      710    13434    1       B_SEGREF_PAGE=0;

  13434  2 000654   000000 450000 xsym               STZ     B_SEGREF_PAGE

      711    13435         /* Create and initialize the lru workspace */
      712    13436    1       LRU_VECTOR = VECTOR (OU_WORK$ -> BUBIN);

  13436  2 000655   777640 235007                    LDA     -96,DL
         2 000656   000000 757000 xsym               STAQ    LRU_VECTOR

      713    13437         /*Vbound works with bytes so after i figure the # words figure bytes*/
      714    13438    1       VBOUND (LRU_VECTOR) = (B_NUMBER_OF_BUFFERS *2 +2) *4 -1;

  13438  2 000657   000000 236000 xsym               LDQ     B_NUMBER_OF_BUFFERS
         2 000660   000003 736000                    QLS     3
         2 000661   000007 036007                    ADLQ    7,DL
         2 000662   000020 736000                    QLS     16
         2 000663   000000 676000 xsym               ERQ     LRU_VECTOR
         2 000664   000034 376000 xsym               ANQ     B_VECTNIL+28
         2 000665   000000 656000 xsym               ERSQ    LRU_VECTOR

      715    13439    1       OU_WORK$ = PINCRW (OU_WORK$, (B_NUMBER_OF_BUFFERS *2 +2));

  13439  2 000666   000000 236000 xsym               LDQ     B_NUMBER_OF_BUFFERS
         2 000667   000023 736000                    QLS     19
         2 000670   000002 036003                    ADLQ    2,DU
         2 000671   200036 036100                    ADLQ    OU_WORK$,,AUTO
         2 000672   200036 756100                    STQ     OU_WORK$,,AUTO

      716    13440    1       CALL XUM$INIT_WORKSPACE (LRU_VECTOR) ALTRET (ERR_LRU);

  13440  2 000673   000017 630400 3                  EPPR0   15
         2 000674   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 000675   000000 701000 xent               TSX1    XUM$INIT_WORKSPACE
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:79   
         2 000676   001145 702000 2                  TSX2    ERR_LRU

      717    13441
      718    13442         /* Initailize the section array to indicate the buffers */
      719    13443    1       PTR2_SECTION_ARRAY$ = OU_WORK$;

  13443  2 000677   200036 236100                    LDQ     OU_WORK$,,AUTO
         2 000700   000000 756000 xsym               STQ     PTR2_SECTION_ARRAY$

      720    13444    1       OU_WORK$ = PINCRW(OU_WORK$,(SIZEW(SECTION_ARRAY)*(B_NUMBER_OF_SECTIONS+1)));

  13444  2 000701   000000 236000 xsym               LDQ     B_NUMBER_OF_SECTIONS
         2 000702   000025 736000                    QLS     21
         2 000703   000010 036003                    ADLQ    8,DU
         2 000704   200036 036100                    ADLQ    OU_WORK$,,AUTO
         2 000705   200036 756100                    STQ     OU_WORK$,,AUTO

      721    13445    2       DO I = 0 TO B_NUMBER_OF_BUFFERS -1;

  13445  2 000706   200017 450100                    STZ     I,,AUTO
         2 000707   000764 710000 2                  TRA     s:13461+3

      722    13446    2           SECTION_ARRAY.PROGRAM_CURS(I) = 0;

  13446  2 000710   200017 235100                    LDA     I,,AUTO
         2 000711   000003 735000                    ALS     3
         2 000712   000000 470400 xsym               LDP0    PTR2_SECTION_ARRAY$
         2 000713   000000 450105                    STZ     0,AL,PR0

      723    13447    2           SECTION_ARRAY.PTR2_PROGRAM_BUF$(I) = OU_WORK$;

  13447  2 000714   200036 236100                    LDQ     OU_WORK$,,AUTO
         2 000715   000000 470400 xsym               LDP0    PTR2_SECTION_ARRAY$
         2 000716   000004 756105                    STQ     4,AL,PR0

      724    13448    2           SECTION_ARRAY.BUF_OFFSET(I) = 0;

PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:80   
  13448  2 000717   000000 470400 xsym               LDP0    PTR2_SECTION_ARRAY$
         2 000720   000006 450105                    STZ     6,AL,PR0

      725    13449    2           OU_WORK$ = PINCRW (OU_WORK$, B_PROGRAM_PAGE_SIZE);

  13449  2 000721   000000 236000 xsym               LDQ     B_PROGRAM_PAGE_SIZE
         2 000722   000022 736000                    QLS     18
         2 000723   200036 036100                    ADLQ    OU_WORK$,,AUTO
         2 000724   200036 756100                    STQ     OU_WORK$,,AUTO

      726    13450
      727    13451    2           SECTION_ARRAY.RELOCATION_CURS(I) = 0;

  13451  2 000725   000000 470400 xsym               LDP0    PTR2_SECTION_ARRAY$
         2 000726   000001 450105                    STZ     1,AL,PR0

      728    13452    2           SECTION_ARRAY.PTR2_RELOCATION_BUF$(I) = OU_WORK$;

  13452  2 000727   000000 470400 xsym               LDP0    PTR2_SECTION_ARRAY$
         2 000730   000005 756105                    STQ     5,AL,PR0

      729    13453    2           OU_WORK$ = PINCRW (OU_WORK$, B_RELOCATION_PAGE_SIZE);

  13453  2 000731   000000 236000 xsym               LDQ     B_RELOCATION_PAGE_SIZE
         2 000732   000022 736000                    QLS     18
         2 000733   200036 036100                    ADLQ    OU_WORK$,,AUTO
         2 000734   200036 756100                    STQ     OU_WORK$,,AUTO

      730    13454
      731    13455    2           CALL XUM$CREATE_NEW_ITEM (LRU_VECTOR, PTR2_LRU$) ALTRET (ERR_LRU);

  13455  2 000735   200016 630500                    EPPR0   PTR2_LRU$,,AUTO
         2 000736   200041 450500                    STP0    CHAR_SIZE+2,,AUTO
         2 000737   000017 236000 3                  LDQ     15
         2 000740   200040 756100                    STQ     CHAR_SIZE+1,,AUTO
         2 000741   200040 630500                    EPPR0   CHAR_SIZE+1,,AUTO
         2 000742   000020 631400 xsym               EPPR1   B_VECTNIL+16
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:81   
         2 000743   000000 701000 xent               TSX1    XUM$CREATE_NEW_ITEM
         2 000744   001145 702000 2                  TSX2    ERR_LRU

      732    13456    2           PTR2_LRU$->BUBIN = I;

  13456  2 000745   200016 470500                    LDP0    PTR2_LRU$,,AUTO
         2 000746   200017 235100                    LDA     I,,AUTO
         2 000747   000000 755100                    STA     0,,PR0

      733    13457    2           SECTION_ARRAY.PTR2_LRU$(I) = PTR2_LRU$;

  13457  2 000750   000003 735000                    ALS     3
         2 000751   200016 236100                    LDQ     PTR2_LRU$,,AUTO
         2 000752   000000 470400 xsym               LDP0    PTR2_SECTION_ARRAY$
         2 000753   000003 756105                    STQ     3,AL,PR0

      734    13458    2           SECTION_ARRAY.MAX_PROG_RELOC(I) = -1;

  13458  2 000754   000001 336007                    LCQ     1,DL
         2 000755   000000 470400 xsym               LDP0    PTR2_SECTION_ARRAY$
         2 000756   000002 756105                    STQ     2,AL,PR0

      735    13459    2           SECTION_ARRAY.PROG_WORD_COUNT(I) = 0;

  13459  2 000757   000000 470400 xsym               LDP0    PTR2_SECTION_ARRAY$
         2 000760   000007 450105                    STZ     7,AL,PR0

      736    13460
      737    13461    2           END;

  13461  2 000761   200017 235100                    LDA     I,,AUTO
         2 000762   000001 035007                    ADLA    1,DL
         2 000763   200017 755100                    STA     I,,AUTO
         2 000764   200017 236100                    LDQ     I,,AUTO
         2 000765   000000 116000 xsym               CMPQ    B_NUMBER_OF_BUFFERS
         2 000766   000710 602000 2                  TNC     s:13446

PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:82   
      738    13462
      739    13463         /* Initialize the section array part which wont have buffer info at
      740    13464            the start of this whole thing */
      741    13465    2       DO I = B_NUMBER_OF_BUFFERS TO B_NUMBER_OF_SECTIONS;

  13465  2 000767   000000 235000 xsym               LDA     B_NUMBER_OF_BUFFERS
         2 000770   200017 755100                    STA     I,,AUTO
         2 000771   001021 710000 2                  TRA     s:13476+3

      742    13466    2           SECTION_ARRAY.PROGRAM_CURS(I) = 0;

  13466  2 000772   200017 235100                    LDA     I,,AUTO
         2 000773   000003 735000                    ALS     3
         2 000774   000000 470400 xsym               LDP0    PTR2_SECTION_ARRAY$
         2 000775   000000 450105                    STZ     0,AL,PR0

      743    13467    2           SECTION_ARRAY.MAX_PROG_RELOC(I) = -1;

  13467  2 000776   000001 336007                    LCQ     1,DL
         2 000777   000000 470400 xsym               LDP0    PTR2_SECTION_ARRAY$
         2 001000   000002 756105                    STQ     2,AL,PR0

      744    13468    2           SECTION_ARRAY.PTR2_PROGRAM_BUF$(I) = ADDR (NIL);

  13468  2 001001   000001 236000 xsym               LDQ     B_VECTNIL+1
         2 001002   000000 470400 xsym               LDP0    PTR2_SECTION_ARRAY$
         2 001003   000004 756105                    STQ     4,AL,PR0

      745    13469    2           SECTION_ARRAY.BUF_OFFSET(I) = 0;

  13469  2 001004   000000 470400 xsym               LDP0    PTR2_SECTION_ARRAY$
         2 001005   000006 450105                    STZ     6,AL,PR0

      746    13470
      747    13471    2           SECTION_ARRAY.RELOCATION_CURS(I) = 0;

  13471  2 001006   000000 470400 xsym               LDP0    PTR2_SECTION_ARRAY$
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:83   
         2 001007   000001 450105                    STZ     1,AL,PR0

      748    13472    2           SECTION_ARRAY.PTR2_RELOCATION_BUF$(I) = ADDR (NIL);

  13472  2 001010   000001 236000 xsym               LDQ     B_VECTNIL+1
         2 001011   000000 470400 xsym               LDP0    PTR2_SECTION_ARRAY$
         2 001012   000005 756105                    STQ     5,AL,PR0

      749    13473
      750    13474    2           SECTION_ARRAY.PTR2_LRU$(I) = ADDR (NIL);

  13474  2 001013   000001 236000 xsym               LDQ     B_VECTNIL+1
         2 001014   000000 470400 xsym               LDP0    PTR2_SECTION_ARRAY$
         2 001015   000003 756105                    STQ     3,AL,PR0

      751    13475
      752    13476    2           END;

  13476  2 001016   200017 236100                    LDQ     I,,AUTO
         2 001017   000001 036007                    ADLQ    1,DL
         2 001020   200017 756100                    STQ     I,,AUTO
         2 001021   000000 236000 xsym               LDQ     B_NUMBER_OF_SECTIONS
         2 001022   200017 116100                    CMPQ    I,,AUTO
         2 001023   000772 603000 2                  TRC     s:13466

      753    13477         /*
      754    13478         The following allocates the logical block record.
      755    13479         */
      756    13480    1       B_LOGBLK_ENTRY0$=OU_WORK$;

  13480  2 001024   200036 236100                    LDQ     OU_WORK$,,AUTO
         2 001025   000000 756000 xsym               STQ     B_LOGBLK_ENTRY0$

      757    13481    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(B$LOGBLK));

  13481  2 001026   000004 036003                    ADLQ    4,DU
         2 001027   200036 756100                    STQ     OU_WORK$,,AUTO
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:84   

      758    13482    1       B_LOGBLK_ENTRY1$=OU_WORK$;

  13482  2 001030   000000 756000 xsym               STQ     B_LOGBLK_ENTRY1$

      759    13483    1       OU_WORK$=PINCRW(OU_WORK$,SIZEW(B$LOGBLK));

  13483  2 001031   000004 036003                    ADLQ    4,DU
         2 001032   200036 756100                    STQ     OU_WORK$,,AUTO

      760    13484    1       B_LOGBLK_BASE$=OU_WORK$;

  13484  2 001033   000000 756000 xsym               STQ     B_LOGBLK_BASE$

      761    13485    1       B_LOGBLK_CUR$=OU_WORK$;

  13485  2 001034   000000 756000 xsym               STQ     B_LOGBLK_CUR$

      762    13486    1       OU_WORK$=PINCRW(OU_WORK$,B_LOGBLK_PAGE_SIZE-2*SIZEW(B$LOGBLK));

  13486  2 001035   000000 236000 xsym               LDQ     B_LOGBLK_PAGE_SIZE
         2 001036   000022 736000                    QLS     18
         2 001037   000010 136003                    SBLQ    8,DU
         2 001040   200036 036100                    ADLQ    OU_WORK$,,AUTO
         2 001041   200036 756100                    STQ     OU_WORK$,,AUTO

      763    13487    1       B_LOGBLK_COUNT=-1;

  13487  2 001042   000001 335007                    LCA     1,DL
         2 001043   000000 755000 xsym               STA     B_LOGBLK_COUNT

      764    13488    1       B_LOGBLK_END$=OU_WORK$;

  13488  2 001044   000000 756000 xsym               STQ     B_LOGBLK_END$

      765    13489    1       B_LOGBLK_PAGE=0;

PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:85   
  13489  2 001045   000000 450000 xsym               STZ     B_LOGBLK_PAGE

      766    13490         /*
      767    13491         The following section allocates internal entry records.
      768    13492         */
      769    13493    1       B_INTNTRY_BASE$=OU_WORK$;

  13493  2 001046   000000 756000 xsym               STQ     B_INTNTRY_BASE$

      770    13494    1       B_INTNTRY_CUR$=OU_WORK$;

  13494  2 001047   000000 756000 xsym               STQ     B_INTNTRY_CUR$

      771    13495    1       OU_WORK$=PINCRW(OU_WORK$,B_INTNTRY_PAGE_SIZE);

  13495  2 001050   000000 236000 xsym               LDQ     B_INTNTRY_PAGE_SIZE
         2 001051   000022 736000                    QLS     18
         2 001052   200036 036100                    ADLQ    OU_WORK$,,AUTO
         2 001053   200036 756100                    STQ     OU_WORK$,,AUTO

      772    13496    1       B_INTNTRY_END$=OU_WORK$;

  13496  2 001054   000000 756000 xsym               STQ     B_INTNTRY_END$

      773    13497    1       B_INTNTRY_COUNT=-1;

  13497  2 001055   000000 755000 xsym               STA     B_INTNTRY_COUNT

      774    13498    1       B_INTNTRY_PAGE=0;

  13498  2 001056   000000 450000 xsym               STZ     B_INTNTRY_PAGE

      775    13499         /*
      776    13500         The following section allocates exec stmnt records.
      777    13501         */
      778    13502    1       B_EXST_BASE$=OU_WORK$;

PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:86   
  13502  2 001057   000000 756000 xsym               STQ     B_EXST_BASE$

      779    13503    1       B_EXST_CUR$=OU_WORK$;

  13503  2 001060   000000 756000 xsym               STQ     B_EXST_CUR$

      780    13504    1       OU_WORK$=PINCRW(OU_WORK$,B_EXST_PAGE_SIZE);

  13504  2 001061   000000 236000 xsym               LDQ     B_EXST_PAGE_SIZE
         2 001062   000022 736000                    QLS     18
         2 001063   200036 036100                    ADLQ    OU_WORK$,,AUTO
         2 001064   200036 756100                    STQ     OU_WORK$,,AUTO

      781    13505    1       B_EXST_END$=OU_WORK$;

  13505  2 001065   000000 756000 xsym               STQ     B_EXST_END$

      782    13506    1       B_EXST_COUNT=-1;

  13506  2 001066   000000 755000 xsym               STA     B_EXST_COUNT

      783    13507    1       B_EXST_PAGE=0;

  13507  2 001067   000000 450000 xsym               STZ     B_EXST_PAGE

      784    13508         /*
      785    13509         The following section allocates variable records.
      786    13510         */
      787    13511    1       B_VREBL_BASE$=OU_WORK$;

  13511  2 001070   000000 756000 xsym               STQ     B_VREBL_BASE$

      788    13512    1       B_VREBL_CUR$=OU_WORK$;

  13512  2 001071   000000 756000 xsym               STQ     B_VREBL_CUR$

      789    13513    1       OU_WORK$=PINCRW(OU_WORK$,B_VREBL_PAGE_SIZE);
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:87   

  13513  2 001072   000000 236000 xsym               LDQ     B_VREBL_PAGE_SIZE
         2 001073   000022 736000                    QLS     18
         2 001074   200036 036100                    ADLQ    OU_WORK$,,AUTO
         2 001075   200036 756100                    STQ     OU_WORK$,,AUTO

      790    13514    1       B_VREBL_END$=OU_WORK$;

  13514  2 001076   000000 756000 xsym               STQ     B_VREBL_END$

      791    13515    1       B_VREBL_COUNT=-1;

  13515  2 001077   000000 755000 xsym               STA     B_VREBL_COUNT

      792    13516    1       B_VREBL_PAGE=0;

  13516  2 001100   000000 450000 xsym               STZ     B_VREBL_PAGE

      793    13517         /*
      794    13518         The following section allocates the dbg names record
      795    13519         */
      796    13520    1       B_DBGNAME_BASE$=OU_WORK$;

  13520  2 001101   000000 756000 xsym               STQ     B_DBGNAME_BASE$

      797    13521    1       B_DBGNAME_CUR$=OU_WORK$;

  13521  2 001102   000000 756000 xsym               STQ     B_DBGNAME_CUR$

      798    13522    1       OU_WORK$=PINCRW(OU_WORK$,B_DBGNAME_PAGE_SIZE);

  13522  2 001103   000000 236000 xsym               LDQ     B_DBGNAME_PAGE_SIZE
         2 001104   000022 736000                    QLS     18
         2 001105   200036 036100                    ADLQ    OU_WORK$,,AUTO
         2 001106   200036 756100                    STQ     OU_WORK$,,AUTO

      799    13523    1       B_DBGNAME_END$=OU_WORK$;
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:88   

  13523  2 001107   000000 756000 xsym               STQ     B_DBGNAME_END$

      800    13524    1       B_DBGNAME_COUNT=0;

  13524  2 001110   000000 450000 xsym               STZ     B_DBGNAME_COUNT

      801    13525    1       B_DBGNAME_PAGE=0;

  13525  2 001111   000000 450000 xsym               STZ     B_DBGNAME_PAGE

      802    13526         /*
      803    13527         If the TRUST_ME flag is in the parameter list then
      804    13528         set the variable for use elsewhere in the xuo
      805    13529         package.  This flag is basically to help cobol8x
      806    13530         screw up their object units.
      807    13531         */
      808    13532    1       B_TRUST_ME = '0'B;

  13532  2 001112   000000 450000 xsym               STZ     B_TRUST_ME

      809    13533    1       IF ADDR(P_TRUST_ME) ~= ADDR(NIL)

  13533  2 001113   200014 236100                    LDQ     @P_TRUST_ME,,AUTO
         2 001114   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 001115   001122 600000 2                  TZE     s:13540

      810    13534    2       THEN DO;

      811    13535    2           B_TRUST_ME = P_TRUST_ME;

  13535  2 001116   200014 470500                    LDP0    @P_TRUST_ME,,AUTO
         2 001117   003000 060500                    CSL     bolr='003'O
         2 001120   000000 000001                    BDSC    0,,PR0                   by=0,bit=0,n=1
         2 001121   000000 000001 xsym               BDSC    B_TRUST_ME               by=0,bit=0,n=1

      812    13536    2           END;
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:89   

      813    13537         /*
      814    13538            Now open the object unit file
      815    13539            */
      816    13540    1       CALL XUO$OUOPEN;

  13540  2 001122   000002 631400 xsym               EPPR1   B_VECTNIL+2
         2 001123   000000 701000 xent               TSX1    XUO$OUOPEN
         2 001124   000000 011000                    NOP     0

      817    13541    1       RETURN;

  13541  2 001125   000000 702200 xent               TSX2  ! X66_ARET

  13533  2 001126                       OU_GDS_ERROR null
      818    13542            %PAGE (ARG=ERRORS);

             13555    1   /*******************************************************************************
             13556    1   *                                                                              *
             13557    1   *        ERRORS              ERRORS                                               *
             13558    1   *                                                                              *
             13559    1   *******************************************************************************/

      819    13563         /*
      820    13564         The following section handles the case of error on M$GDS.
      821    13565         */
      822    13566    1   OU_GDS_ERROR: ;
      823    13567    1       IF XUO_ERROR_ROUTINE~=ENTADDR(NIL) THEN

  13567  2 001126   000000 236000 xsym               LDQ     XUO_ERROR_ROUTINE
         2 001127   000002 116000 xsym               CMPQ    B_VECTNIL+2
         2 001130   001144 600000 2                  TZE     s:13572

      824    13568    2       DO;

      825    13569    2           ERROR=B$TCB$->B$TCB.ALT$->B$ALT.ERR;

PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:90   
  13569  2 001131   000000 470400 xsym               LDP0    B$TCB$
         2 001132   000000 471500                    LDP1    0,,PR0
         2 001133   100102 236100                    LDQ     66,,PR1
         2 001134   200034 756100                    STQ     ERROR,,AUTO

      826    13570    2           CALL XUO_ERROR_ROUTINE(ERROR);

  13570  2 001135   200034 631500                    EPPR1   ERROR,,AUTO
         2 001136   200040 451500                    STP1    CHAR_SIZE+1,,AUTO
         2 001137   200040 630500                    EPPR0   CHAR_SIZE+1,,AUTO
         2 001140   000000 220000 xsym               LDX0    XUO_ERROR_ROUTINE
         2 001141   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 001142   000000 701010                    TSX1    0,X0
         2 001143   000000 011000                    NOP     0

      827    13571    2           END;

      828    13572    1       ALTRETURN;

  13572  2 001144   000000 702200 xent               TSX2  ! X66_AALT

  13567  2 001145                       ERR_LRU      null
      829    13573    1   ERR_LRU: ;
      830    13574    1       ALTRETURN;

  13574  2 001145   000000 702200 xent               TSX2  ! X66_AALT
      831    13575         /*
      832    13576            */
      833    13577    1   END XUO$OUINIT;
      834    13578        %EOD;

PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:91   
--  Include file information  --

   XUM_ENTRIES_C.:E05TOU  is referenced.
   XUO$OBJ_C.:E05TOU  is referenced.
   B$OBJECT_C.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   ZVA_FLAGS.:TOOLE04  is referenced.
   ZVA_SYSTEM_FILE.:TOOLE04  is referenced.
      No diagnostics issued in procedure XUO$OUINIT.
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:92   

 **** Variables and constants ****

  ****  Section 001 RoData XUO$OUINIT

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

   212-0-0/d STRC(432)   r     1 FPT_UTS_BASE              72-0-0/d STRC(432)   r     1 XUO_HEAD_WRITE_BASE
   154-0-0/d STRC(1080)  r     1 XUO_OU_CLOSE_BASE          0-0-0/d STRC(2088)  r     1 XUO_OU_OPEN_BASE
   106-0-0/d STRC(432)   r     1 XUO_OU_WRITE_BASE
   122-0-0/d STRC(504)   r     1 XUO_RELOCATION_READ_BASE
   140-0-0/d STRC(432)   r     1 XUO_RELOCATION_REWRITE_BASE

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    15-0-0/w PTR         r     1 @P_ASL_NAME                6-0-0/w PTR         r     1 @P_COMPILER_ID
    12-0-0/w PTR         r     1 @P_ERROR_ROUTINE          10-0-0/w PTR         r     1 @P_LIBRARY_NAME
     4-0-0/w PTR         r     1 @P_OU_CLOSE_REQUIRED_FLAG
     3-0-0/w PTR         r     1 @P_OU_DCB_NUMBER          11-0-0/w PTR         r     1 @P_OU_UTS
     5-0-0/w PTR         r     1 @P_SCHEMA_REQUIRED_FLAG
    14-0-0/w PTR         r     1 @P_TRUST_ME                7-0-0/w PTR         r     1 @P_VERSION
    13-0-0/w PTR         r     1 @P_WORDSIZE               37-0-0/w UBIN(18)    r     1 CHAR_SIZE
    34-0-0/b STRC        r     1 ERROR                     20-0-0/d STRC(432)   r     1 FPT_UTS
    17-0-0/w UBIN        r     1 I                         35-0-0/w UBIN        r     1 OU_SEGMENT_SIZE
    36-0-0/w PTR         r     1 OU_WORK$                  16-0-0/w PTR         r     1 PTR2_LRU$
    *0-0-0/w ASTR(9)     r     1 P_ASL_NAME                *0-0-0/w UBIN        r     1 P_COMPILER_ID
    *0-0-0/w EPTR        r     1 P_ERROR_ROUTINE           *0-0-0/w ASTR(9)     r     1 P_LIBRARY_NAME
    *0-0-0/b BIT         r     1 P_OU_CLOSE_REQUIRED_FLAG
    *0-0-0/w UBIN        r     1 P_OU_DCB_NUMBER           *0-0-0/w UBIN        r     1 P_OU_UTS
    *0-0-0/b BIT         r     1 P_SCHEMA_REQUIRED_FLAG
    *0-0-0/b BIT         r     1 P_TRUST_ME                *0-0-0/w STRC(18)    r     1 P_VERSION
    *0-0-0/w UBIN        r     1 P_WORDSIZE

  ****  SYMREF variables  ****
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:93   

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 B$FRWDKEY$                 0-0-0/w STRC(297)   r     1 B$HEADKEY
     0-0-0/w PTR         r     1 B$OUHEAD$                  0-0-0/w STRC(72)    r     1 B$OUKEY
     0-0-0/w PTR         r     1 B$PRGKEY$                  0-0-0/w PTR         r     1 B$RELKEY$
     0-0-0/w PTR         r     1 B$TCB$                     0-0-0/b BIT         r     1 BUFINIT_CALLED
     0-0-0/w PTR         r     1 B_DBGNAME_BASE$            0-0-0/w SBIN        r     1 B_DBGNAME_COUNT
     0-0-0/w PTR         r     1 B_DBGNAME_CUR$             0-0-0/w PTR         r     1 B_DBGNAME_END$
     0-0-0/w SBIN        r     1 B_DBGNAME_PAGE             0-0-0/w UBIN        r     1 B_DBGNAME_PAGE_SIZE
     0-0-0/w PTR         r     1 B_DNAME_BASE$              0-0-0/w SBIN        r     1 B_DNAME_COUNT
     0-0-0/w PTR         r     1 B_DNAME_CUR$               0-0-0/w PTR         r     1 B_DNAME_END$
     0-0-0/w SBIN        r     1 B_DNAME_PAGE               0-0-0/w UBIN        r     1 B_DNAME_PAGE_SIZE
     0-0-0/w PTR         r     1 B_EDEF_BASE$               0-0-0/w SBIN        r     1 B_EDEF_COUNT
     0-0-0/w PTR         r     1 B_EDEF_CUR$                0-0-0/w PTR         r     1 B_EDEF_END$
     0-0-0/w SBIN        r     1 B_EDEF_PAGE                0-0-0/w UBIN        r     1 B_EDEF_PAGE_SIZE
     0-0-0/w PTR         r     1 B_EREF_BASE$               0-0-0/w SBIN        r     1 B_EREF_COUNT
     0-0-0/w PTR         r     1 B_EREF_CUR$                0-0-0/w PTR         r     1 B_EREF_END$
     0-0-0/w SBIN        r     1 B_EREF_PAGE                0-0-0/w UBIN        r     1 B_EREF_PAGE_SIZE
     0-0-0/w PTR         r     1 B_EXST_BASE$               0-0-0/w SBIN        r     1 B_EXST_COUNT
     0-0-0/w PTR         r     1 B_EXST_CUR$                0-0-0/w PTR         r     1 B_EXST_END$
     0-0-0/w SBIN        r     1 B_EXST_PAGE                0-0-0/w UBIN        r     1 B_EXST_PAGE_SIZE
     0-0-0/w PTR         r     1 B_INTNTRY_BASE$            0-0-0/w SBIN        r     1 B_INTNTRY_COUNT
     0-0-0/w PTR         r     1 B_INTNTRY_CUR$             0-0-0/w PTR         r     1 B_INTNTRY_END$
     0-0-0/w SBIN        r     1 B_INTNTRY_PAGE             0-0-0/w UBIN        r     1 B_INTNTRY_PAGE_SIZE
     0-0-0/w PTR         r     1 B_LOGBLK_BASE$             0-0-0/w SBIN        r     1 B_LOGBLK_COUNT
     0-0-0/w PTR         r     1 B_LOGBLK_CUR$              0-0-0/w PTR         r     1 B_LOGBLK_END$
     0-0-0/w PTR         r     1 B_LOGBLK_ENTRY0$           0-0-0/w PTR         r     1 B_LOGBLK_ENTRY1$
     0-0-0/w SBIN        r     1 B_LOGBLK_PAGE              0-0-0/w UBIN        r     1 B_LOGBLK_PAGE_SIZE
     0-0-0/w UBIN        r     1 B_NUMBER_OF_BUFFERS        0-0-0/w UBIN        r     1 B_NUMBER_OF_SECTIONS
     0-0-0/w SBIN        r     1 B_PROGRAM_PAGE_SIZE
     0-0-0/w SBIN        r     1 B_RELOCATION_PAGE_SIZE
     0-0-0/w PTR         r     1 B_RNAME_BASE$              0-0-0/w SBIN        r     1 B_RNAME_COUNT
     0-0-0/w PTR         r     1 B_RNAME_CUR$               0-0-0/w PTR         r     1 B_RNAME_END$
     0-0-0/w SBIN        r     1 B_RNAME_PAGE               0-0-0/w UBIN        r     1 B_RNAME_PAGE_SIZE
     0-0-0/w PTR         r     1 B_SDEF_BASE$               0-0-0/w SBIN        r     1 B_SDEF_COUNT
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:94   
     0-0-0/w PTR         r     1 B_SDEF_CUR$                0-0-0/w PTR         r     1 B_SDEF_END$
     0-0-0/w SBIN        r     1 B_SDEF_PAGE                0-0-0/w UBIN        r     1 B_SDEF_PAGE_SIZE
     0-0-0/w PTR         r     1 B_SECTION_BASE$            0-0-0/w SBIN        r     1 B_SECTION_COUNT
     0-0-0/w PTR         r     1 B_SECTION_CUR$             0-0-0/w PTR         r     1 B_SECTION_END$
     0-0-0/w UBIN        r     1 B_SECTION_PAGE_SIZE        0-0-0/w PTR         r     1 B_SEGDEF_BASE$
     0-0-0/w SBIN        r     1 B_SEGDEF_COUNT             0-0-0/w PTR         r     1 B_SEGDEF_CUR$
     0-0-0/w PTR         r     1 B_SEGDEF_END$              0-0-0/w SBIN        r     1 B_SEGDEF_PAGE
     0-0-0/w UBIN        r     1 B_SEGDEF_PAGE_SIZE         0-0-0/w PTR         r     1 B_SEGREF_BASE$
     0-0-0/w SBIN        r     1 B_SEGREF_COUNT             0-0-0/w PTR         r     1 B_SEGREF_CUR$
     0-0-0/w PTR         r     1 B_SEGREF_END$              0-0-0/w SBIN        r     1 B_SEGREF_PAGE
     0-0-0/w UBIN        r     1 B_SEGREF_PAGE_SIZE         0-0-0/w PTR         r     1 B_SREF_BASE$
     0-0-0/w SBIN        r     1 B_SREF_COUNT               0-0-0/w PTR         r     1 B_SREF_CUR$
     0-0-0/w PTR         r     1 B_SREF_END$                0-0-0/w SBIN        r     1 B_SREF_PAGE
     0-0-0/w UBIN        r     1 B_SREF_PAGE_SIZE           0-0-0/b BIT         r     1 B_TRUST_ME
     0-0-0/w PTR         r     1 B_VREBL_BASE$              0-0-0/w SBIN        r     1 B_VREBL_COUNT
     0-0-0/w PTR         r     1 B_VREBL_CUR$               0-0-0/w PTR         r     1 B_VREBL_END$
     0-0-0/w SBIN        r     1 B_VREBL_PAGE               0-0-0/w UBIN        r     1 B_VREBL_PAGE_SIZE
     0-0-0/d VECT        r     1 LRU_VECTOR                 0-0-0/w PTR         r     1 PTR2_SECTION_ARRAY$
     0-0-0/w UBIN        r     1 XUO_CHARSIZE               0-0-0/w BIT         r     1 XUO_CLOSE_REQUIRED
     0-0-0/w UBIN        r     1 XUO_COMPILER_ID            0-0-0/w EPTR        r     1 XUO_ERROR_ROUTINE
     0-0-0/w PTR         r     1 XUO_HEAD_WRITE$            0-0-0/w UBIN        r     1 XUO_MAXIMUM_SEVERITY
     0-0-0/w SBIN        r     1 XUO_MOST_RECENT_SECTION
     0-0-0/w PTR         r     1 XUO_OU_CLOSE$              0-0-0/w UBIN        r     1 XUO_OU_DCB_NUMBER
     0-0-0/d STRC(216)   r     1 XUO_OU_GDS_FDS             0-0-0/d STRC(144)   r     1 XUO_OU_GDS_RESULTS
     0-0-0/w PTR         r     1 XUO_OU_OPEN$               0-0-0/w UBIN        r     1 XUO_OU_UTS
     0-0-0/w PTR         r     1 XUO_OU_WRITE$
     0-0-0/w BIT         r     1 XUO_OU_WRITE_REQUIRED
     0-0-0/w PTR         r     1 XUO_PROGRAM_WRITE$         0-0-0/w PTR         r     1 XUO_RELOCATION_READ$
     0-0-0/w PTR         r     1 XUO_RELOCATION_REWRITE$
     0-0-0/w PTR         r     1 XUO_RELOCATION_WRITE$
     0-0-0/w BIT         r     1 XUO_SCHEMA_REQUIRED        0-0-0/c STRC(18)    r     1 XUO_VERSION_NUMBER
     0-0-0/w UBIN        r     1 XUO_WORDSIZE

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:95   

     0-0-0/w STRC(2448)  r     1 B$ALT                      0-0-0/w ASTR(18)    r     1 B$DBGNAME
     0-0-0/w ASTR(18)    r     1 B$DNAME                    0-0-0/w STRC(72)    r     1 B$EDEF
     0-0-0/w STRC        r     1 B$EREF                     0-0-0/w STRC(108)   r     1 B$EXST
     0-0-0/w STRC(117)   r     1 B$FRWDKEY                  0-0-0/w STRC(72)    r     1 B$INTNTRY
     0-0-0/w STRC(144)   r     1 B$LOGBLK                   0-0-0/w STRC(1044)  r     1 B$OUHEAD
     0-0-0/w STRC(117)   r     1 B$PRGKEY                   0-0-0/w STRC(117)   r     1 B$RELKEY
     0-0-0/w ASTR(18)    r     1 B$RNAME                    0-0-0/w STRC(72)    r     1 B$SDEF
     0-0-0/w STRC(72)    r     1 B$SECTION                  0-0-0/w STRC(72)    r     1 B$SEGDEF
     0-0-0/w STRC(24)    r     1 B$SEGREF                   0-0-0/w STRC        r     1 B$SREF
     0-0-0/w STRC(144)   r     1 B$TCB                      0-0-0/w STRC(180)   r     1 B$VREBL
     0-0-0/w UBIN        r     1 BUBIN                      0-0-0/w ASTR(0)     r     1 OU_CLEAR
     0-0-0/w STRC(288)   r     1 SECTION_ARRAY(0:0)
     0-0-0/d STRC(432)   r     1 XUO_HEAD_WRITE             0-0-0/d STRC(1080)  r     1 XUO_OU_CLOSE
     0-0-0/d STRC(2088)  r     1 XUO_OU_OPEN                0-0-0/d STRC(432)   r     1 XUO_OU_WRITE
     0-0-0/d STRC(432)   r     1 XUO_PROGRAM_WRITE          0-0-0/d STRC(504)   r     1 XUO_RELOCATION_READ
     0-0-0/d STRC(432)   r     1 XUO_RELOCATION_REWRITE
     0-0-0/d STRC(432)   r     1 XUO_RELOCATION_WRITE


   Procedure XUO$OUINIT requires 614 words for executable code.
   Procedure XUO$OUINIT requires 36 words of local(AUTO) storage.
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:96   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:97   
          MINI XREF LISTING

B$ALT.CODE
     12987**DCL     12987--REDEF   12988--REDEF   12988--REDEF
B$ALT.ERR
     12988**DCL     13569>>ASSIGN
B$ALT.ERR.ERR#
     12989**DCL     12989--REDEF
B$ALT.EVID
     12988**DCL     12988--REDEF   12988--REDEF
B$DBGNAME.COUNT
     10869**DCL     10876--IMP-SIZ
B$DNAME.COUNT
     10791**DCL     10798--IMP-SIZ
B$EDEF
     11020**DCL     13159--ASSIGN
B$EDEF.OU
     11037**DCL     11043--REDEF
B$EREF
     11131**DCL     13160--ASSIGN
B$EXST
     11806**DCL     13167--ASSIGN
B$EXST.OU
     11815**DCL     11821--REDEF
B$FRWDKEY
     10730**DCL     13308--ASSIGN  13315--ASSIGN
B$FRWDKEY$
     10760**DCL     13231<<ASSIGN  13308>>ASSIGN  13315>>ASSIGN
B$HEADKEY
     10618**DCL     13281--ASSIGN
B$INTNTRY
     11707**DCL     13166--ASSIGN
B$INTNTRY.OU
     11711**DCL     11718--REDEF
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:98   
B$LBNTRY0.NO_AUTO
     11596**DCL     11601--REDEF
B$LBNTRY0.VERSION
     11585**DCL     11587--REDEF
B$LOGBLK
     11633**DCL     13165--ASSIGN  13481--ASSIGN  13483--ASSIGN  13486--ASSIGN
B$OUHEAD
     10479**DCL     13169--ASSIGN  13240--ASSIGN  13280--ASSIGN
B$OUHEAD.ASLNAM
     10592**DCL     13257<<ASSIGN  13261<<ASSIGN
B$OUHEAD.ASLNAMSIZ
     10589**DCL     13256<<ASSIGN  13260<<ASSIGN
B$OUHEAD.LNAM
     10586**DCL     13245<<ASSIGN  13249<<ASSIGN
B$OUHEAD.LNAMSIZ
     10584**DCL     13244<<ASSIGN  13248<<ASSIGN
B$OUHEAD.VERSION
     10497**DCL     10499--REDEF
B$OUHEAD$
     10477**DCL     10479--IMP-PTR 13239<<ASSIGN  13244>>ASSIGN  13245>>ASSIGN  13248>>ASSIGN  13249>>ASSIGN
     13256>>ASSIGN  13257>>ASSIGN  13260>>ASSIGN  13261>>ASSIGN  13280>>ASSIGN
B$OUKEY
     10630**DCL     13288--ASSIGN
B$OUKEY.UTS
     10636**DCL     13217<<ASSIGN
B$PRGKEY
     10666**DCL     13169--ASSIGN  13224--ASSIGN  13227>>ASSIGN  13229--ASSIGN  13232--ASSIGN  13294--ASSIGN
B$PRGKEY.KEYSIZ
     10667**DCL     13220<<ASSIGN
B$PRGKEY.NOTHD
     10671**DCL     13221<<ASSIGN
B$PRGKEY.TYPE
     10676**DCL     13223<<ASSIGN
B$PRGKEY.UTS
     10673**DCL     13222<<ASSIGN
B$PRGKEY$
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:99   
     10696**DCL     13219<<ASSIGN  13227>>ASSIGN  13294>>ASSIGN
B$RELKEY
     10698**DCL     13227<<ASSIGN  13300--ASSIGN
B$RELKEY.SUBTYPE
     10716**DCL     13228<<ASSIGN
B$RELKEY$
     10728**DCL     13226<<ASSIGN  13300>>ASSIGN
B$RNAME.COUNT
     10830**DCL     10837--IMP-SIZ
B$SDEF
     11215**DCL     13161--ASSIGN
B$SDEF.AD.OU
     11235**DCL     11241--REDEF
B$SDEF.VALUE
     11216**DCL     11219--REDEF
B$SECTION
     10921**DCL     13158--ASSIGN
B$SECTION.MBZ
     10968**DCL     10970--REDEF   10974--REDEF
B$SEGDEF
     11365**DCL     13163--ASSIGN
B$SEGDEF.AD.OU
     11389**DCL     11394--REDEF
B$SEGDEF.LFLAGS
     11404**DCL     11415--REDEF
B$SEGDEF.VALUE
     11366**DCL     11369--REDEF   11373--REDEF
B$SEGREF
     11461**DCL     13164--ASSIGN
B$SREF
     11310**DCL     13162--ASSIGN
B$TCB.ALT$
     12983**DCL     13569>>ASSIGN
B$TCB$
     12993**DCL     13569>>ASSIGN
B$VREBL
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:100  
     11954**DCL     13168--ASSIGN
B$VREBL.ADR
     11955**DCL     11967--REDEF
BUBIN
     12200**DCL     13436--ASSIGN  13456<<ASSIGN
BUFINIT_CALLED
     12217**DCL     13140>>IF
B_DBGNAME_BASE$
     10891**DCL     13520<<ASSIGN
B_DBGNAME_COUNT
     10894**DCL     13524<<ASSIGN
B_DBGNAME_CUR$
     10892**DCL     10868--IMP-PTR 13521<<ASSIGN
B_DBGNAME_END$
     10893**DCL     13523<<ASSIGN
B_DBGNAME_PAGE
     10895**DCL     13525<<ASSIGN
B_DBGNAME_PAGE_SIZE
     10897**DCL     13169>>ASSIGN  13522>>ASSIGN
B_DNAME_BASE$
     10813**DCL     13358<<ASSIGN
B_DNAME_COUNT
     10816**DCL     13362<<ASSIGN
B_DNAME_CUR$
     10814**DCL     10790--IMP-PTR 13359<<ASSIGN
B_DNAME_END$
     10815**DCL     13361<<ASSIGN
B_DNAME_PAGE
     10817**DCL     13363<<ASSIGN
B_DNAME_PAGE_SIZE
     10819**DCL     13169>>ASSIGN  13360>>ASSIGN
B_EDEF_BASE$
     11101**DCL     13384<<ASSIGN
B_EDEF_COUNT
     11104**DCL     13388<<ASSIGN
B_EDEF_CUR$
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:101  
     11102**DCL     11020--IMP-PTR 13385<<ASSIGN
B_EDEF_END$
     11103**DCL     13387<<ASSIGN
B_EDEF_PAGE
     11105**DCL     13389<<ASSIGN
B_EDEF_PAGE_SIZE
     11107**DCL     13159<<ASSIGN  13159>>ASSIGN  13169>>ASSIGN  13386>>ASSIGN
B_EREF_BASE$
     11185**DCL     13393<<ASSIGN
B_EREF_COUNT
     11188**DCL     13397<<ASSIGN
B_EREF_CUR$
     11186**DCL     11131--IMP-PTR 13394<<ASSIGN
B_EREF_END$
     11187**DCL     13396<<ASSIGN
B_EREF_PAGE
     11189**DCL     13398<<ASSIGN
B_EREF_PAGE_SIZE
     11191**DCL     13160<<ASSIGN  13160>>ASSIGN  13169>>ASSIGN  13395>>ASSIGN
B_EXST_BASE$
     11924**DCL     13502<<ASSIGN
B_EXST_COUNT
     11927**DCL     13506<<ASSIGN
B_EXST_CUR$
     11925**DCL     11806--IMP-PTR 13503<<ASSIGN
B_EXST_END$
     11926**DCL     13505<<ASSIGN
B_EXST_PAGE
     11928**DCL     13507<<ASSIGN
B_EXST_PAGE_SIZE
     11930**DCL     13167<<ASSIGN  13167>>ASSIGN  13169>>ASSIGN  13504>>ASSIGN
B_INTNTRY_BASE$
     11776**DCL     13493<<ASSIGN
B_INTNTRY_COUNT
     11779**DCL     13497<<ASSIGN
B_INTNTRY_CUR$
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:102  
     11777**DCL     11707--IMP-PTR 13494<<ASSIGN
B_INTNTRY_END$
     11778**DCL     13496<<ASSIGN
B_INTNTRY_PAGE
     11780**DCL     13498<<ASSIGN
B_INTNTRY_PAGE_SIZE
     11782**DCL     13166<<ASSIGN  13166>>ASSIGN  13169>>ASSIGN  13495>>ASSIGN
B_LOGBLK_BASE$
     11675**DCL     13484<<ASSIGN
B_LOGBLK_COUNT
     11680**DCL     13487<<ASSIGN
B_LOGBLK_CUR$
     11678**DCL     11633--IMP-PTR 13485<<ASSIGN
B_LOGBLK_END$
     11679**DCL     13488<<ASSIGN
B_LOGBLK_ENTRY0$
     11676**DCL     11570--IMP-PTR 13480<<ASSIGN
B_LOGBLK_ENTRY1$
     11677**DCL     11606--IMP-PTR 13482<<ASSIGN
B_LOGBLK_PAGE
     11681**DCL     13489<<ASSIGN
B_LOGBLK_PAGE_SIZE
     11683**DCL     13165<<ASSIGN  13165>>ASSIGN  13169>>ASSIGN  13486>>ASSIGN
B_NUMBER_OF_BUFFERS
     12174**DCL     13169>>ASSIGN  13169>>ASSIGN  13169>>ASSIGN  13438>>ASSIGN  13439>>ASSIGN  13445>>DOINDEX
     13465>>DOINDEX
B_NUMBER_OF_SECTIONS
     12173**DCL     13169>>ASSIGN  13444>>ASSIGN  13465>>DOINDEX
B_PROGRAM_PAGE_SIZE
     11546**DCL     13169>>ASSIGN  13449>>ASSIGN
B_RELOCATION_PAGE_SIZE
     11531**DCL     13169>>ASSIGN  13453>>ASSIGN
B_RNAME_BASE$
     10852**DCL     13367<<ASSIGN
B_RNAME_COUNT
     10855**DCL     13371<<ASSIGN
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:103  
B_RNAME_CUR$
     10853**DCL     10829--IMP-PTR 13368<<ASSIGN
B_RNAME_END$
     10854**DCL     13370<<ASSIGN
B_RNAME_PAGE
     10856**DCL     13372<<ASSIGN
B_RNAME_PAGE_SIZE
     10858**DCL     13169>>ASSIGN  13369>>ASSIGN
B_SDEF_BASE$
     11280**DCL     13402<<ASSIGN
B_SDEF_COUNT
     11283**DCL     13406<<ASSIGN
B_SDEF_CUR$
     11281**DCL     11215--IMP-PTR 13403<<ASSIGN
B_SDEF_END$
     11282**DCL     13405<<ASSIGN
B_SDEF_PAGE
     11284**DCL     13407<<ASSIGN
B_SDEF_PAGE_SIZE
     11286**DCL     13161<<ASSIGN  13161>>ASSIGN  13169>>ASSIGN  13404>>ASSIGN
B_SECTION_BASE$
     10991**DCL     13376<<ASSIGN
B_SECTION_COUNT
     10994**DCL     13380<<ASSIGN
B_SECTION_CUR$
     10992**DCL     10921--IMP-PTR 13377<<ASSIGN
B_SECTION_END$
     10993**DCL     13379<<ASSIGN
B_SECTION_PAGE_SIZE
     10996**DCL     13158<<ASSIGN  13158>>ASSIGN  13169>>ASSIGN  13378>>ASSIGN
B_SEGDEF_BASE$
     11431**DCL     13420<<ASSIGN
B_SEGDEF_COUNT
     11434**DCL     13424<<ASSIGN
B_SEGDEF_CUR$
     11432**DCL     11365--IMP-PTR 13421<<ASSIGN
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:104  
B_SEGDEF_END$
     11433**DCL     13423<<ASSIGN
B_SEGDEF_PAGE
     11435**DCL     13425<<ASSIGN
B_SEGDEF_PAGE_SIZE
     11437**DCL     13163<<ASSIGN  13163>>ASSIGN  13169>>ASSIGN  13422>>ASSIGN
B_SEGREF_BASE$
     11489**DCL     13429<<ASSIGN
B_SEGREF_COUNT
     11492**DCL     13433<<ASSIGN
B_SEGREF_CUR$
     11490**DCL     11461--IMP-PTR 13430<<ASSIGN
B_SEGREF_END$
     11491**DCL     13432<<ASSIGN
B_SEGREF_PAGE
     11493**DCL     13434<<ASSIGN
B_SEGREF_PAGE_SIZE
     11495**DCL     13164<<ASSIGN  13164>>ASSIGN  13169>>ASSIGN  13431>>ASSIGN
B_SREF_BASE$
     11335**DCL     13411<<ASSIGN
B_SREF_COUNT
     11338**DCL     13415<<ASSIGN
B_SREF_CUR$
     11336**DCL     11310--IMP-PTR 13412<<ASSIGN
B_SREF_END$
     11337**DCL     13414<<ASSIGN
B_SREF_PAGE
     11339**DCL     13416<<ASSIGN
B_SREF_PAGE_SIZE
     11341**DCL     13162<<ASSIGN  13162>>ASSIGN  13169>>ASSIGN  13413>>ASSIGN
B_TRUST_ME
     12197**DCL     13532<<ASSIGN  13535<<ASSIGN
B_VREBL_BASE$
     12129**DCL     13511<<ASSIGN
B_VREBL_COUNT
     12132**DCL     13515<<ASSIGN
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:105  
B_VREBL_CUR$
     12130**DCL     11954--IMP-PTR 13512<<ASSIGN
B_VREBL_END$
     12131**DCL     13514<<ASSIGN
B_VREBL_PAGE
     12133**DCL     13516<<ASSIGN
B_VREBL_PAGE_SIZE
     12135**DCL     13168<<ASSIGN  13168>>ASSIGN  13169>>ASSIGN  13513>>ASSIGN
CHAR_SIZE
     13023**DCL     13046--IMP-SIZ 13203<<ASSIGN  13204>>ASSIGN
ERROR
     12995**DCL     13569<<ASSIGN  13570<>CALL
ERR_LRU
     13567**LABEL   13440--CALLALT 13455--CALLALT
FPT_UTS
     12930**DCL     13210<<ASSIGN  13212<>CALL
FPT_UTS.TSTAMP_
     12933**DCL     13211<<ASSIGN
FPT_UTS_BASE
     12911**DCL     13210>>ASSIGN
FPT_UTS_BASE.V
     12915**DCL     12911--DCLINIT
I
     12203**DCL     13445<<DOINDEX 13446>>ASSIGN  13447>>ASSIGN  13448>>ASSIGN  13451>>ASSIGN  13452>>ASSIGN
     13456>>ASSIGN  13457>>ASSIGN  13458>>ASSIGN  13459>>ASSIGN  13465<<DOINDEX 13466>>ASSIGN  13467>>ASSIGN
     13468>>ASSIGN  13469>>ASSIGN  13471>>ASSIGN  13472>>ASSIGN  13474>>ASSIGN
LRU_VECTOR
     12171**DCL     13436<<ASSIGN  13438<<ASSIGN  13440<>CALL    13455<>CALL
M$GDS
      5773**DCL-ENT 13198--CALL
M$TIME
      5805**DCL-ENT 13212--CALL
OU_CLEAR
     13045**DCL     13204<<ASSIGN
OU_GDS_ERROR
     13533**LABEL   13198--CALLALT
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:106  
OU_SEGMENT_SIZE
     13021**DCL     13169<<ASSIGN  13195>>ASSIGN  13196>>ASSIGN  13203>>ASSIGN
OU_WORK$
     13022**DCL     10666--IMP-PTR 10698--IMP-PTR 10730--IMP-PTR 12405--IMP-PTR 12501--IMP-PTR 12565--IMP-PTR
     12598--IMP-PTR 12632--IMP-PTR 12704--IMP-PTR 12776--IMP-PTR 12863--IMP-PTR 13045--IMP-PTR 13199<<ASSIGN
     13204>>ASSIGN  13219>>ASSIGN  13220>>ASSIGN  13221>>ASSIGN  13222>>ASSIGN  13223>>ASSIGN  13224<<ASSIGN
     13224>>ASSIGN  13226>>ASSIGN  13227>>ASSIGN  13228>>ASSIGN  13229<<ASSIGN  13229>>ASSIGN  13231>>ASSIGN
     13232<<ASSIGN  13232>>ASSIGN  13239>>ASSIGN  13240<<ASSIGN  13240>>ASSIGN  13269<<ASSIGN  13269>>ASSIGN
     13270>>ASSIGN  13271>>ASSIGN  13272>>ASSIGN  13272>>ASSIGN  13273>>ASSIGN  13274<<ASSIGN  13274>>ASSIGN
     13276>>ASSIGN  13277>>ASSIGN  13278>>ASSIGN  13278>>ASSIGN  13279>>ASSIGN  13280>>ASSIGN  13281>>ASSIGN
     13282<<ASSIGN  13282>>ASSIGN  13284>>ASSIGN  13285>>ASSIGN  13286>>ASSIGN  13286>>ASSIGN  13287>>ASSIGN
     13288>>ASSIGN  13289<<ASSIGN  13289>>ASSIGN  13291>>ASSIGN  13292>>ASSIGN  13294>>ASSIGN  13295>>ASSIGN
     13296<<ASSIGN  13296>>ASSIGN  13298>>ASSIGN  13299>>ASSIGN  13300>>ASSIGN  13301>>ASSIGN  13302<<ASSIGN
     13302>>ASSIGN  13304>>ASSIGN  13305>>ASSIGN  13306>>ASSIGN  13306>>ASSIGN  13307>>ASSIGN  13308>>ASSIGN
     13309<<ASSIGN  13309>>ASSIGN  13311>>ASSIGN  13312>>ASSIGN  13313>>ASSIGN  13313>>ASSIGN  13314>>ASSIGN
     13315>>ASSIGN  13316<<ASSIGN  13316>>ASSIGN  13318>>ASSIGN  13319>>ASSIGN  13320>>ASSIGN  13320>>ASSIGN
     13321>>ASSIGN  13322<<ASSIGN  13322>>ASSIGN  13358>>ASSIGN  13359>>ASSIGN  13360<<ASSIGN  13360>>ASSIGN
     13361>>ASSIGN  13367>>ASSIGN  13368>>ASSIGN  13369<<ASSIGN  13369>>ASSIGN  13370>>ASSIGN  13376>>ASSIGN
     13377>>ASSIGN  13378<<ASSIGN  13378>>ASSIGN  13379>>ASSIGN  13384>>ASSIGN  13385>>ASSIGN  13386<<ASSIGN
     13386>>ASSIGN  13387>>ASSIGN  13393>>ASSIGN  13394>>ASSIGN  13395<<ASSIGN  13395>>ASSIGN  13396>>ASSIGN
     13402>>ASSIGN  13403>>ASSIGN  13404<<ASSIGN  13404>>ASSIGN  13405>>ASSIGN  13411>>ASSIGN  13412>>ASSIGN
     13413<<ASSIGN  13413>>ASSIGN  13414>>ASSIGN  13420>>ASSIGN  13421>>ASSIGN  13422<<ASSIGN  13422>>ASSIGN
     13423>>ASSIGN  13429>>ASSIGN  13430>>ASSIGN  13431<<ASSIGN  13431>>ASSIGN  13432>>ASSIGN  13436>>ASSIGN
     13439<<ASSIGN  13439>>ASSIGN  13443>>ASSIGN  13444<<ASSIGN  13444>>ASSIGN  13447>>ASSIGN  13449<<ASSIGN
     13449>>ASSIGN  13452>>ASSIGN  13453<<ASSIGN  13453>>ASSIGN  13480>>ASSIGN  13481<<ASSIGN  13481>>ASSIGN
     13482>>ASSIGN  13483<<ASSIGN  13483>>ASSIGN  13484>>ASSIGN  13485>>ASSIGN  13486<<ASSIGN  13486>>ASSIGN
     13488>>ASSIGN  13493>>ASSIGN  13494>>ASSIGN  13495<<ASSIGN  13495>>ASSIGN  13496>>ASSIGN  13502>>ASSIGN
     13503>>ASSIGN  13504<<ASSIGN  13504>>ASSIGN  13505>>ASSIGN  13511>>ASSIGN  13512>>ASSIGN  13513<<ASSIGN
     13513>>ASSIGN  13514>>ASSIGN  13520>>ASSIGN  13521>>ASSIGN  13522<<ASSIGN  13522>>ASSIGN  13523>>ASSIGN
PTR2_LRU$
     12202**DCL     13455<>CALL    13456>>ASSIGN  13457>>ASSIGN
PTR2_SECTION_ARRAY$
     12172**DCL     12175--IMP-PTR 13443<<ASSIGN  13446>>ASSIGN  13447>>ASSIGN  13448>>ASSIGN  13451>>ASSIGN
     13452>>ASSIGN  13457>>ASSIGN  13458>>ASSIGN  13459>>ASSIGN  13466>>ASSIGN  13467>>ASSIGN  13468>>ASSIGN
     13469>>ASSIGN  13471>>ASSIGN  13472>>ASSIGN  13474>>ASSIGN
P_ASL_NAME
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:107  
     10453**DCL       223--PROC    13254--IF
P_ASL_NAME.SIZE
     10454**DCL     10455--IMP-SIZ 13256>>ASSIGN  13257>>ASSIGN
P_ASL_NAME.TEXT
     10455**DCL     13257>>ASSIGN
P_COMPILER_ID
     10442**DCL       223--PROC    13338>>ASSIGN
P_ERROR_ROUTINE
     10450**DCL       223--PROC    13148--IF      13149>>ASSIGN
P_LIBRARY_NAME
     10446**DCL       223--PROC    13242--IF
P_LIBRARY_NAME.SIZE
     10447**DCL     10448--IMP-SIZ 13244>>ASSIGN  13245>>ASSIGN
P_LIBRARY_NAME.TEXT
     10448**DCL     13245>>ASSIGN
P_OU_CLOSE_REQUIRED_FLAG
     10440**DCL       223--PROC    13327>>ASSIGN
P_OU_DCB_NUMBER
     10439**DCL       223--PROC    13264>>ASSIGN
P_OU_UTS
     10449**DCL       223--PROC    13208--IF      13215>>ASSIGN
P_SCHEMA_REQUIRED_FLAG
     10441**DCL       223--PROC    13334>>ASSIGN
P_TRUST_ME
     10452**DCL       223--PROC    13533--IF      13535>>ASSIGN
P_VERSION
     10443**DCL       223--PROC    13339>>ASSIGN
P_WORDSIZE
     10451**DCL       223--PROC    13343--IF      13344>>ASSIGN
SECTION_ARRAY
     12175**DCL     13169--ASSIGN  13444--ASSIGN
SECTION_ARRAY.BUF_OFFSET
     12182**DCL     13448<<ASSIGN  13469<<ASSIGN
SECTION_ARRAY.MAX_PROG_RELOC
     12178**DCL     13458<<ASSIGN  13467<<ASSIGN
SECTION_ARRAY.PROGRAM_CURS
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:108  
     12176**DCL     13446<<ASSIGN  13466<<ASSIGN
SECTION_ARRAY.PROG_WORD_COUNT
     12183**DCL     13459<<ASSIGN
SECTION_ARRAY.PTR2_LRU$
     12179**DCL     13457<<ASSIGN  13474<<ASSIGN
SECTION_ARRAY.PTR2_PROGRAM_BUF$
     12180**DCL     13447<<ASSIGN  13468<<ASSIGN
SECTION_ARRAY.PTR2_RELOCATION_BUF$
     12181**DCL     13452<<ASSIGN  13472<<ASSIGN
SECTION_ARRAY.RELOCATION_CURS
     12177**DCL     13451<<ASSIGN  13471<<ASSIGN
XUM$CREATE_NEW_ITEM
     10362**DCL-ENT 13455--CALL
XUM$INIT_WORKSPACE
     10361**DCL-ENT 13440--CALL
XUO$BUFINIT
     10359**DCL-ENT 13142--CALL
XUO$OUOPEN
     12959**DCL-ENT 13540--CALL
XUO$OUROOTDATA
     12960**DCL-ENT 13139--CALL
XUO_CHARSIZE
     13080**DCL     13348<<ASSIGN  13350<<ASSIGN
XUO_CLOSE_REQUIRED
     13071**DCL     13327<<ASSIGN
XUO_COMPILER_ID
     13075**DCL     13338<<ASSIGN
XUO_ERROR_ROUTINE
     13073**DCL     13149<<ASSIGN  13151<<ASSIGN  13567>>IF      13570>>CALL
XUO_HEAD_WRITE
     12501**DCL     13277<<ASSIGN
XUO_HEAD_WRITE.BUF_
     12501**DCL     13280<<ASSIGN
XUO_HEAD_WRITE.KEY_
     12501**DCL     13281<<ASSIGN
XUO_HEAD_WRITE.STATION_
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:109  
     12503**DCL     12503--REDEF
XUO_HEAD_WRITE.V
     12504**DCL     13278--ASSIGN
XUO_HEAD_WRITE.V.DCB#
     12504**DCL     13279<<ASSIGN
XUO_HEAD_WRITE.V.DVBYTE.VFC#
     12510**DCL     12510--REDEF
XUO_HEAD_WRITE.V_
     12501**DCL     13278<<ASSIGN
XUO_HEAD_WRITE$
     12452**DCL     13276<<ASSIGN
XUO_HEAD_WRITE_BASE
     12470**DCL     13277>>ASSIGN  13282--ASSIGN
XUO_HEAD_WRITE_BASE.STATION_
     12472**DCL     12472--REDEF
XUO_HEAD_WRITE_BASE.V
     12473**DCL     12470--DCLINIT
XUO_HEAD_WRITE_BASE.V.DVBYTE.VFC#
     12479**DCL     12479--REDEF
XUO_MAXIMUM_SEVERITY
     13081**DCL     13351<<ASSIGN
XUO_MOST_RECENT_SECTION
     13082**DCL     13352<<ASSIGN
XUO_OU_CLOSE
     12863**DCL     13169--ASSIGN  13319<<ASSIGN  13322--ASSIGN
XUO_OU_CLOSE.SN_
     12863**DCL     12863--REDEF
XUO_OU_CLOSE.UTL_
     12864**DCL     12864--REDEF
XUO_OU_CLOSE.V
     12868**DCL     13320--ASSIGN
XUO_OU_CLOSE.V.DCB#
     12869**DCL     13321<<ASSIGN
XUO_OU_CLOSE.V.EXPIRE#
     12878**DCL     12878--REDEF
XUO_OU_CLOSE.V.TYPE#
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:110  
     12876**DCL     12876--REDEF
XUO_OU_CLOSE.V.XTNSIZE#
     12873**DCL     12873--REDEF   12875--REDEF
XUO_OU_CLOSE.V_
     12863**DCL     13320<<ASSIGN
XUO_OU_CLOSE$
     12793**DCL     13318<<ASSIGN
XUO_OU_CLOSE_BASE
     12820**DCL     13319>>ASSIGN
XUO_OU_CLOSE_BASE.SN_
     12820**DCL     12820--REDEF
XUO_OU_CLOSE_BASE.UTL_
     12821**DCL     12821--REDEF
XUO_OU_CLOSE_BASE.V
     12825**DCL     12820--DCLINIT
XUO_OU_CLOSE_BASE.V.EXPIRE#
     12835**DCL     12835--REDEF
XUO_OU_CLOSE_BASE.V.TYPE#
     12833**DCL     12833--REDEF
XUO_OU_CLOSE_BASE.V.XTNSIZE#
     12830**DCL     12830--REDEF   12832--REDEF
XUO_OU_DCB_NUMBER
     13070**DCL     13264<<ASSIGN  13273>>ASSIGN  13279>>ASSIGN  13287>>ASSIGN  13307>>ASSIGN  13314>>ASSIGN
     13321>>ASSIGN
XUO_OU_GDS_FDS
     12894**DCL     13198<>CALL
XUO_OU_GDS_FDS.RESULTS_
     12894**DCL     13194<<ASSIGN
XUO_OU_GDS_FDS.V.SEGSIZE#
     12897**DCL     13195<<ASSIGN
XUO_OU_GDS_RESULTS.LOGSIZE#
     13107**DCL     13196<<ASSIGN  13197>>ASSIGN
XUO_OU_GDS_RESULTS.REALSIZE#
     13109**DCL     13197<<ASSIGN
XUO_OU_GDS_RESULTS.VECT
     13095**DCL     13194--ASSIGN
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:111  
XUO_OU_GDS_RESULTS.VECT.PTR$
     13101**DCL     13102--REDEF   13199>>ASSIGN
XUO_OU_OPEN
     12405**DCL     13169--ASSIGN  13271<<ASSIGN
XUO_OU_OPEN.ACSVEH_
     12407**DCL     12408--REDEF
XUO_OU_OPEN.ALTKEYS_
     12413**DCL     12414--REDEF   12414--REDEF
XUO_OU_OPEN.HDR_
     12412**DCL     12413--REDEF
XUO_OU_OPEN.TAB_
     12411**DCL     12412--REDEF
XUO_OU_OPEN.UHL_
     12405**DCL     12406--REDEF   12406--REDEF
XUO_OU_OPEN.V
     12414**DCL     13272--ASSIGN
XUO_OU_OPEN.V.DCB#
     12414**DCL     13273<<ASSIGN
XUO_OU_OPEN.V.FSN#
     12445**DCL     12445--REDEF   12445--REDEF
XUO_OU_OPEN.V_
     12405**DCL     13272<<ASSIGN
XUO_OU_OPEN.WSN_
     12411**DCL     12411--REDEF
XUO_OU_OPEN$
     12222**DCL     13270<<ASSIGN
XUO_OU_OPEN_BASE
     12293**DCL     13271>>ASSIGN  13274--ASSIGN
XUO_OU_OPEN_BASE.ACSVEH_
     12295**DCL     12296--REDEF
XUO_OU_OPEN_BASE.ALTKEYS_
     12301**DCL     12302--REDEF   12302--REDEF
XUO_OU_OPEN_BASE.HDR_
     12300**DCL     12301--REDEF
XUO_OU_OPEN_BASE.TAB_
     12299**DCL     12300--REDEF
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:112  
XUO_OU_OPEN_BASE.UHL_
     12293**DCL     12294--REDEF   12294--REDEF
XUO_OU_OPEN_BASE.V
     12302**DCL     12293--DCLINIT
XUO_OU_OPEN_BASE.V.FSN#
     12333**DCL     12333--REDEF   12333--REDEF
XUO_OU_OPEN_BASE.WSN_
     12299**DCL     12299--REDEF
XUO_OU_UTS
     13069**DCL     13211--ASSIGN  13215<<ASSIGN  13217>>ASSIGN  13222>>ASSIGN
XUO_OU_WRITE
     12565**DCL     13285<<ASSIGN  13292>>ASSIGN  13295--ASSIGN  13299>>ASSIGN  13301--ASSIGN
XUO_OU_WRITE.KEY_
     12565**DCL     13288<<ASSIGN
XUO_OU_WRITE.STATION_
     12567**DCL     12567--REDEF
XUO_OU_WRITE.V
     12568**DCL     13286--ASSIGN
XUO_OU_WRITE.V.DCB#
     12568**DCL     13287<<ASSIGN
XUO_OU_WRITE.V.DVBYTE.VFC#
     12574**DCL     12574--REDEF
XUO_OU_WRITE.V_
     12565**DCL     13286<<ASSIGN
XUO_OU_WRITE$
     12516**DCL     13284<<ASSIGN  13292>>ASSIGN  13295>>ASSIGN  13299>>ASSIGN  13301>>ASSIGN
XUO_OU_WRITE_BASE
     12534**DCL     13169--ASSIGN  13285>>ASSIGN  13289--ASSIGN
XUO_OU_WRITE_BASE.STATION_
     12536**DCL     12536--REDEF
XUO_OU_WRITE_BASE.V
     12537**DCL     12534--DCLINIT
XUO_OU_WRITE_BASE.V.DVBYTE.VFC#
     12543**DCL     12543--REDEF
XUO_OU_WRITE_REQUIRED
     13072**DCL     13328<<ASSIGN
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:113  
XUO_PROGRAM_WRITE
     12598**DCL     13292<<ASSIGN  13296--ASSIGN
XUO_PROGRAM_WRITE.BUF_
     12598**DCL     13295<<ASSIGN
XUO_PROGRAM_WRITE.KEY_
     12598**DCL     13294<<ASSIGN
XUO_PROGRAM_WRITE.STATION_
     12600**DCL     12600--REDEF
XUO_PROGRAM_WRITE.V.DVBYTE.VFC#
     12607**DCL     12607--REDEF
XUO_PROGRAM_WRITE$
     12580**DCL     13291<<ASSIGN
XUO_RELOCATION_READ
     12704**DCL     13305<<ASSIGN  13309--ASSIGN
XUO_RELOCATION_READ.KEY_
     12704**DCL     13308<<ASSIGN
XUO_RELOCATION_READ.STATION_
     12707**DCL     12708--REDEF
XUO_RELOCATION_READ.V
     12708**DCL     13306--ASSIGN
XUO_RELOCATION_READ.V.DCB#
     12708**DCL     13307<<ASSIGN
XUO_RELOCATION_READ.V.DVBYTE.REREAD#
     12719**DCL     12719--REDEF
XUO_RELOCATION_READ.V.INDX#
     12717**DCL     12717--REDEF
XUO_RELOCATION_READ.V_
     12704**DCL     13306<<ASSIGN
XUO_RELOCATION_READ$
     12647**DCL     13304<<ASSIGN
XUO_RELOCATION_READ_BASE
     12665**DCL     13169--ASSIGN  13305>>ASSIGN
XUO_RELOCATION_READ_BASE.STATION_
     12668**DCL     12669--REDEF
XUO_RELOCATION_READ_BASE.V
     12669**DCL     12665--DCLINIT
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:114  
XUO_RELOCATION_READ_BASE.V.DVBYTE.REREAD#
     12680**DCL     12680--REDEF
XUO_RELOCATION_READ_BASE.V.INDX#
     12678**DCL     12678--REDEF
XUO_RELOCATION_REWRITE
     12776**DCL     13312<<ASSIGN  13316--ASSIGN
XUO_RELOCATION_REWRITE.KEY_
     12776**DCL     13315<<ASSIGN
XUO_RELOCATION_REWRITE.STATION_
     12778**DCL     12778--REDEF
XUO_RELOCATION_REWRITE.V
     12779**DCL     13313--ASSIGN
XUO_RELOCATION_REWRITE.V.DCB#
     12779**DCL     13314<<ASSIGN
XUO_RELOCATION_REWRITE.V.DVBYTE.VFC#
     12785**DCL     12785--REDEF
XUO_RELOCATION_REWRITE.V_
     12776**DCL     13313<<ASSIGN
XUO_RELOCATION_REWRITE$
     12727**DCL     13311<<ASSIGN
XUO_RELOCATION_REWRITE_BASE
     12745**DCL     13312>>ASSIGN
XUO_RELOCATION_REWRITE_BASE.STATION_
     12747**DCL     12747--REDEF
XUO_RELOCATION_REWRITE_BASE.V
     12748**DCL     12745--DCLINIT
XUO_RELOCATION_REWRITE_BASE.V.DVBYTE.VFC#
     12754**DCL     12754--REDEF
XUO_RELOCATION_WRITE
     12632**DCL     13299<<ASSIGN  13302--ASSIGN
XUO_RELOCATION_WRITE.BUF_
     12632**DCL     13301<<ASSIGN
XUO_RELOCATION_WRITE.KEY_
     12632**DCL     13300<<ASSIGN
XUO_RELOCATION_WRITE.STATION_
     12634**DCL     12634--REDEF
PL6.E3A0      #001=XUO$OUINIT File=XUO$INIT.:E05TSI                              WED 07/30/97 09:30 Page:115  
XUO_RELOCATION_WRITE.V.DVBYTE.VFC#
     12641**DCL     12641--REDEF
XUO_RELOCATION_WRITE$
     12614**DCL     13298<<ASSIGN
XUO_SCHEMA_REQUIRED
     13074**DCL     13334<<ASSIGN
XUO_VERSION_NUMBER
     13076**DCL     13339<<ASSIGN
XUO_WORDSIZE
     13079**DCL     13344<<ASSIGN  13346<<ASSIGN  13347>>IF

PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:116  
      835        1        /*M*     XUO$BUFINIT    --   THIS MODULE WILL CHANGE DEFAULT BUFFER SIZES*/
      836        2        /*T***********************************************************/
      837        3        /*T*                                                         */
      838        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      839        5        /*T*                                                         */
      840        6        /*T***********************************************************/
      841        7        /*P*
      842        8
      843        9
      844       10        NAME:  XUO$BUFINIT
      845       11        XUO$BUFINIT --Change default buffer sizes
      846       12
      847       13        PURPOSE:  To change the default buffer sizes.
      848       14
      849       15        DESCRIPTION:  This routine allows the user to change the
      850       16             default buffer sizes.  The routine needs to be called
      851       17             only if the default sizes are to be changed and should
      852       18             be called before XUO$OUINIT.  All parameters are
      853       19             optional and if not specified, the size of the buffer
      854       20             will be the default.  With the exception of several
      855       21             records, all parameters are in terms of number of entries
      856       22             desired per buffer.  In the case of name records,
      857       23             program records, and relocation records, the parameter
      858       24             passed represents the number of words to be reserved
      859       25             for the buffer.
      860       26
      861       27        */
      862       28
      863       29        /*D*
      864       30        CALL XUO$BUFINIT (Defined Names Word Count,
      865       31                          Referenced Names Word Count,
      866       32                          Section Entry Count,
      867       33                          Procedure Definition Entry Count,
      868       34                          Procedure Reference Entry Count,
      869       35                          Data Definition Entry Count,
      870       36                          Data Reference Entry Count,
      871       37                          Segment Definition Entry Count,
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:117  
      872       38                          Segment Reference Entry Count,
      873       39                          Program Buffer Size,
      874       40                          Relocation Buffer Size,
      875       41                          Logical Block Entry Count,
      876       42                          Internal Entries Entry Count,
      877       43                          Executable Statements Entry Count,
      878       44                          Debug Variable Entry Count,
      879       45                          Debug Name Word Count,
      880       46                         *Number of Buffers)
      881       47
      882       48        INPUT:
      883       49
      884       50            Defined Names Word Count  UBIN ALIGNED
      885       51                                 Represents the page size in words of
      886       52                                 the Externally Defined Names Record
      887       53                                 (type 1).  Default is 100, Minimum is 8.
      888       54            Referenced Names Word Count UBIN ALIGNED
      889       55                                  Represents the page size in words of
      890       56                                  the Externally Referenced Names Record
      891       57                                  (type 2).  Default is 100, Minimum is 8.
      892       58            Section Entry Count  UBIN ALIGNED
      893       59                                  Represents the total number of entries
      894       60                                  in the Section Record (type 3).
      895       61                                  NOTE:  Since this record is not paged,
      896       62                                  the maximum number of section entries
      897       63                                  that is expected to be generated must
      898       64                                  be specified.  Default is 30.
      899       65            Procedure Definition Entry Count  UBIN ALIGNED
      900       66                                  Represents the number of entries in
      901       67                                  the External Procedure Definition
      902       68                                  Record (type 4).  Default is 10.
      903       69            Procedure Reference Entry Count  UBIN ALIGNED
      904       70                                  Represents the number of entries in
      905       71                                  the External Procedure Reference
      906       72                                  Record (type 5).  Default is 10.
      907       73            Data Definition Entry Count  UBIN ALIGNED
      908       74                                  Represents the number of entries in
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:118  
      909       75                                  the External Data Definition Record
      910       76                                  (type 6).  Default is 10.
      911       77            Data Reference Entry Count  UBIN ALIGNED
      912       78                                 Represents the number of entries in
      913       79                                 the External Data Reference Record
      914       80                                 (type 7).  Default is 30.
      915       81            Segment Definition Entry Count  UBIN ALIGNED
      916       82                                 Represents the number of entries in
      917       83                                 the External Segment Definition
      918       84                                 Record (type 8).  Default is 1.
      919       85            Segment Reference Entry Count UBIN ALIGNED
      920       86                                 Represents the number of entries in
      921       87                                 the External Segment Reference
      922       88                                 Record (type 9).  Default is 3.
      923       89            Program Buffer Size  UBIN ALIGNED
      924       90
      925       91            Relocation Buffer Size  UBIN ALIGNED
      926       92
      927       93            Logical Block Entry Count  UBIN ALIGNED
      928       94                                 Represents the total number of
      929       95                                 entries in the Logical Block Record
      930       96                                 (type 11).
      931       97                                 NOTE:  Since this record is not
      932       98                                 paged, the maximum number of logical
      933       99                                 block entries desired must be specified.
      934      100                                 Two header entries are required in
      935      101                                 addition to the normal count.
      936      102                                 Default is 3, minimum is 3.
      937      103            Internal Entries Entry Count UBIN ALIGNED
      938      104                                 Represents the number of entries in
      939      105                                 the Internal Entry Debug Record
      940      106                                 (type 12).  Default is 1.
      941      107            Executable Statements Entry Count UBIN ALIGNED
      942      108                                 Represents the number of entries in
      943      109                                 the Executable Statements Debug
      944      110                                 Record (type 13).  Default is 341.
      945      111            Debug Variable Entry Count UBIN ALIGNED
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:119  
      946      112                                  Represents the number of entries in
      947      113                                  the Variable Debug Record (type 14)
      948      114                                  Default is 204.
      949      115            Debug Name Word Count UBIN ALIGNED
      950      116                                  Represents the number of entries in
      951      117                                  the Debug Names Record (type 15).
      952      118                                  Default is 1024, minimum is 8.
      953      119            Number of Buffers  UBIN ALIGNED
      954      120                                  Represents the number of sets of buffers
      955      121                                  to be used.  If calls to XUO$FRWD_REF are
      956      122                                  intermixed with calls to XUO$PRGM and
      957      123                                  XUO$RELOC, then a minimum of two sets of
      958      124                                  buffers must be specified.  Default is one.
      959      125
      960      126        OUTPUT:   None
      961      127
      962      128        B$OBJECT REFERENCE:
      963      129             B$HEADKEY
      964      130             B$OUKEY
      965      131             B$PRGKEY
      966      132             B$RELKEY
      967      133
      968      134        */
      969      135        /*B*
      970      136        GLOBAL DATA:
      971      137            B_DNAME_PAGE_SIZE
      972      138            B_RNAME_PAGE_SIZE
      973      139            B_SECTION_PAGE_SIZE
      974      140            B_EDEF_PAGE_SIZE
      975      141            B_EREF_PAGE_SIZE
      976      142            B_SDEF_PAGE_SIZE
      977      143            B_SREF_PAGE_SIZE
      978      144            B_SEGDEF_PAGE_SIZE
      979      145            B_SEGREF_PAGE_SIZE
      980      146            B_PROGRAM_PAGE_SIZE
      981      147            B_RELOCATION_PAGE_SIZE
      982      148            B_LOGBLK_PAGE_SIZE
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:120  
      983      149            B_INTNTRY_PAGE_SIZE
      984      150            B_EXST_PAGE_SIZE
      985      151            B_VREBL_PAGE_SIZE
      986      152            B_DBGNAME_PAGE_SIZE
      987      153            B_NUMBER_OF_BUFFERS
      988      154
      989      155        INTERFACE:  none
      990      156
      991      157
      992      158
      993      159        */
      994      160        XUO$BUFINIT: PROC (P_DNAME_WORD_COUNT,
      995      161               P_RNAME_WORD_COUNT,
      996      162               P_SECTION_ENTRY_COUNT,
      997      163               P_EDEF_ENTRY_COUNT,
      998      164               P_EREF_ENTRY_COUNT,
      999      165               P_SDEF_ENTRY_COUNT,
     1000      166               P_SREF_ENTRY_COUNT,
     1001      167               P_SEGDEF_ENTRY_COUNT,
     1002      168               P_SEGREF_ENTRY_COUNT,
     1003      169               P_PROGRAM_WORD_COUNT,
     1004      170               P_RELOCATION_WORD_COUNT,
     1005      171               P_LOGBLK_ENTRY_COUNT,
     1006      172               P_INTNTRY_ENTRY_COUNT,
     1007      173               P_EXST_ENTRY_COUNT,
     1008      174               P_VREBL_ENTRY_COUNT,
     1009      175               P_DBGNAME_WORD_COUNT,
     1010      176               P_NUMBER_OF_BUFFERS);
     1011      177         /**/
     1012      178        %INCLUDE ZVA_SYSTEM_FILE;
     1013     6429            %PAGE(ARG=INCLUDES);

              6442    1   /*******************************************************************************
              6443    1   *                                                                              *
              6444    1   *        INCLUDES              INCLUDES                                            *
              6445    1   *                                                                              *
              6446    1   *******************************************************************************/
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:121  

     1014     6450        %INCLUDE XUO$OBJ_C;
     1015     6860            %PAGE (ARG=PARAMETERS);

              6873    1   /*******************************************************************************
              6874    1   *                                                                              *
              6875    1   *        PARAMETERS              PARAMETERS                                        *
              6876    1   *                                                                              *
              6877    1   *******************************************************************************/

     1016     6881    1   DCL P_DNAME_WORD_COUNT UBIN;
     1017     6882    1   DCL P_RNAME_WORD_COUNT UBIN;
     1018     6883    1   DCL P_SECTION_ENTRY_COUNT UBIN;
     1019     6884    1   DCL P_EDEF_ENTRY_COUNT UBIN;
     1020     6885    1   DCL P_EREF_ENTRY_COUNT UBIN;
     1021     6886    1   DCL P_SDEF_ENTRY_COUNT UBIN;
     1022     6887    1   DCL P_SREF_ENTRY_COUNT UBIN;
     1023     6888    1   DCL P_SEGDEF_ENTRY_COUNT UBIN;
     1024     6889    1   DCL P_SEGREF_ENTRY_COUNT UBIN;
     1025     6890    1   DCL P_PROGRAM_WORD_COUNT UBIN;
     1026     6891    1   DCL P_RELOCATION_WORD_COUNT UBIN;
     1027     6892    1   DCL P_LOGBLK_ENTRY_COUNT UBIN;
     1028     6893    1   DCL P_INTNTRY_ENTRY_COUNT UBIN;
     1029     6894    1   DCL P_EXST_ENTRY_COUNT UBIN;
     1030     6895    1   DCL P_VREBL_ENTRY_COUNT UBIN;
     1031     6896    1   DCL P_DBGNAME_WORD_COUNT UBIN;
     1032     6897    1   DCL P_NUMBER_OF_BUFFERS UBIN;
     1033     6898        %PAGE (ARG= RECORD POINTERS);

              6911    1   /*******************************************************************************
              6912    1   *                                                                              *
              6913    1   *        RECORD POINTERS              RECORD POINTERS                              *
              6914    1   *                                                                              *
              6915    1   *******************************************************************************/

     1034     6919        %B_DNAME_POINTERS;
     1035     6939        %B_RNAME_POINTERS;
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:122  
     1036     6959        %B_DBGNAME_POINTERS;
     1037     6979        %B_SECTION_POINTERS;
     1038     6998        %B_EDEF_POINTERS;
     1039     7018        %B_EREF_POINTERS;
     1040     7038        %B_SDEF_POINTERS;
     1041     7058        %B_SREF_POINTERS;
     1042     7078        %B_SEGDEF_POINTERS;
     1043     7098        %B_SEGREF_POINTERS;
     1044     7118        %B_PROGRAM_POINTERS;
     1045     7133        %B_RELOCATION_POINTERS;
     1046     7148        %B_LOGBLK_POINTERS;
     1047     7170        %B_INTNTRY_POINTERS;
     1048     7190        %B_EXST_POINTERS;
     1049     7210        %B_VREBL_POINTERS;
     1050     7230        %B_MULTIBUF_VARS;
     1051     7257        %BUFINIT_CALLED;
     1052     7271        %PAGE (ARG=XUO$BUFINIT);

              7284    1   /*******************************************************************************
              7285    1   *                                                                              *
              7286    1   *        XUO$BUFINIT              XUO$BUFINIT                                      *
              7287    1   *                                                                              *
              7288    1   *******************************************************************************/

     1053     7292         /**/
     1054     7293    1       BUFINIT_CALLED = '1'B;
     1055     7294    1       IF ADDR(P_DNAME_WORD_COUNT)~=ADDR(NIL) THEN
     1056     7295    2       DO;
     1057     7296    2           B_DNAME_PAGE_SIZE=MAXIMUM(P_DNAME_WORD_COUNT,8);
     1058     7297    2           END;
     1059     7298    1       ELSE
     1060     7299    1           B_DNAME_PAGE_SIZE=DNAMECOUNT;
     1061     7300         /**/
     1062     7301    1       IF ADDR(P_RNAME_WORD_COUNT)~=ADDR(NIL) THEN
     1063     7302    2       DO;
     1064     7303    2           B_RNAME_PAGE_SIZE=MAXIMUM(P_RNAME_WORD_COUNT,8);
     1065     7304    2           END;
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:123  
     1066     7305    1       ELSE
     1067     7306    1           B_RNAME_PAGE_SIZE=RNAMECOUNT;
     1068     7307         /**/
     1069     7308    1       IF ADDR(P_SECTION_ENTRY_COUNT)~=ADDR(NIL) THEN
     1070     7309    2       DO;
     1071     7310    2           B_SECTION_PAGE_SIZE=MAXIMUM(P_SECTION_ENTRY_COUNT,1);
     1072     7311    2           END;
     1073     7312    1       ELSE
     1074     7313    1           B_SECTION_PAGE_SIZE=SECTIONCOUNT;
     1075     7314    1       B_NUMBER_OF_SECTIONS = B_SECTION_PAGE_SIZE;
     1076     7315         /**/
     1077     7316    1       IF ADDR(P_EDEF_ENTRY_COUNT)~=ADDR(NIL) THEN
     1078     7317    2       DO;
     1079     7318    2           B_EDEF_PAGE_SIZE=MAXIMUM(P_EDEF_ENTRY_COUNT,1);
     1080     7319    2           END;
     1081     7320    1       ELSE
     1082     7321    1           B_EDEF_PAGE_SIZE=EDEFCOUNT;
     1083     7322         /**/
     1084     7323    1       IF ADDR(P_EREF_ENTRY_COUNT)~=ADDR(NIL) THEN
     1085     7324    2       DO;
     1086     7325    2           B_EREF_PAGE_SIZE=MAXIMUM(P_EREF_ENTRY_COUNT,1);
     1087     7326    2           END;
     1088     7327    1       ELSE
     1089     7328    1           B_EREF_PAGE_SIZE=EREFCOUNT;
     1090     7329         /**/
     1091     7330    1       IF ADDR(P_SDEF_ENTRY_COUNT)~=ADDR(NIL) THEN
     1092     7331    2       DO;
     1093     7332    2           B_SDEF_PAGE_SIZE=MAXIMUM(P_SDEF_ENTRY_COUNT,1);
     1094     7333    2           END;
     1095     7334    1       ELSE
     1096     7335    1           B_SDEF_PAGE_SIZE=SDEFCOUNT;
     1097     7336         /**/
     1098     7337    1       IF ADDR(P_SREF_ENTRY_COUNT)~=ADDR(NIL) THEN
     1099     7338    2       DO;
     1100     7339    2           B_SREF_PAGE_SIZE=MAXIMUM(P_SREF_ENTRY_COUNT,1);
     1101     7340    2           END;
     1102     7341    1       ELSE
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:124  
     1103     7342    1           B_SREF_PAGE_SIZE=SREFCOUNT;
     1104     7343         /**/
     1105     7344    1       IF ADDR(P_SEGDEF_ENTRY_COUNT)~=ADDR(NIL) THEN
     1106     7345    2       DO;
     1107     7346    2           B_SEGDEF_PAGE_SIZE=MAXIMUM(P_SEGDEF_ENTRY_COUNT,1);
     1108     7347    2           END;
     1109     7348    1       ELSE
     1110     7349    1           B_SEGDEF_PAGE_SIZE=SEGDEFCOUNT;
     1111     7350         /**/
     1112     7351    1       IF ADDR(P_SEGREF_ENTRY_COUNT)~=ADDR(NIL) THEN
     1113     7352    2       DO;
     1114     7353    2           B_SEGREF_PAGE_SIZE=MAXIMUM(P_SEGREF_ENTRY_COUNT,1);
     1115     7354    2           END;
     1116     7355    1       ELSE
     1117     7356    1           B_SEGREF_PAGE_SIZE=SEGREFCOUNT;
     1118     7357         /**/
     1119     7358    1       IF ADDR(P_PROGRAM_WORD_COUNT)~=ADDR(NIL) THEN
     1120     7359    2       DO;
     1121     7360    2           B_PROGRAM_PAGE_SIZE=MAXIMUM(P_PROGRAM_WORD_COUNT,2);
     1122     7361    2           END;
     1123     7362    1       ELSE
     1124     7363    1           B_PROGRAM_PAGE_SIZE = %PROGRAMCOUNT;
     1125     7364         /**/
     1126     7365    1       IF ADDR(P_RELOCATION_WORD_COUNT)~=ADDR(NIL) THEN
     1127     7366    2       DO;
     1128     7367    2           B_RELOCATION_PAGE_SIZE=MAXIMUM(P_RELOCATION_WORD_COUNT,4);
     1129     7368    2           END;
     1130     7369    1       ELSE
     1131     7370    1           B_RELOCATION_PAGE_SIZE = %RELOCATIONCOUNT;
     1132     7371         /**/
     1133     7372    1       IF ADDR(P_LOGBLK_ENTRY_COUNT)~=ADDR(NIL) THEN
     1134     7373    2       DO;
     1135     7374    2           B_LOGBLK_PAGE_SIZE=MAXIMUM(P_LOGBLK_ENTRY_COUNT,3);
     1136     7375    2           END;
     1137     7376    1       ELSE
     1138     7377    1           B_LOGBLK_PAGE_SIZE=LOGBLKCOUNT;
     1139     7378         /**/
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:125  
     1140     7379    1       IF ADDR(P_INTNTRY_ENTRY_COUNT)~=ADDR(NIL) THEN
     1141     7380    2       DO;
     1142     7381    2           B_INTNTRY_PAGE_SIZE=MAXIMUM(P_INTNTRY_ENTRY_COUNT,1);
     1143     7382    2           END;
     1144     7383    1       ELSE
     1145     7384    1           B_INTNTRY_PAGE_SIZE=INTNTRYCOUNT;
     1146     7385         /**/
     1147     7386    1       IF ADDR(P_EXST_ENTRY_COUNT)~=ADDR(NIL) THEN
     1148     7387    2       DO;
     1149     7388    2           B_EXST_PAGE_SIZE=MAXIMUM(P_EXST_ENTRY_COUNT,1);
     1150     7389    2           END;
     1151     7390    1       ELSE
     1152     7391    1           B_EXST_PAGE_SIZE=EXSTCOUNT;
     1153     7392         /**/
     1154     7393    1       IF ADDR(P_VREBL_ENTRY_COUNT)~=ADDR(NIL) THEN
     1155     7394    2       DO;
     1156     7395    2           B_VREBL_PAGE_SIZE=MAXIMUM(P_VREBL_ENTRY_COUNT,1);
     1157     7396    2           END;
     1158     7397    1       ELSE
     1159     7398    1           B_VREBL_PAGE_SIZE=VREBLCOUNT;
     1160     7399         /**/
     1161     7400    1       IF ADDR(P_DBGNAME_WORD_COUNT)~=ADDR(NIL) THEN
     1162     7401    2       DO;
     1163     7402    2           B_DBGNAME_PAGE_SIZE=MAXIMUM(P_DBGNAME_WORD_COUNT,8);
     1164     7403    2           END;
     1165     7404    1       ELSE
     1166     7405    1           B_DBGNAME_PAGE_SIZE=DBGNAMECOUNT;
     1167     7406         /**/
     1168     7407    1       IF ADDR(P_NUMBER_OF_BUFFERS) ~= ADDR (NIL)
     1169     7408    2       THEN DO;
     1170     7409    2           B_NUMBER_OF_BUFFERS = MAXIMUM (MINIMUM (P_NUMBER_OF_BUFFERS,
     1171     7410    2              B_SECTION_PAGE_SIZE,10),1);
     1172     7411    2           END;
     1173     7412    1       ELSE
     1174     7413    1           B_NUMBER_OF_BUFFERS = 1;
     1175     7414    1       RETURN;
     1176     7415         /**/
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:126  
     1177     7416    1   END XUO$BUFINIT;

PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:127  
--  Include file information  --

   XUO$OBJ_C.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   ZVA_FLAGS.:TOOLE04  is referenced.
   ZVA_SYSTEM_FILE.:TOOLE04  is referenced.
      No diagnostics issued in procedure XUO$BUFINIT.

   Procedure XUO$BUFINIT requires 219 words for executable code.
   Procedure XUO$BUFINIT requires 20 words of local(AUTO) storage.

    No errors detected in file XUO$INIT.:E05TSI    .

PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:128  

 Object Unit name= XUO$BUFINIT                                File name= XUO$INIT.:E05TOU
 UTS= JUL 30 '97 09:32:10.64 WED                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1   Proc  even  none   219    333  XUO$BUFINIT

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     1      0   yes            yes      Std       17  XUO$BUFINIT

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
                       nStd      0 X66_AUTO_N
                       Std       0 B_CONSPOOL_D
                       nStd      0 X66_ARET
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:129  

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                                  B_DNAME_PAGE_SIZE                     B_RNAME_PAGE_SIZE
     B_DBGNAME_PAGE_SIZE                   B_SECTION_PAGE_SIZE                   B_EDEF_PAGE_SIZE
     B_EREF_PAGE_SIZE                      B_SDEF_PAGE_SIZE                      B_SREF_PAGE_SIZE
     B_SEGDEF_PAGE_SIZE                    B_SEGREF_PAGE_SIZE                    B_PROGRAM_PAGE_SIZE
     B_RELOCATION_PAGE_SIZE                B_LOGBLK_PAGE_SIZE                    B_INTNTRY_PAGE_SIZE
     B_EXST_PAGE_SIZE                      B_VREBL_PAGE_SIZE                     PTR2_SECTION_ARRAY$
     B_NUMBER_OF_SECTIONS                  B_NUMBER_OF_BUFFERS                   BUFINIT_CALLED
     B_VECTNIL
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:130  


      835        1        /*M*     XUO$BUFINIT    --   THIS MODULE WILL CHANGE DEFAULT BUFFER SIZES*/
      836        2        /*T***********************************************************/
      837        3        /*T*                                                         */
      838        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
      839        5        /*T*                                                         */
      840        6        /*T***********************************************************/
      841        7        /*P*
      842        8
      843        9
      844       10        NAME:  XUO$BUFINIT
      845       11        XUO$BUFINIT --Change default buffer sizes
      846       12
      847       13        PURPOSE:  To change the default buffer sizes.
      848       14
      849       15        DESCRIPTION:  This routine allows the user to change the
      850       16             default buffer sizes.  The routine needs to be called
      851       17             only if the default sizes are to be changed and should
      852       18             be called before XUO$OUINIT.  All parameters are
      853       19             optional and if not specified, the size of the buffer
      854       20             will be the default.  With the exception of several
      855       21             records, all parameters are in terms of number of entries
      856       22             desired per buffer.  In the case of name records,
      857       23             program records, and relocation records, the parameter
      858       24             passed represents the number of words to be reserved
      859       25             for the buffer.
      860       26
      861       27        */
      862       28
      863       29        /*D*
      864       30        CALL XUO$BUFINIT (Defined Names Word Count,
      865       31                          Referenced Names Word Count,
      866       32                          Section Entry Count,
      867       33                          Procedure Definition Entry Count,
      868       34                          Procedure Reference Entry Count,
      869       35                          Data Definition Entry Count,
      870       36                          Data Reference Entry Count,
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:131  
      871       37                          Segment Definition Entry Count,
      872       38                          Segment Reference Entry Count,
      873       39                          Program Buffer Size,
      874       40                          Relocation Buffer Size,
      875       41                          Logical Block Entry Count,
      876       42                          Internal Entries Entry Count,
      877       43                          Executable Statements Entry Count,
      878       44                          Debug Variable Entry Count,
      879       45                          Debug Name Word Count,
      880       46                         *Number of Buffers)
      881       47
      882       48        INPUT:
      883       49
      884       50            Defined Names Word Count  UBIN ALIGNED
      885       51                                 Represents the page size in words of
      886       52                                 the Externally Defined Names Record
      887       53                                 (type 1).  Default is 100, Minimum is 8.
      888       54            Referenced Names Word Count UBIN ALIGNED
      889       55                                  Represents the page size in words of
      890       56                                  the Externally Referenced Names Record
      891       57                                  (type 2).  Default is 100, Minimum is 8.
      892       58            Section Entry Count  UBIN ALIGNED
      893       59                                  Represents the total number of entries
      894       60                                  in the Section Record (type 3).
      895       61                                  NOTE:  Since this record is not paged,
      896       62                                  the maximum number of section entries
      897       63                                  that is expected to be generated must
      898       64                                  be specified.  Default is 30.
      899       65            Procedure Definition Entry Count  UBIN ALIGNED
      900       66                                  Represents the number of entries in
      901       67                                  the External Procedure Definition
      902       68                                  Record (type 4).  Default is 10.
      903       69            Procedure Reference Entry Count  UBIN ALIGNED
      904       70                                  Represents the number of entries in
      905       71                                  the External Procedure Reference
      906       72                                  Record (type 5).  Default is 10.
      907       73            Data Definition Entry Count  UBIN ALIGNED
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:132  
      908       74                                  Represents the number of entries in
      909       75                                  the External Data Definition Record
      910       76                                  (type 6).  Default is 10.
      911       77            Data Reference Entry Count  UBIN ALIGNED
      912       78                                 Represents the number of entries in
      913       79                                 the External Data Reference Record
      914       80                                 (type 7).  Default is 30.
      915       81            Segment Definition Entry Count  UBIN ALIGNED
      916       82                                 Represents the number of entries in
      917       83                                 the External Segment Definition
      918       84                                 Record (type 8).  Default is 1.
      919       85            Segment Reference Entry Count UBIN ALIGNED
      920       86                                 Represents the number of entries in
      921       87                                 the External Segment Reference
      922       88                                 Record (type 9).  Default is 3.
      923       89            Program Buffer Size  UBIN ALIGNED
      924       90
      925       91            Relocation Buffer Size  UBIN ALIGNED
      926       92
      927       93            Logical Block Entry Count  UBIN ALIGNED
      928       94                                 Represents the total number of
      929       95                                 entries in the Logical Block Record
      930       96                                 (type 11).
      931       97                                 NOTE:  Since this record is not
      932       98                                 paged, the maximum number of logical
      933       99                                 block entries desired must be specified.
      934      100                                 Two header entries are required in
      935      101                                 addition to the normal count.
      936      102                                 Default is 3, minimum is 3.
      937      103            Internal Entries Entry Count UBIN ALIGNED
      938      104                                 Represents the number of entries in
      939      105                                 the Internal Entry Debug Record
      940      106                                 (type 12).  Default is 1.
      941      107            Executable Statements Entry Count UBIN ALIGNED
      942      108                                 Represents the number of entries in
      943      109                                 the Executable Statements Debug
      944      110                                 Record (type 13).  Default is 341.
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:133  
      945      111            Debug Variable Entry Count UBIN ALIGNED
      946      112                                  Represents the number of entries in
      947      113                                  the Variable Debug Record (type 14)
      948      114                                  Default is 204.
      949      115            Debug Name Word Count UBIN ALIGNED
      950      116                                  Represents the number of entries in
      951      117                                  the Debug Names Record (type 15).
      952      118                                  Default is 1024, minimum is 8.
      953      119            Number of Buffers  UBIN ALIGNED
      954      120                                  Represents the number of sets of buffers
      955      121                                  to be used.  If calls to XUO$FRWD_REF are
      956      122                                  intermixed with calls to XUO$PRGM and
      957      123                                  XUO$RELOC, then a minimum of two sets of
      958      124                                  buffers must be specified.  Default is one.
      959      125
      960      126        OUTPUT:   None
      961      127
      962      128        B$OBJECT REFERENCE:
      963      129             B$HEADKEY
      964      130             B$OUKEY
      965      131             B$PRGKEY
      966      132             B$RELKEY
      967      133
      968      134        */
      969      135        /*B*
      970      136        GLOBAL DATA:
      971      137            B_DNAME_PAGE_SIZE
      972      138            B_RNAME_PAGE_SIZE
      973      139            B_SECTION_PAGE_SIZE
      974      140            B_EDEF_PAGE_SIZE
      975      141            B_EREF_PAGE_SIZE
      976      142            B_SDEF_PAGE_SIZE
      977      143            B_SREF_PAGE_SIZE
      978      144            B_SEGDEF_PAGE_SIZE
      979      145            B_SEGREF_PAGE_SIZE
      980      146            B_PROGRAM_PAGE_SIZE
      981      147            B_RELOCATION_PAGE_SIZE
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:134  
      982      148            B_LOGBLK_PAGE_SIZE
      983      149            B_INTNTRY_PAGE_SIZE
      984      150            B_EXST_PAGE_SIZE
      985      151            B_VREBL_PAGE_SIZE
      986      152            B_DBGNAME_PAGE_SIZE
      987      153            B_NUMBER_OF_BUFFERS
      988      154
      989      155        INTERFACE:  none
      990      156
      991      157
      992      158
      993      159        */
      994      160        XUO$BUFINIT: PROC (P_DNAME_WORD_COUNT,

    160  1 000000   000000 700200 xent  XUO$BUFINIT  TSX0  ! X66_AUTO_N
         1 000001   000024 000021                    ZERO    20,17

      995      161               P_RNAME_WORD_COUNT,
      996      162               P_SECTION_ENTRY_COUNT,
      997      163               P_EDEF_ENTRY_COUNT,
      998      164               P_EREF_ENTRY_COUNT,
      999      165               P_SDEF_ENTRY_COUNT,
     1000      166               P_SREF_ENTRY_COUNT,
     1001      167               P_SEGDEF_ENTRY_COUNT,
     1002      168               P_SEGREF_ENTRY_COUNT,
     1003      169               P_PROGRAM_WORD_COUNT,
     1004      170               P_RELOCATION_WORD_COUNT,
     1005      171               P_LOGBLK_ENTRY_COUNT,
     1006      172               P_INTNTRY_ENTRY_COUNT,
     1007      173               P_EXST_ENTRY_COUNT,
     1008      174               P_VREBL_ENTRY_COUNT,
     1009      175               P_DBGNAME_WORD_COUNT,
     1010      176               P_NUMBER_OF_BUFFERS);
     1011      177         /**/
     1012      178        %INCLUDE ZVA_SYSTEM_FILE;
     1013     6429            %PAGE(ARG=INCLUDES);

PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:135  
              6442    1   /*******************************************************************************
              6443    1   *                                                                              *
              6444    1   *        INCLUDES              INCLUDES                                           *
              6445    1   *                                                                              *
              6446    1   *******************************************************************************/

     1014     6450        %INCLUDE XUO$OBJ_C;
     1015     6860            %PAGE (ARG=PARAMETERS);

              6873    1   /*******************************************************************************
              6874    1   *                                                                              *
              6875    1   *        PARAMETERS              PARAMETERS                                       *
              6876    1   *                                                                              *
              6877    1   *******************************************************************************/

     1016     6881    1   DCL P_DNAME_WORD_COUNT UBIN;
     1017     6882    1   DCL P_RNAME_WORD_COUNT UBIN;
     1018     6883    1   DCL P_SECTION_ENTRY_COUNT UBIN;
     1019     6884    1   DCL P_EDEF_ENTRY_COUNT UBIN;
     1020     6885    1   DCL P_EREF_ENTRY_COUNT UBIN;
     1021     6886    1   DCL P_SDEF_ENTRY_COUNT UBIN;
     1022     6887    1   DCL P_SREF_ENTRY_COUNT UBIN;
     1023     6888    1   DCL P_SEGDEF_ENTRY_COUNT UBIN;
     1024     6889    1   DCL P_SEGREF_ENTRY_COUNT UBIN;
     1025     6890    1   DCL P_PROGRAM_WORD_COUNT UBIN;
     1026     6891    1   DCL P_RELOCATION_WORD_COUNT UBIN;
     1027     6892    1   DCL P_LOGBLK_ENTRY_COUNT UBIN;
     1028     6893    1   DCL P_INTNTRY_ENTRY_COUNT UBIN;
     1029     6894    1   DCL P_EXST_ENTRY_COUNT UBIN;
     1030     6895    1   DCL P_VREBL_ENTRY_COUNT UBIN;
     1031     6896    1   DCL P_DBGNAME_WORD_COUNT UBIN;
     1032     6897    1   DCL P_NUMBER_OF_BUFFERS UBIN;
     1033     6898        %PAGE (ARG= RECORD POINTERS);

              6911    1   /*******************************************************************************
              6912    1   *                                                                              *
              6913    1   *        RECORD POINTERS              RECORD POINTERS                             *
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:136  
              6914    1   *                                                                              *
              6915    1   *******************************************************************************/

     1034     6919        %B_DNAME_POINTERS;
     1035     6939        %B_RNAME_POINTERS;
     1036     6959        %B_DBGNAME_POINTERS;
     1037     6979        %B_SECTION_POINTERS;
     1038     6998        %B_EDEF_POINTERS;
     1039     7018        %B_EREF_POINTERS;
     1040     7038        %B_SDEF_POINTERS;
     1041     7058        %B_SREF_POINTERS;
     1042     7078        %B_SEGDEF_POINTERS;
     1043     7098        %B_SEGREF_POINTERS;
     1044     7118        %B_PROGRAM_POINTERS;
     1045     7133        %B_RELOCATION_POINTERS;
     1046     7148        %B_LOGBLK_POINTERS;
     1047     7170        %B_INTNTRY_POINTERS;
     1048     7190        %B_EXST_POINTERS;
     1049     7210        %B_VREBL_POINTERS;
     1050     7230        %B_MULTIBUF_VARS;
     1051     7257        %BUFINIT_CALLED;
     1052     7271        %PAGE (ARG=XUO$BUFINIT);

              7284    1   /*******************************************************************************
              7285    1   *                                                                              *
              7286    1   *        XUO$BUFINIT              XUO$BUFINIT                                     *
              7287    1   *                                                                              *
              7288    1   *******************************************************************************/

     1053     7292         /**/
     1054     7293    1       BUFINIT_CALLED = '1'B;

   7293  1 000002   400000 236003                    LDQ     -131072,DU
         1 000003   000000 756000 xsym               STQ     BUFINIT_CALLED

     1055     7294    1       IF ADDR(P_DNAME_WORD_COUNT)~=ADDR(NIL) THEN

PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:137  
   7294  1 000004   200003 236100                    LDQ     @P_DNAME_WORD_COUNT,,AUTO
         1 000005   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000006   000016 600000 1                  TZE     s:7299

     1056     7295    2       DO;

     1057     7296    2           B_DNAME_PAGE_SIZE=MAXIMUM(P_DNAME_WORD_COUNT,8);

   7296  1 000007   000010 236007                    LDQ     8,DL
         1 000010   200003 470500                    LDP0    @P_DNAME_WORD_COUNT,,AUTO
         1 000011   000000 116100                    CMPQ    0,,PR0
         1 000012   000014 603000 1                  TRC     s:7296+5
         1 000013   000000 236100                    LDQ     0,,PR0
         1 000014   000000 756000 xsym               STQ     B_DNAME_PAGE_SIZE

     1058     7297    2           END;

   7297  1 000015   000020 710000 1                  TRA     s:7301

     1059     7298    1       ELSE
     1060     7299    1           B_DNAME_PAGE_SIZE=DNAMECOUNT;

   7299  1 000016   000144 235007                    LDA     100,DL
         1 000017   000000 755000 xsym               STA     B_DNAME_PAGE_SIZE

     1061     7300         /**/
     1062     7301    1       IF ADDR(P_RNAME_WORD_COUNT)~=ADDR(NIL) THEN

   7301  1 000020   200004 236100                    LDQ     @P_RNAME_WORD_COUNT,,AUTO
         1 000021   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000022   000032 600000 1                  TZE     s:7306

     1063     7302    2       DO;

     1064     7303    2           B_RNAME_PAGE_SIZE=MAXIMUM(P_RNAME_WORD_COUNT,8);

   7303  1 000023   000010 236007                    LDQ     8,DL
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:138  
         1 000024   200004 470500                    LDP0    @P_RNAME_WORD_COUNT,,AUTO
         1 000025   000000 116100                    CMPQ    0,,PR0
         1 000026   000030 603000 1                  TRC     s:7303+5
         1 000027   000000 236100                    LDQ     0,,PR0
         1 000030   000000 756000 xsym               STQ     B_RNAME_PAGE_SIZE

     1065     7304    2           END;

   7304  1 000031   000034 710000 1                  TRA     s:7308

     1066     7305    1       ELSE
     1067     7306    1           B_RNAME_PAGE_SIZE=RNAMECOUNT;

   7306  1 000032   000144 235007                    LDA     100,DL
         1 000033   000000 755000 xsym               STA     B_RNAME_PAGE_SIZE

     1068     7307         /**/
     1069     7308    1       IF ADDR(P_SECTION_ENTRY_COUNT)~=ADDR(NIL) THEN

   7308  1 000034   200005 236100                    LDQ     @P_SECTION_ENTRY_COUNT,,AUTO
         1 000035   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000036   000046 600000 1                  TZE     s:7313

     1070     7309    2       DO;

     1071     7310    2           B_SECTION_PAGE_SIZE=MAXIMUM(P_SECTION_ENTRY_COUNT,1);

   7310  1 000037   000001 236007                    LDQ     1,DL
         1 000040   200005 470500                    LDP0    @P_SECTION_ENTRY_COUNT,,AUTO
         1 000041   000000 116100                    CMPQ    0,,PR0
         1 000042   000044 603000 1                  TRC     s:7310+5
         1 000043   000000 236100                    LDQ     0,,PR0
         1 000044   000000 756000 xsym               STQ     B_SECTION_PAGE_SIZE

     1072     7311    2           END;

   7311  1 000045   000050 710000 1                  TRA     s:7314
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:139  

     1073     7312    1       ELSE
     1074     7313    1           B_SECTION_PAGE_SIZE=SECTIONCOUNT;

   7313  1 000046   000036 235007                    LDA     30,DL
         1 000047   000000 755000 xsym               STA     B_SECTION_PAGE_SIZE

     1075     7314    1       B_NUMBER_OF_SECTIONS = B_SECTION_PAGE_SIZE;

   7314  1 000050   000000 235000 xsym               LDA     B_SECTION_PAGE_SIZE
         1 000051   000000 755000 xsym               STA     B_NUMBER_OF_SECTIONS

     1076     7315         /**/
     1077     7316    1       IF ADDR(P_EDEF_ENTRY_COUNT)~=ADDR(NIL) THEN

   7316  1 000052   200006 236100                    LDQ     @P_EDEF_ENTRY_COUNT,,AUTO
         1 000053   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000054   000064 600000 1                  TZE     s:7321

     1078     7317    2       DO;

     1079     7318    2           B_EDEF_PAGE_SIZE=MAXIMUM(P_EDEF_ENTRY_COUNT,1);

   7318  1 000055   000001 236007                    LDQ     1,DL
         1 000056   200006 470500                    LDP0    @P_EDEF_ENTRY_COUNT,,AUTO
         1 000057   000000 116100                    CMPQ    0,,PR0
         1 000060   000062 603000 1                  TRC     s:7318+5
         1 000061   000000 236100                    LDQ     0,,PR0
         1 000062   000000 756000 xsym               STQ     B_EDEF_PAGE_SIZE

     1080     7319    2           END;

   7319  1 000063   000066 710000 1                  TRA     s:7323

     1081     7320    1       ELSE
     1082     7321    1           B_EDEF_PAGE_SIZE=EDEFCOUNT;

PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:140  
   7321  1 000064   000012 235007                    LDA     10,DL
         1 000065   000000 755000 xsym               STA     B_EDEF_PAGE_SIZE

     1083     7322         /**/
     1084     7323    1       IF ADDR(P_EREF_ENTRY_COUNT)~=ADDR(NIL) THEN

   7323  1 000066   200007 236100                    LDQ     @P_EREF_ENTRY_COUNT,,AUTO
         1 000067   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000070   000100 600000 1                  TZE     s:7328

     1085     7324    2       DO;

     1086     7325    2           B_EREF_PAGE_SIZE=MAXIMUM(P_EREF_ENTRY_COUNT,1);

   7325  1 000071   000001 236007                    LDQ     1,DL
         1 000072   200007 470500                    LDP0    @P_EREF_ENTRY_COUNT,,AUTO
         1 000073   000000 116100                    CMPQ    0,,PR0
         1 000074   000076 603000 1                  TRC     s:7325+5
         1 000075   000000 236100                    LDQ     0,,PR0
         1 000076   000000 756000 xsym               STQ     B_EREF_PAGE_SIZE

     1087     7326    2           END;

   7326  1 000077   000102 710000 1                  TRA     s:7330

     1088     7327    1       ELSE
     1089     7328    1           B_EREF_PAGE_SIZE=EREFCOUNT;

   7328  1 000100   000012 235007                    LDA     10,DL
         1 000101   000000 755000 xsym               STA     B_EREF_PAGE_SIZE

     1090     7329         /**/
     1091     7330    1       IF ADDR(P_SDEF_ENTRY_COUNT)~=ADDR(NIL) THEN

   7330  1 000102   200010 236100                    LDQ     @P_SDEF_ENTRY_COUNT,,AUTO
         1 000103   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000104   000114 600000 1                  TZE     s:7335
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:141  

     1092     7331    2       DO;

     1093     7332    2           B_SDEF_PAGE_SIZE=MAXIMUM(P_SDEF_ENTRY_COUNT,1);

   7332  1 000105   000001 236007                    LDQ     1,DL
         1 000106   200010 470500                    LDP0    @P_SDEF_ENTRY_COUNT,,AUTO
         1 000107   000000 116100                    CMPQ    0,,PR0
         1 000110   000112 603000 1                  TRC     s:7332+5
         1 000111   000000 236100                    LDQ     0,,PR0
         1 000112   000000 756000 xsym               STQ     B_SDEF_PAGE_SIZE

     1094     7333    2           END;

   7333  1 000113   000116 710000 1                  TRA     s:7337

     1095     7334    1       ELSE
     1096     7335    1           B_SDEF_PAGE_SIZE=SDEFCOUNT;

   7335  1 000114   000012 235007                    LDA     10,DL
         1 000115   000000 755000 xsym               STA     B_SDEF_PAGE_SIZE

     1097     7336         /**/
     1098     7337    1       IF ADDR(P_SREF_ENTRY_COUNT)~=ADDR(NIL) THEN

   7337  1 000116   200011 236100                    LDQ     @P_SREF_ENTRY_COUNT,,AUTO
         1 000117   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000120   000130 600000 1                  TZE     s:7342

     1099     7338    2       DO;

     1100     7339    2           B_SREF_PAGE_SIZE=MAXIMUM(P_SREF_ENTRY_COUNT,1);

   7339  1 000121   000001 236007                    LDQ     1,DL
         1 000122   200011 470500                    LDP0    @P_SREF_ENTRY_COUNT,,AUTO
         1 000123   000000 116100                    CMPQ    0,,PR0
         1 000124   000126 603000 1                  TRC     s:7339+5
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:142  
         1 000125   000000 236100                    LDQ     0,,PR0
         1 000126   000000 756000 xsym               STQ     B_SREF_PAGE_SIZE

     1101     7340    2           END;

   7340  1 000127   000132 710000 1                  TRA     s:7344

     1102     7341    1       ELSE
     1103     7342    1           B_SREF_PAGE_SIZE=SREFCOUNT;

   7342  1 000130   000036 235007                    LDA     30,DL
         1 000131   000000 755000 xsym               STA     B_SREF_PAGE_SIZE

     1104     7343         /**/
     1105     7344    1       IF ADDR(P_SEGDEF_ENTRY_COUNT)~=ADDR(NIL) THEN

   7344  1 000132   200012 236100                    LDQ     @P_SEGDEF_ENTRY_COUNT,,AUTO
         1 000133   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000134   000144 600000 1                  TZE     s:7349

     1106     7345    2       DO;

     1107     7346    2           B_SEGDEF_PAGE_SIZE=MAXIMUM(P_SEGDEF_ENTRY_COUNT,1);

   7346  1 000135   000001 236007                    LDQ     1,DL
         1 000136   200012 470500                    LDP0    @P_SEGDEF_ENTRY_COUNT,,AUTO
         1 000137   000000 116100                    CMPQ    0,,PR0
         1 000140   000142 603000 1                  TRC     s:7346+5
         1 000141   000000 236100                    LDQ     0,,PR0
         1 000142   000000 756000 xsym               STQ     B_SEGDEF_PAGE_SIZE

     1108     7347    2           END;

   7347  1 000143   000146 710000 1                  TRA     s:7351

     1109     7348    1       ELSE
     1110     7349    1           B_SEGDEF_PAGE_SIZE=SEGDEFCOUNT;
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:143  

   7349  1 000144   000003 235007                    LDA     3,DL
         1 000145   000000 755000 xsym               STA     B_SEGDEF_PAGE_SIZE

     1111     7350         /**/
     1112     7351    1       IF ADDR(P_SEGREF_ENTRY_COUNT)~=ADDR(NIL) THEN

   7351  1 000146   200013 236100                    LDQ     @P_SEGREF_ENTRY_COUNT,,AUTO
         1 000147   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000150   000160 600000 1                  TZE     s:7356

     1113     7352    2       DO;

     1114     7353    2           B_SEGREF_PAGE_SIZE=MAXIMUM(P_SEGREF_ENTRY_COUNT,1);

   7353  1 000151   000001 236007                    LDQ     1,DL
         1 000152   200013 470500                    LDP0    @P_SEGREF_ENTRY_COUNT,,AUTO
         1 000153   000000 116100                    CMPQ    0,,PR0
         1 000154   000156 603000 1                  TRC     s:7353+5
         1 000155   000000 236100                    LDQ     0,,PR0
         1 000156   000000 756000 xsym               STQ     B_SEGREF_PAGE_SIZE

     1115     7354    2           END;

   7354  1 000157   000162 710000 1                  TRA     s:7358

     1116     7355    1       ELSE
     1117     7356    1           B_SEGREF_PAGE_SIZE=SEGREFCOUNT;

   7356  1 000160   000003 235007                    LDA     3,DL
         1 000161   000000 755000 xsym               STA     B_SEGREF_PAGE_SIZE

     1118     7357         /**/
     1119     7358    1       IF ADDR(P_PROGRAM_WORD_COUNT)~=ADDR(NIL) THEN

   7358  1 000162   200014 236100                    LDQ     @P_PROGRAM_WORD_COUNT,,AUTO
         1 000163   000001 116000 xsym               CMPQ    B_VECTNIL+1
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:144  
         1 000164   000174 600000 1                  TZE     s:7363

     1120     7359    2       DO;

     1121     7360    2           B_PROGRAM_PAGE_SIZE=MAXIMUM(P_PROGRAM_WORD_COUNT,2);

   7360  1 000165   000002 236007                    LDQ     2,DL
         1 000166   200014 470500                    LDP0    @P_PROGRAM_WORD_COUNT,,AUTO
         1 000167   000000 116100                    CMPQ    0,,PR0
         1 000170   000172 603000 1                  TRC     s:7360+5
         1 000171   000000 236100                    LDQ     0,,PR0
         1 000172   000000 756000 xsym               STQ     B_PROGRAM_PAGE_SIZE

     1122     7361    2           END;

   7361  1 000173   000176 710000 1                  TRA     s:7365

     1123     7362    1       ELSE
     1124     7363    1           B_PROGRAM_PAGE_SIZE = %PROGRAMCOUNT;

   7363  1 000174   001776 235007                    LDA     1022,DL
         1 000175   000000 755000 xsym               STA     B_PROGRAM_PAGE_SIZE

     1125     7364         /**/
     1126     7365    1       IF ADDR(P_RELOCATION_WORD_COUNT)~=ADDR(NIL) THEN

   7365  1 000176   200015 236100                    LDQ     @P_RELOCATION_WORD_COUNT,,AUTO
         1 000177   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000200   000210 600000 1                  TZE     s:7370

     1127     7366    2       DO;

     1128     7367    2           B_RELOCATION_PAGE_SIZE=MAXIMUM(P_RELOCATION_WORD_COUNT,4);

   7367  1 000201   000004 236007                    LDQ     4,DL
         1 000202   200015 470500                    LDP0    @P_RELOCATION_WORD_COUNT,,AUTO
         1 000203   000000 116100                    CMPQ    0,,PR0
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:145  
         1 000204   000206 603000 1                  TRC     s:7367+5
         1 000205   000000 236100                    LDQ     0,,PR0
         1 000206   000000 756000 xsym               STQ     B_RELOCATION_PAGE_SIZE

     1129     7368    2           END;

   7368  1 000207   000212 710000 1                  TRA     s:7372

     1130     7369    1       ELSE
     1131     7370    1           B_RELOCATION_PAGE_SIZE = %RELOCATIONCOUNT;

   7370  1 000210   001776 235007                    LDA     1022,DL
         1 000211   000000 755000 xsym               STA     B_RELOCATION_PAGE_SIZE

     1132     7371         /**/
     1133     7372    1       IF ADDR(P_LOGBLK_ENTRY_COUNT)~=ADDR(NIL) THEN

   7372  1 000212   200016 236100                    LDQ     @P_LOGBLK_ENTRY_COUNT,,AUTO
         1 000213   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000214   000224 600000 1                  TZE     s:7377

     1134     7373    2       DO;

     1135     7374    2           B_LOGBLK_PAGE_SIZE=MAXIMUM(P_LOGBLK_ENTRY_COUNT,3);

   7374  1 000215   000003 236007                    LDQ     3,DL
         1 000216   200016 470500                    LDP0    @P_LOGBLK_ENTRY_COUNT,,AUTO
         1 000217   000000 116100                    CMPQ    0,,PR0
         1 000220   000222 603000 1                  TRC     s:7374+5
         1 000221   000000 236100                    LDQ     0,,PR0
         1 000222   000000 756000 xsym               STQ     B_LOGBLK_PAGE_SIZE

     1136     7375    2           END;

   7375  1 000223   000226 710000 1                  TRA     s:7379

     1137     7376    1       ELSE
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:146  
     1138     7377    1           B_LOGBLK_PAGE_SIZE=LOGBLKCOUNT;

   7377  1 000224   000003 235007                    LDA     3,DL
         1 000225   000000 755000 xsym               STA     B_LOGBLK_PAGE_SIZE

     1139     7378         /**/
     1140     7379    1       IF ADDR(P_INTNTRY_ENTRY_COUNT)~=ADDR(NIL) THEN

   7379  1 000226   200017 236100                    LDQ     @P_INTNTRY_ENTRY_COUNT,,AUTO
         1 000227   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000230   000240 600000 1                  TZE     s:7384

     1141     7380    2       DO;

     1142     7381    2           B_INTNTRY_PAGE_SIZE=MAXIMUM(P_INTNTRY_ENTRY_COUNT,1);

   7381  1 000231   000001 236007                    LDQ     1,DL
         1 000232   200017 470500                    LDP0    @P_INTNTRY_ENTRY_COUNT,,AUTO
         1 000233   000000 116100                    CMPQ    0,,PR0
         1 000234   000236 603000 1                  TRC     s:7381+5
         1 000235   000000 236100                    LDQ     0,,PR0
         1 000236   000000 756000 xsym               STQ     B_INTNTRY_PAGE_SIZE

     1143     7382    2           END;

   7382  1 000237   000242 710000 1                  TRA     s:7386

     1144     7383    1       ELSE
     1145     7384    1           B_INTNTRY_PAGE_SIZE=INTNTRYCOUNT;

   7384  1 000240   000003 235007                    LDA     3,DL
         1 000241   000000 755000 xsym               STA     B_INTNTRY_PAGE_SIZE

     1146     7385         /**/
     1147     7386    1       IF ADDR(P_EXST_ENTRY_COUNT)~=ADDR(NIL) THEN

   7386  1 000242   200020 236100                    LDQ     @P_EXST_ENTRY_COUNT,,AUTO
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:147  
         1 000243   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000244   000254 600000 1                  TZE     s:7391

     1148     7387    2       DO;

     1149     7388    2           B_EXST_PAGE_SIZE=MAXIMUM(P_EXST_ENTRY_COUNT,1);

   7388  1 000245   000001 236007                    LDQ     1,DL
         1 000246   200020 470500                    LDP0    @P_EXST_ENTRY_COUNT,,AUTO
         1 000247   000000 116100                    CMPQ    0,,PR0
         1 000250   000252 603000 1                  TRC     s:7388+5
         1 000251   000000 236100                    LDQ     0,,PR0
         1 000252   000000 756000 xsym               STQ     B_EXST_PAGE_SIZE

     1150     7389    2           END;

   7389  1 000253   000256 710000 1                  TRA     s:7393

     1151     7390    1       ELSE
     1152     7391    1           B_EXST_PAGE_SIZE=EXSTCOUNT;

   7391  1 000254   000524 235007                    LDA     340,DL
         1 000255   000000 755000 xsym               STA     B_EXST_PAGE_SIZE

     1153     7392         /**/
     1154     7393    1       IF ADDR(P_VREBL_ENTRY_COUNT)~=ADDR(NIL) THEN

   7393  1 000256   200021 236100                    LDQ     @P_VREBL_ENTRY_COUNT,,AUTO
         1 000257   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000260   000270 600000 1                  TZE     s:7398

     1155     7394    2       DO;

     1156     7395    2           B_VREBL_PAGE_SIZE=MAXIMUM(P_VREBL_ENTRY_COUNT,1);

   7395  1 000261   000001 236007                    LDQ     1,DL
         1 000262   200021 470500                    LDP0    @P_VREBL_ENTRY_COUNT,,AUTO
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:148  
         1 000263   000000 116100                    CMPQ    0,,PR0
         1 000264   000266 603000 1                  TRC     s:7395+5
         1 000265   000000 236100                    LDQ     0,,PR0
         1 000266   000000 756000 xsym               STQ     B_VREBL_PAGE_SIZE

     1157     7396    2           END;

   7396  1 000267   000272 710000 1                  TRA     s:7400

     1158     7397    1       ELSE
     1159     7398    1           B_VREBL_PAGE_SIZE=VREBLCOUNT;

   7398  1 000270   000314 235007                    LDA     204,DL
         1 000271   000000 755000 xsym               STA     B_VREBL_PAGE_SIZE

     1160     7399         /**/
     1161     7400    1       IF ADDR(P_DBGNAME_WORD_COUNT)~=ADDR(NIL) THEN

   7400  1 000272   200022 236100                    LDQ     @P_DBGNAME_WORD_COUNT,,AUTO
         1 000273   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000274   000304 600000 1                  TZE     s:7405

     1162     7401    2       DO;

     1163     7402    2           B_DBGNAME_PAGE_SIZE=MAXIMUM(P_DBGNAME_WORD_COUNT,8);

   7402  1 000275   000010 236007                    LDQ     8,DL
         1 000276   200022 470500                    LDP0    @P_DBGNAME_WORD_COUNT,,AUTO
         1 000277   000000 116100                    CMPQ    0,,PR0
         1 000300   000302 603000 1                  TRC     s:7402+5
         1 000301   000000 236100                    LDQ     0,,PR0
         1 000302   000000 756000 xsym               STQ     B_DBGNAME_PAGE_SIZE

     1164     7403    2           END;

   7403  1 000303   000306 710000 1                  TRA     s:7407

PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:149  
     1165     7404    1       ELSE
     1166     7405    1           B_DBGNAME_PAGE_SIZE=DBGNAMECOUNT;

   7405  1 000304   001776 235007                    LDA     1022,DL
         1 000305   000000 755000 xsym               STA     B_DBGNAME_PAGE_SIZE

     1167     7406         /**/
     1168     7407    1       IF ADDR(P_NUMBER_OF_BUFFERS) ~= ADDR (NIL)

   7407  1 000306   200023 236100                    LDQ     @P_NUMBER_OF_BUFFERS,,AUTO
         1 000307   000001 116000 xsym               CMPQ    B_VECTNIL+1
         1 000310   000330 600000 1                  TZE     s:7413

     1169     7408    2       THEN DO;

     1170     7409    2           B_NUMBER_OF_BUFFERS = MAXIMUM (MINIMUM (P_NUMBER_OF_BUFFERS,

   7409  1 000311   000012 236007                    LDQ     10,DL
         1 000312   000000 116000 xsym               CMPQ    B_SECTION_PAGE_SIZE
         1 000313   000316 602000 1                  TNC     s:7409+5
         1 000314   000316 600000 1                  TZE     s:7409+5
         1 000315   000000 236000 xsym               LDQ     B_SECTION_PAGE_SIZE
         1 000316   200023 470500                    LDP0    @P_NUMBER_OF_BUFFERS,,AUTO
         1 000317   000000 116100                    CMPQ    0,,PR0
         1 000320   000323 602000 1                  TNC     s:7409+10
         1 000321   000323 600000 1                  TZE     s:7409+10
         1 000322   000000 236100                    LDQ     0,,PR0
         1 000323   000001 116007                    CMPQ    1,DL
         1 000324   000326 603000 1                  TRC     s:7409+13
         1 000325   000001 236007                    LDQ     1,DL
         1 000326   000000 756000 xsym               STQ     B_NUMBER_OF_BUFFERS

     1171     7410    2              B_SECTION_PAGE_SIZE,10),1);
     1172     7411    2           END;

   7411  1 000327   000332 710000 1                  TRA     s:7414

PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:150  
     1173     7412    1       ELSE
     1174     7413    1           B_NUMBER_OF_BUFFERS = 1;

   7413  1 000330   000001 235007                    LDA     1,DL
         1 000331   000000 755000 xsym               STA     B_NUMBER_OF_BUFFERS

     1175     7414    1       RETURN;

   7414  1 000332   000000 702200 xent               TSX2  ! X66_ARET
     1176     7415         /**/
     1177     7416    1   END XUO$BUFINIT;

PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:151  
--  Include file information  --

   XUO$OBJ_C.:E05TOU  is referenced.
   CP_6_SUBS.:E05TOU  is referenced.
   CP_6_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   ZVA_FLAGS.:TOOLE04  is referenced.
   ZVA_SYSTEM_FILE.:TOOLE04  is referenced.
      No diagnostics issued in procedure XUO$BUFINIT.
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:152  

 **** Variables and constants ****

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    22-0-0/w PTR         r     1 @P_DBGNAME_WORD_COUNT
     3-0-0/w PTR         r     1 @P_DNAME_WORD_COUNT        6-0-0/w PTR         r     1 @P_EDEF_ENTRY_COUNT
     7-0-0/w PTR         r     1 @P_EREF_ENTRY_COUNT       20-0-0/w PTR         r     1 @P_EXST_ENTRY_COUNT
    17-0-0/w PTR         r     1 @P_INTNTRY_ENTRY_COUNT
    16-0-0/w PTR         r     1 @P_LOGBLK_ENTRY_COUNT
    23-0-0/w PTR         r     1 @P_NUMBER_OF_BUFFERS
    14-0-0/w PTR         r     1 @P_PROGRAM_WORD_COUNT
    15-0-0/w PTR         r     1 @P_RELOCATION_WORD_COUNT
     4-0-0/w PTR         r     1 @P_RNAME_WORD_COUNT       10-0-0/w PTR         r     1 @P_SDEF_ENTRY_COUNT
     5-0-0/w PTR         r     1 @P_SECTION_ENTRY_COUNT
    12-0-0/w PTR         r     1 @P_SEGDEF_ENTRY_COUNT
    13-0-0/w PTR         r     1 @P_SEGREF_ENTRY_COUNT
    11-0-0/w PTR         r     1 @P_SREF_ENTRY_COUNT       21-0-0/w PTR         r     1 @P_VREBL_ENTRY_COUNT
    *0-0-0/w UBIN        r     1 P_DBGNAME_WORD_COUNT      *0-0-0/w UBIN        r     1 P_DNAME_WORD_COUNT
    *0-0-0/w UBIN        r     1 P_EDEF_ENTRY_COUNT        *0-0-0/w UBIN        r     1 P_EREF_ENTRY_COUNT
    *0-0-0/w UBIN        r     1 P_EXST_ENTRY_COUNT
    *0-0-0/w UBIN        r     1 P_INTNTRY_ENTRY_COUNT
    *0-0-0/w UBIN        r     1 P_LOGBLK_ENTRY_COUNT      *0-0-0/w UBIN        r     1 P_NUMBER_OF_BUFFERS
    *0-0-0/w UBIN        r     1 P_PROGRAM_WORD_COUNT
    *0-0-0/w UBIN        r     1 P_RELOCATION_WORD_COUNT
    *0-0-0/w UBIN        r     1 P_RNAME_WORD_COUNT        *0-0-0/w UBIN        r     1 P_SDEF_ENTRY_COUNT
    *0-0-0/w UBIN        r     1 P_SECTION_ENTRY_COUNT
    *0-0-0/w UBIN        r     1 P_SEGDEF_ENTRY_COUNT      *0-0-0/w UBIN        r     1 P_SEGREF_ENTRY_COUNT
    *0-0-0/w UBIN        r     1 P_SREF_ENTRY_COUNT        *0-0-0/w UBIN        r     1 P_VREBL_ENTRY_COUNT

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:153  
     0-0-0/b BIT         r     1 BUFINIT_CALLED             0-0-0/w UBIN        r     1 B_DBGNAME_PAGE_SIZE
     0-0-0/w UBIN        r     1 B_DNAME_PAGE_SIZE          0-0-0/w UBIN        r     1 B_EDEF_PAGE_SIZE
     0-0-0/w UBIN        r     1 B_EREF_PAGE_SIZE           0-0-0/w UBIN        r     1 B_EXST_PAGE_SIZE
     0-0-0/w UBIN        r     1 B_INTNTRY_PAGE_SIZE        0-0-0/w UBIN        r     1 B_LOGBLK_PAGE_SIZE
     0-0-0/w UBIN        r     1 B_NUMBER_OF_BUFFERS        0-0-0/w UBIN        r     1 B_NUMBER_OF_SECTIONS
     0-0-0/w SBIN        r     1 B_PROGRAM_PAGE_SIZE
     0-0-0/w SBIN        r     1 B_RELOCATION_PAGE_SIZE
     0-0-0/w UBIN        r     1 B_RNAME_PAGE_SIZE          0-0-0/w UBIN        r     1 B_SDEF_PAGE_SIZE
     0-0-0/w UBIN        r     1 B_SECTION_PAGE_SIZE        0-0-0/w UBIN        r     1 B_SEGDEF_PAGE_SIZE
     0-0-0/w UBIN        r     1 B_SEGREF_PAGE_SIZE         0-0-0/w UBIN        r     1 B_SREF_PAGE_SIZE
     0-0-0/w UBIN        r     1 B_VREBL_PAGE_SIZE          0-0-0/w PTR         r     1 PTR2_SECTION_ARRAY$


   Procedure XUO$BUFINIT requires 219 words for executable code.
   Procedure XUO$BUFINIT requires 20 words of local(AUTO) storage.

    No errors detected in file XUO$INIT.:E05TSI    .
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:154  
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:155  
          MINI XREF LISTING

BUFINIT_CALLED
      7269**DCL      7293<<ASSIGN
B_DBGNAME_PAGE_SIZE
      6977**DCL      7402<<ASSIGN   7405<<ASSIGN
B_DNAME_PAGE_SIZE
      6937**DCL      7296<<ASSIGN   7299<<ASSIGN
B_EDEF_PAGE_SIZE
      7016**DCL      7318<<ASSIGN   7321<<ASSIGN
B_EREF_PAGE_SIZE
      7036**DCL      7325<<ASSIGN   7328<<ASSIGN
B_EXST_PAGE_SIZE
      7208**DCL      7388<<ASSIGN   7391<<ASSIGN
B_INTNTRY_PAGE_SIZE
      7188**DCL      7381<<ASSIGN   7384<<ASSIGN
B_LOGBLK_PAGE_SIZE
      7168**DCL      7374<<ASSIGN   7377<<ASSIGN
B_NUMBER_OF_BUFFERS
      7246**DCL      7409<<ASSIGN   7413<<ASSIGN
B_NUMBER_OF_SECTIONS
      7245**DCL      7314<<ASSIGN
B_PROGRAM_PAGE_SIZE
      7131**DCL      7360<<ASSIGN   7363<<ASSIGN
B_RELOCATION_PAGE_SIZE
      7146**DCL      7367<<ASSIGN   7370<<ASSIGN
B_RNAME_PAGE_SIZE
      6957**DCL      7303<<ASSIGN   7306<<ASSIGN
B_SDEF_PAGE_SIZE
      7056**DCL      7332<<ASSIGN   7335<<ASSIGN
B_SECTION_PAGE_SIZE
      6996**DCL      7310<<ASSIGN   7313<<ASSIGN   7314>>ASSIGN   7409>>ASSIGN
B_SEGDEF_PAGE_SIZE
      7096**DCL      7346<<ASSIGN   7349<<ASSIGN
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:156  
B_SEGREF_PAGE_SIZE
      7116**DCL      7353<<ASSIGN   7356<<ASSIGN
B_SREF_PAGE_SIZE
      7076**DCL      7339<<ASSIGN   7342<<ASSIGN
B_VREBL_PAGE_SIZE
      7228**DCL      7395<<ASSIGN   7398<<ASSIGN
PTR2_SECTION_ARRAY$
      7244**DCL      7247--IMP-PTR
P_DBGNAME_WORD_COUNT
      6896**DCL       160--PROC     7400--IF       7402>>ASSIGN
P_DNAME_WORD_COUNT
      6881**DCL       160--PROC     7294--IF       7296>>ASSIGN
P_EDEF_ENTRY_COUNT
      6884**DCL       160--PROC     7316--IF       7318>>ASSIGN
P_EREF_ENTRY_COUNT
      6885**DCL       160--PROC     7323--IF       7325>>ASSIGN
P_EXST_ENTRY_COUNT
      6894**DCL       160--PROC     7386--IF       7388>>ASSIGN
P_INTNTRY_ENTRY_COUNT
      6893**DCL       160--PROC     7379--IF       7381>>ASSIGN
P_LOGBLK_ENTRY_COUNT
      6892**DCL       160--PROC     7372--IF       7374>>ASSIGN
P_NUMBER_OF_BUFFERS
      6897**DCL       160--PROC     7407--IF       7409>>ASSIGN
P_PROGRAM_WORD_COUNT
      6890**DCL       160--PROC     7358--IF       7360>>ASSIGN
P_RELOCATION_WORD_COUNT
      6891**DCL       160--PROC     7365--IF       7367>>ASSIGN
P_RNAME_WORD_COUNT
      6882**DCL       160--PROC     7301--IF       7303>>ASSIGN
P_SDEF_ENTRY_COUNT
      6886**DCL       160--PROC     7330--IF       7332>>ASSIGN
P_SECTION_ENTRY_COUNT
      6883**DCL       160--PROC     7308--IF       7310>>ASSIGN
P_SEGDEF_ENTRY_COUNT
      6888**DCL       160--PROC     7344--IF       7346>>ASSIGN
PL6.E3A0      #002=XUO$BUFINIT File=XUO$INIT.:E05TSI                             WED 07/30/97 09:32 Page:157  
P_SEGREF_ENTRY_COUNT
      6889**DCL       160--PROC     7351--IF       7353>>ASSIGN
P_SREF_ENTRY_COUNT
      6887**DCL       160--PROC     7337--IF       7339>>ASSIGN
P_VREBL_ENTRY_COUNT
      6895**DCL       160--PROC     7393--IF       7395>>ASSIGN

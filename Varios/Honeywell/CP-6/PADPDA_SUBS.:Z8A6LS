

09:09 AUG 09 '97 PADPDA_SUBS.:Z8A6SI                                       1    
    1      /*T***********************************************************/
    2      /*T*                                                         */
    3      /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
    4      /*T*                                                         */
    5      /*T***********************************************************/
    6      /* Actions */
    7
    8      %EQU START_PROD=1;
    9      %EQU ADD_TO_RULE=2;
   10      %EQU NEXT_RULE=3;
   11      %EQU SSS_ACTION=4;
   12      %EQU SSMS_ACTION=5;
   13      %EQU ORDER_ACTION=6;
   14      %EQU INSERT_ACTION=7;
   15      %EQU DELETE_ACTION=8;
   16      %EQU SEMANTIC_ACTION=9;
   17      %EQU ORDER_SEMANTIC_ACTION=10;
   18      %EQU RIGHT_ACTION=11;
   19      %EQU LEFT_ACTION=12;
   20      %EQU TERMINAL_ACTION=13;
   21      %EQU LHSTOKEN_ACTION=14;
   22      %EQU RHSTOKEN_ACTION=15;
   23      %EQU EMPTY_TOKEN_ACTION=16;
   24
   25      %EQU TERM_EOF_SYM = 18;
   26      %EQU TERM_ERROR_SYM = 0;
   27      %EQU ACTIONS_NUMERIC_OPT = '0'B;
   28      %EQU PRODR_LEN = 66;
   29      %EQU ACTION_COL_LEN = 95;
   30      %EQU ACTION_ROW_LEN = 160;
   31      %EQU GOTO_COL_LEN = 36;
   32      %EQU GOTO_ROW_LEN = 61;
   33      %EQU TERM_STRING_LEN = 21;
   34      %EQU TSTRING_SPACE_LEN = 6;
   35      %EQU TSTRING_SPACE_LEN_CHARS = 280;
   36      %EQU MIN_GOAL = 0;
   37      %EQU MAX_GOAL = 36;
09:09 AUG 09 '97 PADPDA_SUBS.:Z8A6SI                                       2    
   38      %EQU BITS_GOAL = 18;
   39      %EQU MIN_PSS = 0;
   40      %EQU MAX_PSS = 8;
   41      %EQU BITS_PSS = 18;
   42      %EQU MIN_SEM = 0;
   43      %EQU MAX_SEM = 16;
   44      %EQU BITS_SEM = 18;
   45      %EQU BITS_PRODR = 54;
   46      %MACRO START_TABLE_PRODR;
   47      DCL 1 PRODR(0:%PRODR_LEN) BIT(%BITS_PRODR) UNAL CONSTANT SYMDEF INIT('0'B
   48      %MEND;
   49      %MACRO PRODM(GOAL=0, PSS=0, SEM=0);
   50      ,%(CONCAT(BINBIT(GOAL,%BITS_GOAL),BINBIT(PSS,%BITS_PSS),BINBIT(SEM,%BITS_SEM)))
   51      %MEND;
   52      %MACRO END_TABLE_PRODR;
   53          );
   54      %MEND;
   55      %EQU MIN_ASDEF = -66;
   56      %EQU MAX_ASDEF = 0;
   57      %EQU BITS_ASDEF = 18;
   58      %EQU MIN_ASBAS = 0;
   59      %EQU MAX_ASBAS = 139;
   60      %EQU BITS_ASBAS = 18;
   61      %EQU BITS_ACTION_COL = 36;
   62      %MACRO START_TABLE_ACTION_COL;
   63      DCL 1 ACTION_COL(0:%ACTION_COL_LEN) BIT(%BITS_ACTION_COL) UNAL CONSTANT SYMDEF INIT('0'B
   64      %MEND;
   65      %MACRO ASDEFBASM(DFL=0, BAS=0);
   66      ,%(CONCAT(BINBIT(DFL,%BITS_ASDEF),BINBIT(BAS,%BITS_ASBAS)))
   67      %MEND;
   68      %MACRO END_TABLE_ACTION_COL;
   69          );
   70      %MEND;
   71      %EQU MIN_ANCNXT = -63;
   72      %EQU MAX_ANCNXT = 95;
   73      %EQU BITS_ANCNXT = 18;
   74      %EQU MIN_ANCCHK = 0;
09:09 AUG 09 '97 PADPDA_SUBS.:Z8A6SI                                       3    
   75      %EQU MAX_ANCCHK = 66;
   76      %EQU BITS_ANCCHK = 18;
   77      %EQU BITS_ACTION_ROW = 36;
   78      %MACRO START_TABLE_ACTION_ROW;
   79      DCL 1 ACTION_ROW(0:%ACTION_ROW_LEN) BIT(%BITS_ACTION_ROW) UNAL CONSTANT SYMDEF INIT('0'B,'0'B
   80      %MEND;
   81      %MACRO ANCM(NXT=0, CHK=0);
   82      ,%(CONCAT(BINBIT(NXT,%BITS_ANCNXT),BINBIT(CHK,%BITS_ANCCHK)))
   83      %MEND;
   84      %MACRO END_TABLE_ACTION_ROW;
   85          );
   86      %MEND;
   87      %EQU MIN_GTDEF = 0;
   88      %EQU MAX_GTDEF = 86;
   89      %EQU BITS_GTDEF = 18;
   90      %EQU MIN_GTBAS = 0;
   91      %EQU MAX_GTBAS = 23;
   92      %EQU BITS_GTBAS = 18;
   93      %EQU BITS_GOTO_COL = 36;
   94      %MACRO START_TABLE_GOTO_COL;
   95      DCL 1 GOTO_COL(0:%GOTO_COL_LEN) BIT(%BITS_GOTO_COL) UNAL CONSTANT SYMDEF INIT('0'B
   96      %MEND;
   97      %MACRO GTDEFBASM(DFL=0, BAS=0);
   98      ,%(CONCAT(BINBIT(DFL,%BITS_GTDEF),BINBIT(BAS,%BITS_GTBAS)))
   99      %MEND;
  100      %MACRO END_TABLE_GOTO_COL;
  101          );
  102      %MEND;
  103      %EQU MIN_GNCNXT = 0;
  104      %EQU MAX_GNCNXT = 85;
  105      %EQU BITS_GNCNXT = 18;
  106      %EQU MIN_GNCCHK = 0;
  107      %EQU MAX_GNCCHK = 36;
  108      %EQU BITS_GNCCHK = 18;
  109      %EQU BITS_GOTO_ROW = 36;
  110      %MACRO START_TABLE_GOTO_ROW;
  111      DCL 1 GOTO_ROW(0:%GOTO_ROW_LEN) BIT(%BITS_GOTO_ROW) UNAL CONSTANT SYMDEF INIT('0'B,'0'B
09:09 AUG 09 '97 PADPDA_SUBS.:Z8A6SI                                       4    
  112      %MEND;
  113      %MACRO GNCM(NXT=0, CHK=0);
  114      ,%(CONCAT(BINBIT(NXT,%BITS_GNCNXT),BINBIT(CHK,%BITS_GNCCHK)))
  115      %MEND;
  116      %MACRO END_TABLE_GOTO_ROW;
  117          );
  118      %MEND;
  119      %EQU DTS_OPTION = '0'B;
  120      %EQU MIN_T_S_INDX = 0;
  121      %EQU MAX_T_S_INDX = 250;
  122      %EQU BITS_T_S_INDX = 8;
  123      %EQU MIN_T_S_LEN = 0;
  124      %EQU MAX_T_S_LEN = 19;
  125      %EQU BITS_T_S_LEN = 5;
  126      %EQU BITS_TERM_STRING = 13;
  127      %MACRO START_TABLE_TERM_STRING;
  128      DCL 1 TERM_STRING(0:%TERM_STRING_LEN) BIT(%BITS_TERM_STRING) UNAL CONSTANT SYMDEF INIT('0'B
  129      %MEND;
  130      %MACRO TSTRING(I=0, L=0);
  131      ,%(CONCAT(BINBIT(I,%BITS_T_S_INDX),BINBIT(L,%BITS_T_S_LEN)))
  132      %MEND;
  133      %MACRO END_TABLE_TERM_STRING;
  134          );
  135      %MEND;
  136      %MACRO START_TABLE_TSTRING_SPACE;
  137      DCL TSTRING_SPACE(0:%TSTRING_SPACE_LEN) CHAR(40) CONSTANT SYMDEF
  138               INIT('                                        '
  139      %MEND;
  140      %MACRO TSPACE(S=);
  141      ,S
  142      %MEND;
  143      %MACRO END_TABLE_TSTRING_SPACE;
  144          );
  145      %MEND;
  146      %MACRO PARSE_SYMREFS;
  147      DCL 1 PRODR(0:%PRODR_LEN) UNAL SYMREF READONLY,
  148            2 GOAL UBIN(%BITS_GOAL) UNAL,
09:09 AUG 09 '97 PADPDA_SUBS.:Z8A6SI                                       5    
  149            2 POPSTACK UBIN(%BITS_PSS) UNAL,
  150            2 SEMANTIC UBIN(%BITS_SEM) UNAL;
  151      DCL 1 ACTION_COL(0:%ACTION_COL_LEN) UNAL SYMREF READONLY,
  152            2 DEFAULT SBIN(%BITS_ASDEF) UNAL,
  153            2 BASE UBIN(%BITS_ASBAS) UNAL;
  154      DCL 1 ACTION_ROW(0:%ACTION_ROW_LEN) UNAL SYMREF READONLY,
  155            2 NEXT SBIN(%BITS_ANCNXT) UNAL,
  156            2 CHECK UBIN(%BITS_ANCCHK) UNAL;
  157      DCL 1 GOTO_COL(0:%GOTO_COL_LEN) UNAL SYMREF READONLY,
  158            2 DEFAULT UBIN(%BITS_GTDEF) UNAL,
  159            2 BASE UBIN(%BITS_GTBAS) UNAL;
  160      DCL 1 GOTO_ROW(0:%GOTO_ROW_LEN) UNAL SYMREF READONLY,
  161            2 NEXT UBIN(%BITS_GNCNXT) UNAL,
  162            2 CHECK UBIN(%BITS_GNCCHK) UNAL;
  163      %MEND;
  164      %MACRO TSTRING_SYMREFS;
  165      DCL 1 TERM_STRING(0:%TERM_STRING_LEN) UNAL SYMREF READONLY,
  166            2 INDX UBIN(%BITS_T_S_INDX) UNAL,
  167            2 LEN UBIN(%BITS_T_S_LEN) UNAL;
  168      DCL TSTRING_SPACE SYMREF READONLY CHAR(%TSTRING_SPACE_LEN_CHARS);
  169      %MEND;
  170      %EQU LOCALLY_LEAST_COST_RECOVERY = '1'B;
  171      %EQU DEL_COST_LEN = 21;
  172      %EQU LCS_LEN = 57;
  173      %EQU LCS_ELEM_LEN = 32;
  174      %EQU LCP_LEN = 182;
  175      %EQU LCP_UBOUND_LEN = 21;
  176      %EQU LCP_ELEM_LEN = 48;
  177      %EQU INFINITE_COST = 99999;
  178      %EQU NR_BASIS_MAX = 7;
  179      %EQU MIN_DEL_COST = 0;
  180      %EQU MAX_DEL_COST = 99999;
  181      %EQU BITS_DEL_COST = 17;
  182      %MACRO START_TABLE_DEL_COST;
  183      DCL DEL_COST(0:%DEL_COST_LEN) UBIN(%BITS_DEL_COST) UNAL CONSTANT SYMDEF INIT(0
  184      %MEND;
  185      %MACRO DELC(C=0);
09:09 AUG 09 '97 PADPDA_SUBS.:Z8A6SI                                       6    
  186      ,C
  187      %MEND;
  188      %MACRO END_TABLE_DEL_COST;
  189          );
  190      %MEND;
  191      %EQU MIN_LCS_COST = 0;
  192      %EQU MAX_LCS_COST = 99999;
  193      %EQU BITS_LCS_COST = 17;
  194      %EQU MIN_LCS_INDX = 0;
  195      %EQU MAX_LCS_INDX = 32;
  196      %EQU BITS_LCS_INDX = 6;
  197      %EQU MIN_LCS_LEN = 0;
  198      %EQU MAX_LCS_LEN = 5;
  199      %EQU BITS_LCS_LEN = 3;
  200      %EQU BITS_LCS = 26;
  201      %MACRO START_TABLE_LCS;
  202      DCL 1 LCS(0:%LCS_LEN) BIT(%BITS_LCS) UNAL CONSTANT SYMDEF INIT('0'B
  203      %MEND;
  204      %MACRO LCS(C=0,I=0,L=0);
  205      ,%(CONCAT(BINBIT(C,%BITS_LCS_COST),BINBIT(I,%BITS_LCS_INDX),BINBIT(L,%BITS_LCS_LEN)))
  206      %MEND;
  207      %MACRO END_TABLE_LCS;
  208          );
  209      %MEND;
  210      %EQU MIN_LCS_ELEM = 0;
  211      %EQU MAX_LCS_ELEM = 21;
  212      %EQU BITS_LCS_ELEM = 5;
  213      %MACRO START_TABLE_LCS_ELEM;
  214      DCL LCS_ELEM(0:%LCS_ELEM_LEN) UBIN(%BITS_LCS_ELEM) UNAL CONSTANT SYMDEF INIT(0
  215      %MEND;
  216      %MACRO LCSE(E=0);
  217      ,E
  218      %MEND;
  219      %MACRO END_TABLE_LCS_ELEM;
  220          );
  221      %MEND;
  222      %EQU MIN_LCP_NT = 0;
09:09 AUG 09 '97 PADPDA_SUBS.:Z8A6SI                                       7    
  223      %EQU MAX_LCP_NT = 39;
  224      %EQU BITS_LCP_NT = 18;
  225      %EQU MIN_LCP_COST = 0;
  226      %EQU MAX_LCP_COST = 160;
  227      %EQU BITS_LCP_COST = 8;
  228      %EQU MIN_LCP_LEN = 0;
  229      %EQU MAX_LCP_LEN = 5;
  230      %EQU BITS_LCP_LEN = 3;
  231      %EQU MIN_LCP_INDX = 0;
  232      %EQU MAX_LCP_INDX = 46;
  233      %EQU BITS_LCP_INDX = 6;
  234      %EQU BITS_LCP = 35;
  235      %MACRO START_TABLE_LCP;
  236      DCL 1 LCP(0:%LCP_LEN) BIT(%BITS_LCP) UNAL CONSTANT SYMDEF INIT('0'B
  237      %MEND;
  238      %MACRO LCP(NT=0,C=0,I=0,L=0);
  239      ,%(CONCAT(BINBIT(NT,%BITS_LCP_NT),BINBIT(C,%BITS_LCP_COST),BINBIT(I,%BITS_LCP_INDX),BINBIT(L,%BITS_LCP_LEN)))
  240      %MEND;
  241      %MACRO END_TABLE_LCP;
  242          );
  243      %MEND;
  244      %EQU MIN_LCP_UBOUND = 0;
  245      %EQU MAX_LCP_UBOUND = 182;
  246      %EQU BITS_LCP_UBOUND = 8;
  247      %MACRO START_TABLE_LCP_UBOUND;
  248      DCL LCP_UBOUND(0:%LCP_UBOUND_LEN) UBIN(%BITS_LCP_UBOUND) UNAL CONSTANT SYMDEF INIT(0
  249      %MEND;
  250      %MACRO LCPUB(U=0);
  251      ,U
  252      %MEND;
  253      %MACRO END_TABLE_LCP_UBOUND;
  254          );
  255      %MEND;
  256      %EQU MIN_LCP_ELEM = 0;
  257      %EQU MAX_LCP_ELEM = 48;
  258      %EQU BITS_LCP_ELEM = 6;
  259      %MACRO START_TABLE_LCP_ELEM;
09:09 AUG 09 '97 PADPDA_SUBS.:Z8A6SI                                       8    
  260      DCL LCP_ELEM(0:%LCP_ELEM_LEN) UBIN(%BITS_LCP_ELEM) UNAL CONSTANT SYMDEF INIT(0
  261      %MEND;
  262      %MACRO LCPE(E=0);
  263      ,E
  264      %MEND;
  265      %MACRO END_TABLE_LCP_ELEM;
  266          );
  267      %MEND;
  268      %MACRO ERROR_COST_SYMREFS;
  269      DCL DEL_COST(0:%DEL_COST_LEN) UBIN(%BITS_DEL_COST) UNAL SYMREF READONLY;
  270      DCL 1 LCS(0:%LCS_LEN) UNAL SYMREF READONLY,
  271            2 COST UBIN(%BITS_LCS_COST) UNAL,
  272            2 INDX UBIN(%BITS_LCS_INDX) UNAL,
  273            2 LEN UBIN(%BITS_LCS_LEN) UNAL;
  274      DCL LCS_ELEM(0:%LCS_ELEM_LEN) UBIN(%BITS_LCS_ELEM) UNAL SYMREF READONLY;
  275      DCL 1 LCP(0:%LCP_LEN) UNAL SYMREF READONLY,
  276            2 NT UBIN(%BITS_LCP_NT) UNAL,
  277            2 COST UBIN(%BITS_LCP_COST) UNAL,
  278            2 INDX UBIN(%BITS_LCP_INDX) UNAL,
  279            2 LEN UBIN(%BITS_LCP_LEN) UNAL;
  280      DCL LCP_UBOUND(0:%LCP_UBOUND_LEN) UBIN(%BITS_LCP_UBOUND) UNAL SYMREF READONLY;
  281      DCL LCP_ELEM(0:%LCP_ELEM_LEN) UBIN(%BITS_LCP_ELEM) UNAL SYMREF READONLY;
  282      %MEND;
  283      %EQU STATE_ITEM_LEN = 95;
  284      %EQU ITEM_LEN = 345;
  285      %EQU PATH_LEN = 146;
  286      %EQU PATH_ELEM_LEN = 118;
  287      %EQU MIN_SSTATE = -1;
  288      %EQU MAX_SSTATE = 95;
  289      %EQU BITS_SSTATE = 8;
  290      %EQU MIN_SITEM = 0;
  291      %EQU MAX_SITEM = 6;
  292      %EQU BITS_SITEM = 3;
  293      %EQU MIN_IINDX = 0;
  294      %EQU MAX_IINDX = 145;
  295      %EQU BITS_IINDX = 8;
  296      %EQU MIN_ILEN = 0;
09:09 AUG 09 '97 PADPDA_SUBS.:Z8A6SI                                       9    
  297      %EQU MAX_ILEN = 12;
  298      %EQU BITS_ILEN = 4;
  299      %EQU BITS_ITEM = 23;
  300      %MACRO START_TABLE_ITEM;
  301      DCL 1 ITEM(0:%ITEM_LEN) BIT(%BITS_ITEM) UNAL CONSTANT SYMDEF INIT('0'B
  302      %MEND;
  303      %MACRO ITEM(SS=0,SI=0,I=0,L=0);
  304      ,%(CONCAT(BINBIT(SS,%BITS_SSTATE),BINBIT(SI,%BITS_SITEM),BINBIT(I,%BITS_IINDX),BINBIT(L,%BITS_ILEN)))
  305      %MEND;
  306      %MACRO END_TABLE_ITEM;
  307          );
  308      %MEND;
  309      %EQU MIN_SI_BASIS = 0;
  310      %EQU MAX_SI_BASIS = 345;
  311      %EQU BITS_SI_BASIS = 9;
  312      %EQU MIN_SI_CLOSURE = 0;
  313      %EQU MAX_SI_CLOSURE = 345;
  314      %EQU BITS_SI_CLOSURE = 9;
  315      %EQU BITS_STATE_ITEM = 18;
  316      %MACRO START_TABLE_STATE_ITEM;
  317      DCL 1 STATE_ITEM(0:%STATE_ITEM_LEN) BIT(%BITS_STATE_ITEM) UNAL CONSTANT SYMDEF INIT('0'B
  318      %MEND;
  319      %MACRO STINDX(B=0,C=0);
  320      ,%(CONCAT(BINBIT(B,%BITS_SI_BASIS),BINBIT(C,%BITS_SI_CLOSURE)))
  321      %MEND;
  322      %MACRO END_TABLE_STATE_ITEM;
  323          );
  324      %MEND;
  325      %EQU MIN_P_INDX = -1;
  326      %EQU MAX_P_INDX = 114;
  327      %EQU BITS_P_INDX = 8;
  328      %EQU MIN_P_LEN = 0;
  329      %EQU MAX_P_LEN = 10;
  330      %EQU BITS_P_LEN = 4;
  331      %EQU BITS_PATH = 12;
  332      %MACRO START_TABLE_PATH;
  333      DCL  PATH(0:%PATH_LEN) BIT(%BITS_PATH) UNAL CONSTANT SYMDEF INIT('0'B
09:09 AUG 09 '97 PADPDA_SUBS.:Z8A6SI                                       10   
  334      %MEND;
  335      %MACRO PATH(I=0,L=0);
  336      ,%(CONCAT(BINBIT(I,%BITS_P_INDX),BINBIT(L,%BITS_P_LEN)))
  337      %MEND;
  338      %MACRO END_TABLE_PATH;
  339          );
  340      %MEND;
  341      %EQU MIN_PATH_ELEM = 0;
  342      %EQU MAX_PATH_ELEM = 57;
  343      %EQU BITS_PATH_ELEM = 6;
  344      %MACRO START_TABLE_PATH_ELEM;
  345      DCL PATH_ELEM(0:%PATH_ELEM_LEN) UBIN(%BITS_PATH_ELEM) UNAL CONSTANT SYMDEF INIT(0
  346      %MEND;
  347      %MACRO PATHE(E=0);
  348      ,E
  349      %MEND;
  350      %MACRO END_TABLE_PATH_ELEM;
  351          );
  352      %MEND;
  353      %MACRO ERROR_PATH_SYMREFS;
  354      DCL 1 ITEM(0:%ITEM_LEN) UNAL SYMREF READONLY,
  355            2 SUCC_STATE SBIN(%BITS_SSTATE) UNAL,
  356            2 SUCC_ITEM UBIN(%BITS_SITEM) UNAL,
  357            2 INDX UBIN(%BITS_IINDX) UNAL,
  358            2 LEN UBIN(%BITS_ILEN) UNAL;
  359      DCL 1 STATE_ITEM(0:%STATE_ITEM_LEN) UNAL SYMREF READONLY,
  360            2 BASIS UBIN(%BITS_SI_BASIS) UNAL,
  361            2 CLOSURE UBIN(%BITS_SI_CLOSURE) UNAL;
  362      DCL 1 PATH(0:%PATH_LEN) UNAL SYMREF READONLY,
  363            2 INDX SBIN(%BITS_P_INDX) UNAL,
  364            2 LEN UBIN(%BITS_P_LEN) UNAL;
  365      DCL PATH_ELEM(0:%PATH_ELEM_LEN) UBIN(%BITS_PATH_ELEM) UNAL SYMREF READONLY;
  366      %MEND;


VERSION E05

PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:1    
        1        1        /*M* DUE$ERRMSG - Reports JIT.ERR and S_D.ERROR via M$ERRMSG */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* DMR,PLM=5,IND=5,CSU=3,EXM=0,ECU=3,MOC,DCI=5,CRT=5 */
        8        8        %SET LISTSUB='1'B;
        9        9                                                /**/
       10       10        DUE$ERRMSG: PROC;
       11       11                                                /**/
       12       12        %INCLUDE CP_6;
       13       93        %INCLUDE NK_VFC_C;
       14      167        /* Auto */
       15      168    1   DCL 1 JITERR,
       16      169    1         2 FCG BIT(12) UNAL,
       17      170    1         2 MID BIT(6) UNAL,
       18      171    1         2 MON BIT(1) UNAL,
       19      172    1         2 ERR# UBIN(14) UNAL,
       20      173    1         2 SEV UBIN(3) UNAL;
       21      174    1   DCL JDE REDEF JITERR UBIN(36);
       22      175    1   DCL DCBERR UBIN;
       23      176    1   DCL BUFFER CHAR(120);
       24      177    1   DCL LBUFFER CHAR(600);
       25      178    1   DCL I SBIN;
       26      179    1   DCL 1 FIELD_1,
       27      180    1         2 SIZE UBIN BYTE CALIGNED,
       28      181    1         2 TXT CHAR(31);
       29      182    1   DCL 1 FIELD_2,
       30      183    1         2 SIZE UBIN BYTE CALIGNED,
       31      184    1         2 TXT CHAR(31);
       32      185    1   DCL X1 UBIN;
       33      186    1   DCL SIZE UBIN;
       34      187        %FPT_ERRMSG (FPTN=FPTERRMSG,
       35      188                     STCLASS=AUTO);
       36      215        /* Based */
       37      216    1   DCL CHAR$STRING CHAR( DCBERR ) BASED UNAL;
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:2    
       38      217    1   DCL CHAR$1 CHAR(1) BASED UNAL;
       39      218    1   DCL 1 TEXT$C BASED UNAL,
       40      219    1         2 SIZE UBIN BYTE CALIGNED,
       41      220    1         2 TXT CHAR(TEXT$C.SIZE);
       42      221        %B$ALT;
       43      229        %B$TCB;
       44      232        %B$EXCFR;
       45      250        %F$DCB;
       46      307        %INCLUDE XUH_MACRO_C;
       47      391        %INCLUDE DD_SD_M;
       48     1727        %S_D;
       49     3045        /* Symref */
       50     3046    1   DCL D_M$DO# UBIN SYMREF;
       51     3047    1   DCL B$TCB$ PTR SYMREF;
       52     3048        /* Constant */
       53     3049        %FPT_ERRMSG (FPTN=FPT_ERRMSG,
       54     3050                     STCLASS=CONSTANT,
       55     3051                     INCLCODE=YES);
       56     3078        %FPT_ERRMSG (FPTN=DDE_FPT_ERRMSG,
       57     3079                     STCLASS=CONSTANT SYMDEF,
       58     3080                     SUBMESS=YES,
       59     3081                     INCLCODE=NO);
       60     3108        %VLP_NAME (FPTN=DDE_FILENAME,
       61     3109                   STCLASS=CONSTANT SYMDEF,
       62     3110                   NAME=':ERRMSG');
       63     3137        %VLP_ACCT (FPTN=DDE_FILEACCT,
       64     3138                   STCLASS=CONSTANT SYMDEF,
       65     3139                   ACCT=':XDGN   ');
       66     3152        /* Entry */
       67     3153    1   DCL DDK$GETX1 ENTRY(1);
       68     3154    1   DCL DDR$BINTXT ENTRY(4);
       69     3155        /* Misc */
       70     3156        %INCLUDE DD_ERR_C;
       71     3553        %INCLUDE DD_DEBUG_C;
       72     3574        %INCLUDE DD$DITEM;
       12+    3677             %LIST;
       13+    3678    1        DCL SDD$ PTR;
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:3    
       14+    3679    1        DCL ZITEM$ PTR;
       15+    3680    1        DCL SDD_L6$ PTR;
       16+    3681    1        DCL ZITEM_L6$ PTR;
       73     4255        %SUB INTNERR=500 ;                      /* Where internal errors start */
       74     4256        %SUB DELTA_FCG='040405'O ;              /* "DDE" in 6-bit code */
       75     4257                                                /**/
       76     4258    1        JITERR = B$TCB$->B$TCB.ALT$->B$ALT.ERR;
       77     4259    1        DCBERR = B$TCB$->B$TCB.ALT$->B$ALT.DCB#;
       78     4260    1        GOTO L1;
       79     4261    1   DUE$ERRMSG1: ENTRY;
       80     4262
       81     4263    1        JITERR = B$TCB$->B$TCB.ALT$->B$ALT.ERR;
       82     4264    1        DCBERR = 0;
       83     4265    1        GOTO L1;
       84     4266                                                /**/
       85     4267    1   DUE$HERRMSG: ENTRY;
       86     4268                                                /**/
       87     4269    1        JITERR = S_D.JITERR;
       88     4270    1        DCBERR = S_D.JDCBERR;
       89     4271    1        GOTO L1;
       90     4272                                                /**/
       91     4273    1   DUE$GERRMSG: ENTRY;
       92     4274                                                /**/
       93     4275    1        JDE = S_D.JDE;
       94     4276    1        DCBERR = S_D.JDCBERR;
       95     4277    1        FPTERRMSG = FPT_ERRMSG;
       96     4278    1        FPTERRMSG.V_ = VECTOR(FPTERRMSG.V);
       97     4279    1        FPTERRMSG.V.L6_CODE# = '1'B;
       98     4280    1        FPTERRMSG.V.INCLCODE# = '1'B;
       99     4281    1        GOTO L2;
      100     4282    1   DUE$L6ERRMSG: ENTRY;
      101     4283
      102     4284    1        FPTERRMSG = FPT_ERRMSG;
      103     4285    1        FPTERRMSG.V_ = VECTOR ( FPTERRMSG.V );
      104     4286    1        FPTERRMSG.V.L6_CODE# = '1'B;
      105     4287    1        FPTERRMSG.V.INCLCODE# = '1'B;
      106     4288    1        GOTO L3;
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:4    
      107     4289                                                /**/
      108     4290    1   DUE$UERRMSG: ENTRY;
      109     4291                                                /**/
      110     4292    1        JITERR = B$TCB$->B$TCB.STK$->B$EXCFR.ERR;
      111     4293    1        DCBERR = 0;
      112     4294    1   L1:  ;
      113     4295    1        JITERR.SEV = 0;
      114     4296    1        FPTERRMSG = FPT_ERRMSG;
      115     4297    1        FPTERRMSG.V_ = VECTOR( FPTERRMSG.V );
      116     4298    1   L2:  ;
      117     4299    1        FPTERRMSG.CODE_ = VECTOR( JITERR );
      118     4300    1        FPTERRMSG.BUF_ = VECTOR( BUFFER );
      119     4301    1        FPTERRMSG.V.DCB# = DCBERR;
      120     4302    1        FPTERRMSG.V.OUTDCB1# = D_M$DO#;
      121     4303    1        IF S_D.RUM
      122     4304    2        THEN DO;
      123     4305    2             S_D.RUM_ERRORS = S_D.RUM_ERRORS + 1;
      124     4306    2             S_D.RUM_TOTAL_ERRORS = S_D.RUM_TOTAL_ERRORS + 1;
      125     4307    2           END;
      126     4308    1        IF NOT DCBADDR( D_M$DO# ) -> F$DCB.DDEV.UCOUT#
      127     4309    2        THEN DO;
      128     4310    2             IF NOT S_D.BATCH
      129     4311    2             THEN FPTERRMSG.V.OUTDCB2# = DCBNUM( M$UC );
      130     4312    2             IF S_D.RUM
      131     4313    2             THEN FPTERRMSG.V.FLAGLEV# = 4;
      132     4314    2           END;
      133     4315    1        IF S_D.USVFC OR S_D.LWEXTEND
      134     4316    2        THEN DO;
      135     4317    2             S_D.USVFC = '0'B;
      136     4318    2             S_D.LWEXTEND = '0'B;
      137     4319    2             FPTERRMSG.V.VFC# = %VFC_TRANSITION1;
      138     4320    2           END;
      139     4321    1        ELSE FPTERRMSG.V.VFC# = %VFC_S1A;
      140     4322    1        S_D.LAST_ERROR = JITERR;
      141     4323    1        CALL M$ERRMSG( FPTERRMSG ) ALTRET( ERRMSGALTRET );
      142     4324                                                /**/
      143     4325    1        RETURN;
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:5    
      144     4326                                                /**/
      145     4327    1   DUE$L6JERRMSG: ENTRY;
      146     4328
      147     4329    1        FPTERRMSG = FPT_ERRMSG;
      148     4330    1        FPTERRMSG.V_ = VECTOR(FPTERRMSG.V);
      149     4331    1        FPTERRMSG.V.L6_CODE# = '1'B;
      150     4332    1        FPTERRMSG.V.INCLCODE# = '1'B;
      151     4333    1        GOTO L3;
      152     4334                                                /**/
      153     4335    1   DUE$JERRMSG: ENTRY;
      154     4336                                                /**/
      155     4337    1        FPTERRMSG = FPT_ERRMSG;
      156     4338    1        FPTERRMSG.V_ = VECTOR( FPTERRMSG.V );
      157     4339    1   L3:  ;
      158     4340    1        FPTERRMSG.CODE_ = VECTOR( S_D.JITERR );
      159     4341    1        FPTERRMSG.BUF_ = VECTOR( LBUFFER );
      160     4342    1        FPTERRMSG.FILENAME_ = VECTOR(S_D.ERRFID);
      161     4343    1        FPTERRMSG.FILEACCT_ = VECTOR(S_D.ERRACCT);
      162     4344    1        FPTERRMSG.FILEPASS_ = VECTOR(S_D.ERRPASS);
      163     4345    1        LBUFFER = ' ';
      164     4346    1        S_D.LAST_ERROR = S_D.JITERR;
      165     4347    1        CALL M$ERRMSG( FPTERRMSG ) ALTRET( ERRMSGALTRET );
      166     4348    2        DO I = 0 TO 480 BY 120;            /* Do in 120 character chunks */
      167     4349    2             DCBERR = MINIMUM( 120, POFFC( S_D.DESCL$, S_D.D$ ) );
      168     4350    2             S_D.D$ -> CHAR$STRING = SUBSTR(LBUFFER, I, 120);
      169     4351    2             S_D.D$ = PINCRC( S_D.D$, DCBERR - 1 ); /* Last byte in buffer */
      170     4352    2             IF S_D.D$ -> CHAR$1 = ' '
      171     4353    3             THEN DO WHILE ( S_D.D$ -> CHAR$1 = ' ' );
      172     4354    3                  S_D.D$ = PINCRC( S_D.D$, -1 );
      173     4355    3                END;
      174     4356    2             S_D.D$ = PINCRC( S_D.D$, 1 );
      175     4357    2           END;
      176     4358                                                /**/
      177     4359    1        RETURN;
      178     4360                                                /**/
      179     4361        %EJECT;
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:6    
      180     4362                                                /**/
      181     4363    1   DDE$ERROR: ENTRY;
      182     4364                                                /**/
      183     4365    1        FPTERRMSG = DDE_FPT_ERRMSG;
      184     4366    1        FPTERRMSG.V_ = VECTOR( FPTERRMSG.V );
      185     4367    1        FPTERRMSG.CODE_ = VECTOR( S_D.LAST_ERROR );
      186     4368    1        FPTERRMSG.BUF_ = VECTOR( S_D.OUTPUT );
      187     4369    1        FPTERRMSG.V.OUTDCB1# = D_M$DO#;
      188     4370    1        IF S_D.USVFC OR S_D.LWEXTEND
      189     4371    2        THEN DO;
      190     4372    2             S_D.USVFC = '0'B;
      191     4373    2             S_D.LWEXTEND = '0'B;
      192     4374    2             FPTERRMSG.V.VFC# = %VFC_TRANSITION1;
      193     4375    2           END;
      194     4376    1        ELSE FPTERRMSG.V.VFC# = %VFC_S1A;
      195     4377    1        IF S_D.RUM
      196     4378    2        THEN DO;
      197     4379    2             S_D.RUM_ERRORS = S_D.RUM_ERRORS + 1;
      198     4380    2             S_D.RUM_TOTAL_ERRORS = S_D.RUM_TOTAL_ERRORS + 1;
      199     4381    2           END;
      200     4382    1        IF NOT DCBADDR( D_M$DO# ) -> F$DCB.DDEV.UCOUT#
      201     4383    2        THEN DO;
      202     4384    2             IF NOT S_D.BATCH
      203     4385    2             THEN FPTERRMSG.V.OUTDCB2# = DCBNUM( M$UC );
      204     4386    2             IF S_D.RUM
      205     4387    2             THEN FPTERRMSG.V.FLAGLEV# = 4;
      206     4388    2           END;
      207     4389                                                /**/
      208     4390    1        IF S_D.DEBUGA( %DB@PRNTCODE )
      209     4391    1        THEN FPTERRMSG.V.INCLCODE# = '1'B;
      210     4392    1        FIELD_1.SIZE = 0;
      211     4393    1        IF S_D.ERROR >= 500            /* INTNERR */
      212     4394    2        THEN DO;
      213     4395    2             CALL DDK$GETX1( X1 );
      214     4396    2             CALL DDR$BINTXT ( ADDR( FIELD_1.TXT ), X1, %OCT_FMT, SIZE );
      215     4397    2             FIELD_1.SIZE = SIZE;
      216     4398    2           END;
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:7    
      217     4399    1        ELSE IF S_D.ERROR_SYM$ ~= ADDR( NIL )
      218     4400    2             THEN DO;
      219     4401    2                  FIELD_1 = S_D.ERROR_SYM$ -> B$ALT;
      220     4402    2                  IF FIELD_1.SIZE < 32 THEN EXIT;
      221     4403    2                  FIELD_1.SIZE = 31;
      222     4404    2                  SUBSTR (FIELD_1.TXT,28) = '...';
      223     4405    2                END;
      224     4406    1        FPTERRMSG.FIELD1_ = VECTOR( FIELD_1 );
      225     4407    1        IF ( S_D.ERROR = 11 ) OR      /* E@UERR0 */
      226     4408    1          ( S_D.ERROR = 500 ) OR     /* E@PARSERR */
      227     4409    1          ( S_D.ERROR = 256 ) OR /* E@CANT_UPDATE */
      228     4410    1          ( S_D.ERROR = 188 ) OR  /* E@WRONG#SUBS */
      229     4411    1          ( S_D.ERROR = 507 ) OR   /* E@BADFPRGAT */
      230     4412    1          ( S_D.ERROR = 294 ) /* E@TOOMANY_DIGITS */
      231     4413    2        THEN DO;
      232     4414    2             CALL DDR$BINTXT ( ADDR( FIELD_2.TXT ), S_D.ERROR_HICHAR, %UINT_FMT, SIZE )
              4414                      ;
      233     4415    2             FIELD_2.SIZE = SIZE;
      234     4416    2             FPTERRMSG.FIELD2_ = VECTOR( FIELD_2 );
      235     4417    2           END;
      236     4418    1        S_D.LAST_ERROR = '0'B;
      237     4419    1        S_D.LAST_ERROR.FCG_MID = '040405'O; /* DELTA_FCG */
      238     4420    1        S_D.LAST_ERROR.ERR# = S_D.ERROR;
      239     4421    2        CALL M$ERRMSG ( FPTERRMSG ) WHENALTRETURN DO;
      240     4422    2   ERRMSGALTRET: FPTERRMSG.V.NREAD# = '1'B;
      241     4423    2             S_D.OUTPUT = 'M$ERRMSG altreturned!';
      242     4424    2             CALL M$ERRMSG( FPTERRMSG );
      243     4425    2           END;
      244     4426                                                /**/
      245     4427    1        RETURN;
      246     4428                                                /**/
      247     4429    1   END DUE$ERRMSG;

PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:8    
--  Include file information  --

   DD_SRTN_C.:E05TOU  is referenced.
   DD_ACODE_C.:E05TOU  is referenced.
   DD_ICODE_C.:E05TOU  is referenced.
   DD$DITEM.:E05TOU  cannot be made into a system file and is referenced.
   DD_DEBUG_C.:E05TOU  is referenced.
   DD_ERR_C.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   NK_VFC_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure DUE$ERRMSG.

   Procedure DUE$ERRMSG requires 414 words for executable code.
   Procedure DUE$ERRMSG requires 240 words of local(AUTO) storage.

    No errors detected in file DUE$ERRMSG.:E05TSI    .

PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:9    

 Object Unit name= DUE$ERRMSG                                 File name= DUE$ERRMSG.:E05TOU
 UTS= JUL 29 '97 14:51:43.60 TUE                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0   DCB   even  none     0      0  M$UC
    1  RoData even  UTS     63     77  DUE$ERRMSG
    2   Proc  even  none   414    636  DUE$ERRMSG
    3  RoData even  none    12     14  DUE$ERRMSG

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     2      0   yes            yes      Std        0  DUE$ERRMSG
     2     12                  yes      Std        0  DUE$ERRMSG1
     2     22                  yes      Std        0  DUE$HERRMSG
     2     32                  yes      Std        0  DUE$GERRMSG
     2     56                  yes      Std        0  DUE$L6ERRMSG
     2     75                  yes      Std        0  DUE$UERRMSG
     2    206                  yes      Std        0  DUE$L6JERRMSG
     2    225                  yes      Std        0  DUE$JERRMSG
     2    357                  yes      Std        0  DDE$ERROR

  ****  Data defs  ****

 Sect OctLoc  Name                           Sect OctLoc  Name
    1     32  DDE_FPT_ERRMSG                     1     64  DDE_FILENAME
    1     66  DDE_FILEACCT
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:10   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       1 DDK$GETX1
         yes           Std       4 DDR$BINTXT
                       nStd      0 X66_AUTO_0
                       nStd      0 X66_ARET
                       Std       0 B_CONSPOOL_D

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     M$UC                             r    S_D$                                  D_M$DO#
     B$TCB$                                B_VECTNIL

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     ISSID                                 NULLSID                               ROSID
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:11   


        1        1        /*M* DUE$ERRMSG - Reports JIT.ERR and S_D.ERROR via M$ERRMSG */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*X* DMR,PLM=5,IND=5,CSU=3,EXM=0,ECU=3,MOC,DCI=5,CRT=5 */
        8        8        %SET LISTSUB='1'B;
        9        9                                                /**/
       10       10        DUE$ERRMSG: PROC;

     10  2 000000   000000 700200 xent  DUE$ERRMSG   TSX0  ! X66_AUTO_0
         2 000001   000360 000000                    ZERO    240,0

       11       11                                                /**/
       12       12        %INCLUDE CP_6;
       13       93        %INCLUDE NK_VFC_C;
       14      167        /* Auto */
       15      168    1   DCL 1 JITERR,
       16      169    1         2 FCG BIT(12) UNAL,
       17      170    1         2 MID BIT(6) UNAL,
       18      171    1         2 MON BIT(1) UNAL,
       19      172    1         2 ERR# UBIN(14) UNAL,
       20      173    1         2 SEV UBIN(3) UNAL;
       21      174    1   DCL JDE REDEF JITERR UBIN(36);
       22      175    1   DCL DCBERR UBIN;
       23      176    1   DCL BUFFER CHAR(120);
       24      177    1   DCL LBUFFER CHAR(600);
       25      178    1   DCL I SBIN;
       26      179    1   DCL 1 FIELD_1,
       27      180    1         2 SIZE UBIN BYTE CALIGNED,
       28      181    1         2 TXT CHAR(31);
       29      182    1   DCL 1 FIELD_2,
       30      183    1         2 SIZE UBIN BYTE CALIGNED,
       31      184    1         2 TXT CHAR(31);
       32      185    1   DCL X1 UBIN;
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:12   
       33      186    1   DCL SIZE UBIN;
       34      187        %FPT_ERRMSG (FPTN=FPTERRMSG,
       35      188                     STCLASS=AUTO);
       36      215        /* Based */
       37      216    1   DCL CHAR$STRING CHAR( DCBERR ) BASED UNAL;
       38      217    1   DCL CHAR$1 CHAR(1) BASED UNAL;
       39      218    1   DCL 1 TEXT$C BASED UNAL,
       40      219    1         2 SIZE UBIN BYTE CALIGNED,
       41      220    1         2 TXT CHAR(TEXT$C.SIZE);
       42      221        %B$ALT;
       43      229        %B$TCB;
       44      232        %B$EXCFR;
       45      250        %F$DCB;
       46      307        %INCLUDE XUH_MACRO_C;
       47      391        %INCLUDE DD_SD_M;
       48     1727        %S_D;
       49     3045        /* Symref */
       50     3046    1   DCL D_M$DO# UBIN SYMREF;
       51     3047    1   DCL B$TCB$ PTR SYMREF;
       52     3048        /* Constant */
       53     3049        %FPT_ERRMSG (FPTN=FPT_ERRMSG,
       54     3050                     STCLASS=CONSTANT,
       55     3051                     INCLCODE=YES);
       56     3078        %FPT_ERRMSG (FPTN=DDE_FPT_ERRMSG,
       57     3079                     STCLASS=CONSTANT SYMDEF,
       58     3080                     SUBMESS=YES,
       59     3081                     INCLCODE=NO);
       60     3108        %VLP_NAME (FPTN=DDE_FILENAME,
       61     3109                   STCLASS=CONSTANT SYMDEF,
       62     3110                   NAME=':ERRMSG');
       63     3137        %VLP_ACCT (FPTN=DDE_FILEACCT,
       64     3138                   STCLASS=CONSTANT SYMDEF,
       65     3139                   ACCT=':XDGN   ');
       66     3152        /* Entry */
       67     3153    1   DCL DDK$GETX1 ENTRY(1);
       68     3154    1   DCL DDR$BINTXT ENTRY(4);
       69     3155        /* Misc */
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:13   
       70     3156        %INCLUDE DD_ERR_C;
       71     3553        %INCLUDE DD_DEBUG_C;
       72     3574        %INCLUDE DD$DITEM;
       12+    3677             %LIST;
       13+    3678    1        DCL SDD$ PTR;
       14+    3679    1        DCL ZITEM$ PTR;
       15+    3680    1        DCL SDD_L6$ PTR;
       16+    3681    1        DCL ZITEM_L6$ PTR;
       73     4255        %SUB INTNERR=500 ;                      /* Where internal errors start */
       74     4256        %SUB DELTA_FCG='040405'O ;              /* "DDE" in 6-bit code */
       75     4257                                                /**/
       76     4258    1        JITERR = B$TCB$->B$TCB.ALT$->B$ALT.ERR;

   4258  2 000002   000000 470400 xsym               LDP0    B$TCB$
         2 000003   000000 471500                    LDP1    0,,PR0
         2 000004   100102 236100                    LDQ     66,,PR1
         2 000005   200003 756100                    STQ     JITERR,,AUTO

       77     4259    1        DCBERR = B$TCB$->B$TCB.ALT$->B$ALT.DCB#;

   4259  2 000006   000000 471500                    LDP1    0,,PR0
         2 000007   100101 235100                    LDA     65,,PR1
         2 000010   200004 755100                    STA     DCBERR,,AUTO

       78     4260    1        GOTO L1;

   4260  2 000011   000104 710000 2                  TRA     L1

       79     4261    1   DUE$ERRMSG1: ENTRY;

   4261  2 000012   000000 700200 xent  DUE$ERRMSG1  TSX0  ! X66_AUTO_0
         2 000013   000360 000000                    ZERO    240,0

       80     4262
       81     4263    1        JITERR = B$TCB$->B$TCB.ALT$->B$ALT.ERR;

   4263  2 000014   000000 470400 xsym               LDP0    B$TCB$
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:14   
         2 000015   000000 471500                    LDP1    0,,PR0
         2 000016   100102 236100                    LDQ     66,,PR1
         2 000017   200003 756100                    STQ     JITERR,,AUTO

       82     4264    1        DCBERR = 0;

   4264  2 000020   200004 450100                    STZ     DCBERR,,AUTO

       83     4265    1        GOTO L1;

   4265  2 000021   000104 710000 2                  TRA     L1

       84     4266                                                /**/
       85     4267    1   DUE$HERRMSG: ENTRY;

   4267  2 000022   000000 700200 xent  DUE$HERRMSG  TSX0  ! X66_AUTO_0
         2 000023   000360 000000                    ZERO    240,0

       86     4268                                                /**/
       87     4269    1        JITERR = S_D.JITERR;

   4269  2 000024   000000 470400 xsym               LDP0    S_D$
         2 000025   004733 236100                    LDQ     2523,,PR0
         2 000026   200003 756100                    STQ     JITERR,,AUTO

       88     4270    1        DCBERR = S_D.JDCBERR;

   4270  2 000027   000604 235100                    LDA     388,,PR0
         2 000030   200004 755100                    STA     DCBERR,,AUTO

       89     4271    1        GOTO L1;

   4271  2 000031   000104 710000 2                  TRA     L1

       90     4272                                                /**/
       91     4273    1   DUE$GERRMSG: ENTRY;

PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:15   
   4273  2 000032   000000 700200 xent  DUE$GERRMSG  TSX0  ! X66_AUTO_0
         2 000033   000360 000000                    ZERO    240,0

       92     4274                                                /**/
       93     4275    1        JDE = S_D.JDE;

   4275  2 000034   000000 470400 xsym               LDP0    S_D$
         2 000035   004733 235100                    LDA     2523,,PR0
         2 000036   200003 755100                    STA     JITERR,,AUTO

       94     4276    1        DCBERR = S_D.JDCBERR;

   4276  2 000037   000604 235100                    LDA     388,,PR0
         2 000040   200004 755100                    STA     DCBERR,,AUTO

       95     4277    1        FPTERRMSG = FPT_ERRMSG;

   4277  2 000041   000100 100400                    MLR     fill='000'O
         2 000042   000000 000150 1                  ADSC9   FPT_ERRMSG               cn=0,n=104
         2 000043   200314 000150                    ADSC9   FPTERRMSG,,AUTO          cn=0,n=104

       96     4278    1        FPTERRMSG.V_ = VECTOR(FPTERRMSG.V);

   4278  2 000044   000000 235000 3                  LDA     0
         2 000045   200352 452500                    STP2    FPTERRMSG+30,,AUTO
         2 000046   200352 236100                    LDQ     FPTERRMSG+30,,AUTO
         2 000047   000342 036003                    ADLQ    226,DU
         2 000050   200314 757100                    STAQ    FPTERRMSG,,AUTO

       97     4279    1        FPTERRMSG.V.L6_CODE# = '1'B;

   4279  2 000051   000004 236007                    LDQ     4,DL
         2 000052   200344 256100                    ORSQ    FPTERRMSG+24,,AUTO

       98     4280    1        FPTERRMSG.V.INCLCODE# = '1'B;

   4280  2 000053   004000 236003                    LDQ     2048,DU
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:16   
         2 000054   200344 256100                    ORSQ    FPTERRMSG+24,,AUTO

       99     4281    1        GOTO L2;

   4281  2 000055   000116 710000 2                  TRA     L2

      100     4282    1   DUE$L6ERRMSG: ENTRY;

   4282  2 000056   000000 700200 xent  DUE$L6ERRMSG TSX0  ! X66_AUTO_0
         2 000057   000360 000000                    ZERO    240,0

      101     4283
      102     4284    1        FPTERRMSG = FPT_ERRMSG;

   4284  2 000060   000100 100400                    MLR     fill='000'O
         2 000061   000000 000150 1                  ADSC9   FPT_ERRMSG               cn=0,n=104
         2 000062   200314 000150                    ADSC9   FPTERRMSG,,AUTO          cn=0,n=104

      103     4285    1        FPTERRMSG.V_ = VECTOR ( FPTERRMSG.V );

   4285  2 000063   000000 235000 3                  LDA     0
         2 000064   200352 452500                    STP2    FPTERRMSG+30,,AUTO
         2 000065   200352 236100                    LDQ     FPTERRMSG+30,,AUTO
         2 000066   000342 036003                    ADLQ    226,DU
         2 000067   200314 757100                    STAQ    FPTERRMSG,,AUTO

      104     4286    1        FPTERRMSG.V.L6_CODE# = '1'B;

   4286  2 000070   000004 236007                    LDQ     4,DL
         2 000071   200344 256100                    ORSQ    FPTERRMSG+24,,AUTO

      105     4287    1        FPTERRMSG.V.INCLCODE# = '1'B;

   4287  2 000072   004000 236003                    LDQ     2048,DU
         2 000073   200344 256100                    ORSQ    FPTERRMSG+24,,AUTO

      106     4288    1        GOTO L3;
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:17   

   4288  2 000074   000237 710000 2                  TRA     L3

      107     4289                                                /**/
      108     4290    1   DUE$UERRMSG: ENTRY;

   4290  2 000075   000000 700200 xent  DUE$UERRMSG  TSX0  ! X66_AUTO_0
         2 000076   000360 000000                    ZERO    240,0

      109     4291                                                /**/
      110     4292    1        JITERR = B$TCB$->B$TCB.STK$->B$EXCFR.ERR;

   4292  2 000077   000000 470400 xsym               LDP0    B$TCB$
         2 000100   000001 471500                    LDP1    1,,PR0
         2 000101   100102 236100                    LDQ     66,,PR1
         2 000102   200003 756100                    STQ     JITERR,,AUTO

      111     4293    1        DCBERR = 0;

   4293  2 000103   200004 450100                    STZ     DCBERR,,AUTO

   4293  2 000104                       L1           null
      112     4294    1   L1:  ;
      113     4295    1        JITERR.SEV = 0;

   4295  2 000104   000001 236000 3                  LDQ     1
         2 000105   200003 356100                    ANSQ    JITERR,,AUTO

      114     4296    1        FPTERRMSG = FPT_ERRMSG;

   4296  2 000106   000100 100400                    MLR     fill='000'O
         2 000107   000000 000150 1                  ADSC9   FPT_ERRMSG               cn=0,n=104
         2 000110   200314 000150                    ADSC9   FPTERRMSG,,AUTO          cn=0,n=104

      115     4297    1        FPTERRMSG.V_ = VECTOR( FPTERRMSG.V );

   4297  2 000111   000000 235000 3                  LDA     0
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:18   
         2 000112   200352 452500                    STP2    FPTERRMSG+30,,AUTO
         2 000113   200352 236100                    LDQ     FPTERRMSG+30,,AUTO
         2 000114   000342 036003                    ADLQ    226,DU
         2 000115   200314 757100                    STAQ    FPTERRMSG,,AUTO

   4297  2 000116                       L2           null
      116     4298    1   L2:  ;
      117     4299    1        FPTERRMSG.CODE_ = VECTOR( JITERR );

   4299  2 000116   777640 235007                    LDA     -96,DL
         2 000117   200352 452500                    STP2    FPTERRMSG+30,,AUTO
         2 000120   200352 236100                    LDQ     FPTERRMSG+30,,AUTO
         2 000121   000003 036003                    ADLQ    3,DU
         2 000122   200316 757100                    STAQ    FPTERRMSG+2,,AUTO

      118     4300    1        FPTERRMSG.BUF_ = VECTOR( BUFFER );

   4300  2 000123   000002 235000 3                  LDA     2
         2 000124   200352 452500                    STP2    FPTERRMSG+30,,AUTO
         2 000125   200352 236100                    LDQ     FPTERRMSG+30,,AUTO
         2 000126   000005 036003                    ADLQ    5,DU
         2 000127   200320 757100                    STAQ    FPTERRMSG+4,,AUTO

      119     4301    1        FPTERRMSG.V.DCB# = DCBERR;

   4301  2 000130   200004 720100                    LXL0    DCBERR,,AUTO
         2 000131   200342 740100                    STX0    FPTERRMSG+22,,AUTO

      120     4302    1        FPTERRMSG.V.OUTDCB1# = D_M$DO#;

   4302  2 000132   000000 721000 xsym               LXL1    D_M$DO#
         2 000133   200342 441100                    SXL1    FPTERRMSG+22,,AUTO

      121     4303    1        IF S_D.RUM

   4303  2 000134   000000 470400 xsym               LDP0    S_D$
         2 000135   004755 234100                    SZN     2541,,PR0
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:19   
         2 000136   000145 605000 2                  TPL     s:4308

      122     4304    2        THEN DO;

      123     4305    2             S_D.RUM_ERRORS = S_D.RUM_ERRORS + 1;

   4305  2 000137   000514 235100                    LDA     332,,PR0
         2 000140   000001 035007                    ADLA    1,DL
         2 000141   000514 755100                    STA     332,,PR0

      124     4306    2             S_D.RUM_TOTAL_ERRORS = S_D.RUM_TOTAL_ERRORS + 1;

   4306  2 000142   000515 235100                    LDA     333,,PR0
         2 000143   000001 035007                    ADLA    1,DL
         2 000144   000515 755100                    STA     333,,PR0

      125     4307    2           END;

      126     4308    1        IF NOT DCBADDR( D_M$DO# ) -> F$DCB.DDEV.UCOUT#

   4308  2 000145   000003 471400 3                  LDP1    3
         2 000146   100000 473500                    LDP3    0,,PR1
         2 000147   300000 474511                    LDP4    0,X1,PR3
         2 000150   400004 236100                    LDQ     4,,PR4
         2 000151   020000 316007                    CANQ    8192,DL
         2 000152   000164 601000 2                  TNZ     s:4315

      127     4309    2        THEN DO;

      128     4310    2             IF NOT S_D.BATCH

   4310  2 000153   004625 234100                    SZN     2453,,PR0
         2 000154   000160 604000 2                  TMI     s:4312

      129     4311    2             THEN FPTERRMSG.V.OUTDCB2# = DCBNUM( M$UC );

   4311  2 000155   000000 236007 xsym               LDQ     M$UC,DL
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:20   
         2 000156   000000 622006                    EAX2    0,QL
         2 000157   200343 742100                    STX2    FPTERRMSG+23,,AUTO

      130     4312    2             IF S_D.RUM

   4312  2 000160   004755 234100                    SZN     2541,,PR0
         2 000161   000164 605000 2                  TPL     s:4315

      131     4313    2             THEN FPTERRMSG.V.FLAGLEV# = 4;

   4313  2 000162   004000 236007                    LDQ     2048,DL
         2 000163   200343 552110                    STBQ    FPTERRMSG+23,'10'O,AUTO

      132     4314    2           END;

      133     4315    1        IF S_D.USVFC OR S_D.LWEXTEND

   4315  2 000164   005144 234100                    SZN     2660,,PR0
         2 000165   000170 604000 2                  TMI     s:4317
         2 000166   005202 234100                    SZN     2690,,PR0
         2 000167   000175 605000 2                  TPL     s:4321

      134     4316    2        THEN DO;

      135     4317    2             S_D.USVFC = '0'B;

   4317  2 000170   005144 450100                    STZ     2660,,PR0

      136     4318    2             S_D.LWEXTEND = '0'B;

   4318  2 000171   005202 450100                    STZ     2690,,PR0

      137     4319    2             FPTERRMSG.V.VFC# = %VFC_TRANSITION1;

   4319  2 000172   000037 236007                    LDQ     31,DL
         2 000173   200343 552104                    STBQ    FPTERRMSG+23,'04'O,AUTO

PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:21   
      138     4320    2           END;

   4320  2 000174   000177 710000 2                  TRA     s:4322

      139     4321    1        ELSE FPTERRMSG.V.VFC# = %VFC_S1A;

   4321  2 000175   000101 236007                    LDQ     65,DL
         2 000176   200343 552104                    STBQ    FPTERRMSG+23,'04'O,AUTO

      140     4322    1        S_D.LAST_ERROR = JITERR;

   4322  2 000177   200003 236100                    LDQ     JITERR,,AUTO
         2 000200   005234 756100                    STQ     2716,,PR0

      141     4323    1        CALL M$ERRMSG( FPTERRMSG ) ALTRET( ERRMSGALTRET );

   4323  2 000201   200314 630500                    EPPR0   FPTERRMSG,,AUTO
         2 000202   420000 713400                    CLIMB   alt,+8192
         2 000203   405000 401760                    pmme    nvectors=11
         2 000204   000624 702000 2                  TSX2    ERRMSGALTRET

      142     4324                                                /**/
      143     4325    1        RETURN;

   4325  2 000205   000000 702200 xent               TSX2  ! X66_ARET

      144     4326                                                /**/
      145     4327    1   DUE$L6JERRMSG: ENTRY;

   4327  2 000206   000000 700200 xent  DUE$L6JERRM* TSX0  ! X66_AUTO_0
         2 000207   000360 000000                    ZERO    240,0

      146     4328
      147     4329    1        FPTERRMSG = FPT_ERRMSG;

   4329  2 000210   000100 100400                    MLR     fill='000'O
         2 000211   000000 000150 1                  ADSC9   FPT_ERRMSG               cn=0,n=104
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:22   
         2 000212   200314 000150                    ADSC9   FPTERRMSG,,AUTO          cn=0,n=104

      148     4330    1        FPTERRMSG.V_ = VECTOR(FPTERRMSG.V);

   4330  2 000213   000000 235000 3                  LDA     0
         2 000214   200352 452500                    STP2    FPTERRMSG+30,,AUTO
         2 000215   200352 236100                    LDQ     FPTERRMSG+30,,AUTO
         2 000216   000342 036003                    ADLQ    226,DU
         2 000217   200314 757100                    STAQ    FPTERRMSG,,AUTO

      149     4331    1        FPTERRMSG.V.L6_CODE# = '1'B;

   4331  2 000220   000004 236007                    LDQ     4,DL
         2 000221   200344 256100                    ORSQ    FPTERRMSG+24,,AUTO

      150     4332    1        FPTERRMSG.V.INCLCODE# = '1'B;

   4332  2 000222   004000 236003                    LDQ     2048,DU
         2 000223   200344 256100                    ORSQ    FPTERRMSG+24,,AUTO

      151     4333    1        GOTO L3;

   4333  2 000224   000237 710000 2                  TRA     L3

      152     4334                                                /**/
      153     4335    1   DUE$JERRMSG: ENTRY;

   4335  2 000225   000000 700200 xent  DUE$JERRMSG  TSX0  ! X66_AUTO_0
         2 000226   000360 000000                    ZERO    240,0

      154     4336                                                /**/
      155     4337    1        FPTERRMSG = FPT_ERRMSG;

   4337  2 000227   000100 100400                    MLR     fill='000'O
         2 000230   000000 000150 1                  ADSC9   FPT_ERRMSG               cn=0,n=104
         2 000231   200314 000150                    ADSC9   FPTERRMSG,,AUTO          cn=0,n=104

PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:23   
      156     4338    1        FPTERRMSG.V_ = VECTOR( FPTERRMSG.V );

   4338  2 000232   000000 235000 3                  LDA     0
         2 000233   200352 452500                    STP2    FPTERRMSG+30,,AUTO
         2 000234   200352 236100                    LDQ     FPTERRMSG+30,,AUTO
         2 000235   000342 036003                    ADLQ    226,DU
         2 000236   200314 757100                    STAQ    FPTERRMSG,,AUTO

   4338  2 000237                       L3           null
      157     4339    1   L3:  ;
      158     4340    1        FPTERRMSG.CODE_ = VECTOR( S_D.JITERR );

   4340  2 000237   777640 235007                    LDA     -96,DL
         2 000240   000000 236000 xsym               LDQ     S_D$
         2 000241   004733 036003                    ADLQ    2523,DU
         2 000242   200316 757100                    STAQ    FPTERRMSG+2,,AUTO

      159     4341    1        FPTERRMSG.BUF_ = VECTOR( LBUFFER );

   4341  2 000243   000004 235000 3                  LDA     4
         2 000244   200352 452500                    STP2    FPTERRMSG+30,,AUTO
         2 000245   200352 236100                    LDQ     FPTERRMSG+30,,AUTO
         2 000246   000043 036003                    ADLQ    35,DU
         2 000247   200320 757100                    STAQ    FPTERRMSG+4,,AUTO

      160     4342    1        FPTERRMSG.FILENAME_ = VECTOR(S_D.ERRFID);

   4342  2 000250   000005 235000 3                  LDA     5
         2 000251   000000 236000 xsym               LDQ     S_D$
         2 000252   006747 036003                    ADLQ    3559,DU
         2 000253   200322 757100                    STAQ    FPTERRMSG+6,,AUTO

      161     4343    1        FPTERRMSG.FILEACCT_ = VECTOR(S_D.ERRACCT);

   4343  2 000254   000006 235000 3                  LDA     6
         2 000255   000000 236000 xsym               LDQ     S_D$
         2 000256   006757 036003                    ADLQ    3567,DU
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:24   
         2 000257   200324 757100                    STAQ    FPTERRMSG+8,,AUTO

      162     4344    1        FPTERRMSG.FILEPASS_ = VECTOR(S_D.ERRPASS);

   4344  2 000260   000006 235000 3                  LDA     6
         2 000261   000000 236000 xsym               LDQ     S_D$
         2 000262   006761 036003                    ADLQ    3569,DU
         2 000263   200326 757100                    STAQ    FPTERRMSG+10,,AUTO

      163     4345    1        LBUFFER = ' ';

   4345  2 000264   040100 100400                    MLR     fill='040'O
         2 000265   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         2 000266   200043 001130                    ADSC9   LBUFFER,,AUTO            cn=0,n=600

      164     4346    1        S_D.LAST_ERROR = S_D.JITERR;

   4346  2 000267   000000 470400 xsym               LDP0    S_D$
         2 000270   004733 236100                    LDQ     2523,,PR0
         2 000271   005234 756100                    STQ     2716,,PR0

      165     4347    1        CALL M$ERRMSG( FPTERRMSG ) ALTRET( ERRMSGALTRET );

   4347  2 000272   200314 630500                    EPPR0   FPTERRMSG,,AUTO
         2 000273   420000 713400                    CLIMB   alt,+8192
         2 000274   405000 401760                    pmme    nvectors=11
         2 000275   000624 702000 2                  TSX2    ERRMSGALTRET

      166     4348    2        DO I = 0 TO 480 BY 120;            /* Do in 120 character chunks */

   4348  2 000276   200271 450100                    STZ     I,,AUTO

      167     4349    2             DCBERR = MINIMUM( 120, POFFC( S_D.DESCL$, S_D.D$ ) );

   4349  2 000277   000000 470400 xsym               LDP0    S_D$
         2 000300   000044 236100                    LDQ     36,,PR0
         2 000301   000020 772000                    QRL     16
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:25   
         2 000302   200352 756100                    STQ     FPTERRMSG+30,,AUTO
         2 000303   000042 236100                    LDQ     34,,PR0
         2 000304   000020 772000                    QRL     16
         2 000305   200352 136100                    SBLQ    FPTERRMSG+30,,AUTO
         2 000306   000170 116007                    CMPQ    120,DL
         2 000307   000311 604400 2                  TMOZ    s:4349+10
         2 000310   000170 236007                    LDQ     120,DL
         2 000311   200004 756100                    STQ     DCBERR,,AUTO

      168     4350    2             S_D.D$ -> CHAR$STRING = SUBSTR(LBUFFER, I, 120);

   4350  2 000312   000044 471500                    LDP1    36,,PR0
         2 000313   200271 235100                    LDA     I,,AUTO
         2 000314   000000 620006                    EAX0    0,QL
         2 000315   040140 100505                    MLR     fill='040'O
         2 000316   200043 000170                    ADSC9   LBUFFER,A,AUTO           cn=0,n=120
         2 000317   100000 000010                    ADSC9   0,,PR1                   cn=0,n=*X0

      169     4351    2             S_D.D$ = PINCRC( S_D.D$, DCBERR - 1 ); /* Last byte in buffer */

   4351  2 000320   000044 471500                    LDP1    36,,PR0
         2 000321   200004 236100                    LDQ     DCBERR,,AUTO
         2 000322   000011 402007                    MPY     9,DL
         2 000323   000011 136007                    SBLQ    9,DL
         2 000324   000326 605000 2                  TPL     s:4351+6
         2 000325   000044 036003                    ADLQ    36,DU
         2 000326   100000 503506                    ABD     0,QL,PR1
         2 000327   000044 451500                    STP1    36,,PR0

      170     4352    2             IF S_D.D$ -> CHAR$1 = ' '

   4352  2 000330   040000 106500                    CMPC    fill='040'O
         2 000331   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1
         2 000332   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         2 000333   000346 601000 2                  TNZ     s:4356

      171     4353    3             THEN DO WHILE ( S_D.D$ -> CHAR$1 = ' ' );
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:26   

   4353  2 000334   000346 601000 2                  TNZ     s:4356

      172     4354    3                  S_D.D$ = PINCRC( S_D.D$, -1 );

   4354  2 000335   000000 470400 xsym               LDP0    S_D$
         2 000336   000044 236100                    LDQ     36,,PR0
         2 000337   000034 036000 xsym               ADLQ    B_VECTNIL+28
         2 000340   000044 756100                    STQ     36,,PR0

      173     4355    3                END;

   4355  2 000341   000044 471500                    LDP1    36,,PR0
         2 000342   040000 106500                    CMPC    fill='040'O
         2 000343   100000 000001                    ADSC9   0,,PR1                   cn=0,n=1
         2 000344   000035 000001 xsym               ADSC9   B_VECTNIL+29             cn=0,n=1
         2 000345   000335 600000 2                  TZE     s:4354

      174     4356    2             S_D.D$ = PINCRC( S_D.D$, 1 );

   4356  2 000346   000044 236100                    LDQ     36,,PR0
         2 000347   200000 036007                    ADLQ    65536,DL
         2 000350   000044 756100                    STQ     36,,PR0

      175     4357    2           END;

   4357  2 000351   000170 236007                    LDQ     120,DL
         2 000352   200271 056100                    ASQ     I,,AUTO
         2 000353   200271 235100                    LDA     I,,AUTO
         2 000354   000740 115007                    CMPA    480,DL
         2 000355   000277 604400 2                  TMOZ    s:4349

      176     4358                                                /**/
      177     4359    1        RETURN;

   4359  2 000356   000000 702200 xent               TSX2  ! X66_ARET

PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:27   
      178     4360                                                /**/
      179     4361        %EJECT;
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:28   
      180     4362                                                /**/
      181     4363    1   DDE$ERROR: ENTRY;

   4363  2 000357   000000 700200 xent  DDE$ERROR    TSX0  ! X66_AUTO_0
         2 000360   000360 000000                    ZERO    240,0

      182     4364                                                /**/
      183     4365    1        FPTERRMSG = DDE_FPT_ERRMSG;

   4365  2 000361   000100 100400                    MLR     fill='000'O
         2 000362   000032 000150 1                  ADSC9   DDE_FPT_ERRMSG           cn=0,n=104
         2 000363   200314 000150                    ADSC9   FPTERRMSG,,AUTO          cn=0,n=104

      184     4366    1        FPTERRMSG.V_ = VECTOR( FPTERRMSG.V );

   4366  2 000364   000000 235000 3                  LDA     0
         2 000365   200352 452500                    STP2    FPTERRMSG+30,,AUTO
         2 000366   200352 236100                    LDQ     FPTERRMSG+30,,AUTO
         2 000367   000342 036003                    ADLQ    226,DU
         2 000370   200314 757100                    STAQ    FPTERRMSG,,AUTO

      185     4367    1        FPTERRMSG.CODE_ = VECTOR( S_D.LAST_ERROR );

   4367  2 000371   777640 235007                    LDA     -96,DL
         2 000372   000000 236000 xsym               LDQ     S_D$
         2 000373   005234 036003                    ADLQ    2716,DU
         2 000374   200316 757100                    STAQ    FPTERRMSG+2,,AUTO

      186     4368    1        FPTERRMSG.BUF_ = VECTOR( S_D.OUTPUT );

   4368  2 000375   000007 235000 3                  LDA     7
         2 000376   000000 236000 xsym               LDQ     S_D$
         2 000377   005335 036003                    ADLQ    2781,DU
         2 000400   200320 757100                    STAQ    FPTERRMSG+4,,AUTO

      187     4369    1        FPTERRMSG.V.OUTDCB1# = D_M$DO#;

PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:29   
   4369  2 000401   000000 720000 xsym               LXL0    D_M$DO#
         2 000402   200342 440100                    SXL0    FPTERRMSG+22,,AUTO

      188     4370    1        IF S_D.USVFC OR S_D.LWEXTEND

   4370  2 000403   000000 470400 xsym               LDP0    S_D$
         2 000404   005144 234100                    SZN     2660,,PR0
         2 000405   000410 604000 2                  TMI     s:4372
         2 000406   005202 234100                    SZN     2690,,PR0
         2 000407   000415 605000 2                  TPL     s:4376

      189     4371    2        THEN DO;

      190     4372    2             S_D.USVFC = '0'B;

   4372  2 000410   005144 450100                    STZ     2660,,PR0

      191     4373    2             S_D.LWEXTEND = '0'B;

   4373  2 000411   005202 450100                    STZ     2690,,PR0

      192     4374    2             FPTERRMSG.V.VFC# = %VFC_TRANSITION1;

   4374  2 000412   000037 236007                    LDQ     31,DL
         2 000413   200343 552104                    STBQ    FPTERRMSG+23,'04'O,AUTO

      193     4375    2           END;

   4375  2 000414   000417 710000 2                  TRA     s:4377

      194     4376    1        ELSE FPTERRMSG.V.VFC# = %VFC_S1A;

   4376  2 000415   000101 236007                    LDQ     65,DL
         2 000416   200343 552104                    STBQ    FPTERRMSG+23,'04'O,AUTO

      195     4377    1        IF S_D.RUM

PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:30   
   4377  2 000417   004755 234100                    SZN     2541,,PR0
         2 000420   000427 605000 2                  TPL     s:4382

      196     4378    2        THEN DO;

      197     4379    2             S_D.RUM_ERRORS = S_D.RUM_ERRORS + 1;

   4379  2 000421   000514 235100                    LDA     332,,PR0
         2 000422   000001 035007                    ADLA    1,DL
         2 000423   000514 755100                    STA     332,,PR0

      198     4380    2             S_D.RUM_TOTAL_ERRORS = S_D.RUM_TOTAL_ERRORS + 1;

   4380  2 000424   000515 235100                    LDA     333,,PR0
         2 000425   000001 035007                    ADLA    1,DL
         2 000426   000515 755100                    STA     333,,PR0

      199     4381    2           END;

      200     4382    1        IF NOT DCBADDR( D_M$DO# ) -> F$DCB.DDEV.UCOUT#

   4382  2 000427   000003 471400 3                  LDP1    3
         2 000430   100000 473500                    LDP3    0,,PR1
         2 000431   300000 474510                    LDP4    0,X0,PR3
         2 000432   400004 236100                    LDQ     4,,PR4
         2 000433   020000 316007                    CANQ    8192,DL
         2 000434   000446 601000 2                  TNZ     s:4390

      201     4383    2        THEN DO;

      202     4384    2             IF NOT S_D.BATCH

   4384  2 000435   004625 234100                    SZN     2453,,PR0
         2 000436   000442 604000 2                  TMI     s:4386

      203     4385    2             THEN FPTERRMSG.V.OUTDCB2# = DCBNUM( M$UC );

PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:31   
   4385  2 000437   000000 236007 xsym               LDQ     M$UC,DL
         2 000440   000000 621006                    EAX1    0,QL
         2 000441   200343 741100                    STX1    FPTERRMSG+23,,AUTO

      204     4386    2             IF S_D.RUM

   4386  2 000442   004755 234100                    SZN     2541,,PR0
         2 000443   000446 605000 2                  TPL     s:4390

      205     4387    2             THEN FPTERRMSG.V.FLAGLEV# = 4;

   4387  2 000444   004000 236007                    LDQ     2048,DL
         2 000445   200343 552110                    STBQ    FPTERRMSG+23,'10'O,AUTO

      206     4388    2           END;

      207     4389                                                /**/
      208     4390    1        IF S_D.DEBUGA( %DB@PRNTCODE )

   4390  2 000446   000053 236100                    LDQ     43,,PR0
         2 000447   000001 316007                    CANQ    1,DL
         2 000450   000453 600000 2                  TZE     s:4392

      209     4391    1        THEN FPTERRMSG.V.INCLCODE# = '1'B;

   4391  2 000451   004000 236003                    LDQ     2048,DU
         2 000452   200344 256100                    ORSQ    FPTERRMSG+24,,AUTO

      210     4392    1        FIELD_1.SIZE = 0;

   4392  2 000453   000000 236003                    LDQ     0,DU
         2 000454   200272 552140                    STBQ    FIELD_1,'40'O,AUTO

      211     4393    1        IF S_D.ERROR >= 500            /* INTNERR */

   4393  2 000455   000013 235100                    LDA     11,,PR0
         2 000456   000764 115007                    CMPA    500,DL
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:32   
         2 000457   000512 602000 2                  TNC     s:4399

      212     4394    2        THEN DO;

      213     4395    2             CALL DDK$GETX1( X1 );

   4395  2 000460   200312 635500                    EPPR5   X1,,AUTO
         2 000461   200352 455500                    STP5    FPTERRMSG+30,,AUTO
         2 000462   200352 630500                    EPPR0   FPTERRMSG+30,,AUTO
         2 000463   000017 631400 xsym               EPPR1   B_VECTNIL+15
         2 000464   000000 701000 xent               TSX1    DDK$GETX1
         2 000465   000000 011000                    NOP     0

      214     4396    2             CALL DDR$BINTXT ( ADDR( FIELD_1.TXT ), X1, %OCT_FMT, SIZE );

   4396  2 000466   200353 452500                    STP2    FPTERRMSG+31,,AUTO
         2 000467   200353 236100                    LDQ     FPTERRMSG+31,,AUTO
         2 000470   000010 036000 3                  ADLQ    8
         2 000471   200352 756100                    STQ     FPTERRMSG+30,,AUTO
         2 000472   200313 630500                    EPPR0   SIZE,,AUTO
         2 000473   200357 450500                    STP0    FPTERRMSG+35,,AUTO
         2 000474   000011 236000 3                  LDQ     9
         2 000475   200356 756100                    STQ     FPTERRMSG+34,,AUTO
         2 000476   200312 631500                    EPPR1   X1,,AUTO
         2 000477   200355 451500                    STP1    FPTERRMSG+33,,AUTO
         2 000500   200352 633500                    EPPR3   FPTERRMSG+30,,AUTO
         2 000501   200354 453500                    STP3    FPTERRMSG+32,,AUTO
         2 000502   200354 630500                    EPPR0   FPTERRMSG+32,,AUTO
         2 000503   000022 631400 xsym               EPPR1   B_VECTNIL+18
         2 000504   000000 701000 xent               TSX1    DDR$BINTXT
         2 000505   000000 011000                    NOP     0

      215     4397    2             FIELD_1.SIZE = SIZE;

   4397  2 000506   200313 236100                    LDQ     SIZE,,AUTO
         2 000507   000033 736000                    QLS     27
         2 000510   200272 552140                    STBQ    FIELD_1,'40'O,AUTO
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:33   

      216     4398    2           END;

   4398  2 000511   000532 710000 2                  TRA     s:4406

      217     4399    1        ELSE IF S_D.ERROR_SYM$ ~= ADDR( NIL )

   4399  2 000512   000032 236100                    LDQ     26,,PR0
         2 000513   000001 116000 xsym               CMPQ    B_VECTNIL+1
         2 000514   000532 600000 2                  TZE     s:4406

      218     4400    2             THEN DO;

      219     4401    2                  FIELD_1 = S_D.ERROR_SYM$ -> B$ALT;

   4401  2 000515   000032 475500                    LDP5    26,,PR0
         2 000516   000100 100500                    MLR     fill='000'O
         2 000517   500000 000040                    ADSC9   0,,PR5                   cn=0,n=32
         2 000520   200272 000040                    ADSC9   FIELD_1,,AUTO            cn=0,n=32

      220     4402    2                  IF FIELD_1.SIZE < 32 THEN EXIT;

   4402  2 000521   200272 236100                    LDQ     FIELD_1,,AUTO
         2 000522   777000 376003                    ANQ     -512,DU
         2 000523   040000 116003                    CMPQ    16384,DU
         2 000524   000532 602000 2                  TNC     s:4406

      221     4403    2                  FIELD_1.SIZE = 31;

   4403  2 000525   037000 236003                    LDQ     15872,DU
         2 000526   200272 552140                    STBQ    FIELD_1,'40'O,AUTO

      222     4404    2                  SUBSTR (FIELD_1.TXT,28) = '...';

   4404  2 000527   000070 236000 1                  LDQ     DDE_FPT_ERRMSG+30
         2 000530   000011 772000                    QRL     9
         2 000531   200301 552134                    STBQ    FIELD_1+7,'34'O,AUTO
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:34   

      223     4405    2                END;

      224     4406    1        FPTERRMSG.FIELD1_ = VECTOR( FIELD_1 );

   4406  2 000532   000005 235000 3                  LDA     5
         2 000533   200352 452500                    STP2    FPTERRMSG+30,,AUTO
         2 000534   200352 236100                    LDQ     FPTERRMSG+30,,AUTO
         2 000535   000272 036003                    ADLQ    186,DU
         2 000536   200330 757100                    STAQ    FPTERRMSG+12,,AUTO

      225     4407    1        IF ( S_D.ERROR = 11 ) OR      /* E@UERR0 */

   4407  2 000537   000000 470400 xsym               LDP0    S_D$
         2 000540   000013 235100                    LDA     11,,PR0
         2 000541   000013 115007                    CMPA    11,DL
         2 000542   000555 600000 2                  TZE     s:4414
         2 000543   000764 115007                    CMPA    500,DL
         2 000544   000555 600000 2                  TZE     s:4414
         2 000545   000400 115007                    CMPA    256,DL
         2 000546   000555 600000 2                  TZE     s:4414
         2 000547   000274 115007                    CMPA    188,DL
         2 000550   000555 600000 2                  TZE     s:4414
         2 000551   000773 115007                    CMPA    507,DL
         2 000552   000555 600000 2                  TZE     s:4414
         2 000553   000446 115007                    CMPA    294,DL
         2 000554   000606 601000 2                  TNZ     s:4418

      226     4408    1          ( S_D.ERROR = 500 ) OR     /* E@PARSERR */
      227     4409    1          ( S_D.ERROR = 256 ) OR /* E@CANT_UPDATE */
      228     4410    1          ( S_D.ERROR = 188 ) OR  /* E@WRONG#SUBS */
      229     4411    1          ( S_D.ERROR = 507 ) OR   /* E@BADFPRGAT */
      230     4412    1          ( S_D.ERROR = 294 ) /* E@TOOMANY_DIGITS */
      231     4413    2        THEN DO;

      232     4414    2            CALL DDR$BINTXT ( ADDR( FIELD_2.TXT ), S_D.ERROR_HICHAR, %UINT_FMT, SIZE )
              4414                      ;
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:35   

   4414  2 000555   200353 452500                    STP2    FPTERRMSG+31,,AUTO
         2 000556   200353 236100                    LDQ     FPTERRMSG+31,,AUTO
         2 000557   000012 036000 3                  ADLQ    10
         2 000560   200352 756100                    STQ     FPTERRMSG+30,,AUTO
         2 000561   200313 631500                    EPPR1   SIZE,,AUTO
         2 000562   200357 451500                    STP1    FPTERRMSG+35,,AUTO
         2 000563   000013 236000 3                  LDQ     11
         2 000564   200356 756100                    STQ     FPTERRMSG+34,,AUTO
         2 000565   000000 236000 xsym               LDQ     S_D$
         2 000566   004753 036003                    ADLQ    2539,DU
         2 000567   200355 756100                    STQ     FPTERRMSG+33,,AUTO
         2 000570   200352 633500                    EPPR3   FPTERRMSG+30,,AUTO
         2 000571   200354 453500                    STP3    FPTERRMSG+32,,AUTO
         2 000572   200354 630500                    EPPR0   FPTERRMSG+32,,AUTO
         2 000573   000022 631400 xsym               EPPR1   B_VECTNIL+18
         2 000574   000000 701000 xent               TSX1    DDR$BINTXT
         2 000575   000000 011000                    NOP     0

      233     4415    2             FIELD_2.SIZE = SIZE;

   4415  2 000576   200313 236100                    LDQ     SIZE,,AUTO
         2 000577   000033 736000                    QLS     27
         2 000600   200302 552140                    STBQ    FIELD_2,'40'O,AUTO

      234     4416    2             FPTERRMSG.FIELD2_ = VECTOR( FIELD_2 );

   4416  2 000601   000005 235000 3                  LDA     5
         2 000602   200352 452500                    STP2    FPTERRMSG+30,,AUTO
         2 000603   200352 236100                    LDQ     FPTERRMSG+30,,AUTO
         2 000604   000302 036003                    ADLQ    194,DU
         2 000605   200332 757100                    STAQ    FPTERRMSG+14,,AUTO

      235     4417    2           END;

      236     4418    1        S_D.LAST_ERROR = '0'B;

PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:36   
   4418  2 000606   000000 470400 xsym               LDP0    S_D$
         2 000607   005234 450100                    STZ     2716,,PR0

      237     4419    1        S_D.LAST_ERROR.FCG_MID = '040405'O; /* DELTA_FCG */

   4419  2 000610   040405 220003                    LDX0    16645,DU
         2 000611   005234 740100                    STX0    2716,,PR0

      238     4420    1        S_D.LAST_ERROR.ERR# = S_D.ERROR;

   4420  2 000612   000013 236100                    LDQ     11,,PR0
         2 000613   000003 736000                    QLS     3
         2 000614   005234 676100                    ERQ     2716,,PR0
         2 000615   377770 376007                    ANQ     131064,DL
         2 000616   005234 656100                    ERSQ    2716,,PR0

      239     4421    2        CALL M$ERRMSG ( FPTERRMSG ) WHENALTRETURN DO;

   4421  2 000617   200314 630500                    EPPR0   FPTERRMSG,,AUTO
         2 000620   420000 713400                    CLIMB   alt,+8192
         2 000621   405000 401760                    pmme    nvectors=11
         2 000622   000624 702000 2                  TSX2    ERRMSGALTRET
         2 000623   000635 710000 2                  TRA     s:4427

      240     4422    2   ERRMSGALTRET: FPTERRMSG.V.NREAD# = '1'B;

   4422  2 000624   400000 236007       ERRMSGALTRET LDQ     -131072,DL
         2 000625   200344 256100                    ORSQ    FPTERRMSG+24,,AUTO

      241     4423    2             S_D.OUTPUT = 'M$ERRMSG altreturned!';

   4423  2 000626   000000 470400 xsym               LDP0    S_D$
         2 000627   040100 100400                    MLR     fill='040'O
         2 000630   000071 000025 1                  ADSC9   DDE_FPT_ERRMSG+31        cn=0,n=21
         2 000631   005335 004000                    ADSC9   2781,,PR0                cn=0,n=2048

      242     4424    2             CALL M$ERRMSG( FPTERRMSG );
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:37   

   4424  2 000632   200314 630500                    EPPR0   FPTERRMSG,,AUTO
         2 000633   020000 713400                    CLIMB   8192
         2 000634   405000 401760                    pmme    nvectors=11

      243     4425    2           END;

      244     4426                                                /**/
      245     4427    1        RETURN;

   4427  2 000635   000000 702200 xent               TSX2  ! X66_ARET

FPT_ERRMSG
 Sect OctLoc
   1     000   000003 777640   000026 006000   000000 177640   000000 006014    ................
   1     004   000000 177640   000000 006014   000000 177640   000000 006014    ................
   1     024*  000000 177640   000000 006014   000000 000000   000000 000000    ................
   1     030   375000 030001   040000 000000                                    .... ...

DDE_FPT_ERRMSG
 Sect OctLoc
   1     032   000003 777640   000060 006000   000000 177640   000000 006014    .....0..........
   1     036   000000 177640   000000 006014   000000 177640   000000 006014    ................
   1     056*  000000 177640   000000 006014   000000 000000   000000 000000    ................
   1     062   371000 030001   040000 000000                                    .... ...

(unnamed)
 Sect OctLoc
   1     064   007072 105122   122115 123107   072130 104107   116040 040040    .:ERRMSG:XDGN
   1     070   056056 056040   115044 105122   122115 123107   040141 154164    ... M$ERRMSG alt
   1     074   162145 164165   162156 145144   041040 040040                    returned!

(unnamed)
 Sect OctLoc
   3     000   000003 777640   777777 777770   000035 777640   000000 006003    ................
   3     004   000225 777640   000007 777640   000001 777640   000777 777640    ................
   3     010   000272 200000   000003 006000   000302 200000   000004 006000    ................
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:38   
      246     4428                                                /**/
      247     4429    1   END DUE$ERRMSG;

PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:39   
--  Include file information  --

   DD_SRTN_C.:E05TOU  is referenced.
   DD_ACODE_C.:E05TOU  is referenced.
   DD_ICODE_C.:E05TOU  is referenced.
   DD$DITEM.:E05TOU  cannot be made into a system file and is referenced.
   DD_DEBUG_C.:E05TOU  is referenced.
   DD_ERR_C.:E05TOU  is referenced.
   DD_SD_M.:E05TOU  is referenced.
   XUH_MACRO_C.:E05TOU  is referenced.
   NK_VFC_C.:E05TOU  is referenced.
   CP_6.:E05TOU  cannot be made into a system file and is referenced.
   B$JIT_C.:E05TOU  was found in the system file and is never referenced.
   CP_6_C.:E05TOU  was found in the system file and is referenced.
      No diagnostics issued in procedure DUE$ERRMSG.

   Procedure DUE$ERRMSG requires 414 words for executable code.
   Procedure DUE$ERRMSG requires 240 words of local(AUTO) storage.

    No errors detected in file DUE$ERRMSG.:E05TSI    .
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:40   
          *** CROSS REFERENCE LISTING ***
**     DENOTES     IDENTIFIER DEFINITION
<<                 IDENTIFIER'S VALUE SET
>>                 IDENTIFIER'S VALUE USED
<>                 IDENTIFIER SET AND/OR USED
--                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:41   
          MINI XREF LISTING

B$ALT
       223**DCL      4401>>ASSIGN
B$ALT.CODE
       223**DCL       223--REDEF     224--REDEF     224--REDEF
B$ALT.DCB#
       224**DCL      4259>>ASSIGN
B$ALT.ERR
       224**DCL      4258>>ASSIGN   4263>>ASSIGN
B$ALT.ERR.ERR#
       225**DCL       225--REDEF
B$ALT.EVID
       224**DCL       224--REDEF     224--REDEF
B$EXCFR.ASL
       233**DCL       233--REDEF
B$EXCFR.ERR
       247**DCL      4292>>ASSIGN
B$EXCFR.ERR.ERR#
       247**DCL       247--REDEF
B$EXCFR.EVID
       246**DCL       246--REDEF     247--REDEF
B$EXCFR.IR
       234**DCL       234--REDEF
B$EXCFR.PREVSZ
       233**DCL       233--REDEF
B$EXCFR.SUBC
       245**DCL       245--REDEF     246--REDEF     246--REDEF
B$TCB.ALT$
       230**DCL      4258>>ASSIGN   4259>>ASSIGN   4263>>ASSIGN
B$TCB.STK$
       230**DCL      4292>>ASSIGN
B$TCB$
      3047**DCL      4258>>ASSIGN   4259>>ASSIGN   4263>>ASSIGN   4292>>ASSIGN
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:42   
BUFFER
       176**DCL      4300--ASSIGN
CHAR$1
       217**DCL      4352>>IF       4353>>DOWHILE
CHAR$STRING
       216**DCL      4350<<ASSIGN
DCBERR
       175**DCL       216--IMP-SIZ  4259<<ASSIGN   4264<<ASSIGN   4270<<ASSIGN   4276<<ASSIGN   4293<<ASSIGN
      4301>>ASSIGN   4349<<ASSIGN   4350>>ASSIGN   4351>>ASSIGN
DDE_FPT_ERRMSG
      3092**DCL      4365>>ASSIGN
DDE_FPT_ERRMSG.V
      3096**DCL      3092--DCLINIT
DDK$GETX1
      3153**DCL-ENT  4395--CALL
DDR$BINTXT
      3154**DCL-ENT  4396--CALL     4414--CALL
D_M$DO#
      3046**DCL      4302>>ASSIGN   4308--IF       4369>>ASSIGN   4382--IF
ERRMSGALTRET
      4422**LABEL    4323--CALLALT  4347--CALLALT
F$DCB.ACTPOS
       283**DCL       283--REDEF
F$DCB.ARS#
       257**DCL       257--REDEF
F$DCB.ATTR
       276**DCL       277--REDEF
F$DCB.BORROW
       291**DCL       291--REDEF     291--REDEF     291--REDEF
F$DCB.DCBNAME.L
       305**DCL       305--IMP-SIZ
F$DCB.DDEV.UCOUT#
       264**DCL      4308>>IF       4382>>IF
F$DCB.EOMCHAR#
       261**DCL       261--REDEF
F$DCB.FLDID
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:43   
       286**DCL       286--REDEF
F$DCB.FORM$
       280**DCL       280--REDEF
F$DCB.FSECT
       296**DCL       296--REDEF
F$DCB.FSN#
       273**DCL       273--REDEF     273--REDEF     274--REDEF
F$DCB.HEADER$
       279**DCL       279--REDEF
F$DCB.IXTNSIZE#
       277**DCL       277--REDEF
F$DCB.LASTSTA$
       266**DCL       266--REDEF
F$DCB.LVL
       292**DCL       292--REDEF
F$DCB.NAME#.C
       267**DCL       267--REDEF
F$DCB.NOEOF
       289**DCL       289--REDEF
F$DCB.NRECS#
       278**DCL       278--REDEF
F$DCB.NRECX
       297**DCL       297--REDEF
F$DCB.OHDR
       289**DCL       289--REDEF
F$DCB.ORG#
       272**DCL       272--REDEF
F$DCB.PRECNO
       295**DCL       295--REDEF
F$DCB.RCSZ
       301**DCL       301--REDEF
F$DCB.RES#
       268**DCL       268--REDEF
F$DCB.SETX
       280**DCL       280--REDEF
F$DCB.TAB$
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:44   
       280**DCL       280--REDEF
F$DCB.TDA
       294**DCL       295--REDEF
F$DCB.WSN#
       268**DCL       268--REDEF
FIELD_1
       179**DCL      4401<<ASSIGN   4406--ASSIGN
FIELD_1.SIZE
       180**DCL      4392<<ASSIGN   4397<<ASSIGN   4402>>IF       4403<<ASSIGN
FIELD_1.TXT
       181**DCL      4396--CALL     4404<<ASSIGN
FIELD_2
       182**DCL      4416--ASSIGN
FIELD_2.SIZE
       183**DCL      4415<<ASSIGN
FIELD_2.TXT
       184**DCL      4414--CALL
FPTERRMSG
       199**DCL      4277<<ASSIGN   4284<<ASSIGN   4296<<ASSIGN   4323<>CALL     4329<<ASSIGN   4337<<ASSIGN
      4347<>CALL     4365<<ASSIGN   4421<>CALL     4424<>CALL
FPTERRMSG.BUF_
       199**DCL      4300<<ASSIGN   4341<<ASSIGN   4368<<ASSIGN
FPTERRMSG.CODE_
       199**DCL      4299<<ASSIGN   4340<<ASSIGN   4367<<ASSIGN
FPTERRMSG.FIELD1_
       201**DCL      4406<<ASSIGN
FPTERRMSG.FIELD2_
       202**DCL      4416<<ASSIGN
FPTERRMSG.FILEACCT_
       200**DCL      4343<<ASSIGN
FPTERRMSG.FILENAME_
       200**DCL      4342<<ASSIGN
FPTERRMSG.FILEPASS_
       201**DCL      4344<<ASSIGN
FPTERRMSG.V
       203**DCL      4278--ASSIGN   4285--ASSIGN   4297--ASSIGN   4330--ASSIGN   4338--ASSIGN   4366--ASSIGN
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:45   
FPTERRMSG.V.DCB#
       203**DCL      4301<<ASSIGN
FPTERRMSG.V.FLAGLEV#
       205**DCL      4313<<ASSIGN   4387<<ASSIGN
FPTERRMSG.V.INCLCODE#
       208**DCL      4280<<ASSIGN   4287<<ASSIGN   4332<<ASSIGN   4391<<ASSIGN
FPTERRMSG.V.L6_CODE#
       211**DCL      4279<<ASSIGN   4286<<ASSIGN   4331<<ASSIGN
FPTERRMSG.V.NREAD#
       209**DCL      4422<<ASSIGN
FPTERRMSG.V.OUTDCB1#
       204**DCL      4302<<ASSIGN   4369<<ASSIGN
FPTERRMSG.V.OUTDCB2#
       204**DCL      4311<<ASSIGN   4385<<ASSIGN
FPTERRMSG.V.VFC#
       205**DCL      4319<<ASSIGN   4321<<ASSIGN   4374<<ASSIGN   4376<<ASSIGN
FPTERRMSG.V_
       199**DCL      4278<<ASSIGN   4285<<ASSIGN   4297<<ASSIGN   4330<<ASSIGN   4338<<ASSIGN   4366<<ASSIGN
FPT_ERRMSG
      3062**DCL      4277>>ASSIGN   4284>>ASSIGN   4296>>ASSIGN   4329>>ASSIGN   4337>>ASSIGN
FPT_ERRMSG.V
      3066**DCL      3062--DCLINIT
I
       178**DCL      4348<<DOINDEX  4350>>ASSIGN
JDE
       174**DCL      4275<<ASSIGN
JITERR
       168**DCL       174--REDEF    4258<<ASSIGN   4263<<ASSIGN   4269<<ASSIGN   4292<<ASSIGN   4299--ASSIGN
      4322>>ASSIGN
JITERR.SEV
       173**DCL      4295<<ASSIGN
L1
      4293**LABEL    4260--GOTO     4265--GOTO     4271--GOTO
L2
      4297**LABEL    4281--GOTO
L3
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:46   
      4338**LABEL    4288--GOTO     4333--GOTO
LBUFFER
       177**DCL      4341--ASSIGN   4345<<ASSIGN   4350>>ASSIGN
M$ERRMSG
        84**DCL-ENT  4323--CALL     4347--CALL     4421--CALL     4424--CALL
M$UC
        45**DCL      4311>>ASSIGN   4385>>ASSIGN
SIZE
       186**DCL      4396<>CALL     4397>>ASSIGN   4414<>CALL     4415>>ASSIGN
S_D.BATCH
      2206**DCL      4310>>IF       4384>>IF
S_D.CURRENT_CHANNEL
      2679**DCL      2681--REDEF
S_D.D$
      1817**DCL      4349>>ASSIGN   4350>>ASSIGN   4351<<ASSIGN   4351>>ASSIGN   4352>>IF       4353>>DOWHILE
      4354<<ASSIGN   4354>>ASSIGN   4356<<ASSIGN   4356>>ASSIGN
S_D.DEBUGA
      1831**DCL      1833--REDEF    4390>>IF
S_D.DESCL$
      1813**DCL      4349>>ASSIGN
S_D.EIS
      2789**DCL      2818--REDEF
S_D.ERRACCT
      2837**DCL      4343--ASSIGN
S_D.ERRFID
      2833**DCL      4342--ASSIGN
S_D.ERROR
      1760**DCL      4393>>IF       4407>>IF       4407>>IF       4407>>IF       4407>>IF       4407>>IF
      4407>>IF       4420>>ASSIGN
S_D.ERROR_HICHAR
      2373**DCL      4414<>CALL
S_D.ERROR_SYM$
      1784**DCL      4399>>IF       4401>>ASSIGN
S_D.ERRPASS
      2839**DCL      4344--ASSIGN
S_D.HOST_MESSAGE_BUF_REMOTE
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:47   
      2722**DCL      2723--REDEF    2737--REDEF
S_D.JDCBERR
      1984**DCL      4270>>ASSIGN   4276>>ASSIGN
S_D.JDE
      2336**DCL      2337--REDEF    4275>>ASSIGN
S_D.JITERR
      2337**DCL      4269>>ASSIGN   4340--ASSIGN   4346>>ASSIGN
S_D.L$.VALUE
      1889**DCL      1895--REDEF    1903--REDEF    1906--REDEF    1909--REDEF    1912--REDEF
S_D.L$.VALUE.L
      1890**DCL      1891--REDEF    1892--REDEF
S_D.L6_MESSAGE_BUF
      2743**DCL      2745--REDEF
S_D.LAST_ERROR
      2554**DCL      4322<<ASSIGN   4346<<ASSIGN   4367--ASSIGN   4418<<ASSIGN
S_D.LAST_ERROR.ERR#
      2558**DCL      4420<<ASSIGN
S_D.LAST_ERROR.FCG_MID
      2556**DCL      4419<<ASSIGN
S_D.LWEXTEND
      2529**DCL      4315>>IF       4318<<ASSIGN   4370>>IF       4373<<ASSIGN
S_D.OUTPUT
      2709**DCL      2711--REDEF    4368--ASSIGN   4423<<ASSIGN
S_D.REMOTE_MSG.FNCC
      2728**DCL      2729--REDEF
S_D.REMOTE_MSG.STXC
      2724**DCL      2725--REDEF
S_D.REMOTE_MSG.SUBFNCC
      2732**DCL      2733--REDEF
S_D.RUM
      2377**DCL      4303>>IF       4312>>IF       4377>>IF       4386>>IF
S_D.RUM_ERRORS
      1958**DCL      4305<<ASSIGN   4305>>ASSIGN   4379<<ASSIGN   4379>>ASSIGN
S_D.RUM_TOTAL_ERRORS
      1960**DCL      4306<<ASSIGN   4306>>ASSIGN   4380<<ASSIGN   4380>>ASSIGN
S_D.SV
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:48   
      1788**DCL      1809--REDEF
S_D.USVFC
      2499**DCL      4315>>IF       4317<<ASSIGN   4370>>IF       4372<<ASSIGN
S_D$
      3040**DCL      1736--IMP-PTR  4269>>ASSIGN   4270>>ASSIGN   4275>>ASSIGN   4276>>ASSIGN   4303>>IF
      4305>>ASSIGN   4305>>ASSIGN   4306>>ASSIGN   4306>>ASSIGN   4310>>IF       4312>>IF       4315>>IF
      4315>>IF       4317>>ASSIGN   4318>>ASSIGN   4322>>ASSIGN   4340>>ASSIGN   4342>>ASSIGN   4343>>ASSIGN
      4344>>ASSIGN   4346>>ASSIGN   4346>>ASSIGN   4349>>ASSIGN   4349>>ASSIGN   4350>>ASSIGN   4351>>ASSIGN
      4351>>ASSIGN   4352>>IF       4353>>DOWHILE  4354>>ASSIGN   4354>>ASSIGN   4356>>ASSIGN   4356>>ASSIGN
      4367>>ASSIGN   4368>>ASSIGN   4370>>IF       4370>>IF       4372>>ASSIGN   4373>>ASSIGN   4377>>IF
      4379>>ASSIGN   4379>>ASSIGN   4380>>ASSIGN   4380>>ASSIGN   4384>>IF       4386>>IF       4390>>IF
      4393>>IF       4399>>IF       4401>>ASSIGN   4407>>IF       4407>>IF       4407>>IF       4407>>IF
      4407>>IF       4407>>IF       4414>>CALL     4418>>ASSIGN   4419>>ASSIGN   4420>>ASSIGN   4420>>ASSIGN
      4423>>ASSIGN
TEXT$C.SIZE
       219**DCL       220--IMP-SIZ
X1
       185**DCL      4395<>CALL     4396<>CALL
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:49   
              *** CROSS REFERENCE LISTING ***
    **     DENOTES     IDENTIFIER DEFINITION
    <<                 IDENTIFIER'S VALUE SET
    >>                 IDENTIFIER'S VALUE USED
    <>                 IDENTIFIER SET AND/OR USED
    --                 IDENTIFIER REFERENCED
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:50   
              MINI UREF LISTING

DDE$ERROR    4363**ENTRY
DDE_FILEACCT    3150**DCL
DDE_FILENAME    3135**DCL
DUE$ERRMSG      10**PROC
DUE$ERRMSG1    4261**ENTRY
DUE$GERRMSG    4273**ENTRY
DUE$HERRMSG    4267**ENTRY
DUE$JERRMSG    4335**ENTRY
DUE$L6ERRMSG    4282**ENTRY
DUE$L6JERRMSG    4327**ENTRY
DUE$UERRMSG    4290**ENTRY
M$ACCT      38**DCL-ENT
M$ACTIVATE      41**DCL-ENT
M$ALIB      34**DCL-ENT
M$ASUSER      36**DCL-ENT
M$ATTACH      43**DCL-ENT
M$BADPP      61**DCL-ENT
M$CGCTL      42**DCL-ENT
M$CGINFO      42**DCL-ENT
M$CHECK      23**DCL-ENT
M$CHGUNIT      81**DCL-ENT
M$CLOSE      21**DCL-ENT
M$CLRSTK      79**DCL-ENT
M$CMDVAR      90**DCL-ENT
M$CONFIG      51**DCL-ENT
M$CORRES      26**DCL-ENT
M$CPEXIT      35**DCL-ENT
M$CVM      59**DCL-ENT
M$CVOL      24**DCL-ENT
M$DCLFLD      51**DCL-ENT
M$DEACTIVATE      41**DCL-ENT
M$DELREC      23**DCL-ENT
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:51   
M$DEQ      88**DCL-ENT
M$DETACH      43**DCL-ENT
M$DEVICE      25**DCL-ENT
M$DISPLAY      88**DCL-ENT
M$DISPRES      28**DCL-ENT
M$DLIB      34**DCL-ENT
M$DRIBBLE      51**DCL-ENT
M$DRTN      79**DCL-ENT
M$DSUSER      36**DCL-ENT
M$ENQ      87**DCL-ENT
M$EOM      46**DCL-ENT
M$ERASE      52**DCL-ENT
M$ERR      33**DCL-ENT
M$EVENT      76**DCL-ENT
M$EXHUME      85**DCL-ENT
M$EXIT      33**DCL-ENT
M$EXTEND      25**DCL-ENT
M$FDP      57**DCL-ENT
M$FDS      56**DCL-ENT
M$FEBOOT      49**DCL-ENT
M$FECTL      50**DCL-ENT
M$FEDUMP      49**DCL-ENT
M$FID      84**DCL-ENT
M$FINDPROC      38**DCL-ENT
M$FSUSER      36**DCL-ENT
M$FVP      58**DCL-ENT
M$FWCG      42**DCL-ENT
M$GBPL      62**DCL-ENT
M$GDDL      58**DCL-ENT
M$GDP      57**DCL-ENT
M$GDS      56**DCL-ENT
M$GETDCB      27**DCL-ENT
M$GETMOUSE      67**DCL-ENT
M$GETPM      68**DCL-ENT
M$GJOB      86**DCL-ENT
M$GLINEATTR      46**DCL-ENT
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:52   
M$GOODPP      61**DCL-ENT
M$GPLATEN      54**DCL-ENT
M$GPROMPT      53**DCL-ENT
M$GTRMATTR      47**DCL-ENT
M$GTRMCTL      45**DCL-ENT
M$GTRMTAB      48**DCL-ENT
M$GVP      57**DCL-ENT
M$HELP      84**DCL-ENT
M$INT      76**DCL-ENT
M$INTRTN      37**DCL-ENT
M$IOQ      72**DCL-ENT
M$JOBSTATS      86**DCL-ENT
M$KEYIN      26**DCL-ENT
M$LDEV      21**DCL-ENT
M$LDTRC      34**DCL-ENT
M$LIMIT      27**DCL-ENT
M$LINES      26**DCL-ENT
M$LINK      33**DCL-ENT
M$MADMUCK      29**DCL-ENT
M$MAKUSER      60**DCL-ENT
M$MBS      28**DCL-ENT
M$MDFFLD      52**DCL-ENT
M$MERC      77**DCL-ENT
M$MERCS      78**DCL-ENT
M$MIRROR      72**DCL-ENT
M$MONINFO      89**DCL-ENT
M$MPL      62**DCL-ENT
M$NODEINFO      53**DCL-ENT
M$NXTUSR      87**DCL-ENT
M$OCMSG      85**DCL-ENT
M$OLAY      33**DCL-ENT
M$OPEN      21**DCL-ENT
M$PAS      62**DCL-ENT
M$PATHCON      85**DCL-ENT
M$PDS      56**DCL-ENT
M$PFIL      23**DCL-ENT
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:53   
M$PLATEN      47**DCL-ENT
M$PRECORD      25**DCL-ENT
M$PROCNAME      38**DCL-ENT
M$PROFILE      49**DCL-ENT
M$PROMPT      45**DCL-ENT
M$RACST      29**DCL-ENT
M$RDSYSLOG      70**DCL-ENT
M$READ      22**DCL-ENT
M$RELDCB      27**DCL-ENT
M$RELRES      28**DCL-ENT
M$RELSTARF      30**DCL-ENT
M$REM      30**DCL-ENT
M$RENV      77**DCL-ENT
M$REQUIRE      29**DCL-ENT
M$RETRY      78**DCL-ENT
M$RETRYS      78**DCL-ENT
M$REW      24**DCL-ENT
M$RLSFLD      52**DCL-ENT
M$RPRIV      80**DCL-ENT
M$RSPP      59**DCL-ENT
M$RSWITCH      81**DCL-ENT
M$RUE      87**DCL-ENT
M$SAD      60**DCL-ENT
M$SAVE      36**DCL-ENT
M$SCON      37**DCL-ENT
M$SCREECH      35**DCL-ENT
M$SENV      77**DCL-ENT
M$SETFMA      21**DCL-ENT
M$SETFP      50**DCL-ENT
M$SINPUT      48**DCL-ENT
M$SLCFLD      53**DCL-ENT
M$SMOUSE      67**DCL-ENT
M$SMPRT      59**DCL-ENT
M$SPRIV      80**DCL-ENT
M$SSC      60**DCL-ENT
M$SSWITCH      80**DCL-ENT
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:54   
M$STATE      89**DCL-ENT
M$STD      61**DCL-ENT
M$STIMER      75**DCL-ENT
M$STLPP      58**DCL-ENT
M$STRAP      75**DCL-ENT
M$STRMATTR      47**DCL-ENT
M$STRMCTL      45**DCL-ENT
M$STRMTAB      48**DCL-ENT
M$SYMBIO      86**DCL-ENT
M$SYSCON      72**DCL-ENT
M$SYSID      90**DCL-ENT
M$TDCLOSE      71**DCL-ENT
M$TDIO      71**DCL-ENT
M$TDOPEN      70**DCL-ENT
M$TDREQCPU      71**DCL-ENT
M$TEMPWROC      65**DCL-ENT
M$TIME      88**DCL-ENT
M$TRAP      75**DCL-ENT
M$TRMISC      50**DCL-ENT
M$TRMPRG      46**DCL-ENT
M$TRTN      79**DCL-ENT
M$TRUNC      22**DCL-ENT
M$TTIMER      75**DCL-ENT
M$UMPL      62**DCL-ENT
M$UNFID      84**DCL-ENT
M$UNLATCH      41**DCL-ENT
M$UNSHARE      38**DCL-ENT
M$USRFIELD      81**DCL-ENT
M$VIRTUAL      56**DCL-ENT
M$WAIT      79**DCL-ENT
M$WEOF      24**DCL-ENT
M$WRITE      22**DCL-ENT
M$WRSYSLOG      70**DCL-ENT
M$XCON      76**DCL-ENT
M$XCONRTN      37**DCL-ENT
M$XEQTIME      89**DCL-ENT
PL6.E3A0      #001=DUE$ERRMSG File=DUE$ERRMSG.:E05TSI                            TUE 07/29/97 14:51 Page:55   
M$XFLUSH      30**DCL-ENT
M$XMOUSE      67**DCL-ENT
M$XXX      33**DCL-ENT
M$YC      35**DCL-ENT
SDD$    3678**DCL
SDD_L6$    3680**DCL
ZITEM$    3679**DCL
ZITEM_L6$    3681**DCL

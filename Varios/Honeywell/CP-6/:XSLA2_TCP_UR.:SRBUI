            
 
 
 
 
 
             MMMMM  M   M  M      M            MMMMM  MMMMM       M             XXXXX  X   X  X      X            XXXXX  XXXXX       X
             M   M  M   M  M      M            M      M   M       M             X   X  X   X  X      X            X      X   X       X
             MMMM   M   M  M      M            M      MMMMM  MMM  MMMMM             XXXX   X   X  X      X            X      XXXXX  XXX  XXXXX
             M   M  M   M  M      M            M      M           M   M             X   X  X   X  X      X            X      X           X   X
             MMMMM  MMMMM  MMMMM  MMMMM        MMMMM  M           MMMMM             XXXXX  XXXXX  XXXXX  XXXXX        XXXXX  X           XXXXX
 
               MMMMM  MMMMM  MMMMM  MMMMM  M   M    M    MMMMM  MMMMM               XXXXX  XXXXX  XXXXX  XXXXX  X   X    X    XXXXX  XXXXX
               M      M   M  M        M    M   M   M M   M   M  M               X      X   X  X        X    X   X   X X   X   X  X
               MMMMM  M   M  MMM      M    M M M  MMMMM  MMMMM  MMM               XXXXX  X   X  XXX      X    X X X  XXXXX  XXXXX  XXX
                   M  M   M  M        M    MM MM  M   M  M  M   M                   X  X   X  X        X    XX XX  X   X  X  X   X
               MMMMM  MMMMM  M        M    MM MM  M   M  M   M  MMMMM               XXXXX  XXXXX  X        X    XX XX  X   X  X   X  XXXXX
 
                  MMMMM  MMMMM  M      MMMMM    M    MMMMM  MMMMM                  XXXXX  XXXXX  X      XXXXX    X    XXXXX  XXXXX
                  M   M  M      M      M       M M   M      M                  X   X  X      X      X       X X   X      X
                  MMMMM  MMM    M      MMM    MMMMM  MMMMM  MMM                  XXXXX  XXX    X      XXX    XXXXX  XXXXX  XXX
                  M  M   M      M      M      M   M      M  M                  X  X   X      X      X      X   X      X  X
                  M   M  MMMMM  MMMMM  MMMMM  M   M  MMMMM  MMMMM                  X   X  XXXXX  XXXXX  XXXXX  X   X  XXXXX  XXXXX
 
               MMMMM  M   M  M      M      MMMMM  MMMMM  MMMMM  MM  M               XXXXX  X   X  X      X      XXXXX  XXXXX  XXXXX  XX  X
               M   M  M   M  M      M      M        M      M    MMM M               X   X  X   X  X      X      X        X      X    XXX X
               MMMM   M   M  M      M      MMM      M      M    M MMM               XXXX   X   X  X      X      XXX      X      X    X XXX
               M   M  M   M  M      M      M        M      M    M  MM               X   X  X   X  X      X      X        X      X    X  XX
               MMMMM  MMMMM  MMMMM  MMMMM  MMMMM    M    MMMMM  M  MM               XXXXX  XXXXX  XXXXX  XXXXX  XXXXX    X    XXXXX  X  XX
 
 
 
 
 
 
                               CP-6 TCP/IP, Version A02
 
 
                                Product Number SFC6504
 
 
                                     January 1998
 
 
                 COPYRIGHT (c) BULL HN INFORMATION SYSTEMS INC., 1998
 
 
 
 
 
 
                                      MMMMMMMMMM                                      XXXXXXXXXX
                                     M          M                                     X          X
                                     M MMMMMMM                                     X XXXXXXX
                                     M M      M                                     X X      X
                                     M M M MMM                                     X X X XXX
                                     M M M                                     X X X
                                     M M MMMM                                     X X XXXX
                                     M M M   M                                     X X X   X
                                     M M  MMM                                     X X  XXX
                                     M          M                                     X          X
                                      MMMMMMMMMM                                      XXXXXXXXXX
            
 
 
 
 
 
             MMMMM  M   M  M      M            MMMMM  MMMMM       M             XXXXX  X   X  X      X            XXXXX  XXXXX       X
             M   M  M   M  M      M            M      M   M       M             X   X  X   X  X      X            X      X   X       X
             MMMM   M   M  M      M            M      MMMMM  MMM  MMMMM             XXXX   X   X  X      X            X      XXXXX  XXX  XXXXX
             M   M  M   M  M      M            M      M           M   M             X   X  X   X  X      X            X      X           X   X
             MMMMM  MMMMM  MMMMM  MMMMM        MMMMM  M           MMMMM             XXXXX  XXXXX  XXXXX  XXXXX        XXXXX  X           XXXXX
 
               MMMMM  MMMMM  MMMMM  MMMMM  M   M    M    MMMMM  MMMMM               XXXXX  XXXXX  XXXXX  XXXXX  X   X    X    XXXXX  XXXXX
               M      M   M  M        M    M   M   M M   M   M  M               X      X   X  X        X    X   X   X X   X   X  X
               MMMMM  M   M  MMM      M    M M M  MMMMM  MMMMM  MMM               XXXXX  X   X  XXX      X    X X X  XXXXX  XXXXX  XXX
                   M  M   M  M        M    MM MM  M   M  M  M   M                   X  X   X  X        X    XX XX  X   X  X  X   X
               MMMMM  MMMMM  M        M    MM MM  M   M  M   M  MMMMM               XXXXX  XXXXX  X        X    XX XX  X   X  X   X  XXXXX
 
                  MMMMM  MMMMM  M      MMMMM    M    MMMMM  MMMMM                  XXXXX  XXXXX  X      XXXXX    X    XXXXX  XXXXX
                  M   M  M      M      M       M M   M      M                  X   X  X      X      X       X X   X      X
                  MMMMM  MMM    M      MMM    MMMMM  MMMMM  MMM                  XXXXX  XXX    X      XXX    XXXXX  XXXXX  XXX
                  M  M   M      M      M      M   M      M  M                  X  X   X      X      X      X   X      X  X
                  M   M  MMMMM  MMMMM  MMMMM  M   M  MMMMM  MMMMM                  X   X  XXXXX  XXXXX  XXXXX  X   X  XXXXX  XXXXX
 
               MMMMM  M   M  M      M      MMMMM  MMMMM  MMMMM  MM  M               XXXXX  X   X  X      X      XXXXX  XXXXX  XXXXX  XX  X
               M   M  M   M  M      M      M        M      M    MMM M               X   X  X   X  X      X      X        X      X    XXX X
               MMMM   M   M  M      M      MMM      M      M    M MMM               XXXX   X   X  X      X      XXX      X      X    X XXX
               M   M  M   M  M      M      M        M      M    M  MM               X   X  X   X  X      X      X        X      X    X  XX
               MMMMM  MMMMM  MMMMM  MMMMM  MMMMM    M    MMMMM  M  MM               XXXXX  XXXXX  XXXXX  XXXXX  XXXXX    X    XXXXX  X  XX
 
 
 
 
 
 
                               CP-6 TCP/IP, Version A02
 
 
                                Product Number SFC6504
 
 
                                     January 1998
 
 
                 COPYRIGHT (c) BULL HN INFORMATION SYSTEMS INC., 1998
 
 
 
 
 
 
                                      MMMMMMMMMM                                      XXXXXXXXXX
                                     M          M                                     X          X
                                     M MMMMMMM                                     X XXXXXXX
                                     M M      M                                     X X      X
                                     M M M MMM                                     X X X XXX
                                     M M M                                     X X X
                                     M M MMMM                                     X X XXXX
                                     M M M   M                                     X X X   X
                                     M M  MMM                                     X X  XXX
                                     M          M                                     X          X
                                      MMMMMMMMMM                                      XXXXXXXXXX
       
 
 
 
 
 
 
 
 
 
                                       CONTENTS
 
 
                                                                           Page
 
 
        Section 1  Introduction . . . . . . . . . . . . . . . . . . . . .   1-1
           Purpose. . . . . . . . . . . . . . . . . . . . . . . . . . . .   1-1
           Compatibility Considerations . . . . . . . . . . . . . . . . .   1-1
 
        Section 2  Product Summary. . . . . . . . . . . . . . . . . . . .   2-1
           Release Contents . . . . . . . . . . . . . . . . . . . . . . .   2-1
           Supporting Documentation . . . . . . . . . . . . . . . . . . .   2-3
 
        Section 3  General Features . . . . . . . . . . . . . . . . . . .   3-1
           Host-Resident Components . . . . . . . . . . . . . . . . . . .   3-1
           FEP-Resident Components. . . . . . . . . . . . . . . . . . . .   3-2
           Compatibility Issues . . . . . . . . . . . . . . . . . . . . .   3-2
             Improved cp6 Server. . . . . . . . . . . . . . . . . . . . .   3-2
             Upgrading to PA0E Socket Library . . . . . . . . . . . . . .   3-2
             Upgrading from PA0E to PA0F Socket Library . . . . . . . . .   3-3
             Upgrading from PA0F to A00 Socket Library. . . . . . . . . .   3-4
             Upgrading from A01 (or A00) to A02 Socket Library. . . . . .   3-4
 
        Section 4  Known Errors and Shortfalls. . . . . . . . . . . . . .   4-1
           Required XPS-100 Changes . . . . . . . . . . . . . . . . . . .   4-1
           Performance Limitations. . . . . . . . . . . . . . . . . . . .   4-2
           STARS Closed . . . . . . . . . . . . . . . . . . . . . . . . .   4-2
           ASYNC Profile Parameters . . . . . . . . . . . . . . . . . . .   4-3
           Other Errors and Shortfalls. . . . . . . . . . . . . . . . . .   4-3
 
        Section 5  Installation Procedures. . . . . . . . . . . . . . . .   5-1
           DPX/2-300 and XPS-100 Installation . . . . . . . . . . . . . .   5-1
             Install.rc Options . . . . . . . . . . . . . . . . . . . . .   5-3
               DPX/2-300 Functions. . . . . . . . . . . . . . . . . . . .   5-3
               XPS-100 Functions. . . . . . . . . . . . . . . . . . . . .   5-4
               Install.rc Examples. . . . . . . . . . . . . . . . . . . .   5-5
           CP-6 Installation. . . . . . . . . . . . . . . . . . . . . . .   5-7
 
        Section 6  Support. . . . . . . . . . . . . . . . . . . . . . . .   6-1
           DPX/2 Problem Analysis . . . . . . . . . . . . . . . . . . . .   6-1
             Problem Reporting. . . . . . . . . . . . . . . . . . . . . .   6-1
             Remote Debugging Logon Account . . . . . . . . . . . . . . .   6-1
           DPX/2-300 and XPS-100 Update Distributions . . . . . . . . . .   6-2
 
           Index. . . . . . . . . . . . . . . . . . . . . . . . . . . . .   i-1
       
 
 
 
 
 
                                                                      SECTION 1
 
 
                                                                   INTRODUCTION
 
 
 
 
 
 
 
 
       _______       PURPOSE
 
 
       This Software Release Bulletin (SRB) documents release A02, the first
       year 2000 ready release of the CP-6 TCP/IP product.  This product
       provides a CP-6 host interface to network communications facilities
       through industry standard utilities and protocols.  CP-6 TCP/IP includes
       host processors resident on the CP-6 DPS/8xxx system and DPX/2-300 or
       XPS-100 UNIX* resident utilities and kernel drivers.
 
       This SRB describes the components included in this version of TCP/IP and
       their installation and administration.  It also describes how DPX/2-300
       corrections and updates will be distributed.  It does not include
       installation instructions for the DPX/2-300 UNIX operating system or
       INET software.
 
 
 
       ____________________________       COMPATIBILITY CONSIDERATIONS
 
 
       The A02 version of CP-6 TCP/IP requires the E04, or later, version of
       the CP-6 operating system.  This version of TCP/IP is year 2000 ready
       when used in conjunction with E05 or later versions of the CP-6
       operating system.
 
       ** IMPORTANT NOTE ** Please see Section 4 for information about required
       patches for CP-6 versions prior to E03.
 
       CP-6 TCP/IP has been qualified for only the DPX/2-300 platform running a
       single 68030 processor (25Mhz).
 
       The BULL HN UNIX BOS Version 02.01.82 is required for the DPX/2-300
       platform.  Prior to installing BOS 02.01.82 please ensure that your
       DPX/2-300 meets the following 3 hardware requirements:
       ________________________________________________________________________
 
       *UNIX is a registered trademark of AT&T.
 
 
 
 
 
       SRB_TCP/IP            Compatibility Considerations                   1-1
       
 
 
       1)  at least 16 Megabytes of physical memory
       2)  at least level 1.3 of TCP board firmware
       3)  at least level 003 of ECP board
 
       To determine the current hardware configuration, type the following:
 
          prtconf -a | more
       ** IMPORTANT NOTE **
 
       CP-6 TCP/IP is no longer supported for the BULL HN XPS-100 platform.
 
       For the sake of continuity, the XPS-100 version is still described in
       this SRB.  Differences are noted where procedures or materials for the
       XPS-100 differ from those for the DPX/2-300.  The BULL HN XPS-100 UNIX
       System V.3.0 is required for the XPS-100 platform.  CP-6 TCP/IP has not
       been qualified on the XPS-100 V.3.1 Operating System.
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
       SRB_TCP/IP            Compatibility Considerations                   1-2
       
 
 
 
 
 
                                                                      SECTION 2
 
 
                                                                PRODUCT SUMMARY
 
 
 
 
 
       TCP/IP, Version A02, includes CP-6 implementations of client and server
       FTP, client TELNET, INETD, and client and server SMTP.  A Berkeley
       4.3-style Socket Library is provided for customer applications.  The
       CP-6 inbound TELNET service is provided by traditional CP-6 VDH services
       which have been ported to the DPX/2-300 UNIX platform.
 
       Software for the DPX/2-300 UNIX platform includes utilities and drivers
       to allow connection of the DPX/2-300 as a CP-6 Front End Processor
       (FEP), and to provide interface to DPX/2-300 Communications facilities.
 
       On DPX/2-300 platforms, the communications hardware interface and
       related TCP/IP functions are provided by the BOS operating system, the
       INET telecommunications software package and the Ethernet exchange
       module, referred to as the ECP-1 board. The BOS operating system and
       INET version CNSG001 07.07.12 must be installed prior to installation of
       CP-6 TCP/IP.
 
       Ethernet interface hardware and software is provided for the XPS-100
       platform under an OEM agreement with Communications Machinery
       Corporation.  This package includes an Ethernet ENP10 or ENP10i VME
       module and related TCP/IP software to provide the Berkeley 4.3 INET
       features.  This software is included in the CP-6 TCP/IP distribution for
       XPS100 platforms and instructions for its installation are included in
       this SRB.
 
 
 
       ________________       RELEASE CONTENTS
 
 
       The following files make up the CP-6 portion of the TCP/IP release:
 
            File Name           Account    Description
            ---------           -------    -------------
            FTP                 :SYS       File Transfer Protocol client user program
            FTPD                :SYS       File Transfer Protocol server program
            TELNET              :SYS       Terminal Emulation client user program
            INETD               :SYS       Internet super-server program
            NETSEND             :SYS       Mail client user program
            NETMAIL             :SYS       Mail server program
            DDU                 :SYS       DIB dump analysis program
 
 
 
 
 
       SRB_TCP/IP                  Release Contents                         2-1
       
 
 
            UNLZ                :SYS       UNIX dump analysis program
            etc:hosts           :SYS       Sample host names file
            etc:inetd_conf      :SYS       Sample INETD configuration file
            etc:networks        :SYS       Sample network names file
            etc:protocols       :SYS       Sample protocol names file
            etc:routes          :SYS       Sample routing configuration file
            etc:services        :SYS       Sample service names file
            :XSERRMSG           :SYS       Socket library error message file
            :TCFORMAT           :SYS       Format strings -- to copy into :FORMAT
            :ETC_SOCKET         :SYS       Socket library object library
            XSL_CHAM_M          :LIBRARY   Macros for ID verification for servers
            XSL_PERR_C          :LIBRARY   Socket library error codes for PL6
            XSL_SOCKET_M        :LIBRARY   Socket library macros for PL6
            XSL_SOCKET_E        :LIBRARY   Socket library equates for PL6
            xsl_errno:h         :LIBRARY   Socket library error codes for CC
            xsl_in:h            :LIBRARY   Socket library macros for CC
            xsl_netdb:h         :LIBRARY   Socket library macros for CC
            xsl_select:h        :LIBRARY   Socket library macros for CC
            xsl_socket:h        :LIBRARY   Socket library macros for CC
            HELP:FTP:           :SYS       FTP HELP facility
            HELP:FTPD:          :SYS       FTPD (FTP Server) HELP facility
            HELP:INETD:         :SYS       INETD HELP facility
            HELP:TELNET:        :SYS       TELNET HELP facility
            HELP:SOCKETLIB:     :SYS       Host Socket Library HELP facility
            :XSLA1_TCP          :SRB       TCP/IP Software Release Bulletin
            HA26                :DOCUM     TCP/IP Reference unit record file
 
       The following files make up the DPX/2-300 portion of the TCP/IP release:
 
                          File Name                 Description
                          ---------                 -----------
       rwxrwxr-x root sys etc/active                Lost process search program
       rw-r--r-- root sys etc/dibbrd.dib            DIB board-resident code
       rwxr--r-- root sys etc/dibload               DIB initialization utility
       rw-rw-rw- root sys etc/dibbrd.tst            DIB board level tests
       rwxrwxr-x root sys etc/factive               Lost process repair program
       rwxr--r-- root sys etc/init.d/install.rc     Installation script
       rw-r--r-- root sys etc/init.d/README         Latest release information
       rwxr-xr-x root sys etc/mkdibnod              DIB device creation script
       rwxrwxr-x root sys etc/rc2.d/S87cp6          DIB initialzation script
       rw-r--r-- root sys etc/resources.eg          Sample nodeadmin resource file
       rwxr-xr-x bin  bin etc/telnetd               Programmable telnet server
       rw-rw-rw- root sys makesys/kernel/io/ncl_mr/dibdriver.o
                                                    DIB kernel driver
       rw-r----- root sys makesys/kernel/cf/ncl_mr/ncl_usrdrv.h
                                                    Kernel config params
       r-sr-xr-x root sys usr/bin/cp6               VDH terminal handler program
       r-xr-xr-x root sys usr/bin/cp6rfep           CP-6 SSN protocol forwarder
       r-xr-xr-x root sys usr/bin/ddu               Host interface analysis utility
       rwxrwxr-x root sys usr/bin/dibctl            DIB administrator utility
       rwxrwxr-x root sys usr/bin/hd                Hex dump utility
       rwxr-xr-x root sys usr/bin/nodeadmin         Node administration program
       r-sr-xr-t root sys usr/bin/startuser         LCP6 jobstep stub
 
 
 
 
 
       SRB_TCP/IP                  Release Contents                         2-2
       
 
 
       r-sr-xr-t root sys usr/bin/anlz              ANLZ_FPRG stub
       r-xr-xr-x root sys usr/bin/rum               Patching utility program
       r--r--r-- checksum                           contains checksum info on
                                                    above files
                 F_BOS_3PANIC.SOCK1                 Patch for BOS 2.01.82 on
                                                    floppy disk media.
 
       The following files make up the XPS-100 version components:
 
                          File Name                      Description
                          ---------                      -----------
       rwxr-xr-x root sys etc/netbin/dibbrd.dib          see DPX/2-300 list
       rwxr-xr-x  132 100 etc/netbin/mkdibnod            see DPX/2-300 list
       rw-rw-rw-  132 100 etc/netbin/dibtest/dibbrd.dib  see DPX/2-300 list
       rwxr--r--  132 100 etc/netbin/dibload             see DPX/2-300 list
       rwxrwxr-x  132 100 etc/netbin/active              see DPX/2-300 list
       rwxrwxr-x  132 100 etc/netbin/factive             see DPX/2-300 list
       rwxr-xr-x  132 100 usr/netbin/telnetd             Network server program
       r-sr-xr-x root sys usr/bin/cp6                    see DPX/2-300 list
       rwxr-xr-x  132 100 usr/bin/cp6rfep                see DPX/2-300 list
       rwxrwxrwx root sys usr/bin/nodeadmin              see DPX/2-300 list
       r-sr-xr-x  132 100 usr/bin/startuser              see DPX/2-300 list
       r-sr-xr-x  132 100 usr/bin/anlz                   see DPX/2-300 list
       rwxrwxr-x  132 100 usr/bin/hd                     see DPX/2-300 list
       rwxr-xr-x  132 100 usr/bin/rum                    see DPX/2-300 list
       rwxrwxr-x  132 100 usr/bin/dibctl
       rwxrwxr-x  132 100 usr/bin/ddu                    see DPX/2-300 list
       rwxr-xr-x  132 100 usr/bin/edu
       rwxr-xr-x  132 100 usr/bin/enprputdiag
       rwxr-xr-x  132 100 usr/CONF/cpu/libD
       r--r--r-- checksum                                contains checksum info
                                                         on above files
 
 
 
       ________________________       SUPPORTING DOCUMENTATION
 
 
       The following documents are available from Computer Machinery
       Corporation:
 
            CMC ENP-10 Reference Guide      (6211000-05)
            CMC ENP-10i Reference Guide     (6211101-05)
            CMC Administrator's Guide       (6200101-02B)
 
       The following manuals are available for DPX/2-300 and XPS-100 systems:
 
            DPX/2 System Administration Reference Manual
            DPX/2 System Operations Guide, Hardware LG30 (88A105SS)
            DPX/2 INET User Guide  LM21 (86A217SS)
 
 
 
 
 
 
 
 
       SRB_TCP/IP              Supporting Documentation                     2-3
       
 
 
            DPX/2 INET Reference Manual LM20 (86A216SS)
            DPX/2 Communications Reference Manual (86A247SS)
            DPX/2-300 INET Software Release Bulletin (86A296VH REV0)
            XPS-100 System Operations Guide HZ01-01
            XPS-100 System Administration Reference Manual
 
       To print a copy of the TCP/IP Reference manual, type the following:
 
            !COPY HA26.:DOCUM TO <line printer name>
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
       SRB_TCP/IP              Supporting Documentation                     2-4
       
 
 
 
 
 
                                                                      SECTION 3
 
 
                                                               GENERAL FEATURES
 
 
 
 
 
 
 
 
       ________________________       HOST-RESIDENT COMPONENTS
 
 
       The A02 version of TCP/IP consists of the following CP-6 processors:
 
       o   Client TELNET allows CP-6 users to log on to remote hosts that
           provide a TELNET server.  The TELNET facilities are a subset of
           those offered by Berkeley 4.3 TELNET.
 
       o   Client FTP allows CP-6 users to connect to remote hosts, transfer
           files, and perform various ancillary utility functions. The FTP
           facilities are a subset of those offered by Berkeley 4.3 FTP.
 
       o   The FTPD processor provides server FTP functions for remote file
           transfer requests.
 
       o   NETMAIL and NETSEND are the inbound and outbound SMTP mail gateways
           to CP-6 MAIL.
 
           INETD provides server administration, starting server ghosts as
           required.
 
       o   UNLZ and DDU provide Host-based analysis of vdh dumps and DIB-FEP
           dumps, respectively.
 
       In addition to the processors above, the Host Socket Library is provided
       for customer applications that require socket-level access to other
       applications on the LAN.  Most features of Berkeley 4.3 sockets are
       included.
 
       Also provided is a set of PL6 and C language include files to aid in the
       importing or construction of network applications.
 
 
 
 
 
 
 
 
 
 
 
       SRB_TCP/IP              Host-Resident Components                     3-1
       
 
 
       _______________________       FEP-RESIDENT COMPONENTS
 
 
       The FEP-resident components are largely invisible to end-users.  They
       provide the data path to allow CP-6 users to access hosts and
       applications elsewhere on the LAN and to allow remote users access to
       CP-6 and its applications.
 
 
 
       ____________________       COMPATIBILITY ISSUES
 
 
 
       There are no compatibility issues.
 
 
 
 
       ___________________       Improved cp6 Server
 
 
 
       The PA0F release of TCP/IP invoked the cp6 server program indirectly
       using telnetd.  A00 and later releases should invoke the cp6 process
       directly, saving the overhead of the extra telnetd process. This change
       is made in the file inetd.conf and is described in HA26-00A, starting on
       p. 3-20.  The updated line follows:
 
       cp6     stream  tcp     nowait  root    /usr/bin/cp6   cp6 -s0 -m32
 
 
 
 
 
       ________________________________       Upgrading to PA0E Socket Library
 
 
       The PA0E Socket Library was significantly enhanced over earlier
       versions.  Several techniques were used to improve data throughput and
       provide capabilities missing from PA0D and earlier versions, such as
       nonblocking connect() and accept().
 
       The techniques included (1) using M$READ KEYS=YES rather than
       M$WRITE+M$READ whenever possible for communication between Library and
       FEP, (2) using B$COMIO events to provide throttling information to the
       Library, and (3) using multiple NoWait M$READs to overlap FEP-to-Library
       data transfers with network transfers.
 
       There is little information currently available on precisely how much it
       costs to use the techniques described above.  Such information could be
       provided in the future, perhaps as the result of a future
       customer-opened Discussion STAR.
 
 
 
 
 
       SRB_TCP/IP          Upgrading to PA0E Socket Library                 3-2
       
 
 
       A facility was provided which allows the Socket Library user to adjust
       or even avoid the use of these techniques should the need arise: the
       XSL$SOCKINIT procedure.  The PL6 application programmer writes code to
       invoke XSL$SOCKINIT, passing a structure created by XSL_SOCKINIT.  C
       programmers have a corresponding struct, xsl_sockinit, which is passed
       by address to XSL$SOCKINIT.  See the help topic !HELP (SOCKETLIB)
       XSL$SOCKINIT for more information.
 
 
 
       __________________________________________       Upgrading from PA0E to PA0F Socket Library
 
 
       The PA0F Socket Library exists primarily to provide fixes for the
       problems discovered during customer usage and LADC testing of PA0E.  In
       addition, there are modifications to bring the operation of the Socket
       Library functions and include file definitions more into line with
       Berkeley 4.3 or BOS standards.
 
       Th following are the modifications that may cause trouble when pre-PA0F
       applications are compiled and linked with PA0F:
 
       o   The last argument to select() was defined before PA0F to be of type
           'struct timeval *' but no such struct was provided.  This has been
           corrected for PA0F by defining struct timeval in xsl_socket:h.  Each
           use of select() should be updated to use the correct argument.  See
           STAR #41364.
 
       o   The last argument to setsockopt(), optlen, was defined before PA0F
           to be of type 'int *'.  This has been corrected for PA0F to be of
           type 'int'.
 
       o   In the include file xsl_netdb:h, struct hostent was modified for
           PA0E to allow multiple network addresses.  Depending on how h_addr
           was used in an application, the new definition may cause problems.
           See STAR #41365.
 
       o   PA0E and later versions of the Socket Library assume that version
           C00 of the C compiler and runtime library are being used.  If B00 C
           is being used, you must obtain the patches for STAR #40721 to permit
           correct error code returns from Socket Library functions.
 
       o   Two defaults for the Socket Library's instance of XSL_SOCKINIT have
           been changed for PA0F.  MAXRDS has been changed from 1 to 2, and
           MAXBUF has been changed from 1 to 0.  This should not cause any
           problems for applications but they may perform differently
           (hopefully faster).
 
 
 
 
 
 
 
 
 
 
 
       SRB_TCP/IP                      Upgrading                            3-3
                           from PA0E to PA0F Socket Library
       
 
 
       _________________________________________       Upgrading from PA0F to A00 Socket Library
 
 
       There were only two changes made that might affect applications.  Some
       defaults for the XSL_SOCKINIT macro were changed, and support for large
       datagrams was added:
 
       o   The new defaults for items in XSL_SOCKINIT are MAXSOCK=2,
           NWSOCKS=-1, MEM=NIL, EVNT=NIL, BUFSIZE=512, MAXRDS=2, and MAXBUF=0.
           These changes were made to decrease the size of the Socket Library
           data segment for simple applications.  There is a chance that
           applications developed for PA0F and earlier versions of the Socket
           Library require more than two sockets, larger buffers, or the like.
           These applications will need to invoke XSL$SOCKINIT to establish
           their requirements.  See the SOCKETLIB help topics XSL$SOCKINIT and
           XSL_SOCKINIT for more information.
 
       o   Datagrams larger than 4096 bytes are now supported.  This change is
           transparent to host applications, but requires an additional step in
           the TCP/IP installation on XPS-100 UNIX systems.  DPX/2-300 UNIX
           system installation is unchanged.  See the item "Required XPS-100
           Changes" in Section 4 of this SRB for more information.
 
 
 
       _________________________________________________       Upgrading from A01 (or A00) to A02 Socket Library
 
 
       It is recommended that all applications that use the socket libraries be
       re-compiled when A02 is installed.  Applications that were linked with
       libraries from before the official A00 release may also require the use
       of the htons & ntohs routines to convert values to and from network
       form.  An example of use with port numbers follows:
 
         from:  server.sin_port = 12345;
           to:  server.sin_port = htons(12345);
 
         from: printf("Connected with port: %d\n", dest.sin_port);
           to: printf("Connected with port: %d\n", ntohs(dest.sin_port));
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
       SRB_TCP/IP                   Upgrading from                          3-4
                          A01 (or A00) to A02 Socket Library
       
 
 
 
 
 
                                                                      SECTION 4
 
 
                                                    KNOWN ERRORS AND SHORTFALLS
 
 
 
 
 
       The only known problems in TCP are described in STARLOG.
 
 
 
 
       ________________________       REQUIRED XPS-100 CHANGES
 
 
       For A00, support for datagrams larger than 4096 bytes was added.  This
       requires a change in the buffer allocation policies of the CMC Ethernet
       board on XPS-100 UNIX systems.  DPX/2-300 UNIX systems are unaffected.
 
       As shipped, the CMC software defines three buffer sizes: 100 bytes, 400
       bytes, and 1514 bytes.  The total buffer space of 64kB is divided
       35%/30%/35% among the three sizes.  With backfill of the remaining
       buffer space, this results in 51, 33, and 10 buffers, respectively.
 
       The bfrcfg utility should be used to define an additional buffer size of
       9100 bytes, and the distribution of buffer sizes should be changed.  The
       recommended division is 25%/25%/20%/30%.  After backfill the resulting
       distribution is 51, 26, 6, and 2 buffers, respectively.
 
       The new buffer size should be defined with the same max# and threshold
       values as the 1514 size, namely 10, 80/70, 90/80, 100/100.  Note that
       this information is different from, and supercedes, that in the NFS SRB.
 
       See the man page for bfrcfg(8) on the XPS-100 for more information.
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
       SRB_TCP/IP              Required XPS-100 Changes                     4-1
       
 
 
       _______________________       PERFORMANCE LIMITATIONS
 
 
       The performance of the CP-6 implementation of TCP/IP is limited by the
       speed of the cpu in the DPX/2-300. These limitations allow a maximum of
       40 concurrent high traffic inbound telnet connections to the CP-6 Host.
       More connections are possible depending on the data traffic on each
       connection.
 
       The maximum number of concurrent FTP sessions to the host is 20. The
       maximum data transfer rate is 70 kbytes/second.
 
       If you commonly have >10 FTPD sessions running at one time it is
       advisable to increase the number of DOLIST slots in the TIGR deck (at
       boot time).  The default of 50 may not be sufficient at all times, 200
       has proven effective. See STAR 41875 for greater details.
 
 
 
 
       ____________       STARS CLOSED
 
 
       The following STAR(s) apply to this release.
 
       42267 CLPA 3 05/13 PA0F TCP/IP  NETMAIL & SMTP's MAIL FROM record
       42428 CLPE 3 10/20 A00  TCP/IP  ht (O'011') in hosts, etc., files
       42557 CLPE 3 03/26 A00  TCP/IP  INETD doesn't turn on EXMM
       42639 CLOS 2 07/01 A00  TCP/IP  INETD could be smarter when suspending services
       42688 CLRE 3 09/09 A00  HA26    what data type is returned from inet_addr
       42690 CLPE 3 09/12 A01  TCP/IP  inet_makeaddr socket lib routine is not working
       42700 CLPE 3 09/23 A01  TCP/IP  DISPLAY EOF does not work
       42731 CLPE 3 10/19 A00  TCP/IP  INETD command syntax check not thorough enough
       42741 CLPA 2 11/11 A00  TCP/IP  Socket lib failing: bind address size parameter
       42750 CLPA 2 12/13 A01  TCP/IP  NETSEND FMG-66 at TCM$NETSEND+.7705
       42764 CLPA 2 02/09 A00  TCP/IP  NETMAIL -Seems to parse a trailing period wrong
       42808 CLPA 2 07/20 A01  TCP/IP  PMD REQUESTED @ GET_CONNECTED+.7/ CLIMB M$XX
       42826 CLPA 1 10/05 A01  TCP/IP  FTP Server Hangs in Wait State
       42875 CLPA 2 08/06 A01  TCP/IP  NETSEND memory faulting on a :MES? file.
       42959 CLPE 2 11/07 PA2A TCP/IP  XSL$CONNECT doesn't handle the NAMELEN Field
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
       SRB_TCP/IP                    STARS Closed                           4-2
       
 
 
       ________________________       ASYNC PROFILE PARAMETERS
 
 
       There are only three parameters that can be changed on the async profile
       SUPER definition. These include READTIMEOUT, LOGONTIMEOUT, and DROPDTR.
 
 
 
       ___________________________       OTHER ERRORS AND SHORTFALLS
 
 
       The cp6rfep code has not been beta tested.
 
       An ANLZ_FPRG stub has been included with this release.  This stub is not
       intended to be a functional ANLZ interface but rather a preventative
       measure against crashes.
 
       There is a known problem in the kernel of BOS 2.01.82 (see STAR 42467).
       This problem is fixed with the patch titled F_BOS_3PANIC.SOCK1.  This
       patch should only be applied to BOS version 2.01.82. It will not work
       with earlier BOS versions.
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
       SRB_TCP/IP             Other Errors and Shortfalls                   4-3
       
 
 
 
 
 
                                                                      SECTION 5
 
 
                                                        INSTALLATION PROCEDURES
 
 
 
 
 
 
 
 
       __________________________________       DPX/2-300 AND XPS-100 INSTALLATION
 
 
       This section describes procedures for the initial installation of TCP/IP
       modules in the DPX/2-300 platform.  Installation on XPS-100 systems is
       basically the same and differences are described where they occur.  The
       difference between the systems is that CP-6 TCP/IP for the XPS-100
       includes CMC hardware and software that must be installed with this
       distribution, while the DPX/2-300 product uses the standard BULL BOS
       INET software which is independently installed.
 
       The steps to perform the installation are described next, followed by a
       description of the options available with the installation tools.
 
       1.   Log on to the DPX/2-300 UNIX system as root and make sure the
            current working directory is /.
 
       2.   Type smile and select the "load" option to load the BOS patch.
 
       3.   At the prompt "Is the media a diskette?" type y.
 
       4.   Insert the floppy disk and type <cr>.
 
       5.   After the patch has been loaded type q to exit smile.
 
       6.   Place the distribution tape cartridge in the drive and use the
            cpio(1) utility to read the tape. The archive files on the tape
            will be read into the proper directories ready for installation
            only if the current working directory is /.  Use the following
            cpio(1) command on DPX/2-300 systems.
 
                 > cpio -ivdmB < /dev/rct/0
 
            On XPS-100 systems, the K option is used to read larger blocks from
            tape and thus speed up the installation.
 
                 > cpio -ivdmK < /dev/tape00
 
 
 
 
 
 
       SRB_TCP/IP         DPX/2-300 and XPS-100 Installation                5-1
            
 
 
       7.   Change the current working directory to /etc/init.d.
 
                 > cd /etc/init.d
 
            The /etc/init.d directory contains files that are executed to
            perform the installation and maintenance of CP-6 TCP/IP.  This
            directory may also include a README file that contains
            supplementary information beyond that supplied by this SRB.
 
       8.   The file /etc/init.d/install.rc is the installation script
            used to manipulate the system files needed to install TCP/IP.
            Options and examples of install.rc usage are described later in
            this section.  To perform the initial installation, execute
            install.rc and select the initial install mode by typing i.
 
                 > install.rc
 
                 Installing TCP/IP
                 input execution mode (i, p, q, s, or h): i
 
            While install.rc is running it writes messages describing the
            current function on the user's terminal.  The system prompt is
            displayed when it has completed the initial installation.
 
       9.   After install.rc has completed correctly, the system configuration
            utility, config(1M), is used to build a new UNIX kernel to include
            the TCP/IP drivers.  (The config(1M) utility is described in the
            System Administrators Reference Manual.)  It is menu driven and
            option number 3 is used to create and install the new UNIX kernel.
 
            Type 'config' to invoke the menu, and then select '3' from the
            menu.
 
            Note the file name of the saved UNIX kernel in the event a problem
            might prevent the new kernel from running correctly.
 
       10.  When config(1M) completes, reboot the UNIX system. Refer to the
            UNIX manuals for detailed instructions on how to reboot.
 
            If a problem occurs when the new UNIX kernel is run, the original
            kernel may be booted by performing an interactive boot.  The
            DPX/2-300 System Operations Guide, Section 2-3, does not describe
            how to perform an interactive boot, but instead refers to a
            "maintenance guide".  To do an interactive boot on the DPX/2-300,
            turn the key fully to the right to the Service position.  You will
            then be prompted for several options.  Answer as best you can and
            enter the name of the original UNIX kernel file at the right point.
            Refer to Section 4.6 of the XPS-100 System Operation Guide for
            instructions on how to perform an interactive boot on the XPS-100.
 
 
            After the new kernel is created, the Ethernet and CP-6 interface
            software will be started automatically during system boot.
 
 
 
 
 
       SRB_TCP/IP         DPX/2-300 and XPS-100 Installation                5-2
       
 
 
       11.  To complete the connection between the DPX/2-300 and the
            CP-6 host, use the CP-6 Operator Keyin, BOOT FEP xx, to place the
            FEP in active state.  While the boot proceeds, nodeadmin may
            indicate on the DPX/2-300 console that ".. admin: host not in
            control of this node".  This would indicate that the NETCON DEFINE
            control paramater for this node has not been set correctly.
 
 
 
 
 
       __________________       Install.rc Options
 
 
       During the installation, install.rc will prompt for input to select one
       of the following execution modes. When the select mode is chosen,
       install.rc will prompt for further options.  It is necessary to enter
       only as many characters as are required to describe a unique option for
       these inputs.
 
           [i]nitial install - Perform initial installation of TCP/IP.
                               All installation functions are performed under the
                               assumption that this is the first time TCP/IP
                               has been installed.  You will be prompted for further
                               input during the installation.  One of the four
                               options immediately below can be used as a response.
           [h]elp            - Provide help.  This describes the possible
                               installation mode options.
           [p]rompt me       - Prompt for selection of options.  All installation
                               functions are selected and executed in turn, but
                               the user is given the option of executing each
                               function as it is started.
           [q]uit            - Quit execution of the installation procedure.
           [s]elect          - Select specific installation functions. The user is
                               asked to select the functions from a menu.
 
 
 
       DPX/2-300 FUNCTIONS
 
 
       There are four initialization functions for DPX/2-300 installations.
       They are all performed in initial install mode, or they can be selected
       individually in select mode.
 
             devices        - Create device nodes and directories.  Creates nodes
                              and files needed to support TCP/IP.  There is no
                              additional input required.
                              This shouldn't be done more than once without good
                              cause.
             driver         - Install the DIB device driver.  This may be done more
                              than once if the driver is to be replaced.
             factive        - Install /etc/factive to avoid problems with lost
 
 
 
 
 
       SRB_TCP/IP                 DPX/2-300 Functions                       5-3
       
 
 
                              processes.
             resources      - Create /etc/resources file. You will be requested to
                              define resource names.  Enter each resourcename
                              defined by SUPER as a CL type device.  The first
                              entry is assumed to define the privileged resource and
                              must correspond to a device with the PRIVILEGE option
                              specified.
 
 
 
       XPS-100 FUNCTIONS
 
 
       The following are the initialization functions for the XPS-100.  They
       include options to initialize the CMC INET software.  The hosts,
       hosts.equiv and resource options require additional input to specify
       host and resource names.
 
             cmc sockets    - Create CMC socket device nodes.
             conf.c         - Modify /usr/CONF/cpu/cf/conf.c to include CMC and DIB
                              driver definitions.
             dib devices    - Create DIB device nodes and directories.  Creates
                              device nodes and files needed to support TCP/IP.
             enp config     - Configure the ENP board.
             factive        - Install /etc/netbin/factive.
             hostconv       - Move /etc/hostconv.eg to /etc/hostconv.
             hostname       - Set hostname in /etc/init.d/enpdl.
             hosts          - Move and modify /etc/hosts.eg to /etc/hosts.
                              Enter the name and Internet address of the local host,
                              and other hosts to be added to the /etc/hosts file.
             hosts.equiv    - Move and modify /etc/hosts.equiv.eg to /etc/hosts.equiv.
                              Enter host names to be added to the /etc/hosts.equiv
                              file.
             inetd.conf     - Move /etc/inetd.conf.eg to /etc/inetd.conf.
             master         - Modify /usr/CONF/master.
             networks       - Move /etc/networks.eg to /etc/networks.
             protocols      - Move /etc/protocols.eg to /etc/protocols.
             quit           - Exit from install.rc (also new-line).
             resources      - Create /etc/resources.  Enter each resourcename
                              defined by SUPER as a CL type device.  The first
                              entry is assumed to define a privileged resource.
             rc             - Modify /etc/rc.
             services       - Move /etc/services.eg to /etc/services.
             syslog.conf    - Move /etc/syslog.conf.eg to /etc/syslog.conf.
 
 
 
 
 
 
 
 
 
 
 
 
 
 
       SRB_TCP/IP                  XPS-100 Functions                        5-4
       
 
 
       INSTALL.RC EXAMPLES
 
 
       The following is an example of an initial installation session performed
       on the XPS-100.  Note that install.rc reports each function as it is
       executed.
 
            > install.rc
 
            Installing TCP/IP on the XPS-100
 
            input execution mode (i, d, p, q, s, or h): i
            Changing /usr/include/sys/system.h ... done
            Changing /usr/CONF/master ... done
            Changing /usr/CONF/cpu/cf/conf.c ... done
            Moving /etc/hostconv.eg to /etc/hostconv ... done
            Moving and modifying /etc/hosts.eg to /etc/hosts ...
            localhost name: xps1
            Internet address in dot notation: 128.35.81.3
 
            Are there any other hosts to be included: y
            new-line to break out of loop
 
            hostname: ladcgw
            internet address: 128.35.81.1
            alias: sun
            alias:<cr>
 
            hostname: xps2
            internet address: 128.35.81.7
            alias:<cr>
 
            hostname:<cr>
            done
            Moving and modifying /etc/hosts.equiv.eg to /etc/hosts.equiv ...
            new-line to break out of loop
            host name with equivalent users: sun
            host name with equivalent users: xps2
            host name with equivalent users:<cr>
            done
            Moving /etc/inetd.conf.eg to /etc/inetd.conf ... done
            Moving /etc/networks.eg to /etc/networks ... done
            Moving /etc/protocols.eg to /etc/protocols ... done
            Moving /etc/services.eg to /etc/services ... done
            Moving /etc/syslog.conf.eg to /etc/syslog.conf ... done
            Running the script to build the ENP config file ... done
            Running the script to build the CMC sockets ... done
            Running the script to build the DIB devices ...
            Building /usr/gate
            Building /usr/gate/admin
            done
            Changing /etc/resources ...
            new-line to break out of loop
 
 
 
 
 
       SRB_TCP/IP                 Install.rc Examples                       5-5
            
 
 
            resource name: xps1priv
            resource name: xps1user
            resource name:<cr>
            done
            Installing factive ... done
            Modifying /etc/rc ... done
            Updating /usr/CONF/cpu/cf/conf.c for 2.6 ...
            done
            Modifying /etc/inittab ... done
            Changing hostname in /etc/init.d/enpdl ... done
            Changes made to the system.
 
            >c/r
 
       The following is an example of the select mode.
 
            > install.rc
 
            Installing TCP/IP on the XPS-100
 
            input execution mode (i, d, p, q, s, or h): s
            quit or new-line to exit from loop...? for list of options
 
            script option: ?
            The current sub_script options are:
 
                    cmc sockets     build CMC sockets
                    conf.c          modify /usr/CONF/cpu/cf/conf.c
                    dib devices     build DIB devices
                    enp config      run script to configure ENP board
                    factive         install /etc/netbin/factive
                    hostconv        move /etc/hostconv.eg to /etc/hostconv
                    hosts           move and modify /etc/hosts.eg to /etc/hosts
                    hosts.equiv     move and modify /etc/hosts.equiv.eg to
                                    /etc/hosts.equiv
                    inetd.conf      move /etc/inetd.conf.eg to /etc/inetd.conf
                    master          modify /usr/CONF/master
                    networks        move /etc/networks.eg to /etc/networks
                    protocols       move /etc/protocols.eg to /etc/protocols
                    quit            exit from install.rc (also new-line)
                    resources       modify /etc/resources
                    rc              modify /etc/rc
                    services        move /etc/services.eg to /etc/services
                    syslog.conf     move /etc/syslog.conf.eg to
                                    /etc/syslog.conf
                    system.h        modify /usr/include/sys/system.h
 
 
 
 
 
 
 
 
 
 
 
 
       SRB_TCP/IP                 Install.rc Examples                       5-6
            
 
 
            script option: res
            Changing /etc/resources ...
            new-line to break out of loop
            resource name: xps1priv
            resource name: xps1user
            resource name:<cr>
            done
 
            script option: q
            Changes made to the system.
            >
 
            Invoking cp6 from a Standard Serial Connection
 
 
            In order to run cp6 from the command line when logged in via one of
            the DPX's serial ports, the parity of the tty must be set to none.
            This may be done on a per-login basis by typing
 
            stty -parity<CR>
 
            The system default on the DPX is even parity for all ports except
            the console.
 
 
 
 
       _________________       CP-6 INSTALLATION
 
 
 
       * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 
       NOTE:  If this SRB is enclosed with an entire CP-6 system release for a
              new customer, Steps 1-8 of this section should be disregarded,
              and the CP-6 system installation instructions in the CP-6 HOST
              SRB should be followed.  The processors will be installed as part
              of the installation of the entire CP-6 system.
 
              Any processor-specific instructions not contained in the HOST SRB
              are found after Step 8.
 
       * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 
       The tape(s) in this package constitute a processor update release of the
       processors shown on the enclosed order form.  The tape(s) enclosed are a
       PCL labeled tape set.  It is assumed that recipients of this tape have
       already installed a running CP-6 system.
 
       For this processor update release, there are some files which must be
       DEFed onto the customer's P.O. tape set in order to allow for future
       patching, and there are some files that need to be copied into accounts
       other than .:SYS.
 
 
 
 
 
       SRB_TCP/IP                  CP-6 Installation                        5-7
       
 
 
       To install this processor update release tape follow the steps below:
 
       1.   Logon through a timesharing terminal under an account which is
            authorized with PIGC and SPIDERC processor privileges, FMSEC
            privilege, and the use of at least one tape drive in timesharing
            mode.  The installation instruction example JCL assumes that you
            normally perform your DEFs from the account .:SYSGEN.  If the
            accounts .:SRB, .:QUAC and .:DOCUM already exist, it is assumed
            that these accounts are empty (there should be no files in these
            accounts).  If you have not created these accounts, use the
            following commands:
 
                 !PIG
                 *CR DP#SYS.:SYSGEN GR=15000
                 *MADADD #SYS.:SYSGEN
                 *CR DP#SYS.:SRB GR=1000
                 *MADADD #SYS.:SRB
                 *CR DP#SYS.:DOCUM GR=6000
                 *MADADD #SYS.:DOCUM
                 *CR DP#SYS.:QUAC GR=3000
                 *MADADD #SYS.:QUAC
                 *END
 
 
       2.   Now, you should copy your existing processors into the .:SYSGEN
            account with these commands:
 
                 !PRIV ALL
                 !ORES MEM=256
                 !PCL
                 <COPYALL LT#CP6PO1#CP6PO2#CP6PO3 OVER .:SYSGEN
                 <REM LT#CP6PO3
                 <END
 
       3.   Mount the processor update release tape. This tape is a CP-6 PCL
            tape with a label that is PCL01 (possibly PCL02 also). To get the
            new processors (and their associated files) into your DEF account,
            use these commands:
 
                 !PCL
                 <COPYALL LT#PCL01[#PCL02 ...] OVER .:SYSGEN
                 <REM LT#PCL01[#PCL02 ...]
                 <END
 
       4.   Now the Software Release Bulletins (SRBs) and the manuals for
            the new products should be printed.
 
 
            To move the necessary files from the DEF account (.:SYSGEN) into
            the .:SRB and .:DOCUM accounts in preparation for formatting and
            printing, issue the following command:
 
                 !XEQ $XTAPEINSTALL.:SYSGEN SRB=YES,DOCUM=YES
 
 
 
 
 
       SRB_TCP/IP                  CP-6 Installation                        5-8
            
 
 
            After that job has run, the :SRB and :DOCUM accounts will contain
            the SRBs and manuals (respectively) for this release.
 
            To format the SRBs and manuals for LONG form (8 1/2 by 11), issue
            the following commands:
 
                 !XEQ $XTEXTALL_SRBS.:SRB
                 !XEQ $XCOPYALL_MANUALS.:DOCUM
 
            The LONG, WIDE, and STDLP forms are created by XEQing $XFORM.  This
            is described in the HOST SRB, Section 5, Installing the Tools Tape.
 
       5.   The remainder of the files must be moved to the appropriate
            accounts.  Products moved into the .:SYS account will have patches
            applied automatically.  To do this, perform the following command:
 
                 !XEQ $XTAPEINSTALL.:SYSGEN SYS=YES[,DELL=YES]
 
            DELL will delete unnecessary files from :SYSGEN.  It is NOT
            recommended that you install these processors with names other than
            their primary names.
 
            If you choose to install these processors with modified RU names
            for parallel testing, you MUST also change the $XRUMORDER file in
            the :SYSGEN account accordingly.
 
            CAUTION: $XRUMORDER MUST be merged into the site's PATCH DECK
            as-is, to insure the proper operation of the AUTOMATIC patch update
            procedures.
 
       6.   A set of patches for these new products is on this processor update
            tape and will be in the file $XRUMORDER.:SYSGEN.  These patches
            should be merged into the site's patch deck (RUM section) prior to
            creating a new P.O. tape set.  You should now be ready to re-DEF a
            full P.O. tape set.  Modify the !DEFAULT lines of the
            $XDEF_FULL.SUPPORT file to provide the proper SITE_ID and SITE_NAME
            and boot density.  When the patches have merged, execute the
            following to create a new P.O. set:
 
                 !BATCH $XDEF_FULL.SUPPORT
 
            Note, by the time you receive and install this tape, you may be
            several weeks behind in patch releases.  Be sure to pick up all
            patches in the succeeding weekly patch files that pertain to these
            products.
 
 
       7.   When the P.O. tape set created as a result of this job is booted,
            the installation of this processor and its associated files will be
            complete.
 
 
 
 
 
 
 
 
       SRB_TCP/IP                  CP-6 Installation                        5-9
            
 
 
       8.   Two types of tests exist in the :QUAC account, both of which
            perform some form of elementary existence checking.  Tests of the
            first type are named with the prefix ORDR and the suffix SI; these
            check to see that every element of the products you ordered is
            included in your system.  The output from these tests must be
            checked for a STEPCC of 0.  If the STEPCC for any of these tests is
            greater than 0, you are missing some component(s).  The missing
            components will be listed in the line(s) just above the line
            reporting the name of the test and the STEPCC.
 
            Tests of the second type have names of the form xx_name_GT4.  These
            tests check to see that each of the processors ordered responds
            properly when invoked; in some cases they check the performance of
            basic features.  These, too, should report a STEPCC of 0.
 
            To run the tests --
 
            After installing the new processors, log on to an account which has
            SUPERA and PIGC processor privileges, then execute the following
            job:
 
                 !SET M$LO LP
                 !XEQ $XSETUP.:QUAC
                 !R
 
            Note the first and third commands above are optional.  This job
            creates a few pages of printing and the process will be much faster
            to print the output on a printer versus a console.
 
 
            Keyin ON BA 1 at the system console to permit batch jobs.
 
            When the QUAC tests are finished, you will have a file called
            $RESULTS.:QUACRUN (this file is also copied to the printer at the
            end of all the tests) which consists of lines reporting the ATITLE
            and STEPCC of each test.  All of the STEPCCs should be zero.  After
            testing is complete, use SUPER to remove the testing account:
 
                !SUPER
                CMD*REM :QUACRUN,107TESTING
                CMD*END
 
           Delete all files in the :QUAC account:
 
                !DEL ?.:QUAC
                YES$
       The CP-6 TAC is available to be contracted for on-site installation
       support. The CP-6 TAC can be reached at the following numbers.
 
 
 
 
 
 
 
 
 
 
       SRB_TCP/IP                  CP-6 Installation                       5-10
       
 
 
       Response Center:
           1-800-285-8008 Software (US)
           1-800-285-9009 Hardware (US)
           1-602-862-6500 Software (Canada)
           1-800-268-4191 Hardware (Canada)
 
 
       For information about the installation of TCP/IP on the CP-6 Host, please
       refer to Section 3 of the CP-6 TCP/IP Reference Manual (HA26).
 
       For an initial installation, the system administrator will be required to
       make changes for TIGR and NETCON defining the DPX/2-300 TCP/IP FEP, to define
       the network resources and authorize users for them with SUPER, to update a
       number of network control files, and possibly to configure the SMTP mail
       gateway.
 
       For any installation after the initial one, care should be taken to avoid
       overwriting existing etc:?.:SYS files with the corresponding files from
       the tape.  Save the existing files so they can be restored or merged into
       the new files.
 
       If you currently have an etc:inetd_conf.:SYS file and multiple TCP/IP FEPs,
       you may wish to modify entries in the etc:inetd_conf file to take
       advantage of the "/hostname" feature.  See the topic DEFINING_SERVERS in
       the INETD HELP facility for more information.
 
       In addition, if the ghosts INETD, NETMAIL, and/or NETSEND are running at
       the time of installation, they should be X'd off the system first.
 
       Note that direct SMTP mail transfer between the CP-6 system and the DPX or
       XPS FEP providing LAN access is not possible because both systems
       have the same network address and contend for the same TCP/IP ports.
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
       SRB_TCP/IP                  CP-6 Installation                       5-11
       
 
 
 
 
 
                                                                      SECTION 6
 
 
                                                                        SUPPORT
 
 
 
 
 
 
 
 
       ______________________       DPX/2 PROBLEM ANALYSIS
 
 
 
 
 
       _________________       Problem Reporting
 
 
       Problems encountered in using the TCP/IP software should be reported
       through STARLOG.  Please use subject name TCP/IP and version A01.
 
 
 
       ______________________________       Remote Debugging Logon Account
 
 
       To expedite resolution of software problems, the DPX/2-300 system
       administrator should create a login name for remote debugging use by
       ACTC and TAC support personnel.  The login name should be actc.  The
       following is an example of the /etc/passwd entry used at ACTC.
 
            actc::100:100:ACTC  Support :/usr/gate:/bin/csh
 
       The password for this login should be communicated to the ACTC Support
       Group.
 
       To prevent the misuse of privileged ports, the uid for the actc login
       must be greater than 20 for the XPS-100 and anything other than 0 for
       the DPX/2-300.
 
 
 
 
 
 
 
 
 
 
 
 
 
       SRB_TCP/IP           Remote Debugging Logon Account                  6-1
       
 
 
       __________________________________________       DPX/2-300 AND XPS-100 UPDATE DISTRIBUTIONS
 
 
       Between major releases of TCP/IP, problem corrections for DPX/2-300 and
       XPS-100 software will be distributed as individual replacement files.
       The distribution media will be either cartridge tape, floppy disk, or
       files BEAMed from the CP-6 ZZZPATCH account.  The most economical of
       these media will be used.
 
       Regardless of the media used, an update distribution will consist of a
       cpio archive file containing all update files with their correct
       directory descriptions.  Before installing new updates, a list of files
       from the distribution should be made using the cpio -t option, and files
       to be replaced should be moved to backup files to provide a method of
       recovery in case of problems encountered while installing the
       distributed updates.  This will also acquaint you with the files being
       replaced.
 
       When the updates include a replacement for a running process (nodeadmin
       for example), be sure to kill the running process before installing the
       replacement.
 
       To install the update distribution files, login as root and make sure
       the current working directory is /, just as for an initial installation.
       Read the update distribution using cpio.
 
       When updates are distributed through the ZZZPATCH account using BEAM,
       the CP-6 FTP processor can be used to move the rununit from the CP-6
       host to a directory on the DPX/2-300.  Use FTP binary mode to transfer
       the file.
 
       Accompanying each update rununit is a file containing the checksum
       information for that rununit. Execute the command "sum filename" and
       compare the information displayed against the information contained in
       the checksum file. If the checksums don't match, contact ACTC for a new,
       undamaged rununit.
 
       Patches for the CP-6 TCP/IP host software will be distributed through
       normal CP-6 procedures.
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
       SRB_TCP/IP                    DPX/2-300 and                          6-2
                             XPS-100 Update Distributions
       
 
 
 
 
 
                                                                               
 
 
                                                                          INDEX
 
 
 
 
 
       Note: Index references indicate the page on which the paragraph
       containing the index term actually ends.  Should the paragraph straddle
       two pages, the actual indexed term might be on the first page, while the
       index reference is to the second page.
 
 
       A
 
         ASYNC Profile Parameters - 4-3
 
 
       C
 
         Compatibility Considerations - 1-1
         Compatibility Issues - 3-2
         CP-6 Installation - 5-7
 
 
       D
 
         DPX/2 Problem Analysis - 6-1
         DPX/2-300 and XPS-100 Installation - 5-1
         DPX/2-300 and XPS-100 Update Distributions - 6-2
         DPX/2-300 Functions - 5-3
 
 
       F
 
         FEP-Resident Components - 3-2
 
 
       H
 
         Host-Resident Components - 3-1
 
 
       I
 
         Improved cp6 Server - 3-2
         Install.rc Examples - 5-5
         Install.rc Options - 5-3
 
 
 
 
 
       SRB_TCP/IP                        Index                              i-1
       
 
 
       O
 
         Other Errors and Shortfalls - 4-3
 
 
       P
 
         Performance Limitations - 4-2
         Problem Reporting - 6-1
         Purpose - 1-1
 
 
       R
 
         Release Contents - 2-1
         Remote Debugging Logon Account - 6-1
         Required XPS-100 Changes - 4-1
 
 
       S
 
         STARS Closed - 4-2
         Supporting Documentation - 2-3
 
 
       U
 
         Upgrading from A01 (or A00) to A02 Socket Library - 3-4
         Upgrading from PA0E to PA0F Socket Library - 3-3
         Upgrading from PA0F to A00 Socket Library - 3-4
         Upgrading to PA0E Socket Library - 3-2
 
 
       X
 
         XPS-100 Functions - 5-4
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
       SRB_TCP/IP                        Index                              i-2


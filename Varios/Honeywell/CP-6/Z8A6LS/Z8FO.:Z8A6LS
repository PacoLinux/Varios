VERSION A06

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:1    
        1        1        /*M* Z8FO$LOCAL_OPTIMIZER -- Optimize certain assignments */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*P*
        8        8               NAME:  Z8FO$LOCAL_OPTIMIZER
        9        9            PURPOSE:  Check ILL and ETT items to see which can be optimized.
       10       10        */
       11       11        /*D*
       12       12               NAME:  Z8FO$LOCAL_OPTIMIZER
       13       13               CALL:  CALL Z8FO$LOCAL_OPTIMIZER;
       14       14              INPUT:  ILL and ETT tables
       15       15             OUTPUT:  Same, optimized.
       16       16        DESCRIPTION:  First, search the ETT for certain conversion triads that
       17       17                      convert among binary arithmetic types. Supply alignment
       18       18                      information so that Phase 4 can generate the best possible
       19       19                      code.
       20       20                      Then search the ILL. Watch for moves that involve certain
       21       21                      conversions such as COMP-6 to COMP-7 and supply more precise
       22       22                      ILL along with alignment information. For other moves, such
       23       23                      as alphanumeric to alphanumeric, check for short string
       24       24                      moves and optimize them if possible.
       25       25                      Walk the DO chain. For any DO3 for the SEARCH statement,
       26       26                      replace the BASE item pointers with ESC/ARGP pointers,
       27       27                      take out duplicates, and if there are 4 different ones
       28       28                      then remove the third and fourth. This is done so
       29       29                      those ESCs/ARGPs if they are not global can be made
       30       30                      temporarily global between DO3 and DOEND for better
       31       31                      performance.
       32       32        */
       33       33        %EJECT ;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:2    
       34       34        Z8FO$LOCAL_OPTIMIZER:PROC;
       35       35
       36       36
       37       37             %EQU PHASE = 2;
       38       38             %INCLUDE Z8A_DEFC;
       39      106             %INCLUDE Z8A_SUPP_MAC;
       40     2506             %INCLUDE Z8A_ETT;
       41     2807             %INCLUDE Z8A_ILS;
       42     2916             %INCLUDE Z8F_ALIGN;
       43     2939             %INCLUDE Z8A_ILL;
       44     3632             %INCLUDE Z8A_MKCN;
       45     3649             %INCLUDE Z8A_ERR_NUMS;
       46     4413             %INCLUDE Z8A_QLT;
       47     4519             %INCLUDE Z8A_ST;
       48     8178             %INCLUDE Z8A_LTS;
       49    10255             %INCLUDE Z8A_COMCOM;
       50    10905             %INCLUDE Z8A_TYPES;
       51    11079             %INCLUDE Z8F_O2COM;
       52    11189
       53    11190
       54    11191    1        DCL ILL$$       PTR;
       55    11192    1        DCL ILS$$       PTR;
       56    11193
       57    11194             %EQU LENGTH_1_BYTE = 1;
       58    11195             %EQU LENGTH_2_BYTES = 2;
       59    11196             %EQU LENGTH_3_BYTES = 3;
       60    11197             %EQU LENGTH_4_BYTES = 4;
       61    11198             %EQU LENGTH_8_BYTES = 8;
       62    11199
       63    11200
       64    11201    1        DCL Z8AC$MAKE_CONST       ENTRY(1);
       65    11202
       66    11203    1        DCL Z8AE$ERROR            ENTRY(12);
       67    11204
       68    11205    1        DCL Z8AF$FORME            ENTRY(4);
       69    11206    1        DCL Z8AU$TYPE_DESCRIPTOR  ENTRY(2);
       70    11207
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:3    
       71    11208    1        DCL Z8FO$ALIGN_LENGTH     ENTRY(2) ALTRET;
       72    11209
       73    11210
       74    11211    1        DCL 1 ALIGNMENT_LENGTH ALIGNED,
       75    11212                   %ALIGNMENT_LENGTH;
       76    11216    1        DCL 1 ALIGNMENT_LENGTH_ROP ALIGNED,
       77    11217                   %ALIGNMENT_LENGTH;
       78    11221
       79    11222    1        DCL LOP$ PTR;
       80    11223    1        DCL ROP$ PTR;
       81    11224    1        DCL TEMP$ PTR;
       82    11225    1        DCL ZERO_WORD SBIN CONSTANT INIT (0);
       83    11226    1        DCL ZERO_PTR$ REDEF ZERO_WORD PTR;
       84    11227    1        DCL LOP_ST$ PTR;
       85    11228    1        DCL ROP_ST$ PTR;
       86    11229    1        DCL LOP_LTS$ PTR;
       87    11230    1        DCL ROP_LTS$ PTR;
       88    11231    1        DCL QUAL$ PTR;
       89    11232    1        DCL START1 SBIN;
       90    11233    1        DCL END1 SBIN;
       91    11234    1        DCL START2 SBIN;
       92    11235    1        DCL END2 SBIN;
       93    11236    1        DCL OPTIMIZE_IT BIT (1);
       94    11237    1        DCL TEMP_SBIN SBIN;
       95    11238
       96    11239    1        DCL 1 ST$1 BASED ALIGNED,
       97    11240    1              2 * UBIN,
       98    11241    1              2 * BIT (21),
       99    11242    1              2 DESCR BIT (15);
      100    11243    1        DCL 1 TYPE_DESC,
      101    11244                   %TYPE_DESC;
      102    11278
      103    11279
      104    11280        %EJECT;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:4    
      105    11281             %TOP_ETT;
      106    11286
      107    11287    2        DO WHILE (ETT$ ~= ADDR(NIL));
      108    11288    3          DO CASE(ETT$ -> ETT.ID);
      109    11289    3            CASE(%CVKI); /* COMP-2 to COMP-6 */
      110    11290    3              CALL Z8FO$ALIGN_LENGTH(ETT$ -> ETT.LOP, ALIGNMENT_LENGTH);
      111    11291
      112    11292    4              DO CASE(ALIGNMENT_LENGTH.ALIGNMENT);
      113    11293    4                CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);
      114    11294    4                  ETT$ -> ETT.ROPCON = %CVKI_BYTE0;
      115    11295
      116    11296    4                CASE(%ALIGNMENT_BYTE1);
      117    11297    4                  ETT$ -> ETT.ROPCON = %CVKI_BYTE1;
      118    11298
      119    11299    4                CASE(%ALIGNMENT_HALF);
      120    11300    4                  ETT$ -> ETT.ROPCON = %CVKI_BYTE2;
      121    11301
      122    11302    4                CASE(%ALIGNMENT_BYTE3);
      123    11303    4                  ETT$ -> ETT.ROPCON = %CVKI_BYTE3;
      124    11304
      125    11305    4                CASE(%ALIGNMENT_UNKNOWN);
      126    11306    4                  ETT$ -> ETT.ROPCON = %CVKI_UNKNOWN;
      127    11307    4              END /* Case */;
      128    11308
      129    11309    3            CASE(%CVJI); /* COMP-1 to COMP-6 */
      130    11310    3              CALL Z8FO$ALIGN_LENGTH(ETT$ -> ETT.LOP, ALIGNMENT_LENGTH);
      131    11311
      132    11312    4              DO CASE(ALIGNMENT_LENGTH.ALIGNMENT);
      133    11313    4                CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);
      134    11314    4                  ETT$ -> ETT.ROPCON = %CVJI_BYTE0;
      135    11315
      136    11316    4                CASE(%ALIGNMENT_BYTE1);
      137    11317    4                  ETT$ -> ETT.ROPCON = %CVJI_BYTE1;
      138    11318
      139    11319    4                CASE(%ALIGNMENT_HALF);
      140    11320    4                  ETT$ -> ETT.ROPCON = %CVJI_BYTE2;
      141    11321
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:5    
      142    11322    4                CASE(%ALIGNMENT_BYTE3);
      143    11323    4                  ETT$ -> ETT.ROPCON = %CVJI_BYTE3;
      144    11324
      145    11325    4                CASE(%ALIGNMENT_UNKNOWN);
      146    11326    4                  ETT$ -> ETT.ROPCON = %CVJI_UNKNOWN;
      147    11327    4              END /* Case */;
      148    11328
      149    11329    3            CASE(%CVHI); /* COMP-7 to COMP-6 */
      150    11330    3              CALL Z8FO$ALIGN_LENGTH(ETT$ -> ETT.LOP, ALIGNMENT_LENGTH);
      151    11331
      152    11332    4              DO CASE(ALIGNMENT_LENGTH.ALIGNMENT);
      153    11333    4                CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);
      154    11334    4                  ETT$ -> ETT.ROPCON = %CVHI_UPPER;
      155    11335
      156    11336    4                CASE(%ALIGNMENT_HALF);
      157    11337    4                  ETT$ -> ETT.ROPCON = %CVHI_LOWER;
      158    11338
      159    11339    4                CASE(%ALIGNMENT_UNKNOWN);
      160    11340    4                  ETT$ -> ETT.ROPCON = %CVHI_UNKNOWN;
      161    11341    4              END /* Case */;
      162    11342    3            CASE(%CMPA); /* ASCII compares */
      163    11343    3             CALL OPTIMIZE_MOVES(ETT$);
      164    11344    3             IF ETT$ -> ETT.ID = %MVANO THEN
      165    11345    4               DO;
      166    11346                      %NEW_ETT(@POINTER=ROP$, @ID=%CMPAS, @LOP=ETT$ -> ETT.ROP, @ROPCON=
             11346                          ETT$ -> ILL.CODE);
      167    11416    4                 ETT$ -> ETT.ROP = ROP$;
      168    11417    4                 ETT$ -> ETT.ID = %CMPAO;
      169    11418    4               END;
      170    11419    3             ELSE IF ETT$ -> ETT.ID ~= %CFILL AND ETT$ -> ETT.ID ~= %CFILLR THEN
      171    11420    3               IF ETT$ -> ETT.ROP -> ETT.ID = %TRIAD THEN
      172    11421    4                 DO;
      173    11422                        %FISH (TRIAD = ETT$ -> ETT.LOP, RTN = LOP_ST$);
      174    11430    4                   IF NOT LOP_ST$ -> VARIABLE.B.LINKAGE THEN
      175    11431    5                     DO;
      176    11432    5                       CALL Z8AU$TYPE_DESCRIPTOR (ETT$ -> ETT.LOP, TYPE_DESC);
      177    11433    5                       IF TYPE_DESC.SSOP$ = ADDR (NIL) AND
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:6    
      178    11434    5                           TYPE_DESC.DESC.ADSC.TA = %ADSC4 AND
      179    11435    5                           TYPE_DESC.DESC.ADSC.N = 1 THEN
      180    11436    6                         DO;
      181    11437    6                           TEMP_SBIN = ETT$ -> ETT.ROP -> ETT.LOP ->
      182    11438    6                               CONST.CONSTI.WORD1 / 2147483648;
      183    11439    7                           DO CASE (TYPE_DESC.DESC.NDSC.CN);
      184    11440    7                             CASE (0);
      185    11441    7                               TEMP_SBIN = TEMP_SBIN * 2147483648;
      186    11442    7                               MKCN.CON = %BITBIN ('360000000000'O);
      187    11443    7                             CASE (1);
      188    11444    7                               TEMP_SBIN = TEMP_SBIN * 134217728;
      189    11445    7                               MKCN.CON = %BITBIN ('017000000000'O);
      190    11446    7                             CASE (2);
      191    11447    7                               TEMP_SBIN = TEMP_SBIN * 41934304;
      192    11448    7                               MKCN.CON = %BITBIN ('000360000000'O);
      193    11449    7                             CASE (3);
      194    11450    7                               TEMP_SBIN = TEMP_SBIN * 262144;
      195    11451    7                               MKCN.CON = %BITBIN ('000017000000'O);
      196    11452    7                             CASE (4);
      197    11453    7                               TEMP_SBIN = TEMP_SBIN * 8192;
      198    11454    7                               MKCN.CON = %BITBIN ('000000360000'O);
      199    11455    7                             CASE (5);
      200    11456    7                               TEMP_SBIN = TEMP_SBIN * 512;
      201    11457    7                               MKCN.CON = %BITBIN ('000000017000'O);
      202    11458    7                             CASE (6);
      203    11459    7                               TEMP_SBIN = TEMP_SBIN * 16;
      204    11460    7                               MKCN.CON = %BITBIN ('000000000360'O);
      205    11461    7                             CASE (7);
      206    11462    7                               MKCN.CON = %BITBIN ('000000000017'O);
      207    11463    7                           END;
      208    11464    6                           CALL Z8AC$MAKE_CONST (ROP$);
      209    11465                                %NEW_ETT (@ID = %ANDI,
      210    11466                                          @LOP = ETT$ -> ETT.LOP,
      211    11467                                          @ROP = ROP$,
      212    11468                                          @POINTER = LOP$);
      213    11538    6                           MKCN.CON = TEMP_SBIN;
      214    11539    6                           CALL Z8AC$MAKE_CONST (ETT$ -> ETT.ROP);
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:7    
      215    11540    6                           ETT$ -> ETT.ID = %CMPI;
      216    11541    6                           ETT$ -> ETT.LOP = LOP$;
      217    11542    6                         END;
      218    11543    5                     END;
      219    11544    4                 END;
      220    11545
      221    11546    3            CASE(%DNA);
      222    11547    3              IF ETT$ -> ETT.LOP -> ETT.ID = %EVAL AND
      223    11548    3                  ETT$ -> ETT.LOP -> ETT.LOP -> ETT.ID = %BASE AND
      224    11549    3                  ETT$ -> ETT.LOP -> ETT.LOP -> ETT.LOP -> VARIABLE.SEQ#.FD = 0 AND
      225    11550    3                  ETT$ -> ETT.LOP -> ETT.LOP -> ETT.LOP -> VARIABLE.SEQ#.BD = %MAX_SEQ#
             11550                           THEN
      226    11551    3                ETT$ -> ETT.LOP = ETT$ -> ETT.LOP -> ETT.LOP;
      227    11552                     /* %EVAL is not needed in this case. */
      228    11553
      229    11554    3   END_CASE_1:
      230    11555    3          END /* Case */;
      231    11556
      232    11557               %STEP_ETT;
      233    11567    2        END /* While */;
      234    11568
      235    11569        %EJECT;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:8    
      236    11570    1        ILS$$ = COMCOM.FIRST_ILS;
      237    11571
      238    11572    2        DO WHILE(ILS$$ ~= ADDR(NIL));
      239    11573    2          ILL$$ = ILS$$ -> ILS.ILL$;
      240    11574
      241    11575    2          IF ILL$$ ~= ADDR(NIL) THEN
      242    11576    3            DO CASE(ILL$$ -> ILL.ID);
      243    11577    3              CASE(%LINOI);
      244    11578    3                COMCOM.CURRENT.LINE = ILL$$ -> LINOI.PREV_LINE;
      245    11579    3                COMCOM.CURRENT.COLUMN = ILL$$ -> LINOI.PREV_COL;
      246    11580                       /* PREV_LINE and PREV_COL since ILL is now linked in
      247    11581                          reverse order. */
      248    11582
      249    11583    3              CASE(%MVAN);
      250    11584    3                ROP$ = ILL$$->ILL.ROP;
      251    11585                     %FISH (TRIAD=ROP$, RTN=ROP_ST$);
      252    11593    3                IF COMCOM.OB.INFO THEN
      253    11594    4   OVERLAP_CHECK: DO;
      254    11595                         /* MOVE with overlapping operands might not work the same
      255    11596                            from one hardware platform to the next; warn user. */
      256    11597    4                    LOP$ = ILL$$->ILL.LOP;
      257    11598    4                    IF LOP$->ETT.ID = %BASE OR
      258    11599    4                       LOP$->ETT.ID = %SIZ AND LOP$->ETT.LOP->ETT.ID = %BASE THEN;
             11599                                /* OK */
      259    11600    4                    ELSE
      260    11601    4                      EXIT OVERLAP_CHECK;
      261    11602    4                    IF ROP$->ETT.ID = %BASE OR
      262    11603    4                       ROP$->ETT.ID = %SIZ AND ROP$->ETT.LOP->ETT.ID = %BASE OR
      263    11604    4                       ROP$->ETT.ID = %EVAL AND
      264    11605    4                         (ROP$->ETT.LOP->ETT.ID = %BASE OR
      265    11606    4                          ROP$->ETT.LOP->ETT.ID = %SIZ AND ROP$->ETT.LOP->ETT.LOP->ETT.
             11606                                   ID = %BASE) OR
      266    11607    4                       ROP$->ETT.ID = %DNA AND
      267    11608    4                         (ROP$->ETT.LOP->ETT.ID = %BASE OR
      268    11609    4                          ROP$->ETT.LOP->ETT.ID = %EVAL AND
      269    11610    4                            (ROP$->ETT.LOP->ETT.LOP->ETT.ID = %BASE OR
      270    11611    4                             ROP$->ETT.LOP->ETT.LOP->ETT.ID = %SIZ AND
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:9    
      271    11612    4                             ROP$->ETT.LOP->ETT.LOP->ETT.LOP->ETT.ID = %BASE)) THEN;
             11612                                      /* OK so far */
      272    11613    4                    ELSE
      273    11614    4                      EXIT OVERLAP_CHECK;
      274    11615                         %FISH (TRIAD=LOP$ -> ETT.LOP, RTN=LOP_ST$);
      275    11623    4                    IF LOP_ST$->VARIABLE.B.LINKAGE THEN
      276    11624    5                      DO;
      277    11625    5                        IF NOT ROP_ST$->VARIABLE.B.LINKAGE THEN
      278    11626    5                          EXIT OVERLAP_CHECK;
      279    11627    5                        QUAL$ = LOP_ST$->VARIABLE.QLT$;
      280    11628    6                        DO WHILE QUAL$->QLT.FATHER ~= ADDR(NIL);
      281    11629    6                          QUAL$ = QUAL$->QLT.FATHER;
      282    11630    6                        END;
      283    11631                             %GET_LTS (@ID = %BASE_LTS, @ST$ = QUAL$->QLT.ST$, @RETURN$ =
             11631                                 LOP_LTS$);
      284    11674    5                        QUAL$ = ROP_ST$->VARIABLE.QLT$;
      285    11675    6                        DO WHILE QUAL$->QLT.FATHER ~= ADDR(NIL);
      286    11676    6                          QUAL$ = QUAL$->QLT.FATHER;
      287    11677    6                        END;
      288    11678                             %GET_LTS (@ID = %BASE_LTS, @ST$ = QUAL$->QLT.ST$, @RETURN$ =
             11678                                 ROP_LTS$);
      289    11721    5                        IF LOP_LTS$->BASE_LTS.SEQ# ~= ROP_LTS$->BASE_LTS.SEQ# THEN
      290    11722    5                          EXIT OVERLAP_CHECK;
      291    11723    5                      END;
      292    11724    4                    ELSE /* LOP not in LINKAGE SECTION */
      293    11725    5                      DO;
      294    11726    5                        IF ROP_ST$->VARIABLE.B.LINKAGE THEN
      295    11727    5                          EXIT OVERLAP_CHECK;
      296    11728    5                        IF LOP_ST$->VARIABLE.COUNT ~= ROP_ST$->VARIABLE.COUNT THEN
      297    11729    5                          EXIT OVERLAP_CHECK;
      298    11730    5                      END;
      299    11731    4                    CALL Z8AU$TYPE_DESCRIPTOR (LOP$, TYPE_DESC);
      300    11732    4                    START1 = LOP_ST$->VARIABLE.SA * 36;
      301    11733    5                    DO CASE (TYPE_DESC.TYPE);
      302    11734    5                      CASE (%TYB, %TYC);
      303    11735    5                        START1 = START1 + TYPE_DESC.DESC.NDSC.CN * 6;
      304    11736    5                        IF TYPE_DESC.TYPE = %TYC THEN
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:10   
      305    11737    5                          END1 = START1 + TYPE_DESC.DESC.NDSC.N * 6;
      306    11738    5                        ELSE IF TYPE_DESC.SIZ$ ~= ADDR(NIL) AND TYPE_DESC.SIZ$->ETT.ID
             11738                                 = %TRIAD
      307    11739    5                          THEN END1 = START1 + TYPE_DESC.SIZ$->ETT.LOP->CONST.CONSTI.
             11739                                   WORD1 * 6;
      308    11740    5                          ELSE END1 = START1 + TYPE_DESC.DESC.ADSC.N * 6; /* %TYB */
      309    11741    5                      CASE (%TYD, %TYO, %TYF);
      310    11742    5                        IF LOP_ST$->VARIABLE.B.DIGIT THEN /* Packed decimal */
      311    11743    6                          DO;
      312    11744    6                            END1 = START1 + (TYPE_DESC.DESC.NDSC.CN + TYPE_DESC.DESC.
             11744                                     NDSC.N + 1) * 9 / 2;
      313    11745    6                            START1 = START1 + (TYPE_DESC.DESC.NDSC.CN + 1) * 9 / 2;
      314    11746    6                          END;
      315    11747    5                        ELSE /* ASCII/EBCDIC */
      316    11748    6                          DO;
      317    11749    6                            START1 = START1 + TYPE_DESC.DESC.ADSC.CN * 9;
      318    11750    6                            END1 = START1 + TYPE_DESC.DESC.NDSC.N * 9;
      319    11751    6                          END;
      320    11752    5                      CASE (ELSE);
      321    11753    5                        START1 = START1 + TYPE_DESC.DESC.ADSC.CN * 9;
      322    11754    5                        IF TYPE_DESC.SIZ$ ~= ADDR(NIL) AND TYPE_DESC.SIZ$->ETT.ID = %
             11754                                 TRIAD
      323    11755    5                          THEN END1 = START1 + TYPE_DESC.SIZ$->ETT.LOP->CONST.CONSTI.
             11755                                   WORD1 * 9;
      324    11756    5                          ELSE END1 = START1 + TYPE_DESC.DESC.ADSC.N * 9;
      325    11757    5                    END; /* CASE */
      326    11758    4                    CALL Z8AU$TYPE_DESCRIPTOR (ROP$, TYPE_DESC);
      327    11759    4                    START2 = ROP_ST$->VARIABLE.SA * 36;
      328    11760    5                    DO CASE (TYPE_DESC.TYPE);
      329    11761    5                      CASE (%TYB, %TYC);
      330    11762    5                        START2 = START2 + TYPE_DESC.DESC.NDSC.CN * 6;
      331    11763    5                        IF TYPE_DESC.TYPE = %TYC THEN
      332    11764    5                          END2 = START2 + TYPE_DESC.DESC.NDSC.N * 6;
      333    11765    5                        ELSE IF TYPE_DESC.SIZ$ ~= ADDR(NIL) AND TYPE_DESC.SIZ$->ETT.ID
             11765                                 = %TRIAD
      334    11766    5                          THEN END2 = START2 + TYPE_DESC.SIZ$->ETT.LOP->CONST.CONSTI.
             11766                                   WORD1 * 6;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:11   
      335    11767    5                          ELSE END2 = START2 + TYPE_DESC.DESC.ADSC.N * 6; /* %TYB */
      336    11768    5                      CASE (%TYD, %TYO, %TYF);
      337    11769    5                        IF ROP_ST$->VARIABLE.B.DIGIT THEN /* Packed decimal */
      338    11770    6                          DO;
      339    11771    6                            END2 = START2 + (TYPE_DESC.DESC.NDSC.CN + TYPE_DESC.DESC.
             11771                                     NDSC.N + 1) * 9 / 2;
      340    11772    6                            START2 = START2 + (TYPE_DESC.DESC.NDSC.CN + 1) * 9 / 2;
      341    11773    6                          END;
      342    11774    5                        ELSE /* ASCII/EBCDIC */
      343    11775    6                          DO;
      344    11776    6                            START2 = START2 + TYPE_DESC.DESC.ADSC.CN * 9;
      345    11777    6                            END2 = START2 + TYPE_DESC.DESC.NDSC.N * 9;
      346    11778    6                          END;
      347    11779    5                      CASE (ELSE);
      348    11780    5                        START2 = START2 + TYPE_DESC.DESC.ADSC.CN * 9;
      349    11781    5                        IF TYPE_DESC.SIZ$ ~= ADDR(NIL) AND TYPE_DESC.SIZ$->ETT.ID = %
             11781                                 TRIAD
      350    11782    5                          THEN END2 = START2 + TYPE_DESC.SIZ$->ETT.LOP->CONST.CONSTI.
             11782                                   WORD1 * 9;
      351    11783    5                          ELSE END2 = START2 + TYPE_DESC.DESC.ADSC.N * 9;
      352    11784    5                    END; /* CASE */
      353    11785    4                    IF START2 >= START1 AND START2 < END1 OR
      354    11786    4                        END2 > START1 AND START2 < START1 THEN
      355    11787    4                      CALL Z8AE$ERROR (%E$OPERANDS_OVERLAP);
      356    11788    4                  END; /* OVERLAP_CHECK */
      357    11789    3                IF ROP$ -> ETT.ID = %DNA OR
      358    11790    3                   ROP$ -> ETT.ID = %FISS OR
      359    11791    3                   ROP_ST$ -> ST.ID = %SYMREF_ OR
      360    11792    3                   ROP_ST$ -> SCALAR.LTS$ = ADDR (NIL) OR
      361    11793    3                   ROP_ST$ -> SCALAR.LTS$ -> ETT.ID ~= %TRIAD OR
      362    11794    3                   ROP_ST$ -> SCALAR.LTS$ -> ETT.LOP -> CONST.ADSC.N =
      363    11795    3                       ROP_ST$ -> SCALAR.ADSC.N THEN
      364    11796    3                  CALL OPTIMIZE_MOVES(ILL$$);
      365    11797
      366    11798    3              CASE(%MVJJ); /* COMP-1 to COMP-1 */
      367    11799    3                IF ILL$$ -> ILL.ROP -> ETT.ID = %CVIJ THEN
      368    11800    4                  DO; /* COMP-6 to COMP-1 */
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:12   
      369    11801    4                    CALL Z8FO$ALIGN_LENGTH(ILL$$ -> ILL.LOP, ALIGNMENT_LENGTH);
      370    11802
      371    11803    5                    DO CASE(ALIGNMENT_LENGTH.ALIGNMENT);
      372    11804    5                      CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);
      373    11805    5                        ILL$$ -> ILL.CODE = %MVIJ_BYTE0;
      374    11806
      375    11807    5                      CASE(%ALIGNMENT_BYTE1);
      376    11808    5                        ILL$$ -> ILL.CODE = %MVIJ_BYTE1;
      377    11809
      378    11810    5                      CASE(%ALIGNMENT_HALF);
      379    11811    5                        ILL$$ -> ILL.CODE = %MVIJ_BYTE2;
      380    11812
      381    11813    5                      CASE(%ALIGNMENT_BYTE3);
      382    11814    5                        ILL$$ -> ILL.CODE = %MVIJ_BYTE3;
      383    11815
      384    11816    5                      CASE(%ALIGNMENT_UNKNOWN);
      385    11817    5                        ILL$$ -> ILL.CODE = %MVIJ_UNKNOWN;
      386    11818
      387    11819    5                    END /* Case */;
      388    11820
      389    11821    4                    ILL$$ -> ILL.ROP = ILL$$ -> ILL.ROP -> ETT.LOP;
      390    11822    4                    ILL$$ -> ILL.ID = %MVIJ; /* COMP-6 to COMP-1 */
      391    11823    4                  END;
      392    11824    3                ELSE                                 /*#25215*/
      393    11825    4                  DO ; /* Treat as alphanumeric MOVE */
      394    11826    4                    ILL$$ -> ILL.ID = %MVAN ;
      395    11827    4                    CALL OPTIMIZE_MOVES(ILL$$);
      396    11828    4                END ; /* ROP is not CVIJ */
      397    11829
      398    11830    3              CASE(%MVKK); /* COMP-2 to COMP-2 */
      399    11831    3                IF ILL$$ -> ILL.ROP -> ETT.ID = %CVIK THEN
      400    11832    4                  DO; /* COMP-6 to COMP-2 */
      401    11833    4                    CALL Z8FO$ALIGN_LENGTH(ILL$$ -> ILL.LOP, ALIGNMENT_LENGTH);
      402    11834
      403    11835    5                    DO CASE(ALIGNMENT_LENGTH.ALIGNMENT);
      404    11836    5                      CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);
      405    11837    5                        ILL$$ -> ILL.CODE = %MVIK_BYTE0;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:13   
      406    11838
      407    11839    5                      CASE(%ALIGNMENT_BYTE1);
      408    11840    5                        ILL$$ -> ILL.CODE = %MVIK_BYTE1;
      409    11841
      410    11842    5                      CASE(%ALIGNMENT_HALF);
      411    11843    5                        ILL$$ -> ILL.CODE = %MVIK_BYTE2;
      412    11844
      413    11845    5                      CASE(%ALIGNMENT_BYTE3);
      414    11846    5                        ILL$$ -> ILL.CODE = %MVIK_BYTE3;
      415    11847
      416    11848    5                      CASE(%ALIGNMENT_UNKNOWN);
      417    11849    5                        ILL$$ -> ILL.CODE = %MVIK_UNKNOWN;
      418    11850
      419    11851    5                    END /* Case */;
      420    11852
      421    11853    4                    ILL$$ -> ILL.ROP = ILL$$ -> ILL.ROP -> ETT.LOP;
      422    11854    4                    ILL$$ -> ILL.ID  = %MVIK; /* COMP-6 to COMP-2 */
      423    11855    4                  END;
      424    11856    4                ELSE DO ; /* Treat as alphanumeric MOVE */
      425    11857    4                  ILL$$ -> ILL.ID = %MVAN ;
      426    11858    4                  CALL OPTIMIZE_MOVES(ILL$$);
      427    11859    4                END ; /* ROP is not CVIK */
      428    11860
      429    11861    3              CASE(%MVHH); /* COMP-7 to COMP-7 */
      430    11862    3                IF ILL$$ -> ILL.ROP -> ETT.ID = %CVIH THEN
      431    11863    4                  DO; /* COMP-6 to COMP-7 */
      432    11864    4                    CALL Z8FO$ALIGN_LENGTH(ILL$$ -> ILL.LOP, ALIGNMENT_LENGTH);
      433    11865
      434    11866    5                    DO CASE(ALIGNMENT_LENGTH.ALIGNMENT);
      435    11867    5                      CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);
      436    11868    5                        ILL$$ -> ILL.CODE = %MVIH_UPPER;
      437    11869
      438    11870    5                      CASE(%ALIGNMENT_HALF);
      439    11871    5                        ILL$$ -> ILL.CODE = %MVIH_LOWER;
      440    11872
      441    11873    5                      CASE(%ALIGNMENT_UNKNOWN);
      442    11874    5                        ILL$$ -> ILL.CODE = %MVIH_UNKNOWN;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:14   
      443    11875
      444    11876    5                    END /* Case */;
      445    11877
      446    11878    4                    ILL$$ -> ILL.ROP = ILL$$ -> ILL.ROP -> ETT.LOP;
      447    11879    4                    ILL$$ -> ILL.ID  = %MVIH; /* COMP-6 to COMP-7 */
      448    11880    4                  END;
      449    11881    4                ELSE DO ; /* Treat as alphanumeric MOVE */
      450    11882    4                  ILL$$ -> ILL.ID = %MVAN ;
      451    11883    4                  CALL OPTIMIZE_MOVES(ILL$$);
      452    11884    4                END ; /* ROP is not CVIH */
      453    11885
      454    11886    3              CASE(%MVOO, %MVOOR); /* Overpunched to overpunched */
      455    11887                     /* Overpunched operands always are composed of 9-bit characters.
      456    11888                        If sign type (leading/trailing), scale factor, and length are
      457    11889                        identical, redefine both as alphanumeric and do an
      458    11890                        alphanumeric move, with whatever optimizations apply to
      459    11891                        such moves. */
      460    11892    3                LOP$ = ILL$$ -> ILL.LOP;
      461    11893    3                ROP$ = ILL$$ -> ILL.ROP;
      462    11894    3                IF LOP$ -> ETT.ID = %BASE
      463    11895    3                    AND ROP$ -> ETT.ID = %BASE THEN
      464    11896    4   OPTIMIZE_MVOO: DO;
      465    11897    4                    LOP$ = LOP$ -> ETT.LOP;
      466    11898    4                    ROP$ = ROP$ -> ETT.LOP;
      467    11899    4                    IF LOP$ -> VARIABLE.TYPE ~= ROP$ -> VARIABLE.TYPE THEN
      468    11900    4                      EXIT OPTIMIZE_MVOO;
      469    11901    4                    OPTIMIZE_IT = FALSE;;
      470    11902    4                    IF LOP$ -> ST$1.DESCR =
      471    11903    4                        ROP$ -> ST$1.DESCR THEN
      472    11904    5                      DO;
      473    11905    5                        ILL$$ -> ILL.ID = %MVAN;
      474    11906    5                        OPTIMIZE_IT = TRUE;
      475    11907    5                      END;
      476    11908    4                    ELSE IF LOP$ -> VARIABLE.NDSC.S = %TRAILING_SIGN
      477    11909    4                        AND ROP$ -> VARIABLE.NDSC.S = %TRAILING_SIGN THEN
      478    11910    5                      DO;
      479    11911    5                        IF LOP$ -> VARIABLE.NDSC.SF = ROP$ -> VARIABLE.NDSC.SF THEN
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:15   
      480    11912    6                          DO;
      481    11913    6                            ILL$$ -> ILL.ID = %MVFIL;
      482    11914    6                            IF LOP$ -> VARIABLE.TYPE = %TYF /* EBCDIC numeric */
      483    11915    6                              THEN ILL$$ -> MVFIL.FILL = %BITASC ('360'O);
      484    11916    6                              ELSE ILL$$ -> MVFIL.FILL = '0';
      485    11917    6                            ILL$$ -> MVFIL.CODE = %MRLFIL;
      486    11918    6                            OPTIMIZE_IT = TRUE;
      487    11919    6                          END;
      488    11920    5                      END;
      489    11921    4                    ELSE IF LOP$ -> VARIABLE.NDSC.S = %LEADING_SIGN
      490    11922    4                        AND ROP$ -> VARIABLE.NDSC.S = %LEADING_SIGN THEN
      491    11923    5                      DO;
      492    11924    5                        IF LOP$ -> VARIABLE.NDSC.N + LOP$ -> VARIABLE.NDSC.SF =
      493    11925    5                            ROP$ -> VARIABLE.NDSC.N + ROP$ -> VARIABLE.NDSC.SF THEN
      494    11926    6                          DO;
      495    11927    6                            ILL$$ -> ILL.ID = %MVFIL;
      496    11928    6                            IF LOP$ -> VARIABLE.TYPE = %TYF /* EBCDIC numeric */
      497    11929    6                              THEN ILL$$ -> MVFIL.FILL = %BITASC ('360'O);
      498    11930    6                              ELSE ILL$$ -> MVFIL.FILL = '0';
      499    11931    6                            ILL$$ -> MVFIL.CODE = %MLRFIL;
      500    11932    6                            OPTIMIZE_IT = TRUE;
      501    11933    6                          END;
      502    11934    5                      END;
      503    11935    4                    IF OPTIMIZE_IT THEN
      504    11936    5                      DO;
      505    11937    5                        CALL Z8AF$FORME (%DNA, ILL$$ -> ILL.LOP, 0, ILL$$ -> ILL.LOP);
      506    11938    5                        CALL Z8AF$FORME (%DNA, ILL$$ -> ILL.ROP, 0, ILL$$ -> ILL.ROP);
      507    11939    5                        IF ILL$$ -> ILL.ID = %MVAN THEN
      508    11940    5                          CALL OPTIMIZE_MOVES (ILL$$);
      509    11941    5                      END;
      510    11942    4                  END; /* OPTIMIZE_MVOO */
      511    11943
      512    11944    3              CASE(%MVDD, %MVDDR); /* Decimal to decimal */
      513    11945    3                IF ILL$$ -> ILL.LOP -> ETT.ID = %BASE AND
      514    11946    3                    (ILL$$ -> ILL.ROP -> ETT.ID = %BASE AND
      515    11947    3                     NOT COMCOM.OB.COBOL_74 OR
      516    11948    3                     ILL$$ -> ILL.ROP -> ETT.ID = %TRIAD) THEN
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:16   
      517    11949    3                  IF ILL$$ -> ILL.LOP -> ETT.LOP -> ST$1.DESCR =
      518    11950    3                      ILL$$ -> ILL.ROP -> ETT.LOP -> ST$1.DESCR AND
      519    11951    3                      ILL$$ -> ILL.LOP -> ETT.LOP -> VARIABLE.B.P =
      520    11952    3                      ILL$$ -> ILL.ROP -> ETT.LOP -> VARIABLE.B.P THEN
      521    11953                         /* Decimal, same type characters (ASCII/packed decimal), same
      522    11954                            sign type (leading/trailing), same scale factor and
      523    11955                            length: may be optimizable to alphanumeric move. */
      524    11956    3                    IF (MOD (ILL$$ -> ILL.LOP -> ETT.LOP -> VARIABLE.NDSC.N, 2) = 0
      525    11957    3                        AND NOT ILL$$ -> ILL.ROP -> ETT.LOP -> VARIABLE.ADSC.MBZ1
      526    11958    3                        AND NOT ILL$$ -> ILL.LOP -> ETT.LOP -> VARIABLE.ADSC.MBZ1
      527    11959                             /* Numeric descriptor, bit 20 must be off, meaning starting
      528    11960                                position is on a byte boundary, and length must be even */
      529    11961    3                        AND (ILL$$ -> ILL.LOP -> ETT.LOP -> VARIABLE.NDSC.TN = %NDSC4
      530    11962    3                             OR ILL$$ -> ILL.ROP -> ETT.ID = %TRIAD)
      531    11963    3                       OR (ILL$$ -> ILL.LOP -> ETT.LOP -> VARIABLE.NDSC.TN = %NDSC9
      532    11964    3                           AND ILL$$ -> ILL.ROP -> ETT.ID = %TRIAD)) THEN
      533    11965                             /* And operands are not USAGE DISPLAY
      534    11966                                or ROP is literal */
      535    11967    4                      DO;
      536    11968                             /* It is optimizable. Redefine both operands as
      537    11969                                alphanumeric and do alphanumeric move. */
      538    11970    4                        ILL$$ -> ILL.ID = %MVAN;
      539    11971    4                        CALL Z8AU$TYPE_DESCRIPTOR (ILL$$ -> ILL.LOP, TYPE_DESC);
      540    11972    4                        IF TYPE_DESC.DESC.NDSC.TN = %NDSC4
      541    11973    4                          THEN TYPE_DESC.DESC.ADSC.N = TYPE_DESC.DESC.NDSC.N / 2;
      542    11974    4                          ELSE TYPE_DESC.DESC.ADSC.N = TYPE_DESC.DESC.NDSC.N;
      543    11975    4                        TYPE_DESC.DESC.ADSC.TA = %ADSC9;
      544    11976    4                        TYPE_DESC.DESC.ADSC.MBZ2 = FALSE;
      545    11977                             /* Set character type to ASCII and if packed decimal
      546    11978                                then divide the number of packed digits by two. */
      547    11979    4                        CALL Z8AF$FORME (%DNA, ILL$$ -> ILL.LOP, TYPE_DESC.DESC, ILL$$
             11979                                 -> ILL.LOP);
      548    11980    4                        TYPE_DESC.DESC.ADSC.CN = ILL$$ -> ILL.ROP -> ETT.LOP ->
             11980                                 VARIABLE.ADSC.CN;
      549    11981    4                        TYPE_DESC.DESC.SA = ILL$$ -> ILL.ROP -> ETT.LOP -> VARIABLE.SA;
      550    11982    4                        CALL Z8AF$FORME (%DNA, ILL$$ -> ILL.ROP, TYPE_DESC.DESC, ILL$$
             11982                                 -> ILL.ROP);
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:17   
      551    11983    4                        CALL OPTIMIZE_MOVES (ILL$$);
      552    11984    4                      END;
      553    11985    3              CASE(%MVDO, %MVDOR); /* Decimal to overpunched */
      554    11986    4                IF ILL$$ -> ILL.ROP -> ETT.ID = %CVOD4 THEN DO;
      555    11987    4                  LOP$ = ILL$$ -> ILL.LOP;
      556    11988    4                  ROP$ = ILL$$ -> ILL.ROP -> ETT.LOP;
      557    11989    4                  IF LOP$ -> ETT.ID = %BASE AND ROP$ -> ETT.ID = %BASE THEN
      558    11990    5   OPTIMIZE_MVDO:     DO;
      559    11991    5                    LOP$ = LOP$ -> ETT.LOP;
      560    11992    5                    ROP$ = ROP$ -> ETT.LOP;
      561    11993    5                    IF LOP$ -> VARIABLE.TYPE ~= ROP$ -> VARIABLE.TYPE THEN
      562    11994    5                      EXIT OPTIMIZE_MVDO;
      563    11995    5                    OPTIMIZE_IT = '0'B ;
      564    11996    6                    IF LOP$ -> ST$1.DESCR = ROP$ -> ST$1.DESCR THEN DO; /*#31555*/
      565    11997    6                      ILL$$ -> ILL.ID = %MVAN;
      566    11998    6                      OPTIMIZE_IT = '1'B;
      567    11999    6                    END;
      568    12000    5                    ELSE IF LOP$ -> VARIABLE.NDSC.S = %TRAILING_SIGN AND
      569    12001    6                        ROP$ -> VARIABLE.NDSC.S = %TRAILING_SIGN THEN DO ;
             12001                                 /* Trailing sign */
      570    12002    6                      IF LOP$ -> VARIABLE.NDSC.SF = ROP$ -> VARIABLE.NDSC.SF THEN
      571    12003    7                          DO ; /* Optimizable */
      572    12004    7                        ILL$$ -> ILL.ID = %MVFIL ;
      573    12005    7                        IF LOP$ -> VARIABLE.TYPE = %TYF /* EBCDIC numeric */
      574    12006    7                          THEN ILL$$ -> MVFIL.FILL = %BITASC ('360'O) ;
      575    12007    7                          ELSE ILL$$ -> MVFIL.FILL = '0' ;
      576    12008    7                        ILL$$ -> MVFIL.CODE = %MRLFIL ;
      577    12009    7                        OPTIMIZE_IT = '1'B ;
      578    12010    7                      END ;
      579    12011    6                    END ;
      580    12012    5                    ELSE IF LOP$ -> VARIABLE.NDSC.S = %LEADING_SIGN AND
      581    12013    6                        ROP$ -> VARIABLE.NDSC.S = %LEADING_SIGN THEN DO ;
             12013                                 /* Leading sign */
      582    12014    6                      IF LOP$ -> VARIABLE.NDSC.N + LOP$ -> VARIABLE.NDSC.SF = ROP$
      583    12015    7                          -> VARIABLE.NDSC.N + ROP$ -> VARIABLE.NDSC.SF THEN DO ;
      584    12016    7                        ILL$$ -> ILL.ID = %MVFIL ;
      585    12017    7                        IF LOP$ -> VARIABLE.TYPE = %TYF /* EBCDIC numeric */
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:18   
      586    12018    7                          THEN ILL$$ -> MVFIL.FILL = %BITASC ('360'O) ;
      587    12019    7                          ELSE ILL$$ -> MVFIL.FILL = '0' ;
      588    12020    7                        ILL$$ -> MVFIL.CODE = %MLRFIL ;
      589    12021    7                        OPTIMIZE_IT = '1'B ;
      590    12022    7                      END ;
      591    12023    6                    END ;
      592    12024    6                    IF OPTIMIZE_IT THEN DO;
      593    12025    6                      CALL Z8AF$FORME (%DNA, ILL$$->ILL.LOP, 0, ILL$$->ILL.LOP);
      594    12026    6                      CALL Z8AF$FORME (%DNA, ILL$$->ILL.ROP->ETT.LOP, 0, ILL$$->ILL.ROP
             12026                               );
      595    12027    6                      IF ILL$$ -> ILL.ID = %MVAN THEN
      596    12028    6                        CALL OPTIMIZE_MOVES (ILL$$);
      597    12029    6                    END;
      598    12030    5                  END; /* OPTIMIZE_MVDO */
      599    12031    4                END;
      600    12032
      601    12033    3            END /* Case */;
      602    12034
      603    12035               %NEXT_ILS (POINTER=ILS$$) ;
      604    12040    2        END /* While */;
      605    12041
      606    12042    1        ILS$$ = COMCOM.H_DO;
      607    12043
      608    12044    2        DO WHILE ILS$$ ~= ADDR(NIL);
      609    12045    2          IF ILS$$ -> ILS.ILL$ -> ILL.ID = %DO3
      610    12046    2              AND ILS$$ -> ILS.ILL$ -> DO_N.GLIST ~= ZERO_PTR$
      611    12047    3              AND ILS$$ -> ILS.ILL$ -> DO_N.GLIST ~= ADDR(NIL) THEN DO;
      612    12048    3            TEMP$ = ILS$$ -> ILS.ILL$ -> DO_N.GLIST;
      613    12049    3            TEMP$ -> LTS_PTR_ARRAY.P$ (0) = TEMP$ -> LTS_PTR_ARRAY.P$ (0) -> ETT.ROP;
      614    12050    3            TEMP$ -> LTS_PTR_ARRAY.P$ (1) = TEMP$ -> LTS_PTR_ARRAY.P$ (1) -> ETT.ROP;
      615    12051    3            IF TEMP$ -> LTS_PTR_ARRAY.P$ (1) = TEMP$ -> LTS_PTR_ARRAY.P$ (0)
      616    12052    3              THEN TEMP$ -> LTS_PTR_ARRAY.P$ (1) = ADDR(NIL);
      617    12053    3            IF TEMP$ -> LTS_PTR_ARRAY.N > 4 THEN
      618    12054    4              DO;
      619    12055    4                TEMP$ -> LTS_PTR_ARRAY.P$ (2) = TEMP$ -> LTS_PTR_ARRAY.P$ (2) -> ETT.
             12055                         ROP;
      620    12056    4                IF TEMP$ -> LTS_PTR_ARRAY.P$ (2) = TEMP$ -> LTS_PTR_ARRAY.P$ (0)
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:19   
      621    12057    4                    OR TEMP$ -> LTS_PTR_ARRAY.P$ (2) = TEMP$ -> LTS_PTR_ARRAY.P$ (1)
      622    12058    4                  THEN TEMP$ -> LTS_PTR_ARRAY.P$ (2) = ADDR(NIL);
      623    12059    4                IF TEMP$ -> LTS_PTR_ARRAY.N > 5 THEN
      624    12060    5                  DO;
      625    12061    5                    TEMP$ -> LTS_PTR_ARRAY.P$ (3) = TEMP$ -> LTS_PTR_ARRAY.P$ (3) ->
             12061                             ETT.ROP;
      626    12062    5                    IF TEMP$ -> LTS_PTR_ARRAY.P$ (3) = TEMP$ -> LTS_PTR_ARRAY.P$ (0)
      627    12063    5                        OR TEMP$ -> LTS_PTR_ARRAY.P$ (3) = TEMP$ -> LTS_PTR_ARRAY.P$ (1
             12063                                 )
      628    12064    5                        OR TEMP$ -> LTS_PTR_ARRAY.P$ (3) = TEMP$ -> LTS_PTR_ARRAY.P$ (2
             12064                                 )
      629    12065    5                      THEN TEMP$ -> LTS_PTR_ARRAY.P$ (3) = ADDR(NIL);
      630    12066    5                    ELSE IF TEMP$ -> LTS_PTR_ARRAY.P$ (1) ~= ADDR(NIL)
      631    12067    5                        AND TEMP$ -> LTS_PTR_ARRAY.P$ (2) ~= ADDR(NIL) THEN
      632    12068    6                      DO;
      633    12069    6                        TEMP$ -> LTS_PTR_ARRAY.P$ (2) = ADDR(NIL);
      634    12070    6                        TEMP$ -> LTS_PTR_ARRAY.P$ (3) = ADDR(NIL);
      635    12071    6                      END;
      636    12072    5                  END;
      637    12073    4              END; /* N > 4 */
      638    12074    3          END; /* DO3 etc */
      639    12075    2          ILS$$ = ILS$$ -> ILS.ILL$ -> DO_N.ITP;
      640    12076    2        END; /* While */
      641    12077        %EJECT;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:20   
      642    12078    1   OPTIMIZE_MOVES:PROC(ILL$);
      643    12079        /*I*
      644    12080               NAME:  OPTIMIZE_MOVES
      645    12081        DESCRIPTION:  Analyze alphanumeric moves (and those treated as alphanumeric).
      646    12082                      If possible (1-4 bytes or 8 bytes), supply alignment info and
      647    12083                      convert to an optimized MOVE (%MVANO). If, because of
      648    12084                      alignment problems (e.g., move byte 3 of one word and byte 0 of
      649    12085                      next word to somewhere), this cannot be done, still set ILL.CODE
      650    12086                      to %MVAN. For %MVANO, if necessary, create a constant with the
      651    12087                      desired alignment (as in MOVE "AB" TO X where X begins in byte
      652    12088                      1 of a word). Or if the sending operand is not a constant and is
      653    12089                      not aligned as desired (beginning on a different byte from that
      654    12090                      on which the receiving operand starts) then supply one ETT item
      655    12091                      to do the needed shift.
      656    12092        */
      657    12093
      658    12094    2        DCL ILL$ PTR;
      659    12095
      660    12096    2        DCL 1 LOPS    ALIGNED,
      661    12097                  %ALIGNMENT_LENGTH;
      662    12101
      663    12102    2        DCL 1 ROPS    ALIGNED,
      664    12103                  %ALIGNMENT_LENGTH;
      665    12107
      666    12108    2        DCL 1 OFF_ROPCON STATIC,
      667    12109    2          2 VALUE SBIN HALF HALIGNED,
      668    12110    2          2 TYPE UBIN HALF HALIGNED INIT (%WORD_);
      669    12111    2        DCL OFF_ROPCON1 REDEF OFF_ROPCON SBIN;
      670    12112    2        DCL FIRST_BYTE CHAR(1);
      671    12113    2        DCL CHARACTER# SBIN;
      672    12114    2        DCL ETT$      PTR;
      673    12115    2        DCL LOP_ST$   PTR;
      674    12116    2        DCL ROP_ST$   PTR;
      675    12117    2        DCL STRING$   PTR;
      676    12118    2        DCL CHAR$ARRAY (0:0) CHAR(1) BASED (STRING$);
      677    12119    2        DCL MASK      BIT (36);
      678    12120
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:21   
      679    12121    2        CALL Z8FO$ALIGN_LENGTH(ILL$ -> ILL.LOP, LOPS) ALTRET(CANT_OPTIMIZE);
      680    12122    2        CALL Z8FO$ALIGN_LENGTH(ILL$ -> ILL.ROP, ROPS) ALTRET(CANT_OPTIMIZE);
      681    12123
      682    12124    2        MASK = '0'B;
      683    12125             %FISH (TRIAD = ILL$ -> ILL.LOP, RTN = LOP_ST$);
      684    12133             %FISH (TRIAD = ILL$ -> ILL.ROP, RTN = ROP_ST$);
      685    12141
      686    12142    3        IF LOPS.LENGTH = ROPS.LENGTH AND LOPS.LENGTH < 9 THEN DO;
      687    12143    4          DO CASE(LOPS.LENGTH);
      688    12144    4            CASE(%LENGTH_1_BYTE);
      689    12145    5              DO CASE(ROPS.ALIGNMENT);
      690    12146    5                CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);
      691    12147    6                  DO CASE(LOPS.ALIGNMENT);
      692    12148    6                    CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);
      693    12149    6                      IF ILL$ -> ETT.ID = %CMPA THEN
      694    12150    6                        MASK = '777000000000'O;
      695    12151    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_0;
      696    12152    6                      ILL$ -> ILL.ID = %MVANO;
      697    12153
      698    12154    6                    CASE(%ALIGNMENT_BYTE1);
      699    12155    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_1;
      700    12156    6                      ILL$ -> ILL.ID = %MVANO;
      701    12157    6                      IF ROP_ST$ -> ST.ID = %CONST THEN
      702    12158    7                        DO;
      703    12159    7                          MKCN.CON = BITBIN (BINBIT (ROP_ST$ -> CONST.CONSTI.WORD1 /
             12159                                   512, 36) & '000777000000'O);
      704    12160                               /* Create 1-byte constant starting on byte 1 */
      705    12161    7                          CALL Z8AC$MAKE_CONST (ETT$);
      706    12162    7                        END;
      707    12163    6                      ELSE
      708    12164                             %NEW_ETT(@ID=%SHIFT_R,@LOP=ILL$->ILL.ROP,@ROPCON=9);
      709    12234    6                      ILL$ -> ILL.ROP = ETT$; /* Shift right 9 bits */
      710    12235
      711    12236    6                    CASE(%ALIGNMENT_HALF);
      712    12237    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_2;
      713    12238    6                      ILL$ -> ILL.ID = %MVANO;
      714    12239    6                      IF ROP_ST$ -> ST.ID = %CONST THEN
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:22   
      715    12240    7                        DO;
      716    12241    7                          MKCN.CON = BITBIN (BINBIT (ROP_ST$ -> CONST.CONSTI.WORD1 /
             12241                                   262144, 36) & '000000777000'O);
      717    12242                               /* Create 1-byte constant starting on byte 2 */
      718    12243    7                          CALL Z8AC$MAKE_CONST (ETT$);
      719    12244    7                        END;
      720    12245    6                      ELSE
      721    12246                             %NEW_ETT(@ID=%SHIFT_R,@LOP=ILL$->ILL.ROP,@ROPCON=18);
      722    12316    6                      ILL$ -> ILL.ROP = ETT$;
      723    12317
      724    12318    6                    CASE(%ALIGNMENT_BYTE3);
      725    12319    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_3;
      726    12320    6                      ILL$ -> ILL.ID = %MVANO;
      727    12321    6                      IF ROP_ST$ -> ST.ID = %CONST THEN
      728    12322    7                        DO;
      729    12323    7                          MKCN.CON = BITBIN (BINBIT (ROP_ST$ -> CONST.CONSTI.WORD1 /
             12323                                   134217728, 36) & '000000000777'O);
      730    12324                               /* Create 1-byte constant starting on byte 3 */
      731    12325    7                          CALL Z8AC$MAKE_CONST (ETT$);
      732    12326    7                        END;
      733    12327    6                      ELSE
      734    12328                             %NEW_ETT(@ID=%SHIFT_R,@LOP=ILL$->ILL.ROP,@ROPCON=27);
      735    12398    6                      ILL$ -> ILL.ROP = ETT$;
      736    12399    6                  END /* CASE */;
      737    12400
      738    12401    5                CASE(%ALIGNMENT_BYTE1);
      739    12402    6                  DO CASE(LOPS.ALIGNMENT);
      740    12403    6                    CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);
      741    12404    6                      ILL$ -> ILL.ID = %MVANO;
      742    12405    7                      IF LOP_ST$ -> ST.ID = %CONST THEN DO;
      743    12406    7                        ILL$ -> ILL.CODE = %MVANO_BYTE_1;
      744    12407    7                        MKCN.CON = BITBIN (BINBIT (LOP_ST$ -> CONST.CONSTI.WORD1 / 512,
             12407                                 36) & '000777000000'O);
      745    12408                             /* Create 1-byte constant starting on byte 1 */
      746    12409    7                        CALL Z8AC$MAKE_CONST (ETT$);
      747    12410    7                        ILL$ -> ILL.LOP = ETT$;
      748    12411    7                      END;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:23   
      749    12412    7                      ELSE DO;
      750    12413    7                        ILL$ -> ILL.CODE = %MVANO_BYTE_0;
      751    12414                             %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ILL.ROP,@ROPCON=9);
      752    12484    7                        ILL$ -> ILL.ROP = ETT$; /* Shift left 9 bits */
      753    12485    7                      END;
      754    12486
      755    12487    6                    CASE(%ALIGNMENT_BYTE1);
      756    12488    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_1;
      757    12489    6                      ILL$ -> ILL.ID = %MVANO;
      758    12490
      759    12491    6                    CASE(%ALIGNMENT_HALF);
      760    12492    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_2;
      761    12493    6                      ILL$ -> ILL.ID = %MVANO;
      762    12494                           %NEW_ETT(@ID=%SHIFT_R,@LOP=ILL$->ILL.ROP,@ROPCON=9);
      763    12564    6                      ILL$ -> ILL.ROP = ETT$;
      764    12565
      765    12566    6                    CASE(%ALIGNMENT_BYTE3);
      766    12567    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_3;
      767    12568    6                      ILL$ -> ILL.ID = %MVANO;
      768    12569                           %NEW_ETT(@ID=%SHIFT_R,@LOP=ILL$->ILL.ROP,@ROPCON=18);
      769    12639    6                      ILL$ -> ILL.ROP = ETT$;
      770    12640    6                  END /* CASE */;
      771    12641
      772    12642    5                CASE(%ALIGNMENT_HALF);
      773    12643    6                  DO CASE(LOPS.ALIGNMENT);
      774    12644    6                    CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);
      775    12645    6                      ILL$ -> ILL.ID = %MVANO;
      776    12646    7                      IF LOP_ST$ -> ST.ID = %CONST THEN DO;
      777    12647    7                        ILL$ -> ILL.CODE = %MVANO_BYTE_2;
      778    12648    7                        MKCN.CON = BITBIN (BINBIT (LOP_ST$ -> CONST.CONSTI.WORD1 /
             12648                                 262144, 36) & '000000777000'O);
      779    12649                             /* Create 1-byte constant starting on byte 2 */
      780    12650    7                        CALL Z8AC$MAKE_CONST (ETT$);
      781    12651    7                        ILL$ -> ILL.LOP = ETT$;
      782    12652    7                      END;
      783    12653    7                      ELSE DO;
      784    12654    7                        ILL$ -> ILL.CODE = %MVANO_BYTE_0;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:24   
      785    12655                             %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ILL.ROP,@ROPCON=18);
      786    12725    7                        ILL$ -> ILL.ROP = ETT$; /* Shift left 18 bits */
      787    12726    7                      END;
      788    12727
      789    12728    6                    CASE(%ALIGNMENT_BYTE1);
      790    12729    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_1;
      791    12730    6                      ILL$ -> ILL.ID = %MVANO;
      792    12731                           %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ILL.ROP,@ROPCON=9);
      793    12801    6                      ILL$ -> ILL.ROP = ETT$;
      794    12802
      795    12803    6                    CASE(%ALIGNMENT_HALF);
      796    12804    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_2;
      797    12805    6                      ILL$ -> ILL.ID = %MVANO;
      798    12806
      799    12807    6                    CASE(%ALIGNMENT_BYTE3);
      800    12808    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_3;
      801    12809    6                      ILL$ -> ILL.ID = %MVANO;
      802    12810                           %NEW_ETT(@ID=%SHIFT_R,@LOP=ILL$->ILL.ROP,@ROPCON=9);
      803    12880    6                      ILL$ -> ILL.ROP = ETT$;
      804    12881    6                  END /* CASE */;
      805    12882
      806    12883    5                CASE(%ALIGNMENT_BYTE3);
      807    12884    6                  DO CASE(LOPS.ALIGNMENT);
      808    12885    6                    CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);
      809    12886    6                      ILL$ -> ILL.ID = %MVANO;
      810    12887    7                      IF LOP_ST$ -> ST.ID = %CONST THEN DO;
      811    12888    7                        ILL$ -> ILL.CODE = %MVANO_BYTE_3;
      812    12889    7                        MKCN.CON = BITBIN (BINBIT (LOP_ST$ -> CONST.CONSTI.WORD1 /
             12889                                 134217728, 36) & '000000000777'O);
      813    12890                             /* Create 1-byte constant starting on byte 3 */
      814    12891    7                        CALL Z8AC$MAKE_CONST (ETT$);
      815    12892    7                        ILL$ -> ILL.LOP = ETT$;
      816    12893    7                      END;
      817    12894    7                      ELSE DO;
      818    12895    7                        ILL$ -> ILL.CODE = %MVANO_BYTE_0;
      819    12896                             %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ILL.ROP,@ROPCON=27);
      820    12966    7                        ILL$ -> ILL.ROP = ETT$; /* Shift left 27 bits */
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:25   
      821    12967    7                      END;
      822    12968
      823    12969    6                    CASE(%ALIGNMENT_BYTE1);
      824    12970    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_1;
      825    12971    6                      ILL$ -> ILL.ID = %MVANO;
      826    12972                           %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ILL.ROP,@ROPCON=18);
      827    13042    6                      ILL$ -> ILL.ROP = ETT$;
      828    13043
      829    13044    6                    CASE(%ALIGNMENT_HALF);
      830    13045    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_2;
      831    13046    6                      ILL$ -> ILL.ID = %MVANO;
      832    13047                           %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ILL.ROP,@ROPCON=9);
      833    13117    6                      ILL$ -> ILL.ROP = ETT$;
      834    13118
      835    13119    6                    CASE(%ALIGNMENT_BYTE3);
      836    13120    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_3;
      837    13121    6                      ILL$ -> ILL.ID = %MVANO;
      838    13122    6                  END /* CASE */;
      839    13123    5              END /* CASE */;
      840    13124
      841    13125    4            CASE(%LENGTH_2_BYTES);
      842    13126    5              DO CASE(ROPS.ALIGNMENT);
      843    13127    5                CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);
      844    13128    6                  DO CASE(LOPS.ALIGNMENT);
      845    13129    6                    CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);
      846    13130    6                      ILL$ -> ILL.CODE = %MVANO_UPPER_TO_UPPER;
      847    13131    6                      ILL$ -> ILL.ID   = %MVANO;
      848    13132
      849    13133    6                    CASE(%ALIGNMENT_BYTE1);
      850    13134    6                      ILL$ -> ILL.CODE = %MVANO_BYTES_1_2;
      851    13135    6                      ILL$ -> ILL.ID = %MVANO;
      852    13136    6                      IF ROP_ST$ -> ST.ID = %CONST THEN
      853    13137    7                        DO;
      854    13138    7                          MKCN.CON = BITBIN (BINBIT (ROP_ST$ -> CONST.CONSTI.WORD1 /
             13138                                   512, 36) & '000777777000'O);
      855    13139                               /* Create 2-byte constant starting on byte 1 */
      856    13140    7                          CALL Z8AC$MAKE_CONST (ETT$);
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:26   
      857    13141    7                        END;
      858    13142    6                      ELSE
      859    13143                             %NEW_ETT(@ID=%SHIFT_R,@LOP=ILL$->ILL.ROP,@ROPCON=9);
      860    13213    6                      ILL$ -> ILL.ROP = ETT$;
      861    13214
      862    13215    6                    CASE(%ALIGNMENT_HALF);
      863    13216    6                      ILL$ -> ILL.CODE = %MVANO_UPPER_TO_LOWER;
      864    13217    6                      ILL$ -> ILL.ID   = %MVANO;
      865    13218
      866    13219    6                    CASE(ELSE);
      867    13220    6                      GOTO CANT_MAKE_MVANO;
      868    13221    6                  END /* CASE */;
      869    13222
      870    13223    5                CASE(%ALIGNMENT_BYTE1);
      871    13224    6                  DO CASE(LOPS.ALIGNMENT);
      872    13225    6                    CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);
      873    13226    6                      ILL$ -> ILL.ID = %MVANO;
      874    13227    7                      IF LOP_ST$ -> ST.ID = %CONST THEN DO;
      875    13228    7                        ILL$ -> ILL.CODE = %MVANO_BYTES_1_2;
      876    13229    7                        MKCN.CON = BITBIN (BINBIT (LOP_ST$ -> CONST.CONSTI.WORD1 / 512,
             13229                                 36) & '000777777000'O);
      877    13230                             /* Create 2-byte constant starting on byte 1 */
      878    13231    7                        CALL Z8AC$MAKE_CONST (ETT$);
      879    13232    7                        ILL$ -> ILL.LOP = ETT$;
      880    13233    7                      END;
      881    13234    7                      ELSE DO;
      882    13235    7                        ILL$ -> ILL.CODE = %MVANO_BYTES_0_1;
      883    13236                             %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ILL.ROP,@ROPCON=9);
      884    13306    7                        ILL$ -> ILL.ROP = ETT$; /* Shift left 9 bits */
      885    13307    7                      END;
      886    13308
      887    13309    6                    CASE(%ALIGNMENT_BYTE1);
      888    13310    6                      ILL$ -> ILL.CODE = %MVANO_BYTES_1_2;
      889    13311    6                      ILL$ -> ILL.ID = %MVANO;
      890    13312
      891    13313    6                    CASE(%ALIGNMENT_HALF);
      892    13314    6                      ILL$ -> ILL.CODE = %MVANO_BYTES_2_3;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:27   
      893    13315    6                      ILL$ -> ILL.ID = %MVANO;
      894    13316                           %NEW_ETT(@ID=%SHIFT_R,@LOP=ILL$->ILL.ROP,@ROPCON=9);
      895    13386    6                      ILL$ -> ILL.ROP = ETT$;
      896    13387
      897    13388    6                    CASE(ELSE);
      898    13389    6                      GOTO CANT_MAKE_MVANO;
      899    13390    6                  END /* CASE */;
      900    13391
      901    13392    5                CASE(%ALIGNMENT_HALF);
      902    13393    6                  DO CASE(LOPS.ALIGNMENT);
      903    13394    6                    CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);
      904    13395    6                      ILL$ -> ILL.CODE = %MVANO_LOWER_TO_UPPER;
      905    13396    6                      ILL$ -> ILL.ID   = %MVANO;
      906    13397
      907    13398    6                    CASE(%ALIGNMENT_BYTE1);
      908    13399    6                      ILL$ -> ILL.CODE = %MVANO_BYTES_1_2;
      909    13400    6                      ILL$ -> ILL.ID = %MVANO;
      910    13401                           %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ILL.ROP,@ROPCON=9);
      911    13471    6                      ILL$ -> ILL.ROP = ETT$;
      912    13472
      913    13473    6                    CASE(%ALIGNMENT_HALF);
      914    13474    6                      ILL$ -> ILL.CODE = %MVANO_LOWER_TO_LOWER;
      915    13475    6                      ILL$ -> ILL.ID   = %MVANO;
      916    13476
      917    13477    6                    CASE(ELSE);
      918    13478    6                      GOTO CANT_MAKE_MVANO;
      919    13479    6                  END /* CASE */;
      920    13480
      921    13481    5                CASE(ELSE);
      922    13482    5                  GOTO CANT_MAKE_MVANO;
      923    13483    5              END /* CASE */;
      924    13484
      925    13485    4            CASE(%LENGTH_3_BYTES);
      926    13486    5              DO CASE(ROPS.ALIGNMENT);
      927    13487    5                CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);
      928    13488    6                  DO CASE(LOPS.ALIGNMENT);
      929    13489    6                    CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:28   
      930    13490    6                      IF ILL$ -> ETT.ID = %CMPA THEN
      931    13491    6                        MASK = '777777777000'O;
      932    13492    6                      ILL$ -> ILL.CODE = %MVANO_BYTES_0_2;
      933    13493    6                      ILL$ -> ILL.ID = %MVANO;
      934    13494
      935    13495    6                    CASE(%ALIGNMENT_BYTE1);
      936    13496    6                      IF ILL$ -> ETT.ID = %CMPA AND
      937    13497    7                          ROP_ST$ -> ST.ID ~= %CONST THEN DO;
      938    13498    7                        ILL$ -> ILL.CODE = %MVANO_BYTES_0_2;
      939    13499                             %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ETT.LOP,@ROPCON=9);
      940    13569    7                        ILL$ -> ILL.LOP = ETT$; /* Shift left 9 bits */
      941    13570    7                      END;
      942    13571    7                      ELSE DO;
      943    13572    7                        ILL$ -> ILL.CODE = %MVANO_BYTES_1_3;
      944    13573    7                        IF ROP_ST$ -> ST.ID = %CONST THEN
      945    13574    8                          DO;
      946    13575    8                            MKCN.CON = BITBIN (BINBIT (ROP_ST$ -> CONST.CONSTI.WORD1 /
             13575                                     512, 36) & '000777777777'O);
      947    13576                                 /* Create 3-byte constant starting on byte 1 */
      948    13577    8                            CALL Z8AC$MAKE_CONST (ETT$);
      949    13578    8                          END;
      950    13579    7                        ELSE
      951    13580                               %NEW_ETT(@ID=%SHIFT_R,@LOP=ILL$->ILL.ROP,@ROPCON=9);
             13580                                   /* Shift right 9 bits */
      952    13650    7                        ILL$ -> ILL.ROP = ETT$;
      953    13651    7                      END;
      954    13652    6                      ILL$ -> ILL.ID = %MVANO;
      955    13653
      956    13654    6                    CASE(ELSE);
      957    13655    6                      GOTO CANT_MAKE_MVANO;
      958    13656    6                  END /* CASE */;
      959    13657
      960    13658    5                CASE(%ALIGNMENT_BYTE1);
      961    13659    6                  DO CASE(LOPS.ALIGNMENT);
      962    13660    6                    CASE(%ALIGNMENT_WORD,%ALIGNMENT_DOUBLE);
      963    13661    6                      IF ILL$ -> ETT.LOP -> ETT.ID = %TRIAD THEN
      964    13662    7                        DO; /* Possible only for CMPA */
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:29   
      965    13663    7                          ILL$ -> ILL.CODE = %MVANO_BYTES_1_3;
      966    13664    7                          MKCN.CON = BITBIN (BINBIT (LOP_ST$ -> CONST.CONSTI.WORD1 /
             13664                                   512, 36) & '000777777777'O);
      967    13665                               /* Create 3-byte constant starting at byte 1 */
      968    13666    7                          CALL Z8AC$MAKE_CONST (ETT$);
      969    13667    7                          ILL$ -> ETT.LOP = ETT$;
      970    13668    7                        END;
      971    13669    6                      ELSE
      972    13670    7                        DO;
      973    13671    7                          ILL$ -> ILL.CODE = %MVANO_BYTES_0_2;
      974    13672                               %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ILL.ROP,@ROPCON=9);
      975    13742    7                          ILL$ -> ILL.ROP = ETT$;
      976    13743    7                        END;
      977    13744    6                      ILL$ -> ILL.ID = %MVANO;
      978    13745
      979    13746    6                    CASE(%ALIGNMENT_BYTE1);
      980    13747    6                      ILL$ -> ILL.CODE = %MVANO_BYTES_1_3;
      981    13748    6                      ILL$ -> ILL.ID = %MVANO;
      982    13749
      983    13750    6                    CASE(ELSE);
      984    13751    6                      GOTO CANT_MAKE_MVANO;
      985    13752    6                  END /* CASE */;
      986    13753
      987    13754    5                CASE(ELSE);
      988    13755    5                  GOTO CANT_MAKE_MVANO;
      989    13756    5              END /* CASE */;
      990    13757
      991    13758    4            CASE(%LENGTH_4_BYTES);
      992    13759    5              DO CASE(ROPS.ALIGNMENT);
      993    13760    5                CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);
      994    13761    6                  DO CASE(LOPS.ALIGNMENT);
      995    13762    6                    CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);
      996    13763    6                      ILL$ -> ILL.CODE = %MVANO_WORD_TO_WORD;
      997    13764    6                      ILL$ -> ILL.ID   = %MVANO;
      998    13765
      999    13766    6                    CASE(ELSE);
     1000    13767    6                      GOTO CANT_MAKE_MVANO;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:30   
     1001    13768    6                  END /* Case */;
     1002    13769
     1003    13770    5                CASE(ELSE);
     1004    13771    5                  GOTO CANT_MAKE_MVANO;
     1005    13772    5              END /* Case */;
     1006    13773
     1007    13774    4            CASE(%LENGTH_8_BYTES);
     1008    13775    5              DO CASE(ROPS.ALIGNMENT);
     1009    13776    5                CASE(%ALIGNMENT_DOUBLE);
     1010    13777    6                  DO CASE(LOPS.ALIGNMENT);
     1011    13778    6                    CASE(%ALIGNMENT_DOUBLE);
     1012    13779    6                      ILL$ -> ILL.CODE = %MVANO_EVEN_TO_EVEN;
     1013    13780    6                      ILL$ -> ILL.ID   = %MVANO;
     1014    13781
     1015    13782    6                    CASE(%ALIGNMENT_WORD);
     1016    13783    6                      ILL$ -> ILL.CODE = %MVANO_EVEN_TO_ODD;
     1017    13784    6                      ILL$ -> ILL.ID   = %MVANO;
     1018    13785
     1019    13786    6                    CASE(ELSE);
     1020    13787    6                      GOTO CANT_MAKE_MVANO;
     1021    13788
     1022    13789    6                  END /* Case */;
     1023    13790
     1024    13791    5                CASE(%ALIGNMENT_WORD);
     1025    13792    6                  DO CASE(LOPS.ALIGNMENT);
     1026    13793    6                    CASE(%ALIGNMENT_DOUBLE);
     1027    13794    6                      ILL$ -> ILL.CODE = %MVANO_ODD_TO_EVEN;
     1028    13795    6                      ILL$ -> ILL.ID   = %MVANO;
     1029    13796
     1030    13797    6                    CASE(%ALIGNMENT_WORD);
     1031    13798    6                      ILL$ -> ILL.CODE = %MVANO_ODD_TO_ODD;
     1032    13799    6                      ILL$ -> ILL.ID = %MVANO;
     1033    13800
     1034    13801    6                    CASE(ELSE);
     1035    13802    6                      GOTO CANT_MAKE_MVANO;
     1036    13803    6                  END /* Case */;
     1037    13804
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:31   
     1038    13805    5                CASE(ELSE);
     1039    13806    5                  GOTO CANT_MAKE_MVANO;
     1040    13807    5              END /* Case */;
     1041    13808
     1042    13809    4          END /* CASE */;
     1043    13810
     1044    13811    3          IF ILL$ -> ILL.ID = %MVANO THEN
     1045    13812    4            DO;
     1046    13813    4              IF MASK ~= '0'B THEN
     1047    13814    5                DO;
     1048    13815    5                  IF ILL$ -> ETT.LOP -> ETT.ID = %TRIAD THEN
     1049    13816    6                    DO;
     1050    13817    6                      MKCN.CON = BITBIN (BINBIT (LOP_ST$
     1051    13818    6                          -> CONST.CONSTI.WORD1, 36) & MASK);
     1052    13819    6                      CALL Z8AC$MAKE_CONST (ILL$ -> ETT.LOP);
     1053    13820    6                    END;
     1054    13821    5                  ELSE IF ILL$ -> ETT.ROP -> ETT.ID = %TRIAD THEN
     1055    13822    6                    DO;
     1056    13823    6                      MKCN.CON = BITBIN (BINBIT (ROP_ST$
     1057    13824    6                          -> CONST.CONSTI.WORD1, 36) & MASK);
     1058    13825    6                      CALL Z8AC$MAKE_CONST (ILL$ -> ETT.ROP);
     1059    13826    6                    END;
     1060    13827    5                END;
     1061    13828    4              IF ILL$ -> ILL.LOP -> ETT.ID = %OFF THEN
     1062    13829    5                DO;
     1063    13830                       %FISH(TRIAD=ILL$ -> ILL.LOP,RTN=LOP$);
     1064    13838    5                  OFF_ROPCON.VALUE = (ILL$ -> ILL.LOP -> ETT.OFFSET.VALUE + LOP$ ->
             13838                           VARIABLE.ADSC.CN) / 4;
     1065    13839                       %NEW_ETT(@ID=%OFF,@LOP=ILL$->ILL.LOP->ETT.LOP,@ROPCON=OFF_ROPCON1);
     1066    13909    5                  ILL$ -> ILL.LOP = ETT$; /* OFF units changed to words */
     1067    13910    5                END;
     1068    13911
     1069    13912    4              IF ILL$ -> ILL.ROP -> ETT.ID = %OFF THEN
     1070    13913    5                DO;
     1071    13914                       %FISH(TRIAD=ILL$ -> ILL.ROP,RTN=ROP$);
     1072    13922    5                  OFF_ROPCON.VALUE = (ILL$ -> ILL.ROP -> ETT.OFFSET.VALUE + ROP$ ->
             13922                           VARIABLE.ADSC.CN) / 4;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:32   
     1073    13923                       %NEW_ETT(@ID=%OFF,@LOP=ILL$->ILL.ROP->ETT.LOP,@ROPCON=OFF_ROPCON1);
     1074    13993    5                  ILL$ -> ILL.ROP = ETT$; /* OFF units changed to words */
     1075    13994    5                END;
     1076    13995    4              ELSE IF ILL$ -> ILL.ROP -> ETT.ID = %SHIFT_L
     1077    13996    4                  OR ILL$ -> ILL.ROP -> ETT.ID = %SHIFT_R THEN
     1078    13997    4                IF ILL$ -> ILL.ROP -> ETT.LOP -> ETT.ID = %OFF THEN
     1079    13998    5                  DO;
     1080    13999                         %FISH(TRIAD=ILL$ -> ILL.ROP -> ETT.LOP,RTN=ROP$);
     1081    14007    5                    OFF_ROPCON.VALUE = (ILL$ -> ILL.ROP -> ETT.LOP -> ETT.OFFSET.VALUE
             14007                             + ROP$ -> VARIABLE.ADSC.CN) / 4;
     1082    14008                         %NEW_ETT(@ID=%OFF,@LOP=ILL$->ILL.ROP->ETT.LOP->ETT.LOP,@ROPCON=
             14008                             OFF_ROPCON1);
     1083    14078    5                    ILL$ -> ILL.ROP -> ETT.LOP = ETT$; /* OFF units changed to words */
     1084    14079    5                  END;
     1085    14080    4            END;
     1086    14081    3          RETURN;
     1087    14082    3        END; /* LOPS.LENGTH = ROPS.LENGTH AND LOPS.LENGTH < 9 */
     1088    14083
     1089    14084    2   CANT_MAKE_MVANO:
     1090    14085    2          IF ILL$ -> ILL.ROP -> ETT.ID = %TRIAD THEN
     1091    14086    3            DO;
     1092    14087                   %GET_CONSTANT_ADDRESS (@CONSTANT = ILL$ -> ILL.ROP -> ETT.LOP,
     1093    14088                                          @STRING   = STRING$);
     1094    14096    3              FIRST_BYTE = CHAR$ARRAY (0);
     1095    14097    3              IF LOPS.LENGTH > 1 THEN
     1096    14098    4                DO;
     1097    14099    4                  IF LOPS.LENGTH > ROPS.LENGTH THEN
     1098    14100    5                    DO; /* E.g., MOVE "  " TO <PIC-XXXX> */
     1099    14101    5                      IF FIRST_BYTE ~= ' ' THEN
     1100    14102    5                        GOTO CANT_OPTIMIZE;
     1101    14103    5                      CHARACTER# = ROPS.LENGTH;
     1102    14104    5                    END;
     1103    14105    4                  ELSE
     1104    14106    4                    CHARACTER# = LOPS.LENGTH;
     1105    14107
     1106    14108    5                  DO UNTIL CHARACTER# < 2;
     1107    14109    5                    IF CHAR$ARRAY (CHARACTER# - 1) ~= FIRST_BYTE THEN
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:33   
     1108    14110    5                      GOTO CANT_OPTIMIZE;
     1109    14111    5                    CHARACTER# = CHARACTER# - 1;
     1110    14112    5                  END;
     1111    14113    4                END; /* LOPS.LENGTH > 1 */
     1112    14114
     1113    14115    3              IF ILL$ -> ETT.ID = %CMPA THEN
     1114    14116    4                DO;
     1115    14117    4                  ILL$ -> ETT.ID = %CFILL;
     1116    14118    4                  ILL$ -> ETT.ROPCON = 0;
     1117    14119    4                  ILL$ -> ETT.FILL_CHAR.SYMBOL = FIRST_BYTE;
     1118    14120    4                END;
     1119    14121    3              ELSE
     1120    14122    4                DO;
     1121    14123                       %RESERVE_ILL (ITEM = %MFILL,
     1122    14124                                     POINTER = ILS$$ -> ILS.ILL$);
     1123    14134    4                  ILS$$ -> ILS.ILL$ -> MFILL.FILL = FIRST_BYTE;
     1124    14135    4                  ILS$$ -> ILS.ILL$ -> MFILL.LOP = ILL$ -> ILL.LOP;
     1125    14136    4                END;
     1126    14137    3            END; /* ROP.ID = %TRIAD */
     1127    14138    2          ELSE IF ILL$ -> ILL.LOP -> ETT.ID = %TRIAD THEN
     1128    14139    3            DO; /* CMPA only */
     1129    14140                   %GET_CONSTANT_ADDRESS (@CONSTANT = ILL$ -> ILL.LOP -> ETT.LOP,
     1130    14141                                          @STRING   = STRING$);
     1131    14149    3              FIRST_BYTE = STRING$ -> CHAR$ARRAY (0);
     1132    14150    3              IF ROPS.LENGTH > %LENGTH_1_BYTE THEN
     1133    14151    4                DO;
     1134    14152    4                  IF ROPS.LENGTH > LOPS.LENGTH THEN
     1135    14153    5                    DO; /* E.g., IF "  " = <PIC-XXXX> */
     1136    14154    5                      IF FIRST_BYTE ~= ' ' THEN
     1137    14155    5                        GOTO CANT_OPTIMIZE;
     1138    14156    5                      CHARACTER# = LOPS.LENGTH;
     1139    14157    5                    END;
     1140    14158    4                  ELSE
     1141    14159    4                    CHARACTER# = ROPS.LENGTH;
     1142    14160
     1143    14161    5                  DO UNTIL CHARACTER# < 2;
     1144    14162    5                    IF STRING$ -> CHAR$ARRAY (CHARACTER# - 1) ~= FIRST_BYTE THEN
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:34   
     1145    14163    5                      GOTO CANT_OPTIMIZE;
     1146    14164    5                    CHARACTER# = CHARACTER# - 1;
     1147    14165    5                  END;
     1148    14166    4                END; /* ROPS.LENGTH > %LENGTH_1_BYTE */
     1149    14167    3              ILL$ -> ETT.ID = %CFILLR;
     1150    14168    3              ILL$ -> ETT.LOP = ILL$ -> ETT.ROP;
     1151    14169    3              ILL$ -> ETT.ROPCON = 0;
     1152    14170    3              ILL$ -> ETT.FILL_CHAR.SYMBOL = FIRST_BYTE;
     1153    14171    3            END; /* LOP.ID = %TRIAD */
     1154    14172
     1155    14173    2   CANT_OPTIMIZE:
     1156    14174    2          RETURN;
     1157    14175    2   END OPTIMIZE_MOVES;
     1158    14176
     1159    14177
     1160    14178    1   END Z8FO$LOCAL_OPTIMIZER;
     1161    14179        %EOD;

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:35   
--  Include file information  --

   Z8F_O2COM.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_TYPES.:Z8A6TOU  is referenced.
   Z8A_COMCOM.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_LTS.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_ST.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_QLT.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_ERR_NUMS.:Z8A6TOU  is referenced.
   Z8A_MKCN.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_ILL.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8F_ALIGN.:Z8A6TOU  is referenced.
   Z8A_ILS.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_ETT.:Z8A6TOU  cannot be made into a system file and is referenced.
   X8A_COM_MACS.:X8A6TOU  is referenced.
   Z8A_NAMES.:Z8A6TOU  is referenced.
   Z8A_SUPP_MAC.:Z8A6TOU  is referenced.
   Z8A_DEFC.:Z8A6TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure Z8FO$LOCAL_OPTIMIZER.

   Procedure Z8FO$LOCAL_OPTIMIZER requires 3627 words for executable code.
   Procedure Z8FO$LOCAL_OPTIMIZER requires 46 words of local(AUTO) storage.

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:36   

 Object Unit name= Z8FO$LOCAL_OPTIMIZER                       File name= Z8FO.:Z8A6TOU
 UTS= AUG 09 '97 13:10:37.52 SAT                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  LblCom even  none     1      1  ITERATION
    1  LblCom even  none     1      1  ETT$
    2  LblCom even  none     1      1  HEAD_ETT$
    3  LblCom even  none   512   1000  ETT_BUCKETS
    4  LblCom even  none     5      5  ETT_
    5  LblCom even  none     1      1  ILS$
    6  LblCom even  none     5      5  ILS_
    7  LblCom even  none     1      1  ILL$
    8  LblCom even  none     5      5  ILL_
    9  LblCom even  none     2      2  MKCN
   10  LblCom even  none     1      1  QLT$
   11  LblCom even  none     1      1  PREV_01_QLT$
   12  LblCom even  none     5      5  QLT_
   13  LblCom even  none     1      1  ST$
   14  LblCom even  none     5      5  ST_
   15  LblCom even  none     1      1  LTS$
   16  LblCom even  none     5      5  LTS_
   17  LblCom even  none    12     14  O2COM
   18  RoData even  UTS      8     10  Z8FO$LOCAL_OPTIMIZER
   19   Data  even  none     1      1  Z8FO$LOCAL_OPTIMIZER
   20   Proc  even  none  3627   7053  Z8FO$LOCAL_OPTIMIZER
   21  RoData even  none    16     20  Z8FO$LOCAL_OPTIMIZER

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
    20      0   yes            yes      Std        0  Z8FO$LOCAL_OPTIMIZER
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:37   

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
 yes     yes           Std       2 Z8FO$ALIGN_LENGTH
         yes           Std       1 Z8AR$RESERVER
         yes           Std       2 Z8AU$TYPE_DESCRIPTOR
         yes           Std      12 Z8AE$ERROR
         yes           Std       1 Z8AC$MAKE_CONST
         yes           Std       4 Z8AF$FORME
                       nStd      0 X66_AUTO_0
                       nStd      0 X66_ARET

  ****  Data refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
r    ILS_STEP_TABLE                   r    ILL_STEP                         r    LTS_STEP
     COMCOM

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID                               ISSID
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:38   


        1        1        /*M* Z8FO$LOCAL_OPTIMIZER -- Optimize certain assignments */
        2        2        /*T***********************************************************/
        3        3        /*T*                                                         */
        4        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
        5        5        /*T*                                                         */
        6        6        /*T***********************************************************/
        7        7        /*P*
        8        8               NAME:  Z8FO$LOCAL_OPTIMIZER
        9        9            PURPOSE:  Check ILL and ETT items to see which can be optimized.
       10       10        */
       11       11        /*D*
       12       12               NAME:  Z8FO$LOCAL_OPTIMIZER
       13       13               CALL:  CALL Z8FO$LOCAL_OPTIMIZER;
       14       14              INPUT:  ILL and ETT tables
       15       15             OUTPUT:  Same, optimized.
       16       16        DESCRIPTION:  First, search the ETT for certain conversion triads that
       17       17                      convert among binary arithmetic types. Supply alignment
       18       18                      information so that Phase 4 can generate the best possible
       19       19                      code.
       20       20                      Then search the ILL. Watch for moves that involve certain
       21       21                      conversions such as COMP-6 to COMP-7 and supply more precise
       22       22                      ILL along with alignment information. For other moves, such
       23       23                      as alphanumeric to alphanumeric, check for short string
       24       24                      moves and optimize them if possible.
       25       25                      Walk the DO chain. For any DO3 for the SEARCH statement,
       26       26                      replace the BASE item pointers with ESC/ARGP pointers,
       27       27                      take out duplicates, and if there are 4 different ones
       28       28                      then remove the third and fourth. This is done so
       29       29                      those ESCs/ARGPs if they are not global can be made
       30       30                      temporarily global between DO3 and DOEND for better
       31       31                      performance.
       32       32        */
       33       33        %EJECT ;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:39   
       34       34        Z8FO$LOCAL_OPTIMIZER:PROC;

     34 20 000000   000000 700200 xent  Z8FO$LOCAL_* TSX0  ! X66_AUTO_0
        20 000001   000056 000000                    ZERO    46,0

       35       35
       36       36
       37       37             %EQU PHASE = 2;
       38       38             %INCLUDE Z8A_DEFC;
       39      106             %INCLUDE Z8A_SUPP_MAC;
       40     2506             %INCLUDE Z8A_ETT;
       41     2807             %INCLUDE Z8A_ILS;
       42     2916             %INCLUDE Z8F_ALIGN;
       43     2939             %INCLUDE Z8A_ILL;
       44     3632             %INCLUDE Z8A_MKCN;
       45     3649             %INCLUDE Z8A_ERR_NUMS;
       46     4413             %INCLUDE Z8A_QLT;
       47     4519             %INCLUDE Z8A_ST;
       48     8178             %INCLUDE Z8A_LTS;
       49    10255             %INCLUDE Z8A_COMCOM;
       50    10905             %INCLUDE Z8A_TYPES;
       51    11079             %INCLUDE Z8F_O2COM;
       52    11189
       53    11190
       54    11191    1        DCL ILL$$       PTR;
       55    11192    1        DCL ILS$$       PTR;
       56    11193
       57    11194             %EQU LENGTH_1_BYTE = 1;
       58    11195             %EQU LENGTH_2_BYTES = 2;
       59    11196             %EQU LENGTH_3_BYTES = 3;
       60    11197             %EQU LENGTH_4_BYTES = 4;
       61    11198             %EQU LENGTH_8_BYTES = 8;
       62    11199
       63    11200
       64    11201    1        DCL Z8AC$MAKE_CONST       ENTRY(1);
       65    11202
       66    11203    1        DCL Z8AE$ERROR            ENTRY(12);
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:40   
       67    11204
       68    11205    1        DCL Z8AF$FORME            ENTRY(4);
       69    11206    1        DCL Z8AU$TYPE_DESCRIPTOR  ENTRY(2);
       70    11207
       71    11208    1        DCL Z8FO$ALIGN_LENGTH     ENTRY(2) ALTRET;
       72    11209
       73    11210
       74    11211    1        DCL 1 ALIGNMENT_LENGTH ALIGNED,
       75    11212                   %ALIGNMENT_LENGTH;
       76    11216    1        DCL 1 ALIGNMENT_LENGTH_ROP ALIGNED,
       77    11217                   %ALIGNMENT_LENGTH;
       78    11221
       79    11222    1        DCL LOP$ PTR;
       80    11223    1        DCL ROP$ PTR;
       81    11224    1        DCL TEMP$ PTR;
       82    11225    1        DCL ZERO_WORD SBIN CONSTANT INIT (0);
       83    11226    1        DCL ZERO_PTR$ REDEF ZERO_WORD PTR;
       84    11227    1        DCL LOP_ST$ PTR;
       85    11228    1        DCL ROP_ST$ PTR;
       86    11229    1        DCL LOP_LTS$ PTR;
       87    11230    1        DCL ROP_LTS$ PTR;
       88    11231    1        DCL QUAL$ PTR;
       89    11232    1        DCL START1 SBIN;
       90    11233    1        DCL END1 SBIN;
       91    11234    1        DCL START2 SBIN;
       92    11235    1        DCL END2 SBIN;
       93    11236    1        DCL OPTIMIZE_IT BIT (1);
       94    11237    1        DCL TEMP_SBIN SBIN;
       95    11238
       96    11239    1        DCL 1 ST$1 BASED ALIGNED,
       97    11240    1              2 * UBIN,
       98    11241    1              2 * BIT (21),
       99    11242    1              2 DESCR BIT (15);
      100    11243    1        DCL 1 TYPE_DESC,
      101    11244                   %TYPE_DESC;
      102    11278
      103    11279
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:41   
      104    11280        %EJECT;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:42   
      105    11281             %TOP_ETT;

  11283 20 000002   000000 236000 4                  LDQ     ETT_
        20 000003   000000 756000 1                  STQ     ETT$

      106    11286
      107    11287    2        DO WHILE (ETT$ ~= ADDR(NIL));

  11287 20 000004   000713 710000 20                 TRA     s:11567

      108    11288    3          DO CASE(ETT$ -> ETT.ID);

  11288 20 000005   000000 470400 1                  LDP0    ETT$
        20 000006   000000 236100                    LDQ     0,,PR0
        20 000007   000022 772000                    QRL     18
        20 000010   000007 136007                    SBLQ    7,DL
        20 000011   000126 116007                    CMPQ    86,DL
        20 000012   000014 602006 20                 TNC     s:11288+7,QL
        20 000013   000673 710000 20                 TRA     END_CASE_1
        20 000014   000653 710000 20                 TRA     s:11547
        20 000015   000673 710000 20                 TRA     END_CASE_1
        20 000016   000673 710000 20                 TRA     END_CASE_1
        20 000017   000673 710000 20                 TRA     END_CASE_1
        20 000020   000673 710000 20                 TRA     END_CASE_1
        20 000021   000673 710000 20                 TRA     END_CASE_1
        20 000022   000673 710000 20                 TRA     END_CASE_1
        20 000023   000673 710000 20                 TRA     END_CASE_1
        20 000024   000673 710000 20                 TRA     END_CASE_1
        20 000025   000673 710000 20                 TRA     END_CASE_1
        20 000026   000673 710000 20                 TRA     END_CASE_1
        20 000027   000673 710000 20                 TRA     END_CASE_1
        20 000030   000673 710000 20                 TRA     END_CASE_1
        20 000031   000142 710000 20                 TRA     s:11290
        20 000032   000673 710000 20                 TRA     END_CASE_1
        20 000033   000673 710000 20                 TRA     END_CASE_1
        20 000034   000673 710000 20                 TRA     END_CASE_1
        20 000035   000673 710000 20                 TRA     END_CASE_1
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:43   
        20 000036   000673 710000 20                 TRA     END_CASE_1
        20 000037   000673 710000 20                 TRA     END_CASE_1
        20 000040   000673 710000 20                 TRA     END_CASE_1
        20 000041   000673 710000 20                 TRA     END_CASE_1
        20 000042   000673 710000 20                 TRA     END_CASE_1
        20 000043   000673 710000 20                 TRA     END_CASE_1
        20 000044   000673 710000 20                 TRA     END_CASE_1
        20 000045   000673 710000 20                 TRA     END_CASE_1
        20 000046   000673 710000 20                 TRA     END_CASE_1
        20 000047   000673 710000 20                 TRA     END_CASE_1
        20 000050   000673 710000 20                 TRA     END_CASE_1
        20 000051   000673 710000 20                 TRA     END_CASE_1
        20 000052   000673 710000 20                 TRA     END_CASE_1
        20 000053   000673 710000 20                 TRA     END_CASE_1
        20 000054   000673 710000 20                 TRA     END_CASE_1
        20 000055   000673 710000 20                 TRA     END_CASE_1
        20 000056   000673 710000 20                 TRA     END_CASE_1
        20 000057   000673 710000 20                 TRA     END_CASE_1
        20 000060   000673 710000 20                 TRA     END_CASE_1
        20 000061   000673 710000 20                 TRA     END_CASE_1
        20 000062   000673 710000 20                 TRA     END_CASE_1
        20 000063   000673 710000 20                 TRA     END_CASE_1
        20 000064   000673 710000 20                 TRA     END_CASE_1
        20 000065   000673 710000 20                 TRA     END_CASE_1
        20 000066   000673 710000 20                 TRA     END_CASE_1
        20 000067   000673 710000 20                 TRA     END_CASE_1
        20 000070   000673 710000 20                 TRA     END_CASE_1
        20 000071   000673 710000 20                 TRA     END_CASE_1
        20 000072   000673 710000 20                 TRA     END_CASE_1
        20 000073   000673 710000 20                 TRA     END_CASE_1
        20 000074   000673 710000 20                 TRA     END_CASE_1
        20 000075   000673 710000 20                 TRA     END_CASE_1
        20 000076   000673 710000 20                 TRA     END_CASE_1
        20 000077   000673 710000 20                 TRA     END_CASE_1
        20 000100   000673 710000 20                 TRA     END_CASE_1
        20 000101   000673 710000 20                 TRA     END_CASE_1
        20 000102   000673 710000 20                 TRA     END_CASE_1
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:44   
        20 000103   000673 710000 20                 TRA     END_CASE_1
        20 000104   000673 710000 20                 TRA     END_CASE_1
        20 000105   000673 710000 20                 TRA     END_CASE_1
        20 000106   000673 710000 20                 TRA     END_CASE_1
        20 000107   000673 710000 20                 TRA     END_CASE_1
        20 000110   000673 710000 20                 TRA     END_CASE_1
        20 000111   000673 710000 20                 TRA     END_CASE_1
        20 000112   000673 710000 20                 TRA     END_CASE_1
        20 000113   000673 710000 20                 TRA     END_CASE_1
        20 000114   000673 710000 20                 TRA     END_CASE_1
        20 000115   000673 710000 20                 TRA     END_CASE_1
        20 000116   000314 710000 20                 TRA     s:11343
        20 000117   000673 710000 20                 TRA     END_CASE_1
        20 000120   000673 710000 20                 TRA     END_CASE_1
        20 000121   000673 710000 20                 TRA     END_CASE_1
        20 000122   000673 710000 20                 TRA     END_CASE_1
        20 000123   000673 710000 20                 TRA     END_CASE_1
        20 000124   000673 710000 20                 TRA     END_CASE_1
        20 000125   000673 710000 20                 TRA     END_CASE_1
        20 000126   000673 710000 20                 TRA     END_CASE_1
        20 000127   000673 710000 20                 TRA     END_CASE_1
        20 000130   000673 710000 20                 TRA     END_CASE_1
        20 000131   000673 710000 20                 TRA     END_CASE_1
        20 000132   000673 710000 20                 TRA     END_CASE_1
        20 000133   000673 710000 20                 TRA     END_CASE_1
        20 000134   000673 710000 20                 TRA     END_CASE_1
        20 000135   000673 710000 20                 TRA     END_CASE_1
        20 000136   000673 710000 20                 TRA     END_CASE_1
        20 000137   000673 710000 20                 TRA     END_CASE_1
        20 000140   000210 710000 20                 TRA     s:11310
        20 000141   000256 710000 20                 TRA     s:11330

      109    11289    3            CASE(%CVKI); /* COMP-2 to COMP-6 */

      110    11290    3              CALL Z8FO$ALIGN_LENGTH(ETT$ -> ETT.LOP, ALIGNMENT_LENGTH);

  11290 20 000142   200005 631500                    EPPR1   ALIGNMENT_LENGTH,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:45   
        20 000143   200053 451500                    STP1    MASK+3,,AUTO
        20 000144   000000 236000 1                  LDQ     ETT$
        20 000145   000001 036003                    ADLQ    1,DU
        20 000146   200052 756100                    STQ     MASK+2,,AUTO
        20 000147   200052 630500                    EPPR0   MASK+2,,AUTO
        20 000150   000000 631400 21                 EPPR1   0
        20 000151   000000 701000 xent               TSX1    Z8FO$ALIGN_LENGTH
        20 000152   000000 011000                    NOP     0

      111    11291
      112    11292    4              DO CASE(ALIGNMENT_LENGTH.ALIGNMENT);

  11292 20 000153   200005 235100                    LDA     ALIGNMENT_LENGTH,,AUTO
        20 000154   000006 115007                    CMPA    6,DL
        20 000155   000157 602005 20                 TNC     s:11292+4,AL
        20 000156   000673 710000 20                 TRA     END_CASE_1
        20 000157   000165 710000 20                 TRA     s:11294
        20 000160   000165 710000 20                 TRA     s:11294
        20 000161   000174 710000 20                 TRA     s:11300
        20 000162   000170 710000 20                 TRA     s:11297
        20 000163   000200 710000 20                 TRA     s:11303
        20 000164   000204 710000 20                 TRA     s:11306

      113    11293    4                CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);

      114    11294    4                  ETT$ -> ETT.ROPCON = %CVKI_BYTE0;

  11294 20 000165   000000 470400 1                  LDP0    ETT$
        20 000166   000002 450100                    STZ     2,,PR0
        20 000167   000673 710000 20                 TRA     END_CASE_1

      115    11295
      116    11296    4                CASE(%ALIGNMENT_BYTE1);

      117    11297    4                  ETT$ -> ETT.ROPCON = %CVKI_BYTE1;

  11297 20 000170   000001 236007                    LDQ     1,DL
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:46   
        20 000171   000000 470400 1                  LDP0    ETT$
        20 000172   000002 756100                    STQ     2,,PR0
        20 000173   000673 710000 20                 TRA     END_CASE_1

      118    11298
      119    11299    4                CASE(%ALIGNMENT_HALF);

      120    11300    4                  ETT$ -> ETT.ROPCON = %CVKI_BYTE2;

  11300 20 000174   000002 236007                    LDQ     2,DL
        20 000175   000000 470400 1                  LDP0    ETT$
        20 000176   000002 756100                    STQ     2,,PR0
        20 000177   000673 710000 20                 TRA     END_CASE_1

      121    11301
      122    11302    4                CASE(%ALIGNMENT_BYTE3);

      123    11303    4                  ETT$ -> ETT.ROPCON = %CVKI_BYTE3;

  11303 20 000200   000003 236007                    LDQ     3,DL
        20 000201   000000 470400 1                  LDP0    ETT$
        20 000202   000002 756100                    STQ     2,,PR0
        20 000203   000673 710000 20                 TRA     END_CASE_1

      124    11304
      125    11305    4                CASE(%ALIGNMENT_UNKNOWN);

      126    11306    4                  ETT$ -> ETT.ROPCON = %CVKI_UNKNOWN;

  11306 20 000204   000004 236007                    LDQ     4,DL
        20 000205   000000 470400 1                  LDP0    ETT$
        20 000206   000002 756100                    STQ     2,,PR0

      127    11307    4              END /* Case */;

  11307 20 000207   000673 710000 20                 TRA     END_CASE_1

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:47   
      128    11308
      129    11309    3            CASE(%CVJI); /* COMP-1 to COMP-6 */

      130    11310    3              CALL Z8FO$ALIGN_LENGTH(ETT$ -> ETT.LOP, ALIGNMENT_LENGTH);

  11310 20 000210   200005 631500                    EPPR1   ALIGNMENT_LENGTH,,AUTO
        20 000211   200053 451500                    STP1    MASK+3,,AUTO
        20 000212   000000 236000 1                  LDQ     ETT$
        20 000213   000001 036003                    ADLQ    1,DU
        20 000214   200052 756100                    STQ     MASK+2,,AUTO
        20 000215   200052 630500                    EPPR0   MASK+2,,AUTO
        20 000216   000000 631400 21                 EPPR1   0
        20 000217   000000 701000 xent               TSX1    Z8FO$ALIGN_LENGTH
        20 000220   000000 011000                    NOP     0

      131    11311
      132    11312    4              DO CASE(ALIGNMENT_LENGTH.ALIGNMENT);

  11312 20 000221   200005 235100                    LDA     ALIGNMENT_LENGTH,,AUTO
        20 000222   000006 115007                    CMPA    6,DL
        20 000223   000225 602005 20                 TNC     s:11312+4,AL
        20 000224   000673 710000 20                 TRA     END_CASE_1
        20 000225   000233 710000 20                 TRA     s:11314
        20 000226   000233 710000 20                 TRA     s:11314
        20 000227   000242 710000 20                 TRA     s:11320
        20 000230   000236 710000 20                 TRA     s:11317
        20 000231   000246 710000 20                 TRA     s:11323
        20 000232   000252 710000 20                 TRA     s:11326

      133    11313    4                CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);

      134    11314    4                  ETT$ -> ETT.ROPCON = %CVJI_BYTE0;

  11314 20 000233   000000 470400 1                  LDP0    ETT$
        20 000234   000002 450100                    STZ     2,,PR0
        20 000235   000673 710000 20                 TRA     END_CASE_1

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:48   
      135    11315
      136    11316    4                CASE(%ALIGNMENT_BYTE1);

      137    11317    4                  ETT$ -> ETT.ROPCON = %CVJI_BYTE1;

  11317 20 000236   000001 236007                    LDQ     1,DL
        20 000237   000000 470400 1                  LDP0    ETT$
        20 000240   000002 756100                    STQ     2,,PR0
        20 000241   000673 710000 20                 TRA     END_CASE_1

      138    11318
      139    11319    4                CASE(%ALIGNMENT_HALF);

      140    11320    4                  ETT$ -> ETT.ROPCON = %CVJI_BYTE2;

  11320 20 000242   000002 236007                    LDQ     2,DL
        20 000243   000000 470400 1                  LDP0    ETT$
        20 000244   000002 756100                    STQ     2,,PR0
        20 000245   000673 710000 20                 TRA     END_CASE_1

      141    11321
      142    11322    4                CASE(%ALIGNMENT_BYTE3);

      143    11323    4                  ETT$ -> ETT.ROPCON = %CVJI_BYTE3;

  11323 20 000246   000003 236007                    LDQ     3,DL
        20 000247   000000 470400 1                  LDP0    ETT$
        20 000250   000002 756100                    STQ     2,,PR0
        20 000251   000673 710000 20                 TRA     END_CASE_1

      144    11324
      145    11325    4                CASE(%ALIGNMENT_UNKNOWN);

      146    11326    4                  ETT$ -> ETT.ROPCON = %CVJI_UNKNOWN;

  11326 20 000252   000004 236007                    LDQ     4,DL
        20 000253   000000 470400 1                  LDP0    ETT$
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:49   
        20 000254   000002 756100                    STQ     2,,PR0

      147    11327    4              END /* Case */;

  11327 20 000255   000673 710000 20                 TRA     END_CASE_1

      148    11328
      149    11329    3            CASE(%CVHI); /* COMP-7 to COMP-6 */

      150    11330    3              CALL Z8FO$ALIGN_LENGTH(ETT$ -> ETT.LOP, ALIGNMENT_LENGTH);

  11330 20 000256   200005 631500                    EPPR1   ALIGNMENT_LENGTH,,AUTO
        20 000257   200053 451500                    STP1    MASK+3,,AUTO
        20 000260   000000 236000 1                  LDQ     ETT$
        20 000261   000001 036003                    ADLQ    1,DU
        20 000262   200052 756100                    STQ     MASK+2,,AUTO
        20 000263   200052 630500                    EPPR0   MASK+2,,AUTO
        20 000264   000000 631400 21                 EPPR1   0
        20 000265   000000 701000 xent               TSX1    Z8FO$ALIGN_LENGTH
        20 000266   000000 011000                    NOP     0

      151    11331
      152    11332    4              DO CASE(ALIGNMENT_LENGTH.ALIGNMENT);

  11332 20 000267   200005 235100                    LDA     ALIGNMENT_LENGTH,,AUTO
        20 000270   000006 115007                    CMPA    6,DL
        20 000271   000273 602005 20                 TNC     s:11332+4,AL
        20 000272   000673 710000 20                 TRA     END_CASE_1
        20 000273   000301 710000 20                 TRA     s:11334
        20 000274   000301 710000 20                 TRA     s:11334
        20 000275   000304 710000 20                 TRA     s:11337
        20 000276   000313 710000 20                 TRA     s:11341
        20 000277   000313 710000 20                 TRA     s:11341
        20 000300   000310 710000 20                 TRA     s:11340

      153    11333    4                CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:50   
      154    11334    4                  ETT$ -> ETT.ROPCON = %CVHI_UPPER;

  11334 20 000301   000000 470400 1                  LDP0    ETT$
        20 000302   000002 450100                    STZ     2,,PR0
        20 000303   000673 710000 20                 TRA     END_CASE_1

      155    11335
      156    11336    4                CASE(%ALIGNMENT_HALF);

      157    11337    4                  ETT$ -> ETT.ROPCON = %CVHI_LOWER;

  11337 20 000304   000001 236007                    LDQ     1,DL
        20 000305   000000 470400 1                  LDP0    ETT$
        20 000306   000002 756100                    STQ     2,,PR0
        20 000307   000673 710000 20                 TRA     END_CASE_1

      158    11338
      159    11339    4                CASE(%ALIGNMENT_UNKNOWN);

      160    11340    4                  ETT$ -> ETT.ROPCON = %CVHI_UNKNOWN;

  11340 20 000310   000002 236007                    LDQ     2,DL
        20 000311   000000 470400 1                  LDP0    ETT$
        20 000312   000002 756100                    STQ     2,,PR0

      161    11341    4              END /* Case */;

  11341 20 000313   000673 710000 20                 TRA     END_CASE_1

      162    11342    3            CASE(%CMPA); /* ASCII compares */

      163    11343    3             CALL OPTIMIZE_MOVES(ETT$);

  11343 20 000314   000001 236000 21                 LDQ     1
        20 000315   200035 756100                    STQ     TYPE_DESC+6,,AUTO
        20 000316   003236 701000 20                 TSX1    OPTIMIZE_MOVES
        20 000317   000000 011000                    NOP     0
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:51   

      164    11344    3             IF ETT$ -> ETT.ID = %MVANO THEN

  11344 20 000320   000000 470400 1                  LDP0    ETT$
        20 000321   000000 220100                    LDX0    0,,PR0
        20 000322   000255 100003                    CMPX0   173,DU
        20 000323   000401 601000 20                 TNZ     s:11419

      165    11345    4               DO;

      166    11346                      %NEW_ETT(@POINTER=ROP$, @ID=%CMPAS, @LOP=ETT$ -> ETT.ROP, @ROPCON=
             11346                          ETT$ -> ILL.CODE);

  11350 20 000324   000000 236000 2                  LDQ     HEAD_ETT$
        20 000325   000002 116000 21                 CMPQ    2
        20 000326   000352 601000 20                 TNZ     s:11362

  11352 20 000327   000002 236000 4                  LDQ     ETT_+2
        20 000330   000005 036007                    ADLQ    5,DL
        20 000331   000003 116000 4                  CMPQ    ETT_+3
        20 000332   000343 604000 20                 TMI     s:11354

  11353 20 000333   000004 236000 21                 LDQ     4
        20 000334   200052 756100                    STQ     MASK+2,,AUTO
        20 000335   200052 631500                    EPPR1   MASK+2,,AUTO
        20 000336   200053 451500                    STP1    MASK+3,,AUTO
        20 000337   200053 630500                    EPPR0   MASK+3,,AUTO
        20 000340   000003 631400 21                 EPPR1   3
        20 000341   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 000342   000000 011000                    NOP     0

  11354 20 000343   000002 236000 4                  LDQ     ETT_+2
        20 000344   000022 736000                    QLS     18
        20 000345   000001 036000 4                  ADLQ    ETT_+1
        20 000346   200012 756100                    STQ     ROP$,,AUTO

  11355 20 000347   000005 236007                    LDQ     5,DL
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:52   
        20 000350   000002 056000 4                  ASQ     ETT_+2

  11356 20 000351   000356 710000 20                 TRA     s:11372

  11362 20 000352   200012 756100                    STQ     ROP$,,AUTO

  11363 20 000353   000000 471400 2                  LDP1    HEAD_ETT$
        20 000354   100003 236100                    LDQ     3,,PR1
        20 000355   000000 756000 2                  STQ     HEAD_ETT$

  11372 20 000356   000122 220003                    LDX0    82,DU
        20 000357   200012 470500                    LDP0    ROP$,,AUTO
        20 000360   000000 740100                    STX0    0,,PR0

  11395 20 000361   000000 470400 1                  LDP0    ETT$
        20 000362   000002 236100                    LDQ     2,,PR0
        20 000363   200012 471500                    LDP1    ROP$,,AUTO
        20 000364   100001 756100                    STQ     1,,PR1

  11400 20 000365   000002 236000 21                 LDQ     2
        20 000366   200012 471500                    LDP1    ROP$,,AUTO
        20 000367   100003 756100                    STQ     3,,PR1

  11405 20 000370   000000 236100                    LDQ     0,,PR0
        20 000371   777777 376007                    ANQ     -1,DL
        20 000372   200012 471500                    LDP1    ROP$,,AUTO
        20 000373   100002 756100                    STQ     2,,PR1

      167    11416    4                 ETT$ -> ETT.ROP = ROP$;

  11416 20 000374   200012 236100                    LDQ     ROP$,,AUTO
        20 000375   000002 756100                    STQ     2,,PR0

      168    11417    4                 ETT$ -> ETT.ID = %CMPAO;

  11417 20 000376   000121 221003                    LDX1    81,DU
        20 000377   000000 741100                    STX1    0,,PR0
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:53   

      169    11418    4               END;

  11418 20 000400   000673 710000 20                 TRA     END_CASE_1

      170    11419    3             ELSE IF ETT$ -> ETT.ID ~= %CFILL AND ETT$ -> ETT.ID ~= %CFILLR THEN

  11419 20 000401   000025 100003                    CMPX0   21,DU
        20 000402   000673 600000 20                 TZE     END_CASE_1
        20 000403   000160 100003                    CMPX0   112,DU
        20 000404   000673 600000 20                 TZE     END_CASE_1

      171    11420    3               IF ETT$ -> ETT.ROP -> ETT.ID = %TRIAD THEN

  11420 20 000405   000002 471500                    LDP1    2,,PR0
        20 000406   100000 221100                    LDX1    0,,PR1
        20 000407   000015 101003                    CMPX1   13,DU
        20 000410   000673 601000 20                 TNZ     END_CASE_1

      172    11421    4                 DO;

      173    11422                        %FISH (TRIAD = ETT$ -> ETT.LOP, RTN = LOP_ST$);

  11424 20 000411   000001 236100                    LDQ     1,,PR0
        20 000412   200014 756100                    STQ     LOP_ST$,,AUTO

  11425 20 000413   200014 473500                    LDP3    LOP_ST$,,AUTO
        20 000414   300000 222100                    LDX2    0,,PR3
        20 000415   000751 102003                    CMPX2   489,DU
        20 000416   000426 603000 20                 TRC     s:11430

  11426 20 000417   200014 470500                    LDP0    LOP_ST$,,AUTO
        20 000420   000001 236100                    LDQ     1,,PR0
        20 000421   200014 756100                    STQ     LOP_ST$,,AUTO

  11427 20 000422   200014 470500                    LDP0    LOP_ST$,,AUTO
        20 000423   000000 220100                    LDX0    0,,PR0
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:54   
        20 000424   000751 100003                    CMPX0   489,DU
        20 000425   000417 602000 20                 TNC     s:11426

      174    11430    4                   IF NOT LOP_ST$ -> VARIABLE.B.LINKAGE THEN

  11430 20 000426   200014 470500                    LDP0    LOP_ST$,,AUTO
        20 000427   000003 236100                    LDQ     3,,PR0
        20 000430   000002 316003                    CANQ    2,DU
        20 000431   000673 601000 20                 TNZ     END_CASE_1

      175    11431    5                     DO;

      176    11432    5                       CALL Z8AU$TYPE_DESCRIPTOR (ETT$ -> ETT.LOP, TYPE_DESC);

  11432 20 000432   200027 631500                    EPPR1   TYPE_DESC,,AUTO
        20 000433   200053 451500                    STP1    MASK+3,,AUTO
        20 000434   000000 236000 1                  LDQ     ETT$
        20 000435   000001 036003                    ADLQ    1,DU
        20 000436   200052 756100                    STQ     MASK+2,,AUTO
        20 000437   200052 630500                    EPPR0   MASK+2,,AUTO
        20 000440   000000 631400 21                 EPPR1   0
        20 000441   000000 701000 xent               TSX1    Z8AU$TYPE_DESCRIPTOR
        20 000442   000000 011000                    NOP     0

      177    11433    5                       IF TYPE_DESC.SSOP$ = ADDR (NIL) AND

  11433 20 000443   200032 236100                    LDQ     TYPE_DESC+3,,AUTO
        20 000444   000002 116000 21                 CMPQ    2
        20 000445   000673 601000 20                 TNZ     END_CASE_1
        20 000446   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 000447   060000 376007                    ANQ     24576,DL
        20 000450   040000 116007                    CMPQ    16384,DL
        20 000451   000673 601000 20                 TNZ     END_CASE_1
        20 000452   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 000453   007777 376007                    ANQ     4095,DL
        20 000454   000001 116007                    CMPQ    1,DL
        20 000455   000673 601000 20                 TNZ     END_CASE_1
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:55   

      178    11434    5                           TYPE_DESC.DESC.ADSC.TA = %ADSC4 AND
      179    11435    5                           TYPE_DESC.DESC.ADSC.N = 1 THEN
      180    11436    6                         DO;

      181    11437    6                           TEMP_SBIN = ETT$ -> ETT.ROP -> ETT.LOP ->

  11437 20 000456   000000 470400 1                  LDP0    ETT$
        20 000457   000002 471500                    LDP1    2,,PR0
        20 000460   100001 473500                    LDP3    1,,PR1
        20 000461   300010 236100                    LDQ     8,,PR3
        20 000462   020000 506003                    DIV     8192,DU
        20 000463   200026 756100                    STQ     TEMP_SBIN,,AUTO

      182    11438    6                               CONST.CONSTI.WORD1 / 2147483648;
      183    11439    7                           DO CASE (TYPE_DESC.DESC.NDSC.CN);

  11439 20 000464   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 000465   000017 772000                    QRL     15
        20 000466   000007 376007                    ANQ     7,DL
        20 000467   000010 116007                    CMPQ    8,DL
        20 000470   000472 602006 20                 TNC     s:11439+6,QL
        20 000471   000556 710000 20                 TRA     s:11464
        20 000472   000502 710000 20                 TRA     s:11441
        20 000473   000510 710000 20                 TRA     s:11444
        20 000474   000516 710000 20                 TRA     s:11447
        20 000475   000524 710000 20                 TRA     s:11450
        20 000476   000532 710000 20                 TRA     s:11453
        20 000477   000540 710000 20                 TRA     s:11456
        20 000500   000546 710000 20                 TRA     s:11459
        20 000501   000554 710000 20                 TRA     s:11462

      184    11440    7                             CASE (0);

      185    11441    7                               TEMP_SBIN = TEMP_SBIN * 2147483648;

  11441 20 000502   200026 235100                    LDA     TEMP_SBIN,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:56   
        20 000503   000037 735000                    ALS     31
        20 000504   200026 755100                    STA     TEMP_SBIN,,AUTO

      186    11442    7                               MKCN.CON = %BITBIN ('360000000000'O);

  11442 20 000505   360000 235003                    LDA     122880,DU
        20 000506   000000 755000 9                  STA     MKCN
        20 000507   000556 710000 20                 TRA     s:11464

      187    11443    7                             CASE (1);

      188    11444    7                               TEMP_SBIN = TEMP_SBIN * 134217728;

  11444 20 000510   200026 235100                    LDA     TEMP_SBIN,,AUTO
        20 000511   000033 735000                    ALS     27
        20 000512   200026 755100                    STA     TEMP_SBIN,,AUTO

      189    11445    7                               MKCN.CON = %BITBIN ('017000000000'O);

  11445 20 000513   017000 235003                    LDA     7680,DU
        20 000514   000000 755000 9                  STA     MKCN
        20 000515   000556 710000 20                 TRA     s:11464

      190    11446    7                             CASE (2);

      191    11447    7                               TEMP_SBIN = TEMP_SBIN * 41934304;

  11447 20 000516   200026 236100                    LDQ     TEMP_SBIN,,AUTO
        20 000517   000005 402000 21                 MPY     5
        20 000520   200026 756100                    STQ     TEMP_SBIN,,AUTO

      192    11448    7                               MKCN.CON = %BITBIN ('000360000000'O);

  11448 20 000521   000360 235003                    LDA     240,DU
        20 000522   000000 755000 9                  STA     MKCN
        20 000523   000556 710000 20                 TRA     s:11464

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:57   
      193    11449    7                             CASE (3);

      194    11450    7                               TEMP_SBIN = TEMP_SBIN * 262144;

  11450 20 000524   200026 235100                    LDA     TEMP_SBIN,,AUTO
        20 000525   000022 735000                    ALS     18
        20 000526   200026 755100                    STA     TEMP_SBIN,,AUTO

      195    11451    7                               MKCN.CON = %BITBIN ('000017000000'O);

  11451 20 000527   000017 235003                    LDA     15,DU
        20 000530   000000 755000 9                  STA     MKCN
        20 000531   000556 710000 20                 TRA     s:11464

      196    11452    7                             CASE (4);

      197    11453    7                               TEMP_SBIN = TEMP_SBIN * 8192;

  11453 20 000532   200026 235100                    LDA     TEMP_SBIN,,AUTO
        20 000533   000015 735000                    ALS     13
        20 000534   200026 755100                    STA     TEMP_SBIN,,AUTO

      198    11454    7                               MKCN.CON = %BITBIN ('000000360000'O);

  11454 20 000535   360000 235007                    LDA     122880,DL
        20 000536   000000 755000 9                  STA     MKCN
        20 000537   000556 710000 20                 TRA     s:11464

      199    11455    7                             CASE (5);

      200    11456    7                               TEMP_SBIN = TEMP_SBIN * 512;

  11456 20 000540   200026 235100                    LDA     TEMP_SBIN,,AUTO
        20 000541   000011 735000                    ALS     9
        20 000542   200026 755100                    STA     TEMP_SBIN,,AUTO

      201    11457    7                               MKCN.CON = %BITBIN ('000000017000'O);
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:58   

  11457 20 000543   017000 235007                    LDA     7680,DL
        20 000544   000000 755000 9                  STA     MKCN
        20 000545   000556 710000 20                 TRA     s:11464

      202    11458    7                             CASE (6);

      203    11459    7                               TEMP_SBIN = TEMP_SBIN * 16;

  11459 20 000546   200026 235100                    LDA     TEMP_SBIN,,AUTO
        20 000547   000004 735000                    ALS     4
        20 000550   200026 755100                    STA     TEMP_SBIN,,AUTO

      204    11460    7                               MKCN.CON = %BITBIN ('000000000360'O);

  11460 20 000551   000360 235007                    LDA     240,DL
        20 000552   000000 755000 9                  STA     MKCN
        20 000553   000556 710000 20                 TRA     s:11464

      205    11461    7                             CASE (7);

      206    11462    7                               MKCN.CON = %BITBIN ('000000000017'O);

  11462 20 000554   000017 235007                    LDA     15,DL
        20 000555   000000 755000 9                  STA     MKCN

      207    11463    7                           END;

      208    11464    6                           CALL Z8AC$MAKE_CONST (ROP$);

  11464 20 000556   200012 634500                    EPPR4   ROP$,,AUTO
        20 000557   200052 454500                    STP4    MASK+2,,AUTO
        20 000560   200052 630500                    EPPR0   MASK+2,,AUTO
        20 000561   000003 631400 21                 EPPR1   3
        20 000562   000000 701000 xent               TSX1    Z8AC$MAKE_CONST
        20 000563   000000 011000                    NOP     0

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:59   
      209    11465                                %NEW_ETT (@ID = %ANDI,
      210    11466                                          @LOP = ETT$ -> ETT.LOP,
      211    11467                                          @ROP = ROP$,
      212    11468                                          @POINTER = LOP$);

  11472 20 000564   000000 236000 2                  LDQ     HEAD_ETT$
        20 000565   000002 116000 21                 CMPQ    2
        20 000566   000612 601000 20                 TNZ     s:11484

  11474 20 000567   000002 236000 4                  LDQ     ETT_+2
        20 000570   000005 036007                    ADLQ    5,DL
        20 000571   000003 116000 4                  CMPQ    ETT_+3
        20 000572   000603 604000 20                 TMI     s:11476

  11475 20 000573   000004 236000 21                 LDQ     4
        20 000574   200052 756100                    STQ     MASK+2,,AUTO
        20 000575   200052 630500                    EPPR0   MASK+2,,AUTO
        20 000576   200053 450500                    STP0    MASK+3,,AUTO
        20 000577   200053 630500                    EPPR0   MASK+3,,AUTO
        20 000600   000003 631400 21                 EPPR1   3
        20 000601   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 000602   000000 011000                    NOP     0

  11476 20 000603   000002 236000 4                  LDQ     ETT_+2
        20 000604   000022 736000                    QLS     18
        20 000605   000001 036000 4                  ADLQ    ETT_+1
        20 000606   200011 756100                    STQ     LOP$,,AUTO

  11477 20 000607   000005 236007                    LDQ     5,DL
        20 000610   000002 056000 4                  ASQ     ETT_+2

  11478 20 000611   000616 710000 20                 TRA     s:11494

  11484 20 000612   200011 756100                    STQ     LOP$,,AUTO

  11485 20 000613   000000 470400 2                  LDP0    HEAD_ETT$
        20 000614   000003 236100                    LDQ     3,,PR0
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:60   
        20 000615   000000 756000 2                  STQ     HEAD_ETT$

  11494 20 000616   000034 220003                    LDX0    28,DU
        20 000617   200011 470500                    LDP0    LOP$,,AUTO
        20 000620   000000 740100                    STX0    0,,PR0

  11517 20 000621   000000 470400 1                  LDP0    ETT$
        20 000622   000001 236100                    LDQ     1,,PR0
        20 000623   200011 471500                    LDP1    LOP$,,AUTO
        20 000624   100001 756100                    STQ     1,,PR1

  11522 20 000625   000002 236000 21                 LDQ     2
        20 000626   200011 471500                    LDP1    LOP$,,AUTO
        20 000627   100003 756100                    STQ     3,,PR1

  11524 20 000630   200012 236100                    LDQ     ROP$,,AUTO
        20 000631   200011 471500                    LDP1    LOP$,,AUTO
        20 000632   100002 756100                    STQ     2,,PR1

      213    11538    6                           MKCN.CON = TEMP_SBIN;

  11538 20 000633   200026 235100                    LDA     TEMP_SBIN,,AUTO
        20 000634   000000 755000 9                  STA     MKCN

      214    11539    6                           CALL Z8AC$MAKE_CONST (ETT$ -> ETT.ROP);

  11539 20 000635   000000 236000 1                  LDQ     ETT$
        20 000636   000002 036003                    ADLQ    2,DU
        20 000637   200052 756100                    STQ     MASK+2,,AUTO
        20 000640   200052 630500                    EPPR0   MASK+2,,AUTO
        20 000641   000003 631400 21                 EPPR1   3
        20 000642   000000 701000 xent               TSX1    Z8AC$MAKE_CONST
        20 000643   000000 011000                    NOP     0

      215    11540    6                           ETT$ -> ETT.ID = %CMPI;

  11540 20 000644   000106 220003                    LDX0    70,DU
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:61   
        20 000645   000000 470400 1                  LDP0    ETT$
        20 000646   000000 740100                    STX0    0,,PR0

      216    11541    6                           ETT$ -> ETT.LOP = LOP$;

  11541 20 000647   200011 236100                    LDQ     LOP$,,AUTO
        20 000650   000000 470400 1                  LDP0    ETT$
        20 000651   000001 756100                    STQ     1,,PR0

      217    11542    6                         END;

      218    11543    5                     END;

      219    11544    4                 END;

  11544 20 000652   000673 710000 20                 TRA     END_CASE_1

      220    11545
      221    11546    3            CASE(%DNA);

      222    11547    3              IF ETT$ -> ETT.LOP -> ETT.ID = %EVAL AND

  11547 20 000653   000001 471500                    LDP1    1,,PR0
        20 000654   100000 220100                    LDX0    0,,PR1
        20 000655   000171 100003                    CMPX0   121,DU
        20 000656   000673 601000 20                 TNZ     END_CASE_1
        20 000657   100001 473500                    LDP3    1,,PR1
        20 000660   300000 221100                    LDX1    0,,PR3
        20 000661   000001 101003                    CMPX1   1,DU
        20 000662   000673 601000 20                 TNZ     END_CASE_1
        20 000663   300001 474500                    LDP4    1,,PR3
        20 000664   400010 222100                    LDX2    8,,PR4
        20 000665   000673 601000 20                 TNZ     END_CASE_1
        20 000666   400010 723100                    LXL3    8,,PR4
        20 000667   777777 103003                    CMPX3   -1,DU
        20 000670   000673 601000 20                 TNZ     END_CASE_1

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:62   
      223    11548    3                  ETT$ -> ETT.LOP -> ETT.LOP -> ETT.ID = %BASE AND
      224    11549    3                  ETT$ -> ETT.LOP -> ETT.LOP -> ETT.LOP -> VARIABLE.SEQ#.FD = 0 AND
      225    11550    3                 ETT$ -> ETT.LOP -> ETT.LOP -> ETT.LOP -> VARIABLE.SEQ#.BD = %MAX_SEQ#
             11550                           THEN
      226    11551    3                ETT$ -> ETT.LOP = ETT$ -> ETT.LOP -> ETT.LOP;

  11551 20 000671   100001 236100                    LDQ     1,,PR1
        20 000672   000001 756100                    STQ     1,,PR0

      227    11552                     /* %EVAL is not needed in this case. */
      228    11553
      229    11554    3   END_CASE_1:
      230    11555    3          END /* Case */;

  11555 20 000673                       END_CASE_1   null
      231    11556
      232    11557               %STEP_ETT;

  11559 20 000673   000000 236000 1                  LDQ     ETT$
        20 000674   000005 036003                    ADLQ    5,DU
        20 000675   000000 756000 1                  STQ     ETT$

  11560 20 000676   000002 236000 4                  LDQ     ETT_+2
        20 000677   000022 736000                    QLS     18
        20 000700   000001 036000 4                  ADLQ    ETT_+1
        20 000701   000000 116000 1                  CMPQ    ETT$
        20 000702   000706 601000 20                 TNZ     s:11563

  11561 20 000703   000002 236000 21                 LDQ     2
        20 000704   000000 756000 1                  STQ     ETT$
        20 000705   000713 710000 20                 TRA     s:11567

  11563 20 000706   000000 470400 1                  LDP0    ETT$
        20 000707   000000 220100                    LDX0    0,,PR0
        20 000710   000713 601000 20                 TNZ     s:11567

  11564 20 000711   000001 236100                    LDQ     1,,PR0
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:63   
        20 000712   000000 756000 1                  STQ     ETT$

      233    11567    2        END /* While */;

  11567 20 000713   000000 236000 1                  LDQ     ETT$
        20 000714   000002 116000 21                 CMPQ    2
        20 000715   000005 601000 20                 TNZ     s:11288

      234    11568
      235    11569        %EJECT;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:64   
      236    11570    1        ILS$$ = COMCOM.FIRST_ILS;

  11570 20 000716   000010 236000 xsym               LDQ     COMCOM+8
        20 000717   200004 756100                    STQ     ILS$$,,AUTO

      237    11571
      238    11572    2        DO WHILE(ILS$$ ~= ADDR(NIL));

  11572 20 000720   003132 710000 20                 TRA     s:12040

      239    11573    2          ILL$$ = ILS$$ -> ILS.ILL$;

  11573 20 000721   200004 470500                    LDP0    ILS$$,,AUTO
        20 000722   000003 236100                    LDQ     3,,PR0
        20 000723   200003 756100                    STQ     ILL$$,,AUTO

      240    11574
      241    11575    2          IF ILL$$ ~= ADDR(NIL) THEN

  11575 20 000724   000002 116000 21                 CMPQ    2
        20 000725   003127 600000 20                 TZE     s:12037

      242    11576    3            DO CASE(ILL$$ -> ILL.ID);

  11576 20 000726   200003 471500                    LDP1    ILL$$,,AUTO
        20 000727   100000 236100                    LDQ     0,,PR1
        20 000730   000022 772000                    QRL     18
        20 000731   000243 136007                    SBLQ    163,DL
        20 000732   000161 116007                    CMPQ    113,DL
        20 000733   000735 602006 20                 TNC     s:11576+7,QL
        20 000734   003127 710000 20                 TRA     s:12037
        20 000735   002535 710000 20                 TRA     s:11945
        20 000736   002535 710000 20                 TRA     s:11945
        20 000737   003127 710000 20                 TRA     s:12037
        20 000740   003127 710000 20                 TRA     s:12037
        20 000741   003127 710000 20                 TRA     s:12037
        20 000742   003127 710000 20                 TRA     s:12037
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:65   
        20 000743   002240 710000 20                 TRA     s:11862
        20 000744   003127 710000 20                 TRA     s:12037
        20 000745   003127 710000 20                 TRA     s:12037
        20 000746   001125 710000 20                 TRA     s:11584
        20 000747   003127 710000 20                 TRA     s:12037
        20 000750   003127 710000 20                 TRA     s:12037
        20 000751   003127 710000 20                 TRA     s:12037
        20 000752   003127 710000 20                 TRA     s:12037
        20 000753   003127 710000 20                 TRA     s:12037
        20 000754   002056 710000 20                 TRA     s:11799
        20 000755   002705 710000 20                 TRA     s:11986
        20 000756   003127 710000 20                 TRA     s:12037
        20 000757   003127 710000 20                 TRA     s:12037
        20 000760   003127 710000 20                 TRA     s:12037
        20 000761   002147 710000 20                 TRA     s:11831
        20 000762   003127 710000 20                 TRA     s:12037
        20 000763   003127 710000 20                 TRA     s:12037
        20 000764   003127 710000 20                 TRA     s:12037
        20 000765   003127 710000 20                 TRA     s:12037
        20 000766   003127 710000 20                 TRA     s:12037
        20 000767   003127 710000 20                 TRA     s:12037
        20 000770   003127 710000 20                 TRA     s:12037
        20 000771   003127 710000 20                 TRA     s:12037
        20 000772   003127 710000 20                 TRA     s:12037
        20 000773   003127 710000 20                 TRA     s:12037
        20 000774   003127 710000 20                 TRA     s:12037
        20 000775   003127 710000 20                 TRA     s:12037
        20 000776   003127 710000 20                 TRA     s:12037
        20 000777   003127 710000 20                 TRA     s:12037
        20 001000   003127 710000 20                 TRA     s:12037
        20 001001   003127 710000 20                 TRA     s:12037
        20 001002   003127 710000 20                 TRA     s:12037
        20 001003   003127 710000 20                 TRA     s:12037
        20 001004   003127 710000 20                 TRA     s:12037
        20 001005   003127 710000 20                 TRA     s:12037
        20 001006   003127 710000 20                 TRA     s:12037
        20 001007   003127 710000 20                 TRA     s:12037
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:66   
        20 001010   003127 710000 20                 TRA     s:12037
        20 001011   003127 710000 20                 TRA     s:12037
        20 001012   003127 710000 20                 TRA     s:12037
        20 001013   003127 710000 20                 TRA     s:12037
        20 001014   003127 710000 20                 TRA     s:12037
        20 001015   003127 710000 20                 TRA     s:12037
        20 001016   003127 710000 20                 TRA     s:12037
        20 001017   003127 710000 20                 TRA     s:12037
        20 001020   003127 710000 20                 TRA     s:12037
        20 001021   003127 710000 20                 TRA     s:12037
        20 001022   003127 710000 20                 TRA     s:12037
        20 001023   003127 710000 20                 TRA     s:12037
        20 001024   003127 710000 20                 TRA     s:12037
        20 001025   003127 710000 20                 TRA     s:12037
        20 001026   003127 710000 20                 TRA     s:12037
        20 001027   003127 710000 20                 TRA     s:12037
        20 001030   003127 710000 20                 TRA     s:12037
        20 001031   003127 710000 20                 TRA     s:12037
        20 001032   003127 710000 20                 TRA     s:12037
        20 001033   003127 710000 20                 TRA     s:12037
        20 001034   003127 710000 20                 TRA     s:12037
        20 001035   003127 710000 20                 TRA     s:12037
        20 001036   003127 710000 20                 TRA     s:12037
        20 001037   003127 710000 20                 TRA     s:12037
        20 001040   003127 710000 20                 TRA     s:12037
        20 001041   003127 710000 20                 TRA     s:12037
        20 001042   003127 710000 20                 TRA     s:12037
        20 001043   003127 710000 20                 TRA     s:12037
        20 001044   003127 710000 20                 TRA     s:12037
        20 001045   003127 710000 20                 TRA     s:12037
        20 001046   003127 710000 20                 TRA     s:12037
        20 001047   003127 710000 20                 TRA     s:12037
        20 001050   003127 710000 20                 TRA     s:12037
        20 001051   003127 710000 20                 TRA     s:12037
        20 001052   003127 710000 20                 TRA     s:12037
        20 001053   003127 710000 20                 TRA     s:12037
        20 001054   003127 710000 20                 TRA     s:12037
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:67   
        20 001055   003127 710000 20                 TRA     s:12037
        20 001056   003127 710000 20                 TRA     s:12037
        20 001057   003127 710000 20                 TRA     s:12037
        20 001060   003127 710000 20                 TRA     s:12037
        20 001061   003127 710000 20                 TRA     s:12037
        20 001062   003127 710000 20                 TRA     s:12037
        20 001063   003127 710000 20                 TRA     s:12037
        20 001064   003127 710000 20                 TRA     s:12037
        20 001065   001116 710000 20                 TRA     s:11578
        20 001066   003127 710000 20                 TRA     s:12037
        20 001067   003127 710000 20                 TRA     s:12037
        20 001070   003127 710000 20                 TRA     s:12037
        20 001071   003127 710000 20                 TRA     s:12037
        20 001072   003127 710000 20                 TRA     s:12037
        20 001073   003127 710000 20                 TRA     s:12037
        20 001074   003127 710000 20                 TRA     s:12037
        20 001075   003127 710000 20                 TRA     s:12037
        20 001076   003127 710000 20                 TRA     s:12037
        20 001077   003127 710000 20                 TRA     s:12037
        20 001100   003127 710000 20                 TRA     s:12037
        20 001101   003127 710000 20                 TRA     s:12037
        20 001102   003127 710000 20                 TRA     s:12037
        20 001103   003127 710000 20                 TRA     s:12037
        20 001104   003127 710000 20                 TRA     s:12037
        20 001105   003127 710000 20                 TRA     s:12037
        20 001106   003127 710000 20                 TRA     s:12037
        20 001107   002321 710000 20                 TRA     s:11892
        20 001110   002705 710000 20                 TRA     s:11986
        20 001111   003127 710000 20                 TRA     s:12037
        20 001112   003127 710000 20                 TRA     s:12037
        20 001113   003127 710000 20                 TRA     s:12037
        20 001114   003127 710000 20                 TRA     s:12037
        20 001115   002321 710000 20                 TRA     s:11892

      243    11577    3              CASE(%LINOI);

      244    11578    3                COMCOM.CURRENT.LINE = ILL$$ -> LINOI.PREV_LINE;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:68   

  11578 20 001116   100000 236100                    LDQ     0,,PR1
        20 001117   777777 376007                    ANQ     -1,DL
        20 001120   000133 756000 xsym               STQ     COMCOM+91

      245    11579    3                COMCOM.CURRENT.COLUMN = ILL$$ -> LINOI.PREV_COL;

  11579 20 001121   100002 236100                    LDQ     2,,PR1
        20 001122   777777 376007                    ANQ     -1,DL
        20 001123   000134 756000 xsym               STQ     COMCOM+92
        20 001124   003127 710000 20                 TRA     s:12037

      246    11580                       /* PREV_LINE and PREV_COL since ILL is now linked in
      247    11581                          reverse order. */
      248    11582
      249    11583    3              CASE(%MVAN);

      250    11584    3                ROP$ = ILL$$->ILL.ROP;

  11584 20 001125   100002 236100                    LDQ     2,,PR1
        20 001126   200012 756100                    STQ     ROP$,,AUTO

      251    11585                     %FISH (TRIAD=ROP$, RTN=ROP_ST$);

  11587 20 001127   200015 756100                    STQ     ROP_ST$,,AUTO

  11588 20 001130   200015 473500                    LDP3    ROP_ST$,,AUTO
        20 001131   300000 220100                    LDX0    0,,PR3
        20 001132   000751 100003                    CMPX0   489,DU
        20 001133   001143 603000 20                 TRC     s:11593

  11589 20 001134   200015 470500                    LDP0    ROP_ST$,,AUTO
        20 001135   000001 236100                    LDQ     1,,PR0
        20 001136   200015 756100                    STQ     ROP_ST$,,AUTO

  11590 20 001137   200015 470500                    LDP0    ROP_ST$,,AUTO
        20 001140   000000 220100                    LDX0    0,,PR0
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:69   
        20 001141   000751 100003                    CMPX0   489,DU
        20 001142   001134 602000 20                 TNC     s:11589

      252    11593    3                IF COMCOM.OB.INFO THEN

  11593 20 001143   000034 234000 xsym               SZN     COMCOM+28
        20 001144   002023 605000 20                 TPL     s:11789

      253    11594    4   OVERLAP_CHECK: DO;

  11594 20 001145                       OVERLAP_CHE* null
      254    11595                         /* MOVE with overlapping operands might not work the same
      255    11596                            from one hardware platform to the next; warn user. */
      256    11597    4                    LOP$ = ILL$$->ILL.LOP;

  11597 20 001145   200003 470500                    LDP0    ILL$$,,AUTO
        20 001146   000001 236100                    LDQ     1,,PR0
        20 001147   200011 756100                    STQ     LOP$,,AUTO

      257    11598    4                    IF LOP$->ETT.ID = %BASE OR

  11598 20 001150   200011 471500                    LDP1    LOP$,,AUTO
        20 001151   100000 220100                    LDX0    0,,PR1
        20 001152   000001 100003                    CMPX0   1,DU
        20 001153   001162 600000 20                 TZE     s:11599
        20 001154   000004 100003                    CMPX0   4,DU
        20 001155   002023 601000 20                 TNZ     s:11789
        20 001156   100001 473500                    LDP3    1,,PR1
        20 001157   300000 221100                    LDX1    0,,PR3
        20 001160   000001 101003                    CMPX1   1,DU
        20 001161   002023 601000 20                 TNZ     s:11789

      258    11599    4                       LOP$->ETT.ID = %SIZ AND LOP$->ETT.LOP->ETT.ID = %BASE THEN;
             11599                                /* OK */

  11599 20 001162   001163 710000 20                 TRA     s:11602

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:70   
      259    11600    4                    ELSE
      260    11601    4                      EXIT OVERLAP_CHECK;
      261    11602    4                    IF ROP$->ETT.ID = %BASE OR

  11602 20 001163   200012 473500                    LDP3    ROP$,,AUTO
        20 001164   300000 221100                    LDX1    0,,PR3
        20 001165   000001 101003                    CMPX1   1,DU
        20 001166   001233 600000 20                 TZE     s:11611
        20 001167   000004 101003                    CMPX1   4,DU
        20 001170   001175 601000 20                 TNZ     s:11602+10
        20 001171   300001 474500                    LDP4    1,,PR3
        20 001172   400000 222100                    LDX2    0,,PR4
        20 001173   000001 102003                    CMPX2   1,DU
        20 001174   001233 600000 20                 TZE     s:11611
        20 001175   000171 101003                    CMPX1   121,DU
        20 001176   001211 601000 20                 TNZ     s:11602+22
        20 001177   300001 474500                    LDP4    1,,PR3
        20 001200   400000 222100                    LDX2    0,,PR4
        20 001201   000001 102003                    CMPX2   1,DU
        20 001202   001233 600000 20                 TZE     s:11611
        20 001203   000004 102003                    CMPX2   4,DU
        20 001204   001211 601000 20                 TNZ     s:11602+22
        20 001205   400001 475500                    LDP5    1,,PR4
        20 001206   500000 223100                    LDX3    0,,PR5
        20 001207   000001 103003                    CMPX3   1,DU
        20 001210   001233 600000 20                 TZE     s:11611
        20 001211   000007 101003                    CMPX1   7,DU
        20 001212   002023 601000 20                 TNZ     s:11789
        20 001213   300001 474500                    LDP4    1,,PR3
        20 001214   400000 222100                    LDX2    0,,PR4
        20 001215   000001 102003                    CMPX2   1,DU
        20 001216   001233 600000 20                 TZE     s:11611
        20 001217   000171 102003                    CMPX2   121,DU
        20 001220   002023 601000 20                 TNZ     s:11789
        20 001221   400001 475500                    LDP5    1,,PR4
        20 001222   500000 223100                    LDX3    0,,PR5
        20 001223   000001 103003                    CMPX3   1,DU
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:71   
        20 001224   001233 600000 20                 TZE     s:11611
        20 001225   000004 103003                    CMPX3   4,DU
        20 001226   002023 601000 20                 TNZ     s:11789
        20 001227   500001 476500                    LDP6    1,,PR5
        20 001230   600000 224100                    LDX4    0,,PR6
        20 001231   000001 104003                    CMPX4   1,DU
        20 001232   002023 601000 20                 TNZ     s:11789

      262    11603    4                       ROP$->ETT.ID = %SIZ AND ROP$->ETT.LOP->ETT.ID = %BASE OR
      263    11604    4                       ROP$->ETT.ID = %EVAL AND
      264    11605    4                         (ROP$->ETT.LOP->ETT.ID = %BASE OR
      265    11606    4                         ROP$->ETT.LOP->ETT.ID = %SIZ AND ROP$->ETT.LOP->ETT.LOP->ETT.
             11606                                   ID = %BASE) OR
      266    11607    4                       ROP$->ETT.ID = %DNA AND
      267    11608    4                         (ROP$->ETT.LOP->ETT.ID = %BASE OR
      268    11609    4                          ROP$->ETT.LOP->ETT.ID = %EVAL AND
      269    11610    4                            (ROP$->ETT.LOP->ETT.LOP->ETT.ID = %BASE OR
      270    11611    4                             ROP$->ETT.LOP->ETT.LOP->ETT.ID = %SIZ AND

  11611 20 001233   001234 710000 20                 TRA     s:11617

      271    11612    4                             ROP$->ETT.LOP->ETT.LOP->ETT.LOP->ETT.ID = %BASE)) THEN;
             11612                                      /* OK so far */
      272    11613    4                    ELSE
      273    11614    4                      EXIT OVERLAP_CHECK;
      274    11615                         %FISH (TRIAD=LOP$ -> ETT.LOP, RTN=LOP_ST$);

  11617 20 001234   100001 236100                    LDQ     1,,PR1
        20 001235   200014 756100                    STQ     LOP_ST$,,AUTO

  11618 20 001236   200014 474500                    LDP4    LOP_ST$,,AUTO
        20 001237   400000 222100                    LDX2    0,,PR4
        20 001240   000751 102003                    CMPX2   489,DU
        20 001241   001251 603000 20                 TRC     s:11623

  11619 20 001242   200014 470500                    LDP0    LOP_ST$,,AUTO
        20 001243   000001 236100                    LDQ     1,,PR0
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:72   
        20 001244   200014 756100                    STQ     LOP_ST$,,AUTO

  11620 20 001245   200014 470500                    LDP0    LOP_ST$,,AUTO
        20 001246   000000 220100                    LDX0    0,,PR0
        20 001247   000751 100003                    CMPX0   489,DU
        20 001250   001242 602000 20                 TNC     s:11619

      275    11623    4                    IF LOP_ST$->VARIABLE.B.LINKAGE THEN

  11623 20 001251   200014 470500                    LDP0    LOP_ST$,,AUTO
        20 001252   000003 236100                    LDQ     3,,PR0
        20 001253   000002 316003                    CANQ    2,DU
        20 001254   001366 600000 20                 TZE     s:11726

      276    11624    5                      DO;

      277    11625    5                        IF NOT ROP_ST$->VARIABLE.B.LINKAGE THEN

  11625 20 001255   200015 471500                    LDP1    ROP_ST$,,AUTO
        20 001256   100003 236100                    LDQ     3,,PR1
        20 001257   000002 316003                    CANQ    2,DU
        20 001260   002023 600000 20                 TZE     s:11789

      278    11626    5                          EXIT OVERLAP_CHECK;
      279    11627    5                        QUAL$ = LOP_ST$->VARIABLE.QLT$;

  11627 20 001261   000007 236100                    LDQ     7,,PR0
        20 001262   200020 756100                    STQ     QUAL$,,AUTO

      280    11628    6                        DO WHILE QUAL$->QLT.FATHER ~= ADDR(NIL);

  11628 20 001263   001267 710000 20                 TRA     s:11630

      281    11629    6                          QUAL$ = QUAL$->QLT.FATHER;

  11629 20 001264   200020 470500                    LDP0    QUAL$,,AUTO
        20 001265   000001 236100                    LDQ     1,,PR0
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:73   
        20 001266   200020 756100                    STQ     QUAL$,,AUTO

      282    11630    6                        END;

  11630 20 001267   200020 470500                    LDP0    QUAL$,,AUTO
        20 001270   000001 236100                    LDQ     1,,PR0
        20 001271   000002 116000 21                 CMPQ    2
        20 001272   001264 601000 20                 TNZ     s:11629

      283    11631                             %GET_LTS (@ID = %BASE_LTS, @ST$ = QUAL$->QLT.ST$, @RETURN$ =
             11631                                 LOP_LTS$);

  11633 20 001273   000004 471500                    LDP1    4,,PR0
        20 001274   100005 236100                    LDQ     5,,PR1
        20 001275   000002 116000 21                 CMPQ    2
        20 001276   001306 600000 20                 TZE     s:11667
        20 001277   100005 473500                    LDP3    5,,PR1
        20 001300   300000 220100                    LDX0    0,,PR3
        20 001301   001105 100003                    CMPX0   581,DU
        20 001302   001306 601000 20                 TNZ     s:11667

  11661 20 001303   300010 236100                    LDQ     8,,PR3
        20 001304   200016 756100                    STQ     LOP_LTS$,,AUTO

  11665 20 001305   001320 710000 20                 TRA     s:11674

  11667 20 001306   000002 116000 21                 CMPQ    2
        20 001307   001316 600000 20                 TZE     s:11671
        20 001310   100005 473500                    LDP3    5,,PR1
        20 001311   300000 220100                    LDX0    0,,PR3
        20 001312   001066 100003                    CMPX0   566,DU
        20 001313   001316 601000 20                 TNZ     s:11671

  11669 20 001314   200016 756100                    STQ     LOP_LTS$,,AUTO
        20 001315   001320 710000 20                 TRA     s:11674

  11671 20 001316   000002 236000 21                 LDQ     2
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:74   
        20 001317   200016 756100                    STQ     LOP_LTS$,,AUTO

      284    11674    5                        QUAL$ = ROP_ST$->VARIABLE.QLT$;

  11674 20 001320   200015 473500                    LDP3    ROP_ST$,,AUTO
        20 001321   300007 236100                    LDQ     7,,PR3
        20 001322   200020 756100                    STQ     QUAL$,,AUTO

      285    11675    6                        DO WHILE QUAL$->QLT.FATHER ~= ADDR(NIL);

  11675 20 001323   001327 710000 20                 TRA     s:11677

      286    11676    6                          QUAL$ = QUAL$->QLT.FATHER;

  11676 20 001324   200020 470500                    LDP0    QUAL$,,AUTO
        20 001325   000001 236100                    LDQ     1,,PR0
        20 001326   200020 756100                    STQ     QUAL$,,AUTO

      287    11677    6                        END;

  11677 20 001327   200020 470500                    LDP0    QUAL$,,AUTO
        20 001330   000001 236100                    LDQ     1,,PR0
        20 001331   000002 116000 21                 CMPQ    2
        20 001332   001324 601000 20                 TNZ     s:11676

      288    11678                             %GET_LTS (@ID = %BASE_LTS, @ST$ = QUAL$->QLT.ST$, @RETURN$ =
             11678                                 ROP_LTS$);

  11680 20 001333   000004 471500                    LDP1    4,,PR0
        20 001334   100005 236100                    LDQ     5,,PR1
        20 001335   000002 116000 21                 CMPQ    2
        20 001336   001346 600000 20                 TZE     s:11714
        20 001337   100005 473500                    LDP3    5,,PR1
        20 001340   300000 220100                    LDX0    0,,PR3
        20 001341   001105 100003                    CMPX0   581,DU
        20 001342   001346 601000 20                 TNZ     s:11714

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:75   
  11708 20 001343   300010 236100                    LDQ     8,,PR3
        20 001344   200017 756100                    STQ     ROP_LTS$,,AUTO

  11712 20 001345   001360 710000 20                 TRA     s:11721

  11714 20 001346   000002 116000 21                 CMPQ    2
        20 001347   001356 600000 20                 TZE     s:11718
        20 001350   100005 473500                    LDP3    5,,PR1
        20 001351   300000 220100                    LDX0    0,,PR3
        20 001352   001066 100003                    CMPX0   566,DU
        20 001353   001356 601000 20                 TNZ     s:11718

  11716 20 001354   200017 756100                    STQ     ROP_LTS$,,AUTO
        20 001355   001360 710000 20                 TRA     s:11721

  11718 20 001356   000002 236000 21                 LDQ     2
        20 001357   200017 756100                    STQ     ROP_LTS$,,AUTO

      289    11721    5                        IF LOP_LTS$->BASE_LTS.SEQ# ~= ROP_LTS$->BASE_LTS.SEQ# THEN

  11721 20 001360   200016 473500                    LDP3    LOP_LTS$,,AUTO
        20 001361   200017 474500                    LDP4    ROP_LTS$,,AUTO
        20 001362   300003 236100                    LDQ     3,,PR3
        20 001363   400003 116100                    CMPQ    3,,PR4
        20 001364   002023 601000 20                 TNZ     s:11789

      290    11722    5                          EXIT OVERLAP_CHECK;
      291    11723    5                      END;

  11723 20 001365   001376 710000 20                 TRA     s:11731

      292    11724    4                    ELSE /* LOP not in LINKAGE SECTION */
      293    11725    5                      DO;

      294    11726    5                        IF ROP_ST$->VARIABLE.B.LINKAGE THEN

  11726 20 001366   200015 471500                    LDP1    ROP_ST$,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:76   
        20 001367   100003 236100                    LDQ     3,,PR1
        20 001370   000002 316003                    CANQ    2,DU
        20 001371   002023 601000 20                 TNZ     s:11789

      295    11727    5                          EXIT OVERLAP_CHECK;
      296    11728    5                        IF LOP_ST$->VARIABLE.COUNT ~= ROP_ST$->VARIABLE.COUNT THEN

  11728 20 001372   000000 236100                    LDQ     0,,PR0
        20 001373   100000 676100                    ERQ     0,,PR1
        20 001374   000777 376007                    ANQ     511,DL
        20 001375   002023 601000 20                 TNZ     s:11789

      297    11729    5                          EXIT OVERLAP_CHECK;
      298    11730    5                      END;

      299    11731    4                    CALL Z8AU$TYPE_DESCRIPTOR (LOP$, TYPE_DESC);

  11731 20 001376   200027 630500                    EPPR0   TYPE_DESC,,AUTO
        20 001377   200053 450500                    STP0    MASK+3,,AUTO
        20 001400   200011 631500                    EPPR1   LOP$,,AUTO
        20 001401   200052 451500                    STP1    MASK+2,,AUTO
        20 001402   200052 630500                    EPPR0   MASK+2,,AUTO
        20 001403   000000 631400 21                 EPPR1   0
        20 001404   000000 701000 xent               TSX1    Z8AU$TYPE_DESCRIPTOR
        20 001405   000000 011000                    NOP     0

      300    11732    4                    START1 = LOP_ST$->VARIABLE.SA * 36;

  11732 20 001406   200014 470500                    LDP0    LOP_ST$,,AUTO
        20 001407   000001 236100                    LDQ     1,,PR0
        20 001410   000022 772000                    QRL     18
        20 001411   000044 402007                    MPY     36,DL
        20 001412   200021 756100                    STQ     START1,,AUTO

      301    11733    5                    DO CASE (TYPE_DESC.TYPE);

  11733 20 001413   200027 235100                    LDA     TYPE_DESC,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:77   
        20 001414   000024 115007                    CMPA    20,DL
        20 001415   001417 602005 20                 TNC     s:11733+4,AL
        20 001416   001551 710000 20                 TRA     s:11753
        20 001417   001505 710000 20                 TRA     s:11742
        20 001420   001551 710000 20                 TRA     s:11753
        20 001421   001551 710000 20                 TRA     s:11753
        20 001422   001505 710000 20                 TRA     s:11742
        20 001423   001551 710000 20                 TRA     s:11753
        20 001424   001551 710000 20                 TRA     s:11753
        20 001425   001551 710000 20                 TRA     s:11753
        20 001426   001551 710000 20                 TRA     s:11753
        20 001427   001551 710000 20                 TRA     s:11753
        20 001430   001551 710000 20                 TRA     s:11753
        20 001431   001551 710000 20                 TRA     s:11753
        20 001432   001505 710000 20                 TRA     s:11742
        20 001433   001443 710000 20                 TRA     s:11735
        20 001434   001551 710000 20                 TRA     s:11753
        20 001435   001551 710000 20                 TRA     s:11753
        20 001436   001551 710000 20                 TRA     s:11753
        20 001437   001551 710000 20                 TRA     s:11753
        20 001440   001551 710000 20                 TRA     s:11753
        20 001441   001551 710000 20                 TRA     s:11753
        20 001442   001443 710000 20                 TRA     s:11735

      302    11734    5                      CASE (%TYB, %TYC);

      303    11735    5                        START1 = START1 + TYPE_DESC.DESC.NDSC.CN * 6;

  11735 20 001443   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 001444   000017 772000                    QRL     15
        20 001445   000007 376007                    ANQ     7,DL
        20 001446   000006 402007                    MPY     6,DL
        20 001447   200021 036100                    ADLQ    START1,,AUTO
        20 001450   200021 756100                    STQ     START1,,AUTO

      304    11736    5                        IF TYPE_DESC.TYPE = %TYC THEN

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:78   
  11736 20 001451   200027 235100                    LDA     TYPE_DESC,,AUTO
        20 001452   000023 115007                    CMPA    19,DL
        20 001453   001462 601000 20                 TNZ     s:11738

      305    11737    5                          END1 = START1 + TYPE_DESC.DESC.NDSC.N * 6;

  11737 20 001454   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 001455   000077 376007                    ANQ     63,DL
        20 001456   000006 402007                    MPY     6,DL
        20 001457   200021 036100                    ADLQ    START1,,AUTO
        20 001460   200022 756100                    STQ     END1,,AUTO
        20 001461   001601 710000 20                 TRA     s:11758

      306    11738    5                        ELSE IF TYPE_DESC.SIZ$ ~= ADDR(NIL) AND TYPE_DESC.SIZ$->ETT.ID
             11738                                 = %TRIAD

  11738 20 001462   200031 236100                    LDQ     TYPE_DESC+2,,AUTO
        20 001463   000002 116000 21                 CMPQ    2
        20 001464   001477 600000 20                 TZE     s:11740
        20 001465   200031 471500                    LDP1    TYPE_DESC+2,,AUTO
        20 001466   100000 220100                    LDX0    0,,PR1
        20 001467   000015 100003                    CMPX0   13,DU
        20 001470   001477 601000 20                 TNZ     s:11740

      307    11739    5                          THEN END1 = START1 + TYPE_DESC.SIZ$->ETT.LOP->CONST.CONSTI.
             11739                                   WORD1 * 6;

  11739 20 001471   100001 473500                    LDP3    1,,PR1
        20 001472   300010 236100                    LDQ     8,,PR3
        20 001473   000006 402007                    MPY     6,DL
        20 001474   200021 036100                    ADLQ    START1,,AUTO
        20 001475   200022 756100                    STQ     END1,,AUTO
        20 001476   001601 710000 20                 TRA     s:11758

      308    11740    5                          ELSE END1 = START1 + TYPE_DESC.DESC.ADSC.N * 6; /* %TYB */

  11740 20 001477   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:79   
        20 001500   007777 376007                    ANQ     4095,DL
        20 001501   000006 402007                    MPY     6,DL
        20 001502   200021 036100                    ADLQ    START1,,AUTO
        20 001503   200022 756100                    STQ     END1,,AUTO
        20 001504   001601 710000 20                 TRA     s:11758

      309    11741    5                      CASE (%TYD, %TYO, %TYF);

      310    11742    5                        IF LOP_ST$->VARIABLE.B.DIGIT THEN /* Packed decimal */

  11742 20 001505   000003 236100                    LDQ     3,,PR0
        20 001506   000200 316007                    CANQ    128,DL
        20 001507   001535 600000 20                 TZE     s:11749

      311    11743    6                          DO;

      312    11744    6                            END1 = START1 + (TYPE_DESC.DESC.NDSC.CN + TYPE_DESC.DESC.
             11744                                     NDSC.N + 1) * 9 / 2;

  11744 20 001510   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 001511   000077 376007                    ANQ     63,DL
        20 001512   200052 756100                    STQ     MASK+2,,AUTO
        20 001513   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 001514   000017 772000                    QRL     15
        20 001515   000007 376007                    ANQ     7,DL
        20 001516   200052 036100                    ADLQ    MASK+2,,AUTO
        20 001517   000011 402007                    MPY     9,DL
        20 001520   000011 036007                    ADLQ    9,DL
        20 001521   000001 772000                    QRL     1
        20 001522   200021 036100                    ADLQ    START1,,AUTO
        20 001523   200022 756100                    STQ     END1,,AUTO

      313    11745    6                            START1 = START1 + (TYPE_DESC.DESC.NDSC.CN + 1) * 9 / 2;

  11745 20 001524   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 001525   000017 772000                    QRL     15
        20 001526   000007 376007                    ANQ     7,DL
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:80   
        20 001527   000011 402007                    MPY     9,DL
        20 001530   000011 036007                    ADLQ    9,DL
        20 001531   000001 772000                    QRL     1
        20 001532   200021 036100                    ADLQ    START1,,AUTO
        20 001533   200021 756100                    STQ     START1,,AUTO

      314    11746    6                          END;

  11746 20 001534   001601 710000 20                 TRA     s:11758

      315    11747    5                        ELSE /* ASCII/EBCDIC */
      316    11748    6                          DO;

      317    11749    6                            START1 = START1 + TYPE_DESC.DESC.ADSC.CN * 9;

  11749 20 001535   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 001536   000020 772000                    QRL     16
        20 001537   000003 376007                    ANQ     3,DL
        20 001540   000011 402007                    MPY     9,DL
        20 001541   200021 036100                    ADLQ    START1,,AUTO
        20 001542   200021 756100                    STQ     START1,,AUTO

      318    11750    6                            END1 = START1 + TYPE_DESC.DESC.NDSC.N * 9;

  11750 20 001543   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 001544   000077 376007                    ANQ     63,DL
        20 001545   000011 402007                    MPY     9,DL
        20 001546   200021 036100                    ADLQ    START1,,AUTO
        20 001547   200022 756100                    STQ     END1,,AUTO

      319    11751    6                          END;

  11751 20 001550   001601 710000 20                 TRA     s:11758

      320    11752    5                      CASE (ELSE);

      321    11753    5                        START1 = START1 + TYPE_DESC.DESC.ADSC.CN * 9;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:81   

  11753 20 001551   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 001552   000020 772000                    QRL     16
        20 001553   000003 376007                    ANQ     3,DL
        20 001554   000011 402007                    MPY     9,DL
        20 001555   200021 036100                    ADLQ    START1,,AUTO
        20 001556   200021 756100                    STQ     START1,,AUTO

      322    11754    5                        IF TYPE_DESC.SIZ$ ~= ADDR(NIL) AND TYPE_DESC.SIZ$->ETT.ID = %
             11754                                 TRIAD

  11754 20 001557   200031 236100                    LDQ     TYPE_DESC+2,,AUTO
        20 001560   000002 116000 21                 CMPQ    2
        20 001561   001574 600000 20                 TZE     s:11756
        20 001562   200031 471500                    LDP1    TYPE_DESC+2,,AUTO
        20 001563   100000 220100                    LDX0    0,,PR1
        20 001564   000015 100003                    CMPX0   13,DU
        20 001565   001574 601000 20                 TNZ     s:11756

      323    11755    5                          THEN END1 = START1 + TYPE_DESC.SIZ$->ETT.LOP->CONST.CONSTI.
             11755                                   WORD1 * 9;

  11755 20 001566   100001 473500                    LDP3    1,,PR1
        20 001567   300010 236100                    LDQ     8,,PR3
        20 001570   000011 402007                    MPY     9,DL
        20 001571   200021 036100                    ADLQ    START1,,AUTO
        20 001572   200022 756100                    STQ     END1,,AUTO
        20 001573   001601 710000 20                 TRA     s:11758

      324    11756    5                          ELSE END1 = START1 + TYPE_DESC.DESC.ADSC.N * 9;

  11756 20 001574   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 001575   007777 376007                    ANQ     4095,DL
        20 001576   000011 402007                    MPY     9,DL
        20 001577   200021 036100                    ADLQ    START1,,AUTO
        20 001600   200022 756100                    STQ     END1,,AUTO

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:82   
      325    11757    5                    END; /* CASE */

      326    11758    4                    CALL Z8AU$TYPE_DESCRIPTOR (ROP$, TYPE_DESC);

  11758 20 001601   200027 631500                    EPPR1   TYPE_DESC,,AUTO
        20 001602   200053 451500                    STP1    MASK+3,,AUTO
        20 001603   200012 633500                    EPPR3   ROP$,,AUTO
        20 001604   200052 453500                    STP3    MASK+2,,AUTO
        20 001605   200052 630500                    EPPR0   MASK+2,,AUTO
        20 001606   000000 631400 21                 EPPR1   0
        20 001607   000000 701000 xent               TSX1    Z8AU$TYPE_DESCRIPTOR
        20 001610   000000 011000                    NOP     0

      327    11759    4                    START2 = ROP_ST$->VARIABLE.SA * 36;

  11759 20 001611   200015 470500                    LDP0    ROP_ST$,,AUTO
        20 001612   000001 236100                    LDQ     1,,PR0
        20 001613   000022 772000                    QRL     18
        20 001614   000044 402007                    MPY     36,DL
        20 001615   200023 756100                    STQ     START2,,AUTO

      328    11760    5                    DO CASE (TYPE_DESC.TYPE);

  11760 20 001616   200027 235100                    LDA     TYPE_DESC,,AUTO
        20 001617   000024 115007                    CMPA    20,DL
        20 001620   001622 602005 20                 TNC     s:11760+4,AL
        20 001621   001754 710000 20                 TRA     s:11780
        20 001622   001710 710000 20                 TRA     s:11769
        20 001623   001754 710000 20                 TRA     s:11780
        20 001624   001754 710000 20                 TRA     s:11780
        20 001625   001710 710000 20                 TRA     s:11769
        20 001626   001754 710000 20                 TRA     s:11780
        20 001627   001754 710000 20                 TRA     s:11780
        20 001630   001754 710000 20                 TRA     s:11780
        20 001631   001754 710000 20                 TRA     s:11780
        20 001632   001754 710000 20                 TRA     s:11780
        20 001633   001754 710000 20                 TRA     s:11780
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:83   
        20 001634   001754 710000 20                 TRA     s:11780
        20 001635   001710 710000 20                 TRA     s:11769
        20 001636   001646 710000 20                 TRA     s:11762
        20 001637   001754 710000 20                 TRA     s:11780
        20 001640   001754 710000 20                 TRA     s:11780
        20 001641   001754 710000 20                 TRA     s:11780
        20 001642   001754 710000 20                 TRA     s:11780
        20 001643   001754 710000 20                 TRA     s:11780
        20 001644   001754 710000 20                 TRA     s:11780
        20 001645   001646 710000 20                 TRA     s:11762

      329    11761    5                      CASE (%TYB, %TYC);

      330    11762    5                        START2 = START2 + TYPE_DESC.DESC.NDSC.CN * 6;

  11762 20 001646   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 001647   000017 772000                    QRL     15
        20 001650   000007 376007                    ANQ     7,DL
        20 001651   000006 402007                    MPY     6,DL
        20 001652   200023 036100                    ADLQ    START2,,AUTO
        20 001653   200023 756100                    STQ     START2,,AUTO

      331    11763    5                        IF TYPE_DESC.TYPE = %TYC THEN

  11763 20 001654   200027 235100                    LDA     TYPE_DESC,,AUTO
        20 001655   000023 115007                    CMPA    19,DL
        20 001656   001665 601000 20                 TNZ     s:11765

      332    11764    5                          END2 = START2 + TYPE_DESC.DESC.NDSC.N * 6;

  11764 20 001657   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 001660   000077 376007                    ANQ     63,DL
        20 001661   000006 402007                    MPY     6,DL
        20 001662   200023 036100                    ADLQ    START2,,AUTO
        20 001663   200024 756100                    STQ     END2,,AUTO
        20 001664   002004 710000 20                 TRA     s:11785

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:84   
      333    11765    5                        ELSE IF TYPE_DESC.SIZ$ ~= ADDR(NIL) AND TYPE_DESC.SIZ$->ETT.ID
             11765                                 = %TRIAD

  11765 20 001665   200031 236100                    LDQ     TYPE_DESC+2,,AUTO
        20 001666   000002 116000 21                 CMPQ    2
        20 001667   001702 600000 20                 TZE     s:11767
        20 001670   200031 471500                    LDP1    TYPE_DESC+2,,AUTO
        20 001671   100000 220100                    LDX0    0,,PR1
        20 001672   000015 100003                    CMPX0   13,DU
        20 001673   001702 601000 20                 TNZ     s:11767

      334    11766    5                          THEN END2 = START2 + TYPE_DESC.SIZ$->ETT.LOP->CONST.CONSTI.
             11766                                   WORD1 * 6;

  11766 20 001674   100001 473500                    LDP3    1,,PR1
        20 001675   300010 236100                    LDQ     8,,PR3
        20 001676   000006 402007                    MPY     6,DL
        20 001677   200023 036100                    ADLQ    START2,,AUTO
        20 001700   200024 756100                    STQ     END2,,AUTO
        20 001701   002004 710000 20                 TRA     s:11785

      335    11767    5                          ELSE END2 = START2 + TYPE_DESC.DESC.ADSC.N * 6; /* %TYB */

  11767 20 001702   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 001703   007777 376007                    ANQ     4095,DL
        20 001704   000006 402007                    MPY     6,DL
        20 001705   200023 036100                    ADLQ    START2,,AUTO
        20 001706   200024 756100                    STQ     END2,,AUTO
        20 001707   002004 710000 20                 TRA     s:11785

      336    11768    5                      CASE (%TYD, %TYO, %TYF);

      337    11769    5                        IF ROP_ST$->VARIABLE.B.DIGIT THEN /* Packed decimal */

  11769 20 001710   000003 236100                    LDQ     3,,PR0
        20 001711   000200 316007                    CANQ    128,DL
        20 001712   001740 600000 20                 TZE     s:11776
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:85   

      338    11770    6                          DO;

      339    11771    6                            END2 = START2 + (TYPE_DESC.DESC.NDSC.CN + TYPE_DESC.DESC.
             11771                                     NDSC.N + 1) * 9 / 2;

  11771 20 001713   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 001714   000077 376007                    ANQ     63,DL
        20 001715   200052 756100                    STQ     MASK+2,,AUTO
        20 001716   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 001717   000017 772000                    QRL     15
        20 001720   000007 376007                    ANQ     7,DL
        20 001721   200052 036100                    ADLQ    MASK+2,,AUTO
        20 001722   000011 402007                    MPY     9,DL
        20 001723   000011 036007                    ADLQ    9,DL
        20 001724   000001 772000                    QRL     1
        20 001725   200023 036100                    ADLQ    START2,,AUTO
        20 001726   200024 756100                    STQ     END2,,AUTO

      340    11772    6                            START2 = START2 + (TYPE_DESC.DESC.NDSC.CN + 1) * 9 / 2;

  11772 20 001727   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 001730   000017 772000                    QRL     15
        20 001731   000007 376007                    ANQ     7,DL
        20 001732   000011 402007                    MPY     9,DL
        20 001733   000011 036007                    ADLQ    9,DL
        20 001734   000001 772000                    QRL     1
        20 001735   200023 036100                    ADLQ    START2,,AUTO
        20 001736   200023 756100                    STQ     START2,,AUTO

      341    11773    6                          END;

  11773 20 001737   002004 710000 20                 TRA     s:11785

      342    11774    5                        ELSE /* ASCII/EBCDIC */
      343    11775    6                          DO;

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:86   
      344    11776    6                            START2 = START2 + TYPE_DESC.DESC.ADSC.CN * 9;

  11776 20 001740   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 001741   000020 772000                    QRL     16
        20 001742   000003 376007                    ANQ     3,DL
        20 001743   000011 402007                    MPY     9,DL
        20 001744   200023 036100                    ADLQ    START2,,AUTO
        20 001745   200023 756100                    STQ     START2,,AUTO

      345    11777    6                            END2 = START2 + TYPE_DESC.DESC.NDSC.N * 9;

  11777 20 001746   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 001747   000077 376007                    ANQ     63,DL
        20 001750   000011 402007                    MPY     9,DL
        20 001751   200023 036100                    ADLQ    START2,,AUTO
        20 001752   200024 756100                    STQ     END2,,AUTO

      346    11778    6                          END;

  11778 20 001753   002004 710000 20                 TRA     s:11785

      347    11779    5                      CASE (ELSE);

      348    11780    5                        START2 = START2 + TYPE_DESC.DESC.ADSC.CN * 9;

  11780 20 001754   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 001755   000020 772000                    QRL     16
        20 001756   000003 376007                    ANQ     3,DL
        20 001757   000011 402007                    MPY     9,DL
        20 001760   200023 036100                    ADLQ    START2,,AUTO
        20 001761   200023 756100                    STQ     START2,,AUTO

      349    11781    5                        IF TYPE_DESC.SIZ$ ~= ADDR(NIL) AND TYPE_DESC.SIZ$->ETT.ID = %
             11781                                 TRIAD

  11781 20 001762   200031 236100                    LDQ     TYPE_DESC+2,,AUTO
        20 001763   000002 116000 21                 CMPQ    2
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:87   
        20 001764   001777 600000 20                 TZE     s:11783
        20 001765   200031 471500                    LDP1    TYPE_DESC+2,,AUTO
        20 001766   100000 220100                    LDX0    0,,PR1
        20 001767   000015 100003                    CMPX0   13,DU
        20 001770   001777 601000 20                 TNZ     s:11783

      350    11782    5                          THEN END2 = START2 + TYPE_DESC.SIZ$->ETT.LOP->CONST.CONSTI.
             11782                                   WORD1 * 9;

  11782 20 001771   100001 473500                    LDP3    1,,PR1
        20 001772   300010 236100                    LDQ     8,,PR3
        20 001773   000011 402007                    MPY     9,DL
        20 001774   200023 036100                    ADLQ    START2,,AUTO
        20 001775   200024 756100                    STQ     END2,,AUTO
        20 001776   002004 710000 20                 TRA     s:11785

      351    11783    5                          ELSE END2 = START2 + TYPE_DESC.DESC.ADSC.N * 9;

  11783 20 001777   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 002000   007777 376007                    ANQ     4095,DL
        20 002001   000011 402007                    MPY     9,DL
        20 002002   200023 036100                    ADLQ    START2,,AUTO
        20 002003   200024 756100                    STQ     END2,,AUTO

      352    11784    5                    END; /* CASE */

      353    11785    4                    IF START2 >= START1 AND START2 < END1 OR

  11785 20 002004   200023 236100                    LDQ     START2,,AUTO
        20 002005   200021 116100                    CMPQ    START1,,AUTO
        20 002006   002011 604000 20                 TMI     s:11785+5
        20 002007   200022 116100                    CMPQ    END1,,AUTO
        20 002010   002017 604000 20                 TMI     s:11787
        20 002011   200024 236100                    LDQ     END2,,AUTO
        20 002012   200021 116100                    CMPQ    START1,,AUTO
        20 002013   002023 604400 20                 TMOZ    s:11789
        20 002014   200023 236100                    LDQ     START2,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:88   
        20 002015   200021 116100                    CMPQ    START1,,AUTO
        20 002016   002023 605000 20                 TPL     s:11789

      354    11786    4                        END2 > START1 AND START2 < START1 THEN
      355    11787    4                      CALL Z8AE$ERROR (%E$OPERANDS_OVERLAP);

  11787 20 002017   000007 630400 21                 EPPR0   7
        20 002020   000003 631400 21                 EPPR1   3
        20 002021   000000 701000 xent               TSX1    Z8AE$ERROR
        20 002022   000000 011000                    NOP     0

      356    11788    4                  END; /* OVERLAP_CHECK */

      357    11789    3                IF ROP$ -> ETT.ID = %DNA OR

  11789 20 002023   200012 470500                    LDP0    ROP$,,AUTO
        20 002024   000000 220100                    LDX0    0,,PR0
        20 002025   000007 100003                    CMPX0   7,DU
        20 002026   002051 600000 20                 TZE     s:11796
        20 002027   000002 100003                    CMPX0   2,DU
        20 002030   002051 600000 20                 TZE     s:11796
        20 002031   200015 471500                    LDP1    ROP_ST$,,AUTO
        20 002032   100000 221100                    LDX1    0,,PR1
        20 002033   000772 101003                    CMPX1   506,DU
        20 002034   002051 600000 20                 TZE     s:11796
        20 002035   100005 236100                    LDQ     5,,PR1
        20 002036   000002 116000 21                 CMPQ    2
        20 002037   002051 600000 20                 TZE     s:11796
        20 002040   100005 473500                    LDP3    5,,PR1
        20 002041   300000 222100                    LDX2    0,,PR3
        20 002042   000015 102003                    CMPX2   13,DU
        20 002043   002051 601000 20                 TNZ     s:11796
        20 002044   300001 474500                    LDP4    1,,PR3
        20 002045   400001 236100                    LDQ     1,,PR4
        20 002046   100001 676100                    ERQ     1,,PR1
        20 002047   007777 376007                    ANQ     4095,DL
        20 002050   003127 601000 20                 TNZ     s:12037
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:89   

      358    11790    3                   ROP$ -> ETT.ID = %FISS OR
      359    11791    3                   ROP_ST$ -> ST.ID = %SYMREF_ OR
      360    11792    3                   ROP_ST$ -> SCALAR.LTS$ = ADDR (NIL) OR
      361    11793    3                   ROP_ST$ -> SCALAR.LTS$ -> ETT.ID ~= %TRIAD OR
      362    11794    3                   ROP_ST$ -> SCALAR.LTS$ -> ETT.LOP -> CONST.ADSC.N =
      363    11795    3                       ROP_ST$ -> SCALAR.ADSC.N THEN
      364    11796    3                  CALL OPTIMIZE_MOVES(ILL$$);

  11796 20 002051   200003 631500                    EPPR1   ILL$$,,AUTO
        20 002052   200035 451500                    STP1    TYPE_DESC+6,,AUTO
        20 002053   003236 701000 20                 TSX1    OPTIMIZE_MOVES
        20 002054   000000 011000                    NOP     0
        20 002055   003127 710000 20                 TRA     s:12037

      365    11797
      366    11798    3              CASE(%MVJJ); /* COMP-1 to COMP-1 */

      367    11799    3                IF ILL$$ -> ILL.ROP -> ETT.ID = %CVIJ THEN

  11799 20 002056   100002 473500                    LDP3    2,,PR1
        20 002057   300000 220100                    LDX0    0,,PR3
        20 002060   000145 100003                    CMPX0   101,DU
        20 002061   002140 601000 20                 TNZ     s:11826

      368    11800    4                  DO; /* COMP-6 to COMP-1 */

      369    11801    4                    CALL Z8FO$ALIGN_LENGTH(ILL$$ -> ILL.LOP, ALIGNMENT_LENGTH);

  11801 20 002062   200005 634500                    EPPR4   ALIGNMENT_LENGTH,,AUTO
        20 002063   200053 454500                    STP4    MASK+3,,AUTO
        20 002064   200003 236100                    LDQ     ILL$$,,AUTO
        20 002065   000001 036003                    ADLQ    1,DU
        20 002066   200052 756100                    STQ     MASK+2,,AUTO
        20 002067   200052 630500                    EPPR0   MASK+2,,AUTO
        20 002070   000000 631400 21                 EPPR1   0
        20 002071   000000 701000 xent               TSX1    Z8FO$ALIGN_LENGTH
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:90   
        20 002072   000000 011000                    NOP     0

      370    11802
      371    11803    5                    DO CASE(ALIGNMENT_LENGTH.ALIGNMENT);

  11803 20 002073   200005 235100                    LDA     ALIGNMENT_LENGTH,,AUTO
        20 002074   000006 115007                    CMPA    6,DL
        20 002075   002077 602005 20                 TNC     s:11803+4,AL
        20 002076   002130 710000 20                 TRA     s:11821
        20 002077   002105 710000 20                 TRA     s:11805
        20 002100   002105 710000 20                 TRA     s:11805
        20 002101   002115 710000 20                 TRA     s:11811
        20 002102   002111 710000 20                 TRA     s:11808
        20 002103   002121 710000 20                 TRA     s:11814
        20 002104   002125 710000 20                 TRA     s:11817

      372    11804    5                      CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);

      373    11805    5                        ILL$$ -> ILL.CODE = %MVIJ_BYTE0;

  11805 20 002105   000000 220003                    LDX0    0,DU
        20 002106   200003 470500                    LDP0    ILL$$,,AUTO
        20 002107   000000 440100                    SXL0    0,,PR0
        20 002110   002130 710000 20                 TRA     s:11821

      374    11806
      375    11807    5                      CASE(%ALIGNMENT_BYTE1);

      376    11808    5                        ILL$$ -> ILL.CODE = %MVIJ_BYTE1;

  11808 20 002111   000001 220003                    LDX0    1,DU
        20 002112   200003 470500                    LDP0    ILL$$,,AUTO
        20 002113   000000 440100                    SXL0    0,,PR0
        20 002114   002130 710000 20                 TRA     s:11821

      377    11809
      378    11810    5                      CASE(%ALIGNMENT_HALF);
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:91   

      379    11811    5                        ILL$$ -> ILL.CODE = %MVIJ_BYTE2;

  11811 20 002115   000002 220003                    LDX0    2,DU
        20 002116   200003 470500                    LDP0    ILL$$,,AUTO
        20 002117   000000 440100                    SXL0    0,,PR0
        20 002120   002130 710000 20                 TRA     s:11821

      380    11812
      381    11813    5                      CASE(%ALIGNMENT_BYTE3);

      382    11814    5                        ILL$$ -> ILL.CODE = %MVIJ_BYTE3;

  11814 20 002121   000003 220003                    LDX0    3,DU
        20 002122   200003 470500                    LDP0    ILL$$,,AUTO
        20 002123   000000 440100                    SXL0    0,,PR0
        20 002124   002130 710000 20                 TRA     s:11821

      383    11815
      384    11816    5                      CASE(%ALIGNMENT_UNKNOWN);

      385    11817    5                        ILL$$ -> ILL.CODE = %MVIJ_UNKNOWN;

  11817 20 002125   000004 220003                    LDX0    4,DU
        20 002126   200003 470500                    LDP0    ILL$$,,AUTO
        20 002127   000000 440100                    SXL0    0,,PR0

      386    11818
      387    11819    5                    END /* Case */;

      388    11820
      389    11821    4                    ILL$$ -> ILL.ROP = ILL$$ -> ILL.ROP -> ETT.LOP;

  11821 20 002130   200003 470500                    LDP0    ILL$$,,AUTO
        20 002131   000002 471500                    LDP1    2,,PR0
        20 002132   100001 236100                    LDQ     1,,PR1
        20 002133   000002 756100                    STQ     2,,PR0
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:92   

      390    11822    4                    ILL$$ -> ILL.ID = %MVIJ; /* COMP-6 to COMP-1 */

  11822 20 002134   000256 220003                    LDX0    174,DU
        20 002135   200003 470500                    LDP0    ILL$$,,AUTO
        20 002136   000000 740100                    STX0    0,,PR0

      391    11823    4                  END;

  11823 20 002137   003127 710000 20                 TRA     s:12037

      392    11824    3                ELSE                                 /*#25215*/
      393    11825    4                  DO ; /* Treat as alphanumeric MOVE */

      394    11826    4                    ILL$$ -> ILL.ID = %MVAN ;

  11826 20 002140   000254 221003                    LDX1    172,DU
        20 002141   100000 741100                    STX1    0,,PR1

      395    11827    4                    CALL OPTIMIZE_MOVES(ILL$$);

  11827 20 002142   200003 631500                    EPPR1   ILL$$,,AUTO
        20 002143   200035 451500                    STP1    TYPE_DESC+6,,AUTO
        20 002144   003236 701000 20                 TSX1    OPTIMIZE_MOVES
        20 002145   000000 011000                    NOP     0

      396    11828    4                END ; /* ROP is not CVIJ */

  11828 20 002146   003127 710000 20                 TRA     s:12037

      397    11829
      398    11830    3              CASE(%MVKK); /* COMP-2 to COMP-2 */

      399    11831    3                IF ILL$$ -> ILL.ROP -> ETT.ID = %CVIK THEN

  11831 20 002147   100002 473500                    LDP3    2,,PR1
        20 002150   300000 220100                    LDX0    0,,PR3
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:93   
        20 002151   000023 100003                    CMPX0   19,DU
        20 002152   002231 601000 20                 TNZ     s:11857

      400    11832    4                  DO; /* COMP-6 to COMP-2 */

      401    11833    4                    CALL Z8FO$ALIGN_LENGTH(ILL$$ -> ILL.LOP, ALIGNMENT_LENGTH);

  11833 20 002153   200005 634500                    EPPR4   ALIGNMENT_LENGTH,,AUTO
        20 002154   200053 454500                    STP4    MASK+3,,AUTO
        20 002155   200003 236100                    LDQ     ILL$$,,AUTO
        20 002156   000001 036003                    ADLQ    1,DU
        20 002157   200052 756100                    STQ     MASK+2,,AUTO
        20 002160   200052 630500                    EPPR0   MASK+2,,AUTO
        20 002161   000000 631400 21                 EPPR1   0
        20 002162   000000 701000 xent               TSX1    Z8FO$ALIGN_LENGTH
        20 002163   000000 011000                    NOP     0

      402    11834
      403    11835    5                    DO CASE(ALIGNMENT_LENGTH.ALIGNMENT);

  11835 20 002164   200005 235100                    LDA     ALIGNMENT_LENGTH,,AUTO
        20 002165   000006 115007                    CMPA    6,DL
        20 002166   002170 602005 20                 TNC     s:11835+4,AL
        20 002167   002221 710000 20                 TRA     s:11853
        20 002170   002176 710000 20                 TRA     s:11837
        20 002171   002176 710000 20                 TRA     s:11837
        20 002172   002206 710000 20                 TRA     s:11843
        20 002173   002202 710000 20                 TRA     s:11840
        20 002174   002212 710000 20                 TRA     s:11846
        20 002175   002216 710000 20                 TRA     s:11849

      404    11836    5                      CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);

      405    11837    5                        ILL$$ -> ILL.CODE = %MVIK_BYTE0;

  11837 20 002176   000000 220003                    LDX0    0,DU
        20 002177   200003 470500                    LDP0    ILL$$,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:94   
        20 002200   000000 440100                    SXL0    0,,PR0
        20 002201   002221 710000 20                 TRA     s:11853

      406    11838
      407    11839    5                      CASE(%ALIGNMENT_BYTE1);

      408    11840    5                        ILL$$ -> ILL.CODE = %MVIK_BYTE1;

  11840 20 002202   000001 220003                    LDX0    1,DU
        20 002203   200003 470500                    LDP0    ILL$$,,AUTO
        20 002204   000000 440100                    SXL0    0,,PR0
        20 002205   002221 710000 20                 TRA     s:11853

      409    11841
      410    11842    5                      CASE(%ALIGNMENT_HALF);

      411    11843    5                        ILL$$ -> ILL.CODE = %MVIK_BYTE2;

  11843 20 002206   000002 220003                    LDX0    2,DU
        20 002207   200003 470500                    LDP0    ILL$$,,AUTO
        20 002210   000000 440100                    SXL0    0,,PR0
        20 002211   002221 710000 20                 TRA     s:11853

      412    11844
      413    11845    5                      CASE(%ALIGNMENT_BYTE3);

      414    11846    5                        ILL$$ -> ILL.CODE = %MVIK_BYTE3;

  11846 20 002212   000003 220003                    LDX0    3,DU
        20 002213   200003 470500                    LDP0    ILL$$,,AUTO
        20 002214   000000 440100                    SXL0    0,,PR0
        20 002215   002221 710000 20                 TRA     s:11853

      415    11847
      416    11848    5                      CASE(%ALIGNMENT_UNKNOWN);

      417    11849    5                        ILL$$ -> ILL.CODE = %MVIK_UNKNOWN;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:95   

  11849 20 002216   000004 220003                    LDX0    4,DU
        20 002217   200003 470500                    LDP0    ILL$$,,AUTO
        20 002220   000000 440100                    SXL0    0,,PR0

      418    11850
      419    11851    5                    END /* Case */;

      420    11852
      421    11853    4                    ILL$$ -> ILL.ROP = ILL$$ -> ILL.ROP -> ETT.LOP;

  11853 20 002221   200003 470500                    LDP0    ILL$$,,AUTO
        20 002222   000002 471500                    LDP1    2,,PR0
        20 002223   100001 236100                    LDQ     1,,PR1
        20 002224   000002 756100                    STQ     2,,PR0

      422    11854    4                    ILL$$ -> ILL.ID  = %MVIK; /* COMP-6 to COMP-2 */

  11854 20 002225   000271 220003                    LDX0    185,DU
        20 002226   200003 470500                    LDP0    ILL$$,,AUTO
        20 002227   000000 740100                    STX0    0,,PR0

      423    11855    4                  END;

  11855 20 002230   003127 710000 20                 TRA     s:12037

      424    11856    4                ELSE DO ; /* Treat as alphanumeric MOVE */

      425    11857    4                  ILL$$ -> ILL.ID = %MVAN ;

  11857 20 002231   000254 221003                    LDX1    172,DU
        20 002232   100000 741100                    STX1    0,,PR1

      426    11858    4                  CALL OPTIMIZE_MOVES(ILL$$);

  11858 20 002233   200003 631500                    EPPR1   ILL$$,,AUTO
        20 002234   200035 451500                    STP1    TYPE_DESC+6,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:96   
        20 002235   003236 701000 20                 TSX1    OPTIMIZE_MOVES
        20 002236   000000 011000                    NOP     0

      427    11859    4                END ; /* ROP is not CVIK */

  11859 20 002237   003127 710000 20                 TRA     s:12037

      428    11860
      429    11861    3              CASE(%MVHH); /* COMP-7 to COMP-7 */

      430    11862    3                IF ILL$$ -> ILL.ROP -> ETT.ID = %CVIH THEN

  11862 20 002240   100002 473500                    LDP3    2,,PR1
        20 002241   300000 220100                    LDX0    0,,PR3
        20 002242   000035 100003                    CMPX0   29,DU
        20 002243   002312 601000 20                 TNZ     s:11882

      431    11863    4                  DO; /* COMP-6 to COMP-7 */

      432    11864    4                    CALL Z8FO$ALIGN_LENGTH(ILL$$ -> ILL.LOP, ALIGNMENT_LENGTH);

  11864 20 002244   200005 634500                    EPPR4   ALIGNMENT_LENGTH,,AUTO
        20 002245   200053 454500                    STP4    MASK+3,,AUTO
        20 002246   200003 236100                    LDQ     ILL$$,,AUTO
        20 002247   000001 036003                    ADLQ    1,DU
        20 002250   200052 756100                    STQ     MASK+2,,AUTO
        20 002251   200052 630500                    EPPR0   MASK+2,,AUTO
        20 002252   000000 631400 21                 EPPR1   0
        20 002253   000000 701000 xent               TSX1    Z8FO$ALIGN_LENGTH
        20 002254   000000 011000                    NOP     0

      433    11865
      434    11866    5                    DO CASE(ALIGNMENT_LENGTH.ALIGNMENT);

  11866 20 002255   200005 235100                    LDA     ALIGNMENT_LENGTH,,AUTO
        20 002256   000006 115007                    CMPA    6,DL
        20 002257   002261 602005 20                 TNC     s:11866+4,AL
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:97   
        20 002260   002302 710000 20                 TRA     s:11878
        20 002261   002267 710000 20                 TRA     s:11868
        20 002262   002267 710000 20                 TRA     s:11868
        20 002263   002273 710000 20                 TRA     s:11871
        20 002264   002302 710000 20                 TRA     s:11878
        20 002265   002302 710000 20                 TRA     s:11878
        20 002266   002277 710000 20                 TRA     s:11874

      435    11867    5                      CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);

      436    11868    5                        ILL$$ -> ILL.CODE = %MVIH_UPPER;

  11868 20 002267   000000 220003                    LDX0    0,DU
        20 002270   200003 470500                    LDP0    ILL$$,,AUTO
        20 002271   000000 440100                    SXL0    0,,PR0
        20 002272   002302 710000 20                 TRA     s:11878

      437    11869
      438    11870    5                      CASE(%ALIGNMENT_HALF);

      439    11871    5                        ILL$$ -> ILL.CODE = %MVIH_LOWER;

  11871 20 002273   000001 220003                    LDX0    1,DU
        20 002274   200003 470500                    LDP0    ILL$$,,AUTO
        20 002275   000000 440100                    SXL0    0,,PR0
        20 002276   002302 710000 20                 TRA     s:11878

      440    11872
      441    11873    5                      CASE(%ALIGNMENT_UNKNOWN);

      442    11874    5                        ILL$$ -> ILL.CODE = %MVIH_UNKNOWN;

  11874 20 002277   000002 220003                    LDX0    2,DU
        20 002300   200003 470500                    LDP0    ILL$$,,AUTO
        20 002301   000000 440100                    SXL0    0,,PR0

      443    11875
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:98   
      444    11876    5                    END /* Case */;

      445    11877
      446    11878    4                    ILL$$ -> ILL.ROP = ILL$$ -> ILL.ROP -> ETT.LOP;

  11878 20 002302   200003 470500                    LDP0    ILL$$,,AUTO
        20 002303   000002 471500                    LDP1    2,,PR0
        20 002304   100001 236100                    LDQ     1,,PR1
        20 002305   000002 756100                    STQ     2,,PR0

      447    11879    4                    ILL$$ -> ILL.ID  = %MVIH; /* COMP-6 to COMP-7 */

  11879 20 002306   000253 220003                    LDX0    171,DU
        20 002307   200003 470500                    LDP0    ILL$$,,AUTO
        20 002310   000000 740100                    STX0    0,,PR0

      448    11880    4                  END;

  11880 20 002311   003127 710000 20                 TRA     s:12037

      449    11881    4                ELSE DO ; /* Treat as alphanumeric MOVE */

      450    11882    4                  ILL$$ -> ILL.ID = %MVAN ;

  11882 20 002312   000254 221003                    LDX1    172,DU
        20 002313   100000 741100                    STX1    0,,PR1

      451    11883    4                  CALL OPTIMIZE_MOVES(ILL$$);

  11883 20 002314   200003 631500                    EPPR1   ILL$$,,AUTO
        20 002315   200035 451500                    STP1    TYPE_DESC+6,,AUTO
        20 002316   003236 701000 20                 TSX1    OPTIMIZE_MOVES
        20 002317   000000 011000                    NOP     0

      452    11884    4                END ; /* ROP is not CVIH */

  11884 20 002320   003127 710000 20                 TRA     s:12037
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:99   

      453    11885
      454    11886    3              CASE(%MVOO, %MVOOR); /* Overpunched to overpunched */

      455    11887                     /* Overpunched operands always are composed of 9-bit characters.
      456    11888                        If sign type (leading/trailing), scale factor, and length are
      457    11889                        identical, redefine both as alphanumeric and do an
      458    11890                        alphanumeric move, with whatever optimizations apply to
      459    11891                        such moves. */
      460    11892    3                LOP$ = ILL$$ -> ILL.LOP;

  11892 20 002321   100001 236100                    LDQ     1,,PR1
        20 002322   200011 756100                    STQ     LOP$,,AUTO

      461    11893    3                ROP$ = ILL$$ -> ILL.ROP;

  11893 20 002323   100002 236100                    LDQ     2,,PR1
        20 002324   200012 756100                    STQ     ROP$,,AUTO

      462    11894    3                IF LOP$ -> ETT.ID = %BASE

  11894 20 002325   200011 473500                    LDP3    LOP$,,AUTO
        20 002326   300000 220100                    LDX0    0,,PR3
        20 002327   000001 100003                    CMPX0   1,DU
        20 002330   003127 601000 20                 TNZ     s:12037
        20 002331   200012 474500                    LDP4    ROP$,,AUTO
        20 002332   400000 221100                    LDX1    0,,PR4
        20 002333   000001 101003                    CMPX1   1,DU
        20 002334   003127 601000 20                 TNZ     s:12037

      463    11895    3                    AND ROP$ -> ETT.ID = %BASE THEN
      464    11896    4   OPTIMIZE_MVOO: DO;

  11896 20 002335                       OPTIMIZE_MV* null
      465    11897    4                    LOP$ = LOP$ -> ETT.LOP;

  11897 20 002335   300001 236100                    LDQ     1,,PR3
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:100  
        20 002336   200011 756100                    STQ     LOP$,,AUTO

      466    11898    4                    ROP$ = ROP$ -> ETT.LOP;

  11898 20 002337   400001 236100                    LDQ     1,,PR4
        20 002340   200012 756100                    STQ     ROP$,,AUTO

      467    11899    4                    IF LOP$ -> VARIABLE.TYPE ~= ROP$ -> VARIABLE.TYPE THEN

  11899 20 002341   200011 473500                    LDP3    LOP$,,AUTO
        20 002342   300002 220100                    LDX0    2,,PR3
        20 002343   200012 474500                    LDP4    ROP$,,AUTO
        20 002344   400002 100100                    CMPX0   2,,PR4
        20 002345   002534 601000 20                 TNZ     s:11942

      468    11900    4                      EXIT OPTIMIZE_MVOO;
      469    11901    4                    OPTIMIZE_IT = FALSE;;

  11901 20 002346   200025 450100                    STZ     OPTIMIZE_IT,,AUTO

      470    11902    4                    IF LOP$ -> ST$1.DESCR =

  11902 20 002347   300001 236100                    LDQ     1,,PR3
        20 002350   400001 676100                    ERQ     1,,PR4
        20 002351   077777 376007                    ANQ     32767,DL
        20 002352   002360 601000 20                 TNZ     s:11908

      471    11903    4                        ROP$ -> ST$1.DESCR THEN
      472    11904    5                      DO;

      473    11905    5                        ILL$$ -> ILL.ID = %MVAN;

  11905 20 002353   000254 221003                    LDX1    172,DU
        20 002354   100000 741100                    STX1    0,,PR1

      474    11906    5                        OPTIMIZE_IT = TRUE;

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:101  
  11906 20 002355   400000 236003                    LDQ     -131072,DU
        20 002356   200025 756100                    STQ     OPTIMIZE_IT,,AUTO

      475    11907    5                      END;

  11907 20 002357   002472 710000 20                 TRA     s:11935

      476    11908    4                    ELSE IF LOP$ -> VARIABLE.NDSC.S = %TRAILING_SIGN

  11908 20 002360   300001 236100                    LDQ     1,,PR3
        20 002361   030000 376007                    ANQ     12288,DL
        20 002362   020000 116007                    CMPQ    8192,DL
        20 002363   002417 601000 20                 TNZ     s:11921
        20 002364   400001 236100                    LDQ     1,,PR4
        20 002365   030000 376007                    ANQ     12288,DL
        20 002366   020000 116007                    CMPQ    8192,DL
        20 002367   002417 601000 20                 TNZ     s:11921

      477    11909    4                        AND ROP$ -> VARIABLE.NDSC.S = %TRAILING_SIGN THEN
      478    11910    5                      DO;

      479    11911    5                        IF LOP$ -> VARIABLE.NDSC.SF = ROP$ -> VARIABLE.NDSC.SF THEN

  11911 20 002370   300001 236100                    LDQ     1,,PR3
        20 002371   400001 676100                    ERQ     1,,PR4
        20 002372   007700 376007                    ANQ     4032,DL
        20 002373   002472 601000 20                 TNZ     s:11935

      480    11912    6                          DO;

      481    11913    6                            ILL$$ -> ILL.ID = %MVFIL;

  11913 20 002374   000402 221003                    LDX1    258,DU
        20 002375   100000 741100                    STX1    0,,PR1

      482    11914    6                            IF LOP$ -> VARIABLE.TYPE = %TYF /* EBCDIC numeric */

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:102  
  11914 20 002376   200011 471500                    LDP1    LOP$,,AUTO
        20 002377   100002 220100                    LDX0    2,,PR1
        20 002400   000013 100003                    CMPX0   11,DU
        20 002401   002406 601000 20                 TNZ     s:11916

      483    11915    6                              THEN ILL$$ -> MVFIL.FILL = %BITASC ('360'O);

  11915 20 002402   200003 473500                    LDP3    ILL$$,,AUTO
        20 002403   360000 236007                    LDQ     122880,DL
        20 002404   300000 552110                    STBQ    0,'10'O,PR3
        20 002405   002411 710000 20                 TRA     s:11917

      484    11916    6                              ELSE ILL$$ -> MVFIL.FILL = '0';

  11916 20 002406   200003 473500                    LDP3    ILL$$,,AUTO
        20 002407   060000 236007                    LDQ     24576,DL
        20 002410   300000 552110                    STBQ    0,'10'O,PR3

      485    11917    6                            ILL$$ -> MVFIL.CODE = %MRLFIL;

  11917 20 002411   200003 471500                    LDP1    ILL$$,,AUTO
        20 002412   000001 236007                    LDQ     1,DL
        20 002413   100000 552104                    STBQ    0,'04'O,PR1

      486    11918    6                            OPTIMIZE_IT = TRUE;

  11918 20 002414   400000 236003                    LDQ     -131072,DU
        20 002415   200025 756100                    STQ     OPTIMIZE_IT,,AUTO

      487    11919    6                          END;

      488    11920    5                      END;

  11920 20 002416   002472 710000 20                 TRA     s:11935

      489    11921    4                    ELSE IF LOP$ -> VARIABLE.NDSC.S = %LEADING_SIGN

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:103  
  11921 20 002417   300001 236100                    LDQ     1,,PR3
        20 002420   030000 376007                    ANQ     12288,DL
        20 002421   010000 116007                    CMPQ    4096,DL
        20 002422   002472 601000 20                 TNZ     s:11935
        20 002423   400001 236100                    LDQ     1,,PR4
        20 002424   030000 376007                    ANQ     12288,DL
        20 002425   010000 116007                    CMPQ    4096,DL
        20 002426   002472 601000 20                 TNZ     s:11935

      490    11922    4                        AND ROP$ -> VARIABLE.NDSC.S = %LEADING_SIGN THEN
      491    11923    5                      DO;

      492    11924    5                        IF LOP$ -> VARIABLE.NDSC.N + LOP$ -> VARIABLE.NDSC.SF =

  11924 20 002427   300001 236100                    LDQ     1,,PR3
        20 002430   000030 736000                    QLS     24
        20 002431   000036 732000                    QRS     30
        20 002432   200052 756100                    STQ     MASK+2,,AUTO
        20 002433   300001 236100                    LDQ     1,,PR3
        20 002434   000077 376007                    ANQ     63,DL
        20 002435   200052 036100                    ADLQ    MASK+2,,AUTO
        20 002436   200053 756100                    STQ     MASK+3,,AUTO
        20 002437   400001 236100                    LDQ     1,,PR4
        20 002440   000030 736000                    QLS     24
        20 002441   000036 732000                    QRS     30
        20 002442   200054 756100                    STQ     MASK+4,,AUTO
        20 002443   400001 236100                    LDQ     1,,PR4
        20 002444   000077 376007                    ANQ     63,DL
        20 002445   200054 036100                    ADLQ    MASK+4,,AUTO
        20 002446   200053 116100                    CMPQ    MASK+3,,AUTO
        20 002447   002472 601000 20                 TNZ     s:11935

      493    11925    5                            ROP$ -> VARIABLE.NDSC.N + ROP$ -> VARIABLE.NDSC.SF THEN
      494    11926    6                          DO;

      495    11927    6                            ILL$$ -> ILL.ID = %MVFIL;

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:104  
  11927 20 002450   000402 220003                    LDX0    258,DU
        20 002451   100000 740100                    STX0    0,,PR1

      496    11928    6                            IF LOP$ -> VARIABLE.TYPE = %TYF /* EBCDIC numeric */

  11928 20 002452   200011 471500                    LDP1    LOP$,,AUTO
        20 002453   100002 221100                    LDX1    2,,PR1
        20 002454   000013 101003                    CMPX1   11,DU
        20 002455   002462 601000 20                 TNZ     s:11930

      497    11929    6                              THEN ILL$$ -> MVFIL.FILL = %BITASC ('360'O);

  11929 20 002456   200003 473500                    LDP3    ILL$$,,AUTO
        20 002457   360000 236007                    LDQ     122880,DL
        20 002460   300000 552110                    STBQ    0,'10'O,PR3
        20 002461   002465 710000 20                 TRA     s:11931

      498    11930    6                              ELSE ILL$$ -> MVFIL.FILL = '0';

  11930 20 002462   200003 473500                    LDP3    ILL$$,,AUTO
        20 002463   060000 236007                    LDQ     24576,DL
        20 002464   300000 552110                    STBQ    0,'10'O,PR3

      499    11931    6                            ILL$$ -> MVFIL.CODE = %MLRFIL;

  11931 20 002465   200003 471500                    LDP1    ILL$$,,AUTO
        20 002466   000000 236003                    LDQ     0,DU
        20 002467   100000 552104                    STBQ    0,'04'O,PR1

      500    11932    6                            OPTIMIZE_IT = TRUE;

  11932 20 002470   400000 236003                    LDQ     -131072,DU
        20 002471   200025 756100                    STQ     OPTIMIZE_IT,,AUTO

      501    11933    6                          END;

      502    11934    5                      END;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:105  

      503    11935    4                    IF OPTIMIZE_IT THEN

  11935 20 002472   200025 234100                    SZN     OPTIMIZE_IT,,AUTO
        20 002473   003127 605000 20                 TPL     s:12037

      504    11936    5                      DO;

      505    11937    5                        CALL Z8AF$FORME (%DNA, ILL$$ -> ILL.LOP, 0, ILL$$ -> ILL.LOP);

  11937 20 002474   200003 236100                    LDQ     ILL$$,,AUTO
        20 002475   000001 036003                    ADLQ    1,DU
        20 002476   000013 235000 21                 LDA     11
        20 002477   200054 757100                    STAQ    MASK+4,,AUTO
        20 002500   200003 236100                    LDQ     ILL$$,,AUTO
        20 002501   000001 036003                    ADLQ    1,DU
        20 002502   000014 235000 21                 LDA     12
        20 002503   200052 757100                    STAQ    MASK+2,,AUTO
        20 002504   200052 630500                    EPPR0   MASK+2,,AUTO
        20 002505   000010 631400 21                 EPPR1   8
        20 002506   000000 701000 xent               TSX1    Z8AF$FORME
        20 002507   000000 011000                    NOP     0

      506    11938    5                        CALL Z8AF$FORME (%DNA, ILL$$ -> ILL.ROP, 0, ILL$$ -> ILL.ROP);

  11938 20 002510   200003 236100                    LDQ     ILL$$,,AUTO
        20 002511   000002 036003                    ADLQ    2,DU
        20 002512   000013 235000 21                 LDA     11
        20 002513   200054 757100                    STAQ    MASK+4,,AUTO
        20 002514   200003 236100                    LDQ     ILL$$,,AUTO
        20 002515   000002 036003                    ADLQ    2,DU
        20 002516   000014 235000 21                 LDA     12
        20 002517   200052 757100                    STAQ    MASK+2,,AUTO
        20 002520   200052 630500                    EPPR0   MASK+2,,AUTO
        20 002521   000010 631400 21                 EPPR1   8
        20 002522   000000 701000 xent               TSX1    Z8AF$FORME
        20 002523   000000 011000                    NOP     0
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:106  

      507    11939    5                        IF ILL$$ -> ILL.ID = %MVAN THEN

  11939 20 002524   200003 470500                    LDP0    ILL$$,,AUTO
        20 002525   000000 220100                    LDX0    0,,PR0
        20 002526   000254 100003                    CMPX0   172,DU
        20 002527   003127 601000 20                 TNZ     s:12037

      508    11940    5                          CALL OPTIMIZE_MOVES (ILL$$);

  11940 20 002530   200003 631500                    EPPR1   ILL$$,,AUTO
        20 002531   200035 451500                    STP1    TYPE_DESC+6,,AUTO
        20 002532   003236 701000 20                 TSX1    OPTIMIZE_MOVES
        20 002533   000000 011000                    NOP     0

      509    11941    5                      END;

      510    11942    4                  END; /* OPTIMIZE_MVOO */

  11942 20 002534   003127 710000 20                 TRA     s:12037

      511    11943
      512    11944    3              CASE(%MVDD, %MVDDR); /* Decimal to decimal */

      513    11945    3                IF ILL$$ -> ILL.LOP -> ETT.ID = %BASE AND

  11945 20 002535   100001 473500                    LDP3    1,,PR1
        20 002536   300000 220100                    LDX0    0,,PR3
        20 002537   000001 100003                    CMPX0   1,DU
        20 002540   003127 601000 20                 TNZ     s:12037
        20 002541   100002 474500                    LDP4    2,,PR1
        20 002542   400000 221100                    LDX1    0,,PR4
        20 002543   000001 101003                    CMPX1   1,DU
        20 002544   002547 601000 20                 TNZ     s:11945+10
        20 002545   000015 234000 xsym               SZN     COMCOM+13
        20 002546   002551 605000 20                 TPL     s:11949
        20 002547   000015 101003                    CMPX1   13,DU
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:107  
        20 002550   003127 601000 20                 TNZ     s:12037

      514    11946    3                    (ILL$$ -> ILL.ROP -> ETT.ID = %BASE AND
      515    11947    3                     NOT COMCOM.OB.COBOL_74 OR
      516    11948    3                     ILL$$ -> ILL.ROP -> ETT.ID = %TRIAD) THEN
      517    11949    3                  IF ILL$$ -> ILL.LOP -> ETT.LOP -> ST$1.DESCR =

  11949 20 002551   300001 475500                    LDP5    1,,PR3
        20 002552   400001 476500                    LDP6    1,,PR4
        20 002553   500001 236100                    LDQ     1,,PR5
        20 002554   600001 676100                    ERQ     1,,PR6
        20 002555   077777 376007                    ANQ     32767,DL
        20 002556   003127 601000 20                 TNZ     s:12037
        20 002557   500003 236100                    LDQ     3,,PR5
        20 002560   600003 676100                    ERQ     3,,PR6
        20 002561   000020 376003                    ANQ     16,DU
        20 002562   003127 601000 20                 TNZ     s:12037

      518    11950    3                      ILL$$ -> ILL.ROP -> ETT.LOP -> ST$1.DESCR AND
      519    11951    3                      ILL$$ -> ILL.LOP -> ETT.LOP -> VARIABLE.B.P =
      520    11952    3                      ILL$$ -> ILL.ROP -> ETT.LOP -> VARIABLE.B.P THEN
      521    11953                         /* Decimal, same type characters (ASCII/packed decimal), same
      522    11954                            sign type (leading/trailing), same scale factor and
      523    11955                            length: may be optimizable to alphanumeric move. */
      524    11956    3                    IF (MOD (ILL$$ -> ILL.LOP -> ETT.LOP -> VARIABLE.NDSC.N, 2) = 0

  11956 20 002563   500001 236100                    LDQ     1,,PR5
        20 002564   000077 376007                    ANQ     63,DL
        20 002565   000001 376007                    ANQ     1,DL
        20 002566   002601 601000 20                 TNZ     s:11956+14
        20 002567   600001 236100                    LDQ     1,,PR6
        20 002570   100000 316007                    CANQ    32768,DL
        20 002571   002601 601000 20                 TNZ     s:11956+14
        20 002572   500001 236100                    LDQ     1,,PR5
        20 002573   100000 316007                    CANQ    32768,DL
        20 002574   002601 601000 20                 TNZ     s:11956+14
        20 002575   040000 316007                    CANQ    16384,DL
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:108  
        20 002576   002606 601000 20                 TNZ     s:11970
        20 002577   000015 101003                    CMPX1   13,DU
        20 002600   002606 600000 20                 TZE     s:11970
        20 002601   500001 236100                    LDQ     1,,PR5
        20 002602   040000 316007                    CANQ    16384,DL
        20 002603   003127 601000 20                 TNZ     s:12037
        20 002604   000015 101003                    CMPX1   13,DU
        20 002605   003127 601000 20                 TNZ     s:12037

      525    11957    3                        AND NOT ILL$$ -> ILL.ROP -> ETT.LOP -> VARIABLE.ADSC.MBZ1
      526    11958    3                        AND NOT ILL$$ -> ILL.LOP -> ETT.LOP -> VARIABLE.ADSC.MBZ1
      527    11959                             /* Numeric descriptor, bit 20 must be off, meaning starting
      528    11960                                position is on a byte boundary, and length must be even */
      529    11961    3                        AND (ILL$$ -> ILL.LOP -> ETT.LOP -> VARIABLE.NDSC.TN = %NDSC4
      530    11962    3                             OR ILL$$ -> ILL.ROP -> ETT.ID = %TRIAD)
      531    11963    3                       OR (ILL$$ -> ILL.LOP -> ETT.LOP -> VARIABLE.NDSC.TN = %NDSC9
      532    11964    3                           AND ILL$$ -> ILL.ROP -> ETT.ID = %TRIAD)) THEN
      533    11965                             /* And operands are not USAGE DISPLAY
      534    11966                                or ROP is literal */
      535    11967    4                      DO;

      536    11968                             /* It is optimizable. Redefine both operands as
      537    11969                                alphanumeric and do alphanumeric move. */
      538    11970    4                        ILL$$ -> ILL.ID = %MVAN;

  11970 20 002606   000254 222003                    LDX2    172,DU
        20 002607   100000 742100                    STX2    0,,PR1

      539    11971    4                        CALL Z8AU$TYPE_DESCRIPTOR (ILL$$ -> ILL.LOP, TYPE_DESC);

  11971 20 002610   200027 631500                    EPPR1   TYPE_DESC,,AUTO
        20 002611   200053 451500                    STP1    MASK+3,,AUTO
        20 002612   200003 236100                    LDQ     ILL$$,,AUTO
        20 002613   000001 036003                    ADLQ    1,DU
        20 002614   200052 756100                    STQ     MASK+2,,AUTO
        20 002615   200052 630500                    EPPR0   MASK+2,,AUTO
        20 002616   000000 631400 21                 EPPR1   0
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:109  
        20 002617   000000 701000 xent               TSX1    Z8AU$TYPE_DESCRIPTOR
        20 002620   000000 011000                    NOP     0

      540    11972    4                        IF TYPE_DESC.DESC.NDSC.TN = %NDSC4

  11972 20 002621   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 002622   040000 316007                    CANQ    16384,DL
        20 002623   002631 600000 20                 TZE     s:11974

      541    11973    4                          THEN TYPE_DESC.DESC.ADSC.N = TYPE_DESC.DESC.NDSC.N / 2;

  11973 20 002624   200030 236100                    LDQ     TYPE_DESC+1,,AUTO
        20 002625   000077 376007                    ANQ     63,DL
        20 002626   000001 772000                    QRL     1
        20 002627   200030 752103                    STCQ    TYPE_DESC+1,'03'O,AUTO
        20 002630   002633 710000 20                 TRA     s:11975

      542    11974    4                          ELSE TYPE_DESC.DESC.ADSC.N = TYPE_DESC.DESC.NDSC.N;

  11974 20 002631   000077 376007                    ANQ     63,DL
        20 002632   200030 752103                    STCQ    TYPE_DESC+1,'03'O,AUTO

      543    11975    4                        TYPE_DESC.DESC.ADSC.TA = %ADSC9;

  11975 20 002633   000015 236000 21                 LDQ     13
        20 002634   200030 356100                    ANSQ    TYPE_DESC+1,,AUTO

      544    11976    4                        TYPE_DESC.DESC.ADSC.MBZ2 = FALSE;

  11976 20 002635   000016 236000 21                 LDQ     14
        20 002636   200030 356100                    ANSQ    TYPE_DESC+1,,AUTO

      545    11977                             /* Set character type to ASCII and if packed decimal
      546    11978                                then divide the number of packed digits by two. */
      547    11979    4                        CALL Z8AF$FORME (%DNA, ILL$$ -> ILL.LOP, TYPE_DESC.DESC, ILL$$
             11979                                 -> ILL.LOP);

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:110  
  11979 20 002637   200003 236100                    LDQ     ILL$$,,AUTO
        20 002640   000001 036003                    ADLQ    1,DU
        20 002641   200055 756100                    STQ     MASK+5,,AUTO
        20 002642   200030 630500                    EPPR0   TYPE_DESC+1,,AUTO
        20 002643   200054 450500                    STP0    MASK+4,,AUTO
        20 002644   000014 235000 21                 LDA     12
        20 002645   200052 757100                    STAQ    MASK+2,,AUTO
        20 002646   200052 630500                    EPPR0   MASK+2,,AUTO
        20 002647   000010 631400 21                 EPPR1   8
        20 002650   000000 701000 xent               TSX1    Z8AF$FORME
        20 002651   000000 011000                    NOP     0

      548    11980    4                        TYPE_DESC.DESC.ADSC.CN = ILL$$ -> ILL.ROP -> ETT.LOP ->
             11980                                 VARIABLE.ADSC.CN;

  11980 20 002652   200003 470500                    LDP0    ILL$$,,AUTO
        20 002653   000002 471500                    LDP1    2,,PR0
        20 002654   100001 473500                    LDP3    1,,PR1
        20 002655   300001 236100                    LDQ     1,,PR3
        20 002656   200030 676100                    ERQ     TYPE_DESC+1,,AUTO
        20 002657   600000 376007                    ANQ     -65536,DL
        20 002660   200030 656100                    ERSQ    TYPE_DESC+1,,AUTO

      549    11981    4                       TYPE_DESC.DESC.SA = ILL$$ -> ILL.ROP -> ETT.LOP -> VARIABLE.SA;

  11981 20 002661   000002 471500                    LDP1    2,,PR0
        20 002662   100001 473500                    LDP3    1,,PR1
        20 002663   300001 220100                    LDX0    1,,PR3
        20 002664   200030 740100                    STX0    TYPE_DESC+1,,AUTO

      550    11982    4                        CALL Z8AF$FORME (%DNA, ILL$$ -> ILL.ROP, TYPE_DESC.DESC, ILL$$
             11982                                 -> ILL.ROP);

  11982 20 002665   200003 236100                    LDQ     ILL$$,,AUTO
        20 002666   000002 036003                    ADLQ    2,DU
        20 002667   200055 756100                    STQ     MASK+5,,AUTO
        20 002670   200030 631500                    EPPR1   TYPE_DESC+1,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:111  
        20 002671   200054 451500                    STP1    MASK+4,,AUTO
        20 002672   000014 235000 21                 LDA     12
        20 002673   200052 757100                    STAQ    MASK+2,,AUTO
        20 002674   200052 630500                    EPPR0   MASK+2,,AUTO
        20 002675   000010 631400 21                 EPPR1   8
        20 002676   000000 701000 xent               TSX1    Z8AF$FORME
        20 002677   000000 011000                    NOP     0

      551    11983    4                        CALL OPTIMIZE_MOVES (ILL$$);

  11983 20 002700   200003 630500                    EPPR0   ILL$$,,AUTO
        20 002701   200035 450500                    STP0    TYPE_DESC+6,,AUTO
        20 002702   003236 701000 20                 TSX1    OPTIMIZE_MOVES
        20 002703   000000 011000                    NOP     0

      552    11984    4                      END;

  11984 20 002704   003127 710000 20                 TRA     s:12037

      553    11985    3              CASE(%MVDO, %MVDOR); /* Decimal to overpunched */

      554    11986    4                IF ILL$$ -> ILL.ROP -> ETT.ID = %CVOD4 THEN DO;

  11986 20 002705   100002 473500                    LDP3    2,,PR1
        20 002706   300000 220100                    LDX0    0,,PR3
        20 002707   000127 100003                    CMPX0   87,DU
        20 002710   003127 601000 20                 TNZ     s:12037

      555    11987    4                  LOP$ = ILL$$ -> ILL.LOP;

  11987 20 002711   100001 236100                    LDQ     1,,PR1
        20 002712   200011 756100                    STQ     LOP$,,AUTO

      556    11988    4                  ROP$ = ILL$$ -> ILL.ROP -> ETT.LOP;

  11988 20 002713   100002 473500                    LDP3    2,,PR1
        20 002714   300001 236100                    LDQ     1,,PR3
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:112  
        20 002715   200012 756100                    STQ     ROP$,,AUTO

      557    11989    4                  IF LOP$ -> ETT.ID = %BASE AND ROP$ -> ETT.ID = %BASE THEN

  11989 20 002716   200011 473500                    LDP3    LOP$,,AUTO
        20 002717   300000 220100                    LDX0    0,,PR3
        20 002720   000001 100003                    CMPX0   1,DU
        20 002721   003127 601000 20                 TNZ     s:12037
        20 002722   200012 474500                    LDP4    ROP$,,AUTO
        20 002723   400000 221100                    LDX1    0,,PR4
        20 002724   000001 101003                    CMPX1   1,DU
        20 002725   003127 601000 20                 TNZ     s:12037

      558    11990    5   OPTIMIZE_MVDO:     DO;

  11990 20 002726                       OPTIMIZE_MV* null
      559    11991    5                    LOP$ = LOP$ -> ETT.LOP;

  11991 20 002726   300001 236100                    LDQ     1,,PR3
        20 002727   200011 756100                    STQ     LOP$,,AUTO

      560    11992    5                    ROP$ = ROP$ -> ETT.LOP;

  11992 20 002730   400001 236100                    LDQ     1,,PR4
        20 002731   200012 756100                    STQ     ROP$,,AUTO

      561    11993    5                    IF LOP$ -> VARIABLE.TYPE ~= ROP$ -> VARIABLE.TYPE THEN

  11993 20 002732   200011 473500                    LDP3    LOP$,,AUTO
        20 002733   300002 220100                    LDX0    2,,PR3
        20 002734   200012 474500                    LDP4    ROP$,,AUTO
        20 002735   400002 100100                    CMPX0   2,,PR4
        20 002736   003127 601000 20                 TNZ     s:12037

      562    11994    5                      EXIT OPTIMIZE_MVDO;
      563    11995    5                    OPTIMIZE_IT = '0'B ;

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:113  
  11995 20 002737   200025 450100                    STZ     OPTIMIZE_IT,,AUTO

      564    11996    6                    IF LOP$ -> ST$1.DESCR = ROP$ -> ST$1.DESCR THEN DO; /*#31555*/

  11996 20 002740   300001 236100                    LDQ     1,,PR3
        20 002741   400001 676100                    ERQ     1,,PR4
        20 002742   077777 376007                    ANQ     32767,DL
        20 002743   002751 601000 20                 TNZ     s:12000

      565    11997    6                      ILL$$ -> ILL.ID = %MVAN;

  11997 20 002744   000254 221003                    LDX1    172,DU
        20 002745   100000 741100                    STX1    0,,PR1

      566    11998    6                      OPTIMIZE_IT = '1'B;

  11998 20 002746   400000 236003                    LDQ     -131072,DU
        20 002747   200025 756100                    STQ     OPTIMIZE_IT,,AUTO

      567    11999    6                    END;

  11999 20 002750   003063 710000 20                 TRA     s:12024

      568    12000    5                    ELSE IF LOP$ -> VARIABLE.NDSC.S = %TRAILING_SIGN AND

  12000 20 002751   300001 236100                    LDQ     1,,PR3
        20 002752   030000 376007                    ANQ     12288,DL
        20 002753   020000 116007                    CMPQ    8192,DL
        20 002754   003010 601000 20                 TNZ     s:12012
        20 002755   400001 236100                    LDQ     1,,PR4
        20 002756   030000 376007                    ANQ     12288,DL
        20 002757   020000 116007                    CMPQ    8192,DL
        20 002760   003010 601000 20                 TNZ     s:12012

      569    12001    6                        ROP$ -> VARIABLE.NDSC.S = %TRAILING_SIGN THEN DO ;
             12001                                 /* Trailing sign */

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:114  
      570    12002    6                      IF LOP$ -> VARIABLE.NDSC.SF = ROP$ -> VARIABLE.NDSC.SF THEN

  12002 20 002761   300001 236100                    LDQ     1,,PR3
        20 002762   400001 676100                    ERQ     1,,PR4
        20 002763   007700 376007                    ANQ     4032,DL
        20 002764   003063 601000 20                 TNZ     s:12024

      571    12003    7                          DO ; /* Optimizable */

      572    12004    7                        ILL$$ -> ILL.ID = %MVFIL ;

  12004 20 002765   000402 221003                    LDX1    258,DU
        20 002766   100000 741100                    STX1    0,,PR1

      573    12005    7                        IF LOP$ -> VARIABLE.TYPE = %TYF /* EBCDIC numeric */

  12005 20 002767   200011 471500                    LDP1    LOP$,,AUTO
        20 002770   100002 220100                    LDX0    2,,PR1
        20 002771   000013 100003                    CMPX0   11,DU
        20 002772   002777 601000 20                 TNZ     s:12007

      574    12006    7                          THEN ILL$$ -> MVFIL.FILL = %BITASC ('360'O) ;

  12006 20 002773   200003 473500                    LDP3    ILL$$,,AUTO
        20 002774   360000 236007                    LDQ     122880,DL
        20 002775   300000 552110                    STBQ    0,'10'O,PR3
        20 002776   003002 710000 20                 TRA     s:12008

      575    12007    7                          ELSE ILL$$ -> MVFIL.FILL = '0' ;

  12007 20 002777   200003 473500                    LDP3    ILL$$,,AUTO
        20 003000   060000 236007                    LDQ     24576,DL
        20 003001   300000 552110                    STBQ    0,'10'O,PR3

      576    12008    7                        ILL$$ -> MVFIL.CODE = %MRLFIL ;

  12008 20 003002   200003 471500                    LDP1    ILL$$,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:115  
        20 003003   000001 236007                    LDQ     1,DL
        20 003004   100000 552104                    STBQ    0,'04'O,PR1

      577    12009    7                        OPTIMIZE_IT = '1'B ;

  12009 20 003005   400000 236003                    LDQ     -131072,DU
        20 003006   200025 756100                    STQ     OPTIMIZE_IT,,AUTO

      578    12010    7                      END ;

      579    12011    6                    END ;

  12011 20 003007   003063 710000 20                 TRA     s:12024

      580    12012    5                    ELSE IF LOP$ -> VARIABLE.NDSC.S = %LEADING_SIGN AND

  12012 20 003010   300001 236100                    LDQ     1,,PR3
        20 003011   030000 376007                    ANQ     12288,DL
        20 003012   010000 116007                    CMPQ    4096,DL
        20 003013   003063 601000 20                 TNZ     s:12024
        20 003014   400001 236100                    LDQ     1,,PR4
        20 003015   030000 376007                    ANQ     12288,DL
        20 003016   010000 116007                    CMPQ    4096,DL
        20 003017   003063 601000 20                 TNZ     s:12024

      581    12013    6                        ROP$ -> VARIABLE.NDSC.S = %LEADING_SIGN THEN DO ;
             12013                                 /* Leading sign */

      582    12014    6                      IF LOP$ -> VARIABLE.NDSC.N + LOP$ -> VARIABLE.NDSC.SF = ROP$

  12014 20 003020   300001 236100                    LDQ     1,,PR3
        20 003021   000030 736000                    QLS     24
        20 003022   000036 732000                    QRS     30
        20 003023   200052 756100                    STQ     MASK+2,,AUTO
        20 003024   300001 236100                    LDQ     1,,PR3
        20 003025   000077 376007                    ANQ     63,DL
        20 003026   200052 036100                    ADLQ    MASK+2,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:116  
        20 003027   200053 756100                    STQ     MASK+3,,AUTO
        20 003030   400001 236100                    LDQ     1,,PR4
        20 003031   000030 736000                    QLS     24
        20 003032   000036 732000                    QRS     30
        20 003033   200054 756100                    STQ     MASK+4,,AUTO
        20 003034   400001 236100                    LDQ     1,,PR4
        20 003035   000077 376007                    ANQ     63,DL
        20 003036   200054 036100                    ADLQ    MASK+4,,AUTO
        20 003037   200053 116100                    CMPQ    MASK+3,,AUTO
        20 003040   003063 601000 20                 TNZ     s:12024

      583    12015    7                          -> VARIABLE.NDSC.N + ROP$ -> VARIABLE.NDSC.SF THEN DO ;

      584    12016    7                        ILL$$ -> ILL.ID = %MVFIL ;

  12016 20 003041   000402 220003                    LDX0    258,DU
        20 003042   100000 740100                    STX0    0,,PR1

      585    12017    7                        IF LOP$ -> VARIABLE.TYPE = %TYF /* EBCDIC numeric */

  12017 20 003043   200011 471500                    LDP1    LOP$,,AUTO
        20 003044   100002 221100                    LDX1    2,,PR1
        20 003045   000013 101003                    CMPX1   11,DU
        20 003046   003053 601000 20                 TNZ     s:12019

      586    12018    7                          THEN ILL$$ -> MVFIL.FILL = %BITASC ('360'O) ;

  12018 20 003047   200003 473500                    LDP3    ILL$$,,AUTO
        20 003050   360000 236007                    LDQ     122880,DL
        20 003051   300000 552110                    STBQ    0,'10'O,PR3
        20 003052   003056 710000 20                 TRA     s:12020

      587    12019    7                          ELSE ILL$$ -> MVFIL.FILL = '0' ;

  12019 20 003053   200003 473500                    LDP3    ILL$$,,AUTO
        20 003054   060000 236007                    LDQ     24576,DL
        20 003055   300000 552110                    STBQ    0,'10'O,PR3
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:117  

      588    12020    7                        ILL$$ -> MVFIL.CODE = %MLRFIL ;

  12020 20 003056   200003 471500                    LDP1    ILL$$,,AUTO
        20 003057   000000 236003                    LDQ     0,DU
        20 003060   100000 552104                    STBQ    0,'04'O,PR1

      589    12021    7                        OPTIMIZE_IT = '1'B ;

  12021 20 003061   400000 236003                    LDQ     -131072,DU
        20 003062   200025 756100                    STQ     OPTIMIZE_IT,,AUTO

      590    12022    7                      END ;

      591    12023    6                    END ;

      592    12024    6                    IF OPTIMIZE_IT THEN DO;

  12024 20 003063   200025 234100                    SZN     OPTIMIZE_IT,,AUTO
        20 003064   003127 605000 20                 TPL     s:12037

      593    12025    6                      CALL Z8AF$FORME (%DNA, ILL$$->ILL.LOP, 0, ILL$$->ILL.LOP);

  12025 20 003065   200003 236100                    LDQ     ILL$$,,AUTO
        20 003066   000001 036003                    ADLQ    1,DU
        20 003067   000013 235000 21                 LDA     11
        20 003070   200054 757100                    STAQ    MASK+4,,AUTO
        20 003071   200003 236100                    LDQ     ILL$$,,AUTO
        20 003072   000001 036003                    ADLQ    1,DU
        20 003073   000014 235000 21                 LDA     12
        20 003074   200052 757100                    STAQ    MASK+2,,AUTO
        20 003075   200052 630500                    EPPR0   MASK+2,,AUTO
        20 003076   000010 631400 21                 EPPR1   8
        20 003077   000000 701000 xent               TSX1    Z8AF$FORME
        20 003100   000000 011000                    NOP     0

      594    12026    6                     CALL Z8AF$FORME (%DNA, ILL$$->ILL.ROP->ETT.LOP, 0, ILL$$->ILL.ROP
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:118  
             12026                               );

  12026 20 003101   200003 470500                    LDP0    ILL$$,,AUTO
        20 003102   000002 471500                    LDP1    2,,PR0
        20 003103   200003 236100                    LDQ     ILL$$,,AUTO
        20 003104   000002 036003                    ADLQ    2,DU
        20 003105   000013 235000 21                 LDA     11
        20 003106   200054 757100                    STAQ    MASK+4,,AUTO
        20 003107   100001 633500                    EPPR3   1,,PR1
        20 003110   200053 453500                    STP3    MASK+3,,AUTO
        20 003111   000014 236000 21                 LDQ     12
        20 003112   200052 756100                    STQ     MASK+2,,AUTO
        20 003113   200052 630500                    EPPR0   MASK+2,,AUTO
        20 003114   000010 631400 21                 EPPR1   8
        20 003115   000000 701000 xent               TSX1    Z8AF$FORME
        20 003116   000000 011000                    NOP     0

      595    12027    6                      IF ILL$$ -> ILL.ID = %MVAN THEN

  12027 20 003117   200003 470500                    LDP0    ILL$$,,AUTO
        20 003120   000000 220100                    LDX0    0,,PR0
        20 003121   000254 100003                    CMPX0   172,DU
        20 003122   003127 601000 20                 TNZ     s:12037

      596    12028    6                        CALL OPTIMIZE_MOVES (ILL$$);

  12028 20 003123   200003 631500                    EPPR1   ILL$$,,AUTO
        20 003124   200035 451500                    STP1    TYPE_DESC+6,,AUTO
        20 003125   003236 701000 20                 TSX1    OPTIMIZE_MOVES
        20 003126   000000 011000                    NOP     0

      597    12029    6                    END;

      598    12030    5                  END; /* OPTIMIZE_MVDO */

      599    12031    4                END;

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:119  
      600    12032
      601    12033    3            END /* Case */;

      602    12034
      603    12035               %NEXT_ILS (POINTER=ILS$$) ;

  12037 20 003127   200004 470500                    LDP0    ILS$$,,AUTO
        20 003130   000002 236100                    LDQ     2,,PR0
        20 003131   200004 756100                    STQ     ILS$$,,AUTO

      604    12040    2        END /* While */;

  12040 20 003132   000002 116000 21                 CMPQ    2
        20 003133   000721 601000 20                 TNZ     s:11573

      605    12041
      606    12042    1        ILS$$ = COMCOM.H_DO;

  12042 20 003134   000332 236000 xsym               LDQ     COMCOM+218
        20 003135   200004 756100                    STQ     ILS$$,,AUTO

      607    12043
      608    12044    2        DO WHILE ILS$$ ~= ADDR(NIL);

  12044 20 003136   003233 710000 20                 TRA     s:12076

      609    12045    2          IF ILS$$ -> ILS.ILL$ -> ILL.ID = %DO3

  12045 20 003137   200004 470500                    LDP0    ILS$$,,AUTO
        20 003140   000003 471500                    LDP1    3,,PR0
        20 003141   100000 220100                    LDX0    0,,PR1
        20 003142   000377 100003                    CMPX0   255,DU
        20 003143   003230 601000 20                 TNZ     s:12075
        20 003144   100002 236100                    LDQ     2,,PR1
        20 003145   000000 116000 18                 CMPQ    ZERO_WORD
        20 003146   003230 600000 20                 TZE     s:12075
        20 003147   000002 116000 21                 CMPQ    2
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:120  
        20 003150   003230 600000 20                 TZE     s:12075

      610    12046    2              AND ILS$$ -> ILS.ILL$ -> DO_N.GLIST ~= ZERO_PTR$
      611    12047    3              AND ILS$$ -> ILS.ILL$ -> DO_N.GLIST ~= ADDR(NIL) THEN DO;

      612    12048    3            TEMP$ = ILS$$ -> ILS.ILL$ -> DO_N.GLIST;

  12048 20 003151   200013 756100                    STQ     TEMP$,,AUTO

      613    12049    3            TEMP$ -> LTS_PTR_ARRAY.P$ (0) = TEMP$ -> LTS_PTR_ARRAY.P$ (0) -> ETT.ROP;

  12049 20 003152   200013 473500                    LDP3    TEMP$,,AUTO
        20 003153   300002 474500                    LDP4    2,,PR3
        20 003154   400002 236100                    LDQ     2,,PR4
        20 003155   300002 756100                    STQ     2,,PR3

      614    12050    3            TEMP$ -> LTS_PTR_ARRAY.P$ (1) = TEMP$ -> LTS_PTR_ARRAY.P$ (1) -> ETT.ROP;

  12050 20 003156   300003 471500                    LDP1    3,,PR3
        20 003157   100002 236100                    LDQ     2,,PR1
        20 003160   300003 756100                    STQ     3,,PR3

      615    12051    3            IF TEMP$ -> LTS_PTR_ARRAY.P$ (1) = TEMP$ -> LTS_PTR_ARRAY.P$ (0)

  12051 20 003161   300002 116100                    CMPQ    2,,PR3
        20 003162   003165 601000 20                 TNZ     s:12053

      616    12052    3              THEN TEMP$ -> LTS_PTR_ARRAY.P$ (1) = ADDR(NIL);

  12052 20 003163   000002 236000 21                 LDQ     2
        20 003164   300003 756100                    STQ     3,,PR3

      617    12053    3            IF TEMP$ -> LTS_PTR_ARRAY.N > 4 THEN

  12053 20 003165   300000 720100                    LXL0    0,,PR3
        20 003166   000005 100003                    CMPX0   5,DU
        20 003167   003230 602000 20                 TNC     s:12075
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:121  

      618    12054    4              DO;

      619    12055    4                TEMP$ -> LTS_PTR_ARRAY.P$ (2) = TEMP$ -> LTS_PTR_ARRAY.P$ (2) -> ETT.
             12055                         ROP;

  12055 20 003170   300004 471500                    LDP1    4,,PR3
        20 003171   100002 236100                    LDQ     2,,PR1
        20 003172   300004 756100                    STQ     4,,PR3

      620    12056    4                IF TEMP$ -> LTS_PTR_ARRAY.P$ (2) = TEMP$ -> LTS_PTR_ARRAY.P$ (0)

  12056 20 003173   300002 116100                    CMPQ    2,,PR3
        20 003174   003177 600000 20                 TZE     s:12058
        20 003175   300003 116100                    CMPQ    3,,PR3
        20 003176   003201 601000 20                 TNZ     s:12059

      621    12057    4                    OR TEMP$ -> LTS_PTR_ARRAY.P$ (2) = TEMP$ -> LTS_PTR_ARRAY.P$ (1)
      622    12058    4                  THEN TEMP$ -> LTS_PTR_ARRAY.P$ (2) = ADDR(NIL);

  12058 20 003177   000002 236000 21                 LDQ     2
        20 003200   300004 756100                    STQ     4,,PR3

      623    12059    4                IF TEMP$ -> LTS_PTR_ARRAY.N > 5 THEN

  12059 20 003201   000006 100003                    CMPX0   6,DU
        20 003202   003230 602000 20                 TNC     s:12075

      624    12060    5                  DO;

      625    12061    5                    TEMP$ -> LTS_PTR_ARRAY.P$ (3) = TEMP$ -> LTS_PTR_ARRAY.P$ (3) ->
             12061                             ETT.ROP;

  12061 20 003203   300005 471500                    LDP1    5,,PR3
        20 003204   100002 236100                    LDQ     2,,PR1
        20 003205   300005 756100                    STQ     5,,PR3

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:122  
      626    12062    5                    IF TEMP$ -> LTS_PTR_ARRAY.P$ (3) = TEMP$ -> LTS_PTR_ARRAY.P$ (0)

  12062 20 003206   300002 116100                    CMPQ    2,,PR3
        20 003207   003214 600000 20                 TZE     s:12065
        20 003210   300003 116100                    CMPQ    3,,PR3
        20 003211   003214 600000 20                 TZE     s:12065
        20 003212   300004 116100                    CMPQ    4,,PR3
        20 003213   003217 601000 20                 TNZ     s:12066

      627    12063    5                       OR TEMP$ -> LTS_PTR_ARRAY.P$ (3) = TEMP$ -> LTS_PTR_ARRAY.P$ (1
             12063                                 )
      628    12064    5                       OR TEMP$ -> LTS_PTR_ARRAY.P$ (3) = TEMP$ -> LTS_PTR_ARRAY.P$ (2
             12064                                 )
      629    12065    5                      THEN TEMP$ -> LTS_PTR_ARRAY.P$ (3) = ADDR(NIL);

  12065 20 003214   000002 236000 21                 LDQ     2
        20 003215   300005 756100                    STQ     5,,PR3
        20 003216   003230 710000 20                 TRA     s:12075

      630    12066    5                    ELSE IF TEMP$ -> LTS_PTR_ARRAY.P$ (1) ~= ADDR(NIL)

  12066 20 003217   300003 236100                    LDQ     3,,PR3
        20 003220   000002 116000 21                 CMPQ    2
        20 003221   003230 600000 20                 TZE     s:12075
        20 003222   300004 236100                    LDQ     4,,PR3
        20 003223   000002 116000 21                 CMPQ    2
        20 003224   003230 600000 20                 TZE     s:12075

      631    12067    5                        AND TEMP$ -> LTS_PTR_ARRAY.P$ (2) ~= ADDR(NIL) THEN
      632    12068    6                      DO;

      633    12069    6                        TEMP$ -> LTS_PTR_ARRAY.P$ (2) = ADDR(NIL);

  12069 20 003225   000002 236000 21                 LDQ     2
        20 003226   300004 756100                    STQ     4,,PR3

      634    12070    6                        TEMP$ -> LTS_PTR_ARRAY.P$ (3) = ADDR(NIL);
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:123  

  12070 20 003227   300005 756100                    STQ     5,,PR3

      635    12071    6                      END;

      636    12072    5                  END;

      637    12073    4              END; /* N > 4 */

      638    12074    3          END; /* DO3 etc */

      639    12075    2          ILS$$ = ILS$$ -> ILS.ILL$ -> DO_N.ITP;

  12075 20 003230   000003 471500                    LDP1    3,,PR0
        20 003231   100003 236100                    LDQ     3,,PR1
        20 003232   200004 756100                    STQ     ILS$$,,AUTO

      640    12076    2        END; /* While */

  12076 20 003233   000002 116000 21                 CMPQ    2
        20 003234   003137 601000 20                 TNZ     s:12045
        20 003235   007052 710000 20                 TRA     s:14178

      641    12077        %EJECT;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:124  
      642    12078    1   OPTIMIZE_MOVES:PROC(ILL$);

  12078 20 003236   200034 741300       OPTIMIZE_MO* STX1  ! TYPE_DESC+5,,AUTO

      643    12079        /*I*
      644    12080               NAME:  OPTIMIZE_MOVES
      645    12081        DESCRIPTION:  Analyze alphanumeric moves (and those treated as alphanumeric).
      646    12082                      If possible (1-4 bytes or 8 bytes), supply alignment info and
      647    12083                      convert to an optimized MOVE (%MVANO). If, because of
      648    12084                      alignment problems (e.g., move byte 3 of one word and byte 0 of
      649    12085                      next word to somewhere), this cannot be done, still set ILL.CODE
      650    12086                      to %MVAN. For %MVANO, if necessary, create a constant with the
      651    12087                      desired alignment (as in MOVE "AB" TO X where X begins in byte
      652    12088                      1 of a word). Or if the sending operand is not a constant and is
      653    12089                      not aligned as desired (beginning on a different byte from that
      654    12090                      on which the receiving operand starts) then supply one ETT item
      655    12091                      to do the needed shift.
      656    12092        */
      657    12093
      658    12094    2        DCL ILL$ PTR;
      659    12095
      660    12096    2        DCL 1 LOPS    ALIGNED,
      661    12097                  %ALIGNMENT_LENGTH;
      662    12101
      663    12102    2        DCL 1 ROPS    ALIGNED,
      664    12103                  %ALIGNMENT_LENGTH;
      665    12107
      666    12108    2        DCL 1 OFF_ROPCON STATIC,
      667    12109    2          2 VALUE SBIN HALF HALIGNED,
      668    12110    2          2 TYPE UBIN HALF HALIGNED INIT (%WORD_);
      669    12111    2        DCL OFF_ROPCON1 REDEF OFF_ROPCON SBIN;
      670    12112    2        DCL FIRST_BYTE CHAR(1);
      671    12113    2        DCL CHARACTER# SBIN;
      672    12114    2        DCL ETT$      PTR;
      673    12115    2        DCL LOP_ST$   PTR;
      674    12116    2        DCL ROP_ST$   PTR;
      675    12117    2        DCL STRING$   PTR;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:125  
      676    12118    2        DCL CHAR$ARRAY (0:0) CHAR(1) BASED (STRING$);
      677    12119    2        DCL MASK      BIT (36);
      678    12120
      679    12121    2        CALL Z8FO$ALIGN_LENGTH(ILL$ -> ILL.LOP, LOPS) ALTRET(CANT_OPTIMIZE);

  12121 20 003237   200035 470500                    LDP0    @ILL$,,AUTO
        20 003240   000000 471500                    LDP1    0,,PR0
        20 003241   200036 633500                    EPPR3   LOPS,,AUTO
        20 003242   200053 453500                    STP3    MASK+3,,AUTO
        20 003243   100001 634500                    EPPR4   1,,PR1
        20 003244   200052 454500                    STP4    MASK+2,,AUTO
        20 003245   200052 630500                    EPPR0   MASK+2,,AUTO
        20 003246   000000 631400 21                 EPPR1   0
        20 003247   000000 701000 xent               TSX1    Z8FO$ALIGN_LENGTH
        20 003250   007050 702000 20                 TSX2    CANT_OPTIMIZE

      680    12122    2        CALL Z8FO$ALIGN_LENGTH(ILL$ -> ILL.ROP, ROPS) ALTRET(CANT_OPTIMIZE);

  12122 20 003251   200035 470500                    LDP0    @ILL$,,AUTO
        20 003252   000000 471500                    LDP1    0,,PR0
        20 003253   200040 633500                    EPPR3   ROPS,,AUTO
        20 003254   200053 453500                    STP3    MASK+3,,AUTO
        20 003255   100002 634500                    EPPR4   2,,PR1
        20 003256   200052 454500                    STP4    MASK+2,,AUTO
        20 003257   200052 630500                    EPPR0   MASK+2,,AUTO
        20 003260   000000 631400 21                 EPPR1   0
        20 003261   000000 701000 xent               TSX1    Z8FO$ALIGN_LENGTH
        20 003262   007050 702000 20                 TSX2    CANT_OPTIMIZE

      681    12123
      682    12124    2        MASK = '0'B;

  12124 20 003263   200050 450100                    STZ     MASK,,AUTO

      683    12125             %FISH (TRIAD = ILL$ -> ILL.LOP, RTN = LOP_ST$);

  12127 20 003264   200035 470500                    LDP0    @ILL$,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:126  
        20 003265   000000 471500                    LDP1    0,,PR0
        20 003266   100001 236100                    LDQ     1,,PR1
        20 003267   200045 756100                    STQ     LOP_ST$,,AUTO

  12128 20 003270   200045 473500                    LDP3    LOP_ST$,,AUTO
        20 003271   300000 220100                    LDX0    0,,PR3
        20 003272   000751 100003                    CMPX0   489,DU
        20 003273   003303 603000 20                 TRC     s:12135

  12129 20 003274   200045 470500                    LDP0    LOP_ST$,,AUTO
        20 003275   000001 236100                    LDQ     1,,PR0
        20 003276   200045 756100                    STQ     LOP_ST$,,AUTO

  12130 20 003277   200045 470500                    LDP0    LOP_ST$,,AUTO
        20 003300   000000 220100                    LDX0    0,,PR0
        20 003301   000751 100003                    CMPX0   489,DU
        20 003302   003274 602000 20                 TNC     s:12129

      684    12133             %FISH (TRIAD = ILL$ -> ILL.ROP, RTN = ROP_ST$);

  12135 20 003303   200035 470500                    LDP0    @ILL$,,AUTO
        20 003304   000000 471500                    LDP1    0,,PR0
        20 003305   100002 236100                    LDQ     2,,PR1
        20 003306   200046 756100                    STQ     ROP_ST$,,AUTO

  12136 20 003307   200046 473500                    LDP3    ROP_ST$,,AUTO
        20 003310   300000 220100                    LDX0    0,,PR3
        20 003311   000751 100003                    CMPX0   489,DU
        20 003312   003322 603000 20                 TRC     s:12142

  12137 20 003313   200046 470500                    LDP0    ROP_ST$,,AUTO
        20 003314   000001 236100                    LDQ     1,,PR0
        20 003315   200046 756100                    STQ     ROP_ST$,,AUTO

  12138 20 003316   200046 470500                    LDP0    ROP_ST$,,AUTO
        20 003317   000000 220100                    LDX0    0,,PR0
        20 003320   000751 100003                    CMPX0   489,DU
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:127  
        20 003321   003313 602000 20                 TNC     s:12137

      685    12141
      686    12142    3        IF LOPS.LENGTH = ROPS.LENGTH AND LOPS.LENGTH < 9 THEN DO;

  12142 20 003322   200037 236100                    LDQ     LOPS+1,,AUTO
        20 003323   200041 116100                    CMPQ    ROPS+1,,AUTO
        20 003324   006631 601000 20                 TNZ     CANT_MAKE_MVANO
        20 003325   000011 116007                    CMPQ    9,DL
        20 003326   006631 605000 20                 TPL     CANT_MAKE_MVANO

      687    12143    4          DO CASE(LOPS.LENGTH);

  12143 20 003327   000011 116007                    CMPQ    9,DL
        20 003330   003332 602006 20                 TNC     s:12143+3,QL
        20 003331   006205 710000 20                 TRA     s:13811
        20 003332   006205 710000 20                 TRA     s:13811
        20 003333   003343 710000 20                 TRA     s:12145
        20 003334   005013 710000 20                 TRA     s:13126
        20 003335   005511 710000 20                 TRA     s:13486
        20 003336   006072 710000 20                 TRA     s:13759
        20 003337   006205 710000 20                 TRA     s:13811
        20 003340   006205 710000 20                 TRA     s:13811
        20 003341   006205 710000 20                 TRA     s:13811
        20 003342   006120 710000 20                 TRA     s:13775

      688    12144    4            CASE(%LENGTH_1_BYTE);

      689    12145    5              DO CASE(ROPS.ALIGNMENT);

  12145 20 003343   200040 235100                    LDA     ROPS,,AUTO
        20 003344   000005 115007                    CMPA    5,DL
        20 003345   003347 602005 20                 TNC     s:12145+4,AL
        20 003346   006205 710000 20                 TRA     s:13811
        20 003347   003354 710000 20                 TRA     s:12147
        20 003350   003354 710000 20                 TRA     s:12147
        20 003351   004213 710000 20                 TRA     s:12643
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:128  
        20 003352   003713 710000 20                 TRA     s:12402
        20 003353   004513 710000 20                 TRA     s:12884

      690    12146    5                CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);

      691    12147    6                  DO CASE(LOPS.ALIGNMENT);

  12147 20 003354   200036 235100                    LDA     LOPS,,AUTO
        20 003355   000005 115007                    CMPA    5,DL
        20 003356   003360 602005 20                 TNC     s:12147+4,AL
        20 003357   006205 710000 20                 TRA     s:13811
        20 003360   003365 710000 20                 TRA     s:12149
        20 003361   003365 710000 20                 TRA     s:12149
        20 003362   003505 710000 20                 TRA     s:12237
        20 003363   003402 710000 20                 TRA     s:12155
        20 003364   003610 710000 20                 TRA     s:12319

      692    12148    6                    CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);

      693    12149    6                      IF ILL$ -> ETT.ID = %CMPA THEN

  12149 20 003365   200035 470500                    LDP0    @ILL$,,AUTO
        20 003366   000000 471500                    LDP1    0,,PR0
        20 003367   100000 220100                    LDX0    0,,PR1
        20 003370   000111 100003                    CMPX0   73,DU
        20 003371   003374 601000 20                 TNZ     s:12151

      694    12150    6                        MASK = '777000000000'O;

  12150 20 003372   000001 236000 18                 LDQ     ZERO_WORD+1
        20 003373   200050 756100                    STQ     MASK,,AUTO

      695    12151    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_0;

  12151 20 003374   000011 221003                    LDX1    9,DU
        20 003375   100000 441100                    SXL1    0,,PR1

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:129  
      696    12152    6                      ILL$ -> ILL.ID = %MVANO;

  12152 20 003376   000000 471500                    LDP1    0,,PR0
        20 003377   000255 220003                    LDX0    173,DU
        20 003400   100000 740100                    STX0    0,,PR1
        20 003401   006205 710000 20                 TRA     s:13811

      697    12153
      698    12154    6                    CASE(%ALIGNMENT_BYTE1);

      699    12155    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_1;

  12155 20 003402   200035 470500                    LDP0    @ILL$,,AUTO
        20 003403   000000 471500                    LDP1    0,,PR0
        20 003404   000012 220003                    LDX0    10,DU
        20 003405   100000 440100                    SXL0    0,,PR1

      700    12156    6                      ILL$ -> ILL.ID = %MVANO;

  12156 20 003406   000000 471500                    LDP1    0,,PR0
        20 003407   000255 221003                    LDX1    173,DU
        20 003410   100000 741100                    STX1    0,,PR1

      701    12157    6                      IF ROP_ST$ -> ST.ID = %CONST THEN

  12157 20 003411   200046 471500                    LDP1    ROP_ST$,,AUTO
        20 003412   100000 222100                    LDX2    0,,PR1
        20 003413   000767 102003                    CMPX2   503,DU
        20 003414   003430 601000 20                 TNZ     s:12168

      702    12158    7                        DO;

      703    12159    7                          MKCN.CON = BITBIN (BINBIT (ROP_ST$ -> CONST.CONSTI.WORD1 /
             12159                                   512, 36) & '000777000000'O);

  12159 20 003415   100010 236100                    LDQ     8,,PR1
        20 003416   001000 506007                    DIV     512,DL
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:130  
        20 003417   000002 376000 18                 ANQ     ZERO_WORD+2
        20 003420   000000 756000 9                  STQ     MKCN

      704    12160                               /* Create 1-byte constant starting on byte 1 */
      705    12161    7                          CALL Z8AC$MAKE_CONST (ETT$);

  12161 20 003421   200044 633500                    EPPR3   ETT$,,AUTO
        20 003422   200052 453500                    STP3    MASK+2,,AUTO
        20 003423   200052 630500                    EPPR0   MASK+2,,AUTO
        20 003424   000003 631400 21                 EPPR1   3
        20 003425   000000 701000 xent               TSX1    Z8AC$MAKE_CONST
        20 003426   000000 011000                    NOP     0

      706    12162    7                        END;

  12162 20 003427   003500 710000 20                 TRA     s:12234

      707    12163    6                      ELSE
      708    12164                             %NEW_ETT(@ID=%SHIFT_R,@LOP=ILL$->ILL.ROP,@ROPCON=9);

  12168 20 003430   000000 236000 2                  LDQ     HEAD_ETT$
        20 003431   000002 116000 21                 CMPQ    2
        20 003432   003456 601000 20                 TNZ     s:12180

  12170 20 003433   000002 236000 4                  LDQ     ETT_+2
        20 003434   000005 036007                    ADLQ    5,DL
        20 003435   000003 116000 4                  CMPQ    ETT_+3
        20 003436   003447 604000 20                 TMI     s:12172

  12171 20 003437   000004 236000 21                 LDQ     4
        20 003440   200052 756100                    STQ     MASK+2,,AUTO
        20 003441   200052 633500                    EPPR3   MASK+2,,AUTO
        20 003442   200053 453500                    STP3    MASK+3,,AUTO
        20 003443   200053 630500                    EPPR0   MASK+3,,AUTO
        20 003444   000003 631400 21                 EPPR1   3
        20 003445   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 003446   000000 011000                    NOP     0
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:131  

  12172 20 003447   000002 236000 4                  LDQ     ETT_+2
        20 003450   000022 736000                    QLS     18
        20 003451   000001 036000 4                  ADLQ    ETT_+1
        20 003452   200044 756100                    STQ     ETT$,,AUTO

  12173 20 003453   000005 236007                    LDQ     5,DL
        20 003454   000002 056000 4                  ASQ     ETT_+2

  12174 20 003455   003462 710000 20                 TRA     s:12190

  12180 20 003456   200044 756100                    STQ     ETT$,,AUTO

  12181 20 003457   000000 473400 2                  LDP3    HEAD_ETT$
        20 003460   300003 236100                    LDQ     3,,PR3
        20 003461   000000 756000 2                  STQ     HEAD_ETT$

  12190 20 003462   000162 220003                    LDX0    114,DU
        20 003463   200044 470500                    LDP0    ETT$,,AUTO
        20 003464   000000 740100                    STX0    0,,PR0

  12213 20 003465   200035 470500                    LDP0    @ILL$,,AUTO
        20 003466   000000 471500                    LDP1    0,,PR0
        20 003467   100002 236100                    LDQ     2,,PR1
        20 003470   200044 473500                    LDP3    ETT$,,AUTO
        20 003471   300001 756100                    STQ     1,,PR3

  12218 20 003472   000002 236000 21                 LDQ     2
        20 003473   200044 471500                    LDP1    ETT$,,AUTO
        20 003474   100003 756100                    STQ     3,,PR1

  12223 20 003475   000011 235007                    LDA     9,DL
        20 003476   200044 471500                    LDP1    ETT$,,AUTO
        20 003477   100002 755100                    STA     2,,PR1

      709    12234    6                      ILL$ -> ILL.ROP = ETT$; /* Shift right 9 bits */

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:132  
  12234 20 003500   200035 470500                    LDP0    @ILL$,,AUTO
        20 003501   000000 471500                    LDP1    0,,PR0
        20 003502   200044 236100                    LDQ     ETT$,,AUTO
        20 003503   100002 756100                    STQ     2,,PR1
        20 003504   006205 710000 20                 TRA     s:13811

      710    12235
      711    12236    6                    CASE(%ALIGNMENT_HALF);

      712    12237    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_2;

  12237 20 003505   200035 470500                    LDP0    @ILL$,,AUTO
        20 003506   000000 471500                    LDP1    0,,PR0
        20 003507   000013 220003                    LDX0    11,DU
        20 003510   100000 440100                    SXL0    0,,PR1

      713    12238    6                      ILL$ -> ILL.ID = %MVANO;

  12238 20 003511   000000 471500                    LDP1    0,,PR0
        20 003512   000255 221003                    LDX1    173,DU
        20 003513   100000 741100                    STX1    0,,PR1

      714    12239    6                      IF ROP_ST$ -> ST.ID = %CONST THEN

  12239 20 003514   200046 471500                    LDP1    ROP_ST$,,AUTO
        20 003515   100000 222100                    LDX2    0,,PR1
        20 003516   000767 102003                    CMPX2   503,DU
        20 003517   003533 601000 20                 TNZ     s:12250

      715    12240    7                        DO;

      716    12241    7                          MKCN.CON = BITBIN (BINBIT (ROP_ST$ -> CONST.CONSTI.WORD1 /
             12241                                   262144, 36) & '000000777000'O);

  12241 20 003520   100010 236100                    LDQ     8,,PR1
        20 003521   000001 506003                    DIV     1,DU
        20 003522   000003 376000 18                 ANQ     ZERO_WORD+3
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:133  
        20 003523   000000 756000 9                  STQ     MKCN

      717    12242                               /* Create 1-byte constant starting on byte 2 */
      718    12243    7                          CALL Z8AC$MAKE_CONST (ETT$);

  12243 20 003524   200044 633500                    EPPR3   ETT$,,AUTO
        20 003525   200052 453500                    STP3    MASK+2,,AUTO
        20 003526   200052 630500                    EPPR0   MASK+2,,AUTO
        20 003527   000003 631400 21                 EPPR1   3
        20 003530   000000 701000 xent               TSX1    Z8AC$MAKE_CONST
        20 003531   000000 011000                    NOP     0

      719    12244    7                        END;

  12244 20 003532   003603 710000 20                 TRA     s:12316

      720    12245    6                      ELSE
      721    12246                             %NEW_ETT(@ID=%SHIFT_R,@LOP=ILL$->ILL.ROP,@ROPCON=18);

  12250 20 003533   000000 236000 2                  LDQ     HEAD_ETT$
        20 003534   000002 116000 21                 CMPQ    2
        20 003535   003561 601000 20                 TNZ     s:12262

  12252 20 003536   000002 236000 4                  LDQ     ETT_+2
        20 003537   000005 036007                    ADLQ    5,DL
        20 003540   000003 116000 4                  CMPQ    ETT_+3
        20 003541   003552 604000 20                 TMI     s:12254

  12253 20 003542   000004 236000 21                 LDQ     4
        20 003543   200052 756100                    STQ     MASK+2,,AUTO
        20 003544   200052 633500                    EPPR3   MASK+2,,AUTO
        20 003545   200053 453500                    STP3    MASK+3,,AUTO
        20 003546   200053 630500                    EPPR0   MASK+3,,AUTO
        20 003547   000003 631400 21                 EPPR1   3
        20 003550   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 003551   000000 011000                    NOP     0

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:134  
  12254 20 003552   000002 236000 4                  LDQ     ETT_+2
        20 003553   000022 736000                    QLS     18
        20 003554   000001 036000 4                  ADLQ    ETT_+1
        20 003555   200044 756100                    STQ     ETT$,,AUTO

  12255 20 003556   000005 236007                    LDQ     5,DL
        20 003557   000002 056000 4                  ASQ     ETT_+2

  12256 20 003560   003565 710000 20                 TRA     s:12272

  12262 20 003561   200044 756100                    STQ     ETT$,,AUTO

  12263 20 003562   000000 473400 2                  LDP3    HEAD_ETT$
        20 003563   300003 236100                    LDQ     3,,PR3
        20 003564   000000 756000 2                  STQ     HEAD_ETT$

  12272 20 003565   000162 220003                    LDX0    114,DU
        20 003566   200044 470500                    LDP0    ETT$,,AUTO
        20 003567   000000 740100                    STX0    0,,PR0

  12295 20 003570   200035 470500                    LDP0    @ILL$,,AUTO
        20 003571   000000 471500                    LDP1    0,,PR0
        20 003572   100002 236100                    LDQ     2,,PR1
        20 003573   200044 473500                    LDP3    ETT$,,AUTO
        20 003574   300001 756100                    STQ     1,,PR3

  12300 20 003575   000002 236000 21                 LDQ     2
        20 003576   200044 471500                    LDP1    ETT$,,AUTO
        20 003577   100003 756100                    STQ     3,,PR1

  12305 20 003600   000022 235007                    LDA     18,DL
        20 003601   200044 471500                    LDP1    ETT$,,AUTO
        20 003602   100002 755100                    STA     2,,PR1

      722    12316    6                      ILL$ -> ILL.ROP = ETT$;

  12316 20 003603   200035 470500                    LDP0    @ILL$,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:135  
        20 003604   000000 471500                    LDP1    0,,PR0
        20 003605   200044 236100                    LDQ     ETT$,,AUTO
        20 003606   100002 756100                    STQ     2,,PR1
        20 003607   006205 710000 20                 TRA     s:13811

      723    12317
      724    12318    6                    CASE(%ALIGNMENT_BYTE3);

      725    12319    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_3;

  12319 20 003610   200035 470500                    LDP0    @ILL$,,AUTO
        20 003611   000000 471500                    LDP1    0,,PR0
        20 003612   000014 220003                    LDX0    12,DU
        20 003613   100000 440100                    SXL0    0,,PR1

      726    12320    6                      ILL$ -> ILL.ID = %MVANO;

  12320 20 003614   000000 471500                    LDP1    0,,PR0
        20 003615   000255 221003                    LDX1    173,DU
        20 003616   100000 741100                    STX1    0,,PR1

      727    12321    6                      IF ROP_ST$ -> ST.ID = %CONST THEN

  12321 20 003617   200046 471500                    LDP1    ROP_ST$,,AUTO
        20 003620   100000 222100                    LDX2    0,,PR1
        20 003621   000767 102003                    CMPX2   503,DU
        20 003622   003636 601000 20                 TNZ     s:12332

      728    12322    7                        DO;

      729    12323    7                          MKCN.CON = BITBIN (BINBIT (ROP_ST$ -> CONST.CONSTI.WORD1 /
             12323                                   134217728, 36) & '000000000777'O);

  12323 20 003623   100010 236100                    LDQ     8,,PR1
        20 003624   001000 506003                    DIV     512,DU
        20 003625   000004 376000 18                 ANQ     ZERO_WORD+4
        20 003626   000000 756000 9                  STQ     MKCN
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:136  

      730    12324                               /* Create 1-byte constant starting on byte 3 */
      731    12325    7                          CALL Z8AC$MAKE_CONST (ETT$);

  12325 20 003627   200044 633500                    EPPR3   ETT$,,AUTO
        20 003630   200052 453500                    STP3    MASK+2,,AUTO
        20 003631   200052 630500                    EPPR0   MASK+2,,AUTO
        20 003632   000003 631400 21                 EPPR1   3
        20 003633   000000 701000 xent               TSX1    Z8AC$MAKE_CONST
        20 003634   000000 011000                    NOP     0

      732    12326    7                        END;

  12326 20 003635   003706 710000 20                 TRA     s:12398

      733    12327    6                      ELSE
      734    12328                             %NEW_ETT(@ID=%SHIFT_R,@LOP=ILL$->ILL.ROP,@ROPCON=27);

  12332 20 003636   000000 236000 2                  LDQ     HEAD_ETT$
        20 003637   000002 116000 21                 CMPQ    2
        20 003640   003664 601000 20                 TNZ     s:12344

  12334 20 003641   000002 236000 4                  LDQ     ETT_+2
        20 003642   000005 036007                    ADLQ    5,DL
        20 003643   000003 116000 4                  CMPQ    ETT_+3
        20 003644   003655 604000 20                 TMI     s:12336

  12335 20 003645   000004 236000 21                 LDQ     4
        20 003646   200052 756100                    STQ     MASK+2,,AUTO
        20 003647   200052 633500                    EPPR3   MASK+2,,AUTO
        20 003650   200053 453500                    STP3    MASK+3,,AUTO
        20 003651   200053 630500                    EPPR0   MASK+3,,AUTO
        20 003652   000003 631400 21                 EPPR1   3
        20 003653   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 003654   000000 011000                    NOP     0

  12336 20 003655   000002 236000 4                  LDQ     ETT_+2
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:137  
        20 003656   000022 736000                    QLS     18
        20 003657   000001 036000 4                  ADLQ    ETT_+1
        20 003660   200044 756100                    STQ     ETT$,,AUTO

  12337 20 003661   000005 236007                    LDQ     5,DL
        20 003662   000002 056000 4                  ASQ     ETT_+2

  12338 20 003663   003670 710000 20                 TRA     s:12354

  12344 20 003664   200044 756100                    STQ     ETT$,,AUTO

  12345 20 003665   000000 473400 2                  LDP3    HEAD_ETT$
        20 003666   300003 236100                    LDQ     3,,PR3
        20 003667   000000 756000 2                  STQ     HEAD_ETT$

  12354 20 003670   000162 220003                    LDX0    114,DU
        20 003671   200044 470500                    LDP0    ETT$,,AUTO
        20 003672   000000 740100                    STX0    0,,PR0

  12377 20 003673   200035 470500                    LDP0    @ILL$,,AUTO
        20 003674   000000 471500                    LDP1    0,,PR0
        20 003675   100002 236100                    LDQ     2,,PR1
        20 003676   200044 473500                    LDP3    ETT$,,AUTO
        20 003677   300001 756100                    STQ     1,,PR3

  12382 20 003700   000002 236000 21                 LDQ     2
        20 003701   200044 471500                    LDP1    ETT$,,AUTO
        20 003702   100003 756100                    STQ     3,,PR1

  12387 20 003703   000033 235007                    LDA     27,DL
        20 003704   200044 471500                    LDP1    ETT$,,AUTO
        20 003705   100002 755100                    STA     2,,PR1

      735    12398    6                      ILL$ -> ILL.ROP = ETT$;

  12398 20 003706   200035 470500                    LDP0    @ILL$,,AUTO
        20 003707   000000 471500                    LDP1    0,,PR0
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:138  
        20 003710   200044 236100                    LDQ     ETT$,,AUTO
        20 003711   100002 756100                    STQ     2,,PR1

      736    12399    6                  END /* CASE */;

  12399 20 003712   006205 710000 20                 TRA     s:13811

      737    12400
      738    12401    5                CASE(%ALIGNMENT_BYTE1);

      739    12402    6                  DO CASE(LOPS.ALIGNMENT);

  12402 20 003713   200036 235100                    LDA     LOPS,,AUTO
        20 003714   000005 115007                    CMPA    5,DL
        20 003715   003717 602005 20                 TNC     s:12402+4,AL
        20 003716   006205 710000 20                 TRA     s:13811
        20 003717   003724 710000 20                 TRA     s:12404
        20 003720   003724 710000 20                 TRA     s:12404
        20 003721   004045 710000 20                 TRA     s:12492
        20 003722   004035 710000 20                 TRA     s:12488
        20 003723   004130 710000 20                 TRA     s:12567

      740    12403    6                    CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);

      741    12404    6                      ILL$ -> ILL.ID = %MVANO;

  12404 20 003724   200035 470500                    LDP0    @ILL$,,AUTO
        20 003725   000000 471500                    LDP1    0,,PR0
        20 003726   000255 220003                    LDX0    173,DU
        20 003727   100000 740100                    STX0    0,,PR1

      742    12405    7                      IF LOP_ST$ -> ST.ID = %CONST THEN DO;

  12405 20 003730   200045 471500                    LDP1    LOP_ST$,,AUTO
        20 003731   100000 221100                    LDX1    0,,PR1
        20 003732   000767 101003                    CMPX1   503,DU
        20 003733   003756 601000 20                 TNZ     s:12413
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:139  

      743    12406    7                        ILL$ -> ILL.CODE = %MVANO_BYTE_1;

  12406 20 003734   000000 473500                    LDP3    0,,PR0
        20 003735   000012 222003                    LDX2    10,DU
        20 003736   300000 442100                    SXL2    0,,PR3

      744    12407    7                       MKCN.CON = BITBIN (BINBIT (LOP_ST$ -> CONST.CONSTI.WORD1 / 512,
             12407                                 36) & '000777000000'O);

  12407 20 003737   100010 236100                    LDQ     8,,PR1
        20 003740   001000 506007                    DIV     512,DL
        20 003741   000002 376000 18                 ANQ     ZERO_WORD+2
        20 003742   000000 756000 9                  STQ     MKCN

      745    12408                             /* Create 1-byte constant starting on byte 1 */
      746    12409    7                        CALL Z8AC$MAKE_CONST (ETT$);

  12409 20 003743   200044 633500                    EPPR3   ETT$,,AUTO
        20 003744   200052 453500                    STP3    MASK+2,,AUTO
        20 003745   200052 630500                    EPPR0   MASK+2,,AUTO
        20 003746   000003 631400 21                 EPPR1   3
        20 003747   000000 701000 xent               TSX1    Z8AC$MAKE_CONST
        20 003750   000000 011000                    NOP     0

      747    12410    7                        ILL$ -> ILL.LOP = ETT$;

  12410 20 003751   200035 470500                    LDP0    @ILL$,,AUTO
        20 003752   000000 471500                    LDP1    0,,PR0
        20 003753   200044 236100                    LDQ     ETT$,,AUTO
        20 003754   100001 756100                    STQ     1,,PR1

      748    12411    7                      END;

  12411 20 003755   006205 710000 20                 TRA     s:13811

      749    12412    7                      ELSE DO;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:140  

      750    12413    7                        ILL$ -> ILL.CODE = %MVANO_BYTE_0;

  12413 20 003756   000000 473500                    LDP3    0,,PR0
        20 003757   000011 222003                    LDX2    9,DU
        20 003760   300000 442100                    SXL2    0,,PR3

      751    12414                             %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ILL.ROP,@ROPCON=9);

  12418 20 003761   000000 236000 2                  LDQ     HEAD_ETT$
        20 003762   000002 116000 21                 CMPQ    2
        20 003763   004007 601000 20                 TNZ     s:12430

  12420 20 003764   000002 236000 4                  LDQ     ETT_+2
        20 003765   000005 036007                    ADLQ    5,DL
        20 003766   000003 116000 4                  CMPQ    ETT_+3
        20 003767   004000 604000 20                 TMI     s:12422

  12421 20 003770   000004 236000 21                 LDQ     4
        20 003771   200052 756100                    STQ     MASK+2,,AUTO
        20 003772   200052 633500                    EPPR3   MASK+2,,AUTO
        20 003773   200053 453500                    STP3    MASK+3,,AUTO
        20 003774   200053 630500                    EPPR0   MASK+3,,AUTO
        20 003775   000003 631400 21                 EPPR1   3
        20 003776   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 003777   000000 011000                    NOP     0

  12422 20 004000   000002 236000 4                  LDQ     ETT_+2
        20 004001   000022 736000                    QLS     18
        20 004002   000001 036000 4                  ADLQ    ETT_+1
        20 004003   200044 756100                    STQ     ETT$,,AUTO

  12423 20 004004   000005 236007                    LDQ     5,DL
        20 004005   000002 056000 4                  ASQ     ETT_+2

  12424 20 004006   004013 710000 20                 TRA     s:12440

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:141  
  12430 20 004007   200044 756100                    STQ     ETT$,,AUTO

  12431 20 004010   000000 473400 2                  LDP3    HEAD_ETT$
        20 004011   300003 236100                    LDQ     3,,PR3
        20 004012   000000 756000 2                  STQ     HEAD_ETT$

  12440 20 004013   000161 220003                    LDX0    113,DU
        20 004014   200044 470500                    LDP0    ETT$,,AUTO
        20 004015   000000 740100                    STX0    0,,PR0

  12463 20 004016   200035 470500                    LDP0    @ILL$,,AUTO
        20 004017   000000 471500                    LDP1    0,,PR0
        20 004020   100002 236100                    LDQ     2,,PR1
        20 004021   200044 473500                    LDP3    ETT$,,AUTO
        20 004022   300001 756100                    STQ     1,,PR3

  12468 20 004023   000002 236000 21                 LDQ     2
        20 004024   200044 471500                    LDP1    ETT$,,AUTO
        20 004025   100003 756100                    STQ     3,,PR1

  12473 20 004026   000011 235007                    LDA     9,DL
        20 004027   200044 471500                    LDP1    ETT$,,AUTO
        20 004030   100002 755100                    STA     2,,PR1

      752    12484    7                        ILL$ -> ILL.ROP = ETT$; /* Shift left 9 bits */

  12484 20 004031   000000 471500                    LDP1    0,,PR0
        20 004032   200044 236100                    LDQ     ETT$,,AUTO
        20 004033   100002 756100                    STQ     2,,PR1

      753    12485    7                      END;

  12485 20 004034   006205 710000 20                 TRA     s:13811

      754    12486
      755    12487    6                    CASE(%ALIGNMENT_BYTE1);

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:142  
      756    12488    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_1;

  12488 20 004035   200035 470500                    LDP0    @ILL$,,AUTO
        20 004036   000000 471500                    LDP1    0,,PR0
        20 004037   000012 220003                    LDX0    10,DU
        20 004040   100000 440100                    SXL0    0,,PR1

      757    12489    6                      ILL$ -> ILL.ID = %MVANO;

  12489 20 004041   000000 471500                    LDP1    0,,PR0
        20 004042   000255 221003                    LDX1    173,DU
        20 004043   100000 741100                    STX1    0,,PR1
        20 004044   006205 710000 20                 TRA     s:13811

      758    12490
      759    12491    6                    CASE(%ALIGNMENT_HALF);

      760    12492    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_2;

  12492 20 004045   200035 470500                    LDP0    @ILL$,,AUTO
        20 004046   000000 471500                    LDP1    0,,PR0
        20 004047   000013 220003                    LDX0    11,DU
        20 004050   100000 440100                    SXL0    0,,PR1

      761    12493    6                      ILL$ -> ILL.ID = %MVANO;

  12493 20 004051   000000 471500                    LDP1    0,,PR0
        20 004052   000255 221003                    LDX1    173,DU
        20 004053   100000 741100                    STX1    0,,PR1

      762    12494                           %NEW_ETT(@ID=%SHIFT_R,@LOP=ILL$->ILL.ROP,@ROPCON=9);

  12498 20 004054   000000 236000 2                  LDQ     HEAD_ETT$
        20 004055   000002 116000 21                 CMPQ    2
        20 004056   004102 601000 20                 TNZ     s:12510

  12500 20 004057   000002 236000 4                  LDQ     ETT_+2
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:143  
        20 004060   000005 036007                    ADLQ    5,DL
        20 004061   000003 116000 4                  CMPQ    ETT_+3
        20 004062   004073 604000 20                 TMI     s:12502

  12501 20 004063   000004 236000 21                 LDQ     4
        20 004064   200052 756100                    STQ     MASK+2,,AUTO
        20 004065   200052 631500                    EPPR1   MASK+2,,AUTO
        20 004066   200053 451500                    STP1    MASK+3,,AUTO
        20 004067   200053 630500                    EPPR0   MASK+3,,AUTO
        20 004070   000003 631400 21                 EPPR1   3
        20 004071   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 004072   000000 011000                    NOP     0

  12502 20 004073   000002 236000 4                  LDQ     ETT_+2
        20 004074   000022 736000                    QLS     18
        20 004075   000001 036000 4                  ADLQ    ETT_+1
        20 004076   200044 756100                    STQ     ETT$,,AUTO

  12503 20 004077   000005 236007                    LDQ     5,DL
        20 004100   000002 056000 4                  ASQ     ETT_+2

  12504 20 004101   004106 710000 20                 TRA     s:12520

  12510 20 004102   200044 756100                    STQ     ETT$,,AUTO

  12511 20 004103   000000 471400 2                  LDP1    HEAD_ETT$
        20 004104   100003 236100                    LDQ     3,,PR1
        20 004105   000000 756000 2                  STQ     HEAD_ETT$

  12520 20 004106   000162 220003                    LDX0    114,DU
        20 004107   200044 470500                    LDP0    ETT$,,AUTO
        20 004110   000000 740100                    STX0    0,,PR0

  12543 20 004111   200035 470500                    LDP0    @ILL$,,AUTO
        20 004112   000000 471500                    LDP1    0,,PR0
        20 004113   100002 236100                    LDQ     2,,PR1
        20 004114   200044 473500                    LDP3    ETT$,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:144  
        20 004115   300001 756100                    STQ     1,,PR3

  12548 20 004116   000002 236000 21                 LDQ     2
        20 004117   200044 471500                    LDP1    ETT$,,AUTO
        20 004120   100003 756100                    STQ     3,,PR1

  12553 20 004121   000011 235007                    LDA     9,DL
        20 004122   200044 471500                    LDP1    ETT$,,AUTO
        20 004123   100002 755100                    STA     2,,PR1

      763    12564    6                      ILL$ -> ILL.ROP = ETT$;

  12564 20 004124   000000 471500                    LDP1    0,,PR0
        20 004125   200044 236100                    LDQ     ETT$,,AUTO
        20 004126   100002 756100                    STQ     2,,PR1
        20 004127   006205 710000 20                 TRA     s:13811

      764    12565
      765    12566    6                    CASE(%ALIGNMENT_BYTE3);

      766    12567    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_3;

  12567 20 004130   200035 470500                    LDP0    @ILL$,,AUTO
        20 004131   000000 471500                    LDP1    0,,PR0
        20 004132   000014 220003                    LDX0    12,DU
        20 004133   100000 440100                    SXL0    0,,PR1

      767    12568    6                      ILL$ -> ILL.ID = %MVANO;

  12568 20 004134   000000 471500                    LDP1    0,,PR0
        20 004135   000255 221003                    LDX1    173,DU
        20 004136   100000 741100                    STX1    0,,PR1

      768    12569                           %NEW_ETT(@ID=%SHIFT_R,@LOP=ILL$->ILL.ROP,@ROPCON=18);

  12573 20 004137   000000 236000 2                  LDQ     HEAD_ETT$
        20 004140   000002 116000 21                 CMPQ    2
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:145  
        20 004141   004165 601000 20                 TNZ     s:12585

  12575 20 004142   000002 236000 4                  LDQ     ETT_+2
        20 004143   000005 036007                    ADLQ    5,DL
        20 004144   000003 116000 4                  CMPQ    ETT_+3
        20 004145   004156 604000 20                 TMI     s:12577

  12576 20 004146   000004 236000 21                 LDQ     4
        20 004147   200052 756100                    STQ     MASK+2,,AUTO
        20 004150   200052 631500                    EPPR1   MASK+2,,AUTO
        20 004151   200053 451500                    STP1    MASK+3,,AUTO
        20 004152   200053 630500                    EPPR0   MASK+3,,AUTO
        20 004153   000003 631400 21                 EPPR1   3
        20 004154   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 004155   000000 011000                    NOP     0

  12577 20 004156   000002 236000 4                  LDQ     ETT_+2
        20 004157   000022 736000                    QLS     18
        20 004160   000001 036000 4                  ADLQ    ETT_+1
        20 004161   200044 756100                    STQ     ETT$,,AUTO

  12578 20 004162   000005 236007                    LDQ     5,DL
        20 004163   000002 056000 4                  ASQ     ETT_+2

  12579 20 004164   004171 710000 20                 TRA     s:12595

  12585 20 004165   200044 756100                    STQ     ETT$,,AUTO

  12586 20 004166   000000 471400 2                  LDP1    HEAD_ETT$
        20 004167   100003 236100                    LDQ     3,,PR1
        20 004170   000000 756000 2                  STQ     HEAD_ETT$

  12595 20 004171   000162 220003                    LDX0    114,DU
        20 004172   200044 470500                    LDP0    ETT$,,AUTO
        20 004173   000000 740100                    STX0    0,,PR0

  12618 20 004174   200035 470500                    LDP0    @ILL$,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:146  
        20 004175   000000 471500                    LDP1    0,,PR0
        20 004176   100002 236100                    LDQ     2,,PR1
        20 004177   200044 473500                    LDP3    ETT$,,AUTO
        20 004200   300001 756100                    STQ     1,,PR3

  12623 20 004201   000002 236000 21                 LDQ     2
        20 004202   200044 471500                    LDP1    ETT$,,AUTO
        20 004203   100003 756100                    STQ     3,,PR1

  12628 20 004204   000022 235007                    LDA     18,DL
        20 004205   200044 471500                    LDP1    ETT$,,AUTO
        20 004206   100002 755100                    STA     2,,PR1

      769    12639    6                      ILL$ -> ILL.ROP = ETT$;

  12639 20 004207   000000 471500                    LDP1    0,,PR0
        20 004210   200044 236100                    LDQ     ETT$,,AUTO
        20 004211   100002 756100                    STQ     2,,PR1

      770    12640    6                  END /* CASE */;

  12640 20 004212   006205 710000 20                 TRA     s:13811

      771    12641
      772    12642    5                CASE(%ALIGNMENT_HALF);

      773    12643    6                  DO CASE(LOPS.ALIGNMENT);

  12643 20 004213   200036 235100                    LDA     LOPS,,AUTO
        20 004214   000005 115007                    CMPA    5,DL
        20 004215   004217 602005 20                 TNC     s:12643+4,AL
        20 004216   006205 710000 20                 TRA     s:13811
        20 004217   004224 710000 20                 TRA     s:12645
        20 004220   004224 710000 20                 TRA     s:12645
        20 004221   004420 710000 20                 TRA     s:12804
        20 004222   004335 710000 20                 TRA     s:12729
        20 004223   004430 710000 20                 TRA     s:12808
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:147  

      774    12644    6                    CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);

      775    12645    6                      ILL$ -> ILL.ID = %MVANO;

  12645 20 004224   200035 470500                    LDP0    @ILL$,,AUTO
        20 004225   000000 471500                    LDP1    0,,PR0
        20 004226   000255 220003                    LDX0    173,DU
        20 004227   100000 740100                    STX0    0,,PR1

      776    12646    7                      IF LOP_ST$ -> ST.ID = %CONST THEN DO;

  12646 20 004230   200045 471500                    LDP1    LOP_ST$,,AUTO
        20 004231   100000 221100                    LDX1    0,,PR1
        20 004232   000767 101003                    CMPX1   503,DU
        20 004233   004256 601000 20                 TNZ     s:12654

      777    12647    7                        ILL$ -> ILL.CODE = %MVANO_BYTE_2;

  12647 20 004234   000000 473500                    LDP3    0,,PR0
        20 004235   000013 222003                    LDX2    11,DU
        20 004236   300000 442100                    SXL2    0,,PR3

      778    12648    7                        MKCN.CON = BITBIN (BINBIT (LOP_ST$ -> CONST.CONSTI.WORD1 /
             12648                                 262144, 36) & '000000777000'O);

  12648 20 004237   100010 236100                    LDQ     8,,PR1
        20 004240   000001 506003                    DIV     1,DU
        20 004241   000003 376000 18                 ANQ     ZERO_WORD+3
        20 004242   000000 756000 9                  STQ     MKCN

      779    12649                             /* Create 1-byte constant starting on byte 2 */
      780    12650    7                        CALL Z8AC$MAKE_CONST (ETT$);

  12650 20 004243   200044 633500                    EPPR3   ETT$,,AUTO
        20 004244   200052 453500                    STP3    MASK+2,,AUTO
        20 004245   200052 630500                    EPPR0   MASK+2,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:148  
        20 004246   000003 631400 21                 EPPR1   3
        20 004247   000000 701000 xent               TSX1    Z8AC$MAKE_CONST
        20 004250   000000 011000                    NOP     0

      781    12651    7                        ILL$ -> ILL.LOP = ETT$;

  12651 20 004251   200035 470500                    LDP0    @ILL$,,AUTO
        20 004252   000000 471500                    LDP1    0,,PR0
        20 004253   200044 236100                    LDQ     ETT$,,AUTO
        20 004254   100001 756100                    STQ     1,,PR1

      782    12652    7                      END;

  12652 20 004255   006205 710000 20                 TRA     s:13811

      783    12653    7                      ELSE DO;

      784    12654    7                        ILL$ -> ILL.CODE = %MVANO_BYTE_0;

  12654 20 004256   000000 473500                    LDP3    0,,PR0
        20 004257   000011 222003                    LDX2    9,DU
        20 004260   300000 442100                    SXL2    0,,PR3

      785    12655                             %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ILL.ROP,@ROPCON=18);

  12659 20 004261   000000 236000 2                  LDQ     HEAD_ETT$
        20 004262   000002 116000 21                 CMPQ    2
        20 004263   004307 601000 20                 TNZ     s:12671

  12661 20 004264   000002 236000 4                  LDQ     ETT_+2
        20 004265   000005 036007                    ADLQ    5,DL
        20 004266   000003 116000 4                  CMPQ    ETT_+3
        20 004267   004300 604000 20                 TMI     s:12663

  12662 20 004270   000004 236000 21                 LDQ     4
        20 004271   200052 756100                    STQ     MASK+2,,AUTO
        20 004272   200052 633500                    EPPR3   MASK+2,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:149  
        20 004273   200053 453500                    STP3    MASK+3,,AUTO
        20 004274   200053 630500                    EPPR0   MASK+3,,AUTO
        20 004275   000003 631400 21                 EPPR1   3
        20 004276   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 004277   000000 011000                    NOP     0

  12663 20 004300   000002 236000 4                  LDQ     ETT_+2
        20 004301   000022 736000                    QLS     18
        20 004302   000001 036000 4                  ADLQ    ETT_+1
        20 004303   200044 756100                    STQ     ETT$,,AUTO

  12664 20 004304   000005 236007                    LDQ     5,DL
        20 004305   000002 056000 4                  ASQ     ETT_+2

  12665 20 004306   004313 710000 20                 TRA     s:12681

  12671 20 004307   200044 756100                    STQ     ETT$,,AUTO

  12672 20 004310   000000 473400 2                  LDP3    HEAD_ETT$
        20 004311   300003 236100                    LDQ     3,,PR3
        20 004312   000000 756000 2                  STQ     HEAD_ETT$

  12681 20 004313   000161 220003                    LDX0    113,DU
        20 004314   200044 470500                    LDP0    ETT$,,AUTO
        20 004315   000000 740100                    STX0    0,,PR0

  12704 20 004316   200035 470500                    LDP0    @ILL$,,AUTO
        20 004317   000000 471500                    LDP1    0,,PR0
        20 004320   100002 236100                    LDQ     2,,PR1
        20 004321   200044 473500                    LDP3    ETT$,,AUTO
        20 004322   300001 756100                    STQ     1,,PR3

  12709 20 004323   000002 236000 21                 LDQ     2
        20 004324   200044 471500                    LDP1    ETT$,,AUTO
        20 004325   100003 756100                    STQ     3,,PR1

  12714 20 004326   000022 235007                    LDA     18,DL
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:150  
        20 004327   200044 471500                    LDP1    ETT$,,AUTO
        20 004330   100002 755100                    STA     2,,PR1

      786    12725    7                        ILL$ -> ILL.ROP = ETT$; /* Shift left 18 bits */

  12725 20 004331   000000 471500                    LDP1    0,,PR0
        20 004332   200044 236100                    LDQ     ETT$,,AUTO
        20 004333   100002 756100                    STQ     2,,PR1

      787    12726    7                      END;

  12726 20 004334   006205 710000 20                 TRA     s:13811

      788    12727
      789    12728    6                    CASE(%ALIGNMENT_BYTE1);

      790    12729    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_1;

  12729 20 004335   200035 470500                    LDP0    @ILL$,,AUTO
        20 004336   000000 471500                    LDP1    0,,PR0
        20 004337   000012 220003                    LDX0    10,DU
        20 004340   100000 440100                    SXL0    0,,PR1

      791    12730    6                      ILL$ -> ILL.ID = %MVANO;

  12730 20 004341   000000 471500                    LDP1    0,,PR0
        20 004342   000255 221003                    LDX1    173,DU
        20 004343   100000 741100                    STX1    0,,PR1

      792    12731                           %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ILL.ROP,@ROPCON=9);

  12735 20 004344   000000 236000 2                  LDQ     HEAD_ETT$
        20 004345   000002 116000 21                 CMPQ    2
        20 004346   004372 601000 20                 TNZ     s:12747

  12737 20 004347   000002 236000 4                  LDQ     ETT_+2
        20 004350   000005 036007                    ADLQ    5,DL
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:151  
        20 004351   000003 116000 4                  CMPQ    ETT_+3
        20 004352   004363 604000 20                 TMI     s:12739

  12738 20 004353   000004 236000 21                 LDQ     4
        20 004354   200052 756100                    STQ     MASK+2,,AUTO
        20 004355   200052 631500                    EPPR1   MASK+2,,AUTO
        20 004356   200053 451500                    STP1    MASK+3,,AUTO
        20 004357   200053 630500                    EPPR0   MASK+3,,AUTO
        20 004360   000003 631400 21                 EPPR1   3
        20 004361   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 004362   000000 011000                    NOP     0

  12739 20 004363   000002 236000 4                  LDQ     ETT_+2
        20 004364   000022 736000                    QLS     18
        20 004365   000001 036000 4                  ADLQ    ETT_+1
        20 004366   200044 756100                    STQ     ETT$,,AUTO

  12740 20 004367   000005 236007                    LDQ     5,DL
        20 004370   000002 056000 4                  ASQ     ETT_+2

  12741 20 004371   004376 710000 20                 TRA     s:12757

  12747 20 004372   200044 756100                    STQ     ETT$,,AUTO

  12748 20 004373   000000 471400 2                  LDP1    HEAD_ETT$
        20 004374   100003 236100                    LDQ     3,,PR1
        20 004375   000000 756000 2                  STQ     HEAD_ETT$

  12757 20 004376   000161 220003                    LDX0    113,DU
        20 004377   200044 470500                    LDP0    ETT$,,AUTO
        20 004400   000000 740100                    STX0    0,,PR0

  12780 20 004401   200035 470500                    LDP0    @ILL$,,AUTO
        20 004402   000000 471500                    LDP1    0,,PR0
        20 004403   100002 236100                    LDQ     2,,PR1
        20 004404   200044 473500                    LDP3    ETT$,,AUTO
        20 004405   300001 756100                    STQ     1,,PR3
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:152  

  12785 20 004406   000002 236000 21                 LDQ     2
        20 004407   200044 471500                    LDP1    ETT$,,AUTO
        20 004410   100003 756100                    STQ     3,,PR1

  12790 20 004411   000011 235007                    LDA     9,DL
        20 004412   200044 471500                    LDP1    ETT$,,AUTO
        20 004413   100002 755100                    STA     2,,PR1

      793    12801    6                      ILL$ -> ILL.ROP = ETT$;

  12801 20 004414   000000 471500                    LDP1    0,,PR0
        20 004415   200044 236100                    LDQ     ETT$,,AUTO
        20 004416   100002 756100                    STQ     2,,PR1
        20 004417   006205 710000 20                 TRA     s:13811

      794    12802
      795    12803    6                    CASE(%ALIGNMENT_HALF);

      796    12804    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_2;

  12804 20 004420   200035 470500                    LDP0    @ILL$,,AUTO
        20 004421   000000 471500                    LDP1    0,,PR0
        20 004422   000013 220003                    LDX0    11,DU
        20 004423   100000 440100                    SXL0    0,,PR1

      797    12805    6                      ILL$ -> ILL.ID = %MVANO;

  12805 20 004424   000000 471500                    LDP1    0,,PR0
        20 004425   000255 221003                    LDX1    173,DU
        20 004426   100000 741100                    STX1    0,,PR1
        20 004427   006205 710000 20                 TRA     s:13811

      798    12806
      799    12807    6                    CASE(%ALIGNMENT_BYTE3);

      800    12808    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_3;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:153  

  12808 20 004430   200035 470500                    LDP0    @ILL$,,AUTO
        20 004431   000000 471500                    LDP1    0,,PR0
        20 004432   000014 220003                    LDX0    12,DU
        20 004433   100000 440100                    SXL0    0,,PR1

      801    12809    6                      ILL$ -> ILL.ID = %MVANO;

  12809 20 004434   000000 471500                    LDP1    0,,PR0
        20 004435   000255 221003                    LDX1    173,DU
        20 004436   100000 741100                    STX1    0,,PR1

      802    12810                           %NEW_ETT(@ID=%SHIFT_R,@LOP=ILL$->ILL.ROP,@ROPCON=9);

  12814 20 004437   000000 236000 2                  LDQ     HEAD_ETT$
        20 004440   000002 116000 21                 CMPQ    2
        20 004441   004465 601000 20                 TNZ     s:12826

  12816 20 004442   000002 236000 4                  LDQ     ETT_+2
        20 004443   000005 036007                    ADLQ    5,DL
        20 004444   000003 116000 4                  CMPQ    ETT_+3
        20 004445   004456 604000 20                 TMI     s:12818

  12817 20 004446   000004 236000 21                 LDQ     4
        20 004447   200052 756100                    STQ     MASK+2,,AUTO
        20 004450   200052 631500                    EPPR1   MASK+2,,AUTO
        20 004451   200053 451500                    STP1    MASK+3,,AUTO
        20 004452   200053 630500                    EPPR0   MASK+3,,AUTO
        20 004453   000003 631400 21                 EPPR1   3
        20 004454   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 004455   000000 011000                    NOP     0

  12818 20 004456   000002 236000 4                  LDQ     ETT_+2
        20 004457   000022 736000                    QLS     18
        20 004460   000001 036000 4                  ADLQ    ETT_+1
        20 004461   200044 756100                    STQ     ETT$,,AUTO

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:154  
  12819 20 004462   000005 236007                    LDQ     5,DL
        20 004463   000002 056000 4                  ASQ     ETT_+2

  12820 20 004464   004471 710000 20                 TRA     s:12836

  12826 20 004465   200044 756100                    STQ     ETT$,,AUTO

  12827 20 004466   000000 471400 2                  LDP1    HEAD_ETT$
        20 004467   100003 236100                    LDQ     3,,PR1
        20 004470   000000 756000 2                  STQ     HEAD_ETT$

  12836 20 004471   000162 220003                    LDX0    114,DU
        20 004472   200044 470500                    LDP0    ETT$,,AUTO
        20 004473   000000 740100                    STX0    0,,PR0

  12859 20 004474   200035 470500                    LDP0    @ILL$,,AUTO
        20 004475   000000 471500                    LDP1    0,,PR0
        20 004476   100002 236100                    LDQ     2,,PR1
        20 004477   200044 473500                    LDP3    ETT$,,AUTO
        20 004500   300001 756100                    STQ     1,,PR3

  12864 20 004501   000002 236000 21                 LDQ     2
        20 004502   200044 471500                    LDP1    ETT$,,AUTO
        20 004503   100003 756100                    STQ     3,,PR1

  12869 20 004504   000011 235007                    LDA     9,DL
        20 004505   200044 471500                    LDP1    ETT$,,AUTO
        20 004506   100002 755100                    STA     2,,PR1

      803    12880    6                      ILL$ -> ILL.ROP = ETT$;

  12880 20 004507   000000 471500                    LDP1    0,,PR0
        20 004510   200044 236100                    LDQ     ETT$,,AUTO
        20 004511   100002 756100                    STQ     2,,PR1

      804    12881    6                  END /* CASE */;

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:155  
  12881 20 004512   006205 710000 20                 TRA     s:13811

      805    12882
      806    12883    5                CASE(%ALIGNMENT_BYTE3);

      807    12884    6                  DO CASE(LOPS.ALIGNMENT);

  12884 20 004513   200036 235100                    LDA     LOPS,,AUTO
        20 004514   000005 115007                    CMPA    5,DL
        20 004515   004517 602005 20                 TNC     s:12884+4,AL
        20 004516   006205 710000 20                 TRA     s:13811
        20 004517   004524 710000 20                 TRA     s:12886
        20 004520   004524 710000 20                 TRA     s:12886
        20 004521   004720 710000 20                 TRA     s:13045
        20 004522   004635 710000 20                 TRA     s:12970
        20 004523   005003 710000 20                 TRA     s:13120

      808    12885    6                    CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);

      809    12886    6                      ILL$ -> ILL.ID = %MVANO;

  12886 20 004524   200035 470500                    LDP0    @ILL$,,AUTO
        20 004525   000000 471500                    LDP1    0,,PR0
        20 004526   000255 220003                    LDX0    173,DU
        20 004527   100000 740100                    STX0    0,,PR1

      810    12887    7                      IF LOP_ST$ -> ST.ID = %CONST THEN DO;

  12887 20 004530   200045 471500                    LDP1    LOP_ST$,,AUTO
        20 004531   100000 221100                    LDX1    0,,PR1
        20 004532   000767 101003                    CMPX1   503,DU
        20 004533   004556 601000 20                 TNZ     s:12895

      811    12888    7                        ILL$ -> ILL.CODE = %MVANO_BYTE_3;

  12888 20 004534   000000 473500                    LDP3    0,,PR0
        20 004535   000014 222003                    LDX2    12,DU
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:156  
        20 004536   300000 442100                    SXL2    0,,PR3

      812    12889    7                        MKCN.CON = BITBIN (BINBIT (LOP_ST$ -> CONST.CONSTI.WORD1 /
             12889                                 134217728, 36) & '000000000777'O);

  12889 20 004537   100010 236100                    LDQ     8,,PR1
        20 004540   001000 506003                    DIV     512,DU
        20 004541   000004 376000 18                 ANQ     ZERO_WORD+4
        20 004542   000000 756000 9                  STQ     MKCN

      813    12890                             /* Create 1-byte constant starting on byte 3 */
      814    12891    7                        CALL Z8AC$MAKE_CONST (ETT$);

  12891 20 004543   200044 633500                    EPPR3   ETT$,,AUTO
        20 004544   200052 453500                    STP3    MASK+2,,AUTO
        20 004545   200052 630500                    EPPR0   MASK+2,,AUTO
        20 004546   000003 631400 21                 EPPR1   3
        20 004547   000000 701000 xent               TSX1    Z8AC$MAKE_CONST
        20 004550   000000 011000                    NOP     0

      815    12892    7                        ILL$ -> ILL.LOP = ETT$;

  12892 20 004551   200035 470500                    LDP0    @ILL$,,AUTO
        20 004552   000000 471500                    LDP1    0,,PR0
        20 004553   200044 236100                    LDQ     ETT$,,AUTO
        20 004554   100001 756100                    STQ     1,,PR1

      816    12893    7                      END;

  12893 20 004555   006205 710000 20                 TRA     s:13811

      817    12894    7                      ELSE DO;

      818    12895    7                        ILL$ -> ILL.CODE = %MVANO_BYTE_0;

  12895 20 004556   000000 473500                    LDP3    0,,PR0
        20 004557   000011 222003                    LDX2    9,DU
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:157  
        20 004560   300000 442100                    SXL2    0,,PR3

      819    12896                             %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ILL.ROP,@ROPCON=27);

  12900 20 004561   000000 236000 2                  LDQ     HEAD_ETT$
        20 004562   000002 116000 21                 CMPQ    2
        20 004563   004607 601000 20                 TNZ     s:12912

  12902 20 004564   000002 236000 4                  LDQ     ETT_+2
        20 004565   000005 036007                    ADLQ    5,DL
        20 004566   000003 116000 4                  CMPQ    ETT_+3
        20 004567   004600 604000 20                 TMI     s:12904

  12903 20 004570   000004 236000 21                 LDQ     4
        20 004571   200052 756100                    STQ     MASK+2,,AUTO
        20 004572   200052 633500                    EPPR3   MASK+2,,AUTO
        20 004573   200053 453500                    STP3    MASK+3,,AUTO
        20 004574   200053 630500                    EPPR0   MASK+3,,AUTO
        20 004575   000003 631400 21                 EPPR1   3
        20 004576   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 004577   000000 011000                    NOP     0

  12904 20 004600   000002 236000 4                  LDQ     ETT_+2
        20 004601   000022 736000                    QLS     18
        20 004602   000001 036000 4                  ADLQ    ETT_+1
        20 004603   200044 756100                    STQ     ETT$,,AUTO

  12905 20 004604   000005 236007                    LDQ     5,DL
        20 004605   000002 056000 4                  ASQ     ETT_+2

  12906 20 004606   004613 710000 20                 TRA     s:12922

  12912 20 004607   200044 756100                    STQ     ETT$,,AUTO

  12913 20 004610   000000 473400 2                  LDP3    HEAD_ETT$
        20 004611   300003 236100                    LDQ     3,,PR3
        20 004612   000000 756000 2                  STQ     HEAD_ETT$
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:158  

  12922 20 004613   000161 220003                    LDX0    113,DU
        20 004614   200044 470500                    LDP0    ETT$,,AUTO
        20 004615   000000 740100                    STX0    0,,PR0

  12945 20 004616   200035 470500                    LDP0    @ILL$,,AUTO
        20 004617   000000 471500                    LDP1    0,,PR0
        20 004620   100002 236100                    LDQ     2,,PR1
        20 004621   200044 473500                    LDP3    ETT$,,AUTO
        20 004622   300001 756100                    STQ     1,,PR3

  12950 20 004623   000002 236000 21                 LDQ     2
        20 004624   200044 471500                    LDP1    ETT$,,AUTO
        20 004625   100003 756100                    STQ     3,,PR1

  12955 20 004626   000033 235007                    LDA     27,DL
        20 004627   200044 471500                    LDP1    ETT$,,AUTO
        20 004630   100002 755100                    STA     2,,PR1

      820    12966    7                        ILL$ -> ILL.ROP = ETT$; /* Shift left 27 bits */

  12966 20 004631   000000 471500                    LDP1    0,,PR0
        20 004632   200044 236100                    LDQ     ETT$,,AUTO
        20 004633   100002 756100                    STQ     2,,PR1

      821    12967    7                      END;

  12967 20 004634   006205 710000 20                 TRA     s:13811

      822    12968
      823    12969    6                    CASE(%ALIGNMENT_BYTE1);

      824    12970    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_1;

  12970 20 004635   200035 470500                    LDP0    @ILL$,,AUTO
        20 004636   000000 471500                    LDP1    0,,PR0
        20 004637   000012 220003                    LDX0    10,DU
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:159  
        20 004640   100000 440100                    SXL0    0,,PR1

      825    12971    6                      ILL$ -> ILL.ID = %MVANO;

  12971 20 004641   000000 471500                    LDP1    0,,PR0
        20 004642   000255 221003                    LDX1    173,DU
        20 004643   100000 741100                    STX1    0,,PR1

      826    12972                           %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ILL.ROP,@ROPCON=18);

  12976 20 004644   000000 236000 2                  LDQ     HEAD_ETT$
        20 004645   000002 116000 21                 CMPQ    2
        20 004646   004672 601000 20                 TNZ     s:12988

  12978 20 004647   000002 236000 4                  LDQ     ETT_+2
        20 004650   000005 036007                    ADLQ    5,DL
        20 004651   000003 116000 4                  CMPQ    ETT_+3
        20 004652   004663 604000 20                 TMI     s:12980

  12979 20 004653   000004 236000 21                 LDQ     4
        20 004654   200052 756100                    STQ     MASK+2,,AUTO
        20 004655   200052 631500                    EPPR1   MASK+2,,AUTO
        20 004656   200053 451500                    STP1    MASK+3,,AUTO
        20 004657   200053 630500                    EPPR0   MASK+3,,AUTO
        20 004660   000003 631400 21                 EPPR1   3
        20 004661   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 004662   000000 011000                    NOP     0

  12980 20 004663   000002 236000 4                  LDQ     ETT_+2
        20 004664   000022 736000                    QLS     18
        20 004665   000001 036000 4                  ADLQ    ETT_+1
        20 004666   200044 756100                    STQ     ETT$,,AUTO

  12981 20 004667   000005 236007                    LDQ     5,DL
        20 004670   000002 056000 4                  ASQ     ETT_+2

  12982 20 004671   004676 710000 20                 TRA     s:12998
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:160  

  12988 20 004672   200044 756100                    STQ     ETT$,,AUTO

  12989 20 004673   000000 471400 2                  LDP1    HEAD_ETT$
        20 004674   100003 236100                    LDQ     3,,PR1
        20 004675   000000 756000 2                  STQ     HEAD_ETT$

  12998 20 004676   000161 220003                    LDX0    113,DU
        20 004677   200044 470500                    LDP0    ETT$,,AUTO
        20 004700   000000 740100                    STX0    0,,PR0

  13021 20 004701   200035 470500                    LDP0    @ILL$,,AUTO
        20 004702   000000 471500                    LDP1    0,,PR0
        20 004703   100002 236100                    LDQ     2,,PR1
        20 004704   200044 473500                    LDP3    ETT$,,AUTO
        20 004705   300001 756100                    STQ     1,,PR3

  13026 20 004706   000002 236000 21                 LDQ     2
        20 004707   200044 471500                    LDP1    ETT$,,AUTO
        20 004710   100003 756100                    STQ     3,,PR1

  13031 20 004711   000022 235007                    LDA     18,DL
        20 004712   200044 471500                    LDP1    ETT$,,AUTO
        20 004713   100002 755100                    STA     2,,PR1

      827    13042    6                      ILL$ -> ILL.ROP = ETT$;

  13042 20 004714   000000 471500                    LDP1    0,,PR0
        20 004715   200044 236100                    LDQ     ETT$,,AUTO
        20 004716   100002 756100                    STQ     2,,PR1
        20 004717   006205 710000 20                 TRA     s:13811

      828    13043
      829    13044    6                    CASE(%ALIGNMENT_HALF);

      830    13045    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_2;

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:161  
  13045 20 004720   200035 470500                    LDP0    @ILL$,,AUTO
        20 004721   000000 471500                    LDP1    0,,PR0
        20 004722   000013 220003                    LDX0    11,DU
        20 004723   100000 440100                    SXL0    0,,PR1

      831    13046    6                      ILL$ -> ILL.ID = %MVANO;

  13046 20 004724   000000 471500                    LDP1    0,,PR0
        20 004725   000255 221003                    LDX1    173,DU
        20 004726   100000 741100                    STX1    0,,PR1

      832    13047                           %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ILL.ROP,@ROPCON=9);

  13051 20 004727   000000 236000 2                  LDQ     HEAD_ETT$
        20 004730   000002 116000 21                 CMPQ    2
        20 004731   004755 601000 20                 TNZ     s:13063

  13053 20 004732   000002 236000 4                  LDQ     ETT_+2
        20 004733   000005 036007                    ADLQ    5,DL
        20 004734   000003 116000 4                  CMPQ    ETT_+3
        20 004735   004746 604000 20                 TMI     s:13055

  13054 20 004736   000004 236000 21                 LDQ     4
        20 004737   200052 756100                    STQ     MASK+2,,AUTO
        20 004740   200052 631500                    EPPR1   MASK+2,,AUTO
        20 004741   200053 451500                    STP1    MASK+3,,AUTO
        20 004742   200053 630500                    EPPR0   MASK+3,,AUTO
        20 004743   000003 631400 21                 EPPR1   3
        20 004744   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 004745   000000 011000                    NOP     0

  13055 20 004746   000002 236000 4                  LDQ     ETT_+2
        20 004747   000022 736000                    QLS     18
        20 004750   000001 036000 4                  ADLQ    ETT_+1
        20 004751   200044 756100                    STQ     ETT$,,AUTO

  13056 20 004752   000005 236007                    LDQ     5,DL
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:162  
        20 004753   000002 056000 4                  ASQ     ETT_+2

  13057 20 004754   004761 710000 20                 TRA     s:13073

  13063 20 004755   200044 756100                    STQ     ETT$,,AUTO

  13064 20 004756   000000 471400 2                  LDP1    HEAD_ETT$
        20 004757   100003 236100                    LDQ     3,,PR1
        20 004760   000000 756000 2                  STQ     HEAD_ETT$

  13073 20 004761   000161 220003                    LDX0    113,DU
        20 004762   200044 470500                    LDP0    ETT$,,AUTO
        20 004763   000000 740100                    STX0    0,,PR0

  13096 20 004764   200035 470500                    LDP0    @ILL$,,AUTO
        20 004765   000000 471500                    LDP1    0,,PR0
        20 004766   100002 236100                    LDQ     2,,PR1
        20 004767   200044 473500                    LDP3    ETT$,,AUTO
        20 004770   300001 756100                    STQ     1,,PR3

  13101 20 004771   000002 236000 21                 LDQ     2
        20 004772   200044 471500                    LDP1    ETT$,,AUTO
        20 004773   100003 756100                    STQ     3,,PR1

  13106 20 004774   000011 235007                    LDA     9,DL
        20 004775   200044 471500                    LDP1    ETT$,,AUTO
        20 004776   100002 755100                    STA     2,,PR1

      833    13117    6                      ILL$ -> ILL.ROP = ETT$;

  13117 20 004777   000000 471500                    LDP1    0,,PR0
        20 005000   200044 236100                    LDQ     ETT$,,AUTO
        20 005001   100002 756100                    STQ     2,,PR1
        20 005002   006205 710000 20                 TRA     s:13811

      834    13118
      835    13119    6                    CASE(%ALIGNMENT_BYTE3);
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:163  

      836    13120    6                      ILL$ -> ILL.CODE = %MVANO_BYTE_3;

  13120 20 005003   200035 470500                    LDP0    @ILL$,,AUTO
        20 005004   000000 471500                    LDP1    0,,PR0
        20 005005   000014 220003                    LDX0    12,DU
        20 005006   100000 440100                    SXL0    0,,PR1

      837    13121    6                      ILL$ -> ILL.ID = %MVANO;

  13121 20 005007   000000 471500                    LDP1    0,,PR0
        20 005010   000255 221003                    LDX1    173,DU
        20 005011   100000 741100                    STX1    0,,PR1

      838    13122    6                  END /* CASE */;

      839    13123    5              END /* CASE */;

  13123 20 005012   006205 710000 20                 TRA     s:13811

      840    13124
      841    13125    4            CASE(%LENGTH_2_BYTES);

      842    13126    5              DO CASE(ROPS.ALIGNMENT);

  13126 20 005013   200040 235100                    LDA     ROPS,,AUTO
        20 005014   000004 115007                    CMPA    4,DL
        20 005015   005017 602005 20                 TNC     s:13126+4,AL
        20 005016   005510 710000 20                 TRA     s:13482
        20 005017   005023 710000 20                 TRA     s:13128
        20 005020   005023 710000 20                 TRA     s:13128
        20 005021   005374 710000 20                 TRA     s:13393
        20 005022   005157 710000 20                 TRA     s:13224

      843    13127    5                CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);

      844    13128    6                  DO CASE(LOPS.ALIGNMENT);
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:164  

  13128 20 005023   200036 235100                    LDA     LOPS,,AUTO
        20 005024   000004 115007                    CMPA    4,DL
        20 005025   005027 602005 20                 TNC     s:13128+4,AL
        20 005026   005156 710000 20                 TRA     s:13220
        20 005027   005033 710000 20                 TRA     s:13130
        20 005030   005033 710000 20                 TRA     s:13130
        20 005031   005146 710000 20                 TRA     s:13216
        20 005032   005043 710000 20                 TRA     s:13134

      845    13129    6                    CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);

      846    13130    6                      ILL$ -> ILL.CODE = %MVANO_UPPER_TO_UPPER;

  13130 20 005033   200035 470500                    LDP0    @ILL$,,AUTO
        20 005034   000000 471500                    LDP1    0,,PR0
        20 005035   000000 220003                    LDX0    0,DU
        20 005036   100000 440100                    SXL0    0,,PR1

      847    13131    6                      ILL$ -> ILL.ID   = %MVANO;

  13131 20 005037   000000 471500                    LDP1    0,,PR0
        20 005040   000255 221003                    LDX1    173,DU
        20 005041   100000 741100                    STX1    0,,PR1
        20 005042   006205 710000 20                 TRA     s:13811

      848    13132
      849    13133    6                    CASE(%ALIGNMENT_BYTE1);

      850    13134    6                      ILL$ -> ILL.CODE = %MVANO_BYTES_1_2;

  13134 20 005043   200035 470500                    LDP0    @ILL$,,AUTO
        20 005044   000000 471500                    LDP1    0,,PR0
        20 005045   000015 220003                    LDX0    13,DU
        20 005046   100000 440100                    SXL0    0,,PR1

      851    13135    6                      ILL$ -> ILL.ID = %MVANO;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:165  

  13135 20 005047   000000 471500                    LDP1    0,,PR0
        20 005050   000255 221003                    LDX1    173,DU
        20 005051   100000 741100                    STX1    0,,PR1

      852    13136    6                      IF ROP_ST$ -> ST.ID = %CONST THEN

  13136 20 005052   200046 471500                    LDP1    ROP_ST$,,AUTO
        20 005053   100000 222100                    LDX2    0,,PR1
        20 005054   000767 102003                    CMPX2   503,DU
        20 005055   005071 601000 20                 TNZ     s:13147

      853    13137    7                        DO;

      854    13138    7                          MKCN.CON = BITBIN (BINBIT (ROP_ST$ -> CONST.CONSTI.WORD1 /
             13138                                   512, 36) & '000777777000'O);

  13138 20 005056   100010 236100                    LDQ     8,,PR1
        20 005057   001000 506007                    DIV     512,DL
        20 005060   000005 376000 18                 ANQ     ZERO_WORD+5
        20 005061   000000 756000 9                  STQ     MKCN

      855    13139                               /* Create 2-byte constant starting on byte 1 */
      856    13140    7                          CALL Z8AC$MAKE_CONST (ETT$);

  13140 20 005062   200044 633500                    EPPR3   ETT$,,AUTO
        20 005063   200052 453500                    STP3    MASK+2,,AUTO
        20 005064   200052 630500                    EPPR0   MASK+2,,AUTO
        20 005065   000003 631400 21                 EPPR1   3
        20 005066   000000 701000 xent               TSX1    Z8AC$MAKE_CONST
        20 005067   000000 011000                    NOP     0

      857    13141    7                        END;

  13141 20 005070   005141 710000 20                 TRA     s:13213

      858    13142    6                      ELSE
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:166  
      859    13143                             %NEW_ETT(@ID=%SHIFT_R,@LOP=ILL$->ILL.ROP,@ROPCON=9);

  13147 20 005071   000000 236000 2                  LDQ     HEAD_ETT$
        20 005072   000002 116000 21                 CMPQ    2
        20 005073   005117 601000 20                 TNZ     s:13159

  13149 20 005074   000002 236000 4                  LDQ     ETT_+2
        20 005075   000005 036007                    ADLQ    5,DL
        20 005076   000003 116000 4                  CMPQ    ETT_+3
        20 005077   005110 604000 20                 TMI     s:13151

  13150 20 005100   000004 236000 21                 LDQ     4
        20 005101   200052 756100                    STQ     MASK+2,,AUTO
        20 005102   200052 633500                    EPPR3   MASK+2,,AUTO
        20 005103   200053 453500                    STP3    MASK+3,,AUTO
        20 005104   200053 630500                    EPPR0   MASK+3,,AUTO
        20 005105   000003 631400 21                 EPPR1   3
        20 005106   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 005107   000000 011000                    NOP     0

  13151 20 005110   000002 236000 4                  LDQ     ETT_+2
        20 005111   000022 736000                    QLS     18
        20 005112   000001 036000 4                  ADLQ    ETT_+1
        20 005113   200044 756100                    STQ     ETT$,,AUTO

  13152 20 005114   000005 236007                    LDQ     5,DL
        20 005115   000002 056000 4                  ASQ     ETT_+2

  13153 20 005116   005123 710000 20                 TRA     s:13169

  13159 20 005117   200044 756100                    STQ     ETT$,,AUTO

  13160 20 005120   000000 473400 2                  LDP3    HEAD_ETT$
        20 005121   300003 236100                    LDQ     3,,PR3
        20 005122   000000 756000 2                  STQ     HEAD_ETT$

  13169 20 005123   000162 220003                    LDX0    114,DU
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:167  
        20 005124   200044 470500                    LDP0    ETT$,,AUTO
        20 005125   000000 740100                    STX0    0,,PR0

  13192 20 005126   200035 470500                    LDP0    @ILL$,,AUTO
        20 005127   000000 471500                    LDP1    0,,PR0
        20 005130   100002 236100                    LDQ     2,,PR1
        20 005131   200044 473500                    LDP3    ETT$,,AUTO
        20 005132   300001 756100                    STQ     1,,PR3

  13197 20 005133   000002 236000 21                 LDQ     2
        20 005134   200044 471500                    LDP1    ETT$,,AUTO
        20 005135   100003 756100                    STQ     3,,PR1

  13202 20 005136   000011 235007                    LDA     9,DL
        20 005137   200044 471500                    LDP1    ETT$,,AUTO
        20 005140   100002 755100                    STA     2,,PR1

      860    13213    6                      ILL$ -> ILL.ROP = ETT$;

  13213 20 005141   200035 470500                    LDP0    @ILL$,,AUTO
        20 005142   000000 471500                    LDP1    0,,PR0
        20 005143   200044 236100                    LDQ     ETT$,,AUTO
        20 005144   100002 756100                    STQ     2,,PR1
        20 005145   006205 710000 20                 TRA     s:13811

      861    13214
      862    13215    6                    CASE(%ALIGNMENT_HALF);

      863    13216    6                      ILL$ -> ILL.CODE = %MVANO_UPPER_TO_LOWER;

  13216 20 005146   200035 470500                    LDP0    @ILL$,,AUTO
        20 005147   000000 471500                    LDP1    0,,PR0
        20 005150   000001 220003                    LDX0    1,DU
        20 005151   100000 440100                    SXL0    0,,PR1

      864    13217    6                      ILL$ -> ILL.ID   = %MVANO;

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:168  
  13217 20 005152   000000 471500                    LDP1    0,,PR0
        20 005153   000255 221003                    LDX1    173,DU
        20 005154   100000 741100                    STX1    0,,PR1
        20 005155   006205 710000 20                 TRA     s:13811

      865    13218
      866    13219    6                    CASE(ELSE);

      867    13220    6                      GOTO CANT_MAKE_MVANO;

  13220 20 005156   006631 710000 20                 TRA     CANT_MAKE_MVANO

      868    13221    6                  END /* CASE */;

      869    13222
      870    13223    5                CASE(%ALIGNMENT_BYTE1);

      871    13224    6                  DO CASE(LOPS.ALIGNMENT);

  13224 20 005157   200036 235100                    LDA     LOPS,,AUTO
        20 005160   000004 115007                    CMPA    4,DL
        20 005161   005163 602005 20                 TNC     s:13224+4,AL
        20 005162   005373 710000 20                 TRA     s:13389
        20 005163   005167 710000 20                 TRA     s:13226
        20 005164   005167 710000 20                 TRA     s:13226
        20 005165   005310 710000 20                 TRA     s:13314
        20 005166   005300 710000 20                 TRA     s:13310

      872    13225    6                    CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);

      873    13226    6                      ILL$ -> ILL.ID = %MVANO;

  13226 20 005167   200035 470500                    LDP0    @ILL$,,AUTO
        20 005170   000000 471500                    LDP1    0,,PR0
        20 005171   000255 220003                    LDX0    173,DU
        20 005172   100000 740100                    STX0    0,,PR1

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:169  
      874    13227    7                      IF LOP_ST$ -> ST.ID = %CONST THEN DO;

  13227 20 005173   200045 471500                    LDP1    LOP_ST$,,AUTO
        20 005174   100000 221100                    LDX1    0,,PR1
        20 005175   000767 101003                    CMPX1   503,DU
        20 005176   005221 601000 20                 TNZ     s:13235

      875    13228    7                        ILL$ -> ILL.CODE = %MVANO_BYTES_1_2;

  13228 20 005177   000000 473500                    LDP3    0,,PR0
        20 005200   000015 222003                    LDX2    13,DU
        20 005201   300000 442100                    SXL2    0,,PR3

      876    13229    7                       MKCN.CON = BITBIN (BINBIT (LOP_ST$ -> CONST.CONSTI.WORD1 / 512,
             13229                                 36) & '000777777000'O);

  13229 20 005202   100010 236100                    LDQ     8,,PR1
        20 005203   001000 506007                    DIV     512,DL
        20 005204   000005 376000 18                 ANQ     ZERO_WORD+5
        20 005205   000000 756000 9                  STQ     MKCN

      877    13230                             /* Create 2-byte constant starting on byte 1 */
      878    13231    7                        CALL Z8AC$MAKE_CONST (ETT$);

  13231 20 005206   200044 633500                    EPPR3   ETT$,,AUTO
        20 005207   200052 453500                    STP3    MASK+2,,AUTO
        20 005210   200052 630500                    EPPR0   MASK+2,,AUTO
        20 005211   000003 631400 21                 EPPR1   3
        20 005212   000000 701000 xent               TSX1    Z8AC$MAKE_CONST
        20 005213   000000 011000                    NOP     0

      879    13232    7                        ILL$ -> ILL.LOP = ETT$;

  13232 20 005214   200035 470500                    LDP0    @ILL$,,AUTO
        20 005215   000000 471500                    LDP1    0,,PR0
        20 005216   200044 236100                    LDQ     ETT$,,AUTO
        20 005217   100001 756100                    STQ     1,,PR1
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:170  

      880    13233    7                      END;

  13233 20 005220   006205 710000 20                 TRA     s:13811

      881    13234    7                      ELSE DO;

      882    13235    7                        ILL$ -> ILL.CODE = %MVANO_BYTES_0_1;

  13235 20 005221   000000 473500                    LDP3    0,,PR0
        20 005222   000020 222003                    LDX2    16,DU
        20 005223   300000 442100                    SXL2    0,,PR3

      883    13236                             %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ILL.ROP,@ROPCON=9);

  13240 20 005224   000000 236000 2                  LDQ     HEAD_ETT$
        20 005225   000002 116000 21                 CMPQ    2
        20 005226   005252 601000 20                 TNZ     s:13252

  13242 20 005227   000002 236000 4                  LDQ     ETT_+2
        20 005230   000005 036007                    ADLQ    5,DL
        20 005231   000003 116000 4                  CMPQ    ETT_+3
        20 005232   005243 604000 20                 TMI     s:13244

  13243 20 005233   000004 236000 21                 LDQ     4
        20 005234   200052 756100                    STQ     MASK+2,,AUTO
        20 005235   200052 633500                    EPPR3   MASK+2,,AUTO
        20 005236   200053 453500                    STP3    MASK+3,,AUTO
        20 005237   200053 630500                    EPPR0   MASK+3,,AUTO
        20 005240   000003 631400 21                 EPPR1   3
        20 005241   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 005242   000000 011000                    NOP     0

  13244 20 005243   000002 236000 4                  LDQ     ETT_+2
        20 005244   000022 736000                    QLS     18
        20 005245   000001 036000 4                  ADLQ    ETT_+1
        20 005246   200044 756100                    STQ     ETT$,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:171  

  13245 20 005247   000005 236007                    LDQ     5,DL
        20 005250   000002 056000 4                  ASQ     ETT_+2

  13246 20 005251   005256 710000 20                 TRA     s:13262

  13252 20 005252   200044 756100                    STQ     ETT$,,AUTO

  13253 20 005253   000000 473400 2                  LDP3    HEAD_ETT$
        20 005254   300003 236100                    LDQ     3,,PR3
        20 005255   000000 756000 2                  STQ     HEAD_ETT$

  13262 20 005256   000161 220003                    LDX0    113,DU
        20 005257   200044 470500                    LDP0    ETT$,,AUTO
        20 005260   000000 740100                    STX0    0,,PR0

  13285 20 005261   200035 470500                    LDP0    @ILL$,,AUTO
        20 005262   000000 471500                    LDP1    0,,PR0
        20 005263   100002 236100                    LDQ     2,,PR1
        20 005264   200044 473500                    LDP3    ETT$,,AUTO
        20 005265   300001 756100                    STQ     1,,PR3

  13290 20 005266   000002 236000 21                 LDQ     2
        20 005267   200044 471500                    LDP1    ETT$,,AUTO
        20 005270   100003 756100                    STQ     3,,PR1

  13295 20 005271   000011 235007                    LDA     9,DL
        20 005272   200044 471500                    LDP1    ETT$,,AUTO
        20 005273   100002 755100                    STA     2,,PR1

      884    13306    7                        ILL$ -> ILL.ROP = ETT$; /* Shift left 9 bits */

  13306 20 005274   000000 471500                    LDP1    0,,PR0
        20 005275   200044 236100                    LDQ     ETT$,,AUTO
        20 005276   100002 756100                    STQ     2,,PR1

      885    13307    7                      END;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:172  

  13307 20 005277   006205 710000 20                 TRA     s:13811

      886    13308
      887    13309    6                    CASE(%ALIGNMENT_BYTE1);

      888    13310    6                      ILL$ -> ILL.CODE = %MVANO_BYTES_1_2;

  13310 20 005300   200035 470500                    LDP0    @ILL$,,AUTO
        20 005301   000000 471500                    LDP1    0,,PR0
        20 005302   000015 220003                    LDX0    13,DU
        20 005303   100000 440100                    SXL0    0,,PR1

      889    13311    6                      ILL$ -> ILL.ID = %MVANO;

  13311 20 005304   000000 471500                    LDP1    0,,PR0
        20 005305   000255 221003                    LDX1    173,DU
        20 005306   100000 741100                    STX1    0,,PR1
        20 005307   006205 710000 20                 TRA     s:13811

      890    13312
      891    13313    6                    CASE(%ALIGNMENT_HALF);

      892    13314    6                      ILL$ -> ILL.CODE = %MVANO_BYTES_2_3;

  13314 20 005310   200035 470500                    LDP0    @ILL$,,AUTO
        20 005311   000000 471500                    LDP1    0,,PR0
        20 005312   000021 220003                    LDX0    17,DU
        20 005313   100000 440100                    SXL0    0,,PR1

      893    13315    6                      ILL$ -> ILL.ID = %MVANO;

  13315 20 005314   000000 471500                    LDP1    0,,PR0
        20 005315   000255 221003                    LDX1    173,DU
        20 005316   100000 741100                    STX1    0,,PR1

      894    13316                           %NEW_ETT(@ID=%SHIFT_R,@LOP=ILL$->ILL.ROP,@ROPCON=9);
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:173  

  13320 20 005317   000000 236000 2                  LDQ     HEAD_ETT$
        20 005320   000002 116000 21                 CMPQ    2
        20 005321   005345 601000 20                 TNZ     s:13332

  13322 20 005322   000002 236000 4                  LDQ     ETT_+2
        20 005323   000005 036007                    ADLQ    5,DL
        20 005324   000003 116000 4                  CMPQ    ETT_+3
        20 005325   005336 604000 20                 TMI     s:13324

  13323 20 005326   000004 236000 21                 LDQ     4
        20 005327   200052 756100                    STQ     MASK+2,,AUTO
        20 005330   200052 631500                    EPPR1   MASK+2,,AUTO
        20 005331   200053 451500                    STP1    MASK+3,,AUTO
        20 005332   200053 630500                    EPPR0   MASK+3,,AUTO
        20 005333   000003 631400 21                 EPPR1   3
        20 005334   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 005335   000000 011000                    NOP     0

  13324 20 005336   000002 236000 4                  LDQ     ETT_+2
        20 005337   000022 736000                    QLS     18
        20 005340   000001 036000 4                  ADLQ    ETT_+1
        20 005341   200044 756100                    STQ     ETT$,,AUTO

  13325 20 005342   000005 236007                    LDQ     5,DL
        20 005343   000002 056000 4                  ASQ     ETT_+2

  13326 20 005344   005351 710000 20                 TRA     s:13342

  13332 20 005345   200044 756100                    STQ     ETT$,,AUTO

  13333 20 005346   000000 471400 2                  LDP1    HEAD_ETT$
        20 005347   100003 236100                    LDQ     3,,PR1
        20 005350   000000 756000 2                  STQ     HEAD_ETT$

  13342 20 005351   000162 220003                    LDX0    114,DU
        20 005352   200044 470500                    LDP0    ETT$,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:174  
        20 005353   000000 740100                    STX0    0,,PR0

  13365 20 005354   200035 470500                    LDP0    @ILL$,,AUTO
        20 005355   000000 471500                    LDP1    0,,PR0
        20 005356   100002 236100                    LDQ     2,,PR1
        20 005357   200044 473500                    LDP3    ETT$,,AUTO
        20 005360   300001 756100                    STQ     1,,PR3

  13370 20 005361   000002 236000 21                 LDQ     2
        20 005362   200044 471500                    LDP1    ETT$,,AUTO
        20 005363   100003 756100                    STQ     3,,PR1

  13375 20 005364   000011 235007                    LDA     9,DL
        20 005365   200044 471500                    LDP1    ETT$,,AUTO
        20 005366   100002 755100                    STA     2,,PR1

      895    13386    6                      ILL$ -> ILL.ROP = ETT$;

  13386 20 005367   000000 471500                    LDP1    0,,PR0
        20 005370   200044 236100                    LDQ     ETT$,,AUTO
        20 005371   100002 756100                    STQ     2,,PR1
        20 005372   006205 710000 20                 TRA     s:13811

      896    13387
      897    13388    6                    CASE(ELSE);

      898    13389    6                      GOTO CANT_MAKE_MVANO;

  13389 20 005373   006631 710000 20                 TRA     CANT_MAKE_MVANO

      899    13390    6                  END /* CASE */;

      900    13391
      901    13392    5                CASE(%ALIGNMENT_HALF);

      902    13393    6                  DO CASE(LOPS.ALIGNMENT);

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:175  
  13393 20 005374   200036 235100                    LDA     LOPS,,AUTO
        20 005375   000004 115007                    CMPA    4,DL
        20 005376   005400 602005 20                 TNC     s:13393+4,AL
        20 005377   005507 710000 20                 TRA     s:13478
        20 005400   005404 710000 20                 TRA     s:13395
        20 005401   005404 710000 20                 TRA     s:13395
        20 005402   005477 710000 20                 TRA     s:13474
        20 005403   005414 710000 20                 TRA     s:13399

      903    13394    6                    CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);

      904    13395    6                      ILL$ -> ILL.CODE = %MVANO_LOWER_TO_UPPER;

  13395 20 005404   200035 470500                    LDP0    @ILL$,,AUTO
        20 005405   000000 471500                    LDP1    0,,PR0
        20 005406   000002 220003                    LDX0    2,DU
        20 005407   100000 440100                    SXL0    0,,PR1

      905    13396    6                      ILL$ -> ILL.ID   = %MVANO;

  13396 20 005410   000000 471500                    LDP1    0,,PR0
        20 005411   000255 221003                    LDX1    173,DU
        20 005412   100000 741100                    STX1    0,,PR1
        20 005413   006205 710000 20                 TRA     s:13811

      906    13397
      907    13398    6                    CASE(%ALIGNMENT_BYTE1);

      908    13399    6                      ILL$ -> ILL.CODE = %MVANO_BYTES_1_2;

  13399 20 005414   200035 470500                    LDP0    @ILL$,,AUTO
        20 005415   000000 471500                    LDP1    0,,PR0
        20 005416   000015 220003                    LDX0    13,DU
        20 005417   100000 440100                    SXL0    0,,PR1

      909    13400    6                      ILL$ -> ILL.ID = %MVANO;

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:176  
  13400 20 005420   000000 471500                    LDP1    0,,PR0
        20 005421   000255 221003                    LDX1    173,DU
        20 005422   100000 741100                    STX1    0,,PR1

      910    13401                           %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ILL.ROP,@ROPCON=9);

  13405 20 005423   000000 236000 2                  LDQ     HEAD_ETT$
        20 005424   000002 116000 21                 CMPQ    2
        20 005425   005451 601000 20                 TNZ     s:13417

  13407 20 005426   000002 236000 4                  LDQ     ETT_+2
        20 005427   000005 036007                    ADLQ    5,DL
        20 005430   000003 116000 4                  CMPQ    ETT_+3
        20 005431   005442 604000 20                 TMI     s:13409

  13408 20 005432   000004 236000 21                 LDQ     4
        20 005433   200052 756100                    STQ     MASK+2,,AUTO
        20 005434   200052 631500                    EPPR1   MASK+2,,AUTO
        20 005435   200053 451500                    STP1    MASK+3,,AUTO
        20 005436   200053 630500                    EPPR0   MASK+3,,AUTO
        20 005437   000003 631400 21                 EPPR1   3
        20 005440   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 005441   000000 011000                    NOP     0

  13409 20 005442   000002 236000 4                  LDQ     ETT_+2
        20 005443   000022 736000                    QLS     18
        20 005444   000001 036000 4                  ADLQ    ETT_+1
        20 005445   200044 756100                    STQ     ETT$,,AUTO

  13410 20 005446   000005 236007                    LDQ     5,DL
        20 005447   000002 056000 4                  ASQ     ETT_+2

  13411 20 005450   005455 710000 20                 TRA     s:13427

  13417 20 005451   200044 756100                    STQ     ETT$,,AUTO

  13418 20 005452   000000 471400 2                  LDP1    HEAD_ETT$
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:177  
        20 005453   100003 236100                    LDQ     3,,PR1
        20 005454   000000 756000 2                  STQ     HEAD_ETT$

  13427 20 005455   000161 220003                    LDX0    113,DU
        20 005456   200044 470500                    LDP0    ETT$,,AUTO
        20 005457   000000 740100                    STX0    0,,PR0

  13450 20 005460   200035 470500                    LDP0    @ILL$,,AUTO
        20 005461   000000 471500                    LDP1    0,,PR0
        20 005462   100002 236100                    LDQ     2,,PR1
        20 005463   200044 473500                    LDP3    ETT$,,AUTO
        20 005464   300001 756100                    STQ     1,,PR3

  13455 20 005465   000002 236000 21                 LDQ     2
        20 005466   200044 471500                    LDP1    ETT$,,AUTO
        20 005467   100003 756100                    STQ     3,,PR1

  13460 20 005470   000011 235007                    LDA     9,DL
        20 005471   200044 471500                    LDP1    ETT$,,AUTO
        20 005472   100002 755100                    STA     2,,PR1

      911    13471    6                      ILL$ -> ILL.ROP = ETT$;

  13471 20 005473   000000 471500                    LDP1    0,,PR0
        20 005474   200044 236100                    LDQ     ETT$,,AUTO
        20 005475   100002 756100                    STQ     2,,PR1
        20 005476   006205 710000 20                 TRA     s:13811

      912    13472
      913    13473    6                    CASE(%ALIGNMENT_HALF);

      914    13474    6                      ILL$ -> ILL.CODE = %MVANO_LOWER_TO_LOWER;

  13474 20 005477   200035 470500                    LDP0    @ILL$,,AUTO
        20 005500   000000 471500                    LDP1    0,,PR0
        20 005501   000003 220003                    LDX0    3,DU
        20 005502   100000 440100                    SXL0    0,,PR1
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:178  

      915    13475    6                      ILL$ -> ILL.ID   = %MVANO;

  13475 20 005503   000000 471500                    LDP1    0,,PR0
        20 005504   000255 221003                    LDX1    173,DU
        20 005505   100000 741100                    STX1    0,,PR1
        20 005506   006205 710000 20                 TRA     s:13811

      916    13476
      917    13477    6                    CASE(ELSE);

      918    13478    6                      GOTO CANT_MAKE_MVANO;

  13478 20 005507   006631 710000 20                 TRA     CANT_MAKE_MVANO

      919    13479    6                  END /* CASE */;

      920    13480
      921    13481    5                CASE(ELSE);

      922    13482    5                  GOTO CANT_MAKE_MVANO;

  13482 20 005510   006631 710000 20                 TRA     CANT_MAKE_MVANO

      923    13483    5              END /* CASE */;

      924    13484
      925    13485    4            CASE(%LENGTH_3_BYTES);

      926    13486    5              DO CASE(ROPS.ALIGNMENT);

  13486 20 005511   200040 235100                    LDA     ROPS,,AUTO
        20 005512   000004 115007                    CMPA    4,DL
        20 005513   005515 602005 20                 TNC     s:13486+4,AL
        20 005514   006071 710000 20                 TRA     s:13755
        20 005515   005521 710000 20                 TRA     s:13488
        20 005516   005521 710000 20                 TRA     s:13488
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:179  
        20 005517   006071 710000 20                 TRA     s:13755
        20 005520   005737 710000 20                 TRA     s:13659

      927    13487    5                CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);

      928    13488    6                  DO CASE(LOPS.ALIGNMENT);

  13488 20 005521   200036 235100                    LDA     LOPS,,AUTO
        20 005522   000004 115007                    CMPA    4,DL
        20 005523   005525 602005 20                 TNC     s:13488+4,AL
        20 005524   005736 710000 20                 TRA     s:13655
        20 005525   005531 710000 20                 TRA     s:13490
        20 005526   005531 710000 20                 TRA     s:13490
        20 005527   005736 710000 20                 TRA     s:13655
        20 005530   005546 710000 20                 TRA     s:13496

      929    13489    6                    CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);

      930    13490    6                      IF ILL$ -> ETT.ID = %CMPA THEN

  13490 20 005531   200035 470500                    LDP0    @ILL$,,AUTO
        20 005532   000000 471500                    LDP1    0,,PR0
        20 005533   100000 220100                    LDX0    0,,PR1
        20 005534   000111 100003                    CMPX0   73,DU
        20 005535   005540 601000 20                 TNZ     s:13492

      931    13491    6                        MASK = '777777777000'O;

  13491 20 005536   000006 236000 18                 LDQ     ZERO_WORD+6
        20 005537   200050 756100                    STQ     MASK,,AUTO

      932    13492    6                      ILL$ -> ILL.CODE = %MVANO_BYTES_0_2;

  13492 20 005540   000016 221003                    LDX1    14,DU
        20 005541   100000 441100                    SXL1    0,,PR1

      933    13493    6                      ILL$ -> ILL.ID = %MVANO;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:180  

  13493 20 005542   000000 471500                    LDP1    0,,PR0
        20 005543   000255 220003                    LDX0    173,DU
        20 005544   100000 740100                    STX0    0,,PR1
        20 005545   006205 710000 20                 TRA     s:13811

      934    13494
      935    13495    6                    CASE(%ALIGNMENT_BYTE1);

      936    13496    6                      IF ILL$ -> ETT.ID = %CMPA AND

  13496 20 005546   200035 470500                    LDP0    @ILL$,,AUTO
        20 005547   000000 471500                    LDP1    0,,PR0
        20 005550   100000 220100                    LDX0    0,,PR1
        20 005551   000111 100003                    CMPX0   73,DU
        20 005552   005635 601000 20                 TNZ     s:13572
        20 005553   200046 473500                    LDP3    ROP_ST$,,AUTO
        20 005554   300000 221100                    LDX1    0,,PR3
        20 005555   000767 101003                    CMPX1   503,DU
        20 005556   005635 600000 20                 TZE     s:13572

      937    13497    7                          ROP_ST$ -> ST.ID ~= %CONST THEN DO;

      938    13498    7                        ILL$ -> ILL.CODE = %MVANO_BYTES_0_2;

  13498 20 005557   000016 222003                    LDX2    14,DU
        20 005560   100000 442100                    SXL2    0,,PR1

      939    13499                             %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ETT.LOP,@ROPCON=9);

  13503 20 005561   000000 236000 2                  LDQ     HEAD_ETT$
        20 005562   000002 116000 21                 CMPQ    2
        20 005563   005607 601000 20                 TNZ     s:13515

  13505 20 005564   000002 236000 4                  LDQ     ETT_+2
        20 005565   000005 036007                    ADLQ    5,DL
        20 005566   000003 116000 4                  CMPQ    ETT_+3
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:181  
        20 005567   005600 604000 20                 TMI     s:13507

  13506 20 005570   000004 236000 21                 LDQ     4
        20 005571   200052 756100                    STQ     MASK+2,,AUTO
        20 005572   200052 631500                    EPPR1   MASK+2,,AUTO
        20 005573   200053 451500                    STP1    MASK+3,,AUTO
        20 005574   200053 630500                    EPPR0   MASK+3,,AUTO
        20 005575   000003 631400 21                 EPPR1   3
        20 005576   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 005577   000000 011000                    NOP     0

  13507 20 005600   000002 236000 4                  LDQ     ETT_+2
        20 005601   000022 736000                    QLS     18
        20 005602   000001 036000 4                  ADLQ    ETT_+1
        20 005603   200044 756100                    STQ     ETT$,,AUTO

  13508 20 005604   000005 236007                    LDQ     5,DL
        20 005605   000002 056000 4                  ASQ     ETT_+2

  13509 20 005606   005613 710000 20                 TRA     s:13525

  13515 20 005607   200044 756100                    STQ     ETT$,,AUTO

  13516 20 005610   000000 471400 2                  LDP1    HEAD_ETT$
        20 005611   100003 236100                    LDQ     3,,PR1
        20 005612   000000 756000 2                  STQ     HEAD_ETT$

  13525 20 005613   000161 220003                    LDX0    113,DU
        20 005614   200044 470500                    LDP0    ETT$,,AUTO
        20 005615   000000 740100                    STX0    0,,PR0

  13548 20 005616   200035 470500                    LDP0    @ILL$,,AUTO
        20 005617   000000 471500                    LDP1    0,,PR0
        20 005620   100001 236100                    LDQ     1,,PR1
        20 005621   200044 473500                    LDP3    ETT$,,AUTO
        20 005622   300001 756100                    STQ     1,,PR3

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:182  
  13553 20 005623   000002 236000 21                 LDQ     2
        20 005624   200044 471500                    LDP1    ETT$,,AUTO
        20 005625   100003 756100                    STQ     3,,PR1

  13558 20 005626   000011 235007                    LDA     9,DL
        20 005627   200044 471500                    LDP1    ETT$,,AUTO
        20 005630   100002 755100                    STA     2,,PR1

      940    13569    7                        ILL$ -> ILL.LOP = ETT$; /* Shift left 9 bits */

  13569 20 005631   000000 471500                    LDP1    0,,PR0
        20 005632   200044 236100                    LDQ     ETT$,,AUTO
        20 005633   100001 756100                    STQ     1,,PR1

      941    13570    7                      END;

  13570 20 005634   005732 710000 20                 TRA     s:13652

      942    13571    7                      ELSE DO;

      943    13572    7                        ILL$ -> ILL.CODE = %MVANO_BYTES_1_3;

  13572 20 005635   000017 221003                    LDX1    15,DU
        20 005636   100000 441100                    SXL1    0,,PR1

      944    13573    7                        IF ROP_ST$ -> ST.ID = %CONST THEN

  13573 20 005637   200046 471500                    LDP1    ROP_ST$,,AUTO
        20 005640   100000 220100                    LDX0    0,,PR1
        20 005641   000767 100003                    CMPX0   503,DU
        20 005642   005656 601000 20                 TNZ     s:13584

      945    13574    8                          DO;

      946    13575    8                            MKCN.CON = BITBIN (BINBIT (ROP_ST$ -> CONST.CONSTI.WORD1 /
             13575                                     512, 36) & '000777777777'O);

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:183  
  13575 20 005643   100010 236100                    LDQ     8,,PR1
        20 005644   001000 506007                    DIV     512,DL
        20 005645   000007 376000 18                 ANQ     ZERO_WORD+7
        20 005646   000000 756000 9                  STQ     MKCN

      947    13576                                 /* Create 3-byte constant starting on byte 1 */
      948    13577    8                            CALL Z8AC$MAKE_CONST (ETT$);

  13577 20 005647   200044 633500                    EPPR3   ETT$,,AUTO
        20 005650   200052 453500                    STP3    MASK+2,,AUTO
        20 005651   200052 630500                    EPPR0   MASK+2,,AUTO
        20 005652   000003 631400 21                 EPPR1   3
        20 005653   000000 701000 xent               TSX1    Z8AC$MAKE_CONST
        20 005654   000000 011000                    NOP     0

      949    13578    8                          END;

  13578 20 005655   005726 710000 20                 TRA     s:13650

      950    13579    7                        ELSE
      951    13580                               %NEW_ETT(@ID=%SHIFT_R,@LOP=ILL$->ILL.ROP,@ROPCON=9);
             13580                                   /* Shift right 9 bits */

  13584 20 005656   000000 236000 2                  LDQ     HEAD_ETT$
        20 005657   000002 116000 21                 CMPQ    2
        20 005660   005704 601000 20                 TNZ     s:13596

  13586 20 005661   000002 236000 4                  LDQ     ETT_+2
        20 005662   000005 036007                    ADLQ    5,DL
        20 005663   000003 116000 4                  CMPQ    ETT_+3
        20 005664   005675 604000 20                 TMI     s:13588

  13587 20 005665   000004 236000 21                 LDQ     4
        20 005666   200052 756100                    STQ     MASK+2,,AUTO
        20 005667   200052 633500                    EPPR3   MASK+2,,AUTO
        20 005670   200053 453500                    STP3    MASK+3,,AUTO
        20 005671   200053 630500                    EPPR0   MASK+3,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:184  
        20 005672   000003 631400 21                 EPPR1   3
        20 005673   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 005674   000000 011000                    NOP     0

  13588 20 005675   000002 236000 4                  LDQ     ETT_+2
        20 005676   000022 736000                    QLS     18
        20 005677   000001 036000 4                  ADLQ    ETT_+1
        20 005700   200044 756100                    STQ     ETT$,,AUTO

  13589 20 005701   000005 236007                    LDQ     5,DL
        20 005702   000002 056000 4                  ASQ     ETT_+2

  13590 20 005703   005710 710000 20                 TRA     s:13606

  13596 20 005704   200044 756100                    STQ     ETT$,,AUTO

  13597 20 005705   000000 473400 2                  LDP3    HEAD_ETT$
        20 005706   300003 236100                    LDQ     3,,PR3
        20 005707   000000 756000 2                  STQ     HEAD_ETT$

  13606 20 005710   000162 220003                    LDX0    114,DU
        20 005711   200044 470500                    LDP0    ETT$,,AUTO
        20 005712   000000 740100                    STX0    0,,PR0

  13629 20 005713   200035 470500                    LDP0    @ILL$,,AUTO
        20 005714   000000 471500                    LDP1    0,,PR0
        20 005715   100002 236100                    LDQ     2,,PR1
        20 005716   200044 473500                    LDP3    ETT$,,AUTO
        20 005717   300001 756100                    STQ     1,,PR3

  13634 20 005720   000002 236000 21                 LDQ     2
        20 005721   200044 471500                    LDP1    ETT$,,AUTO
        20 005722   100003 756100                    STQ     3,,PR1

  13639 20 005723   000011 235007                    LDA     9,DL
        20 005724   200044 471500                    LDP1    ETT$,,AUTO
        20 005725   100002 755100                    STA     2,,PR1
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:185  

      952    13650    7                        ILL$ -> ILL.ROP = ETT$;

  13650 20 005726   200035 470500                    LDP0    @ILL$,,AUTO
        20 005727   000000 471500                    LDP1    0,,PR0
        20 005730   200044 236100                    LDQ     ETT$,,AUTO
        20 005731   100002 756100                    STQ     2,,PR1

      953    13651    7                      END;

      954    13652    6                      ILL$ -> ILL.ID = %MVANO;

  13652 20 005732   000000 471500                    LDP1    0,,PR0
        20 005733   000255 220003                    LDX0    173,DU
        20 005734   100000 740100                    STX0    0,,PR1
        20 005735   006205 710000 20                 TRA     s:13811

      955    13653
      956    13654    6                    CASE(ELSE);

      957    13655    6                      GOTO CANT_MAKE_MVANO;

  13655 20 005736   006631 710000 20                 TRA     CANT_MAKE_MVANO

      958    13656    6                  END /* CASE */;

      959    13657
      960    13658    5                CASE(%ALIGNMENT_BYTE1);

      961    13659    6                  DO CASE(LOPS.ALIGNMENT);

  13659 20 005737   200036 235100                    LDA     LOPS,,AUTO
        20 005740   000004 115007                    CMPA    4,DL
        20 005741   005743 602005 20                 TNC     s:13659+4,AL
        20 005742   006070 710000 20                 TRA     s:13751
        20 005743   005747 710000 20                 TRA     s:13661
        20 005744   005747 710000 20                 TRA     s:13661
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:186  
        20 005745   006070 710000 20                 TRA     s:13751
        20 005746   006060 710000 20                 TRA     s:13747

      962    13660    6                    CASE(%ALIGNMENT_WORD,%ALIGNMENT_DOUBLE);

      963    13661    6                      IF ILL$ -> ETT.LOP -> ETT.ID = %TRIAD THEN

  13661 20 005747   200035 470500                    LDP0    @ILL$,,AUTO
        20 005750   000000 471500                    LDP1    0,,PR0
        20 005751   100001 473500                    LDP3    1,,PR1
        20 005752   300000 220100                    LDX0    0,,PR3
        20 005753   000015 100003                    CMPX0   13,DU
        20 005754   005777 601000 20                 TNZ     s:13671

      964    13662    7                        DO; /* Possible only for CMPA */

      965    13663    7                          ILL$ -> ILL.CODE = %MVANO_BYTES_1_3;

  13663 20 005755   000017 221003                    LDX1    15,DU
        20 005756   100000 441100                    SXL1    0,,PR1

      966    13664    7                          MKCN.CON = BITBIN (BINBIT (LOP_ST$ -> CONST.CONSTI.WORD1 /
             13664                                   512, 36) & '000777777777'O);

  13664 20 005757   200045 471500                    LDP1    LOP_ST$,,AUTO
        20 005760   100010 236100                    LDQ     8,,PR1
        20 005761   001000 506007                    DIV     512,DL
        20 005762   000007 376000 18                 ANQ     ZERO_WORD+7
        20 005763   000000 756000 9                  STQ     MKCN

      967    13665                               /* Create 3-byte constant starting at byte 1 */
      968    13666    7                          CALL Z8AC$MAKE_CONST (ETT$);

  13666 20 005764   200044 633500                    EPPR3   ETT$,,AUTO
        20 005765   200052 453500                    STP3    MASK+2,,AUTO
        20 005766   200052 630500                    EPPR0   MASK+2,,AUTO
        20 005767   000003 631400 21                 EPPR1   3
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:187  
        20 005770   000000 701000 xent               TSX1    Z8AC$MAKE_CONST
        20 005771   000000 011000                    NOP     0

      969    13667    7                          ILL$ -> ETT.LOP = ETT$;

  13667 20 005772   200035 470500                    LDP0    @ILL$,,AUTO
        20 005773   000000 471500                    LDP1    0,,PR0
        20 005774   200044 236100                    LDQ     ETT$,,AUTO
        20 005775   100001 756100                    STQ     1,,PR1

      970    13668    7                        END;

  13668 20 005776   006054 710000 20                 TRA     s:13744

      971    13669    6                      ELSE
      972    13670    7                        DO;

      973    13671    7                          ILL$ -> ILL.CODE = %MVANO_BYTES_0_2;

  13671 20 005777   000016 221003                    LDX1    14,DU
        20 006000   100000 441100                    SXL1    0,,PR1

      974    13672                               %NEW_ETT(@ID=%SHIFT_L,@LOP=ILL$->ILL.ROP,@ROPCON=9);

  13676 20 006001   000000 236000 2                  LDQ     HEAD_ETT$
        20 006002   000002 116000 21                 CMPQ    2
        20 006003   006027 601000 20                 TNZ     s:13688

  13678 20 006004   000002 236000 4                  LDQ     ETT_+2
        20 006005   000005 036007                    ADLQ    5,DL
        20 006006   000003 116000 4                  CMPQ    ETT_+3
        20 006007   006020 604000 20                 TMI     s:13680

  13679 20 006010   000004 236000 21                 LDQ     4
        20 006011   200052 756100                    STQ     MASK+2,,AUTO
        20 006012   200052 631500                    EPPR1   MASK+2,,AUTO
        20 006013   200053 451500                    STP1    MASK+3,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:188  
        20 006014   200053 630500                    EPPR0   MASK+3,,AUTO
        20 006015   000003 631400 21                 EPPR1   3
        20 006016   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 006017   000000 011000                    NOP     0

  13680 20 006020   000002 236000 4                  LDQ     ETT_+2
        20 006021   000022 736000                    QLS     18
        20 006022   000001 036000 4                  ADLQ    ETT_+1
        20 006023   200044 756100                    STQ     ETT$,,AUTO

  13681 20 006024   000005 236007                    LDQ     5,DL
        20 006025   000002 056000 4                  ASQ     ETT_+2

  13682 20 006026   006033 710000 20                 TRA     s:13698

  13688 20 006027   200044 756100                    STQ     ETT$,,AUTO

  13689 20 006030   000000 471400 2                  LDP1    HEAD_ETT$
        20 006031   100003 236100                    LDQ     3,,PR1
        20 006032   000000 756000 2                  STQ     HEAD_ETT$

  13698 20 006033   000161 220003                    LDX0    113,DU
        20 006034   200044 470500                    LDP0    ETT$,,AUTO
        20 006035   000000 740100                    STX0    0,,PR0

  13721 20 006036   200035 470500                    LDP0    @ILL$,,AUTO
        20 006037   000000 471500                    LDP1    0,,PR0
        20 006040   100002 236100                    LDQ     2,,PR1
        20 006041   200044 473500                    LDP3    ETT$,,AUTO
        20 006042   300001 756100                    STQ     1,,PR3

  13726 20 006043   000002 236000 21                 LDQ     2
        20 006044   200044 471500                    LDP1    ETT$,,AUTO
        20 006045   100003 756100                    STQ     3,,PR1

  13731 20 006046   000011 235007                    LDA     9,DL
        20 006047   200044 471500                    LDP1    ETT$,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:189  
        20 006050   100002 755100                    STA     2,,PR1

      975    13742    7                          ILL$ -> ILL.ROP = ETT$;

  13742 20 006051   000000 471500                    LDP1    0,,PR0
        20 006052   200044 236100                    LDQ     ETT$,,AUTO
        20 006053   100002 756100                    STQ     2,,PR1

      976    13743    7                        END;

      977    13744    6                      ILL$ -> ILL.ID = %MVANO;

  13744 20 006054   000000 471500                    LDP1    0,,PR0
        20 006055   000255 220003                    LDX0    173,DU
        20 006056   100000 740100                    STX0    0,,PR1
        20 006057   006205 710000 20                 TRA     s:13811

      978    13745
      979    13746    6                    CASE(%ALIGNMENT_BYTE1);

      980    13747    6                      ILL$ -> ILL.CODE = %MVANO_BYTES_1_3;

  13747 20 006060   200035 470500                    LDP0    @ILL$,,AUTO
        20 006061   000000 471500                    LDP1    0,,PR0
        20 006062   000017 220003                    LDX0    15,DU
        20 006063   100000 440100                    SXL0    0,,PR1

      981    13748    6                      ILL$ -> ILL.ID = %MVANO;

  13748 20 006064   000000 471500                    LDP1    0,,PR0
        20 006065   000255 221003                    LDX1    173,DU
        20 006066   100000 741100                    STX1    0,,PR1
        20 006067   006205 710000 20                 TRA     s:13811

      982    13749
      983    13750    6                    CASE(ELSE);

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:190  
      984    13751    6                      GOTO CANT_MAKE_MVANO;

  13751 20 006070   006631 710000 20                 TRA     CANT_MAKE_MVANO

      985    13752    6                  END /* CASE */;

      986    13753
      987    13754    5                CASE(ELSE);

      988    13755    5                  GOTO CANT_MAKE_MVANO;

  13755 20 006071   006631 710000 20                 TRA     CANT_MAKE_MVANO

      989    13756    5              END /* CASE */;

      990    13757
      991    13758    4            CASE(%LENGTH_4_BYTES);

      992    13759    5              DO CASE(ROPS.ALIGNMENT);

  13759 20 006072   200040 235100                    LDA     ROPS,,AUTO
        20 006073   000002 115007                    CMPA    2,DL
        20 006074   006076 602005 20                 TNC     s:13759+4,AL
        20 006075   006117 710000 20                 TRA     s:13771
        20 006076   006100 710000 20                 TRA     s:13761
        20 006077   006100 710000 20                 TRA     s:13761

      993    13760    5                CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);

      994    13761    6                  DO CASE(LOPS.ALIGNMENT);

  13761 20 006100   200036 235100                    LDA     LOPS,,AUTO
        20 006101   000002 115007                    CMPA    2,DL
        20 006102   006104 602005 20                 TNC     s:13761+4,AL
        20 006103   006116 710000 20                 TRA     s:13767
        20 006104   006106 710000 20                 TRA     s:13763
        20 006105   006106 710000 20                 TRA     s:13763
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:191  

      995    13762    6                    CASE(%ALIGNMENT_WORD, %ALIGNMENT_DOUBLE);

      996    13763    6                      ILL$ -> ILL.CODE = %MVANO_WORD_TO_WORD;

  13763 20 006106   200035 470500                    LDP0    @ILL$,,AUTO
        20 006107   000000 471500                    LDP1    0,,PR0
        20 006110   000004 220003                    LDX0    4,DU
        20 006111   100000 440100                    SXL0    0,,PR1

      997    13764    6                      ILL$ -> ILL.ID   = %MVANO;

  13764 20 006112   000000 471500                    LDP1    0,,PR0
        20 006113   000255 221003                    LDX1    173,DU
        20 006114   100000 741100                    STX1    0,,PR1
        20 006115   006205 710000 20                 TRA     s:13811

      998    13765
      999    13766    6                    CASE(ELSE);

     1000    13767    6                      GOTO CANT_MAKE_MVANO;

  13767 20 006116   006631 710000 20                 TRA     CANT_MAKE_MVANO

     1001    13768    6                  END /* Case */;

     1002    13769
     1003    13770    5                CASE(ELSE);

     1004    13771    5                  GOTO CANT_MAKE_MVANO;

  13771 20 006117   006631 710000 20                 TRA     CANT_MAKE_MVANO

     1005    13772    5              END /* Case */;

     1006    13773
     1007    13774    4            CASE(%LENGTH_8_BYTES);
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:192  

     1008    13775    5              DO CASE(ROPS.ALIGNMENT);

  13775 20 006120   200040 235100                    LDA     ROPS,,AUTO
        20 006121   000002 115007                    CMPA    2,DL
        20 006122   006124 602005 20                 TNC     s:13775+4,AL
        20 006123   006204 710000 20                 TRA     s:13806
        20 006124   006155 710000 20                 TRA     s:13792
        20 006125   006126 710000 20                 TRA     s:13777

     1009    13776    5                CASE(%ALIGNMENT_DOUBLE);

     1010    13777    6                  DO CASE(LOPS.ALIGNMENT);

  13777 20 006126   200036 235100                    LDA     LOPS,,AUTO
        20 006127   000002 115007                    CMPA    2,DL
        20 006130   006132 602005 20                 TNC     s:13777+4,AL
        20 006131   006154 710000 20                 TRA     s:13787
        20 006132   006144 710000 20                 TRA     s:13783
        20 006133   006134 710000 20                 TRA     s:13779

     1011    13778    6                    CASE(%ALIGNMENT_DOUBLE);

     1012    13779    6                      ILL$ -> ILL.CODE = %MVANO_EVEN_TO_EVEN;

  13779 20 006134   200035 470500                    LDP0    @ILL$,,AUTO
        20 006135   000000 471500                    LDP1    0,,PR0
        20 006136   000005 220003                    LDX0    5,DU
        20 006137   100000 440100                    SXL0    0,,PR1

     1013    13780    6                      ILL$ -> ILL.ID   = %MVANO;

  13780 20 006140   000000 471500                    LDP1    0,,PR0
        20 006141   000255 221003                    LDX1    173,DU
        20 006142   100000 741100                    STX1    0,,PR1
        20 006143   006205 710000 20                 TRA     s:13811

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:193  
     1014    13781
     1015    13782    6                    CASE(%ALIGNMENT_WORD);

     1016    13783    6                      ILL$ -> ILL.CODE = %MVANO_EVEN_TO_ODD;

  13783 20 006144   200035 470500                    LDP0    @ILL$,,AUTO
        20 006145   000000 471500                    LDP1    0,,PR0
        20 006146   000006 220003                    LDX0    6,DU
        20 006147   100000 440100                    SXL0    0,,PR1

     1017    13784    6                      ILL$ -> ILL.ID   = %MVANO;

  13784 20 006150   000000 471500                    LDP1    0,,PR0
        20 006151   000255 221003                    LDX1    173,DU
        20 006152   100000 741100                    STX1    0,,PR1
        20 006153   006205 710000 20                 TRA     s:13811

     1018    13785
     1019    13786    6                    CASE(ELSE);

     1020    13787    6                      GOTO CANT_MAKE_MVANO;

  13787 20 006154   006631 710000 20                 TRA     CANT_MAKE_MVANO

     1021    13788
     1022    13789    6                  END /* Case */;

     1023    13790
     1024    13791    5                CASE(%ALIGNMENT_WORD);

     1025    13792    6                  DO CASE(LOPS.ALIGNMENT);

  13792 20 006155   200036 235100                    LDA     LOPS,,AUTO
        20 006156   000002 115007                    CMPA    2,DL
        20 006157   006161 602005 20                 TNC     s:13792+4,AL
        20 006160   006203 710000 20                 TRA     s:13802
        20 006161   006173 710000 20                 TRA     s:13798
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:194  
        20 006162   006163 710000 20                 TRA     s:13794

     1026    13793    6                    CASE(%ALIGNMENT_DOUBLE);

     1027    13794    6                      ILL$ -> ILL.CODE = %MVANO_ODD_TO_EVEN;

  13794 20 006163   200035 470500                    LDP0    @ILL$,,AUTO
        20 006164   000000 471500                    LDP1    0,,PR0
        20 006165   000007 220003                    LDX0    7,DU
        20 006166   100000 440100                    SXL0    0,,PR1

     1028    13795    6                      ILL$ -> ILL.ID   = %MVANO;

  13795 20 006167   000000 471500                    LDP1    0,,PR0
        20 006170   000255 221003                    LDX1    173,DU
        20 006171   100000 741100                    STX1    0,,PR1
        20 006172   006205 710000 20                 TRA     s:13811

     1029    13796
     1030    13797    6                    CASE(%ALIGNMENT_WORD);

     1031    13798    6                      ILL$ -> ILL.CODE = %MVANO_ODD_TO_ODD;

  13798 20 006173   200035 470500                    LDP0    @ILL$,,AUTO
        20 006174   000000 471500                    LDP1    0,,PR0
        20 006175   000010 220003                    LDX0    8,DU
        20 006176   100000 440100                    SXL0    0,,PR1

     1032    13799    6                      ILL$ -> ILL.ID = %MVANO;

  13799 20 006177   000000 471500                    LDP1    0,,PR0
        20 006200   000255 221003                    LDX1    173,DU
        20 006201   100000 741100                    STX1    0,,PR1
        20 006202   006205 710000 20                 TRA     s:13811

     1033    13800
     1034    13801    6                    CASE(ELSE);
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:195  

     1035    13802    6                      GOTO CANT_MAKE_MVANO;

  13802 20 006203   006631 710000 20                 TRA     CANT_MAKE_MVANO

     1036    13803    6                  END /* Case */;

     1037    13804
     1038    13805    5                CASE(ELSE);

     1039    13806    5                  GOTO CANT_MAKE_MVANO;

  13806 20 006204   006631 710000 20                 TRA     CANT_MAKE_MVANO

     1040    13807    5              END /* Case */;

     1041    13808
     1042    13809    4          END /* CASE */;

     1043    13810
     1044    13811    3          IF ILL$ -> ILL.ID = %MVANO THEN

  13811 20 006205   200035 470500                    LDP0    @ILL$,,AUTO
        20 006206   000000 471500                    LDP1    0,,PR0
        20 006207   100000 220100                    LDX0    0,,PR1
        20 006210   000255 100003                    CMPX0   173,DU
        20 006211   006627 601000 20                 TNZ     s:14081

     1045    13812    4            DO;

     1046    13813    4              IF MASK ~= '0'B THEN

  13813 20 006212   200050 235100                    LDA     MASK,,AUTO
        20 006213   006253 600000 20                 TZE     s:13828

     1047    13814    5                DO;

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:196  
     1048    13815    5                  IF ILL$ -> ETT.LOP -> ETT.ID = %TRIAD THEN

  13815 20 006214   100001 473500                    LDP3    1,,PR1
        20 006215   300000 221100                    LDX1    0,,PR3
        20 006216   000015 101003                    CMPX1   13,DU
        20 006217   006234 601000 20                 TNZ     s:13821

     1049    13816    6                    DO;

     1050    13817    6                      MKCN.CON = BITBIN (BINBIT (LOP_ST$

  13817 20 006220   200045 474500                    LDP4    LOP_ST$,,AUTO
        20 006221   400010 236100                    LDQ     8,,PR4
        20 006222   200050 376100                    ANQ     MASK,,AUTO
        20 006223   000000 756000 9                  STQ     MKCN

     1051    13818    6                          -> CONST.CONSTI.WORD1, 36) & MASK);
     1052    13819    6                      CALL Z8AC$MAKE_CONST (ILL$ -> ETT.LOP);

  13819 20 006224   000000 471500                    LDP1    0,,PR0
        20 006225   100001 633500                    EPPR3   1,,PR1
        20 006226   200052 453500                    STP3    MASK+2,,AUTO
        20 006227   200052 630500                    EPPR0   MASK+2,,AUTO
        20 006230   000003 631400 21                 EPPR1   3
        20 006231   000000 701000 xent               TSX1    Z8AC$MAKE_CONST
        20 006232   000000 011000                    NOP     0

     1053    13820    6                    END;

  13820 20 006233   006253 710000 20                 TRA     s:13828

     1054    13821    5                  ELSE IF ILL$ -> ETT.ROP -> ETT.ID = %TRIAD THEN

  13821 20 006234   100002 474500                    LDP4    2,,PR1
        20 006235   400000 222100                    LDX2    0,,PR4
        20 006236   000015 102003                    CMPX2   13,DU
        20 006237   006253 601000 20                 TNZ     s:13828
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:197  

     1055    13822    6                    DO;

     1056    13823    6                      MKCN.CON = BITBIN (BINBIT (ROP_ST$

  13823 20 006240   200046 475500                    LDP5    ROP_ST$,,AUTO
        20 006241   500010 236100                    LDQ     8,,PR5
        20 006242   200050 376100                    ANQ     MASK,,AUTO
        20 006243   000000 756000 9                  STQ     MKCN

     1057    13824    6                          -> CONST.CONSTI.WORD1, 36) & MASK);
     1058    13825    6                      CALL Z8AC$MAKE_CONST (ILL$ -> ETT.ROP);

  13825 20 006244   000000 471500                    LDP1    0,,PR0
        20 006245   100002 633500                    EPPR3   2,,PR1
        20 006246   200052 453500                    STP3    MASK+2,,AUTO
        20 006247   200052 630500                    EPPR0   MASK+2,,AUTO
        20 006250   000003 631400 21                 EPPR1   3
        20 006251   000000 701000 xent               TSX1    Z8AC$MAKE_CONST
        20 006252   000000 011000                    NOP     0

     1059    13826    6                    END;

     1060    13827    5                END;

     1061    13828    4              IF ILL$ -> ILL.LOP -> ETT.ID = %OFF THEN

  13828 20 006253   200035 470500                    LDP0    @ILL$,,AUTO
        20 006254   000000 471500                    LDP1    0,,PR0
        20 006255   100001 473500                    LDP3    1,,PR1
        20 006256   300000 220100                    LDX0    0,,PR3
        20 006257   000003 100003                    CMPX0   3,DU
        20 006260   006370 601000 20                 TNZ     s:13912

     1062    13829    5                DO;

     1063    13830                       %FISH(TRIAD=ILL$ -> ILL.LOP,RTN=LOP$);
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:198  

  13832 20 006261   100001 236100                    LDQ     1,,PR1
        20 006262   200011 756100                    STQ     LOP$,,AUTO

  13833 20 006263   200011 471500                    LDP1    LOP$,,AUTO
        20 006264   100000 220100                    LDX0    0,,PR1
        20 006265   000751 100003                    CMPX0   489,DU
        20 006266   006276 603000 20                 TRC     s:13838

  13834 20 006267   200011 470500                    LDP0    LOP$,,AUTO
        20 006270   000001 236100                    LDQ     1,,PR0
        20 006271   200011 756100                    STQ     LOP$,,AUTO

  13835 20 006272   200011 470500                    LDP0    LOP$,,AUTO
        20 006273   000000 220100                    LDX0    0,,PR0
        20 006274   000751 100003                    CMPX0   489,DU
        20 006275   006267 602000 20                 TNC     s:13834

     1064    13838    5                  OFF_ROPCON.VALUE = (ILL$ -> ILL.LOP -> ETT.OFFSET.VALUE + LOP$ ->
             13838                           VARIABLE.ADSC.CN) / 4;

  13838 20 006276   200035 470500                    LDP0    @ILL$,,AUTO
        20 006277   000000 471500                    LDP1    0,,PR0
        20 006300   100001 473500                    LDP3    1,,PR1
        20 006301   200011 474500                    LDP4    LOP$,,AUTO
        20 006302   400001 236100                    LDQ     1,,PR4
        20 006303   000020 772000                    QRL     16
        20 006304   000003 376007                    ANQ     3,DL
        20 006305   200052 756100                    STQ     MASK+2,,AUTO
        20 006306   300002 236100                    LDQ     2,,PR3
        20 006307   000022 732000                    QRS     18
        20 006310   200052 036100                    ADLQ    MASK+2,,AUTO
        20 006311   000004 506007                    DIV     4,DL
        20 006312   000000 620006                    EAX0    0,QL
        20 006313   000000 740000 19                 STX0    OFF_ROPCON

     1065    13839                       %NEW_ETT(@ID=%OFF,@LOP=ILL$->ILL.LOP->ETT.LOP,@ROPCON=OFF_ROPCON1);
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:199  

  13843 20 006314   000000 236000 2                  LDQ     HEAD_ETT$
        20 006315   000002 116000 21                 CMPQ    2
        20 006316   006342 601000 20                 TNZ     s:13855

  13845 20 006317   000002 236000 4                  LDQ     ETT_+2
        20 006320   000005 036007                    ADLQ    5,DL
        20 006321   000003 116000 4                  CMPQ    ETT_+3
        20 006322   006333 604000 20                 TMI     s:13847

  13846 20 006323   000004 236000 21                 LDQ     4
        20 006324   200052 756100                    STQ     MASK+2,,AUTO
        20 006325   200052 631500                    EPPR1   MASK+2,,AUTO
        20 006326   200053 451500                    STP1    MASK+3,,AUTO
        20 006327   200053 630500                    EPPR0   MASK+3,,AUTO
        20 006330   000003 631400 21                 EPPR1   3
        20 006331   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 006332   000000 011000                    NOP     0

  13847 20 006333   000002 236000 4                  LDQ     ETT_+2
        20 006334   000022 736000                    QLS     18
        20 006335   000001 036000 4                  ADLQ    ETT_+1
        20 006336   200044 756100                    STQ     ETT$,,AUTO

  13848 20 006337   000005 236007                    LDQ     5,DL
        20 006340   000002 056000 4                  ASQ     ETT_+2

  13849 20 006341   006346 710000 20                 TRA     s:13865

  13855 20 006342   200044 756100                    STQ     ETT$,,AUTO

  13856 20 006343   000000 471400 2                  LDP1    HEAD_ETT$
        20 006344   100003 236100                    LDQ     3,,PR1
        20 006345   000000 756000 2                  STQ     HEAD_ETT$

  13865 20 006346   000003 220003                    LDX0    3,DU
        20 006347   200044 470500                    LDP0    ETT$,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:200  
        20 006350   000000 740100                    STX0    0,,PR0

  13888 20 006351   200035 470500                    LDP0    @ILL$,,AUTO
        20 006352   000000 471500                    LDP1    0,,PR0
        20 006353   100001 473500                    LDP3    1,,PR1
        20 006354   300001 236100                    LDQ     1,,PR3
        20 006355   200044 474500                    LDP4    ETT$,,AUTO
        20 006356   400001 756100                    STQ     1,,PR4

  13893 20 006357   000002 236000 21                 LDQ     2
        20 006360   200044 471500                    LDP1    ETT$,,AUTO
        20 006361   100003 756100                    STQ     3,,PR1

  13898 20 006362   200044 471500                    LDP1    ETT$,,AUTO
        20 006363   000000 235000 19                 LDA     OFF_ROPCON
        20 006364   100002 755100                    STA     2,,PR1

     1066    13909    5                  ILL$ -> ILL.LOP = ETT$; /* OFF units changed to words */

  13909 20 006365   000000 471500                    LDP1    0,,PR0
        20 006366   200044 236100                    LDQ     ETT$,,AUTO
        20 006367   100001 756100                    STQ     1,,PR1

     1067    13910    5                END;

     1068    13911
     1069    13912    4              IF ILL$ -> ILL.ROP -> ETT.ID = %OFF THEN

  13912 20 006370   000000 471500                    LDP1    0,,PR0
        20 006371   100002 473500                    LDP3    2,,PR1
        20 006372   300000 220100                    LDX0    0,,PR3
        20 006373   000003 100003                    CMPX0   3,DU
        20 006374   006505 601000 20                 TNZ     s:13995

     1070    13913    5                DO;

     1071    13914                       %FISH(TRIAD=ILL$ -> ILL.ROP,RTN=ROP$);
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:201  

  13916 20 006375   100002 236100                    LDQ     2,,PR1
        20 006376   200012 756100                    STQ     ROP$,,AUTO

  13917 20 006377   200012 471500                    LDP1    ROP$,,AUTO
        20 006400   100000 220100                    LDX0    0,,PR1
        20 006401   000751 100003                    CMPX0   489,DU
        20 006402   006412 603000 20                 TRC     s:13922

  13918 20 006403   200012 470500                    LDP0    ROP$,,AUTO
        20 006404   000001 236100                    LDQ     1,,PR0
        20 006405   200012 756100                    STQ     ROP$,,AUTO

  13919 20 006406   200012 470500                    LDP0    ROP$,,AUTO
        20 006407   000000 220100                    LDX0    0,,PR0
        20 006410   000751 100003                    CMPX0   489,DU
        20 006411   006403 602000 20                 TNC     s:13918

     1072    13922    5                  OFF_ROPCON.VALUE = (ILL$ -> ILL.ROP -> ETT.OFFSET.VALUE + ROP$ ->
             13922                           VARIABLE.ADSC.CN) / 4;

  13922 20 006412   200035 470500                    LDP0    @ILL$,,AUTO
        20 006413   000000 471500                    LDP1    0,,PR0
        20 006414   100002 473500                    LDP3    2,,PR1
        20 006415   200012 474500                    LDP4    ROP$,,AUTO
        20 006416   400001 236100                    LDQ     1,,PR4
        20 006417   000020 772000                    QRL     16
        20 006420   000003 376007                    ANQ     3,DL
        20 006421   200052 756100                    STQ     MASK+2,,AUTO
        20 006422   300002 236100                    LDQ     2,,PR3
        20 006423   000022 732000                    QRS     18
        20 006424   200052 036100                    ADLQ    MASK+2,,AUTO
        20 006425   000004 506007                    DIV     4,DL
        20 006426   000000 620006                    EAX0    0,QL
        20 006427   000000 740000 19                 STX0    OFF_ROPCON

     1073    13923                       %NEW_ETT(@ID=%OFF,@LOP=ILL$->ILL.ROP->ETT.LOP,@ROPCON=OFF_ROPCON1);
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:202  

  13927 20 006430   000000 236000 2                  LDQ     HEAD_ETT$
        20 006431   000002 116000 21                 CMPQ    2
        20 006432   006456 601000 20                 TNZ     s:13939

  13929 20 006433   000002 236000 4                  LDQ     ETT_+2
        20 006434   000005 036007                    ADLQ    5,DL
        20 006435   000003 116000 4                  CMPQ    ETT_+3
        20 006436   006447 604000 20                 TMI     s:13931

  13930 20 006437   000004 236000 21                 LDQ     4
        20 006440   200052 756100                    STQ     MASK+2,,AUTO
        20 006441   200052 631500                    EPPR1   MASK+2,,AUTO
        20 006442   200053 451500                    STP1    MASK+3,,AUTO
        20 006443   200053 630500                    EPPR0   MASK+3,,AUTO
        20 006444   000003 631400 21                 EPPR1   3
        20 006445   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 006446   000000 011000                    NOP     0

  13931 20 006447   000002 236000 4                  LDQ     ETT_+2
        20 006450   000022 736000                    QLS     18
        20 006451   000001 036000 4                  ADLQ    ETT_+1
        20 006452   200044 756100                    STQ     ETT$,,AUTO

  13932 20 006453   000005 236007                    LDQ     5,DL
        20 006454   000002 056000 4                  ASQ     ETT_+2

  13933 20 006455   006462 710000 20                 TRA     s:13949

  13939 20 006456   200044 756100                    STQ     ETT$,,AUTO

  13940 20 006457   000000 471400 2                  LDP1    HEAD_ETT$
        20 006460   100003 236100                    LDQ     3,,PR1
        20 006461   000000 756000 2                  STQ     HEAD_ETT$

  13949 20 006462   000003 220003                    LDX0    3,DU
        20 006463   200044 470500                    LDP0    ETT$,,AUTO
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:203  
        20 006464   000000 740100                    STX0    0,,PR0

  13972 20 006465   200035 470500                    LDP0    @ILL$,,AUTO
        20 006466   000000 471500                    LDP1    0,,PR0
        20 006467   100002 473500                    LDP3    2,,PR1
        20 006470   300001 236100                    LDQ     1,,PR3
        20 006471   200044 474500                    LDP4    ETT$,,AUTO
        20 006472   400001 756100                    STQ     1,,PR4

  13977 20 006473   000002 236000 21                 LDQ     2
        20 006474   200044 471500                    LDP1    ETT$,,AUTO
        20 006475   100003 756100                    STQ     3,,PR1

  13982 20 006476   200044 471500                    LDP1    ETT$,,AUTO
        20 006477   000000 235000 19                 LDA     OFF_ROPCON
        20 006500   100002 755100                    STA     2,,PR1

     1074    13993    5                  ILL$ -> ILL.ROP = ETT$; /* OFF units changed to words */

  13993 20 006501   000000 471500                    LDP1    0,,PR0
        20 006502   200044 236100                    LDQ     ETT$,,AUTO
        20 006503   100002 756100                    STQ     2,,PR1

     1075    13994    5                END;

  13994 20 006504   006627 710000 20                 TRA     s:14081

     1076    13995    4              ELSE IF ILL$ -> ILL.ROP -> ETT.ID = %SHIFT_L

  13995 20 006505   000161 100003                    CMPX0   113,DU
        20 006506   006511 600000 20                 TZE     s:13997
        20 006507   000162 100003                    CMPX0   114,DU
        20 006510   006627 601000 20                 TNZ     s:14081

     1077    13996    4                  OR ILL$ -> ILL.ROP -> ETT.ID = %SHIFT_R THEN
     1078    13997    4                IF ILL$ -> ILL.ROP -> ETT.LOP -> ETT.ID = %OFF THEN

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:204  
  13997 20 006511   300001 474500                    LDP4    1,,PR3
        20 006512   400000 221100                    LDX1    0,,PR4
        20 006513   000003 101003                    CMPX1   3,DU
        20 006514   006627 601000 20                 TNZ     s:14081

     1079    13998    5                  DO;

     1080    13999                         %FISH(TRIAD=ILL$ -> ILL.ROP -> ETT.LOP,RTN=ROP$);

  14001 20 006515   300001 236100                    LDQ     1,,PR3
        20 006516   200012 756100                    STQ     ROP$,,AUTO

  14002 20 006517   200012 471500                    LDP1    ROP$,,AUTO
        20 006520   100000 220100                    LDX0    0,,PR1
        20 006521   000751 100003                    CMPX0   489,DU
        20 006522   006532 603000 20                 TRC     s:14007

  14003 20 006523   200012 470500                    LDP0    ROP$,,AUTO
        20 006524   000001 236100                    LDQ     1,,PR0
        20 006525   200012 756100                    STQ     ROP$,,AUTO

  14004 20 006526   200012 470500                    LDP0    ROP$,,AUTO
        20 006527   000000 220100                    LDX0    0,,PR0
        20 006530   000751 100003                    CMPX0   489,DU
        20 006531   006523 602000 20                 TNC     s:14003

     1081    14007    5                    OFF_ROPCON.VALUE = (ILL$ -> ILL.ROP -> ETT.LOP -> ETT.OFFSET.VALUE
             14007                             + ROP$ -> VARIABLE.ADSC.CN) / 4;

  14007 20 006532   200035 470500                    LDP0    @ILL$,,AUTO
        20 006533   000000 471500                    LDP1    0,,PR0
        20 006534   100002 473500                    LDP3    2,,PR1
        20 006535   300001 474500                    LDP4    1,,PR3
        20 006536   200012 475500                    LDP5    ROP$,,AUTO
        20 006537   500001 236100                    LDQ     1,,PR5
        20 006540   000020 772000                    QRL     16
        20 006541   000003 376007                    ANQ     3,DL
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:205  
        20 006542   200052 756100                    STQ     MASK+2,,AUTO
        20 006543   400002 236100                    LDQ     2,,PR4
        20 006544   000022 732000                    QRS     18
        20 006545   200052 036100                    ADLQ    MASK+2,,AUTO
        20 006546   000004 506007                    DIV     4,DL
        20 006547   000000 620006                    EAX0    0,QL
        20 006550   000000 740000 19                 STX0    OFF_ROPCON

     1082    14008                         %NEW_ETT(@ID=%OFF,@LOP=ILL$->ILL.ROP->ETT.LOP->ETT.LOP,@ROPCON=
             14008                             OFF_ROPCON1);

  14012 20 006551   000000 236000 2                  LDQ     HEAD_ETT$
        20 006552   000002 116000 21                 CMPQ    2
        20 006553   006577 601000 20                 TNZ     s:14024

  14014 20 006554   000002 236000 4                  LDQ     ETT_+2
        20 006555   000005 036007                    ADLQ    5,DL
        20 006556   000003 116000 4                  CMPQ    ETT_+3
        20 006557   006570 604000 20                 TMI     s:14016

  14015 20 006560   000004 236000 21                 LDQ     4
        20 006561   200052 756100                    STQ     MASK+2,,AUTO
        20 006562   200052 631500                    EPPR1   MASK+2,,AUTO
        20 006563   200053 451500                    STP1    MASK+3,,AUTO
        20 006564   200053 630500                    EPPR0   MASK+3,,AUTO
        20 006565   000003 631400 21                 EPPR1   3
        20 006566   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 006567   000000 011000                    NOP     0

  14016 20 006570   000002 236000 4                  LDQ     ETT_+2
        20 006571   000022 736000                    QLS     18
        20 006572   000001 036000 4                  ADLQ    ETT_+1
        20 006573   200044 756100                    STQ     ETT$,,AUTO

  14017 20 006574   000005 236007                    LDQ     5,DL
        20 006575   000002 056000 4                  ASQ     ETT_+2

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:206  
  14018 20 006576   006603 710000 20                 TRA     s:14034

  14024 20 006577   200044 756100                    STQ     ETT$,,AUTO

  14025 20 006600   000000 471400 2                  LDP1    HEAD_ETT$
        20 006601   100003 236100                    LDQ     3,,PR1
        20 006602   000000 756000 2                  STQ     HEAD_ETT$

  14034 20 006603   000003 220003                    LDX0    3,DU
        20 006604   200044 470500                    LDP0    ETT$,,AUTO
        20 006605   000000 740100                    STX0    0,,PR0

  14057 20 006606   200035 470500                    LDP0    @ILL$,,AUTO
        20 006607   000000 471500                    LDP1    0,,PR0
        20 006610   100002 473500                    LDP3    2,,PR1
        20 006611   300001 474500                    LDP4    1,,PR3
        20 006612   400001 236100                    LDQ     1,,PR4
        20 006613   200044 475500                    LDP5    ETT$,,AUTO
        20 006614   500001 756100                    STQ     1,,PR5

  14062 20 006615   000002 236000 21                 LDQ     2
        20 006616   200044 471500                    LDP1    ETT$,,AUTO
        20 006617   100003 756100                    STQ     3,,PR1

  14067 20 006620   200044 471500                    LDP1    ETT$,,AUTO
        20 006621   000000 235000 19                 LDA     OFF_ROPCON
        20 006622   100002 755100                    STA     2,,PR1

     1083    14078    5                   ILL$ -> ILL.ROP -> ETT.LOP = ETT$; /* OFF units changed to words */

  14078 20 006623   000000 471500                    LDP1    0,,PR0
        20 006624   100002 473500                    LDP3    2,,PR1
        20 006625   200044 236100                    LDQ     ETT$,,AUTO
        20 006626   300001 756100                    STQ     1,,PR3

     1084    14079    5                  END;

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:207  
     1085    14080    4            END;

     1086    14081    3          RETURN;

  14081 20 006627   200034 221300                    LDX1  ! TYPE_DESC+5,,AUTO
        20 006630   000001 702211                    TSX2  ! 1,X1

     1087    14082    3        END; /* LOPS.LENGTH = ROPS.LENGTH AND LOPS.LENGTH < 9 */
     1088    14083
     1089    14084    2   CANT_MAKE_MVANO:
     1090    14085    2          IF ILL$ -> ILL.ROP -> ETT.ID = %TRIAD THEN

  14085 20 006631   200035 470500       CANT_MAKE_M* LDP0    @ILL$,,AUTO
        20 006632   000000 471500                    LDP1    0,,PR0
        20 006633   100002 473500                    LDP3    2,,PR1
        20 006634   300000 220100                    LDX0    0,,PR3
        20 006635   000015 100003                    CMPX0   13,DU
        20 006636   006763 601000 20                 TNZ     s:14138

     1091    14086    3            DO;

     1092    14087                   %GET_CONSTANT_ADDRESS (@CONSTANT = ILL$ -> ILL.ROP -> ETT.LOP,
     1093    14088                                          @STRING   = STRING$);

  14090 20 006637   300001 474500                    LDP4    1,,PR3
        20 006640   400003 234100                    SZN     3,,PR4
        20 006641   006646 605000 20                 TPL     s:14093

  14091 20 006642   400010 475500                    LDP5    8,,PR4
        20 006643   500001 636500                    EPPR6   1,,PR5
        20 006644   200047 456500                    STP6    STRING$,,AUTO
        20 006645   006650 710000 20                 TRA     s:14096

  14093 20 006646   400010 635500                    EPPR5   8,,PR4
        20 006647   200047 455500                    STP5    STRING$,,AUTO

     1094    14096    3              FIRST_BYTE = CHAR$ARRAY (0);
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:208  

  14096 20 006650   200047 475500                    LDP5    STRING$,,AUTO
        20 006651   040100 100500                    MLR     fill='040'O
        20 006652   500000 000001                    ADSC9   0,,PR5                   cn=0,n=1
        20 006653   200042 000001                    ADSC9   FIRST_BYTE,,AUTO         cn=0,n=1

     1095    14097    3              IF LOPS.LENGTH > 1 THEN

  14097 20 006654   000001 116007                    CMPQ    1,DL
        20 006655   006703 604400 20                 TMOZ    s:14115

     1096    14098    4                DO;

     1097    14099    4                  IF LOPS.LENGTH > ROPS.LENGTH THEN

  14099 20 006656   200041 116100                    CMPQ    ROPS+1,,AUTO
        20 006657   006667 604400 20                 TMOZ    s:14106

     1098    14100    5                    DO; /* E.g., MOVE "  " TO <PIC-XXXX> */

     1099    14101    5                      IF FIRST_BYTE ~= ' ' THEN

  14101 20 006660   200042 236100                    LDQ     FIRST_BYTE,,AUTO
        20 006661   777000 376003                    ANQ     -512,DU
        20 006662   040000 116003                    CMPQ    16384,DU
        20 006663   007050 601000 20                 TNZ     CANT_OPTIMIZE

     1100    14102    5                        GOTO CANT_OPTIMIZE;
     1101    14103    5                      CHARACTER# = ROPS.LENGTH;

  14103 20 006664   200041 235100                    LDA     ROPS+1,,AUTO
        20 006665   200043 755100                    STA     CHARACTER#,,AUTO

     1102    14104    5                    END;

  14104 20 006666   006670 710000 20                 TRA     s:14109

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:209  
     1103    14105    4                  ELSE
     1104    14106    4                    CHARACTER# = LOPS.LENGTH;

  14106 20 006667   200043 756100                    STQ     CHARACTER#,,AUTO

     1105    14107
     1106    14108    5                  DO UNTIL CHARACTER# < 2;

     1107    14109    5                    IF CHAR$ARRAY (CHARACTER# - 1) ~= FIRST_BYTE THEN

  14109 20 006670   200047 470500                    LDP0    STRING$,,AUTO
        20 006671   200043 235100                    LDA     CHARACTER#,,AUTO
        20 006672   040100 106505                    CMPC    fill='040'O
        20 006673   077777 600001                    ADSC9   -1,A,PR0                 cn=3,n=1
        20 006674   200042 000001                    ADSC9   FIRST_BYTE,,AUTO         cn=0,n=1
        20 006675   007050 601000 20                 TNZ     CANT_OPTIMIZE

     1108    14110    5                      GOTO CANT_OPTIMIZE;
     1109    14111    5                    CHARACTER# = CHARACTER# - 1;

  14111 20 006676   000001 336007                    LCQ     1,DL
        20 006677   200043 056100                    ASQ     CHARACTER#,,AUTO

     1110    14112    5                  END;

  14112 20 006700   200043 235100                    LDA     CHARACTER#,,AUTO
        20 006701   000002 115007                    CMPA    2,DL
        20 006702   006670 605000 20                 TPL     s:14109

     1111    14113    4                END; /* LOPS.LENGTH > 1 */

     1112    14114
     1113    14115    3              IF ILL$ -> ETT.ID = %CMPA THEN

  14115 20 006703   200035 470500                    LDP0    @ILL$,,AUTO
        20 006704   000000 471500                    LDP1    0,,PR0
        20 006705   100000 220100                    LDX0    0,,PR1
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:210  
        20 006706   000111 100003                    CMPX0   73,DU
        20 006707   006720 601000 20                 TNZ     s:14126

     1114    14116    4                DO;

     1115    14117    4                  ILL$ -> ETT.ID = %CFILL;

  14117 20 006710   000025 221003                    LDX1    21,DU
        20 006711   100000 741100                    STX1    0,,PR1

     1116    14118    4                  ILL$ -> ETT.ROPCON = 0;

  14118 20 006712   000000 471500                    LDP1    0,,PR0
        20 006713   100002 450100                    STZ     2,,PR1

     1117    14119    4                  ILL$ -> ETT.FILL_CHAR.SYMBOL = FIRST_BYTE;

  14119 20 006714   000000 471500                    LDP1    0,,PR0
        20 006715   200042 236100                    LDQ     FIRST_BYTE,,AUTO
        20 006716   100002 552140                    STBQ    2,'40'O,PR1

     1118    14120    4                END;

  14120 20 006717   007050 710000 20                 TRA     CANT_OPTIMIZE

     1119    14121    3              ELSE
     1120    14122    4                DO;

     1121    14123                       %RESERVE_ILL (ITEM = %MFILL,
     1122    14124                                     POINTER = ILS$$ -> ILS.ILL$);

  14126 20 006720   000042 235000 xsym               LDA     ILL_STEP+34
        20 006721   000000 755000 0                  STA     ITERATION

  14127 20 006722   000002 236000 8                  LDQ     ILL_+2
        20 006723   000000 036000 0                  ADLQ    ITERATION
        20 006724   000003 116000 8                  CMPQ    ILL_+3
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:211  
        20 006725   006736 604000 20                 TMI     s:14129

  14128 20 006726   000017 236000 21                 LDQ     15
        20 006727   200052 756100                    STQ     MASK+2,,AUTO
        20 006730   200052 631500                    EPPR1   MASK+2,,AUTO
        20 006731   200053 451500                    STP1    MASK+3,,AUTO
        20 006732   200053 630500                    EPPR0   MASK+3,,AUTO
        20 006733   000003 631400 21                 EPPR1   3
        20 006734   000000 701000 xent               TSX1    Z8AR$RESERVER
        20 006735   000000 011000                    NOP     0

  14129 20 006736   000002 236000 8                  LDQ     ILL_+2
        20 006737   000022 736000                    QLS     18
        20 006740   000001 036000 8                  ADLQ    ILL_+1
        20 006741   200004 470500                    LDP0    ILS$$,,AUTO
        20 006742   000003 756100                    STQ     3,,PR0

  14130 20 006743   000002 236000 8                  LDQ     ILL_+2
        20 006744   000000 036000 0                  ADLQ    ITERATION
        20 006745   000002 756000 8                  STQ     ILL_+2

  14131 20 006746   000003 471500                    LDP1    3,,PR0
        20 006747   000270 220003                    LDX0    184,DU
        20 006750   100000 740100                    STX0    0,,PR1

     1123    14134    4                  ILS$$ -> ILS.ILL$ -> MFILL.FILL = FIRST_BYTE;

  14134 20 006751   000003 471500                    LDP1    3,,PR0
        20 006752   200042 236100                    LDQ     FIRST_BYTE,,AUTO
        20 006753   000022 772000                    QRL     18
        20 006754   100000 552110                    STBQ    0,'10'O,PR1

     1124    14135    4                  ILS$$ -> ILS.ILL$ -> MFILL.LOP = ILL$ -> ILL.LOP;

  14135 20 006755   000003 471500                    LDP1    3,,PR0
        20 006756   200035 473500                    LDP3    @ILL$,,AUTO
        20 006757   300000 474500                    LDP4    0,,PR3
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:212  
        20 006760   400001 236100                    LDQ     1,,PR4
        20 006761   100001 756100                    STQ     1,,PR1

     1125    14136    4                END;

     1126    14137    3            END; /* ROP.ID = %TRIAD */

  14137 20 006762   007050 710000 20                 TRA     CANT_OPTIMIZE

     1127    14138    2          ELSE IF ILL$ -> ILL.LOP -> ETT.ID = %TRIAD THEN

  14138 20 006763   100001 474500                    LDP4    1,,PR1
        20 006764   400000 221100                    LDX1    0,,PR4
        20 006765   000015 101003                    CMPX1   13,DU
        20 006766   007050 601000 20                 TNZ     CANT_OPTIMIZE

     1128    14139    3            DO; /* CMPA only */

     1129    14140                   %GET_CONSTANT_ADDRESS (@CONSTANT = ILL$ -> ILL.LOP -> ETT.LOP,
     1130    14141                                          @STRING   = STRING$);

  14143 20 006767   400001 475500                    LDP5    1,,PR4
        20 006770   500003 234100                    SZN     3,,PR5
        20 006771   006776 605000 20                 TPL     s:14146

  14144 20 006772   500010 476500                    LDP6    8,,PR5
        20 006773   600001 637500                    EPPR7   1,,PR6
        20 006774   200047 457500                    STP7    STRING$,,AUTO
        20 006775   007000 710000 20                 TRA     s:14149

  14146 20 006776   500010 636500                    EPPR6   8,,PR5
        20 006777   200047 456500                    STP6    STRING$,,AUTO

     1131    14149    3              FIRST_BYTE = STRING$ -> CHAR$ARRAY (0);

  14149 20 007000   200047 476500                    LDP6    STRING$,,AUTO
        20 007001   040100 100500                    MLR     fill='040'O
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:213  
        20 007002   600000 000001                    ADSC9   0,,PR6                   cn=0,n=1
        20 007003   200042 000001                    ADSC9   FIRST_BYTE,,AUTO         cn=0,n=1

     1132    14150    3              IF ROPS.LENGTH > %LENGTH_1_BYTE THEN

  14150 20 007004   200041 235100                    LDA     ROPS+1,,AUTO
        20 007005   000001 115007                    CMPA    1,DL
        20 007006   007034 604400 20                 TMOZ    s:14167

     1133    14151    4                DO;

     1134    14152    4                  IF ROPS.LENGTH > LOPS.LENGTH THEN

  14152 20 007007   200041 116100                    CMPQ    ROPS+1,,AUTO
        20 007010   007020 605000 20                 TPL     s:14159

     1135    14153    5                    DO; /* E.g., IF "  " = <PIC-XXXX> */

     1136    14154    5                      IF FIRST_BYTE ~= ' ' THEN

  14154 20 007011   200042 236100                    LDQ     FIRST_BYTE,,AUTO
        20 007012   777000 376003                    ANQ     -512,DU
        20 007013   040000 116003                    CMPQ    16384,DU
        20 007014   007050 601000 20                 TNZ     CANT_OPTIMIZE

     1137    14155    5                        GOTO CANT_OPTIMIZE;
     1138    14156    5                      CHARACTER# = LOPS.LENGTH;

  14156 20 007015   200037 236100                    LDQ     LOPS+1,,AUTO
        20 007016   200043 756100                    STQ     CHARACTER#,,AUTO

     1139    14157    5                    END;

  14157 20 007017   007021 710000 20                 TRA     s:14162

     1140    14158    4                  ELSE
     1141    14159    4                    CHARACTER# = ROPS.LENGTH;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:214  

  14159 20 007020   200043 755100                    STA     CHARACTER#,,AUTO

     1142    14160
     1143    14161    5                  DO UNTIL CHARACTER# < 2;

     1144    14162    5                    IF STRING$ -> CHAR$ARRAY (CHARACTER# - 1) ~= FIRST_BYTE THEN

  14162 20 007021   200047 470500                    LDP0    STRING$,,AUTO
        20 007022   200043 235100                    LDA     CHARACTER#,,AUTO
        20 007023   040100 106505                    CMPC    fill='040'O
        20 007024   077777 600001                    ADSC9   -1,A,PR0                 cn=3,n=1
        20 007025   200042 000001                    ADSC9   FIRST_BYTE,,AUTO         cn=0,n=1
        20 007026   007050 601000 20                 TNZ     CANT_OPTIMIZE

     1145    14163    5                      GOTO CANT_OPTIMIZE;
     1146    14164    5                    CHARACTER# = CHARACTER# - 1;

  14164 20 007027   000001 336007                    LCQ     1,DL
        20 007030   200043 056100                    ASQ     CHARACTER#,,AUTO

     1147    14165    5                  END;

  14165 20 007031   200043 235100                    LDA     CHARACTER#,,AUTO
        20 007032   000002 115007                    CMPA    2,DL
        20 007033   007021 605000 20                 TPL     s:14162

     1148    14166    4                END; /* ROPS.LENGTH > %LENGTH_1_BYTE */

     1149    14167    3              ILL$ -> ETT.ID = %CFILLR;

  14167 20 007034   200035 470500                    LDP0    @ILL$,,AUTO
        20 007035   000000 471500                    LDP1    0,,PR0
        20 007036   000160 220003                    LDX0    112,DU
        20 007037   100000 740100                    STX0    0,,PR1

     1150    14168    3              ILL$ -> ETT.LOP = ILL$ -> ETT.ROP;
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:215  

  14168 20 007040   000000 471500                    LDP1    0,,PR0
        20 007041   100002 236100                    LDQ     2,,PR1
        20 007042   100001 756100                    STQ     1,,PR1

     1151    14169    3              ILL$ -> ETT.ROPCON = 0;

  14169 20 007043   000000 471500                    LDP1    0,,PR0
        20 007044   100002 450100                    STZ     2,,PR1

     1152    14170    3              ILL$ -> ETT.FILL_CHAR.SYMBOL = FIRST_BYTE;

  14170 20 007045   000000 471500                    LDP1    0,,PR0
        20 007046   200042 236100                    LDQ     FIRST_BYTE,,AUTO
        20 007047   100002 552140                    STBQ    2,'40'O,PR1

     1153    14171    3            END; /* LOP.ID = %TRIAD */

     1154    14172
     1155    14173    2   CANT_OPTIMIZE:
     1156    14174    2          RETURN;

  14174 20 007050   200034 221300       CANT_OPTIMI* LDX1  ! TYPE_DESC+5,,AUTO
        20 007051   000001 702211                    TSX2  ! 1,X1

     1157    14175    2   END OPTIMIZE_MOVES;
     1158    14176
     1159    14177
     1160    14178    1   END Z8FO$LOCAL_OPTIMIZER;

  14178 20 007052   000000 702200 xent               TSX2  ! X66_ARET
     1161    14179        %EOD;

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:216  
--  Include file information  --

   Z8F_O2COM.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_TYPES.:Z8A6TOU  is referenced.
   Z8A_COMCOM.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_LTS.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_ST.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_QLT.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_ERR_NUMS.:Z8A6TOU  is referenced.
   Z8A_MKCN.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_ILL.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8F_ALIGN.:Z8A6TOU  is referenced.
   Z8A_ILS.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_ETT.:Z8A6TOU  cannot be made into a system file and is referenced.
   X8A_COM_MACS.:X8A6TOU  is referenced.
   Z8A_NAMES.:Z8A6TOU  is referenced.
   Z8A_SUPP_MAC.:Z8A6TOU  is referenced.
   Z8A_DEFC.:Z8A6TOU  cannot be made into a system file and is referenced.
      No diagnostics issued in procedure Z8FO$LOCAL_OPTIMIZER.
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:217  

 **** Variables and constants ****

  ****  Section 000 LblCom ITERATION

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN        r     1 ITERATION

  ****  Section 001 LblCom ETT$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 ETT$

  ****  Section 002 LblCom HEAD_ETT$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 HEAD_ETT$

  ****  Section 003 LblCom ETT_BUCKETS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 ETT_BUCKETS(0:511)

  ****  Section 004 LblCom ETT_

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(180)   r     1 ETT_

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:218  
  ****  Section 005 LblCom ILS$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 ILS$

  ****  Section 006 LblCom ILS_

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(180)         1 ILS_

  ****  Section 007 LblCom ILL$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 ILL$

  ****  Section 008 LblCom ILL_

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(180)   r     1 ILL_

  ****  Section 009 LblCom MKCN

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(72)    r     1 MKCN

  ****  Section 010 LblCom QLT$

PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:219  
  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 QLT$

  ****  Section 011 LblCom PREV_01_QLT$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 PREV_01_QLT$

  ****  Section 012 LblCom QLT_

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(180)         1 QLT_

  ****  Section 013 LblCom ST$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 ST$

  ****  Section 014 LblCom ST_

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(180)         1 ST_

  ****  Section 015 LblCom LTS$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:220  

     0-0-0/w PTR               1 LONG_ITEM$                 0-0-0/w PTR         r     1 LTS$

  ****  Section 016 LblCom LTS_

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(180)         1 LTS_

  ****  Section 017 LblCom O2COM

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(432)         1 O2COM

  ****  Section 018 RoData Z8FO$LOCAL_OPTIMIZER

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 ZERO_PTR$                  0-0-0/w SBIN        r     1 ZERO_WORD

  ****  Section 019  Data  Z8FO$LOCAL_OPTIMIZER

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/h STRC        r     1 OFF_ROPCON                 0-0-0/w SBIN        r     1 OFF_ROPCON1

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

    35-0-0/w PTR         r     1 @ILL$                      5-0-0/w STRC(72)    r     1 ALIGNMENT_LENGTH
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:221  
     7-0-0/w STRC(72)          1 ALIGNMENT_LENGTH_ROP      43-0-0/w SBIN        r     1 CHARACTER#
    22-0-0/w SBIN        r     1 END1                      24-0-0/w SBIN        r     1 END2
    44-0-0/w PTR         r     1 ETT$                      42-0-0/c CHAR        r     1 FIRST_BYTE
    *0-0-0/w PTR         r     1 ILL$                       3-0-0/w PTR         r     1 ILL$$
     4-0-0/w PTR         r     1 ILS$$                     11-0-0/w PTR         r     1 LOP$
    36-0-0/w STRC(72)    r     1 LOPS                      16-0-0/w PTR         r     1 LOP_LTS$
    14-0-0/w PTR         r     1 LOP_ST$                   45-0-0/w PTR         r     1 LOP_ST$
    50-0-0/b BIT         r     1 MASK                      25-0-0/b BIT         r     1 OPTIMIZE_IT
    20-0-0/w PTR         r     1 QUAL$                     12-0-0/w PTR         r     1 ROP$
    40-0-0/w STRC(72)    r     1 ROPS                      17-0-0/w PTR         r     1 ROP_LTS$
    15-0-0/w PTR         r     1 ROP_ST$                   46-0-0/w PTR         r     1 ROP_ST$
    21-0-0/w SBIN        r     1 START1                    23-0-0/w SBIN        r     1 START2
    47-0-0/w PTR         r     1 STRING$                   13-0-0/w PTR         r     1 TEMP$
    26-0-0/w SBIN        r     1 TEMP_SBIN                 27-0-0/w STRC(144)   r     1 TYPE_DESC

  ****  SYMREF variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/d STRC(13248) r     1 COMCOM                     0-0-0/w UBIN        r     1 ILL_STEP(0:144)
     0-0-0/w UBIN              1 ILS_STEP_TABLE(0:2)
     0-0-0/w UBIN              1 LTS_STEP(0:37)

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(108)         1 ACCEPT_DISPLAY             0-0-0/w STRC(396)         1 ALPHABET
     0-0-0/w STRC(144)         1 ALTER_LTS                  0-0-0/w STRC(3672)        1 ALT_KEY
     0-0-0/w STRC(36864)       1 ARGLIST                    0-0-0/w STRC(396)         1 ARRAY
     0-0-0/w STRC(180)         1 ARRAY_PRESET_LTS           0-0-0/w STRC(288)   r     1 BASE_LTS
     0-0-0/w STRC(108)         1 BINARY_ILL                 0-0-0/w STRC(396)         1 BLOCK
     0-0-0/w STRC(144)         1 BRANCH_ILL                 0-0-0/w STRC(144)         1 BT
     0-0-0/w STRC(216)         1 CCOSU                      0-0-0/w STRC(396)         1 CD
     0-0-0/w STRC(288)         1 CD_LTS
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:222  
     0-0-0/c CHAR        r     1 CHAR$ARRAY(0:0)
     0-0-0/w CHAR(4096)        1 CHARS                      0-0-0/w STRC(396)         1 CLASS
     0-0-0/w STRC(108)         1 CODED_MOVE                 0-0-0/w STRC(396)         1 CONDITION
     0-0-0/w STRC(396)   r     1 CONST                      0-0-0/w STRC(72)    r     1 CONT
     0-0-0/w STRC(540)         1 CONTROL_NAME_LTS           0-0-0/w STRC(1872)        1 COPY_FILE
     0-0-0/w STRC(396)         1 DB                         0-0-0/w STRC(396)         1 DCB_
     0-0-0/w STRC(144)         1 DEFLB                      0-0-0/w STRC(108)         1 DEPENDING_SIZE
     0-0-0/w STRC(5472)        1 DIMS                       0-0-0/w STRC(396)         1 DML_ITEM
     0-0-0/w STRC(216)         1 DML_REC                    0-0-0/w STRC(144)         1 DOEND
     0-0-0/w STRC(396)   r     1 DO_N                       0-0-0/w STRC(180)         1 DV4I
     0-0-0/w STRC(180)         1 ENTRY_ILL                  0-0-0/w STRC(180)   r     1 ETT
     0-0-0/w STRC(108)         1 EVALU                      0-0-0/w STRC(73836)       1 EVALUATE
     0-0-0/w STRC(396)         1 FD                         0-0-0/w STRC(1692)        1 FILE_LTS
     0-0-0/w STRC(144)         1 GO                         0-0-0/w STRC(180)   r     1 ILL
     0-0-0/w STRC              1 ILL_NO_OPS                 0-0-0/w STRC(180)   r     1 ILS
     0-0-0/w STRC(108)         1 INDEXES                    0-0-0/w STRC(360)         1 INIT_LTS
     0-0-0/w STRC(396)         1 INTDEF                     0-0-0/w STRC(180)         1 IO_RESTORE_CHAIN
     0-0-0/w STRC(144)         1 KEY                        0-0-0/w STRC(396)         1 LABEL
     0-0-0/w STRC(36864) r     1 LCNST                      0-0-0/w STRC(108)   r     1 LINOI
     0-0-0/w STRC(72)          1 LONG                       0-0-0/w STRC        r     1 LTS
     0-0-0/w STRC(360)   r     1 LTSS                       0-0-0/w STRC(36936) r     1 LTS_PTR_ARRAY
     0-0-0/w STRC(72)    r     1 MFILL                      0-0-0/w STRC(396)         1 MNEMONIC
     0-0-0/w STRC(180)         1 MULTI_GO                   0-0-0/w STRC(180)         1 MVEAL
     0-0-0/w STRC(108)   r     1 MVFIL                      0-0-0/w STRC(72)          1 MVIIS
     0-0-0/w STRC(144)         1 NEL                        0-0-0/w STRC(216)         1 OPEN_LTS
     0-0-0/w STRC(144)         1 OPN                        0-0-0/w STRC(180)         1 OS_CALL
     0-0-0/w STRC(36864)       1 PAGE                       0-0-0/w STRC(396)         1 PARA
     0-0-0/w STRC(216)         1 PFORM                      0-0-0/w STRC(144)         1 PINC
     0-0-0/w STRC(144)         1 PREOFF                     0-0-0/w STRC(108)         1 PRESET
     0-0-0/w STRC(144)         1 PRIME                      0-0-0/w STRC(396)         1 PROC_
     0-0-0/w STRC(396)         1 PROC_DEF                   0-0-0/w STRC(900)         1 PROC_SUPP
     0-0-0/w STRC(144)         1 P_A_PRESET                 0-0-0/w STRC(144)         1 P_P_PRESET
     0-0-0/w STRC(216)   r     1 QLT                        0-0-0/w STRC(396)         1 RD
     0-0-0/w STRC(216)         1 REF                        0-0-0/w STRC(144)         1 REMEM
     0-0-0/w STRC(108)         1 RENAMES                    0-0-0/w STRC(720)         1 REPORT_01_LTS
     0-0-0/w STRC(432)         1 REPORT_ELEM_LTS            0-0-0/w STRC(252)         1 REPORT_GRP_LTS
     0-0-0/w STRC(1332)        1 REPORT_LTS                 0-0-0/w STRC(144)         1 RVA_LTS
PL6.E3A0      #001=Z8FO$LOCAL_OPTIMIZER File=Z8FO.:Z8A6TSI                       SAT 08/09/97 13:10 Page:223  
     0-0-0/w STRC(396)   r     1 SCALAR                     0-0-0/w STRC(144)         1 SCOPE
     0-0-0/w STRC(396)         1 SD                         0-0-0/w STRC(216)         1 SEARCH_
     0-0-0/w STRC(396)         1 SECTION                    0-0-0/w STRC(396)         1 SEGMENT
     0-0-0/w STRC(360)         1 SEGMENT_LTS                0-0-0/w STRC(396)   r     1 ST
     0-0-0/w STRC(72)    r     1 ST$1                       0-0-0/w STRC(72)          1 STP2
     0-0-0/w STRC(252)         1 SUM_LTS                    0-0-0/w STRC(396)         1 SWITCH
     0-0-0/w STRC(396)         1 SYMBOLIC_CHAR              0-0-0/w STRC(396)         1 SYMDEF_
     0-0-0/w STRC(396)         1 SYMREF_                    0-0-0/w STRC(396)         1 TEMP
     0-0-0/w STRC(144)         1 TRINARY_ILL                0-0-0/w STRC(72)          1 UNARY_ILL
     0-0-0/d STRC(612)         1 USE                        0-0-0/w STRC(216)         1 USER_CALL
     0-0-0/w STRC(252)         1 USE_SUPP                   0-0-0/w STRC(108)         1 VAL
     0-0-0/w STRC(108)         1 VAL_END                    0-0-0/w STRC(396)   r     1 VARIABLE
     0-0-0/w STRC(72)          1 WHEN


   Procedure Z8FO$LOCAL_OPTIMIZER requires 3627 words for executable code.
   Procedure Z8FO$LOCAL_OPTIMIZER requires 46 words of local(AUTO) storage.

PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:224  
     1162        1        /*M* Z8FO$ALIGN_LENGTH -- Determine length and alignment of a MOVE operand. */
     1163        2        /*T***********************************************************/
     1164        3        /*T*                                                         */
     1165        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     1166        5        /*T*                                                         */
     1167        6        /*T***********************************************************/
     1168        7        /*P*
     1169        8               NAME:  Z8FO$ALIGN_LENGTH
     1170        9            PURPOSE:  Determine length and alignment of a MOVE operand.
     1171       10        */
     1172       11        /*D*
     1173       12               NAME:  Z8FO$ALIGN_LENGTH
     1174       13               CALL:  CALL Z8FO$ALIGN_LENGTH (node, alignment_length);
     1175       14          INTERFACE:  Z8AU$TYPE_DESCRIPTOR -- Get information on a tree node.
     1176       15              INPUT:  node -- Pointer to a tree node.
     1177       16             OUTPUT:  alignment_length -- Representation of the alignment and
     1178       17                                          length of a tree operand.
     1179       18        DESCRIPTION:  Get info on the desired tree node. Encode it so that
     1180       19                      Z8FO$LOCAL_OPTIMIZER can know where in the word it starts and
     1181       20                      how long it is.
     1182       21        */
     1183       22        Z8FO$ALIGN_LENGTH:PROC(NODE$, ALIGNMENT_LENGTH) ALTRET;
     1184       23
     1185       24    1        DCL NODE$              PTR;
     1186       25
     1187       26             %INCLUDE Z8F_ALIGN;
     1188       49
     1189       50    1        DCL 1 ALIGNMENT_LENGTH ALIGNED,
     1190       51                   %ALIGNMENT_LENGTH;
     1191       55
     1192       56
     1193       57             %EQU PHASE = 2;
     1194       58             %INCLUDE Z8A_DEFC;
     1195      126             %INCLUDE Z8A_SUPP_MAC;
     1196     2526             %INCLUDE Z8A_TYPES;
     1197     2700             %INCLUDE Z8A_ETT;
     1198     3001             %INCLUDE Z8A_ST;
PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:225  
     1199     6660
     1200     6661
     1201     6662    1        DCL Z8AU$TYPE_DESCRIPTOR     ENTRY(2);
     1202     6663
     1203     6664
     1204     6665
     1205     6666    1        DCL 1 TYPE_DESC ALIGNED,
     1206     6667                   %TYPE_DESC;
     1207     6701
     1208     6702    1        DCL   ST$$        PTR ;
     1209     6703
     1210     6704        %EJECT;
PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:226  
     1211     6705             /* If it's a parameter, then the alignment is unknown. */
     1212     6706
     1213     6707             %FISH (TRIAD = NODE$, RTN = ST$$) ;
     1214     6715
     1215     6716    1        CALL Z8AU$TYPE_DESCRIPTOR(NODE$, TYPE_DESC);
     1216     6717
     1217     6718    2        IF TYPE_DESC.DESC.ADSC.TA ~= %ADSC9 THEN DO;
     1218     6719    2          ALIGNMENT_LENGTH.ALIGNMENT = %ALIGNMENT_UNKNOWN;
     1219     6720    2          ALTRETURN;
     1220     6721    2        END;
     1221     6722
     1222     6723    2        IF TYPE_DESC.SIZ$ ~= ADDR(NIL) THEN DO;
     1223     6724    3          IF TYPE_DESC.SIZ$ -> ETT.ID ~= %TRIAD THEN DO; /* Variable size */
     1224     6725    3            ALIGNMENT_LENGTH.ALIGNMENT = %ALIGNMENT_UNKNOWN;
     1225     6726    3            ALTRETURN;
     1226     6727    3          END;
     1227     6728    2          ALIGNMENT_LENGTH.LENGTH = TYPE_DESC.SIZ$ -> ETT.LOP
     1228     6729    2                                    -> CONST.CONSTI.WORD1;
     1229     6730    2        END;
     1230     6731    2        ELSE DO CASE(TYPE_DESC.TYPE);
     1231     6732    2          CASE(%TYA);
     1232     6733    2            ALIGNMENT_LENGTH.LENGTH = TYPE_DESC.DESC.ADSC.N;
     1233     6734
     1234     6735    2          CASE(ELSE);
     1235     6736    2            ALIGNMENT_LENGTH.LENGTH = TYPE_DESC.DESC.NDSC.N;
     1236     6737    2        END /* Case */;
     1237     6738
     1238     6739    2        IF ST$$ -> VARIABLE.B.LINKAGE THEN DO ;
     1239     6740    2          ALIGNMENT_LENGTH.ALIGNMENT = %ALIGNMENT_UNKNOWN ;
     1240     6741    2          RETURN ;
     1241     6742    2        END ; /* if it's a parameter */
     1242     6743
     1243     6744    1        IF TYPE_DESC.SSOP$ = ADDR(NIL) THEN
     1244     6745    2            DO CASE(TYPE_DESC.DESC.ADSC.CN);
     1245     6746    2              CASE(0);
     1246     6747    2                ALIGNMENT_LENGTH.ALIGNMENT = %ALIGNMENT_WORD;
     1247     6748
PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:227  
     1248     6749    2                IF MOD(TYPE_DESC.DESC.SA, 2) = 0 THEN
     1249     6750    2                  ALIGNMENT_LENGTH.ALIGNMENT = %ALIGNMENT_DOUBLE;
     1250     6751
     1251     6752    2              CASE(1);
     1252     6753    2                ALIGNMENT_LENGTH.ALIGNMENT = %ALIGNMENT_BYTE1;
     1253     6754
     1254     6755    2              CASE(2);
     1255     6756    2                ALIGNMENT_LENGTH.ALIGNMENT = %ALIGNMENT_HALF;
     1256     6757
     1257     6758    2              CASE(3);
     1258     6759    2                ALIGNMENT_LENGTH.ALIGNMENT = %ALIGNMENT_BYTE3;
     1259     6760
     1260     6761    2            END /* Case */;
     1261     6762    1        ELSE
     1262     6763    2          DO;
     1263     6764    2            ALIGNMENT_LENGTH.ALIGNMENT = %ALIGNMENT_UNKNOWN;
     1264     6765    2            ALIGNMENT_LENGTH.LENGTH    = TYPE_DESC.DESC.NDSC.N;
     1265     6766
     1266     6767                 /*N* SSOP_OPTIMIZATIONS NEEDED HERE. THE ABOVE IS TEMPORARY */
     1267     6768    2          END;
     1268     6769    1   END Z8FO$ALIGN_LENGTH;

PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:228  
--  Include file information  --

   Z8A_ST.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_ETT.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_TYPES.:Z8A6TOU  is referenced.
   X8A_COM_MACS.:X8A6TOU  is referenced.
   Z8A_NAMES.:Z8A6TOU  is referenced.
   Z8A_SUPP_MAC.:Z8A6TOU  is referenced.
   Z8A_DEFC.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8F_ALIGN.:Z8A6TOU  is referenced.
      No diagnostics issued in procedure Z8FO$ALIGN_LENGTH.

   Procedure Z8FO$ALIGN_LENGTH requires 111 words for executable code.
   Procedure Z8FO$ALIGN_LENGTH requires 12 words of local(AUTO) storage.

    No errors detected in file Z8FO.:Z8A6TSI    .

PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:229  

 Object Unit name= Z8FO$ALIGN_LENGTH                          File name= Z8FO.:Z8A6TOU
 UTS= AUG 09 '97 13:15:18.00 SAT                              Compiler= PL-6/E31         Sev=      00
 SharedLib= :SHARED_SYSTEM                                    Alt SharedLib=


    ****  Control sections  ****

 Sect   Type Bound  Init  Size OctSiz  Section name(segment info)
    0  LblCom even  none     1      1  ITERATION
    1  LblCom even  none     1      1  ETT$
    2  LblCom even  none     1      1  HEAD_ETT$
    3  LblCom even  none   512   1000  ETT_BUCKETS
    4  LblCom even  none     5      5  ETT_
    5  LblCom even  none     1      1  ST$
    6  LblCom even  none     5      5  ST_
    7   Proc  even  none   111    157  Z8FO$ALIGN_LENGTH
    8  RoData even  none     2      2  Z8FO$ALIGN_LENGTH

    ****  Entry defs  ****

                              Check   Calling
                             calling  sequence
  Sect OctLoc Primary Altret sequence   type   Parms  Name
     7      0   yes    yes     yes      Std        2  Z8FO$ALIGN_LENGTH

  ****  Entry refs  ****

         Check        Calling
        calling       sequence
Altret sequence SRef   type   Args  Name
         yes           Std       2 Z8AU$TYPE_DESCRIPTOR
                       nStd      0 X66_AUTO_2
                       nStd      0 X66_AALT
                       nStd      0 X66_ARET
PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:230  

  ****  Segment refs  ****

  Flags:  r = read only, s = secondary
Flgs Name                             Flgs Name                             Flgs Name
     NULLSID
PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:231  


     1162        1        /*M* Z8FO$ALIGN_LENGTH -- Determine length and alignment of a MOVE operand. */
     1163        2        /*T***********************************************************/
     1164        3        /*T*                                                         */
     1165        4        /*T* Copyright (c) Bull HN Information Systems Inc., 1997    */
     1166        5        /*T*                                                         */
     1167        6        /*T***********************************************************/
     1168        7        /*P*
     1169        8               NAME:  Z8FO$ALIGN_LENGTH
     1170        9            PURPOSE:  Determine length and alignment of a MOVE operand.
     1171       10        */
     1172       11        /*D*
     1173       12               NAME:  Z8FO$ALIGN_LENGTH
     1174       13               CALL:  CALL Z8FO$ALIGN_LENGTH (node, alignment_length);
     1175       14          INTERFACE:  Z8AU$TYPE_DESCRIPTOR -- Get information on a tree node.
     1176       15              INPUT:  node -- Pointer to a tree node.
     1177       16             OUTPUT:  alignment_length -- Representation of the alignment and
     1178       17                                          length of a tree operand.
     1179       18        DESCRIPTION:  Get info on the desired tree node. Encode it so that
     1180       19                      Z8FO$LOCAL_OPTIMIZER can know where in the word it starts and
     1181       20                      how long it is.
     1182       21        */
     1183       22        Z8FO$ALIGN_LENGTH:PROC(NODE$, ALIGNMENT_LENGTH) ALTRET;

     22  7 000000   000000 700200 xent  Z8FO$ALIGN_* TSX0  ! X66_AUTO_2
         7 000001   000014 000002                    ZERO    12,2

     1184       23
     1185       24    1        DCL NODE$              PTR;
     1186       25
     1187       26             %INCLUDE Z8F_ALIGN;
     1188       49
     1189       50    1        DCL 1 ALIGNMENT_LENGTH ALIGNED,
     1190       51                   %ALIGNMENT_LENGTH;
     1191       55
     1192       56
     1193       57             %EQU PHASE = 2;
PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:232  
     1194       58             %INCLUDE Z8A_DEFC;
     1195      126             %INCLUDE Z8A_SUPP_MAC;
     1196     2526             %INCLUDE Z8A_TYPES;
     1197     2700             %INCLUDE Z8A_ETT;
     1198     3001             %INCLUDE Z8A_ST;
     1199     6660
     1200     6661
     1201     6662    1        DCL Z8AU$TYPE_DESCRIPTOR     ENTRY(2);
     1202     6663
     1203     6664
     1204     6665
     1205     6666    1        DCL 1 TYPE_DESC ALIGNED,
     1206     6667                   %TYPE_DESC;
     1207     6701
     1208     6702    1        DCL   ST$$        PTR ;
     1209     6703
     1210     6704        %EJECT;
PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:233  
     1211     6705             /* If it's a parameter, then the alignment is unknown. */
     1212     6706
     1213     6707             %FISH (TRIAD = NODE$, RTN = ST$$) ;

   6709  7 000002   200003 470500                    LDP0    @NODE$,,AUTO
         7 000003   000000 236100                    LDQ     0,,PR0
         7 000004   200011 756100                    STQ     ST$$,,AUTO

   6710  7 000005   200011 471500                    LDP1    ST$$,,AUTO
         7 000006   100000 220100                    LDX0    0,,PR1
         7 000007   000751 100003                    CMPX0   489,DU
         7 000010   000020 603000 7                  TRC     s:6716

   6711  7 000011   200011 470500                    LDP0    ST$$,,AUTO
         7 000012   000001 236100                    LDQ     1,,PR0
         7 000013   200011 756100                    STQ     ST$$,,AUTO

   6712  7 000014   200011 470500                    LDP0    ST$$,,AUTO
         7 000015   000000 220100                    LDX0    0,,PR0
         7 000016   000751 100003                    CMPX0   489,DU
         7 000017   000011 602000 7                  TNC     s:6711

     1214     6715
     1215     6716    1        CALL Z8AU$TYPE_DESCRIPTOR(NODE$, TYPE_DESC);

   6716  7 000020   200005 630500                    EPPR0   TYPE_DESC,,AUTO
         7 000021   200013 450500                    STP0    ST$$+2,,AUTO
         7 000022   200003 236100                    LDQ     @NODE$,,AUTO
         7 000023   200012 756100                    STQ     ST$$+1,,AUTO
         7 000024   200012 630500                    EPPR0   ST$$+1,,AUTO
         7 000025   000000 631400 8                  EPPR1   0
         7 000026   000000 701000 xent               TSX1    Z8AU$TYPE_DESCRIPTOR
         7 000027   000000 011000                    NOP     0

     1216     6717
     1217     6718    2        IF TYPE_DESC.DESC.ADSC.TA ~= %ADSC9 THEN DO;

PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:234  
   6718  7 000030   200006 236100                    LDQ     TYPE_DESC+1,,AUTO
         7 000031   060000 316007                    CANQ    24576,DL
         7 000032   000037 600000 7                  TZE     s:6723

     1218     6719    2          ALIGNMENT_LENGTH.ALIGNMENT = %ALIGNMENT_UNKNOWN;

   6719  7 000033   000005 235007                    LDA     5,DL
         7 000034   200004 470500                    LDP0    @ALIGNMENT_LENGTH,,AUTO
         7 000035   000000 755100                    STA     0,,PR0

     1219     6720    2          ALTRETURN;

   6720  7 000036   000000 702200 xent               TSX2  ! X66_AALT

     1220     6721    2        END;
     1221     6722
     1222     6723    2        IF TYPE_DESC.SIZ$ ~= ADDR(NIL) THEN DO;

   6723  7 000037   200007 236100                    LDQ     TYPE_DESC+2,,AUTO
         7 000040   000001 116000 8                  CMPQ    1
         7 000041   000057 600000 7                  TZE     s:6731

     1223     6724    3          IF TYPE_DESC.SIZ$ -> ETT.ID ~= %TRIAD THEN DO; /* Variable size */

   6724  7 000042   200007 470500                    LDP0    TYPE_DESC+2,,AUTO
         7 000043   000000 220100                    LDX0    0,,PR0
         7 000044   000015 100003                    CMPX0   13,DU
         7 000045   000052 600000 7                  TZE     s:6728

     1224     6725    3            ALIGNMENT_LENGTH.ALIGNMENT = %ALIGNMENT_UNKNOWN;

   6725  7 000046   000005 235007                    LDA     5,DL
         7 000047   200004 471500                    LDP1    @ALIGNMENT_LENGTH,,AUTO
         7 000050   100000 755100                    STA     0,,PR1

     1225     6726    3            ALTRETURN;

PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:235  
   6726  7 000051   000000 702200 xent               TSX2  ! X66_AALT

     1226     6727    3          END;
     1227     6728    2          ALIGNMENT_LENGTH.LENGTH = TYPE_DESC.SIZ$ -> ETT.LOP

   6728  7 000052   000001 471500                    LDP1    1,,PR0
         7 000053   200004 473500                    LDP3    @ALIGNMENT_LENGTH,,AUTO
         7 000054   100010 235100                    LDA     8,,PR1
         7 000055   300001 755100                    STA     1,,PR3

     1228     6729    2                                    -> CONST.CONSTI.WORD1;
     1229     6730    2        END;

   6730  7 000056   000076 710000 7                  TRA     s:6739

     1230     6731    2        ELSE DO CASE(TYPE_DESC.TYPE);

   6731  7 000057   200005 235100                    LDA     TYPE_DESC,,AUTO
         7 000060   000010 135007                    SBLA    8,DL
         7 000061   000001 115007                    CMPA    1,DL
         7 000062   000064 602005 7                  TNC     s:6731+5,AL
         7 000063   000072 710000 7                  TRA     s:6736
         7 000064   000065 710000 7                  TRA     s:6733

     1231     6732    2          CASE(%TYA);

     1232     6733    2            ALIGNMENT_LENGTH.LENGTH = TYPE_DESC.DESC.ADSC.N;

   6733  7 000065   200006 236100                    LDQ     TYPE_DESC+1,,AUTO
         7 000066   007777 376007                    ANQ     4095,DL
         7 000067   200004 470500                    LDP0    @ALIGNMENT_LENGTH,,AUTO
         7 000070   000001 756100                    STQ     1,,PR0
         7 000071   000076 710000 7                  TRA     s:6739

     1233     6734
     1234     6735    2          CASE(ELSE);

PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:236  
     1235     6736    2            ALIGNMENT_LENGTH.LENGTH = TYPE_DESC.DESC.NDSC.N;

   6736  7 000072   200006 236100                    LDQ     TYPE_DESC+1,,AUTO
         7 000073   000077 376007                    ANQ     63,DL
         7 000074   200004 470500                    LDP0    @ALIGNMENT_LENGTH,,AUTO
         7 000075   000001 756100                    STQ     1,,PR0

     1236     6737    2        END /* Case */;

     1237     6738
     1238     6739    2        IF ST$$ -> VARIABLE.B.LINKAGE THEN DO ;

   6739  7 000076   200011 470500                    LDP0    ST$$,,AUTO
         7 000077   000003 236100                    LDQ     3,,PR0
         7 000100   000002 316003                    CANQ    2,DU
         7 000101   000106 600000 7                  TZE     s:6744

     1239     6740    2          ALIGNMENT_LENGTH.ALIGNMENT = %ALIGNMENT_UNKNOWN ;

   6740  7 000102   000005 235007                    LDA     5,DL
         7 000103   200004 471500                    LDP1    @ALIGNMENT_LENGTH,,AUTO
         7 000104   100000 755100                    STA     0,,PR1

     1240     6741    2          RETURN ;

   6741  7 000105   000000 702200 xent               TSX2  ! X66_ARET

     1241     6742    2        END ; /* if it's a parameter */
     1242     6743
     1243     6744    1        IF TYPE_DESC.SSOP$ = ADDR(NIL) THEN

   6744  7 000106   200010 236100                    LDQ     TYPE_DESC+3,,AUTO
         7 000107   000001 116000 8                  CMPQ    1
         7 000110   000150 601000 7                  TNZ     s:6764

     1244     6745    2            DO CASE(TYPE_DESC.DESC.ADSC.CN);

PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:237  
   6745  7 000111   200006 236100                    LDQ     TYPE_DESC+1,,AUTO
         7 000112   000020 772000                    QRL     16
         7 000113   000003 376007                    ANQ     3,DL
         7 000114   000004 116007                    CMPQ    4,DL
         7 000115   000117 602006 7                  TNC     s:6745+6,QL
         7 000116   000156 710000 7                  TRA     s:6769
         7 000117   000123 710000 7                  TRA     s:6747
         7 000120   000134 710000 7                  TRA     s:6753
         7 000121   000140 710000 7                  TRA     s:6756
         7 000122   000144 710000 7                  TRA     s:6759

     1245     6746    2              CASE(0);

     1246     6747    2                ALIGNMENT_LENGTH.ALIGNMENT = %ALIGNMENT_WORD;

   6747  7 000123   200004 471500                    LDP1    @ALIGNMENT_LENGTH,,AUTO
         7 000124   100000 450100                    STZ     0,,PR1

     1247     6748
     1248     6749    2                IF MOD(TYPE_DESC.DESC.SA, 2) = 0 THEN

   6749  7 000125   200006 236100                    LDQ     TYPE_DESC+1,,AUTO
         7 000126   000022 772000                    QRL     18
         7 000127   000001 376007                    ANQ     1,DL
         7 000130   000156 601000 7                  TNZ     s:6769

     1249     6750    2                  ALIGNMENT_LENGTH.ALIGNMENT = %ALIGNMENT_DOUBLE;

   6750  7 000131   000001 235007                    LDA     1,DL
         7 000132   100000 755100                    STA     0,,PR1
         7 000133   000156 710000 7                  TRA     s:6769

     1250     6751
     1251     6752    2              CASE(1);

     1252     6753    2                ALIGNMENT_LENGTH.ALIGNMENT = %ALIGNMENT_BYTE1;

PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:238  
   6753  7 000134   000003 235007                    LDA     3,DL
         7 000135   200004 471500                    LDP1    @ALIGNMENT_LENGTH,,AUTO
         7 000136   100000 755100                    STA     0,,PR1
         7 000137   000156 710000 7                  TRA     s:6769

     1253     6754
     1254     6755    2              CASE(2);

     1255     6756    2                ALIGNMENT_LENGTH.ALIGNMENT = %ALIGNMENT_HALF;

   6756  7 000140   000002 235007                    LDA     2,DL
         7 000141   200004 471500                    LDP1    @ALIGNMENT_LENGTH,,AUTO
         7 000142   100000 755100                    STA     0,,PR1
         7 000143   000156 710000 7                  TRA     s:6769

     1256     6757
     1257     6758    2              CASE(3);

     1258     6759    2                ALIGNMENT_LENGTH.ALIGNMENT = %ALIGNMENT_BYTE3;

   6759  7 000144   000004 235007                    LDA     4,DL
         7 000145   200004 471500                    LDP1    @ALIGNMENT_LENGTH,,AUTO
         7 000146   100000 755100                    STA     0,,PR1

     1259     6760
     1260     6761    2            END /* Case */;

   6761  7 000147   000156 710000 7                  TRA     s:6769

     1261     6762    1        ELSE
     1262     6763    2          DO;

     1263     6764    2            ALIGNMENT_LENGTH.ALIGNMENT = %ALIGNMENT_UNKNOWN;

   6764  7 000150   000005 235007                    LDA     5,DL
         7 000151   200004 471500                    LDP1    @ALIGNMENT_LENGTH,,AUTO
         7 000152   100000 755100                    STA     0,,PR1
PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:239  

     1264     6765    2            ALIGNMENT_LENGTH.LENGTH    = TYPE_DESC.DESC.NDSC.N;

   6765  7 000153   200006 236100                    LDQ     TYPE_DESC+1,,AUTO
         7 000154   000077 376007                    ANQ     63,DL
         7 000155   100001 756100                    STQ     1,,PR1

     1265     6766
     1266     6767                 /*N* SSOP_OPTIMIZATIONS NEEDED HERE. THE ABOVE IS TEMPORARY */
     1267     6768    2          END;

     1268     6769    1   END Z8FO$ALIGN_LENGTH;

   6769  7 000156   000000 702200 xent               TSX2  ! X66_ARET

PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:240  
--  Include file information  --

   Z8A_ST.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_ETT.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8A_TYPES.:Z8A6TOU  is referenced.
   X8A_COM_MACS.:X8A6TOU  is referenced.
   Z8A_NAMES.:Z8A6TOU  is referenced.
   Z8A_SUPP_MAC.:Z8A6TOU  is referenced.
   Z8A_DEFC.:Z8A6TOU  cannot be made into a system file and is referenced.
   Z8F_ALIGN.:Z8A6TOU  is referenced.
      No diagnostics issued in procedure Z8FO$ALIGN_LENGTH.
PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:241  

 **** Variables and constants ****

  ****  Section 000 LblCom ITERATION

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w SBIN              1 ITERATION

  ****  Section 001 LblCom ETT$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 ETT$

  ****  Section 002 LblCom HEAD_ETT$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 HEAD_ETT$

  ****  Section 003 LblCom ETT_BUCKETS

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR               1 ETT_BUCKETS(0:511)

  ****  Section 004 LblCom ETT_

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(180)         1 ETT_

PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:242  
  ****  Section 005 LblCom ST$

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w PTR         r     1 ST$

  ****  Section 006 LblCom ST_

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(180)         1 ST_

  ****  Auto variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     4-0-0/w PTR         r     1 @ALIGNMENT_LENGTH          3-0-0/w PTR         r     1 @NODE$
    *0-0-0/w STRC(72)    r     1 ALIGNMENT_LENGTH          *0-0-0/w PTR         r     1 NODE$
    11-0-0/w PTR         r     1 ST$$                       5-0-0/w STRC(144)   r     1 TYPE_DESC

  ****  BASED and DCB variables  ****

  ****  Scalars and arrays  ****
OctLoc.c.b A Datatyp(siz) R M Lvl/name                 OctLoc.c.b A Datatyp(siz) R M Lvl/name

     0-0-0/w STRC(396)         1 ALPHABET                   0-0-0/w STRC(396)         1 ARRAY
     0-0-0/w STRC(396)         1 BLOCK                      0-0-0/w STRC(396)         1 CD
     0-0-0/w CHAR(4096)        1 CHARS                      0-0-0/w STRC(396)         1 CLASS
     0-0-0/w STRC(396)         1 CONDITION                  0-0-0/w STRC(396)   r     1 CONST
     0-0-0/w STRC(72)          1 CONT                       0-0-0/w STRC(396)         1 DB
     0-0-0/w STRC(396)         1 DCB_                       0-0-0/w STRC(396)         1 DML_ITEM
     0-0-0/w STRC(180)   r     1 ETT                        0-0-0/w STRC(396)         1 FD
     0-0-0/w STRC(396)         1 INTDEF                     0-0-0/w STRC(396)         1 LABEL
     0-0-0/w STRC(396)         1 MNEMONIC                   0-0-0/w STRC(36864)       1 PAGE
PL6.E3A0      #002=Z8FO$ALIGN_LENGTH File=Z8FO.:Z8A6TSI                          SAT 08/09/97 13:15 Page:243  
     0-0-0/w STRC(396)         1 PARA                       0-0-0/w STRC(396)         1 PROC_
     0-0-0/w STRC(396)         1 PROC_DEF                   0-0-0/w STRC(396)         1 RD
     0-0-0/w STRC(396)         1 SCALAR                     0-0-0/w STRC(396)         1 SD
     0-0-0/w STRC(396)         1 SECTION                    0-0-0/w STRC(396)         1 SEGMENT
     0-0-0/w STRC(396)         1 ST                         0-0-0/w STRC(396)         1 SWITCH
     0-0-0/w STRC(396)         1 SYMBOLIC_CHAR              0-0-0/w STRC(396)         1 SYMDEF_
     0-0-0/w STRC(396)         1 SYMREF_                    0-0-0/w STRC(396)         1 TEMP
     0-0-0/w STRC(396)   r     1 VARIABLE


   Procedure Z8FO$ALIGN_LENGTH requires 111 words for executable code.
   Procedure Z8FO$ALIGN_LENGTH requires 12 words of local(AUTO) storage.

    No errors detected in file Z8FO.:Z8A6TSI    .

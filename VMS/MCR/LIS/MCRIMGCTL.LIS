MCRIMGCTL       - IMAGE CONTROL MCR COMMAND EXECUTION            22-AUG-1978 01:40:37   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (1)      51  CONTINUE IMAGE EXECUTION
   (1)      79  DEBUG IMAGE EXECUTION
   (1)     127  STOP IMAGE EXECUTION
   (1)     201  TEST PREVIOUS MODE
   (1)     221  RUN DOWN IMAGE AND INDIRECT LEVELS
   (1)     269  SHUT DOWN IMAGE
MCRIMGCTL       - IMAGE CONTROL MCR COMMAND EXECUTION            22-AUG-1978 01:40:37   VAX-11 MACRO X0.3-11               Page   1
01                                                                                                                               (1)

                                     0000     1 	.TITLE	MCRIMGCTL - IMAGE CONTROL MCR COMMAND EXECUTION
                                     0000     2 	.IDENT	/01/
                                     0000     3  
                                     0000     4 ;
                                     0000     5 ; COPYRIGHT (C) 1977
                                     0000     6 ; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
                                     0000     7 ;
                                     0000     8 ; THIS SOFTWARE IS FURNISHED UNDER  A LICENSE FOR USE ONLY  ON  A
                                     0000     9 ; SINGLE COMPUTER SYSTEM AND MAY BE  COPIED ONLY WITH  THE INCLU-
                                     0000    10 ; SION OF  THE  ABOVE  COPYRIGHT NOTICE.  THIS SOFTWARE,  OR  ANY
                                     0000    11 ; OTHER COPIES THEREOF, MAY NOT BE  PROVIDED  OR  OTHERWISE  MADE
                                     0000    12 ; AVAILABLE TO ANY OTHER PERSON EXCEPT  FOR  USE  ON  SUCH SYSTEM
                                     0000    13 ; AND TO  ONE WHO AGREES  TO  THESE LICENSE  TERMS.  TITLE TO AND
                                     0000    14 ; OWNERSHIP OF THE SOFTWARE SHALL AT ALL TIMES REMAIN IN DEC.
                                     0000    15 ;
                                     0000    16 ; THE INFORMATION IN THIS SOFTWARE  IS  SUBJECT TO CHANGE WITHOUT
                                     0000    17 ; NOTICE AND SHOULD NOT BE CONSTRUED  AS  A COMMITMENT BY DIGITAL
                                     0000    18 ; EQUIPMENT CORPORATION.
                                     0000    19 ;
                                     0000    20 ; DEC ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY OF ITS
                                     0000    21 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
                                     0000    22 ;
                                     0000    23 ; D. N. CUTLER 4-APR-77
                                     0000    24 ;
                                     0000    25 ; IMAGE CONTROL MCR COMMAND EXECUTION
                                     0000    26 ;
                                     0000    27 ;	CONTINUE IMAGE EXECUTION
                                     0000    28 ;	DEBUG IMAGE EXECUTION
                                     0000    29 ;	STOP IMAGE EXECUTION
                                     0000    30 ;
                                     0000    31 ; MACRO LIBRARY CALLS
                                     0000    32 ;
                                     0000    33  
                                     0000    34 	DEFCMDWRK			;DEFINE WORK AREA OFFSETS
                                     0000    35 	DEFERRCOD			;DEFINE ERROR/STATUS VALUES
                                     0000    36 	DEFPTRDSC			;DEFINE RESULT PARSE DESCRIPTOR FORMAT
                                     0000    37 	$DEVDEF				;DEFINE DEVICE CHARACTERISTIC BITS
                                     0000    38 	$PSLDEF				;DEFINE PROCESSOR STATUS FIELDS
                                     0000    39 	$RABDEF				;DEFINE RAB OFFSETS
                                     0000    40 	$SSDEF				;DEFINE SYSTEM STATUS VALUES
                                     0000    41  
                                     0000    42 ;
                                     0000    43 ; LOCAL DATA
                                     0000    44 ;
                                     0000    45 ; HEX CONVERSION TABLE
                                     0000    46 ;
                                     0000    47  
                                 00000000    48 	.PSECT	MCR$ZCODE,BYTE,RD,NOWRT
34 35 36 37 38 39 41 42 43 44 45 46  0000    49 HEXTAB:	.ASCII	/FEDCBA9876543210/	;
                        30 31 32 33  000C       
MCRIMGCTL       - IMAGE CONTROL MCR COMMAND EXECUTION            22-AUG-1978 01:40:37   VAX-11 MACRO X0.3-11               Page   2
01              CONTINUE IMAGE EXECUTION                                                                                         (1)

                                     0010    51 	.SBTTL	CONTINUE IMAGE EXECUTION
                                     0010    52 ;+
                                     0010    53 ; MCR$CONTINUE - CONTINUE IMAGE EXECUTION
                                     0010    54 ;
                                     0010    55 ; THIS ROUTINE IS CALLED AS AN INTERNAL COMMAND TO EXECUTE THE CONTINUE MCR
                                     0010    56 ; COMMAND.
                                     0010    57 ;
                                     0010    58 ; INPUTS:
                                     0010    59 ;
                                     0010    60 ;	R8 = ADDRESS OF SCRATCH BUFFER DESCRIPTOR.
                                     0010    61 ;	R9 = ADDRESS OF SCRATCH STACK.
                                     0010    62 ;	R10 = RESULT PARSE DESCRIPTOR TABLE POINTER.
                                     0010    63 ;	R11 = BASE ADDRESS OF PROCESS WORK AREA.
                                     0010    64 ;	FP = BASE ADDRESS OF COMMAND WORK AREA.
                                     0010    65 ;
                                     0010    66 ; OUTPUTS:
                                     0010    67 ;
                                     0010    68 ;	IF A PREVIOUS IMAGE WAS INTERRUPTED VIA A CONTROL Y AST, THEN THE
                                     0010    69 ;	CURRENT COMMAND CONTEXT IS REMOVED FROM THE STACK AND CONTROL IS
                                     0010    70 ;	RETURNED TO THE IMAGE. OTHERWISE THIS COMMAND IS A NOPERATION.
                                     0010    71 ;-
                                     0010    72  
                                     0010    73 	.ENABL	LSB
                                     0010    74 MCR$CONTINUE::				;CONTINUE IMAGE EXECUTION
                                     0010    75 	CLRBIT	PRC_V_PAUSE,PRC_W_FLAGS(R11) ;REMOVE PAUSE STATE
                          009A   30  0015    76 	BSBW	TESTMODE		;TEST PREVIOUS MODE
                                 04  0018    77 10$:	RET				;
MCRIMGCTL       - IMAGE CONTROL MCR COMMAND EXECUTION            22-AUG-1978 01:40:37   VAX-11 MACRO X0.3-11               Page   3
01              DEBUG IMAGE EXECUTION                                                                                            (1)

                                     0019    79 	.SBTTL	DEBUG IMAGE EXECUTION
                                     0019    80 ;+
                                     0019    81 ; MCR$DEBUG - DEBUG IMAGE EXECUTION
                                     0019    82 ;
                                     0019    83 ; THIS ROUTINE IS CALLED AS AN INTERNAL COMMAND TO EXECUTE THE DEBUG MCR
                                     0019    84 ; COMMAND.
                                     0019    85 ;
                                     0019    86 ; INPUTS:
                                     0019    87 ;
                                     0019    88 ;	R8 = ADDRESS OF SCRATCH BUFFER DESCRIPTOR.
                                     0019    89 ;	R9 = ADDRESS OF SCRATCH STACK.
                                     0019    90 ;	R10 = RESULT PARSE DESCRIPTOR TABLE POINTER.
                                     0019    91 ;	R11 = BASE ADDRESS OF PROCESS WORK AREA.
                                     0019    92 ;	FP = BASE ADDRESS OF COMMAND WORK AREA.
                                     0019    93 ;
                                     0019    94 ; OUTPUTS:
                                     0019    95 ;
                                     0019    96 ;	IF A PREVIOUS IMAGE WAS INTERRUPTED VIA A CONTROL Y AST, THEN A
                                     0019    97 ;	DEBUG EXCEPTION IS GENERATED FOR THE IMAGE. OTHERWISE THIS COMMAND
                                     0019    98 ;	IS A NOPERATION.
                                     0019    99 ;-
                                     0019   100  
                                     0019   101 MCR$DEBUG::				;DEBUG IMAGE EXECUTION
                          0096   30  0019   102 	BSBW	TESTMODE		;TEST PREVIOUS MODE
         10 AD         29'AF     9E  001C   103 	MOVAB	B^20$,16(FP)		;RESET AST RETURN ADDRESS
            0B            16     78  0021   104 	ASHL	#PSL$V_PRVMOD,#<PSL$C_SUPER@2>! - ;CONSTRUCT PROPER PSL
                          7E         0024       
                                     0025   105 		PSL$C_USER,-(SP)	;
                       F0 AF     9F  0025   106 	PUSHAB	10$			;SET PC
                                 02  0028   107 	REI				;
                                     0029   108  
                                     0029   109 ;
                                     0029   110 ; CONTROL IS REGAINED AT THIS POINT WITH:
                                     0029   111 ;
                                     0029   112 ;	00(SP) = NUMBER OF AST ARGUMENTS (ALWAYS 5).
                                     0029   113 ;	04(SP) = AST PARAMETER.
                                     0029   114 ;	08(SP) = SAVED R0.
                                     0029   115 ;	12(SP) = SAVED R1.
                                     0029   116 ;	16(SP) = IMAGE PC.
                                     0029   117 ;	20(SP) = IMAGE PSL.
                                     0029   118 ;
                                     0029   119  
            5E            08     C0  0029   120 20$:	ADDL	#8,SP			;REMOVE NUMBER OF ARGUMENTS AND PARAMETER
                          03     BA  002C   121 	POPR	#^M<R0,R1>		;RESTORE SAVED REGISTERS
            7E       046C 8F     3C  002E   122 	MOVZWL	#SS$_DEBUG,-(SP)	;SET EXCEPTION NAME
                          03     DD  0033   123 	PUSHL	#3			;SET NUMBER OF EXCEPTION ARGUMENTS
                 00000000'9F     17  0035   124 	JMP	@#EXE$REFLECT		;REFLECT EXCEPTION
                                     003B   125 	.DSABL	LSB
MCRIMGCTL       - IMAGE CONTROL MCR COMMAND EXECUTION            22-AUG-1978 01:40:37   VAX-11 MACRO X0.3-11               Page   4
01              STOP IMAGE EXECUTION                                                                                             (1)

                                     003B   127 	.SBTTL	STOP IMAGE EXECUTION
                                     003B   128 ;+
                                     003B   129 ; MCR$STOP - STOP IMAGE EXECUTION
                                     003B   130 ;
                                     003B   131 ; THIS ROUTINE IS CALLED AS AN INTERNAL COMMAND TO EXECUTE THE STOP MCR
                                     003B   132 ; COMMAND.
                                     003B   133 ;
                                     003B   134 ; INPUTS:
                                     003B   135 ;
                                     003B   136 ;	R8 = ADDRESS OF SCRATCH BUFFER DESCRIPTOR.
                                     003B   137 ;	R9 = ADDRESS OF SCRATCH STACK.
                                     003B   138 ;	R10 = RESULT PARSE DESCRIPTOR TABLE POINTER.
                                     003B   139 ;	R11 = BASE ADDRESS OF PROCESS WORK AREA.
                                     003B   140 ;	FP = BASE ADDRESS OF COMMAND WORK AREA.
                                     003B   141 ;
                                     003B   142 ; OUTPUTS:
                                     003B   143 ;
                                     003B   144 ;	IF A PROCESS NAME OR IDENTIFICATION IS SPECIFIED, THEN THAT PROCESS IS
                                     003B   145 ;	DELETED.
                                     003B   146 ;
                                     003B   147 ;	IF THE JOB IS A NONINTERACTIVE JOB, THEN THE JOB IS LOGGED OFF THE SYSTEM
                                     003B   148 ;	WITH A STATUS OF NORMAL COMPLETION. OTHERWISE ALL INDIRECT FILE LEVELS ARE
                                     003B   149 ;	UNSTACKED AND A TEST IS MADE TO DETERMINE IF AN IMAGE WAS INTERRUPTED VIA
                                     003B   150 ;	A CONTROL C/Y. IF A PREVIOUS IMAGE WAS INTERRUPTED, THEN THE CONTEXT OF THE
                                     003B   151 ;	RUN COMMAND THAT INITIATED IMAGE EXECUTION IS REMOVED FROM THE STACK AND
                                     003B   152 ;	RMS-32 IS CALLED TO CLOSE ALL OPEN IMAGE FILES. OTHERWISE NO OPERATION IS
                                     003B   153 ;	PERFORMED.
                                     003B   154 ;-
                                     003B   155  
                                     003B   156 MCR$STOP::				;STOP IMAGE EXECUTION
                                     003B   157 	GETDVAL				;GET DESCRIPTOR VALUES
            55            04     D1  003E   158 	CMPL	#PTR_K_ENDLINE,R5	;END OF LINE?
                          2C     12  0041   159 	BNEQ	40$			;IF NEQ NO
                                     0043   160 	CLRBIT	PRC_V_PAUSE,PRC_W_FLAGS(R11) ;REMOVE PAUSE FLAG
         14 AB         08 AB     D1  0048   161 10$:	CMPL	PRC_L_INPRAB(R11),PRC_L_INDINPRAB(R11) ;INDIRECT LEVEL ZERO?
                          05     13  004D   162 	BEQL	20$			;IF EQL YES
                                     004F   163 	UNSTACK				;UNSTACK INDIRECT LEVEL
                          F4     11  0052   164 	BRB	10$			;
         54 AB            06     E0  0054   165 20$:	BBS	#PRC_V_MODE,PRC_W_FLAGS(R11),30$ ;IF SET, NONINTERACTIVE JOB
                          13         0058       
                          57     10  0059   166 	BSBB	TESTMODE		;TEST PREVIOUS MODE
            5D         DC AD     D0  005B   167 	MOVL	WRK_L_SAVFP(FP),FP	;RESTORE SAVED FRAME POINTER
                                     005F   168 	SHUTDOWN			;CLOSE FILES OF PREVIOUS IMAGE
                                     0062   169 	$RUNDWN_S #PSL$C_USER		;RUN DOWN PREVIOUS IMAGE
                                 05  006B   170 	RSB				;
                          FF91'  31  006C   171 30$:	BRW	MCR$LOGOUT		;LOG PROCESS OUT
                                     006F   172  
                                     006F   173 ;
                                     006F   174 ; DELETE PROCESS
                                     006F   175 ;
                                     006F   176  
                          79     D4  006F   177 40$:	CLRL	-(R9)			;CLEAR PROCESS IDENTIFICATION
            57            58     D0  0071   178 	MOVL	R8,R7			;COPY ADDRESS OF SCRATCH DESCRIPTOR
            55            00     D1  0074   179 	CMPL	#PTR_K_COMDQUAL,R5	;COMMAND QUALIFIER SPECIFIED?
                          26     12  0077   180 	BNEQ	70$			;IF NEQ NO
                                     0079   181 	GETDVAL				;GET VALUE PARAMETERS
            52            51     7D  007C   182 	MOVQ	R1,R2			;SAVE VALUE PARAMETERS
MCRIMGCTL       - IMAGE CONTROL MCR COMMAND EXECUTION            22-AUG-1978 01:40:37   VAX-11 MACRO X0.3-11               Page   5
01              STOP IMAGE EXECUTION                                                                                             (1)

                          52     D7  007F   183 50$:	DECL	R2			;ANY MORE CHARACTERS TO CONVERT?
                          12     19  0081   184 	BLSS	60$			;IF LSS NO
            10            83     3A  0083   185 	LOCC	(R3)+,#16,HEXTAB	;SEARCH FOR HEX CHARACTER MATCH
                     FF77 CF         0086       
                          23     13  0089   186 	BEQL	80$			;IF EQL VALUE SYNTAX ERROR
            69            10     C4  008B   187 	MULL	#16,(R9)		;SCALE ACCUMULATED RESULT
            69            50     C0  008E   188 	ADDL	R0,(R9)			;ADD IN NEXT DIGIT
                          69     D7  0091   189 	DECL	(R9)			;SUBTRACT OUT CHARACTER COUNT
                          EA     11  0093   190 	BRB	50$			;
                                     0095   191 60$:	GETDVAL				;GET DESCRIPTOR VALUES
            55            04     D1  0098   192 	CMPL	#PTR_K_ENDLINE,R5	;END OF LINE?
                          02     12  009B   193 	BNEQ	70$			;IF NEQ NO
                          57     D4  009D   194 	CLRL	R7			;CLEAR DESCRIPTOR ADDRESS
            68            51     7D  009F   195 70$:	MOVQ	R1,(R8)			;SAVE PROCESS NAME PARAMETERS
                                     00A2   196 	$DELPRC_S (R9),(R7)		;DELETE PROCESS
                                 05  00AD   197 	RSB				;
                                     00AE   198 80$:	STATUS	IVVALU			;SET INVALID VALUE SYNTAX STATUS
                                 05  00B1   199 	RSB				;
MCRIMGCTL       - IMAGE CONTROL MCR COMMAND EXECUTION            22-AUG-1978 01:40:37   VAX-11 MACRO X0.3-11               Page   6
01              TEST PREVIOUS MODE                                                                                               (1)

                                     00B2   201 	.SBTTL	TEST PREVIOUS MODE
                                     00B2   202 ;
                                     00B2   203 ; SUBROUTINE TO TEST PREVIOUS MODE AND DISABLE CONTROL Y AST
                                     00B2   204 ;
                                     00B2   205  
                                     00B2   206 TESTMODE:				;TEST PREVIOUS MODE
         54 AB            04     A8  00B2   207 	BISW	#PRC_M_DISABL,PRC_W_FLAGS(R11) ;DISABLE CONTROL Y AST
         54 AB            0B     E5  00B6   208 	BBCC	#PRC_V_YLEVEL,PRC_W_FLAGS(R11),10$ ;IF CLR, NOT AT CONTROL Y/C LEVEL
                          0A         00BA       
         00 BB            18     E1  00BB   209 	BBC	#PSL$V_CURMOD,@PRC_L_SAVAP(R11),10$ ;IF CLR, PREVIOUS MODE SUPERVISOR
                          05         00BF       
            6B         D8 AD     7D  00C0   210 	MOVQ	WRK_L_SAVAP(FP),PRC_L_SAVAP(R11) ;RESTORE ARGUMENT AND FRAME POINTERS
                                 05  00C4   211 	RSB				;
                                     00C5   212  
                                     00C5   213 ;
                                     00C5   214 ; PREVIOUS MODE SUPERVISOR
                                     00C5   215 ;
                                     00C5   216  
                          8E     D5  00C5   217 10$:	TSTL	(SP)+			;REMOVE RETURN FROM STACK
                                     00C7   218 	STATUS	NORMAL			;SET COMPLETION STATUS
                                 05  00CA   219 	RSB				;
MCRIMGCTL       - IMAGE CONTROL MCR COMMAND EXECUTION            22-AUG-1978 01:40:37   VAX-11 MACRO X0.3-11               Page   7
01              RUN DOWN IMAGE AND INDIRECT LEVELS                                                                               (1)

                                     00CB   221 	.SBTTL	RUN DOWN IMAGE AND INDIRECT LEVELS
                                     00CB   222 ;+
                                     00CB   223 ; MCR$RUNDOWN - RUN DOWN IMAGE AND INDIRECT LEVELS
                                     00CB   224 ;
                                     00CB   225 ; THIS SUBROUTINE IS CALLED TO CHECK WHETHER INDIRECT LEVELS SHOULD BE RUN DOWN
                                     00CB   226 ; AND TO CLOSE RMS-32 FILES AND RUN DOWN THE PREVIOUS IMAGE.
                                     00CB   227 ;
                                     00CB   228 ; INPUTS:
                                     00CB   229 ;
                                     00CB   230 ;	NONE.
                                     00CB   231 ;
                                     00CB   232 ; OUTPUTS:
                                     00CB   233 ;
                                     00CB   234 ;	IF THE CURRENT LEVEL IS CONTROL Y/C, THEN ALL INDIRECT FILES ARE UNSTACKED.
                                     00CB   235 ;	IF THE PREVIOUS MODE WAS USER, THEN THE USER IMAGE EXIT HANDLERS ARE
                                     00CB   236 ;	EXECUTED. THE PREVIOUS IMAGE IS ALWAYS RUNDOWN.
                                     00CB   237 ;-
                                     00CB   238  
                                     00CB   239 MCR$RUNDOWN::				;RUN DOWN IMAGE AND INDIRECT LEVELS
         54 AB            04     A8  00CB   240 	BISW	#PRC_M_DISABL,PRC_W_FLAGS(R11) ;DISABLE CONTROL Y/C AST'S
         54 AB            0D     E0  00CF   241 	BBS	#PRC_V_PAUSE,PRC_W_FLAGS(R11),20$ ;DON'T UNSTACK IF PAUSED
                          5D         00D3       
         54 AB            0B     E5  00D4   242 	BBCC	#PRC_V_YLEVEL,PRC_W_FLAGS(R11),20$ ;IF CLR, NOT AT CONTROL Y/C LEVEL
                          58         00D8       
            50            6B     D0  00D9   243 	MOVL	PRC_L_SAVAP(R11),R0	;GET ADDRESS OF PREVIOUS PSL
            60            18     E1  00DC   244 	BBC	#PSL$V_CURMOD,(R0),10$	;IF CLR, PREVIOUS MODE SUPERVISOR
                          45         00DF       
                       25'AF     9F  00E0   245 	PUSHAB	B^10$			;SET EXIT HANDLER RETURN ADDRESS
            70   00000000'9F     9E  00E3   246 	MOVAB	@#EXE$EXIT_IMAGE,-(R0)	;RESET USER RETURN ADDRESS
         F8 A0       0980 8F     3C  00EA   247 	MOVZWL	#SS$_CLIFRCEXT,-8(R0)	;SET EXIT CAUSE INTO SAVED R0
            5E            5D     C3  00F0   248 	SUBL3	FP,SP,WRK_L_SAVSP(FP)	;SAVE RELATIVE ADDRESS OF TOP OF STACK
                       D4 AD         00F3       
            58         D8 AD     7D  00F5   249 	MOVQ	WRK_L_SAVAP(FP),R8	;RETRIEVE PREVIOUS ARGUMENT AND FRAME POINTERS
            6B            58     7D  00F9   250 	MOVQ	R8,PRC_L_SAVAP(R11)	;SAVE IN PROCESS WORK AREA
       FD40 CD            5D     C2  00FC   251 	SUBL	FP,WRK_L_RSLNXT(FP)	;CONVERT PARSE POINTER TO RELATIVE ADDRESS
            57         08 A0     9E  0101   252 	MOVAB	8(R0),R7		;GET ADDRESS OF END OF ARGUMENT LIST + 4
            57            5D     C2  0105   253 	SUBL	FP,R7			;CALCULATE LENGTH OF CALL FRAME AND ARGLIST
            5E            57     C2  0108   254 	SUBL	R7,SP			;CALCULATE NEW TOP OF STACK ADDRESS
            6D            57     28  010B   255 	MOVC	R7,(FP),(SP)		;MOVE CALL FRAME AND ARGUMENT LIST
                          6E         010E       
            5D            5E     C3  010F   256 	SUBL3	SP,FP,R7		;CALCULATE LENGTH OF COMMAND BUFFER AND ARGLISTS
                          57         0112       
            59            57     C3  0113   257 	SUBL3	R7,R9,FP		;CALCULATE NEW TOP OF STACK ADDRESS
                          5D         0116       
            6E            57     28  0117   258 	MOVC	R7,(SP),(FP)		;COLLAPSE STACK REMOVING FIRST COMMAND CONTEXT
                          6D         011A       
         D4 A9            59     C0  011B   259 	ADDL	R9,WRK_L_SAVSP(R9)	;CALCULATE NEW COMMAND STACK POINTER
       FD40 C9            59     C0  011F   260 	ADDL	R9,WRK_L_RSLNXT(R9)	;CONVERT PARSE POINTER TO REAL ADDRESS
                                 04  0124   261 	RET				;
         14 AB         08 AB     D1  0125   262 10$:	CMPL	PRC_L_INPRAB(R11),PRC_L_INDINPRAB(R11) ;INDIRECT LEVEL ZERO?
                          05     13  012A   263 	BEQL	20$			;IF EQL YES
                                     012C   264 	UNSTACK				;UNSTACK INDIRECT LEVEL
                          F4     11  012F   265 	BRB	10$			;
                                     0131   266 20$:	$RUNDWN_S #PSL$C_USER		;RUN DOWN PREVIOUS IMAGE
                                 05  013A   267 	RSB				;
MCRIMGCTL       - IMAGE CONTROL MCR COMMAND EXECUTION            22-AUG-1978 01:40:37   VAX-11 MACRO X0.3-11               Page   8
01              SHUT DOWN IMAGE                                                                                                  (1)

                                     013B   269 	.SBTTL	SHUT DOWN IMAGE
                                     013B   270 ;+
                                     013B   271 ; MCR$SHUTDOWN - SHUT DOWM IMAGE
                                     013B   272 ;
                                     013B   273 ; THIS ROUTINE IS CALLED TO CLOSE ALL FILES OPENED BY THE JUST EXECUTED IMAGE
                                     013B   274 ; AND TO CLOSE THE IMAGE ACTIVATION FILE.
                                     013B   275 ;
                                     013B   276 ; INPUTS:
                                     013B   277 ;
                                     013B   278 ;	R11 = BASE ADDRESS OF PROCESS WORK AREA.
                                     013B   279 ;
                                     013B   280 ; OUTPUTS:
                                     013B   281 ;
                                     013B   282 ;	ALL FILES OPENED BY THE JUST EXECUTED IMAGE ARE CLOSED BY CALLING RMS-32,
                                     013B   283 ;	DATA RECORDS ARE SKIPPED IN THE INPUT STREAM, AND THE IMAGE FILE IS CLOSED.
                                     013B   284 ;
                                     013B   285 ;		R2 = NUMBER OF DATA RECORDS SKIPPED IN THE INPUT STREAM.
                                     013B   286 ;-
                                     013B   287  
                                     013B   288 MCR$SHUTDOWN::				;SHUT DOWN IMAGE
                                     013B   289 	ALLOCBUF			;ALLOCATE BUFFER AND DESCRIPTOR
            62         84 8F     9A  013E   290 10$:	MOVZBL	#MSGBUFSIZ,(R2)		;RESET SIZE OF MESSAGE BUFFER
                          00     DD  0142   291 	PUSHL	#0			;RUNDOWN ONLY USER LEVEL FILES
                          62     9F  0144   292 	PUSHAB	(R2)			;SET ADDRESS OF MESSAGE BUFFER DESCRIPTOR
   00000000'9F            02     FB  0146   293 	CALLS	#2,@#SYS$RMSRUNDWN	;RUNDOWN RMS-32 FILES
            EE            50     E9  014D   294 	BLBC	R0,10$			;IF RUNDOWN FAILURE CONTINUE WITH NEXT FILE
            5E       008C CE     9E  0150   295 	MOVAB	MSGBUFSIZ+8(SP),SP	;DEALLOCATE MESSAGE BUFFER AND DESCRIPTOR
                          52     D4  0155   296 	CLRL	R2			;CLEAR COUNT OF RECORDS SKIPPED
            53         14 AB     D0  0157   297 	MOVL	PRC_L_INDINPRAB(R11),R3	;GET ADDRESS OF INDIRECT RAB
         18 A3            02     E0  015B   298 	BBS	#DEV$V_TRM,RAB$L_CTX(R3),30$ ;IF SET, DEVICE IS TERMINAL
                          21         015F       
         52 AB            08     E1  0160   299 	BBC	#MCR_V_DOLLARS,PRC_W_CLIFLAG(R11),30$ ;BR IF DOLLARS NOT ENABLED
                          1C         0164       
         02 A3       4000 8F     A8  0165   300 	BISW	#RAB$M_PPF_IND,RAB$W_ISI(R3) ;CONVERT TO NONPRIVILEGED ISI
                          52     D6  016B   301 20$:	INCL	R2			;INCREMENT NUMBER OF RECORDS SKIPPED
                                     016D   302 	$GET	RAB=(R3)		;GET NEXT RECORD FROM INDIRECT FILE
            F2            50     E8  0176   303 	BLBS	R0,20$			;IF LBS SUCCESS
                          52     D7  0179   304 	DECL	R2			;ADJUST FOR LAST RECORD
         02 A3       4000 8F     AA  017B   305 	BICW	#RAB$M_PPF_IND,RAB$W_ISI(R3) ;CONVERT BACK TO PRIVILEGED ISI
                                 05  0181   306 30$:	RSB				;
                                     0182   307  
                                     0182   308 	.END
MCRIMGCTL       - IMAGE CONTROL MCR COMMAND EXECUTION            22-AUG-1978 01:40:37   VAX-11 MACRO X0.3-11               Page   9
SYMBOL TABLE                                                                                                                     (1)

$$.TMP1        = 00000001            CLI$_ONLEVL    = 00038100            DEV$V_IDV      = 0000001A            
$$.TMP2        = 00000063            CLI$_ONOVF     = 00038108            DEV$V_MBX      = 00000014            
BIT...         = 00000000            CLI$_OVRFLW    = 00038160            DEV$V_MNT      = 00000013            
CLI$_ABFNAM    = 000381B8            CLI$_PARMDEL   = 00038110            DEV$V_NET      = 0000000D            
CLI$_ABKEYW    = 00038000            CLI$_PROC_ID   = 0003FFF1            DEV$V_ODV      = 0000001B            
CLI$_ABVERB    = 00038008            CLI$_QUEJOBCRE = 0003FFF9            DEV$V_RCK      = 0000001E            
CLI$_BADRET    = 00038198            CLI$_REQPRMABS = 00038812            DEV$V_REC      = 00000000            
CLI$_BADTEXT   = 000381B0            CLI$_RSLOVF    = 00038118            DEV$V_RND      = 0000001C            
CLI$_BUFOVF    = 00038018            CLI$_SKPDAT    = 00038120            DEV$V_RTM      = 0000001D            
CLI$_COMPLX    = 00038020            CLI$_SPARE0    = 00038010            DEV$V_SDI      = 00000004            
CLI$_CONFQUAL  = 00038802            CLI$_SPARE1    = 00038058            DEV$V_SHR      = 00000010            
CLI$_CREQUEJOB = 0003884A            CLI$_STKOVF    = 00038128            DEV$V_SPL      = 00000006            
CLI$_DEFOVF    = 00038028            CLI$_SUBMITERR = 00038852            DEV$V_SQD      = 00000005            
CLI$_DEVALSPL  = 0003885A            CLI$_SYMDEL    = 00038130            DEV$V_SWL      = 00000019            
CLI$_DEVNOTFOR = 0003887A            CLI$_SYMOVF    = 00038138            DEV$V_TRM      = 00000002            
CLI$_DEVNOTSPL = 00038862            CLI$_UNDFIL    = 00038188            DEV$V_WCK      = 0000001F            
CLI$_DIRECT    = 00038030            CLI$_UNDSYM    = 00038140            EXE$EXIT_IMAGE   ********   X   03   
CLI$_EXPSYN    = 00038038            CLI$_UNPROPARM = 00038170            EXE$REFLECT      ********   X   03   
CLI$_FILOPN    = 00038190            CLI$_UNPROQUAL = 00038168            GBL...         = 00000000            
CLI$_ILLVAL    = 0003883A            CLI$_USGOTO    = 00038148            HEXTAB           00000000 R     03   
CLI$_IMCHNG    = 00038040            CLI$_VALCNVERR = 00038832            INPBUFSIZ      = 00000084            
CLI$_IMGFNF    = 00038872            CLI$_VALREQ    = 00038150            MCR$ALLOCBUF     ********   X   03   
CLI$_INSFPRM   = 00038048            CMDBUFSIZ      = 000001FC            MCR$CONTINUE     00000010 RG    03   
CLI$_INVKEY    = 00038178            DEV$M_ALL      = 00800000            MCR$DEBUG        00000019 RG    03   
CLI$_INVQUAL   = 0003880A            DEV$M_AVL      = 00040000            MCR$GETDVAL      ********   X   03   
CLI$_INVQUALNUM= 0003881A            DEV$M_CCL      = 00000002            MCR$LOGOUT       ********   X   03   
CLI$_INVREQTYP = 00038822            DEV$M_DIR      = 00000008            MCR$RUNDOWN      000000CB RG    03   
CLI$_INVRSP    = 00038180            DEV$M_DMT      = 00200000            MCR$SHUTDOWN     0000013B RG    03   
CLI$_INVUIC    = 000381A8            DEV$M_ELG      = 00400000            MCR$STOP         0000003B RG    03   
CLI$_IVCHAR    = 00038050            DEV$M_FOD      = 00004000            MCR$UNSTACK      ********   X   03   
CLI$_IVDEVTYPE = 0003886A            DEV$M_FOR      = 01000000            MCR_M_ALPHAN   = 00000002            
CLI$_IVFNAM    = 000381C0            DEV$M_GEN      = 00020000            MCR_M_DEFALT   = 00000008            
CLI$_IVKEYW    = 00038060            DEV$M_IDV      = 04000000            MCR_M_DELINP   = 00000080            
CLI$_IVOPER    = 00038068            DEV$M_MBX      = 00100000            MCR_M_DOLLARS  = 00000100            
CLI$_IVPROT    = 00038070            DEV$M_MNT      = 00080000            MCR_M_ESCAPE   = 00000004            
CLI$_IVQLOC    = 00038078            DEV$M_NET      = 00002000            MCR_M_ESCTRM   = 00000200            
CLI$_IVSYMB    = 00038080            DEV$M_ODV      = 08000000            MCR_M_GLOBAL   = 00000400            
CLI$_IVVALU    = 00038088            DEV$M_RCK      = 40000000            MCR_M_LOWER    = 00000800            
CLI$_IVVERB    = 00038090            DEV$M_REC      = 00000001            MCR_M_OPNINP   = 00000040            
CLI$_MAXPARM   = 00038098            DEV$M_RND      = 10000000            MCR_M_RAD50    = 00000001            
CLI$_MULKEY    = 000381A0            DEV$M_RTM      = 20000000            MCR_M_STRSUB   = 00001000            
CLI$_NOATFIL   = 000380A0            DEV$M_SDI      = 00000010            MCR_V_ALPHAN   = 00000001            
CLI$_NOCCAT    = 000380A8            DEV$M_SHR      = 00010000            MCR_V_DEFALT   = 00000003            
CLI$_NOCOMD    = 000380B0            DEV$M_SPL      = 00000040            MCR_V_DELINP   = 00000007            
CLI$_NOKEYW    = 000380B8            DEV$M_SQD      = 00000020            MCR_V_DOLLARS  = 00000008            
CLI$_NOLIST    = 000380C0            DEV$M_SWL      = 02000000            MCR_V_ESCAPE   = 00000002            
CLI$_NOOPTPRS  = 00038842            DEV$M_TRM      = 00000004            MCR_V_ESCTRM   = 00000009            
CLI$_NOQUAL    = 000380C8            DEV$M_WCK      = 80000000            MCR_V_FORCMD   = 0000000E            
CLI$_NORMAL    = 00030001            DEV$V_ALL      = 00000017            MCR_V_GLOBAL   = 0000000A            
CLI$_NOTNEG    = 000380D8            DEV$V_AVL      = 00000012            MCR_V_LOWER    = 0000000B            
CLI$_NOVALU    = 000380D0            DEV$V_CCL      = 00000001            MCR_V_OPNINP   = 00000006            
CLI$_NOVALUE   = 0003882A            DEV$V_DIR      = 00000003            MCR_V_RAD50    = 00000000            
CLI$_NULFIL    = 000380E0            DEV$V_DMT      = 00000015            MCR_V_STRSUB   = 0000000C            
CLI$_NUMBER    = 000380E8            DEV$V_ELG      = 00000016            MSGBUFSIZ      = 00000084            
CLI$_ONCOMD    = 000380F0            DEV$V_FOD      = 0000000E            PRC_B_DEFRADIX   00000092            
CLI$_ONERR     = 000380F8            DEV$V_FOR      = 00000018            PRC_B_EXMDEPMOD  00000091            
CLI$_ONEVAL    = 00038158            DEV$V_GEN      = 00000011            PRC_B_EXMDEPWID  00000090            
MCRIMGCTL       - IMAGE CONTROL MCR COMMAND EXECUTION            22-AUG-1978 01:40:37   VAX-11 MACRO X0.3-11               Page  10
SYMBOL TABLE                                                                                                                     (1)

PRC_K_DEC      = 00000001            PRC_V_GOEOF    = 00000000            PTR_L_DESCR      00000000            
PRC_K_HEX      = 00000000            PRC_V_GOTO     = 00000004            PTR_S_FLAGS    = 00000004            
PRC_K_LENGTH     000000A0            PRC_V_HANGUP   = 0000000C            PTR_S_OFFSET   = 0000000C            
PRC_K_OCT      = 00000002            PRC_V_IND      = 00000005            PTR_S_TERM     = 00000004            
PRC_L_CLIWRK0    0000005C            PRC_V_MODE     = 00000006            PTR_S_TYPE     = 00000004            
PRC_L_CLIWRK1    00000060            PRC_V_NOCTLY   = 0000000E            PTR_S_VALUE    = 00000008            
PRC_L_CLIWRK2    00000064            PRC_V_PAUSE    = 0000000D            PTR_V_EQUAL    = 00000000            
PRC_L_CLIWRK3    00000068            PRC_V_USRDET   = 00000008            PTR_V_FLAGS    = 00000014            
PRC_L_CLIWRK4    0000006C            PRC_V_VERIFY   = 00000007            PTR_V_NEGATE   = 00000000            
PRC_L_ERRRAB     00000010            PRC_V_YLEVEL   = 0000000B            PTR_V_OFFSET   = 00000008            
PRC_L_EXMDEPADR  0000008C            PRC_W_CLIFLAG    00000052            PTR_V_TERM     = 00000018            
PRC_L_EXTARG     00000078            PRC_W_ERRIFI     00000052            PTR_V_TYPE     = 0000001C            
PRC_L_EXTBLK     00000070            PRC_W_FLAGS      00000054            PTR_V_VALUE    = 00000000            
PRC_L_EXTCOD     00000080            PRC_W_INPCHAN    00000050            RAB$B_BID        00000000            
PRC_L_EXTHND     00000074            PRC_W_ONLEVEL    00000056            RAB$B_BLN        00000001            
PRC_L_EXTPRM     0000007C            PSL$C_EXEC     = 00000001            RAB$B_KRF        00000035            
PRC_L_INDEPTH    00000048            PSL$C_KERNEL   = 00000000            RAB$B_KSZ        00000034            
PRC_L_INDFAB     0000001C            PSL$C_SUPER    = 00000002            RAB$B_MBC        00000037            
PRC_L_INDINPRAB  00000014            PSL$C_USER     = 00000003            RAB$B_MBF        00000036            
PRC_L_INDOUTRAB  00000018            PSL$M_CM       = 80000000            RAB$B_PSZ        00000034            
PRC_L_INPRAB     00000008            PSL$M_CURMOD   = 03000000            RAB$B_RAC        0000001E            
PRC_L_LSTSTATUS  00000094            PSL$M_DV       = 00000080            RAB$B_ROP1       00000005            
PRC_L_ONCTLY     0000009C            PSL$M_FPD      = 08000000            RAB$B_ROP2       00000006            
PRC_L_ONERROR    00000058            PSL$M_FU       = 00000040            RAB$B_ROP3       00000007            
PRC_L_OUTRAB     0000000C            PSL$M_IPL      = 001F0000            RAB$B_TMO        0000001F            
PRC_L_PROCUIC    00000098            PSL$M_IS       = 04000000            RAB$C_BID      = 00000001            
PRC_L_SAVAP      00000000            PSL$M_IV       = 00000020            RAB$C_BLN        00000044            
PRC_L_SAVFP      00000004            PSL$M_PRVMOD   = 00C00000            RAB$C_KEY      = 00000001            
PRC_L_SEVERITY   00000040            PSL$M_SAFBITS  = 000037FF            RAB$C_RFA      = 00000002            
PRC_L_STACKLM    00000088            PSL$M_TBIT     = 00000010            RAB$C_SEQ      = 00000000            
PRC_L_STACKPT    00000084            PSL$M_TP       = 40000000            RAB$K_BLN        00000044            
PRC_L_STATUS     00000044            PSL$S_CURMOD   = 00000002            RAB$L_BKT        00000038            
PRC_L_SYMBOL     0000004C            PSL$S_IPL      = 00000005            RAB$L_CTX        00000018            
PRC_M_CNTRLY   = 00000002            PSL$S_PRVMOD   = 00000002            RAB$L_DCT        00000038            
PRC_M_DBGQUAL  = 00000200            PSL$V_CM       = 0000001F            RAB$L_FAB        0000003C            
PRC_M_DBGTRUE  = 00000400            PSL$V_CURMOD   = 00000018            RAB$L_KBF        00000030            
PRC_M_DISABL   = 00000004            PSL$V_DV       = 00000007            RAB$L_PBF        00000030            
PRC_M_EXIT     = 00000008            PSL$V_FPD      = 0000001B            RAB$L_RBF        00000028            
PRC_M_GOEOF    = 00000001            PSL$V_FU       = 00000006            RAB$L_RFA0       00000010            
PRC_M_GOTO     = 00000010            PSL$V_IPL      = 00000010            RAB$L_RHB        0000002C            
PRC_M_HANGUP   = 00001000            PSL$V_IS       = 0000001A            RAB$L_ROP        00000004            
PRC_M_IND      = 00000020            PSL$V_IV       = 00000005            RAB$L_STS        00000008            
PRC_M_MODE     = 00000040            PSL$V_PRVMOD   = 00000016            RAB$L_STV        0000000C            
PRC_M_NOCTLY   = 00004000            PSL$V_TBIT     = 00000004            RAB$L_UBF        00000024            
PRC_M_PAUSE    = 00002000            PSL$V_TP       = 0000001E            RAB$M_ASY      = 00000001            
PRC_M_USRDET   = 00000100            PTR_K_BLANK    = 00000001            RAB$M_BIO      = 00000800            
PRC_M_VERIFY   = 00000080            PTR_K_COLON    = 00000002            RAB$M_CCO      = 80000000            
PRC_M_YLEVEL   = 00000800            PTR_K_COMDQUAL = 00000000            RAB$M_CVT      = 04000000            
PRC_Q_ALLOCREG   00000020            PTR_K_COMMA    = 00000005            RAB$M_EOF      = 00000100            
PRC_Q_GLOBAL     00000028            PTR_K_ENDLINE  = 00000004            RAB$M_FDL      = 00000040            
PRC_Q_LABEL      00000030            PTR_K_LPAREN   = 00000007            RAB$M_HSH      = 00000080            
PRC_Q_LOCAL      00000038            PTR_K_PARAMETR = 00000003            RAB$M_KGE      = 00200000            
PRC_V_CNTRLY   = 00000001            PTR_K_PARMQUAL = 00000001            RAB$M_KGT      = 00400000            
PRC_V_DBGQUAL  = 00000009            PTR_K_PLUS     = 00000004            RAB$M_LIM      = 00004000            
PRC_V_DBGTRUE  = 0000000A            PTR_K_QUALVALU = 00000002            RAB$M_LOA      = 00002000            
PRC_V_DISABL   = 00000002            PTR_K_RPAREN   = 00000006            RAB$M_LOC      = 00010000            
PRC_V_EXIT     = 00000003            PTR_K_SLASH    = 00000003            RAB$M_MAS      = 00000020            
MCRIMGCTL       - IMAGE CONTROL MCR COMMAND EXECUTION            22-AUG-1978 01:40:37   VAX-11 MACRO X0.3-11               Page  11
SYMBOL TABLE                                                                                                                     (1)

RAB$M_NLK      = 00100000            SS$_ASTFLT     = 0000040C            SS$_FCPWRITERR = 000008A0            
RAB$M_NXR      = 00800000            SS$_BADATTRIB  = 00000034            SS$_FILACCERR  = 0000009C            
RAB$M_PMT      = 40000000            SS$_BADCHKSUM  = 00000808            SS$_FILALRACC  = 000000A4            
RAB$M_PPF_IND  = 00004000            SS$_BADESCAPE  = 0000003C            SS$_FILELOCKED = 000008A8            
RAB$M_PPF_RAT  = 00003FC0            SS$_BADFILEHDR = 00000810            SS$_FILENUMCHK = 000008B0            
RAB$M_PTA      = 20000000            SS$_BADFILENAME= 00000818            SS$_FILESEQCHK = 000008B8            
RAB$M_RAH      = 00000200            SS$_BADFILEVER = 00000820            SS$_FILESTRUCT = 000008C0            
RAB$M_RLK      = 00080000            SS$_BADIMGHDR  = 00000044            SS$_FILNOTACC  = 000000AC            
RAB$M_RNE      = 01000000            SS$_BADIRECTORY= 00000828            SS$_FILNOTCNTG = 000002AC            
RAB$M_RNF      = 08000000            SS$_BADPARAM   = 00000014            SS$_FILNOTEXP  = 000000B4            
RAB$M_TMO      = 02000000            SS$_BADSTACK   = 000002B4            SS$_FLTDIV     = 00000494            
RAB$M_TPT      = 00000002            SS$_BEGOFFILE  = 00000938            SS$_FLTOVF     = 0000048C            
RAB$M_UIF      = 00000010            SS$_BLOCKCNTERR= 00000940            SS$_FLTUND     = 0000049C            
RAB$M_ULK      = 00040000            SS$_BREAK      = 00000414            SS$_FORMAT     = 000000BC            
RAB$M_WAT      = 00020000            SS$_BUFBYTALI  = 0000030C            SS$_GPTFULL    = 000000C4            
RAB$M_WBH      = 00000400            SS$_BUFFEROVF  = 00000601            SS$_GSDFULL    = 000000CC            
RAB$S_PPF_RAT  = 00000008            SS$_BUGCHECK   = 000002A4            SS$_HANGUP     = 000002CC            
RAB$V_ASY      = 00000000            SS$_CANCEL     = 00000830            SS$_HEADERFULL = 000008C8            
RAB$V_BIO      = 0000000B            SS$_CHANINTLK  = 0000004C            SS$_IDXFILEFULL= 000008D0            
RAB$V_CCO      = 0000001F            SS$_CLIFRCEXT  = 00000980            SS$_ILLBLKNUM  = 000000DC            
RAB$V_CVT      = 0000001A            SS$_CMODSUPR   = 0000041C            SS$_ILLCNTRFUNC= 000000E4            
RAB$V_EOF      = 00000008            SS$_CMODUSER   = 00000424            SS$_ILLEFC     = 000000EC            
RAB$V_FDL      = 00000006            SS$_COMPAT     = 0000042C            SS$_ILLIOFUNC  = 000000F4            
RAB$V_HSH      = 00000007            SS$_CONTINUE   = 00000001            SS$_ILLLBLAST  = 00000968            
RAB$V_KGE      = 00000015            SS$_CONTROLC   = 00000651            SS$_ILLPAGCNT  = 000000FC            
RAB$V_KGT      = 00000016            SS$_CONTROLO   = 00000609            SS$_ILLSEQOP   = 000002DC            
RAB$V_LIM      = 0000000E            SS$_CONTROLY   = 00000611            SS$_ILLSER     = 00000104            
RAB$V_LOA      = 0000000D            SS$_CREATED    = 00000619            SS$_ILLUSRLBLRD= 00000958            
RAB$V_LOC      = 00000010            SS$_CTRLERR    = 00000054            SS$_ILLUSRLBLWT= 00000960            
RAB$V_MAS      = 00000005            SS$_DATACHECK  = 0000005C            SS$_INCVOLLABEL= 0000010C            
RAB$V_NLK      = 00000014            SS$_DATAOVERUN = 00000838            SS$_INSFARG    = 00000114            
RAB$V_NXR      = 00000017            SS$_DEBUG      = 0000046C            SS$_INSFMEM    = 00000124            
RAB$V_PMT      = 0000001E            SS$_DECOVF     = 000004A4            SS$_INSFRAME   = 0000012C            
RAB$V_PPF_IND  = 0000000E            SS$_DEVACTIVE  = 000002C4            SS$_INSFWSL    = 0000011C            
RAB$V_PPF_RAT  = 00000006            SS$_DEVALLOC   = 00000840            SS$_INTDIV     = 00000484            
RAB$V_PTA      = 0000001D            SS$_DEVALRALLOC= 00000641            SS$_INTOVF     = 0000047C            
RAB$V_RAH      = 00000009            SS$_DEVASSIGN  = 00000848            SS$_IVADDR     = 00000134            
RAB$V_RLK      = 00000013            SS$_DEVFOREIGN = 00000064            SS$_IVCHAN     = 0000013C            
RAB$V_RNE      = 00000018            SS$_DEVICEFULL = 00000850            SS$_IVCHNLSEC  = 0000026C            
RAB$V_RNF      = 0000001B            SS$_DEVMOUNT   = 0000006C            SS$_IVDEVNAM   = 00000144            
RAB$V_TMO      = 00000019            SS$_DEVNOTALLOC= 00000858            SS$_IVGSDNAM   = 0000014C            
RAB$V_TPT      = 00000001            SS$_DEVNOTMBX  = 00000074            SS$_IVLOGNAM   = 00000154            
RAB$V_UIF      = 00000004            SS$_DEVNOTMOUNT= 0000007C            SS$_IVLOGTAB   = 0000015C            
RAB$V_ULK      = 00000012            SS$_DEVOFFLINE = 00000084            SS$_IVPROTECT  = 000002F4            
RAB$V_WAT      = 00000011            SS$_DIRFULL    = 00000860            SS$_IVQUOTAL   = 00000164            
RAB$V_WBH      = 0000000A            SS$_DRVERR     = 0000008C            SS$_IVSECFLG   = 0000016C            
RAB$W_ISI        00000002            SS$_DUPFILENAME= 00000868            SS$_IVSECIDCTL = 000002E4            
RAB$W_RFA        00000010            SS$_DUPLNAM    = 00000094            SS$_IVSSRQ     = 00000174            
RAB$W_RFA4       00000014            SS$_ENDOFFILE  = 00000870            SS$_IVSTSFLG   = 0000017C            
RAB$W_RSZ        00000022            SS$_ENDOFTAPE  = 00000878            SS$_IVTIME     = 00000184            
RAB$W_USZ        00000020            SS$_ENDOFUSRLBL= 00000970            SS$_LCKPAGFUL  = 000000D4            
RSLBUFSIZ      = 00000180            SS$_EXQUOTA    = 0000001C            SS$_LENVIO     = 0000018C            
SS$_ABORT      = 0000002C            SS$_EXTIDXFILE = 00000880            SS$_LKWSETFUL  = 00000194            
SS$_ACCONFLICT = 00000800            SS$_FCPREADERR = 00000888            SS$_MBFULL     = 000008D8            
SS$_ACCVIO     = 0000000C            SS$_FCPREPSTN  = 00000988            SS$_MBTOOSML   = 0000019C            
SS$_ACPVAFUL   = 000002FC            SS$_FCPREWNDERR= 00000890            SS$_MCHECK     = 000002BC            
SS$_ARTRES     = 00000474            SS$_FCPSPACERR = 00000898            SS$_MEDOFL     = 000001A4            
MCRIMGCTL       - IMAGE CONTROL MCR COMMAND EXECUTION            22-AUG-1978 01:40:37   VAX-11 MACRO X0.3-11               Page  12
SYMBOL TABLE                                                                                                                     (1)

SS$_MSGNOTFND  = 00000621            SS$_UNSAFE     = 0000023C            WRK_V_VERB     = 00000007            
SS$_MTLBLLONG  = 00000304            SS$_UNWIND     = 00000920            WRK_W_FLAGS      FFFFFFFA            
SS$_MUSTCLOSEFL= 00000948            SS$_UNWINDING  = 00000928            WRK_W_LOCFLG     FFFFFFF8            
SS$_NOAQB      = 00000314            SS$_VASFULL    = 00000244            _$$_           = 00000022            
SS$_NODATA     = 000001AC            SS$_VECINUSE   = 0000024C            
SS$_NOHANDLER  = 000008F8            SS$_VOLINV     = 00000254            
SS$_NOHOMEBLK  = 000008E0            SS$_WAITUSRLBL = 00000950            
SS$_NOIOCHAN   = 000001B4            SS$_WASCLR     = 00000001            
SS$_NOLINKS    = 0000027C            SS$_WASECC     = 00000639            
SS$_NOLOGNAM   = 000001BC            SS$_WASSET     = 00000009            
SS$_NOMBX      = 00000274            SS$_WRITLCK    = 0000025C            
SS$_NOMOREFILES= 00000930            SS$_WRONGACP   = 0000031C            
SS$_NONEXDRV   = 000001C4            SYS$DELPRC       ********   X   03   
SS$_NONEXPR    = 000008E8            SYS$GET          ********  GX   03   
SS$_NONLOCAL   = 000008F0            SYS$RMSRUNDWN    ********   X   03   
SS$_NOPRIV     = 00000024            SYS$RUNDWN       ********   X   03   
SS$_NORMAL     = 00000001            TESTMODE         000000B2 R     03   
SS$_NOSIGNAL   = 00000900            WRK_AB_BUFFER    FFFFFD44            
SS$_NOSOLICIT  = 00000284            WRK_AG_RESULT    FFFFFBC0            
SS$_NOSUCHDEV  = 00000908            WRK_B_CMDFLG     FFFFFFC9            
SS$_NOSUCHFILE = 00000910            WRK_B_CURADX     FFFFFFCA            
SS$_NOSUCHNODE = 0000028C            WRK_B_PARMCNT    FFFFFFCB            
SS$_NOSUCHSEC  = 00000978            WRK_B_VERBTYP    FFFFFFC8            
SS$_NOTAPEOP   = 00000264            WRK_K_LENGTH     FFFFFBC0            
SS$_NOTFILEDEV = 000001CC            WRK_L_CHARPTR    FFFFFFFC            
SS$_NOTINTBLSZ = 000001D4            WRK_L_IMAGE      FFFFFFEC            
SS$_NOTLABELMT = 000001DC            WRK_L_MAXPARM    FFFFFFCC            
SS$_NOTMODIFIED= 00000659            WRK_L_MINPARM    FFFFFFD0            
SS$_NOTNETDEV  = 000002EC            WRK_L_PAROUT     FFFFFFF0            
SS$_NOTRAN     = 00000629            WRK_L_PROMPT     FFFFFFF4            
SS$_NOTSQDEV   = 000001E4            WRK_L_QUABLK     FFFFFFE8            
SS$_OPCCUS     = 00000434            WRK_L_RSLNXT     FFFFFD40            
SS$_OPCDEC     = 0000043C            WRK_L_SAVAP      FFFFFFD8            
SS$_OPINCOMPL  = 000002D4            WRK_L_SAVFP      FFFFFFDC            
SS$_PAGOWNVIO  = 000001EC            WRK_L_SAVSP      FFFFFFD4            
SS$_PAGRDERR   = 00000444            WRK_M_ALL      = 00000001            
SS$_PARITY     = 000001F4            WRK_M_ASK      = 00000100            
SS$_PARTESCAPE = 000001FC            WRK_M_COMMAND  = 00000002            
SS$_PFMBSY     = 00000204            WRK_M_CONTINU  = 00000400            
SS$_PLHLDR     = 00000404            WRK_M_EQUAL    = 00000008            
SS$_PSTFULL    = 0000020C            WRK_M_IMCHNG   = 00000004            
SS$_RADRMOD    = 0000044C            WRK_M_QUAL     = 00000010            
SS$_REJECT     = 00000294            WRK_M_QUOTE    = 00000020            
SS$_REMOTE     = 00000649            WRK_M_STAR     = 00000040            
SS$_RESIGNAL   = 00000918            WRK_M_TRAILSPC = 00000200            
SS$_RESULTOVF  = 00000214            WRK_M_VERB     = 00000080            
SS$_ROPRAND    = 00000454            WRK_Q_IOSB       FFFFFFE0            
SS$_SECTBLFUL  = 0000021C            WRK_V_ALL      = 00000000            
SS$_SSFAIL     = 0000045C            WRK_V_ASK      = 00000008            
SS$_SUBRNG     = 000004AC            WRK_V_COMMAND  = 00000001            
SS$_SUPERSEDE  = 00000631            WRK_V_CONTINU  = 0000000A            
SS$_TAPEPOSLOST= 00000224            WRK_V_EQUAL    = 00000003            
SS$_TBIT       = 00000464            WRK_V_IMCHNG   = 00000002            
SS$_TIMEOUT    = 0000022C            WRK_V_QUAL     = 00000004            
SS$_TOOMANYVER = 00000990            WRK_V_QUOTE    = 00000005            
SS$_TOOMUCHDATA= 0000029C            WRK_V_STAR     = 00000006            
SS$_UNASEFC    = 00000234            WRK_V_TRAILSPC = 00000009            
MCRIMGCTL       - IMAGE CONTROL MCR COMMAND EXECUTION            22-AUG-1978 01:40:37   VAX-11 MACRO X0.3-11               Page  13
PROGRAM SECTION SYNOPSIS                                                                                                         (1)



PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
$ABS$            FFFFFFFC      02     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
MCR$ZCODE        00000182      03     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD  NOWRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
5486. BYTES LEFT IN FREE MEMORY POOL.
3304. BYTES OF RECLAIMED MEMORY.
OBJ$:MCRIMGCTL,LIS$:MCRIMGCTL/-SP=EXECML$/ML,LIB$:MCR/ML,SRC$:MCRIMGCTL
41 MLB DIR RDS - 935 GETS TO DEFINE 31 MACROS. 76 INTER. FILE WRITES. 

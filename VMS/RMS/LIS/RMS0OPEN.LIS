RMS0OPEN        DISPATCH FOR OPEN OPERATION                      21-AUG-1978 22:06:58   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (1)      45  DECLARATIONS
   (1)      72  RMS$OPEN  -  $OPEN ROUTINE
RMS0OPEN        DISPATCH FOR OPEN OPERATION                      21-AUG-1978 22:06:58   VAX-11 MACRO X0.3-11               Page   1
035                                                                                                                              (1)

                                     0000     1 	$BEGIN RMS0OPEN,035,F$RMSOPEN0,<DISPATCH FOR OPEN OPERATION>
                                     0000     2 
                                     0000     3 
                                     0000     4 ;
                                     0000     5 ; COPYRIGHT (C) 1977, 1978
                                     0000     6 ; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS 01754
                                     0000     7 ;
                                     0000     8 ; THIS SOFTWARE IS FURNISHED  UNDER A LICENSE FOR USE ONLY ON A SINGLE
                                     0000     9 ; COMPUTER  SYSTEM AND  MAY BE  COPIED ONLY WITH  THE INCLUSION OF THE
                                     0000    10 ; ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE, OR ANY OTHER COPIES THEREOF,
                                     0000    11 ; MAY NOT BE PROVIDED OR  OTHERWISE MADE AVAILABLE TO ANY OTHER PERSON
                                     0000    12 ; EXCEPT FOR USE ON SUCH SYSTEM AND TO ONE WHO AGREES TO THESE LICENSE
                                     0000    13 ; TERMS.  TITLE TO AND  OWNERSHIP OF THE  SOFTWARE  SHALL AT ALL TIMES
                                     0000    14 ; REMAIN IN DEC.
                                     0000    15 ;
                                     0000    16 ; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE WITHOUT NOTICE
                                     0000    17 ; AND SHOULD  NOT BE CONSTRUED  AS A COMMITMENT  BY DIGITAL  EQUIPMENT
                                     0000    18 ; CORPORATION.
                                     0000    19 ;
                                     0000    20 ; DEC ASSUMES  NO  RESPONSIBILITY  FOR  THE USE OR  RELIABILITY OF ITS
                                     0000    21 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
                                     0000    22 ;
                                     0000    23 ;++
                                     0000    24 ; FACILITY: RMS32
                                     0000    25 ;
                                     0000    26 ; ABSTRACT:
                                     0000    27 ;		THIS MODULE IS THE HIGHEST LEVEL CONTROL ROUTINE
                                     0000    28 ;		TO PERFORM THE $OPEN FUNCTION.
                                     0000    29 ;
                                     0000    30 ; ENVIRONMENT:
                                     0000    31 ;		STAR PROCESSOR RUNNING STARLET EXEC.
                                     0000    32 ;
                                     0000    33 ; AUTHOR: L F LAVERDURE,	 CREATION DATE: 3-JAN-77
                                     0000    34 ;
                                     0000    35 ; MODIFIED BY:
                                     0000    36 ;
                                     0000    37 ;	L F LAVERDURE,      17-AUG-78  14:49	; SET 'BLK' FOR MT ON CREATE
                                     0000    38 ;	L F LAVERDURE,      14-AUG-78  12:43	; MODIFY DEV. CHARS. FOR INDIRECT PPF
                                     0000    39 ;	L F LAVERDURE,      11-AUG-78  15:31	; SET FAB$M_RAT IN IFB$B_RAT FOR MT
                                     0000    40 ;	L F LAVERDURE,      26-JUL-78  16:28	ADD REWIND ON OPEN FOR FOREIGN MT
                                     0000    41 ;	L F LAVERDURE,   14-JUL-78  10:12
                                     0000    42 ;	J A KRYCKA,	16-MAY-78  15:05
                                     0000    43 ;--
RMS0OPEN        DISPATCH FOR OPEN OPERATION                      21-AUG-1978 22:06:58   VAX-11 MACRO X0.3-11               Page   2
035             DECLARATIONS                                                                                                     (1)

                                     0000    45 	.SBTTL	DECLARATIONS
                                     0000    46 ;
                                     0000    47 ; INCLUDE FILES:
                                     0000    48 ;
                                     0000    49 
                                     0000    50 ;
                                     0000    51 ; MACROS:
                                     0000    52 ;
                                     0000    53 
                                     0000    54 	$IFBDEF
                                     0000    55 	$FABDEF
                                     0000    56 	$NAMDEF
                                     0000    57 	$FWADEF
                                     0000    58 	$FIBDEF
                                     0000    59 	$DEVDEF
                                     0000    60 	$DEVDEF
                                     0000    61 	$RMSDEF
                                     0000    62 	.LIST MEB
                                     0000    63 ;
                                     0000    64 ; EQUATED SYMBOLS:
                                     0000    65 ;
                           00000020  0000    66 	FOP=FAB$L_FOP*8		; BIT OFFSET TO FOP
                                     0000    67 
                                     0000    68 ;
                                     0000    69 ; OWN STORAGE:
                                     0000    70 ;
RMS0OPEN        DISPATCH FOR OPEN OPERATION                      21-AUG-1978 22:06:58   VAX-11 MACRO X0.3-11               Page   3
035             RMS$OPEN  -  $OPEN ROUTINE                                                                                       (1)

                                     0000    72 	.SBTTL RMS$OPEN  -  $OPEN ROUTINE
                                     0000    73 
                                     0000    74 ;++
                                     0000    75 ; FUNCTIONAL DESCRIPTION:
                                     0000    76 ;
                                     0000    77 ;  THIS ROUTINE PERFORMS THE HIGHEST LEVEL $OPEN PROCESSING.
                                     0000    78 ;  ITS FUNCTIONS INCLUDE:
                                     0000    79 ;
                                     0000    80 ;	1. COMMON SETUP
                                     0000    81 ;	2. DISPATCH TO ORGANIZATION-DEPENDENT CODE
                                     0000    82 ;	3. DISPATCH TO THE DISPLAY ROUTINE
                                     0000    83 ;
                                     0000    84 ;
                                     0000    85 ; CALLING SEQUENCE:
                                     0000    86 ;
                                     0000    87 ;	ENTERED FROM EXEC AS A REULT OF USER'S CALLING SYS$OPEN
                                     0000    88 ;	(E.G., BY USING THE $OPEN MACRO).
                                     0000    89 ;
                                     0000    90 ; INPUT PARAMETERS:
                                     0000    91 ;
                                     0000    92 ;	AP	USER'S ARGUMENT LIST ADDR
                                     0000    93 ;
                                     0000    94 ; IMPLICIT INPUTS:
                                     0000    95 ;
                                     0000    96 ;	THE CONTENTS OF THE FAB AND POSSIBLE RELATED USER INTERFACE
                                     0000    97 ;	BLOCKS.
                                     0000    98 ;
                                     0000    99 ; OUTPUT PARAMETERS:
                                     0000   100 ;
                                     0000   101 ;	R0	STATUS CODE
                                     0000   102 ;	R1	DESTROYED
                                     0000   103 ;
                                     0000   104 ; IMPLICIT OUTPUTS:
                                     0000   105 ;
                                     0000   106 ;	THE VARIOUS FIELDS OF THE FAB ARE FILLED IN TO REFLECT
                                     0000   107 ;	THE STATUS OF THE OPEN FILE. (SEE RMS FUNCTIONAL SPEC FOR
                                     0000   108 ;	A COMPLETE LIST.)
                                     0000   109 ;	AN IFAB IS INITIALIZED TO REFLECT THE OPEN FILE.
                                     0000   110 ;
                                     0000   111 ;	A COMPLETION AST IS QUEUED IF SO SPECIFIED BY THE USER.
                                     0000   112 ;
                                     0000   113 ; COMPLETION CODES:
                                     0000   114 ;
                                     0000   115 ;	STANDARD RMS (SEE FUNCTIONAL SPEC FOR LIST).
                                     0000   116 ;
                                     0000   117 ; SIDE EFFECTS:
                                     0000   118 ;
                                     0000   119 ;	NONE
                                     0000   120 ;
                                     0000   121 ;--
RMS0OPEN        DISPATCH FOR OPEN OPERATION                      21-AUG-1978 22:06:58   VAX-11 MACRO X0.3-11               Page   4
035             RMS$OPEN  -  $OPEN ROUTINE                                                                                       (1)

                                     0000   123 	$ENTRY	RMS$OPEN
                                 00000000       	.PSECT	F$RMSOPEN0,GBL,NOWRT
                                     0000   124 	$TSTPT	OPEN
                 00000200'9F     D6  0000       		INCL	@#PIO$GL_FMLH+512+TPT$L_OPEN
                          FFF7'  30  0006   125 	BSBW	RM$FSETI			;DO COMMON SETUP
                                     0009   126 						;NOTE: DOES NOT RETURN ON ERROR
                                     0009   127 ;
                                     0009   128 ;  AN IFAB HAS BEEN SET UP
                                     0009   129 ;
                          FFF4'  30  0009   130 	BSBW	RM$PRFLNM			;PROCESS FILE NAME
            4E            50     E9  000C   131 	BLBC	R0,ERROR			;EXIT ON ERROR
                                     000F   132 	ASSUME	FAB$V_BRO EQ FAB$V_BIO+1
            02            05     ED  000F   133 	CMPZV	#FAB$V_BIO,#2,IFB$B_FAC(R9),#3	;BOTH BRO & BIO SET?
            03         22 A9         0012       
                          04     12  0015   134 	BNEQ	5$				;BRANCH IF NOT
         22 A9            20     8A  0017   135 	BICB2	#FAB$M_BIO,IFB$B_FAC(R9)	;CLEAR BIO (IMPLIED
                                     001B   136 						;BY BRO WITHOUT RESTRICTIONS)
                                     001B   137 5$:
            68            3E     E1  001B   138 	BBC	#FAB$V_KFO+FOP,(R8),10$		;BRANCH IF KFO NOT SET
                          0B         001E       
                          FFDE'  30  001F   139 	BSBW	RM$KNOWNFILE			;GO TRY KNOWN FILE TABLE
            01            50     B1  0022   140 	CMPW	R0,#1				;NORMAL SUCCESS?
                          03     13  0025   141 	BEQL	10$				;YES - CONTINUE NORMAL PATH
                          0102   31  0027   142 	BRW	RM$CREATEXIT			;NO - EXIT FROM OPEN IMMEDIATELY
                                     002A   143 						; (NOTE: THIS MAY INDICATE SUCCESS)
                          FFD3'  30  002A   144 10$:	BSBW	RM$SETDID			;PROCESS THE DIRECTORY ID
            2D            50     E9  002D   145 	BLBC	R0,ERROR			;EXIT ON ERROR
                          FFCD'  30  0030   146 	BSBW	RM$ACCESS			;ACCESS THE FILE
            27            50     E9  0033   147 	BLBC	R0,ERROR			;EXIT ON ERROR
                                     0036   148 ;
                                     0036   149 ;  RETURN POINT FOR CREATE TURNED INTO OPEN VIA 'CIF' BIT
                                     0036   150 ;
                                     0036   151 RM$OPEN_CIF::
                          0101   30  0036   152 	BSBW	RM$FILLNAM			;FILL IN NAM BLOCK
            21            50     E9  0039   153 	BLBC	R0,ERROR			;EXIT ON ERROR
                                     003C   154 ;
                                     003C   155 ;  MAKE SURE EOF INFO IS IN "EOF BLK + 1, 0 OFFSET" FORM
                                     003C   156 ;
         38 A9         48 A9     B1  003C   157 	CMPW	IFB$W_FFB(R9),IFB$W_DEVBUFSIZ(R9)	;IS LAST BLOCK FULL?
                          06     1F  0041   158 	BLSSU	10$				;BRANCH IF NOT
                       44 A9     D6  0043   159 	INCL	IFB$L_EBK(R9)			;BUMP EOF BLOCK
                       48 A9     B4  0046   160 	CLRW	IFB$W_FFB(R9)			;AND ZERO OFFSET
                                     0049   161 10$:
                                     0049   162 ;
                                     0049   163 ;  DISPATCH TO ORGANIZATION-DEPENDENT OPEN CODE
                                     0049   164 ;
                                     0049   165 	CASE	TYPE=B,SRC=IFB$B_ORGCASE(R9),-
                                     0049   166 		DISPLIST=<RM$OPEN1,RM$OPEN2,RM$OPEN3>	;PICK UP CORRECT ROUTINE
            00         23 A9     8F  0049       	CASEB	IFB$B_ORGCASE(R9),#0,S^#<<30001$-30000$>/2>-1
                          02'        004D       
                                     004E       30000$:
                               FFB2' 004E       	.WORD	RM$OPEN1-30000$
                               FFB2' 0050       	.WORD	RM$OPEN2-30000$
                               FFB2' 0052       	.WORD	RM$OPEN3-30000$
                                     0054       30001$:
RMS0OPEN        DISPATCH FOR OPEN OPERATION                      21-AUG-1978 22:06:58   VAX-11 MACRO X0.3-11               Page   5
035             RMS$OPEN  -  $OPEN ROUTINE                                                                                       (1)

                                     0054   168 ;++
                                     0054   169 ;
                                     0054   170 ;  ERROR RETURNS
                                     0054   171 ;
                                     0054   172 ;--
                                     0054   173 ;
                                     0054   174 ;  UNKNOWN FILE ORGANIZATION  -  VERIFY BIO (OR BRO) ACCESSED
                                     0054   175 ;
                                     0054   176 	$PSECT_BR	L$RMS0
                          FFA9'  31  0054       		BRW	L$RMS00
                                     0057       		.SAVE
                                 00000000       		.PSECT	L$RMS0,GBL,NOWRT
                                     0000       L$RMS00:
                                     0000   177 	RMSERR	ORG					; ORG NOT SUPPORTED
            50       860C 8F     3C  0000       		MOVZWL	#<RMS$_ORG&^XFFFF>,R0
                                     0005   178 RM$CHKBIOOPEN::
         22 A9         60 8F     93  0005   179 	BITB	#FAB$M_BIO!FAB$M_BRO,IFB$B_FAC(R9)	; EITHER BIO OR BRO SET?
                          12     13  000A   180 	BEQL	ERROR1					; BRANCH IF NOT (ERROR)
                                     000C   181 	RMSSUC
            50            01     D0  000C       		MOVL	#1,R0
                          0052'  31  000F   182 	BRW	RM$COPRTN				; ALL FINISHED OPEN
                                     0012   183 	$PSECT_RESTORE
                                 00000057       		.RESTORE
                                     0057   184 ;
                                     0057   185 ERRRFM:	$PSECT_BR	L$RMS0
                          FFB8'  31  0057       		BRW	L$RMS01
                                     005A       		.SAVE
                                 00000012       		.PSECT	L$RMS0,GBL,NOWRT
                                     0012       L$RMS01:
                                     0012   186 	RMSERR	RFM				;BAD RFM FIELD
            50       8664 8F     3C  0012       		MOVZWL	#<RMS$_RFM&^XFFFF>,R0
                          05     11  0017   187 	BRB	ERROR1
                                     0019   188 	$PSECT_RESTORE
                                 0000005A       		.RESTORE
                                     005A   189 ;
                                     005A   190 ERRIRC:	$PSECT_BR	L$RMS0
                          FFBC'  31  005A       		BRW	L$RMS02
                                     005D       		.SAVE
                                 00000019       		.PSECT	L$RMS0,GBL,NOWRT
                                     0019       L$RMS02:
                                     0019   191 	RMSERR	IRC				; ILLEGAL FIXED RECORD SIZE
            50       857C 8F     3C  0019       		MOVZWL	#<RMS$_IRC&^XFFFF>,R0
                          003C'  31  001E   192 ERROR1:	BRW	ERROR				; CLEAN UP AND RETURN
                                     0021   193 	$PSECT_RESTORE
                                 0000005D       		.RESTORE
                                     005D   194 ERROR:	CSB	#IFB$V_ACCESSED,(R9)		; DON'T WRITE FILE ATTRIBUTES
            69            25     E5  005D       		BBCC	#IFB$V_ACCESSED,(R9),30002$
                          00         0060       
                                     0061       30002$:
                          FF9C'  31  0061   195 	BRW	RM$CLSCU			; CLEAN UP AND RETURN
RMS0OPEN        DISPATCH FOR OPEN OPERATION                      21-AUG-1978 22:06:58   VAX-11 MACRO X0.3-11               Page   6
035             RMS$OPEN  -  $OPEN ROUTINE                                                                                       (1)

                                     0064   197 ;
                                     0064   198 ;
                                     0064   199 ;  RETURN HERE FROM ORG-DEPENDENT ROUTINES
                                     0064   200 ;
                                     0064   201 RM$COPRTN::
            F6            50     E9  0064   202 	BLBC	R0,ERROR
                                     0067   203 ;
                                     0067   204 ;  OVERRIDE RUN-TIME DEQ WITH USER VALUE, IF ANY
                                     0067   205 ;
         3A A9         14 A8     B0  0067   206 	MOVW	FAB$W_DEQ(R8),IFB$W_RTDEQ(R9)
                          05     12  006C   207 	BNEQ	5$				;BRANCH IF SPECED
         3A A9         4E A9     B0  006E   208 	MOVW	IFB$W_DEQ(R9),IFB$W_RTDEQ(R9)	;OTHERWISE PICK UP DEQ
                                     0073   209 						; FROM FILE HEADER
                                     0073   210 ;
                                     0073   211 ;  RETURN BDB AND I/O BUFFER TO FREE SPACE AND PAGE LISTS
                                     0073   212 ;
                          FF8A'  30  0073   213 5$:	BSBW	RM$RELEASALL			;RETURN BDB AND BUFFER
                                     0076   214 ;
                                     0076   215 ;  VALIDATE RFM
                                     0076   216 ;
                                     0076   217 	ASSUME	IFB$V_RFM EQ 0
                                     0076   218 	ASSUME	IFB$S_RFM EQ 4
         3C A9         F0 8F     8A  0076   219 	BICB2	#^XF0,IFB$B_RFMORG(R9)		;LEAVE ONLY RFM IN RFMORG
                                     007B   220 ;
                                     007B   221 ;  CHECK FOR RFM IN SUPPORTED RANGE
                                     007B   222 ;
            03         3C A9     91  007B   223 10$:	CMPB	IFB$B_RFMORG(R9),#FAB$C_MAXRFM
                          D6     1A  007F   224 	BGTRU	ERRRFM
                                     0081   225 ;
                                     0081   226 ;  IF FIXED LENGTH RECORD FORMAT, THEN SET MRS FROM LRL IN CASE THIS
                                     0081   227 ;  IS AN FCS-11 FILE
                                     0081   228 ;
            01         3C A9     91  0081   229 	CMPB	IFB$B_RFMORG(R9),#FAB$C_FIX	;FIXED LEN REC?
                          07     12  0085   230 	BNEQ	20$				;BRANCH IF NOT
         4C A9         3E A9     B0  0087   231 	MOVW	IFB$W_LRL(R9),IFB$W_MRS(R9)	;SET RECORD LENGTH
                          CC     15  008C   232 	BLEQ	ERRIRC				; BRANCH IF INVALID
                                     008E   233 20$:
RMS0OPEN        DISPATCH FOR OPEN OPERATION                      21-AUG-1978 22:06:58   VAX-11 MACRO X0.3-11               Page   7
035             RMS$OPEN  -  $OPEN ROUTINE                                                                                       (1)

                                     008E   235 ;
                                     008E   236 ;
                                     008E   237 ;  RETURN POINT FOR INDIRECT OPEN OF PROCESS PERMANENT FILE
                                     008E   238 ;
                                     008E   239 ;
                                     008E   240 ;  SET THE RFM, RAT, ORG, AND MRS FIELDS INTO THE FAB
                                     008E   241 ;
                                     008E   242 RM$COPRTN1::
         1F A8         3C A9     90  008E   243 	MOVB	IFB$B_RFMORG(R9),FAB$B_RFM(R8)	;SET RFM
         1E A8         3D A9     90  0093   244 	MOVB	IFB$B_RAT(R9),FAB$B_RAT(R8)	;SET RAT
                                     0098   245 ;
                                     0098   246 ;  RETURN POINT FOR INDIRECT OPEN OF PROCESS PERMANENT FILE AND RFM AND
                                     0098   247 ;  RAT ALREADY SET
                                     0098   248 ;
                                     0098   249 RM$COPRTN2::
            04         23 A9     F0  0098   250 	INSV	IFB$B_ORGCASE(R9),#FAB$V_ORG,#FAB$S_ORG,FAB$B_ORG(R8) ;SET ORG
         1D A8            04         009C       
         36 A8         4C A9     B0  009F   251 	MOVW	IFB$W_MRS(R9),FAB$W_MRS(R8)	;SET MRS
                                     00A4   252 ;
                                     00A4   253 ;  IF VFC RECORD FORMAT, CHECK FOR 0 FIXED HEADER SIZE AND IF
                                     00A4   254 ;  FOUND MAKE IT 2 BYTES
                                     00A4   255 ;
            03         3C A9     91  00A4   256 	CMPB	IFB$B_RFMORG(R9),#FAB$C_VFC
                          0B     12  00A8   257 	BNEQ	20$				;OMIT CHECK IF NOT VFC
                       4B A9     95  00AA   258 	TSTB	IFB$B_FSZ(R9)			;CHECK FOR DEFAULT
                          09     12  00AD   259 	BNEQ	30$				;BRANCH IF VALUE SPECIFIED
         4B A9            02     90  00AF   260 	MOVB	#2,IFB$B_FSZ(R9)		;SET DEFAULT VALUE
                          03     11  00B3   261 	BRB	30$				; CONTINUE
                       4B A9     94  00B5   262 20$:	CLRB	IFB$B_FSZ(R9)			; GUARANTEE 0 FSZ FOR NON-VFC RFM
                                     00B8   263 						; (NOTE: FIXES RMS-11 BUG OF FSZ=2)
                                     00B8   264 30$:	RMSSUC					;INIDCATE SUCCESSFUL OPEN
            50            01     D0  00B8       		MOVL	#1,R0
RMS0OPEN        DISPATCH FOR OPEN OPERATION                      21-AUG-1978 22:06:58   VAX-11 MACRO X0.3-11               Page   8
035             RMS$OPEN  -  $OPEN ROUTINE                                                                                       (1)

                                     00BB   266 ;++
                                     00BB   267 ;
                                     00BB   268 ;  COMMON EXIT FOR $CREATE AND $OPEN
                                     00BB   269 ;
                                     00BB   270 ;--
                                     00BB   271 CREOPEN_EXIT:
            9F            50     E9  00BB   272 1$:	BLBC	R0,ERROR			; EXIT ON ERROR
                                     00BE   273 ;
                                     00BE   274 ;  SAVE THE VARIOUS CLOSE OPTION BITS IN IFAB
                                     00BE   275 ;
            69            22     E0  00BE   276 	BBS	#IFB$V_PPF_IMAGE,(R9),5$	; DON'T SAVE OPTIONS IF INDIRECT
                          1C         00C1       
                                     00C2   277 	ASSUME	FAB$V_RWC+1 EQ FAB$V_DMO
                                     00C2   278 	ASSUME	FAB$V_DMO+1 EQ FAB$V_SPL
                                     00C2   279 	ASSUME	FAB$V_SPL+1 EQ FAB$V_SCF
                                     00C2   280 	ASSUME	FAB$V_SCF+1 EQ FAB$V_DLT
            05            2B     EF  00C2   281 	EXTZV	#FAB$V_RWC+FOP,#5,(R8),R1	; GET OPTION BITS
            51            68         00C5       
                                     00C7   282 	ASSUME	IFB$V_RWC+1 EQ IFB$V_DMO
                                     00C7   283 	ASSUME	IFB$V_DMO+1 EQ IFB$V_SPL
                                     00C7   284 	ASSUME	IFB$V_SPL+1 EQ IFB$V_SCF
                                     00C7   285 	ASSUME	IFB$V_SCF+1 EQ IFB$V_DLT
            27            51     F0  00C7   286 	INSV	R1,#IFB$V_RWC,#5,(R9)		; AND SAVE THEM
            69            05         00CA       
                                     00CC   287 ;
                                     00CC   288 ;  IF THIS IS FOREIGN MAGTAPE, REWIND THE TAPE IF RWO IS SET
                                     00CC   289 ;
            69            18     E1  00CC   290 	BBC	#DEV$V_FOR,IFB$L_PRIM_DEV(R9),5$	; BRANCH IF NOT FOREIGN
                          0E         00CF       
            69            05     E1  00D0   291 	BBC	#DEV$V_SQD,IFB$L_PRIM_DEV(R9),5$	; OR IF NOT MAGTAPE
                          0A         00D3       
            68            27     E1  00D4   292 	BBC	#FAB$V_RWO+FOP,(R8),5$			; OR IF RWO NOT SPECED
                          06         00D7       
                          FF25'  30  00D8   293 	BSBW	RM$REWIND_MT				; REWIND THE TAPE
            DD            50     E9  00DB   294 	BLBC	R0,1$					; BRANCH ON ERROR
                                     00DE   295 ;
                                     00DE   296 ;  SET 'BLK' BIT IN IFAB FOR MAGTAPE
                                     00DE   297 ;
            69            05     E1  00DE   298 5$:	BBC	#DEV$V_SQD,IFB$L_PRIM_DEV(R9),8$	;BRANCH IF NOT MAGTAPE
                          04         00E1       
         3D A9            08     88  00E2   299 	BISB2	#FAB$M_BLK,IFB$B_RAT(R9)		;SET NO SPANNING BIT
                                     00E6   300 8$:
                                     00E6   301 ;
                                     00E6   302 ;  SET THE FSZ, BKS, STV, ALQ, DEV, AND SDC FIELDS INTO FAB
                                     00E6   303 ;
         3F A8         4B A9     90  00E6   304 	MOVB	IFB$B_FSZ(R9),FAB$B_FSZ(R8)	;SET FSZ
         3E A8         4A A9     90  00EB   305 	MOVB	IFB$B_BKS(R9),FAB$B_BKS(R8)	;SET BKS
         0C A8         20 A9     B0  00F0   306 	MOVW	IFB$W_CHNL(R9),FAB$L_STV(R8)	;SET STV TO CHAN #
         10 A8         40 A9     D0  00F5   307 	MOVL	IFB$L_HBK(R9),FAB$L_ALQ(R8)	;SET ALQ
                                     00FA   308 ;
                                     00FA   309 ;  MOVE DEVICE CHARACTERISTICS BITS INTO THE FAB
                                     00FA   310 ;
         44 A8            69     D0  00FA   311 	MOVL	IFB$L_PRIM_DEV(R9),FAB$L_SDC(R8) ; SET SPOOLING DEV. CHAR.
                                     00FE   312 	ASSUME	FAB$C_SEQ EQ 0
                       23 A9     95  00FE   313 	TSTB	IFB$B_ORGCASE(R9)		;SEQUENTIAL FILE ORG?
                          23     12  0101   314 	BNEQ	50$				;BRANCH IF NOT
         40 A8         54 A9     D0  0103   315 	MOVL	IFB$L_AS_DEV(R9),FAB$L_DEV(R8)	;SET DEV
RMS0OPEN        DISPATCH FOR OPEN OPERATION                      21-AUG-1978 22:06:58   VAX-11 MACRO X0.3-11               Page   9
035             RMS$OPEN  -  $OPEN ROUTINE                                                                                       (1)

                                     0108   316 ;
                                     0108   317 ;  IF THIS IS AN INDIRECT PROCESS-PERMANENT FILE, SET UP THE DEVICE CHARACTERISTICS
                                     0108   318 ;  TO MAKE IT LOOK LIKE A UNIT RECORD DEVICE IF SQO (SEQUENTIAL OPERATIONS ONLY)
                                     0108   319 ;  IS SET.
                                     0108   320 ;
            69            22     E1  0108   321 	BBC	#IFB$V_PPF_IMAGE,(R9),10$	;BRANCH IF NOT INDIRECT PPF
                          10         010B       
            69            2D     E1  010C   322 	BBC	#IFB$V_SQO,(R9),10$		;OR IF SEQUENTIAL ONLY CLEAR
                          0C         010F       
         40 A8   10004038 8F     CA  0110   323 	BICL2	#DEV$M_DIR!DEV$M_FOD!DEV$M_RND -
                                     0118   324 		!DEV$M_SDI!DEV$M_SQD,FAB$L_DEV(R8)	;CLEAR FILE CHARACTERISTICS
         40 A8            03     C8  0118   325 	BISL2	#DEV$M_REC!DEV$M_CCL,FAB$L_DEV(R8)	;AND SET UNIT RECORD CHARS.
            68            31     E0  011C   326 10$:	BBS	#FAB$V_UFO+FOP,(R8),40$		;BRANCH IF UFO OPTION
                          03         011F       
                          FEDD'  31  0120   327 	BRW	RM$EXRMS			;RETURN TO USER
                                     0123   328 ;
                                     0123   329 ;  LEAVE FILE OPEN FOR USER BUT REMOVE IFAB
                                     0123   330 ;  (NO FURTHER RMS OPERATIONS AVAILABLE ON THIS FILE)
                                     0123   331 ;
                          FEDA'  31  0123   332 40$:	BRW	RM$RETIFB
                                     0126   333 ;
                                     0126   334 ;  FOR ALL NON-SEQUENTIAL FILE ORGS THE DEV CHARACTERISTICS ARE
                                     0126   335 ;  IDENTICAL TO THE SDC SINCE THERE CAN BE NO SPOOLING
                                     0126   336 ;
         40 A8            69     D0  0126   337 50$:	MOVL	IFB$L_PRIM_DEV(R9),FAB$L_DEV(R8)	;SET DEV
                          F0     11  012A   338 	BRB	10$
RMS0OPEN        DISPATCH FOR OPEN OPERATION                      21-AUG-1978 22:06:58   VAX-11 MACRO X0.3-11               Page  10
035             RMS$OPEN  -  $OPEN ROUTINE                                                                                       (1)

                                     012C   340 ;++
                                     012C   341 ;
                                     012C   342 ;  COMMON CREATE CLEAN UP AND EXIT
                                     012C   343 ;
                                     012C   344 ;  RETURN ALL BDB'S AND BUFFERS TO FREE SPACE LIST, CAUSING UNLOCK IF LOCKED
                                     012C   345 ;
                                     012C   346 ;--
                                     012C   347 RM$CREATEXIT::
                          50     DD  012C   348 	PUSHL	R0				;SAVE STATUS CODE
                                     012E   349 ;
                                     012E   350 ;  ENTRY POINT WITH STATUS ALREADY PUSHED ON THE STACK
                                     012E   351 ;
                                     012E   352 RM$CREATEXIT1::
                          FECF'  30  012E   353 	BSBW	RM$RELEASALL			;RELEASE ALL BDB'S
                          01     BA  0131   354 	POPR	#^M<R0>				;RESTORE STATUS
                          86     11  0133   355 	BRB	CREOPEN_EXIT			;& JOIN OPEN FINISH UP CODE
RMS0OPEN        DISPATCH FOR OPEN OPERATION                      21-AUG-1978 22:06:58   VAX-11 MACRO X0.3-11               Page  11
035             RMS$OPEN  -  $OPEN ROUTINE                                                                                       (1)

                                     0135   357 ;+
                                     0135   358 ;  SUBROUTINE TO OUTPUT RESULTANT NAME STRING AND OTHER NAM FIELDS.
                                     0135   359 ;
                                     0135   360 ;  INPUTS:
                                     0135   361 ;	R11	IMPURE AREA ADDRESS
                                     0135   362 ;	R10	FWA ADDRESS
                                     0135   363 ;	R9	IFAB ADDRESS
                                     0135   364 ;	R8	FAB ADDRESS
                                     0135   365 ;
                                     0135   366 ;  OUTPUTS:
                                     0135   367 ;	R7	NAM BLOCK ADDRESS
                                     0135   368 ;	R0	STATUS CODE
                                     0135   369 ;	R1-R6	DESTROYED
                                     0135   370 ;-
                                 04  0135   371 EXPARGL: .BYTE	NAM$L_RSA		; ARG LIST FOR RM$EXPSTRING
                                     0136   372 	RMSERR_WORD	RST
                               869C  0136       		.WORD	RMS$_RST&^XFFFF
                                     0138   373 	RMSERR_WORD	RSS
                               8694  0138       		.WORD	RMS$_RSS&^XFFFF
                                     013A   374 RM$FILLNAM::
            57         28 A8     D0  013A   375 	MOVL	FAB$L_NAM(R8),R7	;GET NAME BLOCK ADDR
                          32     13  013E   376 	BEQL	30$			;BRANCH IF NO NAM BLOCK
            5C         F2 AF     9E  0140   377 	MOVAB	EXPARGL,AP		;ARG LIST FOR RM$EXPSTRING
                          FEB9'  30  0144   378 	BSBW	RM$EXPSTRING		;FILL IN RESULTANT NAME STRING
            2B            50     E9  0147   379 	BLBC	R0,40$
            57         28 A8     D0  014A   380 	MOVL	FAB$L_NAM(R8),R7	;GET NAME BLOCK ADDR
                                     014E   381 					;NOTE: ALREADY PROBED BY RM$EXPSTRING
            6A            19     E0  014E   382 	BBS	#FWA$V_NODE,(R10),50$	; BRANCH IF NODENAME WAS FOUND
                          24         0151       
         14 A7         3C AA     90  0152   383 	MOVB	FWA$Q_DEVICE(R10),NAM$T_DVI(R7)	;STORE DEVICE I.D. LENGTH
         40 BA         3C AA     28  0157   384 	MOVC3	FWA$Q_DEVICE(R10),@FWA$Q_DEVICE+4(R10),NAM$T_DVI+1(R7)
                       15 A7         015C       
                                     015E   385 						;COPY DEVICE I.D. STRING
       00A8 CA            06     28  015E   386 	MOVC3	#6,FWA$T_FIBBUF+FIB$W_FID(R10),NAM$W_FID(R7)	; COPY FID
                       24 A7         0163       
                     00AE CA     B5  0165   387 	TSTW	FWA$T_FIBBUF+FIB$W_DID(R10)			; ANY DID?
                          07     13  0169   388 	BEQL	30$						; BRANCH IF YES
       00AE CA            06     28  016B   389 	MOVC3	#6,FWA$T_FIBBUF+FIB$W_DID(R10),NAM$W_DID(R7)	; COPY DID
                       2A A7         0170       
                                     0172   390 30$:	RMSSUC
            50            01     D0  0172       		MOVL	#1,R0
                                 05  0175   391 40$:	RSB
         14 A7            00     2C  0176   392 50$:	MOVC5	#0,NAM$T_DVI(R7),#0,#<16+6+6>,NAM$T_DVI(R7)
            1C            00         017A       
                       14 A7         017C       
                          F2     11  017E   393 	BRB	30$			; ZERO DVI, FID, AND DID FIELDS
                                     0180   394 	.END
RMS0OPEN        DISPATCH FOR OPEN OPERATION                      21-AUG-1978 22:06:58   VAX-11 MACRO X0.3-11               Page  12
SYMBOL TABLE                                                                                                                     (1)

$$.PSECT_EP    = 00000003            ERRIRC           0000005A R     02   FAB$M_GET      = 00000002            
$$RMSTEST      = 0000001A            ERROR            0000005D R     02   FAB$M_INP      = 00080000            
$$RMS_PBUGCHK  = 00000010            ERROR1           0000001E R     04   FAB$M_JNL      = 00400000            
$$RMS_TBUGCHK  = 00000008            ERRRFM           00000057 R     02   FAB$M_KFO      = 40000000            
$$RMS_UMODE    = 00000004            EXPARGL          00000135 R     02   FAB$M_MSE      = 00000010            
BIT...         = 0001C134            FAB$B_BID        00000000            FAB$M_MXV      = 00000002            
CREOPEN_EXIT     000000BB R     02   FAB$B_BKS        0000003E            FAB$M_NAM      = 01000000            
DEV$M_ALL      = 00800000            FAB$B_BLN        00000001            FAB$M_NEF      = 00000400            
DEV$M_AVL      = 00040000            FAB$B_DNS        00000035            FAB$M_NFS      = 00010000            
DEV$M_CCL      = 00000002            FAB$B_FAC        00000016            FAB$M_NIL      = 00000020            
DEV$M_DIR      = 00000008            FAB$B_FNS        00000034            FAB$M_OFP      = 20000000            
DEV$M_DMT      = 00200000            FAB$B_FSZ        0000003F            FAB$M_POS      = 00000100            
DEV$M_ELG      = 00400000            FAB$B_ORG        0000001D            FAB$M_PPF      = 00040000            
DEV$M_FOD      = 00004000            FAB$B_RAT        0000001E            FAB$M_PPF_IND  = 00004000            
DEV$M_FOR      = 01000000            FAB$B_RFM        0000001F            FAB$M_PPF_RAT  = 00003FC0            
DEV$M_GEN      = 00020000            FAB$B_RTV        0000001C            FAB$M_PRN      = 00000004            
DEV$M_IDV      = 04000000            FAB$B_SHR        00000017            FAB$M_PUT      = 00000001            
DEV$M_MBX      = 00100000            FAB$C_BID      = 00000003            FAB$M_RCK      = 00800000            
DEV$M_MNT      = 00080000            FAB$C_BLN        00000050            FAB$M_RWC      = 00000800            
DEV$M_NET      = 00002000            FAB$C_FIX      = 00000001            FAB$M_RWO      = 00000080            
DEV$M_ODV      = 08000000            FAB$C_HSH      = 00000030            FAB$M_SCF      = 00004000            
DEV$M_RCK      = 40000000            FAB$C_IDX      = 00000020            FAB$M_SHRDEL   = 00000004            
DEV$M_REC      = 00000001            FAB$C_MAXRFM   = 00000003            FAB$M_SHRGET   = 00000002            
DEV$M_RND      = 10000000            FAB$C_REL      = 00000010            FAB$M_SHRPUT   = 00000001            
DEV$M_RTM      = 20000000            FAB$C_RFM_DFLT = 00000002            FAB$M_SHRUPD   = 00000008            
DEV$M_SDI      = 00000010            FAB$C_SEQ      = 00000000            FAB$M_SPL      = 00002000            
DEV$M_SHR      = 00010000            FAB$C_UDF      = 00000000            FAB$M_SQO      = 00000040            
DEV$M_SPL      = 00000040            FAB$C_VAR      = 00000002            FAB$M_SUP      = 00000004            
DEV$M_SQD      = 00000020            FAB$C_VFC      = 00000003            FAB$M_TEF      = 10000000            
DEV$M_SWL      = 02000000            FAB$K_BLN        00000050            FAB$M_TMD      = 00000010            
DEV$M_TRM      = 00000004            FAB$L_ALQ        00000010            FAB$M_TMP      = 00000008            
DEV$M_WCK      = 80000000            FAB$L_CTX        00000018            FAB$M_TRN      = 00000010            
DEV$V_ALL      = 00000017            FAB$L_DEV        00000040            FAB$M_UFM      = 04000000            
DEV$V_AVL      = 00000012            FAB$L_DNA        00000030            FAB$M_UFO      = 00020000            
DEV$V_CCL      = 00000001            FAB$L_FNA        0000002C            FAB$M_UPD      = 00000008            
DEV$V_DIR      = 00000003            FAB$L_FOP        00000004            FAB$M_UPI      = 00000040            
DEV$V_DMT      = 00000015            FAB$L_JNL        00000020            FAB$M_WCK      = 00000200            
DEV$V_ELG      = 00000016            FAB$L_MRN        00000038            FAB$S_ORG      = 00000004            
DEV$V_FOD      = 0000000E            FAB$L_NAM        00000028            FAB$S_PPF_RAT  = 00000008            
DEV$V_FOR      = 00000018            FAB$L_SDC        00000044            FAB$V_BIO      = 00000005            
DEV$V_GEN      = 00000011            FAB$L_STS        00000008            FAB$V_BLK      = 00000003            
DEV$V_IDV      = 0000001A            FAB$L_STV        0000000C            FAB$V_BRO      = 00000006            
DEV$V_MBX      = 00000014            FAB$L_XAB        00000024            FAB$V_CBT      = 00000015            
DEV$V_MNT      = 00000013            FAB$M_BIO      = 00000020            FAB$V_CIF      = 00000019            
DEV$V_NET      = 0000000D            FAB$M_BLK      = 00000008            FAB$V_CR       = 00000001            
DEV$V_ODV      = 0000001B            FAB$M_BRO      = 00000040            FAB$V_CTG      = 00000014            
DEV$V_RCK      = 0000001E            FAB$M_CBT      = 00200000            FAB$V_DEL      = 00000002            
DEV$V_REC      = 00000000            FAB$M_CIF      = 02000000            FAB$V_DFW      = 00000005            
DEV$V_RND      = 0000001C            FAB$M_CR       = 00000002            FAB$V_DLT      = 0000000F            
DEV$V_RTM      = 0000001D            FAB$M_CTG      = 00100000            FAB$V_DMO      = 0000000C            
DEV$V_SDI      = 00000004            FAB$M_DEL      = 00000004            FAB$V_ESC      = 0000001B            
DEV$V_SHR      = 00000010            FAB$M_DFW      = 00000020            FAB$V_EXE      = 00000007            
DEV$V_SPL      = 00000006            FAB$M_DLT      = 00008000            FAB$V_FTN      = 00000000            
DEV$V_SQD      = 00000005            FAB$M_DMO      = 00001000            FAB$V_GET      = 00000001            
DEV$V_SWL      = 00000019            FAB$M_ESC      = 08000000            FAB$V_INP      = 00000013            
DEV$V_TRM      = 00000002            FAB$M_EXE      = 00000080            FAB$V_JNL      = 00000016            
DEV$V_WCK      = 0000001F            FAB$M_FTN      = 00000001            FAB$V_KFO      = 0000001E            
RMS0OPEN        DISPATCH FOR OPEN OPERATION                      21-AUG-1978 22:06:58   VAX-11 MACRO X0.3-11               Page  13
SYMBOL TABLE                                                                                                                     (1)

FAB$V_MSE      = 00000004            FIB$C_POSEND   = 00000002            FIB$V_CURPOS   = 00000004            
FAB$V_MXV      = 00000001            FIB$C_REWINDFIL= 00000006            FIB$V_DLOCK    = 00000001            
FAB$V_NAM      = 00000018            FIB$C_REWINDVOL= 00000001            FIB$V_EXACT    = 00000000            
FAB$V_NEF      = 0000000A            FIB$C_RFI      = 00000004            FIB$V_EXECUTE  = 00000010            
FAB$V_NFS      = 00000010            FIB$C_SPACE    = 00000004            FIB$V_EXTEND   = 00000007            
FAB$V_NIL      = 00000005            FIB$C_VBN      = 00000003            FIB$V_FILCON   = 00000002            
FAB$V_OFP      = 0000001D            FIB$K_ACCDATA    0000000A            FIB$V_FINDFID  = 0000000B            
FAB$V_ORG      = 00000004            FIB$K_ALCDATA    0000002C            FIB$V_HIGHVER  = 0000000F            
FAB$V_POS      = 00000008            FIB$K_DIRDATA    00000016            FIB$V_LOWVER   = 0000000E            
FAB$V_PPF      = 00000012            FIB$K_EXTDATA    00000020            FIB$V_MARKBAD  = 0000000A            
FAB$V_PPF_IND  = 0000000E            FIB$K_LENGTH     0000002C            FIB$V_NEWVER   = 00000009            
FAB$V_PPF_RAT  = 00000006            FIB$K_MTALEN     0000001C            FIB$V_NOHDREXT = 00000009            
FAB$V_PRN      = 00000002            FIB$L_ACCTL      00000000            FIB$V_NOREAD   = 0000000A            
FAB$V_PUT      = 00000000            FIB$L_CNTRLVAL   00000018            FIB$V_NOTRUNC  = 0000000B            
FAB$V_RCK      = 00000017            FIB$L_EXSZ       00000018            FIB$V_NOWRITE  = 00000000            
FAB$V_RWC      = 0000000B            FIB$L_EXVBN      0000001C            FIB$V_ONCYL    = 00000001            
FAB$V_RWO      = 00000007            FIB$L_LOC_ADDR   00000028            FIB$V_PRSRV_ATR= 00000011            
FAB$V_SCF      = 0000000E            FIB$L_WCC        00000010            FIB$V_READCK   = 00000009            
FAB$V_SHRDEL   = 00000002            FIB$M_ALCON    = 00000001            FIB$V_REWIND   = 00000003            
FAB$V_SHRGET   = 00000001            FIB$M_ALCONB   = 00000002            FIB$V_SEQONLY  = 00000006            
FAB$V_SHRPUT   = 00000000            FIB$M_ALDEF    = 00000008            FIB$V_SPOOL    = 00000004            
FAB$V_SHRUPD   = 00000003            FIB$M_ALLNAM   = 00000020            FIB$V_SUPERSEDE= 0000000A            
FAB$V_SPL      = 0000000D            FIB$M_ALLTYP   = 00000010            FIB$V_TRUNC    = 00000008            
FAB$V_SQO      = 00000006            FIB$M_ALLVER   = 00000008            FIB$V_UPDATE   = 00000006            
FAB$V_SUP      = 00000002            FIB$M_CURPOS   = 00000010            FIB$V_WILD     = 00000008            
FAB$V_TEF      = 0000001C            FIB$M_DLOCK    = 00000002            FIB$V_WRITE    = 00000008            
FAB$V_TMD      = 00000004            FIB$M_EXACT    = 00000001            FIB$V_WRITECK  = 00000005            
FAB$V_TMP      = 00000003            FIB$M_EXECUTE  = 00010000            FIB$W_ALLOC      00000022            
FAB$V_TRN      = 00000004            FIB$M_EXTEND   = 00000080            FIB$W_CNTRLFUNC  00000016            
FAB$V_UFM      = 0000001A            FIB$M_FILCON   = 00000004            FIB$W_DID        0000000A            
FAB$V_UFO      = 00000011            FIB$M_FINDFID  = 00000800            FIB$W_DID_NUM    0000000A            
FAB$V_UPD      = 00000003            FIB$M_HIGHVER  = 00008000            FIB$W_DID_RVN    0000000E            
FAB$V_UPI      = 00000006            FIB$M_LOWVER   = 00004000            FIB$W_DID_SEQ    0000000C            
FAB$V_WCK      = 00000009            FIB$M_MARKBAD  = 00000400            FIB$W_EXCTL      00000016            
FAB$W_BLS        0000003C            FIB$M_NEWVER   = 00000200            FIB$W_FID        00000004            
FAB$W_DEQ        00000014            FIB$M_NOHDREXT = 00000200            FIB$W_FID_NUM    00000004            
FAB$W_IFI        00000002            FIB$M_NOREAD   = 00000400            FIB$W_FID_RVN    00000008            
FAB$W_MRS        00000036            FIB$M_NOTRUNC  = 00000800            FIB$W_FID_SEQ    00000006            
FIB$B_ALALIGN    00000021            FIB$M_NOWRITE  = 00000001            FIB$W_LOC_FID    00000022            
FIB$B_ALOPTS     00000020            FIB$M_ONCYL    = 00000002            FIB$W_LOC_NUM    00000022            
FIB$B_DID_NMX    0000000F            FIB$M_PRSRV_ATR= 00020000            FIB$W_LOC_RVN    00000026            
FIB$B_DID_RVN    0000000E            FIB$M_READCK   = 00000200            FIB$W_LOC_SEQ    00000024            
FIB$B_FID_NMX    00000009            FIB$M_REWIND   = 00000008            FIB$W_NMCTL      00000014            
FIB$B_FID_RVN    00000008            FIB$M_SEQONLY  = 00000040            FOP            = 00000020            
FIB$B_LOC_NMX    00000027            FIB$M_SPOOL    = 00000010            FWA$B_DIRFLGS    00000004            
FIB$B_LOC_RVN    00000026            FIB$M_SUPERSEDE= 00000400            FWA$B_DIRLEN     00000030            
FIB$B_WSIZE      00000003            FIB$M_TRUNC    = 00000100            FWA$B_DIRTERM    00000007            
FIB$C_ACCDATA    0000000A            FIB$M_UPDATE   = 00000040            FWA$B_DIRWCFLGS  00000005            
FIB$C_ALCDATA    0000002C            FIB$M_WILD     = 00000100            FWA$B_ESCFLG     00000008            
FIB$C_CYL      = 00000001            FIB$M_WRITE    = 00000100            FWA$B_ESCTYP     00000009            
FIB$C_DIRDATA    00000016            FIB$M_WRITECK  = 00000020            FWA$B_FLDFLGS    00000001            
FIB$C_EXTDATA    00000020            FIB$V_ALCON    = 00000000            FWA$B_LNFLG      00000006            
FIB$C_ILLEGAL  = 00000005            FIB$V_ALCONB   = 00000001            FWA$B_PARSEFLGS  00000003            
FIB$C_LBN      = 00000002            FIB$V_ALDEF    = 00000003            FWA$B_PASSFLGS   00000000            
FIB$C_LENGTH     0000002C            FIB$V_ALLNAM   = 00000005            FWA$B_UNDERLINE  00000154            
FIB$C_MTALEN     0000001C            FIB$V_ALLTYP   = 00000004            FWA$B_WILDFLGS   00000002            
FIB$C_NEXTVOL  = 00000003            FIB$V_ALLVER   = 00000003            FWA$B_XLTMODE    0000000A            
RMS0OPEN        DISPATCH FOR OPEN OPERATION                      21-AUG-1978 22:06:58   VAX-11 MACRO X0.3-11               Page  14
SYMBOL TABLE                                                                                                                     (1)

FWA$B_XLTTBL     0000000B            FWA$Q_VERSION    00000094            IFB$B_AVBN       00000058            
FWA$C_ALL      = 000000F8            FWA$Q_XLTBUF1    0000000C            IFB$B_BID        00000008            
FWA$C_DEVBUFSIZ= 0000000F            FWA$Q_XLTBUF2    00000024            IFB$B_BKS        0000004A            
FWA$C_DIRBUFSIZ= 00000009            FWA$S_DIR_LVLS = 00000003            IFB$B_BLN        00000009            
FWA$C_FIBLEN   = 0000002C            FWA$T_ATR_LIST   00000164            IFB$B_EFN        0000000B            
FWA$C_MAXDEVICE= 0000000F            FWA$T_DEVICEBUF  00000155            IFB$B_EXTRABUF   0000005D            
FWA$C_MAXDIRLEN= 0000003C            FWA$T_DIB        00000174            IFB$B_FAC        00000022            
FWA$C_MAXNAME  = 00000009            FWA$T_DIR1BUF    000000D0            IFB$B_FSZ        0000004B            
FWA$C_MAXNODE  = 00000028            FWA$T_DIR2BUF    000000D9            IFB$B_KBUFSZ     0000005C            
FWA$C_MAXQUOTED= 0000007F            FWA$T_FIBBUF     000000A4            IFB$B_MODE       0000000A            
FWA$C_MAXSUBDIR= 00000007            FWA$T_NAMEBUF    00000118            IFB$B_NUM_KEYS   0000005A            
FWA$C_MAXTYPE  = 00000003            FWA$T_NODEBUF    0000012C            IFB$B_ORGCASE    00000023            
FWA$C_MAXVER   = 00000006            FWA$T_TYPEBUF    00000122            IFB$B_RAT        0000003D            
FWA$C_NAMBUFSIZ= 0000000A            FWA$T_VERBUF     00000126            IFB$B_RFMORG     0000003C            
FWA$C_NODBUFSIZ= 00000028            FWA$T_XLTBUFF1   00000164            IFB$B_UBUFSZ     0000005B            
FWA$C_RNSBUFSIZ= 00000014            FWA$T_XLTBUFF2   000001A4            IFB$C_BID      = 0000000B            
FWA$C_TYPBUFSIZ= 00000004            FWA$V_CUR_VER  = 00000006            IFB$C_BLN        00000060            
FWA$C_VERBUFSIZ= 00000006            FWA$V_DEVICE   = 0000000F            IFB$C_BLN_IDX    00000060            
FWA$C_XLTBUFSIZ= 0000003F            FWA$V_DIR      = 0000000E            IFB$C_BLN_REL    00000060            
FWA$L_BUFFLG     00000014            FWA$V_DIR1     = 00000020            IFB$C_BLN_SEQ    0000005C            
FWA$L_DEVNODADR  00000020            FWA$V_DIR2     = 00000021            IFB$C_DIR      = 00000003            
FWA$L_ESCSTRING  00000008            FWA$V_DIR_LVLS = 0000001D            IFB$C_FHAEND     00000050            
FWA$L_HBK        00000098            FWA$V_DUPOK    = 00000000            IFB$C_IDX      = 00000002            
FWA$L_LOOKUP     0000001C            FWA$V_EXP_DEV  = 00000017            IFB$C_MAXORG   = 00000002            
FWA$L_SBN        00000094            FWA$V_EXP_DIR  = 00000016            IFB$C_REL      = 00000001            
FWA$L_UIC        0000001C            FWA$V_EXP_NAME = 00000012            IFB$C_SEQ      = 00000000            
FWA$L_XLTCNT     0000002C            FWA$V_EXP_TYPE = 00000011            IFB$K_BLN        00000060            
FWA$L_XLTSIZ     00000018            FWA$V_EXP_VER  = 00000010            IFB$K_BLN_IDX    00000060            
FWA$M_DEVICE   = 00008000            FWA$V_FNA_PASS = 00000004            IFB$K_BLN_REL    00000060            
FWA$M_DIR      = 00004000            FWA$V_GRPMBR   = 0000001B            IFB$K_BLN_SEQ    0000005C            
FWA$M_DUPOK    = 00000001            FWA$V_LOGNAME  = 00000030            IFB$K_FHAEND     00000050            
FWA$M_EXP_DEV  = 00800000            FWA$V_NAME     = 0000000D            IFB$L_ARGLST     00000018            
FWA$M_EXP_DIR  = 00400000            FWA$V_NAMEFLG  = 00000001            IFB$L_ASBADDR    00000014            
FWA$M_EXP_NAME = 00040000            FWA$V_NAM_DVI  = 00000005            IFB$L_AS_DEV     00000054            
FWA$M_EXP_TYPE = 00020000            FWA$V_NETSTR   = 00000032            IFB$L_BDB_BLNK   00000034            
FWA$M_EXP_VER  = 00010000            FWA$V_NODE     = 00000019            IFB$L_BDB_FLNK   00000030            
FWA$M_FNA_PASS = 00000010            FWA$V_OBJTYPE  = 00000031            IFB$L_BKPBITS    00000004            
FWA$M_NAME     = 00002000            FWA$V_QUOTED   = 0000001A            IFB$L_BWB        0000000C            
FWA$M_NAMEFLG  = 00000002            FWA$V_RLF_PASS = 00000003            IFB$L_DVBN       00000058            
FWA$M_NAM_DVI  = 00000020            FWA$V_TYPE     = 0000000C            IFB$L_EBK        00000044            
FWA$M_RLF_PASS = 00000008            FWA$V_TYPEFLG  = 00000002            IFB$L_FRB_PTR    00000028            
FWA$M_TYPE     = 00001000            FWA$V_VERSION  = 0000000B            IFB$L_FWA_BDB    00000050            
FWA$M_TYPEFLG  = 00000004            FWA$V_WC_NAME  = 00000015            IFB$L_HBK        00000040            
FWA$M_VERSION  = 00000800            FWA$V_WC_TYPE  = 00000014            IFB$L_IDX_PTR    00000054            
FWA$Q_DEVICE     0000003C            FWA$V_WC_VER   = 00000013            IFB$L_IOS        0000000C            
FWA$Q_DIR        00000024            FWA$V_WILDCARD = 00000018            IFB$L_IOS4       00000010            
FWA$Q_DIR1       00000044            FWA$V_WILD_DIR = 0000001C            IFB$L_IRAB_LNK   0000001C            
FWA$Q_DIR2       0000004C            FWA$V_WILD_GRP = 00000028            IFB$L_LAST_FAB   00000024            
FWA$Q_FIB        0000000C            FWA$V_WILD_MBR = 00000029            IFB$L_LOCK_BDB   00000050            
FWA$Q_FLAGS      00000000            FWA$V_WILD_SFD1= 00000029            IFB$L_MRN        00000054            
FWA$Q_LOGNAME    0000001C            FWA$V_WILD_UFD = 00000028            IFB$L_NRP_LNK    00000050            
FWA$Q_NAME       00000084            FWA$W_ESCIFI     0000000A            IFB$L_NWA_PTR    00000028            
FWA$Q_NODE       00000034            FWA$W_FNAMSIZ    00000018            IFB$L_PRIM_DEV   00000000            
FWA$Q_QUOTED     0000009C            FWA$W_PRO        00000020            IFB$L_RLB_LNK    0000002C            
FWA$Q_RNS        0000008C            FWA$W_UCHAR      0000002C            IFB$L_RNS_LEN    00000050            
FWA$Q_STATBLK    00000094            GBL...         = 00000000            IFB$M_BIO      = 00000020            
FWA$Q_TYPE       0000008C            IFB$B_AMAX       00000059            IFB$M_BRO      = 00000040            
RMS0OPEN        DISPATCH FOR OPEN OPERATION                      21-AUG-1978 22:06:58   VAX-11 MACRO X0.3-11               Page  15
SYMBOL TABLE                                                                                                                     (1)

IFB$M_DEL      = 00000004            L$RMS00          00000000 R     04   NAM$V_DIR_LVLS = 00000015            
IFB$M_EXE      = 00000080            L$RMS01          00000012 R     04   NAM$V_EXP_DEV  = 00000007            
IFB$M_GET      = 00000002            L$RMS02          00000019 R     04   NAM$V_EXP_DIR  = 00000006            
IFB$M_PUT      = 00000001            NAM$B_BID        00000000            NAM$V_EXP_NAME = 00000002            
IFB$M_TRN      = 00000010            NAM$B_BLN        00000001            NAM$V_EXP_TYPE = 00000001            
IFB$M_UPD      = 00000008            NAM$B_CURLVL     00000038            NAM$V_EXP_VER  = 00000000            
IFB$S_ORG      = 00000004            NAM$B_ESL        0000000B            NAM$V_GRP_MBR  = 00000013            
IFB$S_RFM      = 00000004            NAM$B_ESS        0000000A            NAM$V_HIGHVER  = 0000000F            
IFB$V_ACCESSED = 00000025            NAM$B_RSL        00000003            NAM$V_LOWVER   = 0000000E            
IFB$V_ANSI_D   = 00000026            NAM$B_RSS        00000002            NAM$V_NODE     = 00000011            
IFB$V_ASYNC    = 00000023            NAM$C_BID      = 00000002            NAM$V_PPF      = 00000010            
IFB$V_ASYNCWAIT= 00000024            NAM$C_BLN        00000038            NAM$V_QUOTED   = 00000012            
IFB$V_BIO      = 00000005            NAM$C_BLN_DIRWC  00000050            NAM$V_WILDCARD = 00000008            
IFB$V_BRO      = 00000006            NAM$C_DVI      = 00000010            NAM$V_WILD_DIR = 00000014            
IFB$V_BUSY     = 00000020            NAM$C_MAXRSS   = 00000080            NAM$V_WILD_GRP = 00000018            
IFB$V_CREATE   = 00000032            NAM$C_MAXRSSLCL= 00000060            NAM$V_WILD_MBR = 00000019            
IFB$V_DAP      = 0000003E            NAM$K_BLN        00000038            NAM$V_WILD_NAME= 00000005            
IFB$V_DAP_OPEN = 0000003D            NAM$K_BLN_DIRWC  00000050            NAM$V_WILD_SFD1= 00000019            
IFB$V_DEL      = 00000002            NAM$L_DIRWCC1    00000040            NAM$V_WILD_SFD2= 0000001A            
IFB$V_DFW      = 0000002C            NAM$L_DIRWCC2    00000044            NAM$V_WILD_SFD3= 0000001B            
IFB$V_DLT      = 0000002B            NAM$L_DIRWCC3    00000048            NAM$V_WILD_SFD4= 0000001C            
IFB$V_DMO      = 00000028            NAM$L_DIRWCC4    0000004C            NAM$V_WILD_SFD5= 0000001D            
IFB$V_EOF      = 00000021            NAM$L_DWC        00000038            NAM$V_WILD_SFD6= 0000001E            
IFB$V_EXE      = 00000007            NAM$L_ESA        0000000C            NAM$V_WILD_SFD7= 0000001F            
IFB$V_GET      = 00000001            NAM$L_FNB        00000034            NAM$V_WILD_TYPE= 00000004            
IFB$V_MSE      = 00000031            NAM$L_RLF        00000010            NAM$V_WILD_UFD = 00000018            
IFB$V_NORECLK  = 00000033            NAM$L_RSA        00000004            NAM$V_WILD_VER = 00000003            
IFB$V_NSP      = 0000003F            NAM$L_WCC        00000030            NAM$W_DID        0000002A            
IFB$V_NWA      = 0000003C            NAM$M_DIR_LVLS = 00E00000            NAM$W_DID_NUM    0000002A            
IFB$V_ORG      = 00000004            NAM$M_EXP_DEV  = 00000080            NAM$W_DID_RVN    0000002E            
IFB$V_PPF_IMAGE= 00000022            NAM$M_EXP_DIR  = 00000040            NAM$W_DID_SEQ    0000002C            
IFB$V_PPF_INPUT= 0000002E            NAM$M_EXP_NAME = 00000004            NAM$W_FID        00000024            
IFB$V_PUT      = 00000000            NAM$M_EXP_TYPE = 00000002            NAM$W_FID_NUM    00000024            
IFB$V_RFM      = 00000000            NAM$M_EXP_VER  = 00000001            NAM$W_FID_RVN    00000028            
IFB$V_RWC      = 00000027            NAM$M_GRP_MBR  = 00080000            NAM$W_FID_SEQ    00000026            
IFB$V_RW_ATTR  = 00000034            NAM$M_HIGHVER  = 00008000            NAM$W_PRV_DID    0000003A            
IFB$V_SCF      = 0000002A            NAM$M_LOWVER   = 00004000            PIO$GL_FMLH      ********   X   02   
IFB$V_SPL      = 00000029            NAM$M_NODE     = 00020000            RM$ACCESS        ********   X   02   
IFB$V_SQO      = 0000002D            NAM$M_PPF      = 00010000            RM$CHKBIOOPEN    00000005 RG    04   
IFB$V_TEF      = 00000036            NAM$M_QUOTED   = 00040000            RM$CLSCU         ********   X   02   
IFB$V_TMP      = 00000035            NAM$M_WILDCARD = 00000100            RM$COPRTN        00000064 RG    02   
IFB$V_TRN      = 00000004            NAM$M_WILD_DIR = 00100000            RM$COPRTN1       0000008E RG    02   
IFB$V_UPD      = 00000003            NAM$M_WILD_GRP = 01000000            RM$COPRTN2       00000098 RG    02   
IFB$V_WRTACC   = 00000030            NAM$M_WILD_MBR = 02000000            RM$CREATEXIT     0000012C RG    02   
IFB$W_ASDEVBSIZ  0000005A            NAM$M_WILD_NAME= 00000020            RM$CREATEXIT1    0000012E RG    02   
IFB$W_BKS_BYTES  0000005C            NAM$M_WILD_SFD1= 02000000            RM$EXPSTRING     ********   X   02   
IFB$W_BKS_RECS   0000005E            NAM$M_WILD_SFD2= 04000000            RM$EXRMS         ********   X   02   
IFB$W_CHNL       00000020            NAM$M_WILD_SFD3= 08000000            RM$FILLNAM       0000013A RG    02   
IFB$W_DEQ        0000004E            NAM$M_WILD_SFD4= 10000000            RM$FSETI         ********   X   02   
IFB$W_DEVBUFSIZ  00000038            NAM$M_WILD_SFD5= 20000000            RM$KNOWNFILE     ********   X   02   
IFB$W_EBK0       00000044            NAM$M_WILD_SFD6= 40000000            RM$OPEN1         ********   X   02   
IFB$W_EBK2       00000046            NAM$M_WILD_SFD7= 80000000            RM$OPEN2         ********   X   02   
IFB$W_FFB        00000048            NAM$M_WILD_TYPE= 00000010            RM$OPEN3         ********   X   02   
IFB$W_IOS2       0000000E            NAM$M_WILD_UFD = 01000000            RM$OPEN_CIF      00000036 RG    02   
IFB$W_LRL        0000003E            NAM$M_WILD_VER = 00000008            RM$PRFLNM        ********   X   02   
IFB$W_MRS        0000004C            NAM$S_DIR_LVLS = 00000003            RM$RELEASALL     ********   X   02   
IFB$W_RTDEQ      0000003A            NAM$T_DVI        00000014            RM$RETIFB        ********   X   02   
RMS0OPEN        DISPATCH FOR OPEN OPERATION                      21-AUG-1978 22:06:58   VAX-11 MACRO X0.3-11               Page  16
SYMBOL TABLE                                                                                                                     (1)

RM$REWIND_MT     ********   X   02   RMS$_ENV       = 00018724            RMS$_OK_RRV    = 00018029            
RM$SETDID        ********   X   02   RMS$_EOF       = 0001827A            RMS$_ORD       = 00018604            
RMS$OPEN       = FFFFFFFE RG    02   RMS$_ESA       = 000184FC            RMS$_ORG       = 0001860C            
RMS$V_STVSTATUS= 0000000E            RMS$_ESL       = 00018714            RMS$_PBF       = 00018614            
RMS$_ABO       = 000183EC            RMS$_ESS       = 00018504            RMS$_PENDING   = 00018009            
RMS$_ACC       = 0001C002            RMS$_EXP       = 000182C2            RMS$_PLG       = 0001861C            
RMS$_ACT       = 0001825A            RMS$_EXT       = 0001C022            RMS$_PLV       = 0001872C            
RMS$_AID       = 000183F4            RMS$_FAB       = 0001850C            RMS$_POS       = 00018624            
RMS$_ALN       = 000183FC            RMS$_FAC       = 00018514            RMS$_PRM       = 0001862C            
RMS$_ALQ       = 00018404            RMS$_FEX       = 00018282            RMS$_PRV       = 0001829A            
RMS$_ANI       = 0001840C            RMS$_FLG       = 0001851C            RMS$_QUO       = 00018634            
RMS$_AOP       = 00018414            RMS$_FLK       = 0001828A            RMS$_RAB       = 0001863C            
RMS$_ATR       = 0001C0CC            RMS$_FNA       = 00018524            RMS$_RAC       = 00018644            
RMS$_ATW       = 0001C0D4            RMS$_FND       = 0001C02A            RMS$_RAT       = 0001864C            
RMS$_BKS       = 0001841C            RMS$_FNF       = 00018292            RMS$_RBF       = 00018654            
RMS$_BKZ       = 00018424            RMS$_FNM       = 0001852C            RMS$_RER       = 0001C0F4            
RMS$_BLN       = 0001842C            RMS$_FOP       = 0001853C            RMS$_REX       = 000182A2            
RMS$_BOF       = 00018198            RMS$_FSZ       = 00018534            RMS$_RFA       = 0001865C            
RMS$_BUG       = 00018434            RMS$_FUL       = 00018544            RMS$_RFM       = 00018664            
RMS$_BUG_DAP   = 00018444            RMS$_IAL       = 0001854C            RMS$_RHB       = 0001866C            
RMS$_BUG_DDI   = 0001843C            RMS$_IAN       = 00018554            RMS$_RLF       = 00018674            
RMS$_BUG_XX2   = 0001844C            RMS$_IBF       = 00018754            RMS$_RLK       = 000182AA            
RMS$_BUG_XX3   = 00018454            RMS$_IDX       = 0001855C            RMS$_RMV       = 0001C0FC            
RMS$_BUG_XX4   = 0001845C            RMS$_IFA       = 0001C124            RMS$_RNF       = 000182B2            
RMS$_BUG_XX5   = 00018464            RMS$_IFI       = 00018564            RMS$_RNL       = 000181A0            
RMS$_BUG_XX6   = 0001846C            RMS$_IMX       = 0001856C            RMS$_ROP       = 0001867C            
RMS$_BUG_XX7   = 00018474            RMS$_IOP       = 00018574            RMS$_RPL       = 0001C104            
RMS$_BUG_XX8   = 0001847C            RMS$_IRC       = 0001857C            RMS$_RRV       = 00018684            
RMS$_BUG_XX9   = 00018484            RMS$_ISI       = 00018584            RMS$_RSA       = 000182DA            
RMS$_CAA       = 0001848C            RMS$_KBF       = 0001858C            RMS$_RSL       = 0001873C            
RMS$_CCF       = 0001C0DC            RMS$_KEY       = 00018594            RMS$_RSS       = 00018694            
RMS$_CCR       = 00018494            RMS$_KFF       = 00018031            RMS$_RST       = 0001869C            
RMS$_CDA       = 0001C0E4            RMS$_KRF       = 0001859C            RMS$_RSZ       = 000186A4            
RMS$_CHG       = 0001849C            RMS$_KSZ       = 000185A4            RMS$_RTB       = 000181A8            
RMS$_CHK       = 000184A4            RMS$_LAN       = 000185AC            RMS$_SEQ       = 000186AC            
RMS$_CHN       = 0001C0EC            RMS$_LBL       = 000185B4            RMS$_SHR       = 000186B4            
RMS$_COD       = 000184AC            RMS$_LNE       = 000185BC            RMS$_SIZ       = 000186BC            
RMS$_CONTROLC  = 00010651            RMS$_LOC       = 000185C4            RMS$_SPL       = 0001C042            
RMS$_CONTROLO  = 00010609            RMS$_MBC       = 00018734            RMS$_SQO       = 000186C4            
RMS$_CONTROLY  = 00010611            RMS$_MKD       = 0001C032            RMS$_STALL     = 00018001            
RMS$_CRE       = 0001C00A            RMS$_MRN       = 000185CC            RMS$_STK       = 000186CC            
RMS$_CREATED   = 00010619            RMS$_MRS       = 000185D4            RMS$_SUC       = 00010001            
RMS$_CUR       = 000184B4            RMS$_NAM       = 000185DC            RMS$_SUP       = 000182D2            
RMS$_DAC       = 0001C012            RMS$_NEF       = 000185E4            RMS$_SUPERSEDE = 00010631            
RMS$_DAN       = 000184BC            RMS$_NET       = 0001874C            RMS$_SYN       = 000186D4            
RMS$_DEL       = 00018262            RMS$_NID       = 000185EC            RMS$_SYS       = 0001C10C            
RMS$_DEV       = 000184C4            RMS$_NMF       = 000182CA            RMS$_TEMP1     = 0001826A            
RMS$_DIR       = 000184CC            RMS$_NOD       = 000185F4            RMS$_TEMP2     = 0001868C            
RMS$_DME       = 000184D4            RMS$_NORMAL    = 00010001            RMS$_TMO       = 000181B0            
RMS$_DNA       = 000184DC            RMS$_NPK       = 000185FC            RMS$_TRE       = 000186DC            
RMS$_DNF       = 0001C04A            RMS$_OK_ALK    = 00018039            RMS$_TYP       = 000186E4            
RMS$_DNR       = 00018272            RMS$_OK_DEL    = 00018041            RMS$_UBF       = 000186EC            
RMS$_DPE       = 0001C03A            RMS$_OK_DUP    = 00018011            RMS$_USZ       = 000186F4            
RMS$_DTP       = 000184E4            RMS$_OK_IDX    = 00018019            RMS$_VER       = 000186FC            
RMS$_DUP       = 000184EC            RMS$_OK_LIM    = 00018051            RMS$_VOL       = 00018704            
RMS$_DVI       = 000184F4            RMS$_OK_RLK    = 00018021            RMS$_WBE       = 0001C12C            
RMS$_ENT       = 0001C01A            RMS$_OK_RNF    = 00018049            RMS$_WER       = 0001C114            
RMS0OPEN        DISPATCH FOR OPEN OPERATION                      21-AUG-1978 22:06:58   VAX-11 MACRO X0.3-11               Page  17
SYMBOL TABLE                                                                                                                     (1)

RMS$_WLD       = 00018744            
RMS$_WLK       = 000182BA            
RMS$_WPL       = 0001C11C            
RMS$_WSF       = 0001871C            
RMS$_XAB       = 0001870C            
TPT$L_OPEN       ********   X   02   


PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
F$RMSOPEN0       00000180      02     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD  NOWRT BYTE  
$ABS$            000001E4      03     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
L$RMS0           00000021      04     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD  NOWRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
3940. BYTES LEFT IN FREE MEMORY POOL.
2252. BYTES OF RECLAIMED MEMORY.
OBJ$:RMS0OPEN,LIS$:RMS0OPEN/-SP=EXECML$/ML,LIB$:R/ML,SRC$:RMS0OPEN
40 MLB DIR RDS - 1252 GETS TO DEFINE 29 MACROS. 104 INTER. FILE WRITES. 

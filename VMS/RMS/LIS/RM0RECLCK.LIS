RM0RECLCK       RECORD LOCK LIST (RLB) PROCESSING                21-AUG-1978 21:28:00   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (2)      44  DECLARATIONS
   (3)      65  RM$LOCK AND RM$QUERY_LCK
   (4)     186  SCAN0, AND SCAN
   (5)     311  RM$UNLOCK, RM$UNLOCK_ALT AND RM$UNLOCKALL
RM0RECLCK       RECORD LOCK LIST (RLB) PROCESSING                21-AUG-1978 21:28:00   VAX-11 MACRO X0.3-11               Page   1
003                                                                                                                              (1)

                                     0000     1 	$BEGIN RM0RECLCK,003,$RMS23,<RECORD LOCK LIST (RLB) PROCESSING>
                                     0000     2 
                                     0000     3 
                                     0000     4 ;
                                     0000     5 ; COPYRIGHT  (C)  1977
                                     0000     6 ; DIGITAL EQUIPMENT CORPORATION, MAYNARD MASS.
                                     0000     7 ;
                                     0000     8 ; THIS SOFTWARE IS FURNISHED UNDER A LICENSE FOR USE ONLY
                                     0000     9 ; ON A SINGLE COMPUTER SYSTEM AND MAY BE COPIED ONLY WITH
                                     0000    10 ; THE INCLUSION OF THE ABOVE COPYRIGHT NOTICE. THIS
                                     0000    11 ; SOFTWARE, OR ANY OTHER COPIES THEREOF, MAY NOT BE
                                     0000    12 ; PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY OTHER PERSON
                                     0000    13 ; EXCEPT FOR USE ON SUCH SYSTEM AND TO ONE WHO AGREES TO
                                     0000    14 ; THESE LICENSE TERMS. TITLE TO AND OWNERSHIP OF THE
                                     0000    15 ; SOFTWARE SHALL AT ALL TIMES REMAIN IN DIGITAL EQUIPMENT CORPORATION.
                                     0000    16 ;
                                     0000    17 ; THE INFORMATION IN THIS DOCUMENT IS SUBJECT TO CHANGE
                                     0000    18 ; WITHOUT NOTICE AND SHOULD NOT BE CONSTRUED AS A
                                     0000    19 ; COMMITMENT BY DIGITAL EQUIPMENT CORPORATION.
                                     0000    20 ;
                                     0000    21 ; DIGITAL EQUIPMENT CORPORATION ASSUMES NO RESPONSIBILITY
                                     0000    22 ; FOR THE USE OR RELIABILITY OF ITS SOFTWARE ON EQUIPMENT
                                     0000    23 ; WHICH IS NOT SUPPLIED BY DIGITAL EQUIPMENT CORPORATION.
                                     0000    24 ;
                                     0000    25 ;++
                                     0000    26 ; FACILITY: RMS32
                                     0000    27 ;
                                     0000    28 ; ABSTRACT:
                                     0000    29 ;		THIS MODULE PERFORMS ALL THE FUNCTIONS
                                     0000    30 ;		NEEDED TO IMPLEMENT AND PROCESS THE RECORD
                                     0000    31 ;		LOCK LIST (RLB).
                                     0000    32 ;
                                     0000    33 ; ENVIRONMENT:
                                     0000    34 ;		STAR PROCESSOR RUNNING STARTLET EXEC.
                                     0000    35 ;
                                     0000    36 ; AUTHOR: E. H. MARISON,	CREATION DATE:  28-SEP-77
                                     0000    37 ;
                                     0000    38 ; MODIFIED BY:
                                     0000    39 ;
                                     0000    40 ;	L F LAVERDURE,   10-NOV-77  17:31
                                     0000    41 ; 01	-
                                     0000    42 ;--
RM0RECLCK       RECORD LOCK LIST (RLB) PROCESSING                21-AUG-1978 21:28:00   VAX-11 MACRO X0.3-11               Page   2
003             DECLARATIONS                                                                                                     (2)

                                     0000    44 	.SBTTL	DECLARATIONS
                                     0000    45 ;
                                     0000    46 ; INCLUDE FILES:
                                     0000    47 ;
                                     0000    48 	$RABDEF
                                     0000    49 	$RLBDEF
                                     0000    50 	$IRBDEF
                                     0000    51 	$IFBDEF
                                     0000    52 	$RMSDEF
                                     0000    53 	.LIST	MEB
                                     0000    54 ;
                                     0000    55 ; MACROS:
                                     0000    56 ;
                                     0000    57 ;
                                     0000    58 ; EQUATED SYMBOLS:
                                     0000    59 ;
                           00000020  0000    60 	ROP=RAB$L_ROP*8
                                     0000    61 ;
                                     0000    62 ; OWN STORAGE:
                                     0000    63 ;
RM0RECLCK       RECORD LOCK LIST (RLB) PROCESSING                21-AUG-1978 21:28:00   VAX-11 MACRO X0.3-11               Page   3
003             RM$LOCK AND RM$QUERY_LCK                                                                                         (3)

                                     0000    65 	.SBTTL	RM$LOCK AND RM$QUERY_LCK
                                     0000    66 
                                     0000    67 ;++
                                     0000    68 ; FUNCTIONAL DESCRIPTIONS:
                                     0000    69 ;
                                     0000    70 ;	RM$LOCK MAKE ENTRY IN THE LOCK LIST FOR SPECIFIED RECORD
                                     0000    71 ;	RM$QUERY_LCK SEARCH RLB FOR SPECIFIED RECORD AND REPORT STATUS
                                     0000    72 ;
                                     0000    73 ; CALLING SEQUENCE:
                                     0000    74 ;		BSBW	RM$LOCK
                                     0000    75 ;		BSBW	RM$QUERY_LCK
                                     0000    76 ;
                                     0000    77 ;
                                     0000    78 ; INPUT PARAMETERS:
                                     0000    79 ;
                                     0000    80 ;	R11	IMPURE AREA ADDRESS
                                     0000    81 ;	R10	IFAB (SHARED IFAB) ADDRESS
                                     0000    82 ;	R9	IRAB ADDRESS *** PLEASE NOTE ALWAYS IRAB ***
                                     0000    83 ;	R8	RAB ADDRESS
                                     0000    84 ;	R1	1'ST AND 2'ND WORD OF RECORD'S RFA
                                     0000    85 ;	R2	3'RD WORD OF RECORD'S RFA ZEROED FILLED
                                     0000    86 ;		SEQ F.O OFFSET (ALWAYS POSITIVE VALUE)
                                     0000    87 ;		RELATIVE F.O. ALWAYS 0
                                     0000    88 ;		INDEX F.O. LOW BYTE = ID REST ZERO FILLED
                                     0000    89 ;
                                     0000    90 ;
                                     0000    91 ; IMPLIED INPUT:
                                     0000    92 ;	RM$LOCK::
                                     0000    93 ;		THE RLK BIT IN ROP (IE WILL ALLOW READERS)
                                     0000    94 ;	RM$QUERY_LCK::
                                     0000    95 ;		IRB$L_RLB_ADDR(R9) START POINT FOR RLB LIST SCAN
                                     0000    96 ;
                                     0000    97 ; OUTPUT PARAMETERS:
                                     0000    98 ;
                                     0000    99 ;	R3 IS DESTORYED
                                     0000   100 ;	RM$LOCK CALL ONLY IRB$L_RLB_ADDR(R9) SET TO RLB ADDR OR 0
                                     0000   101 ;		*** EXCEPTION DME ERROR THEN RLB_ADDR UNCHANGED ***
                                     0000   102 ;	R0	INTERNAL RMS STATUS CODE
                                     0000   103 ;		RM$LOCK:
                                     0000   104 ;		RMS$_SUC&^XFFFF RECORD LOCK ENTRY MADE
                                     0000   105 ;		RMS$_OK_ALK&^XFFFF RECORD WAS ALREADY LOCKED BY CALLER
                                     0000   106 ;		RMS$_RLK&^XFFFF RECORD IS LOCK BY ANOTHER PROCESS-STREAM
                                     0000   107 ;		RMS$_DME&^XFFFF COULD NOT GET SPACE FOR NEW RLB BLOCK
                                     0000   108 ;
                                     0000   109 ;		RM$QUERY_LCK:
                                     0000   110 ;		RMS$_SUC&^XFFFF RECORD NOT LOCKED
                                     0000   111 ;		RMS$_OK_ALK&^XFFFF RECORD WAS ALREADY LOCKED BY CALLER
                                     0000   112 ;		RMS$_OK_RLK&^XFFFF RECORD IS LOCKED BY ANOTHER PROCESS-STREAM
                                     0000   113 ;				BUT READ IS ALLOWED
                                     0000   114 ;		RMS$_RLK&^XFFFF RECORD IS LOCK BY ANOTHER PROCESS-STREAM
                                     0000   115 ;
                                     0000   116 ;
                                     0000   117 ; SIDE EFFECTS:
                                     0000   118 ;
                                     0000   119 ;--
                                     0000   120 
                                     0000   121 RM$LOCK::
RM0RECLCK       RECORD LOCK LIST (RLB) PROCESSING                21-AUG-1978 21:28:00   VAX-11 MACRO X0.3-11               Page   4
003             RM$LOCK AND RM$QUERY_LCK                                                                                         (3)

                                     0000   122 ;
                                     0000   123 ; **** WHEN SHARED FILES IS IMPLEMENTED MUST OBTAIN THE RLB RESOURCE ***
                                     0000   124 ;
                          0083   30  0000   125 LOCK:	BSBW	SCAN			; SCAN LOCK LIST
            0C            50     E9  0003   126 	BLBC	R0,10$			; ONLY SUCCESS CODES ARE OK_ALK AND OK_RLK
            50       8039 8F     B1  0006   127 	CMPW	#<RMS$_OK_ALK&^XFFFF>,R0 ; ALREADY LOCKED?
                          58     13  000B   128 	BEQL	EXIT			; BRANCH IF YES
                                     000D   129 	RMSERR	RLK			; OTHERWISE CHANGE IT TO RLK
            50       82AA 8F     3C  000D       		MOVZWL	#<RMS$_RLK&^XFFFF>,R0
                          53     D4  0012   130 10$:	CLRL	R3			; IF WE GET HERE DON'T WANT THIS RLB
            50       81A0 8F     B1  0014   131 	CMPW	#<RMS$_RNL&^XFFFF>,R0	; RECORD NOT LOCKED?
                          4A     12  0019   132 	BNEQ	EXIT			; BRANCH IF NO
                                     001B   133 ;
                                     001B   134 ; RECORD IS NOT LOCKED. SCAN THE RLB LIST FOR AN AVAILABLE RLB
                                     001B   135 ;
            53         2C AA     DE  001B   136 	MOVAL	IFB$L_RLB_LNK(R10),R3	; SETUP FOR SCAN
                                     001F   137 	ASSUME	RLB$L_LNK EQ 0
            53            63     D0  001F   138 20$:	MOVL	(R3),R3			; GET NEXT RLB IN LIST
                          1D     13  0022   139 	BEQL	40$			; BRANCH IF AT END OF LIST
                       04 A3     D5  0024   140 	TSTL	RLB$L_OWNER(R3)		; IS RLB AVAILABLE
                          F6     12  0027   141 	BNEQ	20$			; LOOP BACK FOR NEXT IF NOT
                                     0029   142 30$:					; REF TAG
         04 A3         3C A9     D0  0029   143 	MOVL	IRB$L_OWNER_ID(R9),RLB$L_OWNER(R3) ; SET OWNER ID IN RLB
         0C A3            51     D0  002E   144 	MOVL	R1,RLB$L_RFA0(R3)	; SET RECORDS RFA IN RLB
         0A A3            52     B0  0032   145 	MOVW	R2,RLB$W_RFA4(R3)
            68            33     E1  0036   146 	BBC	#RAB$V_RLK+ROP,(R8),SUCXIT ; IF READ NOT ALLOWED THEN EXIT
                          28         0039       
         0A A3            0F     E3  003A   147 	BBCS	#RLB$V_ALLOWREAD,RLB$W_RFA4(R3),SUCXIT ; SET FLAG AND EXIT
                          23         003E       
                          21     11  003F   148 	BRB	SUCXIT			; !! JUST IN CASE !!
                                     0041   149 
                                     0041   150 ;
                                     0041   151 ; NO AVAILABLE RLB SO WE MUST ALLOCATE A NEW ONE
                                     0041   152 ;
                          16     BB  0041   153 40$:	PUSHR	#^M<R1,R2,R4>		; SAVE REGISTERS
            51            5A     D0  0043   154 	MOVL	R10,R1			; SET ADDR IN PAGE = IFAB/SIFAB
            52            04     9A  0046   155 	MOVZBL	#RLB$C_BLN/4,R2		; SET # OF LONG WORDS
                                     0049   156 ;
                                     0049   157 ; *** WHEN SHARED FILES IS IMPLEMENTED THEN TEST HERE FOR A SHARED
                                     0049   158 ;	IFAB SINCE NEW PAGES MUST COME OUT OF THE GLOBAL SPACE POOL ***
                                     0049   159 ;
                          FFB4'  30  0049   160 	BSBW	RM$GETBLK		; GET RLB BLOCK AND FILL IN LENGTH
            53            51     D0  004C   161 	MOVL	R1,R3			; COPY ADDRESS IF ANY
                          16     BA  004F   162 	POPR	#^M<R1,R2,R4>		; RESTORE REGISTERS
            15            50     E9  0051   163 	BLBC	R0,EXIT1		; IF WE FAILED THEN EXIT
         08 A3            0E     90  0054   164 	MOVB	#RLB$C_BID,RLB$B_BID(R3) ; SET BLOCK ID CODE
                                     0058   165 	ASSUME	RLB$L_LNK EQ 0
            63         2C AA     D0  0058   166 	MOVL	IFB$L_RLB_LNK(R10),(R3)	; SET PTR TO NEXT IN NEW RLB
         2C AA            53     D0  005C   167 	MOVL	R3,IFB$L_RLB_LNK(R10)	; PUT NEW RLB AT FRONT OF LIST
                          C7     11  0060   168 	BRB	30$			; GO BACK AND LOCK RECORD
                                     0062   169 
                                     0062   170 SUCXIT:	RMSSUC				; SAY SUCCESS
            50            01     D0  0062       		MOVL	#1,R0
         44 A9            53     D0  0065   171 EXIT:	MOVL	R3,IRB$L_RLB_ADDR(R9)	; SET RLB ADDR IN IRAB
                                 05  0069   172 EXIT1:	RSB				; AND RETURN
                                     006A   173 
                                     006A   174 
RM0RECLCK       RECORD LOCK LIST (RLB) PROCESSING                21-AUG-1978 21:28:00   VAX-11 MACRO X0.3-11               Page   5
003             RM$LOCK AND RM$QUERY_LCK                                                                                         (3)

                                     006A   175 RM$QUERY_LCK::
                                     006A   176 ;
                                     006A   177 ; **** WHEN SHARED FILES IS IMPLEMENTED MUST OBTAIN THE RLB RESOURCE ***
                                     006A   178 ;
                          0B     10  006A   179 	BSBB	SCAN0			; SCAN FOR RECORD USE RLB_ADDR AS
                                     006C   180 					; START POINT FOR SCAN
            50       81A0 8F     B1  006C   181 	CMPW	#<RMS$_RNL&^XFFFF>,R0	; MAP RECORD NOT LOCKED TO SUCCESS
                          03     12  0071   182 	BNEQ	10$
                                     0073   183 	RMSSUC
            50            01     D0  0073       		MOVL	#1,R0
                                 05  0076   184 10$:	RSB				; OTHERWISE, REPORT STATUS FROM SCAN
RM0RECLCK       RECORD LOCK LIST (RLB) PROCESSING                21-AUG-1978 21:28:00   VAX-11 MACRO X0.3-11               Page   6
003             SCAN0, AND SCAN                                                                                                  (4)

                                     0077   186 	.SBTTL	SCAN0, AND SCAN
                                     0077   187 
                                     0077   188 ;++
                                     0077   189 ; FUNCTIONAL DESCRIPTIONS:
                                     0077   190 ;
                                     0077   191 ;	1.) SCAN THE RLB FOR THE REQUESTED RECORD (RFA <>0)
                                     0077   192 ;	2.) SCAN FOR FIRST RECORD LOCKED BY CALLER IF RFA = 0
                                     0077   193 ;	3.) REPORT STAUS OF SCAN
                                     0077   194 ;
                                     0077   195 ; CALLING SEQUENCE:
                                     0077   196 ;		BSBB	SCAN0
                                     0077   197 ;		BSBB	SCAN
                                     0077   198 ;
                                     0077   199 ;
                                     0077   200 ; INPUT PARAMETERS:
                                     0077   201 ;
                                     0077   202 ;	R11	IMPURE AREA ADDRESS
                                     0077   203 ;	R10	IFAB (SHARED IFAB) ADDRESS
                                     0077   204 ;	R9	IRAB ADDRESS *** PLEASE NOTE ALWAYS IRAB ***
                                     0077   205 ;	R8	RAB/FAB ADDRESS
                                     0077   206 ;
                                     0077   207 ;	SCAN0 CALL START POINT = IRB$L_RLB_ADDR(R9)
                                     0077   208 ;		AND RFA IS ASSUMED <> 0
                                     0077   209 ;
                                     0077   210 ;	RFA <> 0 :	SCAN FOR RECORD
                                     0077   211 ;	R1	1'ST AND 2'ND WORD OF RECORD'S RFA
                                     0077   212 ;	R2	3'RD WORD OF RECORD'S RFA ZEROED FILLED
                                     0077   213 ;		SEQ F.O OFFSET (ALWAYS POSITIVE VALUE)
                                     0077   214 ;		RELATIVE F.O. ALWAYS 0
                                     0077   215 ;		INDEX F.O. LOW BYTE = ID REST ZERO FILLED
                                     0077   216 ;
                                     0077   217 ;	RFA = 0 :	SCAN FOR RECORD LOCKED BY CALLER
                                     0077   218 ;	R1	IS ZEROED (0)
                                     0077   219 ;	R2	DON'T CARE
                                     0077   220 ;
                                     0077   221 ; OUTPUT PARAMETERS:
                                     0077   222 ;
                                     0077   223 ;	R3 IS RLB FOUND ON SCAN OR 0 IF NONE FOUND IN SCAN
                                     0077   224 ;	R0	INTERNAL RMS STATUS CODE
                                     0077   225 ;
                                     0077   226 ;		RMS$_OK_ALK&^XFFFF RECORD WAS ALREADY LOCKED BY CALLER
                                     0077   227 ;				THIS IS RECORD FOUND CASE FOR OWNER SCAN
                                     0077   228 ;		RMS$_OK_RLK&^XFFFF RECORD IS LOCKED BY ANOTHER PROCESS-STREAM
                                     0077   229 ;				BUT READ IS ALLOWED
                                     0077   230 ;		RMS$_RLK&^XFFFF RECORD IS LOCK BY ANOTHER PROCESS-STREAM
                                     0077   231 ;		RMS$_RNL$^XFFFF RECORD NOT LOCKED
                                     0077   232 ;				THIS IS RECORD NOT FOUND CASE FOR OWNER SCAN
                                     0077   233 ;
                                     0077   234 ;
                                     0077   235 ; SIDE EFFECTS:
                                     0077   236 ;
                                     0077   237 ;--
                                     0077   238 
                                     0077   239 SCAN0:
            53         44 A9     D0  0077   240 	MOVL	IRB$L_RLB_ADDR(R9),R3	; GET START RLB
                          09     13  007B   241 	BEQL	SCAN			; BRANCH IF NONE
                          14     10  007D   242 	BSBB	COMPARE			; CALL COMPARE LOOP
RM0RECLCK       RECORD LOCK LIST (RLB) PROCESSING                21-AUG-1978 21:28:00   VAX-11 MACRO X0.3-11               Page   7
003             SCAN0, AND SCAN                                                                                                  (4)

            50       81A0 8F     B1  007F   243 	CMPW	#<RMS$_RNL&^XFFFF>,R0	; DID WE FIND AND ENTRY
                          52     12  0084   244 	BNEQ	SCANRTN			; BRANCH IF WE DID
                                     0086   245 					; OTHERWISE DO FULL SCAN (FALL THRU)
                                     0086   246 SCAN:
            53         2C AA     DE  0086   247 	MOVAL	IFB$L_RLB_LNK(R10),R3	; SETUP FOR SCAN
                          51     D5  008A   248 	TSTL	R1			; OWNER SCAN
                          51     13  008C   249 	BEQL	SCAN_OWNER		; BRANCH IF YES
                                     008E   250 ;
                                     008E   251 ; SCAN FOR RECORD MATCH
                                     008E   252 ;
                                     008E   253 SCANLOOP:
                                     008E   254 	ASSUME	RLB$L_LNK EQ 0
            53            63     D0  008E   255 	MOVL	(R3),R3			; GET NEXT RLB IN LIST
                          46     13  0091   256 	BEQL	NOTFOUND		; BRANCH IS AT END OF LIST
                                     0093   257 COMPARE:
            51         0C A3     D1  0093   258 	CMPL	RLB$L_RFA0(R3),R1	; COMPARE VBN/REC#/START VBN
                          F5     12  0097   259 	BNEQ	SCANLOOP		; BRANCH IF NO MATCH
                                     0099   260 	CASE	TYPE=B, SRC=IFB$B_ORGCASE(R10),-
                                     0099   261 		DISPLIST=<SCANSEQ,FOUND,SCANIDX> ; SCANS FOR SEQ,REL AND IDX F.O.
            00         23 AA     8F  0099       	CASEB	IFB$B_ORGCASE(R10),#0,S^#<<30001$-30000$>/2>-1
                          02'        009D       
                                     009E       30000$:
                               0006' 009E       	.WORD	SCANSEQ-30000$
                               001B' 00A0       	.WORD	FOUND-30000$
                               0015' 00A2       	.WORD	SCANIDX-30000$
                                     00A4       30001$:
                                     00A4   262 					; NOTE: FOR REL F.O. ONLY NEED MATCH REC#
                                     00A4   263 ;
                                     00A4   264 ; SCAN FOR SEQUENTIAL FILE ORG
                                     00A4   265 ;
                                     00A4   266 SCANSEQ:
            7E         0A A3     3C  00A4   267 	MOVZWL	RLB$W_RFA4(R3),-(SP)	; GET OFFSET
                                     00A8   268 	CSB	#RLB$V_ALLOWREAD,(SP)	; CLEAR FLAG BIT
            6E            0F     E5  00A8       		BBCC	#RLB$V_ALLOWREAD,(SP),30002$
                          00         00AB       
                                     00AC       30002$:
            52            8E     D1  00AC   269 	CMPL	(SP)+,R2		; COMPARE OFFSET
                          08     13  00AF   270 	BEQL	FOUND			; BRANCH IF MATCH
                          DB     11  00B1   271 	BRB	SCANLOOP		; OTHERWISE, LOOP BACK FOR NEXT
                                     00B3   272 ;
                                     00B3   273 ; SCAN FOR INDEXED FILE ORG
                                     00B3   274 ;
                                     00B3   275 SCANIDX:
            52         0A A3     91  00B3   276 	CMPB	RLB$B_ID(R3),R2		; COMPARE ID
                          D5     12  00B7   277 	BNEQ	SCANLOOP		; BRANCH IF NO MATCH
                                     00B9   278 FOUND:					; REF TAG
                                     00B9   279 ;
                                     00B9   280 ; MATCH HAS BEEN FOUND - REPORT STATUS
                                     00B9   281 ;
                 00008039 8F     DD  00B9   282 	PUSHL	#<RMS$_OK_ALK&^XFFFF>	; ASSUME OWNER IS CALLER
         04 A3         3C A9     D1  00BF   283 	CMPL	IRB$L_OWNER_ID(R9),RLB$L_OWNER(R3) ; IS THIS THE OWNER
                          0F     13  00C4   284 	BEQL	SCANXIT			; BRANCH IF YES
                                     00C6   285 	RMSERR	RLK,(SP)		; ASSUME NO READ ALLOWED
            6E       82AA 8F     3C  00C6       		MOVZWL	#<RMS$_RLK&^XFFFF>,(SP)
         0A A3            0F     E1  00CB   286 	BBC	#RLB$V_ALLOWREAD,RLB$W_RFA4(R3),SCANXIT ; BRANCH IF NO READ
                          05         00CF       
                                     00D0   287 	RMSSUC	OK_RLK,(SP)		; NOTE NEW STATUS AND EXIT
RM0RECLCK       RECORD LOCK LIST (RLB) PROCESSING                21-AUG-1978 21:28:00   VAX-11 MACRO X0.3-11               Page   8
003             SCAN0, AND SCAN                                                                                                  (4)

            6E       8021 8F     3C  00D0       		MOVZWL	#<RMS$_OK_RLK&^XFFFF>,(SP)
                                     00D5   288 SCANXIT:
            50            8E     D0  00D5   289 	MOVL	(SP)+,R0		; GET STATUS
                                     00D8   290 SCANRTN:
                                 05  00D8   291 	RSB				; AND RETURN
                                     00D9   292 ;
                                     00D9   293 ; NO MATCH FOUND
                                     00D9   294 ;
                                     00D9   295 NOTFOUND:
                                     00D9   296 	RMSERR	RNL			; SET STATUS AND RETURN
            50       81A0 8F     3C  00D9       		MOVZWL	#<RMS$_RNL&^XFFFF>,R0
                                 05  00DE   297 	RSB
                                     00DF   298 ;
                                     00DF   299 ;
                                     00DF   300 ; SCAN RLB LIST FOR OWNER MATCH
                                     00DF   301 ;
                                     00DF   302 SCAN_OWNER:
                                     00DF   303 	ASSUME	RLB$L_LNK EQ 0
            53            63     D0  00DF   304 	MOVL	(R3),R3			; GET NEXT RLB IN LIST
                          F5     13  00E2   305 	BEQL	NOTFOUND		; BRANCH IF AT END OF LIST
         04 A3         3C A9     D1  00E4   306 	CMPL	IRB$L_OWNER_ID(R9),RLB$L_OWNER(R3) ; COMPARE OWNERS
                          F4     12  00E9   307 	BNEQ	SCAN_OWNER		; LOOP BACK FOR NEXT RLB IF NO MATCH
                                     00EB   308 	RMSSUC	OK_ALK			; SET STATUS AND RETURN
            50       8039 8F     3C  00EB       		MOVZWL	#<RMS$_OK_ALK&^XFFFF>,R0
                                 05  00F0   309 	RSB
RM0RECLCK       RECORD LOCK LIST (RLB) PROCESSING                21-AUG-1978 21:28:00   VAX-11 MACRO X0.3-11               Page   9
003             RM$UNLOCK, RM$UNLOCK_ALT AND RM$UNLOCKALL                                                                        (5)

                                     00F1   311 	.SBTTL	RM$UNLOCK, RM$UNLOCK_ALT AND RM$UNLOCKALL
                                     00F1   312 
                                     00F1   313 ;++
                                     00F1   314 ; FUNCTIONAL DESCRIPTIONS:
                                     00F1   315 ;
                                     00F1   316 ;	DELETES ENTRIES IN THE RECORD LOCK LIST
                                     00F1   317 ;
                                     00F1   318 ; CALLING SEQUENCE:
                                     00F1   319 ;		BSBW	RM$UNLOCK
                                     00F1   320 ;		BSBW	RM$UNLOCK_ALT
                                     00F1   321 ;		BSBW	RM$UNLOCKALL
                                     00F1   322 ;
                                     00F1   323 ;
                                     00F1   324 ; INPUT PARAMETERS:
                                     00F1   325 ;
                                     00F1   326 ;	R11	IMPURE AREA ADDRESS
                                     00F1   327 ;	R10	IFAB (SHARED IFAB) ADDRESS
                                     00F1   328 ;	R9	IRAB ADDRESS *** PLEASE NOTE ALWAYS IRAB ***
                                     00F1   329 ;	R8	RAB/FAB ADDRESS
                                     00F1   330 ;	RM$UNLOCK CALL IRB$L_RLB_ADDR(R9) START POINT FOR SCAN
                                     00F1   331 ;
                                     00F1   332 ;	RFA <> 0 :	UNLOCK RECORD
                                     00F1   333 ;	R1	1'ST AND 2'ND WORD OF RECORD'S RFA
                                     00F1   334 ;	R2	3'RD WORD OF RECORD'S RFA ZEROED FILLED
                                     00F1   335 ;		SEQ F.O OFFSET (ALWAYS POSITIVE VALUE)
                                     00F1   336 ;		RELATIVE F.O. ALWAYS 0
                                     00F1   337 ;		INDEX F.O. LOW BYTE = ID REST ZERO FILLED
                                     00F1   338 ;
                                     00F1   339 ;	RM$UNLOCKALL ENTRY
                                     00F1   340 ;	R1,R2 DON'T CARE
                                     00F1   341 ;
                                     00F1   342 ; OUTPUT PARAMETERS:
                                     00F1   343 ;
                                     00F1   344 ;	R3 IS DESTORYED
                                     00F1   345 ;	IRB$L_RLB_ADDR(R9) IS ZEROED
                                     00F1   346 ;	R0	INTERNAL RMS STATUS CODE
                                     00F1   347 ;		RMS$_SUC&^XFFFF RECORD(S) UNLOCKED
                                     00F1   348 ;		RMS$_RNL&^XFFFF RECORD WAS NOT LOCKED
                                     00F1   349 ;				OR NO RECORD WAS LOCKED (UNLOCK ALL CALL)
                                     00F1   350 ;	RM$UNLOCKALL:
                                     00F1   351 ;	THE IRB$V_UNLOCK_RP  IRAB BOOKEEPING BIT IS CLEARED
                                     00F1   352 ;	R1 IS ZEROED
                                     00F1   353 ;
                                     00F1   354 ;
                                     00F1   355 ; SIDE EFFECTS:
                                     00F1   356 ;
                                     00F1   357 ;--
                                     00F1   358 
                                     00F1   359 RM$UNLOCK::
                                     00F1   360 ;
                                     00F1   361 ; **** WHEN SHARED FILES IS IMPLEMENTED MUST OBTAIN THE RLB RESOURCE ***
                                     00F1   362 ;
                          84     10  00F1   363 	BSBB	SCAN0			; SCAN RLB LIST STARTING AT
                                     00F3   364 					; IRB$L_RLB_ADDR(R9)
                          02     11  00F3   365 	BRB	UNLCHK			; CHECK STATUS OF SCAN
                                     00F5   366 RM$UNLOCK_ALT::
                                     00F5   367 ;
RM0RECLCK       RECORD LOCK LIST (RLB) PROCESSING                21-AUG-1978 21:28:00   VAX-11 MACRO X0.3-11               Page  10
003             RM$UNLOCK, RM$UNLOCK_ALT AND RM$UNLOCKALL                                                                        (5)

                                     00F5   368 ; **** WHEN SHARED FILES IS IMPLEMENTED MUST OBTAIN THE RLB RESOURCE ***
                                     00F5   369 ;
                                     00F5   370 UNLOCK:					; REF TAG
                          8F     10  00F5   371 	BSBB	SCAN			; SCAN FOR RECORD
                                     00F7   372 UNLCHK:
            50       8039 8F     B1  00F7   373 	CMPW	#<RMS$_OK_ALK&^XFFFF>,R0 ; DID WE FIND A LOCKED RECORD FOR STREAM
                          10     12  00FC   374 	BNEQ	NOTLOCK			; BRANCH IF NO
                       04 A3     D4  00FE   375 	CLRL	RLB$L_OWNER(R3)		; UNLOCK RECORD
                       0C A3     D4  0101   376 	CLRL	RLB$L_RFA0(R3)
                       0A A3     B4  0104   377 	CLRW	RLB$W_RFA4(R3)
                                     0107   378 UNLSUC:	RMSSUC				; SAY SUCCESS
            50            01     D0  0107       		MOVL	#1,R0
                       44 A9     D4  010A   379 UNLXIT:	CLRL	IRB$L_RLB_ADDR(R9)	; SHUT OFF RLB SCAN OPTIMIZATION
                                 05  010D   380 	RSB				; AND RETURN
                                     010E   381 ;
                                     010E   382 NOTLOCK:
                                     010E   383 	RMSERR	RNL			; SAY RECORD NOT LOCKED
            50       81A0 8F     3C  010E       		MOVZWL	#<RMS$_RNL&^XFFFF>,R0
                          F5     11  0113   384 	BRB	UNLXIT			; AND EXIT
                                     0115   385 ;
                                     0115   386 ; UNLOCK ALL RECORDS FOR THE CALLER
                                     0115   387 ;
                                     0115   388 RM$UNLOCKALL::
                                     0115   389 	CSB	#IRB$V_UNLOCK_RP,(R9)	; RP WILL BE UNLOCKED SO NOTE THAT
            69            2D     E5  0115       		BBCC	#IRB$V_UNLOCK_RP,(R9),30003$
                          00         0118       
                                     0119       30003$:
                                     0119   390 					; IT WAS DONE
                                     0119   391 ;
                                     0119   392 ; **** WHEN SHARED FILES IS IMPLEMENTED MUST OBTAIN THE RLB RESOURCE ***
                                     0119   393 ;
                          51     D4  0119   394 	CLRL	R1			; FLAG OWNER SCAN
                          D8     10  011B   395 	BSBB	UNLOCK			; UNLOCK FIRST RECORD
            EE            50     E9  011D   396 	BLBC	R0,NOTLOCK		; IF WE FAILED THEN EXIT
                          D3     10  0120   397 10$:	BSBB	UNLOCK			; UNLOCK NEXT RECORD
            FB            50     E8  0122   398 	BLBS	R0,10$			; LOOP BACK IF SUCCESS
                          E0     11  0125   399 	BRB	UNLSUC			; EXIT WITH SUCCESS
                                     0127   400 ;
                                     0127   401 	.END
RM0RECLCK       RECORD LOCK LIST (RLB) PROCESSING                21-AUG-1978 21:28:00   VAX-11 MACRO X0.3-11               Page  11
SYMBOL TABLE                                                                                                                     (5)

$$.PSECT_EP    = 00000000            IFB$L_IOS4       00000010            IFB$W_BKS_BYTES  0000005C            
$$RMSTEST      = 0000001A            IFB$L_IRAB_LNK   0000001C            IFB$W_BKS_RECS   0000005E            
$$RMS_PBUGCHK  = 00000010            IFB$L_LAST_FAB   00000024            IFB$W_CHNL       00000020            
$$RMS_TBUGCHK  = 00000008            IFB$L_LOCK_BDB   00000050            IFB$W_DEQ        0000004E            
$$RMS_UMODE    = 00000004            IFB$L_MRN        00000054            IFB$W_DEVBUFSIZ  00000038            
BIT...         = 0001C134            IFB$L_NRP_LNK    00000050            IFB$W_EBK0       00000044            
COMPARE          00000093 R     02   IFB$L_NWA_PTR    00000028            IFB$W_EBK2       00000046            
EXIT             00000065 R     02   IFB$L_PRIM_DEV   00000000            IFB$W_FFB        00000048            
EXIT1            00000069 R     02   IFB$L_RLB_LNK    0000002C            IFB$W_IOS2       0000000E            
FOUND            000000B9 R     02   IFB$L_RNS_LEN    00000050            IFB$W_LRL        0000003E            
GBL...         = 00000000            IFB$M_BIO      = 00000020            IFB$W_MRS        0000004C            
IFB$B_AMAX       00000059            IFB$M_BRO      = 00000040            IFB$W_RTDEQ      0000003A            
IFB$B_AVBN       00000058            IFB$M_DEL      = 00000004            IRB$B_BCNT       00000040            
IFB$B_BID        00000008            IFB$M_EXE      = 00000080            IRB$B_BID        00000008            
IFB$B_BKS        0000004A            IFB$M_GET      = 00000002            IRB$B_BLN        00000009            
IFB$B_BLN        00000009            IFB$M_PUT      = 00000001            IRB$B_EFN        0000000B            
IFB$B_EFN        0000000B            IFB$M_TRN      = 00000010            IRB$B_KEYSZ      00000051            
IFB$B_EXTRABUF   0000005D            IFB$M_UPD      = 00000008            IRB$B_MBC        00000041            
IFB$B_FAC        00000022            IFB$S_ORG      = 00000004            IRB$B_MODE       0000000A            
IFB$B_FSZ        0000004B            IFB$S_RFM      = 00000004            IRB$B_NRP_ID     00000030            
IFB$B_KBUFSZ     0000005C            IFB$V_ACCESSED = 00000025            IRB$B_NRP_KREF   00000031            
IFB$B_MODE       0000000A            IFB$V_ANSI_D   = 00000026            IRB$B_NVBNS      00000048            
IFB$B_NUM_KEYS   0000005A            IFB$V_ASYNC    = 00000023            IRB$B_POST_CCTL  00000045            
IFB$B_ORGCASE    00000023            IFB$V_ASYNCWAIT= 00000024            IRB$B_PPF_ISI    0000003E            
IFB$B_RAT        0000003D            IFB$V_BIO      = 00000005            IRB$B_PRE_CCTL   00000044            
IFB$B_RFMORG     0000003C            IFB$V_BRO      = 00000006            IRB$B_RFA_ID     00000058            
IFB$B_UBUFSZ     0000005B            IFB$V_BUSY     = 00000020            IRB$B_RP_ID      00000038            
IFB$C_BID      = 0000000B            IFB$V_CREATE   = 00000032            IRB$B_RP_KREF    00000039            
IFB$C_BLN        00000060            IFB$V_DAP      = 0000003E            IRB$B_RRV_ID     00000050            
IFB$C_BLN_IDX    00000060            IFB$V_DAP_OPEN = 0000003D            IRB$B_SRCHFLAGS  00000043            
IFB$C_BLN_REL    00000060            IFB$V_DEL      = 00000002            IRB$B_STOPLEVEL  00000042            
IFB$C_BLN_SEQ    0000005C            IFB$V_DFW      = 0000002C            IRB$C_BID      = 0000000A            
IFB$C_DIR      = 00000003            IFB$V_DLT      = 0000002B            IRB$C_BLN_IDX    0000006C            
IFB$C_FHAEND     00000050            IFB$V_DMO      = 00000028            IRB$C_BLN_REL    00000048            
IFB$C_IDX      = 00000002            IFB$V_EOF      = 00000021            IRB$C_BLN_SEQ    0000004C            
IFB$C_MAXORG   = 00000002            IFB$V_EXE      = 00000007            IRB$K_BLN_IDX    0000006C            
IFB$C_REL      = 00000001            IFB$V_GET      = 00000001            IRB$K_BLN_REL    00000048            
IFB$C_SEQ      = 00000000            IFB$V_MSE      = 00000031            IRB$K_BLN_SEQ    0000004C            
IFB$K_BLN        00000060            IFB$V_NORECLK  = 00000033            IRB$L_ARGLST     00000018            
IFB$K_BLN_IDX    00000060            IFB$V_NSP      = 0000003F            IRB$L_ASBADDR    00000014            
IFB$K_BLN_REL    00000060            IFB$V_NWA      = 0000003C            IRB$L_BKPBITS    00000004            
IFB$K_BLN_SEQ    0000005C            IFB$V_ORG      = 00000004            IRB$L_BWB        0000000C            
IFB$K_FHAEND     00000050            IFB$V_PPF_IMAGE= 00000022            IRB$L_CURBDB     00000020            
IFB$L_ARGLST     00000018            IFB$V_PPF_INPUT= 0000002E            IRB$L_CURVBN     00000030            
IFB$L_ASBADDR    00000014            IFB$V_PUT      = 00000000            IRB$L_IFAB_LNK   00000000            
IFB$L_AS_DEV     00000054            IFB$V_RFM      = 00000000            IRB$L_IOS        0000000C            
IFB$L_BDB_BLNK   00000034            IFB$V_RWC      = 00000027            IRB$L_IOS4       00000010            
IFB$L_BDB_FLNK   00000030            IFB$V_RW_ATTR  = 00000034            IRB$L_IRAB_LNK   0000001C            
IFB$L_BKPBITS    00000004            IFB$V_SCF      = 0000002A            IRB$L_KEYBUF     00000048            
IFB$L_BWB        0000000C            IFB$V_SPL      = 00000029            IRB$L_LAST_RAB   00000024            
IFB$L_DVBN       00000058            IFB$V_SQO      = 0000002D            IRB$L_LOCK_BDB   0000005C            
IFB$L_EBK        00000044            IFB$V_TEF      = 00000036            IRB$L_NRP        0000002C            
IFB$L_FRB_PTR    00000028            IFB$V_TMP      = 00000035            IRB$L_NRP_OFF    00000030            
IFB$L_FWA_BDB    00000050            IFB$V_TRN      = 00000004            IRB$L_NRP_VBN    0000002C            
IFB$L_HBK        00000040            IFB$V_UPD      = 00000003            IRB$L_NXTBDB     00000028            
IFB$L_IDX_PTR    00000054            IFB$V_WRTACC   = 00000030            IRB$L_OWNER_ID   0000003C            
IFB$L_IOS        0000000C            IFB$W_ASDEVBSIZ  0000005A            IRB$L_RFA_VBN    00000054            
RM0RECLCK       RECORD LOCK LIST (RLB) PROCESSING                21-AUG-1978 21:28:00   VAX-11 MACRO X0.3-11               Page  12
SYMBOL TABLE                                                                                                                     (5)

IRB$L_RLB_ADDR   00000044            RAB$C_BID      = 00000001            RAB$V_KGT      = 00000016            
IRB$L_RP         00000034            RAB$C_BLN        00000044            RAB$V_LIM      = 0000000E            
IRB$L_RP_OFF     00000038            RAB$C_KEY      = 00000001            RAB$V_LOA      = 0000000D            
IRB$L_RP_VBN     00000034            RAB$C_RFA      = 00000002            RAB$V_LOC      = 00000010            
IRB$L_RRV_VBN    0000004C            RAB$C_SEQ      = 00000000            RAB$V_MAS      = 00000005            
IRB$L_TEMP0      00000044            RAB$K_BLN        00000044            RAB$V_NLK      = 00000014            
IRB$L_TEMP1      00000048            RAB$L_BKT        00000038            RAB$V_NXR      = 00000017            
IRB$V_ASYNC    = 00000023            RAB$L_CTX        00000018            RAB$V_PMT      = 0000001E            
IRB$V_ASYNCWAIT= 00000024            RAB$L_DCT        00000038            RAB$V_PPF_IND  = 0000000E            
IRB$V_BIO_LAST = 00000027            RAB$L_FAB        0000003C            RAB$V_PPF_RAT  = 00000006            
IRB$V_BRO_SW   = 00000028            RAB$L_KBF        00000030            RAB$V_PTA      = 0000001D            
IRB$V_BUSY     = 00000020            RAB$L_PBF        00000030            RAB$V_RAH      = 00000009            
IRB$V_DAP_CONN = 0000003E            RAB$L_RBF        00000028            RAB$V_RLK      = 00000013            
IRB$V_DAP_FMODE= 0000003F            RAB$L_RFA0       00000010            RAB$V_RNE      = 00000018            
IRB$V_DUP      = 0000002C            RAB$L_RHB        0000002C            RAB$V_RNF      = 0000001B            
IRB$V_EOF      = 00000021            RAB$L_ROP        00000004            RAB$V_TMO      = 00000019            
IRB$V_FIND     = 00000029            RAB$L_STS        00000008            RAB$V_TPT      = 00000001            
IRB$V_FIND_LAST= 00000025            RAB$L_STV        0000000C            RAB$V_UIF      = 00000004            
IRB$V_IDX_ERR  = 00000031            RAB$L_UBF        00000024            RAB$V_ULK      = 00000012            
IRB$V_LOCKABOVE= 00000002            RAB$M_ASY      = 00000001            RAB$V_WAT      = 00000011            
IRB$V_NEW_IDX  = 00000003            RAB$M_BIO      = 00000800            RAB$V_WBH      = 0000000A            
IRB$V_POSINSERT= 00000000            RAB$M_CCO      = 80000000            RAB$W_ISI        00000002            
IRB$V_PPF_EOF  = 0000002E            RAB$M_CVT      = 04000000            RAB$W_RFA        00000010            
IRB$V_PPF_FNDSV= 00000030            RAB$M_EOF      = 00000100            RAB$W_RFA4       00000014            
IRB$V_PPF_IMAGE= 00000022            RAB$M_FDL      = 00000040            RAB$W_RSZ        00000022            
IRB$V_PPF_SKIP = 0000002F            RAB$M_HSH      = 00000080            RAB$W_USZ        00000020            
IRB$V_PUTS_LAST= 00000026            RAB$M_KGE      = 00200000            RLB$B_BID        00000008            
IRB$V_RAHWBH   = 0000002A            RAB$M_KGT      = 00400000            RLB$B_BLN        00000009            
IRB$V_SKIP_NEXT= 0000002B            RAB$M_LIM      = 00004000            RLB$B_ID         0000000A            
IRB$V_SRCHGT   = 00000001            RAB$M_LOA      = 00002000            RLB$C_BID      = 0000000E            
IRB$V_UNLOCK_RP= 0000002D            RAB$M_LOC      = 00010000            RLB$C_BLN        00000010            
IRB$V_WRITE    = 00000029            RAB$M_MAS      = 00000020            RLB$K_BLN        00000010            
IRB$W_CSIZ       00000042            RAB$M_NLK      = 00100000            RLB$L_LNK        00000000            
IRB$W_DUP_POS    00000032            RAB$M_NXR      = 00800000            RLB$L_OWNER      00000004            
IRB$W_IOS2       0000000E            RAB$M_PMT      = 40000000            RLB$L_RFA0       0000000C            
IRB$W_NRP_OFF    00000030            RAB$M_PPF_IND  = 00004000            RLB$M_ALLOWREAD= 00008000            
IRB$W_OWN_ID     0000003C            RAB$M_PPF_RAT  = 00003FC0            RLB$V_ALLOWREAD= 0000000F            
IRB$W_OWN_ISI    0000003E            RAB$M_PTA      = 20000000            RLB$W_ISI        00000006            
IRB$W_ROVHDSZ    00000044            RAB$M_RAH      = 00000200            RLB$W_PID        00000004            
IRB$W_RP_OFF     00000038            RAB$M_RLK      = 00080000            RLB$W_RFA4       0000000A            
IRB$W_RTOTLSZ    00000046            RAB$M_RNE      = 01000000            RM$GETBLK        ********   X   02   
IRB$W_SAVE_POS   00000052            RAB$M_RNF      = 08000000            RM$LOCK          00000000 RG    02   
LOCK             00000000 R     02   RAB$M_TMO      = 02000000            RM$QUERY_LCK     0000006A RG    02   
NOTFOUND         000000D9 R     02   RAB$M_TPT      = 00000002            RM$UNLOCK        000000F1 RG    02   
NOTLOCK          0000010E R     02   RAB$M_UIF      = 00000010            RM$UNLOCKALL     00000115 RG    02   
RAB$B_BID        00000000            RAB$M_ULK      = 00040000            RM$UNLOCK_ALT    000000F5 RG    02   
RAB$B_BLN        00000001            RAB$M_WAT      = 00020000            RMS$V_STVSTATUS= 0000000E            
RAB$B_KRF        00000035            RAB$M_WBH      = 00000400            RMS$_ABO       = 000183EC            
RAB$B_KSZ        00000034            RAB$S_PPF_RAT  = 00000008            RMS$_ACC       = 0001C002            
RAB$B_MBC        00000037            RAB$V_ASY      = 00000000            RMS$_ACT       = 0001825A            
RAB$B_MBF        00000036            RAB$V_BIO      = 0000000B            RMS$_AID       = 000183F4            
RAB$B_PSZ        00000034            RAB$V_CCO      = 0000001F            RMS$_ALN       = 000183FC            
RAB$B_RAC        0000001E            RAB$V_CVT      = 0000001A            RMS$_ALQ       = 00018404            
RAB$B_ROP1       00000005            RAB$V_EOF      = 00000008            RMS$_ANI       = 0001840C            
RAB$B_ROP2       00000006            RAB$V_FDL      = 00000006            RMS$_AOP       = 00018414            
RAB$B_ROP3       00000007            RAB$V_HSH      = 00000007            RMS$_ATR       = 0001C0CC            
RAB$B_TMO        0000001F            RAB$V_KGE      = 00000015            RMS$_ATW       = 0001C0D4            
RM0RECLCK       RECORD LOCK LIST (RLB) PROCESSING                21-AUG-1978 21:28:00   VAX-11 MACRO X0.3-11               Page  13
SYMBOL TABLE                                                                                                                     (5)

RMS$_BKS       = 0001841C            RMS$_FNF       = 00018292            RMS$_RBF       = 00018654            
RMS$_BKZ       = 00018424            RMS$_FNM       = 0001852C            RMS$_RER       = 0001C0F4            
RMS$_BLN       = 0001842C            RMS$_FOP       = 0001853C            RMS$_REX       = 000182A2            
RMS$_BOF       = 00018198            RMS$_FSZ       = 00018534            RMS$_RFA       = 0001865C            
RMS$_BUG       = 00018434            RMS$_FUL       = 00018544            RMS$_RFM       = 00018664            
RMS$_BUG_DAP   = 00018444            RMS$_IAL       = 0001854C            RMS$_RHB       = 0001866C            
RMS$_BUG_DDI   = 0001843C            RMS$_IAN       = 00018554            RMS$_RLF       = 00018674            
RMS$_BUG_XX2   = 0001844C            RMS$_IBF       = 00018754            RMS$_RLK       = 000182AA            
RMS$_BUG_XX3   = 00018454            RMS$_IDX       = 0001855C            RMS$_RMV       = 0001C0FC            
RMS$_BUG_XX4   = 0001845C            RMS$_IFA       = 0001C124            RMS$_RNF       = 000182B2            
RMS$_BUG_XX5   = 00018464            RMS$_IFI       = 00018564            RMS$_RNL       = 000181A0            
RMS$_BUG_XX6   = 0001846C            RMS$_IMX       = 0001856C            RMS$_ROP       = 0001867C            
RMS$_BUG_XX7   = 00018474            RMS$_IOP       = 00018574            RMS$_RPL       = 0001C104            
RMS$_BUG_XX8   = 0001847C            RMS$_IRC       = 0001857C            RMS$_RRV       = 00018684            
RMS$_BUG_XX9   = 00018484            RMS$_ISI       = 00018584            RMS$_RSA       = 000182DA            
RMS$_CAA       = 0001848C            RMS$_KBF       = 0001858C            RMS$_RSL       = 0001873C            
RMS$_CCF       = 0001C0DC            RMS$_KEY       = 00018594            RMS$_RSS       = 00018694            
RMS$_CCR       = 00018494            RMS$_KFF       = 00018031            RMS$_RST       = 0001869C            
RMS$_CDA       = 0001C0E4            RMS$_KRF       = 0001859C            RMS$_RSZ       = 000186A4            
RMS$_CHG       = 0001849C            RMS$_KSZ       = 000185A4            RMS$_RTB       = 000181A8            
RMS$_CHK       = 000184A4            RMS$_LAN       = 000185AC            RMS$_SEQ       = 000186AC            
RMS$_CHN       = 0001C0EC            RMS$_LBL       = 000185B4            RMS$_SHR       = 000186B4            
RMS$_COD       = 000184AC            RMS$_LNE       = 000185BC            RMS$_SIZ       = 000186BC            
RMS$_CONTROLC  = 00010651            RMS$_LOC       = 000185C4            RMS$_SPL       = 0001C042            
RMS$_CONTROLO  = 00010609            RMS$_MBC       = 00018734            RMS$_SQO       = 000186C4            
RMS$_CONTROLY  = 00010611            RMS$_MKD       = 0001C032            RMS$_STALL     = 00018001            
RMS$_CRE       = 0001C00A            RMS$_MRN       = 000185CC            RMS$_STK       = 000186CC            
RMS$_CREATED   = 00010619            RMS$_MRS       = 000185D4            RMS$_SUC       = 00010001            
RMS$_CUR       = 000184B4            RMS$_NAM       = 000185DC            RMS$_SUP       = 000182D2            
RMS$_DAC       = 0001C012            RMS$_NEF       = 000185E4            RMS$_SUPERSEDE = 00010631            
RMS$_DAN       = 000184BC            RMS$_NET       = 0001874C            RMS$_SYN       = 000186D4            
RMS$_DEL       = 00018262            RMS$_NID       = 000185EC            RMS$_SYS       = 0001C10C            
RMS$_DEV       = 000184C4            RMS$_NMF       = 000182CA            RMS$_TEMP1     = 0001826A            
RMS$_DIR       = 000184CC            RMS$_NOD       = 000185F4            RMS$_TEMP2     = 0001868C            
RMS$_DME       = 000184D4            RMS$_NORMAL    = 00010001            RMS$_TMO       = 000181B0            
RMS$_DNA       = 000184DC            RMS$_NPK       = 000185FC            RMS$_TRE       = 000186DC            
RMS$_DNF       = 0001C04A            RMS$_OK_ALK    = 00018039            RMS$_TYP       = 000186E4            
RMS$_DNR       = 00018272            RMS$_OK_DEL    = 00018041            RMS$_UBF       = 000186EC            
RMS$_DPE       = 0001C03A            RMS$_OK_DUP    = 00018011            RMS$_USZ       = 000186F4            
RMS$_DTP       = 000184E4            RMS$_OK_IDX    = 00018019            RMS$_VER       = 000186FC            
RMS$_DUP       = 000184EC            RMS$_OK_LIM    = 00018051            RMS$_VOL       = 00018704            
RMS$_DVI       = 000184F4            RMS$_OK_RLK    = 00018021            RMS$_WBE       = 0001C12C            
RMS$_ENT       = 0001C01A            RMS$_OK_RNF    = 00018049            RMS$_WER       = 0001C114            
RMS$_ENV       = 00018724            RMS$_OK_RRV    = 00018029            RMS$_WLD       = 00018744            
RMS$_EOF       = 0001827A            RMS$_ORD       = 00018604            RMS$_WLK       = 000182BA            
RMS$_ESA       = 000184FC            RMS$_ORG       = 0001860C            RMS$_WPL       = 0001C11C            
RMS$_ESL       = 00018714            RMS$_PBF       = 00018614            RMS$_WSF       = 0001871C            
RMS$_ESS       = 00018504            RMS$_PENDING   = 00018009            RMS$_XAB       = 0001870C            
RMS$_EXP       = 000182C2            RMS$_PLG       = 0001861C            ROP            = 00000020            
RMS$_EXT       = 0001C022            RMS$_PLV       = 0001872C            SCAN             00000086 R     02   
RMS$_FAB       = 0001850C            RMS$_POS       = 00018624            SCAN0            00000077 R     02   
RMS$_FAC       = 00018514            RMS$_PRM       = 0001862C            SCANIDX          000000B3 R     02   
RMS$_FEX       = 00018282            RMS$_PRV       = 0001829A            SCANLOOP         0000008E R     02   
RMS$_FLG       = 0001851C            RMS$_QUO       = 00018634            SCANRTN          000000D8 R     02   
RMS$_FLK       = 0001828A            RMS$_RAB       = 0001863C            SCANSEQ          000000A4 R     02   
RMS$_FNA       = 00018524            RMS$_RAC       = 00018644            SCANXIT          000000D5 R     02   
RMS$_FND       = 0001C02A            RMS$_RAT       = 0001864C            SCAN_OWNER       000000DF R     02   
RM0RECLCK       RECORD LOCK LIST (RLB) PROCESSING                21-AUG-1978 21:28:00   VAX-11 MACRO X0.3-11               Page  14
SYMBOL TABLE                                                                                                                     (5)

SUCXIT           00000062 R     02   
UNLCHK           000000F7 R     02   
UNLOCK           000000F5 R     02   
UNLSUC           00000107 R     02   
UNLXIT           0000010A R     02   


PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
$RMS23           00000127      02     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD  NOWRT BYTE  
$ABS$            0000006C      03     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
12200. BYTES LEFT IN FREE MEMORY POOL.
2610. BYTES OF RECLAIMED MEMORY.
OBJ$:RM0RECLCK,LIS$:RM0RECLCK/-SP=EXECML$/ML,LIB$:R/ML,SRC$:RM0RECLCK
28 MLB DIR RDS - 917 GETS TO DEFINE 21 MACROS. 63 INTER. FILE WRITES. 

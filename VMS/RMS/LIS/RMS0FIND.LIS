RMS0FIND        DISPATCH FOR FIND OPERATION                      21-AUG-1978 22:03:07   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (1)      41  DECLARATIONS
   (1)      62  RMS$FIND  -  COMMON $FIND SETUP AND DISPATCH RO
RMS0FIND        DISPATCH FOR FIND OPERATION                      21-AUG-1978 22:03:07   VAX-11 MACRO X0.3-11               Page   1
004                                                                                                                              (1)

                                     0000     1 
                                     0000     2 
                                     0000     3 	$BEGIN	RMS0FIND,004,$RMS0,<DISPATCH FOR FIND OPERATION>
                                     0000     4 ; COPYRIGHT (C) 1977
                                     0000     5 ; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS 01754
                                     0000     6 ;
                                     0000     7 ; THIS SOFTWARE IS FURNISHED  UNDER A LICENSE FOR USE ONLY ON A SINGLE
                                     0000     8 ; COMPUTER  SYSTEM AND  MAY BE  COPIED ONLY WITH  THE INCLUSION OF THE
                                     0000     9 ; ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE, OR ANY OTHER COPIES THEREOF,
                                     0000    10 ; MAY NOT BE PROVIDED OR  OTHERWISE MADE AVAILABLE TO ANY OTHER PERSON
                                     0000    11 ; EXCEPT FOR USE ON SUCH SYSTEM AND TO ONE WHO AGREES TO THESE LICENSE
                                     0000    12 ; TERMS.  TITLE TO AND  OWNERSHIP OF THE  SOFTWARE  SHALL AT ALL TIMES
                                     0000    13 ; REMAIN IN DEC.
                                     0000    14 ;
                                     0000    15 ; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE WITHOUT NOTICE
                                     0000    16 ; AND SHOULD  NOT BE CONSTRUED  AS A COMMITMENT  BY DIGITAL  EQUIPMENT
                                     0000    17 ; CORPORATION.
                                     0000    18 ;
                                     0000    19 ; DEC ASSUMES  NO  RESPONSIBILITY  FOR  THE USE OR  RELIABILITY OF ITS
                                     0000    20 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
                                     0000    21 ;
                                     0000    22 ;++
                                     0000    23 ; FACILITY: RMS32
                                     0000    24 ;
                                     0000    25 ; ABSTRACT:
                                     0000    26 ;		THIS ROUTINE IS THE HIGHEST LEVEL CONTROL 
                                     0000    27 ;		ROUTINE TO PERFORM THE $FIND FUNCTION.
                                     0000    28 
                                     0000    29 ;
                                     0000    30 ; ENVIRONMENT:
                                     0000    31 ;		STAR PROCESSOR RUNNING STARLET EXEC.
                                     0000    32 ;
                                     0000    33 ; AUTHOR: L F LAVERDURE,	 CREATION DATE: 3-FEB-77
                                     0000    34 ;
                                     0000    35 ; MODIFIED BY:
                                     0000    36 ;
                                     0000    37 ;	L F LAVERDURE,   10-OCT-77  18:17
                                     0000    38 ; 01	- 
                                     0000    39 ;--
RMS0FIND        DISPATCH FOR FIND OPERATION                      21-AUG-1978 22:03:07   VAX-11 MACRO X0.3-11               Page   2
004             DECLARATIONS                                                                                                     (1)

                                     0000    41 	.SBTTL	DECLARATIONS
                                     0000    42 ;
                                     0000    43 ; INCLUDE FILES:
                                     0000    44 ;
                                     0000    45 
                                     0000    46 ;
                                     0000    47 ; MACROS:
                                     0000    48 ;
                                     0000    49 	$IFBDEF
                                     0000    50 	$IRBDEF
                                     0000    51 	$DPSECT
                                     0000    52 	.LIST MEB
                                     0000    53 ;
                                     0000    54 ; EQUATED SYMBOLS:
                                     0000    55 ;
                                     0000    56 
                                     0000    57 ;
                                     0000    58 ; OWN STORAGE:
                                     0000    59 ;
                                     0000    60 
RMS0FIND        DISPATCH FOR FIND OPERATION                      21-AUG-1978 22:03:07   VAX-11 MACRO X0.3-11               Page   3
004             RMS$FIND  -  COMMON $FIND SETUP AND DISPATCH RO                                                                  (1)

                                     0000    62 	.SBTTL	RMS$FIND  -  COMMON $FIND SETUP AND DISPATCH ROUTINE
                                     0000    63 ;++
                                     0000    64 ; FUNCTIONAL DESCRIPTION:
                                     0000    65 ;
                                     0000    66 ; THIS ROUTINE PERFORMS COMMON RAB FUNCTION SETUP FOLLOWED
                                     0000    67 ; BY DISPATCH TO ORGANIZATION-DEPENDENT $FIND CODE
                                     0000    68 ;
                                     0000    69 ; CALLING SEQUENCE:
                                     0000    70 ;
                                     0000    71 ;	ENTERED FROM EXEC AS A RESULT OF USER'S CALLING SYS$FIND
                                     0000    72 ;	(E.G., BY USING THE $FIND MACRO)
                                     0000    73 ;
                                     0000    74 ; INPUT PARAMETERS:
                                     0000    75 ;
                                     0000    76 ;	AP	USER'S ARGUMENT LIST ADDR
                                     0000    77 ;
                                     0000    78 ; IMPLICIT INPUTS:
                                     0000    79 ;
                                     0000    80 ;	THE CONTENTS OF THE RAB AND RELATED IRAB AND IFAB.
                                     0000    81 ;
                                     0000    82 ; OUTPUT PARAMETERS:
                                     0000    83 ;
                                     0000    84 ;	R1	DESTROYED
                                     0000    85 ;	R0	STATUS CODE
                                     0000    86 ;
                                     0000    87 ; IMPLICIT OUTPUTS:
                                     0000    88 ;
                                     0000    89 ;	VARIOUS FIELDS OF THE RAB ARE FILLED IN TO REFLECT
                                     0000    90 ;	THE STATUS OF THE $FIND OPERATION. (SEE RMS FUNCTIONAL
                                     0000    91 ; 	SPEC FOR A COMPLETE LIST.)
                                     0000    92 ;
                                     0000    93 ;	THE IRAB IS SIMILARLY UPDATED.
                                     0000    94 ;
                                     0000    95 ;	A COMPLETION AST IS QUEUED IF SPECIFIED IN THE USER ARGLIST.
                                     0000    96 ;
                                     0000    97 ; COMPLETION CODES:
                                     0000    98 ;
                                     0000    99 ;	STANDARD RMS (SEE FUNCTIONAL SPEC FOR LIST).
                                     0000   100 ;
                                     0000   101 ; SIDE EFFECTS:
                                     0000   102 ;
                                     0000   103 ;	NONE
                                     0000   104 ;
                                     0000   105 ;--
                                     0000   106 	$ENTRY	RMS$FIND
                                 00000000       	.PSECT	$RMS0,GBL,NOWRT
                                     0000   107 	$TSTPT	FIND
                 00000200'9F     D6  0000       		INCL	@#PIO$GL_FMLH+512+TPT$L_FIND
                                     0006   108 	$RABSET	FAC=IFB$V_GET	;DO COMMON SETUP
                          FFF7'  30  0006       		BSBW	RM$RSET
                                 01  0009       		.BYTE	<0 @ 5>!<0 @ 4>!<0 @ 3>!IFB$V_GET
                                     000A   109 				; RETURNS TO USER ON ERROR
                                     000A   110 	SSB	#IRB$V_FIND,(R9)	; FLAG THIS AS A FIND
            69            29     E2  000A       		BBSS	#IRB$V_FIND,(R9),30000$
                          00         000D       
                                     000E       30000$:
                                     000E   111 ;
RMS0FIND        DISPATCH FOR FIND OPERATION                      21-AUG-1978 22:03:07   VAX-11 MACRO X0.3-11               Page   4
004             RMS$FIND  -  COMMON $FIND SETUP AND DISPATCH RO                                                                  (1)

                                     000E   112 ; DISPATCH TO ORG-DEPENDENT CODE
                                     000E   113 ;
                                     000E   114 	CASE	TYPE=B, SRC=IFB$B_ORGCASE(R10),-
                                     000E   115 		DISPLIST=<RM$FIND1,RM$FIND2,RM$FIND3>	; SEQ,REL,IDX ROUTINES
            00         23 AA     8F  000E       	CASEB	IFB$B_ORGCASE(R10),#0,S^#<<30002$-30001$>/2>-1
                          02'        0012       
                                     0013       30001$:
                               FFED' 0013       	.WORD	RM$FIND1-30001$
                               FFED' 0015       	.WORD	RM$FIND2-30001$
                               FFED' 0017       	.WORD	RM$FIND3-30001$
                                     0019       30002$:
                           00000008  0019   116 	.IF NE $$RMSTEST&$$RMS_TBUGCHK
                          FFE4'  31  0019   117 	BRW	RM$ERRORG
                                     001C   118 	.ENDC
                                     001C   119 	.END
RMS0FIND        DISPATCH FOR FIND OPERATION                      21-AUG-1978 22:03:07   VAX-11 MACRO X0.3-11               Page   5
SYMBOL TABLE                                                                                                                     (1)

$$.PSECT_EP    = 00000000            IFB$L_MRN        00000054            IFB$W_DEVBUFSIZ  00000038            
$$RMSTEST      = 0000001A            IFB$L_NRP_LNK    00000050            IFB$W_EBK0       00000044            
$$RMS_PBUGCHK  = 00000010            IFB$L_NWA_PTR    00000028            IFB$W_EBK2       00000046            
$$RMS_TBUGCHK  = 00000008            IFB$L_PRIM_DEV   00000000            IFB$W_FFB        00000048            
$$RMS_UMODE    = 00000004            IFB$L_RLB_LNK    0000002C            IFB$W_IOS2       0000000E            
BIT...         = 00000004            IFB$L_RNS_LEN    00000050            IFB$W_LRL        0000003E            
GBL...         = 00000000            IFB$M_BIO      = 00000020            IFB$W_MRS        0000004C            
IFB$B_AMAX       00000059            IFB$M_BRO      = 00000040            IFB$W_RTDEQ      0000003A            
IFB$B_AVBN       00000058            IFB$M_DEL      = 00000004            IRB$B_BCNT       00000040            
IFB$B_BID        00000008            IFB$M_EXE      = 00000080            IRB$B_BID        00000008            
IFB$B_BKS        0000004A            IFB$M_GET      = 00000002            IRB$B_BLN        00000009            
IFB$B_BLN        00000009            IFB$M_PUT      = 00000001            IRB$B_EFN        0000000B            
IFB$B_EFN        0000000B            IFB$M_TRN      = 00000010            IRB$B_KEYSZ      00000051            
IFB$B_EXTRABUF   0000005D            IFB$M_UPD      = 00000008            IRB$B_MBC        00000041            
IFB$B_FAC        00000022            IFB$S_ORG      = 00000004            IRB$B_MODE       0000000A            
IFB$B_FSZ        0000004B            IFB$S_RFM      = 00000004            IRB$B_NRP_ID     00000030            
IFB$B_KBUFSZ     0000005C            IFB$V_ACCESSED = 00000025            IRB$B_NRP_KREF   00000031            
IFB$B_MODE       0000000A            IFB$V_ANSI_D   = 00000026            IRB$B_NVBNS      00000048            
IFB$B_NUM_KEYS   0000005A            IFB$V_ASYNC    = 00000023            IRB$B_POST_CCTL  00000045            
IFB$B_ORGCASE    00000023            IFB$V_ASYNCWAIT= 00000024            IRB$B_PPF_ISI    0000003E            
IFB$B_RAT        0000003D            IFB$V_BIO      = 00000005            IRB$B_PRE_CCTL   00000044            
IFB$B_RFMORG     0000003C            IFB$V_BRO      = 00000006            IRB$B_RFA_ID     00000058            
IFB$B_UBUFSZ     0000005B            IFB$V_BUSY     = 00000020            IRB$B_RP_ID      00000038            
IFB$C_BID      = 0000000B            IFB$V_CREATE   = 00000032            IRB$B_RP_KREF    00000039            
IFB$C_BLN        00000060            IFB$V_DAP      = 0000003E            IRB$B_RRV_ID     00000050            
IFB$C_BLN_IDX    00000060            IFB$V_DAP_OPEN = 0000003D            IRB$B_SRCHFLAGS  00000043            
IFB$C_BLN_REL    00000060            IFB$V_DEL      = 00000002            IRB$B_STOPLEVEL  00000042            
IFB$C_BLN_SEQ    0000005C            IFB$V_DFW      = 0000002C            IRB$C_BID      = 0000000A            
IFB$C_DIR      = 00000003            IFB$V_DLT      = 0000002B            IRB$C_BLN_IDX    0000006C            
IFB$C_FHAEND     00000050            IFB$V_DMO      = 00000028            IRB$C_BLN_REL    00000048            
IFB$C_IDX      = 00000002            IFB$V_EOF      = 00000021            IRB$C_BLN_SEQ    0000004C            
IFB$C_MAXORG   = 00000002            IFB$V_EXE      = 00000007            IRB$K_BLN_IDX    0000006C            
IFB$C_REL      = 00000001            IFB$V_GET      = 00000001            IRB$K_BLN_REL    00000048            
IFB$C_SEQ      = 00000000            IFB$V_MSE      = 00000031            IRB$K_BLN_SEQ    0000004C            
IFB$K_BLN        00000060            IFB$V_NORECLK  = 00000033            IRB$L_ARGLST     00000018            
IFB$K_BLN_IDX    00000060            IFB$V_NSP      = 0000003F            IRB$L_ASBADDR    00000014            
IFB$K_BLN_REL    00000060            IFB$V_NWA      = 0000003C            IRB$L_BKPBITS    00000004            
IFB$K_BLN_SEQ    0000005C            IFB$V_ORG      = 00000004            IRB$L_BWB        0000000C            
IFB$K_FHAEND     00000050            IFB$V_PPF_IMAGE= 00000022            IRB$L_CURBDB     00000020            
IFB$L_ARGLST     00000018            IFB$V_PPF_INPUT= 0000002E            IRB$L_CURVBN     00000030            
IFB$L_ASBADDR    00000014            IFB$V_PUT      = 00000000            IRB$L_IFAB_LNK   00000000            
IFB$L_AS_DEV     00000054            IFB$V_RFM      = 00000000            IRB$L_IOS        0000000C            
IFB$L_BDB_BLNK   00000034            IFB$V_RWC      = 00000027            IRB$L_IOS4       00000010            
IFB$L_BDB_FLNK   00000030            IFB$V_RW_ATTR  = 00000034            IRB$L_IRAB_LNK   0000001C            
IFB$L_BKPBITS    00000004            IFB$V_SCF      = 0000002A            IRB$L_KEYBUF     00000048            
IFB$L_BWB        0000000C            IFB$V_SPL      = 00000029            IRB$L_LAST_RAB   00000024            
IFB$L_DVBN       00000058            IFB$V_SQO      = 0000002D            IRB$L_LOCK_BDB   0000005C            
IFB$L_EBK        00000044            IFB$V_TEF      = 00000036            IRB$L_NRP        0000002C            
IFB$L_FRB_PTR    00000028            IFB$V_TMP      = 00000035            IRB$L_NRP_OFF    00000030            
IFB$L_FWA_BDB    00000050            IFB$V_TRN      = 00000004            IRB$L_NRP_VBN    0000002C            
IFB$L_HBK        00000040            IFB$V_UPD      = 00000003            IRB$L_NXTBDB     00000028            
IFB$L_IDX_PTR    00000054            IFB$V_WRTACC   = 00000030            IRB$L_OWNER_ID   0000003C            
IFB$L_IOS        0000000C            IFB$W_ASDEVBSIZ  0000005A            IRB$L_RFA_VBN    00000054            
IFB$L_IOS4       00000010            IFB$W_BKS_BYTES  0000005C            IRB$L_RLB_ADDR   00000044            
IFB$L_IRAB_LNK   0000001C            IFB$W_BKS_RECS   0000005E            IRB$L_RP         00000034            
IFB$L_LAST_FAB   00000024            IFB$W_CHNL       00000020            IRB$L_RP_OFF     00000038            
IFB$L_LOCK_BDB   00000050            IFB$W_DEQ        0000004E            IRB$L_RP_VBN     00000034            
RMS0FIND        DISPATCH FOR FIND OPERATION                      21-AUG-1978 22:03:07   VAX-11 MACRO X0.3-11               Page   6
SYMBOL TABLE                                                                                                                     (1)

IRB$L_RRV_VBN    0000004C            
IRB$L_TEMP0      00000044            
IRB$L_TEMP1      00000048            
IRB$V_ASYNC    = 00000023            
IRB$V_ASYNCWAIT= 00000024            
IRB$V_BIO_LAST = 00000027            
IRB$V_BRO_SW   = 00000028            
IRB$V_BUSY     = 00000020            
IRB$V_DAP_CONN = 0000003E            
IRB$V_DAP_FMODE= 0000003F            
IRB$V_DUP      = 0000002C            
IRB$V_EOF      = 00000021            
IRB$V_FIND     = 00000029            
IRB$V_FIND_LAST= 00000025            
IRB$V_IDX_ERR  = 00000031            
IRB$V_LOCKABOVE= 00000002            
IRB$V_NEW_IDX  = 00000003            
IRB$V_POSINSERT= 00000000            
IRB$V_PPF_EOF  = 0000002E            
IRB$V_PPF_FNDSV= 00000030            
IRB$V_PPF_IMAGE= 00000022            
IRB$V_PPF_SKIP = 0000002F            
IRB$V_PUTS_LAST= 00000026            
IRB$V_RAHWBH   = 0000002A            
IRB$V_SKIP_NEXT= 0000002B            
IRB$V_SRCHGT   = 00000001            
IRB$V_UNLOCK_RP= 0000002D            
IRB$V_WRITE    = 00000029            
IRB$W_CSIZ       00000042            
IRB$W_DUP_POS    00000032            
IRB$W_IOS2       0000000E            
IRB$W_NRP_OFF    00000030            
IRB$W_OWN_ID     0000003C            
IRB$W_OWN_ISI    0000003E            
IRB$W_ROVHDSZ    00000044            
IRB$W_RP_OFF     00000038            
IRB$W_RTOTLSZ    00000046            
IRB$W_SAVE_POS   00000052            
PIO$GL_FMLH      ********   X   02   
RM$ERRORG        ********   X   02   
RM$FIND1         ********   X   02   
RM$FIND2         ********   X   02   
RM$FIND3         ********   X   02   
RM$RSET          ********   X   02   
RMS$FIND       = FFFFFFFE RG    02   
TPT$L_FIND       ********   X   02   


PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
$RMS0            0000001C      02     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD  NOWRT BYTE  
$ABS$            0000006C      03     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
RMS0FIND        DISPATCH FOR FIND OPERATION                      21-AUG-1978 22:03:07   VAX-11 MACRO X0.3-11               Page   7
PROGRAM SECTION SYNOPSIS                                                                                                         (1)

17834. BYTES LEFT IN FREE MEMORY POOL.
3420. BYTES OF RECLAIMED MEMORY.
OBJ$:RMS0FIND,LIS$:RMS0FIND/-SP=EXECML$/ML,LIB$:R/ML,SRC$:RMS0FIND
18 MLB DIR RDS - 474 GETS TO DEFINE 15 MACROS. 26 INTER. FILE WRITES. 

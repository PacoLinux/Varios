RM0EXTRMS       CLEANUP AND RETURN ROUTINE                       21-AUG-1978 21:20:23   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (1)      43  DECLARATIONS
   (1)      71  RM$EXTRMS  -  EXIT RMS ROUTINE
RM0EXTRMS       CLEANUP AND RETURN ROUTINE                       21-AUG-1978 21:20:23   VAX-11 MACRO X0.3-11               Page   1
011                                                                                                                              (1)

                                     0000     1 	$BEGIN RM0EXTRMS,011,$RMS0,<CLEANUP AND RETURN ROUTINE>,<NOWRT,QUAD>
                                     0000     2 
                                     0000     3 
                                     0000     4 ;
                                     0000     5 ; COPYRIGHT (C) 1977
                                     0000     6 ; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS 01754
                                     0000     7 ;
                                     0000     8 ; THIS SOFTWARE IS FURNISHED  UNDER A LICENSE FOR USE ONLY ON A SINGLE
                                     0000     9 ; COMPUTER  SYSTEM AND  MAY BE  COPIED ONLY WITH  THE INCLUSION OF THE
                                     0000    10 ; ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE, OR ANY OTHER COPIES THEREOF,
                                     0000    11 ; MAY NOT BE PROVIDED OR  OTHERWISE MADE AVAILABLE TO ANY OTHER PERSON
                                     0000    12 ; EXCEPT FOR USE ON SUCH SYSTEM AND TO ONE WHO AGREES TO THESE LICENSE
                                     0000    13 ; TERMS.  TITLE TO AND  OWNERSHIP OF THE  SOFTWARE  SHALL AT ALL TIMES
                                     0000    14 ; REMAIN IN DEC.
                                     0000    15 ;
                                     0000    16 ; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE WITHOUT NOTICE
                                     0000    17 ; AND SHOULD  NOT BE CONSTRUED  AS A COMMITMENT  BY DIGITAL  EQUIPMENT
                                     0000    18 ; CORPORATION.
                                     0000    19 ;
                                     0000    20 ; DEC ASSUMES  NO  RESPONSIBILITY  FOR  THE USE OR  RELIABILITY OF ITS
                                     0000    21 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
                                     0000    22 
                                     0000    23 ;++
                                     0000    24 ; FACILITY: RMS32
                                     0000    25 ;
                                     0000    26 ; ABSTRACT:
                                     0000    27 ;		THIS ROUTINE PERFORMS FINAL CLEANUP AND SETS
                                     0000    28 ;		STATUS CODES APPROPRIATELY, GENERATES USER-LEVEL
                                     0000    29 ;		ASTS AS REQUIRED, AND EXITS RMS RETURNING TO
                                     0000    30 ;		THE USER VIA THE EXEC.
                                     0000    31 ;
                                     0000    32 ; ENVIRONMENT:
                                     0000    33 ;		STAR PROCESSOR RUNNING STARLET EXEC.
                                     0000    34 ;
                                     0000    35 ; AUTHOR: L F LAVERDURE,	 CREATION DATE: 5-JAN-77
                                     0000    36 ;
                                     0000    37 ; MODIFIED BY:
                                     0000    38 ;
                                     0000    39 ;	L F LAVERDURE,   11-MAY-78  15:50
                                     0000    40 ; 01	- 
                                     0000    41 ;--
RM0EXTRMS       CLEANUP AND RETURN ROUTINE                       21-AUG-1978 21:20:23   VAX-11 MACRO X0.3-11               Page   2
011             DECLARATIONS                                                                                                     (1)

                                     0000    43 	.SBTTL	DECLARATIONS
                                     0000    44 ;
                                     0000    45 ; INCLUDE FILES:
                                     0000    46 ;
                                     0000    47 
                                     0000    48 ;
                                     0000    49 ; MACROS:
                                     0000    50 ;
                                     0000    51 	$IFBDEF
                                     0000    52 	$ASBDEF
                                     0000    53 	$IRBDEF
                                     0000    54 	$RABDEF
                                     0000    55 	$FABDEF
                                     0000    56 	$IMPDEF
                                     0000    57 	$PIODEF
                                     0000    58 	$PSLDEF
                                     0000    59 	$RMSDEF
                                     0000    60 	.LIST MEB
                                     0000    61 
                                     0000    62 ;
                                     0000    63 ; EQUATED SYMBOLS:
                                     0000    64 ;
                                     0000    65 
                                     0000    66 ;
                                     0000    67 ; OWN STORAGE:
                                     0000    68 ;
                                     0000    69 
RM0EXTRMS       CLEANUP AND RETURN ROUTINE                       21-AUG-1978 21:20:23   VAX-11 MACRO X0.3-11               Page   3
011             RM$EXTRMS  -  EXIT RMS ROUTINE                                                                                   (1)

                                     0000    71 	.SBTTL RM$EXTRMS  -  EXIT RMS ROUTINE
                                     0000    72 ;++
                                     0000    73 ; FUNCTIONAL DESCRIPTION:
                                     0000    74 ;
                                     0000    75 ;  THIS ROUTINE CLEANS UP RMS STRUCTURES AND RETURNS
                                     0000    76 ;  TO THE USER VIA THE EXEC. THERE ARE THREE ENTRY POINTS AS FOLLOWS:
                                     0000    77 ;
                                     0000    78 ;	1. RM$EXSUC	EXIT WITH SUCCESS
                                     0000    79 ;	2. RM$EXRMS	EXIT WITH STATUS CODE IN R0
                                     0000    80 ;	3. RM$EX_NOSTR	EXIT WITH STATUS CODE IN R0
                                     0000    81 ;			BUT WITHOUT A VALID IFAB OR IRAB
                                     0000    82 ;			(IN THIS CASE AP MUST POINT TO USER'S ARGUMENT
                                     0000    83 ;			 LIST AND R7 MUST CONTAIN USER'S MODE)
                                     0000    84 ;
                                     0000    85 ;  THE FOLLOWING FUNCTIONS ARE PERFORMED:
                                     0000    86 ;
                                     0000    87 ;	1. CLEAR BUSY AND RESTORE THE ARGUMENT LIST POINTER
                                     0000    88 ;	2. PREFIX THE RMS32 FACILITY CODE TO THE STATUS
                                     0000    89 ;	   CODE (16 BITS) IN R0 AND STORE IN STS
                                     0000    90 ;	3. GENERATE A USER LEVEL COMPLETION AST IF APPROPRIATE
                                     0000    91 ;	4. RE-ENABLE RMS INTERNAL ASTS
                                     0000    92 ;	5. RETURN TO THE USER VIA THE EXEC (RET)
                                     0000    93 ;
                                     0000    94 ; CALLING SEQUENCE:
                                     0000    95 ;
                                     0000    96 ;	ENTERED VIA JUMP TO THE APPROPRIATE ENTRY POINT
                                     0000    97 ;
                                     0000    98 ; INPUT PARAMETERS:
                                     0000    99 ;
                                     0000   100 ;	R0	STATUS CODE (UNLESS ENTRY AT RM$EXSUC)
                                     0000   101 ;		NOTE: STV MUST BE SET ALREADY.
                                     0000   102 ;	R8	USER STRUCTURE ADDR (FAB OR RAB)
                                     0000   103 ;	R9	INTERNAL STRUCTURE ADDR (IFAB OR IRAB)
                                     0000   104 ;		(NOT AN INPUT FOR ENTRY AT RM$EX_NOSTR)
                                     0000   105 ;	R7	CALLER'S MODE (ONLY IF ENTRY AT RM$EX_NOSTR)
                                     0000   106 ;	R11	IMPURE AREA ADDR
                                     0000   107 ;	AP	ARGLIST ADDR (ONLY IF ENTRY AT RM$EX_NOSTR)
                                     0000   108 ;
                                     0000   109 ; IMPLICIT INPUTS:
                                     0000   110 ;
                                     0000   111 ;	NONE
                                     0000   112 ;
                                     0000   113 ; OUTPUT PARAMETERS:
                                     0000   114 ;
                                     0000   115 ;	R0	FULL 32-BIT RMS STATUS CODE
                                     0000   116 ;
                                     0000   117 ; IMPLICIT OUTPUTS:
                                     0000   118 ;
                                     0000   119 ;	THE BUSY BIT FOR THE INTERNAL STRUCTURE IS CLEARED,
                                     0000   120 ;	STS IS SET TO THE STATUS CODE.
                                     0000   121 ;
                                     0000   122 ; COMPLETION CODES:
                                     0000   123 ;
                                     0000   124 ;	STANDARD RMS
                                     0000   125 ;
                                     0000   126 ; SIDE EFFECTS:
                                     0000   127 ;
RM0EXTRMS       CLEANUP AND RETURN ROUTINE                       21-AUG-1978 21:20:23   VAX-11 MACRO X0.3-11               Page   4
011             RM$EXTRMS  -  EXIT RMS ROUTINE                                                                                   (1)

                                     0000   128 ;	INTERNAL RMS ASTS ARE RE-ENABLED.
                                     0000   129 ;
                                     0000   130 ;--
                                     0000   131 
                                     0000   132 ;++
                                     0000   133 ;
                                     0000   134 ;  ALTHOUGH THE FOLLOWING OFFSETS IN THE CODE
                                     0000   135 ;  REFER TO THE FAB OR IFAB, THE CODE WORKS EQUALLY WELL
                                     0000   136 ;  FOR THE RAB AND IRAB AS THE DEFINITIONS ARE EQUIVALENT
                                     0000   137 ;
                                     0000   138 ;--
                                     0000   139 	ASSUME	IFB$V_BUSY EQ IRB$V_BUSY
                                     0000   140 	ASSUME	IFB$L_ARGLST EQ IRB$L_ARGLST
                                     0000   141 	ASSUME	IFB$B_MODE EQ IRB$B_MODE
                                     0000   142 	ASSUME	FAB$L_STS EQ RAB$L_STS
                                     0000   143 	ASSUME	FAB$L_STV EQ RAB$L_STV
                                     0000   144 
                                     0000   145 	$QUAD_ALIGN	.+7			;ALIGN RM$EXRMS ENTRY POINT
                                 01  0000       		NOP
                                     0001   146 						;FOR GOOD PERFORMANCE
RM0EXTRMS       CLEANUP AND RETURN ROUTINE                       21-AUG-1978 21:20:23   VAX-11 MACRO X0.3-11               Page   5
011             RM$EXTRMS  -  EXIT RMS ROUTINE                                                                                   (1)

                                     0001   148 ;++
                                     0001   149 ;
                                     0001   150 ;  ENTRY POINT IF EXITING WITHOUT R9 POINTING TO A VALID INTERNAL STRUCTURE
                                     0001   151 ;	(AP=ARGLIST ADDR, R7=CALLER'S MODE)
                                     0001   152 ;--
                                     0001   153 RM$EX_NOSTR::
                          59     D4  0001   154 	CLRL	R9				;MAKE SURE R9 IS 0
                          0B     11  0003   155 	BRB	SETSTS				;GO SET STS INTO FAB/RAB
                                     0005   156 ;++
                                     0005   157 ;
                                     0005   158 ;  ENTRY POINT TO RETURN A STATUS CODE OF SUCCESS
                                     0005   159 ;
                                     0005   160 ;--
                                     0005   161 RM$EXSUC::
                                     0005   162 	RMSSUC
            50            01     D0  0005       		MOVL	#1,R0
                                     0008   163 ;++
                                     0008   164 ;
                                     0008   165 ;  ENTRY POINT TO CLEAN UP THE INTERNAL STRUCTURE
                                     0008   166 ;  BY CLEARING BUSY AND RESTORING THE USER'S AP
                                     0008   167 ;
                                     0008   168 ;--
                                     0008   169 RM$EXRMS::
            5C         18 A9     D0  0008   170 	MOVL	IFB$L_ARGLST(R9),AP		;RESTORE USER AP
                                     000C   171 	CSB	#IFB$V_BUSY,(R9)		;CLEAR THE BUSY FLAG
            69            20     E5  000C       		BBCC	#IFB$V_BUSY,(R9),30000$
                          00         000F       
                                     0010       30000$:
                                     0010   172 ;++
                                     0010   173 ;
                                     0010   174 ;  ADD THE FACILITY CODE TO THE 16-BIT ERROR CODE AND STORE IN STS
                                     0010   175 ;
                                     0010   176 ;--
                                     0010   177 SETSTS:	SSB	#16,R0				;ADD RMS FACILITY CODE
            50            10     E2  0010       		BBSS	#16,R0,30001$
                          00         0013       
                                     0014       30001$:
         08 A8            50     D0  0014   178 	MOVL	R0,FAB$L_STS(R8)		;AND STORE IN FAB/RAB
                                     0018   179 ;++
                                     0018   180 ;
                                     0018   181 ;  IF AT AST LEVEL, GO CHECK FOR SETTING RMS ASYNC I/O EVENT FLAG
                                     0018   182 ;  AND RETURN OF IFAB ASB
                                     0018   183 ;  (NOT NECESSARY OTHERWISE SINCE NO STALL HAS OCCURRED)
                                     0018   184 ;
                                     0018   185 ;--
                                     0018   186 	ASSUME IMP$W_RMSSTATUS EQ 0
            6B            01     E4  0018   187 	BBSC	#IMP$V_AST,(R11),SETEFN		;CLEAR AT AST LEVEL, BRANCH IF THERE
                          6A         001B       
            01            6C     91  001C   188 	CMPB	(AP),#1				;COMPLETION ROUTINE SPECED?
                          17     1A  001F   189 	BGTRU	CHKAST				;BRANCH IF YES
                                     0021   190 ;++
                                     0021   191 ;
                                     0021   192 ;  RE-ENABLE ASTS BY CLEARING THE AST INHIBIT BIT
                                     0021   193 ;  AND IF BIT ALREADY CLEAR PERFORM AN ENABLE ASTS DIRECTIVE
                                     0021   194 ;
                                     0021   195 ;--
   00000000'9F            00     E5  0021   196 ENBAST:	BBCC	#PIO$V_INHAST,@#PIO$GW_STATUS,20$	;BRANCH IF AST CLEARED
RM0EXTRMS       CLEANUP AND RETURN ROUTINE                       21-AUG-1978 21:20:23   VAX-11 MACRO X0.3-11               Page   6
011             RM$EXTRMS  -  EXIT RMS ROUTINE                                                                                   (1)

                          01         0028       
                                 04  0029   197 	RET					;EXIT RMS
RM0EXTRMS       CLEANUP AND RETURN ROUTINE                       21-AUG-1978 21:20:23   VAX-11 MACRO X0.3-11               Page   7
011             RM$EXTRMS  -  EXIT RMS ROUTINE                                                                                   (1)

                                     002A   199 ;++
                                     002A   200 ;
                                     002A   201 ;  MUST RE-ENABLE ASTS
                                     002A   202 ;
                                     002A   203 ;--
                                     002A   204 20$:	$SETAST_S	#1
                          01     DD  002A       		PUSHL	#1
   00000000'GF            01     FB  002C       		CALLS	#1,G^SYS$SETAST
            50         08 A8     D0  0033   205 	MOVL	FAB$L_STS(R8),R0		;RESTORE STATUS CODE
                                 04  0037   206 	RET					;EXIT RMS
                                     0038   207 ;++
                                     0038   208 ;
                                     0038   209 ;  USER ARGUMENT COUNT WAS GREATER THAN 1.  THEREFORE MUST CHECK TO SEE
                                     0038   210 ;  WHETHER OR NOT WE MUST GENERATE AN AST FOR AN ERROR OR SUCCESS COMPLETION
                                     0038   211 ;  ROUTINE.
                                     0038   212 ;
                                     0038   213 ;--
            05            50     E9  0038   214 CHKAST:	BLBC	R0,10$				;BRANCH ON FAILURE
            03            6C     91  003B   215 	CMPB	(AP),#3				;IS THERE A SUCCESS ROUTINE?
                          E1     1F  003E   216 	BLSSU	ENBAST				;BRANCH IF NOT
                          02     10  0040   217 10$:	BSBB	CHECK_AST			;GENERATE AST IF NEEDED
                          DD     11  0042   218 	BRB	ENBAST				;AND CONTINUE
RM0EXTRMS       CLEANUP AND RETURN ROUTINE                       21-AUG-1978 21:20:23   VAX-11 MACRO X0.3-11               Page   8
011             RM$EXTRMS  -  EXIT RMS ROUTINE                                                                                   (1)

                                     0044   220 ;++
                                     0044   221 ;
                                     0044   222 ;  ROUTINE TO GENERATE A USER-LEVEL COMLETION AST IF APPROPRIATE ROUTINE INCLUDED
                                     0044   223 ;
                                     0044   224 ;  REVALIDATE THE USER'S ARGUMENT LIST AND CHECK FOR COMPLETION ROUTINES
                                     0044   225 ;
                                     0044   226 ;--
                                     0044   227 CHECK_AST:
                          59     D5  0044   228 	TSTL	R9				;IS THIS A STRUCTURELESS ENTRY?
                          04     13  0046   229 	BEQL	1$				;BRANCH IF YES
            57         0A A9     9A  0048   230 	MOVZBL	IFB$B_MODE(R9),R7		;GET MODE
                                     004C   231 1$:	IFNORD	#12,(AP),10$,R7			;BRANCH IF NO ACCESS TO ARG LIST
            0C            57     0C  004C       		PROBER	R7,#12,(AP)
                          6C         004F       
                          30     13  0050       		BEQL	10$
            02            6C     91  0052   232 	CMPB	(AP),#2				;COMPLETION ROUTINE SPECED?
                          2B     1F  0055   233 	BLSSU	10$				;BRANCH IF NONE
            06            50     E8  0057   234 	BLBS	R0,2$				;BRANCH IF SUCCESSFUL RETURN
            51         08 BC     DE  005A   235 	MOVAL	@8(AP),R1			;GET ERROR COMPLETION ROUTINE ADDR
                          0C     11  005E   236 	BRB	5$
                                     0060   237 ;
                                     0060   238 ;  CHECK FOR SUCCESSFUL COMPLETION ROUTINE PRESENT
                                     0060   239 ;
                          20     13  0060   240 2$:	BEQL	10$				;BRANCH IF JUST 2 PARAMS
                                     0062   241 						;(IMPLIES NO SUCCESS ROUTINE)
                                     0062   242 	IFNORD	#16,(AP),10$,R7			;BRANCH IF NOT READABLE
            10            57     0C  0062       		PROBER	R7,#16,(AP)
                          6C         0065       
                          1A     13  0066       		BEQL	10$
            51         0C BC     DE  0068   243 	MOVAL	@12(AP),R1			;GET ROUTINE ADDR
                                     006C   244 ;
                                     006C   245 ;  AND GENERATE A USER LEVEL AST
                                     006C   246 ;
                          14     13  006C   247 5$:	BEQL	10$				;BRANCH IF NO ROUTINE
                                     006E   248 	$DCLAST_S	ASTADR=(R1),ASTPRM=R8,ACMODE=R7
                          57     DD  006E       		PUSHL	R7
                          58     DD  0070       		PUSHL	R8
                          61     DF  0072       		PUSHAL	(R1)
   00000000'GF            03     FB  0074       		CALLS	#3,G^SYS$DCLAST
            05            50     E9  007B   249 	BLBC	R0,20$				;BRANCH ON ERROR
            50         08 A8     D0  007E   250 	MOVL	FAB$L_STS(R8),R0		;RESTORE STATUS CODE
                                 05  0082   251 10$:	RSB					;RETURN
RM0EXTRMS       CLEANUP AND RETURN ROUTINE                       21-AUG-1978 21:20:23   VAX-11 MACRO X0.3-11               Page   9
011             RM$EXTRMS  -  EXIT RMS ROUTINE                                                                                   (1)

                                     0083   253 ;++
                                     0083   254 ;
                                     0083   255 ;  WE RECEIVED A NO MEMORY FOR AST ERROR.  ALTER PRIMARY ERROR CODE TO RMS$_CDA,
                                     0083   256 ;  SETTING STV TO THE PREVIOUS CONTENTS OF STS.
                                     0083   257 ;
                                     0083   258 ;--
                                     0083   259 20$:	$PSECT_BR	L$RMS0
                          FF7A'  31  0083       		BRW	L$RMS00
                                     0086       		.SAVE
                                 00000000       		.PSECT	L$RMS0,GBL,NOWRT
                                     0000       L$RMS00:
         0C A8         08 A8     D0  0000   260 	MOVL	FAB$L_STS(R8),FAB$L_STV(R8)
            50   0001C0E4 8F     D0  0005   261 	MOVL	#RMS$_CDA,R0
         08 A8            50     D0  000C   262 	MOVL	R0,FAB$L_STS(R8)
                                 05  0010   263 	RSB
                                     0011   264 	$PSECT_RESTORE
                                 00000086       		.RESTORE
RM0EXTRMS       CLEANUP AND RETURN ROUTINE                       21-AUG-1978 21:20:23   VAX-11 MACRO X0.3-11               Page  10
011             RM$EXTRMS  -  EXIT RMS ROUTINE                                                                                   (1)

                                     0086   266 ;++
                                     0086   267 ;
                                     0086   268 ;  AT AST LEVEL, THEREFORE THIS OPERATION MUST HAVE STALLED BEFORE COMPLETING.
                                     0086   269 ;  MUST:
                                     0086   270 ;	1. GENERATE USER AST IF INDICATED
                                     0086   271 ;	2. CHECK FOR DEALLOCATION OF SYNC EVENT FLAG OR SETTING OF ASYNC EVENT FLAG
                                     0086   272 ;	3. CHECK FOR DEALLOCATION OF IFAB ASB
                                     0086   273 ;
                                     0086   274 ;--
                                     0086   275 	ASSUME	<IFB$C_BID&1> EQ 1
                                     0086   276 	ASSUME	<IRB$C_BID&1> EQ 0
                                     0086   277 	ASSUME	IFB$B_BID EQ IRB$B_BID
                                     0086   278 	ASSUME	IRB$V_ASYNC EQ IFB$V_ASYNC
                                     0086   279 
                          BC     10  0086   280 SETEFN:	BSBB	CHECK_AST			;GENERATE COMPLETION AST IF NEEDED
                          59     D5  0088   281 	TSTL	R9				;ZERO IFAB/IRAB ADDR?
                          2F     13  008A   282 	BEQL	SETIOR				;BRANCH IF YES
                                     008C   283 						;(NOTE: THIS INDICATES THAT WE
                                     008C   284 						; HAVE JUST DEALLOCATED THE IFAB
                                     008C   285 						; OR IRAB IN $CLOSE OR $DISCONNECT)
                                     008C   286 						; (ASSUMES ASYNC EFN MUST BE SET)
            69            23     E0  008C   287 	BBS	#IRB$V_ASYNC,(R9),ASYNCEFN	;BRANCH IF ASYNC I/O
                          27         008F       
                                     0090   288 ;++
                                     0090   289 ;
                                     0090   290 ;  DEALLOCATE THE SYNCHRONOUS EVENT FLAG
                                     0090   291 ;
                                     0090   292 ;--
                                     0090   293 	ASSUME IFB$B_EFN EQ IRB$B_EFN
         0B A9            1B     82  0090   294 	SUBB2	#IMP$C_SYNCEFN,IRB$B_EFN(R9)	;WAS IT NORMAL EFN?
                          10     12  0094   295 	BNEQ	TRYEFN2				;BRANCH IF NOT
   00000000'9F            04     8A  0096   296 	BICB2	#1@PIO$V_SYNC1,@#PIO$GW_STATUS	;DEALLOCATE THE EFN
                                     009D   297 ;++
                                     009D   298 ;
                                     009D   299 ;  CHECK FOR IFAB AND BRANCH IF SO TO DEALLOCATE THE ASB
                                     009D   300 ;
                                     009D   301 ;--
            24         08 A9     E8  009D   302 CHKIFB:	BLBS	IRB$B_BID(R9),RETASB		;BRANCH IF IFAB
                                     00A1   303 						;(HAS ALWAYS STALLED IF IN AST)
            6B            04     E0  00A1   304 RETURN:	BBS	#IMP$V_IORUNDOWN,(R11),SETIOR	;BRANCH IF I/O RUNDOWN IN PROGRESS
                          16         00A4       
                                 04  00A5   305 	RET					;EXIT RMS
RM0EXTRMS       CLEANUP AND RETURN ROUTINE                       21-AUG-1978 21:20:23   VAX-11 MACRO X0.3-11               Page  11
011             RM$EXTRMS  -  EXIT RMS ROUTINE                                                                                   (1)

                                     00A6   307 ;++
                                     00A6   308 ;
                                     00A6   309 ;  SYNCHRONOUS OPERATION BUT NOT 1ST SYNC. EVENT FLAG.
                                     00A6   310 ;  CHECK FOR DEALLOCATION OF ALTERNATE SYNCHRONOUS EVENT FLAG
                                     00A6   311 ;
                                     00A6   312 ;--
                       0B A9     97  00A6   313 TRYEFN2: DECB	IRB$B_EFN(R9)			;WAS IT SYNC EFN 2?
                          07     12  00A9   314 	BNEQ	10$				;BRANCH IF NOT (MUST BE SYNC EFN 3)
   00000000'9F            08     8A  00AB   315 	BICB2	#1@PIO$V_SYNC2,@#PIO$GW_STATUS	;YES - DEALLOCATE EFN
                       0B A9     94  00B2   316 10$:	CLRB	IRB$B_EFN(R9)			;SHOW NO EFN ALLLOCATED
                          E6     11  00B5   317 	BRB	CHKIFB
                                     00B7   318 ;++
                                     00B7   319 ;
                                     00B7   320 ;  CHECK FOR SETTING OF 'WAIT FOR ASYNC I/O' EVENT FLAG
                                     00B7   321 ;
                                     00B7   322 ;--
                                     00B7   323 ASYNCEFN:
            69            24     E5  00B7   324 	BBCC	#IRB$V_ASYNCWAIT,(R9),RETURN	;BRANCH IF NO WAIT ISSUED
                          E6         00BA       
                                     00BB   325 SETIOR:
                                     00BB   326 	ASSUME	IMP$C_IOREFN EQ IMP$C_ASYEFN
                                     00BB   327 	$SETEF_S	#IMP$C_ASYEFN		;KICK OFF THE STALLED WAIT
                          1E     DD  00BB       		PUSHL	#IMP$C_ASYEFN
   00000000'GF            01     FB  00BD       		CALLS	#1,G^SYS$SETEF
                                 04  00C4   328 	RET					;EXIT RMS
                                     00C5   329 ;++
                                     00C5   330 ;
                                     00C5   331 ;  RETURN THE IFAB'S ASB AS OPERATION IS NOW COMPLETE
                                     00C5   332 ;
                                     00C5   333 ;--
            54         14 A9     D0  00C5   334 RETASB:	MOVL	IFB$L_ASBADDR(R9),R4		;GET ASB ADDR
            53            5B     D0  00C9   335 	MOVL	R11,R3				;FREE SPACE HEADER AT START OF THIS PAGE
            52         70 8F     9A  00CC   336 	MOVZBL	#ASB$C_BLN_FAB,R2		;GET ASB LENGTH
                          FF2D'  30  00D0   337 	BSBW	RM$RETSPC			;FREE IT UP
                       14 A9     D4  00D3   338 	CLRL	IFB$L_ASBADDR(R9)		;SHOW NO ASB
                          C9     11  00D6   339 	BRB	RETURN
                                     00D8   340 
                                     00D8   341 
                                     00D8   342 	.END
RM0EXTRMS       CLEANUP AND RETURN ROUTINE                       21-AUG-1978 21:20:23   VAX-11 MACRO X0.3-11               Page  12
SYMBOL TABLE                                                                                                                     (1)

$$.PSECT_EP    = 00000001            FAB$L_JNL        00000020            FAB$M_WCK      = 00000200            
$$RMSTEST      = 0000001A            FAB$L_MRN        00000038            FAB$S_ORG      = 00000004            
$$RMS_PBUGCHK  = 00000010            FAB$L_NAM        00000028            FAB$S_PPF_RAT  = 00000008            
$$RMS_TBUGCHK  = 00000008            FAB$L_SDC        00000044            FAB$V_BIO      = 00000005            
$$RMS_UMODE    = 00000004            FAB$L_STS        00000008            FAB$V_BLK      = 00000003            
ASB$B_ARGCNT     00000000            FAB$L_STV        0000000C            FAB$V_BRO      = 00000006            
ASB$B_BLN        00000001            FAB$L_XAB        00000024            FAB$V_CBT      = 00000015            
ASB$B_STKSIZ     00000002            FAB$M_BIO      = 00000020            FAB$V_CIF      = 00000019            
ASB$C_BLN_FAB    00000070            FAB$M_BLK      = 00000008            FAB$V_CR       = 00000001            
ASB$C_BLN_IDX    000000AC            FAB$M_BRO      = 00000040            FAB$V_CTG      = 00000014            
ASB$C_BLN_REL    00000084            FAB$M_CBT      = 00200000            FAB$V_DEL      = 00000002            
ASB$C_BLN_SEQ    00000080            FAB$M_CIF      = 02000000            FAB$V_DFW      = 00000005            
ASB$K_BLN_FAB    00000070            FAB$M_CR       = 00000002            FAB$V_DLT      = 0000000F            
ASB$K_BLN_IDX    000000AC            FAB$M_CTG      = 00100000            FAB$V_DMO      = 0000000C            
ASB$K_BLN_REL    00000084            FAB$M_DEL      = 00000004            FAB$V_ESC      = 0000001B            
ASB$K_BLN_SEQ    00000080            FAB$M_DFW      = 00000020            FAB$V_EXE      = 00000007            
ASB$L_ERR        00000008            FAB$M_DLT      = 00008000            FAB$V_FTN      = 00000000            
ASB$L_FABRAB     00000004            FAB$M_DMO      = 00001000            FAB$V_GET      = 00000001            
ASB$L_REGS       00000010            FAB$M_ESC      = 08000000            FAB$V_INP      = 00000013            
ASB$L_SUC        0000000C            FAB$M_EXE      = 00000080            FAB$V_JNL      = 00000016            
ASYNCEFN         000000B7 R     02   FAB$M_FTN      = 00000001            FAB$V_KFO      = 0000001E            
BIT...         = 0001C134            FAB$M_GET      = 00000002            FAB$V_MSE      = 00000004            
CHECK_AST        00000044 R     02   FAB$M_INP      = 00080000            FAB$V_MXV      = 00000001            
CHKAST           00000038 R     02   FAB$M_JNL      = 00400000            FAB$V_NAM      = 00000018            
CHKIFB           0000009D R     02   FAB$M_KFO      = 40000000            FAB$V_NEF      = 0000000A            
ENBAST           00000021 R     02   FAB$M_MSE      = 00000010            FAB$V_NFS      = 00000010            
FAB$B_BID        00000000            FAB$M_MXV      = 00000002            FAB$V_NIL      = 00000005            
FAB$B_BKS        0000003E            FAB$M_NAM      = 01000000            FAB$V_OFP      = 0000001D            
FAB$B_BLN        00000001            FAB$M_NEF      = 00000400            FAB$V_ORG      = 00000004            
FAB$B_DNS        00000035            FAB$M_NFS      = 00010000            FAB$V_POS      = 00000008            
FAB$B_FAC        00000016            FAB$M_NIL      = 00000020            FAB$V_PPF      = 00000012            
FAB$B_FNS        00000034            FAB$M_OFP      = 20000000            FAB$V_PPF_IND  = 0000000E            
FAB$B_FSZ        0000003F            FAB$M_POS      = 00000100            FAB$V_PPF_RAT  = 00000006            
FAB$B_ORG        0000001D            FAB$M_PPF      = 00040000            FAB$V_PRN      = 00000002            
FAB$B_RAT        0000001E            FAB$M_PPF_IND  = 00004000            FAB$V_PUT      = 00000000            
FAB$B_RFM        0000001F            FAB$M_PPF_RAT  = 00003FC0            FAB$V_RCK      = 00000017            
FAB$B_RTV        0000001C            FAB$M_PRN      = 00000004            FAB$V_RWC      = 0000000B            
FAB$B_SHR        00000017            FAB$M_PUT      = 00000001            FAB$V_RWO      = 00000007            
FAB$C_BID      = 00000003            FAB$M_RCK      = 00800000            FAB$V_SCF      = 0000000E            
FAB$C_BLN        00000050            FAB$M_RWC      = 00000800            FAB$V_SHRDEL   = 00000002            
FAB$C_FIX      = 00000001            FAB$M_RWO      = 00000080            FAB$V_SHRGET   = 00000001            
FAB$C_HSH      = 00000030            FAB$M_SCF      = 00004000            FAB$V_SHRPUT   = 00000000            
FAB$C_IDX      = 00000020            FAB$M_SHRDEL   = 00000004            FAB$V_SHRUPD   = 00000003            
FAB$C_MAXRFM   = 00000003            FAB$M_SHRGET   = 00000002            FAB$V_SPL      = 0000000D            
FAB$C_REL      = 00000010            FAB$M_SHRPUT   = 00000001            FAB$V_SQO      = 00000006            
FAB$C_RFM_DFLT = 00000002            FAB$M_SHRUPD   = 00000008            FAB$V_SUP      = 00000002            
FAB$C_SEQ      = 00000000            FAB$M_SPL      = 00002000            FAB$V_TEF      = 0000001C            
FAB$C_UDF      = 00000000            FAB$M_SQO      = 00000040            FAB$V_TMD      = 00000004            
FAB$C_VAR      = 00000002            FAB$M_SUP      = 00000004            FAB$V_TMP      = 00000003            
FAB$C_VFC      = 00000003            FAB$M_TEF      = 10000000            FAB$V_TRN      = 00000004            
FAB$K_BLN        00000050            FAB$M_TMD      = 00000010            FAB$V_UFM      = 0000001A            
FAB$L_ALQ        00000010            FAB$M_TMP      = 00000008            FAB$V_UFO      = 00000011            
FAB$L_CTX        00000018            FAB$M_TRN      = 00000010            FAB$V_UPD      = 00000003            
FAB$L_DEV        00000040            FAB$M_UFM      = 04000000            FAB$V_UPI      = 00000006            
FAB$L_DNA        00000030            FAB$M_UFO      = 00020000            FAB$V_WCK      = 00000009            
FAB$L_FNA        0000002C            FAB$M_UPD      = 00000008            FAB$W_BLS        0000003C            
FAB$L_FOP        00000004            FAB$M_UPI      = 00000040            FAB$W_DEQ        00000014            
RM0EXTRMS       CLEANUP AND RETURN ROUTINE                       21-AUG-1978 21:20:23   VAX-11 MACRO X0.3-11               Page  13
SYMBOL TABLE                                                                                                                     (1)

FAB$W_IFI        00000002            IFB$L_RLB_LNK    0000002C            IFB$W_IOS2       0000000E            
FAB$W_MRS        00000036            IFB$L_RNS_LEN    00000050            IFB$W_LRL        0000003E            
GBL...         = 00000000            IFB$M_BIO      = 00000020            IFB$W_MRS        0000004C            
IFB$B_AMAX       00000059            IFB$M_BRO      = 00000040            IFB$W_RTDEQ      0000003A            
IFB$B_AVBN       00000058            IFB$M_DEL      = 00000004            IMP$B_PROT       00000002            
IFB$B_BID        00000008            IFB$M_EXE      = 00000080            IMP$C_ASYEFN   = 0000001E            
IFB$B_BKS        0000004A            IFB$M_GET      = 00000002            IMP$C_ASYQIOEFN= 0000001F            
IFB$B_BLN        00000009            IFB$M_PUT      = 00000001            IMP$C_ENTPERSEG= 0000000F            
IFB$B_EFN        0000000B            IFB$M_TRN      = 00000010            IMP$C_IOREFN   = 0000001E            
IFB$B_EXTRABUF   0000005D            IFB$M_UPD      = 00000008            IMP$C_MBXEFN   = 0000001A            
IFB$B_FAC        00000022            IFB$S_ORG      = 00000004            IMP$C_NPIOFILES= 0000000C            
IFB$B_FSZ        0000004B            IFB$S_RFM      = 00000004            IMP$C_SYNCEFN  = 0000001B            
IFB$B_KBUFSZ     0000005C            IFB$V_ACCESSED = 00000025            IMP$L_FREEPGLH   0000000C            
IFB$B_MODE       0000000A            IFB$V_ANSI_D   = 00000026            IMP$L_IFABTBL    00000018            
IFB$B_NUM_KEYS   0000005A            IFB$V_ASYNC    = 00000023            IMP$L_IFBTBLINK  00000024            
IFB$B_ORGCASE    00000023            IFB$V_ASYNCWAIT= 00000024            IMP$L_IOSEGADDR  00000004            
IFB$B_RAT        0000003D            IFB$V_BIO      = 00000005            IMP$L_IOSEGLEN   00000008            
IFB$B_RFMORG     0000003C            IFB$V_BRO      = 00000006            IMP$L_IRABTBL    0000001C            
IFB$B_UBUFSZ     0000005B            IFB$V_BUSY     = 00000020            IMP$L_IRBTBLINK  00000064            
IFB$C_BID      = 0000000B            IFB$V_CREATE   = 00000032            IMP$L_SAVED_SP   00000014            
IFB$C_BLN        00000060            IFB$V_DAP      = 0000003E            IMP$V_AST      = 00000001            
IFB$C_BLN_IDX    00000060            IFB$V_DAP_OPEN = 0000003D            IMP$V_IIOS     = 00000000            
IFB$C_BLN_REL    00000060            IFB$V_DEL      = 00000002            IMP$V_IORUNDOWN= 00000004            
IFB$C_BLN_SEQ    0000005C            IFB$V_DFW      = 0000002C            IMP$V_NOP0BUFS = 00000005            
IFB$C_DIR      = 00000003            IFB$V_DLT      = 0000002B            IMP$V_TEMP1    = 00000002            
IFB$C_FHAEND     00000050            IFB$V_DMO      = 00000028            IMP$V_TEMP2    = 00000003            
IFB$C_IDX      = 00000002            IFB$V_EOF      = 00000021            IMP$W_ENTPERSEG  00000020            
IFB$C_MAXORG   = 00000002            IFB$V_EXE      = 00000007            IMP$W_NUM_IFABS  00000022            
IFB$C_REL      = 00000001            IFB$V_GET      = 00000001            IMP$W_RMSSTATUS  00000000            
IFB$C_SEQ      = 00000000            IFB$V_MSE      = 00000031            IRB$B_BCNT       00000040            
IFB$K_BLN        00000060            IFB$V_NORECLK  = 00000033            IRB$B_BID        00000008            
IFB$K_BLN_IDX    00000060            IFB$V_NSP      = 0000003F            IRB$B_BLN        00000009            
IFB$K_BLN_REL    00000060            IFB$V_NWA      = 0000003C            IRB$B_EFN        0000000B            
IFB$K_BLN_SEQ    0000005C            IFB$V_ORG      = 00000004            IRB$B_KEYSZ      00000051            
IFB$K_FHAEND     00000050            IFB$V_PPF_IMAGE= 00000022            IRB$B_MBC        00000041            
IFB$L_ARGLST     00000018            IFB$V_PPF_INPUT= 0000002E            IRB$B_MODE       0000000A            
IFB$L_ASBADDR    00000014            IFB$V_PUT      = 00000000            IRB$B_NRP_ID     00000030            
IFB$L_AS_DEV     00000054            IFB$V_RFM      = 00000000            IRB$B_NRP_KREF   00000031            
IFB$L_BDB_BLNK   00000034            IFB$V_RWC      = 00000027            IRB$B_NVBNS      00000048            
IFB$L_BDB_FLNK   00000030            IFB$V_RW_ATTR  = 00000034            IRB$B_POST_CCTL  00000045            
IFB$L_BKPBITS    00000004            IFB$V_SCF      = 0000002A            IRB$B_PPF_ISI    0000003E            
IFB$L_BWB        0000000C            IFB$V_SPL      = 00000029            IRB$B_PRE_CCTL   00000044            
IFB$L_DVBN       00000058            IFB$V_SQO      = 0000002D            IRB$B_RFA_ID     00000058            
IFB$L_EBK        00000044            IFB$V_TEF      = 00000036            IRB$B_RP_ID      00000038            
IFB$L_FRB_PTR    00000028            IFB$V_TMP      = 00000035            IRB$B_RP_KREF    00000039            
IFB$L_FWA_BDB    00000050            IFB$V_TRN      = 00000004            IRB$B_RRV_ID     00000050            
IFB$L_HBK        00000040            IFB$V_UPD      = 00000003            IRB$B_SRCHFLAGS  00000043            
IFB$L_IDX_PTR    00000054            IFB$V_WRTACC   = 00000030            IRB$B_STOPLEVEL  00000042            
IFB$L_IOS        0000000C            IFB$W_ASDEVBSIZ  0000005A            IRB$C_BID      = 0000000A            
IFB$L_IOS4       00000010            IFB$W_BKS_BYTES  0000005C            IRB$C_BLN_IDX    0000006C            
IFB$L_IRAB_LNK   0000001C            IFB$W_BKS_RECS   0000005E            IRB$C_BLN_REL    00000048            
IFB$L_LAST_FAB   00000024            IFB$W_CHNL       00000020            IRB$C_BLN_SEQ    0000004C            
IFB$L_LOCK_BDB   00000050            IFB$W_DEQ        0000004E            IRB$K_BLN_IDX    0000006C            
IFB$L_MRN        00000054            IFB$W_DEVBUFSIZ  00000038            IRB$K_BLN_REL    00000048            
IFB$L_NRP_LNK    00000050            IFB$W_EBK0       00000044            IRB$K_BLN_SEQ    0000004C            
IFB$L_NWA_PTR    00000028            IFB$W_EBK2       00000046            IRB$L_ARGLST     00000018            
IFB$L_PRIM_DEV   00000000            IFB$W_FFB        00000048            IRB$L_ASBADDR    00000014            
RM0EXTRMS       CLEANUP AND RETURN ROUTINE                       21-AUG-1978 21:20:23   VAX-11 MACRO X0.3-11               Page  14
SYMBOL TABLE                                                                                                                     (1)

IRB$L_BKPBITS    00000004            IRB$W_RTOTLSZ    00000046            RAB$L_CTX        00000018            
IRB$L_BWB        0000000C            IRB$W_SAVE_POS   00000052            RAB$L_DCT        00000038            
IRB$L_CURBDB     00000020            L$RMS00          00000000 R     04   RAB$L_FAB        0000003C            
IRB$L_CURVBN     00000030            PIO$GW_STATUS    ********   X   02   RAB$L_KBF        00000030            
IRB$L_IFAB_LNK   00000000            PIO$V_EOD      = 00000001            RAB$L_PBF        00000030            
IRB$L_IOS        0000000C            PIO$V_INHAST   = 00000000            RAB$L_RBF        00000028            
IRB$L_IOS4       00000010            PIO$V_SYNC1    = 00000002            RAB$L_RFA0       00000010            
IRB$L_IRAB_LNK   0000001C            PIO$V_SYNC2    = 00000003            RAB$L_RHB        0000002C            
IRB$L_KEYBUF     00000048            PSL$C_EXEC     = 00000001            RAB$L_ROP        00000004            
IRB$L_LAST_RAB   00000024            PSL$C_KERNEL   = 00000000            RAB$L_STS        00000008            
IRB$L_LOCK_BDB   0000005C            PSL$C_SUPER    = 00000002            RAB$L_STV        0000000C            
IRB$L_NRP        0000002C            PSL$C_USER     = 00000003            RAB$L_UBF        00000024            
IRB$L_NRP_OFF    00000030            PSL$M_CM       = 80000000            RAB$M_ASY      = 00000001            
IRB$L_NRP_VBN    0000002C            PSL$M_CURMOD   = 03000000            RAB$M_BIO      = 00000800            
IRB$L_NXTBDB     00000028            PSL$M_DV       = 00000080            RAB$M_CCO      = 80000000            
IRB$L_OWNER_ID   0000003C            PSL$M_FPD      = 08000000            RAB$M_CVT      = 04000000            
IRB$L_RFA_VBN    00000054            PSL$M_FU       = 00000040            RAB$M_EOF      = 00000100            
IRB$L_RLB_ADDR   00000044            PSL$M_IPL      = 001F0000            RAB$M_FDL      = 00000040            
IRB$L_RP         00000034            PSL$M_IS       = 04000000            RAB$M_HSH      = 00000080            
IRB$L_RP_OFF     00000038            PSL$M_IV       = 00000020            RAB$M_KGE      = 00200000            
IRB$L_RP_VBN     00000034            PSL$M_PRVMOD   = 00C00000            RAB$M_KGT      = 00400000            
IRB$L_RRV_VBN    0000004C            PSL$M_SAFBITS  = 000037FF            RAB$M_LIM      = 00004000            
IRB$L_TEMP0      00000044            PSL$M_TBIT     = 00000010            RAB$M_LOA      = 00002000            
IRB$L_TEMP1      00000048            PSL$M_TP       = 40000000            RAB$M_LOC      = 00010000            
IRB$V_ASYNC    = 00000023            PSL$S_CURMOD   = 00000002            RAB$M_MAS      = 00000020            
IRB$V_ASYNCWAIT= 00000024            PSL$S_IPL      = 00000005            RAB$M_NLK      = 00100000            
IRB$V_BIO_LAST = 00000027            PSL$S_PRVMOD   = 00000002            RAB$M_NXR      = 00800000            
IRB$V_BRO_SW   = 00000028            PSL$V_CM       = 0000001F            RAB$M_PMT      = 40000000            
IRB$V_BUSY     = 00000020            PSL$V_CURMOD   = 00000018            RAB$M_PPF_IND  = 00004000            
IRB$V_DAP_CONN = 0000003E            PSL$V_DV       = 00000007            RAB$M_PPF_RAT  = 00003FC0            
IRB$V_DAP_FMODE= 0000003F            PSL$V_FPD      = 0000001B            RAB$M_PTA      = 20000000            
IRB$V_DUP      = 0000002C            PSL$V_FU       = 00000006            RAB$M_RAH      = 00000200            
IRB$V_EOF      = 00000021            PSL$V_IPL      = 00000010            RAB$M_RLK      = 00080000            
IRB$V_FIND     = 00000029            PSL$V_IS       = 0000001A            RAB$M_RNE      = 01000000            
IRB$V_FIND_LAST= 00000025            PSL$V_IV       = 00000005            RAB$M_RNF      = 08000000            
IRB$V_IDX_ERR  = 00000031            PSL$V_PRVMOD   = 00000016            RAB$M_TMO      = 02000000            
IRB$V_LOCKABOVE= 00000002            PSL$V_TBIT     = 00000004            RAB$M_TPT      = 00000002            
IRB$V_NEW_IDX  = 00000003            PSL$V_TP       = 0000001E            RAB$M_UIF      = 00000010            
IRB$V_POSINSERT= 00000000            RAB$B_BID        00000000            RAB$M_ULK      = 00040000            
IRB$V_PPF_EOF  = 0000002E            RAB$B_BLN        00000001            RAB$M_WAT      = 00020000            
IRB$V_PPF_FNDSV= 00000030            RAB$B_KRF        00000035            RAB$M_WBH      = 00000400            
IRB$V_PPF_IMAGE= 00000022            RAB$B_KSZ        00000034            RAB$S_PPF_RAT  = 00000008            
IRB$V_PPF_SKIP = 0000002F            RAB$B_MBC        00000037            RAB$V_ASY      = 00000000            
IRB$V_PUTS_LAST= 00000026            RAB$B_MBF        00000036            RAB$V_BIO      = 0000000B            
IRB$V_RAHWBH   = 0000002A            RAB$B_PSZ        00000034            RAB$V_CCO      = 0000001F            
IRB$V_SKIP_NEXT= 0000002B            RAB$B_RAC        0000001E            RAB$V_CVT      = 0000001A            
IRB$V_SRCHGT   = 00000001            RAB$B_ROP1       00000005            RAB$V_EOF      = 00000008            
IRB$V_UNLOCK_RP= 0000002D            RAB$B_ROP2       00000006            RAB$V_FDL      = 00000006            
IRB$V_WRITE    = 00000029            RAB$B_ROP3       00000007            RAB$V_HSH      = 00000007            
IRB$W_CSIZ       00000042            RAB$B_TMO        0000001F            RAB$V_KGE      = 00000015            
IRB$W_DUP_POS    00000032            RAB$C_BID      = 00000001            RAB$V_KGT      = 00000016            
IRB$W_IOS2       0000000E            RAB$C_BLN        00000044            RAB$V_LIM      = 0000000E            
IRB$W_NRP_OFF    00000030            RAB$C_KEY      = 00000001            RAB$V_LOA      = 0000000D            
IRB$W_OWN_ID     0000003C            RAB$C_RFA      = 00000002            RAB$V_LOC      = 00000010            
IRB$W_OWN_ISI    0000003E            RAB$C_SEQ      = 00000000            RAB$V_MAS      = 00000005            
IRB$W_ROVHDSZ    00000044            RAB$K_BLN        00000044            RAB$V_NLK      = 00000014            
IRB$W_RP_OFF     00000038            RAB$L_BKT        00000038            RAB$V_NXR      = 00000017            
RM0EXTRMS       CLEANUP AND RETURN ROUTINE                       21-AUG-1978 21:20:23   VAX-11 MACRO X0.3-11               Page  15
SYMBOL TABLE                                                                                                                     (1)

RAB$V_PMT      = 0000001E            RMS$_CHN       = 0001C0EC            RMS$_LBL       = 000185B4            
RAB$V_PPF_IND  = 0000000E            RMS$_COD       = 000184AC            RMS$_LNE       = 000185BC            
RAB$V_PPF_RAT  = 00000006            RMS$_CONTROLC  = 00010651            RMS$_LOC       = 000185C4            
RAB$V_PTA      = 0000001D            RMS$_CONTROLO  = 00010609            RMS$_MBC       = 00018734            
RAB$V_RAH      = 00000009            RMS$_CONTROLY  = 00010611            RMS$_MKD       = 0001C032            
RAB$V_RLK      = 00000013            RMS$_CRE       = 0001C00A            RMS$_MRN       = 000185CC            
RAB$V_RNE      = 00000018            RMS$_CREATED   = 00010619            RMS$_MRS       = 000185D4            
RAB$V_RNF      = 0000001B            RMS$_CUR       = 000184B4            RMS$_NAM       = 000185DC            
RAB$V_TMO      = 00000019            RMS$_DAC       = 0001C012            RMS$_NEF       = 000185E4            
RAB$V_TPT      = 00000001            RMS$_DAN       = 000184BC            RMS$_NET       = 0001874C            
RAB$V_UIF      = 00000004            RMS$_DEL       = 00018262            RMS$_NID       = 000185EC            
RAB$V_ULK      = 00000012            RMS$_DEV       = 000184C4            RMS$_NMF       = 000182CA            
RAB$V_WAT      = 00000011            RMS$_DIR       = 000184CC            RMS$_NOD       = 000185F4            
RAB$V_WBH      = 0000000A            RMS$_DME       = 000184D4            RMS$_NORMAL    = 00010001            
RAB$W_ISI        00000002            RMS$_DNA       = 000184DC            RMS$_NPK       = 000185FC            
RAB$W_RFA        00000010            RMS$_DNF       = 0001C04A            RMS$_OK_ALK    = 00018039            
RAB$W_RFA4       00000014            RMS$_DNR       = 00018272            RMS$_OK_DEL    = 00018041            
RAB$W_RSZ        00000022            RMS$_DPE       = 0001C03A            RMS$_OK_DUP    = 00018011            
RAB$W_USZ        00000020            RMS$_DTP       = 000184E4            RMS$_OK_IDX    = 00018019            
RETASB           000000C5 R     02   RMS$_DUP       = 000184EC            RMS$_OK_LIM    = 00018051            
RETURN           000000A1 R     02   RMS$_DVI       = 000184F4            RMS$_OK_RLK    = 00018021            
RM$EXRMS         00000008 RG    02   RMS$_ENT       = 0001C01A            RMS$_OK_RNF    = 00018049            
RM$EXSUC         00000005 RG    02   RMS$_ENV       = 00018724            RMS$_OK_RRV    = 00018029            
RM$EX_NOSTR      00000001 RG    02   RMS$_EOF       = 0001827A            RMS$_ORD       = 00018604            
RM$RETSPC        ********   X   02   RMS$_ESA       = 000184FC            RMS$_ORG       = 0001860C            
RMS$V_STVSTATUS= 0000000E            RMS$_ESL       = 00018714            RMS$_PBF       = 00018614            
RMS$_ABO       = 000183EC            RMS$_ESS       = 00018504            RMS$_PENDING   = 00018009            
RMS$_ACC       = 0001C002            RMS$_EXP       = 000182C2            RMS$_PLG       = 0001861C            
RMS$_ACT       = 0001825A            RMS$_EXT       = 0001C022            RMS$_PLV       = 0001872C            
RMS$_AID       = 000183F4            RMS$_FAB       = 0001850C            RMS$_POS       = 00018624            
RMS$_ALN       = 000183FC            RMS$_FAC       = 00018514            RMS$_PRM       = 0001862C            
RMS$_ALQ       = 00018404            RMS$_FEX       = 00018282            RMS$_PRV       = 0001829A            
RMS$_ANI       = 0001840C            RMS$_FLG       = 0001851C            RMS$_QUO       = 00018634            
RMS$_AOP       = 00018414            RMS$_FLK       = 0001828A            RMS$_RAB       = 0001863C            
RMS$_ATR       = 0001C0CC            RMS$_FNA       = 00018524            RMS$_RAC       = 00018644            
RMS$_ATW       = 0001C0D4            RMS$_FND       = 0001C02A            RMS$_RAT       = 0001864C            
RMS$_BKS       = 0001841C            RMS$_FNF       = 00018292            RMS$_RBF       = 00018654            
RMS$_BKZ       = 00018424            RMS$_FNM       = 0001852C            RMS$_RER       = 0001C0F4            
RMS$_BLN       = 0001842C            RMS$_FOP       = 0001853C            RMS$_REX       = 000182A2            
RMS$_BOF       = 00018198            RMS$_FSZ       = 00018534            RMS$_RFA       = 0001865C            
RMS$_BUG       = 00018434            RMS$_FUL       = 00018544            RMS$_RFM       = 00018664            
RMS$_BUG_DAP   = 00018444            RMS$_IAL       = 0001854C            RMS$_RHB       = 0001866C            
RMS$_BUG_DDI   = 0001843C            RMS$_IAN       = 00018554            RMS$_RLF       = 00018674            
RMS$_BUG_XX2   = 0001844C            RMS$_IBF       = 00018754            RMS$_RLK       = 000182AA            
RMS$_BUG_XX3   = 00018454            RMS$_IDX       = 0001855C            RMS$_RMV       = 0001C0FC            
RMS$_BUG_XX4   = 0001845C            RMS$_IFA       = 0001C124            RMS$_RNF       = 000182B2            
RMS$_BUG_XX5   = 00018464            RMS$_IFI       = 00018564            RMS$_RNL       = 000181A0            
RMS$_BUG_XX6   = 0001846C            RMS$_IMX       = 0001856C            RMS$_ROP       = 0001867C            
RMS$_BUG_XX7   = 00018474            RMS$_IOP       = 00018574            RMS$_RPL       = 0001C104            
RMS$_BUG_XX8   = 0001847C            RMS$_IRC       = 0001857C            RMS$_RRV       = 00018684            
RMS$_BUG_XX9   = 00018484            RMS$_ISI       = 00018584            RMS$_RSA       = 000182DA            
RMS$_CAA       = 0001848C            RMS$_KBF       = 0001858C            RMS$_RSL       = 0001873C            
RMS$_CCF       = 0001C0DC            RMS$_KEY       = 00018594            RMS$_RSS       = 00018694            
RMS$_CCR       = 00018494            RMS$_KFF       = 00018031            RMS$_RST       = 0001869C            
RMS$_CDA       = 0001C0E4            RMS$_KRF       = 0001859C            RMS$_RSZ       = 000186A4            
RMS$_CHG       = 0001849C            RMS$_KSZ       = 000185A4            RMS$_RTB       = 000181A8            
RMS$_CHK       = 000184A4            RMS$_LAN       = 000185AC            RMS$_SEQ       = 000186AC            
RM0EXTRMS       CLEANUP AND RETURN ROUTINE                       21-AUG-1978 21:20:23   VAX-11 MACRO X0.3-11               Page  16
SYMBOL TABLE                                                                                                                     (1)

RMS$_SHR       = 000186B4            
RMS$_SIZ       = 000186BC            
RMS$_SPL       = 0001C042            
RMS$_SQO       = 000186C4            
RMS$_STALL     = 00018001            
RMS$_STK       = 000186CC            
RMS$_SUC       = 00010001            
RMS$_SUP       = 000182D2            
RMS$_SUPERSEDE = 00010631            
RMS$_SYN       = 000186D4            
RMS$_SYS       = 0001C10C            
RMS$_TEMP1     = 0001826A            
RMS$_TEMP2     = 0001868C            
RMS$_TMO       = 000181B0            
RMS$_TRE       = 000186DC            
RMS$_TYP       = 000186E4            
RMS$_UBF       = 000186EC            
RMS$_USZ       = 000186F4            
RMS$_VER       = 000186FC            
RMS$_VOL       = 00018704            
RMS$_WBE       = 0001C12C            
RMS$_WER       = 0001C114            
RMS$_WLD       = 00018744            
RMS$_WLK       = 000182BA            
RMS$_WPL       = 0001C11C            
RMS$_WSF       = 0001871C            
RMS$_XAB       = 0001870C            
SETEFN           00000086 R     02   
SETIOR           000000BB R     02   
SETSTS           00000010 R     02   
SYS$DCLAST       ********   X   02   
SYS$SETAST       ********   X   02   
SYS$SETEF        ********   X   02   
TRYEFN2          000000A6 R     02   


PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
$RMS0            000000D8      02     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD  NOWRT QUAD  
$ABS$            000000AC      03     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
L$RMS0           00000011      04     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD  NOWRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
7182. BYTES LEFT IN FREE MEMORY POOL.
2718. BYTES OF RECLAIMED MEMORY.
OBJ$:RM0EXTRMS,LIS$:RM0EXTRMS/-SP=EXECML$/ML,LIB$:R/ML,SRC$:RM0EXTRMS
41 MLB DIR RDS - 1183 GETS TO DEFINE 32 MACROS. 88 INTER. FILE WRITES. 

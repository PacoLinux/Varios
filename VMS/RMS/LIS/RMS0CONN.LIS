RMS0CONN        DISPATCH ROUTINE FOR CONNECT                     21-AUG-1978 21:58:48   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (1)      41  DECLARATIONS
   (1)      78  RMS$CONNECT  -  $CONNECT ROUTINE
RMS0CONN        DISPATCH ROUTINE FOR CONNECT                     21-AUG-1978 21:58:48   VAX-11 MACRO X0.3-11               Page   1
013                                                                                                                              (1)

                                     0000     1 	$BEGIN RMS0CONN,013,F$RMSOPEN0,<DISPATCH ROUTINE FOR CONNECT>
                                     0000     2 
                                     0000     3 
                                     0000     4 ;
                                     0000     5 ; COPYRIGHT (C) 1977
                                     0000     6 ; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS 01754
                                     0000     7 ;
                                     0000     8 ; THIS SOFTWARE IS FURNISHED  UNDER A LICENSE FOR USE ONLY ON A SINGLE
                                     0000     9 ; COMPUTER  SYSTEM AND  MAY BE  COPIED ONLY WITH  THE INCLUSION OF THE
                                     0000    10 ; ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE, OR ANY OTHER COPIES THEREOF,
                                     0000    11 ; MAY NOT BE PROVIDED OR  OTHERWISE MADE AVAILABLE TO ANY OTHER PERSON
                                     0000    12 ; EXCEPT FOR USE ON SUCH SYSTEM AND TO ONE WHO AGREES TO THESE LICENSE
                                     0000    13 ; TERMS.  TITLE TO AND  OWNERSHIP OF THE  SOFTWARE  SHALL AT ALL TIMES
                                     0000    14 ; REMAIN IN DEC.
                                     0000    15 ;
                                     0000    16 ; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE WITHOUT NOTICE
                                     0000    17 ; AND SHOULD  NOT BE CONSTRUED  AS A COMMITMENT  BY DIGITAL  EQUIPMENT
                                     0000    18 ; CORPORATION.
                                     0000    19 ;
                                     0000    20 ; DEC ASSUMES  NO  RESPONSIBILITY  FOR  THE USE OR  RELIABILITY OF ITS
                                     0000    21 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
                                     0000    22 
                                     0000    23 ;++
                                     0000    24 ; FACILITY: RMS32
                                     0000    25 ;
                                     0000    26 ; ABSTRACT:
                                     0000    27 ;		THIS ROUTINE IS THE HIGHEST LEVEL CONTROL
                                     0000    28 ;		ROUTINE TO PERFORM THE $CONNECT FUNCTION.
                                     0000    29 ;
                                     0000    30 ; ENVIRONMENT:
                                     0000    31 ;		STAR PROCESSOR RUNNING STARLET EXEC.
                                     0000    32 ;
                                     0000    33 ; AUTHOR: L F LAVERDURE,	 CREATION DATE: 5-JAN-77
                                     0000    34 ;
                                     0000    35 ; MODIFIED BY:
                                     0000    36 ;
                                     0000    37 ;	L F LAVERDURE,   8-MAY-78  11:36
                                     0000    38 ; 01	- 
                                     0000    39 ;--
RMS0CONN        DISPATCH ROUTINE FOR CONNECT                     21-AUG-1978 21:58:48   VAX-11 MACRO X0.3-11               Page   2
013             DECLARATIONS                                                                                                     (1)

                                     0000    41 	.SBTTL	DECLARATIONS
                                     0000    42 ;
                                     0000    43 ; INCLUDE FILES:
                                     0000    44 ;
                                     0000    45 
                                     0000    46 ;
                                     0000    47 ; MACROS:
                                     0000    48 ;
                                     0000    49 	$FABDEF
                                     0000    50 	$RABDEF
                                     0000    51 	$IMPDEF
                                     0000    52 	$PIODEF
                                     0000    53 	$IFBDEF
                                     0000    54 	$IRBDEF
                                     0000    55 	$PCBDEF
                                     0000    56 	$ASBDEF
                                     0000    57 	$RMSDEF
                                     0000    58 	.LIST MEB
                                     0000    59 
                                     0000    60 ;
                                     0000    61 ; EQUATED SYMBOLS:
                                     0000    62 ;
                           00000020  0000    63 	ROP=RAB$L_ROP*8				; BIT OFFSET TO ROP FIELD
                                     0000    64 
                                     0000    65 ;
                                     0000    66 ; OWN STORAGE:
                                     0000    67 ;
                                     0000    68 IRAB_SIZE_TBL:
                                 33  0000    69 	.BYTE	<IRB$C_BLN_SEQ+ASB$C_BLN_SEQ>/4
                                 33  0001    70 	.BYTE	<IRB$C_BLN_REL+ASB$C_BLN_REL>/4
                                 46  0002    71 	.BYTE	<IRB$C_BLN_IDX+ASB$C_BLN_IDX>/4
                                     0003    72 IRAB_START_TBL:
                                 80  0003    73 	.BYTE	ASB$C_BLN_SEQ
                                 84  0004    74 	.BYTE	ASB$C_BLN_REL
                                 AC  0005    75 	.BYTE	ASB$C_BLN_IDX
                                     0006    76 
RMS0CONN        DISPATCH ROUTINE FOR CONNECT                     21-AUG-1978 21:58:48   VAX-11 MACRO X0.3-11               Page   3
013             RMS$CONNECT  -  $CONNECT ROUTINE                                                                                 (1)

                                     0006    78 	.SBTTL RMS$CONNECT  -  $CONNECT ROUTINE
                                     0006    79 ;++
                                     0006    80 ; FUNCTIONAL DESCRIPTION:
                                     0006    81 ;
                                     0006    82 ;  THIS ROUTINE PERFORMS THE HIGHEST LEVEL $CONNECT
                                     0006    83 ;  PROCESSING.  ITS FUNCTIONS INCLUDE:
                                     0006    84 ;
                                     0006    85 ;	1. ALLOCATE AND INIT AN IRAB ALONG WITH ITS ASB
                                     0006    86 ;	2. PERFORM COMMON SETUP
                                     0006    87 ;	3. DIPATCH TO ORGANIZATION-DEPENDENT ROUTINE
                                     0006    88 ;
                                     0006    89 ;
                                     0006    90 ;
                                     0006    91 ; CALLING SEQUENCE:
                                     0006    92 ;
                                     0006    93 ;	ENTERED FROM EXEC AS A RESULT OF USER'S CALLING SYS$CONNECT
                                     0006    94 ;	(E.G., BY USING THE $CONNECT MACRO).
                                     0006    95 ;
                                     0006    96 ; INPUT PARAMETERS:
                                     0006    97 ;
                                     0006    98 ;	AP	USER'S ARGUMENT LIST ADDRESS
                                     0006    99 ;
                                     0006   100 ; IMPLICIT INPUTS:
                                     0006   101 ;
                                     0006   102 ;	THE CONTENTS OF THE RAB AND THE IFI FIELD OF THE FAB.
                                     0006   103 ;
                                     0006   104 ; OUTPUT PARAMETERS:
                                     0006   105 ;
                                     0006   106 ;	R0	STATUS CODE
                                     0006   107 ;	R1	DESTROYED
                                     0006   108 ;
                                     0006   109 ; IMPLICIT OUTPUTS:
                                     0006   110 ;
                                     0006   111 ;	VARIOUS FIELDS OF THE RAB ARE FILLED IN TO REFLECT
                                     0006   112 ;	THE STATUS OF THE CONNECTED STREAM.  (SEE RMS FUNCTIONAL
                                     0006   113 ;	SPEC FOR A COMPLETE LIST.)
                                     0006   114 ;
                                     0006   115 ;	AN IRAB IS INITIALIZED TO REFLECT THE CONNECTED STREAM.
                                     0006   116 ;
                                     0006   117 ;	A COMPLETION AST IS QUEUED IF SO SPECIFIED BY THE USER.
                                     0006   118 ;
                                     0006   119 ; COMPLETION CODES:
                                     0006   120 ;
                                     0006   121 ;	STANDARD RMS (SEE FUNCTIONAL SPEC FOR LIST).
                                     0006   122 ;
                                     0006   123 ; SIDE EFFECTS:
                                     0006   124 ;
                                     0006   125 ;	NONE
                                     0006   126 ;
                                     0006   127 ;--
RMS0CONN        DISPATCH ROUTINE FOR CONNECT                     21-AUG-1978 21:58:48   VAX-11 MACRO X0.3-11               Page   4
013             RMS$CONNECT  -  $CONNECT ROUTINE                                                                                 (1)

                                     0006   129 	$ENTRY	RMS$CONNECT
                                 00000006       	.PSECT	F$RMSOPEN0,GBL,NOWRT
                                     0006   130 	$TSTPT	CONNECT
                 00000200'9F     D6  0006       		INCL	@#PIO$GL_FMLH+512+TPT$L_CONNECT
                                     000C   131 ;
                                     000C   132 ;  PERFORM COMMON RAB FUNCTION SETUP, VALIDATING THE
                                     000C   133 ;  ARGUMENT LIST AND BASIC RAB, AND SETTING REGS AS
                                     000C   134 ;  FOLLOWS:  R11=IMPURE AREA ADDR,  R9=ISI, R8=RAB ADDR, R7=CALLER'S MODE
                                     000C   135 ;
                          FFF1'  30  000C   136 	BSBW	RM$RABCHK		;RETURN FROM SETUP ONLY IF AOK
                                     000F   137 ;
                                     000F   138 ;  GET IFAB ADDRESS VIA THE FAB
                                     000F   139 ;
            5A         3C A8     D0  000F   140 	MOVL	RAB$L_FAB(R8),R10	;GET FAB ADDR
                                     0013   141 	IFNORD	#FAB$C_BLN,(R10),ERRFAB	;MUST BE ABLE TO ACCESS
       0050 8F            00     0C  0013       		PROBER	#0,#FAB$C_BLN,(R10)
                          6A         0018       
                          6A     13  0019       		BEQL	ERRFAB
                                     001B   142 	ASSUME	FAB$B_BID EQ 0
            03            6A     91  001B   143 	CMPB	(R10),#FAB$C_BID	;IS IT A FAB?
                          65     12  001E   144 	BNEQ	ERRFAB			;BRANCH IF NOT
         50 8F         01 AA     91  0020   145 	CMPB	FAB$B_BLN(R10),#FAB$C_BLN ;LONG ENOUGH?
                          61     19  0025   146 	BLSS	ERRBLN
            59         02 AA     3C  0027   147 	MOVZWL	FAB$W_IFI(R10),R9	;GET IFI
            50            06     D0  002B   148 	MOVL	#IMP$L_IFABTBL/4,R0	;IFAB TABLE OFFSET/4
                          FFCF'  30  002E   149 	BSBW	RM$GTIADR		;GET IFAB ADDR (R9)
                          4F     13  0031   150 	BEQL	ERRIFI			;ERROR IF NONE
                           00000008  0033   151 	.IF NE $$RMSTEST&$$RMS_TBUGCHK
                                     0033   152 	ASSUME	IFB$B_BID EQ IFB$B_BLN-1
       180B 8F         08 A9     B1  0033   153 	CMPW	IFB$B_BID(R9),#IFB$C_BID+<<IFB$C_BLN/4>*256>
                          53     12  0039   154 	BNEQ	ERRBUG			;BRANCH IF NOT A VALID IFAB
                                     003B   155 	.ENDC
            69            20     E0  003B   156 	BBS	#IFB$V_BUSY,(R9),ERRACT	;BRANCH IF IFAB ALREADY IN USE
                          40         003E       
            6A            1E     E0  003F   157 	BBS	#FAB$V_PPF_IND+<FAB$W_IFI*8>,(R10),PPF_IND ;BRANCH IF INDIRECT PPF
                          4F         0042       
            5A            59     D0  0043   158 	MOVL	R9,R10			;SAVE IFAB ADDR IN R10
                                     0046   159 ;
                                     0046   160 ;  CHECK FOR ONLY 1 IRAB UNLESS MULTI-STREAMS ENABLED
                                     0046   161 ;
            55         23 AA     9A  0046   162 	MOVZBL	IFB$B_ORGCASE(R10),R5	;GET FILE ORG INDEX
                                     004A   163 	ASSUME	IFB$C_SEQ EQ 0
                          0D     13  004A   164 	BEQL	10$			;BRANCH IF SEQUENTIAL (NO MULTI STREAMING)
            02            55     91  004C   165 	CMPB	R5,#IFB$C_MAXORG	;IS THIS A KNOWN FILE ORG?
                          04     15  004F   166 	BLEQ	5$			;BRANCH IF YES
                          55     D4  0051   167 	CLRL	R5			;NO - ALLOCATE SEQ. LEN IRAB
                          04     11  0053   168 	BRB	10$			;CHECK NO MULTI-STREAMS
            6A            31     E0  0055   169 5$:	BBS	#IFB$V_MSE,(R10),20$	;OMIT CHECK IF MULTI-STREAMS ENABLED
                          05         0058       
                       1C AA     D5  0059   170 10$:	TSTL	IFB$L_IRAB_LNK(R10)	;ALREADY GOT AN IRAB?
                          2D     12  005C   171 	BNEQ	ERRCCR			;BRANCH IF YES (ERROR)
                                     005E   172 20$:
                                     005E   173 ;
                                     005E   174 ;  ALLOCATE AN IRAB ALONG WITH ITS ASB
                                     005E   175 ;
                                     005E   176 ;  ALLOCATE VARIABLE LENGTH IRAB BASED ON ORGANIZATION.
                                     005E   177 ;  NOTE: THE ASB IS LOCATED IMMEDIATELY BEFORE THE IRAB PROPER
RMS0CONN        DISPATCH ROUTINE FOR CONNECT                     21-AUG-1978 21:58:48   VAX-11 MACRO X0.3-11               Page   5
013             RMS$CONNECT  -  $CONNECT ROUTINE                                                                                 (1)

                                     005E   178 ;	 AND IS POINTED TO VIA THE ASB ADDR FIELD
                                     005E   179 ;
            52         9E AF45   9A  005E   180 	MOVZBL	IRAB_SIZE_TBL[R5],R2	;GET ASB/IRAB SIZE IN LONG WORDS
            51            5A     D0  0063   181 	MOVL	R10,R1			;PAGE HAVING FREE SPACE
                          FF97'  30  0066   182 	BSBW	RM$GETBLK		;ALLOCATE IRAB
            44            50     E9  0069   183 	BLBC	R0,EX_NOSTR		;BRANCH IF NONE
            59         93 AF45   9A  006C   184 	MOVZBL	IRAB_START_TBL[R5],R9	;GET OFFSET TO IRAB PROPER
            59            51     C0  0071   185 	ADDL2	R1,R9			;AND MAKE IT AN ADDRESS
         14 A9            51     D0  0074   186 	MOVL	R1,IRB$L_ASBADDR(R9)	;SAVE ADDRESS OF ASB
         09 A9         09 A1     90  0078   187 	MOVB	9(R1),IRB$B_BLN(R9)	;SAVE SIZE OF ASB/IRAB
                          37     11  007D   188 	BRB	INIT_IRAB		;FINISH IRAB INITIALIZATION
RMS0CONN        DISPATCH ROUTINE FOR CONNECT                     21-AUG-1978 21:58:48   VAX-11 MACRO X0.3-11               Page   6
013             RMS$CONNECT  -  $CONNECT ROUTINE                                                                                 (1)

                                     007F   190 ;
                                     007F   191 ;  ERROR HANDLING
                                     007F   192 ;
                                     007F   193 ERRACT:	$PSECT_BR	L$RMS0
                          FF7E'  31  007F       		BRW	L$RMS00
                                     0082       		.SAVE
                                 00000000       		.PSECT	L$RMS0,GBL,NOWRT
                                     0000       L$RMS00:
                          12     10  0000   194 	BSBB	ERROR
                                     0002   195 	RMSERR_WORD	ACT		;FAB FUNCTION ALREADY ACTIVE
                               825A  0002       		.WORD	RMS$_ACT&^XFFFF
                                     0004   196 	$PSECT_RESTORE
                                 00000082       		.RESTORE
                                     0082   197 ;					; OR PPF IRAB BUSY
                                     0082   198 ;
                                     0082   199 ERRIFI:	$PSECT_BR	L$RMS0
                          FF7F'  31  0082       		BRW	L$RMS01
                                     0085       		.SAVE
                                 00000004       		.PSECT	L$RMS0,GBL,NOWRT
                                     0004       L$RMS01:
                          0E     10  0004   200 	BSBB	ERROR
                                     0006   201 	RMSERR_WORD	IFI		;INVALID IFI VALUE IN FAB
                               8564  0006       		.WORD	RMS$_IFI&^XFFFF
                                     0008   202 	$PSECT_RESTORE
                                 00000085       		.RESTORE
                                     0085   203 ;
                                     0085   204 ERRFAB:	$PSECT_BR	L$RMS0
                          FF80'  31  0085       		BRW	L$RMS02
                                     0088       		.SAVE
                                 00000008       		.PSECT	L$RMS0,GBL,NOWRT
                                     0008       L$RMS02:
                          0A     10  0008   205 	BSBB	ERROR
                                     000A   206 	RMSERR_WORD	FAB		;INVALID FAB
                               850C  000A       		.WORD	RMS$_FAB&^XFFFF
                                     000C   207 	$PSECT_RESTORE
                                 00000088       		.RESTORE
                                     0088   208 ;
                                     0088   209 ERRBLN:	$PSECT_BR	L$RMS0
                          FF81'  31  0088       		BRW	L$RMS03
                                     008B       		.SAVE
                                 0000000C       		.PSECT	L$RMS0,GBL,NOWRT
                                     000C       L$RMS03:
                          06     10  000C   210 	BSBB	ERROR
                                     000E   211 	RMSERR_WORD	BLN		;INVALID BLOCK LENGTH
                               842C  000E       		.WORD	RMS$_BLN&^XFFFF
                                     0010   212 	$PSECT_RESTORE
                                 0000008B       		.RESTORE
                                     008B   213 ;
                                     008B   214 ERRCCR:	$PSECT_BR	L$RMS0
                          FF82'  31  008B       		BRW	L$RMS04
                                     008E       		.SAVE
                                 00000010       		.PSECT	L$RMS0,GBL,NOWRT
                                     0010       L$RMS04:
                          02     10  0010   215 	BSBB	ERROR			;CAN'T CONNECT RAB
                                     0012   216 	RMSERR_WORD	CCR
                               8494  0012       		.WORD	RMS$_CCR&^XFFFF
                                     0014   217 ;
RMS0CONN        DISPATCH ROUTINE FOR CONNECT                     21-AUG-1978 21:58:48   VAX-11 MACRO X0.3-11               Page   7
013             RMS$CONNECT  -  $CONNECT ROUTINE                                                                                 (1)

            50            9E     3C  0014   218 ERROR:	MOVZWL	@(SP)+,R0		;IN-LINE ERROR CODE TO R0
                          FFE6'  31  0017   219 	BRW	RM$EX_NOSTR		;REPORT ERROR
                                     001A   220 	$PSECT_RESTORE
                                 0000008E       		.RESTORE
                                     008E   221 ;
                                     008E   222 ERRBUG:	RMSTBUG	FTL$_BADIFAB		;INVALID IFAB TABLE POINTER
                                     008E       	.SAVE
                                 000000AC       	.PSECT	$ABS$,ABS
                           00000000  00AC       	.=0
                                 0000008E       	.RESTORE
                          FF6F'  30  008E       		BSBW	RM$BUG
                                 FD  0091       		.BYTE	FTL$_BADIFAB
RMS0CONN        DISPATCH ROUTINE FOR CONNECT                     21-AUG-1978 21:58:48   VAX-11 MACRO X0.3-11               Page   8
013             RMS$CONNECT  -  $CONNECT ROUTINE                                                                                 (1)

                                     0092   224 ;
                                     0092   225 ;  THIS IS AN INDIRECT CONNECT FOR A PROCESS PERMANENT FILE
                                     0092   226 ;
                                     0092   227 ;  PERFORM VARIOUS CHECKS TO SEE IF ALLOWED
                                     0092   228 ;
                                     0092   229 PPF_IND:
         02 A8         02 AA     B0  0092   230 	MOVW	FAB$W_IFI(R10),RAB$W_ISI(R8)	;SAVE RAT VALUE IN ISI
            5A            59     D0  0097   231 	MOVL	R9,R10			;GET IFAB ADDR TO RIGHT REG
            59         1C A9     D0  009A   232 	MOVL	IFB$L_IRAB_LNK(R9),R9	;GET IRAB ADDR
                          EB     13  009E   233 	BEQL	ERRCCR			;BRANCH IF NONE
            69            20     E0  00A0   234 	BBS	#IRB$V_BUSY,(R9),ERRACT	;BRANCH IF BUSY
                          DB         00A3       
                                     00A4   235 ;
                                     00A4   236 ;  DO MISCELLANEOUS CONTEXT CLEANUPS
                                     00A4   237 ;
                       42 A9     B4  00A4   238 	CLRW	IRB$W_CSIZ(R9)		;SAY NO CURRENT RECORD
                                     00A7   239 ;
                                     00A7   240 ;  RETURN THE ISI VALUE TO THE RAB AND DO A STRUCTURELESS EXIT
                                     00A7   241 ;
            10         3E A9     F0  00A7   242 20$:	INSV	IRB$B_PPF_ISI(R9),#RAB$W_ISI*8,#RAB$V_PPF_RAT,(R8)
            68            06         00AB       
                                     00AD   243 					; SET TABLE INDEX INTO ISI
                                     00AD   244 	RMSSUC
            50            01     D0  00AD       		MOVL	#1,R0
                                     00B0   245 EX_NOSTR:
                          FF4D'  31  00B0   246 	BRW	RM$EX_NOSTR		; DO STRUCTURELESS EXIT
                                     00B3   247 ;
                                     00B3   248 ;  IRAB WAS ALLOCATED BUT NO IRAB TABLE SLOT  -
                                     00B3   249 ;  DEALLOCATE THE IRAB AND RETURN AN ERROR
                                     00B3   250 ;
                                     00B3   251 ERRNOSLT:
                                     00B3   252 	$PSECT_BR	L$RMS0
                          FF64'  31  00B3       		BRW	L$RMS05
                                     00B6       		.SAVE
                                 0000001A       		.PSECT	L$RMS0,GBL,NOWRT
                                     001A       L$RMS05:
            53            5A     D0  001A   253 	MOVL	R10,R3			;PAGE ADDR OF FREE SPACE HDR
            54         14 A9     D0  001D   254 	MOVL	IRB$L_ASBADDR(R9),R4	;ADDR OF ASB/IRAB
         09 A4         09 A9     90  0021   255 	MOVB	IRB$B_BLN(R9),9(R4)	;AND SIZE
                          FFD7'  30  0026   256 	BSBW	RM$RETBLK		;GIVE IT BACK
                          E9     10  0029   257 	BSBB	ERROR
                                     002B   258 	RMSERR_WORD	DME		;RESTORE ERROR CODE
                               84D4  002B       		.WORD	RMS$_DME&^XFFFF
                                     002D   259 	$PSECT_RESTORE
                                 000000B6       		.RESTORE
RMS0CONN        DISPATCH ROUTINE FOR CONNECT                     21-AUG-1978 21:58:48   VAX-11 MACRO X0.3-11               Page   9
013             RMS$CONNECT  -  $CONNECT ROUTINE                                                                                 (1)

                                     00B6   261 ;
                                     00B6   262 ;  SET IRAB BID, BLN
                                     00B6   263 ;
                                     00B6   264 INIT_IRAB:
         08 A9            0A     90  00B6   265 	MOVB	#IRB$C_BID,IRB$B_BID(R9)
                                     00BA   266 ;
                                     00BA   267 ;  ALLOCATE AND INITIALIZE A SLOT IN THE IRAB TABLE
                                     00BA   268 ;
            55         1C AB     D0  00BA   269 	MOVL	IMP$L_IRABTBL(R11),R5	;SET TABLE ADDR
                          FF3F'  30  00BE   270 	BSBW	RM$GTSLT		;AND GET A SLOT
            EF            50     E9  00C1   271 	BLBC	R0,ERRNOSLT		;BRANCH IF NONE
         02 A8            56     B0  00C4   272 	MOVW	R6,RAB$W_ISI(R8)	;STORE ISI VALUE
         3E A9            56     B0  00C8   273 	MOVW	R6,IRB$W_OWN_ISI(R9)	;SAVE ISI VALUE
            50   00000000'9F     D0  00CC   274 	MOVL	@#SCH$GL_CURPCB,R0	;GET ADDR OF PCB FOR PROCESS
         3C A9         62 A0     B0  00D3   275 	MOVW	PCB$L_PID+2(R0),IRB$W_OWN_ID(R9)	;GET PROCESS ID INDEX
                                     00D8   276 ;
                                     00D8   277 ;  LINK THE IRAB INTO THE IFAB'S CHAIN (AT START)
                                     00D8   278 ;
            69            5A     D0  00D8   279 	MOVL	R10,IRB$L_IFAB_LNK(R9)	;SET IFAB PTR
         1C A9         1C AA     D0  00DB   280 	MOVL	IFB$L_IRAB_LNK(R10),IRB$L_IRAB_LNK(R9)
         1C AA            59     D0  00E0   281 	MOVL	R9,IFB$L_IRAB_LNK(R10)
                                     00E4   282 ;
                                     00E4   283 ;  SET STREAM BUSY AND CALL RM$RSET_ALT TO PERFORM VARIOUS OTHER SETUPS
                                     00E4   284 ;
                                     00E4   285 	SSB	#IRB$V_BUSY,(R9)	;SET STREAM BUSY
            69            20     E2  00E4       		BBSS	#IRB$V_BUSY,(R9),30000$
                          00         00E7       
                                     00E8       30000$:
                          FF15'  30  00E8   286 	BSBW	RM$RSET_ALT		;NO ERROR POSSIBLE
                                 00  00EB   287 	.BYTE	0			;NO IN-LINE CHECKS
                                     00EC   288 ;
                                     00EC   289 ;  DISPATCH TO ORGANIZATION-DEPENDENT ROUTINE
                                     00EC   290 ;
                                     00EC   291 	CASE	TYPE=B,SRC=IFB$B_ORGCASE(R10),		-;PICKUP CORRECT ROUTINE
                                     00EC   292 	DISPLIST=<RM$CONNECT1,RM$CONNECT2,RM$CONNECT3>	 ;SEQ, REL, IDX ORGS
            00         23 AA     8F  00EC       	CASEB	IFB$B_ORGCASE(R10),#0,S^#<<30002$-30001$>/2>-1
                          02'        00F0       
                                     00F1       30001$:
                               FF0F' 00F1       	.WORD	RM$CONNECT1-30001$
                               FF0F' 00F3       	.WORD	RM$CONNECT2-30001$
                               FF0F' 00F5       	.WORD	RM$CONNECT3-30001$
                                     00F7       30002$:
                                     00F7   293 
                                     00F7   294 ;++
                                     00F7   295 ;
                                     00F7   296 ;  CONNECT FOR UNKNOWN ORG.  VERIFY THAT ONLY BLOCK I/O WILL BE DONE,
                                     00F7   297 ;  GIVING ERROR OTHERWISE.
                                     00F7   298 ;
                                     00F7   299 ;--
                                     00F7   300 	$PSECT_BR	L$RMS0
                          FF33'  31  00F7       		BRW	L$RMS06
                                     00FA       		.SAVE
                                 0000002D       		.PSECT	L$RMS0,GBL,NOWRT
                                     002D       L$RMS06:
                                     002D   301 	RMSERR	ORG				; ANTICIPATE ERROR
            50       860C 8F     3C  002D       		MOVZWL	#<RMS$_ORG&^XFFFF>,R0
                                     0032   302 RM$CHKBIOCONN::
RMS0CONN        DISPATCH ROUTINE FOR CONNECT                     21-AUG-1978 21:58:48   VAX-11 MACRO X0.3-11               Page  10
013             RMS$CONNECT  -  $CONNECT ROUTINE                                                                                 (1)

            68            2B     E1  0032   303 	BBC	#RAB$V_BIO+ROP,(R8),10$		; BRANCH IF BIO ROP OPTION CLEAR
                          09         0035       
         22 AA            06     E5  0036   304 	BBCC	#FAB$V_BRO,IFB$B_FAC(R10),10$	; BRANCH IF FAC NOT BRO
                          04         003A       
         22 AA            20     88  003B   305 	BISB2	#FAB$M_BIO,IFB$B_FAC(R10)	; SWITCH BRO TO BIO
         22 AA            05     E1  003F   306 10$:	BBC	#FAB$V_BIO,IFB$B_FAC(R10),ERRORG ; ERROR IF NOT BLOCK I/O
                          03         0043       
                          FFB9'  31  0044   307 	BRW	RM$CONNECT_BIO			; CONNECT FOR BLOCK I/O
                                     0047   308 ;
                          FFB6'  30  0047   309 ERRORG:	BSBW	RM$CCLN1			; DEALLOCATE IRAB
                          FFB3'  31  004A   310 	BRW	RM$EX_NOSTR			; AND GET OUT
                                     004D   311 	$PSECT_RESTORE
                                 000000FA       		.RESTORE
                                     00FA   312 
                                     00FA   313 
                                     00FA   314 	.END
RMS0CONN        DISPATCH ROUTINE FOR CONNECT                     21-AUG-1978 21:58:48   VAX-11 MACRO X0.3-11               Page  11
SYMBOL TABLE                                                                                                                     (1)

$$.PSECT_EP    = 00000007            FAB$L_CTX        00000018            FAB$M_TRN      = 00000010            
$$RMSTEST      = 0000001A            FAB$L_DEV        00000040            FAB$M_UFM      = 04000000            
$$RMS_PBUGCHK  = 00000010            FAB$L_DNA        00000030            FAB$M_UFO      = 00020000            
$$RMS_TBUGCHK  = 00000008            FAB$L_FNA        0000002C            FAB$M_UPD      = 00000008            
$$RMS_UMODE    = 00000004            FAB$L_FOP        00000004            FAB$M_UPI      = 00000040            
ASB$B_ARGCNT     00000000            FAB$L_JNL        00000020            FAB$M_WCK      = 00000200            
ASB$B_BLN        00000001            FAB$L_MRN        00000038            FAB$S_ORG      = 00000004            
ASB$B_STKSIZ     00000002            FAB$L_NAM        00000028            FAB$S_PPF_RAT  = 00000008            
ASB$C_BLN_FAB    00000070            FAB$L_SDC        00000044            FAB$V_BIO      = 00000005            
ASB$C_BLN_IDX    000000AC            FAB$L_STS        00000008            FAB$V_BLK      = 00000003            
ASB$C_BLN_REL    00000084            FAB$L_STV        0000000C            FAB$V_BRO      = 00000006            
ASB$C_BLN_SEQ    00000080            FAB$L_XAB        00000024            FAB$V_CBT      = 00000015            
ASB$K_BLN_FAB    00000070            FAB$M_BIO      = 00000020            FAB$V_CIF      = 00000019            
ASB$K_BLN_IDX    000000AC            FAB$M_BLK      = 00000008            FAB$V_CR       = 00000001            
ASB$K_BLN_REL    00000084            FAB$M_BRO      = 00000040            FAB$V_CTG      = 00000014            
ASB$K_BLN_SEQ    00000080            FAB$M_CBT      = 00200000            FAB$V_DEL      = 00000002            
ASB$L_ERR        00000008            FAB$M_CIF      = 02000000            FAB$V_DFW      = 00000005            
ASB$L_FABRAB     00000004            FAB$M_CR       = 00000002            FAB$V_DLT      = 0000000F            
ASB$L_REGS       00000010            FAB$M_CTG      = 00100000            FAB$V_DMO      = 0000000C            
ASB$L_SUC        0000000C            FAB$M_DEL      = 00000004            FAB$V_ESC      = 0000001B            
BIT...         = 00000000            FAB$M_DFW      = 00000020            FAB$V_EXE      = 00000007            
ERRACT           0000007F R     02   FAB$M_DLT      = 00008000            FAB$V_FTN      = 00000000            
ERRBLN           00000088 R     02   FAB$M_DMO      = 00001000            FAB$V_GET      = 00000001            
ERRBUG           0000008E R     02   FAB$M_ESC      = 08000000            FAB$V_INP      = 00000013            
ERRCCR           0000008B R     02   FAB$M_EXE      = 00000080            FAB$V_JNL      = 00000016            
ERRFAB           00000085 R     02   FAB$M_FTN      = 00000001            FAB$V_KFO      = 0000001E            
ERRIFI           00000082 R     02   FAB$M_GET      = 00000002            FAB$V_MSE      = 00000004            
ERRNOSLT         000000B3 R     02   FAB$M_INP      = 00080000            FAB$V_MXV      = 00000001            
ERROR            00000014 R     04   FAB$M_JNL      = 00400000            FAB$V_NAM      = 00000018            
ERRORG           00000047 R     04   FAB$M_KFO      = 40000000            FAB$V_NEF      = 0000000A            
EX_NOSTR         000000B0 R     02   FAB$M_MSE      = 00000010            FAB$V_NFS      = 00000010            
FAB$B_BID        00000000            FAB$M_MXV      = 00000002            FAB$V_NIL      = 00000005            
FAB$B_BKS        0000003E            FAB$M_NAM      = 01000000            FAB$V_OFP      = 0000001D            
FAB$B_BLN        00000001            FAB$M_NEF      = 00000400            FAB$V_ORG      = 00000004            
FAB$B_DNS        00000035            FAB$M_NFS      = 00010000            FAB$V_POS      = 00000008            
FAB$B_FAC        00000016            FAB$M_NIL      = 00000020            FAB$V_PPF      = 00000012            
FAB$B_FNS        00000034            FAB$M_OFP      = 20000000            FAB$V_PPF_IND  = 0000000E            
FAB$B_FSZ        0000003F            FAB$M_POS      = 00000100            FAB$V_PPF_RAT  = 00000006            
FAB$B_ORG        0000001D            FAB$M_PPF      = 00040000            FAB$V_PRN      = 00000002            
FAB$B_RAT        0000001E            FAB$M_PPF_IND  = 00004000            FAB$V_PUT      = 00000000            
FAB$B_RFM        0000001F            FAB$M_PPF_RAT  = 00003FC0            FAB$V_RCK      = 00000017            
FAB$B_RTV        0000001C            FAB$M_PRN      = 00000004            FAB$V_RWC      = 0000000B            
FAB$B_SHR        00000017            FAB$M_PUT      = 00000001            FAB$V_RWO      = 00000007            
FAB$C_BID      = 00000003            FAB$M_RCK      = 00800000            FAB$V_SCF      = 0000000E            
FAB$C_BLN        00000050            FAB$M_RWC      = 00000800            FAB$V_SHRDEL   = 00000002            
FAB$C_FIX      = 00000001            FAB$M_RWO      = 00000080            FAB$V_SHRGET   = 00000001            
FAB$C_HSH      = 00000030            FAB$M_SCF      = 00004000            FAB$V_SHRPUT   = 00000000            
FAB$C_IDX      = 00000020            FAB$M_SHRDEL   = 00000004            FAB$V_SHRUPD   = 00000003            
FAB$C_MAXRFM   = 00000003            FAB$M_SHRGET   = 00000002            FAB$V_SPL      = 0000000D            
FAB$C_REL      = 00000010            FAB$M_SHRPUT   = 00000001            FAB$V_SQO      = 00000006            
FAB$C_RFM_DFLT = 00000002            FAB$M_SHRUPD   = 00000008            FAB$V_SUP      = 00000002            
FAB$C_SEQ      = 00000000            FAB$M_SPL      = 00002000            FAB$V_TEF      = 0000001C            
FAB$C_UDF      = 00000000            FAB$M_SQO      = 00000040            FAB$V_TMD      = 00000004            
FAB$C_VAR      = 00000002            FAB$M_SUP      = 00000004            FAB$V_TMP      = 00000003            
FAB$C_VFC      = 00000003            FAB$M_TEF      = 10000000            FAB$V_TRN      = 00000004            
FAB$K_BLN        00000050            FAB$M_TMD      = 00000010            FAB$V_UFM      = 0000001A            
FAB$L_ALQ        00000010            FAB$M_TMP      = 00000008            FAB$V_UFO      = 00000011            
RMS0CONN        DISPATCH ROUTINE FOR CONNECT                     21-AUG-1978 21:58:48   VAX-11 MACRO X0.3-11               Page  12
SYMBOL TABLE                                                                                                                     (1)

FAB$V_UPD      = 00000003            IFB$C_SEQ      = 00000000            IFB$V_MSE      = 00000031            
FAB$V_UPI      = 00000006            IFB$K_BLN        00000060            IFB$V_NORECLK  = 00000033            
FAB$V_WCK      = 00000009            IFB$K_BLN_IDX    00000060            IFB$V_NSP      = 0000003F            
FAB$W_BLS        0000003C            IFB$K_BLN_REL    00000060            IFB$V_NWA      = 0000003C            
FAB$W_DEQ        00000014            IFB$K_BLN_SEQ    0000005C            IFB$V_ORG      = 00000004            
FAB$W_IFI        00000002            IFB$K_FHAEND     00000050            IFB$V_PPF_IMAGE= 00000022            
FAB$W_MRS        00000036            IFB$L_ARGLST     00000018            IFB$V_PPF_INPUT= 0000002E            
FTL$_ASBALLFAIL= FFFFFFF9            IFB$L_ASBADDR    00000014            IFB$V_PUT      = 00000000            
FTL$_BADASTPRM = FFFFFFF8            IFB$L_AS_DEV     00000054            IFB$V_RFM      = 00000000            
FTL$_BADBDB    = FFFFFFFA            IFB$L_BDB_BLNK   00000034            IFB$V_RWC      = 00000027            
FTL$_BADBUFSIZ = FFFFFFF3            IFB$L_BDB_FLNK   00000030            IFB$V_RW_ATTR  = 00000034            
FTL$_BADIFAB   = FFFFFFFD            IFB$L_BKPBITS    00000004            IFB$V_SCF      = 0000002A            
FTL$_BADLEVEL  = FFFFFFE6            IFB$L_BWB        0000000C            IFB$V_SPL      = 00000029            
FTL$_BADORGCASE= FFFFFFFB            IFB$L_DVBN       00000058            IFB$V_SQO      = 0000002D            
FTL$_CANTDOAST = FFFFFFF7            IFB$L_EBK        00000044            IFB$V_TEF      = 00000036            
FTL$_DEALLERR  = FFFFFFEF            IFB$L_FRB_PTR    00000028            IFB$V_TMP      = 00000035            
FTL$_GTCHNFAIL = FFFFFFFC            IFB$L_FWA_BDB    00000050            IFB$V_TRN      = 00000004            
FTL$_IORNDN    = FFFFFFEE            IFB$L_HBK        00000040            IFB$V_UPD      = 00000003            
FTL$_LOCKFAILED= FFFFFFE7            IFB$L_IDX_PTR    00000054            IFB$V_WRTACC   = 00000030            
FTL$_NOASB     = FFFFFFF5            IFB$L_IOS        0000000C            IFB$W_ASDEVBSIZ  0000005A            
FTL$_NODIDORFID= FFFFFFEB            IFB$L_IOS4       00000010            IFB$W_BKS_BYTES  0000005C            
FTL$_NOLOCKBDB = FFFFFFE9            IFB$L_IRAB_LNK   0000001C            IFB$W_BKS_RECS   0000005E            
FTL$_NONETWORK = FFFFFFE8            IFB$L_LAST_FAB   00000024            IFB$W_CHNL       00000020            
FTL$_NONXTBDB  = FFFFFFF4            IFB$L_LOCK_BDB   00000050            IFB$W_DEQ        0000004E            
FTL$_NOSTRUCT  = FFFFFFF6            IFB$L_MRN        00000054            IFB$W_DEVBUFSIZ  00000038            
FTL$_NOTLOCKED = FFFFFFEC            IFB$L_NRP_LNK    00000050            IFB$W_EBK0       00000044            
FTL$_RELEASFAIL= FFFFFFEA            IFB$L_NWA_PTR    00000028            IFB$W_EBK2       00000046            
FTL$_SETPRTFAIL= FFFFFFFF            IFB$L_PRIM_DEV   00000000            IFB$W_FFB        00000048            
FTL$_STKTOOBIG = FFFFFFFE            IFB$L_RLB_LNK    0000002C            IFB$W_IOS2       0000000E            
FTL$_XFERSIZE  = FFFFFFED            IFB$L_RNS_LEN    00000050            IFB$W_LRL        0000003E            
GBL...         = 00000000            IFB$M_BIO      = 00000020            IFB$W_MRS        0000004C            
IFB$B_AMAX       00000059            IFB$M_BRO      = 00000040            IFB$W_RTDEQ      0000003A            
IFB$B_AVBN       00000058            IFB$M_DEL      = 00000004            IMP$B_PROT       00000002            
IFB$B_BID        00000008            IFB$M_EXE      = 00000080            IMP$C_ASYEFN   = 0000001E            
IFB$B_BKS        0000004A            IFB$M_GET      = 00000002            IMP$C_ASYQIOEFN= 0000001F            
IFB$B_BLN        00000009            IFB$M_PUT      = 00000001            IMP$C_ENTPERSEG= 0000000F            
IFB$B_EFN        0000000B            IFB$M_TRN      = 00000010            IMP$C_IOREFN   = 0000001E            
IFB$B_EXTRABUF   0000005D            IFB$M_UPD      = 00000008            IMP$C_MBXEFN   = 0000001A            
IFB$B_FAC        00000022            IFB$S_ORG      = 00000004            IMP$C_NPIOFILES= 0000000C            
IFB$B_FSZ        0000004B            IFB$S_RFM      = 00000004            IMP$C_SYNCEFN  = 0000001B            
IFB$B_KBUFSZ     0000005C            IFB$V_ACCESSED = 00000025            IMP$L_FREEPGLH   0000000C            
IFB$B_MODE       0000000A            IFB$V_ANSI_D   = 00000026            IMP$L_IFABTBL    00000018            
IFB$B_NUM_KEYS   0000005A            IFB$V_ASYNC    = 00000023            IMP$L_IFBTBLINK  00000024            
IFB$B_ORGCASE    00000023            IFB$V_ASYNCWAIT= 00000024            IMP$L_IOSEGADDR  00000004            
IFB$B_RAT        0000003D            IFB$V_BIO      = 00000005            IMP$L_IOSEGLEN   00000008            
IFB$B_RFMORG     0000003C            IFB$V_BRO      = 00000006            IMP$L_IRABTBL    0000001C            
IFB$B_UBUFSZ     0000005B            IFB$V_BUSY     = 00000020            IMP$L_IRBTBLINK  00000064            
IFB$C_BID      = 0000000B            IFB$V_CREATE   = 00000032            IMP$L_SAVED_SP   00000014            
IFB$C_BLN        00000060            IFB$V_DAP      = 0000003E            IMP$V_AST      = 00000001            
IFB$C_BLN_IDX    00000060            IFB$V_DAP_OPEN = 0000003D            IMP$V_IIOS     = 00000000            
IFB$C_BLN_REL    00000060            IFB$V_DEL      = 00000002            IMP$V_IORUNDOWN= 00000004            
IFB$C_BLN_SEQ    0000005C            IFB$V_DFW      = 0000002C            IMP$V_NOP0BUFS = 00000005            
IFB$C_DIR      = 00000003            IFB$V_DLT      = 0000002B            IMP$V_TEMP1    = 00000002            
IFB$C_FHAEND     00000050            IFB$V_DMO      = 00000028            IMP$V_TEMP2    = 00000003            
IFB$C_IDX      = 00000002            IFB$V_EOF      = 00000021            IMP$W_ENTPERSEG  00000020            
IFB$C_MAXORG   = 00000002            IFB$V_EXE      = 00000007            IMP$W_NUM_IFABS  00000022            
IFB$C_REL      = 00000001            IFB$V_GET      = 00000001            IMP$W_RMSSTATUS  00000000            
RMS0CONN        DISPATCH ROUTINE FOR CONNECT                     21-AUG-1978 21:58:48   VAX-11 MACRO X0.3-11               Page  13
SYMBOL TABLE                                                                                                                     (1)

INIT_IRAB        000000B6 R     02   IRB$V_BIO_LAST = 00000027            PCB$L_PHYPCB     00000018            
IRAB_SIZE_TBL    00000000 R     02   IRB$V_BRO_SW   = 00000028            PCB$L_PID        00000060            
IRAB_START_TBL   00000003 R     02   IRB$V_BUSY     = 00000020            PCB$L_PQB        0000004C            
IRB$B_BCNT       00000040            IRB$V_DAP_CONN = 0000003E            PCB$L_SQBL       00000004            
IRB$B_BID        00000008            IRB$V_DAP_FMODE= 0000003F            PCB$L_SQFL       00000000            
IRB$B_BLN        00000009            IRB$V_DUP      = 0000002C            PCB$L_STS        00000028            
IRB$B_EFN        0000000B            IRB$V_EOF      = 00000021            PCB$L_UIC        00000020            
IRB$B_KEYSZ      00000051            IRB$V_FIND     = 00000029            PCB$L_WSSWP      00000024            
IRB$B_MBC        00000041            IRB$V_FIND_LAST= 00000025            PCB$L_WTIME      0000002C            
IRB$B_MODE       0000000A            IRB$V_IDX_ERR  = 00000031            PCB$T_LNAME      0000006C            
IRB$B_NRP_ID     00000030            IRB$V_LOCKABOVE= 00000002            PCB$V_ASTPEN   = 00000011            
IRB$B_NRP_KREF   00000031            IRB$V_NEW_IDX  = 00000003            PCB$V_BATCH    = 0000000E            
IRB$B_NVBNS      00000048            IRB$V_POSINSERT= 00000000            PCB$V_DELPEN   = 00000001            
IRB$B_POST_CCTL  00000045            IRB$V_PPF_EOF  = 0000002E            PCB$V_FORCPEN  = 00000002            
IRB$B_PPF_ISI    0000003E            IRB$V_PPF_FNDSV= 00000030            PCB$V_HIBER    = 00000013            
IRB$B_PRE_CCTL   00000044            IRB$V_PPF_IMAGE= 00000022            PCB$V_INQUAN   = 00000003            
IRB$B_RFA_ID     00000058            IRB$V_PPF_SKIP = 0000002F            PCB$V_LOGIN    = 00000014            
IRB$B_RP_ID      00000038            IRB$V_PUTS_LAST= 00000026            PCB$V_NETWRK   = 00000015            
IRB$B_RP_KREF    00000039            IRB$V_RAHWBH   = 0000002A            PCB$V_NOACNT   = 0000000F            
IRB$B_RRV_ID     00000050            IRB$V_SKIP_NEXT= 0000002B            PCB$V_NODELET  = 00000017            
IRB$B_SRCHFLAGS  00000043            IRB$V_SRCHGT   = 00000001            PCB$V_PHDRES   = 00000012            
IRB$B_STOPLEVEL  00000042            IRB$V_UNLOCK_RP= 0000002D            PCB$V_PSWAPM   = 00000004            
IRB$C_BID      = 0000000A            IRB$V_WRITE    = 00000029            PCB$V_PWRAST   = 00000016            
IRB$C_BLN_IDX    0000006C            IRB$W_CSIZ       00000042            PCB$V_RES      = 00000000            
IRB$C_BLN_REL    00000048            IRB$W_DUP_POS    00000032            PCB$V_RESPEN   = 00000005            
IRB$C_BLN_SEQ    0000004C            IRB$W_IOS2       0000000E            PCB$V_SSFEXC   = 00000006            
IRB$K_BLN_IDX    0000006C            IRB$W_NRP_OFF    00000030            PCB$V_SSFEXCE  = 00000007            
IRB$K_BLN_REL    00000048            IRB$W_OWN_ID     0000003C            PCB$V_SSFEXCS  = 00000008            
IRB$K_BLN_SEQ    0000004C            IRB$W_OWN_ISI    0000003E            PCB$V_SSFEXCU  = 00000009            
IRB$L_ARGLST     00000018            IRB$W_ROVHDSZ    00000044            PCB$V_SSRWAIT  = 0000000A            
IRB$L_ASBADDR    00000014            IRB$W_RP_OFF     00000038            PCB$V_SUSPEN   = 0000000B            
IRB$L_BKPBITS    00000004            IRB$W_RTOTLSZ    00000046            PCB$V_SWPVBN   = 00000010            
IRB$L_BWB        0000000C            IRB$W_SAVE_POS   00000052            PCB$V_WAKEPEN  = 0000000C            
IRB$L_CURBDB     00000020            L$RMS00          00000000 R     04   PCB$V_WALL     = 0000000D            
IRB$L_CURVBN     00000030            L$RMS01          00000004 R     04   PCB$W_APTCNT     00000034            
IRB$L_IFAB_LNK   00000000            L$RMS02          00000008 R     04   PCB$W_ASTCNT     0000003C            
IRB$L_IOS        0000000C            L$RMS03          0000000C R     04   PCB$W_BIOCNT     0000003E            
IRB$L_IOS4       00000010            L$RMS04          00000010 R     04   PCB$W_BIOLM      00000040            
IRB$L_IRAB_LNK   0000001C            L$RMS05          0000001A R     04   PCB$W_BYTCNT     00000042            
IRB$L_KEYBUF     00000048            L$RMS06          0000002D R     04   PCB$W_BYTLM      00000068            
IRB$L_LAST_RAB   00000024            PCB$B_ASTACT     0000000C            PCB$W_DIOCNT     00000044            
IRB$L_LOCK_BDB   0000005C            PCB$B_ASTEN      0000000D            PCB$W_DIOLM      00000046            
IRB$L_NRP        0000002C            PCB$B_PRI        0000000B            PCB$W_FILCNT     00000048            
IRB$L_NRP_OFF    00000030            PCB$B_PRIB       00000033            PCB$W_GPGCNT     00000038            
IRB$L_NRP_VBN    0000002C            PCB$B_TYPE       0000000A            PCB$W_GRP        00000022            
IRB$L_NXTBDB     00000028            PCB$B_WEFC       00000032            PCB$W_MEM        00000020            
IRB$L_OWNER_ID   0000003C            PCB$C_LENGTH     0000007C            PCB$W_MTXCNT     0000000E            
IRB$L_RFA_VBN    00000054            PCB$K_LENGTH     0000007C            PCB$W_PPGCNT     0000003A            
IRB$L_RLB_ADDR   00000044            PCB$L_ASTQBL     00000014            PCB$W_PRCCNT     0000006A            
IRB$L_RP         00000034            PCB$L_ASTQFL     00000010            PCB$W_SIZE       00000008            
IRB$L_RP_OFF     00000038            PCB$L_EFC2P      00000058            PCB$W_STATE      00000030            
IRB$L_RP_VBN     00000034            PCB$L_EFC3P      0000005C            PCB$W_TMBU       00000036            
IRB$L_RRV_VBN    0000004C            PCB$L_EFCS       00000050            PCB$W_TQCNT      0000004A            
IRB$L_TEMP0      00000044            PCB$L_EFCU       00000054            PIO$GL_FMLH      ********   X   02   
IRB$L_TEMP1      00000048            PCB$L_EFWM       0000004C            PIO$V_EOD      = 00000001            
IRB$V_ASYNC    = 00000023            PCB$L_OWNER      0000001C            PIO$V_INHAST   = 00000000            
IRB$V_ASYNCWAIT= 00000024            PCB$L_PHD        00000064            PIO$V_SYNC1    = 00000002            
RMS0CONN        DISPATCH ROUTINE FOR CONNECT                     21-AUG-1978 21:58:48   VAX-11 MACRO X0.3-11               Page  14
SYMBOL TABLE                                                                                                                     (1)

PIO$V_SYNC2    = 00000003            RAB$M_TPT      = 00000002            RMS$_ACC       = 0001C002            
PPF_IND          00000092 R     02   RAB$M_UIF      = 00000010            RMS$_ACT       = 0001825A            
RAB$B_BID        00000000            RAB$M_ULK      = 00040000            RMS$_AID       = 000183F4            
RAB$B_BLN        00000001            RAB$M_WAT      = 00020000            RMS$_ALN       = 000183FC            
RAB$B_KRF        00000035            RAB$M_WBH      = 00000400            RMS$_ALQ       = 00018404            
RAB$B_KSZ        00000034            RAB$S_PPF_RAT  = 00000008            RMS$_ANI       = 0001840C            
RAB$B_MBC        00000037            RAB$V_ASY      = 00000000            RMS$_AOP       = 00018414            
RAB$B_MBF        00000036            RAB$V_BIO      = 0000000B            RMS$_ATR       = 0001C0CC            
RAB$B_PSZ        00000034            RAB$V_CCO      = 0000001F            RMS$_ATW       = 0001C0D4            
RAB$B_RAC        0000001E            RAB$V_CVT      = 0000001A            RMS$_BKS       = 0001841C            
RAB$B_ROP1       00000005            RAB$V_EOF      = 00000008            RMS$_BKZ       = 00018424            
RAB$B_ROP2       00000006            RAB$V_FDL      = 00000006            RMS$_BLN       = 0001842C            
RAB$B_ROP3       00000007            RAB$V_HSH      = 00000007            RMS$_BOF       = 00018198            
RAB$B_TMO        0000001F            RAB$V_KGE      = 00000015            RMS$_BUG       = 00018434            
RAB$C_BID      = 00000001            RAB$V_KGT      = 00000016            RMS$_BUG_DAP   = 00018444            
RAB$C_BLN        00000044            RAB$V_LIM      = 0000000E            RMS$_BUG_DDI   = 0001843C            
RAB$C_KEY      = 00000001            RAB$V_LOA      = 0000000D            RMS$_BUG_XX2   = 0001844C            
RAB$C_RFA      = 00000002            RAB$V_LOC      = 00000010            RMS$_BUG_XX3   = 00018454            
RAB$C_SEQ      = 00000000            RAB$V_MAS      = 00000005            RMS$_BUG_XX4   = 0001845C            
RAB$K_BLN        00000044            RAB$V_NLK      = 00000014            RMS$_BUG_XX5   = 00018464            
RAB$L_BKT        00000038            RAB$V_NXR      = 00000017            RMS$_BUG_XX6   = 0001846C            
RAB$L_CTX        00000018            RAB$V_PMT      = 0000001E            RMS$_BUG_XX7   = 00018474            
RAB$L_DCT        00000038            RAB$V_PPF_IND  = 0000000E            RMS$_BUG_XX8   = 0001847C            
RAB$L_FAB        0000003C            RAB$V_PPF_RAT  = 00000006            RMS$_BUG_XX9   = 00018484            
RAB$L_KBF        00000030            RAB$V_PTA      = 0000001D            RMS$_CAA       = 0001848C            
RAB$L_PBF        00000030            RAB$V_RAH      = 00000009            RMS$_CCF       = 0001C0DC            
RAB$L_RBF        00000028            RAB$V_RLK      = 00000013            RMS$_CCR       = 00018494            
RAB$L_RFA0       00000010            RAB$V_RNE      = 00000018            RMS$_CDA       = 0001C0E4            
RAB$L_RHB        0000002C            RAB$V_RNF      = 0000001B            RMS$_CHG       = 0001849C            
RAB$L_ROP        00000004            RAB$V_TMO      = 00000019            RMS$_CHK       = 000184A4            
RAB$L_STS        00000008            RAB$V_TPT      = 00000001            RMS$_CHN       = 0001C0EC            
RAB$L_STV        0000000C            RAB$V_UIF      = 00000004            RMS$_COD       = 000184AC            
RAB$L_UBF        00000024            RAB$V_ULK      = 00000012            RMS$_CONTROLC  = 00010651            
RAB$M_ASY      = 00000001            RAB$V_WAT      = 00000011            RMS$_CONTROLO  = 00010609            
RAB$M_BIO      = 00000800            RAB$V_WBH      = 0000000A            RMS$_CONTROLY  = 00010611            
RAB$M_CCO      = 80000000            RAB$W_ISI        00000002            RMS$_CRE       = 0001C00A            
RAB$M_CVT      = 04000000            RAB$W_RFA        00000010            RMS$_CREATED   = 00010619            
RAB$M_EOF      = 00000100            RAB$W_RFA4       00000014            RMS$_CUR       = 000184B4            
RAB$M_FDL      = 00000040            RAB$W_RSZ        00000022            RMS$_DAC       = 0001C012            
RAB$M_HSH      = 00000080            RAB$W_USZ        00000020            RMS$_DAN       = 000184BC            
RAB$M_KGE      = 00200000            RM$BUG           ********   X   02   RMS$_DEL       = 00018262            
RAB$M_KGT      = 00400000            RM$CCLN1         ********   X   04   RMS$_DEV       = 000184C4            
RAB$M_LIM      = 00004000            RM$CHKBIOCONN    00000032 RG    04   RMS$_DIR       = 000184CC            
RAB$M_LOA      = 00002000            RM$CONNECT1      ********   X   02   RMS$_DME       = 000184D4            
RAB$M_LOC      = 00010000            RM$CONNECT2      ********   X   02   RMS$_DNA       = 000184DC            
RAB$M_MAS      = 00000020            RM$CONNECT3      ********   X   02   RMS$_DNF       = 0001C04A            
RAB$M_NLK      = 00100000            RM$CONNECT_BIO   ********   X   04   RMS$_DNR       = 00018272            
RAB$M_NXR      = 00800000            RM$EX_NOSTR      ********   X   04   RMS$_DPE       = 0001C03A            
RAB$M_PMT      = 40000000            RM$GETBLK        ********   X   02   RMS$_DTP       = 000184E4            
RAB$M_PPF_IND  = 00004000            RM$GTIADR        ********   X   02   RMS$_DUP       = 000184EC            
RAB$M_PPF_RAT  = 00003FC0            RM$GTSLT         ********   X   02   RMS$_DVI       = 000184F4            
RAB$M_PTA      = 20000000            RM$RABCHK        ********   X   02   RMS$_ENT       = 0001C01A            
RAB$M_RAH      = 00000200            RM$RETBLK        ********   X   04   RMS$_ENV       = 00018724            
RAB$M_RLK      = 00080000            RM$RSET_ALT      ********   X   02   RMS$_EOF       = 0001827A            
RAB$M_RNE      = 01000000            RMS$CONNECT    = 00000004 RG    02   RMS$_ESA       = 000184FC            
RAB$M_RNF      = 08000000            RMS$V_STVSTATUS= 0000000E            RMS$_ESL       = 00018714            
RAB$M_TMO      = 02000000            RMS$_ABO       = 000183EC            RMS$_ESS       = 00018504            
RMS0CONN        DISPATCH ROUTINE FOR CONNECT                     21-AUG-1978 21:58:48   VAX-11 MACRO X0.3-11               Page  15
SYMBOL TABLE                                                                                                                     (1)

RMS$_EXP       = 000182C2            RMS$_PLG       = 0001861C            ROP            = 00000020            
RMS$_EXT       = 0001C022            RMS$_PLV       = 0001872C            SCH$GL_CURPCB    ********   X   02   
RMS$_FAB       = 0001850C            RMS$_POS       = 00018624            TPT$L_CONNECT    ********   X   02   
RMS$_FAC       = 00018514            RMS$_PRM       = 0001862C            
RMS$_FEX       = 00018282            RMS$_PRV       = 0001829A            
RMS$_FLG       = 0001851C            RMS$_QUO       = 00018634            
RMS$_FLK       = 0001828A            RMS$_RAB       = 0001863C            
RMS$_FNA       = 00018524            RMS$_RAC       = 00018644            
RMS$_FND       = 0001C02A            RMS$_RAT       = 0001864C            
RMS$_FNF       = 00018292            RMS$_RBF       = 00018654            
RMS$_FNM       = 0001852C            RMS$_RER       = 0001C0F4            
RMS$_FOP       = 0001853C            RMS$_REX       = 000182A2            
RMS$_FSZ       = 00018534            RMS$_RFA       = 0001865C            
RMS$_FUL       = 00018544            RMS$_RFM       = 00018664            
RMS$_IAL       = 0001854C            RMS$_RHB       = 0001866C            
RMS$_IAN       = 00018554            RMS$_RLF       = 00018674            
RMS$_IBF       = 00018754            RMS$_RLK       = 000182AA            
RMS$_IDX       = 0001855C            RMS$_RMV       = 0001C0FC            
RMS$_IFA       = 0001C124            RMS$_RNF       = 000182B2            
RMS$_IFI       = 00018564            RMS$_RNL       = 000181A0            
RMS$_IMX       = 0001856C            RMS$_ROP       = 0001867C            
RMS$_IOP       = 00018574            RMS$_RPL       = 0001C104            
RMS$_IRC       = 0001857C            RMS$_RRV       = 00018684            
RMS$_ISI       = 00018584            RMS$_RSA       = 000182DA            
RMS$_KBF       = 0001858C            RMS$_RSL       = 0001873C            
RMS$_KEY       = 00018594            RMS$_RSS       = 00018694            
RMS$_KFF       = 00018031            RMS$_RST       = 0001869C            
RMS$_KRF       = 0001859C            RMS$_RSZ       = 000186A4            
RMS$_KSZ       = 000185A4            RMS$_RTB       = 000181A8            
RMS$_LAN       = 000185AC            RMS$_SEQ       = 000186AC            
RMS$_LBL       = 000185B4            RMS$_SHR       = 000186B4            
RMS$_LNE       = 000185BC            RMS$_SIZ       = 000186BC            
RMS$_LOC       = 000185C4            RMS$_SPL       = 0001C042            
RMS$_MBC       = 00018734            RMS$_SQO       = 000186C4            
RMS$_MKD       = 0001C032            RMS$_STALL     = 00018001            
RMS$_MRN       = 000185CC            RMS$_STK       = 000186CC            
RMS$_MRS       = 000185D4            RMS$_SUC       = 00010001            
RMS$_NAM       = 000185DC            RMS$_SUP       = 000182D2            
RMS$_NEF       = 000185E4            RMS$_SUPERSEDE = 00010631            
RMS$_NET       = 0001874C            RMS$_SYN       = 000186D4            
RMS$_NID       = 000185EC            RMS$_SYS       = 0001C10C            
RMS$_NMF       = 000182CA            RMS$_TEMP1     = 0001826A            
RMS$_NOD       = 000185F4            RMS$_TEMP2     = 0001868C            
RMS$_NORMAL    = 00010001            RMS$_TMO       = 000181B0            
RMS$_NPK       = 000185FC            RMS$_TRE       = 000186DC            
RMS$_OK_ALK    = 00018039            RMS$_TYP       = 000186E4            
RMS$_OK_DEL    = 00018041            RMS$_UBF       = 000186EC            
RMS$_OK_DUP    = 00018011            RMS$_USZ       = 000186F4            
RMS$_OK_IDX    = 00018019            RMS$_VER       = 000186FC            
RMS$_OK_LIM    = 00018051            RMS$_VOL       = 00018704            
RMS$_OK_RLK    = 00018021            RMS$_WBE       = 0001C12C            
RMS$_OK_RNF    = 00018049            RMS$_WER       = 0001C114            
RMS$_OK_RRV    = 00018029            RMS$_WLD       = 00018744            
RMS$_ORD       = 00018604            RMS$_WLK       = 000182BA            
RMS$_ORG       = 0001860C            RMS$_WPL       = 0001C11C            
RMS$_PBF       = 00018614            RMS$_WSF       = 0001871C            
RMS$_PENDING   = 00018009            RMS$_XAB       = 0001870C            
RMS0CONN        DISPATCH ROUTINE FOR CONNECT                     21-AUG-1978 21:58:48   VAX-11 MACRO X0.3-11               Page  16
PROGRAM SECTION SYNOPSIS                                                                                                         (1)



PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
F$RMSOPEN0       000000FA      02     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD  NOWRT BYTE  
$ABS$            000000AC      03     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
L$RMS0           0000004D      04     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD  NOWRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
4190. BYTES LEFT IN FREE MEMORY POOL.
3436. BYTES OF RECLAIMED MEMORY.
OBJ$:RMS0CONN,LIS$:RMS0CONN/-SP=EXECML$/ML,LIB$:R/ML,SRC$:RMS0CONN
41 MLB DIR RDS - 1333 GETS TO DEFINE 34 MACROS. 100 INTER. FILE WRITES. 

RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (1)      41  DECLARATIONS
   (1)      71  RM$PRFLNM  -  FILENAME PROCESSING ROUTINE
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page   1
026                                                                                                                              (1)

                                     0000     1 	$BEGIN RM0PRFLNM,026,F$RMSOPEN0,<PROCESS FILE NAME>
                                     0000     2 
                                     0000     3 
                                     0000     4 ;
                                     0000     5 ; COPYRIGHT (C) 1977, 1978
                                     0000     6 ; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS 01754
                                     0000     7 ;
                                     0000     8 ; THIS SOFTWARE IS FURNISHED  UNDER A LICENSE FOR USE ONLY ON A SINGLE
                                     0000     9 ; COMPUTER  SYSTEM AND  MAY BE  COPIED ONLY WITH  THE INCLUSION OF THE
                                     0000    10 ; ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE, OR ANY OTHER COPIES THEREOF,
                                     0000    11 ; MAY NOT BE PROVIDED OR  OTHERWISE MADE AVAILABLE TO ANY OTHER PERSON
                                     0000    12 ; EXCEPT FOR USE ON SUCH SYSTEM AND TO ONE WHO AGREES TO THESE LICENSE
                                     0000    13 ; TERMS.  TITLE TO AND  OWNERSHIP OF THE  SOFTWARE  SHALL AT ALL TIMES
                                     0000    14 ; REMAIN IN DEC.
                                     0000    15 ;
                                     0000    16 ; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE WITHOUT NOTICE
                                     0000    17 ; AND SHOULD  NOT BE CONSTRUED  AS A COMMITMENT  BY DIGITAL  EQUIPMENT
                                     0000    18 ; CORPORATION.
                                     0000    19 ;
                                     0000    20 ; DEC ASSUMES  NO  RESPONSIBILITY  FOR  THE USE OR  RELIABILITY OF ITS
                                     0000    21 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
                                     0000    22 
                                     0000    23 ;++
                                     0000    24 ; FACILITY: RMS32
                                     0000    25 ;
                                     0000    26 ; ABSTRACT:
                                     0000    27 ;		THIS ROUTINE PERFORMS RMS32 FILE NAME PROCESSING.
                                     0000    28 ;
                                     0000    29 ; ENVIRONMENT:
                                     0000    30 ;		STAR PROCESSOR RUNNING STARLET EXEC.
                                     0000    31 ;
                                     0000    32 ; AUTHOR: L F LAVERDURE,	 CREATION DATE: 4-JAN-77
                                     0000    33 ;
                                     0000    34 ; MODIFIED BY:
                                     0000    35 ;
                                     0000    36 ;	L F LAVERDURE,   19-JUN-78  13:19
                                     0000    37 ;	J A KRYCKA,	 10-APR-78  10:00
                                     0000    38 ; 01	- 
                                     0000    39 ;--
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page   2
026             DECLARATIONS                                                                                                     (1)

                                     0000    41 	.SBTTL	DECLARATIONS
                                     0000    42 ;
                                     0000    43 ; INCLUDE FILES:
                                     0000    44 ;
                                     0000    45 
                                     0000    46 ;
                                     0000    47 ; MACROS:
                                     0000    48 ;
                                     0000    49 	$FABDEF
                                     0000    50 	$DEVDEF
                                     0000    51 	$DIBDEF
                                     0000    52 	$IFBDEF
                                     0000    53 	$IMPDEF
                                     0000    54 	$FWADEF
                                     0000    55 	$PSLDEF
                                     0000    56 	$ASSIGNDEF
                                     0000    57 	$FIBDEF
                                     0000    58 	$RMSDEF
                                     0000    59 	.LIST MEB
                                     0000    60 
                                     0000    61 ;
                                     0000    62 ; EQUATED SYMBOLS:
                                     0000    63 ;
                           00000020  0000    64 	FOP=FAB$L_FOP*8		; BIT OFFSET TO FOP
                                     0000    65 
                                     0000    66 ;
                                     0000    67 ; OWN STORAGE:
                                     0000    68 ;
                                     0000    69 
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page   3
026             RM$PRFLNM  -  FILENAME PROCESSING ROUTINE                                                                        (1)

                                     0000    71 	.SBTTL RM$PRFLNM  -  FILENAME PROCESSING ROUTINE
                                     0000    72 ;++
                                     0000    73 ; FUNCTIONAL DESCRIPTION:
                                     0000    74 ;
                                     0000    75 ;  THIS ROUTINE FIRST SETS UP VARIOUS FILE ACCESS AND
                                     0000    76 ;  SHARING BITS, THEN ALLOCATES A BUFFER AND BDB TO
                                     0000    77 ;  USE AS A SCRATCH WORK AREA FOR BUILDING
                                     0000    78 ;  THE EXPANDED FILENAME STRING AND INTERFACING WITH
                                     0000    79 ;  F11ACP, CALLS RM$XPFN TO EXPAND THE FILENAME STRING,
                                     0000    80 ;  ASSIGNS AN I/O CHANNEL, AND FINALLY RETRIEVES THE
                                     0000    81 ;  DEVICE CHARACTERISTICS, FILLING IN THE ASSOCIATED
                                     0000    82 ;  IFAB AND FAB FIELDS.
                                     0000    83 ;
                                     0000    84 ;  IF THE RESULT OF THE FILE NAME EXPANSION INDICATES THAT THE FILE IN
                                     0000    85 ;  QUESTION IS AN INDIRECTLY ACCESSED PROCESS PERMANENT FILE, NO I/O
                                     0000    86 ;  CHANNEL NEED BE ASSIGNED, AS THIS HAS ALREADY BEEN DONE.  INSTEAD, 
                                     0000    87 ;  AN IFI IS CONSTRUCTED THAT POINTS THIS FAB AT THE ASSOCIATED PROCESS
                                     0000    88 ;  PERMANENT FILE.  THIS HAS THE SIDE EFFECT OF TURNING A $CREATE CALL FOR
                                     0000    89 ;  AN INDIRECTLY ACCESSED PROCESS PERMANENT FILE INTO AN $OPEN.  THIS IS
                                     0000    90 ;  DONE BY RETURNING TO THE $OPEN CODE RATHER THAN THE $CREATE CODE.
                                     0000    91 ;
                                     0000    92 ;  IF AN ERROR OCCURS, CLEANUP MAY BE REQUIRED TO
                                     0000    93 ;  DEALLOCATE THE BDB AND BUFFER AND DEASSIGN THE CHANNEL.
                                     0000    94 ;
                                     0000    95 ; CALLING SEQUENCE:
                                     0000    96 ;
                                     0000    97 ;	BSBW	RM$PRFLNM
                                     0000    98 ;
                                     0000    99 ; INPUT PARAMETERS:
                                     0000   100 ;
                                     0000   101 ;	R11	IMPURE AREA ADDRESS
                                     0000   102 ;	R10	IFAB ADDRESS
                                     0000   103 ;	R9	IFAB ADDRESS
                                     0000   104 ;	R8	FAB ADDRESS
                                     0000   105 ;
                                     0000   106 ; IMPLICIT INPUTS:
                                     0000   107 ;
                                     0000   108 ;	THE CONTENTS OF THE VARIOUS FAB AND IFAB FIELDS
                                     0000   109 ;	(SEE FUNCTIONAL SPEC FOR DETAILS), IN PARTICULAR,
                                     0000   110 ;	THE VARIOUS FILE NAME SPECIFICATION FIELDS.
                                     0000   111 ;
                                     0000   112 ; OUTPUT PARAMETERS:
                                     0000   113 ;
                                     0000   114 ;	R10	FWA ADDRESS
                                     0000   115 ;	R2	ADDRESS OF DIB (DEVICE INFO BLOCK) IN THE FWA PAGE, UNLESS
                                     0000   116 ;		THIS IS AN INDIRECT PPF
                                     0000   117 ;	R0	STATUS CODE
                                     0000   118 ;	R1 THRU R5 DESTROYED
                                     0000   119 ;	NONE
                                     0000   120 ;
                                     0000   121 ; IMPLICIT OUTPUTS:
                                     0000   122 ;
                                     0000   123 ;	VARIOUS FAB, FWA, AND IFAB FIELDS ARE FILLED IN (SEE
                                     0000   124 ;	FUNCTIONAL SPEC FOR DETAILS).
                                     0000   125 ;	FWA$Q_FIB INITIALIZED.
                                     0000   126 ;	FWA$T_DIB FILLED IN.
                                     0000   127 ;
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page   4
026             RM$PRFLNM  -  FILENAME PROCESSING ROUTINE                                                                        (1)

                                     0000   128 ; COMPLETION CODES:
                                     0000   129 ;
                                     0000   130 ;	STANDARD RMS, IN PARTICULAR, SUCCESS, DEV,
                                     0000   131 ;	CHN, AND DME, IN ADDITION TO THE CODES RETURNED
                                     0000   132 ;	BY RM$XPFN.
                                     0000   133 ;
                                     0000   134 ; SIDE EFFECTS:
                                     0000   135 ;
                                     0000   136 ;	SEE NOTE ABOVE ON CHANGE OF $CREATE INTO $OPEN FOR INDIRECT PPF.
                                     0000   137 ;
                                     0000   138 ;--
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page   5
026             RM$PRFLNM  -  FILENAME PROCESSING ROUTINE                                                                        (1)

                                     0000   140 RM$PRFLNM::
                                     0000   141 ;
                                     0000   142 ;  FILL IN FAC IFAB FIELD FROM FAB HANDLING DEFAULTS AND SETTING SUMMARY
                                     0000   143 ;  WRITE ACCESS BIT AS REQUIRED
                                     0000   144 ;
         22 A9         16 A8     90  0000   145 	MOVB	FAB$B_FAC(R8),IFB$B_FAC(R9)
                          06     13  0005   146 	BEQL	SETGET				;BRANCH IF NULL
                                     0007   147 ;
                                     0007   148 ;  ENTRY POINT FOR RMS0CREATE (IFB$B_FAC ALREADY SET)
                                     0007   149 ;
                                     0007   150 RM$PRFLNMALT::
         22 A9            1C     93  0007   151 	BITB	#FAB$M_UPD!FAB$M_DEL!FAB$M_TRN,IFB$B_FAC(R9)
                          04     13  000B   152 	BEQL	SETWRT				;BRANCH IF NOT UPD, DEL, OR TRN
                                     000D   153 						;ACCESSED, ELSE IMPLY GET ACCESS
         22 A9            02     88  000D   154 SETGET:	BISB2	#FAB$M_GET,IFB$B_FAC(R9)	;DEFAULT TO GET ACCESS
         22 A9            1D     93  0011   155 SETWRT:	BITB	#FAB$M_PUT!FAB$M_UPD!FAB$M_DEL!FAB$M_TRN,IFB$B_FAC(R9)
                          04     13  0015   156 	BEQL	20$				;BRANCH IF NONE OF THE VARIETIES
                                     0017   157 						;OF WRITE ACCESS IS SPECIFIED
                                     0017   158 	SSB	#IFB$V_WRTACC,(R9)		;SET SUMMARY BIT
            69            30     E2  0017       		BBSS	#IFB$V_WRTACC,(R9),30000$
                          00         001A       
                                     001B       30000$:
                                     001B   159 20$:
                                     001B   160 ;
                                     001B   161 ;  GO EXPAND FILE NAME
                                     001B   162 ;
                          FFE2'  30  001B   163 	BSBW	RM$XPFN				;GET FULLY QUALIFIED FILE NAME
            4E            50     E9  001E   164 30$:	BLBC	R0,ERROR
                                     0021   165 ;
                                     0021   166 ;  CHECK FOR INDIRECT OPEN OF PROCESS PERMANENT FILE
                                     0021   167 ;
                       08 AA     95  0021   168 	TSTB	FWA$B_ESCFLG(R10)		;DID WE GET A PPF FLAG?
                          03     13  0024   169 	BEQL	RM$ASSIGN			;BRANCH IF NOT
                          0097   31  0026   170 	BRW	INDPPF
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page   6
026             RM$PRFLNM  -  FILENAME PROCESSING ROUTINE                                                                        (1)

                                     0029   172 ;++
                                     0029   173 ;
                                     0029   174 ;  NOW ASSIGN A CHANNEL AND GET THE ASSOCIATED DEVICE CHARACTERISTICS.
                                     0029   175 ;
                                     0029   176 ;  ASSIGN IN CALLER'S MODE IF NFS OR UFO SET, ELSE ASSIGN IN EXEC MODE
                                     0029   177 ;
                                     0029   178 ;--
                                     0029   179 RM$ASSIGN::
                                     0029   180 ;
                                     0029   181 ;  PREFIX THE DEVICE NAME WITH LEADING UNDERSCORE TO AVOID ADDITIONAL
                                     0029   182 ;  ATTEMPT BY ASSIGN TO TRANSLATE
                                     0029   183 ;  (NOTE: THERE IS ALREADY AN UNDERSCORE CHARACTER IN THE BUFFER
                                     0029   184 ;	  IMMEDIATELY PRECEDING THE DEVICE NAME)
                                     0029   185 ;
                       3C AA     D6  0029   186 	INCL	FWA$Q_DEVICE(R10)		; ONE MORE CHARACTER
                       40 AA     D7  002C   187 	DECL	FWA$Q_DEVICE+4(R10)		; AT ADDRESS - 1
            6A            19     E0  002F   188 	BBS	#FWA$V_NODE,(R10),NTASGN	;BRANCH IF NETWORK REQUEST
                          3D         0032       
                          00     DD  0033   189 	PUSHL	#0				;NO MAILBOX
                                     0035   190 	ASSUME	ASSIGN$_MBXNAM EQ ASSIGN$_ACMODE+4
                          01     DD  0035   191 	PUSHL	#PSL$C_EXEC			;EXEC MODE
                                     0037   192 	ASSUME	FAB$V_UFO GE 16
                                     0037   193 	ASSUME	FAB$V_NFS GE 16
         06 A8            03     93  0037   194 	BITB	#<FAB$M_UFO!FAB$M_NFS>@-16,FAB$L_FOP+2(R8)
                          0D     13  003B   195 	BEQL	40$				;BRANCH IF NEITHER UFO NOR NFS SET
            6E         0A A9     9A  003D   196 	MOVZBL	IFB$B_MODE(R9),(SP)		;SWITCH TO CALLER'S MODE
            68            3B     E1  0041   197 	BBC	#FAB$V_ESC+FOP,(R8),40$		;BRANCH IF FLAG TO CHANGE TO USER OR
                          05         0044       
                                     0045   198 						; SUPER MODE NOT SET
                                     0045   199 	ASSUME	FAB$V_ESC EQ FAB$V_UFM+1	;TAKE ADVANTAGE OF FACT THAT
                                     0045   200 	ASSUME	PSL$C_USER EQ 3			;ESC IS SET AND THAT IN COM-
                                     0045   201 	ASSUME	PSL$C_SUPER EQ 2		;BINATION WITH UFM IT FORMS
                                     0045   202 						;THE APPROPRIATE VALUE FOR THE
                                     0045   203 						;MODE
            02            3A     EF  0045   204 	EXTZV	#FAB$V_UFM+FOP,#2,(R8),(SP)	;REPLACE MODE PARAM ON STACK
            6E            68         0048       
                                     004A   205 						;WITH USER OR SUPER
                                     004A   206 	ASSUME	ASSIGN$_CHAN EQ ASSIGN$_ACMODE-4
                       20 A9     DF  004A   207 40$:	PUSHAL	IFB$W_CHNL(R9)			;GET CHANNEL # BACK HERE
                                     004D   208 	ASSUME	ASSIGN$_DEVNAM EQ ASSIGN$_CHAN-4
                       3C AA     7F  004D   209 	PUSHAQ	FWA$Q_DEVICE(R10)		;DEVICE NAME DESCRIPTOR
                                     0050   210 	ASSUME	ASSIGN$_NARGS EQ 4
   00000000'9F            04     FB  0050   211 	CALLS	#4,@#SYS$ASSIGN			;AND DO THE ASSIGN
            5F            50     E9  0057   212 	BLBC	R0,ERRASGN
                                     005A   213 ;
                                     005A   214 ;  ASSIGN SUCCEEDED  -  GET AND SET DEVICE CHARACTERISTICS
                                     005A   215 ;
                          17     10  005A   216 	BSBB	GETDEV_CHAR
            57            6B     E9  005C   217 	BLBC	(R11),DIRECTPPF			; BRANCH IF PROCESS-PERM FILE
                                     005F   218 ;
                                     005F   219 ;  REMOVE THE LEADING UNDERSCORE FROM THE DEVICE NAME AND RETURN
                                     005F   220 ;
                                     005F   221 REMOVE_:
                       3C AA     D7  005F   222 	DECL	FWA$Q_DEVICE(R10)		; ONE LESS CHARACTER
                       40 AA     D6  0062   223 	INCL	FWA$Q_DEVICE+4(R10)		; RESTORE CORRECT ADDRESS
                                     0065   224 ;
                                     0065   225 ; SET UP FIB DESCRIPTOR
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page   7
026             RM$PRFLNM  -  FILENAME PROCESSING ROUTINE                                                                        (1)

                                     0065   226 ;
                                     0065   227 RM$SETFIB::
                                     0065   228 	ASSUME	FIB$C_LENGTH EQ FWA$C_FIBLEN
         0C AA            2C     D0  0065   229 	MOVL	#FIB$C_LENGTH,FWA$Q_FIB(R10)	; SET LENGTH OF FIB
         10 AA       00A4 CA     9E  0069   230 	MOVAB	FWA$T_FIBBUF(R10),FWA$Q_FIB+4(R10) ; SET ADDRESS OF FIB BUFFER
                                 05  006F   231 ERROR:	RSB
                                     0070   232 ;++
                                     0070   233 ;
                                     0070   234 ;  ASSIGN A CHANNEL TO THE NETWORK DEVICE AND GET AND SET ITS DEVICE
                                     0070   235 ;  CHARACTERISTICS.
                                     0070   236 ;  CHARACTERISTICS
                                     0070   237 ;
                                     0070   238 ;--
                                     0070   239 NTASGN:	$PSECT_BR	NF$NETWORK
                          FF8D'  31  0070       		BRW	NF$NETWORK0
                                     0073       		.SAVE
                                 00000000       		.PSECT	NF$NETWORK,GBL,NOWRT
                                     0000       NF$NETWORK0:
                          FFFD'  30  0000   240 	BSBW	NT$ASSIGN			;ASSIGN A CHANNEL
            09            50     E9  0003   241 	BLBC	R0,10$				;BRANCH ON ERROR
                          006A'  30  0006   242 	BSBW	GETDEV_CHAR			;GET NETWORK DEVICE CHARACTERISTICS
                          FFF4'  30  0009   243 	BSBW	NT$ALTER_DEV			;AUGMENT DEVICE CHARACTERISTICS
                          0050'  31  000C   244 	BRW	REMOVE_				;REJOIN MAINLINE CODE
                          00A7'  31  000F   245 10$:	BRW	ERRASGN				;EXTENDED BRANCH
                                     0012   246 	$PSECT_RESTORE
                                 00000073       		.RESTORE
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page   8
026             RM$PRFLNM  -  FILENAME PROCESSING ROUTINE                                                                        (1)

                                     0073   248 ;
                                     0073   249 ;  SUBROUTINE TO GET AND SET DEVICE CHARACTERISTICS
                                     0073   250 ;
                                     0073   251 GETDEV_CHAR:
                                     0073   252 	ASSUME	FWA$T_XLTBUFF1 EQ FWA$T_ATR_LIST
                                     0073   253 	ASSUME	FWA$T_DIB EQ FWA$T_ATR_LIST+16
            52         10 BA     DE  0073   254 	MOVAL	@FWA$Q_XLTBUF1+4(R10),R2	;GET XLATION SCRATCH BUFF ADDR
                                     0077   255 ;
                                     0077   256 ; USE THE SCRATCH BUFFER TO BUILD $GETCHN PARAMETERS AND BUFFER
                                     0077   257 ;
            53            52     D0  0077   258 	MOVL	R2,R3				;SAVE ADDR OF PRIM. BUFF DESCRIPTOR
            82         70 8F     9A  007A   259 	MOVZBL	#112,(R2)+			;BUILD PRIM BUFF DESC. (LEN)
            82         10 A3     DE  007E   260 	MOVAL	16(R3),(R2)+			;BUILD PRIMARY BUFFER DESC (ADR)
                                     0082   261 						; (JUST PAST DESCRIPTOR)
            54            52     D0  0082   262 	MOVL	R2,R4				;SAVE ADDR OF SECONDARY BUFF DSC
                                     0085   263 	ASSUME	IFB$W_ASDEVBSIZ EQ IFB$L_AS_DEV+6
                                     0085   264 	ASSUME	DIB$L_DEVCHAR EQ 0
                                     0085   265 	ASSUME	DIB$W_DEVBUFSIZ EQ 6
            82            08     D0  0085   266 	MOVL	#8,(R2)+			;BUFFER LEN
            82         54 A9     DE  0088   267 	MOVAL	IFB$L_AS_DEV(R9),(R2)+		;BUFFER ADDR
                                     008C   268 	$GETCHN_S	CHAN=IFB$W_CHNL(R9),PRILEN=(R3),PRIBUF=(R3),-
                                     008C   269 			SCDLEN=(R4),SCDBUF=(R4)
                          64     7F  008C       		PUSHAQ	(R4)
                          64     3F  008E       		PUSHAW	(R4)
                          63     7F  0090       		PUSHAQ	(R3)
                          63     3F  0092       		PUSHAW	(R3)
            7E         20 A9     3C  0094       		MOVZWL	IFB$W_CHNL(R9),-(SP)
   00000000'GF            05     FB  0098       		CALLS	#5,G^SYS$GETCHN
                           00000008  009F   270 	.IF NE $$RMSTEST&$$RMS_TBUGCHK
            1A            50     E9  009F   271 	BLBC	R0,ERRBUG
                                     00A2   272 	.ENDC
                                     00A2   273 ;
                                     00A2   274 ;  MOVE PRIMARY CHARACTERISTICS (I.E., THOSE FOR ASSIGNED DEVICE) TO IFAB
                                     00A2   275 ;
            69            62     D0  00A2   276 	MOVL	DIB$L_DEVCHAR(R2),IFB$L_PRIM_DEV(R9)	;CHARACTERISTICS BITS
         38 A9         06 A2     B0  00A5   277 	MOVW	DIB$W_DEVBUFSIZ(R2),IFB$W_DEVBUFSIZ(R9)	;BUFFER SIZE
            69            18     E0  00AA   278 	BBS	#DEV$V_FOR,IFB$L_PRIM_DEV(R9),FOREIGN	;BRANCH IF DEV MNTD FOREIGN
                          05         00AD       
            68            30     E0  00AE   279 	BBS	#FAB$V_NFS+FOP,(R8),FOREIGN		;BRANCH IF NON-FILE-STRUCT.
                          01         00B1       
                                 05  00B2   280 	RSB						; EXIT
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page   9
026             RM$PRFLNM  -  FILENAME PROCESSING ROUTINE                                                                        (1)

                                     00B3   282 ;
                                     00B3   283 ;
                                     00B3   284 ; USER HAS REQUESTED NON-FILE-STRUCTURED OPERATIONS (VIA THE NFS FOP BIT)
                                     00B3   285 ; OR DEVICE WAS MOUNTED FOREIGN,
                                     00B3   286 ; CLEAR THE 'DIR" AND 'SDI' DEVICE CHARACTERISTICS (DIRECTORY, SINGLE DIRECTORY)
                                     00B3   287 ; AND SET THE 'FOR' DEVICE CHARACTERISTIC (FOREIGN) AND SET UP VARIOUS OTHER
                                     00B3   288 ; FILE ATTRIBUTES.
                                     00B3   289 ;
                                     00B3   290 FOREIGN:
                                     00B3   291 	$PSECT_BR	L$RMS0
                          FF4A'  31  00B3       		BRW	L$RMS01
                                     00B6       		.SAVE
                                 00000000       		.PSECT	L$RMS0,GBL,NOWRT
                                     0000       L$RMS01:
            69            18     8A  0000   292 	BICB2	#DEV$M_DIR!DEV$M_SDI,IFB$L_PRIM_DEV(R9)	;SAY NO DIRECTORY
                                     0003   293 	SSB	#DEV$V_FOR,IFB$L_PRIM_DEV(R9)		;SAY FOREIGN DEVICE
            69            18     E2  0003       		BBSS	#DEV$V_FOR,IFB$L_PRIM_DEV(R9),30001$
                          00         0006       
                                     0007       30001$:
            69            05     E1  0007   294 	BBC	#DEV$V_SQD,IFB$L_PRIM_DEV(R9),CHKRND	;BRANCH IF NOT MAGTAPE
                          1F         000A       
            51         22 A2     B0  000B   295 	MOVW	DIB$W_RECSIZ(R2),R1			;FIXED RECSIZE FROM MOUNT
                          38     13  000F   296 	BEQL	EXIT					;BRANCH IF NOT SPECED
            69            32     E1  0011   297 	BBC	#IFB$V_CREATE,(R9),10$			;BRANCH IF DOING OPEN
                          0C         0014       
                                     0015   298 ;
                                     0015   299 ;  THIS IS CREATE.  ONLY ALLOW BLOCKING IF RFM=FIX AND MRS = RECORDSIZE
                                     0015   300 ;
            01         1F A8     91  0015   301 	CMPB	FAB$B_RFM(R8),#FAB$C_FIX		;RFM = FIX?
                          2E     12  0019   302 	BNEQ	EXIT					;BRANCH IF NOT
            51         36 A8     B1  001B   303 	CMPW	FAB$W_MRS(R8),R1			;SAME SIZE?
                          28     12  001F   304 	BNEQ	EXIT					;BRANCH IF NOT
         4C A9            51     B0  0021   305 10$:	MOVW	R1,IFB$W_MRS(R9)			;SET FIXED REC SIZE FROM
                                     0025   306 							; MOUNT PARAMETER
            69            01     8A  0025   307 	BICB2	#DEV$M_REC,IFB$L_PRIM_DEV(R9)		;CLEAR 'UNIT REC' CHAR.
                          11     11  0028   308 	BRB	SETFIX					;GO SET FIXED RECORD LENGTH
            69            1C     E1  002A   309 CHKRND:	BBC	#DEV$V_RND,IFB$L_PRIM_DEV(R9),SETREC	;BRANCH IF NOT DISK
                          18         002D       
         4C A9         38 A9     B0  002E   310 	MOVW	IFB$W_DEVBUFSIZ(R9),IFB$W_MRS(R9)	;SAY FIXED 512 RECORDS
         44 A9            02     CE  0033   311 	MNEGL	#2,IFB$L_EBK(R9)			;SAY LARGE EOF BLK
                                     0037   312 							; (RM1CREATE INCREMENTS THIS)
         40 A9            01     CE  0037   313 	MNEGL	#1,IFB$L_HBK(R9)			;SAY LARGE ALLOCATION
         3C A9            01     90  003B   314 SETFIX:	MOVB	#FAB$C_FIX,IFB$B_RFMORG(R9)		;SAY FIXED RECORDS LEN.
         3E A9         4C A9     B0  003F   315 	MOVW	IFB$W_MRS(R9),IFB$W_LRL(R9)		;SET FIXED REC LEN.
                          03     11  0044   316 	BRB	EXIT					;CONTINUE
            69            01     88  0046   317 SETREC:	BISB2	#DEV$M_REC,IFB$L_PRIM_DEV(R9)		;SAY MT IS UNIT REC
         22 A9            05     E0  0049   318 EXIT:	BBS	#IFB$V_BIO,IFB$B_FAC(R9),10$		;BRANCH IF BLOCK I/O
                          05         004D       
                                     004E   319 	SSB	#IFB$V_BRO,IFB$B_FAC(R9)		;ALLOW BLOCK I/O FUNCTIONS
         22 A9            06     E2  004E       		BBSS	#IFB$V_BRO,IFB$B_FAC(R9),30002$
                          00         0052       
                                     0053       30002$:
                                 05  0053   320 10$:	RSB
                                     0054   321 	$PSECT_RESTORE
                                 000000B6       		.RESTORE
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page  10
026             RM$PRFLNM  -  FILENAME PROCESSING ROUTINE                                                                        (1)

                                     00B6   323 ;
                                     00B6   324 ;  PROCESS-PERMANENT FILE  -  CHECK DEVICE CHARACTERISTCS FOR TERMINAL
                                     00B6   325 ;  AND IF SO REASSIGN THE CHANNEL IN SUPER MODE
                                     00B6   326 ;
                                     00B6   327 ;  ALSO RESET DEVICE CHARACTERISTICS TO INDICATE GET/PUT ACCESS
                                     00B6   328 ;  VIA DEV
                                     00B6   329 ;
                                     00B6   330 DIRECTPPF:
                                     00B6   331 	$PSECT_BR	F$RMSOPEN0PPF
                          FF47'  31  00B6       		BRW	F$RMSOPEN0PPF2
                                     00B9       		.SAVE
                                 00000000       		.PSECT	F$RMSOPEN0PPF,GBL,NOWRT
                                     0000       F$RMSOPEN0PPF2:
            69            02     E1  0000   332 	BBC	#DEV$V_TRM,IFB$L_PRIM_DEV(R9),SETDEV
                          1F         0003       
                                     0004   333 ;
                                     0004   334 ;  PROCESS PERMANENT FILE IS A TERMINAL  -  REASSIGN CHANNEL IN SUPER MODE
                                     0004   335 ;
                                     0004   336 	$DASSGN_S	IFB$W_CHNL(R9)
            7E         20 A9     3C  0004       		MOVZWL	IFB$W_CHNL(R9),-(SP)
   00000000'GF            01     FB  0008       		CALLS	#1,G^SYS$DASSGN
                                     000F   337 	$ASSIGN_S	FWA$Q_DEVICE(R10),IFB$W_CHNL(R9),-
                                     000F   338 			#PSL$C_SUPER
                          00     DD  000F       		PUSHL	#0
                          02     DD  0011       		PUSHL	#PSL$C_SUPER
                       20 A9     3F  0013       		PUSHAW	IFB$W_CHNL(R9)
                       3C AA     7F  0016       		PUSHAQ	FWA$Q_DEVICE(R10)
   00000000'GF            04     FB  0019       		CALLS	#4,G^SYS$ASSIGN
            16            50     E9  0020   339 	BLBC	R0,ERRASGN1			; GET OUT ON ERROR
                                     0023   340 						; ASSUME NO CHANGE IN DEV CHARS
                                     0023   341 						; HENCE NO NEED TO REPROCESS
                                     0023   342 ;
                                     0023   343 ;  IF FAB$V_GET NOT SET IN FAC, CLEAR DEV$V_IDV
                                     0023   344 ;  IF FAB$V_PUT NOT SET IN FAC, CLEAR DEV$V_ODV
                                     0023   345 ;
         22 A9            01     E0  0023   346 SETDEV:	BBS	#FAB$V_GET,IFB$B_FAC(R9),10$	;BRANCH IF 'GET' ON
                          05         0027       
                                     0028   347 	CSB	#DEV$V_IDV,IFB$L_AS_DEV(R9)
         54 A9            1A     E5  0028       		BBCC	#DEV$V_IDV,IFB$L_AS_DEV(R9),30003$
                          00         002C       
                                     002D       30003$:
                                     002D   348 	ASSUME	FAB$V_PUT EQ 0
            05         22 A9     E8  002D   349 10$:	BLBS	IFB$B_FAC(R9),20$		;BRANCH IF 'PUT' ON
                                     0031   350 	CSB	#DEV$V_ODV,IFB$L_AS_DEV(R9)
         54 A9            1B     E5  0031       		BBCC	#DEV$V_ODV,IFB$L_AS_DEV(R9),30004$
                          00         0035       
                                     0036       30004$:
                          0026'  31  0036   351 20$:	BRW	REMOVE_				;RETURN TO MAIN LINE
                                     0039   352 ;
                                     0039   353 ;  HANDLE ASSIGN ERROR
                                     0039   354 ;
                                     0039   355 ERRASGN1:
                          007D'  31  0039   356 	BRW	ERRASGN				;EXTENDED BRANCH
                                     003C   357 	$PSECT_RESTORE
                                 000000B9       		.RESTORE
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page  11
026             RM$PRFLNM  -  FILENAME PROCESSING ROUTINE                                                                        (1)

                                     00B9   359 ;
                                     00B9   360 ;  HANDLE ERRORS
                                     00B9   361 ;
                                     00B9   362 ERRASGN: $PSECT_BR	L$RMS0
                          FF98'  31  00B9       		BRW	L$RMS03
                                     00BC       		.SAVE
                                 00000054       		.PSECT	L$RMS0,GBL,NOWRT
                                     0054       L$RMS03:
                                     0054   363 ;
                                     0054   364 ;  ENTRY POINT FROM RMS$SEARCH
                                     0054   365 ;
                                     0054   366 RM$ERRASGN::
                                     0054   367 
                                     0054   368 	RMSERR	CHN,R1				;UNSPECIFIED CHNL ASSGN FAILURE
            51       C0EC 8F     3C  0054       		MOVZWL	#<RMS$_CHN&^XFFFF>,R1
                          FFA4'  31  0059   369 	BRW	RM$MAPERR			;MAP ERROR AND RETURN TO CALLER
                                     005C   370 	$PSECT_RESTORE
                                 000000BC       		.RESTORE
                                     00BC   371 ;
                                     00BC   372 ;  ERROR FROM GET CHANNEL CHARACTERISTICS
                                     00BC   373 ;  -  SHOULD NEVER OCCUR
                                     00BC   374 ;
                                     00BC   375 ERRBUG:	RMSTBUG	FTL$_GTCHNFAIL
                                     00BC       	.SAVE
                                 000001E4       	.PSECT	$ABS$,ABS
                           00000000  01E4       	.=0
                                 000000BC       	.RESTORE
                          FF41'  30  00BC       		BSBW	RM$BUG
                                 FC  00BF       		.BYTE	FTL$_GTCHNFAIL
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page  12
026             RM$PRFLNM  -  FILENAME PROCESSING ROUTINE                                                                        (3)

                                     00C0   377 
                                     00C0   378 ;
                                     00C0   379 ;  HANDLE INDIRECT OPEN OF PROCESS PERMANENT FILE
                                     00C0   380 ;
                                     00C0   381 ;  PERFORM VARIOUS CHECKS TO SEE IF OPERATION POSSIBLE
                                     00C0   382 ;
                                     00C0   383 ;  (NOTE: THIS ROUTINE HAS THE SIDE EFFECT OF TURNING A $CREATE
                                     00C0   384 ;	ON AN INIDRECT PROCESS PERMANENT FILE INTO AN $OPEN)
                                     00C0   385 INDPPF:
                                     00C0   386 	$PSECT_BR	F$RMSOPEN0IPPF
                          FF3D'  31  00C0       		BRW	F$RMSOPEN0IPPF4
                                     00C3       		.SAVE
                                 00000000       		.PSECT	F$RMSOPEN0IPPF,GBL,NOWRT
                                     0000       F$RMSOPEN0IPPF4:
                                     0000   387 	$TSTPT	INDPPF
                 00000200'9F     D6  0000       		INCL	@#PIO$GL_FMLH+512+TPT$L_INDPPF
                                     0006   388 	ASSUME	FAB$V_UFO GE 16
                                     0006   389 	ASSUME	FAB$V_NFS GE 16
         06 A8            03     93  0006   390 	BITB	#<FAB$M_UFO!FAB$M_NFS>@-16,FAB$L_FOP+2(R8)
                                     000A   391 						;CHECK FOR VARIOUS INVALID OPTIONS
                          57     12  000A   392 	BNEQ	ERRFOP				;BRANCH IF ANY SPECIFIED
                       09 AA     95  000C   393 	TSTB	FWA$B_ESCTYP(R10)		;ESCAPE TYPE 0?
                          55     12  000F   394 	BNEQ	ERRLNE				;BRANCH IF NOT (NOT LEGAL)
            02            0E     ED  0011   395 	CMPZV	#14,#2,FWA$W_ESCIFI(R10),#^B10	;ESCAPE IFI INDICATE A PPF?
            02         0A AA         0014       
                          4D     12  0017   396 	BNEQ	ERRLNE				;BRANCH IF NOT
                                     0019   397 ;
                                     0019   398 ;  GET ADDRESS OF PROCESS PERMANENT FILE IFAB AND CHECK IT OUT
                                     0019   399 ;
            57            59     D0  0019   400 	MOVL	R9,R7				;SAVE IFAB ADDR
                                     001C   401 	ASSUME	FAB$V_PPF_IND GE 8
         0B AA         40 8F     88  001C   402 	BISB2	#FAB$M_PPF_IND@-8,FWA$W_ESCIFI+1(R10) ;GET NON-PRIVILEGED PPF IFI
            59         0A AA     3C  0021   403 	MOVZWL	FWA$W_ESCIFI(R10),R9		;AND MOVE IT TO R9
            50            06     D0  0025   404 	MOVL	#IMP$L_IFABTBL/4,R0		;IFAB TABLE OFFSET/4
                          5B     DD  0028   405 	PUSHL	R11				;SAVE IMPURE AREA POINTER
                          FFD3'  30  002A   406 	BSBW	RM$GTIADR			;GET IFAB ADDRESS
                     0800 8F     BA  002D   407 	POPR	#^M<R11>			;RESTORE IMAGE I/O IMPURE ADDR
                          3A     13  0031   408 	BEQL	ERRIFI				;BRANCH IF NO PPF IFAB
                           00000008  0033   409 	.IF NE $$RMSTEST&$$RMS_TBUGCHK
            0B         08 A9     91  0033   410 	CMPB	IFB$B_BID(R9),#IFB$C_BID	;IS IT AN IFAB?
                          30     12  0037   411 	BNEQ	ERRBG3				;REALLY BAD IF NOT!
                                     0039   412 	.ENDC
                                     0039   413 ;
                                     0039   414 ;  GOT PPF IFAB O.K.
                                     0039   415 ;
                                     0039   416 ;  INSURE ORG IS SEQUENTIAL
                                     0039   417 ;  (NOTE: USER FAC IS IGNORED.  EACH OPERATION WILL BE CHECKED)
                                     0039   418 ;
                                     0039   419 	ASSUME	FAB$C_SEQ EQ 0
                       23 A9     95  0039   420 	TSTB	IFB$B_ORGCASE(R9)		;SEQ FILE ORG?
                          32     12  003C   421 	BNEQ	ERRORG				;BRANCH IF NOT (NOT SUPPORTED)
                                     003E   422 ;
                                     003E   423 ;  CHECK FOR VALID RAT VALUE
                                     003E   424 ;  MUST BE ONLY ONE OF CR, FTN, OR PRN
                                     003E   425 ;  IF PRN SET IN RAT MUST ALSO BE SET FOR REAL FILE
                                     003E   426 ;
         1E A8         F8 8F     8B  003E   427 	BICB3	#255 \ <FAB$M_CR!FAB$M_FTN!FAB$M_PRN>,FAB$B_RAT(R8),R1
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page  13
026             RM$PRFLNM  -  FILENAME PROCESSING ROUTINE                                                                        (3)

                          51         0043       
                                     0044   428 						;ISOLATE CARRIAGE CONTROL BITS
                          16     13  0044   429 	BEQL	10$				;BRANCH IF NONE SPECIFIED
            51            02     E1  0046   430 	BBC	#FAB$V_PRN,R1,5$		;BRANCH IF NOT PRN
                          05         0049       
         3D A9            02     E1  004A   431 	BBC	#FAB$V_PRN,IFB$B_RAT(R9),ERRRAT ;BRANCH IF PPF NOT PRN
                          24         004E       
                                     004F   432 5$:
                                     004F   433 	ASSUME	FAB$V_FTN EQ FAB$V_CR-1
                                     004F   434 	ASSUME	FAB$V_CR  EQ FAB$V_PRN-1
            03            00     EA  004F   435 	FFS	#FAB$V_FTN,#3,R1,R0		;FIND FIRST CARRIAGE CTL BIT
            50            51         0052       
                                     0054   436 	CSB	R0,R1				;TURN IT OFF
            51            50     E5  0054       		BBCC	R0,R1,30005$
                          00         0057       
                                     0058       30005$:
                          51     95  0058   437 	TSTB	R1				;SHOULD BE NO OTHERS SET
                          17     12  005A   438 	BNEQ	ERRRAT				;BRANCH IF OTHER(S) SET
                                     005C   439 ;
                                     005C   440 ;  CHECK FOR PPF IFAB BUSY SETTING BUSY IF NOT IN USE
                                     005C   441 ;
            69            20     E3  005C   442 10$:	BBCS	#IFB$V_BUSY,(R9),IND_PPF_OK	;BRANCH IF NOT BUSY
                          19         005F       
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page  14
026             RM$PRFLNM  -  FILENAME PROCESSING ROUTINE                                                                        (3)

                                     0060   444 ;
                                     0060   445 ;  HANDLE ERRORS
                                     0060   446 ;
                                     0060   447 ERRACT:	$PSECT_BR	L$RMS0
                          FFF9'  31  0060       		BRW	L$RMS05
                                     0063       		.SAVE
                                 0000005C       		.PSECT	L$RMS0,GBL,NOWRT
                                     005C       L$RMS05:
                                     005C   448 	RMSERR	ACT				;FILE ACTIVE
            50       825A 8F     3C  005C       		MOVZWL	#<RMS$_ACT&^XFFFF>,R0
                          1F     11  0061   449 	BRB	RESTORE_IFAB
                                     0063   450 	$PSECT_RESTORE
                                 00000063       		.RESTORE
                                     0063   451 ;
                                     0063   452 ERRFOP:	$PSECT_BR	L$RMS0
                          FFFD'  31  0063       		BRW	L$RMS06
                                     0066       		.SAVE
                                 00000063       		.PSECT	L$RMS0,GBL,NOWRT
                                     0063       L$RMS06:
                                     0063   453 	RMSERR	FOP				;INVALID FOP BITS FOR PPF
            50       853C 8F     3C  0063       		MOVZWL	#<RMS$_FOP&^XFFFF>,R0
                                 05  0068   454 	RSB
                                     0069   455 	$PSECT_RESTORE
                                 00000066       		.RESTORE
                                     0066   456 ;
                                     0066   457 ERRLNE:	$PSECT_BR	L$RMS0
                          0000'  31  0066       		BRW	L$RMS07
                                     0069       		.SAVE
                                 00000069       		.PSECT	L$RMS0,GBL,NOWRT
                                     0069       L$RMS07:
                                     0069   458 	RMSERR	LNE				;INVALID EQUIVALENCE STRING
            50       85BC 8F     3C  0069       		MOVZWL	#<RMS$_LNE&^XFFFF>,R0
                                 05  006E   459 	RSB
                                     006F   460 	$PSECT_RESTORE
                                 00000069       		.RESTORE
                                     0069   461 ;
                                     0069   462 ERRBG3:	RMSTBUG	FTL$_BADIFAB			;INVALID IFAB
                          FF94'  30  0069       		BSBW	RM$BUG
                                 FD  006C       		.BYTE	FTL$_BADIFAB
                                     006D   463 ;
                                     006D   464 ERRIFI:	$PSECT_BR	L$RMS0
                          FFFF'  31  006D       		BRW	L$RMS08
                                     0070       		.SAVE
                                 0000006F       		.PSECT	L$RMS0,GBL,NOWRT
                                     006F       L$RMS08:
                                     006F   465 	RMSERR	IFI				;INVALID EQUIV. STRING IFI
            50       8564 8F     3C  006F       		MOVZWL	#<RMS$_IFI&^XFFFF>,R0
                          0C     11  0074   466 	BRB	RESTORE_IFAB
                                     0076   467 	$PSECT_RESTORE
                                 00000070       		.RESTORE
                                     0070   468 ;
                                     0070   469 ERRORG:	$PSECT_BR	L$RMS0
                          0003'  31  0070       		BRW	L$RMS09
                                     0073       		.SAVE
                                 00000076       		.PSECT	L$RMS0,GBL,NOWRT
                                     0076       L$RMS09:
                                     0076   470 	RMSERR	ORG				;PPF NOT SEQUENTIAL ORG
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page  15
026             RM$PRFLNM  -  FILENAME PROCESSING ROUTINE                                                                        (3)

            50       860C 8F     3C  0076       		MOVZWL	#<RMS$_ORG&^XFFFF>,R0
                          05     11  007B   471 	BRB	RESTORE_IFAB
                                     007D   472 	$PSECT_RESTORE
                                 00000073       		.RESTORE
                                     0073   473 ;
                                     0073   474 ERRRAT:	$PSECT_BR	L$RMS0
                          0007'  31  0073       		BRW	L$RMS010
                                     0076       		.SAVE
                                 0000007D       		.PSECT	L$RMS0,GBL,NOWRT
                                     007D       L$RMS010:
                                     007D   475 	RMSERR	RAT				;BAD RAT VALUE
            50       864C 8F     3C  007D       		MOVZWL	#<RMS$_RAT&^XFFFF>,R0
                                     0082   476 RESTORE_IFAB:
            59            57     D0  0082   477 	MOVL	R7,R9				;RESTORE TEMP. IFAB ADDR
                                 05  0085   478 	RSB					;GO HANDLE ERROR
                                     0086   479 	$PSECT_RESTORE
                                 00000076       		.RESTORE
                                     0076   480 ;
                                     0076   481 ERRNAM:	$PSECT_BR	L$RMS0
                          000D'  31  0076       		BRW	L$RMS011
                                     0079       		.SAVE
                                 00000086       		.PSECT	L$RMS0,GBL,NOWRT
                                     0086       L$RMS011:
                          02     BA  0086   482 	POPR	#^M<R1>				;GET PPF IFAB ADDR
                                     0088   483 	CSB	#IFB$V_BUSY,(R1)		;CLEAR BUSY
            61            20     E5  0088       		BBCC	#IFB$V_BUSY,(R1),30006$
                          00         008B       
                                     008C       30006$:
                                 05  008C   484 	RSB					;GO CLEAN UP
                                     008D   485 	$PSECT_RESTORE
                                 00000079       		.RESTORE
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page  16
026             RM$PRFLNM  -  FILENAME PROCESSING ROUTINE                                                                        (3)

                                     0079   487 ;
                                     0079   488 ;  THE INDIRECT OPEN OF THE PROCESS PERMANENT FILE IS PERMISSABLE.
                                     0079   489 ;  SWITCH TO USING THE PPF IFAB FOR THE REMAINDER OF THIS OPEN.
                                     0079   490 ;
                                     0079   491 ;  MUST PERFORM THE FOLLOWING:
                                     0079   492 ;
                                     0079   493 ;	1. SET PPF_IMAGE BIT
                                     0079   494 ;	2. COPY CALLER'S MODE AND ARG LIST ADDRESS TO THE PPF IFAB
                                     0079   495 ;	   (NOTE: THERE WILL BE NO ASB BECAUSE NO STALL CAN HAVE OCCURRED.)
                                     0079   496 ;	3. RETURN THE TEMPORARY IFAB INCLUDING BDB AND BUFFER
                                     0079   497 ;	4. ZERO THE IFI TABLE ENTRY TO TEMPORARY IFAB
                                     0079   498 ;	5. MOVE ADDRESS OF PIO IMPURE AREA TO R11 AND COPY SAVED SP
                                     0079   499 ;	   TO PIO IMPURE AREA
                                     0079   500 ;
                                     0079   501 IND_PPF_OK:
                                     0079   502 	SSB	#IFB$V_PPF_IMAGE,(R9)		;INDICATE INDIRECT PROCESSING
            69            22     E2  0079       		BBSS	#IFB$V_PPF_IMAGE,(R9),30007$
                          00         007C       
                                     007D       30007$:
                                     007D   503 						;OF PPF
         0A A9         0A A7     90  007D   504 	MOVB	IFB$B_MODE(R7),IFB$B_MODE(R9)	;SAVE CALLER'S MODE
         18 A9         18 A7     D0  0082   505 	MOVL	IFB$L_ARGLST(R7),IFB$L_ARGLST(R9)	;AND ARG LIST ADDR
                          59     DD  0087   506 	PUSHL	R9				;SAVE PPF IFAB ADDR
                                     0089   507 ;
                                     0089   508 ;  FILL IN NAME BLOCK, IF ANY, WITH RESULTANT STRING AND DVI
                                     0089   509 ;
            59            57     D0  0089   510 	MOVL	R7,R9				;RESTORE TEMP IFAB ADDR
                          FF71'  30  008C   511 	BSBW	RM$FILLNAM			;FILL IN NAM BLK IF ANY
            E4            50     E9  008F   512 	BLBC	R0,ERRNAM			;BRANCH ON ERROR
            5C         0A AA     B0  0092   513 	MOVW	FWA$W_ESCIFI(R10),AP		;SAVE IFI CODE
                          FF67'  30  0096   514 	BSBW	RM$RET1STBDB			;RETURN BDB AND I/O BUFF
            53            59     7D  0099   515 	MOVQ	R9,R3				;IFAB ADDR TO R3,R4 FOR RETBLK
                          FF61'  30  009C   516 	BSBW	RM$RETBLK			;DEALLOCATE IFAB
            54            59     D0  009F   517 	MOVL	R9,R4				;IFAB PAGE ADDR
                          FF5B'  30  00A2   518 	BSBW	RM$RET1PAG			;RETURN IT
                          FF58'  30  00A5   519 	BSBW	RM$ZAPIFI			;ZERO IFAB TABLE ENTRY
            59            8E     D0  00A8   520 	MOVL	(SP)+,R9			;RESTORE PPF IFAB ADDR
            5A            59     D0  00AB   521 	MOVL	R9,R10				;COPY TO R10
   00000014'9F         14 AB     D0  00AE   522 	MOVL	IMP$L_SAVED_SP(R11),@#PIO$GW_PIOIMPA+IMP$L_SAVED_SP
                                     00B6   523 						;COPY SAVED SP VALUE
            5B   00000000'9F     3E  00B6   524 	MOVAW	@#PIO$GW_PIOIMPA,R11		;GET PIO IMPURE AREA ADDR
                                     00BD   525 ;
                                     00BD   526 ;
                                     00BD   527 ;  OUTPUT THE NEW IFI VALUE AND BLS FIELD TO FAB
                                     00BD   528 ;
            06         1E A8     F0  00BD   529 	INSV	FAB$B_RAT(R8),#FAB$V_PPF_RAT,#FAB$S_PPF_RAT,AP ;SAVE RAT IN IFI
            5C            08         00C1       
         02 A8            5C     B0  00C3   530 	MOVW	AP,FAB$W_IFI(R8)		;CONSTRUCT NON-PRIV. IFI
         3C A8         5A A9     B0  00C7   531 	MOVW	IFB$W_ASDEVBSIZ(R9),FAB$W_BLS(R8) ;DEFAULT BUFFER SIZE
                          01     BA  00CC   532 	POPR	#^M<R0>				;POP RETURN PC
                                     00CE   533 ;
                                     00CE   534 ;  IF THIS IS A UNIT RECORD DEVICE AND THE USER HAS NOT SPECIFIED
                                     00CE   535 ;  PRINT FILE CARRIAGE CONTROL, RETURN RFM=VAR AND DON'T CHANGE THE 
                                     00CE   536 ;  USER'S RAT FIELD
                                     00CE   537 ;
                                     00CE   538 	ASSUME	DEV$V_REC EQ 0
            03            69     E8  00CE   539 	BLBS	IFB$L_PRIM_DEV(R9),20$		;BRANCH IF UNIT RECORD
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page  17
026             RM$PRFLNM  -  FILENAME PROCESSING ROUTINE                                                                        (3)

                          FF2C'  31  00D1   540 10$:	BRW	RM$COPRTN1			;GO FINISH UP OPEN
            5C            08     E0  00D4   541 20$:	BBS	#FAB$V_PRN+FAB$V_PPF_RAT,AP,10$	;BRANCH IF USER SPECIFED
                          F9         00D7       
                                     00D8   542 						; PRINT FILE CARRIAGE CTL
         1F A8            02     90  00D8   543 	MOVB	#FAB$C_VAR,FAB$B_RFM(R8)	;CHANGE RFM TO VAR
                          FF21'  31  00DC   544 	BRW	RM$COPRTN2			;FINISH UP OPEN WITHOUT
                                     00DF   545 						;ALTERING USER'S RAT
                                     00DF   546 	$PSECT_RESTORE
                                 000000C3       		.RESTORE
                                     00C3   547 
                                     00C3   548 
                                     00C3   549 	.END
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page  18
SYMBOL TABLE                                                                                                                     (3)

$$.PSECT_EP    = 0000000C            DEV$V_SDI      = 00000004            FAB$C_REL      = 00000010            
$$ARGS         = 00000004            DEV$V_SHR      = 00000010            FAB$C_RFM_DFLT = 00000002            
$$RMSTEST      = 0000001A            DEV$V_SPL      = 00000006            FAB$C_SEQ      = 00000000            
$$RMS_PBUGCHK  = 00000010            DEV$V_SQD      = 00000005            FAB$C_UDF      = 00000000            
$$RMS_TBUGCHK  = 00000008            DEV$V_SWL      = 00000019            FAB$C_VAR      = 00000002            
$$RMS_UMODE    = 00000004            DEV$V_TRM      = 00000002            FAB$C_VFC      = 00000003            
$$T1           = 00000000            DEV$V_WCK      = 0000001F            FAB$K_BLN        00000050            
ASSIGN$_ACMODE = 0000000C            DIB$B_DEVCLASS   00000004            FAB$L_ALQ        00000010            
ASSIGN$_CHAN   = 00000008            DIB$B_DEVTYPE    00000005            FAB$L_CTX        00000018            
ASSIGN$_DEVNAM = 00000004            DIB$C_LENGTH     00000024            FAB$L_DEV        00000040            
ASSIGN$_MBXNAM = 00000010            DIB$K_LENGTH     00000024            FAB$L_DNA        00000030            
ASSIGN$_NARGS  = 00000004            DIB$L_DEVCHAR    00000000            FAB$L_FNA        0000002C            
BIT...         = 00000000            DIB$L_DEVDEPEND  00000008            FAB$L_FOP        00000004            
CHKRND           0000002A R     05   DIB$L_OPCNT      0000001C            FAB$L_JNL        00000020            
DEV$M_ALL      = 00800000            DIB$L_OWNUIC     00000014            FAB$L_MRN        00000038            
DEV$M_AVL      = 00040000            DIB$L_PID        00000010            FAB$L_NAM        00000028            
DEV$M_CCL      = 00000002            DIB$W_DEVBUFSIZ  00000006            FAB$L_SDC        00000044            
DEV$M_DIR      = 00000008            DIB$W_DEVNAMOFF  0000000E            FAB$L_STS        00000008            
DEV$M_DMT      = 00200000            DIB$W_ERRCNT     0000001A            FAB$L_STV        0000000C            
DEV$M_ELG      = 00400000            DIB$W_RECSIZ     00000022            FAB$L_XAB        00000024            
DEV$M_FOD      = 00004000            DIB$W_UNIT       0000000C            FAB$M_BIO      = 00000020            
DEV$M_FOR      = 01000000            DIB$W_VOLNAMOFF  00000020            FAB$M_BLK      = 00000008            
DEV$M_GEN      = 00020000            DIB$W_VPROT      00000018            FAB$M_BRO      = 00000040            
DEV$M_IDV      = 04000000            DIRECTPPF        000000B6 R     02   FAB$M_CBT      = 00200000            
DEV$M_MBX      = 00100000            ERRACT           00000060 R     07   FAB$M_CIF      = 02000000            
DEV$M_MNT      = 00080000            ERRASGN          000000B9 R     02   FAB$M_CR       = 00000002            
DEV$M_NET      = 00002000            ERRASGN1         00000039 R     06   FAB$M_CTG      = 00100000            
DEV$M_ODV      = 08000000            ERRBG3           00000069 R     07   FAB$M_DEL      = 00000004            
DEV$M_RCK      = 40000000            ERRBUG           000000BC R     02   FAB$M_DFW      = 00000020            
DEV$M_REC      = 00000001            ERRFOP           00000063 R     07   FAB$M_DLT      = 00008000            
DEV$M_RND      = 10000000            ERRIFI           0000006D R     07   FAB$M_DMO      = 00001000            
DEV$M_RTM      = 20000000            ERRLNE           00000066 R     07   FAB$M_ESC      = 08000000            
DEV$M_SDI      = 00000010            ERRNAM           00000076 R     07   FAB$M_EXE      = 00000080            
DEV$M_SHR      = 00010000            ERROR            0000006F R     02   FAB$M_FTN      = 00000001            
DEV$M_SPL      = 00000040            ERRORG           00000070 R     07   FAB$M_GET      = 00000002            
DEV$M_SQD      = 00000020            ERRRAT           00000073 R     07   FAB$M_INP      = 00080000            
DEV$M_SWL      = 02000000            EXIT             00000049 R     05   FAB$M_JNL      = 00400000            
DEV$M_TRM      = 00000004            F$RMSOPEN0IPPF4  00000000 R     07   FAB$M_KFO      = 40000000            
DEV$M_WCK      = 80000000            F$RMSOPEN0PPF2   00000000 R     06   FAB$M_MSE      = 00000010            
DEV$V_ALL      = 00000017            FAB$B_BID        00000000            FAB$M_MXV      = 00000002            
DEV$V_AVL      = 00000012            FAB$B_BKS        0000003E            FAB$M_NAM      = 01000000            
DEV$V_CCL      = 00000001            FAB$B_BLN        00000001            FAB$M_NEF      = 00000400            
DEV$V_DIR      = 00000003            FAB$B_DNS        00000035            FAB$M_NFS      = 00010000            
DEV$V_DMT      = 00000015            FAB$B_FAC        00000016            FAB$M_NIL      = 00000020            
DEV$V_ELG      = 00000016            FAB$B_FNS        00000034            FAB$M_OFP      = 20000000            
DEV$V_FOD      = 0000000E            FAB$B_FSZ        0000003F            FAB$M_POS      = 00000100            
DEV$V_FOR      = 00000018            FAB$B_ORG        0000001D            FAB$M_PPF      = 00040000            
DEV$V_GEN      = 00000011            FAB$B_RAT        0000001E            FAB$M_PPF_IND  = 00004000            
DEV$V_IDV      = 0000001A            FAB$B_RFM        0000001F            FAB$M_PPF_RAT  = 00003FC0            
DEV$V_MBX      = 00000014            FAB$B_RTV        0000001C            FAB$M_PRN      = 00000004            
DEV$V_MNT      = 00000013            FAB$B_SHR        00000017            FAB$M_PUT      = 00000001            
DEV$V_NET      = 0000000D            FAB$C_BID      = 00000003            FAB$M_RCK      = 00800000            
DEV$V_ODV      = 0000001B            FAB$C_BLN        00000050            FAB$M_RWC      = 00000800            
DEV$V_RCK      = 0000001E            FAB$C_FIX      = 00000001            FAB$M_RWO      = 00000080            
DEV$V_REC      = 00000000            FAB$C_HSH      = 00000030            FAB$M_SCF      = 00004000            
DEV$V_RND      = 0000001C            FAB$C_IDX      = 00000020            FAB$M_SHRDEL   = 00000004            
DEV$V_RTM      = 0000001D            FAB$C_MAXRFM   = 00000003            FAB$M_SHRGET   = 00000002            
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page  19
SYMBOL TABLE                                                                                                                     (3)

FAB$M_SHRPUT   = 00000001            FAB$V_SQO      = 00000006            FIB$M_ALLVER   = 00000008            
FAB$M_SHRUPD   = 00000008            FAB$V_SUP      = 00000002            FIB$M_CURPOS   = 00000010            
FAB$M_SPL      = 00002000            FAB$V_TEF      = 0000001C            FIB$M_DLOCK    = 00000002            
FAB$M_SQO      = 00000040            FAB$V_TMD      = 00000004            FIB$M_EXACT    = 00000001            
FAB$M_SUP      = 00000004            FAB$V_TMP      = 00000003            FIB$M_EXECUTE  = 00010000            
FAB$M_TEF      = 10000000            FAB$V_TRN      = 00000004            FIB$M_EXTEND   = 00000080            
FAB$M_TMD      = 00000010            FAB$V_UFM      = 0000001A            FIB$M_FILCON   = 00000004            
FAB$M_TMP      = 00000008            FAB$V_UFO      = 00000011            FIB$M_FINDFID  = 00000800            
FAB$M_TRN      = 00000010            FAB$V_UPD      = 00000003            FIB$M_HIGHVER  = 00008000            
FAB$M_UFM      = 04000000            FAB$V_UPI      = 00000006            FIB$M_LOWVER   = 00004000            
FAB$M_UFO      = 00020000            FAB$V_WCK      = 00000009            FIB$M_MARKBAD  = 00000400            
FAB$M_UPD      = 00000008            FAB$W_BLS        0000003C            FIB$M_NEWVER   = 00000200            
FAB$M_UPI      = 00000040            FAB$W_DEQ        00000014            FIB$M_NOHDREXT = 00000200            
FAB$M_WCK      = 00000200            FAB$W_IFI        00000002            FIB$M_NOREAD   = 00000400            
FAB$S_ORG      = 00000004            FAB$W_MRS        00000036            FIB$M_NOTRUNC  = 00000800            
FAB$S_PPF_RAT  = 00000008            FIB$B_ALALIGN    00000021            FIB$M_NOWRITE  = 00000001            
FAB$V_BIO      = 00000005            FIB$B_ALOPTS     00000020            FIB$M_ONCYL    = 00000002            
FAB$V_BLK      = 00000003            FIB$B_DID_NMX    0000000F            FIB$M_PRSRV_ATR= 00020000            
FAB$V_BRO      = 00000006            FIB$B_DID_RVN    0000000E            FIB$M_READCK   = 00000200            
FAB$V_CBT      = 00000015            FIB$B_FID_NMX    00000009            FIB$M_REWIND   = 00000008            
FAB$V_CIF      = 00000019            FIB$B_FID_RVN    00000008            FIB$M_SEQONLY  = 00000040            
FAB$V_CR       = 00000001            FIB$B_LOC_NMX    00000027            FIB$M_SPOOL    = 00000010            
FAB$V_CTG      = 00000014            FIB$B_LOC_RVN    00000026            FIB$M_SUPERSEDE= 00000400            
FAB$V_DEL      = 00000002            FIB$B_WSIZE      00000003            FIB$M_TRUNC    = 00000100            
FAB$V_DFW      = 00000005            FIB$C_ACCDATA    0000000A            FIB$M_UPDATE   = 00000040            
FAB$V_DLT      = 0000000F            FIB$C_ALCDATA    0000002C            FIB$M_WILD     = 00000100            
FAB$V_DMO      = 0000000C            FIB$C_CYL      = 00000001            FIB$M_WRITE    = 00000100            
FAB$V_ESC      = 0000001B            FIB$C_DIRDATA    00000016            FIB$M_WRITECK  = 00000020            
FAB$V_EXE      = 00000007            FIB$C_EXTDATA    00000020            FIB$V_ALCON    = 00000000            
FAB$V_FTN      = 00000000            FIB$C_ILLEGAL  = 00000005            FIB$V_ALCONB   = 00000001            
FAB$V_GET      = 00000001            FIB$C_LBN      = 00000002            FIB$V_ALDEF    = 00000003            
FAB$V_INP      = 00000013            FIB$C_LENGTH     0000002C            FIB$V_ALLNAM   = 00000005            
FAB$V_JNL      = 00000016            FIB$C_MTALEN     0000001C            FIB$V_ALLTYP   = 00000004            
FAB$V_KFO      = 0000001E            FIB$C_NEXTVOL  = 00000003            FIB$V_ALLVER   = 00000003            
FAB$V_MSE      = 00000004            FIB$C_POSEND   = 00000002            FIB$V_CURPOS   = 00000004            
FAB$V_MXV      = 00000001            FIB$C_REWINDFIL= 00000006            FIB$V_DLOCK    = 00000001            
FAB$V_NAM      = 00000018            FIB$C_REWINDVOL= 00000001            FIB$V_EXACT    = 00000000            
FAB$V_NEF      = 0000000A            FIB$C_RFI      = 00000004            FIB$V_EXECUTE  = 00000010            
FAB$V_NFS      = 00000010            FIB$C_SPACE    = 00000004            FIB$V_EXTEND   = 00000007            
FAB$V_NIL      = 00000005            FIB$C_VBN      = 00000003            FIB$V_FILCON   = 00000002            
FAB$V_OFP      = 0000001D            FIB$K_ACCDATA    0000000A            FIB$V_FINDFID  = 0000000B            
FAB$V_ORG      = 00000004            FIB$K_ALCDATA    0000002C            FIB$V_HIGHVER  = 0000000F            
FAB$V_POS      = 00000008            FIB$K_DIRDATA    00000016            FIB$V_LOWVER   = 0000000E            
FAB$V_PPF      = 00000012            FIB$K_EXTDATA    00000020            FIB$V_MARKBAD  = 0000000A            
FAB$V_PPF_IND  = 0000000E            FIB$K_LENGTH     0000002C            FIB$V_NEWVER   = 00000009            
FAB$V_PPF_RAT  = 00000006            FIB$K_MTALEN     0000001C            FIB$V_NOHDREXT = 00000009            
FAB$V_PRN      = 00000002            FIB$L_ACCTL      00000000            FIB$V_NOREAD   = 0000000A            
FAB$V_PUT      = 00000000            FIB$L_CNTRLVAL   00000018            FIB$V_NOTRUNC  = 0000000B            
FAB$V_RCK      = 00000017            FIB$L_EXSZ       00000018            FIB$V_NOWRITE  = 00000000            
FAB$V_RWC      = 0000000B            FIB$L_EXVBN      0000001C            FIB$V_ONCYL    = 00000001            
FAB$V_RWO      = 00000007            FIB$L_LOC_ADDR   00000028            FIB$V_PRSRV_ATR= 00000011            
FAB$V_SCF      = 0000000E            FIB$L_WCC        00000010            FIB$V_READCK   = 00000009            
FAB$V_SHRDEL   = 00000002            FIB$M_ALCON    = 00000001            FIB$V_REWIND   = 00000003            
FAB$V_SHRGET   = 00000001            FIB$M_ALCONB   = 00000002            FIB$V_SEQONLY  = 00000006            
FAB$V_SHRPUT   = 00000000            FIB$M_ALDEF    = 00000008            FIB$V_SPOOL    = 00000004            
FAB$V_SHRUPD   = 00000003            FIB$M_ALLNAM   = 00000020            FIB$V_SUPERSEDE= 0000000A            
FAB$V_SPL      = 0000000D            FIB$M_ALLTYP   = 00000010            FIB$V_TRUNC    = 00000008            
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page  20
SYMBOL TABLE                                                                                                                     (3)

FIB$V_UPDATE   = 00000006            FWA$B_XLTMODE    0000000A            FWA$Q_TYPE       0000008C            
FIB$V_WILD     = 00000008            FWA$B_XLTTBL     0000000B            FWA$Q_VERSION    00000094            
FIB$V_WRITE    = 00000008            FWA$C_ALL      = 000000F8            FWA$Q_XLTBUF1    0000000C            
FIB$V_WRITECK  = 00000005            FWA$C_DEVBUFSIZ= 0000000F            FWA$Q_XLTBUF2    00000024            
FIB$W_ALLOC      00000022            FWA$C_DIRBUFSIZ= 00000009            FWA$S_DIR_LVLS = 00000003            
FIB$W_CNTRLFUNC  00000016            FWA$C_FIBLEN   = 0000002C            FWA$T_ATR_LIST   00000164            
FIB$W_DID        0000000A            FWA$C_MAXDEVICE= 0000000F            FWA$T_DEVICEBUF  00000155            
FIB$W_DID_NUM    0000000A            FWA$C_MAXDIRLEN= 0000003C            FWA$T_DIB        00000174            
FIB$W_DID_RVN    0000000E            FWA$C_MAXNAME  = 00000009            FWA$T_DIR1BUF    000000D0            
FIB$W_DID_SEQ    0000000C            FWA$C_MAXNODE  = 00000028            FWA$T_DIR2BUF    000000D9            
FIB$W_EXCTL      00000016            FWA$C_MAXQUOTED= 0000007F            FWA$T_FIBBUF     000000A4            
FIB$W_FID        00000004            FWA$C_MAXSUBDIR= 00000007            FWA$T_NAMEBUF    00000118            
FIB$W_FID_NUM    00000004            FWA$C_MAXTYPE  = 00000003            FWA$T_NODEBUF    0000012C            
FIB$W_FID_RVN    00000008            FWA$C_MAXVER   = 00000006            FWA$T_TYPEBUF    00000122            
FIB$W_FID_SEQ    00000006            FWA$C_NAMBUFSIZ= 0000000A            FWA$T_VERBUF     00000126            
FIB$W_LOC_FID    00000022            FWA$C_NODBUFSIZ= 00000028            FWA$T_XLTBUFF1   00000164            
FIB$W_LOC_NUM    00000022            FWA$C_RNSBUFSIZ= 00000014            FWA$T_XLTBUFF2   000001A4            
FIB$W_LOC_RVN    00000026            FWA$C_TYPBUFSIZ= 00000004            FWA$V_CUR_VER  = 00000006            
FIB$W_LOC_SEQ    00000024            FWA$C_VERBUFSIZ= 00000006            FWA$V_DEVICE   = 0000000F            
FIB$W_NMCTL      00000014            FWA$C_XLTBUFSIZ= 0000003F            FWA$V_DIR      = 0000000E            
FOP            = 00000020            FWA$L_BUFFLG     00000014            FWA$V_DIR1     = 00000020            
FOREIGN          000000B3 R     02   FWA$L_DEVNODADR  00000020            FWA$V_DIR2     = 00000021            
FTL$_ASBALLFAIL= FFFFFFF9            FWA$L_ESCSTRING  00000008            FWA$V_DIR_LVLS = 0000001D            
FTL$_BADASTPRM = FFFFFFF8            FWA$L_HBK        00000098            FWA$V_DUPOK    = 00000000            
FTL$_BADBDB    = FFFFFFFA            FWA$L_LOOKUP     0000001C            FWA$V_EXP_DEV  = 00000017            
FTL$_BADBUFSIZ = FFFFFFF3            FWA$L_SBN        00000094            FWA$V_EXP_DIR  = 00000016            
FTL$_BADIFAB   = FFFFFFFD            FWA$L_UIC        0000001C            FWA$V_EXP_NAME = 00000012            
FTL$_BADLEVEL  = FFFFFFE6            FWA$L_XLTCNT     0000002C            FWA$V_EXP_TYPE = 00000011            
FTL$_BADORGCASE= FFFFFFFB            FWA$L_XLTSIZ     00000018            FWA$V_EXP_VER  = 00000010            
FTL$_CANTDOAST = FFFFFFF7            FWA$M_DEVICE   = 00008000            FWA$V_FNA_PASS = 00000004            
FTL$_DEALLERR  = FFFFFFEF            FWA$M_DIR      = 00004000            FWA$V_GRPMBR   = 0000001B            
FTL$_GTCHNFAIL = FFFFFFFC            FWA$M_DUPOK    = 00000001            FWA$V_LOGNAME  = 00000030            
FTL$_IORNDN    = FFFFFFEE            FWA$M_EXP_DEV  = 00800000            FWA$V_NAME     = 0000000D            
FTL$_LOCKFAILED= FFFFFFE7            FWA$M_EXP_DIR  = 00400000            FWA$V_NAMEFLG  = 00000001            
FTL$_NOASB     = FFFFFFF5            FWA$M_EXP_NAME = 00040000            FWA$V_NAM_DVI  = 00000005            
FTL$_NODIDORFID= FFFFFFEB            FWA$M_EXP_TYPE = 00020000            FWA$V_NETSTR   = 00000032            
FTL$_NOLOCKBDB = FFFFFFE9            FWA$M_EXP_VER  = 00010000            FWA$V_NODE     = 00000019            
FTL$_NONETWORK = FFFFFFE8            FWA$M_FNA_PASS = 00000010            FWA$V_OBJTYPE  = 00000031            
FTL$_NONXTBDB  = FFFFFFF4            FWA$M_NAME     = 00002000            FWA$V_QUOTED   = 0000001A            
FTL$_NOSTRUCT  = FFFFFFF6            FWA$M_NAMEFLG  = 00000002            FWA$V_RLF_PASS = 00000003            
FTL$_NOTLOCKED = FFFFFFEC            FWA$M_NAM_DVI  = 00000020            FWA$V_TYPE     = 0000000C            
FTL$_RELEASFAIL= FFFFFFEA            FWA$M_RLF_PASS = 00000008            FWA$V_TYPEFLG  = 00000002            
FTL$_SETPRTFAIL= FFFFFFFF            FWA$M_TYPE     = 00001000            FWA$V_VERSION  = 0000000B            
FTL$_STKTOOBIG = FFFFFFFE            FWA$M_TYPEFLG  = 00000004            FWA$V_WC_NAME  = 00000015            
FTL$_XFERSIZE  = FFFFFFED            FWA$M_VERSION  = 00000800            FWA$V_WC_TYPE  = 00000014            
FWA$B_DIRFLGS    00000004            FWA$Q_DEVICE     0000003C            FWA$V_WC_VER   = 00000013            
FWA$B_DIRLEN     00000030            FWA$Q_DIR        00000024            FWA$V_WILDCARD = 00000018            
FWA$B_DIRTERM    00000007            FWA$Q_DIR1       00000044            FWA$V_WILD_DIR = 0000001C            
FWA$B_DIRWCFLGS  00000005            FWA$Q_DIR2       0000004C            FWA$V_WILD_GRP = 00000028            
FWA$B_ESCFLG     00000008            FWA$Q_FIB        0000000C            FWA$V_WILD_MBR = 00000029            
FWA$B_ESCTYP     00000009            FWA$Q_FLAGS      00000000            FWA$V_WILD_SFD1= 00000029            
FWA$B_FLDFLGS    00000001            FWA$Q_LOGNAME    0000001C            FWA$V_WILD_UFD = 00000028            
FWA$B_LNFLG      00000006            FWA$Q_NAME       00000084            FWA$W_ESCIFI     0000000A            
FWA$B_PARSEFLGS  00000003            FWA$Q_NODE       00000034            FWA$W_FNAMSIZ    00000018            
FWA$B_PASSFLGS   00000000            FWA$Q_QUOTED     0000009C            FWA$W_PRO        00000020            
FWA$B_UNDERLINE  00000154            FWA$Q_RNS        0000008C            FWA$W_UCHAR      0000002C            
FWA$B_WILDFLGS   00000002            FWA$Q_STATBLK    00000094            GBL...         = 00000000            
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page  21
SYMBOL TABLE                                                                                                                     (3)

GETDEV_CHAR      00000073 R     02   IFB$M_BIO      = 00000020            IFB$W_MRS        0000004C            
IFB$B_AMAX       00000059            IFB$M_BRO      = 00000040            IFB$W_RTDEQ      0000003A            
IFB$B_AVBN       00000058            IFB$M_DEL      = 00000004            IMP$B_PROT       00000002            
IFB$B_BID        00000008            IFB$M_EXE      = 00000080            IMP$C_ASYEFN   = 0000001E            
IFB$B_BKS        0000004A            IFB$M_GET      = 00000002            IMP$C_ASYQIOEFN= 0000001F            
IFB$B_BLN        00000009            IFB$M_PUT      = 00000001            IMP$C_ENTPERSEG= 0000000F            
IFB$B_EFN        0000000B            IFB$M_TRN      = 00000010            IMP$C_IOREFN   = 0000001E            
IFB$B_EXTRABUF   0000005D            IFB$M_UPD      = 00000008            IMP$C_MBXEFN   = 0000001A            
IFB$B_FAC        00000022            IFB$S_ORG      = 00000004            IMP$C_NPIOFILES= 0000000C            
IFB$B_FSZ        0000004B            IFB$S_RFM      = 00000004            IMP$C_SYNCEFN  = 0000001B            
IFB$B_KBUFSZ     0000005C            IFB$V_ACCESSED = 00000025            IMP$L_FREEPGLH   0000000C            
IFB$B_MODE       0000000A            IFB$V_ANSI_D   = 00000026            IMP$L_IFABTBL    00000018            
IFB$B_NUM_KEYS   0000005A            IFB$V_ASYNC    = 00000023            IMP$L_IFBTBLINK  00000024            
IFB$B_ORGCASE    00000023            IFB$V_ASYNCWAIT= 00000024            IMP$L_IOSEGADDR  00000004            
IFB$B_RAT        0000003D            IFB$V_BIO      = 00000005            IMP$L_IOSEGLEN   00000008            
IFB$B_RFMORG     0000003C            IFB$V_BRO      = 00000006            IMP$L_IRABTBL    0000001C            
IFB$B_UBUFSZ     0000005B            IFB$V_BUSY     = 00000020            IMP$L_IRBTBLINK  00000064            
IFB$C_BID      = 0000000B            IFB$V_CREATE   = 00000032            IMP$L_SAVED_SP   00000014            
IFB$C_BLN        00000060            IFB$V_DAP      = 0000003E            IMP$V_AST      = 00000001            
IFB$C_BLN_IDX    00000060            IFB$V_DAP_OPEN = 0000003D            IMP$V_IIOS     = 00000000            
IFB$C_BLN_REL    00000060            IFB$V_DEL      = 00000002            IMP$V_IORUNDOWN= 00000004            
IFB$C_BLN_SEQ    0000005C            IFB$V_DFW      = 0000002C            IMP$V_NOP0BUFS = 00000005            
IFB$C_DIR      = 00000003            IFB$V_DLT      = 0000002B            IMP$V_TEMP1    = 00000002            
IFB$C_FHAEND     00000050            IFB$V_DMO      = 00000028            IMP$V_TEMP2    = 00000003            
IFB$C_IDX      = 00000002            IFB$V_EOF      = 00000021            IMP$W_ENTPERSEG  00000020            
IFB$C_MAXORG   = 00000002            IFB$V_EXE      = 00000007            IMP$W_NUM_IFABS  00000022            
IFB$C_REL      = 00000001            IFB$V_GET      = 00000001            IMP$W_RMSSTATUS  00000000            
IFB$C_SEQ      = 00000000            IFB$V_MSE      = 00000031            INDPPF           000000C0 R     02   
IFB$K_BLN        00000060            IFB$V_NORECLK  = 00000033            IND_PPF_OK       00000079 R     07   
IFB$K_BLN_IDX    00000060            IFB$V_NSP      = 0000003F            L$RMS01          00000000 R     05   
IFB$K_BLN_REL    00000060            IFB$V_NWA      = 0000003C            L$RMS010         0000007D R     05   
IFB$K_BLN_SEQ    0000005C            IFB$V_ORG      = 00000004            L$RMS011         00000086 R     05   
IFB$K_FHAEND     00000050            IFB$V_PPF_IMAGE= 00000022            L$RMS03          00000054 R     05   
IFB$L_ARGLST     00000018            IFB$V_PPF_INPUT= 0000002E            L$RMS05          0000005C R     05   
IFB$L_ASBADDR    00000014            IFB$V_PUT      = 00000000            L$RMS06          00000063 R     05   
IFB$L_AS_DEV     00000054            IFB$V_RFM      = 00000000            L$RMS07          00000069 R     05   
IFB$L_BDB_BLNK   00000034            IFB$V_RWC      = 00000027            L$RMS08          0000006F R     05   
IFB$L_BDB_FLNK   00000030            IFB$V_RW_ATTR  = 00000034            L$RMS09          00000076 R     05   
IFB$L_BKPBITS    00000004            IFB$V_SCF      = 0000002A            NF$NETWORK0      00000000 R     04   
IFB$L_BWB        0000000C            IFB$V_SPL      = 00000029            NT$ALTER_DEV     ********   X   04   
IFB$L_DVBN       00000058            IFB$V_SQO      = 0000002D            NT$ASSIGN        ********   X   04   
IFB$L_EBK        00000044            IFB$V_TEF      = 00000036            NTASGN           00000070 R     02   
IFB$L_FRB_PTR    00000028            IFB$V_TMP      = 00000035            PIO$GL_FMLH      ********   X   07   
IFB$L_FWA_BDB    00000050            IFB$V_TRN      = 00000004            PIO$GW_PIOIMPA   ********   X   07   
IFB$L_HBK        00000040            IFB$V_UPD      = 00000003            PSL$C_EXEC     = 00000001            
IFB$L_IDX_PTR    00000054            IFB$V_WRTACC   = 00000030            PSL$C_KERNEL   = 00000000            
IFB$L_IOS        0000000C            IFB$W_ASDEVBSIZ  0000005A            PSL$C_SUPER    = 00000002            
IFB$L_IOS4       00000010            IFB$W_BKS_BYTES  0000005C            PSL$C_USER     = 00000003            
IFB$L_IRAB_LNK   0000001C            IFB$W_BKS_RECS   0000005E            PSL$M_CM       = 80000000            
IFB$L_LAST_FAB   00000024            IFB$W_CHNL       00000020            PSL$M_CURMOD   = 03000000            
IFB$L_LOCK_BDB   00000050            IFB$W_DEQ        0000004E            PSL$M_DV       = 00000080            
IFB$L_MRN        00000054            IFB$W_DEVBUFSIZ  00000038            PSL$M_FPD      = 08000000            
IFB$L_NRP_LNK    00000050            IFB$W_EBK0       00000044            PSL$M_FU       = 00000040            
IFB$L_NWA_PTR    00000028            IFB$W_EBK2       00000046            PSL$M_IPL      = 001F0000            
IFB$L_PRIM_DEV   00000000            IFB$W_FFB        00000048            PSL$M_IS       = 04000000            
IFB$L_RLB_LNK    0000002C            IFB$W_IOS2       0000000E            PSL$M_IV       = 00000020            
IFB$L_RNS_LEN    00000050            IFB$W_LRL        0000003E            PSL$M_PRVMOD   = 00C00000            
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page  22
SYMBOL TABLE                                                                                                                     (3)

PSL$M_SAFBITS  = 000037FF            RMS$_BUG_XX6   = 0001846C            RMS$_IMX       = 0001856C            
PSL$M_TBIT     = 00000010            RMS$_BUG_XX7   = 00018474            RMS$_IOP       = 00018574            
PSL$M_TP       = 40000000            RMS$_BUG_XX8   = 0001847C            RMS$_IRC       = 0001857C            
PSL$S_CURMOD   = 00000002            RMS$_BUG_XX9   = 00018484            RMS$_ISI       = 00018584            
PSL$S_IPL      = 00000005            RMS$_CAA       = 0001848C            RMS$_KBF       = 0001858C            
PSL$S_PRVMOD   = 00000002            RMS$_CCF       = 0001C0DC            RMS$_KEY       = 00018594            
PSL$V_CM       = 0000001F            RMS$_CCR       = 00018494            RMS$_KFF       = 00018031            
PSL$V_CURMOD   = 00000018            RMS$_CDA       = 0001C0E4            RMS$_KRF       = 0001859C            
PSL$V_DV       = 00000007            RMS$_CHG       = 0001849C            RMS$_KSZ       = 000185A4            
PSL$V_FPD      = 0000001B            RMS$_CHK       = 000184A4            RMS$_LAN       = 000185AC            
PSL$V_FU       = 00000006            RMS$_CHN       = 0001C0EC            RMS$_LBL       = 000185B4            
PSL$V_IPL      = 00000010            RMS$_COD       = 000184AC            RMS$_LNE       = 000185BC            
PSL$V_IS       = 0000001A            RMS$_CONTROLC  = 00010651            RMS$_LOC       = 000185C4            
PSL$V_IV       = 00000005            RMS$_CONTROLO  = 00010609            RMS$_MBC       = 00018734            
PSL$V_PRVMOD   = 00000016            RMS$_CONTROLY  = 00010611            RMS$_MKD       = 0001C032            
PSL$V_TBIT     = 00000004            RMS$_CRE       = 0001C00A            RMS$_MRN       = 000185CC            
PSL$V_TP       = 0000001E            RMS$_CREATED   = 00010619            RMS$_MRS       = 000185D4            
REMOVE_          0000005F R     02   RMS$_CUR       = 000184B4            RMS$_NAM       = 000185DC            
RESTORE_IFAB     00000082 R     05   RMS$_DAC       = 0001C012            RMS$_NEF       = 000185E4            
RM$ASSIGN        00000029 RG    02   RMS$_DAN       = 000184BC            RMS$_NET       = 0001874C            
RM$BUG           ********   X   02   RMS$_DEL       = 00018262            RMS$_NID       = 000185EC            
RM$COPRTN1       ********   X   07   RMS$_DEV       = 000184C4            RMS$_NMF       = 000182CA            
RM$COPRTN2       ********   X   07   RMS$_DIR       = 000184CC            RMS$_NOD       = 000185F4            
RM$ERRASGN       00000054 RG    05   RMS$_DME       = 000184D4            RMS$_NORMAL    = 00010001            
RM$FILLNAM       ********   X   07   RMS$_DNA       = 000184DC            RMS$_NPK       = 000185FC            
RM$GTIADR        ********   X   07   RMS$_DNF       = 0001C04A            RMS$_OK_ALK    = 00018039            
RM$MAPERR        ********   X   05   RMS$_DNR       = 00018272            RMS$_OK_DEL    = 00018041            
RM$PRFLNM        00000000 RG    02   RMS$_DPE       = 0001C03A            RMS$_OK_DUP    = 00018011            
RM$PRFLNMALT     00000007 RG    02   RMS$_DTP       = 000184E4            RMS$_OK_IDX    = 00018019            
RM$RET1PAG       ********   X   07   RMS$_DUP       = 000184EC            RMS$_OK_LIM    = 00018051            
RM$RET1STBDB     ********   X   07   RMS$_DVI       = 000184F4            RMS$_OK_RLK    = 00018021            
RM$RETBLK        ********   X   07   RMS$_ENT       = 0001C01A            RMS$_OK_RNF    = 00018049            
RM$SETFIB        00000065 RG    02   RMS$_ENV       = 00018724            RMS$_OK_RRV    = 00018029            
RM$XPFN          ********   X   02   RMS$_EOF       = 0001827A            RMS$_ORD       = 00018604            
RM$ZAPIFI        ********   X   07   RMS$_ESA       = 000184FC            RMS$_ORG       = 0001860C            
RMS$V_STVSTATUS= 0000000E            RMS$_ESL       = 00018714            RMS$_PBF       = 00018614            
RMS$_ABO       = 000183EC            RMS$_ESS       = 00018504            RMS$_PENDING   = 00018009            
RMS$_ACC       = 0001C002            RMS$_EXP       = 000182C2            RMS$_PLG       = 0001861C            
RMS$_ACT       = 0001825A            RMS$_EXT       = 0001C022            RMS$_PLV       = 0001872C            
RMS$_AID       = 000183F4            RMS$_FAB       = 0001850C            RMS$_POS       = 00018624            
RMS$_ALN       = 000183FC            RMS$_FAC       = 00018514            RMS$_PRM       = 0001862C            
RMS$_ALQ       = 00018404            RMS$_FEX       = 00018282            RMS$_PRV       = 0001829A            
RMS$_ANI       = 0001840C            RMS$_FLG       = 0001851C            RMS$_QUO       = 00018634            
RMS$_AOP       = 00018414            RMS$_FLK       = 0001828A            RMS$_RAB       = 0001863C            
RMS$_ATR       = 0001C0CC            RMS$_FNA       = 00018524            RMS$_RAC       = 00018644            
RMS$_ATW       = 0001C0D4            RMS$_FND       = 0001C02A            RMS$_RAT       = 0001864C            
RMS$_BKS       = 0001841C            RMS$_FNF       = 00018292            RMS$_RBF       = 00018654            
RMS$_BKZ       = 00018424            RMS$_FNM       = 0001852C            RMS$_RER       = 0001C0F4            
RMS$_BLN       = 0001842C            RMS$_FOP       = 0001853C            RMS$_REX       = 000182A2            
RMS$_BOF       = 00018198            RMS$_FSZ       = 00018534            RMS$_RFA       = 0001865C            
RMS$_BUG       = 00018434            RMS$_FUL       = 00018544            RMS$_RFM       = 00018664            
RMS$_BUG_DAP   = 00018444            RMS$_IAL       = 0001854C            RMS$_RHB       = 0001866C            
RMS$_BUG_DDI   = 0001843C            RMS$_IAN       = 00018554            RMS$_RLF       = 00018674            
RMS$_BUG_XX2   = 0001844C            RMS$_IBF       = 00018754            RMS$_RLK       = 000182AA            
RMS$_BUG_XX3   = 00018454            RMS$_IDX       = 0001855C            RMS$_RMV       = 0001C0FC            
RMS$_BUG_XX4   = 0001845C            RMS$_IFA       = 0001C124            RMS$_RNF       = 000182B2            
RMS$_BUG_XX5   = 00018464            RMS$_IFI       = 00018564            RMS$_RNL       = 000181A0            
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page  23
SYMBOL TABLE                                                                                                                     (3)

RMS$_ROP       = 0001867C            
RMS$_RPL       = 0001C104            
RMS$_RRV       = 00018684            
RMS$_RSA       = 000182DA            
RMS$_RSL       = 0001873C            
RMS$_RSS       = 00018694            
RMS$_RST       = 0001869C            
RMS$_RSZ       = 000186A4            
RMS$_RTB       = 000181A8            
RMS$_SEQ       = 000186AC            
RMS$_SHR       = 000186B4            
RMS$_SIZ       = 000186BC            
RMS$_SPL       = 0001C042            
RMS$_SQO       = 000186C4            
RMS$_STALL     = 00018001            
RMS$_STK       = 000186CC            
RMS$_SUC       = 00010001            
RMS$_SUP       = 000182D2            
RMS$_SUPERSEDE = 00010631            
RMS$_SYN       = 000186D4            
RMS$_SYS       = 0001C10C            
RMS$_TEMP1     = 0001826A            
RMS$_TEMP2     = 0001868C            
RMS$_TMO       = 000181B0            
RMS$_TRE       = 000186DC            
RMS$_TYP       = 000186E4            
RMS$_UBF       = 000186EC            
RMS$_USZ       = 000186F4            
RMS$_VER       = 000186FC            
RMS$_VOL       = 00018704            
RMS$_WBE       = 0001C12C            
RMS$_WER       = 0001C114            
RMS$_WLD       = 00018744            
RMS$_WLK       = 000182BA            
RMS$_WPL       = 0001C11C            
RMS$_WSF       = 0001871C            
RMS$_XAB       = 0001870C            
SETDEV           00000023 R     06   
SETFIX           0000003B R     05   
SETGET           0000000D R     02   
SETREC           00000046 R     05   
SETWRT           00000011 R     02   
SYS$ASSIGN       ********   X   02   
SYS$DASSGN       ********   X   06   
SYS$GETCHN       ********   X   02   
TPT$L_INDPPF     ********   X   07   


PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
F$RMSOPEN0       000000C3      02     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD  NOWRT BYTE  
$ABS$            000001E4      03     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
NF$NETWORK       00000012      04     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD  NOWRT BYTE  
L$RMS0           0000008D      05     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD  NOWRT BYTE  
F$RMSOPEN0PPF    0000003C      06     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD  NOWRT BYTE  
RM0PRFLNM       PROCESS FILE NAME                                21-AUG-1978 21:26:20   VAX-11 MACRO X0.3-11               Page  24
PROGRAM SECTION SYNOPSIS                                                                                                         (3)

F$RMSOPEN0IPPF   000000DF      07     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD  NOWRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
2708. BYTES LEFT IN FREE MEMORY POOL.
1776. BYTES OF RECLAIMED MEMORY.
OBJ$:RM0PRFLNM,LIS$:RM0PRFLNM/-SP=EXECML$/ML,LIB$:R/ML,SRC$:RM0PRFLNM
59 MLB DIR RDS - 1339 GETS TO DEFINE 37 MACROS. 116 INTER. FILE WRITES. 

RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (1)      46  DECLARATIONS
   (1)      77  RMS$CLOSE  -  $CLOSE ROUTINE
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page   1
034                                                                                                                              (1)

                                     0000     1 	$BEGIN RMS0CLOSE,034,F$RMSCLOSE0,<DISPATCH FOR CLOSE OPERATION>
                                     0000     2 
                                     0000     3 
                                     0000     4 ;
                                     0000     5 ; COPYRIGHT (C) 1977, 1978
                                     0000     6 ; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS 01754
                                     0000     7 ;
                                     0000     8 ; THIS SOFTWARE IS FURNISHED  UNDER A LICENSE FOR USE ONLY ON A SINGLE
                                     0000     9 ; COMPUTER  SYSTEM AND  MAY BE  COPIED ONLY WITH  THE INCLUSION OF THE
                                     0000    10 ; ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE, OR ANY OTHER COPIES THEREOF,
                                     0000    11 ; MAY NOT BE PROVIDED OR  OTHERWISE MADE AVAILABLE TO ANY OTHER PERSON
                                     0000    12 ; EXCEPT FOR USE ON SUCH SYSTEM AND TO ONE WHO AGREES TO THESE LICENSE
                                     0000    13 ; TERMS.  TITLE TO AND  OWNERSHIP OF THE  SOFTWARE  SHALL AT ALL TIMES
                                     0000    14 ; REMAIN IN DEC.
                                     0000    15 ;
                                     0000    16 ; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE WITHOUT NOTICE
                                     0000    17 ; AND SHOULD  NOT BE CONSTRUED  AS A COMMITMENT  BY DIGITAL  EQUIPMENT
                                     0000    18 ; CORPORATION.
                                     0000    19 ;
                                     0000    20 ; DEC ASSUMES  NO  RESPONSIBILITY  FOR  THE USE OR  RELIABILITY OF ITS
                                     0000    21 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
                                     0000    22 ;
                                     0000    23 ;++
                                     0000    24 ; FACILITY: RMS32
                                     0000    25 ;
                                     0000    26 ; ABSTRACT:
                                     0000    27 ;		THIS MODULE IS THE HIGHEST LEVEL CONTROL ROUTINE
                                     0000    28 ;		TO PERFORM THE $CLOSE FUNCTION.
                                     0000    29 ;
                                     0000    30 ; ENVIRONMENT:
                                     0000    31 ;		STAR PROCESSOR RUNNING STARLET EXEC.
                                     0000    32 ;
                                     0000    33 ; AUTHOR: L F LAVERDURE,	 CREATION DATE: 1-MAR-77
                                     0000    34 ;
                                     0000    35 ; MODIFIED BY:
                                     0000    36 ;
                                     0000    37 ;	L F LAVERDURE,      7-AUG-78  16:05
                                     0000    38 ;	L F LAVERDURE,      3-AUG-78  17:31
                                     0000    39 ;	L F LAVERDURE,      27-JUL-78  17:59
                                     0000    40 ;	R A NEWELL,      26-JUL-78  16:29
                                     0000    41 ;	L F LAVERDURE,   14-JUL-78  10:21
                                     0000    42 ;	J A KRYCKA,	 22-JUN-78  07:30
                                     0000    43 ; 01	- 
                                     0000    44 ;--
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page   2
034             DECLARATIONS                                                                                                     (1)

                                     0000    46 	.SBTTL	DECLARATIONS
                                     0000    47 ;
                                     0000    48 ; INCLUDE FILES:
                                     0000    49 ;
                                     0000    50 
                                     0000    51 ;
                                     0000    52 ; MACROS:
                                     0000    53 ;
                                     0000    54 
                                     0000    55 	$IFBDEF
                                     0000    56 	$IMPDEF
                                     0000    57 	$FABDEF
                                     0000    58 	$DEVDEF
                                     0000    59 	$FIBDEF
                                     0000    60 	$NAMDEF
                                     0000    61 	$IRBDEF
                                     0000    62 	$RABDEF
                                     0000    63 	$BDBDEF
                                     0000    64 	$RLSDEF
                                     0000    65 	$NWADEF
                                     0000    66 	.LIST MEB
                                     0000    67 ;
                                     0000    68 ; EQUATED SYMBOLS:
                                     0000    69 ;
                           00000020  0000    70 	FOP=FAB$L_FOP*8
                           00000020  0000    71 	BKP=IRB$L_BKPBITS*8
                                     0000    72 
                                     0000    73 ;
                                     0000    74 ; OWN STORAGE:
                                     0000    75 ;
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page   3
034             RMS$CLOSE  -  $CLOSE ROUTINE                                                                                     (1)

                                     0000    77 	.SBTTL RMS$CLOSE  -  $CLOSE ROUTINE
                                     0000    78 
                                     0000    79 ;++
                                     0000    80 ; FUNCTIONAL DESCRIPTION:
                                     0000    81 ;
                                     0000    82 ;  THIS ROUTINE PERFORMS THE HIGHEST LEVEL $CLOSE PROCESSING.
                                     0000    83 ;  ITS FUNCTIONS INCLUDE:
                                     0000    84 ;
                                     0000    85 ;	1. COMMON SETUP
                                     0000    86 ;	2. CHECK FOR ALL STREAMS IDLE, EXITING IF NOT
                                     0000    87 ;	3. FORCE A DISCONNECT FOR ALL STREAMS
                                     0000    88 ;	4. DISPATCH TO ORGANIZATION-DEPENDENT CODE
                                     0000    89 ;	5. IF THE DLT FOP BIT IS SET AND NEITHER SPL NOR SCF IS SET,
                                     0000    90 ;	   DELETE THE FILE
                                     0000    91 ;	6. RETURN ALL BDB'S AND BUFFERS
                                     0000    92 ;	7. DEACCESS THE FILE IF ACCESSED
                                     0000    93 ;	8. RETURN THE ASB AND NWA (IF ANY), THE IFAB, AND ALL PAGES USED FOR
                                     0000    94 ;	   RMS INTERNAL STRUCTURES FOR THIS FILE
                                     0000    95 ;	9. ZERO THE IFAB TABLE POINTER AND FAB$W_IFI
                                     0000    96 ;	10. EXIT TO THE USER, GENERATING AN AST IF REQUESTED
                                     0000    97 ;
                                     0000    98 ;
                                     0000    99 ; CALLING SEQUENCE:
                                     0000   100 ;
                                     0000   101 ;	ENTERED FROM EXEC AS A RESULT OF USER'S CALLING SYS$CLOSE
                                     0000   102 ;	(E.G., BY USING THE $CLOSE MACRO).
                                     0000   103 ;
                                     0000   104 ; INPUT PARAMETERS:
                                     0000   105 ;
                                     0000   106 ;	AP	USER'S ARGUMENT LIST ADDR
                                     0000   107 ;
                                     0000   108 ; IMPLICIT INPUTS:
                                     0000   109 ;
                                     0000   110 ;	THE CONTENTS OF THE FAB AND POSSIBLE RELATED USER INTERFACE
                                     0000   111 ;	BLOCKS.
                                     0000   112 ;
                                     0000   113 ; OUTPUT PARAMETERS:
                                     0000   114 ;
                                     0000   115 ;	R0	STATUS CODE
                                     0000   116 ;	R1	DESTROYED
                                     0000   117 ;
                                     0000   118 ; IMPLICIT OUTPUTS:
                                     0000   119 ;
                                     0000   120 ;	THE IFAB AND ALL RELATED INTERNAL RMS STRUCTURES ARE VAPORIZED.
                                     0000   121 ;	FAB$L_STS AND FAB$L_STV ARE OUTPUT AND FAB$W_IFI IS ZEROED IF THE
                                     0000   122 ;	CLOSE WAS SUCCESSFUL.
                                     0000   123 ;
                                     0000   124 ;	A COMPLETION AST IS QUEUED IF SO SPECIFIED BY THE USER.
                                     0000   125 ;
                                     0000   126 ; COMPLETION CODES:
                                     0000   127 ;
                                     0000   128 ;	STANDARD RMS (SEE FUNCTIONAL SPEC FOR LIST).
                                     0000   129 ;
                                     0000   130 ; SIDE EFFECTS:
                                     0000   131 ;
                                     0000   132 ;	NONE
                                     0000   133 ;
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page   4
034             RMS$CLOSE  -  $CLOSE ROUTINE                                                                                     (1)

                                     0000   134 ;--
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page   5
034             RMS$CLOSE  -  $CLOSE ROUTINE                                                                                     (1)

                                     0000   136 	$ENTRY	RMS$CLOSE
                                 00000000       	.PSECT	F$RMSCLOSE0,GBL,NOWRT
                                     0000   137 	$TSTPT	CLOSE
                 00000200'9F     D6  0000       		INCL	@#PIO$GL_FMLH+512+TPT$L_CLOSE
                          FFF7'  30  0006   138 	BSBW	RM$FSET					;DO COMMON SETUP
                                     0009   139 							;NOTE: DOES NOT RETURN ON ERROR
                          FFF4'  30  0009   140 	BSBW	RM$CHK_IDLE				;CHECK ALL STREAMS IDLE, EXITING IF NOT
                                     000C   141 ;++
                                     000C   142 ;  FORCE A DISCONNECT ON ALL STREAMS
                                     000C   143 ;
                          01     DD  000C   144 	PUSHL	#1					;STATUS CODE TO STACK
                          3B     11  000E   145 	BRB	NXTIRAB					;GO CHECK IF ANY IRABS LINKED
                                     0010   146 ;
                                     0010   147 ;  DO AN EFFECTIVE BSB TO THE ORG-SPECIFIC DISCONNECT
                                     0010   148 ;
                                     0010   149 ;  NOTE: THIS MAKES THE FAB LOOK LIKE A RAB, BUT IS OF NO CONSEQUENCE
                                     0010   150 ;	SINCE THERE ARE NO RAB INPUTS TO THE INTERNAL DISCONNECT
                                     0010   151 ;	AND THE ONLY OUTPUTS ARE STV AND ISI (ZEROED)
                                     0010   152 ;
                                     0010   153 	ASSUME	RAB$L_STV EQ FAB$L_STV
                                     0010   154 	ASSUME	RAB$W_ISI EQ FAB$W_IFI
                                     0010   155 	ASSUME	RAB$C_BLN LE FAB$C_BLN			;(NECESSARY FOR THE RE-PROBE ON STALL)
                                     0010   156 
                                     0010   157 ;
                                     0010   158 ;  MUST CLEAR THE ASYNC OPERATION BIT TO AVOID ARGLIST COPY TO ASB, SET BUSY,
                                     0010   159 ;  AND INITIALIZE PPF_IMAGE BIT CORRECTLY
                                     0010   160 ;--
                                     0010   161 NXTDISC:
         04 A9            0C     8A  0010   162 	BICB	#<1@<IRB$V_ASYNC-BKP>>!<1@<IRB$V_PPF_IMAGE-BKP>>,IRB$L_BKPBITS(R9)
                                     0014   163 	SSB	#IRB$V_BUSY,(R9)			;SAY RAB BUSY
            69            20     E2  0014       		BBSS	#IRB$V_BUSY,(R9),30000$
                          00         0017       
                                     0018       30000$:
         0A A9            57     90  0018   164 	MOVB	R7,IRB$B_MODE(R9)			;SET MODE INTO IRAB
            6A            22     E1  001C   165 	BBC	#IFB$V_PPF_IMAGE,(R10),10$		;BRANCH UNLESS INDIRECT PPF
                          04         001F       
                                     0020   166 	SSB	#IRB$V_PPF_IMAGE,(R9)			;SAY IRAB ACCESSED INDIRECTLY
            69            22     E2  0020       		BBSS	#IRB$V_PPF_IMAGE,(R9),30001$
                          00         0023       
                                     0024       30001$:
                     0280 8F     BB  0024   167 10$:	PUSHR	#^M<R7,R9>				;SAVE MODE AND IRAB ADDR
                       39'AF     9F  0028   168 	PUSHAB	B^NXTRTN				;RETURN PC TO STACK
                                     002B   169 	CASE	TYPE=B, SRC=IFB$B_ORGCASE(R10),-
                                     002B   170 		DISPLIST=<RM$DISCONNECT1,RM$DISCOMMONSUC,RM$DISCONNECT3>
            00         23 AA     8F  002B       	CASEB	IFB$B_ORGCASE(R10),#0,S^#<<30003$-30002$>/2>-1
                          02'        002F       
                                     0030       30002$:
                               FFD0' 0030       	.WORD	RM$DISCONNECT1-30002$
                               FFD0' 0032       	.WORD	RM$DISCOMMONSUC-30002$
                               FFD0' 0034       	.WORD	RM$DISCONNECT3-30002$
                                     0036       30003$:
                          FFC7'  31  0036   171 	BRW	RM$DISCOMMONSUC				;HANDLE UNKNOWN ORG (BLK I/O)
                     0280 8F     BA  0039   172 NXTRTN:	POPR	#^M<R7,R9>				;RESTORE MODE AND (DEALLOCATED IRAB ADDR
                                     003D   173 							; (LINK STILL VALID)
            6A            22     E1  003D   174 	BBC	#IFB$V_PPF_IMAGE,(R10),10$		;BRANCH UNLESS INDIRECT PPF
                          04         0040       
                                     0041   175 	CSB	#IRB$V_BUSY,(R9)			;SAY IRAB NOT BUSY ANYMORE
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page   6
034             RMS$CLOSE  -  $CLOSE ROUTINE                                                                                     (1)

            69            20     E5  0041       		BBCC	#IRB$V_BUSY,(R9),30004$
                          00         0044       
                                     0045       30004$:
            03            50     E8  0045   176 10$:	BLBS	R0,NXTIRAB				;BRANCH IF NO ERROR
            6E            50     D0  0048   177 	MOVL	R0,(SP)					;REPLACE STATUS CODE
                                     004B   178 NXTIRAB:
                                     004B   179 	ASSUME	IFB$L_IRAB_LNK EQ IRB$L_IRAB_LNK
            59         1C A9     D0  004B   180 	MOVL	IRB$L_IRAB_LNK(R9),R9			;GET NEXT IRAB
                                     004F   181 ;*****
                                     004F   182 ; NOTE: THE NEXT IRAB LINK MUST STILL BE GOOD EVEN THOUGH PREVIOUS IRAB
                                     004F   183 ;	IS DEALLOCATED, SINCE NOTHING ELSE COULD HAVE RE-USED THE SPACE.
                                     004F   184 ;****
                          BF     12  004F   185 	BNEQ	NXTDISC					;LOOP IF MORE IRABS
            59            5A     D0  0051   186 	MOVL	R10,R9					;RESTORE IFAB ADDRESS
                                     0054   187 ;++
                                     0054   188 ;
                                     0054   189 ;  GET OR OF FAB OPTIONS THAT ARE INPUT TO EITHER OPEN/CREATE OR CLOSE
                                     0054   190 ;
                                     0054   191 ;--
            69            22     E0  0054   192 	BBS	#IFB$V_PPF_IMAGE,(R9),10$		;BRANCH IF INDIRECT PPF
                          12         0057       
                                     0058   193 	ASSUME	FAB$V_RWC+1 EQ FAB$V_DMO
                                     0058   194 	ASSUME	FAB$V_DMO+1 EQ FAB$V_SPL
                                     0058   195 	ASSUME	FAB$V_SPL+1 EQ FAB$V_SCF
                                     0058   196 	ASSUME	FAB$V_SCF+1 EQ FAB$V_DLT
            05            2B     EF  0058   197 	EXTZV	#FAB$V_RWC+FOP,#5,(R8),R1		;GET OPTION BITS FROM FAB
            51            68         005B       
                                     005D   198 	ASSUME	IFB$V_RWC+1 EQ IFB$V_DMO
                                     005D   199 	ASSUME	IFB$V_DMO+1 EQ IFB$V_SPL
                                     005D   200 	ASSUME	IFB$V_SPL+1 EQ IFB$V_SCF
                                     005D   201 	ASSUME	IFB$V_SCF+1 EQ IFB$V_DLT
            05            27     EF  005D   202 	EXTZV	#IFB$V_RWC,#5,(R9),R0			;GET SAVED IFAB COPIES FROM $OPEN
            50            69         0060       
            50            51     88  0062   203 	BISB2	R1,R0					;OR THEM TOGETHER
            27            50     F0  0065   204 	INSV	R0,#IFB$V_RWC,#5,(R9)			;AND RESTORE IN IFAB FLAGS
            69            05         0068       
                                     006A   205 10$:
                                     006A   206 ;++
                                     006A   207 ;
                                     006A   208 ;  DISPATCH TO ORGANIZATION-DEPENDENT CLOSE CODE
                                     006A   209 ;
                                     006A   210 ;  REGISTER STATE FOR DISPATCH:
                                     006A   211 ;
                                     006A   212 ;	R11	IMPURE AREA ADDRESS
                                     006A   213 ;	R10	IFAB ADDRESS
                                     006A   214 ;	R9	IFAB ADDRESS
                                     006A   215 ;	R8	FAB ADDRESS
                                     006A   216 ;	(SP)	RETURN ADDRESS
                                     006A   217 ;	4(SP)	STATUS CODE
                                     006A   218 ;
                                     006A   219 ;--
                       7A'AF     9F  006A   220 	PUSHAB	B^CLSDLT				;RETURN PC TO STACK
                                     006D   221 	CASE	TYPE=B,SRC=IFB$B_ORGCASE(R9),-
                                     006D   222 		DISPLIST=<RM$NULL,RM$NULL,RM$CLOSE3>	;PICK UP CORRECT ROUTINE
            00         23 A9     8F  006D       	CASEB	IFB$B_ORGCASE(R9),#0,S^#<<30006$-30005$>/2>-1
                          02'        0071       
                                     0072       30005$:
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page   7
034             RMS$CLOSE  -  $CLOSE ROUTINE                                                                                     (1)

                               FF8E' 0072       	.WORD	RM$NULL-30005$
                               FF8E' 0074       	.WORD	RM$NULL-30005$
                               FF8E' 0076       	.WORD	RM$CLOSE3-30005$
                                     0078       30006$:
                          8E     D5  0078   223 	TSTL	(SP)+					;REMOVE RETURN PC FOR OTHER ORGS
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page   8
034             RMS$CLOSE  -  $CLOSE ROUTINE                                                                                     (1)

                                     007A   225 ;++
                                     007A   226 ;
                                     007A   227 ;  RETURN HERE FROM ORGANIZATION-DEPENDENT CLOSE ROUTINES
                                     007A   228 ;
                                     007A   229 ;--
                                     007A   230 ;
                                     007A   231 ; CHECK FOR DLT FOP BIT SET.
                                     007A   232 ; IF SET AND THE SPL AND SCF BITS ARE CLEAR, DELETE THE FILE.
                                     007A   233 ;
                                     007A   234 CLSDLT:
            69            2B     E1  007A   235 	BBC	#IFB$V_DLT,(R9),CLSCU1			;BRANCH IF DLT NOT SPECED
                          05         007D       
                                     007E   236 	$PSECT_BR	F$RMSCLOSEOPTN
                          FF7F'  31  007E       		BRW	F$RMSCLOSEOPTN0
                                     0081       		.SAVE
                                 00000000       		.PSECT	F$RMSCLOSEOPTN,GBL,NOWRT
                                     0000       F$RMSCLOSEOPTN0:
                                     0000   237 ;
                                     0000   238 ; IF THIS IS A NETWORK OPERATION, DO NOT PROCESS DLT OPTION; IT WILL BE
                                     0000   239 ; HANDLED BY NETWORK CODE DURING DEACCESS.
                                     0000   240 ;
            69            0D     E0  0000   241 	BBS	#DEV$V_NET,IFB$L_PRIM_DEV(R9),CLSCU2	;BRANCH IF NETWORK OPERATION
                          52         0003       
                                     0004   242 	ASSUME IFB$V_SCF EQ IFB$V_SPL+1
            02            29     ED  0004   243 	CMPZV	#IFB$V_SPL,#2,(R9),#0			;SPL AND SCF BOTH 0?
            00            69         0007       
                          4B     12  0009   244 	BNEQ	CLSCU2					;BRANCH IF NOT
            69            1C     E1  000B   245 	BBC	#DEV$V_RND,IFB$L_PRIM_DEV(R9),CLSCU2	;IGNORE IF NOT DISK
                          47         000E       
            69            18     E0  000F   246 	BBS	#DEV$V_FOR,IFB$L_PRIM_DEV(R9),CLSCU2	;IGNORE IF MNTD FOREIGN
                          43         0012       
            69            22     E0  0013   247 	BBS	#IFB$V_PPF_IMAGE,(R9),CLSCU2		;IGNORE IF INDIRECT PPF
                          3F         0016       
                       28 A8     D5  0017   248 	TSTL	FAB$L_NAM(R8)				;ANY NAM BLK?
                          05     13  001A   249 	BEQL	BLDFIB					;BRANCH IF NO NAMBLK
                          3B     10  001C   250 	BSBB	CHKNAM					;CHECK OUT NAMBLK
            46            50     E9  001E   251 	BLBC	R0,ERROR
                                     0021   252 ;
                                     0021   253 ;	BUILD FIB FOR DELETE
                                     0021   254 ;
            52            16     D0  0021   255 BLDFIB:	MOVL	#FIB$C_DIRDATA,R2			;SIZE OF FIB
                          FFD9'  30  0024   256 	BSBW	RM$GETSPC1				;ALLOCATE FIB
            3D            50     E9  0027   257 	BLBC	R0,ERROR				;GET OUT ON ERROR
                          51     DD  002A   258 	PUSHL	R1					;ADDR OF FIB
                          16     DD  002C   259 	PUSHL	#FIB$C_DIRDATA				;LENGTH
                       28 A8     D5  002E   260 	TSTL	FAB$L_NAM(R8)				;IS THERE A NAM BLOCK?
                          13     13  0031   261 	BEQL	DELETE					;BRANCH IF NONE
            69            35     E0  0033   262 	BBS	#IFB$V_TMP,(R9),DELETE			;OR IF NO DIRECTORY ENTRY
                          0F         0036       
                                     0037   263 	SSB	#FIB$V_FINDFID,FIB$W_NMCTL(R1)		;INDICATE FIND VIA FID
         14 A1            0B     E2  0037       		BBSS	#FIB$V_FINDFID,FIB$W_NMCTL(R1),30007$
                          00         003B       
                                     003C       30007$:
                                     003C   264 							; (0 FID => CURRENT FILE)
         0A A1         2A A7     B0  003C   265 	MOVW	NAM$W_DID(R7),FIB$W_DID(R1)		;SET DIRECTORY ID
         0C A1         2C A7     D0  0041   266 	MOVL	NAM$W_DID_SEQ(R7),FIB$W_DID_SEQ(R1)	;   "
            50       0000'8F     3C  0046   267 DELETE:	MOVZWL	#<IO$_DELETE!IO$M_DELETE>,R0		;SET I/O FUNC CODE
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page   9
034             RMS$CLOSE  -  $CLOSE ROUTINE                                                                                     (1)

                          FFB2'  30  004B   268 	BSBW	RM$FCPFNC_ALT1				;DO THE DELETE
                          14     BA  004E   269 	POPR	#^M<R2,R4>				;CLEAN STACK AND GET
                                     0050   270 							;FIB LEN AND ADDR
            11            50     E9  0050   271 	BLBC	R0,ERRMKD				;BRANCH ON ERROR
                          FFAA'  30  0053   272 	BSBW	RM$RETSPC1				;RETURN FIB SPACE
                          002A'  31  0056   273 CLSCU2:	BRW	CLSCU1					;RETURN TO COMMON CLOSE
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page  10
034             RMS$CLOSE  -  $CLOSE ROUTINE                                                                                     (1)

                                     0059   275 ;++
                                     0059   276 ;
                                     0059   277 ;	SUBROUTINE TO VERIFY NAM BLK
                                     0059   278 ;		( NOTE: THIS NEEDS TO BE A SUBROUTINE BECAUSE OF THE
                                     0059   279 ;		WAY RM$CHKNAMBLK WORKS, I.E. IT POPS A RETURN PC AND
                                     0059   280 ;		RETURNS TO THE PREVIOUS CALLER)
                                     0059   281 ;--
                                     0059   282 RM$CLS_CHKNAM::
            57         28 A8     D0  0059   283 CHKNAM:	MOVL	FAB$L_NAM(R8),R7			;GET NAMBLK ADDR
                          FFA0'  30  005D   284 	BSBW	RM$CHKNAMBLK				;CHECK GOODNESS
                                     0060   285 							;NOTE: RETURNS TO CALLER
                                     0060   286 							; IF SETDID IN ERROR
            50            01     D0  0060   287 	MOVL	#1,R0					;SHOW SUCCESS
                                 05  0063   288 	RSB
                                     0064   289 ;++
                                     0064   290 ;
                                     0064   291 ;  HANDLE ERRORS
                                     0064   292 ;
                                     0064   293 ;--
                                     0064   294 ERRMKD:	$PSECT_BR L$RMS0				;DELETE FAILED
                          FF99'  31  0064       		BRW	L$RMS01
                                     0067       		.SAVE
                                 00000000       		.PSECT	L$RMS0,GBL,NOWRT
                                     0000       L$RMS01:
                                     0000   295 	RMSERR	MKD,(SP)				;REPLACE ERROR CODE
            6E       0000'8F     3C  0000       		MOVZWL	#<RMS$_MKD&^XFFFF>,(SP)
         0C A8         0C A9     D0  0005   296 	MOVL	IFB$L_IOS(R9),FAB$L_STV(R8)		;RETURN SYSTEM ERROR CODE
                          FFF3'  30  000A   297 	BSBW	RM$RETSPC1				;RETURN FIB SPACE
                          0073'  31  000D   298 	BRW	CLSCU1					;FINISH CLOSE
                                     0010   299 	$PSECT_RESTORE
                                 00000067       		.RESTORE
                                     0067   300 ;
                                     0067   301 ;  EITHER BAD NAM BLK OR COULDN'T ALLOCATE FIB
                                     0067   302 ;
                                     0067   303 ERROR:	$PSECT_BR	L$RMS0
                          FFA6'  31  0067       		BRW	L$RMS02
                                     006A       		.SAVE
                                 00000010       		.PSECT	L$RMS0,GBL,NOWRT
                                     0010       L$RMS02:
                          02     BA  0010   304 	POPR #^M<R1>					;POP OLD STATUS CODE
                          006C'  31  0012   305 	BRW	RM$CLSCU				;GO FINISH CLOSE
                                     0015   306 	$PSECT_RESTORE
                                 0000006A       		.RESTORE
                                     006A   307 	$PSECT_RESTORE
                                 00000081       		.RESTORE
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page  11
034             RMS$CLOSE  -  $CLOSE ROUTINE                                                                                     (1)

                                     0081   309 ;++
                                     0081   310 ;
                                     0081   311 ;  ENTRY POINT TO CLEAN UP ON ABORTED $OPEN OR $CREATE
                                     0081   312 ;  OR SUCCESSFUL $ERASE,$PARSE OR OTHER CONTROL ROUTINE
                                     0081   313 ;
                                     0081   314 ;--
                                     0081   315 RM$CLSCU::
                          50     DD  0081   316 	PUSHL	R0					;SAVE ERROR CODE
            69            22     E1  0083   317 CLSCU1:	BBC	#IFB$V_PPF_IMAGE,(R9),RELBUF		;BRANCH IF NOT INDIRECT PPF
                          08         0086       
                                     0087   318 ;
                                     0087   319 ;  CLOSE OF INDIRECTLY OPENED PROCESS PERMANENT FILE.
                                     0087   320 ;  NEED MERELY ZERO THE IFI FIELD.
                                     0087   321 ;
                       02 A8     B4  0087   322 	CLRW	FAB$W_IFI(R8)
                          01     BA  008A   323 	POPR	#^M<R0>					;RESTORE STATUS CODE
                          FF71'  31  008C   324 	BRW	RM$EXRMS				;ALL SET
                                     008F   325 ;
                                     008F   326 ;  RETURN ALL BUFFERS AND BDB'S
                                     008F   327 ;
                          0096   30  008F   328 RELBUF:	BSBW	RM$RELEASALL
                                     0092   329 ;
                                     0092   330 ;  RELEASE ALL RECORD LOCK BLOCKS
                                     0092   331 ;
                                     0092   332 ;  !! NOTE: REQUIRES ADDITIONAL CODE FOR SHARED FILES. !!
                                     0092   333 ;
            56         2C A9     D0  0092   334 	MOVL	IFB$L_RLB_LNK(R9),R6			; GET FIRST RLB
                          0D     13  0096   335 	BEQL	20$					; BRANCH IF NONE
            54            56     D0  0098   336 10$:	MOVL	R6,R4					; COPY RLB ADDRESS FOR RETBLK
            56            66     D0  009B   337 	MOVL	(R6),R6					; GET NEXT RLB ADDRESS
                          FF5F'  30  009E   338 	BSBW	RM$RETBLK1				; DEALLOCATE RLB
                          56     D5  00A1   339 	TSTL	R6					; GOT ANOTHER RLB?
                          F3     12  00A3   340 	BNEQ	10$					; BRANCH IF YES
                                     00A5   341 20$:
                                     00A5   342 ;
                                     00A5   343 ;  DEACCESS THE FILE
                                     00A5   344 ;
                                     00A5   345 DEACCESS:
            69            25     E5  00A5   346 	BBCC	#IFB$V_ACCESSED,(R9),10$		;BRANCH IF FILE NOT ACCESSED
                          17         00A8       
                                     00A9   347 ;
                                     00A9   348 ; IF THIS IS A NETWORK OPERATION, DO NOT PROCESS SCF AND SPL OPTIONS BY
                                     00A9   349 ; RM$CLOSE1; THESE WILL BE HANDLED BY NETWORK CODE DURING DEACCESS.
                                     00A9   350 ;
            69            0D     E0  00A9   351 	BBS	#DEV$V_NET,IFB$L_PRIM_DEV(R9),5$	; BRANCH IF NETWORK OPERATION
                          0A         00AC       
                                     00AD   352 	ASSUME	FAB$C_SEQ EQ 0
                       23 A9     95  00AD   353 	TSTB	IFB$B_ORGCASE(R9)			;SEQUENTIAL FILE ORG?
                          05     12  00B0   354 	BNEQ	5$					;BRANCH IF NOT
                          FF4B'  30  00B2   355 	BSBW	RM$CLOSE1				;CHECK FOR SPOOL OR SUBMIT
                          03     11  00B5   356 	BRB	7$					;CONTINUE
                          FF46'  30  00B7   357 5$:	BSBW	RM$DEACCESS				;DO THE DEACCESS
            03            50     E8  00BA   358 7$:	BLBS	R0,10$					;BRANCH ON SUCCESS
            6E            50     D0  00BD   359 	MOVL	R0,(SP)					;SAVE ERROR CODE
                                     00C0   360 ;
                                     00C0   361 ; IF MAILBOX OR FOREIGN MAGTAPE AND WRITE ACCESSED, WRITE AN EOF
                                     00C0   362 ;
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page  12
034             RMS$CLOSE  -  $CLOSE ROUTINE                                                                                     (1)

            69            14     E0  00C0   363 10$:	BBS	#DEV$V_MBX,IFB$L_PRIM_DEV(R9),20$	; BRANCH IF MAILBOX
                          08         00C3       
            69            18     E1  00C4   364 	BBC	#DEV$V_FOR,IFB$L_PRIM_DEV(R9),DEASSIGN	; BRANCH IF NOT FOREIGN
                          07         00C7       
            69            05     E1  00C8   365 	BBC	#DEV$V_SQD,IFB$L_PRIM_DEV(R9),DEASSIGN	; BRANCH IF NOT MAG TAPE
                          03         00CB       
                                     00CC   366 20$:	$PSECT_CALL	L$RMS0
                          FF46'  30  00CC       		BSBW	L$RMS03
                                     00CF       		.SAVE
                                 00000015       		.PSECT	L$RMS0,GBL,NOWRT
                                     0015       L$RMS03:
            69            30     E1  0015   367 	BBC	#IFB$V_WRTACC,(R9),CHK_REWIND		; BRANCH IF NOT WRITE ACCESSED
                          27         0018       
                          FFE4'  30  0019   368 	BSBW	RM$WRITEOF				; WRITE AN EOF
            1A            50     E9  001C   369 	BLBC	R0,30$	
            69            05     E1  001F   370 	BBC	#DEV$V_SQD,IFB$L_PRIM_DEV(R9),30$	; BRANCH IF NOT MT
                          16         0022       
                          FFDA'  30  0023   371 	BSBW	RM$WRITEOF				; WRITE A 2ND TAPE MARK
            10            50     E9  0026   372 	BLBC	R0,30$
            56            01     CE  0029   373 	MNEGL	#1,R6					; SPACE COUNT
                          FFD1'  30  002C   374 	BSBW	RM$SPACE_MT				; BACKSPACE THE TAPE
       0000'8F            50     B1  002F   375 	CMPW	R0,#RMS$_EOF&^XFFFF			; WAS ERROR EOF?
                          03     12  0034   376 	BNEQ	30$					; BRANCH IF NOT (REAL ERROR)
                                     0036   377 	RMSSUC						; SAY SUCCESS
            50            01     D0  0036       		MOVL	#1,R0
            04            50     E8  0039   378 30$:	BLBS	R0,CHK_REWIND				; CHECK REWIND FOR NFS 
         04 AE            50     D0  003C   379 	MOVL	R0,4(SP)				; UPDATE STATUS CODE
                                     0040   380 ;
                                     0040   381 ;	IF MAGTAPE (FOREIGN) DO REWIND IF RWC IS SET
                                     0040   382 ;
                                     0040   383 CHK_REWIND:
            69            05     E1  0040   384 	BBC	#DEV$V_SQD,IFB$L_PRIM_DEV(R9),20$	; BRANCH IF NOT MAGTAPE
                          0E         0043       
            69            27     E1  0044   385 	BBC	#IFB$V_RWC,(R9),20$			; BRANCH IF NO REWIND
                          0A         0047       
                          FFB5'  30  0048   386 	BSBW	RM$REWIND_MT				; REWIND MAGTAPE
            04            50     E8  004B   387 	BLBS	R0,20$					; CONTINUE ON SUCCESS
         04 AE            50     D0  004E   388 	MOVL	R0,4(SP)				; UPDATE STATUS CODE
                                     0052   389 20$:
                                     0052   390 	$PSECT_RETURN
                                 05  0052       		RSB
                                 000000CF       		.RESTORE
                                     00CF   391 ;
                                     00CF   392 ;  DEASSIGN I/O CHANNEL
                                     00CF   393 ;
                                     00CF   394 DEASSIGN:
                                     00CF   395 	$DASSGN_S	IFB$W_CHNL(R9)
            7E         20 A9     3C  00CF       		MOVZWL	IFB$W_CHNL(R9),-(SP)
   00000000'GF            01     FB  00D3       		CALLS	#1,G^SYS$DASSGN
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page  13
034             RMS$CLOSE  -  $CLOSE ROUTINE                                                                                     (1)

                                     00DA   397 ;++
                                     00DA   398 ;
                                     00DA   399 ;  RETURN THE, IFAB; ALSO, THE ASB AND NWA, IF ANY
                                     00DA   400 ;
                                     00DA   401 ;--
                          FF23'  30  00DA   402 RETIFB:	BSBW	RM$DEALLEFN			;DEALLOCATE THE EFN FOR IFAB
            5C         18 A9     D0  00DD   403 	MOVL	IFB$L_ARGLST(R9),AP		;RESTORE ARGLIST ADDRESS
            57         0A A9     9A  00E1   404 	MOVZBL	IFB$B_MODE(R9),R7		;AND CALLER'S MODE
                           00000008  00E5   405 .IF NE $$RMSTEST&$$RMS_TBUGCHK
            54         14 A9     D0  00E5   406 	MOVL	IFB$L_ASBADDR(R9),R4		;GET ASB ADDR
                          06     13  00E9   407 	BEQL	10$				;BRANCH IF NONE
            53            5B     D0  00EB   408 	MOVL	R11,R3				;FREE SPACE HEADER
                          FF0F'  30  00EE   409 	BSBW	RM$RETBLK			;DEALLOCATE ASB
            69            3C     E0  00F1   410 10$:	BBS	#IFB$V_NWA,(R9),NTNWA		;BRANCH IF NWA PRESENT
                          30         00F4       
            53            59     7D  00F5   411 IFBNXT:	MOVQ	R9,R3				;IFAB ADDR TO RIGHT REGS FOR RETBLK
                          FF05'  30  00F8   412 	BSBW	RM$RETBLK			;DEALLOCATE IFAB
                                     00FB   413 .ENDC
                                     00FB   414 ;++
                                     00FB   415 ;
                                     00FB   416 ;  RETURN THE PAGES USED FOR ALL INTERNAL STRUCTURES
                                     00FB   417 ;
                                     00FB   418 ;--
            5A            08     C2  00FB   419 	SUBL2	#8,R10				;GET START OF PAGE ADDR
            54            6A     D0  00FE   420 	MOVL	(R10),R4			;GET 1ST HOLE (THERE MUST BE
                                     0101   421 						; AT LEAST 1 HOLE FOR IFAB)
            56            64     D0  0101   422 20$:	MOVL	(R4),R6				;GET NEXT FREE SPACE HOLE
                           00000008  0104   423 	.IF NE $$RMSTEST&$$RMS_TBUGCHK
   000001F8 8F         08 A4     D1  0104   424 	CMPL	8(R4),#504			;ALL HOLES SHOULD NOW BE EQUAL
                                     010C   425 						;  TO ONE PAGE IN LENGTH
                                     010C   426 						; (LESS LIST HEAD IF PAGE 1)
                          40     1F  010C   427 	BLSSU	ERRBUG				;BRANCH IF NOT
                                     010E   428 	.ENDC
                          FEEF'  30  010E   429 	BSBW	RM$RET1PAG			;RETURN IT
            54            56     D0  0111   430 	MOVL	R6,R4				;GET SET TO RETURN NEXT PAGE
            5A            56     D1  0114   431 	CMPL	R6,R10				;ALL DONE?
                          E8     12  0117   432 	BNEQ	20$				;LOOP IF NOT
                                     0119   433 ;
                                     0119   434 ;  ZERO IFI AND IFAB TABLE POINTER
                                     0119   435 ;
                          FEE4'  30  0119   436 	BSBW	RM$ZAPIFI
                          01     BA  011C   437 	POPR	#^M<R0>				;RESTORE STATUS CODE
                          FEDF'  31  011E   438 	BRW	RM$EX_NOSTR			;AND DO STRUCTURELESS EXIT
                                     0121   439 ;++
                                     0121   440 ;
                                     0121   441 ;  ENTRY POINT TO LEAVE FILE OPEN FOR USER BUT REMOVE ALL RMS
                                     0121   442 ;  KNOWLEDGE OF THE FILE
                                     0121   443 ;	R0 = STATUS CODE
                                     0121   444 ;--
                                     0121   445 RM$RETIFB::
                          50     DD  0121   446 	PUSHL	R0				;SAVE STATUS CODE
                          B5     11  0123   447 	BRB	RETIFB
                                     0125   448 ;++
                                     0125   449 ;
                                     0125   450 ; RETURN THE NETWORK WORK AREA CONTROL BLOCK
                                     0125   451 ;
                                     0125   452 ;--
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page  14
034             RMS$CLOSE  -  $CLOSE ROUTINE                                                                                     (1)

                                     0125   453 NTNWA:	$PSECT_BR	NF$NETWORK
                          FED8'  31  0125       		BRW	NF$NETWORK4
                                     0128       		.SAVE
                                 00000000       		.PSECT	NF$NETWORK,GBL,NOWRT
                                     0000       NF$NETWORK4:
            54         28 A9     D0  0000   454 	MOVL	IFB$L_NWA_PTR(R9),R4		; GET NWA ADDRESS
            55       0400 8F     3C  0004   455 	MOVZWL	#NWA$C_BLN,R5			; GET # BYTES TO RETURN
                          FFF4'  30  0009   456 	BSBW	RM$RETPAG			; DEALLOCATE NWA
                          00E6'  31  000C   457 	BRW	IFBNXT				; REJOIN MAINLINE
                                     000F   458 	$PSECT_RESTORE
                                 00000128       		.RESTORE
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page  15
034             RMS$CLOSE  -  $CLOSE ROUTINE                                                                                     (1)

                                     0128   460 ;++
                                     0128   461 ;  SUBROUTINE TO RELEASE ALL BDB'S AND THEIR ASSOCIATED BUFFERS,
                                     0128   462 ;  WRITING IF DIRTY, AND UNLOCKING THE CONTAINED BLOCKS
                                     0128   463 ;
                                     0128   464 ;  INPUTS:
                                     0128   465 ;	R11	IMPURE AREA ADDRESS
                                     0128   466 ;	R9	IFAB ADDRESS
                                     0128   467 ;	R8	FAB ADDRESS
                                     0128   468 ;
                                     0128   469 ;  OUTPUTS:
                                     0128   470 ;	R10	IFAB ADDRESS
                                     0128   471 ;	R0-R6	DESTROYED
                                     0128   472 ;--
                                     0128   473 ;
                                     0128   474 ;  RETURN ALL BUFFERS AND BDB'S
                                     0128   475 ;
                                     0128   476 RM$RELEASALL::
            5A            59     D0  0128   477 	MOVL	R9,R10				;MAKE SURE R10 = IFAB ADDR
            56         30 AA     DE  012B   478 	MOVAL	IFB$L_BDB_FLNK(R10),R6		;GET BDB LIST HEAD
            54            66     D0  012F   479 10$:	MOVL	(R6),R4				;GET 1ST BDB IN LIST
            56            54     D1  0132   480 	CMPL	R4,R6				;BACK AT LIST HEAD?
                          16     13  0135   481 	BEQL	20$				;BRANCH IF YES - ALL DONE
         0C A4            59     D0  0137   482 	MOVL	R9,BDB$L_OWN(R4)		;SAY IFAB IS OWNER
         0B A4            01     90  013B   483 	MOVB	#1,BDB$B_USECNT(R4)		;ONLY 1 ACCESSOR
            53            03     D0  013F   484 	MOVL	#RLS$M_WRT_THRU!RLS$M_RETURN,R3 ;WRITE IF DIRTY AND RETURN BDB
                          FEBB'  30  0142   485 	BSBW	RM$RELEASE			;GO RELEASE IT
            E7            50     E8  0145   486 	BLBS	R0,10$				;CONTINUE ON SUCCESS
            6E            50     D0  0148   487 	MOVL	R0,(SP)				;SAVE ERROR CODE
                          E2     11  014B   488 	BRB	10$				;AND CONTINUE
                                 05  014D   489 20$:	RSB
                                     014E   490 ;
                                     014E   491 ;
                                     014E   492 ;  ATTEMPTED TO RETURN AN IFAB-RELATED PAGE HAVING SOME
                                     014E   493 ;  NON-DEALLOCATED BLOCK(S) IN IT
                                     014E   494 ;
                                     014E   495 ERRBUG:	RMSTBUG	FTL$_DEALLERR
                                     014E       	.SAVE
                                 00000400       	.PSECT	$ABS$,ABS
                           00000000  0400       	.=0
                                 0000014E       	.RESTORE
                          FEAF'  30  014E       		BSBW	RM$BUG
                                 EF  0151       		.BYTE	FTL$_DEALLERR
                                     0152   496 
                                     0152   497 
                                     0152   498 	.END
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page  16
SYMBOL TABLE                                                                                                                     (1)

$$.PSECT_EP    = 00000005            DEV$M_DIR      = 00000008            FAB$B_FSZ        0000003F            
$$RMSTEST      = 0000001A            DEV$M_DMT      = 00200000            FAB$B_ORG        0000001D            
$$RMS_PBUGCHK  = 00000010            DEV$M_ELG      = 00400000            FAB$B_RAT        0000001E            
$$RMS_TBUGCHK  = 00000008            DEV$M_FOD      = 00004000            FAB$B_RFM        0000001F            
$$RMS_UMODE    = 00000004            DEV$M_FOR      = 01000000            FAB$B_RTV        0000001C            
BDB$B_BID        00000008            DEV$M_GEN      = 00020000            FAB$B_SHR        00000017            
BDB$B_BLN        00000009            DEV$M_IDV      = 04000000            FAB$C_BID      = 00000003            
BDB$B_FLGS       0000000A            DEV$M_MBX      = 00100000            FAB$C_BLN        00000050            
BDB$B_POST_CCTL  00000023            DEV$M_MNT      = 00080000            FAB$C_FIX      = 00000001            
BDB$B_PRE_CCTL   00000022            DEV$M_NET      = 00002000            FAB$C_HSH      = 00000030            
BDB$B_REL_VBN    00000020            DEV$M_ODV      = 08000000            FAB$C_IDX      = 00000020            
BDB$B_USECNT     0000000B            DEV$M_RCK      = 40000000            FAB$C_MAXRFM   = 00000003            
BDB$B_VAL_VBNS   00000021            DEV$M_REC      = 00000001            FAB$C_REL      = 00000010            
BDB$C_BID      = 0000000C            DEV$M_RND      = 10000000            FAB$C_RFM_DFLT = 00000002            
BDB$C_BLN        00000028            DEV$M_RTM      = 20000000            FAB$C_SEQ      = 00000000            
BDB$K_BLN        00000028            DEV$M_SDI      = 00000010            FAB$C_UDF      = 00000000            
BDB$L_ADDR       00000014            DEV$M_SHR      = 00010000            FAB$C_VAR      = 00000002            
BDB$L_BLINK      00000004            DEV$M_SPL      = 00000040            FAB$C_VFC      = 00000003            
BDB$L_CURBUFADR  00000024            DEV$M_SQD      = 00000020            FAB$K_BLN        00000050            
BDB$L_FLINK      00000000            DEV$M_SWL      = 02000000            FAB$L_ALQ        00000010            
BDB$L_IOSB       00000020            DEV$M_TRM      = 00000004            FAB$L_CTX        00000018            
BDB$L_OWN        0000000C            DEV$M_WCK      = 80000000            FAB$L_DEV        00000040            
BDB$L_VBN        00000018            DEV$V_ALL      = 00000017            FAB$L_DNA        00000030            
BDB$L_WAIT       0000001C            DEV$V_AVL      = 00000012            FAB$L_FNA        0000002C            
BDB$L_WK1        00000020            DEV$V_CCL      = 00000001            FAB$L_FOP        00000004            
BDB$M_AST_DCL  = 00000040            DEV$V_DIR      = 00000003            FAB$L_JNL        00000020            
BDB$M_DRT      = 00000002            DEV$V_DMT      = 00000015            FAB$L_MRN        00000038            
BDB$M_IOP      = 00000004            DEV$V_ELG      = 00000016            FAB$L_NAM        00000028            
BDB$M_LKDINWS  = 00000080            DEV$V_FOD      = 0000000E            FAB$L_SDC        00000044            
BDB$M_NOLOCATE = 00000010            DEV$V_FOR      = 00000018            FAB$L_STS        00000008            
BDB$M_PRM      = 00000008            DEV$V_GEN      = 00000011            FAB$L_STV        0000000C            
BDB$M_VAL      = 00000001            DEV$V_IDV      = 0000001A            FAB$L_XAB        00000024            
BDB$M_WFO      = 00000020            DEV$V_MBX      = 00000014            FAB$M_BIO      = 00000020            
BDB$V_AST_DCL  = 00000006            DEV$V_MNT      = 00000013            FAB$M_BLK      = 00000008            
BDB$V_DRT      = 00000001            DEV$V_NET      = 0000000D            FAB$M_BRO      = 00000040            
BDB$V_IOP      = 00000002            DEV$V_ODV      = 0000001B            FAB$M_CBT      = 00200000            
BDB$V_LKDINWS  = 00000007            DEV$V_RCK      = 0000001E            FAB$M_CIF      = 02000000            
BDB$V_NOLOCATE = 00000004            DEV$V_REC      = 00000000            FAB$M_CR       = 00000002            
BDB$V_PRM      = 00000003            DEV$V_RND      = 0000001C            FAB$M_CTG      = 00100000            
BDB$V_VAL      = 00000000            DEV$V_RTM      = 0000001D            FAB$M_DEL      = 00000004            
BDB$V_WFO      = 00000005            DEV$V_SDI      = 00000004            FAB$M_DFW      = 00000020            
BDB$W_NUMB       00000010            DEV$V_SHR      = 00000010            FAB$M_DLT      = 00008000            
BDB$W_SIZE       00000012            DEV$V_SPL      = 00000006            FAB$M_DMO      = 00001000            
BIT...         = 00000000            DEV$V_SQD      = 00000005            FAB$M_ESC      = 08000000            
BKP            = 00000020            DEV$V_SWL      = 00000019            FAB$M_EXE      = 00000080            
BLDFIB           00000021 R     04   DEV$V_TRM      = 00000002            FAB$M_FTN      = 00000001            
CHKNAM           00000059 R     04   DEV$V_WCK      = 0000001F            FAB$M_GET      = 00000002            
CHK_REWIND       00000040 R     05   ERRBUG           0000014E R     02   FAB$M_INP      = 00080000            
CLSCU1           00000083 R     02   ERRMKD           00000064 R     04   FAB$M_JNL      = 00400000            
CLSCU2           00000056 R     04   ERROR            00000067 R     04   FAB$M_KFO      = 40000000            
CLSDLT           0000007A R     02   F$RMSCLOSEOPTN0  00000000 R     04   FAB$M_MSE      = 00000010            
DEACCESS         000000A5 R     02   FAB$B_BID        00000000            FAB$M_MXV      = 00000002            
DEASSIGN         000000CF R     02   FAB$B_BKS        0000003E            FAB$M_NAM      = 01000000            
DELETE           00000046 R     04   FAB$B_BLN        00000001            FAB$M_NEF      = 00000400            
DEV$M_ALL      = 00800000            FAB$B_DNS        00000035            FAB$M_NFS      = 00010000            
DEV$M_AVL      = 00040000            FAB$B_FAC        00000016            FAB$M_NIL      = 00000020            
DEV$M_CCL      = 00000002            FAB$B_FNS        00000034            FAB$M_OFP      = 20000000            
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page  17
SYMBOL TABLE                                                                                                                     (1)

FAB$M_POS      = 00000100            FAB$V_PPF_RAT  = 00000006            FIB$K_MTALEN     0000001C            
FAB$M_PPF      = 00040000            FAB$V_PRN      = 00000002            FIB$L_ACCTL      00000000            
FAB$M_PPF_IND  = 00004000            FAB$V_PUT      = 00000000            FIB$L_CNTRLVAL   00000018            
FAB$M_PPF_RAT  = 00003FC0            FAB$V_RCK      = 00000017            FIB$L_EXSZ       00000018            
FAB$M_PRN      = 00000004            FAB$V_RWC      = 0000000B            FIB$L_EXVBN      0000001C            
FAB$M_PUT      = 00000001            FAB$V_RWO      = 00000007            FIB$L_LOC_ADDR   00000028            
FAB$M_RCK      = 00800000            FAB$V_SCF      = 0000000E            FIB$L_WCC        00000010            
FAB$M_RWC      = 00000800            FAB$V_SHRDEL   = 00000002            FIB$M_ALCON    = 00000001            
FAB$M_RWO      = 00000080            FAB$V_SHRGET   = 00000001            FIB$M_ALCONB   = 00000002            
FAB$M_SCF      = 00004000            FAB$V_SHRPUT   = 00000000            FIB$M_ALDEF    = 00000008            
FAB$M_SHRDEL   = 00000004            FAB$V_SHRUPD   = 00000003            FIB$M_ALLNAM   = 00000020            
FAB$M_SHRGET   = 00000002            FAB$V_SPL      = 0000000D            FIB$M_ALLTYP   = 00000010            
FAB$M_SHRPUT   = 00000001            FAB$V_SQO      = 00000006            FIB$M_ALLVER   = 00000008            
FAB$M_SHRUPD   = 00000008            FAB$V_SUP      = 00000002            FIB$M_CURPOS   = 00000010            
FAB$M_SPL      = 00002000            FAB$V_TEF      = 0000001C            FIB$M_DLOCK    = 00000002            
FAB$M_SQO      = 00000040            FAB$V_TMD      = 00000004            FIB$M_EXACT    = 00000001            
FAB$M_SUP      = 00000004            FAB$V_TMP      = 00000003            FIB$M_EXECUTE  = 00010000            
FAB$M_TEF      = 10000000            FAB$V_TRN      = 00000004            FIB$M_EXTEND   = 00000080            
FAB$M_TMD      = 00000010            FAB$V_UFM      = 0000001A            FIB$M_FILCON   = 00000004            
FAB$M_TMP      = 00000008            FAB$V_UFO      = 00000011            FIB$M_FINDFID  = 00000800            
FAB$M_TRN      = 00000010            FAB$V_UPD      = 00000003            FIB$M_HIGHVER  = 00008000            
FAB$M_UFM      = 04000000            FAB$V_UPI      = 00000006            FIB$M_LOWVER   = 00004000            
FAB$M_UFO      = 00020000            FAB$V_WCK      = 00000009            FIB$M_MARKBAD  = 00000400            
FAB$M_UPD      = 00000008            FAB$W_BLS        0000003C            FIB$M_NEWVER   = 00000200            
FAB$M_UPI      = 00000040            FAB$W_DEQ        00000014            FIB$M_NOHDREXT = 00000200            
FAB$M_WCK      = 00000200            FAB$W_IFI        00000002            FIB$M_NOREAD   = 00000400            
FAB$S_ORG      = 00000004            FAB$W_MRS        00000036            FIB$M_NOTRUNC  = 00000800            
FAB$S_PPF_RAT  = 00000008            FIB$B_ALALIGN    00000021            FIB$M_NOWRITE  = 00000001            
FAB$V_BIO      = 00000005            FIB$B_ALOPTS     00000020            FIB$M_ONCYL    = 00000002            
FAB$V_BLK      = 00000003            FIB$B_DID_NMX    0000000F            FIB$M_PRSRV_ATR= 00020000            
FAB$V_BRO      = 00000006            FIB$B_DID_RVN    0000000E            FIB$M_READCK   = 00000200            
FAB$V_CBT      = 00000015            FIB$B_FID_NMX    00000009            FIB$M_REWIND   = 00000008            
FAB$V_CIF      = 00000019            FIB$B_FID_RVN    00000008            FIB$M_SEQONLY  = 00000040            
FAB$V_CR       = 00000001            FIB$B_LOC_NMX    00000027            FIB$M_SPOOL    = 00000010            
FAB$V_CTG      = 00000014            FIB$B_LOC_RVN    00000026            FIB$M_SUPERSEDE= 00000400            
FAB$V_DEL      = 00000002            FIB$B_WSIZE      00000003            FIB$M_TRUNC    = 00000100            
FAB$V_DFW      = 00000005            FIB$C_ACCDATA    0000000A            FIB$M_UPDATE   = 00000040            
FAB$V_DLT      = 0000000F            FIB$C_ALCDATA    0000002C            FIB$M_WILD     = 00000100            
FAB$V_DMO      = 0000000C            FIB$C_CYL      = 00000001            FIB$M_WRITE    = 00000100            
FAB$V_ESC      = 0000001B            FIB$C_DIRDATA    00000016            FIB$M_WRITECK  = 00000020            
FAB$V_EXE      = 00000007            FIB$C_EXTDATA    00000020            FIB$V_ALCON    = 00000000            
FAB$V_FTN      = 00000000            FIB$C_ILLEGAL  = 00000005            FIB$V_ALCONB   = 00000001            
FAB$V_GET      = 00000001            FIB$C_LBN      = 00000002            FIB$V_ALDEF    = 00000003            
FAB$V_INP      = 00000013            FIB$C_LENGTH     0000002C            FIB$V_ALLNAM   = 00000005            
FAB$V_JNL      = 00000016            FIB$C_MTALEN     0000001C            FIB$V_ALLTYP   = 00000004            
FAB$V_KFO      = 0000001E            FIB$C_NEXTVOL  = 00000003            FIB$V_ALLVER   = 00000003            
FAB$V_MSE      = 00000004            FIB$C_POSEND   = 00000002            FIB$V_CURPOS   = 00000004            
FAB$V_MXV      = 00000001            FIB$C_REWINDFIL= 00000006            FIB$V_DLOCK    = 00000001            
FAB$V_NAM      = 00000018            FIB$C_REWINDVOL= 00000001            FIB$V_EXACT    = 00000000            
FAB$V_NEF      = 0000000A            FIB$C_RFI      = 00000004            FIB$V_EXECUTE  = 00000010            
FAB$V_NFS      = 00000010            FIB$C_SPACE    = 00000004            FIB$V_EXTEND   = 00000007            
FAB$V_NIL      = 00000005            FIB$C_VBN      = 00000003            FIB$V_FILCON   = 00000002            
FAB$V_OFP      = 0000001D            FIB$K_ACCDATA    0000000A            FIB$V_FINDFID  = 0000000B            
FAB$V_ORG      = 00000004            FIB$K_ALCDATA    0000002C            FIB$V_HIGHVER  = 0000000F            
FAB$V_POS      = 00000008            FIB$K_DIRDATA    00000016            FIB$V_LOWVER   = 0000000E            
FAB$V_PPF      = 00000012            FIB$K_EXTDATA    00000020            FIB$V_MARKBAD  = 0000000A            
FAB$V_PPF_IND  = 0000000E            FIB$K_LENGTH     0000002C            FIB$V_NEWVER   = 00000009            
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page  18
SYMBOL TABLE                                                                                                                     (1)

FIB$V_NOHDREXT = 00000009            IFB$B_AMAX       00000059            IFB$M_BRO      = 00000040            
FIB$V_NOREAD   = 0000000A            IFB$B_AVBN       00000058            IFB$M_DEL      = 00000004            
FIB$V_NOTRUNC  = 0000000B            IFB$B_BID        00000008            IFB$M_EXE      = 00000080            
FIB$V_NOWRITE  = 00000000            IFB$B_BKS        0000004A            IFB$M_GET      = 00000002            
FIB$V_ONCYL    = 00000001            IFB$B_BLN        00000009            IFB$M_PUT      = 00000001            
FIB$V_PRSRV_ATR= 00000011            IFB$B_EFN        0000000B            IFB$M_TRN      = 00000010            
FIB$V_READCK   = 00000009            IFB$B_EXTRABUF   0000005D            IFB$M_UPD      = 00000008            
FIB$V_REWIND   = 00000003            IFB$B_FAC        00000022            IFB$S_ORG      = 00000004            
FIB$V_SEQONLY  = 00000006            IFB$B_FSZ        0000004B            IFB$S_RFM      = 00000004            
FIB$V_SPOOL    = 00000004            IFB$B_KBUFSZ     0000005C            IFB$V_ACCESSED = 00000025            
FIB$V_SUPERSEDE= 0000000A            IFB$B_MODE       0000000A            IFB$V_ANSI_D   = 00000026            
FIB$V_TRUNC    = 00000008            IFB$B_NUM_KEYS   0000005A            IFB$V_ASYNC    = 00000023            
FIB$V_UPDATE   = 00000006            IFB$B_ORGCASE    00000023            IFB$V_ASYNCWAIT= 00000024            
FIB$V_WILD     = 00000008            IFB$B_RAT        0000003D            IFB$V_BIO      = 00000005            
FIB$V_WRITE    = 00000008            IFB$B_RFMORG     0000003C            IFB$V_BRO      = 00000006            
FIB$V_WRITECK  = 00000005            IFB$B_UBUFSZ     0000005B            IFB$V_BUSY     = 00000020            
FIB$W_ALLOC      00000022            IFB$C_BID      = 0000000B            IFB$V_CREATE   = 00000032            
FIB$W_CNTRLFUNC  00000016            IFB$C_BLN        00000060            IFB$V_DAP      = 0000003E            
FIB$W_DID        0000000A            IFB$C_BLN_IDX    00000060            IFB$V_DAP_OPEN = 0000003D            
FIB$W_DID_NUM    0000000A            IFB$C_BLN_REL    00000060            IFB$V_DEL      = 00000002            
FIB$W_DID_RVN    0000000E            IFB$C_BLN_SEQ    0000005C            IFB$V_DFW      = 0000002C            
FIB$W_DID_SEQ    0000000C            IFB$C_DIR      = 00000003            IFB$V_DLT      = 0000002B            
FIB$W_EXCTL      00000016            IFB$C_FHAEND     00000050            IFB$V_DMO      = 00000028            
FIB$W_FID        00000004            IFB$C_IDX      = 00000002            IFB$V_EOF      = 00000021            
FIB$W_FID_NUM    00000004            IFB$C_MAXORG   = 00000002            IFB$V_EXE      = 00000007            
FIB$W_FID_RVN    00000008            IFB$C_REL      = 00000001            IFB$V_GET      = 00000001            
FIB$W_FID_SEQ    00000006            IFB$C_SEQ      = 00000000            IFB$V_MSE      = 00000031            
FIB$W_LOC_FID    00000022            IFB$K_BLN        00000060            IFB$V_NORECLK  = 00000033            
FIB$W_LOC_NUM    00000022            IFB$K_BLN_IDX    00000060            IFB$V_NSP      = 0000003F            
FIB$W_LOC_RVN    00000026            IFB$K_BLN_REL    00000060            IFB$V_NWA      = 0000003C            
FIB$W_LOC_SEQ    00000024            IFB$K_BLN_SEQ    0000005C            IFB$V_ORG      = 00000004            
FIB$W_NMCTL      00000014            IFB$K_FHAEND     00000050            IFB$V_PPF_IMAGE= 00000022            
FOP            = 00000020            IFB$L_ARGLST     00000018            IFB$V_PPF_INPUT= 0000002E            
FTL$_ASBALLFAIL= FFFFFFF9            IFB$L_ASBADDR    00000014            IFB$V_PUT      = 00000000            
FTL$_BADASTPRM = FFFFFFF8            IFB$L_AS_DEV     00000054            IFB$V_RFM      = 00000000            
FTL$_BADBDB    = FFFFFFFA            IFB$L_BDB_BLNK   00000034            IFB$V_RWC      = 00000027            
FTL$_BADBUFSIZ = FFFFFFF3            IFB$L_BDB_FLNK   00000030            IFB$V_RW_ATTR  = 00000034            
FTL$_BADIFAB   = FFFFFFFD            IFB$L_BKPBITS    00000004            IFB$V_SCF      = 0000002A            
FTL$_BADLEVEL  = FFFFFFE6            IFB$L_BWB        0000000C            IFB$V_SPL      = 00000029            
FTL$_BADORGCASE= FFFFFFFB            IFB$L_DVBN       00000058            IFB$V_SQO      = 0000002D            
FTL$_CANTDOAST = FFFFFFF7            IFB$L_EBK        00000044            IFB$V_TEF      = 00000036            
FTL$_DEALLERR  = FFFFFFEF            IFB$L_FRB_PTR    00000028            IFB$V_TMP      = 00000035            
FTL$_GTCHNFAIL = FFFFFFFC            IFB$L_FWA_BDB    00000050            IFB$V_TRN      = 00000004            
FTL$_IORNDN    = FFFFFFEE            IFB$L_HBK        00000040            IFB$V_UPD      = 00000003            
FTL$_LOCKFAILED= FFFFFFE7            IFB$L_IDX_PTR    00000054            IFB$V_WRTACC   = 00000030            
FTL$_NOASB     = FFFFFFF5            IFB$L_IOS        0000000C            IFB$W_ASDEVBSIZ  0000005A            
FTL$_NODIDORFID= FFFFFFEB            IFB$L_IOS4       00000010            IFB$W_BKS_BYTES  0000005C            
FTL$_NOLOCKBDB = FFFFFFE9            IFB$L_IRAB_LNK   0000001C            IFB$W_BKS_RECS   0000005E            
FTL$_NONETWORK = FFFFFFE8            IFB$L_LAST_FAB   00000024            IFB$W_CHNL       00000020            
FTL$_NONXTBDB  = FFFFFFF4            IFB$L_LOCK_BDB   00000050            IFB$W_DEQ        0000004E            
FTL$_NOSTRUCT  = FFFFFFF6            IFB$L_MRN        00000054            IFB$W_DEVBUFSIZ  00000038            
FTL$_NOTLOCKED = FFFFFFEC            IFB$L_NRP_LNK    00000050            IFB$W_EBK0       00000044            
FTL$_RELEASFAIL= FFFFFFEA            IFB$L_NWA_PTR    00000028            IFB$W_EBK2       00000046            
FTL$_SETPRTFAIL= FFFFFFFF            IFB$L_PRIM_DEV   00000000            IFB$W_FFB        00000048            
FTL$_STKTOOBIG = FFFFFFFE            IFB$L_RLB_LNK    0000002C            IFB$W_IOS2       0000000E            
FTL$_XFERSIZE  = FFFFFFED            IFB$L_RNS_LEN    00000050            IFB$W_LRL        0000003E            
GBL...         = 00000000            IFB$M_BIO      = 00000020            IFB$W_MRS        0000004C            
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page  19
SYMBOL TABLE                                                                                                                     (1)

IFB$W_RTDEQ      0000003A            IRB$L_BKPBITS    00000004            IRB$W_RTOTLSZ    00000046            
IFBNXT           000000F5 R     02   IRB$L_BWB        0000000C            IRB$W_SAVE_POS   00000052            
IMP$B_PROT       00000002            IRB$L_CURBDB     00000020            L$RMS01          00000000 R     05   
IMP$C_ASYEFN   = 0000001E            IRB$L_CURVBN     00000030            L$RMS02          00000010 R     05   
IMP$C_ASYQIOEFN= 0000001F            IRB$L_IFAB_LNK   00000000            L$RMS03          00000015 R     05   
IMP$C_ENTPERSEG= 0000000F            IRB$L_IOS        0000000C            NAM$B_BID        00000000            
IMP$C_IOREFN   = 0000001E            IRB$L_IOS4       00000010            NAM$B_BLN        00000001            
IMP$C_MBXEFN   = 0000001A            IRB$L_IRAB_LNK   0000001C            NAM$B_CURLVL     00000038            
IMP$C_NPIOFILES= 0000000C            IRB$L_KEYBUF     00000048            NAM$B_ESL        0000000B            
IMP$C_SYNCEFN  = 0000001B            IRB$L_LAST_RAB   00000024            NAM$B_ESS        0000000A            
IMP$L_FREEPGLH   0000000C            IRB$L_LOCK_BDB   0000005C            NAM$B_RSL        00000003            
IMP$L_IFABTBL    00000018            IRB$L_NRP        0000002C            NAM$B_RSS        00000002            
IMP$L_IFBTBLINK  00000024            IRB$L_NRP_OFF    00000030            NAM$C_BID      = 00000002            
IMP$L_IOSEGADDR  00000004            IRB$L_NRP_VBN    0000002C            NAM$C_BLN        00000038            
IMP$L_IOSEGLEN   00000008            IRB$L_NXTBDB     00000028            NAM$C_BLN_DIRWC  00000050            
IMP$L_IRABTBL    0000001C            IRB$L_OWNER_ID   0000003C            NAM$C_DVI      = 00000010            
IMP$L_IRBTBLINK  00000064            IRB$L_RFA_VBN    00000054            NAM$C_MAXRSS   = 00000080            
IMP$L_SAVED_SP   00000014            IRB$L_RLB_ADDR   00000044            NAM$C_MAXRSSLCL= 00000060            
IMP$V_AST      = 00000001            IRB$L_RP         00000034            NAM$K_BLN        00000038            
IMP$V_IIOS     = 00000000            IRB$L_RP_OFF     00000038            NAM$K_BLN_DIRWC  00000050            
IMP$V_IORUNDOWN= 00000004            IRB$L_RP_VBN     00000034            NAM$L_DIRWCC1    00000040            
IMP$V_NOP0BUFS = 00000005            IRB$L_RRV_VBN    0000004C            NAM$L_DIRWCC2    00000044            
IMP$V_TEMP1    = 00000002            IRB$L_TEMP0      00000044            NAM$L_DIRWCC3    00000048            
IMP$V_TEMP2    = 00000003            IRB$L_TEMP1      00000048            NAM$L_DIRWCC4    0000004C            
IMP$W_ENTPERSEG  00000020            IRB$V_ASYNC    = 00000023            NAM$L_DWC        00000038            
IMP$W_NUM_IFABS  00000022            IRB$V_ASYNCWAIT= 00000024            NAM$L_ESA        0000000C            
IMP$W_RMSSTATUS  00000000            IRB$V_BIO_LAST = 00000027            NAM$L_FNB        00000034            
IO$M_DELETE      ********   X   04   IRB$V_BRO_SW   = 00000028            NAM$L_RLF        00000010            
IO$_DELETE       ********   X   04   IRB$V_BUSY     = 00000020            NAM$L_RSA        00000004            
IRB$B_BCNT       00000040            IRB$V_DAP_CONN = 0000003E            NAM$L_WCC        00000030            
IRB$B_BID        00000008            IRB$V_DAP_FMODE= 0000003F            NAM$M_DIR_LVLS = 00E00000            
IRB$B_BLN        00000009            IRB$V_DUP      = 0000002C            NAM$M_EXP_DEV  = 00000080            
IRB$B_EFN        0000000B            IRB$V_EOF      = 00000021            NAM$M_EXP_DIR  = 00000040            
IRB$B_KEYSZ      00000051            IRB$V_FIND     = 00000029            NAM$M_EXP_NAME = 00000004            
IRB$B_MBC        00000041            IRB$V_FIND_LAST= 00000025            NAM$M_EXP_TYPE = 00000002            
IRB$B_MODE       0000000A            IRB$V_IDX_ERR  = 00000031            NAM$M_EXP_VER  = 00000001            
IRB$B_NRP_ID     00000030            IRB$V_LOCKABOVE= 00000002            NAM$M_GRP_MBR  = 00080000            
IRB$B_NRP_KREF   00000031            IRB$V_NEW_IDX  = 00000003            NAM$M_HIGHVER  = 00008000            
IRB$B_NVBNS      00000048            IRB$V_POSINSERT= 00000000            NAM$M_LOWVER   = 00004000            
IRB$B_POST_CCTL  00000045            IRB$V_PPF_EOF  = 0000002E            NAM$M_NODE     = 00020000            
IRB$B_PPF_ISI    0000003E            IRB$V_PPF_FNDSV= 00000030            NAM$M_PPF      = 00010000            
IRB$B_PRE_CCTL   00000044            IRB$V_PPF_IMAGE= 00000022            NAM$M_QUOTED   = 00040000            
IRB$B_RFA_ID     00000058            IRB$V_PPF_SKIP = 0000002F            NAM$M_WILDCARD = 00000100            
IRB$B_RP_ID      00000038            IRB$V_PUTS_LAST= 00000026            NAM$M_WILD_DIR = 00100000            
IRB$B_RP_KREF    00000039            IRB$V_RAHWBH   = 0000002A            NAM$M_WILD_GRP = 01000000            
IRB$B_RRV_ID     00000050            IRB$V_SKIP_NEXT= 0000002B            NAM$M_WILD_MBR = 02000000            
IRB$B_SRCHFLAGS  00000043            IRB$V_SRCHGT   = 00000001            NAM$M_WILD_NAME= 00000020            
IRB$B_STOPLEVEL  00000042            IRB$V_UNLOCK_RP= 0000002D            NAM$M_WILD_SFD1= 02000000            
IRB$C_BID      = 0000000A            IRB$V_WRITE    = 00000029            NAM$M_WILD_SFD2= 04000000            
IRB$C_BLN_IDX    0000006C            IRB$W_CSIZ       00000042            NAM$M_WILD_SFD3= 08000000            
IRB$C_BLN_REL    00000048            IRB$W_DUP_POS    00000032            NAM$M_WILD_SFD4= 10000000            
IRB$C_BLN_SEQ    0000004C            IRB$W_IOS2       0000000E            NAM$M_WILD_SFD5= 20000000            
IRB$K_BLN_IDX    0000006C            IRB$W_NRP_OFF    00000030            NAM$M_WILD_SFD6= 40000000            
IRB$K_BLN_REL    00000048            IRB$W_OWN_ID     0000003C            NAM$M_WILD_SFD7= 80000000            
IRB$K_BLN_SEQ    0000004C            IRB$W_OWN_ISI    0000003E            NAM$M_WILD_TYPE= 00000010            
IRB$L_ARGLST     00000018            IRB$W_ROVHDSZ    00000044            NAM$M_WILD_UFD = 01000000            
IRB$L_ASBADDR    00000014            IRB$W_RP_OFF     00000038            NAM$M_WILD_VER = 00000008            
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page  20
SYMBOL TABLE                                                                                                                     (1)

NAM$S_DIR_LVLS = 00000003            RAB$B_BID        00000000            RAB$M_ULK      = 00040000            
NAM$T_DVI        00000014            RAB$B_BLN        00000001            RAB$M_WAT      = 00020000            
NAM$V_DIR_LVLS = 00000015            RAB$B_KRF        00000035            RAB$M_WBH      = 00000400            
NAM$V_EXP_DEV  = 00000007            RAB$B_KSZ        00000034            RAB$S_PPF_RAT  = 00000008            
NAM$V_EXP_DIR  = 00000006            RAB$B_MBC        00000037            RAB$V_ASY      = 00000000            
NAM$V_EXP_NAME = 00000002            RAB$B_MBF        00000036            RAB$V_BIO      = 0000000B            
NAM$V_EXP_TYPE = 00000001            RAB$B_PSZ        00000034            RAB$V_CCO      = 0000001F            
NAM$V_EXP_VER  = 00000000            RAB$B_RAC        0000001E            RAB$V_CVT      = 0000001A            
NAM$V_GRP_MBR  = 00000013            RAB$B_ROP1       00000005            RAB$V_EOF      = 00000008            
NAM$V_HIGHVER  = 0000000F            RAB$B_ROP2       00000006            RAB$V_FDL      = 00000006            
NAM$V_LOWVER   = 0000000E            RAB$B_ROP3       00000007            RAB$V_HSH      = 00000007            
NAM$V_NODE     = 00000011            RAB$B_TMO        0000001F            RAB$V_KGE      = 00000015            
NAM$V_PPF      = 00000010            RAB$C_BID      = 00000001            RAB$V_KGT      = 00000016            
NAM$V_QUOTED   = 00000012            RAB$C_BLN        00000044            RAB$V_LIM      = 0000000E            
NAM$V_WILDCARD = 00000008            RAB$C_KEY      = 00000001            RAB$V_LOA      = 0000000D            
NAM$V_WILD_DIR = 00000014            RAB$C_RFA      = 00000002            RAB$V_LOC      = 00000010            
NAM$V_WILD_GRP = 00000018            RAB$C_SEQ      = 00000000            RAB$V_MAS      = 00000005            
NAM$V_WILD_MBR = 00000019            RAB$K_BLN        00000044            RAB$V_NLK      = 00000014            
NAM$V_WILD_NAME= 00000005            RAB$L_BKT        00000038            RAB$V_NXR      = 00000017            
NAM$V_WILD_SFD1= 00000019            RAB$L_CTX        00000018            RAB$V_PMT      = 0000001E            
NAM$V_WILD_SFD2= 0000001A            RAB$L_DCT        00000038            RAB$V_PPF_IND  = 0000000E            
NAM$V_WILD_SFD3= 0000001B            RAB$L_FAB        0000003C            RAB$V_PPF_RAT  = 00000006            
NAM$V_WILD_SFD4= 0000001C            RAB$L_KBF        00000030            RAB$V_PTA      = 0000001D            
NAM$V_WILD_SFD5= 0000001D            RAB$L_PBF        00000030            RAB$V_RAH      = 00000009            
NAM$V_WILD_SFD6= 0000001E            RAB$L_RBF        00000028            RAB$V_RLK      = 00000013            
NAM$V_WILD_SFD7= 0000001F            RAB$L_RFA0       00000010            RAB$V_RNE      = 00000018            
NAM$V_WILD_TYPE= 00000004            RAB$L_RHB        0000002C            RAB$V_RNF      = 0000001B            
NAM$V_WILD_UFD = 00000018            RAB$L_ROP        00000004            RAB$V_TMO      = 00000019            
NAM$V_WILD_VER = 00000003            RAB$L_STS        00000008            RAB$V_TPT      = 00000001            
NAM$W_DID        0000002A            RAB$L_STV        0000000C            RAB$V_UIF      = 00000004            
NAM$W_DID_NUM    0000002A            RAB$L_UBF        00000024            RAB$V_ULK      = 00000012            
NAM$W_DID_RVN    0000002E            RAB$M_ASY      = 00000001            RAB$V_WAT      = 00000011            
NAM$W_DID_SEQ    0000002C            RAB$M_BIO      = 00000800            RAB$V_WBH      = 0000000A            
NAM$W_FID        00000024            RAB$M_CCO      = 80000000            RAB$W_ISI        00000002            
NAM$W_FID_NUM    00000024            RAB$M_CVT      = 04000000            RAB$W_RFA        00000010            
NAM$W_FID_RVN    00000028            RAB$M_EOF      = 00000100            RAB$W_RFA4       00000014            
NAM$W_FID_SEQ    00000026            RAB$M_FDL      = 00000040            RAB$W_RSZ        00000022            
NAM$W_PRV_DID    0000003A            RAB$M_HSH      = 00000080            RAB$W_USZ        00000020            
NF$NETWORK4      00000000 R     06   RAB$M_KGE      = 00200000            RELBUF           0000008F R     02   
NTNWA            00000125 R     02   RAB$M_KGT      = 00400000            RETIFB           000000DA R     02   
NWA$B_QUOTEDTRN  0000013F            RAB$M_LIM      = 00004000            RLS$M_KEEP_ACC = 00000008            
NWA$C_BLN        00000400            RAB$M_LOA      = 00002000            RLS$M_KEEP_LOCK= 00000004            
NWA$C_BUFFERSIZ= 000002A0            RAB$M_LOC      = 00010000            RLS$M_RETURN   = 00000001            
NWA$C_DAPSIZ   = 000000C0            RAB$M_MAS      = 00000020            RLS$M_WRT_THRU = 00000002            
NWA$K_BLN        00000400            RAB$M_NLK      = 00100000            RLS$V_KEEP_ACC = 00000003            
NWA$Q_BUFFER     00000140            RAB$M_NXR      = 00800000            RLS$V_KEEP_LOCK= 00000002            
NWA$Q_BUFFER2    00000148            RAB$M_PMT      = 40000000            RLS$V_RETURN   = 00000000            
NWA$Q_FLG        00000000            RAB$M_PPF_IND  = 00004000            RLS$V_WRT_THRU = 00000001            
NWA$T_BUFFER     00000160            RAB$M_PPF_RAT  = 00003FC0            RM$BUG           ********   X   02   
NWA$T_DAP        00000000            RAB$M_PTA      = 20000000            RM$CHKNAMBLK     ********   X   04   
NWA$T_FILESPEC   000000C0            RAB$M_RAH      = 00000200            RM$CHK_IDLE      ********   X   02   
NWA$T_QUOTEDBUF  000000C0            RAB$M_RLK      = 00080000            RM$CLOSE1        ********   X   02   
NWA$T_SPARE      00000150            RAB$M_RNE      = 01000000            RM$CLOSE3        ********   X   02   
NXTDISC          00000010 R     02   RAB$M_RNF      = 08000000            RM$CLSCU         00000081 RG    02   
NXTIRAB          0000004B R     02   RAB$M_TMO      = 02000000            RM$CLS_CHKNAM    00000059 RG    04   
NXTRTN           00000039 R     02   RAB$M_TPT      = 00000002            RM$DEACCESS      ********   X   02   
PIO$GL_FMLH      ********   X   02   RAB$M_UIF      = 00000010            RM$DEALLEFN      ********   X   02   
RMS0CLOSE       DISPATCH FOR CLOSE OPERATION                     21-AUG-1978 21:57:45   VAX-11 MACRO X0.3-11               Page  21
SYMBOL TABLE                                                                                                                     (1)

RM$DISCOMMONSUC  ********   X   02   
RM$DISCONNECT1   ********   X   02   
RM$DISCONNECT3   ********   X   02   
RM$EXRMS         ********   X   02   
RM$EX_NOSTR      ********   X   02   
RM$FCPFNC_ALT1   ********   X   04   
RM$FSET          ********   X   02   
RM$GETSPC1       ********   X   04   
RM$NULL          ********   X   02   
RM$RELEASALL     00000128 RG    02   
RM$RELEASE       ********   X   02   
RM$RET1PAG       ********   X   02   
RM$RETBLK        ********   X   02   
RM$RETBLK1       ********   X   02   
RM$RETIFB        00000121 RG    02   
RM$RETPAG        ********   X   06   
RM$RETSPC1       ********   X   04   
RM$REWIND_MT     ********   X   05   
RM$SPACE_MT      ********   X   05   
RM$WRITEOF       ********   X   05   
RM$ZAPIFI        ********   X   02   
RMS$CLOSE      = FFFFFFFE RG    02   
RMS$_EOF         ********   X   05   
RMS$_MKD         ********   X   05   
SYS$DASSGN       ********   X   02   
TPT$L_CLOSE      ********   X   02   


PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
F$RMSCLOSE0      00000152      02     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD  NOWRT BYTE  
$ABS$            00000400      03     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
F$RMSCLOSEOPTN   0000006A      04     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD  NOWRT BYTE  
L$RMS0           00000053      05     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD  NOWRT BYTE  
NF$NETWORK       0000000F      06     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD  NOWRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
3450. BYTES LEFT IN FREE MEMORY POOL.
1292. BYTES OF RECLAIMED MEMORY.
OBJ$:RMS0CLOSE,LIS$:RMS0CLOSE/-SP=EXECML$/ML,LIB$:R/ML,SRC$:RMS0CLOSE
46 MLB DIR RDS - 1281 GETS TO DEFINE 38 MACROS. 109 INTER. FILE WRITES. 

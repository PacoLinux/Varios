RMS0RENAM       RENAME FILE SERVICE                              21-AUG-1978 22:08:57   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (1)      39  DECLARATIONS
   (1)      66  RMS$RENAME - RENAME FILE ROUTINE
RMS0RENAM       RENAME FILE SERVICE                              21-AUG-1978 22:08:57   VAX-11 MACRO X0.3-11               Page   1
004                                                                                                                              (1)

                                     0000     1 	$BEGIN	RMS0RENAM,004,F$RMS0MISC,<RENAME FILE SERVICE>
                                     0000     2 
                                     0000     3 
                                     0000     4 ;
                                     0000     5 ; COPYRIGHT (C) 1977
                                     0000     6 ; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS 01754
                                     0000     7 ;
                                     0000     8 ; THIS SOFTWARE IS FURNISHED  UNDER A LICENSE FOR USE ONLY ON A SINGLE
                                     0000     9 ; COMPUTER  SYSTEM AND  MAY BE  COPIED ONLY WITH  THE INCLUSION OF THE
                                     0000    10 ; ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE, OR ANY OTHER COPIES THEREOF,
                                     0000    11 ; MAY NOT BE PROVIDED OR  OTHERWISE MADE AVAILABLE TO ANY OTHER PERSON
                                     0000    12 ; EXCEPT FOR USE ON SUCH SYSTEM AND TO ONE WHO AGREES TO THESE LICENSE
                                     0000    13 ; TERMS.  TITLE TO AND  OWNERSHIP OF THE  SOFTWARE  SHALL AT ALL TIMES
                                     0000    14 ; REMAIN IN DEC.
                                     0000    15 ;
                                     0000    16 ; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE WITHOUT NOTICE
                                     0000    17 ; AND SHOULD  NOT BE CONSTRUED  AS A COMMITMENT  BY DIGITAL  EQUIPMENT
                                     0000    18 ; CORPORATION.
                                     0000    19 ;
                                     0000    20 ; DEC ASSUMES  NO  RESPONSIBILITY  FOR  THE USE OR  RELIABILITY OF ITS
                                     0000    21 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
                                     0000    22 ;
                                     0000    23 ;++
                                     0000    24 ;
                                     0000    25 ; ABSTRACT:
                                     0000    26 ;	THIS ROUTINE PERFORMS THE $RENAME FILE RMS FUNCTION.
                                     0000    27 ;
                                     0000    28 ; ENVIRONMENT:
                                     0000    29 ;		STAR PROCESSOR RUNNING STARLET EXEC.
                                     0000    30 ;
                                     0000    31 ; AUTHOR: L F LAVERDURE,	 CREATION DATE: 24-MAY-78
                                     0000    32 ;
                                     0000    33 ; MODIFIED BY:
                                     0000    34 ;
                                     0000    35 ;	L F LAVERDURE,   23-JUN-78  9:37
                                     0000    36 ; 01	- 
                                     0000    37 ;--
RMS0RENAM       RENAME FILE SERVICE                              21-AUG-1978 22:08:57   VAX-11 MACRO X0.3-11               Page   2
004             DECLARATIONS                                                                                                     (1)

                                     0000    39 	.SBTTL	DECLARATIONS
                                     0000    40 ;
                                     0000    41 ; INCLUDE FILES:
                                     0000    42 ;
                                     0000    43 
                                     0000    44 ;
                                     0000    45 ; MACROS:
                                     0000    46 ;
                                     0000    47 	$FABDEF
                                     0000    48 	$NAMDEF
                                     0000    49 	$IFBDEF
                                     0000    50 	$FIBDEF
                                     0000    51 	$IODEF
                                     0000    52 	$FWADEF
                                     0000    53 	$IMPDEF
                                     0000    54 	.LIST MEB
                                     0000    55 
                                     0000    56 ;
                                     0000    57 ; EQUATED SYMBOLS:
                                     0000    58 ;
                           00000020  0000    59 	FOP=FAB$L_FOP*8			; BIT OFFSET TO FOP BITS
                                     0000    60 
                                     0000    61 ;
                                     0000    62 ; OWN STORAGE:
                                     0000    63 ;
                                     0000    64 
RMS0RENAM       RENAME FILE SERVICE                              21-AUG-1978 22:08:57   VAX-11 MACRO X0.3-11               Page   3
004             RMS$RENAME - RENAME FILE ROUTINE                                                                                 (1)

                                     0000    66 	.SBTTL RMS$RENAME - RENAME FILE ROUTINE
                                     0000    67 ;++
                                     0000    68 ; FUNCTIONAL DESCRIPTION:
                                     0000    69 ;
                                     0000    70 ;  THIS ROUTINE PERFORMS THE FOLLOWING STEPS:
                                     0000    71 ;
                                     0000    72 ;	1. CALLS RM$FSETI TO CREATE AN IFAB.
                                     0000    73 ;	2. SAVES THE ADDRESS OF THE OLD FAB AND NEW FAB ON THE STACK.
                                     0000    74 ;	3. CALLS RM$PARSE_FILE TO PARSE THE OLD FILE NAME, INCLUDING
                                     0000    75 ;	   SETTING UP ITS DIRECTORY ID.
                                     0000    76 ;	4. VERIFIES THAT THE FILE SPEC CONTAINED NO WILD CARDS AND DID
                                     0000    77 ;	   NOT SPECIFY A PROCESS PERMANENT FILE OR A NETWORK NODE.
                                     0000    78 ;	5. ISSUES AN "ACCESS" QIO TO LOOKUP THE OLD FILE IN THE DIRECTORY
                                     0000    79 ;	   (BUT DOES NOT ACCESS THE FILE).
                                     0000    80 ;	6. CALLS RM$FILLNAM TO FILL IN THE OLD NAME BLOCK, IF ANY.
                                     0000    81 ;	7. VERIFIES THE NEW FAB FOR GOODNESS.
                                     0000    82 ;	8. CALLS RM$PARSE_FILE TO PARSE THE NEW FILE SPEC
                                     0000    83 ;	   (RM$PARSE_FILE KEYS OFF OF THE FACT THAT A CHANNEL IS ALREADY
                                     0000    84 ;	   ASSIGNED AND RETURNS IMMEDIATELY AFTER THE PARSE WITHOUT DOING
                                     0000    85 ;	   A CALL TO SET UP THE DID).
                                     0000    86 ;	9. STEP 4 IS REPEATED FOR THE NEW NAME.
                                     0000    87 ;      10. THE PARSED DEVICE NAME (INCLUDING UNIT) IS CHECKED FOR BEING
                                     0000    88 ;	   THE SAME FOR BOTH THE OLD AND NEW FILE SPECS.
                                     0000    89 ;      11. CALLS RM$SETDID FOR THE NEW FILE.
                                     0000    90 ;      12. ISSUES A "CREATE" QIO TO ENTER THE NEW NAME IN THE NEW DIRECTORY
                                     0000    91 ;	   (WITH THE OLD FID).
                                     0000    92 ;      13. CALLS RM$FILLNAM TO FILL IN THE NEW NAM BLOCK, IF ANY.
                                     0000    93 ;      14. ISSUES A "DELETE" QIO TO REMOVE THE OLD NAME FROM THE OLD DIRECTORY.
                                     0000    94 ;      15. BRANCHES TO RM$CLSCU TO DEASSIGN THE CHANNEL AND EVAPORATE THE IFAB.
                                     0000    95 ;
                                     0000    96 ; CALLING SEQUENCE:
                                     0000    97 ;
                                     0000    98 ;	ENTERED AS A RESULT OF USER'S CALLING SYS$RENAME.
                                     0000    99 ;
                                     0000   100 ; INPUT PARAMETERS:
                                     0000   101 ;
                                     0000   102 ;	AP USER'S ARGUMENT LIST (NOTE: 4 ARGUMENTS REQUIRED)
                                     0000   103 ;
                                     0000   104 ; IMPLICIT INPUTS:
                                     0000   105 ;
                                     0000   106 ;	THE CONTENTS OF THE FAB (BID, BLN, IFI, NAM) AND THE
                                     0000   107 ;	RELATED NAM BLOCK.
                                     0000   108 ;
                                     0000   109 ; OUTPUT PARAMETERS:
                                     0000   110 ;
                                     0000   111 ;	R1 DESTROYED
                                     0000   112 ;	R0 STATUS CODE
                                     0000   113 ;
                                     0000   114 ; IMPLICIT OUTPUTS:
                                     0000   115 ;
                                     0000   116 ;	THE STS AND STV FIELDS OF THE FAB ARE OUTPUT ALONG WITH 
                                     0000   117 ;	THE FIELDS OF THE NAM BLOCK
                                     0000   118 ;
                                     0000   119 ;	A COMPLETION AST IS QUEUED IF SPECIFIED IN THE USER ARGLIST.
                                     0000   120 ;
                                     0000   121 ; COMPLETION CODES:
                                     0000   122 ;
RMS0RENAM       RENAME FILE SERVICE                              21-AUG-1978 22:08:57   VAX-11 MACRO X0.3-11               Page   4
004             RMS$RENAME - RENAME FILE ROUTINE                                                                                 (1)

                                     0000   123 ;	STANDARD RMS, IN PARTICULAR ACC, BLN, DEV, DIR, DNF, DNR, ENT, ESA, ESL,
                                     0000   124 ;	FAB, FND, FNF, FNM, IFI, IOP, NAM, PRV, RMV, RST, RSS, SYS, TYP, VER, WLD.
                                     0000   125 ;
                                     0000   126 ; SIDE EFFECTS:
                                     0000   127 ;
                                     0000   128 ;	NONE
                                     0000   129 ;
                                     0000   130 ;--
RMS0RENAM       RENAME FILE SERVICE                              21-AUG-1978 22:08:57   VAX-11 MACRO X0.3-11               Page   5
004             RMS$RENAME - RENAME FILE ROUTINE                                                                                 (1)

                                     0000   132 ;++
                                     0000   133 ;
                                     0000   134 ; ENTRY POINT FOR $RENAME FUNCTION
                                     0000   135 ;
                                     0000   136 ;--
                                     0000   137 	$ENTRY	RMS$RENAME
                                 00000000       	.PSECT	F$RMS0MISC,GBL,NOWRT
                                     0000   138 	$TSTPT	RENAME				; FLAG RENAME DONE
                 00000200'9F     D6  0000       		INCL	@#PIO$GL_FMLH+512+TPT$L_RENAME
                          FFF7'  30  0006   139 	BSBW	RM$FSETI			; CREATE IFAB
                                     0009   140 						; RETURN TO USER ON ERROR
                                     0009   141 						; R11=IMPURE AREA ADDR
                                     0009   142 						; R9=IFAB ADDR
                                     0009   143 						; R8=FAB ADDR
                          58     DD  0009   144 	PUSHL	R8				; SAVE OLD FAB ADDRESS
                       10 AC     DD  000B   145 	PUSHL	16(AP)				; AND THE NEW FAB ADDRESS
                                     000E   146 ;++
                                     000E   147 ;
                                     000E   148 ;  PARSE THE OLD FILE SPEC AND LOOK UP THE OLD FILE.
                                     000E   149 ;
                                     000E   150 ;--
                          FFEF'  30  000E   151 	BSBW	RM$PARSE_FILE			; GO PARSE THE OLD FILE SPEC
                          00AE   30  0011   152 	BSBW	CHECK_PARSE			; AND PERFORM VARIOUS CHECKS
            55            32     9A  0014   153 	MOVZBL	#IO$_ACCESS,R5			; FUNCTION CODE FOR FILE LOOKUP
                          0081   30  0017   154 	BSBW	FILFNC				; GO LOOKUP OLD FILE
            6F            50     E9  001A   155 	BLBC	R0,ERRACC			; GET OUT ON ERROR
                          FFE0'  30  001D   156 	BSBW	RM$FILLNAM			; FILL IN THE OLD NAM BLK, IF ANY
            6C            50     E9  0020   157 	BLBC	R0,CLEAN			; GET OUT ON ERROR
                                     0023   158 ;++
                                     0023   159 ;
                                     0023   160 ;  SAVE THE OLD FILE NAME CONTEXT AND PROCESS NEW
                                     0023   161 ;
                                     0023   162 ;--
                          5A     DD  0023   163 	PUSHL	R10				; SAVE OLD FWA ADDRESS
                          0080   30  0025   164 	BSBW	NEWFAB				; GET NEW NAME FAB ADDR IN R8
                          FFD5'  30  0028   165 	BSBW	RM$PARSE_FILE			; PARSE NEW FILE NAME
                                     002B   166 						; (BUT DOESN'T SET DID, THEREFORE
                                     002B   167 						;  IT DOESN'T STALL)
            58         08 AE     D0  002B   168 	MOVL	8(SP),R8			; RESTORE OLD FAB ADDRESS
                          0090   30  002F   169 	BSBW	CHECK_PARSE			; GO VERIFY PARSE
            50            6E     D0  0032   170 	MOVL	(SP),R0				; GET OLD FWA ADDRESS
         3C A0         3C AA     91  0035   171 	CMPB	FWA$Q_DEVICE(R10),FWA$Q_DEVICE(R0)	; NEW DEV SAME AS OLD?
                          56     12  003A   172 	BNEQ	ERRDEV				; BRANCH IF LENGTH DIFFERENT
                       3C AA     29  003C   173 	CMPC3	FWA$Q_DEVICE(R10),@FWA$Q_DEVICE+4(R10),-
         40 B0         40 BA         003F   174 				  @FWA$Q_DEVICE+4(R0)
                          4D     12  0043   175 	BNEQ	ERRDEV				; BRANCH IF CONTENTS DIFFERENT
                          FFB8'  30  0045   176 	BSBW	RM$SETFIB			; SET UP FIB DESCRIPTOR
                          FFB5'  30  0048   177 	BSBW	RM$SETDID_ALT			; LOOK UP NEW DIRECTORY DID
            41            50     E9  004B   178 	BLBC	R0,CLEAN			; GET OUT ON ERROR
RMS0RENAM       RENAME FILE SERVICE                              21-AUG-1978 22:08:57   VAX-11 MACRO X0.3-11               Page   6
004             RMS$RENAME - RENAME FILE ROUTINE                                                                                 (1)

                                     004E   180 ;++
                                     004E   181 ;
                                     004E   182 ;  BOTH OLD AND NEW NAMES PARSED O.K., THE DEVICE AND UNIT ARE THE SAME,
                                     004E   183 ;  AND THE OLD FILE HAS BEEN LOOKED UP.
                                     004E   184 ;  NOW DO ENTER OF NEW NAME AND REMOVE OF OLD.
                                     004E   185 ;
                                     004E   186 ;--
            50            6E     D0  004E   187 	MOVL	(SP),R0				; GET OLD FWA ADDRESS
                          06     28  0051   188 	MOVC3	#6,FWA$T_FIBBUF+FIB$W_FID(R0),-
       00A8 CA       00A8 C0         0053   189 		FWA$T_FIBBUF+FIB$W_FID(R10)	; COPY OLD FID TO NEW FIB
            55            33     9A  0059   190 	MOVZBL	#IO$_CREATE,R5			; QIO FUNCTION CODE FOR ENTER
                          3D     10  005C   191 	BSBB	FILFNC				; GO DO THE ENTER
            34            50     E9  005E   192 	BLBC	R0,ERRENT			; GET OUT ON ERROR
                          45     10  0061   193 	BSBB	NEWFAB				; GET NEW FAB ADDR IN R8
                          FF9A'  30  0063   194 	BSBW	RM$FILLNAM			; FILL IN NEW NAM BLK, IF ANY
            26            50     E9  0066   195 	BLBC	R0,CLEAN			; GET OUT ON ERROR
                          57     D5  0069   196 	TSTL	R7				; DO WE HAVE A NAM BLK?
                          0D     13  006B   197 	BEQL	10$				; BRANCH IF NOT
                                     006D   198 ;
                                     006D   199 ;  SET THE LOWVER AND HIGHVER FLAGS IN THE NAM BLOCK
                                     006D   200 ;
                                     006D   201 	ASSUME	FIB$V_HIGHVER EQ FIB$V_LOWVER+1
                                     006D   202 	ASSUME	NAM$V_HIGHVER EQ NAM$V_LOWVER+1
                          0E     EF  006D   203 	EXTZV	#FIB$V_LOWVER,#2,-
       00B8 CA            02         006F   204 		FIB$W_NMCTL+FWA$T_FIBBUF(R10),R1	; GET VERSION BITS
                          51         0073       
            0E            51     F0  0074   205 	INSV	R1,#NAM$V_LOWVER,#2,NAM$L_FNB(R7)	; AND SET IN NAM BLK
         34 A7            02         0077       
            5A            6E     D0  007A   206 10$:	MOVL	(SP),R10			; RESTORE OLD FWA ADDR
            58         08 AE     D0  007D   207 	MOVL	8(SP),R8			; AND OLD FAB ADDRESS
            55            35     9A  0081   208 	MOVZBL	#IO$_DELETE,R5			; QIO FUNCTION CODE FOR REMOVE
                          15     10  0084   209 	BSBB	FILFNC				; GO DO THE REMOVE
            0F            50     E9  0086   210 	BLBC	R0,ERRRMV			; GET OUT ON ERROR
                          FF74'  31  0089   211 	BRW	RM$CLSCU			; GO EVAPORATE IFAB
                                     008C   212 						; + RETURN TO USER
RMS0RENAM       RENAME FILE SERVICE                              21-AUG-1978 22:08:57   VAX-11 MACRO X0.3-11               Page   7
004             RMS$RENAME - RENAME FILE ROUTINE                                                                                 (1)

                                     008C   214 ;++
                                     008C   215 ;
                                     008C   216 ; HANDLE ERROR CONDITIONS
                                     008C   217 ;
                                     008C   218 ;--
                                     008C   219 ERRACC:	$PSECT_BR	L$RMS0
                          FF71'  31  008C       		BRW	L$RMS00
                                     008F       		.SAVE
                                 00000000       		.PSECT	L$RMS0,GBL,NOWRT
                                     0000       L$RMS00:
                                     0000   220 	RMSERR	ACC,R1				; LOOKUP FAILED
            51       0000'8F     3C  0000       		MOVZWL	#<RMS$_ACC&^XFFFF>,R1
                          FFF8'  30  0005   221 MAPERR:	BSBW	RM$MAPERR			; GO MAP ERROR TO RMS
                                     0008   222 						; AND FALL THRU TO CLEAN_UP
                                     0008   223 	$PSECT_RESTORE
                                 0000008F       		.RESTORE
                                     008F   224 ;
                                     008F   225 CLEAN:	$PSECT_BR	L$RMS0
                          FF76'  31  008F       		BRW	L$RMS01
                                     0092       		.SAVE
                                 00000008       		.PSECT	L$RMS0,GBL,NOWRT
                                     0008       L$RMS01:
                                     0008   226 CLEAN_UP:
            58         14 AB     D0  0008   227 	MOVL	IMP$L_SAVED_SP(R11),R8		; RESTORE OLD FAB ADDR FROM STACK
                                     000C   228 						; (SAVED AS 1ST ITEM ON STACK)
            58            78     D0  000C   229 	MOVL	-(R8),R8			; THIS IS THE FAB ADDR
                          FFEE'  31  000F   230 	BRW	RM$CLSCU			; GO EVAPORATE ALL INTERNAL STRUCTS
                                     0012   231 	$PSECT_RESTORE
                                 00000092       		.RESTORE
                                     0092   232 ;
                                     0092   233 ERRDEV:	$PSECT_BR	L$RMS0
                          FF7D'  31  0092       		BRW	L$RMS02
                                     0095       		.SAVE
                                 00000012       		.PSECT	L$RMS0,GBL,NOWRT
                                     0012       L$RMS02:
                                     0012   234 	RMSERR	DEV				; NOT SAME DEVICE OR UNIT
            50       0000'8F     3C  0012       		MOVZWL	#<RMS$_DEV&^XFFFF>,R0
                          EF     11  0017   235 	BRB	CLEAN_UP
                                     0019   236 	$PSECT_RESTORE
                                 00000095       		.RESTORE
                                     0095   237 ;
                                     0095   238 ERRENT:	$PSECT_BR	L$RMS0
                          FF81'  31  0095       		BRW	L$RMS03
                                     0098       		.SAVE
                                 00000019       		.PSECT	L$RMS0,GBL,NOWRT
                                     0019       L$RMS03:
                                     0019   239 	RMSERR	ENT,R1				; ENTER FAILED
            51       0000'8F     3C  0019       		MOVZWL	#<RMS$_ENT&^XFFFF>,R1
                          E5     11  001E   240 	BRB	MAPERR
                                     0020   241 	$PSECT_RESTORE
                                 00000098       		.RESTORE
                                     0098   242 ;
                                     0098   243 ERRRMV:	$PSECT_BR	L$RMS0
                          FF85'  31  0098       		BRW	L$RMS04
                                     009B       		.SAVE
                                 00000020       		.PSECT	L$RMS0,GBL,NOWRT
                                     0020       L$RMS04:
RMS0RENAM       RENAME FILE SERVICE                              21-AUG-1978 22:08:57   VAX-11 MACRO X0.3-11               Page   8
004             RMS$RENAME - RENAME FILE ROUTINE                                                                                 (1)

                                     0020   244 	RMSERR	RMV,R1				; REMOVE FAILED
            51       0000'8F     3C  0020       		MOVZWL	#<RMS$_RMV&^XFFFF>,R1
                          DE     11  0025   245 	BRB	MAPERR
                                     0027   246 	$PSECT_RESTORE
                                 0000009B       		.RESTORE
RMS0RENAM       RENAME FILE SERVICE                              21-AUG-1978 22:08:57   VAX-11 MACRO X0.3-11               Page   9
004             RMS$RENAME - RENAME FILE ROUTINE                                                                                 (1)

                                     009B   248 ;++
                                     009B   249 ;
                                     009B   250 ;  FILFNC SUBROUTINE TO ISSUE A QIO FUNCTION.
                                     009B   251 ;
                                     009B   252 ;  INPUTS:
                                     009B   253 ;
                                     009B   254 ;	R5		IO FUNCTION CODE
                                     009B   255 ;	R8		FAB ADDRESS
                                     009B   256 ;	R9		IFAB ADDRESS
                                     009B   257 ;	R10		FWA ADDRESS
                                     009B   258 ;	R11		IMPURE AREA ADDRESS
                                     009B   259 ;
                                     009B   260 ;  OUTPUTS:
                                     009B   261 ;
                                     009B   262 ;	R0		STATUS CODE
                                     009B   263 ;	R1-R4,AP	DESTROYED
                                     009B   264 ;
                                     009B   265 ;--
                          10     BA  009B   266 FILFNC:	POPR	#^M<R4>				; GET RETURN PC INTO R4
                          7E     7C  009D   267 	CLRQ	-(SP)				; P6=P5=0
                          FF5E'  30  009F   268 	BSBW	RM$FCP_P4_P2			; SET UP P4 THRU P2 TO
                                     00A2   269 						; PROCESS NAME FROM FWA
            50            55     D0  00A2   270 	MOVL	R5,R0				; IO FUNCTION CODE TO RIGHT REG.
                          FF58'  31  00A5   271 	BRW	RM$FCPFNC_R4			; DO FUNCTION AND RETURN TO CALLER
                                     00A8   272 ;++
                                     00A8   273 ;
                                     00A8   274 ;  SUBROUTINE TO LOAD ADDRESS OF NEW FAB INTO R8 AND CHECK IT FOR GOODNESS.
                                     00A8   275 ;
                                     00A8   276 ;  INPUTS:
                                     00A8   277 ;
                                     00A8   278 ;	R9	IFAB ADDRESS
                                     00A8   279 ;	8(SP)	NEW FAB ADDRESS
                                     00A8   280 ;
                                     00A8   281 ;  OUTPUTS:
                                     00A8   282 ;
                                     00A8   283 ;	R8	NEW FAB ADDRESS
                                     00A8   284 ;
                                     00A8   285 ;  NOTE: DOES NOT RETURN IF FAB IS BAD.
                                     00A8   286 ;
                                     00A8   287 ;--
            58         08 AE     D0  00A8   288 NEWFAB:	MOVL	8(SP),R8			; GET NEW FAB ADDRESS
                                     00AC   289 	IFNORD	#FAB$C_BLN,(R8),ERRFAB,IFB$B_MODE(R9)
       0050 8F         0A A9     0C  00AC       		PROBER	IFB$B_MODE(R9),#FAB$C_BLN,(R8)
                          68         00B2       
                          1E     13  00B3       		BEQL	ERRFAB
                                     00B5   290 						; BRANCH IF NEW FAB NOT READABLE
            03            68     91  00B5   291 	CMPB	FAB$B_BID(R8),#FAB$C_BID	; IS IT A FAB?
                          19     12  00B8   292 	BNEQ	ERRFAB				; BRANCH IF NOT
         50 8F         01 A8     91  00BA   293 	CMPB	FAB$B_BLN(R8),#FAB$C_BLN	; IS IT LONG ENOUGH?
                          15     1F  00BF   294 	BLSSU	ERRBLN				; BRANCH IF NOT
                                 05  00C1   295 	RSB
RMS0RENAM       RENAME FILE SERVICE                              21-AUG-1978 22:08:57   VAX-11 MACRO X0.3-11               Page  10
004             RMS$RENAME - RENAME FILE ROUTINE                                                                                 (1)

                                     00C2   297 ;++
                                     00C2   298 ;
                                     00C2   299 ;  CHECK_PARSE SUBROUTINE TO VERIFY THAT THE PARSED FILE SPEC CONTAINED
                                     00C2   300 ;  NO WILD CARDS AND DID NOT SPECIFY A PROCESS-PERMANENT FILE OR A NETWORK NODE.
                                     00C2   301 ;
                                     00C2   302 ;  INPUTS:
                                     00C2   303 ;
                                     00C2   304 ;	R0	STATUS CODE (CHECKED FOR SUCCESS)
                                     00C2   305 ;	R10	FWA ADDRESS
                                     00C2   306 ;
                                     00C2   307 ;  OUTPUTS:
                                     00C2   308 ;
                                     00C2   309 ;	NONE
                                     00C2   310 ;
                                     00C2   311 ;  NOTE:  DOES NOT RETURN ON ERROR.
                                     00C2   312 ;
                                     00C2   313 ;--
                                     00C2   314 CHECK_PARSE:
            CA            50     E9  00C2   315 	BLBC	R0,CLEAN			; GET OUT IF PARSE FAILED
            6A            18     E0  00C5   316 	BBS	#FWA$V_WILDCARD,(R10),ERRWLD	; GET OUT IF WILD CARD SPECED
                          10         00C8       
                       08 AA     95  00C9   317 	TSTB	FWA$B_ESCFLG(R10)		; PPF?
                          0E     12  00CC   318 	BNEQ	ERRIOP				; BRANCH IF YES
            6A            19     E0  00CE   319 	BBS	#FWA$V_NODE,(R10),ERRSUP	; BRANCH IF NODE SPECED
                          0D         00D1       
                                 05  00D2   320 	RSB
RMS0RENAM       RENAME FILE SERVICE                              21-AUG-1978 22:08:57   VAX-11 MACRO X0.3-11               Page  11
004             RMS$RENAME - RENAME FILE ROUTINE                                                                                 (1)

                                     00D3   322 ;++
                                     00D3   323 ;
                                     00D3   324 ;  HANDLE ERRORS
                                     00D3   325 ;
                                     00D3   326 ;--
                                     00D3   327 ERRFAB:	$PSECT_BR	L$RMS0
                          FF51'  31  00D3       		BRW	L$RMS05
                                     00D6       		.SAVE
                                 00000027       		.PSECT	L$RMS0,GBL,NOWRT
                                     0027       L$RMS05:
                                     0027   328 	RMSERR	FAB				; NEW FAB BAD
            50       0000'8F     3C  0027       		MOVZWL	#<RMS$_FAB&^XFFFF>,R0
                          DA     11  002C   329 	BRB	CLEAN_UP
                                     002E   330 	$PSECT_RESTORE
                                 000000D6       		.RESTORE
                                     00D6   331 ;
                                     00D6   332 ERRBLN:	$PSECT_BR	L$RMS0
                          FF55'  31  00D6       		BRW	L$RMS06
                                     00D9       		.SAVE
                                 0000002E       		.PSECT	L$RMS0,GBL,NOWRT
                                     002E       L$RMS06:
                                     002E   333 	RMSERR	BLN
            50       0000'8F     3C  002E       		MOVZWL	#<RMS$_BLN&^XFFFF>,R0
                          D3     11  0033   334 	BRB	CLEAN_UP
                                     0035   335 	$PSECT_RESTORE
                                 000000D9       		.RESTORE
                                     00D9   336 ;
                                     00D9   337 ERRWLD:	$PSECT_BR	L$RMS0
                          FF59'  31  00D9       		BRW	L$RMS07
                                     00DC       		.SAVE
                                 00000035       		.PSECT	L$RMS0,GBL,NOWRT
                                     0035       L$RMS07:
                                     0035   338 	RMSERR	WLD				; WILD CARD IN SPEC
            50       0000'8F     3C  0035       		MOVZWL	#<RMS$_WLD&^XFFFF>,R0
                          CC     11  003A   339 	BRB	CLEAN_UP
                                     003C   340 	$PSECT_RESTORE
                                 000000DC       		.RESTORE
                                     00DC   341 ;
                                     00DC   342 ERRIOP:	$PSECT_BR	L$RMS0
                          FF5D'  31  00DC       		BRW	L$RMS08
                                     00DF       		.SAVE
                                 0000003C       		.PSECT	L$RMS0,GBL,NOWRT
                                     003C       L$RMS08:
                                     003C   343 	RMSERR	IOP				; ATTEMPT TO RENAME PPF
            50       0000'8F     3C  003C       		MOVZWL	#<RMS$_IOP&^XFFFF>,R0
                          C5     11  0041   344 	BRB	CLEAN_UP
                                     0043   345 	$PSECT_RESTORE
                                 000000DF       		.RESTORE
                                     00DF   346 ;
                                     00DF   347 ERRSUP:	$PSECT_BR	L$RMS0
                          FF61'  31  00DF       		BRW	L$RMS09
                                     00E2       		.SAVE
                                 00000043       		.PSECT	L$RMS0,GBL,NOWRT
                                     0043       L$RMS09:
                                     0043   348 	RMSERR	SUP				; UNSUPPORTED NETWORK FUNCTION
            50       0000'8F     3C  0043       		MOVZWL	#<RMS$_SUP&^XFFFF>,R0
                          BE     11  0048   349 	BRB	CLEAN_UP
RMS0RENAM       RENAME FILE SERVICE                              21-AUG-1978 22:08:57   VAX-11 MACRO X0.3-11               Page  12
004             RMS$RENAME - RENAME FILE ROUTINE                                                                                 (1)

                                     004A   350 	$PSECT_RESTORE
                                 000000E2       		.RESTORE
                                     00E2   351 
                                     00E2   352 
                                     00E2   353 	.END
RMS0RENAM       RENAME FILE SERVICE                              21-AUG-1978 22:08:57   VAX-11 MACRO X0.3-11               Page  13
SYMBOL TABLE                                                                                                                     (1)

$$.PSECT_EP    = 0000000A            FAB$M_BLK      = 00000008            FAB$V_CR       = 00000001            
$$RMSTEST      = 0000001A            FAB$M_BRO      = 00000040            FAB$V_CTG      = 00000014            
$$RMS_PBUGCHK  = 00000010            FAB$M_CBT      = 00200000            FAB$V_DEL      = 00000002            
$$RMS_TBUGCHK  = 00000008            FAB$M_CIF      = 02000000            FAB$V_DFW      = 00000005            
$$RMS_UMODE    = 00000004            FAB$M_CR       = 00000002            FAB$V_DLT      = 0000000F            
BIT...         = 00000006            FAB$M_CTG      = 00100000            FAB$V_DMO      = 0000000C            
CHECK_PARSE      000000C2 R     02   FAB$M_DEL      = 00000004            FAB$V_ESC      = 0000001B            
CLEAN            0000008F R     02   FAB$M_DFW      = 00000020            FAB$V_EXE      = 00000007            
CLEAN_UP         00000008 R     04   FAB$M_DLT      = 00008000            FAB$V_FTN      = 00000000            
ERRACC           0000008C R     02   FAB$M_DMO      = 00001000            FAB$V_GET      = 00000001            
ERRBLN           000000D6 R     02   FAB$M_ESC      = 08000000            FAB$V_INP      = 00000013            
ERRDEV           00000092 R     02   FAB$M_EXE      = 00000080            FAB$V_JNL      = 00000016            
ERRENT           00000095 R     02   FAB$M_FTN      = 00000001            FAB$V_KFO      = 0000001E            
ERRFAB           000000D3 R     02   FAB$M_GET      = 00000002            FAB$V_MSE      = 00000004            
ERRIOP           000000DC R     02   FAB$M_INP      = 00080000            FAB$V_MXV      = 00000001            
ERRRMV           00000098 R     02   FAB$M_JNL      = 00400000            FAB$V_NAM      = 00000018            
ERRSUP           000000DF R     02   FAB$M_KFO      = 40000000            FAB$V_NEF      = 0000000A            
ERRWLD           000000D9 R     02   FAB$M_MSE      = 00000010            FAB$V_NFS      = 00000010            
FAB$B_BID        00000000            FAB$M_MXV      = 00000002            FAB$V_NIL      = 00000005            
FAB$B_BKS        0000003E            FAB$M_NAM      = 01000000            FAB$V_OFP      = 0000001D            
FAB$B_BLN        00000001            FAB$M_NEF      = 00000400            FAB$V_ORG      = 00000004            
FAB$B_DNS        00000035            FAB$M_NFS      = 00010000            FAB$V_POS      = 00000008            
FAB$B_FAC        00000016            FAB$M_NIL      = 00000020            FAB$V_PPF      = 00000012            
FAB$B_FNS        00000034            FAB$M_OFP      = 20000000            FAB$V_PPF_IND  = 0000000E            
FAB$B_FSZ        0000003F            FAB$M_POS      = 00000100            FAB$V_PPF_RAT  = 00000006            
FAB$B_ORG        0000001D            FAB$M_PPF      = 00040000            FAB$V_PRN      = 00000002            
FAB$B_RAT        0000001E            FAB$M_PPF_IND  = 00004000            FAB$V_PUT      = 00000000            
FAB$B_RFM        0000001F            FAB$M_PPF_RAT  = 00003FC0            FAB$V_RCK      = 00000017            
FAB$B_RTV        0000001C            FAB$M_PRN      = 00000004            FAB$V_RWC      = 0000000B            
FAB$B_SHR        00000017            FAB$M_PUT      = 00000001            FAB$V_RWO      = 00000007            
FAB$C_BID      = 00000003            FAB$M_RCK      = 00800000            FAB$V_SCF      = 0000000E            
FAB$C_BLN        00000050            FAB$M_RWC      = 00000800            FAB$V_SHRDEL   = 00000002            
FAB$C_FIX      = 00000001            FAB$M_RWO      = 00000080            FAB$V_SHRGET   = 00000001            
FAB$C_HSH      = 00000030            FAB$M_SCF      = 00004000            FAB$V_SHRPUT   = 00000000            
FAB$C_IDX      = 00000020            FAB$M_SHRDEL   = 00000004            FAB$V_SHRUPD   = 00000003            
FAB$C_MAXRFM   = 00000003            FAB$M_SHRGET   = 00000002            FAB$V_SPL      = 0000000D            
FAB$C_REL      = 00000010            FAB$M_SHRPUT   = 00000001            FAB$V_SQO      = 00000006            
FAB$C_RFM_DFLT = 00000002            FAB$M_SHRUPD   = 00000008            FAB$V_SUP      = 00000002            
FAB$C_SEQ      = 00000000            FAB$M_SPL      = 00002000            FAB$V_TEF      = 0000001C            
FAB$C_UDF      = 00000000            FAB$M_SQO      = 00000040            FAB$V_TMD      = 00000004            
FAB$C_VAR      = 00000002            FAB$M_SUP      = 00000004            FAB$V_TMP      = 00000003            
FAB$C_VFC      = 00000003            FAB$M_TEF      = 10000000            FAB$V_TRN      = 00000004            
FAB$K_BLN        00000050            FAB$M_TMD      = 00000010            FAB$V_UFM      = 0000001A            
FAB$L_ALQ        00000010            FAB$M_TMP      = 00000008            FAB$V_UFO      = 00000011            
FAB$L_CTX        00000018            FAB$M_TRN      = 00000010            FAB$V_UPD      = 00000003            
FAB$L_DEV        00000040            FAB$M_UFM      = 04000000            FAB$V_UPI      = 00000006            
FAB$L_DNA        00000030            FAB$M_UFO      = 00020000            FAB$V_WCK      = 00000009            
FAB$L_FNA        0000002C            FAB$M_UPD      = 00000008            FAB$W_BLS        0000003C            
FAB$L_FOP        00000004            FAB$M_UPI      = 00000040            FAB$W_DEQ        00000014            
FAB$L_JNL        00000020            FAB$M_WCK      = 00000200            FAB$W_IFI        00000002            
FAB$L_MRN        00000038            FAB$S_ORG      = 00000004            FAB$W_MRS        00000036            
FAB$L_NAM        00000028            FAB$S_PPF_RAT  = 00000008            FIB$B_ALALIGN    00000021            
FAB$L_SDC        00000044            FAB$V_BIO      = 00000005            FIB$B_ALOPTS     00000020            
FAB$L_STS        00000008            FAB$V_BLK      = 00000003            FIB$B_DID_NMX    0000000F            
FAB$L_STV        0000000C            FAB$V_BRO      = 00000006            FIB$B_DID_RVN    0000000E            
FAB$L_XAB        00000024            FAB$V_CBT      = 00000015            FIB$B_FID_NMX    00000009            
FAB$M_BIO      = 00000020            FAB$V_CIF      = 00000019            FIB$B_FID_RVN    00000008            
RMS0RENAM       RENAME FILE SERVICE                              21-AUG-1978 22:08:57   VAX-11 MACRO X0.3-11               Page  14
SYMBOL TABLE                                                                                                                     (1)

FIB$B_LOC_NMX    00000027            FIB$M_SPOOL    = 00000010            FOP            = 00000020            
FIB$B_LOC_RVN    00000026            FIB$M_SUPERSEDE= 00000400            FWA$B_DIRFLGS    00000004            
FIB$B_WSIZE      00000003            FIB$M_TRUNC    = 00000100            FWA$B_DIRLEN     00000030            
FIB$C_ACCDATA    0000000A            FIB$M_UPDATE   = 00000040            FWA$B_DIRTERM    00000007            
FIB$C_ALCDATA    0000002C            FIB$M_WILD     = 00000100            FWA$B_DIRWCFLGS  00000005            
FIB$C_CYL      = 00000001            FIB$M_WRITE    = 00000100            FWA$B_ESCFLG     00000008            
FIB$C_DIRDATA    00000016            FIB$M_WRITECK  = 00000020            FWA$B_ESCTYP     00000009            
FIB$C_EXTDATA    00000020            FIB$V_ALCON    = 00000000            FWA$B_FLDFLGS    00000001            
FIB$C_ILLEGAL  = 00000005            FIB$V_ALCONB   = 00000001            FWA$B_LNFLG      00000006            
FIB$C_LBN      = 00000002            FIB$V_ALDEF    = 00000003            FWA$B_PARSEFLGS  00000003            
FIB$C_LENGTH     0000002C            FIB$V_ALLNAM   = 00000005            FWA$B_PASSFLGS   00000000            
FIB$C_MTALEN     0000001C            FIB$V_ALLTYP   = 00000004            FWA$B_UNDERLINE  00000154            
FIB$C_NEXTVOL  = 00000003            FIB$V_ALLVER   = 00000003            FWA$B_WILDFLGS   00000002            
FIB$C_POSEND   = 00000002            FIB$V_CURPOS   = 00000004            FWA$B_XLTMODE    0000000A            
FIB$C_REWINDFIL= 00000006            FIB$V_DLOCK    = 00000001            FWA$B_XLTTBL     0000000B            
FIB$C_REWINDVOL= 00000001            FIB$V_EXACT    = 00000000            FWA$C_ALL      = 000000F8            
FIB$C_RFI      = 00000004            FIB$V_EXECUTE  = 00000010            FWA$C_DEVBUFSIZ= 0000000F            
FIB$C_SPACE    = 00000004            FIB$V_EXTEND   = 00000007            FWA$C_DIRBUFSIZ= 00000009            
FIB$C_VBN      = 00000003            FIB$V_FILCON   = 00000002            FWA$C_FIBLEN   = 0000002C            
FIB$K_ACCDATA    0000000A            FIB$V_FINDFID  = 0000000B            FWA$C_MAXDEVICE= 0000000F            
FIB$K_ALCDATA    0000002C            FIB$V_HIGHVER  = 0000000F            FWA$C_MAXDIRLEN= 0000003C            
FIB$K_DIRDATA    00000016            FIB$V_LOWVER   = 0000000E            FWA$C_MAXNAME  = 00000009            
FIB$K_EXTDATA    00000020            FIB$V_MARKBAD  = 0000000A            FWA$C_MAXNODE  = 00000028            
FIB$K_LENGTH     0000002C            FIB$V_NEWVER   = 00000009            FWA$C_MAXQUOTED= 0000007F            
FIB$K_MTALEN     0000001C            FIB$V_NOHDREXT = 00000009            FWA$C_MAXSUBDIR= 00000007            
FIB$L_ACCTL      00000000            FIB$V_NOREAD   = 0000000A            FWA$C_MAXTYPE  = 00000003            
FIB$L_CNTRLVAL   00000018            FIB$V_NOTRUNC  = 0000000B            FWA$C_MAXVER   = 00000006            
FIB$L_EXSZ       00000018            FIB$V_NOWRITE  = 00000000            FWA$C_NAMBUFSIZ= 0000000A            
FIB$L_EXVBN      0000001C            FIB$V_ONCYL    = 00000001            FWA$C_NODBUFSIZ= 00000028            
FIB$L_LOC_ADDR   00000028            FIB$V_PRSRV_ATR= 00000011            FWA$C_RNSBUFSIZ= 00000014            
FIB$L_WCC        00000010            FIB$V_READCK   = 00000009            FWA$C_TYPBUFSIZ= 00000004            
FIB$M_ALCON    = 00000001            FIB$V_REWIND   = 00000003            FWA$C_VERBUFSIZ= 00000006            
FIB$M_ALCONB   = 00000002            FIB$V_SEQONLY  = 00000006            FWA$C_XLTBUFSIZ= 0000003F            
FIB$M_ALDEF    = 00000008            FIB$V_SPOOL    = 00000004            FWA$L_BUFFLG     00000014            
FIB$M_ALLNAM   = 00000020            FIB$V_SUPERSEDE= 0000000A            FWA$L_DEVNODADR  00000020            
FIB$M_ALLTYP   = 00000010            FIB$V_TRUNC    = 00000008            FWA$L_ESCSTRING  00000008            
FIB$M_ALLVER   = 00000008            FIB$V_UPDATE   = 00000006            FWA$L_HBK        00000098            
FIB$M_CURPOS   = 00000010            FIB$V_WILD     = 00000008            FWA$L_LOOKUP     0000001C            
FIB$M_DLOCK    = 00000002            FIB$V_WRITE    = 00000008            FWA$L_SBN        00000094            
FIB$M_EXACT    = 00000001            FIB$V_WRITECK  = 00000005            FWA$L_UIC        0000001C            
FIB$M_EXECUTE  = 00010000            FIB$W_ALLOC      00000022            FWA$L_XLTCNT     0000002C            
FIB$M_EXTEND   = 00000080            FIB$W_CNTRLFUNC  00000016            FWA$L_XLTSIZ     00000018            
FIB$M_FILCON   = 00000004            FIB$W_DID        0000000A            FWA$M_DEVICE   = 00008000            
FIB$M_FINDFID  = 00000800            FIB$W_DID_NUM    0000000A            FWA$M_DIR      = 00004000            
FIB$M_HIGHVER  = 00008000            FIB$W_DID_RVN    0000000E            FWA$M_DUPOK    = 00000001            
FIB$M_LOWVER   = 00004000            FIB$W_DID_SEQ    0000000C            FWA$M_EXP_DEV  = 00800000            
FIB$M_MARKBAD  = 00000400            FIB$W_EXCTL      00000016            FWA$M_EXP_DIR  = 00400000            
FIB$M_NEWVER   = 00000200            FIB$W_FID        00000004            FWA$M_EXP_NAME = 00040000            
FIB$M_NOHDREXT = 00000200            FIB$W_FID_NUM    00000004            FWA$M_EXP_TYPE = 00020000            
FIB$M_NOREAD   = 00000400            FIB$W_FID_RVN    00000008            FWA$M_EXP_VER  = 00010000            
FIB$M_NOTRUNC  = 00000800            FIB$W_FID_SEQ    00000006            FWA$M_FNA_PASS = 00000010            
FIB$M_NOWRITE  = 00000001            FIB$W_LOC_FID    00000022            FWA$M_NAME     = 00002000            
FIB$M_ONCYL    = 00000002            FIB$W_LOC_NUM    00000022            FWA$M_NAMEFLG  = 00000002            
FIB$M_PRSRV_ATR= 00020000            FIB$W_LOC_RVN    00000026            FWA$M_NAM_DVI  = 00000020            
FIB$M_READCK   = 00000200            FIB$W_LOC_SEQ    00000024            FWA$M_RLF_PASS = 00000008            
FIB$M_REWIND   = 00000008            FIB$W_NMCTL      00000014            FWA$M_TYPE     = 00001000            
FIB$M_SEQONLY  = 00000040            FILFNC           0000009B R     02   FWA$M_TYPEFLG  = 00000004            
RMS0RENAM       RENAME FILE SERVICE                              21-AUG-1978 22:08:57   VAX-11 MACRO X0.3-11               Page  15
SYMBOL TABLE                                                                                                                     (1)

FWA$M_VERSION  = 00000800            FWA$V_WC_TYPE  = 00000014            IFB$L_IDX_PTR    00000054            
FWA$Q_DEVICE     0000003C            FWA$V_WC_VER   = 00000013            IFB$L_IOS        0000000C            
FWA$Q_DIR        00000024            FWA$V_WILDCARD = 00000018            IFB$L_IOS4       00000010            
FWA$Q_DIR1       00000044            FWA$V_WILD_DIR = 0000001C            IFB$L_IRAB_LNK   0000001C            
FWA$Q_DIR2       0000004C            FWA$V_WILD_GRP = 00000028            IFB$L_LAST_FAB   00000024            
FWA$Q_FIB        0000000C            FWA$V_WILD_MBR = 00000029            IFB$L_LOCK_BDB   00000050            
FWA$Q_FLAGS      00000000            FWA$V_WILD_SFD1= 00000029            IFB$L_MRN        00000054            
FWA$Q_LOGNAME    0000001C            FWA$V_WILD_UFD = 00000028            IFB$L_NRP_LNK    00000050            
FWA$Q_NAME       00000084            FWA$W_ESCIFI     0000000A            IFB$L_NWA_PTR    00000028            
FWA$Q_NODE       00000034            FWA$W_FNAMSIZ    00000018            IFB$L_PRIM_DEV   00000000            
FWA$Q_QUOTED     0000009C            FWA$W_PRO        00000020            IFB$L_RLB_LNK    0000002C            
FWA$Q_RNS        0000008C            FWA$W_UCHAR      0000002C            IFB$L_RNS_LEN    00000050            
FWA$Q_STATBLK    00000094            GBL...         = 00000000            IFB$M_BIO      = 00000020            
FWA$Q_TYPE       0000008C            IFB$B_AMAX       00000059            IFB$M_BRO      = 00000040            
FWA$Q_VERSION    00000094            IFB$B_AVBN       00000058            IFB$M_DEL      = 00000004            
FWA$Q_XLTBUF1    0000000C            IFB$B_BID        00000008            IFB$M_EXE      = 00000080            
FWA$Q_XLTBUF2    00000024            IFB$B_BKS        0000004A            IFB$M_GET      = 00000002            
FWA$S_DIR_LVLS = 00000003            IFB$B_BLN        00000009            IFB$M_PUT      = 00000001            
FWA$T_ATR_LIST   00000164            IFB$B_EFN        0000000B            IFB$M_TRN      = 00000010            
FWA$T_DEVICEBUF  00000155            IFB$B_EXTRABUF   0000005D            IFB$M_UPD      = 00000008            
FWA$T_DIB        00000174            IFB$B_FAC        00000022            IFB$S_ORG      = 00000004            
FWA$T_DIR1BUF    000000D0            IFB$B_FSZ        0000004B            IFB$S_RFM      = 00000004            
FWA$T_DIR2BUF    000000D9            IFB$B_KBUFSZ     0000005C            IFB$V_ACCESSED = 00000025            
FWA$T_FIBBUF     000000A4            IFB$B_MODE       0000000A            IFB$V_ANSI_D   = 00000026            
FWA$T_NAMEBUF    00000118            IFB$B_NUM_KEYS   0000005A            IFB$V_ASYNC    = 00000023            
FWA$T_NODEBUF    0000012C            IFB$B_ORGCASE    00000023            IFB$V_ASYNCWAIT= 00000024            
FWA$T_TYPEBUF    00000122            IFB$B_RAT        0000003D            IFB$V_BIO      = 00000005            
FWA$T_VERBUF     00000126            IFB$B_RFMORG     0000003C            IFB$V_BRO      = 00000006            
FWA$T_XLTBUFF1   00000164            IFB$B_UBUFSZ     0000005B            IFB$V_BUSY     = 00000020            
FWA$T_XLTBUFF2   000001A4            IFB$C_BID      = 0000000B            IFB$V_CREATE   = 00000032            
FWA$V_CUR_VER  = 00000006            IFB$C_BLN        00000060            IFB$V_DAP      = 0000003E            
FWA$V_DEVICE   = 0000000F            IFB$C_BLN_IDX    00000060            IFB$V_DAP_OPEN = 0000003D            
FWA$V_DIR      = 0000000E            IFB$C_BLN_REL    00000060            IFB$V_DEL      = 00000002            
FWA$V_DIR1     = 00000020            IFB$C_BLN_SEQ    0000005C            IFB$V_DFW      = 0000002C            
FWA$V_DIR2     = 00000021            IFB$C_DIR      = 00000003            IFB$V_DLT      = 0000002B            
FWA$V_DIR_LVLS = 0000001D            IFB$C_FHAEND     00000050            IFB$V_DMO      = 00000028            
FWA$V_DUPOK    = 00000000            IFB$C_IDX      = 00000002            IFB$V_EOF      = 00000021            
FWA$V_EXP_DEV  = 00000017            IFB$C_MAXORG   = 00000002            IFB$V_EXE      = 00000007            
FWA$V_EXP_DIR  = 00000016            IFB$C_REL      = 00000001            IFB$V_GET      = 00000001            
FWA$V_EXP_NAME = 00000012            IFB$C_SEQ      = 00000000            IFB$V_MSE      = 00000031            
FWA$V_EXP_TYPE = 00000011            IFB$K_BLN        00000060            IFB$V_NORECLK  = 00000033            
FWA$V_EXP_VER  = 00000010            IFB$K_BLN_IDX    00000060            IFB$V_NSP      = 0000003F            
FWA$V_FNA_PASS = 00000004            IFB$K_BLN_REL    00000060            IFB$V_NWA      = 0000003C            
FWA$V_GRPMBR   = 0000001B            IFB$K_BLN_SEQ    0000005C            IFB$V_ORG      = 00000004            
FWA$V_LOGNAME  = 00000030            IFB$K_FHAEND     00000050            IFB$V_PPF_IMAGE= 00000022            
FWA$V_NAME     = 0000000D            IFB$L_ARGLST     00000018            IFB$V_PPF_INPUT= 0000002E            
FWA$V_NAMEFLG  = 00000001            IFB$L_ASBADDR    00000014            IFB$V_PUT      = 00000000            
FWA$V_NAM_DVI  = 00000005            IFB$L_AS_DEV     00000054            IFB$V_RFM      = 00000000            
FWA$V_NETSTR   = 00000032            IFB$L_BDB_BLNK   00000034            IFB$V_RWC      = 00000027            
FWA$V_NODE     = 00000019            IFB$L_BDB_FLNK   00000030            IFB$V_RW_ATTR  = 00000034            
FWA$V_OBJTYPE  = 00000031            IFB$L_BKPBITS    00000004            IFB$V_SCF      = 0000002A            
FWA$V_QUOTED   = 0000001A            IFB$L_BWB        0000000C            IFB$V_SPL      = 00000029            
FWA$V_RLF_PASS = 00000003            IFB$L_DVBN       00000058            IFB$V_SQO      = 0000002D            
FWA$V_TYPE     = 0000000C            IFB$L_EBK        00000044            IFB$V_TEF      = 00000036            
FWA$V_TYPEFLG  = 00000002            IFB$L_FRB_PTR    00000028            IFB$V_TMP      = 00000035            
FWA$V_VERSION  = 0000000B            IFB$L_FWA_BDB    00000050            IFB$V_TRN      = 00000004            
FWA$V_WC_NAME  = 00000015            IFB$L_HBK        00000040            IFB$V_UPD      = 00000003            
RMS0RENAM       RENAME FILE SERVICE                              21-AUG-1978 22:08:57   VAX-11 MACRO X0.3-11               Page  16
SYMBOL TABLE                                                                                                                     (1)

IFB$V_WRTACC   = 00000030            IO$M_INHEXTGAP = 00001000            IO$V_SYNCH     = 00000009            
IFB$W_ASDEVBSIZ  0000005A            IO$M_INHRETRY  = 00008000            IO$V_TIMED     = 00000007            
IFB$W_BKS_BYTES  0000005C            IO$M_INHSEEK   = 00001000            IO$V_TRMNOECHO = 0000000C            
IFB$W_BKS_RECS   0000005E            IO$M_INTERRUPT = 00000040            IO$V_WRTATTN   = 00000008            
IFB$W_CHNL       00000020            IO$M_INTSKIP   = 00000100            IO$_ACCESS     = 00000032            
IFB$W_DEQ        0000004E            IO$M_MOUNT     = 00000200            IO$_ACPCONTROL = 00000038            
IFB$W_DEVBUFSIZ  00000038            IO$M_NOECHO    = 00000040            IO$_CREATE     = 00000033            
IFB$W_EBK0       00000044            IO$M_NOFILTR   = 00000200            IO$_DEACCESS   = 00000034            
IFB$W_EBK2       00000046            IO$M_NOFORMAT  = 00000100            IO$_DELETE     = 00000035            
IFB$W_FFB        00000048            IO$M_NOW       = 00000040            IO$_DIAGNOSE   = 0000001D            
IFB$W_IOS2       0000000E            IO$M_NOWAIT    = 00000080            IO$_DRVCLR     = 00000004            
IFB$W_LRL        0000003E            IO$M_PACKED    = 00000080            IO$_ERASETAPE  = 00000006            
IFB$W_MRS        0000004C            IO$M_PURGE     = 00000800            IO$_LOGICAL    = 0000002F            
IFB$W_RTDEQ      0000003A            IO$M_READATTN  = 00000080            IO$_MODIFY     = 00000036            
IMP$B_PROT       00000002            IO$M_REVERSE   = 00000040            IO$_MOUNT      = 00000039            
IMP$C_ASYEFN   = 0000001E            IO$M_SHUTDOWN  = 00000080            IO$_NOP        = 00000000            
IMP$C_ASYQIOEFN= 0000001F            IO$M_STARTUP   = 00000040            IO$_OFFSET     = 00000006            
IMP$C_ENTPERSEG= 0000000F            IO$M_SYNCH     = 00000200            IO$_PACKACK    = 00000008            
IMP$C_IOREFN   = 0000001E            IO$M_TIMED     = 00000080            IO$_PHYSICAL   = 0000001F            
IMP$C_MBXEFN   = 0000001A            IO$M_TRMNOECHO = 00001000            IO$_READHEAD   = 0000000E            
IMP$C_NPIOFILES= 0000000C            IO$M_WRTATTN   = 00000100            IO$_READLBLK   = 00000021            
IMP$C_SYNCEFN  = 0000001B            IO$S_FCODE     = 00000006            IO$_READPBLK   = 0000000C            
IMP$L_FREEPGLH   0000000C            IO$V_ABORT     = 00000008            IO$_READPRESET = 00000019            
IMP$L_IFABTBL    00000018            IO$V_ACCESS    = 00000006            IO$_READPROMPT = 00000037            
IMP$L_IFBTBLINK  00000024            IO$V_ATTNAST   = 00000008            IO$_READTRACKD = 00000010            
IMP$L_IOSEGADDR  00000004            IO$V_BINARY    = 00000006            IO$_READVBLK   = 00000031            
IMP$L_IOSEGLEN   00000008            IO$V_CANCTRLO  = 00000006            IO$_RECAL      = 00000003            
IMP$L_IRABTBL    0000001C            IO$V_COMMOD    = 00000006            IO$_RELEASE    = 00000005            
IMP$L_IRBTBLINK  00000064            IO$V_CREATE    = 00000007            IO$_RETCENTER  = 00000007            
IMP$L_SAVED_SP   00000014            IO$V_CTRLCAST  = 00000008            IO$_REWIND     = 00000024            
IMP$V_AST      = 00000001            IO$V_CTRLYAST  = 00000007            IO$_REWINDOFF  = 00000022            
IMP$V_IIOS     = 00000000            IO$V_CVTLOW    = 00000008            IO$_SEARCH     = 00000009            
IMP$V_IORUNDOWN= 00000004            IO$V_DATACHECK = 0000000E            IO$_SEEK       = 00000002            
IMP$V_NOP0BUFS = 00000005            IO$V_DELETE    = 00000008            IO$_SENSECHAR  = 0000001B            
IMP$V_TEMP1    = 00000002            IO$V_DMOUNT    = 0000000A            IO$_SENSEMODE  = 00000027            
IMP$V_TEMP2    = 00000003            IO$V_DSABLMBX  = 0000000A            IO$_SETCHAR    = 0000001A            
IMP$W_ENTPERSEG  00000020            IO$V_ENABLMBX  = 00000007            IO$_SETMODE    = 00000023            
IMP$W_NUM_IFABS  00000022            IO$V_FCODE     = 00000000            IO$_SKIPFILE   = 00000025            
IMP$W_RMSSTATUS  00000000            IO$V_HANGUP    = 00000009            IO$_SKIPRECORD = 00000026            
IO$M_ABORT     = 00000100            IO$V_INHERLOG  = 0000000B            IO$_SPACEFILE  = 00000002            
IO$M_ACCESS    = 00000040            IO$V_INHEXTGAP = 0000000C            IO$_SPACERECORD= 00000009            
IO$M_ATTNAST   = 00000100            IO$V_INHRETRY  = 0000000F            IO$_STARTSPNDL = 00000019            
IO$M_BINARY    = 00000040            IO$V_INHSEEK   = 0000000C            IO$_UNLOAD     = 00000001            
IO$M_CANCTRLO  = 00000040            IO$V_INTERRUPT = 00000006            IO$_VIRTUAL    = 0000003F            
IO$M_COMMOD    = 00000040            IO$V_INTSKIP   = 00000008            IO$_WRITECHECK = 0000000A            
IO$M_CREATE    = 00000080            IO$V_MOUNT     = 00000009            IO$_WRITECHECKH= 00000018            
IO$M_CTRLCAST  = 00000100            IO$V_NOECHO    = 00000006            IO$_WRITEHEAD  = 0000000D            
IO$M_CTRLYAST  = 00000080            IO$V_NOFILTR   = 00000009            IO$_WRITELBLK  = 00000020            
IO$M_CVTLOW    = 00000100            IO$V_NOFORMAT  = 00000008            IO$_WRITEMARK  = 0000001C            
IO$M_DATACHECK = 00004000            IO$V_NOW       = 00000006            IO$_WRITEOF    = 00000028            
IO$M_DELETE    = 00000100            IO$V_NOWAIT    = 00000007            IO$_WRITEPBLK  = 0000000B            
IO$M_DMOUNT    = 00000400            IO$V_PACKED    = 00000007            IO$_WRITETRACKD= 0000000F            
IO$M_DSABLMBX  = 00000400            IO$V_PURGE     = 0000000B            IO$_WRITEVBLK  = 00000030            
IO$M_ENABLMBX  = 00000080            IO$V_READATTN  = 00000007            L$RMS00          00000000 R     04   
IO$M_FCODE     = 0000003F            IO$V_REVERSE   = 00000006            L$RMS01          00000008 R     04   
IO$M_HANGUP    = 00000200            IO$V_SHUTDOWN  = 00000007            L$RMS02          00000012 R     04   
IO$M_INHERLOG  = 00000800            IO$V_STARTUP   = 00000006            L$RMS03          00000019 R     04   
RMS0RENAM       RENAME FILE SERVICE                              21-AUG-1978 22:08:57   VAX-11 MACRO X0.3-11               Page  17
SYMBOL TABLE                                                                                                                     (1)

L$RMS04          00000020 R     04   NAM$M_WILD_UFD = 01000000            RMS$_IOP         ********   X   04   
L$RMS05          00000027 R     04   NAM$M_WILD_VER = 00000008            RMS$_RMV         ********   X   04   
L$RMS06          0000002E R     04   NAM$S_DIR_LVLS = 00000003            RMS$_SUP         ********   X   04   
L$RMS07          00000035 R     04   NAM$T_DVI        00000014            RMS$_WLD         ********   X   04   
L$RMS08          0000003C R     04   NAM$V_DIR_LVLS = 00000015            TPT$L_RENAME     ********   X   02   
L$RMS09          00000043 R     04   NAM$V_EXP_DEV  = 00000007            
MAPERR           00000005 R     04   NAM$V_EXP_DIR  = 00000006            
NAM$B_BID        00000000            NAM$V_EXP_NAME = 00000002            
NAM$B_BLN        00000001            NAM$V_EXP_TYPE = 00000001            
NAM$B_CURLVL     00000038            NAM$V_EXP_VER  = 00000000            
NAM$B_ESL        0000000B            NAM$V_GRP_MBR  = 00000013            
NAM$B_ESS        0000000A            NAM$V_HIGHVER  = 0000000F            
NAM$B_RSL        00000003            NAM$V_LOWVER   = 0000000E            
NAM$B_RSS        00000002            NAM$V_NODE     = 00000011            
NAM$C_BID      = 00000002            NAM$V_PPF      = 00000010            
NAM$C_BLN        00000038            NAM$V_QUOTED   = 00000012            
NAM$C_BLN_DIRWC  00000050            NAM$V_WILDCARD = 00000008            
NAM$C_DVI      = 00000010            NAM$V_WILD_DIR = 00000014            
NAM$C_MAXRSS   = 00000080            NAM$V_WILD_GRP = 00000018            
NAM$C_MAXRSSLCL= 00000060            NAM$V_WILD_MBR = 00000019            
NAM$K_BLN        00000038            NAM$V_WILD_NAME= 00000005            
NAM$K_BLN_DIRWC  00000050            NAM$V_WILD_SFD1= 00000019            
NAM$L_DIRWCC1    00000040            NAM$V_WILD_SFD2= 0000001A            
NAM$L_DIRWCC2    00000044            NAM$V_WILD_SFD3= 0000001B            
NAM$L_DIRWCC3    00000048            NAM$V_WILD_SFD4= 0000001C            
NAM$L_DIRWCC4    0000004C            NAM$V_WILD_SFD5= 0000001D            
NAM$L_DWC        00000038            NAM$V_WILD_SFD6= 0000001E            
NAM$L_ESA        0000000C            NAM$V_WILD_SFD7= 0000001F            
NAM$L_FNB        00000034            NAM$V_WILD_TYPE= 00000004            
NAM$L_RLF        00000010            NAM$V_WILD_UFD = 00000018            
NAM$L_RSA        00000004            NAM$V_WILD_VER = 00000003            
NAM$L_WCC        00000030            NAM$W_DID        0000002A            
NAM$M_DIR_LVLS = 00E00000            NAM$W_DID_NUM    0000002A            
NAM$M_EXP_DEV  = 00000080            NAM$W_DID_RVN    0000002E            
NAM$M_EXP_DIR  = 00000040            NAM$W_DID_SEQ    0000002C            
NAM$M_EXP_NAME = 00000004            NAM$W_FID        00000024            
NAM$M_EXP_TYPE = 00000002            NAM$W_FID_NUM    00000024            
NAM$M_EXP_VER  = 00000001            NAM$W_FID_RVN    00000028            
NAM$M_GRP_MBR  = 00080000            NAM$W_FID_SEQ    00000026            
NAM$M_HIGHVER  = 00008000            NAM$W_PRV_DID    0000003A            
NAM$M_LOWVER   = 00004000            NEWFAB           000000A8 R     02   
NAM$M_NODE     = 00020000            PIO$GL_FMLH      ********   X   02   
NAM$M_PPF      = 00010000            RM$CLSCU         ********   X   02   
NAM$M_QUOTED   = 00040000            RM$FCPFNC_R4     ********   X   02   
NAM$M_WILDCARD = 00000100            RM$FCP_P4_P2     ********   X   02   
NAM$M_WILD_DIR = 00100000            RM$FILLNAM       ********   X   02   
NAM$M_WILD_GRP = 01000000            RM$FSETI         ********   X   02   
NAM$M_WILD_MBR = 02000000            RM$MAPERR        ********   X   04   
NAM$M_WILD_NAME= 00000020            RM$PARSE_FILE    ********   X   02   
NAM$M_WILD_SFD1= 02000000            RM$SETDID_ALT    ********   X   02   
NAM$M_WILD_SFD2= 04000000            RM$SETFIB        ********   X   02   
NAM$M_WILD_SFD3= 08000000            RMS$RENAME     = FFFFFFFE RG    02   
NAM$M_WILD_SFD4= 10000000            RMS$_ACC         ********   X   04   
NAM$M_WILD_SFD5= 20000000            RMS$_BLN         ********   X   04   
NAM$M_WILD_SFD6= 40000000            RMS$_DEV         ********   X   04   
NAM$M_WILD_SFD7= 80000000            RMS$_ENT         ********   X   04   
NAM$M_WILD_TYPE= 00000010            RMS$_FAB         ********   X   04   
RMS0RENAM       RENAME FILE SERVICE                              21-AUG-1978 22:08:57   VAX-11 MACRO X0.3-11               Page  18
PROGRAM SECTION SYNOPSIS                                                                                                         (1)



PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
F$RMS0MISC       000000E2      02     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD  NOWRT BYTE  
$ABS$            000001E4      03     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
L$RMS0           0000004A      04     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD  NOWRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
4714. BYTES LEFT IN FREE MEMORY POOL.
2732. BYTES OF RECLAIMED MEMORY.
OBJ$:RMS0RENAM,LIS$:RMS0RENAM/-SP=EXECML$/ML,LIB$:R/ML,SRC$:RMS0RENAM
38 MLB DIR RDS - 1120 GETS TO DEFINE 26 MACROS. 99 INTER. FILE WRITES. 

SAVREG	MACRO M1110  22-AUG-78 05:30  PAGE 2


    100					; File:   SAVREG.MAC
    200					;
    300					;    This work was supported by the Advanced Research
    400					;    Projects Agency of the Office of the Secretary of
    500					;    Defense (F44620-73-C-0074) and is monitored by the
    600					;    Air Force Office of Scientific Research.
    700
    800						.TITLE	SAVREG
    900
   1000	000000					CODE$	SAVR
   1100
   1200					; The BLISS-11 out-of-line routines to save and restore register contents.
   1300					;
   1400					; 30-Nov-73			P. Knueven
   1500					;
   1600					; The routine $SAVn is called at the beginning of a routine
   1700					; which modifies the contents of registers 1 thru n.  The calling
   1800					; sequence is the following:
   1900					;		JSR  R1,$SAVn
   2000					;
   2100
   2200		000000 			R0=%0
   2300		000001 			R1=%1
   2400		000002 			R2=%2
   2500		000003 			R3=%3
   2600		000004 			R4=%4
   2700		000005 			R5=%5
   2800		000006 			SP=%6
   2900		000007 			PC=%7
   3000
   3100						.GLOBL	$SAV2,$SAV3
   3200						.GLOBL	$SAV4,$SAV5
   3300
   3400	000000	010246 			$SAV2:	MOV	R2,-(SP)
   3500	000002	010146 				MOV	R1,-(SP)
   3600	000004	016601 	000004 			MOV	4(SP),R1
   3700	000010	004736 				JSR	PC,@(SP)+
   3800	000012	000432 				BR	RE2
   3900
   4000	000014	010246 			$SAV3:	MOV	R2,-(SP)
   4100	000016	010346 				MOV	R3,-(SP)
   4200	000020	010146 				MOV	R1,-(SP)
   4300	000022	016601 	000006 			MOV	6(SP),R1
   4400	000026	004736 				JSR	PC,@(SP)+
   4500	000030	000422 				BR	RE3
   4600
   4700	000032	010246 			$SAV4:	MOV	R2,-(SP)
   4800	000034	010346 				MOV	R3,-(SP)
   4900	000036	010446 				MOV	R4,-(SP)
   5000	000040	010146 				MOV	R1,-(SP)
   5100	000042	016601 	000010 			MOV	8.(SP),R1
   5200	000046	004736 				JSR	PC,@(SP)+
   5300	000050	000411 				BR	RE4
   5400
   5500	000052	010246 			$SAV5:	MOV	R2,-(SP)
   5600	000054	010346 				MOV	R3,-(SP)
   5700	000056	010446 				MOV	R4,-(SP)
SAVREG	MACRO M1110  22-AUG-78 05:30  PAGE 2-1


   5800	000060	010546 				MOV	R5,-(SP)
   5900	000062	010146 				MOV	R1,-(SP)
   6000	000064	016601 	000012 			MOV	10.(SP),R1
   6100	000070	004736 				JSR	PC,@(SP)+
   6200	000072	012605 				MOV	(SP)+,R5
   6300	000074	012604 			RE4:	MOV	(SP)+,R4
   6400	000076	012603 			RE3:	MOV	(SP)+,R3
   6500	000100	012602 			RE2:	MOV	(SP)+,R2
   6600	000102	012601 				MOV	(SP)+,R1
   6700	000104	000207 				RTS	PC
   6800
   6900		000001 				.END
SAVREG	MACRO M1110  22-AUG-78 05:30  PAGE 2-2
SYMBOL TABLE

RE2     000100R     002	RE4     000074R     002	R$$EIS= 000001   	$SAV2   000000RG    002	$SAV4   000032RG    002
RE3     000076R     002	RONLY$= 000001   	R$$SHR= 000001   	$SAV3   000014RG    002	$SAV5   000052RG    002

. ABS.	000000	   000
      	000000	   001
CODE  	000106	   002
ERRORS DETECTED:  0

VIRTUAL MEMORY USED:  634 WORDS  ( 3 PAGES)
DYNAMIC MEMORY:  2772 WORDS  ( 10 PAGES)
ELAPSED TIME:  00:00:03
OBJ$:SAVREG,LIS$:SAVREG/-SP/NL:TOC=SRC$:PREFIX,SAVREG

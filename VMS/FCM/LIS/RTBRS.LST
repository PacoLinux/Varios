RTBRS	MACRO M1110  21-AUG-78 23:25  PAGE 2


      1						.TITLE	RTBRS
      2						.IDENT	/00/
      3
      4					;
      5					; COPYRIGHT (C) 1978
      6					; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
      7					;
      8					; THIS SOFTWARE IS FURNISHED UNDER  A LICENSE FOR USE ONLY  ON  A
      9					; SINGLE COMPUTER SYSTEM AND MAY BE  COPIED ONLY WITH  THE INCLU-
     10					; SION OF  THE  ABOVE  COPYRIGHT NOTICE.  THIS SOFTWARE,  OR  ANY
     11					; OTHER COPIES THEREOF, MAY NOT BE  PROVIDED  OR  OTHERWISE  MADE
     12					; AVAILABLE TO ANY OTHER PERSON EXCEPT  FOR  USE  ON  SUCH SYSTEM
     13					; AND TO  ONE WHO AGREES  TO  THESE LICENSE  TERMS.  TITLE TO AND
     14					; OWNERSHIP OF THE SOFTWARE SHALL AT ALL TIMES REMAIN IN DEC.
     15					;
     16					; THE INFORMATION IN THIS SOFTWARE  IS  SUBJECT TO CHANGE WITHOUT
     17					; NOTICE AND SHOULD NOT BE CONSTRUED  AS  A COMMITMENT BY DIGITAL
     18					; EQUIPMENT CORPORATION.
     19					;
     20					; DEC ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY OF ITS
     21					; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
     22					;
     23					; VERSION 00
     24					;
     25					; C. MONIA 24-MAR-1978
     26					;
     27					; RTB RESTART AFTER FATAL ERROR
     28					;
     29					; MACRO LIBRARY CALLS
     30					;
     31
     32						.MCALL	CLOSE$
     33
     34					;+
     35					; **-$RTBRS-SETUP FOR RESTART AFTER FATAL ERROR
     36					;
     37					; THIS ROUTINE IS CALLED TO SETUP THE RESTART VECTOR TO BE CALLED PRIOR TO
     38					; RESTARTING THE PROGRAM OR AFFECTING TASK EXIT. IT ESTABLISHES THE CLEANUP
     39					; ENTRY POINT THEN RETURNS CONTROL TO THE CALLER. THE ENTRY POINT WILL BE
     40					; CALLED PRIOR TO TASK EXIT OR IN THE EVENT OF A FATAL ERROR TO PERFORM
     41					; CLEANUP AND RETURN CONTROL TO THE CALLER.
     42					;
     43					;-
     44
     45	000000				$RTBRS::			;
     46	000000	012767 	000010'	000000G		MOV	#$RTBCL,$CLNUP	; SET ENTRY POINT OF CLEANUP ROUTINE
     47	000006					RETURN			;
     48
     49					;+
     50					; **-$RTBCL-THIS ROUTINE IS CALLED TO CLOSE ALL FILES
     51					;
     52					;-
     53
     54	000010				$RTBCL::			;
     55	000010					CLOSE$	#$INFDB		; CLOSE INPUT FILE
     56	000020					RETURN			;
     57
RTBRS	MACRO M1110  21-AUG-78 23:25  PAGE 2-1


     58		000001 				.END
RTBRS	MACRO M1110  21-AUG-78 23:25  PAGE 2-2
SYMBOL TABLE

CR    = 000015   	LF    = 000012   	SPA   = 000040   	$INFDB= ****** GX	$RTBRS  000000RG
FF    = 000014   	PAR$$$= 000027   	VT    = 000013   	$RTBCL  000010RG 	.CLOSE= ****** G
HT    = 000011   	R$$11M= 000000   	$CLNUP= ****** GX

. ABS.	000000	   000
      	000022	   001
ERRORS DETECTED:  0

VIRTUAL MEMORY USED:  847 WORDS  ( 4 PAGES)
DYNAMIC MEMORY:  2772 WORDS  ( 10 PAGES)
ELAPSED TIME:  00:00:05
OBJ$:RTBRS,LIS$:RTBRS/-SP=SRC$:MACFLM,RTBRS

FCMIO	MACRO M1110  21-AUG-78 23:22  PAGE 2


      1						.TITLE	FCMIO
      2						.IDENT	/00/
      3
      4					;
      5					; COPYRIGHT   1974,  DIGITAL  EQUIPMENT  CORP.,  MAYNARD,   MASS.
      6					;
      7					; THIS SOFTWARE IS FURNISHED TO PURCHASER UNDER A LICENSE FOR USE
      8					; ON A SINGLE COMPUTER SYSTEM  AND  CAN BE COPIED (WITH INCLUSION
      9					; OF DEC'S COPYRIGHT NOTICE)  ONLY FOR USE IN SUCH SYSTEM, EXCEPT
     10					; AS MAY OTHERWISE BE PROVIDED IN WRITING BY DEC.
     11					;
     12					; THE INFORMATION IN  THIS DOCUMENT IS  SUBJECT TO CHANGE WITHOUT
     13					; NOTICE AND SHOULD NOT  BE CONSTRUED AS  A COMMITMENT BY DIGITAL
     14					; EQUIPMENT CORPORATION.
     15					;
     16					; DEC ASSUMES  NO  RESPONSIBILITY  FOR  THE  USE  OR  RELIABILITY
     17					; OF ITS  SOFTWARE  ON  EQUIPMENT  WHICH IS NOT  SUPPLIED BY DEC.
     18					;
     19					; VERSION 00
     20					;
     21					; C. MONIA 15-NOV-1977
     22					;
     23					; FCM I/O DATA BASE
     24					;
     25					; MACRO LIBRARY CALLS
     26					;
     27
     28						.MCALL	CSI$ND,CSI$SV,CSI$SW
     29						.MCALL	FDAT$A,FDBDF$,FDBK$A,FDOP$A,FDRC$A,FSRSZ$
     30						.MCALL	GCMLB$,NMBLK$
     31
     32					;
     33					; EQUATED SYMBOLS
     34					;
     35					; NONE
     36					;
     37					; LOCAL DATA
     38					;
     39
     40	000000					.PSECT
     41
     42					;
     43					; FCS BLOCK BUFFERS
     44					;
     45
     46	000000					FSRSZ$	0		;
     47
     48					;
     49					; DEFINE CSI SWITCH TABLES FOR INPUT FILES
     50					;
     51
     52	000000					.PSECT	$$INSW,D,GBL
     53
     54	000000				$INSWT::				;
     55	000000					CSI$SW	LB,LB$BLK,$SWTCH,SET,NEG,LBSWV ; TASK LABEL BLOCK PLACEMENT SWITCH
     56	000010					CSI$SW	TK,TK$BLK,$SWTCH,SET,NEG,TKSWV ; TASK IMAGE PLACEMENT SWITCH
     57	000020					CSI$ND
FCMIO	MACRO M1110  21-AUG-78 23:22  PAGE 2-1


     58
     59					;
     60					; DEFINE SWITCH TABLES FOR OUTPUT FILES
     61					;
     62
     63	000022				$OUSWT::				;
     64	000022					CSI$SW	HD,HD$SWT,$SWTCH,SET,NEG ; OUTPUT FILE HEADER SWITCH
     65	000032					CSI$ND				;
     66
     67
     68	000000					.PSECT
     69
     70					;
     71					; DEFINE CSI SWITCH CONTROL BLOCK ENTRIES
     72					;
     73
     74	000000					.PSECT	$$INSV,D,GBL
     75
     76	000000				LBSWV:				;
     77	000000					CSI$SV	DECIMAL,$LBBLK,2 ;
     78	000004					CSI$ND			;
     79	000006				TKSWV:				;
     80	000006					CSI$SV	DECIMAL,$TKBLK,2 ;
     81	000012					CSI$ND			;
     82
     83	000000					.PSECT
     84
     85					;
     86					; COMMAND LINE BUFFER
     87					;
     88
     89	000000					.PSECT	$$LNBF,D,GBL
     90
     91	000000				$LNBUF::.BLKB	82.		;
     92
     93					;
     94					; LINE BUFFER DESCRIPTOR
     95					;
     96
     97	000000					.PSECT	$$LNDS,D,GBL
     98
     99	000000				$LNDES::.BLKW	2		;
    100
    101					;
    102					; FCM COMMAND LINE GCML CONTROL BLOCK
    103					;
    104
    105	000000					.PSECT
    106
    107	000000				$CMD::	GCMLB$	2,XXX,$LNBUF	;
    108
    109					;
    110					; STATUS BLOCKS
    111					;
    112
    113	000306				INSTS:	.BLKW	2		; INPUT FILE I/O STATUS BLOCK
    114	000312				OUSTS:	.BLKW	2		; OUTPUT FILE I/O STATUS BLOCK
FCMIO	MACRO M1110  21-AUG-78 23:22  PAGE 2-2


    115	000316				TKSTS:	.BLKW	2		; TASK FILE I/O STATUS BLOCK
    116
    117					;
    118					; FCM TASK FILE FDB
    119					;
    120
    121	000322				$TKFDB::FDBDF$			;
    122	000462					FDRC$A	FD.RWM		; OPEN FILE IN READ$/WRITE$ MODE
    123	000462					FDBK$A	,512.,,,TKSTS	; INITIALIZE FOR BLOCK I/O
    124	000462					FDOP$A	5,,$DTFNB	;
    125
    126					;
    127					; FCM INPUT FILE FDB
    128					;
    129
    130	000462				$INFDB::FDBDF$			;
    131	000622					FDRC$A	FD.RWM		; OPEN FILE IN READ$/WRITE$ RANDOM ACCESS MODE
    132	000622					FDBK$A	,512.,,,INSTS	; INITIALIZE FOR BLOCK I/O
    133	000622					FDOP$A	3,,$DFNB	;
    134
    135					;
    136					; FCM OUTPUT FILE FDB
    137					;
    138
    139	000622				$OUFDB::FDBDF$			;
    140	000762					FDRC$A	FD.RWM		; OPEN FILE IN READ$/WRITE$ RANDOM ACCESS MODE
    141	000762					FDBK$A	,512.,,,OUSTS	; INITIALIZE FOR BLOCK I/O
    142	000762					FDOP$A	4,,$DFNB	;
    143
    144					;
    145					; DEFAULT FILE NAME BLOCK
    146					;
    147
    148	000762				$DFNB::	NMBLK$	,EXE,,LB	;
    149
    150					;
    151					; DEFAULT TASK FILE NAME BLOCK
    152					;
    153
    154	001020				$DTFNB::NMBLK$	,TSK,,LB	;
    155
    156		000001 				.END
FCMIO	MACRO M1110  21-AUG-78 23:22  PAGE 2-3
SYMBOL TABLE

CHR$$ = 000104   	F.EOBB= 000032   	F.UNIT= 000136   	INSTS   000306R  	S.NFEN= 000020
CNT$$ = 000002   	F.ERR = 000052   	F.URBD= 000020   	LBSWV   000000R     004	TKSTS   000316R
CR    = 000015   	F.FACC= 000043   	F.VBN = 000064   	LB$BLK= ****** GX	TKSWV   000006R     004
FD.CCL= ****** GX	F.FFBY= 000014   	F.VBSZ= 000060   	LF    = 000012   	TK$BLK= ****** GX
FD.REC= ****** GX	F.FNAM= 000110   	GE.BIF= 177775   	N.DID = 000024   	VT    = 000013
FD.RWM= ****** GX	F.FNB = 000102   	GE.CLO= 000004   	N.DVNM= 000032   	$CMD    000000RG
FD.TTY= ****** GX	F.FTYP= 000116   	GE.COM= 000001   	N.FID = 000000   	$DFNB   000762RG
FF    = 000014   	F.FVER= 000120   	GE.CON= 000020   	N.FNAM= 000006   	$DTFNB  001020RG
F.ACTL= 000076   	F.HIBK= 000004   	GE.EOF= 177766   	N.FTYP= 000014   	$INFDB  000462RG
F.ALOC= 000040   	F.LUN = 000042   	GE.IND= 000002   	N.FVER= 000016   	$INSWT  000000RG    003
F.BBFS= 000062   	F.MBCT= 000054   	GE.IOR= 177777   	N.NEXT= 000022   	$LBBLK= ****** GX
F.BDB = 000070   	F.MBC1= 000055   	GE.LC = 000010   	N.STAT= 000020   	$LNBUF  000000RG    005
F.BGBC= 000057   	F.MBFG= 000056   	GE.MDE= 177774   	N.UNIT= 000034   	$LNDES  000000RG    006
F.BKDN= 000026   	F.NRBD= 000024   	GE.OPR= 177776   	OUSTS   000312R  	$OUFDB  000622RG
F.BKDS= 000020   	F.NREC= 000030   	GE.RBG= 177730   	R$$11M= 000000   	$OUSWT  000022RG    003
F.BKEF= 000050   	F.OVBS= 000030   	GE.SIZ= 000040   	SIZ$$ = 000002   	$SWTCH= ****** GX
F.BKP1= 000051   	F.RACC= 000016   	G.CMLD= 000146   	SPA   = 000040   	$TKBLK= ****** GX
F.BKST= 000024   	F.RATT= 000001   	G.DPRM= 000160   	S.BFHD= 000020   	$TKFDB  000322RG
F.BKVB= 000064   	F.RCNM= 000034   	G.ERR = 000140   	S.FATT= 000016   	$$    = 000001
F.CHR = 000075   	F.RCTL= 000017   	G.ISIZ= 000020   	S.FDB = 000140   	$$$   = 000160R
F.CNTG= 000034   	F.RSIZ= 000002   	G.LPDL= 000060   	S.FNAM= 000006   	.FSRCB= ****** G
F.DFNB= 000046   	F.RTYP= 000000   	G.MODE= 000141   	S.FNB = 000036   	...PC1= 000622R
F.DSPT= 000044   	F.SEQN= 000100   	G.PSDS= 000142   	S.FNBW= 000017   	...PC2= 001034R
F.DVNM= 000134   	F.SPDV= 000072   	G.SIZE= 000224   	S.FNTY= 000004   	...PC3= 000622R
F.EFBK= 000010   	F.SPUN= 000074   	HD$SWT= ****** GX	S.FTYP= 000002   	...TPC= 000140
F.EFN = 000050   	F.STBK= 000036   	HT    = 000011

. ABS.	000000	   000
      	001056	   001
$$FSR1	000000	   002
$$INSW	000034	   003
$$INSV	000014	   004
$$LNBF	000122	   005
$$LNDS	000004	   006
ERRORS DETECTED:  0

VIRTUAL MEMORY USED:  4461 WORDS  ( 18 PAGES)
DYNAMIC MEMORY:  5940 WORDS  ( 22 PAGES)
ELAPSED TIME:  00:00:30
OBJ$:FCMIO,LIS$:FCMIO/-SP=SRC$:MACFLM,FCMIO

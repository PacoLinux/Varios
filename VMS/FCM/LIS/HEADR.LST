HEADR	MACRO M1110  21-AUG-78 23:23  PAGE 2


      1						.TITLE	HEADR
      2						.IDENT	/00/
      3					;
      4					; COPYRIGHT (C) 1976, 1977
      5					; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
      6					;
      7					; THIS SOFTWARE IS FURNISHED UNDER  A LICENSE FOR USE ONLY  ON  A
      8					; SINGLE COMPUTER SYSTEM AND MAY BE  COPIED ONLY WITH  THE INCLU-
      9					; SION OF  THE  ABOVE  COPYRIGHT NOTICE.  THIS SOFTWARE,  OR  ANY
     10					; OTHER COPIES THEREOF, MAY NOT BE  PROVIDED  OR  OTHERWISE  MADE
     11					; AVAILABLE TO ANY OTHER PERSON EXCEPT  FOR  USE  ON  SUCH SYSTEM
     12					; AND TO  ONE WHO AGREES  TO  THESE LICENSE  TERMS.  TITLE TO AND
     13					; OWNERSHIP OF THE SOFTWARE SHALL AT ALL TIMES REMAIN IN DEC.
     14					;
     15					; THE INFORMATION IN THIS SOFTWARE  IS  SUBJECT TO CHANGE WITHOUT
     16					; NOTICE AND SHOULD NOT BE CONSTRUED  AS  A COMMITMENT BY DIGITAL
     17					; EQUIPMENT CORPORATION.
     18					;
     19					; DEC ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY OF ITS
     20					; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
     21					;
     22					; VERSION 00
     23					;
     24					; C. A. MONIA 11-OCT-1977
     25					;
     26					; DEFINE VAX/VMX EXECUTABLE IMAGE HEADER OFFSETS
     27					;
     28					; MACROS
     29					;
     30					; DEFINE VAX STORAGE UNITS
     31					;
     32
     33						.MACRO	.BLKL	N
     34						.BLKW	N*2
     35						.ENDM
     36
     37
     38						.MACRO	.BLKQ	N
     39						.BLKW	N*4
     40						.ENDM
     41					;
     42					; DEFINE DATA SECTION
     43					;
     44
     45						.MACRO	$DSECT
     46						.PSECT	$ABS$,ABS
     47					.=.&0
     48						.ENDM
     49
     50					;
     51					; EQUATED SYMBOLS
     52					;
     53					; HEADER OFFSETS FOR RELEASE 1 IMAGES
     54					;
     55					; NOTE: THIS FILE CAN BE ASSEMBLED UNDER MACRO-11 OR MARS.
     56					;
     57					;
HEADR	MACRO M1110  21-AUG-78 23:23  PAGE 2-1


     58
     59	000000					$DSECT
     60
     61	000000				I$HSIZ::.BLKW	1			; SIZE OF FIXED PORTION OF HEADER
     62	000002				I$HACT::.BLKW	1			; OFFSET TO ACTIVATION DATA
     63	000004				I$HDBG::.BLKW	1			; OFFSET TO DEBUG DATA
     64	000006				I$HID::	.BLKW	1			; BYTE OFFSET TO IMAGE IDENT.
     65	000010					.BLKW	1			; RESERVED
     66	000012					.BLKW	1			; RESERVED
     67	000014				I$HMAD::.BLKW	1			; MAJOR I/D
     68	000016				I$HMID::.BLKW	1			; MINOR I/D
     69	000020				I$HBCT::.BLKB	1			; NUMBER OF BLOCKS IN HEADER
     70	000021				I$HTYP::.BLKB	1			; IMAGE TYPE
     71	000022					.BLKW	1			; RESERVED
     72	000024				I$HPRV::.BLKQ	1			; PRIVILEGE FLAGS
     73	000034				I$HCHN::.BLKW	1			; CHANNEL COUNT
     74	000036				I$HICT::.BLKW	1			; SIZE OF I/O SECTION IN PAGES
     75	000040				I$HLGH::.BLKW	0			; LENGTH OF HEADER FIXED PART
     76
     77					;
     78					; I-SECTION DESCRIPTOR OFFSETS
     79					;
     80
     81	000040					$DSECT
     82
     83	000000				I$SSIZ::.BLKW	1			; SIZE OF DESCRIPTOR IN BYTES
     84	000002				I$SPCT::.BLKW	1			; NUMBER OF PAGES IN SECTION
     85	000004				I$SVPC::.BLKB	3			; VPN AND PFC FIELDS
     86	000007				I$SPFC::.BLKB	1			; PAGE FAULT CLUSTER SIZE
     87	000010				I$SFLG::.BLKB	3			; FLAGS AND ISD TYPE
     88	000013				I$STYP::.BLKB	1			; ISD TYPE CODE
     89	000014				I$SLDZ::				; LENGTH OF DEMAND ZERO ISD
     90	000014				I$SVBN::.BLKL	1			; BASE VBN OF SECTION
     91	000020				I$SLPR::				; LENGTH OF PRIVATE ISD
     92	000020				I$SIDN::.BLKL	1			; IDENT FOR GLOBAL SECTION
     93	000024				I$SGBN::.BLKB	16.			; GLOBAL NAME COUNTED STRING
     94	000044				I$SLGB::.BLKL	0			; LENGTH OF GLOBAL SECTION ISD
     95
     96					;
     97					; HEADER FORMAT FOR CROSS LINKER
     98					;
     99
    100	000044					$DSECT
    101
    102	000000				I$XSIZ::.BLKW	1			; SIZE OF FIXED PORTION OF HEADER
    103	000002				I$XBCT::.BLKB	1			; NUMBER OF BLOCKS IN HEADER
    104	000003					.BLKB	1			; SPARE
    105	000004				I$XSTA::.BLKQ	1			; START ADDRESS
    106	000014				I$XMAD::.BLKW	1			; MAJOR I/D OF HEADER
    107	000016				I$XMID::.BLKW	1			; MINOR I/D OF HEADER
    108	000020				I$XNAM::.BLKB	24.			; IMAGE NAME
    109	000050				I$XGVB::.BLKL	1			; GLOBAL SYMBOL TABLE VBN
    110	000054				I$XSVB::.BLKL	1			; SYMBOL TABLE VBN
    111	000060				I$XDBK::.BLKW	1			; DEBUG SYMBOL TABLE BLOCKS
    112	000062				I$XGRC::.BLKW	1			; GLOBAL SYMBOL TABLE RECORD COUNT
    113	000064				I$XTX3::.BLKL	1			; THIRD TRANSFER ADDRESS
    114	000070				I$XLGH::.BLKW	0			; LENGTH OF CROSS LINKER HEADER
HEADR	MACRO M1110  21-AUG-78 23:23  PAGE 2-2


    115
    116					;
    117					; DEFINE RELEASE 1 HEADER MAJOR I/D
    118					;
    119
    120		031060 			IH$MAD==50.*256.!48.			; ASCII STRING '02'
    121
    122					;
    123					; DEFINE RELEASE 1 HEADER MINOR I/D
    124					;
    125
    126		030460 			IH$MID==49.*256.!48.			; ASCII STRING '01'
    127
    128					;
    129					; I-SECTION FLAG BIT DEFINITIONS
    130					;
    131
    132		000001 			IS$GBL==000001				; GLOBAL SECTION
    133		000002 			IS$CRF==000002				; COPY ON REFERENCE
    134		000004 			IS$DZR==000004				; DEMAND ZERO SECTION
    135		000010 			IS$WRT==000010				; SECTION IS WRITABLE
    136		177760 			IS$MTC==177760				; MATCH CONTROL FIELD
    137		000377 			IS$MT2==000377				; CONTINUATION OF MATCH CONTROL FIELD
    138
    139					;
    140					; DEFINE CROSS LINKER MAJOR I/D
    141					;
    142
    143		030460 			IX$MAD==49.*256.!48.			; ASCII STRING '01'
    144
    145					;
    146					; DEFINE CROSS LINKER MINOR I/D
    147					;
    148
    149		030460 			IX$MID==49.*400!48.			; ASCII STRING '01'
    150
    151		000001 				.END
HEADR	MACRO M1110  21-AUG-78 23:23  PAGE 2-3
SYMBOL TABLE

CR    = 000015   	IX$MAD= 030460 G 	I$HPRV  000024 G    002	I$SSIZ  000000 G    002	I$XMID  000016 G    002
FF    = 000014   	IX$MID= 030460 G 	I$HSIZ  000000 G    002	I$STYP  000013 G    002	I$XNAM  000020 G    002
HT    = 000011   	I$HACT  000002 G    002	I$HTYP  000021 G    002	I$SVBN  000014 G    002	I$XSIZ  000000 G    002
IH$MAD= 031060 G 	I$HBCT  000020 G    002	I$SFLG  000010 G    002	I$SVPC  000004 G    002	I$XSTA  000004 G    002
IH$MID= 030460 G 	I$HCHN  000034 G    002	I$SGBN  000024 G    002	I$XBCT  000002 G    002	I$XSVB  000054 G    002
IS$CRF= 000002 G 	I$HDBG  000004 G    002	I$SIDN  000020 G    002	I$XDBK  000060 G    002	I$XTX3  000064 G    002
IS$DZR= 000004 G 	I$HICT  000036 G    002	I$SLDZ  000014 G    002	I$XGRC  000062 G    002	LF    = 000012
IS$GBL= 000001 G 	I$HID   000006 G    002	I$SLGB  000044 G    002	I$XGVB  000050 G    002	R$$11M= 000000
IS$MTC= 177760 G 	I$HLGH  000040 G    002	I$SLPR  000020 G    002	I$XLGH  000070 G    002	SPA   = 000040
IS$MT2= 000377 G 	I$HMAD  000014 G    002	I$SPCT  000002 G    002	I$XMAD  000014 G    002	VT    = 000013
IS$WRT= 000010 G 	I$HMID  000016 G    002	I$SPFC  000007 G    002

. ABS.	000000	   000
      	000000	   001
$ABS$ 	000070	   002
ERRORS DETECTED:  0

VIRTUAL MEMORY USED:  863 WORDS  ( 4 PAGES)
DYNAMIC MEMORY:  2772 WORDS  ( 10 PAGES)
ELAPSED TIME:  00:00:06
OBJ$:HEADR,LIS$:HEADR/-SP=SRC$:MACFLM,HEADR

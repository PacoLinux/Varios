LOCKDN          - LOCK FCP INTO REAL MEMORY                      21-AUG-1978 22:47:45   VAX-11 MACRO X0.3-11               Page   1
X0005                                                                                                                            (1)

                                     0000     1 	.TITLE	LOCKDN - LOCK FCP INTO REAL MEMORY
                                     0000     2 	.IDENT	"X0005"
                                     0000     3 
                                     0000     4 ;
                                     0000     5 ; COPYRIGHT (C) 1976
                                     0000     6 ; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS 01754
                                     0000     7 ;
                                     0000     8 ; THIS SOFTWARE IS FURNISHED  UNDER A LICENSE FOR USE ONLY ON A SINGLE
                                     0000     9 ; COMPUTER  SYSTEM AND  MAY BE  COPIED ONLY WITH  THE INCLUSION OF THE
                                     0000    10 ; ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE, OR ANY OTHER COPIES THEREOF,
                                     0000    11 ; MAY NOT BE PROVIDED OR  OTHERWISE MADE AVAILABLE TO ANY OTHER PERSON
                                     0000    12 ; EXCEPT FOR USE ON SUCH SYSTEM AND TO ONE WHO AGREES TO THESE LICENSE
                                     0000    13 ; TERMS.  TITLE TO AND  OWNERSHIP OF THE  SOFTWARE  SHALL AT ALL TIMES
                                     0000    14 ; REMAIN IN DEC.
                                     0000    15 ;
                                     0000    16 ; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE WITHOUT NOTICE
                                     0000    17 ; AND SHOULD  NOT BE CONSTRUED  AS A COMMITMENT  BY DIGITAL  EQUIPMENT
                                     0000    18 ; CORPORATION.
                                     0000    19 ;
                                     0000    20 ; DEC ASSUMES  NO  RESPONSIBILITY  FOR  THE USE OR  RELIABILITY OF ITS
                                     0000    21 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
                                     0000    22 
                                     0000    23 ;++
                                     0000    24 ;
                                     0000    25 ; FACILITY:  F11ACP STRUCTURE LEVEL 1
                                     0000    26 ;
                                     0000    27 ; ABSTRACT:
                                     0000    28 ;
                                     0000    29 ;	THIS ROUTINE TOUCHES ALL OF THE PAGES IN FCP TO BRING THEM
                                     0000    30 ;	INTO REAL MEMORY.
                                     0000    31 ;
                                     0000    32 ; ENVIRONMENT:
                                     0000    33 ;
                                     0000    34 ;	STARLET OPERATING SYSTEM, INCLUDING PRIVILEGED SYSTEM SERVICES
                                     0000    35 ;	AND INTERNAL EXEC ROUTINE.
                                     0000    36 ;
                                     0000    37 ; AUTHOR:  ANDREW C. GOLDSTEIN  30-MAY-78  21:51
                                     0000    38 ;
                                     0000    39 ; REVISION HISTORY:
                                     0000    40 ;
                                     0000    41 ;**
                                     0000    42 
                                     0000    43 ;
                                     0000    44 ; DEFINE LABELS FOR THE START AND END OF THE LOCKED DOWN AREAS
                                     0000    45 ;
                                 00000000    46 	.PSECT	$LOCKEDC0$,NOWRT,PAGE
                                     0000    47 LCODE_START:
                                     0000    48 
                                 00000000    49 	.PSECT	$LOCKEDC9$,NOWRT,LONG
                                     0000    50 LCODE_END:
                                     0000    51 
                                 00000000    52 	.PSECT	$LOCKEDD0$,NOEXE,LONG
                                     0000    53 LDATA_START:
                                     0000    54 
                                 00000000    55 	.PSECT	$LOCKEDD9$,NOEXE,LONG
                                     0000    56 LDATA_END:
                                     0000    57 
LOCKDN          - LOCK FCP INTO REAL MEMORY                      21-AUG-1978 22:47:45   VAX-11 MACRO X0.3-11               Page   2
X0005                                                                                                                            (1)

                                 00000000    58 	.PSECT	$LOCKEDD1$,NOEXE,LONG
                                     0000    59 ;
                                     0000    60 ; DESCRIPTORS TO LOCK DOWN THE CODE AND DATA AREAS THAT ARE TO BE LOCKED INTO
                                     0000    61 ; THE WORKING SET
                                     0000    62 ;
                                 00000000    63 	.PSECT	$CODE$,NOWRT,LONG
                                     0000    64 
                  FFFFFFFF'00000000' 0000    65 LOCKED_CODE:	.LONG	LCODE_START,LCODE_END-1
                  FFFFFFFF'00000000' 0008    66 LOCKED_DATA:	.LONG	LDATA_START,LDATA_END-1
LOCKDN          - LOCK FCP INTO REAL MEMORY                      21-AUG-1978 22:47:45   VAX-11 MACRO X0.3-11               Page   3
X0005                                                                                                                            (2)

                                     0010    68 ;++
                                     0010    69 ;
                                     0010    70 ; FUNCTIONAL DESCRIPTION:
                                     0010    71 ;
                                     0010    72 ;	THIS ROUTINE TOUCHES ALL OF THE PAGES IN FCP TO BRING THEM
                                     0010    73 ;	INTO REAL MEMORY.
                                     0010    74 ;
                                     0010    75 ; CALLING SEQUENCE:
                                     0010    76 ;	CALL LOCKDOWN ()
                                     0010    77 ;	NONE
                                     0010    78 ;
                                     0010    79 ; INPUT PARAMETERS:
                                     0010    80 ;	NONE
                                     0010    81 ;
                                     0010    82 ; IMPLICIT INPUTS:
                                     0010    83 ;	NONE
                                     0010    84 ;
                                     0010    85 ; OUTPUT PARAMETERS:
                                     0010    86 ;	NONE
                                     0010    87 ;
                                     0010    88 ; IMPLICIT OUTPUTS:
                                     0010    89 ;	NONE
                                     0010    90 ;
                                     0010    91 ; ROUTINE VALUE:
                                     0010    92 ;	NONE
                                     0010    93 ;
                                     0010    94 ; SIDE EFFECTS:
                                     0010    95 ;	CRITICAL CODE LOCKED INTO THE WORKING SET
                                     0010    96 ;
                                     0010    97 ;--
                                     0010    98 
                                     0010    99 LOCKDOWN::
                               0000  0010   100 	.WORD	^M<>
                                     0012   101 ;
                                     0012   102 ; LOCK INTO THE WORKING SET THE CODE AND DATA AREAS THAT SHOULD BE.
                                     0012   103 ;
                                     0012   104 	$LKWSET_S  LOCKED_CODE
                                     0020   105 	$LKWSET_S  LOCKED_DATA
                                 04  002E   106 	RET
                                     002F   107 
                                     002F   108 
                                     002F   109 
                                     002F   110 	.END
LOCKDN          - LOCK FCP INTO REAL MEMORY                      21-AUG-1978 22:47:45   VAX-11 MACRO X0.3-11               Page   4
SYMBOL TABLE                                                                                                                     (2)

AQB_TYPE       = 00000005            
BITMAP_TYPE    = 00000001            
DIRECTORY_TYPE = 00000002            
FCB_TYPE       = 00000000            
HEADER_TYPE    = 00000000            
INDEX_TYPE     = 00000003            
LCODE_END        00000000 R     03   
LCODE_START      00000000 R     02   
LDATA_END        00000000 R     05   
LDATA_START      00000000 R     04   
LOCKDOWN         00000010 RG    07   
LOCKED_CODE      00000000 R     07   
LOCKED_DATA      00000008 R     07   
MVL_TYPE       = 00000004            
RVT_TYPE       = 00000003            
SYS$LKWSET       ********   X   07   
VCB_TYPE       = 00000002            
WCB_TYPE       = 00000001            


PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
$LOCKEDC0$       00000000      02     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD  NOWRT PAGE  
$LOCKEDC9$       00000000      03     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD  NOWRT LONG  
$LOCKEDD0$       00000000      04     NOPIC   USR   CON   REL   LCL NOSHR NOEXE   RD    WRT LONG  
$LOCKEDD9$       00000000      05     NOPIC   USR   CON   REL   LCL NOSHR NOEXE   RD    WRT LONG  
$LOCKEDD1$       00000000      06     NOPIC   USR   CON   REL   LCL NOSHR NOEXE   RD    WRT LONG  
$CODE$           0000002F      07     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD  NOWRT LONG  


THERE WERE NO ERRORS OR WARNINGS.
27470. BYTES LEFT IN FREE MEMORY POOL.
OBJ$:LOCKDN,LIS$:LOCKDN/-SP=EXECML$/ML,SRC$:FCPDEF,LOCKDN
2 MLB DIR RDS - 13 GETS TO DEFINE 2 MACROS. 2 INTER. FILE WRITES. 

EXTSK	MACRO M1110  22-AUG-78 01:41  PAGE 2


      1						.TITLE	EXTSK
      2						.IDENT	/01/
      3
      4					;
      5					; COPYRIGHT (C) 1976
      6					; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
      7					;
      8					; THIS SOFTWARE IS FURNISHED UNDER A LICENSE FOR USE ONLY ON A
      9					; SINGLE COMPUTER SYSTEM AND MAY  BE  COPIED   ONLY  WITH  THE
     10					; INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE,  OR
     11					; ANY OTHER COPIES THEREOF, MAY NOT BE PROVIDED  OR  OTHERWISE
     12					; MADE AVAILABLE TO ANY OTHER PERSON   EXCEPT FOR  USE ON SUCH
     13					; SYSTEM AND TO ONE WHO AGREES TO THESE LICENSE  TERMS.  TITLE
     14					; TO AND OWNERSHIP OF THE SOFTWARE SHALL AT ALL  TIMES  REMAIN
     15					; IN DEC.
     16					;
     17					; THE INFORMATION IN THIS DOCUMENT IS SUBJECT TO CHANGE WITHOUT
     18					; NOTICE AND SHOULD NOT BE CONSTRUED AS A COMMITMENT BY DIGITAL
     19					; EQUIPMENT CORPORATION.
     20					;
     21					; DEC ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY OF
     22					; ITS SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
     23					;
     24					; VERSION 01
     25					;
     26					; C. MONIA 30-JUL-76
     27					;
     28					; EXTEND THE TASK REGION
     29					;
     30					; MACRO LIBRARY CALLS
     31					;
     32
     33						.MCALL	DIR$
     34
     35					;+
     36					; **-$EXTSK-EXTEND THE TASK REGION
     37					;
     38					; INPUTS:
     39					;
     40					;	R1=SIZE OF EXTENSION IN BYTES
     41					;
     42					; OUTPUTS:
     43					;
     44					;	C/CLEAR - TASK REGION EXTENDED BY SPECIFIED AMOUNT (ROUNDED TO
     45					;		 NEXT 32 WORD BOUDARY)
     46					;
     47					;		R1=EXTENSION SIZE (ROUNDED TO NEXT 32W BOUNDARY)
     48					;
     49					;	C/SET - TASK EXTENSION FAILED
     50					;
     51					; ALL OTHER REGISTERS ARE PRESERVED
     52					;
     53					;-
     54
     55	000000				$EXTSK::			;
     56	000000	062701 	000077 			ADD	#77,R1		; ROUND INCREMENT TO 32W BOUNDARY
     57	000004	042701 	000077 			BIC	#77,R1		; REMOVE EXCESS BITS
EXTSK	MACRO M1110  22-AUG-78 01:41  PAGE 2-1


     58	000010	103413 				BCS	10$		; IF C/S ERROR
     59	000012	005046 				CLR	-(SP)		; CLEAR THIRD WORD OF DPB
     60	000014	010146 				MOV	R1,-(SP)	; PUSH EXTEND INCREMENT
     61
     62		000006 				.REPT	6
     63
     64						ASR	(SP)		; CONVERT TO 32-W BLOCKS
     65
     66						.ENDR
     67
     68	000032	012746 	001531 			MOV	#<3.*400!89.>,-(SP) ; PUSH DIC,DPB SIZE
     69	000036					DIR$			; ISSUE DIRECTIVE
     70	000040				10$:				;
     71	000040					RETURN			;
     72
     73		000001 				.END
EXTSK	MACRO M1110  22-AUG-78 01:41  PAGE 2-2
SYMBOL TABLE

CR    = 000015   	HT    = 000011   	R$$11M= 000000   	VT    = 000013   	$EXTSK  000000RG
FF    = 000014   	LF    = 000012   	SPA   = 000040

. ABS.	000000	   000
      	000042	   001
ERRORS DETECTED:  0

VIRTUAL MEMORY USED:  603 WORDS  ( 3 PAGES)
DYNAMIC MEMORY:  2772 WORDS  ( 10 PAGES)
ELAPSED TIME:  00:00:06
OBJ$:EXTSK,LIS$:EXTSK/-SP=SRC$:MACFLM,EXTSK

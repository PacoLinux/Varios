RSXDAT	MACRO M1110  21-AUG-78 23:20
TABLE OF CONTENTS

     7-    2	FDB DEFINITIONS
     7-   19	TTYBLK		TERMINAL FDB
     7-   28	OBJBLK		OBJECT CODE FDB
     7-   37	LSTBLK		LISTING FILE FDB
     7-   46	VAXBLK		INPUT FDB
     8-   54	INTBLK		INTERMEDIATE FILE FDB
     8-   65	MLBBLK		MACRO LIBRARY BLOCK
     8-   86	CMLBLK		COMMAND LINE BLOCK
     8-   94	CSIBLK		COMMAND STRING INTERPRETER BLOCK
     9-  101	SWITCH OPTION TABLES
    10-  191	ERROR MESSAGES TO BE TYPED ON TERMINAL
RSXDAT	MACRO M1110  21-AUG-78 23:20  PAGE 1


      1						.IDENT	\X03.11\
      2					;
      3					; COPYRIGHT (C) 1977, 1978
      4					; DIGITAL EQUIPMENT CORPORATION, MAYNARD MASSACHUSETTS 01754
      5					;
      6					; THIS SOFTWARE IS FURNISHED UNDER A LICENSE FOR USE ON A SINGLE
      7					; COMPUTER SYSTEM AND MAY BE COPIED ONLY WITH THE INCLUSION OF THE
      8					; ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE, OR ANY OTHER COPIES THEREOF,
      9					; MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY OTHER PERSON
     10					; EXCEPT FOR USE ON SUCH SYSTEM AND TO ONE WHO AGREES TO THESE LICENSE
     11					; TERMS.  TITLE TO AND OWNERSHIP OF THE SOFTWARE SHALL AT ALL TIMES
     12					; REMAIN IN DEC.
     13					;
     14					; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE WITHOUT NOTICE
     15					; AND SHOULD NOT BE CONSTRUED AS A COMMITMENT BY DIGITAL EQUIPMENT
     16					; CORPORATION.
     17					;
     18					; DEC ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY OF ITS
     19					; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
     20					;
     21
     22					;++
     23					; FACILITY:	VAX-11 MACRO OBJECT MODULE LIBRARY "MAR.OLB"
     24					;
     25					; ABSTRACT:	THIS MODULE IS PART OF THE VAX-11 MACRO ASSEMBLER, ITS DESCRIPTION
     26					;		IS ON THE FOLLOWING PAGE.
     27					;
     28					;
     29					; ENVIRNOMENT:	VAX-11 MACRO RUNS ON ANY VAX-11 WITH COMPATIBILITY MODE, UNDER
     30					;		THE CME (COMPATIBILITY MODE EMULATOR) OF VAX/VMS OR ON A PDP-11
     31					;		WITH EXTENDED INSTRUCTIONS UNDER RSX-11/M.
     32					;
     33					; AUTHOR:	STEVE POULSEN, CREATION DATE:  22-JUL-76
     34					;		DALE A. ROEDGER, 10-JAN-77 - 19-DEC-77
     35					;		DAVE N. CUTLER
     36					;		BENN L. SCHREIBER
     37					;
     38					; MODIFIED BY:
     39					;
     40					;--
     41					.IF NDF $DATA$
RSXDAT	MACRO M1110  21-AUG-78 23:20  PAGE 7


      1					.TITLE	RSXDAT
      2						.SBTTL	FDB DEFINITIONS
      3	000000					.PSECT	RSXDAT,D,GBL
      4					;
      5					;
      6					; THIS FILE CONTAINS THE FDB DEFINITIONS FOR ALL FILES WHICH WILL
      7					; BE USED DURING A MARS ASSEMBLY.
      8					;
      9
     10					.MCALL	FDBDF$,	FDAT$A,	FDOP$A,	FDRC$A	NMBLK$,	FSRSZ$
     11					.MCALL	GCMLB$,	GCMLD$,	CSI$,	CSI$ND,	CSI$SW,	CSI$SV
     12
     13		000002 			FD.CR	= 2
     14
     15	000000					FSRSZ$	5
     16
     17	000000					.PSECT	RSXDAT
     18
     19					.SBTTL	TTYBLK		TERMINAL FDB
     20
     21	000000				TTYBLK::FDBDF$
     22	000140					FDAT$A	R.VAR,FD.CR			; VARIABLE LENGTH CARRIAGE CONTROL
     23	000140					FDOP$A	1,,TTYFIL,FO.RD!FO.WRT		; LUN = 1
     24
     25	000140				TTYFIL::NMBLK$	TI,TI,,TI
     26
     27
     28					.SBTTL	OBJBLK		OBJECT CODE FDB
     29
     30	000176				OBJBLK::FDBDF$
     31	000336					FDAT$A	R.VAR				; VARIABLE LENGTH RECORDS
     32	000336					FDOP$A	2,,OBJFIL,FO.WRT		; LUN = 2, READ ONLY
     33
     34	000336				OBJFIL::NMBLK$	OBJECT,OBJ,,SY
     35
     36
     37					.SBTTL	LSTBLK		LISTING FILE FDB
     38
     39	000374				LSTBLK::FDBDF$
     40	000534					FDAT$A	R.VAR,FD.CR			; VARIABLE LENGTH CARRIAGE CONTROL
     41	000534					FDOP$A	3,,LSTFIL,FO.WRT		; LUN = 3, WRITE ONLY
     42
     43	000534				LSTFIL::NMBLK$	LIST,LIS,,SY
     44
     45
     46					.SBTTL	VAXBLK		INPUT FDB
     47
     48	000572				VAXBLK::FDBDF$
     49	000732					FDAT$A	R.VAR,FD.CR			; VARIABLE LENGTH CARRIAGE CONTROL
     50	000732					FDOP$A	4,,VAXFIL,FO.RD			; LUN = 4, READ ONLY
     51
     52	000732				VAXFIL::NMBLK$	INPUT,MAR,,SY
RSXDAT	MACRO M1110  21-AUG-78 23:20  PAGE 8
INTBLK		INTERMEDIATE FILE FDB

     54					.SBTTL	INTBLK		INTERMEDIATE FILE FDB
     55
     56	000770				INTBLK::FDBDF$
     57	001130					FDAT$A					;
     58	001130					FDOP$A	5,,INTFIL,FA.TMP!FO.WRT		; LUN = 5, R/W
     59	001130					FDRC$A	FD.RWM				; READ-WRITE MODE
     60
     61	001130				INTFIL::NMBLK$	MACROTMP,TMP,,SY
     62	001166				INTFLN::
     63
     64
     65					.SBTTL	MLBBLK		MACRO LIBRARY BLOCK
     66
     67	001166				MLBBLK::FDBDF$
     68	001326					FDOP$A	7,,MLBFIL,FO.RD			; LUN = 7, READ ONLY
     69
     70	001326				MLBSYS::NMBLK$	STARLET,MLB,,LB			; STARLET MACRO LIBRARY
     71
     72	001364				MLBFIL::NMBLK$	,MLB,,SY			; USER MACRO LIB NAME BLK
     73
     74	001422				MLBDSC::					; MLB DATASET DESCRIPTOR
     75	001422	000000 	000000 			.WORD	0,0				; NO DEVICE NAME
     76	001426	000005 	001436'			.WORD	LIBLEN,LIBNAM			; DIRECTORY = [1,1]
     77	001432	000000 	000000 			.WORD	0,0				; NO FILE NAME
     78
     79	001436	   133 	   061 	   054 	LIBNAM:	.ASCII	/[1,1]/				; LIBRARY HOME
	001441	   061 	   135
     80		000005 			LIBLEN = .-LIBNAM				; LENGTH OF NAME
     81						.EVEN
     82
     83
     84
     85
     86					.SBTTL	CMLBLK		COMMAND LINE BLOCK
     87
     88	001444					GCMLD$	DEF$G
     89	001444				CMLBLK::GCMLB$	3,MAR,CMLBUF,6			; 3 NESTS, "MAR>", FROM TI:
     90
     91	001772				CMLBUF::.BLKW 41.
     92
     93
     94					.SBTTL	CSIBLK		COMMAND STRING INTERPRETER BLOCK
     95
     96	002114					CSI$	DEF$G
     97						.EVEN
     98	002114				CSIBLK::.BLKB	C.SIZE
     99
RSXDAT	MACRO M1110  21-AUG-78 23:20  PAGE 9
SWITCH OPTION TABLES

    101					.SBTTL SWITCH OPTION TABLES
    102					;
    103					; SWITCH OPTION TABLES
    104					;
    105					;
    106					; SWITCH DEFINITIONS
    107					;
    108
    109		000001 			SWM.LI	==	000001				; LISTING OPTIONS
    110		000002 			SWM.NL	==	000002				; NLIST
    111		000004 			SWM.EN	==	000004				; ENABLE
    112		000010 			SWM.DS	==	000010				; DISABLE
    113		000020 			SWM.ML	==	000020				; MACRO LIBRARY
    114		000040 			SWM.SP	==	000040				; SPOOL OUTPUT
    115
    116					;
    117					; SWITCH TABLES
    118					;
    119
    120	002170				OBJ.SW::	CSI$SW	EN,SWM.EN,,SET,NEG,ENTBL
    121	002200						CSI$SW	DS,SWM.DS,,SET,,DSTBL
    122	002210						CSI$ND
    123
    124	002212				LST.SW::	CSI$SW	LI,SWM.LI,,SET,NEG,LITBL
    125	002222						CSI$SW	NL,SWM.NL,,SET,,NLTBL
    126	002232						CSI$SW	SP,SWM.SP,SPOOLF,SET,NEG
    127	002242						CSI$ND
    128
    129	002244				INP.SW::	CSI$SW	EN,SWM.EN,,SET,NEG,ENTBL
    130	002254						CSI$SW	DS,SWM.DS,,SET,,DSTBL
    131	002264						CSI$SW	ML,SWM.ML,,SET
    132	002274						CSI$ND
RSXDAT	MACRO M1110  21-AUG-78 23:20  PAGE 10
SWITCH OPTION TABLES

    134					;
    135					; SWITCH VALUE TABLES
    136					;
    137
    138	002276				ENTBL:	CSI$SV	ASCII,	ENBUF,		4
    139	002302					CSI$SV	ASCII,	ENBUF+4,	4
    140	002306					CSI$SV	ASCII,	ENBUF+10,	4
    141	002312					CSI$SV	ASCII,	ENBUF+14,	4
    142	002316					CSI$SV	ASCII,	ENBUF+20,	4
    143	002322					CSI$ND
    144	002324				DSTBL:	CSI$SV	ASCII,	DSBUF,		4
    145	002330					CSI$SV	ASCII,	DSBUF+4,	4
    146	002334					CSI$SV	ASCII,	DSBUF+10,	4
    147	002340					CSI$SV	ASCII,	DSBUF+14,	4
    148	002344					CSI$SV	ASCII,	DSBUF+20,	4
    149	002350					CSI$ND
    150	002352				LITBL:	CSI$SV	ASCII,	LIBUF,		4
    151	002356					CSI$SV	ASCII,	LIBUF+4,	4
    152	002362					CSI$SV	ASCII,	LIBUF+10,	4
    153	002366					CSI$SV	ASCII,	LIBUF+14,	4
    154	002372					CSI$SV	ASCII,	LIBUF+20,	4
    155	002376					CSI$ND
    156	002400				NLTBL:	CSI$SV	ASCII,	NLBUF,		4
    157	002404					CSI$SV	ASCII,	NLBUF+4,	4
    158	002410					CSI$SV	ASCII,	NLBUF+10,	4
    159	002414					CSI$SV	ASCII,	NLBUF+14,	4
    160	002420					CSI$SV	ASCII,	NLBUF+20,	4
    161	002424					CSI$ND
    162
    163					;
    164					; SWITCH VALUE BUFFERS
    165					;
    166	002426				ENBUF::	.BLKB	5*4			; ENABLE SWITCH BUFFER, 5 SWITCHES
    167	002452				DSBUF::	.BLKB	5*4			; DISABLE SWITCH BUFFER, 5 SWITCHES
    168	002476				LIBUF::	.BLKB	5*4			; LIST SWITCH BUFFER, 5 SWITCHES
    169	002522				NLBUF::	.BLKB	5*4			; NO-LIST SWITCH BUFFER, 5 SWITCHES
    170
    171
    172					;
    173					; THIS FLAG IS SET IF THE OUTPUT LISTING IS TO BE SPOOLED
    174					;
    175	002546	000040 			SPOOLD::	.WORD SWM.SP			; DEFAULT SPOOL FLAG
    176	002550	000000 			SPOOLF::	.WORD 0
    177
    178					;
    179					; SWITCH CHECKING TABLE. ENTRIES ARE:
    180					;
    181					;	SWITCH, VALUE TABLE PTR, DIRECTIVE PTR, SET/CLEAR FLAG
    182					;
    183
    184	002552	000001 	002476'	000000G	SWCHTB::.WORD	SWM.LI,	LIBUF,	LS.LST,	-1	; LIST
	002560	177777
    185	002562	000002 	002522'	000000G		.WORD	SWM.NL,	NLBUF,	LS.LST,	0	; NO LIST
	002570	000000
    186	002572	000004 	002426'	000000G		.WORD	SWM.EN,	ENBUF,	EN.PNC,	-1	; ENABLE
	002600	177777
    187	002602	000010 	002452'	000000G		.WORD	SWM.DS,	DSBUF,	EN.PNC,	0	; DISABLE
RSXDAT	MACRO M1110  21-AUG-78 23:20  PAGE 10-1
SWITCH OPTION TABLES

	002610	000000
    188	002612	000000 				.WORD	0				; END OF TABLE
    189
    190
    191					.SBTTL	ERROR MESSAGES TO BE TYPED ON TERMINAL
    192					;
    193					;	THESE MESSAGES MAY BE REFERENCED AT OTHER TIMES THAN WHEN "STARTR"
    194					;	SEGMENT IS IN MEMORY.
    195					;
    196
    197	002614				INPSPC:: CNTSTR	<MAR -- SWITCH ERROR ON INPUT FILE>
    198	002660				NOWCRD:: CNTSTR	<MAR -- WILD CARD IN FILE SPECIFICATION>
    199	002730				OPNFLD:: CNTSTR	<MAR -- FAILED TO OPEN FILE:>
    200	002766				PRSFLD:: CNTSTR	<MAR -- FAILED TO PARSE FILE:>
    201	003024				SYMTBF:: CNTSTR	<MAR -- SYMBOL TABLE OVERFLOW>
    202
    203		000001 			.END
RSXDAT	MACRO M1110  21-AUG-78 23:20  PAGE 10-2
SYMBOL TABLE

BLNK  = 000040   	F.BDB = 000070   	F.VBN = 000064   	M.ARGC= 000014   	SYMCHR= 000012
CHR$$ = 000114   	F.BGBC= 000057   	F.VBSZ= 000060   	M.ARGS= 000016   	SYMFLA= 000002
CMLBLK  001444RG    002	F.BKDN= 000026   	GE.BIF= 177775 G 	M.END = 000012   	SYMLEN= 000011
CMLBUF  001772RG    002	F.BKDS= 000020   	GE.CLO= 000004 G 	M.GETL= 000004   	SYMLIN= 000000
CNT$$ = 000002   	F.BKEF= 000050   	GE.COM= 000001 G 	M.IFLV= 000006   	SYMMAX= 000017
COMMA = 000054   	F.BKP1= 000051   	GE.CON= 000020 G 	M.IFVL= 000010   	SYMSEG= 000010
CR    = 000015   	F.BKST= 000024   	GE.EOF= 177766 G 	M.LINK= 000000   	SYMTBF  003024RG    002
CSIBLK  002114RG    002	F.BKVB= 000064   	GE.IND= 000002 G 	M.NXTL= 000002   	SYMVL1= 000004
CS.DIF= 000002 G 	F.CHR = 000075   	GE.IOR= 177777 G 	NLBUF   002522RG    002	SYMVL2= 000006
CS.DVF= 000004 G 	F.CNTG= 000034   	GE.LC = 000010 G 	NLTBL   002400R     002	S.ABS = 004000
CS.EQU= 000040 G 	F.DFNB= 000046   	GE.MDE= 177774 G 	NOWCRD  002660RG    002	S.ASN = 000200
CS.INP= 000001 G 	F.DSPT= 000044   	GE.OPR= 177776 G 	N.DID = 000024   	S.BFHD= 000020
CS.MOR= 000020 G 	F.DVNM= 000134   	GE.RBG= 177730   	N.DVNM= 000032   	S.DBG = 002000
CS.NMF= 000001 G 	F.EFBK= 000010   	GE.SIZ= 000040 G 	N.FID = 000000   	S.DF  = 100000
CS.OUT= 000002 G 	F.EFN = 000050   	G.CMLD= 000146 G 	N.FNAM= 000006   	S.EPT = 000100
CS.WLD= 000010 G 	F.EOBB= 000032   	G.DPRM= 000160   	N.FTYP= 000014   	S.EXTN= 010000
C.CMLD= 000002 G 	F.ERR = 000052   	G.ERR = 000140 G 	N.FVER= 000016   	S.FATT= 000016
C.DEVD= 000006 G 	F.FACC= 000043   	G.ISIZ= 000020   	N.NEXT= 000022   	S.FDB = 000140
C.DIRD= 000012 G 	F.FFBY= 000014   	G.LPDL= 000100   	N.STAT= 000020   	S.FNAM= 000006
C.DSDS= 000006 G 	F.FNAM= 000110   	G.MODE= 000141 G 	N.UNIT= 000034   	S.FNB = 000036
C.FILD= 000016 G 	F.FNB = 000102   	G.PSDS= 000142 G 	OBJBLK  000176RG    002	S.FNBW= 000017
C.MKW1= 000024 G 	F.FTYP= 000116   	G.SIZE= 000224   	OBJFIL  000336RG    002	S.FNTY= 000004
C.MKW2= 000026 G 	F.FVER= 000120   	INPSPC  002614RG    002	OBJ.SW  002170RG    002	S.FTYP= 000002
C.SIZE= 000054 G 	F.HIBK= 000004   	INP.SW  002244RG    002	OPNFLD  002730RG    002	S.GLOB= 020000
C.STAT= 000001 G 	F.LUN = 000042   	INTBLK  000770RG    002	PRSFLD  002766RG    002	S.LOCL= 001000
C.SWAD= 000022 G 	F.MBCT= 000054   	INTFIL  001130RG    002	PSECCH= 000020   	S.NFEN= 000020
C.TYPR= 000000 G 	F.MBC1= 000055   	INTFLN  001166RG    002	PSECOP= 000016   	S.ODBG= 000040
DSBUF   002452RG    002	F.MBFG= 000056   	LF    = 000012   	PSECV1= 000012   	S.REF = 000400
DSTBL   002324R     002	F.NRBD= 000024   	LFTANG= 000074   	PSECV2= 000014   	S.TKMS= 000377
ENBUF   002426RG    002	F.NREC= 000030   	LIBLEN= 000005   	RGTANG= 000076   	S.WEAK= 040000
ENTBL   002276R     002	F.OVBS= 000030   	LIBNAM  001436R     002	R.VAR = ****** GX	TAB   = 000011
EN.PNC= ****** GX	F.RACC= 000016   	LIBUF   002476RG    002	SEMI  = 000073   	TTYBLK  000000RG    002
FA.TMP= ****** GX	F.RATT= 000001   	LITBL   002352R     002	SIZ$$ = 000002   	TTYFIL  000140RG    002
FD.CCL= ****** GX	F.RCNM= 000034   	LOWCAS= 000140   	SPACE = 000040   	VAXBLK  000572RG    002
FD.CR = 000002   	F.RCTL= 000017   	LPTLEN= 000074   	SPOOLD  002546RG    002	VAXFIL  000732RG    002
FD.REC= ****** GX	F.RSIZ= 000002   	LSTBLK  000374RG    002	SPOOLF  002550RG    002	$TT$  = 003024R     002
FD.RWM= ****** GX	F.RTYP= 000000   	LSTFIL  000534RG    002	SWCHTB  002552RG    002	$$    = 000000
FD.TTY= ****** GX	F.SEQN= 000100   	LST.SW  002212RG    002	SWM.DS= 000010 G 	$$$   = 001624R     002
FF    = 000014   	F.SPDV= 000072   	LS.LST= ****** GX	SWM.EN= 000004 G 	.FSRCB= ****** G
FO.RD = ****** GX	F.SPUN= 000074   	MLBBLK  001166RG    002	SWM.LI= 000001 G 	...PC1= 001444R     002
FO.WRT= ****** GX	F.STBK= 000036   	MLBDSC  001422RG    002	SWM.ML= 000020 G 	...PC2= 001646R     002
F.ACTL= 000076   	F.UNIT= 000136   	MLBFIL  001364RG    002	SWM.NL= 000002 G 	...PC3= 001444R     002
F.ALOC= 000040   	F.URBD= 000020   	MLBSYS  001326RG    002	SWM.SP= 000040 G 	...TPC= 000140
F.BBFS= 000062

. ABS.	000000	   000
      	000000	   001
RSXDAT	003062	   002
$$FSR1	005120	   003
ERRORS DETECTED:  0

VIRTUAL MEMORY USED:  5717 WORDS  ( 23 PAGES)
DYNAMIC MEMORY:  6996 WORDS  ( 26 PAGES)
ELAPSED TIME:  00:00:43
OBJ$:RSXDAT,LIS$:RSXDAT/-SP=SRC$:COMMON,RSXDAT

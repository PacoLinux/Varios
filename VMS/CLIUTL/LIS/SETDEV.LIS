SETDEV          - SET SPECIAL CHARACTERISTICS OF A DEVICE        21-AUG-1978 19:10:26   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (1)   18800  SET SPOOLED
   (1)   26500  SET NOSPOOLED
   (1)   31100  SET [NO]ERROR LOGGING
   (1)   35100  SET PROTECTION /DEVICE
   (1)   42000  CHECK FOR OPERATOR PRIVILEGE
SETDEV          - SET SPECIAL CHARACTERISTICS OF A DEVICE        21-AUG-1978 19:10:26   VAX-11 MACRO X0.3-11               Page   1
X01                                                                                                                              (1)

                                     0000   100 	.TITLE	SETDEV - SET SPECIAL CHARACTERISTICS OF A DEVICE
                                     0000   200 	.IDENT	/X01/
                                     0000   300 
                                     0000   400 ;
                                     0000   500 ; COPYRIGHT (C) 1978
                                     0000   600 ; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS 01754
                                     0000   700 ;
                                     0000   800 ; THIS SOFTWARE IS FURNISHED  UNDER A LICENSE FOR USE ONLY ON A SINGLE
                                     0000   900 ; COMPUTER  SYSTEM AND  MAY BE  COPIED ONLY WITH  THE INCLUSION OF THE
                                     0000  1000 ; ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE, OR ANY OTHER COPIES THEREOF,
                                     0000  1100 ; MAY NOT BE PROVIDED OR  OTHERWISE MADE AVAILABLE TO ANY OTHER PERSON
                                     0000  1200 ; EXCEPT FOR USE ON SUCH SYSTEM AND TO ONE WHO AGREES TO THESE LICENSE
                                     0000  1300 ; TERMS.  TITLE TO AND  OWNERSHIP OF THE  SOFTWARE  SHALL AT ALL TIMES
                                     0000  1400 ; REMAIN IN DEC.
                                     0000  1500 ;
                                     0000  1600 ; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE WITHOUT NOTICE
                                     0000  1700 ; AND SHOULD  NOT BE CONSTRUED  AS A COMMITMENT  BY DIGITAL  EQUIPMENT
                                     0000  1800 ; CORPORATION.
                                     0000  1900 ;
                                     0000  2000 ; DEC ASSUMES  NO  RESPONSIBILITY  FOR  THE USE OR  RELIABILITY OF ITS
                                     0000  2100 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
                                     0000  2200 ;
                                     0000  2300 
                                     0000  2400 ;++
                                     0000  2500 ; FACILITY:	CLI UTILITY "SET"
                                     0000  2600 ;
                                     0000  2700 ; ABSTRACT:	SET THE CHARACTERISTICS OF A DEVICE
                                     0000  2800 ;
                                     0000  2900 ; AUTHOR:	LEN KAWELL 3-MAY-1978
                                     0000  3000 ;--
                                     0000  3100 ;
                                     0000  3200 ; LOCAL MACROS
                                     0000  3300 ;
                                     0000  3400 	.MACRO	CALLBAK	P1,P2
                                     0000  3500 	.IF B <P2>
                                     0000  3600 	PUSHAB	W^BITS			; ADDRESS OF BIT MASK
                                     0000  3700 	.IFF
                                     0000  3800 	PUSHAB	P2			; ADDRESS OF THIRD ARGUEMENT
                                     0000  3900 	.ENDC
                                     0000  4000 	PUSHAB	W^SET$A_CLIWORK	; COMMON WORK AREA
                                     0000  4100 	PUSHAB	P1			; THE REQUEST DESCRIPTOR
                                     0000  4200 	CALLS	#3,@CLI$A_UTILSERV(AP)	; REQUEST THE SERVICE OF THE CLI
                                     0000  4300 	.ENDM				;
                                     0000  4400  
                                     0000  4500 ;
                                     0000  4600 ; EXTERNAL SYMBOLS
                                     0000  4700 ;
                                     0000  4800 	$CLIDEFQUALSET			; DEFINE QUALIFIER CODES
                                     0000  4900 	$CLIMSGDEF			; CLI MESSAGE DEFINTIONS
                                     0000  5000 	$DEVDEF				; DEFINE DEVICE CHARACTERISTICS
                                     0000  5100 	$DCDEF				; DEVICE CLASS DEFINITIONS
                                     0000  5200 	$CCBDEF				; CHANNEL CONTROL BLOCK OFFSETS
                                     0000  5300 	$PRVDEF				; PRIVILEGE DEFINTIONS
                                     0000  5350 	$JPIDEF				; GET JOB/PROCESS INFO DEFINITIONS
                                     0000  5400 ;
                                     0000  5500 ; LOCAL SYMBOLS
                                     0000  5600 ;
SETDEV          - SET SPECIAL CHARACTERISTICS OF A DEVICE        21-AUG-1978 19:10:26   VAX-11 MACRO X0.3-11               Page   2
X01                                                                                                                              (1)

                                     0000  5900 
                                     0000  6000 ;
                                     0000  6100 ; LOCAL STORAGE
                                     0000  6200 ;
                                 00000000  6300 	.PSECT	SET$RWDATA,NOEXE,LONG
                                     0000  6400  
                           00000000  0000  6500 BITS:		.LONG	0		; STORAGE FOR CLI CALL BACK
                           00000008  0004  6600 CHAN1:		.BLKL	1		; I/O CHANNEL 1
                           0000000C  0008  6700 CHAN2:		.BLKL	1		; I/O CHANNEL 2
                                     000C  6800 
                                     000C  6900 ;
                                     000C  7000 ; ARGUMENT LIST FOR CALLING SET$DEV UTILITIES
                                     000C  7100 ;
                                     000C  7200 ;	NOTE: THE FOLLOWING ARE ORDER DEPENDENT
                                     000C  7300 ;
                                     000C  7400 ARG_LIST:
                           00000003  000C  7500 		.LONG	3		; ARG COUNT
                           00000014  0010  7600 UCB1:		.BLKL	1		; UCB ADDRESS OF CHANNEL 1
                                     0014  7700 UCB2:					; UCB ADDRESS OF CHANNEL 2
                                     0014  7800 PROT:					; OR PROTECTION CODE
                                     0014  7900 FLAG:					; OR ENABLE/DISABLE FLAG
                           00000018  0014  8000 CCB1:		.BLKL	1		; OR CCB ADDRESS OF CHANNEL 1
                                     0018  8050 UIC:					; OWNER UIC
                           00000020  0018  8100 Q_DESC:		.BLKQ	1		; OR QUEUE NAME DESCRIPTOR
                                     0020  8200 ; **** NOTE: THE PRECEDING ARE ORDER DEPENDENT ****
                                     0020  8300 
                           00000000  0020  8400 CHAN_INFO:	.LONG	0		; DEVICE'S CHANNEL INFO
                           00000025  0024  8500 CLASS:		.BLKB	1
                           00000026  0025  8600 TYPE:		.BLKB	1
                           00000028  0026  8700 BUFF:		.BLKW	1
                           0000002C  0028  8800 CHAR:		.BLKB	4
                                     002C  8900 ;
                                     002C  9000 DEV_NAME:				; REQUEST FOR DEVICE NAME
                                     002C  9100 	$CLIREQDESC	RQTYPE=CLI$K_INPUT1
                                     0048  9200 CHAR_QUAL:				; REQUEST FOR QUALIFIERS
                                     0048  9300 	$CLIREQDESC	RQTYPE=CLI$K_GETQUAL
                                     0064  9400 DEV_QUALS:				; SET DEVICE QUALIFIERS
                                     0064  9500 SP_QUAL:
                                     0064  9600 	$CLIQUALDESC	QDCODE=CLI$K_STDV_SPOO,TRUACT=SPOOL,FLSACT=NOSPOOL,-
                                     0064  9700 			QDFLGS=<CLI$V_QDEXPA>
                                     007B  9800 	$CLIQUALDESC	QDCODE=CLI$K_STDV_ERRO,TRUACT=ERROR_LOG,-
                                     007B  9900 			FLSACT=NOERROR_LOG,QDFLGS=<CLI$V_QDEXPA>
                                     0092 10000 	$CLIQUALDESC	END_LIST
                                     0093 10100 
                                     0093 10200 PROT_QUALS:				; SET PROTECTION QUALIFIERS
                                     0093 10300 	$CLIQUALDESC	QDCODE=CLI$K_STPR_DEVI,TRUACT=PROTECTION,
                           00000002  00AA 10400 			QDFLGS=<CLI$V_QDEXPA>
                                     00AA 10410 OWN_QUAL:
                                     00AA 10420 	$CLIQUALDESC	QDCODE=CLI$K_STPR_OWNE
                                     00C1 10500 	$CLIQUALDESC	END_LIST
                                     00C2 10600 
                                     00C2 10700 
                                     00C2 10800 STRING_VAL:				; REQUEST FOR ASCII VALUE
                                     00C2 10900 	$CLIREQDESC	RQTYPE=CLI$K_ASCIIVAL
                                     00DE 11000 
                                 00000000 11100 	.PSECT	SET$PURE,NOWRT,NOEXE
                                     0000 11200 
SETDEV          - SET SPECIAL CHARACTERISTICS OF A DEVICE        21-AUG-1978 19:10:26   VAX-11 MACRO X0.3-11               Page   3
X01                                                                                                                              (1)

                                     0000 11300 DEF_SPOOL_DEV:				; DEFAULT SPOOLING DEVICE NAME
                           00000008' 0000 11400 	.LONG	20$-10$
                           00000008' 0004 11500 	.LONG	10$
            4B 53 49 44 24 53 59 53  0008 11600 10$:	.ASCII	/SYS$DISK/
                                     0010 11700 20$:
                           0000000C  0010 11800 GET_CHAN_INFO:	.LONG	12		; CHANNEL INFO BUFFER DESCRIPTOR
                           00000020' 0014 11900 		.LONG	CHAN_INFO
                                     0018 12000 
                                     0018 12100 PROT_CLASS:				; PROTECTION CLASSES
                        53 4F 47 57  0018 12200 	.ASCII	/WGOS/			; WORLD, GROUP, OWNER, SYSTEM
                                     001C 12300 PROT_ACCESS:				; ACCESS PROTECTION CODES
                        52 57 50 4C  001C 12400 	.ASCII	/LPWR/			; LOGICAL, PHYSICAL, WRITE, READ
                                     0020 12500 
                                     0020 12510 GETJPI_UIC:				; SYS$GETJPI LIST TO GET UIC
                               0004  0020 12520 	.WORD	4			;  SIZE OF UIC BUFFER
                               0304' 0022 12530 	.WORD	JPI$_UIC		;  REQUEST TYPE
                           00000018' 0024 12540 	.LONG	UIC			;  ADDRESS OF UIC BUFFER
                           00000000  0028 12550 	.LONG	0			;  (DON'T NEED THE SIZE)
                           00000000  002C 12560 	.LONG	0			; END-OF-LIST
                                     0030 12570 
SETDEV          - SET SPECIAL CHARACTERISTICS OF A DEVICE        21-AUG-1978 19:10:26   VAX-11 MACRO X0.3-11               Page   4
X01                                                                                                                              (1)

                                 00000000 12700 	.PSECT	SET$CODE,NOWRT
                                     0000 12800 ;++
                                     0000 12900 ; SET$DEV - SET DEVICE CHARACTERISTICS
                                     0000 13000 ; SET$PROT - SET DEVICE PROTECTION
                                     0000 13100 ;
                                     0000 13200 ; FUNCTIONAL DESCRIPTION:
                                     0000 13300 ;
                                     0000 13400 ; THIS ROUTINE WILL SET THE FOLLOWING DEVICE CHARACTERISTICS:
                                     0000 13500 ;
                                     0000 13600 ;	1) [NO]SPOOLING
                                     0000 13700 ;	2) [NO]ERROR_LOGGING
                                     0000 13800 ;	3) PROTECTION
                                     0000 13900 ;
                                     0000 14000 ; IT IS ENTERED AS A RESULT OF A DISPATCH FROM THE SET COMMAND PROCESSOR.
                                     0000 14100 ;
                                     0000 14200 ; INPUTS:
                                     0000 14300 ;
                                     0000 14400 ;	THE CLI DATA BASE IS SET UP. 
                                     0000 14500 ;
                                     0000 14600 ; OUTPUTS:
                                     0000 14700 ;
                                     0000 14800 ;	SET$L_STATUS = STATUS OF THE OPERATION
                                     0000 14900 ;--
                                     0000 15000 	.ENABL	LSB
                                     0000 15100 
                                     0000 15200 SET$PROT::
                               0004  0000 15300 	.WORD	^M<R2>
                                 D0  0002 15400 	MOVL	#PROT_QUALS-CHAR_QUAL,-	; SET QUALIFIER LIST ADDRESS
       0060'CF   0000004B'8F         0003 15450 		W^CLI$A_QUALST+CHAR_QUAL
                          0B     11  000B 15500 	BRB	10$
                                     000D 15600 
                                     000D 15700 SET$DEV::				; SET DEVICE CHARACTERISTICS
                               0004  000D 15800 	.WORD	^M<R2>
                                 D0  000F 15900 	MOVL	#DEV_QUALS-CHAR_QUAL,-	; SET QUALIFIER LIST ADDRESS
       0060'CF   0000001C'8F         0010 15910 		W^CLI$A_QUALST+CHAR_QUAL
            52       002C'CF     9E  0018 16000 10$:	MOVAB	W^DEV_NAME,R2		; ADDRESS QUAL DESC
                                     001D 16100 	CALLBAK	(R2)			; CALL CLI FOR DEVICE NAME
            43            50     E9  002B 16150 	BLBC	R0,ERROR		;
            52         08 A2     9E  002E 16200 	MOVAB	CLI$Q_RQDESC(R2),R2	; ADDRESS NAME DESC
                                     0032 16300 20$:	$ASSIGN_S	(R2),W^CHAN1	; ASSIGN CHANNEL TO DEVICE
            2D            50     E9  0041 16400 	BLBC	R0,ERROR		; IF LOW CLEAR THEN ERROR AND EXIT
   00000000'EF       0004'CF     C3  0044 16500 	SUBL3	W^CHAN1,CTL$GL_CCBBASE,R0 ; GET DEVICE'S CCB ADDRESS
                          50         004D       
       0014'CF            50     D0  004E 16600 	MOVL	R0,W^CCB1		; SET CCB ADDRESS
       0010'CF            60     D0  0053 16700 	MOVL	CCB$L_UCB(R0),W^UCB1	; SET UCB ADDRESS
                                     0058 16800 	$GETCHN_S	W^CHAN1,,W^GET_CHAN_INFO
            06            50     E8  006E 16900 	BLBS	R0,SET_CHAR		;
                                     0071 17000 ;
                                     0071 17100 ; ERROR ASSIGNING CHANNEL OR GETTING CHARACTERISTICS
                                     0071 17200 ;
       0000'CF            50     D0  0071 17300 ERROR:	MOVL	R0,W^SET$L_STATUS	; SAVE FOR EXIT STATUS
                                 04  0076 17400 	RET				; RETURN
                                     0077 17500 ;
                                     0077 17600 ; PROCESS QUALIFIERS
                                     0077 17700 ;
                                     0077 17800 SET_CHAR:				; PROCESS QUALIFIERS
       0000'CF       0000'8F     3C  0077 17900 	MOVZWL	#SS$_NORMAL,W^SET$L_STATUS; ASSUME SUCCESS
SETDEV          - SET SPECIAL CHARACTERISTICS OF A DEVICE        21-AUG-1978 19:10:26   VAX-11 MACRO X0.3-11               Page   5
X01                                                                                                                              (1)

                                     007E 18000 	CALLBAK	W^CHAR_QUAL		; PROCESS QUALIFIERS
            E0            50     E9  008E 18050 	BLBC	R0,ERROR		;
                                     0091 18100 100$:	$DASSGN_S	W^CHAN1		; DEASSIGN THE DEVICE
                                 04  009D 18200 	RET				; RETURN
                                     009E 18300 
                                     009E 18400 	.DSABL	LSB
                                     009E 18500 
                                     009E 18600 
SETDEV          - SET SPECIAL CHARACTERISTICS OF A DEVICE        21-AUG-1978 19:10:26   VAX-11 MACRO X0.3-11               Page   6
X01             SET SPOOLED                                                                                                      (1)

                                     009E 18800 	.SBTTL	SET SPOOLED
                                     009E 18900 ;++
                                     009E 19000 ; SPOOL - SET DEVICE SPOOLED
                                     009E 19100 ;
                                     009E 19200 ; FUNCTIONAL DESCRIPTION:
                                     009E 19300 ;
                                     009E 19400 ; THIS ACTION ROUTINE WILL SET UP A DEVICE (PRINTER OR TERMINAL) FOR
                                     009E 19500 ; IMPLICIT SPOOLING.
                                     009E 19600 ;
                                     009E 19700 ; 1) CHECK SPOOL DEVICE FOR VALID DEVICE CLASSES;
                                     009E 19800 ; 2) GET INTERMEDIATE DEVICE NAME, ASSIGN A CHANNEL TO IT, CHECK THAT
                                     009E 19900 ;    ITS A FILE-ORIENTED DEVICE, AND GET ITS UCB ADDRESS;
                                     009E 20000 ; 3) LOCK I/O DATABASE FOR WRITE;
                                     009E 20100 ; 4) CHECK THAT SPOOL DEVICE'S REFERENCE COUNT (UCB$W_REFC) IS 1;
                                     009E 20200 ; 5) CHECK THAT A VOLUME IS MOUNTED ON INTERMEDIATE DEVICE AND THAT
                                     009E 20300 ;    IT IS NOT MARKED FOR DISMOUNT;
                                     009E 20400 ; 6) GET DYNAMIC STORAGE, MOVE QUEUE NAME STRING TO IT, AND SET
                                     009E 20500 ;    SPOOLED DEVICE'S VCB ADDRESS TO THE ADDRESS OF THE QUEUE NAME;
                                     009E 20600 ; 7) INCREMENT REFERENCE COUNT OF INTERMEDIATE DEVICE AND TRANSACTION
                                     009E 20700 ;    COUNT OF OF ITS ASSOCIATED VCB;
                                     009E 20800 ; 8) STORE ADDRESS OF INTERMEDIATE DEVICE UCB IN SPOOLED DEVICE'S
                                     009E 20900 ;    ASSOCIATED UCB ADDRESS (UCB$L_AMB);
                                     009E 21000 ; 9) SET SPOOLED DEVICE'S SPOOL BIT (DEV$V_SPL IN UCB$L_DEVCHAR);
                                     009E 21100 ; 10) UNLOCK I/O DATABASE.
                                     009E 21200 ;
                                     009E 21300 ;
                                     009E 21400 ; INPUTS:
                                     009E 21500 ;
                                     009E 21600 ;	CHAN1 = CHANNEL NUMBER OF SPOOLED DEVICE
                                     009E 21700 ;	UCB1 = UCB ADDRESS OF SPOOLED DEVICE
                                     009E 21800 ;	CHAN_INFO = CHANNEL INFO OF SPOOLED DEVICE
                                     009E 21900 ;
                                     009E 22000 ; OUTPUTS:
                                     009E 22100 ;
                                     009E 22200 ;	SET$L_STATUS = STATUS OF THE OPERATION
                                     009E 22300 ;--
                                     009E 22400 SPOOL:
                               007C  009E 22500 	.WORD	^M<R2,R3,R4,R5,R6>
                                     00A0 22600 
                          020A   30  00A0 22700 	BSBW	OPER_PRIV		; CHECK THAT USER IS OPERATOR
                                     00A3 22800 ;
                                     00A3 22900 ; CHECK SPOOLED DEVICE CLASS 
                                     00A3 23000 ;
         43 8F       0024'CF     91  00A3 23100 	CMPB	W^CLASS,#DC$_LP		; DEVICE A PRINTER?
                          10     13  00A9 23200 	BEQLU	10$			; IF EQL YES
         42 8F       0024'CF     91  00AB 23300 	CMPB	W^CLASS,#DC$_TERM	; DEVICE A TERMINAL?
                          08     13  00B1 23400 	BEQLU	10$			; IF EQL YES
            50       0000'8F     3C  00B3 23500 	MOVZWL	#SS$_IVDEVNAM,R0	; SET INVALID DEVICE ERROR
                          0074   31  00B8 23600 	BRW	100$			; EXIT
                                     00BB 23700 ;
                                     00BB 23800 ; GET THE QUEUE NAME - DEFAULT TO DEVICE'S NAME
                                     00BB 23900 ;
       0018'CF       0034'CF     7D  00BB 24000 10$:	MOVQ	W^CLI$Q_RQDESC+DEV_NAME,W^Q_DESC ; ASSUME DEFAULT
                     0068'CF     B5  00C2 24100 	TSTW	W^CLI$W_QDVALSIZ+SP_QUAL ; QUEUE NAME SPECIFIED?
                          17     13  00C6 24200 	BEQL	20$			; IF EQL NO - USE DEFAULT
                                     00C8 24300 	CALLBAK W^STRING_VAL,W^SP_QUAL 	; GET QUEUE NAME
                                 7D  00D8 24400 	MOVQ	W^CLI$Q_RQDESC+STRING_VAL,- ;GET VALUE DESCRIPTOR
SETDEV          - SET SPECIAL CHARACTERISTICS OF A DEVICE        21-AUG-1978 19:10:26   VAX-11 MACRO X0.3-11               Page   7
X01             SET SPOOLED                                                                                                      (1)

       0018'CF       00CA'CF         00D9 24500 		W^Q_DESC
                                     00DF 24600 ;
                                     00DF 24700 ; GET THE INTERMEDIATE DEVICE NAME, ASSIGN A CHANNEL TO IT,
                                     00DF 24800 ; AND GET IT'S UCB ADDRESS
                                     00DF 24900 ;
            50       0000'CF     7E  00DF 25000 20$:	MOVAQ	W^DEF_SPOOL_DEV,R0	; ASSUME DEFAULT DEVICE
                                 E1  00E4 25100 	BBC	#CLI$V_MOREVALS,-	; IF CLEAR NONE SPECIFIED
       00C5'CF            00         00E5 25200 		W^CLI$B_RQSTAT+STRING_VAL,30$
                          15         00E9       
                                     00EA 25300 	CALLBAK W^STRING_VAL,W^SP_QUAL	; GET DEVICE NAME
            50       00CA'CF     7E  00FA 25400 	MOVAQ	W^CLI$Q_RQDESC+STRING_VAL,R0 ; GET ADDR OF DESCRIPTOR
                                     00FF 25500 30$:	$ASSIGN_S (R0),W^CHAN2		; ASSIGN A CHANNEL TO IT
            1E            50     E9  010E 25600 	BLBC	R0,100$		;
   00000000'EF       0008'CF     C3  0111 25700 	SUBL3	W^CHAN2,CTL$GL_CCBBASE,R0 ; GET CCB ADDRESS
                          50         011A       
       0014'CF            60     D0  011B 25800 	MOVL	CCB$L_UCB(R0),W^UCB2	; SET UCB ADDRESS
                                     0120 25900 	$CMKRNL_S W^SET$DEV_SPOOL,-	; SET THE DEVICE SPOOLED
                                     0120 26000 		  W^ARG_LIST
                                     012F 26100 100$:
       0000'CF            50     D0  012F 26200 	MOVL	R0,W^SET$L_STATUS	; SET STATUS
                                 04  0134 26300 	RET				; RETURN
SETDEV          - SET SPECIAL CHARACTERISTICS OF A DEVICE        21-AUG-1978 19:10:26   VAX-11 MACRO X0.3-11               Page   8
X01             SET NOSPOOLED                                                                                                    (1)

                                     0135 26500 	.SBTTL	SET NOSPOOLED
                                     0135 26600 ;++
                                     0135 26700 ; NOSPOOL - SET DEVICE NOT SPOOLED
                                     0135 26800 ;
                                     0135 26900 ; FUNCTIONAL DESCRIPTION:
                                     0135 27000 ;
                                     0135 27100 ; THIS ACTION ROUTINE WILL DISABLE IMPLICIT SPOOLING FOR A DEVICE.
                                     0135 27200 ;
                                     0135 27300 ; 1) LOCK I/O DATABASE FOR WRITE;
                                     0135 27400 ; 2) CHECK THAT DEVICE IS ACTUALLY SET SPOOLED (DEV$V_SPL);
                                     0135 27500 ; 3) CHECK THAT REFERENCE COUNT (UCB$W_REFC) IS 2;
                                     0135 27600 ; 4) DECREMENT THE REFERENCE COUNT BY 2;
                                     0135 27700 ; 5) CLEAR SPOOL BIT (DEV$V_SPL);
                                     0135 27800 ; 6) DEALLOCATE THE QUEUE NAME'S DYNAMIC STORAGE, AND CLEAR VCB ADDRESS;
                                     0135 27900 ; 7) GET ADDRESS OF INTERMEDIATE DEVICE'S UCB FROM UCB$L_AMD AND
                                     0135 28000 ;    CLEAR UCB$L_AMD;
                                     0135 28100 ; 8) DECREMENT TRANSACTION COUNT OF INTERMEDIATE DEVICE'S VCB
                                     0135 28200 ; 9) MOVE ADDRESS OF INTERMEDIATE DEVICE'S UCB TO CHANNEL CONTROL BLOCK
                                     0135 28300 ;     OF SPOOLED DEVICE;
                                     0135 28400 ; 10) UNLOCK I/O DATABASE;
                                     0135 28500 ; 11) QUEUE IO$_ACPCONTROL ON CHANNEL TO ASSURE DISMOUNT IF NEEDED.
                                     0135 28600 ;
                                     0135 28700 ;
                                     0135 28800 ; INPUTS:
                                     0135 28900 ;
                                     0135 29000 ;	CHAN1 = CHANNEL NUMBER OF SPOOLED DEVICE
                                     0135 29100 ;	UCB1 = UCB ADDRESS OF SPOOLED DEVICE
                                     0135 29200 ;	CCB1 = CCB ADDRESS OF SPOOLED DEVICE
                                     0135 29300 ;	CHAN_INFO = CHANNEL INFO OF SPOOLED DEVICE
                                     0135 29400 ;
                                     0135 29500 ; OUTPUTS:
                                     0135 29600 ;
                                     0135 29700 ;	SET$L_STATUS = STATUS OF THE OPERATION
                                     0135 29800 ;--
                                     0135 29900 NOSPOOL:
                               007C  0135 30000 	.WORD	^M<R2,R3,R4,R5,R6>
                                     0137 30100 
                          0173   30  0137 30200 	BSBW	OPER_PRIV		; CHECK THAT USER IS OPERATOR
                                     013A 30300 	$CMKRNL_S W^SET$DEV_NOSPOOL,-	; SET THE DEVICE NOT SPOOLED
                                     013A 30400 		  W^ARG_LIST
            1F            50     E9  0149 30500 	BLBC	R0,10$			; IF CLEAR ERROR
                                     014C 30600 	$QIOW_S CHAN=W^CHAN1,FUNC=#IO$_ACPCONTROL ; WAKE UP THE ACP
       0000'CF            50     D0  016B 30700 10$:	MOVL	R0,W^SET$L_STATUS	; SET STATUS
                                 04  0170 30800 	RET				; RETURN
                                     0171 30900 
SETDEV          - SET SPECIAL CHARACTERISTICS OF A DEVICE        21-AUG-1978 19:10:26   VAX-11 MACRO X0.3-11               Page   9
X01             SET [NO]ERROR LOGGING                                                                                            (1)

                                     0171 31100 	.SBTTL	SET [NO]ERROR LOGGING
                                     0171 31200 ;++
                                     0171 31300 ; ERROR_LOG/NOERROR_LOG - ENABLE OR DISABLE ERROR LOGGING ON A DEVICE
                                     0171 31400 ;
                                     0171 31500 ; FUNCTIONAL DESCRIPTION:
                                     0171 31600 ;
                                     0171 31700 ; THIS ACTION ROUTINE WILL ENABLE OR DISABLE ERROR LOGGING ON A DEVICE
                                     0171 31800 ;
                                     0171 31900 ;
                                     0171 32000 ; INPUTS:
                                     0171 32100 ;
                                     0171 32200 ;	CHAN1 = CHANNEL NUMBER OF DEVICE
                                     0171 32300 ;	UCB1 = UCB ADDRESS OF DEVICE
                                     0171 32400 ;	CHAN_INFO = CHANNEL INFO OF DEVICE
                                     0171 32500 ;
                                     0171 32600 ; OUTPUTS:
                                     0171 32700 ;
                                     0171 32800 ;	SET$L_STATUS = STATUS OF THE OPERATION
                                     0171 32900 ;--
                                     0171 33000 	.ENABL	LSB
                                     0171 33100 
                                     0171 33200 ERROR_LOG:
                               0000  0171 33300 	.WORD	0
       0014'CF            01     D0  0173 33400 	MOVL	#1,W^FLAG		; SET FLAG TO ENABLE
                          06     11  0178 33500 	BRB	10$			;
                                     017A 33600 
                                     017A 33700 NOERROR_LOG:
                               0000  017A 33800 	.WORD	0
                     0014'CF     D4  017C 33900 	CLRL	W^FLAG			; SET FLAG TO DISABLE
                                     0180 34000 
                          012A   30  0180 34100 10$:	BSBW	OPER_PRIV		; CHECK THAT USER IS AN OPERATOR
                                     0183 34200 	$CMKRNL_S W^SET$DEV_ERLG,-	; ENABLE/DISABLE ERROR LOGGING
                                     0183 34300 		  W^ARG_LIST
       0000'CF            50     D0  0192 34400 	MOVL	R0,W^SET$L_STATUS	; SET STATUS
                                     0197 34500 
                                 04  0197 34600 	RET
                                     0198 34700 
                                     0198 34800 	.DSABL	LSB
                                     0198 34900 
SETDEV          - SET SPECIAL CHARACTERISTICS OF A DEVICE        21-AUG-1978 19:10:26   VAX-11 MACRO X0.3-11               Page  10
X01             SET PROTECTION /DEVICE                                                                                           (1)

                                     0198 35100 	.SBTTL	SET PROTECTION /DEVICE
                                     0198 35200 ;++
                                     0198 35300 ; PROTECTION - SET PROTECTION FOR A DEVICE
                                     0198 35400 ;
                                     0198 35500 ; FUNCTIONAL DESCRIPTION:
                                     0198 35600 ;
                                     0198 35700 ; THIS ACTION ROUTINE WILL SET THE DEVICE'S UCB PROTECTION
                                     0198 35800 ; FIELD, UCB$W_VPROT.
                                     0198 35900 ;
                                     0198 36000 ;
                                     0198 36100 ; INPUTS:
                                     0198 36200 ;
                                     0198 36300 ;	CHAN1 = CHANNEL NUMBER OF DEVICE
                                     0198 36400 ;	UCB1 = UCB ADDRESS OF DEVICE
                                     0198 36500 ;	CHAN_INFO = CHANNEL INFO OF DEVICE
                                     0198 36600 ;
                                     0198 36700 ; OUTPUTS:
                                     0198 36800 ;
                                     0198 36900 ;	SET$L_STATUS = STATUS OF THE OPERATION
                                     0198 37000 ;--
                                     0198 37100 PROTECTION:
                               07FC  0198 37200 	.WORD	^M<R2,R3,R4,R5,R6,R7,R8,R9,R10> ; REGISTER SAVE MASK
                                     019A 37300 
                          0110   30  019A 37400 	BSBW	OPER_PRIV		; CHECK THAT USER IS AN OPERATOR
                                     019D 37500 ;
                                     019D 37600 ; CHECK FOR VALID DEVICE TYPES
                                     019D 37700 ;
       0020'CF            0E     E0  019D 37900 	BBS	#DEV$V_FOD,W^CHAN_INFO,10$ ; IF SET FILE STRUCTURED
                          06         01A2       
       0020'CF            10     E0  01A3 38000 	BBS	#DEV$V_SHR,W^CHAN_INFO,PARSE_PROT ; IF SET SHAREABLE
                          0A         01A8       
                                     01A9 38005 10$:
            50   0003886A 8F     D0  01A9 38010 	MOVL	#CLI$_IVDEVTYPE,R0	; INVALID DEVICE TYPE
                          00F4   31  01B0 38020 	BRW	PROT_EXIT		; EXIT
                                     01B3 38100 ;
                                     01B3 38200 ; PARSE PROTECTION CLASSES AND CODES
                                     01B3 38300 ;
                                     01B3 38310 PARSE_PROT:
                          59     D4  01B3 38400 	CLRL	R9			; DEFAULT PROT = ALL ACESSES
            5A       00C2'CF     DE  01B5 38500 	MOVAL	W^STRING_VAL,R10	; GET ADDR OF STRING VALUE DESC
                     0004'CF     B5  01BA 38600 10$:	TSTW	W^CLI$W_QDVALSIZ+SET$T_PRQUAL ; A VALUE LEFT?
                          07     12  01BE 38700 	BNEQ	15$			; IF NEQ YES
       0014'CF            59     D0  01C0 38710 	MOVL	R9,W^PROT		; SET PROTECTION VALUE
                          62     11  01C5 38720 	BRB	GET_UIC			; GET THE OWNER UIC
                                     01C7 38800 15$:	CALLBAK	(R10),W^SET$T_PRQUAL	; GET NEXT VALUE
            04         0C BA     3A  01D5 38900 	LOCC	@CLI$A_RQADDR(R10),#4,W^PROT_CLASS ; LOCATE PROTECTION CLASS
                     0018'CF         01D9       
                          41     13  01DC 39000 	BEQL	50$			; IF EQL INVALID CLASS
                          50     D7  01DE 39100 	DECL	R0			; CALCULATE STARTING BIT NUMBER
            50            04     C5  01E0 39200 	MULL3	#4,R0,R8		;
                          58         01E3       
            58            0F     F0  01E4 39300 	INSV	#^XF,R8,#4,R9		; START WITH NO ACCESS
            59            04         01E7       
         03 AA            01     E1  01E9 39400 	BBC	#CLI$V_KEYVALU,CLI$B_RQSTAT(R10),10$ ; IF CLEAR NO VALUE
                          CC         01ED       
                                     01EE 39500 	CALLBAK	(R10),W^SET$T_PRQUAL	; GET PROTECTION VALUE
            56         08 AA     7D  01FC 39600 	MOVQ	CLI$Q_RQDESC(R10),R6	; GET VALUE DESCRIPTOR
SETDEV          - SET SPECIAL CHARACTERISTICS OF A DEVICE        21-AUG-1978 19:10:26   VAX-11 MACRO X0.3-11               Page  11
X01             SET PROTECTION /DEVICE                                                                                           (1)

            04            87     3A  0200 39700 20$:	LOCC	(R7)+,#4,W^PROT_ACCESS	; LOCATE PROTECTION ACCESS CODE
                     001C'CF         0203       
                          0E     13  0206 39800 	BEQL	40$			; IF EQL INVALID CODE
                          50     D7  0208 39900 	DECL	R0			; CALCULATE RELATIVE BIT NUMBER
            50            58     C0  020A 40000 	ADDL	R8,R0			; CALCULATE ACTUAL BIT NUMBER
            59            50     E5  020D 40100 	BBCC	R0,R9,30$		; ALLOW SPECIFIED ACCESS
                          00         0210       
            EC            56     F5  0211 40200 30$:	SOBGTR	R6,20$			; ANY MORE TO SCAN?
                          A4     11  0214 40300 	BRB	10$			;
                                     0216 40310 
            50   00038070 8F     D0  0216 40320 40$:	MOVL	#CLI$_IVPROT,R0		; SET INVALID PROTECTION ERROR
                          07     11  021D 40330 	BRB	60$			; EXIT
            50   00038178 8F     D0  021F 40340 50$:	MOVL	#CLI$_INVKEY,R0		; SET INVALID KEYWORD ERROR
                          007E   31  0226 40350 60$:	BRW	PROT_EXIT		; EXIT
                                     0229 40400 
                                     0229 40402 ;
                                     0229 40404 ; GET THE OWNER UIC
                                     0229 40406 ;
                                     0229 40408 GET_UIC:
                     00AE'CF     B5  0229 40410 	TSTW	W^CLI$W_QDVALSIZ+OWN_QUAL ; OWNER SPECIFIED?
                          17     12  022D 40412 	BNEQ	10$			; BR IF YES
                                     022F 40414 	$GETJPI_S ITMLST=W^GETJPI_UIC	; USE PROCESS'S UIC AS DEFAULT
                          52     11  0244 40416 	BRB	SET_PROT		; SET THE PROTECTION
                                     0246 40418 10$:
                                     0246 40419 	CALLBAK W^STRING_VAL,W^OWN_QUAL	; GET THE UIC STRING
            56       00CE'CF     D0  0256 40420 	MOVL	W^CLI$A_RQADDR+STRING_VAL,R6 ; SET ADDR OF UIC STRING
                          FDA2'  30  025B 40422 	BSBW	CHR$TSTCHR		; TST 1ST CHARACTER
            50         00'8F     91  025E 40424 	CMPB	#CHR$K_LBRAKT,R0	; IS IT A LEFT BRACKET?
                          2B     12  0262 40426 	BNEQ	20$			; BR IF NOT
                          FD99'  30  0264 40428 	BSBW	CHR$NXTOKEN		; GET GROUP NUMBER
            52            53     7D  0267 40430 	MOVQ	R3,R2			; SET DESCRIPTOR TO IT
                          FD93'  30  026A 40432 	BSBW	LIB$CVTCLIOTB		; CONVERT TO BINARY
            1F            50     E9  026D 40434 	BLBC	R0,20$			; BR IF ERROR
       001A'CF            51     B0  0270 40436 	MOVW	R1,W^UIC+2		; SET GROUP NUMBER
                          FD88'  30  0275 40438 	BSBW	CHR$TSTCHR		; TEST NEXT CHARACTER
            50         00'8F     91  0278 40440 	CMPB	#CHR$K_COMMA,R0		; IS IT A COMMA?
                          11     12  027C 40442 	BNEQ	20$			; BR IF NOT
                          FD7F'  30  027E 40444 	BSBW	CHR$NXTOKEN		; GET MEMBER NUMBER
            52            53     7D  0281 40446 	MOVQ	R3,R2			; SET DESCRIPTOR TO IT
                          FD79'  30  0284 40448 	BSBW	LIB$CVTCLIOTB		; CONVERT TO BINARY
       0018'CF            51     B0  0287 40450 	MOVW	R1,W^UIC		; SET MEMBER NUMBER
            09            50     E8  028C 40452 	BLBS	R0,SET_PROT		; BR IF SUCCESS
            50   000381A8 8F     D0  028F 40454 20$:	MOVL	#CLI$_INVUIC,R0		; SET INVALID UIC ERROR
                          0F     11  0296 40456 	BRB	PROT_EXIT
                                     0298 40500 ;
                                     0298 40600 ; SET THE DEVICE'S PROTECTION
                                     0298 40700 ;
                                     0298 40800 SET_PROT:
                                     0298 40900 	$CMKRNL_S W^SET$DEV_PROT,-	; SET DEVICE'S PROTECTION
                                     0298 41000 		  W^ARG_LIST		;
                                     02A7 41010 PROT_EXIT:
       0000'CF            50     D0  02A7 41100 	MOVL	R0,W^SET$L_STATUS	; SET STATUS
                                 04  02AC 41200 	RET	
                                     02AD 41800 
SETDEV          - SET SPECIAL CHARACTERISTICS OF A DEVICE        21-AUG-1978 19:10:26   VAX-11 MACRO X0.3-11               Page  12
X01             CHECK FOR OPERATOR PRIVILEGE                                                                                     (1)

                                     02AD 42000 	.SBTTL	CHECK FOR OPERATOR PRIVILEGE
                                     02AD 42100 ;++
                                     02AD 42200 ; OPER_PRIV - CHECK THAT PROCESS HAS OPERATOR PRIVILEGE
                                     02AD 42300 ;
                                     02AD 42400 ; FUNCTIONAL DESCRIPTION:
                                     02AD 42500 ;
                                     02AD 42600 ; TEST CTL$GQ_PROCPRIV FOR PRV$V_OPER.  IF SET JUST RETURN (RSB), IF
                                     02AD 42700 ; NOT SET, SET SET$L_STATUS TO SS$_NOPRIV AND RETURN (RET).
                                     02AD 42800 ;
                                     02AD 42900 ;
                                     02AD 43000 ; INPUTS:
                                     02AD 43100 ;
                                     02AD 43200 ;	NONE
                                     02AD 43300 ;
                                     02AD 43400 ; OUTPUTS:
                                     02AD 43500 ;
                                     02AD 43600 ; 	IF PROCESS HAS OPER PRIVILEGE - NONE
                                     02AD 43700 ;		ELSE - SET$L_STATUS = SS$_NOPRIV
                                     02AD 43800 ;
                                     02AD 43900 ;--
                                     02AD 43910 OPER_PRIV:
   00000000'EF            12     E1  02AD 43920 	BBC	#PRV$V_OPER,CTL$GQ_PROCPRIV,10$ ; IF CLEAR NO PRIVILEGE
                          01         02B4       
                                 05  02B5 43930 	RSB				; ELSE - JUST RETURN
       0000'CF            00'    3C  02B6 43940 10$:	MOVZWL	S^#SS$_NOPRIV,W^SET$L_STATUS ; SET NO PRIVILEGE ERROR
                                 04  02BB 43950 	RET				; EXIT ACTION ROUTINE
                                     02BC 43960 
                                     02BC 44000 
                                     02BC 44100 	.END
SETDEV          - SET SPECIAL CHARACTERISTICS OF A DEVICE        21-AUG-1978 19:10:26   VAX-11 MACRO X0.3-11               Page  13
SYMBOL TABLE                                                                                                                     (1)

$$$            = 00000004            CLI$K_ASCIIVAL = 00000041            CLI$K_STLP_LA18= 00000006            
$$$.           = 00000004            CLI$K_CLISERV  = 00000005            CLI$K_STLP_LOWE= 00000004            
$$$GBL         = 00000000            CLI$K_ENDPRM1  = 00000030            CLI$K_STLP_LP11= 00000007            
$$T1           = 00000001            CLI$K_ENDPRM2  = 00000031            CLI$K_STLP_PAGE= 00000008            
$CLI.          = 000000C2 R     03   CLI$K_ENDPRM3  = 00000032            CLI$K_STLP_UNKN= 00000009            
$CLI..         = 000000DE R     03   CLI$K_ENDPRM4  = 00000033            CLI$K_STLP_UPPE= 00000003            
$QUALNUM$      = 0000000B            CLI$K_FILSPEC  = 00000044            CLI$K_STLP_WIDT= 0000000A            
ARG_LIST         0000000C R     03   CLI$K_GETCMD   = 00000001            CLI$K_STMT_DENS= 00000001            
AT$_MBA        = 00000000            CLI$K_GETOPT   = 00000003            CLI$K_STMT_REWI= 00000002            
AT$_UBA        = 00000001            CLI$K_GETQUAL  = 00000002            CLI$K_STMT_UNLO= 00000003            
BIT...         = 00000045            CLI$K_INITPRS  = 00000000            CLI$K_STPC_IDEN= 00000001            
BITS             00000000 R     03   CLI$K_INPSPEC  = 00000001            CLI$K_STPC_PRIO= 00000002            
BUFF             00000026 R     03   CLI$K_INPUT1   = 00000010            CLI$K_STPC_RESO= 00000003            
CCB$B_AMOD       00000009            CLI$K_INPUT2   = 00000011            CLI$K_STPC_SWAP= 00000004            
CCB$B_STS        00000008            CLI$K_INPUT3   = 00000012            CLI$K_STPR_DEFA= 00000001            
CCB$C_LENGTH     00000010            CLI$K_INPUT4   = 00000013            CLI$K_STPR_DEVI= 00000003            
CCB$K_LENGTH     00000010            CLI$K_KEYVAL   = 00000043            CLI$K_STPR_OWNE= 00000004            
CCB$L_DIRP       0000000C            CLI$K_KEYWORD  = 00000042            CLI$K_STPR_PROT= 00000002            
CCB$L_UCB        00000000            CLI$K_NUMERVAL = 00000040            CLI$K_STQE_AFTE= 00000001            
CCB$L_WIND       00000004            CLI$K_OUTPUT1  = 00000020            CLI$K_STQE_ENTR= 00000003            
CCB$W_IOC        0000000A            CLI$K_OUTPUT2  = 00000021            CLI$K_STQE_FORM= 00000004            
CCB1             00000014 R     03   CLI$K_OUTPUT3  = 00000022            CLI$K_STQE_HOLD= 00000005            
CHAN1            00000004 R     03   CLI$K_OUTPUT4  = 00000023            CLI$K_STQE_JOB_= 00000002            
CHAN2            00000008 R     03   CLI$K_OUTSPEC  = 00000002            CLI$K_STQE_LOWE= 00000006            
CHAN_INFO        00000020 R     03   CLI$K_PARDONE  = 00000003            CLI$K_STQE_NAME= 00000007            
CHAR             00000028 R     03   CLI$K_QDBITS     00000014            CLI$K_STQE_PRIO= 00000008            
CHAR_QUAL        00000048 R     03   CLI$K_QUALDEF    00000014            CLI$K_STQE_RELE= 00000009            
CHR$K_COMMA      ********   X   05   CLI$K_REQDESC    0000001C            CLI$K_STRM_BLOC= 00000001            
CHR$K_LBRAKT     ********   X   05   CLI$K_SET_ACCO = 00000001            CLI$K_STRM_BUFF= 00000002            
CHR$NXTOKEN      ********   X   05   CLI$K_SET_CARD = 00000002            CLI$K_STRM_DISK= 00000003            
CHR$TSTCHR       ********   X   05   CLI$K_SET_CONT = 00000012            CLI$K_STRM_HASH= 00000006            
CLASS            00000024 R     03   CLI$K_SET_DEFA = 00000004            CLI$K_STRM_INDE= 00000007            
CLI$A_ABSACT     00000014            CLI$K_SET_DEVI = 00000003            CLI$K_STRM_MAGT= 00000004            
CLI$A_ERRACT     00000004            CLI$K_SET_LOGI = 00000005            CLI$K_STRM_RELA= 00000008            
CLI$A_FLSACT     00000010            CLI$K_SET_MAGT = 00000006            CLI$K_STRM_SEQU= 00000009            
CLI$A_IMGFILED   00000010            CLI$K_SET_ON   = 00000007            CLI$K_STRM_SYST= 0000000A            
CLI$A_IMGHDADR   0000000C            CLI$K_SET_PASS = 00000008            CLI$K_STRM_UNIT= 00000005            
CLI$A_PROGXFER   00000004            CLI$K_SET_PRIN = 00000009            CLI$K_STTT_BROA= 00000001            
CLI$A_PRSACT     00000010            CLI$K_SET_PROC = 0000000A            CLI$K_STTT_CRFI= 00000002            
CLI$A_QDVALADR   00000008            CLI$K_SET_PROT = 0000000B            CLI$K_STTT_ECHO= 00000003            
CLI$A_QUALST     00000018            CLI$K_SET_QUEU = 0000000C            CLI$K_STTT_EIGH= 00000004            
CLI$A_RQADDR     0000000C            CLI$K_SET_RMS_ = 00000011            CLI$K_STTT_ESCA= 00000005            
CLI$A_TRUACT     0000000C            CLI$K_SET_TERM = 0000000D            CLI$K_STTT_HARD= 00000006            
CLI$A_UTILSERV   00000008            CLI$K_SET_UIC  = 0000000E            CLI$K_STTT_HOLD= 00000007            
CLI$B_BITNUM     00000001            CLI$K_SET_VERI = 0000000F            CLI$K_STTT_HOST= 00000008            
CLI$B_QDBLKSIZ   00000000            CLI$K_SET_WORK = 00000010            CLI$K_STTT_INTE= 00000009            
CLI$B_QDCODE     00000001            CLI$K_STAC_DISA= 00000001            CLI$K_STTT_LA36= 0000000A            
CLI$B_QDFLGS     00000002            CLI$K_STAC_ENAB= 00000002            CLI$K_STTT_LFFI= 0000000B            
CLI$B_QDSTAT     00000003            CLI$K_STAC_NEW_= 00000003            CLI$K_STTT_LOCA= 0000000C            
CLI$B_RQFLGS     00000002            CLI$K_STCR_026 = 00000001            CLI$K_STTT_LOWE= 0000000D            
CLI$B_RQINDX     00000001            CLI$K_STCR_029 = 00000002            CLI$K_STTT_PAGE= 0000000E            
CLI$B_RQSTAT     00000003            CLI$K_STDV_ERRO= 00000002            CLI$K_STTT_PARI= 0000001E            
CLI$B_RQTYPE     00000000            CLI$K_STDV_SPOO= 00000001            CLI$K_STTT_PASS= 0000000F            
CLI$C_QDBITS     00000014            CLI$K_STLG_INTE= 00000001            CLI$K_STTT_PERM= 00000020            
CLI$C_QUALDEF    00000014            CLI$K_STLP_CR  = 00000001            CLI$K_STTT_READ= 0000001F            
CLI$C_REQDESC    0000001C            CLI$K_STLP_FF  = 00000002            CLI$K_STTT_REMO= 00000010            
CLI$C_WORKAREA   00000080            CLI$K_STLP_LA11= 00000005            CLI$K_STTT_SCOP= 00000011            
SETDEV          - SET SPECIAL CHARACTERISTICS OF A DEVICE        21-AUG-1978 19:10:26   VAX-11 MACRO X0.3-11               Page  14
SYMBOL TABLE                                                                                                                     (1)

CLI$K_STTT_SCRI= 00000012            CLI$V_DBGTRU   = 00000001            CLI$_IVSYMB    = 00038080            
CLI$K_STTT_SPEE= 00000013            CLI$V_DEBUG    = 00000000            CLI$_IVVALU    = 00038088            
CLI$K_STTT_TAB = 00000014            CLI$V_DUMMY    = 00000001            CLI$_IVVERB    = 00038090            
CLI$K_STTT_TTSY= 00000015            CLI$V_EXPNAM   = 00000002            CLI$_MAXPARM   = 00038098            
CLI$K_STTT_TYPE= 00000016            CLI$V_INDIRECT = 00000004            CLI$_MULKEY    = 000381A0            
CLI$K_STTT_UNKN= 00000017            CLI$V_KEYVALU  = 00000001            CLI$_NOATFIL   = 000380A0            
CLI$K_STTT_UPPE= 00000018            CLI$V_LASTVAL  = 00000000            CLI$_NOCCAT    = 000380A8            
CLI$K_STTT_VT05= 00000019            CLI$V_MOREINP  = 00000002            CLI$_NOCOMD    = 000380B0            
CLI$K_STTT_VT52= 0000001A            CLI$V_MOREVALS = 00000000            CLI$_NOKEYW    = 000380B8            
CLI$K_STTT_VT55= 0000001B            CLI$V_PARMDEF  = 00000003            CLI$_NOLIST    = 000380C0            
CLI$K_STTT_WIDT= 0000001C            CLI$V_PARMPRS  = 00000000            CLI$_NOOPTPRS  = 00038842            
CLI$K_STTT_WRAP= 0000001D            CLI$V_PARMREQ  = 00000000            CLI$_NOQUAL    = 000380C8            
CLI$K_STWR_LIMI= 00000001            CLI$V_PRITYP   = 00000004            CLI$_NORMAL    = 00030001            
CLI$K_STWR_QUOT= 00000002            CLI$V_QDEXPA   = 00000002            CLI$_NOTNEG    = 000380D8            
CLI$K_UTILOPR  = 00000000            CLI$V_QDUSRV   = 00000001            CLI$_NOVALU    = 000380D0            
CLI$K_VALCONV  = 00000004            CLI$V_QUALEXP  = 00000001            CLI$_NOVALUE   = 0003882A            
CLI$K_WORKAREA   00000080            CLI$V_QUALTRU  = 00000000            CLI$_NULFIL    = 000380E0            
CLI$L_CLIFLAG    00000018            CLI$V_SUBTYP   = 00000000            CLI$_NUMBER    = 000380E8            
CLI$L_INIARGCNT  00000000            CLI$V_TRMVRBLV = 00000008            CLI$_ONCOMD    = 000380F0            
CLI$L_LINKFLAG   00000014            CLI$V_VERIFY   = 00000002            CLI$_ONERR     = 000380F8            
CLI$L_RQVALU     0000000C            CLI$V_VFYINP   = 00000005            CLI$_ONEVAL    = 00038158            
CLI$L_USRVAL     00000014            CLI$W_QDVALSIZ   00000004            CLI$_ONLEVL    = 00038100            
CLI$L_WORKAREA   00000000            CLI$W_RQSIZE     00000008            CLI$_ONOVF     = 00038108            
CLI$M_ABSADR   = 00000002            CLI$W_SERVCOD    00000001            CLI$_OVRFLW    = 00038160            
CLI$M_ALLOCCUR = 00000001            CLI$_ABFNAM    = 000381B8            CLI$_PARMDEL   = 00038110            
CLI$M_BATCH    = 00000008            CLI$_ABKEYW    = 00038000            CLI$_PROC_ID   = 0003FFF1            
CLI$M_CONCATINP= 00000002            CLI$_ABVERB    = 00038008            CLI$_QUEJOBCRE = 0003FFF9            
CLI$M_DBGEXCP  = 00010000            CLI$_BADRET    = 00038198            CLI$_REQPRMABS = 00038812            
CLI$M_DBGTRU   = 00000002            CLI$_BADTEXT   = 000381B0            CLI$_RSLOVF    = 00038118            
CLI$M_DEBUG    = 00000001            CLI$_BUFOVF    = 00038018            CLI$_SKPDAT    = 00038120            
CLI$M_DUMMY    = 00000002            CLI$_COMPLX    = 00038020            CLI$_SPARE0    = 00038010            
CLI$M_EXPNAM   = 00000004            CLI$_CONFQUAL  = 00038802            CLI$_SPARE1    = 00038058            
CLI$M_INDIRECT = 00000010            CLI$_CREQUEJOB = 0003884A            CLI$_STKOVF    = 00038128            
CLI$M_KEYVALU  = 00000002            CLI$_DEFOVF    = 00038028            CLI$_SUBMITERR = 00038852            
CLI$M_LASTVAL  = 00000001            CLI$_DEVALSPL  = 0003885A            CLI$_SYMDEL    = 00038130            
CLI$M_MOREINP  = 00000004            CLI$_DEVNOTFOR = 0003887A            CLI$_SYMOVF    = 00038138            
CLI$M_MOREVALS = 00000001            CLI$_DEVNOTSPL = 00038862            CLI$_UNDFIL    = 00038188            
CLI$M_PARMDEF  = 00000008            CLI$_DIRECT    = 00038030            CLI$_UNDSYM    = 00038140            
CLI$M_PARMPRS  = 00000001            CLI$_EXPSYN    = 00038038            CLI$_UNPROPARM = 00038170            
CLI$M_PARMREQ  = 00000001            CLI$_FILOPN    = 00038190            CLI$_UNPROQUAL = 00038168            
CLI$M_QDEXPA   = 00000004            CLI$_ILLVAL    = 0003883A            CLI$_USGOTO    = 00038148            
CLI$M_QDUSRV   = 00000002            CLI$_IMCHNG    = 00038040            CLI$_VALCNVERR = 00038832            
CLI$M_QUALEXP  = 00000002            CLI$_IMGFNF    = 00038872            CLI$_VALREQ    = 00038150            
CLI$M_QUALTRU  = 00000001            CLI$_INSFPRM   = 00038048            CTL$GL_CCBBASE   ********   X   05   
CLI$M_TRMVRBLV = 00000300            CLI$_INVKEY    = 00038178            CTL$GQ_PROCPRIV  ********   X   05   
CLI$M_VERIFY   = 00000004            CLI$_INVQUAL   = 0003880A            DC$_CARD       = 00000041            
CLI$M_VFYINP   = 00000020            CLI$_INVQUALNUM= 0003881A            DC$_DISK       = 00000001            
CLI$Q_QDVALDESC  00000004            CLI$_INVREQTYP = 00038822            DC$_LP         = 00000043            
CLI$Q_RQDESC     00000008            CLI$_INVRSP    = 00038180            DC$_MAILBOX    = 000000A0            
CLI$S_PRITYP   = 00000004            CLI$_INVUIC    = 000381A8            DC$_SCOM       = 00000020            
CLI$S_SUBTYP   = 00000004            CLI$_IVCHAR    = 00038050            DC$_TAPE       = 00000002            
CLI$S_TRMVRBLV = 00000002            CLI$_IVDEVTYPE = 0003886A            DC$_TERM       = 00000042            
CLI$V_ABSADR   = 00000001            CLI$_IVFNAM    = 000381C0            DEF_SPOOL_DEV    00000000 R     04   
CLI$V_ALLOCCUR = 00000000            CLI$_IVKEYW    = 00038060            DEV$M_ALL      = 00800000            
CLI$V_BATCH    = 00000003            CLI$_IVOPER    = 00038068            DEV$M_AVL      = 00040000            
CLI$V_CONCATINP= 00000001            CLI$_IVPROT    = 00038070            DEV$M_CCL      = 00000002            
CLI$V_DBGEXCP  = 00000010            CLI$_IVQLOC    = 00038078            DEV$M_DIR      = 00000008            
SETDEV          - SET SPECIAL CHARACTERISTICS OF A DEVICE        21-AUG-1978 19:10:26   VAX-11 MACRO X0.3-11               Page  15
SYMBOL TABLE                                                                                                                     (1)

DEV$M_DMT      = 00200000            DT$_RM03       = 00000006            JPI$_FREP0VA   = 00000404            
DEV$M_ELG      = 00400000            DT$_RP04       = 00000003            JPI$_FREP1VA   = 00000405            
DEV$M_FOD      = 00004000            DT$_RP05       = 00000004            JPI$_GPGCNT    = 0000030C            
DEV$M_FOR      = 01000000            DT$_RP06       = 00000005            JPI$_GRP       = 00000308            
DEV$M_GEN      = 00020000            DT$_RP07       = 00000007            JPI$_LASTADR   = 00000102            
DEV$M_IDV      = 04000000            DT$_RP07HT     = 00000008            JPI$_LASTCTL   = 00000207            
DEV$M_MBX      = 00100000            DT$_TE16       = 00000001            JPI$_LASTPCB   = 0000031D            
DEV$M_MNT      = 00080000            DT$_TTYUNKN    = 00000000            JPI$_LASTPHD   = 00000412            
DEV$M_NET      = 00002000            DT$_TU45       = 00000002            JPI$_LOGINTIM  = 00000206            
DEV$M_ODV      = 08000000            DT$_TU77       = 00000003            JPI$_MEM       = 00000307            
DEV$M_RCK      = 40000000            DT$_VT05       = 00000001            JPI$_OWNER     = 00000303            
DEV$M_REC      = 00000001            DT$_VT52       = 00000040            JPI$_PAGEFLTS  = 0000040A            
DEV$M_RND      = 10000000            DT$_VT55       = 00000041            JPI$_PGFLQUOTA = 0000040E            
DEV$M_RTM      = 20000000            DT$_VT5X       = 00000040            JPI$_PID       = 00000319            
DEV$M_SDI      = 00000010            DT$_XM_ALMA    = 00000009            JPI$_PPGCNT    = 0000030D            
DEV$M_SHR      = 00010000            DT$_XM_ALMD    = 0000000A            JPI$_PRCCNT    = 0000031B            
DEV$M_SPL      = 00000040            DT$_XM_ARDA    = 00000001            JPI$_PRCLM     = 00000408            
DEV$M_SQD      = 00000020            DT$_XM_ARFA    = 00000002            JPI$_PRCNAM    = 0000031C            
DEV$M_SWL      = 02000000            ERROR            00000071 R     05   JPI$_PRI       = 00000302            
DEV$M_TRM      = 00000004            ERROR_LOG        00000171 R     05   JPI$_PRIB      = 00000309            
DEV$M_WCK      = 80000000            FLAG             00000014 R     03   JPI$_PROCPRIV  = 00000204            
DEV$V_ALL      = 00000017            GBL...         = 00000000            JPI$_STATE     = 00000306            
DEV$V_AVL      = 00000012            GETJPI_UIC       00000020 R     04   JPI$_STS       = 00000305            
DEV$V_CCL      = 00000001            GET_CHAN_INFO    00000010 R     04   JPI$_TMBU      = 0000030B            
DEV$V_DIR      = 00000003            GET_UIC          00000229 R     05   JPI$_TQCNT     = 00000315            
DEV$V_DMT      = 00000015            IO$_ACPCONTROL   ********   X   05   JPI$_TQLM      = 00000410            
DEV$V_ELG      = 00000016            JPI$C_ADRTYPE  = 00000001            JPI$_UIC       = 00000304            
DEV$V_FOD      = 0000000E            JPI$C_CTLTYPE  = 00000002            JPI$_USERNAME  = 00000202            
DEV$V_FOR      = 00000018            JPI$C_LISTEND  = 00000000            JPI$_VIRTPEAK  = 00000200            
DEV$V_GEN      = 00000011            JPI$C_PCBTYPE  = 00000003            JPI$_VOLUMES   = 00000205            
DEV$V_IDV      = 0000001A            JPI$C_PHDTYPE  = 00000004            JPI$_WSAUTH    = 00000401            
DEV$V_MBX      = 00000014            JPI$_ACCOUNT   = 00000203            JPI$_WSPEAK    = 00000201            
DEV$V_MNT      = 00000013            JPI$_APTCNT    = 0000030A            JPI$_WSQUOTA   = 00000402            
DEV$V_NET      = 0000000D            JPI$_ASTACT    = 00000300            JPI$_WSSIZE    = 00000411            
DEV$V_ODV      = 0000001B            JPI$_ASTCNT    = 0000030E            LIB$CVTCLIOTB    ********   X   05   
DEV$V_RCK      = 0000001E            JPI$_ASTEN     = 00000301            NOERROR_LOG      0000017A R     05   
DEV$V_REC      = 00000000            JPI$_ASTLM     = 00000409            NOSPOOL          00000135 R     05   
DEV$V_RND      = 0000001C            JPI$_BIOCNT    = 0000030F            OPER_PRIV        000002AD R     05   
DEV$V_RTM      = 0000001D            JPI$_BIOLM     = 00000310            OWN_QUAL         000000AA R     03   
DEV$V_SDI      = 00000004            JPI$_BUFIO     = 0000040C            PARSE_PROT       000001B3 R     05   
DEV$V_SHR      = 00000010            JPI$_BYTCNT    = 00000311            PROT             00000014 R     03   
DEV$V_SPL      = 00000006            JPI$_BYTLM     = 0000031A            PROTECTION       00000198 R     05   
DEV$V_SQD      = 00000005            JPI$_CPULIM    = 0000040D            PROT_ACCESS      0000001C R     04   
DEV$V_SWL      = 00000019            JPI$_CPUTIM    = 00000407            PROT_CLASS       00000018 R     04   
DEV$V_TRM      = 00000002            JPI$_CURPRIV   = 00000400            PROT_EXIT        000002A7 R     05   
DEV$V_WCK      = 0000001F            JPI$_DFPFC     = 00000406            PROT_QUALS       00000093 R     03   
DEV_NAME         0000002C R     03   JPI$_DFWSCNT   = 00000403            PRO_B_FLAGS      00000001            
DEV_QUALS        00000064 R     03   JPI$_DIOCNT    = 00000312            PRO_B_PROMPT     00000000            
DT$_CR11       = 00000001            JPI$_DIOLM     = 00000313            PRO_K_LENGTH     00000002            
DT$_LA11       = 00000002            JPI$_DIRIO     = 0000040B            PRO_M_CONCAT   = 00000001            
DT$_LA180      = 00000003            JPI$_EFCS      = 00000317            PRO_M_IMPCAT   = 00000002            
DT$_LA36       = 00000020            JPI$_EFCU      = 00000318            PRO_M_LIST     = 00000004            
DT$_LAX        = 00000020            JPI$_EFWM      = 00000316            PRO_M_OPTION   = 00000008            
DT$_LP11       = 00000001            JPI$_EXCVEC    = 00000100            PRO_M_REQ      = 00000010            
DT$_MBX        = 00000001            JPI$_FILCNT    = 00000314            PRO_M_STRING   = 00000020            
DT$_RK06       = 00000001            JPI$_FILLM     = 0000040F            PRO_V_CONCAT   = 00000000            
DT$_RK07       = 00000002            JPI$_FINALEXC  = 00000101            PRO_V_IMPCAT   = 00000001            
SETDEV          - SET SPECIAL CHARACTERISTICS OF A DEVICE        21-AUG-1978 19:10:26   VAX-11 MACRO X0.3-11               Page  16
SYMBOL TABLE                                                                                                                     (1)

PRO_V_LIST     = 00000002            QUA_V_FILE     = 00000002            
PRO_V_OPTION   = 00000003            QUA_V_IMAGE    = 0000000A            
PRO_V_REQ      = 00000004            QUA_V_INTDEF   = 00000009            
PRO_V_STRING   = 00000005            QUA_V_KEYVAL   = 0000000E            
PRV$V_ALLSPOOL = 00000004            QUA_V_LOCALKEY = 00000001            
PRV$V_BUGCHK   = 00000017            QUA_V_MAXPARM  = 00000004            
PRV$V_CMEXEC   = 00000001            QUA_V_MINPARM  = 00000000            
PRV$V_CMKRNL   = 00000000            QUA_V_NEG      = 00000006            
PRV$V_DETACH   = 00000005            QUA_V_ONEVAL   = 0000000D            
PRV$V_DIAGNOSE = 00000006            QUA_V_OUTPUT   = 0000000B            
PRV$V_EXQUOTA  = 00000013            QUA_V_PARM     = 00000004            
PRV$V_GROUP    = 00000008            QUA_V_VAL      = 00000005            
PRV$V_GRPNAM   = 00000003            QUA_V_VALREQ   = 0000000C            
PRV$V_LOG_IO   = 00000007            QUA_V_VERB     = 00000003            
PRV$V_MOUNT    = 00000011            QUA_W_FLAGS      00000003            
PRV$V_NETMBX   = 00000014            QUA_W_PROMPT     00000009            
PRV$V_NOACNT   = 00000009            QUA_W_QUALIST    00000006            
PRV$V_OPER     = 00000012            Q_DESC           00000018 R     03   
PRV$V_PHY_IO   = 00000016            SET$A_CLIWORK    ********   X   05   
PRV$V_PRMCEB   = 0000000A            SET$DEV          0000000D RG    05   
PRV$V_PRMGBL   = 00000018            SET$DEV_ERLG     ********   X   05   
PRV$V_PRMMBX   = 0000000B            SET$DEV_NOSPOOL  ********   X   05   
PRV$V_PSWAPM   = 0000000C            SET$DEV_PROT     ********   X   05   
PRV$V_SETPRI   = 0000000D            SET$DEV_SPOOL    ********   X   05   
PRV$V_SETPRV   = 0000000E            SET$L_STATUS     ********   X   05   
PRV$V_SYSGBL   = 00000019            SET$PROT         00000000 RG    05   
PRV$V_SYSNAM   = 00000002            SET$T_PRQUAL     ********   X   05   
PRV$V_TMPMBX   = 0000000F            SET_CHAR         00000077 R     05   
PRV$V_VOLPRO   = 00000015            SET_PROT         00000298 R     05   
PRV$V_WORLD    = 00000010            SPOOL            0000009E R     05   
QDFLGS         = 00000002            SP_QUAL          00000064 R     03   
QUA_B_DEFVAL     00000002            SS$_IVDEVNAM     ********   X   05   
QUA_B_IMAGE      00000005            SS$_NOPRIV       ********   X   05   
QUA_B_INDEX      00000001            SS$_NORMAL       ********   X   05   
QUA_B_OFFSET     00000000            STRING_VAL       000000C2 R     03   
QUA_B_PARMCNT    00000008            SYS$ASSIGN       ********   X   05   
QUA_G_CHNGLST    00000006            SYS$CMKRNL       ********   X   05   
QUA_M_BATDEF   = 00000100            SYS$DASSGN       ********   X   05   
QUA_M_CHNGLIST = 00000001            SYS$GETCHN       ********   X   05   
QUA_M_DEFTRUE  = 00000080            SYS$GETJPI       ********   X   05   
QUA_M_FILE     = 00000004            SYS$QIOW         ********   X   05   
QUA_M_IMAGE    = 00000400            TYPE             00000025 R     03   
QUA_M_INTDEF   = 00000200            UCB1             00000010 R     03   
QUA_M_KEYVAL   = 00004000            UCB2             00000014 R     03   
QUA_M_LOCALKEY = 00000002            UIC              00000018 R     03   
QUA_M_NEG      = 00000040            
QUA_M_ONEVAL   = 00002000            
QUA_M_OUTPUT   = 00000800            
QUA_M_PARM     = 00000010            
QUA_M_VAL      = 00000020            
QUA_M_VALREQ   = 00001000            
QUA_M_VERB     = 00000008            
QUA_S_MAXPARM  = 00000004            
QUA_S_MINPARM  = 00000004            
QUA_V_BATDEF   = 00000008            
QUA_V_CHNGLIST = 00000000            
QUA_V_DEFTRUE  = 00000007            
SETDEV          - SET SPECIAL CHARACTERISTICS OF A DEVICE        21-AUG-1978 19:10:26   VAX-11 MACRO X0.3-11               Page  17
PROGRAM SECTION SYNOPSIS                                                                                                         (1)



PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
$ABS$            00000080      02     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
SET$RWDATA       000000DE      03     NOPIC   USR   CON   REL   LCL NOSHR NOEXE   RD    WRT LONG  
SET$PURE         00000030      04     NOPIC   USR   CON   REL   LCL NOSHR NOEXE   RD  NOWRT BYTE  
SET$CODE         000002BC      05     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD  NOWRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
3320. BYTES LEFT IN FREE MEMORY POOL.
3156. BYTES OF RECLAIMED MEMORY.
OBJ$:SETDEV,LIS$:SETDEV/-SP=EXECML$/ML,LIB$:CLIUTL/ML,SRC$:SETDEV
82 MLB DIR RDS - 1051 GETS TO DEFINE 40 MACROS. 82 INTER. FILE WRITES. 

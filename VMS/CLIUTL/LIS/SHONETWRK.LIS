SHOW_NETWORK    .IDENT /01 /                                     21-AUG-1978 19:24:27   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (2)     100  DECLARATIONS
   (3)     100  SHOW$_NETWORK - 
SHOW_NETWORK    .IDENT /01 /                                     21-AUG-1978 19:24:27   VAX-11 MACRO X0.3-11               Page   1
                                                                                                                                 (1)

                                     0000   100 	.TITLE	SHOW_NETWORK - 
                                     0000   200 	.IDENT	/01 /
                                     0000   300 
                                     0000   400 ;
                                     0000   500 ;			  COPYRIGHT (c) 1977 BY
                                     0000   600 ;	      DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
                                     0000   700 ;
                                     0000   800 ; THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND  COPIED
                                     0000   900 ; ONLY  IN  ACCORDANCE  WITH  THE  TERMS  OF  SUCH  LICENSE AND WITH THE
                                     0000  1000 ; INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE OR  ANY  OTHER
                                     0000  1100 ; COPIES  THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY
                                     0000  1200 ; OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE  IS  HEREBY
                                     0000  1300 ; TRANSFERRED.
                                     0000  1400 ;
                                     0000  1500 ; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE  WITHOUT  NOTICE
                                     0000  1600 ; AND  SHOULD  NOT  BE  CONSTRUED  AS  A COMMITMENT BY DIGITAL EQUIPMENT
                                     0000  1700 ; CORPORATION.
                                     0000  1800 ;
                                     0000  1900 ; DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE OR  RELIABILITY  OF  ITS
                                     0000  2000 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.
                                     0000  2100 ;
                                     0000  2200 
                                     0000  2300 ;++
                                     0000  2400 ; FACILITY:	CLI "SHOW" COMMAND
                                     0000  2500 ;
                                     0000  2600 ; ABSTRACT:	SHOW NETWORK, SHOWS CURRENT STATUS OF NETWORK
                                     0000  2700 ;
                                     0000  2800 ;
                                     0000  2900 ; ENVIRONMENT:
                                     0000  3000 ;	VAX/VMS OPERATING SYSTEM, V1.0 NETACP
                                     0000  3100 ;
                                     0000  3200 ; AUTHOR:TOM DOPIRAK	, CREATION DATE:APRIL 25,1978
                                     0000  3300 ;
                                     0000  3400 ; MODIFIED BY:
                                     0000  3500 ;
                                     0000  3600 ;	, : VERSION
                                     0000  3700 ; 01	- 
                                     0000  3800 ;--
SHOW_NETWORK    .IDENT /01 /                                     21-AUG-1978 19:24:27   VAX-11 MACRO X0.3-11               Page   2
                DECLARATIONS                                                                                                     (2)

                                     0000   100 	.SBTTL	DECLARATIONS
                                     0000   200 ;
                                     0000   300 ; INCLUDE FILES:
                                     0000   400 ;
                                     0000   500 
                                     0000   600 ;
                                     0000   700 ; MACROS:
                                     0000   800 ;
                                     0000   900 	$SSDEF
                                     0000  1000 	$IODEF
                                     0000  1100 
                                     0000  1200 ;
                                     0000  1300 ; EQUATED SYMBOLS:
                                     0000  1400 ;
                                     0000  1500 ;
                                     0000  1600 ;SYMBOLS FOR ACCESSING AND USING NFB
                                     0000  1700 
                           00000000  0000  1800 NFB$B_FUNC=0			;FUNCTION CODE IN NFB
                           00000001  0000  1900 NFB$L_PARAM=1			;PARAMETER LONGWORD IN NFB
                           0000000E  0000  2000 NFB$_NODENAMES=14		;FUNCTION CODE FORFETCHING NODENAMES
                           0000000B  0000  2100 NFB$_LOCSTATE=11		;CODE FOR GETTING LOCAL NODE STATE
                           00000012  0000  2200 NFB$_LOCNUM=18			;CODE FOR GETTING NODE NUMBER
                           00000008  0000  2300 NFB$_PATH=8			;CODE FOR GETTING PATH
                                     0000  2400 
                                 00000000  2500 	.PSECT	SHOW$RWDATA,NOEXE,LONG
                                     0000  2600 ;
                                     0000  2700 ; OWN STORAGE:
                                     0000  2800 ;
                                     0000  2900 
                                     0000  3000 ;
                                     0000  3100 ;STORAGE OF BUFFER OF COUNTED NODE NAMES AND DESCRIPTOR
                                     0000  3200 
                                     0000  3300 NAMES_DESC:
                  00000008'00000100  0000  3400 	.LONG	256,NAMES
                                     0008  3500 NAMES:
                           00000108  0008  3600 	.BLKB	256
                                     0108  3700 
                                     0108  3800 ;
                                     0108  3900 ;THE NFB(NETWORK FUNCTION BLOCK) AND DESCRIPTOR
                                     0108  4000 ;USED TO DICTATE NETACP CONTROL FUNCTION
                                     0108  4100 
                                     0108  4200 NFB_DESC:
                  00000110'00000005  0108  4300 	.LONG	5,NFB
                                     0110  4400 NFB:
                           00000115  0110  4500 	.BLKB	5
                                     0115  4600 
                                     0115  4700 ;
                                     0115  4800 ;DEVICE NAME FOR NETACP AND DESCRIPTOR
                                     0115  4900 
                                     0115  5000 NETACP_DESC:
                  0000011D'00000005  0115  5100 	.LONG	5,NETACP
                                     011D  5200 NETACP:
                     3A 30 54 45 4E  011D  5300 	.ASCII	/NET0:/
                                     0122  5400 
                                     0122  5500 ;DATABLOCK FOR A NODENAME
                                     0122  5600 
                                     0122  5700 NODE_DESC:
SHOW_NETWORK    .IDENT /01 /                                     21-AUG-1978 19:24:27   VAX-11 MACRO X0.3-11               Page   3
                DECLARATIONS                                                                                                     (2)

                  0000012A'00000000  0122  5800 	.LONG	0,NODE
                                     012A  5900 NODE:
                           00000133  012A  6000 	.BLKB	9
                                     0133  6100 ;
                                     0133  6200 ;DATABLOCKS FOR A LINENAME
                                     0133  6300 
                                     0133  6400 LINE_DESC:
                  0000013B'00000008  0133  6500 	.LONG	8,LINE
                                     013B  6600 LINE:
                           00000143  013B  6700 	.BLKB	8
                                     0143  6800 
                                     0143  6900 ;
                                     0143  7000 ;ASSORTED STORAGE
                                     0143  7100 
                                     0143  7200 CHANNEL:
                               0000  0143  7300 	.WORD	0		;CHANNEL TO NETACP
                                     0145  7400 RESULT_LEN:
                               0000  0145  7500 	.WORD	0		;HOLDS SIZE OF RESULTANT STRING
                                     0147  7600 IOSB:
                  00000000 00000000  0147  7700 	.LONG	0,0
                                     014F  7800 ;
                                     014F  7900 ;PARAMETER LIST FOR FAO CALL THAT SHOWS LOCAL INFO
                                     014F  8000 
                                     014F  8100 LOCAL_LIST:
                           00000000  014F  8200 	.LONG	0		;PARAM FOR FAO !%D,CURRENT TIME
                                     0153  8300 LOCAL_NAME:
                           00000008' 0153  8400 	.ADDRESS	NAMES	;FIRST NAME IN NAMES IS ALWAYS LOCAL
                                     0157  8500 LOCAL_NUMBER:
                           00000000  0157  8600 	.LONG	0
                                     015B  8700 LOCAL_STATE:
                           00000000  015B  8800 	.LONG	0		;ADDRESS OF STRING IN STATE_LIST
                                     015F  8900 ;
                                     015F  9000 ;PARAMETER LIST FOR FAO CALL SHOWING PATH TO REMOTE
                                     015F  9100 
                                     015F  9200 PATH_LIST:
                           00000000  015F  9300 	.LONG	0		;ADDRESS OF NODE NAME
                           00000004  0163  9400 	.LONG		4	;SIZE OF LINE NAME
                           0000013B' 0167  9500 	.ADDRESS	LINE	;ADDRESS LINE NAME
                                     016B  9600 ;
                                     016B  9700 ;TABLE INDEXED BY CODES FOR LEGAL NODE STATES
                                     016B  9800 STATE_LIST:
         0000017E'0000017A'00000177' 016B  9900 	.LONG	ON_STRING,OFF_STRING,SHUT_STRING
                           4E 4F 00' 0177 10000 ON_STRING:	.ASCIC	/ON/
                                 02  0177       
                        46 46 4F 00' 017A 10100 OFF_STRING:	.ASCIC	/OFF/
                                 03  017A       
                     54 55 48 53 00' 017E 10200 SHUT_STRING:	.ASCIC	/SHUT/
                                 04  017E       
                                     0183 10300 
SHOW_NETWORK    .IDENT /01 /                                     21-AUG-1978 19:24:27   VAX-11 MACRO X0.3-11               Page   4
                SHOW$_NETWORK -                                                                                                  (3)

                                     0183   100 	.SBTTL	SHOW$_NETWORK - 
                                     0183   200 ;++
                                     0183   300 ; FUNCTIONAL DESCRIPTION:
                                     0183   400 ;
                                     0183   500 ;	SHOW NETWORK SHOWS THE STATUS OF THE LOCAL NODE
                                     0183   600 ;	AS A NETWORK MEMBER.  IF THE LOCAL IS ACTIVE ITS
                                     0183   700 ;	NAME,NUMBER AND STATE ARE PRESENTED. ALSO
                                     0183   800 ;	THE LIST OF KNOWN REMOTES AND THEIR PATHS IS GIVEN
                                     0183   900 ;		
                                     0183  1000 ;	GENERAL REGISTER USAGE
                                     0183  1100 ;
                                     0183  1200 ;		R2: ADDRESS OF QIO P2 PARAMETER
                                     0183  1300 ;		R3: ADDRESS OF QIO P3 PARAMETER
                                     0183  1400 ;		R4: ADDRESS OF QIO P4 PARAMETER
                                     0183  1500 ;		R7; ADDRESS OF SHOW PRINT UTILITY
                                     0183  1600 ;		R8: ADDRESS OF CURRENT NODE NAME IN NAMES BUFFER
                                     0183  1700 ;		R9: UPPER BOUND OF NAMES BUFFER
                                     0183  1800 ;		R10: ADDRESS OF NFB FUNCTION BYTE
                                     0183  1900 ;		R11: ADDRESS OF NFB PARAMETER WORD
                                     0183  2000 ;
                                     0183  2100 ; CALLING SEQUENCE:
                                     0183  2200 ;
                                     0183  2300 ;	CALLED AS AN ACTION ROUTINE OF "SHOW"
                                     0183  2400 ;
                                     0183  2500 ; INPUT PARAMETERS:
                                     0183  2600 ;
                                     0183  2700 ;	NONE
                                     0183  2800 ;
                                     0183  2900 ; IMPLICIT INPUTS:
                                     0183  3000 ;
                                     0183  3100 ;	NONE
                                     0183  3200 ;
                                     0183  3300 ; OUTPUT PARAMETERS:
                                     0183  3400 ;
                                     0183  3500 ;	NONE
                                     0183  3600 ;
                                     0183  3700 ; IMPLICIT OUTPUTS:
                                     0183  3800 ;
                                     0183  3900 ;	SHOW$L_STATUS IS SET TO THE FINAL STATUS OF THE COMMAND
                                     0183  4000 ;
                                     0183  4100 ; COMPLETION CODES:
                                     0183  4200 ;
                                     0183  4300 ;	ON ANY SYSTEM SERVICE FAILURE, THE FAILURE IS RETURNED
                                     0183  4400 ;	IF SUCCESS OR IF NETACP NOT MOUNTED, SUCCESS IS RETURNED
                                     0183  4500 ;
                                     0183  4600 ; SIDE EFFECTS:
                                     0183  4700 ;
                                     0183  4800 ;	NONE
                                     0183  4900 ;
                                     0183  5000 ;--
                                     0183  5100 
                                     0183  5200 
                                     0183  5300 
                                 00000000  5400 	.PSECT	SHOW$CODE,NOWRT
                                     0000  5500 SHOW$NETWORK::
                                     0000  5600 
                                     0000  5700 
SHOW_NETWORK    .IDENT /01 /                                     21-AUG-1978 19:24:27   VAX-11 MACRO X0.3-11               Page   5
                SHOW$_NETWORK -                                                                                                  (3)

                               0F9C  0000  5800 	.WORD	^M<R2,R3,R4,R7,R8,R9,R10,R11>
                                     0002  5900 ;
                                     0002  6000 ;INITIALIZE POINTERS TO NFB FIELDS
                                     0002  6100 
            5A       0110'CF     DE  0002  6200 	MOVAL	W^NFB,R10			;ADDRESS NFB FUNCTION CODE
            5B         01 AA     DE  0007  6300 	MOVAL	NFB$L_PARAM(R10),R11		;ADDRESS NFB PARAMETER WORD
                                     000B  6400 ;
                                     000B  6500 ;ASSORTED OTHER INITIALIZATION
                                     000B  6600 
            57       0000'CF     3E  000B  6700 	MOVAW	W^SHOW$PRINT_MSG,R7		;ADDRESS PRINT ROUTINE
                                     0010  6800 ;
                                     0010  6900 ;TRY AND CONNECT TO NETWORK ACP
                                     0010  7000 
                                     0010  7100 	$ASSIGN_S	CHAN=W^CHANNEL,DEVNAM=W^NETACP_DESC
            06            50     E8  0021  7200 	BLBS	R0,7$				;SKIP IF SUCCESS
       0000'CF            50     B0  0024  7300 	MOVW	R0,W^SHOW$L_STATUS		;SAVE ERROR CODE
                                 04  0029  7400 	RET
                                     002A  7500 
                                     002A  7600 ;
                                     002A  7700 ;GET THE LIST OF KNOWN NODES
                                     002A  7800 7$:
                                     002A  7900 
            6A            0E     90  002A  8000 	MOVB	#NFB$_NODENAMES,(R10)		;SET FUNCTION TYPE
            54       0000'CF     7E  002D  8100 	MOVAQ	W^NAMES_DESC,R4			;ADDRESS RESULT DESCRIPTOR
            53       0145'CF     3E  0032  8200 	MOVAW	W^RESULT_LEN,R3			;ADDRESS RESULT LENGTH
                          52     D4  0037  8300 	CLRL	R2				;IGNORE P2 PARAM
                          0107   30  0039  8400 	BSBW	DO_QIOW				;DO ACP CONTROL QIO
                                     003C  8500 
                          00CD   30  003C  8600 	BSBW	CHECK_IF_NET			;CHECK FOR ERRORS AND THE SPECIAL
                                     003F  8700 						;CASE OF NOT MOUNTED ACP
                                     003F  8800 
                                     003F  8900 ;
                                     003F  9000 ;GET THE LOCAL NODE NUMBER
                                     003F  9100 
            6A            12     90  003F  9200 	MOVB	#NFB$_LOCNUM,(R10)		;SET ACP FUNCTION
       0008'CF            01     81  0042  9300 	ADDB3	#1,W^NAMES,W^NODE_DESC		;LENGTH OF COUNTED LOCAL NAME
                     0122'CF         0047       
       0008'CF       0122'CF     28  004A  9400 	MOVC3	W^NODE_DESC,W^NAMES,W^NODE	;MOVE COUNTED LOCAL NAME
                     012A'CF         0051       
            52       0122'CF     7E  0054  9500 	MOVAQ	W^NODE_DESC,R2			;NODENAME DESCRIPTOR
                          53     7C  0059  9600 	CLRQ	R3				;IGNORE R3 AND R4
                          00E5   30  005B  9700 	BSBW	DO_QIOW				;DO ACP CONTROL QIOW
                          00C9   30  005E  9800 	BSBW	CHECKIO				;CHECK FOR IO ERROR
                                     0061  9900 ;
                                     0061 10000 ;CONVERT EXTENSIBLE FORM TO BINARY
                                     0061 10100 
            07            00     EF  0061 10200 	EXTZV	#0,#7,(R11),W^LOCAL_NUMBER	;LOWER 7 BITS
       0157'CF            6B         0064       
            6B            07     E1  0068 10300 	BBC	#7,(R11),8$			;BR IF DONE
                          0C         006B       
            07            08     EF  006C 10400 	EXTZV	#8,#7,(R11),R0			;HIGHER 7 BITS
            50            6B         006F       
            07            50     F0  0071 10500 	INSV	R0,#7,#7,W^LOCAL_NUMBER
       0157'CF            07         0074       
                                     0078 10600 
                                     0078 10700 ;
                                     0078 10800 ;GET THE LOCAL NODE STATE
SHOW_NETWORK    .IDENT /01 /                                     21-AUG-1978 19:24:27   VAX-11 MACRO X0.3-11               Page   6
                SHOW$_NETWORK -                                                                                                  (3)

                                     0078 10900 8$:
                                     0078 11000 
            6A            0B     90  0078 11100 	MOVB	#NFB$_LOCSTATE,(R10)		;SET FUNCTION
                          52     D4  007B 11200 	CLRL	R2				;IGNORE P2
                          53     7C  007D 11300 	CLRQ	R3				;IGNORE P3 AND P4
                          00C1   30  007F 11400 	BSBW	DO_QIOW				;DO ACP CONTROL QIOW
                          00A5   30  0082 11500 	BSBW	CHECKIO				;CHECK FOR IO ERROR
            50            6B     D0  0085 11600 	MOVL	(R11),R0			;GET STATE CODE
       015B'CF       016B'CF40   D0  0088 11700 	MOVL	W^STATE_LIST[R0],W^LOCAL_STATE	;SAVE ADDRESS OF COUNTED TEXT
                                     0090 11800 
                                     0090 11900 ;
                                     0090 12000 ;OUTPUT LOCAL NODE INFORMATION
                                     0090 12100 
            7E       0000'8F     3C  0090 12200 	MOVZWL	#SHOW$_NET,-(SP)
                     014F'CF     DF  0095 12300 	PUSHAL	W^LOCAL_LIST			;ADDRESS OF PARAM LIST
            67            02     FB  0099 12400 	CALLS	#2,(R7)				;PRINT  THE MESSAGE
                                     009C 12500 
SHOW_NETWORK    .IDENT /01 /                                     21-AUG-1978 19:24:27   VAX-11 MACRO X0.3-11               Page   7
                SHOW$_NETWORK -                                                                                                  (4)

                                     009C   100 ;GET THE BOUNDS OF THE NODE NAME STRING
                                     009C   200 ;AND CONSIDER THE SPECIAL CASE OF NO ACTIVE
                                     009C   300 ;REMOTE NODES
                                     009C   400 ;
                                     009C   500 ;FIND THE LINE ASSOCIATED WITH EACH REMAINING
                                     009C   600 ;NODE NAME IN NAMES,IF ANY
                                     009C   700 
            59       0145'CF     3C  009C   800 	MOVZWL	W^RESULT_LEN,R9				;LEN OF NAMES STRING
            58       0008'CF     DE  00A1   900 	MOVAL	W^NAMES,R8			;START OF NAMES STRIGN
            59            58     C0  00A6  1000 	ADDL2	R8,R9				;END OF NAME STRING
            50            88     9A  00A9  1100 	MOVZBL	(R8)+,R0			;SIZE OF LOCAL NAME
            58            50     C0  00AC  1200 	ADDL2	R0,R8				;MOVE PASSED LOCAL NAME
            59            58     D1  00AF  1300 	CMPL	R8,R9				;SEE IF EMPTY STRING
                          0D     12  00B2  1400 	BNEQU	9$				;BR IF ANY REMOTES
                                     00B4  1500 ;
                                     00B4  1600 ;DISPLAY THAT THERE ARE NO CONNECTED REMOTES
                                     00B4  1700 
            7E       0000'8F     3C  00B4  1800 	MOVZWL	#SHOW$_NET_NORMT,-(SP)		;CODE FOR TEXT
                          00     DD  00B9  1900 	PUSHL	#0				;EMPTY PARAMETER LIST
            67            02     FB  00BB  2000 	CALLS	#2,(R7)				;PRINT MSG
                          005C   31  00BE  2100 	BRW	ERROR_RET
                                     00C1  2200 ;
                                     00C1  2300 ;HEADER FOR PATH TO REMOTES
                                     00C1  2400 9$:
                                     00C1  2500 
            7E       0000'8F     3C  00C1  2600 	MOVZWL	#SHOW$_NET_RMTHD,-(SP)
                          00     DD  00C6  2700 	PUSHL	#0
            67            02     FB  00C8  2800 	CALLS	#2,(R7)				;PRINT MSG
            6A            08     90  00CB  2900 	MOVB	#NFB$_PATH,(R10)		;SET FUNCTION TYPE
            52       0122'CF     7E  00CE  3000 	MOVAQ	W^NODE_DESC,R2			;RMT NODE NAME DESC
            53       0145'CF     3E  00D3  3100 	MOVAW	W^RESULT_LEN,R3			;SIZE OF RESULT
            54       0133'CF     7E  00D8  3200 	MOVAQ	W^LINE_DESC,R4			;LINE NAME DESC
                                     00DD  3300 
                                     00DD  3400 10$:
                                     00DD  3500 ;
                                     00DD  3600 ;MAIN LOOP FOR EXTRACTING NODE NAMES
                                     00DD  3700 
            59            58     D1  00DD  3800 	CMPL	R8,R9				;CHECK FOR EMPTY STRING
                          3B     13  00E0  3900 	BEQLU	ERROR_RET			;LEAVE IF EMPTY
            01            68     81  00E2  4000 	ADDB3	(R8),#1,W^NODE_DESC		;SIZE OF COUNTED STRING
                     0122'CF         00E5       
       0126'CF            68     DE  00E8  4100 	MOVAL	(R8),W^NODE_DESC+4		;ADDRESS OF NAME
                          0053   30  00ED  4200 	BSBW	DO_QIOW
                          0037   30  00F0  4300 	BSBW	CHECKIO				;CHECK FOR IO ERROR
                                     00F3  4400 ;
                                     00F3  4500 ;PRINT THE NODE NAME LINE NAME PAIR
                                     00F3  4600 
       015F'CF            68     DE  00F3  4700 	MOVAL	(R8),W^PATH_LIST		;MOVE CURRENT NAME TO LIST
            7E       0000'8F     3C  00F8  4800 	MOVZWL	#SHOW$_NET_PATH,-(SP)
                     015F'CF     DF  00FD  4900 	PUSHAL	W^PATH_LIST			;ADDRESS OF PARAM LIST
            67            02     FB  0101  5000 	CALLS	#2,(R7)				;WRITE MESSAGE
            50            88     9A  0104  5100 	MOVZBL	(R8)+,R0			;SIZE OF NODE STRING
            58            50     C0  0107  5200 	ADDL2	R0,R8				;SKIP PASSED NODE NAME
                          D1     11  010A  5300 	BRB	10$				;PRINT NEXT PAIR
                                     010C  5400 
SHOW_NETWORK    .IDENT /01 /                                     21-AUG-1978 19:24:27   VAX-11 MACRO X0.3-11               Page   8
                SHOW$_NETWORK -                                                                                                  (5)

                                     010C   100 ;
                                     010C   200 ;MAKE SURE ACP IS MOUNTED BEFORE CHECKING FOR IO ERROR
                                     010C   300 CHECK_IF_NET:
                                     010C   400 
       007C 8F            50     B1  010C   500 	CMPW	R0,#SS$_DEVNOTMOUNT		;CHECK FOR NOT MOUNTED ACP
                          17     12  0111   600 	BNEQU	CHECKIO
            7E       0000'8F     3C  0113   700 	MOVZWL	#SHOW$_NET_NONE,-(SP)
                          00     DD  0118   800 	PUSHL	#0
            67            02     FB  011A   900 	CALLS	#2,(R7)				;PRINT MSG
                                     011D  1000 ERROR_RET:
                                     011D  1100 	$DASSGN_S	CHAN=W^CHANNEL
                                 04  0129  1200 	RET
                                     012A  1300 
                                     012A  1400 ;
                                     012A  1500 ;ROUTINE TO CHECK IO SERVICE AND IO COMPLETION CODES
                                     012A  1600 CHECKIO:
            07            50     E8  012A  1700 	BLBS	R0,10$				;BR IF IO SERVICE RETURN OK
       0000'CF            50     B0  012D  1800 	MOVW	R0,W^SHOW$L_STATUS		;SAVE ERROR CODE
                          E9     11  0132  1900 	BRB	ERROR_RET			;RETURN
                                     0134  2000 10$:
            09       0147'CF     E8  0134  2100 	BLBS	W^IOSB,20$			;BR IF IO COMPLETED OK
       0000'CF       0147'CF     B0  0139  2200 	MOVW	W^IOSB,W^SHOW$L_STATUS		;SAVE ERROR CODE
                          DB     11  0140  2300 	BRB	ERROR_RET			;RETURN ERROR
                                     0142  2400 20$:
                                 05  0142  2500 	RSB
                                     0143  2600 ;
                                     0143  2700 ;ROUTINE TO PERFORM AND CHECK ACP CONTROL QIOWS
                                     0143  2800 ;	R2=ADDRESS P2 PARAMETER
                                     0143  2900 ;	R3=ADDRESS P3 PARAMETER
                                     0143  3000 ;	R4=ADDRESS P4 PARAMETER
                                     0143  3100 
                                     0143  3200 DO_QIOW:
                                     0143  3300 	$QIOW_S	FUNC=S^#IO$_ACPCONTROL,-
                                     0143  3400 		IOSB=W^IOSB,-
                                     0143  3500 		CHAN=W^CHANNEL,-
                                     0143  3600 		P1=W^NFB_DESC,-
                                     0143  3700 		P2=R2,-
                                     0143  3800 		P3=R3,-
                                     0143  3900 		P4=R4
                                 05  0166  4000 	RSB
                                     0167  4100 	.END
SHOW_NETWORK    .IDENT /01 /                                     21-AUG-1978 19:24:27   VAX-11 MACRO X0.3-11               Page   9
SYMBOL TABLE                                                                                                                     (5)

$$T1           = 00000001            IO$V_CVTLOW    = 00000008            IO$_SEARCH     = 00000009            
BIT...         = 0000000A            IO$V_DATACHECK = 0000000E            IO$_SEEK       = 00000002            
CHANNEL          00000143 R     03   IO$V_DELETE    = 00000008            IO$_SENSECHAR  = 0000001B            
CHECKIO          0000012A R     04   IO$V_DMOUNT    = 0000000A            IO$_SENSEMODE  = 00000027            
CHECK_IF_NET     0000010C R     04   IO$V_DSABLMBX  = 0000000A            IO$_SETCHAR    = 0000001A            
DO_QIOW          00000143 R     04   IO$V_ENABLMBX  = 00000007            IO$_SETMODE    = 00000023            
ERROR_RET        0000011D R     04   IO$V_FCODE     = 00000000            IO$_SKIPFILE   = 00000025            
GBL...         = 00000000            IO$V_HANGUP    = 00000009            IO$_SKIPRECORD = 00000026            
IO$M_ABORT     = 00000100            IO$V_INHERLOG  = 0000000B            IO$_SPACEFILE  = 00000002            
IO$M_ACCESS    = 00000040            IO$V_INHEXTGAP = 0000000C            IO$_SPACERECORD= 00000009            
IO$M_ATTNAST   = 00000100            IO$V_INHRETRY  = 0000000F            IO$_STARTSPNDL = 00000019            
IO$M_BINARY    = 00000040            IO$V_INHSEEK   = 0000000C            IO$_UNLOAD     = 00000001            
IO$M_CANCTRLO  = 00000040            IO$V_INTERRUPT = 00000006            IO$_VIRTUAL    = 0000003F            
IO$M_COMMOD    = 00000040            IO$V_INTSKIP   = 00000008            IO$_WRITECHECK = 0000000A            
IO$M_CREATE    = 00000080            IO$V_MOUNT     = 00000009            IO$_WRITECHECKH= 00000018            
IO$M_CTRLCAST  = 00000100            IO$V_NOECHO    = 00000006            IO$_WRITEHEAD  = 0000000D            
IO$M_CTRLYAST  = 00000080            IO$V_NOFILTR   = 00000009            IO$_WRITELBLK  = 00000020            
IO$M_CVTLOW    = 00000100            IO$V_NOFORMAT  = 00000008            IO$_WRITEMARK  = 0000001C            
IO$M_DATACHECK = 00004000            IO$V_NOW       = 00000006            IO$_WRITEOF    = 00000028            
IO$M_DELETE    = 00000100            IO$V_NOWAIT    = 00000007            IO$_WRITEPBLK  = 0000000B            
IO$M_DMOUNT    = 00000400            IO$V_PACKED    = 00000007            IO$_WRITETRACKD= 0000000F            
IO$M_DSABLMBX  = 00000400            IO$V_PURGE     = 0000000B            IO$_WRITEVBLK  = 00000030            
IO$M_ENABLMBX  = 00000080            IO$V_READATTN  = 00000007            IOSB             00000147 R     03   
IO$M_FCODE     = 0000003F            IO$V_REVERSE   = 00000006            LINE             0000013B R     03   
IO$M_HANGUP    = 00000200            IO$V_SHUTDOWN  = 00000007            LINE_DESC        00000133 R     03   
IO$M_INHERLOG  = 00000800            IO$V_STARTUP   = 00000006            LOCAL_LIST       0000014F R     03   
IO$M_INHEXTGAP = 00001000            IO$V_SYNCH     = 00000009            LOCAL_NAME       00000153 R     03   
IO$M_INHRETRY  = 00008000            IO$V_TIMED     = 00000007            LOCAL_NUMBER     00000157 R     03   
IO$M_INHSEEK   = 00001000            IO$V_TRMNOECHO = 0000000C            LOCAL_STATE      0000015B R     03   
IO$M_INTERRUPT = 00000040            IO$V_WRTATTN   = 00000008            NAMES            00000008 R     03   
IO$M_INTSKIP   = 00000100            IO$_ACCESS     = 00000032            NAMES_DESC       00000000 R     03   
IO$M_MOUNT     = 00000200            IO$_ACPCONTROL = 00000038            NETACP           0000011D R     03   
IO$M_NOECHO    = 00000040            IO$_CREATE     = 00000033            NETACP_DESC      00000115 R     03   
IO$M_NOFILTR   = 00000200            IO$_DEACCESS   = 00000034            NFB              00000110 R     03   
IO$M_NOFORMAT  = 00000100            IO$_DELETE     = 00000035            NFB$B_FUNC     = 00000000            
IO$M_NOW       = 00000040            IO$_DIAGNOSE   = 0000001D            NFB$L_PARAM    = 00000001            
IO$M_NOWAIT    = 00000080            IO$_DRVCLR     = 00000004            NFB$_LOCNUM    = 00000012            
IO$M_PACKED    = 00000080            IO$_ERASETAPE  = 00000006            NFB$_LOCSTATE  = 0000000B            
IO$M_PURGE     = 00000800            IO$_LOGICAL    = 0000002F            NFB$_NODENAMES = 0000000E            
IO$M_READATTN  = 00000080            IO$_MODIFY     = 00000036            NFB$_PATH      = 00000008            
IO$M_REVERSE   = 00000040            IO$_MOUNT      = 00000039            NFB_DESC         00000108 R     03   
IO$M_SHUTDOWN  = 00000080            IO$_NOP        = 00000000            NODE             0000012A R     03   
IO$M_STARTUP   = 00000040            IO$_OFFSET     = 00000006            NODE_DESC        00000122 R     03   
IO$M_SYNCH     = 00000200            IO$_PACKACK    = 00000008            OFF_STRING       0000017A R     03   
IO$M_TIMED     = 00000080            IO$_PHYSICAL   = 0000001F            ON_STRING        00000177 R     03   
IO$M_TRMNOECHO = 00001000            IO$_READHEAD   = 0000000E            PATH_LIST        0000015F R     03   
IO$M_WRTATTN   = 00000100            IO$_READLBLK   = 00000021            RESULT_LEN       00000145 R     03   
IO$S_FCODE     = 00000006            IO$_READPBLK   = 0000000C            SHOW$L_STATUS    ********   X   04   
IO$V_ABORT     = 00000008            IO$_READPRESET = 00000019            SHOW$NETWORK     00000000 RG    04   
IO$V_ACCESS    = 00000006            IO$_READPROMPT = 00000037            SHOW$PRINT_MSG   ********   X   04   
IO$V_ATTNAST   = 00000008            IO$_READTRACKD = 00000010            SHOW$_NET        ********   X   04   
IO$V_BINARY    = 00000006            IO$_READVBLK   = 00000031            SHOW$_NET_NONE   ********   X   04   
IO$V_CANCTRLO  = 00000006            IO$_RECAL      = 00000003            SHOW$_NET_NORMT  ********   X   04   
IO$V_COMMOD    = 00000006            IO$_RELEASE    = 00000005            SHOW$_NET_PATH   ********   X   04   
IO$V_CREATE    = 00000007            IO$_RETCENTER  = 00000007            SHOW$_NET_RMTHD  ********   X   04   
IO$V_CTRLCAST  = 00000008            IO$_REWIND     = 00000024            SHUT_STRING      0000017E R     03   
IO$V_CTRLYAST  = 00000007            IO$_REWINDOFF  = 00000022            SS$_ABORT      = 0000002C            
SHOW_NETWORK    .IDENT /01 /                                     21-AUG-1978 19:24:27   VAX-11 MACRO X0.3-11               Page  10
SYMBOL TABLE                                                                                                                     (5)

SS$_ACCONFLICT = 00000800            SS$_FCPREADERR = 00000888            SS$_MBFULL     = 000008D8            
SS$_ACCVIO     = 0000000C            SS$_FCPREPSTN  = 00000988            SS$_MBTOOSML   = 0000019C            
SS$_ACPVAFUL   = 000002FC            SS$_FCPREWNDERR= 00000890            SS$_MCHECK     = 000002BC            
SS$_ARTRES     = 00000474            SS$_FCPSPACERR = 00000898            SS$_MEDOFL     = 000001A4            
SS$_ASTFLT     = 0000040C            SS$_FCPWRITERR = 000008A0            SS$_MSGNOTFND  = 00000621            
SS$_BADATTRIB  = 00000034            SS$_FILACCERR  = 0000009C            SS$_MTLBLLONG  = 00000304            
SS$_BADCHKSUM  = 00000808            SS$_FILALRACC  = 000000A4            SS$_MUSTCLOSEFL= 00000948            
SS$_BADESCAPE  = 0000003C            SS$_FILELOCKED = 000008A8            SS$_NOAQB      = 00000314            
SS$_BADFILEHDR = 00000810            SS$_FILENUMCHK = 000008B0            SS$_NODATA     = 000001AC            
SS$_BADFILENAME= 00000818            SS$_FILESEQCHK = 000008B8            SS$_NOHANDLER  = 000008F8            
SS$_BADFILEVER = 00000820            SS$_FILESTRUCT = 000008C0            SS$_NOHOMEBLK  = 000008E0            
SS$_BADIMGHDR  = 00000044            SS$_FILNOTACC  = 000000AC            SS$_NOIOCHAN   = 000001B4            
SS$_BADIRECTORY= 00000828            SS$_FILNOTCNTG = 000002AC            SS$_NOLINKS    = 0000027C            
SS$_BADPARAM   = 00000014            SS$_FILNOTEXP  = 000000B4            SS$_NOLOGNAM   = 000001BC            
SS$_BADSTACK   = 000002B4            SS$_FLTDIV     = 00000494            SS$_NOMBX      = 00000274            
SS$_BEGOFFILE  = 00000938            SS$_FLTOVF     = 0000048C            SS$_NOMOREFILES= 00000930            
SS$_BLOCKCNTERR= 00000940            SS$_FLTUND     = 0000049C            SS$_NONEXDRV   = 000001C4            
SS$_BREAK      = 00000414            SS$_FORMAT     = 000000BC            SS$_NONEXPR    = 000008E8            
SS$_BUFBYTALI  = 0000030C            SS$_GPTFULL    = 000000C4            SS$_NONLOCAL   = 000008F0            
SS$_BUFFEROVF  = 00000601            SS$_GSDFULL    = 000000CC            SS$_NOPRIV     = 00000024            
SS$_BUGCHECK   = 000002A4            SS$_HANGUP     = 000002CC            SS$_NORMAL     = 00000001            
SS$_CANCEL     = 00000830            SS$_HEADERFULL = 000008C8            SS$_NOSIGNAL   = 00000900            
SS$_CHANINTLK  = 0000004C            SS$_IDXFILEFULL= 000008D0            SS$_NOSOLICIT  = 00000284            
SS$_CLIFRCEXT  = 00000980            SS$_ILLBLKNUM  = 000000DC            SS$_NOSUCHDEV  = 00000908            
SS$_CMODSUPR   = 0000041C            SS$_ILLCNTRFUNC= 000000E4            SS$_NOSUCHFILE = 00000910            
SS$_CMODUSER   = 00000424            SS$_ILLEFC     = 000000EC            SS$_NOSUCHNODE = 0000028C            
SS$_COMPAT     = 0000042C            SS$_ILLIOFUNC  = 000000F4            SS$_NOSUCHSEC  = 00000978            
SS$_CONTINUE   = 00000001            SS$_ILLLBLAST  = 00000968            SS$_NOTAPEOP   = 00000264            
SS$_CONTROLC   = 00000651            SS$_ILLPAGCNT  = 000000FC            SS$_NOTFILEDEV = 000001CC            
SS$_CONTROLO   = 00000609            SS$_ILLSEQOP   = 000002DC            SS$_NOTINTBLSZ = 000001D4            
SS$_CONTROLY   = 00000611            SS$_ILLSER     = 00000104            SS$_NOTLABELMT = 000001DC            
SS$_CREATED    = 00000619            SS$_ILLUSRLBLRD= 00000958            SS$_NOTMODIFIED= 00000659            
SS$_CTRLERR    = 00000054            SS$_ILLUSRLBLWT= 00000960            SS$_NOTNETDEV  = 000002EC            
SS$_DATACHECK  = 0000005C            SS$_INCVOLLABEL= 0000010C            SS$_NOTRAN     = 00000629            
SS$_DATAOVERUN = 00000838            SS$_INSFARG    = 00000114            SS$_NOTSQDEV   = 000001E4            
SS$_DEBUG      = 0000046C            SS$_INSFMEM    = 00000124            SS$_OPCCUS     = 00000434            
SS$_DECOVF     = 000004A4            SS$_INSFRAME   = 0000012C            SS$_OPCDEC     = 0000043C            
SS$_DEVACTIVE  = 000002C4            SS$_INSFWSL    = 0000011C            SS$_OPINCOMPL  = 000002D4            
SS$_DEVALLOC   = 00000840            SS$_INTDIV     = 00000484            SS$_PAGOWNVIO  = 000001EC            
SS$_DEVALRALLOC= 00000641            SS$_INTOVF     = 0000047C            SS$_PAGRDERR   = 00000444            
SS$_DEVASSIGN  = 00000848            SS$_IVADDR     = 00000134            SS$_PARITY     = 000001F4            
SS$_DEVFOREIGN = 00000064            SS$_IVCHAN     = 0000013C            SS$_PARTESCAPE = 000001FC            
SS$_DEVICEFULL = 00000850            SS$_IVCHNLSEC  = 0000026C            SS$_PFMBSY     = 00000204            
SS$_DEVMOUNT   = 0000006C            SS$_IVDEVNAM   = 00000144            SS$_PLHLDR     = 00000404            
SS$_DEVNOTALLOC= 00000858            SS$_IVGSDNAM   = 0000014C            SS$_PSTFULL    = 0000020C            
SS$_DEVNOTMBX  = 00000074            SS$_IVLOGNAM   = 00000154            SS$_RADRMOD    = 0000044C            
SS$_DEVNOTMOUNT= 0000007C            SS$_IVLOGTAB   = 0000015C            SS$_REJECT     = 00000294            
SS$_DEVOFFLINE = 00000084            SS$_IVPROTECT  = 000002F4            SS$_REMOTE     = 00000649            
SS$_DIRFULL    = 00000860            SS$_IVQUOTAL   = 00000164            SS$_RESIGNAL   = 00000918            
SS$_DRVERR     = 0000008C            SS$_IVSECFLG   = 0000016C            SS$_RESULTOVF  = 00000214            
SS$_DUPFILENAME= 00000868            SS$_IVSECIDCTL = 000002E4            SS$_ROPRAND    = 00000454            
SS$_DUPLNAM    = 00000094            SS$_IVSSRQ     = 00000174            SS$_SECTBLFUL  = 0000021C            
SS$_ENDOFFILE  = 00000870            SS$_IVSTSFLG   = 0000017C            SS$_SSFAIL     = 0000045C            
SS$_ENDOFTAPE  = 00000878            SS$_IVTIME     = 00000184            SS$_SUBRNG     = 000004AC            
SS$_ENDOFUSRLBL= 00000970            SS$_LCKPAGFUL  = 000000D4            SS$_SUPERSEDE  = 00000631            
SS$_EXQUOTA    = 0000001C            SS$_LENVIO     = 0000018C            SS$_TAPEPOSLOST= 00000224            
SS$_EXTIDXFILE = 00000880            SS$_LKWSETFUL  = 00000194            SS$_TBIT       = 00000464            
SHOW_NETWORK    .IDENT /01 /                                     21-AUG-1978 19:24:27   VAX-11 MACRO X0.3-11               Page  11
SYMBOL TABLE                                                                                                                     (5)

SS$_TIMEOUT    = 0000022C            
SS$_TOOMANYVER = 00000990            
SS$_TOOMUCHDATA= 0000029C            
SS$_UNASEFC    = 00000234            
SS$_UNSAFE     = 0000023C            
SS$_UNWIND     = 00000920            
SS$_UNWINDING  = 00000928            
SS$_VASFULL    = 00000244            
SS$_VECINUSE   = 0000024C            
SS$_VOLINV     = 00000254            
SS$_WAITUSRLBL = 00000950            
SS$_WASCLR     = 00000001            
SS$_WASECC     = 00000639            
SS$_WASSET     = 00000009            
SS$_WRITLCK    = 0000025C            
SS$_WRONGACP   = 0000031C            
STATE_LIST       0000016B R     03   
SYS$ASSIGN       ********   X   04   
SYS$DASSGN       ********   X   04   
SYS$QIOW         ********   X   04   


PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
$ABS$            00000000      02     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
SHOW$RWDATA      00000183      03     NOPIC   USR   CON   REL   LCL NOSHR NOEXE   RD    WRT LONG  
SHOW$CODE        00000167      04     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD  NOWRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
14984. BYTES LEFT IN FREE MEMORY POOL.
2396. BYTES OF RECLAIMED MEMORY.
OBJ$:SHONETWRK,LIS$:SHONETWRK/-SP=EXECML$/ML,LIB$:CLIUTL/ML,SRC$:SHONETWRK
36 MLB DIR RDS - 537 GETS TO DEFINE 17 MACROS. 44 INTER. FILE WRITES. 

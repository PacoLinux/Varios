PUTCLIMSG       - PRINT CLI ERROR MESSAGE                        21-AUG-1978 18:59:30   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (1)      41  DECLARATIONS
   (1)      76  LIB$PUTCLIMSG - PRINT SYNTAX ERROR MESSAGE THEN
PUTCLIMSG       - PRINT CLI ERROR MESSAGE                        21-AUG-1978 18:59:30   VAX-11 MACRO X0.3-11               Page   1
00                                                                                                                               (1)

                                     0000     1 	.TITLE	PUTCLIMSG - PRINT CLI ERROR MESSAGE
                                     0000     2 	.IDENT	/00/
                                     0000     3 
                                     0000     4 ;
                                     0000     5 ;			  COPYRIGHT (c) 1978 BY
                                     0000     6 ;	      DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
                                     0000     7 ;
                                     0000     8 ; THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND  COPIED
                                     0000     9 ; ONLY  IN  ACCORDANCE  WITH  THE  TERMS  OF  SUCH  LICENSE AND WITH THE
                                     0000    10 ; INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE OR  ANY  OTHER
                                     0000    11 ; COPIES  THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY
                                     0000    12 ; OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE  IS  HEREBY
                                     0000    13 ; TRANSFERRED.
                                     0000    14 ;
                                     0000    15 ; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE  WITHOUT  NOTICE
                                     0000    16 ; AND  SHOULD  NOT  BE  CONSTRUED  AS  A COMMITMENT BY DIGITAL EQUIPMENT
                                     0000    17 ; CORPORATION.
                                     0000    18 ;
                                     0000    19 ; DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE OR  RELIABILITY  OF  ITS
                                     0000    20 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.
                                     0000    21 ;
                                     0000    22 
                                     0000    23 ;++
                                     0000    24 ; FACILITY: COMMAND LANGUAGE INTERPRETER UTILITIES
                                     0000    25 ;
                                     0000    26 ; ABSTRACT:
                                     0000    27 ;
                                     0000    28 ; THIS ROUTINE PRINTS A MESSAGE FOR ALL SYNTAX ERRORS DETECTED BY A CLI
                                     0000    29 ; UTILITY.
                                     0000    30 ;
                                     0000    31 ; ENVIRONMENT: USER MODE
                                     0000    32 ;
                                     0000    33 ; AUTHOR: C. A. MONIA	, CREATION DATE: 16-JUNE-1978
                                     0000    34 ;
                                     0000    35 ; MODIFIED BY:
                                     0000    36 ;
                                     0000    37 ;	, : VERSION
                                     0000    38 ; 01	- 
                                     0000    39 ;--
PUTCLIMSG       - PRINT CLI ERROR MESSAGE                        21-AUG-1978 18:59:30   VAX-11 MACRO X0.3-11               Page   2
00              DECLARATIONS                                                                                                     (1)

                                     0000    41 	.SBTTL	DECLARATIONS
                                     0000    42 ;
                                     0000    43 ; INCLUDE FILES:
                                     0000    44 ;
                                     0000    45 
                                     0000    46 	$CLIDEF				; DEFINE CLI RUN PARAMETERS
                                     0000    47 	$CLIMSGDEF			; DEFINE CLI STATUS CODES
                                     0000    48 	$STSDEF				; DEFINE RETURNED STATUS FORMAT
                                     0000    49  
                                     0000    50 ;
                                     0000    51 ; MACROS:
                                     0000    52 ;
                                     0000    53 
                                     0000    54 ;
                                     0000    55 ; EQUATED SYMBOLS:
                                     0000    56 ;
                                     0000    57 ; DEFINE ARGUMENT LIST OFFSETS
                                     0000    58 ;
                                     0000    59  
                                     0000    60 	.SAVE
                                 00000080    61 	.PSECT	$ABS$,ABS
                                     0080    62  
                           00000000  0080    63 .=0
                           00000004  0000    64 COUNT:	.BLKL	1			; ARGUMENT COUNT
                           00000008  0004    65 FACILITY:.BLKL	1			; ADDRESS OF FACILITY NAME DESCRIPTOR
                           0000000C  0008    66 ERRDESCR:.BLKL	1			; QUALIFIER DESCRIPTOR FOR SYNTAX ERROR
                           00000010  000C    67 LINDESCR:.BLKL	1			; QUALIFIER DESCRIPTOR FOR COMMAND LINE
                           00000014  0010    68 CODE:	.BLKL	1			; CLI ERROR CODE
                                     0014    69  
                                     0000    70 	.RESTORE
                                     0000    71 ;
                                     0000    72 ; OWN STORAGE:
                                     0000    73 ;
                                     0000    74 
PUTCLIMSG       - PRINT CLI ERROR MESSAGE                        21-AUG-1978 18:59:30   VAX-11 MACRO X0.3-11               Page   3
00              LIB$PUTCLIMSG - PRINT SYNTAX ERROR MESSAGE THEN                                                                  (1)

                                     0000    76 	.SBTTL	LIB$PUTCLIMSG - PRINT SYNTAX ERROR MESSAGE THEN EXIT
                                     0000    77 ;++
                                     0000    78 ; FUNCTIONAL DESCRIPTION:
                                     0000    79 ;
                                     0000    80 ; THIS ROUTINE IS CALLED WHENEVER A CLI UTILITY DETECTS A SYNTAX ERROR NOT
                                     0000    81 ; OTHERWISE DISCOVERED BY THE COMMAND LANGUAGE INTERPRETER. IT DISPLAYS THE
                                     0000    82 ; ERROR MESSAGE FOLLOWED BY A LINE CONTAINING THE BRACKETED ERROR TEXT.
                                     0000    83 ;
                                     0000    84 ; CALLING SEQUENCE:
                                     0000    85 ;
                                     0000    86 ;	CALL	LIB$PUTCLIMSG ([FACNAM],ERRDESCR,LINDESCR, CODE)
                                     0000    87 ;
                                     0000    88 ; INPUT PARAMETERS:
                                     0000    89 ;
                                     0000    90 ;	FACNAM - ADDRESS OF STRING DESCRIPTOR FOR THE OPTIONAL FACILITY NAME
                                     0000    91 ;
                                     0000    92 ;	ERRDESCR - ADDRESS OF A CLI QUALIFIER DESCRIPTOR. OFFSET CLI$W_RQSIZE
                                     0000    93 ;		     IS THE QUADWORD STRING DESCRIPTOR FOR THE PORTION OF THE
                                     0000    94 ;		     COMMAND LINE CONTAINING THE SYNTAX ERROR.
                                     0000    95 ;
                                     0000    96 ;	LINDESCR - ADDRESS OF A CLI QUALIFIER DESCRIPTOR FOR THE COMMAND LINE.
                                     0000    97 ;
                                     0000    98 ;	CODE - CLI ERROR CODE
                                     0000    99 ;
                                     0000   100 ; IMPLICIT INPUTS:
                                     0000   101 ;
                                     0000   102 ;	NONE
                                     0000   103 ;
                                     0000   104 ; OUTPUT PARAMETERS:
                                     0000   105 ;
                                     0000   106 ;	NONE
                                     0000   107 ;
                                     0000   108 ; IMPLICIT OUTPUTS:
                                     0000   109 ;
                                     0000   110 ;	NONE
                                     0000   111 ;
                                     0000   112 ; COMPLETION CODES:
                                     0000   113 ;
                                     0000   114 ;	COMPLETION CODES ARE THOSE RETURNED BY SYS$PUTMSG
                                     0000   115 ;
                                     0000   116 ; SIDE EFFECTS:
                                     0000   117 ;
                                     0000   118 ;	NONE
                                     0000   119 ;
                                     0000   120 ;--
                                     0000   121  
                                 00000000   122 	.PSECT	_PUTCLIMSG,NOWRT
                                     0000   123  
                               0000' 0000   124 	.ENTRY	LIB$PUTCLIMSG,0		;
            51            08     D0  0002   125 	MOVL	#CLI$W_RQSIZE,R1	; GET OFFSET TO LINE DESCRIPTOR
            50         08 BC41   9E  0005   126 	MOVAB	@ERRDESCR(AP)[R1],R0	; GET ADDRESS OF ERRONEOUS SEGMENT
         04 A0            60     C1  000A   127 	ADDL3	(R0),4(R0),-(SP)	; PUSH ADDRESS OF END OF SEGMENT
                          7E         000E       
            51         0C BC41   9E  000F   128 	MOVAB	@LINDESCR(AP)[R1],R1	; GET ADDRESS OF LINE SEGMENT
            61            81     C1  0014   129 	ADDL3	(R1)+,(R1),R1		; COMPUTE END OF SEGMENT
                          51         0017       
            51            6E     C3  0018   130 	SUBL3	(SP),R1,-(SP)		; COMPUTE SEGMENT LENGTH
PUTCLIMSG       - PRINT CLI ERROR MESSAGE                        21-AUG-1978 18:59:30   VAX-11 MACRO X0.3-11               Page   4
00              LIB$PUTCLIMSG - PRINT SYNTAX ERROR MESSAGE THEN                                                                  (1)

                          7E         001B       
            51         50 8F     9A  001C   131 	MOVZBL	#80,R1			; GET MAX LENGTH OF OUTPUT LINE
            51            6E     D1  0020   132 	CMPL	(SP),R1			; LENGTH EXCEED MAXIMUM?
                          03     1B  0023   133 	BLEQU	10$			; IF LEQU NO
            6E            51     D0  0025   134 	MOVL	R1,(SP)			; TRUNCATE LINE
                                     0028   135 10$:					;
                          6E     9F  0028   136 	PUSHAB	(SP)			; PUSH ADDRESS OF DESCRIPTOR
                          60     9F  002A   137 	PUSHAB	(R0)			; PUSH ADDRESS OF BAD SEGMENT
                          02     DD  002C   138 	PUSHL	#2			; PUSH FAO ARGUMENT COUNT
                       02 AE     B6  002E   139 	INCW	2(SP)			; SET GETMSG FLAG FOR NO PREFIX (1)
                 000381B0 8F     DD  0031   140 	PUSHL	#CLI$_BADTEXT		; PUSH CODE FOR BAD TEXT BLOCK
            07            10     78  0037   141 	ASHL	#16,#^X7,-(SP)		; PUSH FLAGS
                          7E         003A       
                       10 AC     DD  003B   142 	PUSHL	CODE(AP)		; PUSH ERROR CODE
                          06     DD  003E   143 	PUSHL	#6			; PUSH LENGTH OF LIST
            50            6E     9E  0040   144 	MOVAB	(SP),R0			; COPY CURRENT SP
                                     0043   145 	$PUTMSG_S	FACNAM=@FACILITY(AP),- ; OUTPUT THE MESSAGE
                                     0043   146 			MSGVEC=(R0)	; ...
                                 04  0051   147 	RET				;
                                     0052   148  
                                     0052   149 	.END
PUTCLIMSG       - PRINT CLI ERROR MESSAGE                        21-AUG-1978 18:59:30   VAX-11 MACRO X0.3-11               Page   5
SYMBOL TABLE                                                                                                                     (1)

BIT...         = 00000020            CLI$L_CLIFLAG    00000018            CLI$V_SUBTYP   = 00000000            
CLI$A_ABSACT     00000014            CLI$L_INIARGCNT  00000000            CLI$V_TRMVRBLV = 00000008            
CLI$A_ERRACT     00000004            CLI$L_LINKFLAG   00000014            CLI$V_VERIFY   = 00000002            
CLI$A_FLSACT     00000010            CLI$L_RQVALU     0000000C            CLI$V_VFYINP   = 00000005            
CLI$A_IMGFILED   00000010            CLI$L_USRVAL     00000014            CLI$W_QDVALSIZ   00000004            
CLI$A_IMGHDADR   0000000C            CLI$L_WORKAREA   00000000            CLI$W_RQSIZE     00000008            
CLI$A_PROGXFER   00000004            CLI$M_ABSADR   = 00000002            CLI$W_SERVCOD    00000001            
CLI$A_PRSACT     00000010            CLI$M_ALLOCCUR = 00000001            CLI$_ABFNAM    = 000381B8            
CLI$A_QDVALADR   00000008            CLI$M_BATCH    = 00000008            CLI$_ABKEYW    = 00038000            
CLI$A_QUALST     00000018            CLI$M_CONCATINP= 00000002            CLI$_ABVERB    = 00038008            
CLI$A_RQADDR     0000000C            CLI$M_DBGEXCP  = 00010000            CLI$_BADRET    = 00038198            
CLI$A_TRUACT     0000000C            CLI$M_DBGTRU   = 00000002            CLI$_BADTEXT   = 000381B0            
CLI$A_UTILSERV   00000008            CLI$M_DEBUG    = 00000001            CLI$_BUFOVF    = 00038018            
CLI$B_BITNUM     00000001            CLI$M_DUMMY    = 00000002            CLI$_COMPLX    = 00038020            
CLI$B_QDBLKSIZ   00000000            CLI$M_EXPNAM   = 00000004            CLI$_CONFQUAL  = 00038802            
CLI$B_QDCODE     00000001            CLI$M_INDIRECT = 00000010            CLI$_CREQUEJOB = 0003884A            
CLI$B_QDFLGS     00000002            CLI$M_KEYVALU  = 00000002            CLI$_DEFOVF    = 00038028            
CLI$B_QDSTAT     00000003            CLI$M_LASTVAL  = 00000001            CLI$_DEVALSPL  = 0003885A            
CLI$B_RQFLGS     00000002            CLI$M_MOREINP  = 00000004            CLI$_DEVNOTFOR = 0003887A            
CLI$B_RQINDX     00000001            CLI$M_MOREVALS = 00000001            CLI$_DEVNOTSPL = 00038862            
CLI$B_RQSTAT     00000003            CLI$M_PARMDEF  = 00000008            CLI$_DIRECT    = 00038030            
CLI$B_RQTYPE     00000000            CLI$M_PARMPRS  = 00000001            CLI$_EXPSYN    = 00038038            
CLI$C_QDBITS     00000014            CLI$M_PARMREQ  = 00000001            CLI$_FILOPN    = 00038190            
CLI$C_QUALDEF    00000014            CLI$M_QDEXPA   = 00000004            CLI$_ILLVAL    = 0003883A            
CLI$C_REQDESC    0000001C            CLI$M_QDUSRV   = 00000002            CLI$_IMCHNG    = 00038040            
CLI$C_WORKAREA   00000080            CLI$M_QUALEXP  = 00000002            CLI$_IMGFNF    = 00038872            
CLI$K_ASCIIVAL = 00000041            CLI$M_QUALTRU  = 00000001            CLI$_INSFPRM   = 00038048            
CLI$K_CLISERV  = 00000005            CLI$M_TRMVRBLV = 00000300            CLI$_INVKEY    = 00038178            
CLI$K_ENDPRM1  = 00000030            CLI$M_VERIFY   = 00000004            CLI$_INVQUAL   = 0003880A            
CLI$K_ENDPRM2  = 00000031            CLI$M_VFYINP   = 00000020            CLI$_INVQUALNUM= 0003881A            
CLI$K_ENDPRM3  = 00000032            CLI$Q_QDVALDESC  00000004            CLI$_INVREQTYP = 00038822            
CLI$K_ENDPRM4  = 00000033            CLI$Q_RQDESC     00000008            CLI$_INVRSP    = 00038180            
CLI$K_FILSPEC  = 00000044            CLI$S_PRITYP   = 00000004            CLI$_INVUIC    = 000381A8            
CLI$K_GETCMD   = 00000001            CLI$S_SUBTYP   = 00000004            CLI$_IVCHAR    = 00038050            
CLI$K_GETOPT   = 00000003            CLI$S_TRMVRBLV = 00000002            CLI$_IVDEVTYPE = 0003886A            
CLI$K_GETQUAL  = 00000002            CLI$V_ABSADR   = 00000001            CLI$_IVFNAM    = 000381C0            
CLI$K_INITPRS  = 00000000            CLI$V_ALLOCCUR = 00000000            CLI$_IVKEYW    = 00038060            
CLI$K_INPSPEC  = 00000001            CLI$V_BATCH    = 00000003            CLI$_IVOPER    = 00038068            
CLI$K_INPUT1   = 00000010            CLI$V_CONCATINP= 00000001            CLI$_IVPROT    = 00038070            
CLI$K_INPUT2   = 00000011            CLI$V_DBGEXCP  = 00000010            CLI$_IVQLOC    = 00038078            
CLI$K_INPUT3   = 00000012            CLI$V_DBGTRU   = 00000001            CLI$_IVSYMB    = 00038080            
CLI$K_INPUT4   = 00000013            CLI$V_DEBUG    = 00000000            CLI$_IVVALU    = 00038088            
CLI$K_KEYVAL   = 00000043            CLI$V_DUMMY    = 00000001            CLI$_IVVERB    = 00038090            
CLI$K_KEYWORD  = 00000042            CLI$V_EXPNAM   = 00000002            CLI$_MAXPARM   = 00038098            
CLI$K_NUMERVAL = 00000040            CLI$V_INDIRECT = 00000004            CLI$_MULKEY    = 000381A0            
CLI$K_OUTPUT1  = 00000020            CLI$V_KEYVALU  = 00000001            CLI$_NOATFIL   = 000380A0            
CLI$K_OUTPUT2  = 00000021            CLI$V_LASTVAL  = 00000000            CLI$_NOCCAT    = 000380A8            
CLI$K_OUTPUT3  = 00000022            CLI$V_MOREINP  = 00000002            CLI$_NOCOMD    = 000380B0            
CLI$K_OUTPUT4  = 00000023            CLI$V_MOREVALS = 00000000            CLI$_NOKEYW    = 000380B8            
CLI$K_OUTSPEC  = 00000002            CLI$V_PARMDEF  = 00000003            CLI$_NOLIST    = 000380C0            
CLI$K_PARDONE  = 00000003            CLI$V_PARMPRS  = 00000000            CLI$_NOOPTPRS  = 00038842            
CLI$K_QDBITS     00000014            CLI$V_PARMREQ  = 00000000            CLI$_NOQUAL    = 000380C8            
CLI$K_QUALDEF    00000014            CLI$V_PRITYP   = 00000004            CLI$_NORMAL    = 00030001            
CLI$K_REQDESC    0000001C            CLI$V_QDEXPA   = 00000002            CLI$_NOTNEG    = 000380D8            
CLI$K_UTILOPR  = 00000000            CLI$V_QDUSRV   = 00000001            CLI$_NOVALU    = 000380D0            
CLI$K_VALCONV  = 00000004            CLI$V_QUALEXP  = 00000001            CLI$_NOVALUE   = 0003882A            
CLI$K_WORKAREA   00000080            CLI$V_QUALTRU  = 00000000            CLI$_NULFIL    = 000380E0            
PUTCLIMSG       - PRINT CLI ERROR MESSAGE                        21-AUG-1978 18:59:30   VAX-11 MACRO X0.3-11               Page   6
SYMBOL TABLE                                                                                                                     (1)

CLI$_NUMBER    = 000380E8            STS$S_SUCCESS  = 00000001            
CLI$_ONCOMD    = 000380F0            STS$V_CODE     = 00000003            
CLI$_ONERR     = 000380F8            STS$V_COND_ID  = 00000003            
CLI$_ONEVAL    = 00038158            STS$V_CONTROL  = 0000001C            
CLI$_ONLEVL    = 00038100            STS$V_CUST_DEF = 0000001B            
CLI$_ONOVF     = 00038108            STS$V_FAC_NO   = 00000010            
CLI$_OVRFLW    = 00038160            STS$V_FAC_SP   = 0000000F            
CLI$_PARMDEL   = 00038110            STS$V_INHIB_MSG= 0000001C            
CLI$_PROC_ID   = 0003FFF1            STS$V_MSG_NO   = 00000003            
CLI$_QUEJOBCRE = 0003FFF9            STS$V_SEVERITY = 00000000            
CLI$_REQPRMABS = 00038812            STS$V_SUCCESS  = 00000000            
CLI$_RSLOVF    = 00038118            SYS$PUTMSG       ********   X   03   
CLI$_SKPDAT    = 00038120            
CLI$_SPARE0    = 00038010            
CLI$_SPARE1    = 00038058            
CLI$_STKOVF    = 00038128            
CLI$_SUBMITERR = 00038852            
CLI$_SYMDEL    = 00038130            
CLI$_SYMOVF    = 00038138            
CLI$_UNDFIL    = 00038188            
CLI$_UNDSYM    = 00038140            
CLI$_UNPROPARM = 00038170            
CLI$_UNPROQUAL = 00038168            
CLI$_USGOTO    = 00038148            
CLI$_VALCNVERR = 00038832            
CLI$_VALREQ    = 00038150            
CODE             00000010            
COUNT            00000000            
ERRDESCR         00000008            
FACILITY         00000004            
GBL...         = 00000000            
LIB$PUTCLIMSG    00000000 RG    03   
LINDESCR         0000000C            
STS$K_ERROR    = 00000002            
STS$K_INFO     = 00000003            
STS$K_SEVERE   = 00000004            
STS$K_SUCCESS  = 00000001            
STS$K_WARNING  = 00000000            
STS$M_CODE     = 00007FF8            
STS$M_COND_ID  = 0FFFFFF8            
STS$M_CONTROL  = F0000000            
STS$M_CUST_DEF = 08000000            
STS$M_FAC_NO   = 0FFF0000            
STS$M_FAC_SP   = 00008000            
STS$M_INHIB_MSG= 10000000            
STS$M_MSG_NO   = 0000FFF8            
STS$M_SEVERITY = 00000007            
STS$M_SUCCESS  = 00000001            
STS$S_CODE     = 0000000C            
STS$S_COND_ID  = 00000019            
STS$S_CONTROL  = 00000004            
STS$S_CUST_DEF = 00000001            
STS$S_FAC_NO   = 0000000C            
STS$S_FAC_SP   = 00000001            
STS$S_INHIB_MSG= 00000001            
STS$S_MSG_NO   = 0000000D            
STS$S_SEVERITY = 00000003            
PUTCLIMSG       - PRINT CLI ERROR MESSAGE                        21-AUG-1978 18:59:30   VAX-11 MACRO X0.3-11               Page   7
PROGRAM SECTION SYNOPSIS                                                                                                         (1)



PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
$ABS$            00000080      02     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
_PUTCLIMSG       00000052      03     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD  NOWRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
18822. BYTES LEFT IN FREE MEMORY POOL.
2198. BYTES OF RECLAIMED MEMORY.
OBJ$:PUTCLIMSG,LIS$:PUTCLIMSG/-SP=EXECML$/ML,LIB$:CLIUTL/ML,SRC$:PUTCLIMSG
32 MLB DIR RDS - 396 GETS TO DEFINE 14 MACROS. 29 INTER. FILE WRITES. 


; Bliss-32 7.352	Saturday 21-AUG-1978 23:32:56	DBB3:[MTAACP.SRC]FRMHDR.B32;11					Page 1
; Digital Equipment Corporation
;
;	0001	MODULE FRMHDR (
;	0002			LANGUAGE (BLISS32),
;	0003			IDENT = 'A0001'
;	0004			) =
;	0005	BEGIN
;	0006	
;	0007	!
;	0008	! COPYRIGHT (C) 1977
;	0009	! DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS 01754
;	0010	!
;	0011	! THIS SOFTWARE IS FURNISHED  UNDER A LICENSE FOR USE ONLY ON A SINGLE
;	0012	! COMPUTER  SYSTEM AND  MAY BE  COPIED ONLY WITH  THE INCLUSION OF THE
;	0013	! ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE, OR ANY OTHER COPIES THEREOF,
;	0014	! MAY NOT BE PROVIDED OR  OTHERWISE MADE AVAILABLE TO ANY OTHER PERSON
;	0015	! EXCEPT FOR USE ON SUCH SYSTEM AND TO ONE WHO AGREES TO THESE LICENSE
;	0016	! TERMS.  TITLE TO AND  OWNERSHIP OF THE  SOFTWARE  SHALL AT ALL TIMES
;	0017	! REMAIN IN DEC.
;	0018	!
;	0019	! THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE WITHOUT NOTICE
;	0020	! AND SHOULD  NOT BE CONSTRUED  AS A COMMITMENT  BY DIGITAL  EQUIPMENT
;	0021	! CORPORATION.
;	0022	!
;	0023	! DEC ASSUMES  NO  RESPONSIBILITY  FOR  THE USE OR  RELIABILITY OF ITS
;	0024	! SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
;	0025	
;	0026	!++
;	0027	!
;	0028	! FACILITY:  MTAACP
;	0029	!
;	0030	! ABSTRACT:
;	0031	!
;	0032	!	THIS MODULE FORMATS HDR1 AND HDR2
;	0033	!
;	0034	! ENVIRONMENT:
;	0035	!
;	0036	!	STARLET OPERATING SYSTEM, INCLUDING PRIVILEGED SYSTEM SERVICES
;	0037	!	AND INTERNAL EXEC ROUTINES.
;	0038	!
;	0039	!--
;	0040	!
;	0041	!
;	0042	! AUTHOR:  D. H. GILLESPIE,	 CREATION DATE:  2-JUN-77 14:35  
;	0043	!
;	0044	! REVISION HISTORY:
;	0045	!
;	0046	!   D. H. Gillespie, 12-May-78  13:23
;	0047	!   A0001 - change CURRENT_VCB to a register
;	0048	!
;	0049	!**
;	0050	
;	0051	
;	0052	LIBRARY 'SYS$LIBRARY:LIB.L32';
;	0053	REQUIRE 'SRC$:MTADEF.B32';
;	0349	
;	0350	EXTERNAL

; Bliss-32 7.352	Saturday 21-AUG-1978 23:32:56	DBB3:[MTAACP.SRC]FRMHDR.B32;11					Page 1-1
; Digital Equipment Corporation
;
;	0351		CURRENT_UCB	: REF BBLOCK,	!ADDRESS OF CURRENT UCB
;	0352		HDR1		: REF BBLOCK,	!ADDRESS OF HDR1(EOF1) LABEL
;	0353		HDR2		: REF BBLOCK,	!ADDRESS OF HDR2(EOF2) LABEL
;	0354		IO_PACKET	: REF BBLOCK,	!ADDRESS OF IO REQUEST PACKET
;	0355		LOCAL_FIB	: BBLOCK,	!COPY OF USER'S FILE INFO BLOCK
;	0356		WORK_AREA;			!ADDRESS OF GENERAL WORK AREA
;	0357	
;	0358	EXTERNAL ROUTINE
;	0359		CALC_TAPE_VER,			!CALCULATE TAPE GEN/GEN VERSION NUMBER
;	0360		CONVDATE_R2J,			!CONVERT REGULAR DATE TO JULIAN FOR TAPE
;	0361		MAKE_STRING,			!MAKE FILE NAME STRING FROM NAME BLOCK
;	0362		PARSE_TRANS_FNM,		!PARSE AND TRANSLATE FILE NAME STRING
;	0363		RETURN_FNS,			!RETURN FILE NAME STRING TO USER
;	0364		SYS$ASCTIM	: ADDRESSING_MODE(ABSOLUTE),	!GET ASCII DATE/TIME
;	0365		SYS$FAO		: ADDRESSING_MODE(ABSOLUTE),	!FORMAT ASCII OUTPUT
;	0366		WRITE_ATTRIBUTE;		!WRITE USER SUPPLIED ATTRIBUTES

; Bliss-32 7.352	Saturday 21-AUG-1978 23:32:56	DBB3:[MTAACP.SRC]FRMHDR.B32;11					Page 2
; Digital Equipment Corporation
;
;	0367	GLOBAL ROUTINE FORMAT_HDRS : COMMON_CALL NOVALUE  =
;	0368	
;	0369	!++
;	0370	!
;	0371	! FUNCTIONAL DESCRIPTION:
;	0372	!	THIS ROUTINE FORMATS HDR1 AND HDR2
;	0373	!
;	0374	! CALLING SEQUENCE:
;	0375	!	FORMAT_HDRS()
;	0376	!
;	0377	! INPUT PARAMETERS:
;	0378	!	NONE
;	0379	!
;	0380	! IMPLICIT INPUTS:
;	0381	!	CURRENT_VCB - ADDRESS OF CURRENT VCB
;	0382	!	HDR1 - ADDRESS OF HDR1 LABEL
;	0383	!	HDR2 - ADDRESS OF HDR2 LABEL
;	0384	!	LOCAL_FIB - COPY OF USER'S FIB
;	0385	!
;	0386	! OUTPUT PARAMETERS:
;	0387	!	NONE
;	0388	!
;	0389	! IMPLICIT OUTPUTS:
;	0390	!	HDR1 AND HDR2 FORMATTED
;	0391	!
;	0392	! ROUTINE VALUE:
;	0393	!	NONE
;	0394	!
;	0395	! SIDE EFFECTS:
;	0396	!	NONE
;	0397	!
;	0398	!--
;	0399	
;	0400	BEGIN
;	0401	
;	0402	EXTERNAL REGISTER
;	0403		COMMON_REG;
;	0404	
;	0405	BIND
;	0406		CVT5		= DESCRIPTOR('!5ZW'),
;	0407		DEFAULT		= UPLIT('00512'),
;	0408		FNM_DESCR	= WORK_AREA : VECTOR[2],
;	0409		FTY_DESCR	= WORK_AREA + 8 : VECTOR[2],
;	0410		FNMSTR		= WORK_AREA + 16 : VECTOR[MAX_FILESTR_LEN,BYTE],
;	0411		STARID		 = UPLIT('DECFILE112');
;	0412	
;	0413	GLOBAL
;	0414		NMBLOCK:	BBLOCK [10];			!NAME BLOCK
;	0415	
;	0416	LOCAL
;	0417		ABD:		REF BBLOCKVECTOR[,ABD$C_LENGTH],	!ADDRESS OF BUFFER DESCRIPTORS
;	0418		DESCR:		VECTOR [2],			!GENERAL DESCRIPTOR
;	0419		FILENM_ADDR,					!ADDRESS OF FILE NAME STRING
;	0420		FILENM_LEN,					!LENGTH OF FILE NAME STRING
;	0421		GEN:		VECTOR [2],

; Bliss-32 7.352	Saturday 21-AUG-1978 23:32:56	DBB3:[MTAACP.SRC]FRMHDR.B32;11					Page 2-1
; Digital Equipment Corporation
;
;	0422		NMSTRING:	BBLOCK [MAX_FILESTR_LEN],	!FILE NAME STRING
;	0423		TODAY:		VECTOR [12,BYTE],		!REGULAR DATE STRING
;	0424		VERSION:	WORD;
;	0425	
;	0426	! FIRST DEFAULT THE FIELDS IN HDR1 AND HDR2
;	0427	
;	0428	! FORMAT HDR1
;	0429	CH$FILL (' ',160,.HDR1);
;	0430	HDR1[HD1$L_HD1LID] = 'HDR1';
;	0431	CH$MOVE(HD1$S_FILESETID,CURRENT_VCB[VCB$T_VOLNAME],HDR1[HD1$T_FILESETID]);
;	0432	CH$FILL('0',HD1$S_BLOCKCNT,HDR1[HD1$T_BLOCKCNT]);
;	0433	CH$MOVE(10,STARID,HDR1[HD1$T_SYSCODE]);
;	0434	
;	0435	! DEFAULT EXPIRATION AND CREATION DATE
;	0436	DESCR[0] = 12;
;	0437	DESCR[1] = TODAY;
;	0438	SYS$ASCTIM(0,DESCR,0,0);			!GET TODAY'S DATE IN DD-MMM-YYYY
;	0439	CONVDATE_R2J(TODAY,HDR1[HD1$T_CREATEDT]);
;	0440	CH$MOVE(HD1$S_CREATEDT,HDR1[HD1$T_CREATEDT],HDR1[HD1$T_EXPIREDT]);
;	0441	
;	0442	! FORMAT HDR2
;	0443	HDR2[HD2$L_HD2LID] = 'HDR2';
;	0444	HDR2[HD2$B_RECFORMAT] = 'F';
;	0445	DESCR[0] = HD2$S_BLOCKLEN;
;	0446	DESCR[1] = HDR2[HD2$T_BLOCKLEN];
;	0447	IF NOT $FAO	( CVT5,
;     P 0448			  0,
;     P 0449			  DESCR,
;     P 0450			  .CURRENT_UCB[UCB$W_DEVBUFSIZ])
;	0451	THEN CH$MOVE(HD2$S_BLOCKLEN,DEFAULT,HDR2[HD2$T_BLOCKLEN]);
;	0452	CH$FILL(0,HD2$S_RECATR1,HDR2[HD2$T_RECATR1]);
;	0453	(HDR2[HD2$T_RECATR1])<0,16> = %X'0201';
;	0454	CH$FILL(0,HD2$S_RECATR2,HDR2[HD2$T_RECATR2]);
;	0455	CH$MOVE(HD2$S_RECLEN,HDR2[HD2$T_BLOCKLEN],HDR2[HD2$T_RECLEN]);
;	0456	IF .CURRENT_VCB[VCB$W_RECORDSZ] NEQ 0 
;	0457	THEN
;	0458	    BEGIN
;	0459	    DESCR[0] = HD2$S_RECLEN;
;	0460	    DESCR[1] = HDR2[HD2$T_RECLEN];
;	0461	    IF NOT $FAO	( CVT5,
;     P 0462			  0,
;     P 0463			  DESCR,
;     P 0464			  .CURRENT_VCB[VCB$W_RECORDSZ])
;	0465	    THEN CH$MOVE(HD2$S_RECLEN,HDR2[HD2$T_BLOCKLEN],HDR2[HD2$T_RECLEN]);
;	0466	    END;
;	0467	HDR2[HD2$T_BUFOFF] = '00';
;	0468	CH$FILL(0,10,NMBLOCK);
;	0469	
;	0470	! PICKUP USER SUPPLIED ATTRIBUTES
;	0471	WRITE_ATTRIBUTE();
;	0472	
;	0473	! WHICH FILENAME SHOULD BE USED
;	0474	ABD = .BBLOCK[.IO_PACKET[IRP$L_SVAPTE],AIB$L_DESCRIPT];
;	0475	IF .ABD[ABD$C_NAME,ABD$W_COUNT] EQLU 0
;	0476	THEN

; Bliss-32 7.352	Saturday 21-AUG-1978 23:32:56	DBB3:[MTAACP.SRC]FRMHDR.B32;11					Page 2-2
; Digital Equipment Corporation
;
;	0477	    BEGIN
;	0478	    FILENM_LEN = MAKE_STRING(NMBLOCK,NMSTRING);
;	0479	    FILENM_ADDR = NMSTRING;
;	0480	    END
;	0481	ELSE
;	0482	    BEGIN
;	0483	    FILENM_LEN = .ABD[ABD$C_NAME,ABD$W_COUNT];
;	0484	    FILENM_ADDR = .ABD[ABD$C_NAME,ABD$W_TEXT] + ABD[ABD$C_NAME,ABD$W_TEXT] + 1;
;	0485	    END;
;	0486	IF NOT CH$FAIL(CH$FIND_CH(.FILENM_LEN,.FILENM_ADDR,'*')) THEN ERR_EXIT(SS$_BADFILENAME);
;	0487	PARSE_TRANS_FNM(HDR1[HD1$T_FILEID],FNM_DESCR,FTY_DESCR,VERSION,.FILENM_LEN,.FILENM_ADDR);
;	0488	
;	0489	! IF ENTER FUNCTION RETURN FILE NAME STRING TO USER
;	0490	IF .LOCAL_FIB[FIB$W_DID_NUM] NEQ 0 THEN
;	0491	    BEGIN
;	0492	    DESCR[0] = MAX_FILESTR_LEN;
;	0493	    DESCR[1] = FNMSTR;
;	0494	    SYS$FAO(DESCRIPTOR('!AS.!AS;!SW'),DESCR,DESCR,FNM_DESCR,FTY_DESCR,.VERSION);
;	0495	
;	0496	    IF NOT KERNEL_CALL(RETURN_FNS,DESCR) THEN ERR_EXIT();
;	0497	    END;
;	0498	CALC_TAPE_VER(.VERSION,GEN);
;	0499	DESCR[0]= HD1$S_GENNO + HD1$S_GENVER;
;	0500	DESCR[1] = HDR1[HD1$T_GENNO];
;	0501	SYS$FAO(DESCRIPTOR('!4ZL!2ZL'),,DESCR,.GEN,.GEN[1]);
;	0502	END;				!END OF ROUTINE


							    .TITLE  FRMHDR
							    .IDENT  \A0001\

							    .PSECT  $CODE$,NOWRT,2

					      00000 P.AAB:  .ASCII  \!5ZW\						      ;
					      00004 P.AAA:  .LONG   4							      ;
					      00008 	    .ADDRESS  P.AAB						      ;
					      0000C P.AAC:  .ASCII  \00512\<0><0><0>					      ;
					      00014 P.AAD:  .ASCII  \DECFILE112\<0><0>					      ;
					      00020 P.AAF:  .ASCII  \!AS.!AS;!SW\					      ;
					      0002B	    .BLKB   1
					      0002C P.AAE:  .LONG   11							      ;
					      00030 	    .ADDRESS  P.AAF						      ;
					      00034 P.AAH:  .ASCII  \!4ZL!2ZL\						      ;
					      0003C P.AAG:  .LONG   8							      ;
					      00040 	    .ADDRESS  P.AAH						      ;

							    .PSECT  $LOCKEDD1$,NOEXE,2

					      00000 NMBLOCK::
							    .BLKB   10

						    CVT5=		P.AAA
						    DEFAULT=		P.AAC
						    STARID=		P.AAD
							    .GLOBL  CURRENT_UCB, HDR1, HDR2, IO_PACKET, LOCAL_FIB

; Bliss-32 7.352	Saturday 21-AUG-1978 23:32:56	DBB3:[MTAACP.SRC]FRMHDR.B32;11					Page 2-3
; Digital Equipment Corporation
;
							    .GLOBL  WORK_AREA, CALC_TAPE_VER, CONVDATE_R2J, MAKE_STRING
							    .GLOBL  PARSE_TRANS_FNM, RETURN_FNS, SYS$ASCTIM, SYS$FAO
							    .GLOBL  WRITE_ATTRIBUTE, SYS$CMKRNL

							    .PSECT  $CODE$,NOWRT,2

					 07FC 00044 	    .ENTRY  FORMAT_HDRS, Save R2,R3,R4,R5,R6,R7,R8,R9,R10	      ; 0367
		         57	0000G  CF  9E 00046 	    MOVAB   FTY_DESCR, R7					      ;
		         58	0000G  CF  9E 0004B 	    MOVAB   HDR2, R8						      ;
		         59	  B1   AF  9E 00050 	    MOVAB   CVT5, R9						      ;
		         5A 00000000G  9F  9E 00054 	    MOVAB   @#SYS$FAO, R10					      ;
		         5E	  C0   AE  9E 0005B 	    MOVAB   -64(SP), SP						      ;
		         56	0000G  CF  D0 0005F 	    MOVL    HDR1, R6						      ; 0429
	   20	         6E	       00  2C 00064 	    MOVC5   #0, (SP), #32, #160, (R6)				      ;
		         66	00A0   8F     00068									      ;
		         66 31524448   8F  D0 0006C 	    MOVL    #827475016, (R6)					      ; 0430
      15   A6	    14   AB	       06  28 00073 	    MOVC3   #6, 20(CURRENT_VCB), 21(R6)				      ; 0431
	   30	         6E	       00  2C 00079 	    MOVC5   #0, (SP), #48, #6, 54(R6)				      ; 0432
		    36   A6	       06     0007D									      ;
      3C   A6	    10   A9	       0A  28 00080 	    MOVC3   #10, STARID, 60(R6)					      ; 0433
		    38   AE	       0C  D0 00086 	    MOVL    #12, DESCR						      ; 0436
		    3C   AE	  04   AE  9E 0008A 	    MOVAB   TODAY, DESCR+4					      ; 0437
				       7E  7C 0008F 	    CLRQ    -(SP)						      ; 0438
				  40   AE  9F 00091 	    PUSHAB  DESCR						      ;
				       7E  D4 00094 	    CLRL    -(SP)						      ;
	      00000000G  9F	       04  FB 00096 	    CALLS   #4, @#SYS$ASCTIM					      ;
	   7E	  0000G  CF	       29  C1 0009D 	    ADDL3   #41, HDR1, -(SP)					      ; 0439
				  08   AE  9F 000A3 	    PUSHAB  TODAY						      ;
		  0000G  CF	       02  FB 000A6 	    CALLS   #2, CONVDATE_R2J					      ;
		         50	0000G  CF  D0 000AB 	    MOVL    HDR1, R0						      ; 0440
      2F   A0	    29   A0	       06  28 000B0 	    MOVC3   #6, 41(R0), 47(R0)					      ;
		         50	       68  D0 000B6 	    MOVL    HDR2, R0						      ; 0443
		         60 32524448   8F  D0 000B9 	    MOVL    #844252232, (R0)					      ;
		    04   A0	  46   8F  90 000C0 	    MOVB    #70, 4(R0)						      ; 0444
		    38   AE	       05  D0 000C5 	    MOVL    #5, DESCR						      ; 0445
      3C   AE	         50	       05  C1 000C9 	    ADDL3   #5, R0, DESCR+4					      ; 0446
		         50	0000G  CF  D0 000CE 	    MOVL    CURRENT_UCB, R0					      ; 0450
		         7E	  3A   A0  3C 000D3 	    MOVZWL  58(R0), -(SP)					      ;
				  3C   AE  9F 000D7 	    PUSHAB  DESCR						      ;
				       7E  D4 000DA 	    CLRL    -(SP)						      ;
				       59  DD 000DC 	    PUSHL   R9							      ; 0367
		         6A	       04  FB 000DE 	    CALLS   #4, SYS$FAO						      ; 0450
		         09	       50  E8 000E1 	    BLBS    R0, 1$						      ;
		         50	       68  D0 000E4 	    MOVL    HDR2, R0						      ; 0451
      05   A0	    08   A9	       05  28 000E7 	    MOVC3   #5, DEFAULT, 5(R0)					      ;
		         56	       68  D0 000ED 1$:     MOVL    HDR2, R6						      ; 0452
	   00	         6E	       00  2C 000F0 	    MOVC5   #0, (SP), #0, #20, 15(R6)				      ;
		    0F   A6	       14     000F4									      ;
		    0F   A6	0201   8F  B0 000F7 	    MOVW    #513, 15(R6)					      ; 0453
	   00	         6E	       00  2C 000FD 	    MOVC5   #0, (SP), #0, #12, 37(R6)				      ; 0454
		    25   A6	       0C     00101									      ;
      0A   A6	    05   A6	       05  28 00104 	    MOVC3   #5, 5(R6), 10(R6)					      ; 0455
				  50   AB  B5 0010A 	    TSTW    80(CURRENT_VCB)					      ; 0456
				       23  13 0010D 	    BEQL    2$							      ;
		    38   AE	       05  D0 0010F 	    MOVL    #5, DESCR						      ; 0459

; Bliss-32 7.352	Saturday 21-AUG-1978 23:32:56	DBB3:[MTAACP.SRC]FRMHDR.B32;11					Page 2-4
; Digital Equipment Corporation
;
		    3C   AE	  0A   A6  9E 00113 	    MOVAB   10(R6), DESCR+4					      ; 0460
		         7E	  50   AB  3C 00118 	    MOVZWL  80(CURRENT_VCB), -(SP)				      ; 0464
				  3C   AE  9F 0011C 	    PUSHAB  DESCR						      ;
				       7E  D4 0011F 	    CLRL    -(SP)						      ;
				       59  DD 00121 	    PUSHL   R9							      ; 0367
		         6A	       04  FB 00123 	    CALLS   #4, SYS$FAO						      ; 0464
		         09	       50  E8 00126 	    BLBS    R0, 2$						      ;
		         50	       68  D0 00129 	    MOVL    HDR2, R0						      ; 0465
      0A   A0	    05   A0	       05  28 0012C 	    MOVC3   #5, 5(R0), 10(R0)					      ;
		         50	       68  D0 00132 2$:     MOVL    HDR2, R0						      ; 0467
		    32   A0	3030   8F  B0 00135 	    MOVW    #12336, 50(R0)					      ;
	   00	         6E	       00  2C 0013B 	    MOVC5   #0, (SP), #0, #10, NMBLOCK				      ; 0468
		  0000'  CF	       0A     0013F									      ;
		  0000G  CF	       00  FB 00143 	    CALLS   #0, WRITE_ATTRIBUTE					      ; 0471
		         50	0000G  CF  D0 00148 	    MOVL    IO_PACKET, R0					      ; 0474
		         52	  2C   B0  D0 0014D 	    MOVL    @44(R0), ABD					      ;
				  12   A2  B5 00151 	    TSTW    18(ABD)						      ; 0475
				       15  12 00154 	    BNEQ    3$							      ;
				  10   AE  9F 00156 	    PUSHAB  NMSTRING						      ; 0478
				0000'  CF  9F 00159 	    PUSHAB  NMBLOCK						      ;
		  0000G  CF	       02  FB 0015D 	    CALLS   #2, MAKE_STRING					      ;
		         53	       50  D0 00162 	    MOVL    R0, FILENM_LEN					      ;
		         52	  10   AE  9E 00165 	    MOVAB   NMSTRING, FILENM_ADDR				      ; 0479
				       12  11 00169 	    BRB     4$							      ; 0475
		         53	  12   A2  3C 0016B 3$:     MOVZWL  18(ABD), FILENM_LEN					      ; 0483
		         50	  10   A2  9E 0016F 	    MOVAB   16(ABD), R0						      ; 0484
		         51	       60  3C 00173 	    MOVZWL  (R0), R1						      ;
		         50	       51  C0 00176 	    ADDL2   R1, R0						      ;
	   52	         50	       01  C1 00179 	    ADDL3   #1, R0, FILENM_ADDR					      ;
	   62	         53	       2A  3A 0017D 4$:     LOCC    #42, FILENM_LEN, (FILENM_ADDR)			      ; 0486
				       02  12 00181 	    BNEQ    5$							      ;
				       51  D4 00183 	    CLRL    R1							      ;
				       51  D5 00185 5$:     TSTL    R1							      ;
				       04  13 00187 	    BEQL    6$							      ;
				0818   8F  BF 00189 	    CHMU    #2072						      ;
				       52  DD 0018D 6$:     PUSHL   FILENM_ADDR						      ; 0487
				       53  DD 0018F 	    PUSHL   FILENM_LEN						      ;
				  08   AE  9F 00191 	    PUSHAB  VERSION						      ;
				       57  DD 00194 	    PUSHL   R7							      ; 0367
				  F8   A7  9F 00196 	    PUSHAB  FNM_DESCR						      ;
	   7E	  0000G  CF	       04  C1 00199 	    ADDL3   #4, HDR1, -(SP)					      ; 0487
		  0000G  CF	       06  FB 0019F 	    CALLS   #6, PARSE_TRANS_FNM					      ;
				0000G  CF  B5 001A4 	    TSTW    LOCAL_FIB+10					      ; 0490
				       34  13 001A8 	    BEQL    7$							      ;
		    38   AE	       20  D0 001AA 	    MOVL    #32, DESCR						      ; 0492
		    3C   AE	  08   A7  9E 001AE 	    MOVAB   FNMSTR, DESCR+4					      ; 0367
		         7E	       6E  3C 001B3 	    MOVZWL  VERSION, -(SP)					      ; 0494
				       57  DD 001B6 	    PUSHL   R7							      ; 0367
				  F8   A7  9F 001B8 	    PUSHAB  FNM_DESCR						      ;
				  44   AE  9F 001BB 	    PUSHAB  DESCR						      ; 0494
				  48   AE  9F 001BE 	    PUSHAB  DESCR						      ;
				  28   A9  9F 001C1 	    PUSHAB  P.AAE						      ;
		         6A	       06  FB 001C4 	    CALLS   #6, SYS$FAO						      ;
				  38   AE  9F 001C7 	    PUSHAB  DESCR						      ; 0496
				       01  DD 001CA 	    PUSHL   #1							      ;

; Bliss-32 7.352	Saturday 21-AUG-1978 23:32:56	DBB3:[MTAACP.SRC]FRMHDR.B32;11					Page 2-5
; Digital Equipment Corporation
;
				       5E  DD 001CC 	    PUSHL   SP							      ;
				0000G  CF  9F 001CE 	    PUSHAB  RETURN_FNS						      ;
	      00000000G  9F	       04  FB 001D2 	    CALLS   #4, @#SYS$CMKRNL					      ;
		         02	       50  E8 001D9 	    BLBS    R0, 7$						      ;
				       00  BF 001DC 	    CHMU    #0							      ;
				  30   AE  9F 001DE 7$:     PUSHAB  GEN							      ; 0498
		         7E	  04   AE  3C 001E1 	    MOVZWL  VERSION, -(SP)					      ;
		  0000G  CF	       02  FB 001E5 	    CALLS   #2, CALC_TAPE_VER					      ;
		    38   AE	       06  D0 001EA 	    MOVL    #6, DESCR						      ; 0499
      3C   AE	  0000G  CF	       23  C1 001EE 	    ADDL3   #35, HDR1, DESCR+4					      ; 0500
				  34   AE  DD 001F5 	    PUSHL   GEN+4						      ; 0501
				  34   AE  DD 001F8 	    PUSHL   GEN							      ;
				  40   AE  9F 001FB 	    PUSHAB  DESCR						      ;
				       7E  D4 001FE 	    CLRL    -(SP)						      ;
				  38   A9  9F 00200 	    PUSHAB  P.AAG						      ;
		         6A	       05  FB 00203 	    CALLS   #5, SYS$FAO						      ;
					   04 00206 	    RET     							      ; 0367

; Routine Size:  451 bytes


;	0503	
;	0504	END
;	0505	ELUDOM






;				       PSECT SUMMARY
;
;	Name		 Bytes			       Attributes
;
;  $CODE$         	   519  NOWRT,  RD ,  EXE,NOSHR,  LCL,  REL,  CON,NOPIC,ALIGN(2)
;  $LOCKEDD1$     	    10    WRT,  RD ,NOEXE,NOSHR,  LCL,  REL,  CON,NOPIC,ALIGN(2)




;				LIBRARY STATISTICS
;
;					     -------- Symbols --------    Blocks
;	File				     Total    Loaded   Percent      Read
;
;  DBA4:[SYSLIB]LIB.L32;1		      5582        38         0       240





; Size:		451 code + 78 data bytes
; Run Time:	00:13.7
; Elapsed Time:	00:36.0
; Memory Used:	359 pages

; Bliss-32 7.352	Saturday 21-AUG-1978 23:32:56									Page 2-6
; Digital Equipment Corporation
;
; Compilation Complete

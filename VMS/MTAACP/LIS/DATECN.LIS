
; Bliss-32 7.352	Saturday 21-AUG-1978 23:29:57	DBB3:[MTAACP.SRC]DATECN.B32;3					Page 1
; Digital Equipment Corporation
;
;	0001	MODULE DATECN (
;	0002			LANGUAGE (BLISS32),
;	0003			IDENT = 'A0001'
;	0004			) =
;	0005	BEGIN
;	0006	
;	0007	!
;	0008	! COPYRIGHT (C) 1977
;	0009	! DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS 01754
;	0010	!
;	0011	! THIS SOFTWARE IS FURNISHED  UNDER A LICENSE FOR USE ONLY ON A SINGLE
;	0012	! COMPUTER  SYSTEM AND  MAY BE  COPIED ONLY WITH  THE INCLUSION OF THE
;	0013	! ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE, OR ANY OTHER COPIES THEREOF,
;	0014	! MAY NOT BE PROVIDED OR  OTHERWISE MADE AVAILABLE TO ANY OTHER PERSON
;	0015	! EXCEPT FOR USE ON SUCH SYSTEM AND TO ONE WHO AGREES TO THESE LICENSE
;	0016	! TERMS.  TITLE TO AND  OWNERSHIP OF THE  SOFTWARE  SHALL AT ALL TIMES
;	0017	! REMAIN IN DEC.
;	0018	!
;	0019	! THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE WITHOUT NOTICE
;	0020	! AND SHOULD  NOT BE CONSTRUED  AS A COMMITMENT  BY DIGITAL  EQUIPMENT
;	0021	! CORPORATION.
;	0022	!
;	0023	! DEC ASSUMES  NO  RESPONSIBILITY  FOR  THE USE OR  RELIABILITY OF ITS
;	0024	! SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
;	0025	
;	0026	!++
;	0027	!
;	0028	! FACILITY:  MTAACP
;	0029	!
;	0030	! ABSTRACT:
;	0031	!	CONVDATE_R2J CONVERTS DATES FROM DD-MMM-YY FORMAT TO (BLANK)YYDDD
;	0032	!	CONVDATE_J2R CONVERTS DATES FROM (BLANK)YYDDD TO DD-MMM-YY
;	0033	!
;	0034	!
;	0035	! ENVIRONMENT:
;	0036	!
;	0037	!	STARLET OPERATING SYSTEM, INCLUDING PRIVILEGED SYSTEM SERVICES
;	0038	!	AND INTERNAL EXEC ROUTINES.
;	0039	!
;	0040	!--
;	0041	!
;	0042	!
;	0043	! AUTHOR:  D. H. GILLESPIE,	 CREATION DATE:  31-MAY-77   9:00
;	0044	!
;	0045	! REVISION HISTORY:
;	0046	!
;	0047	!   D. H. Gillespie, 7-Mar-1978  11:18
;	0048	!   A0001 - CHANGE CENTURY YEAR DETERMINATION TO 50
;	0049	!
;	0050	!**
;	0051	LIBRARY	'SYS$LIBRARY:LIB.L32';
;	0052	REQUIRE 'SRC$:MTADEF.B32';
;	0348	
;	0349	
;	0350	

; Bliss-32 7.352	Saturday 21-AUG-1978 23:29:57	DBB3:[MTAACP.SRC]DATECN.B32;3					Page 1-1
; Digital Equipment Corporation
;
;	0351	FORWARD ROUTINE
;	0352		CONVDATE_R2J,			!REGULAR TO JULIAN
;	0353		CONVDATE_J2R;			!JULIAN TO REGULAR
;	0354	
;	0355	EXTERNAL ROUTINE
;	0356		LIB$CVT_DTB:	ADDRESSING_MODE(ABSOLUTE),			!CONVERT DECIMAL TO BINARY
;	0357		SYS$FAO:	ADDRESSING_MODE(ABSOLUTE);			!FORMATTED ASCII OUTPUT
;	0358	

; Bliss-32 7.352	Saturday 21-AUG-1978 23:29:57	DBB3:[MTAACP.SRC]DATECN.B32;3					Page 2
; Digital Equipment Corporation
;
;	0359	GLOBAL ROUTINE CONVDATE_R2J(REGDATE,ANSIJDATE)  =
;	0360	
;	0361	!++
;	0362	!
;	0363	! FUNCTIONAL DESCRIPTION:
;	0364	!	CONVERT FROM DD-MMM-YYYY TO (BLANK)YYDDD
;	0365	!
;	0366	!
;	0367	! CALLING SEQUENCE:
;	0368	!	CONVDATE_R2J(ARG1,ARG2)
;	0369	!
;	0370	! INPUT PARAMETERS:
;	0371	!	ARG1 ADDRESS OF INPUT STRING DD-MMM-YYYY
;	0372	!	ARG2 ADDRESS OF OUTPUT STRING (BLANK)YYDDD
;	0373	!
;	0374	! IMPLICIT INPUTS:
;	0375	!	NONE
;	0376	!
;	0377	! OUTPUT PARAMETERS:
;	0378	!	OUTPUT STRING POINTED TO BY ARG2
;	0379	!
;	0380	! IMPLICIT OUTPUTS:
;	0381	!	NONE
;	0382	!
;	0383	! ROUTINE VALUE:
;	0384	!	1 IF SUCCESSFUL
;	0385	!	0 SYSTAX ERROR
;	0386	!
;	0387	! SIDE EFFECTS:
;	0388	!	NONE
;	0389	!
;	0390	!--
;	0391	BEGIN
;	0392	
;	0393	GLOBAL BIND
;	0394		DAYTBL = UPLIT WORD(0,31,59,90,120,151,181,212,243,273,304,334,365):VECTOR [,WORD],
;	0395		MONTBL = CH$PTR(UPLIT('JAN FEB MAR APR MAY JUN JUL AUG SEP OCT NOV DEC ')):VECTOR[CH$ALLOCATION(48)];
;	0396	
;	0397	LOCAL
;	0398		CONVOUTPUT:	VECTOR [2],	!OUTPUT DESCRIPTOR
;	0399		MONTH,				!INDEX INTO MONTH TABLE
;	0400		DAYS,				!NUMBER OF DAYS
;	0401		REGADR,				!CHAR PTR TO REG DATE STRING
;	0402		YEAR,				!NUMBER OF YEAR
;	0403		LPYEAR;				!LEAP YEAR
;	0404	
;	0405	BIND
;	0406		CONVCONTROL = DESCRIPTOR(' !AD!3ZL'),
;	0407		BYEAR=	YEAR:BLOCK[1];
;	0408	
;	0409	! SETUP ADDR POINTER
;	0410	REGADR = .REGDATE;
;	0411	IF .(.REGADR)<0,8> EQL ' ' THEN REGADR = .REGADR + 1;
;	0412	
;	0413	! CONVERT DD TO BINARY # OF DAYS

; Bliss-32 7.352	Saturday 21-AUG-1978 23:29:57	DBB3:[MTAACP.SRC]DATECN.B32;3					Page 2-1
; Digital Equipment Corporation
;
;	0414	IF NOT LIB$CVT_DTB((IF .(.REGADR+1)<0,8> EQLU '-' THEN 1 ELSE 2),.REGADR,DAYS)
;	0415	THEN RETURN 0;
;	0416	
;	0417	! BUMP ADDR POINTER IN DATE TO MMM
;	0418	REGADR = CH$FIND_CH(3,.REGADR,'-') + 1;
;	0419	
;	0420	! LOOKUP MMM IN TABLE TO DISCOVER # OF DAYS IN YEAR PRECEDING CURRENT MONTH
;	0421	MONTH = 0;
;	0422	WHILE 1 DO
;	0423	    BEGIN
;	0424	    IF CH$EQL (3,.REGADR,3,MONTBL[.MONTH],0) THEN EXITLOOP;
;	0425	    MONTH = .MONTH + 1;
;	0426	    IF .MONTH GEQU 12 THEN RETURN 0;
;	0427	    END;
;	0428	
;	0429	! CONVERT YEAR AND DECIDE IF LEGAL DAY IN MONTH
;	0430	REGADR = CH$PTR(.REGADR,4);
;	0431	IF NOT LIB$CVT_DTB((IF .(.REGADR+2)<0,8> EQLU ' ' THEN 2 ELSE 4),.REGADR,YEAR)
;	0432	THEN RETURN 0;
;	0433	
;	0434	! DETERMINE IF YEAR IS LEAP YEAR
;	0435	LPYEAR = 0;
;	0436	IF .BYEAR[0,0,2,0] EQLU 0 THEN LPYEAR = 1;
;	0437	IF .DAYS GTRU (.DAYTBL[.MONTH+1] - .DAYTBL[.MONTH])
;	0438	THEN IF NOT (.LPYEAR
;	0439		AND (.MONTH EQLU 1)
;	0440		AND (.DAYS EQLU 29)) THEN RETURN 0;
;	0441	DAYS = .DAYS + .DAYTBL[.MONTH];
;	0442	IF .MONTH GTRU 1 THEN DAYS = .DAYS + .LPYEAR;
;	0443	
;	0444	! SETUP OUTPUT STRING ADDR
;	0445	CONVOUTPUT[0] = 6;			!OUTPUT STRING LENGTH
;	0446	CONVOUTPUT[1] = .ANSIJDATE;
;	0447	
;	0448	! SETUP YY CHAR PTR
;	0449	REGADR = CH$PLUS(.REGADR,2);
;	0450	
;	0451	!FORMAT OUTPUT STRING
;	0452	SYS$FAO(CONVCONTROL,,CONVOUTPUT,2,.REGADR,.DAYS);
;	0453	RETURN 1;
;	0454	END;				!END ROUTINE


							    .TITLE  DATECN
							    .IDENT  \A0001\

							    .PSECT  $CODE$,NOWRT,2

					      00000 P.AAA:  .WORD   0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, -  ;
								    365							      ;
					      0001A	    .BLKB   2
					      0001C P.AAB:  .ASCII  \JAN FEB MAR APR MAY JUN JUL AUG SEP OCT NOV DEC \	      ;
					      0004C P.AAD:  .ASCII  \ !AD!3ZL\						      ;
					      00054 P.AAC:  .LONG   8							      ;
					      00058 	    .ADDRESS  P.AAD						      ;

; Bliss-32 7.352	Saturday 21-AUG-1978 23:29:57	DBB3:[MTAACP.SRC]DATECN.B32;3					Page 2-2
; Digital Equipment Corporation
;

						    DAYTBL==		P.AAA
						    MONTBL==		P.AAB
						    CONVCONTROL=	P.AAC
							    .GLOBL  LIB$CVT_DTB, SYS$FAO

					 0C3C 0005C 	    .ENTRY  CONVDATE_R2J, Save R2,R3,R4,R5,R10,R11		      ; 0359
		         5A 00000000G  9F  9E 0005E 	    MOVAB   @#LIB$CVT_DTB, R10					      ;
		         5B	  98   AF  9E 00065 	    MOVAB   DAYTBL, R11						      ;
		         5E	       10  C2 00069 	    SUBL2   #16, SP						      ;
		         55	  04   AC  D0 0006C 	    MOVL    REGDATE, REGADR					      ; 0410
		         20	       65  91 00070 	    CMPB    (REGADR), #32					      ; 0411
				       02  12 00073 	    BNEQ    1$							      ;
				       55  D6 00075 	    INCL    REGADR						      ;
				  04   AE  9F 00077 1$:     PUSHAB  DAYS						      ; 0414
				       55  DD 0007A 	    PUSHL   REGADR						      ;
		         2D	  01   A5  91 0007C 	    CMPB    1(REGADR), #45					      ;
				       04  12 00080 	    BNEQ    2$							      ;
				       01  DD 00082 	    PUSHL   #1							      ;
				       02  11 00084 	    BRB     3$							      ;
				       02  DD 00086 2$:     PUSHL   #2							      ;
		         6A	       03  FB 00088 3$:     CALLS   #3, LIB$CVT_DTB					      ;
		         37	       50  E9 0008B 	    BLBC    R0, 9$						      ;
	   65	         03	       2D  3A 0008E 	    LOCC    #45, #3, (REGADR)					      ; 0418
				       02  12 00092 	    BNEQ    4$							      ;
				       51  D4 00094 	    CLRL    R1							      ;
	   55	         51	       01  C1 00096 4$:     ADDL3   #1, R1, REGADR					      ;
				       54  D4 0009A 	    CLRL    MONTH						      ; 0421
				  1C AB44  DF 0009C 5$:     PUSHAL  MONTBL[MONTH]					      ; 0424
	   9E	         65	       03  29 000A0 	    CMPC3   #3, (REGADR), @(SP)+				      ;
				       09  13 000A4 	    BEQL    6$							      ;
				       54  D6 000A6 	    INCL    MONTH						      ; 0425
		         0C	       54  D1 000A8 	    CMPL    MONTH, #12						      ; 0426
				       EF  1F 000AB 	    BLSSU   5$							      ;
				       7A  11 000AD 	    BRB     13$							      ;
		         55	       04  C0 000AF 6$:     ADDL2   #4, REGADR						      ; 0430
				4020   8F  BB 000B2 	    PUSHR   #^M<R5,SP>						      ; 0431
		         20	  02   A5  91 000B6 	    CMPB    2(REGADR), #32					      ;
				       04  12 000BA 	    BNEQ    7$							      ;
				       02  DD 000BC 	    PUSHL   #2							      ;
				       02  11 000BE 	    BRB     8$							      ;
				       04  DD 000C0 7$:     PUSHL   #4							      ;
		         6A	       03  FB 000C2 8$:     CALLS   #3, LIB$CVT_DTB					      ;
		         61	       50  E9 000C5 9$:     BLBC    R0, 13$						      ;
				       51  D4 000C8 	    CLRL    LPYEAR						      ; 0435
		         03	       6E  93 000CA 	    BITB    BYEAR, #3						      ; 0436
				       03  12 000CD 	    BNEQ    10$							      ;
		         51	       01  D0 000CF 	    MOVL    #1, LPYEAR						      ;
		         50	  02 AB44  3C 000D2 10$:    MOVZWL  DAYTBL+2[MONTH], R0					      ; 0437
		         52	     6B44  3C 000D7 	    MOVZWL  DAYTBL[MONTH], R2					      ;
		         50	       52  C2 000DB 	    SUBL2   R2, R0						      ;
		         50	  04   AE  D1 000DE 	    CMPL    DAYS, R0						      ;
				       0E  1B 000E2 	    BLEQU   11$							      ;
		         42	       51  E9 000E4 	    BLBC    LPYEAR, 13$						      ; 0438
		         01	       54  D1 000E7 	    CMPL    MONTH, #1						      ; 0439

; Bliss-32 7.352	Saturday 21-AUG-1978 23:29:57	DBB3:[MTAACP.SRC]DATECN.B32;3					Page 2-3
; Digital Equipment Corporation
;
				       3D  12 000EA 	    BNEQ    13$							      ;
		         1D	  04   AE  D1 000EC 	    CMPL    DAYS, #29						      ; 0440
				       37  12 000F0 	    BNEQ    13$							      ;
		         50	     6B44  3C 000F2 11$:    MOVZWL  DAYTBL[MONTH], R0					      ; 0441
		    04   AE	       50  C0 000F6 	    ADDL2   R0, DAYS						      ;
		         01	       54  D1 000FA 	    CMPL    MONTH, #1						      ; 0442
				       04  1B 000FD 	    BLEQU   12$							      ;
		    04   AE	       51  C0 000FF 	    ADDL2   LPYEAR, DAYS					      ;
		    08   AE	       06  D0 00103 12$:    MOVL    #6, CONVOUTPUT					      ; 0445
		    0C   AE	  08   AC  D0 00107 	    MOVL    ANSIJDATE, CONVOUTPUT+4				      ; 0446
		         55	       02  C0 0010C 	    ADDL2   #2, REGADR						      ; 0449
				  04   AE  DD 0010F 	    PUSHL   DAYS						      ; 0452
				       55  DD 00112 	    PUSHL   REGADR						      ;
				       02  DD 00114 	    PUSHL   #2							      ;
				  14   AE  9F 00116 	    PUSHAB  CONVOUTPUT						      ;
				       7E  D4 00119 	    CLRL    -(SP)						      ;
				  54   AB  9F 0011B 	    PUSHAB  CONVCONTROL						      ; 0359
	      00000000G  9F	       06  FB 0011E 	    CALLS   #6, @#SYS$FAO					      ; 0452
		         50	       01  D0 00125 	    MOVL    #1, R0						      ; 0453
					   04 00128 	    RET     							      ;
				       50  D4 00129 13$:    CLRL    R0							      ; 0359
					   04 0012B 	    RET     							      ;

; Routine Size:  208 bytes



; Bliss-32 7.352	Saturday 21-AUG-1978 23:29:57	DBB3:[MTAACP.SRC]DATECN.B32;3					Page 3
; Digital Equipment Corporation
;
;	0455	GLOBAL ROUTINE CONVDATE_J2R (DATEREG,DATEANSIJ) =
;	0456	
;	0457	!++
;	0458	!
;	0459	! FUNCTIONAL DESCRIPTION:
;	0460	!	CONVERT FROM (BLANK)YYDDD TO DD-MMM-YYYY
;	0461	!
;	0462	! CALLING SEQUENCE:
;	0463	!	CONVDATE_J2R(ARG1,ARG2)
;	0464	!
;	0465	! INPUT PARAMETERS:
;	0466	!	ARG1 ADDR OF OUTPUT STRING DD-MMM-YYYY( 11 CHAR )
;	0467	!	ARG2 ADDR OF INPUT STRING (BLANK)YYDDD
;	0468	!
;	0469	! IMPLICIT INPUTS:
;	0470	!	NONE
;	0471	!
;	0472	! OUTPUT PARAMETERS:
;	0473	!	OUTPUT STRING POINTED TO BY ARG1
;	0474	!
;	0475	! IMPLICIT OUTPUTS:
;	0476	!	NONE
;	0477	!
;	0478	! ROUTINE VALUE:
;	0479	!	1 IF SUCCESSFUL
;	0480	!	0 IF NOT
;	0481	!
;	0482	! SIDE EFFECTS:
;	0483	!	NONE
;	0484	!
;	0485	!--
;	0486	BEGIN
;	0487	EXTERNAL
;	0488		DAYTBL,			!DAY TABLE
;	0489		MONTBL;			!ASCII MONTH TABLE
;	0490	
;	0491	MAP
;	0492		DAYTBL:	VECTOR[,WORD],
;	0493		MONTBL:	VECTOR[CH$ALLOCATION(48)];
;	0494	LOCAL
;	0495		CONVOUTPUT:	VECTOR [2],
;	0496		MONTH,			!INDEX INTO MONTH TABLE /3
;	0497		DAYS,			!# OF DAYS IN MONTH
;	0498		YEAR,			!# OF YEARS
;	0499		JULADR,			!ADDR OF JULIAN CHAR
;	0500		LPYEAR,			!1 IF LEAP YEAR
;	0501		FEB29;			!1 IF FEB 29TH
;	0502	
;	0503	BIND
;	0504		CONVCONTROL = DESCRIPTOR('!2ZL-!AD-!4ZL'),
;	0505		BYEAR = YEAR:BLOCK[1],
;	0506		MAXDAYS = UPLIT WORD(365,366): VECTOR [,WORD];
;	0507	
;	0508	! SETUP POINTER TO DDD IN JULIAN INPUT STRING
;	0509	JULADR = CH$PLUS(.DATEANSIJ,3);

; Bliss-32 7.352	Saturday 21-AUG-1978 23:29:57	DBB3:[MTAACP.SRC]DATECN.B32;3					Page 3-1
; Digital Equipment Corporation
;
;	0510	
;	0511	! CONVERT TO BINARY DATE
;	0512	IF NOT LIB$CVT_DTB(3,.JULADR,DAYS) THEN RETURN 0;
;	0513	
;	0514	!BACKUP POINTER TO YY AND CONVERT TO BINARY
;	0515	JULADR = CH$PLUS(.JULADR,-2);
;	0516	IF NOT LIB$CVT_DTB(2,.JULADR,YEAR) THEN RETURN 0;
;	0517	
;	0518	! DETERMINE IF YEAR IS LEAP YEAR AND WHICH CENTURY IT IS IN
;	0519	IF .YEAR LSSU 50 THEN
;	0520	    YEAR = .YEAR + 2000
;	0521	ELSE
;	0522	    YEAR = .YEAR + 1900;
;	0523	
;	0524	! ADJUST DAYS FOR LEAP YEAR AND DISCOVER MONTH
;	0525	FEB29 = 0;
;	0526	IF .DAYS GTRU 59 THEN
;	0527	    BEGIN
;	0528	    LPYEAR = (.BYEAR[0,0,2,0] EQLU 0 );
;	0529	    FEB29 = (.DAYS EQLU 60) AND .LPYEAR;
;	0530	    DAYS = .DAYS - .LPYEAR;
;	0531	    END;
;	0532	
;	0533	! KNOW DAYS IN YEAR AND IF YEAR IS LEAP YEAR, NOW IS THIS A LEGAL DATE
;	0534	IF .DAYS EQLU 0 OR .DAYS GTRU .MAXDAYS[.LPYEAR] THEN RETURN 0;
;	0535	
;	0536	! FIND MONTH
;	0537	MONTH = 1;
;	0538	WHILE 1 DO
;	0539	    BEGIN
;	0540	    IF (.DAYS LEQU .DAYTBL[.MONTH]) THEN EXITLOOP;
;	0541	    MONTH = .MONTH + 1;
;	0542	    IF .MONTH GEQU  13 THEN RETURN 0;
;	0543	    END;
;	0544	
;	0545	! GET DATE IN MONTH
;	0546	MONTH = .MONTH - 1;
;	0547	DAYS = .DAYS - .DAYTBL[.MONTH] + .FEB29;
;	0548	
;	0549	! SETUP AND FORMAT OUTPUT STRING
;	0550	CONVOUTPUT[0] = 11;
;	0551	CONVOUTPUT[1] = .DATEREG;
;	0552	SYS$FAO(CONVCONTROL,,CONVOUTPUT,.DAYS,3,MONTBL[.MONTH],.YEAR);
;	0553	RETURN 1;
;	0554	END;	!ROUTINE



					      0012C P.AAF:  .ASCII  \!2ZL-!AD-!4ZL\					      ;
					      00139	    .BLKB   3
					      0013C P.AAE:  .LONG   13							      ;
					      00140 	    .ADDRESS  P.AAF						      ;
					      00144 P.AAG:  .WORD   365, 366						      ;

						    CONVCONTROL=	P.AAE

; Bliss-32 7.352	Saturday 21-AUG-1978 23:29:57	DBB3:[MTAACP.SRC]DATECN.B32;3					Page 3-2
; Digital Equipment Corporation
;
						    MAXDAYS=		P.AAG


					 080C 00148 	    .ENTRY  CONVDATE_J2R, Save R2,R3,R11			      ; 0455
		         5B 00000000G  9F  9E 0014A 	    MOVAB   @#LIB$CVT_DTB, R11					      ;
		         5E	       10  C2 00151 	    SUBL2   #16, SP						      ;
	   52	    08   AC	       03  C1 00154 	    ADDL3   #3, DATEANSIJ, JULADR				      ; 0509
				  04   AE  9F 00159 	    PUSHAB  DAYS						      ; 0512
				       52  DD 0015C 	    PUSHL   JULADR						      ;
				       03  DD 0015E 	    PUSHL   #3							      ;
		         6B	       03  FB 00160 	    CALLS   #3, LIB$CVT_DTB					      ;
		         71	       50  E9 00163 	    BLBC    R0, 7$						      ;
		         52	       02  C2 00166 	    SUBL2   #2, JULADR						      ; 0515
				4004   8F  BB 00169 	    PUSHR   #^M<R2,SP>						      ; 0516
				       02  DD 0016D 	    PUSHL   #2							      ;
		         6B	       03  FB 0016F 	    CALLS   #3, LIB$CVT_DTB					      ;
		         62	       50  E9 00172 	    BLBC    R0, 7$						      ;
		         32	       6E  D1 00175 	    CMPL    YEAR, #50						      ; 0519
				       09  1E 00178 	    BGEQU   1$							      ;
		         6E 000007D0   8F  C0 0017A 	    ADDL2   #2000, YEAR						      ; 0520
				       07  11 00181 	    BRB     2$							      ; 0519
		         6E 0000076C   8F  C0 00183 1$:     ADDL2   #1900, YEAR						      ; 0522
				       52  D4 0018A 2$:     CLRL    FEB29						      ; 0525
		         3B	  04   AE  D1 0018C 	    CMPL    DAYS, #59						      ; 0526
				       1E  1B 00190 	    BLEQU   5$							      ;
				       50  D4 00192 	    CLRL    R0							      ; 0528
		         03	       6E  93 00194 	    BITB    BYEAR, #3						      ;
				       02  12 00197 	    BNEQ    3$							      ;
				       50  D6 00199 	    INCL    R0							      ;
				       51  D4 0019B 3$:     CLRL    R1							      ; 0529
		         3C	  04   AE  D1 0019D 	    CMPL    DAYS, #60						      ;
				       02  12 001A1 	    BNEQ    4$							      ;
				       51  D6 001A3 	    INCL    R1							      ;
		         52	       50  D2 001A5 4$:     MCOML   LPYEAR, FEB29					      ;
	   52	         51	       52  CB 001A8 	    BICL3   FEB29, R1, FEB29					      ;
		    04   AE	       50  C2 001AC 	    SUBL2   LPYEAR, DAYS					      ; 0530
		         51	  04   AE  D0 001B0 5$:     MOVL    DAYS, R1						      ; 0534
				       5C  13 001B4 	    BEQL    9$							      ;
				  8A AF40  3F 001B6 	    PUSHAW  MAXDAYS[LPYEAR]					      ;
	   9E	         10	       00  ED 001BA 	    CMPZV   #0, #16, @(SP)+, R1					      ;
				       51     001BE									      ;
				       51  1F 001BF 	    BLSSU   9$							      ;
		         50	       01  D0 001C1 	    MOVL    #1, MONTH						      ; 0537
				0000GCF40  3F 001C4 6$:     PUSHAW  DAYTBL[MONTH]					      ; 0540
	   9E	         10	       00  ED 001C9 	    CMPZV   #0, #16, @(SP)+, R1					      ;
				       51     001CD									      ;
				       09  1E 001CE 	    BGEQU   8$							      ;
				       50  D6 001D0 	    INCL    MONTH						      ; 0541
		         0D	       50  D1 001D2 	    CMPL    MONTH, #13						      ; 0542
				       ED  1F 001D5 	    BLSSU   6$							      ;
				       39  11 001D7 7$:     BRB     9$							      ;
				       50  D7 001D9 8$:     DECL    MONTH						      ; 0546
		         53	0000GCF40  3C 001DB 	    MOVZWL  DAYTBL[MONTH], R3					      ; 0547
		         51	       53  C2 001E1 	    SUBL2   R3, R1						      ;
      04   AE	         51	       52  C1 001E4 	    ADDL3   FEB29, R1, DAYS					      ;

; Bliss-32 7.352	Saturday 21-AUG-1978 23:29:57	DBB3:[MTAACP.SRC]DATECN.B32;3					Page 3-3
; Digital Equipment Corporation
;
		    08   AE	       0B  D0 001E9 	    MOVL    #11, CONVOUTPUT					      ; 0550
		    0C   AE	  04   AC  D0 001ED 	    MOVL    DATEREG, CONVOUTPUT+4				      ; 0551
				       6E  DD 001F2 	    PUSHL   YEAR						      ; 0552
				0000GCF40  DF 001F4 	    PUSHAL  MONTBL[MONTH]					      ;
				       03  DD 001F9 	    PUSHL   #3							      ;
				  10   AE  DD 001FB 	    PUSHL   DAYS						      ;
				  18   AE  9F 001FE 	    PUSHAB  CONVOUTPUT						      ;
				       7E  D4 00201 	    CLRL    -(SP)						      ;
				FF35   CF  9F 00203 	    PUSHAB  CONVCONTROL						      ; 0455
	      00000000G  9F	       07  FB 00207 	    CALLS   #7, @#SYS$FAO					      ; 0552
		         50	       01  D0 0020E 	    MOVL    #1, R0						      ; 0553
					   04 00211 	    RET     							      ;
				       50  D4 00212 9$:     CLRL    R0							      ; 0455
					   04 00214 	    RET     							      ;

; Routine Size:  205 bytes


;	0555	END	!END MODULE
;	0556	ELUDOM	!END MODULE






;				       PSECT SUMMARY
;
;	Name		 Bytes			       Attributes
;
;  $CODE$         	   533  NOWRT,  RD ,  EXE,NOSHR,  LCL,  REL,  CON,NOPIC,ALIGN(2)




;				LIBRARY STATISTICS
;
;					     -------- Symbols --------    Blocks
;	File				     Total    Loaded   Percent      Read
;
;  DBA4:[SYSLIB]LIB.L32;1		      5582         6         0       224





; Size:		413 code + 120 data bytes
; Run Time:	00:12.0
; Elapsed Time:	00:33.6
; Memory Used:	294 pages
; Compilation Complete

BLOCK                                                            21-AUG-1978 23:23:54   VAX-11 MACRO X0.3-11               Page   1
A0001                                                                                                                            (1)

                                     0000     1 	.TITLE	BLOCK
                                     0000     2 	.IDENT	"A0001"
                                     0000     3 
                                     0000     4 ;
                                     0000     5 ; COPYRIGHT (C) 1977
                                     0000     6 ; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS 01754
                                     0000     7 ;
                                     0000     8 ; THIS SOFTWARE IS FURNISHED  UNDER A LICENSE FOR USE ONLY ON A SINGLE
                                     0000     9 ; COMPUTER  SYSTEM AND  MAY BE  COPIED ONLY WITH  THE INCLUSION OF THE
                                     0000    10 ; ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE, OR ANY OTHER COPIES THEREOF,
                                     0000    11 ; MAY NOT BE PROVIDED OR  OTHERWISE MADE AVAILABLE TO ANY OTHER PERSON
                                     0000    12 ; EXCEPT FOR USE ON SUCH SYSTEM AND TO ONE WHO AGREES TO THESE LICENSE
                                     0000    13 ; TERMS.  TITLE TO AND  OWNERSHIP OF THE  SOFTWARE  SHALL AT ALL TIMES
                                     0000    14 ; REMAIN IN DEC.
                                     0000    15 ;
                                     0000    16 ; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE WITHOUT NOTICE
                                     0000    17 ; AND SHOULD  NOT BE CONSTRUED  AS A COMMITMENT  BY DIGITAL  EQUIPMENT
                                     0000    18 ; CORPORATION.
                                     0000    19 ;
                                     0000    20 ; DEC ASSUMES  NO  RESPONSIBILITY  FOR  THE USE OR  RELIABILITY OF ITS
                                     0000    21 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
                                     0000    22 
                                     0000    23 ;++
                                     0000    24 ;
                                     0000    25 ; FACILITY:	MAGNETIC TAPE ACP  
                                     0000    26 ;
                                     0000    27 ; ABSTRACT:
                                     0000    28 ;	THIS MODULE HANDLES THE BLOCKING AND UNBLOCKING OF THE PROCESS
                                     0000    29 ;
                                     0000    30 ;
                                     0000    31 ; ENVIRONMENT:
                                     0000    32 ;	STARLET OPERATING SYSTEM, INCLUDING PRIVILEGED SYSTEM SERVICES
                                     0000    33 ;	AND INTERNAL EXEC ROUTINES.  
                                     0000    34 ;
                                     0000    35 ;
                                     0000    36 ; AUTHOR:  DEBORAH H. GILLESPIE,   CREATION DATE:	05-JUL-1977  
                                     0000    37 ;
                                     0000    38 ; MODIFIED BY:
                                     0000    39 ;
                                     0000    40 ; D. H. Gillespie, version A0001, 12-MAY-1978
                                     0000    41 ; A0001 - change CURRENT_VCB to register
                                     0000    42 ;--
                                     0000    43 
                                     0000    44 ;
                                     0000    45 ; INCLUDE FILES:
                                     0000    46 ;	.INCLUDE MTADEF.MAR
                                     0000    47 
                                     0000    48 ;
                                     0000    49 ; MACROS:
                                     0000    50 	$PCBDEF
                                     0000    51 ;
                                     0000    52 
                                     0000    53 ;
                                     0000    54 ;
                                     0000    55 ; EQUATED SYMBOLS:
                                     0000    56 ;
                                     0000    57 ;
BLOCK                                                            21-AUG-1978 23:23:54   VAX-11 MACRO X0.3-11               Page   2
A0001                                                                                                                            (1)

                           00000000  0000    58 ASTEXIT	= 0			;AST EXIT CHANGE MODE CODE
                           00000001  0000    59 EXEC_MODE = 1			;EXEC MODE
                                     0000    60 ;
                                     0000    61 ; DISPLACEMENTS OF INTERESTING VARIABLES ON STACK
                           0000000C  0000    62 PREVFP	= 12			;LOCATION ON STACK OF SAVED FP OF CALLER
                                     0000    63 ;
                                     0000    64 ; PARAMETERS FOR KERNEL_BLOCK
                           00000004  0000    65 REASON = 4			;MASK IN STATUS TO SET INDICATING REASON FOR BLOCK
                           00000008  0000    66 PAGE = 8			;FIRST ARGUMENT IS PAGE ADDRESS
                                     0000    67 
                                     0000    68 	$VCBDEF			;DEFINE VOLUME CONTROL BLOCK
                                     0000    69 	$VVPDEF			;DEFINE VOLUME VIRTUAL PAGE
                                     0000    70 
                                     0000    71 ;
                                     0000    72 ; OWN STORAGE:
                                     0000    73 ;
BLOCK                                                            21-AUG-1978 23:23:54   VAX-11 MACRO X0.3-11               Page   3
A0001                                                                                                                            (2)

                                     0000    75 ;++
                                     0000    76 ;
                                     0000    77 ; FUNCTIONAL DESCRIPTION:
                                     0000    78 ;	THIS ROUTINE HANDLES THE BLOCKING OF CURRENT REQUEST
                                     0000    79 ;
                                     0000    80 ; CALLING SEQUENCE:
                                     0000    81 ;	CALL	ARGLIST,BLOCK
                                     0000    82 ;
                                     0000    83 ; INPUT PARAMETERS:
                                     0000    84 ;	REASON(AP) - MASK OF STATUS BIT TO BE SET INDICATING REASON FOR BLOCK
                                     0000    85 ;
                                     0000    86 ; IMPLICIT INPUTS:
                                     0000    87 ;	THE EXEC STACK
                                     0000    88 ;
                                     0000    89 ; OUTPUT PARAMETERS:
                                     0000    90 ;	NONE
                                     0000    91 ;
                                     0000    92 ; IMPLICIT OUTPUTS:
                                     0000    93 ;	VIRTUAL PAGE(S) CONTAINING STACK AND IMPURE AREA
                                     0000    94 ;
                                     0000    95 ; ROUTINE VALUE:
                                     0000    96 ;	NONE
                                     0000    97 ;
                                     0000    98 ; SIDE EFFECTS:
                                     0000    99 ; 	THE REQUEST'S EXEC STACK AND IMPURE AREA ARE SAVED
                                     0000   100 
                                     0000   101 ;
                                     0000   102 ;--
                                     0000   103 
                                 00000000   104 	.PSECT	$CODE$,NOWRT,LONG
                                     0000   105 
                                     0000   106 BLOCK::
                               0FFC  0000   107 	.WORD	^M<R2,R3,R4,R5,R6,R7,R8,R9,R10,R11>;SAVE REGISTERS
                                     0002   108 ; BLOCK CURRENT PROCESS
            50         0C AD     D0  0002   109 10$:	MOVL	PREVFP(FP),R0		;GET PREVIOUS FRAME PTER
            60   00000000'8F     D1  0006   110 	CMPL	#EXCEPT_HNDLR,(R0)	;DOES IT CONTAIN THE EXCEPTION HANDLER
                          05     13  000D   111 	BEQLU	20$			;YES, LEAVE FP AT FRAME BEFORE THIS ONE
            5D            50     D0  000F   112 	MOVL	R0,FP			;TRY NEXT ONE
                          EE     11  0012   113 	BRB	10$			;CHECK IT
            50            5E     C3  0014   114 20$:	SUBL3	SP,R0,R6		;CALC # OF BYTES OF STACK TO SAVE
                          56         0017       
            56   0000000E'8F     C1  0018   115 	ADDL3	#IMPURE_SIZE+2+VVP$K_LENGTH,R6,R7	;SAVE IMPURE AREA,
                          57         001F       
                                     0020   116 				; LENGTH AND INCLUDE FIXED AREA OF VIRTUAL BLOCKS
                          58     D4  0020   117 	CLRL	R8			;R7-R8 QUOTIENT
            57   00000200 8F     7B  0022   118 	EDIV	#512,R7,R0,R1		;CALC # OF VIRTUAL PAGES NEEDED
            51            50         0029       
                          51     D5  002B   119 	TSTL	R1			;IS ANOTHER PAGE NEEDED
                          02     13  002D   120 	BEQLU	50$			;NO
                          50     D6  002F   121 	INCL	R0			;YES, INC # OF PAGES NEEDED
                          7E     DF  0031   122 50$:	PUSHAL	-(SP)			;ALLOCATE SPACE TO STORE ADDRESS OF FREE PAGE
                                     0033   123 					;AND PUSH THAT ADDR 
                          50     DD  0033   124 	PUSHL	R0			;# OF PAGES NEEDED
   00000000'EF            02     FB  0035   125 	CALLS	#2,GET_FREE_PAGE	;GET VIRTUAL PAGE(S)
                          08     BA  003C   126 	POPR	#^M<R3>			;GET FREE PAGE ADDRESS OFF STACK
         0A A3            02     90  003E   127 	MOVB	#VVP_TYPE,VVP$B_TYPE(R3);SET BLOCK TYPE TO VIRTUAL PAGE
                                     0042   128 
BLOCK                                                            21-AUG-1978 23:23:54   VAX-11 MACRO X0.3-11               Page   4
A0001                                                                                                                            (2)

                                     0042   129 ; CHANGE TO KERNEL MODE TO INSERT IN VOLUME VIRTUAL PAGE QUEUE
                          53     DD  0042   130 	PUSHL	R3			;ADDRESS OF PAGE
                       04 AC     DD  0044   131 	PUSHL	REASON(AP)		;REASON FOR BLOCK
                          02     DD  0047   132 	PUSHL	#2			;ONE ARGUMENT
                          5E     DD  0049   133 	PUSHL	SP			;ADDRESS OF ARGUMENT LIST
                 000000E1'EF     9F  004B   134 	PUSHAB	KERNEL_BLOCK
   00000000'9F            05     FB  0051   135 	CALLS	#5,@#SYS$CMKRNL
   00000000'EF       0000'8F     28  0058   136 	MOVC	#IMPURE_SIZE,USER_STATUS,VVP$K_LENGTH(R3);MOVE IMPURE AREA TO VIRTUAL PAGE
                       0C A3         0061       
            83            56     B0  0063   137 	MOVW	R6,(R3)+		;AMOUNT OF STACK
            6E            56     28  0066   138 	MOVC	R6,(SP),(R3)		;MOVE STACK
                          63         0069       
                 00000000'EF     D4  006A   139 	CLRL	IO_PACKET		;PREVENT COMPLETION OF IO
                                 04  0070   140 	RET				;RETURN TO CONTROL WITH ALL REGISTER CLOBBERED
BLOCK                                                            21-AUG-1978 23:23:54   VAX-11 MACRO X0.3-11               Page   5
A0001                                                                                                                            (3)

                                     0071   142 ;++
                                     0071   143 ;
                                     0071   144 ; FUNCTIONAL DESCRIPTION:
                                     0071   145 ;	THIS ROUTINE LOCATES THE STACK AND IMPURE AREA FOR THE BLOCKED PROCESS.
                                     0071   146 ;	IT RESTORES THE IMPURE AREA, LOCATES THE EXCEPTION HANDLER ON THE STACK AND 
                                     0071   147 ;	OVERLAYS THE STACK BEGINNING JUST FOLLOWING THE EXCEPTION HANDLER FRAME.
                                     0071   148 ;	IT RETURNS THE VIRTUAL ADDRESS SPACE TO THE FREE PAGE LIST.
                                     0071   149 ;	IT THEN RETURNS TO WHERE THE BLOCKED PROCESS LEFT OFF.
                                     0071   150 ;
                                     0071   151 ; CALLING SEQUENCE:
                                     0071   152 ;	CALL	UNBLOCK
                                     0071   153 ;
                                     0071   154 ; INPUT PARAMETERS:
                                     0071   155 ;	NONE
                                     0071   156 ;
                                     0071   157 ; IMPLICIT INPUTS:
                                     0071   158 ;	THE EXEC STACK, CURRENT_VCB(in R11) AND ITS ASSOCIATED VIRTUAL PAGES
                                     0071   159 ;
                                     0071   160 ; OUTPUT PARAMETERS:
                                     0071   161 ;	NONE
                                     0071   162 ;
                                     0071   163 ; IMPLICIT OUTPUTS:
                                     0071   164 ;	VIRUTAL PAGE(S) CONTAINING SAVED DATA ARE RETURNED TO THE FREE PAGES LIST
                                     0071   165 ;	STACK IS RESTORED.  THE EXEC STACK IS RESTORED TO STATE BEFORE PROCESS WAS BLOCKED
                                     0071   166 ;	IF AN AST TRIGGERED THE UNBLOCKING OF THE PROCESS, AN EXIT AST IS DONE.
                                     0071   167 
                                     0071   168 ;
                                     0071   169 ; ROUTINE VALUE:
                                     0071   170 ;	NONE
                                     0071   171 ;
                                     0071   172 ; SIDE EFFECTS:
                                     0071   173 ;
                                     0071   174 ;--
                                     0071   175 
                                 00000071   176 	.PSECT	$CODE$,NOWRT,LONG
                                     0071   177 
                                     0071   178 UNBLOCK::
                               0000  0071   179 	.WORD	^M<>			;DON'T SAVE REGISTERS
            56         40 AB     D0  0073   180 	MOVL	VCB$L_VPBL(R11),R6	;PICKUP TAIL OF VIRTUAL PAGE LIST, CONTAINS SAVED PROCESS S
         0C A6       0000'8F     28  0077   181  	MOVC3	#IMPURE_SIZE,VVP$K_LENGTH(R6),USER_STATUS	;RESTORE IMPURE AREA FIRST
                 00000000'EF         007D       
                                     0082   182 
                                     0082   183 ; ASSIGN CHANNEL
   00000000'9F   00000000'EF     C3  0082   184 	SUBL3	IO_CHANNEL,@#CTL$GL_CCBBASE,R0	;CALC ADDR OF CHANNEL CONTROL BLOCK
                          50         008D       
            60   00000000'EF     D0  008E   185 	MOVL	CURRENT_UCB,(R0)		;STUFF CHANNEL WITH CURRENT UCB
                                     0095   186 	
                                     0095   187 ; LOCATE EXCEPTION HANDLER ON STACK
            5D         0C AD     D0  0095   188 10$:	MOVL	PREVFP(FP),FP		;PICKUP PREVIOUS FP
            6D   00000000'8F     D1  0099   189 	CMPL	#EXCEPT_HNDLR,(FP)	;IS THIS THE EXCEPTION FRAME?
                          F3     12  00A0   190 	BNEQU	10$			;NOT FOUND YET
                                     00A2   191 	
                                     00A2   192 ; FOUND EXCEPTION HANDLER ON STACK
            50            61     3C  00A2   193 	MOVZWL	(R1),R0			;CONVERT WORD LENGTH TO LONG LENGTH
            5D            50     C2  00A5   194 	SUBL2	R0,FP			;RESTORE STACK POINTER BY SUBTRACTING
                                     00A8   195 					;LENGTH FROM EXCEPTION FRAME ADDRESS
            5E            5D     D0  00A8   196 	MOVL	FP,SP			;RESET STACK POINTER
BLOCK                                                            21-AUG-1978 23:23:54   VAX-11 MACRO X0.3-11               Page   6
A0001                                                                                                                            (3)

            61            81     28  00AB   197 	MOVC3	(R1)+,(R1),(FP)		;RESTORE STACK
                          6D         00AE       
                                     00AF   198 
                                     00AF   199 ; NOW GIVE BACK THE PAGES USED TO STORE THE STACK
                          7E     D4  00AF   200 	CLRL 	-(SP)			;NO PARAMETERS
                          5E     DD  00B1   201 	PUSHL	SP			;ADDRESS OF ARGUMENT LIST
                 000000EE'EF     9F  00B3   202 	PUSHAB	KERNEL_UNBLOCK		;ADDRESS OF SUBROUTINE TO EXECUTE IN KERNEL MODE
   00000000'9F            03     FB  00B9   203 	CALLS	#3,@#SYS$CMKRNL		;CHANGE MODE TO KERNEL SO CAN WRITE TO SYS SPACE
                          56     DD  00C0   204 	PUSHL	R6			;ADDR OF PAGE
   00000000'EF            01     FB  00C2   205 	CALLS	#1,RET_FREE_PAGE	;RETURN PAGES
                                     00C9   206 
                                     00C9   207 ; IF THERE IS AN ACTIVE AST FOR EXEC MODE, EXIT FROM IT
            51   00000000'9F     D0  00C9   208 	MOVL 	@#SCH$GL_CURPCB,R1	;ADDRESS OF PCB FOR THIS PROCESS
         0C A1            01     E1  00D0   209 	BBC	#EXEC_MODE,PCB$B_ASTACT(R1),20$
                          0B         00D4       
                                     00D5   210 	$SETAST_S	#0		;DISABLE AST DELIVERY
                          00     BC  00DE   211 	CHMK	S^#ASTEXIT		;RETURN FROM AST
                                     00E0   212 
                                 04  00E0   213 20$:	RET				;RETURN TO WHERE PROCESS BLOCKED
BLOCK                                                            21-AUG-1978 23:23:54   VAX-11 MACRO X0.3-11               Page   7
A0001                                                                                                                            (4)

                                     00E1   215 ;++
                                     00E1   216 ;
                                     00E1   217 ; FUNCTIONAL DESCRIPTION:
                                     00E1   218 ;	THIS ROUTINE INSERTS A VIRTUAL PAGE INTO TO VOLUME'S VIRTUAL
                                     00E1   219 ;	PAGE QUEUE IN THE VOLUME CONTROL BLOCK AND SET THE REASON FOR THE BLOCK
                                     00E1   220 ;
                                     00E1   221 ; CALLING SEQUENCE:
                                     00E1   222 ;	CALLG	ARGLIST,KERNEL_BLOCK
                                     00E1   223 ;	CALLED IN KERNEL MODE
                                     00E1   224 ;
                                     00E1   225 ; INPUT PARAMETERS:
                                     00E1   226 ;	REASON(AP)	- MASK IN STATUS TO SET INDICATING REASON FOR BLOCK
                                     00E1   227 ;	PAGE(AP)	- ADDRESS OF PAGE TO INSERT AT TAIL OF THE VIRTUAL PAGE
                                     00E1   228 ;			   QUEUE
                                     00E1   229 ;
                                     00E1   230 ; IMPLICIT INPUTS:
                                     00E1   231 ;	CURRENT-VCB - ADDRESS OF CURRENT VOLUME CONTROL BLOCK
                                     00E1   232 ;
                                     00E1   233 ; OUTPUT PARAMETERS:
                                     00E1   234 ;	NONE
                                     00E1   235 ;
                                     00E1   236 ; IMPLICIT OUTPUTS:
                                     00E1   237 ;	INSERT COMPLETE
                                     00E1   238 ;
                                     00E1   239 ; ROUTINE VALUE:
                                     00E1   240 ;	NONE
                                     00E1   241 ;
                                     00E1   242 ; SIDE EFFECTS:
                                     00E1   243 ;	NONE
                                     00E1   244 ;
                                     00E1   245 ;--
                                     00E1   246 
                                     00E1   247 KERNEL_BLOCK:
                               0000  00E1   248 	.WORD	^M<>				;SAVE REGISTER ONE
         0B AB         04 AC     88  00E3   249 	BISB2	REASON(AP),VCB$B_STATUS(R11)	;SET REASON FOR BLOCK
         40 BB         08 BC     0E  00E8   250 	INSQUE	@PAGE(AP),@VCB$L_VPBL(R11)	;INSERT IN QUEUE
                                 04  00ED   251 	RET
BLOCK                                                            21-AUG-1978 23:23:54   VAX-11 MACRO X0.3-11               Page   8
A0001                                                                                                                            (5)

                                     00EE   253 ;++
                                     00EE   254 ;
                                     00EE   255 ; FUNCTIONAL DESCRIPTION:
                                     00EE   256 ;	THIS ROUTINE REMOVES THE TAIL OF THE VIRTUAL PAGE QUEUE IN THE
                                     00EE   257 ;	VOLUME CONTROL BLOCK AND THE VOLUME SET REASONS FOR WAITING ARE CLEARED
                                     00EE   258 ;	IT ALSO REQUESTS ANY STALLED I/O
                                     00EE   259 ;
                                     00EE   260 ; CALLING SEQUENCE:
                                     00EE   261 ;	CALLG	KERNEL_UNBLOCK
                                     00EE   262 ;	CALLED IN KERNEL MODE
                                     00EE   263 ;
                                     00EE   264 ; INPUT PARAMETERS:
                                     00EE   265 ;	R11 - ADDRESS OF VOLUME CONTROL BLOCK
                                     00EE   266 ;
                                     00EE   267 ; IMPLICIT INPUTS:
                                     00EE   268 ;	NONE
                                     00EE   269 ;
                                     00EE   270 ; OUTPUT PARAMETERS:
                                     00EE   271 ;	NONE
                                     00EE   272 ;
                                     00EE   273 ; IMPLICIT OUTPUTS:
                                     00EE   274 ;	ONE ITEM REMOVED FROM TAIL OF  VIRTUAL PAGE QUEUE
                                     00EE   275 ;	REASON'S FOR BLOCKING PROCESS ARE CLEARED
                                     00EE   276 ;
                                     00EE   277 ; ROUTINE VALUE:
                                     00EE   278 ;	NONE
                                     00EE   279 ;
                                     00EE   280 ; SIDE EFFECTS:
                                     00EE   281 ;	NONE
                                     00EE   282 ;
                                     00EE   283 ;--
                                     00EE   284 
                                     00EE   285 KERNEL_UNBLOCK:
                               0180  00EE   286 	.WORD	^M<R7,R8>			;SAVE ONE REGISTER
            58         3C AB     D0  00F0   287 1$:	MOVL 	VCB$L_VPFL(R11),R8		;GET ADDR OF VIRTUAL PAGE FOR THIS VOL
            58       0108 D8     0F  00F4   288 	REMQUE	@VVP$L_STALLIOBL(R8),R8		;PICKUP PACKET AT END OF STALLED I/O QUEUE
                          09     1D  00F9   289 	BVS	2$				;PACKET NOT FOUND
                                     00FB   290 
                                     00FB   291 ; REQUEUE ALL STALLED I/O
   00000000'FF            68     0E  00FB   292 	INSQUE 	(R8),@QUEUE_HEAD
                          EC     11  0102   293 	BRB	1$
                                 8A  0104   294 2$:	BICB2	#<VCB$M_WAIREWIND + VCB$M_WAIMOUVOL + VCB$M_WAIUSRLBL>,-
         0B AB            1C         0105   295 		VCB$B_STATUS(R11)		; REASON FOR BLOCKING
            58         40 BB     0F  0108   296 	REMQUE	@VCB$L_VPBL(R11),R8		;REMOVE ONE ENTRY
                                 04  010C   297 	RET
                                     010D   298 
                                     010D   299 	.END
BLOCK                                                            21-AUG-1978 23:23:54   VAX-11 MACRO X0.3-11               Page   9
SYMBOL TABLE                                                                                                                     (5)

AQB_TYPE       = 00000005            PCB$V_PWRAST   = 00000016            VCB$K_COMLEN     00000024            
ASTEXIT        = 00000000            PCB$V_RES      = 00000000            VCB$K_LENGTH     00000054            
BIT...         = 00000009            PCB$V_RESPEN   = 00000005            VCB$K_MRKLEN     0000000B            
BLOCK            00000000 RG    03   PCB$V_SSFEXC   = 00000006            VCB$L_AQB        00000010            
CTL$GL_CCBBASE   ********   X   03   PCB$V_SSFEXCE  = 00000007            VCB$L_BLOCKBL    00000004            
CURRENT_UCB      ********   X   03   PCB$V_SSFEXCS  = 00000008            VCB$L_BLOCKFL    00000000            
EXCEPT_HNDLR     ********   X   03   PCB$V_SSFEXCU  = 00000009            VCB$L_CUR_FID    00000024            
EXEC_MODE      = 00000001            PCB$V_SSRWAIT  = 0000000A            VCB$L_FCBBL      00000004            
FCB_TYPE       = 00000000            PCB$V_SUSPEN   = 0000000B            VCB$L_FCBFL      00000000            
GBL...         = 00000000            PCB$V_SWPVBN   = 00000010            VCB$L_FREE       00000040            
GET_FREE_PAGE    ********   X   03   PCB$V_WAKEPEN  = 0000000C            VCB$L_HOME2LBN   00000028            
IMPURE_SIZE      ********   X   03   PCB$V_WALL     = 0000000D            VCB$L_HOMELBN    00000024            
IO_CHANNEL       ********   X   03   PCB$W_APTCNT     00000034            VCB$L_IBMAPLBN   00000030            
IO_PACKET        ********   X   03   PCB$W_ASTCNT     0000003C            VCB$L_IXHDR2LBN  0000002C            
KERNEL_BLOCK     000000E1 R     03   PCB$W_BIOCNT     0000003E            VCB$L_MAXFILES   00000044            
KERNEL_UNBLOCK   000000EE R     03   PCB$W_BIOLM      00000040            VCB$L_MVL        00000034            
MVL_TYPE       = 00000004            PCB$W_BYTCNT     00000042            VCB$L_RVT        00000020            
PAGE           = 00000008            PCB$W_BYTLM      00000068            VCB$L_SBMAPLBN   00000034            
PCB$B_ASTACT     0000000C            PCB$W_DIOCNT     00000044            VCB$L_START_FID  00000028            
PCB$B_ASTEN      0000000D            PCB$W_DIOLM      00000046            VCB$L_ST_RECORD  00000030            
PCB$B_PRI        0000000B            PCB$W_FILCNT     00000048            VCB$L_USRLBLAST  00000044            
PCB$B_PRIB       00000033            PCB$W_GPGCNT     00000038            VCB$L_VPBL       00000040            
PCB$B_TYPE       0000000A            PCB$W_GRP        00000022            VCB$L_VPFL       0000003C            
PCB$B_WEFC       00000032            PCB$W_MEM        00000020            VCB$L_WCB        00000038            
PCB$C_LENGTH     0000007C            PCB$W_MTXCNT     0000000E            VCB$M_CANCELIO = 00000020            
PCB$K_LENGTH     0000007C            PCB$W_PPGCNT     0000003A            VCB$M_MUSTCLOSE= 00000040            
PCB$L_ASTQBL     00000014            PCB$W_PRCCNT     0000006A            VCB$M_NOWRITE  = 00000080            
PCB$L_ASTQFL     00000010            PCB$W_SIZE       00000008            VCB$M_WAIMOUVOL= 00000004            
PCB$L_EFC2P      00000058            PCB$W_STATE      00000030            VCB$M_WAIREWIND= 00000008            
PCB$L_EFC3P      0000005C            PCB$W_TMBU       00000036            VCB$M_WAIUSRLBL= 00000010            
PCB$L_EFCS       00000050            PCB$W_TQCNT      0000004A            VCB$T_QNAME      0000000C            
PCB$L_EFCU       00000054            PREVFP         = 0000000C            VCB$T_VOLNAME    00000014            
PCB$L_EFWM       0000004C            QUEUE_HEAD       ********   X   03   VCB$V_CANCELIO = 00000005            
PCB$L_OWNER      0000001C            REASON         = 00000004            VCB$V_EBCDIC   = 00000005            
PCB$L_PHD        00000064            RET_FREE_PAGE    ********   X   03   VCB$V_EXTFID   = 00000005            
PCB$L_PHYPCB     00000018            RVT_TYPE       = 00000003            VCB$V_GROUP    = 00000006            
PCB$L_PID        00000060            SCH$GL_CURPCB    ********   X   03   VCB$V_HOMBLKBAD= 00000002            
PCB$L_PQB        0000004C            SYS$CMKRNL       ********   X   03   VCB$V_IDXHDRBAD= 00000003            
PCB$L_SQBL       00000004            SYS$SETAST       ********   X   03   VCB$V_INTCHG   = 00000004            
PCB$L_SQFL       00000000            UNBLOCK          00000071 RG    03   VCB$V_LOGICEOVS= 00000001            
PCB$L_STS        00000028            USER_STATUS      ********   X   03   VCB$V_MUSTCLOSE= 00000006            
PCB$L_UIC        00000020            VCB$B_CUR_RVN    0000002F            VCB$V_NOALLOC  = 00000004            
PCB$L_WSSWP      00000024            VCB$B_EOFDELTA   0000004E            VCB$V_NOWRITE  = 00000007            
PCB$L_WTIME      0000002C            VCB$B_IBMAPSIZE  00000038            VCB$V_OVRACC   = 00000001            
PCB$T_LNAME      0000006C            VCB$B_IBMAPVBN   0000003A            VCB$V_OVREXP   = 00000000            
PCB$V_ASTPEN   = 00000011            VCB$B_LRU_LIM    00000049            VCB$V_OVRLBL   = 00000002            
PCB$V_BATCH    = 0000000E            VCB$B_QNAMECNT   0000000B            VCB$V_OVRSETID = 00000003            
PCB$V_DELPEN   = 00000001            VCB$B_RESFILES   0000004F            VCB$V_PARTFILE = 00000000            
PCB$V_FORCPEN  = 00000002            VCB$B_SBMAPSIZE  00000039            VCB$V_STARFILE = 00000008            
PCB$V_HIBER    = 00000013            VCB$B_SBMAPVBN   0000003B            VCB$V_SYSTEM   = 00000007            
PCB$V_INQUAN   = 00000003            VCB$B_STATUS     0000000B            VCB$V_WAIMOUVOL= 00000002            
PCB$V_LOGIN    = 00000014            VCB$B_TM         0000002E            VCB$V_WAIREWIND= 00000003            
PCB$V_NETWRK   = 00000015            VCB$B_TYPE       0000000A            VCB$V_WAIUSRLBL= 00000004            
PCB$V_NOACNT   = 0000000F            VCB$B_WINDOW     00000048            VCB$V_WRITE_IF = 00000000            
PCB$V_NODELET  = 00000017            VCB$C_COMLEN     00000024            VCB$V_WRITE_SM = 00000001            
PCB$V_PHDRES   = 00000012            VCB$C_LENGTH     00000054            VCB$W_CLUSTER    0000003C            
PCB$V_PSWAPM   = 00000004            VCB$C_MRKLEN     0000000B            VCB$W_CUR_NUM    00000024            
BLOCK                                                            21-AUG-1978 23:23:54   VAX-11 MACRO X0.3-11               Page  10
SYMBOL TABLE                                                                                                                     (5)

VCB$W_CUR_SEQ    00000026            
VCB$W_EXTEND     0000003E            
VCB$W_FILEPROT   0000004A            
VCB$W_MCOUNT     0000004C            
VCB$W_MODE       0000002C            
VCB$W_RECORDSZ   00000050            
VCB$W_RVN        0000000E            
VCB$W_SIZE       00000008            
VCB$W_START_NUM  00000028            
VCB$W_START_SEQ  0000002A            
VCB$W_TRANS      0000000C            
VCB_TYPE       = 00000002            
VVP$B_TYPE       0000000A            
VVP$K_LENGTH     0000000C            
VVP$L_BACKWARD   00000004            
VVP$L_FORWARD    00000000            
VVP$L_STALLIOBL  00000108            
VVP$L_STALLIOFL  00000104            
VVP$L_STATUS     000000FC            
VVP$T_HDR1       0000000C            
VVP$T_HDR2       0000005C            
VVP$T_SCRATCH    000000AC            
VVP$W_SIZE       00000008            
VVP_TYPE       = 00000002            
WCB_TYPE       = 00000001            


PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
$ABS$            0000010C      02     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
$CODE$           0000010D      03     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD  NOWRT LONG  


THERE WERE NO ERRORS OR WARNINGS.
19524. BYTES LEFT IN FREE MEMORY POOL.
2402. BYTES OF RECLAIMED MEMORY.
OBJ$:BLOCK,LIS$:BLOCK/-SP=EXECML$/ML,SRC$:MTADEF,BLOCK
3 MLB DIR RDS - 335 GETS TO DEFINE 10 MACROS. 23 INTER. FILE WRITES. 

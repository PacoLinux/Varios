SYSSETEXV       - SYSTEM SERVICE SET EXCEPTION VECTOR            21-AUG-1978 20:42:11   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (1)      43  SET EXCEPTION VECTOR
SYSSETEXV       - SYSTEM SERVICE SET EXCEPTION VECTOR            21-AUG-1978 20:42:11   VAX-11 MACRO X0.3-11               Page   1
01                                                                                                                               (1)

                                     0000     1 	.TITLE	SYSSETEXV - SYSTEM SERVICE SET EXCEPTION VECTOR
                                     0000     2 	.IDENT	/01/
                                     0000     3  
                                     0000     4 ;
                                     0000     5 ; COPYRIGHT (C) 1976
                                     0000     6 ; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
                                     0000     7 ;
                                     0000     8 ; THIS SOFTWARE IS FURNISHED UNDER  A LICENSE FOR USE ONLY  ON  A
                                     0000     9 ; SINGLE COMPUTER SYSTEM AND MAY BE  COPIED ONLY WITH  THE INCLU-
                                     0000    10 ; SION OF  THE  ABOVE  COPYRIGHT NOTICE.  THIS SOFTWARE,  OR  ANY
                                     0000    11 ; OTHER COPIES THEREOF, MAY NOT BE  PROVIDED  OR  OTHERWISE  MADE
                                     0000    12 ; AVAILABLE TO ANY OTHER PERSON EXCEPT  FOR  USE  ON  SUCH SYSTEM
                                     0000    13 ; AND TO  ONE WHO AGREES  TO  THESE LICENSE  TERMS.  TITLE TO AND
                                     0000    14 ; OWNERSHIP OF THE SOFTWARE SHALL AT ALL TIMES REMAIN IN DEC.
                                     0000    15 ;
                                     0000    16 ; THE INFORMATION IN THIS SOFTWARE  IS  SUBJECT TO CHANGE WITHOUT
                                     0000    17 ; NOTICE AND SHOULD NOT BE CONSTRUED  AS  A COMMITMENT BY DIGITAL
                                     0000    18 ; EQUIPMENT CORPORATION.
                                     0000    19 ;
                                     0000    20 ; DEC ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY OF ITS
                                     0000    21 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
                                     0000    22 ;
                                     0000    23 ; D. N. CUTLER 10-AUG-76
                                     0000    24 ;
                                     0000    25 ; SYSTEM SERVICE SET EXCEPTION VECTOR
                                     0000    26 ;
                                     0000    27 ; MACRO LIBRARY CALLS
                                     0000    28 ;
                                     0000    29  
                                     0000    30 	$SSDEF				;DEFINE SYSTEM STATUS VALUES
                                     0000    31  
                                     0000    32 ;
                                     0000    33 ; LOCAL SYMBOLS
                                     0000    34 ;
                                     0000    35 ; ARGUMENT LIST OFFSET DEFINITIONS
                                     0000    36 ;
                                     0000    37  
                           00000004  0000    38 VECTOR=4				;VECTOR INDICATOR
                           00000008  0000    39 HANDLR=8				;EXCEPTION HANDLER ADDRESS
                           0000000C  0000    40 ACMODE=12				;ACCESS MODE
                           00000010  0000    41 PRVHND=16				;ADDRESS TO STORE PREVIOUS HANDLER ADDRESS
SYSSETEXV       - SYSTEM SERVICE SET EXCEPTION VECTOR            21-AUG-1978 20:42:11   VAX-11 MACRO X0.3-11               Page   2
01              SET EXCEPTION VECTOR                                                                                             (1)

                                     0000    43 	.SBTTL	SET EXCEPTION VECTOR
                                     0000    44 ;+
                                     0000    45 ; EXE$SETEXV - SET EXCEPTION VECTOR
                                     0000    46 ;
                                     0000    47 ; THIS SERVICE PROVIDES THE CAPABILITY TO ASSIGN A CONDITION HANDLER ADDRESS
                                     0000    48 ; TO A SOFTWARE EXCEPTION VECTOR OR TO DEASSIGN A PREVIOUSLY ASSIGNED
                                     0000    49 ; HANDLER ADDRESS.
                                     0000    50 ;
                                     0000    51 ; INPUTS:
                                     0000    52 ;
                                     0000    53 ;	VECTOR(AP) = VECTOR INDICATOR.
                                     0000    54 ;		BIT ONE SET INDICATES LAST CHANCE VECTOR.
                                     0000    55 ;		BIT ONE CLEAR AND BIT ZERO CLEAR INDICATES PRIMARY VECTOR.
                                     0000    56 ;		BIT ONE CLEAR AND BIT ZERO SET INDICATES SECONDARY VECTOR.
                                     0000    57 ;	HANDLR(AP) = EXCEPTION HANDLER ADDRESS.
                                     0000    58 ;		A ZERO ADDRESS SPECIFIES NO HANDLER IS TO BE ASSIGNED.
                                     0000    59 ;		A NONZERO ADDRESS SPECIFIES AN EXCEPTION HANDLER.
                                     0000    60 ;	ACMODE(AP) = ACCESS MODE EXCEPTION HANDLER IS TO BE ASSIGNED TO.
                                     0000    61 ;	PRVHND(AP) = ADDRESS TO STORE PREVIOUS HANDLER ADDRESS.
                                     0000    62 ;
                                     0000    63 ; OUTPUTS:
                                     0000    64 ;
                                     0000    65 ;	R0 LOW BIT CLEAR INDICATES FAILURE TO ASSIGN CONDITION HANDLER.
                                     0000    66 ;
                                     0000    67 ;		R0 = SS$_ACCVIO - LONGWORD WHICH IS TO RECEIVE PREVIOUS
                                     0000    68 ;			CONDITION HANDLER ADDRESS CANNOT BE WRITTEN BY
                                     0000    69 ;			CALLING ACCESS MODE.
                                     0000    70 ;
                                     0000    71 ;	R0 LOW BIT SET INDICATES SUCCESSFUL COMPLETION.
                                     0000    72 ;
                                     0000    73 ;		R0 = SS$_NORMAL - NORMAL COMPLETION.
                                     0000    74 ;-
                                     0000    75  
                                 00000000    76 	.PSECT	Y$EXEPAGED
                                     0000    77 EXE$SETEXV::				;SET EXCEPTION VECTOR
                               003C  0000    78 	.WORD	^M<R2,R3,R4,R5>		;ENTRY MASK
            02            00     EF  0002    79 	EXTZV	#0,#2,ACMODE(AP),R0	;GET SPECIFIED ACCESS MODE
            50         0C AC         0005       
                 00000000'EF     16  0008    80 	JSB	EXE$MAXACMODE		;MAXIMIZE ACCESS MODE WITH PREVIOUS MODE
            55   00000000'EF40   7E  000E    81 	MOVAQ	CTL$AQ_EXCVEC[R0],R5	;GET ADDRESS OF ACCESS MODE VECTORS
            02         04 AC     E9  0016    82 	BLBC	VECTOR(AP),10$		;IF LBC PRIMARY VECTOR
                          85     D5  001A    83 	TSTL	(R5)+			;POINT TO SECONDARY VECTOR
         04 AC            01     E1  001C    84 10$:	BBC	#1,VECTOR(AP),20$	;IF CLR, PRIMARY OR SECONDARY VECTOR
                          08         0020       
            55   00000000'EF40   DE  0021    85 	MOVAL	CTL$AL_FINALEXC[R0],R5	;GET ADDRESS OF LAST CHANCE VECTORS
            54         10 AC     D0  0029    86 20$:	MOVL	PRVHND(AP),R4		;GET ADDRESS TO STORE PREVIOUS HANDLER
                          0C     13  002D    87 	BEQL	30$			;IF EQL NONE SPECIFIED
            50            0C     3C  002F    88 	MOVZWL	#SS$_ACCVIO,R0		;ASSUME ACCESS VIOLATION
                                     0032    89 	IFNOWRT	#4,(R4),40$		;CAN PREVIOUS HANDLER ADDRESS BE WRITTEN?
            64            65     D0  0038    90 	MOVL	(R5),(R4)		;STORE PREVIOUS EXCEPTION HANDLER ADDRESS
            65         08 AC     D0  003B    91 30$:	MOVL	HANDLR(AP),(R5)		;SET NEW EXCEPTION HANDLER ADDRESS
            50            01     3C  003F    92 	MOVZWL	#SS$_NORMAL,R0		;SET NORMAL COMPLETION STATUS
                                 04  0042    93 40$:	RET				;
                                     0043    94  
                                     0043    95 	.END
SYSSETEXV       - SYSTEM SERVICE SET EXCEPTION VECTOR            21-AUG-1978 20:42:11   VAX-11 MACRO X0.3-11               Page   3
SYMBOL TABLE                                                                                                                     (1)

ACMODE         = 0000000C            SS$_DEVOFFLINE = 00000084            SS$_IVPROTECT  = 000002F4            
BIT...         = 00000000            SS$_DIRFULL    = 00000860            SS$_IVQUOTAL   = 00000164            
CTL$AL_FINALEXC  ********   X   03   SS$_DRVERR     = 0000008C            SS$_IVSECFLG   = 0000016C            
CTL$AQ_EXCVEC    ********   X   03   SS$_DUPFILENAME= 00000868            SS$_IVSECIDCTL = 000002E4            
EXE$MAXACMODE    ********   X   03   SS$_DUPLNAM    = 00000094            SS$_IVSSRQ     = 00000174            
EXE$SETEXV       00000000 RG    03   SS$_ENDOFFILE  = 00000870            SS$_IVSTSFLG   = 0000017C            
GBL...         = 00000000            SS$_ENDOFTAPE  = 00000878            SS$_IVTIME     = 00000184            
HANDLR         = 00000008            SS$_ENDOFUSRLBL= 00000970            SS$_LCKPAGFUL  = 000000D4            
PRVHND         = 00000010            SS$_EXQUOTA    = 0000001C            SS$_LENVIO     = 0000018C            
SS$_ABORT      = 0000002C            SS$_EXTIDXFILE = 00000880            SS$_LKWSETFUL  = 00000194            
SS$_ACCONFLICT = 00000800            SS$_FCPREADERR = 00000888            SS$_MBFULL     = 000008D8            
SS$_ACCVIO     = 0000000C            SS$_FCPREPSTN  = 00000988            SS$_MBTOOSML   = 0000019C            
SS$_ACPVAFUL   = 000002FC            SS$_FCPREWNDERR= 00000890            SS$_MCHECK     = 000002BC            
SS$_ARTRES     = 00000474            SS$_FCPSPACERR = 00000898            SS$_MEDOFL     = 000001A4            
SS$_ASTFLT     = 0000040C            SS$_FCPWRITERR = 000008A0            SS$_MSGNOTFND  = 00000621            
SS$_BADATTRIB  = 00000034            SS$_FILACCERR  = 0000009C            SS$_MTLBLLONG  = 00000304            
SS$_BADCHKSUM  = 00000808            SS$_FILALRACC  = 000000A4            SS$_MUSTCLOSEFL= 00000948            
SS$_BADESCAPE  = 0000003C            SS$_FILELOCKED = 000008A8            SS$_NOAQB      = 00000314            
SS$_BADFILEHDR = 00000810            SS$_FILENUMCHK = 000008B0            SS$_NODATA     = 000001AC            
SS$_BADFILENAME= 00000818            SS$_FILESEQCHK = 000008B8            SS$_NOHANDLER  = 000008F8            
SS$_BADFILEVER = 00000820            SS$_FILESTRUCT = 000008C0            SS$_NOHOMEBLK  = 000008E0            
SS$_BADIMGHDR  = 00000044            SS$_FILNOTACC  = 000000AC            SS$_NOIOCHAN   = 000001B4            
SS$_BADIRECTORY= 00000828            SS$_FILNOTCNTG = 000002AC            SS$_NOLINKS    = 0000027C            
SS$_BADPARAM   = 00000014            SS$_FILNOTEXP  = 000000B4            SS$_NOLOGNAM   = 000001BC            
SS$_BADSTACK   = 000002B4            SS$_FLTDIV     = 00000494            SS$_NOMBX      = 00000274            
SS$_BEGOFFILE  = 00000938            SS$_FLTOVF     = 0000048C            SS$_NOMOREFILES= 00000930            
SS$_BLOCKCNTERR= 00000940            SS$_FLTUND     = 0000049C            SS$_NONEXDRV   = 000001C4            
SS$_BREAK      = 00000414            SS$_FORMAT     = 000000BC            SS$_NONEXPR    = 000008E8            
SS$_BUFBYTALI  = 0000030C            SS$_GPTFULL    = 000000C4            SS$_NONLOCAL   = 000008F0            
SS$_BUFFEROVF  = 00000601            SS$_GSDFULL    = 000000CC            SS$_NOPRIV     = 00000024            
SS$_BUGCHECK   = 000002A4            SS$_HANGUP     = 000002CC            SS$_NORMAL     = 00000001            
SS$_CANCEL     = 00000830            SS$_HEADERFULL = 000008C8            SS$_NOSIGNAL   = 00000900            
SS$_CHANINTLK  = 0000004C            SS$_IDXFILEFULL= 000008D0            SS$_NOSOLICIT  = 00000284            
SS$_CLIFRCEXT  = 00000980            SS$_ILLBLKNUM  = 000000DC            SS$_NOSUCHDEV  = 00000908            
SS$_CMODSUPR   = 0000041C            SS$_ILLCNTRFUNC= 000000E4            SS$_NOSUCHFILE = 00000910            
SS$_CMODUSER   = 00000424            SS$_ILLEFC     = 000000EC            SS$_NOSUCHNODE = 0000028C            
SS$_COMPAT     = 0000042C            SS$_ILLIOFUNC  = 000000F4            SS$_NOSUCHSEC  = 00000978            
SS$_CONTINUE   = 00000001            SS$_ILLLBLAST  = 00000968            SS$_NOTAPEOP   = 00000264            
SS$_CONTROLC   = 00000651            SS$_ILLPAGCNT  = 000000FC            SS$_NOTFILEDEV = 000001CC            
SS$_CONTROLO   = 00000609            SS$_ILLSEQOP   = 000002DC            SS$_NOTINTBLSZ = 000001D4            
SS$_CONTROLY   = 00000611            SS$_ILLSER     = 00000104            SS$_NOTLABELMT = 000001DC            
SS$_CREATED    = 00000619            SS$_ILLUSRLBLRD= 00000958            SS$_NOTMODIFIED= 00000659            
SS$_CTRLERR    = 00000054            SS$_ILLUSRLBLWT= 00000960            SS$_NOTNETDEV  = 000002EC            
SS$_DATACHECK  = 0000005C            SS$_INCVOLLABEL= 0000010C            SS$_NOTRAN     = 00000629            
SS$_DATAOVERUN = 00000838            SS$_INSFARG    = 00000114            SS$_NOTSQDEV   = 000001E4            
SS$_DEBUG      = 0000046C            SS$_INSFMEM    = 00000124            SS$_OPCCUS     = 00000434            
SS$_DECOVF     = 000004A4            SS$_INSFRAME   = 0000012C            SS$_OPCDEC     = 0000043C            
SS$_DEVACTIVE  = 000002C4            SS$_INSFWSL    = 0000011C            SS$_OPINCOMPL  = 000002D4            
SS$_DEVALLOC   = 00000840            SS$_INTDIV     = 00000484            SS$_PAGOWNVIO  = 000001EC            
SS$_DEVALRALLOC= 00000641            SS$_INTOVF     = 0000047C            SS$_PAGRDERR   = 00000444            
SS$_DEVASSIGN  = 00000848            SS$_IVADDR     = 00000134            SS$_PARITY     = 000001F4            
SS$_DEVFOREIGN = 00000064            SS$_IVCHAN     = 0000013C            SS$_PARTESCAPE = 000001FC            
SS$_DEVICEFULL = 00000850            SS$_IVCHNLSEC  = 0000026C            SS$_PFMBSY     = 00000204            
SS$_DEVMOUNT   = 0000006C            SS$_IVDEVNAM   = 00000144            SS$_PLHLDR     = 00000404            
SS$_DEVNOTALLOC= 00000858            SS$_IVGSDNAM   = 0000014C            SS$_PSTFULL    = 0000020C            
SS$_DEVNOTMBX  = 00000074            SS$_IVLOGNAM   = 00000154            SS$_RADRMOD    = 0000044C            
SS$_DEVNOTMOUNT= 0000007C            SS$_IVLOGTAB   = 0000015C            SS$_REJECT     = 00000294            
SYSSETEXV       - SYSTEM SERVICE SET EXCEPTION VECTOR            21-AUG-1978 20:42:11   VAX-11 MACRO X0.3-11               Page   4
SYMBOL TABLE                                                                                                                     (1)

SS$_REMOTE     = 00000649            
SS$_RESIGNAL   = 00000918            
SS$_RESULTOVF  = 00000214            
SS$_ROPRAND    = 00000454            
SS$_SECTBLFUL  = 0000021C            
SS$_SSFAIL     = 0000045C            
SS$_SUBRNG     = 000004AC            
SS$_SUPERSEDE  = 00000631            
SS$_TAPEPOSLOST= 00000224            
SS$_TBIT       = 00000464            
SS$_TIMEOUT    = 0000022C            
SS$_TOOMANYVER = 00000990            
SS$_TOOMUCHDATA= 0000029C            
SS$_UNASEFC    = 00000234            
SS$_UNSAFE     = 0000023C            
SS$_UNWIND     = 00000920            
SS$_UNWINDING  = 00000928            
SS$_VASFULL    = 00000244            
SS$_VECINUSE   = 0000024C            
SS$_VOLINV     = 00000254            
SS$_WAITUSRLBL = 00000950            
SS$_WASCLR     = 00000001            
SS$_WASECC     = 00000639            
SS$_WASSET     = 00000009            
SS$_WRITLCK    = 0000025C            
SS$_WRONGACP   = 0000031C            
VECTOR         = 00000004            


PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
$ABS$            00000000      02     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
Y$EXEPAGED       00000043      03     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
19326. BYTES LEFT IN FREE MEMORY POOL.
3676. BYTES OF RECLAIMED MEMORY.
OBJ$:SYSSETEXV,LIS$:SYSSETEXV/-SP=EXECML$/ML,SRC$:SYSSETEXV
3 MLB DIR RDS - 293 GETS TO DEFINE 8 MACROS. 23 INTER. FILE WRITES. 

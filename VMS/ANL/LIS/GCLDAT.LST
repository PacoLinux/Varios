GCLDAT	MACRO M1110  22-AUG-78 02:22  PAGE 1


      1						.TITLE	GCLDAT
      2						.IDENT	/01/
      3					;
      4					; COPYRIGHT (C) 1976
      5					; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
      6					;
      7					; THIS SOFTWARE IS FURNISHED UNDER  A LICENSE FOR USE ONLY  ON  A
      8					; SINGLE COMPUTER SYSTEM AND MAY BE  COPIED ONLY WITH  THE INCLU-
      9					; SION OF  THE  ABOVE  COPYRIGHT NOTICE.  THIS SOFTWARE,  OR  ANY
     10					; OTHER COPIES THEREOF, MAY NOT BE  PROVIDED  OR  OTHERWISE  MADE
     11					; AVAILABLE TO ANY OTHER PERSON EXCEPT  FOR  USE  ON  SUCH SYSTEM
     12					; AND TO  ONE WHO AGREES  TO  THESE LICENSE  TERMS.  TITLE TO AND
     13					; OWNERSHIP OF THE SOFTWARE SHALL AT ALL TIMES REMAIN IN DEC.
     14					;
     15					; THE INFORMATION IN THIS SOFTWARE  IS  SUBJECT TO CHANGE WITHOUT
     16					; NOTICE AND SHOULD NOT BE CONSTRUED  AS  A COMMITMENT BY DIGITAL
     17					; EQUIPMENT CORPORATION.
     18					;
     19					; DEC ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY OF ITS
     20					; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
     21					;
     22					; VERSION 01
     23					;
     24					; K. D. MORSE 1-AUG-76
     25					;
     26					; MODIFICATIONS:
     27					;
     28					; NO		DATE		PROGRAMMER		PURPOSE
     29					; --		----		----------		-------
     30					;
     31					;
     32					; MACRO LIBRARY CALLS
     33					;
     34						.MCALL	GCMLB$,CSI$,FDBDF$
     35					;
     36					;
     37					; EQUATED SYMBOLS
     38					;
     39		000052 				AST==52			;ASCII VALUE OF ASTERISK
     40		000056 				PER==56			;ASCII VALUE OF PERIOD
     41		000072 				COL==72			;ASCII VALUE OF COLON
     42		000073 				SEMI==73			;ASCII VALUE OF SEMICOLON
     43					;
     44					; LOCAL DATA
     45					;
     46					;
     47					;
     48	000000	   123 	   131 		DEFDEV:: .ASCII	/SY/
     49					;
     50					; GCML CONTROL BLOCK
     51					;
     52						.EVEN
     53	000002				GCLBLK::	GCMLB$	2.,,,4.	;ALLOCATE AND INITIALIZE GCML CONTROL BLOCK
     54					;
     55					; CSI CONTROL BLOCK
     56					;
     57	000432					CSI$			;DEFINE CSI CONTROL BLOCK
GCLDAT	MACRO M1110  22-AUG-78 02:22  PAGE 1-1


     58						.EVEN			;
     59	000432				CSIBLK::	.BLKB	C.SIZE		;
     60					;
     61					; SWITCH TABLE
     62					;
     63	000506				SWTBL:: .BLKB	90.		;SWITCH TABLE, LIMITED TO FIVE SWITCHES
     64	000640				SWTVAL:: .BLKW	51.		;++02 SWITCH VALUE TABLE, MAX OF 20 VALUES
     65	001006	000000 			MSKVAL:: .WORD	0		;MASK VALUE FOR SWITCH
     66						.EVEN
     67					;
     68					; MAPPING TABLE TO HOLD THE LUN ASSOCIATED WITH EACH FDB.  A ZERO VALUE
     69					; INDICATES THE FDB IS NOT IN USE FOR AN OPEN FILE.  THIS ALLOWS MORE
     70					; THAN FOUR FORTRAN FILES TO BE OPENED DURING THE EXECUTION OF A PROGRAM
     71					; BUT NO MORE THAN FOUR AT ONE TIME.
     72					;
     73	001010	000000 			LUNMAP:: .WORD	0
     74	001012	000000 				.WORD	0
     75	001014	000000 				.WORD	0
     76	001016	000000 				.WORD	0
     77					;
     78					; TABLE OF FDB ADDRESSES
     79					;
     80	001020	001030'			FDBADR:: .WORD	FDB1
     81	001022	001170'				.WORD	FDB2
     82	001024	001330'				.WORD	FDB3
     83	001026	001470'				.WORD	FDB4
     84					;
     85					; FILE DESCRIPTOR BLOCKS (FDB) FOR A MAXIMUM OF FOUR FORTRAN FILES.
     86					;
     87	001030				FDB1::	FDBDF$
     88	001170				FDB2::	FDBDF$
     89	001330				FDB3::	FDBDF$
     90	001470				FDB4::	FDBDF$
     91					;
     92					; STORAGE FOR OFFSET INTO FDBADR AND LUNMAP, USED TO LOCATE FDB ADDRESSES.
     93					;
     94	001630	000000 			OFFSET:: .WORD	0
     95		000001 				.END
GCLDAT	MACRO M1110  22-AUG-78 02:22  PAGE 1-2
SYMBOL TABLE

AST   = 000052 G 	FDB3    001330RG 	F.FFBY= 000014   	F.VBSZ= 000060   	N.FID = 000000
COL   = 000072 G 	FDB4    001470RG 	F.FNAM= 000110   	GCLBLK  000002RG 	N.FNAM= 000006
CSIBLK  000432RG 	FD.CCL= ****** GX	F.FNB = 000102   	GE.BIF= 177775   	N.FTYP= 000014
CS.DIF= 000002   	FD.REC= ****** GX	F.FTYP= 000116   	GE.CLO= 000004   	N.FVER= 000016
CS.DVF= 000004   	FD.TTY= ****** GX	F.FVER= 000120   	GE.COM= 000001   	N.NEXT= 000022
CS.EQU= 000040   	F.ACTL= 000076   	F.HIBK= 000004   	GE.CON= 000020   	N.STAT= 000020
CS.INP= 000001   	F.ALOC= 000040   	F.LUN = 000042   	GE.EOF= 177766   	N.UNIT= 000034
CS.MOR= 000020   	F.BBFS= 000062   	F.MBCT= 000054   	GE.IND= 000002   	OFFSET  001630RG
CS.NMF= 000001   	F.BDB = 000070   	F.MBC1= 000055   	GE.IOR= 177777   	PER   = 000056 G
CS.OUT= 000002   	F.BGBC= 000057   	F.MBFG= 000056   	GE.LC = 000010   	SEMI  = 000073 G
CS.WLD= 000010   	F.BKDN= 000026   	F.NRBD= 000024   	GE.MDE= 177774   	SWTBL   000506RG
C.CMLD= 000002   	F.BKDS= 000020   	F.NREC= 000030   	GE.OPR= 177776   	SWTVAL  000640RG
C.DEVD= 000006   	F.BKEF= 000050   	F.OVBS= 000030   	GE.RBG= 177730   	S.FATT= 000016
C.DIRD= 000012   	F.BKP1= 000051   	F.RACC= 000016   	GE.SIZ= 000040   	S.FDB = 000140
C.DSDS= 000006   	F.BKST= 000024   	F.RATT= 000001   	G.CMLD= 000146   	S.FNAM= 000006
C.FILD= 000016   	F.BKVB= 000064   	F.RCNM= 000034   	G.DPRM= 000160   	S.FNB = 000036
C.MKW1= 000024   	F.CHR = 000075   	F.RCTL= 000017   	G.ERR = 000140   	S.FNBW= 000017
C.MKW2= 000026   	F.CNTG= 000034   	F.RSIZ= 000002   	G.ISIZ= 000020   	S.FNTY= 000004
C.SIZE= 000054   	F.DFNB= 000046   	F.RTYP= 000000   	G.LPDL= 000060   	S.FTYP= 000002
C.STAT= 000001   	F.DSPT= 000044   	F.SEQN= 000100   	G.MODE= 000141   	S.NFEN= 000020
C.SWAD= 000022   	F.DVNM= 000134   	F.SPDV= 000072   	G.PSDS= 000142   	$$$   = 000162R
C.TYPR= 000000   	F.EFBK= 000010   	F.SPUN= 000074   	G.SIZE= 000224   	...PC1= 001470R
DEFDEV  000000RG 	F.EFN = 000050   	F.STBK= 000036   	LUNMAP  001010RG 	...PC2= 000204R
FDBADR  001020RG 	F.EOBB= 000032   	F.UNIT= 000136   	MSKVAL  001006RG 	...PC3= 000002R
FDB1    001030RG 	F.ERR = 000052   	F.URBD= 000020   	N.DID = 000024   	...TPC= 000140
FDB2    001170RG 	F.FACC= 000043   	F.VBN = 000064   	N.DVNM= 000032

. ABS.	000000	   000
      	001632	   001
ERRORS DETECTED:  0

VIRTUAL MEMORY USED:  3035 WORDS  ( 12 PAGES)
DYNAMIC MEMORY:  3828 WORDS  ( 14 PAGES)
ELAPSED TIME:  00:00:13
OBJ$:GCLDAT.OBI,LIS$:GCLDAT.LST/-SP=SRC$:GCLDAT.MAC

FORTRAN IV-PLUS V02-51D		02:25:50    22-AUG-78		PAGE 1   
HEXDMP.FTN   	/TR:BLOCKS/WR

        C
        C
        C	HEXDMP  --  DUMPS HEXADECIMAL DATA
        C
        C
        C
        C	COPYRIGHT (C) 1976
        C	DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
        C
        C	THIS SOFTWARE IS FURNISHED UNDER  A LICENSE FOR USE ONLY  ON  A
        C	SINGLE COMPUTER SYSTEM AND MAY BE  COPIED ONLY WITH  THE INCLU-
        C	SION OF  THE  ABOVE  COPYRIGHT NOTICE.  THIS SOFTWARE,  OR  ANY
        C	OTHER COPIES THEREOF, MAY NOT BE  PROVIDED  OR  OTHERWISE  MADE
        C	AVAILABLE TO ANY OTHER PERSON EXCEPT  FOR  USE  ON  SUCH SYSTEM
        C	AND TO  ONE WHO AGREES  TO  THESE LICENSE  TERMS.  TITLE TO AND
        C	OWNERSHIP OF THE SOFTWARE SHALL AT ALL TIMES REMAIN IN DEC.
        C
        C	THE INFORMATION IN THIS SOFTWARE  IS  SUBJECT TO CHANGE WITHOUT
        C	NOTICE AND SHOULD NOT BE CONSTRUED  AS  A COMMITMENT BY DIGITAL
        C	EQUIPMENT CORPORATION.
        C
        C	DEC ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY OF ITS
        C	SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
        C
        C
        C	T.J. PORTER 	01-AUG-76
        C
        C
        C	THIS SUBROUTINE DUMPS "LENGTH" BYTES IN
        C	HEXADECIMAL FORMAT. THE PARAMETER "LINWID" DETERMINES
        C	THE NUMBER OF BYTES PER LINE.
        C
        C	THE DUMP BEGINS AT ELEMENT "ISTART" OF "ARRAY."
        C
        C
        C
        C
        C  MODIFICATIONS:
        C
        C
        C NO.		DATE		PROGRAMMER		PURPOSE
        C --		----		----------		-------
        C
        C 01		20-AUG-76	K.D. MORSE		REMOVE PRMODE CHECKS
        C							AND TYPE VS WRITE
        C
        C
        C
        C
0001    	SUBROUTINE HEXDMP(ARRAY,ISTART,LENGTH,IOUT)
        C
        C
0002    	BYTE	ARRAY(ISTART - 1 + LENGTH),PRBUF(32)
        C
0003    	DATA	LINWID/10/
        C
FORTRAN IV-PLUS V02-51D		02:25:50    22-AUG-78		PAGE 2   
HEXDMP.FTN   	/TR:BLOCKS/WR

0004    10	FORMAT(' ',I4,2X,<LINWID>(2X,A1,A1))
0005    20	FORMAT(T8,<LINWID>(2X,I2))
0006    30	FORMAT(T8,<LINWID>('----'))
0007    40	FORMAT(/)
        C
0008    	DO 200 I = 1,LINWID
        C
0009    		PRBUF(I) = I-1
        C
0010    200	CONTINUE
0011    	WRITE(2,20) (PRBUF(I) , I = 1,LINWID)
0012    	WRITE(2,30)
        C
0013    230	LINE = 0
        C
0014    	DO 500 I = ISTART,ISTART -1 + LENGTH
0015    		IZ = I + 1 - ISTART
0016    		IX = (IZ - 1)/LINWID
0017    		J = IZ - LINWID*IX
0018    		IK = 2*J - 1
0019    		DO 350 K = IK,IK+1
0020    			ICHAR = ARRAY(I) .AND. (240+225*(IK-K))
0021    			ICHAR = ICHAR/(16+15*(IK-K))
0022    			IF(ICHAR .GT. 9)GO TO 250
0023    				ICHAR = ICHAR + 48
0024    				GO TO 300
0025    250				ICHAR = ICHAR + 55
0026    300			PRBUF(K) = ICHAR
0027    350		CONTINUE
0028    		IY = IZ/LINWID
0029    		IF(LINWID*IY .EQ. IZ) GO TO 400
0030    		IF(IZ .NE. LENGTH) GO TO 500
0031    400		WRITE(2,10) LINE, (PRBUF(N) , N = 1,IK+1)
0032    430		LINE = LINE + LINWID
0033    500	CONTINUE
        C
        C----->		OUTPUT A BLANK LINE
        C
0034    	WRITE(2,40)
0035    600	RETURN
0036    	END
FORTRAN IV-PLUS V02-51D		02:25:50    22-AUG-78		PAGE 3   
HEXDMP.FTN   	/TR:BLOCKS/WR

PROGRAM SECTIONS

NUMBER	 NAME	    SIZE		ATTRIBUTES

  1	$CODE1	000766   251		RW,I,CON,LCL
  3	$IDATA	000104    34		RW,D,CON,LCL
  4	$VARS	000066    27		RW,D,CON,LCL
  5	$TEMPS	000006     3		RW,D,CON,LCL


ENTRY POINTS

 NAME   TYPE  ADDRESS    NAME   TYPE  ADDRESS    NAME   TYPE  ADDRESS    NAME   TYPE  ADDRESS    NAME   TYPE  ADDRESS   

 HEXDMP	      1-000000


VARIABLES

 NAME   TYPE  ADDRESS    NAME   TYPE  ADDRESS    NAME   TYPE  ADDRESS    NAME   TYPE  ADDRESS    NAME   TYPE  ADDRESS   

 I	I*2   4-000042	 ICHAR	I*2   4-000060	 IK	I*2   4-000054	 IOUT	I*2   F-000010*	 ISTART	I*2   F-000004*
 IX	I*2   4-000050	 IY	I*2   4-000062	 IZ	I*2   4-000046	 J	I*2   4-000052	 K	I*2   4-000056
 LENGTH	I*2   F-000006*	 LINE	I*2   4-000044	 LINWID	I*2   4-000040	 N	I*2   4-000064


ARRAYS

 NAME   TYPE  ADDRESS	    SIZE 	DIMENSIONS

 ARRAY	L*1   F-000002*	     **     	(*)
 PRBUF	L*1   4-000000	000040    16	(32)


LABELS

 LABEL   ADDRESS 	 LABEL   ADDRESS 	 LABEL   ADDRESS 	 LABEL   ADDRESS 	 LABEL   ADDRESS 	

 10'	 3-000000	 20'	 3-000024	 30'	 3-000042	 40'	 3-000062	 200	    **   
 230	    **   	 250	 1-000450	 300	 1-000464	 350	    **   	 400	 1-000562
 430	    **   	 500	 1-000674	 600	    **   


TOTAL SPACE ALLOCATED = 001166   315

NO FPP INSTRUCTIONS GENERATED

OBJ$:HEXDMP.OBI,LIS$:HEXDMP.LST/-SP=SRC$:HEXDMP

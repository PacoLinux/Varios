!+ 
! AST CONTROL BLOCK DEFINITIONS 
! 
! AST CONTROL BLOCKS EXIST AS SEPARATE STRUCTURES AND AS SUBSTRUCTURES 
! WITHIN LARGER CONTROL BLOCKS SUCH AS I/O REQUEST PACKETS AND TIMER 
! QUEUE ENTRIES. 
! 
!- 
 
!...$ACBDEF	
 
MACRO		ACB$L_ASTQFL	= 0,0,32,0%; 		!AST QUEUE FORWARD LINK 
MACRO		ACB$L_ASTQBL	= 4,0,32,0%; 		!AST QUEUE BACKWARD LINK 
MACRO		ACB$W_SIZE	= 8,0,16,0%; 			!STRUCTURE SIZE IN BYTES 
MACRO		ACB$B_TYPE	= 10,0,8,0%; 			!STRUCTURE TYPE CODE 
MACRO		ACB$B_RMOD	= 11,0,8,0%; 			!REQUEST ACCESS MODE 
						!RMOD FLAG DEFINITIONS 
MACRO		ACB$V_MODE	= 11,0,2,0%; 			!MODE FOR FINAL DELIVERY 
							!SPARE 
MACRO		ACB$V_QUOTA	= 11,6,1,0%; 		!ACCOUNT FOR QUOTA 
LITERAL	ACB$M_QUOTA	= 1^7 - 1^6; 
MACRO		ACB$V_KAST	= 11,7,1,0%; 			!SPECIAL KERNEL AST 
			
MACRO		ACB$L_PID	= 12,0,32,0%; 			!PROCESS ID OF REQUEST 
MACRO		ACB$L_AST	= 16,0,32,0%; 			!AST ROUTINE ADDRESS 
MACRO		ACB$L_ASTPRM	= 20,0,32,0%; 		!AST PARAMETER 
MACRO		ACB$L_KAST	= 24,0,32,0%; 			!INTERNAL KERNEL MODE XFER ADDRESS 
 

 
! 
! CONFIGURATION CONTROL BLOCK OFFSET DEFINITIONS 
! 
 
!...$ACFDEF	
 
MACRO		ACF$L_ADAPTER	= 0,0,32,0%; 		!ADDRESS OF ADAPTER CONTROL BLOCK 
MACRO		ACF$L_CONFIGREG	= 4,0,32,0%; 		!ADDRESS OF CONFIGURATION STATUS REGISTER 
MACRO		ACF$W_AVECTOR	= 8,0,16,0%; 		!OFFSET TO ADAPTER INTERRUPT VECTOR (SCB) 
MACRO		ACF$B_AUNIT	= 10,0,8,0%; 			!ADAPTER UNIT NUMBER 
MACRO		ACF$B_AFLAG	= 11,0,8,0%; 			!ADAPTER GENERATION CONTROL FLAGS 
							!FLAG VALUES 
MACRO		ACF$V_RELOAD	= 11,0,1,0%; 			! RELOAD DRIVER 
LITERAL	ACF$M_RELOAD	= 1^1 - 1^0; 
			
MACRO		ACF$L_CONTRLREG	= 12,0,32,0%; 		!ADDRESS OF CONTROL REGISTER 
MACRO		ACF$W_CVECTOR	= 16,0,16,0%; 		!OFFSET TO CONTROLLER INTERRUPT VECTOR (TABLE) 
MACRO		ACF$B_CUNIT	= 18,0,8,0%; 			!CONTROLLER UNIT NUMBER 
MACRO		ACF$B_CNUMVEC	= 19,0,8,0%; 		!NUMBER OF CONTROLLER VECTORS 
MACRO		ACF$L_DEVNAME	= 20,0,32,0%; 		!ADDRESS OF DEVICE NAME COUNTED STRING 
MACRO		ACF$L_DRVNAME	= 24,0,32,0%; 		!ADDRESS OF DRIVER NAME COUNTED STRING 
LITERAL	ACF$C_LENGTH	= 28; 
LITERAL	ACF$K_LENGTH	= 28; 				!LENGTH OF DEVICE DESCRIPTOR ARGUMENT LIST 
 

 
!+ 
! ADP - UNIBUS OR MASSBUS ADAPTER CONTROL BLOCK 
!- 
 
!...$ADPDEF	
 
MACRO		ADP$L_CSR	= 0,0,32,0%; 		 	!ADAPTER CONFIGURATION STATUS REGISTER ADDRESS 
MACRO		ADP$L_LINK	= 4,0,32,0%; 			!ADDRESS OF NEXT ADAPTER CONTROL BLOCK 
MACRO		ADP$W_SIZE	= 8,0,16,0%; 			!STRUCTURE SIZE IN BYTES 
MACRO		ADP$B_TYPE	= 10,0,8,0%; 			!STRUCTURE TYPE CODE 
MACRO		ADP$B_NUMBER	= 11,0,8,0%; 		!ORDINAL ADAPTER NUMBER 
MACRO		ADP$W_TR	= 12,0,16,0%; 			!CONFIGURATION TR NUMBER 
MACRO		ADP$W_ADPTYPE	= 14,0,16,0%; 		!SOFTWARE ADAPTER TYPE 
MACRO		ADP$L_VECTOR	= 16,0,32,0%; 		!UBA - ADDRESS OF VECTOR JUMP TABLE 
MACRO		ADP$L_CRB	= 16,0,32,0%; 			!MBA - ADDRESS OF ADAPTER'S CRB 
LITERAL	ADP$C_MBAADPLEN	= 20; 
LITERAL	ADP$K_MBAADPLEN	= 20; 			!LENGTH OF ADP FOR MASSBUS ADAPTER 
MACRO		ADP$L_DPQFL	= 20,0,32,0%; 			!UBA - DATAPATH WAIT QUEUE FORWARD LINK 
MACRO		ADP$L_DPQBL	= 24,0,32,0%; 			!UBA - DATAPATH WAIT QUEUE BACKWARD LINK 
MACRO		ADP$L_MRQFL	= 28,0,32,0%; 			!UBA - MAP REGISTER WAIT QUEUE FORWARD LINK 
MACRO		ADP$L_MRQBL	= 32,0,32,0%; 			!UBA - MAP REGISTER WAIT QUEUE BACKWARD LINK 
MACRO		ADP$W_DPBITMAP	= 36,0,16,0%; 		!UBA - DATAPATH ALLOCATION BITMAP 
MACRO		ADP$W_MRBITMAP	= 38,0,0,0%; 		!UBA - MAP REGISTER ALLOCATION BITMAP 
LITERAL	ADP$S_MRBITMAP	= 62; 
MACRO		ADP$L_INTD	= 100,0,0,0%; 		!UBA - INTERRUPT TRANSFER VECTOR 
LITERAL	ADP$S_INTD	= 12; 
LITERAL	ADP$C_NUMDATAP	= 16; 			!UBA - NUMBER OF DATAPATHS 
LITERAL	ADP$C_UBAADPLEN	= 112; 
LITERAL	ADP$K_UBAADPLEN	= 112; 			!LENGTH OF ADP FOR UNIBUS ADAPTER 
 

!+ 
! FORMAT OF ACP I/O BUFFER PACKET. THIS PACKET CONTAINS ALL THE DATA 
! TRANSMITTED FROM THE USER TO THE ACP AND BACK FOR AN ACP FUNCTION. 
! NOTE THAT THE DESCRIPTORS IN THE PACKET ARE TREATED BY BLISS CODE 
! AS A BLOCKVECTOR. 
!- 
 
!...$AIBDEF		! MAIN PACKET BODY 
 
MACRO		AIB$L_DESCRIPT	= 0,0,32,0%; 		! ADDRESS OF START OF DESCRIPTORS 
MACRO		AIB$W_SIZE	= 8,0,16,0%; 		! SIZE OF PACKET 
MACRO		AIB$B_TYPE	= 10,0,8,0%; 		! PACKET TYPE CODE 
LITERAL	AIB$C_LENGTH	= 12; 
LITERAL	AIB$K_LENGTH	= 12; 			! LENGTH OF PACKET HEADER 
 

 
 
!...$ABDDEF		! DESCRIPTOR FORMAT 
 
MACRO		ABD$W_TEXT	= 0,0,16,0%; 		! WORD OFFSET TO DATA TEXT 
MACRO		ABD$W_COUNT	= 2,0,16,0%; 		! BYTE COUNT OF TEXT 
MACRO		ABD$L_USERVA	= 4,0,32,0%; 		! USER VIRTUAL ADDRESS OF TEXT 
LITERAL	ABD$C_LENGTH	= 8; 
LITERAL	ABD$K_LENGTH	= 8; 			! SIZE OF DESCRIPTOR 
LITERAL	ABD$C_WINDOW	= 0; 			! DESCRIPTOR FOR WINDOW ADDRESS 
LITERAL	ABD$C_FIB	= 1; 				! DESCRIPTOR FOR FIB 
LITERAL	ABD$C_NAME	= 2; 			! DESCRIPTOR FOR NAME STRING 
LITERAL	ABD$C_RESL	= 3; 			! DESCRIPTOR FOR RESULT LENGTH 
LITERAL	ABD$C_RES	= 4; 				! DESCRIPTOR FOR RESULT STRING 
LITERAL	ABD$C_ATTRIB	= 5; 			! FIRST ATTRIBUTE DESCRIPTOR 
 

 
!+ 
! DEFINITION OF ACP QUEUE HEADER 
!- 
 
!...$AQBDEF		! ACP QUEUE HEADER BLOCK 
 
MACRO		AQB$L_ACPQFL	= 0,0,32,0%; 		! QUEUE FORWARD LINK 
MACRO		AQB$L_ACPQBL	= 4,0,32,0%; 		! QUEUE BACK LINK 
MACRO		AQB$W_SIZE	= 8,0,16,0%; 		! CONTROL BLOCK SIZE IN BYTES 
MACRO		AQB$B_TYPE	= 10,0,8,0%; 		! BLOCK TYPE CODE 
MACRO		AQB$B_MNTCNT	= 11,0,8,0%; 		! ACP MOUNT COUNT 
MACRO		AQB$L_ACPPID	= 12,0,32,0%; 		! ACP PROCESS PID 
MACRO		AQB$L_LINK	= 16,0,32,0%; 			! AQB LIST LINKAGE 
MACRO		AQB$B_STATUS	= 20,0,8,0%; 		! STATUS BYTE 
			 
MACRO		AQB$V_UNIQUE	= 20,0,1,0%; 		! ACP IS UNIQUE TO THIS DEVICE 
LITERAL	AQB$M_UNIQUE	= 1^1 - 1^0; 
MACRO		AQB$V_DEFCLASS	= 20,1,1,0%; 		! ACP IS DEFAULT FOR THIS CLASS 
LITERAL	AQB$M_DEFCLASS	= 1^2 - 1^1; 
MACRO		AQB$V_DEFSYS	= 20,2,1,0%; 		! ACP IS DEFAULT FOR THE SYSTEM 
LITERAL	AQB$M_DEFSYS	= 1^3 - 1^2; 
MACRO		AQB$V_CREATING	= 20,3,1,0%; 		! ACP IS CURRENTLY BEING CREATED 
LITERAL	AQB$M_CREATING	= 1^4 - 1^3; 
			
MACRO		AQB$B_ACPTYPE	= 21,0,8,0%; 		! ACP TYPE CODE 
LITERAL	
$EQULST (AQB$K_,GBL,0,1  
	,(UNDEFINED,) 			! UNDEFINED ACP 
	,(F11V1,) 			! FILES-11 STRUCTURE LEVEL 1 
	,(F11V2,) 			! FILES-11 STRUCTURE LEVEL 2 
	,(MTA,) 				! MAGTAPE 
	,(NET,) 				! NETWORKS 
	); 
MACRO		AQB$B_CLASS	= 22,0,8,0%; 		! ACP CLASS CODE 
LITERAL	AQB$C_LENGTH	= 24; 
LITERAL	AQB$K_LENGTH	= 24; 			! SIZE OF AQB 
 

 
!+ 
! 
! Structure of message from disk ACP to bad block scan utility. 
! 
!- 
 
!...$BBSDEF	
 
MACRO		BBS$B_MSGTYPE	= 0,0,8,0%; 			! message type code (MSG$C_SCANBAD) 
MACRO		BBS$W_SEQUENCE	= 4,0,16,0%; 			! message sequence number 
MACRO		BBS$L_UCB	= 8,0,32,0%; 				! UCB address of device 
MACRO		BBS$W_FID	= 12,0,0,0%; 			! file ID of file 
LITERAL	BBS$S_FID	= 6; 
LITERAL	BBS$C_LENGTH	= 18; 
LITERAL	BBS$K_LENGTH	= 18; 	 
 

 
!+ 
! CONDITIONAL ASSEMBLY PARAMETER DEFINITIONS 
! 
!	A NONZERO PARAMETER VALUE INDICATES PRESENCE OF THE FEATURE. 
!	A ZERO PARAMETER VALUE INDICATES ABSENCE OF THE FEATURE 
! 
!	ALL PARAMETERS MUST BE DEFINED 
!- 
 
!...$CADEF	
 
LITERAL	
$EQULST (CA$_,GBL,0,1  
	,(SIMULATOR,1) 			!INCLUDE SIMULATOR SUPPORT CODE 
	,(MEASURE,2) 			!INCLUDE PERFORMANCE MEASUREMENT HOOKS 
	,(MEASURE_IOT,4) 			!INCLUDE I/O TRANSACTION DATA COLLECTION 
	); 
 

 
!+ 
! CCB - CHANNEL CONTROL BLOCK 
! 
! THERE IS ONE CHANNEL CONTROL BLOCK FOR EACH SOFTWARE CHANNEL THAT A 
! PROCESS MAY INITIATE I/O REQUESTS ON. THE NUMBER OF SUCH I/O CHANNELS 
! IS DETERMINED BY THE FIXED NUMBER ASSIGNED TO A PROCESS PLUS ANY 
! ADDITIONAL CHANNELS REQUIRED BY THE IMAGE CURRENTLY BEING EXECUTED 
! BY THE PROCESS. 
! 
! **** WARNING **** 
!	THE CHANNEL CONTROL BLOCK IS ASSUMED TO BE FOUR LONG WORDS 
! THROUGHOUT THE EXEC.  ITS SIZE MAY BE CHANGED BUT ONLY BY POWERS OF 2. 
!- 
 
!...$CCBDEF	
 
MACRO		CCB$L_UCB	= 0,0,32,0%; 		!ADDRESS OF ASSIGNED DEVICE UCB 
MACRO		CCB$L_WIND	= 4,0,32,0%; 		!ADDRESS OF WINDOW BLOCK 
MACRO		CCB$B_STS	= 8,0,8,0%; 		!CHANNEL STATUS 
MACRO		CCB$B_AMOD	= 9,0,8,0%; 		!ACCESS MODE THAT ASSIGNED CHANNEL 
MACRO		CCB$W_IOC	= 10,0,16,0%; 		!NUMBER OF OUTSTANDING I/O REQUESTS ON CHANNEL 
MACRO		CCB$L_DIRP	= 12,0,32,0%; 		!DEACCESS I/O REQUEST PACKET ADDRESS 
LITERAL	CCB$C_LENGTH	= 16; 
LITERAL	CCB$K_LENGTH	= 16; 			!LENGTH OF CCB 

 
!+ 
! COMMON EVENT BLOCK 
!- 
!...$CEBDEF	
 
MACRO		CEB$L_CEBFL	= 0,0,32,0%; 			!POINTER TO NEXT COMMON EVENT BLOCK 
MACRO		CEB$L_CEBBL	= 4,0,32,0%; 			!POINTER TO PREVIOUS COMMON EVENT BLOCK 
MACRO		CEB$W_SIZE	= 8,0,16,0%; 			!SIZE OF COMMON EVENT BLOCK IN BYTES 
MACRO		CEB$B_TYPE	= 10,0,8,0%; 			!STRUCTURE TYPE CODE FOR CEB 
MACRO		CEB$B_STS	= 11,0,8,0%; 			!STATUS FLAGS FOR CEB 
						!FLAG DEFINITIONS 
MACRO		CEB$V_NOQUOTA	= 11,0,1,0%; 			!NO QUOTA UPDATE 
MACRO		CEB$V_PERM	= 11,1,1,0%; 			!PERMANENT CLUSTER 
							! 
MACRO		CEB$L_PID	= 12,0,32,0%; 			!PID OF CREATOR 
MACRO		CEB$L_EFC	= 16,0,32,0%; 			!EVENT FLAGS (32 BIT VECTOR) 
MACRO		CEB$L_WQFL	= 20,0,32,0%; 			!HEAD OF WAIT QUEUE 
MACRO		CEB$L_WQBL	= 24,0,32,0%; 			!TAIL OF WAIT QUEUE 
MACRO		CEB$W_WQCNT	= 28,0,16,0%; 			!WAIT QUEUE COUNT(LENGTH) 
MACRO		CEB$W_STATE	= 30,0,16,0%; 			!CEF WAIT STATE NUMBER 
MACRO		CEB$L_UIC	= 32,0,32,0%; 			!USER IDENT OF CEB CREATOR 
MACRO		CEB$W_GRP	= 34,0,16,0%; 			!GROUP NUMBER OF OWNER 
MACRO		CEB$W_PROT	= 36,0,16,0%; 			!PROTECTION MASK 
MACRO		CEB$W_REFC	= 38,0,16,0%; 			!REFERENCE COUNT FOR CEB 
MACRO		CEB$T_EFCNAM	= 40,0,0,0%; 		!EVENT CLUSTER TEXT NAME 
LITERAL	CEB$S_EFCNAM	= 16; 
 

 
!+ 
! CRB - CHANNEL REQUEST BLOCK 
! 
! THERE IS ONE CHANNEL REQUEST BLOCK FOR EACH SET OF DEVICES WHOSE 
! ACCESS TO A SET OF CONTROLLERS MUST BE SYNCHRONIZED. EACH CHANNEL 
! CONTROL BLOCK ALLOWS UP TO FOUR CONTROLLERS TO WHICH THE INDIVIDUAL 
! DEVICES CAN BE ATTACHED. 
!- 
 
!...$CRBDEF	
 
MACRO		CRB$L_WQFL	= 0,0,32,0%; 			!WAIT QUEUE FORWARD LINK 
MACRO		CRB$L_TT_DIAL	= 0,0,32,0%; 		!TERMINAL DRIVER DIALUP ACTION LIST 
MACRO		CRB$L_WQBL	= 4,0,32,0%; 			!WAIT QUEUE BACKWARD LINK 
MACRO		CRB$B_TT_ATTN	= 4,0,8,0%; 		!TERMINAL DRIVER DIALUP ATTENTION MASK 
MACRO		CRB$B_TT_EXPEC	= 5,0,8,0%; 		!TERMINNAL CARRIER EXPECTED MASK 
MACRO		CRB$W_SIZE	= 8,0,16,0%; 			!SIZE OF CRB IN BYTES 
MACRO		CRB$B_TYPE	= 10,0,8,0%; 			!STRUCTURE TYPE FOR CRB 
MACRO		CRB$W_REFC	= 12,0,16,0%; 			!REFERENCE COUNT OF UCB'S 
MACRO		CRB$B_MASK	= 14,0,8,0%; 			!CHANNEL ALLOCATION MASK 
						! MASK BIT DEFINITIONS 
MACRO		CRB$V_BSY	= 14,0,1,0%; 			! CHANNEL IS BUSY (1=YES) 
LITERAL	CRB$M_BSY	= 1^1 - 1^0; 
						! END OF BIT DEFINITIONS 
MACRO		CRB$L_LINK	= 16,0,32,0%; 			!ADDRESS OF SECONDARY CRB 
MACRO		CRB$L_INTD	= 20,0,0,0%; 		!INTERRUPT TRANSFER VECTOR 
LITERAL	CRB$S_INTD	= 36; 
LITERAL	CRB$C_LENGTH	= 56; 
LITERAL	CRB$K_LENGTH	= 56; 				!LENGTH OF STANDARD CRB 
MACRO		CRB$L_INTD2	= 56,0,0,0%; 		!SECOND INTERRUPT VECTOR 
LITERAL	CRB$S_INTD2	= 36; 

 
 
!+ 
! CRB INTERRUPT TRANSFER VECTOR STRUCTURE DEFINITIONS 
!- 
 
!...$VECDEF	
 
MACRO		VEC$Q_DISPATCH	= 0,0,0,0%; 		!REGISTER SAVE AND DISPATCH INSTRUCTIONS 
LITERAL	VEC$S_DISPATCH	= 8; 
MACRO		VEC$L_IDB	= 8,0,32,0%; 			!ADDRESS OF ASSOCIATED IDB 
MACRO		VEC$L_INITIAL	= 12,0,32,0%; 		!CONTROLLER INITIALIZATION ENTRY ADDRESS 
MACRO		VEC$W_MAPREG	= 16,0,16,0%; 		!STARTING MAP REGISTER ALLOCATED 
						! MAP REGISTER FIELD BIT DEFINITIONS 
MACRO		VEC$V_MAPREG	= 16,0,15,0%; 		! MAP REGISTER NUMBER 
MACRO		VEC$V_MAPLOCK	= 16,15,1,0%; 		! MAP REGISTER ALLOCATION PERMANENT 
LITERAL	VEC$M_MAPLOCK	= 1^16 - 1^15; 
					! 
MACRO		VEC$B_NUMREG	= 18,0,8,0%; 		!NUMBER OF MAP REGISTERS ALLOCATED 
MACRO		VEC$B_DATAPATH	= 19,0,8,0%; 		!BUFFERED DATAPATH ALLOCATED 
						! DATAPATH FIELD BIT DEFINITIONS 
MACRO		VEC$V_DATAPATH	= 19,0,7,0%; 		! DATAPATH NUMBER 
MACRO		VEC$V_PATHLOCK	= 19,7,1,0%; 		! DATAPATH PERMENENT 
LITERAL	VEC$M_PATHLOCK	= 1^8 - 1^7; 
					! 
MACRO		VEC$L_ADP	= 20,0,32,0%; 			!ADDRESS OF ADP 
MACRO		VEC$L_UNITINIT	= 24,0,32,0%; 		!ADDRESS OF UNIT INITIALIZE 
MACRO		VEC$L_START	= 28,0,32,0%; 			!ADDRESS OF UNIT START 
MACRO		VEC$L_UNITDISC	= 32,0,32,0%; 		!ADDRESS OF UNIT DISCONNECT 
LITERAL	VEC$C_LENGTH	= 36; 
LITERAL	VEC$K_LENGTH	= 36; 				!LENGTH OF STANDARD DISPATCHER 

 
!+ 
! CXB - COMPLEX CHAINED BUFFER 
! 
! THESE OFFSETS ARE USED IN THE HEADER OF DISJOINT SEGMENTS 
! WHICH ARE TO BE PRESENTED TO THE USER AS A UNIT. 
! 
!- 
 
!...$CXBDEF	
 
MACRO		CXB$L_FL	= 0,0,32,0%; 			!FORWARD QUEUE LINK 
MACRO		CXB$L_BL	= 4,0,32,0%; 			!BACKWARD QUEUE LINK 
MACRO		CXB$W_SIZE	= 8,0,16,0%; 			!BLOCK SIZE 
MACRO		CXB$B_TYPE	= 10,0,8,0%; 			!BLOCK TYPE 
MACRO		CXB$B_CODE	= 11,0,8,0%; 			!BUFFER CODE 
MACRO		CXB$W_LENGTH	= 12,0,16,0%; 		!LENGTH OF DATA 
MACRO		CXB$W_OFFSET	= 14,0,16,0%; 		! OFFSET TO START OF NSP MESSAGE 
MACRO		CXB$L_IRP	= 16,0,32,1%; 		!IRP ADDRESS FOR TRANSMITS (0=> DO NOT TERMINATE) 
MACRO		CXB$L_LINK	= 16,0,32,0%; 			!LINK WORD FOR CHAINED DATA MESSAGE 
MACRO		CXB$W_CHANNEL	= 16,0,16,0%; 		! STORE CHANNEL NUMBER FOR AST 
MACRO		CXB$L_SSB	= 20,0,32,0%; 			!ADDR OF SSB FOR DECREMENTING TIPC 
LITERAL	
$EQULST (CXB$C_,GBL,1,1  
	,(DDCCON,) 			!CONTROL MSG XMITTED - ALSO USED AS DEALLOCATION COUNT 
	,(DDCDAT,) 			! DATA MSG XMITTED - ALSO USED AS DEALLOCATION COUNT 
	,(DDCRCV,) 			! MSG RCVD 
	,(DDCERR,) 			! ERROR NOTIFICATION 
	); 
LITERAL	CXB$C_LENGTH	= 24; 
LITERAL	CXB$K_LENGTH	= 24; 				! LENGTH OF A CXB 
LITERAL	CXB$C_NSPSTART	= 26; 
LITERAL	CXB$K_NSPSTART	= 26; 			! NORMAL START OF NSP (NO ACKNUM) 

 
!+ 
! DDB - DEVICE DATA BLOCK 
! 
! THERE IS ONE DEVICE DATA BLOCK FOR EACH CONTROLLER IN A SYSTEM. 
!+ 
 
!...$DDBDEF	
 
MACRO		DDB$L_LINK	= 0,0,32,0%; 			!ADDRESS OF NEXT DDB IN LIST (0=LAST) 
MACRO		DDB$L_UCB	= 4,0,32,0%; 			!ADDRESS OF FIRST UCB FOR THIS DDB 
MACRO		DDB$W_SIZE	= 8,0,16,0%; 			!SIZE OF DDB IN BYTES 
MACRO		DDB$B_TYPE	= 10,0,8,0%; 			!TYPE OF DATA STRUCTURE FOR DDB 
MACRO		DDB$L_DDT	= 12,0,32,0%; 			!ADDRESS OF THE DRIVER DISPATCH TABLE 
MACRO		DDB$L_ACPD	= 16,0,32,0%; 			!NAME OF DEFAULT ACP FOR DEVICE UNITS 
MACRO		DDB$B_ACPCLASS	= 19,0,8,0%; 		!CLASS CODE OF DEFAULT ACP 
MACRO		DDB$T_NAME	= 20,0,8,0%; 		!GENERIC PATHNAME OF DEVICE 
MACRO		DDB$T_DRVNAME	= 36,0,8,0%; 		!DRIVERNAME 
LITERAL	DDB$C_LENGTH	= 52; 
LITERAL	DDB$K_LENGTH	= 52; 				!LENGTH OF STANDARD DDB 

 
!+ 
! DDT - DRIVER DISPATCH TABLE 
! 
! EACH DEVICE DRIVER HAS A DRIVER DISPATCH TABLE. 
!- 
 
!...$DDTDEF	
 
MACRO		DDT$L_START	= 0,0,32,0%; 			!ADDRESS OF DRIVER START I/O ROUTINE 
MACRO		DDT$L_UNSOLINT	= 4,0,32,0%; 		!ADDRESS OF UNSOLICITED INTERRUPT ROUTINE 
MACRO		DDT$L_FDT	= 8,0,32,0%; 			!ADDRESS OF FUNCTION DECISION TABLE 
MACRO		DDT$L_CANCEL	= 12,0,32,0%; 		!ADDRESS OF CANCEL I/O ENTRY POINT 
MACRO		DDT$L_REGDUMP	= 16,0,32,0%; 		!ADDRESS OF DEVICE REGISTER DUMP ROUTINE 
MACRO		DDT$W_DIAGBUF	= 20,0,16,0%; 		!SIZE OF DIAGNOSTIC BUFFER IN BYTES 
MACRO		DDT$W_ERRORBUF	= 22,0,16,0%; 		!SIZE OF ERROR LOG BUFFER IN BYTES 
MACRO		DDT$L_INIT	= 24,0,32,0%; 			!UNIT INITIALIZATION ENTRY POINT 
 

 
!+ 
! DPT - DRIVER PROLOGUE TABLE 
! 
! EACH DEVICE DRIVER HAS A DRIVER PROLOGUE TABLE. 
!- 
 
!...$DPTDEF	
 
MACRO		DPT$L_FLINK	= 0,0,32,0%; 			!FORWARD LINK TO NEXT DPT 
MACRO		DPT$L_BLINK	= 4,0,32,0%; 			!BACKWARD LINK TO PREVIOUS DPT 
MACRO		DPT$W_SIZE	= 8,0,16,0%; 			!SIZE OF DRIVER 
MACRO		DPT$B_TYPE	= 10,0,8,0%; 			!STRUCTURE TYPE 
MACRO		DPT$B_REFC	= 11,0,8,0%; 			!COUNT OF DDB'S THAT REFERENCE DRIVER 
MACRO		DPT$B_ADPTYPE	= 12,0,8,0%; 		!ADAPTER TYPE CODE 
MACRO		DPT$B_FLAGS	= 13,0,8,0%; 			!DRIVER LOADER FLAGS 
							! 
MACRO		DPT$V_SUBCNTRL	= 13,0,1,0%; 		!DEVICE IS A SUB-CONTROLLER 
LITERAL	DPT$M_SUBCNTRL	= 1^1 - 1^0; 
MACRO		DPT$V_SVP	= 13,1,1,0%; 			!DEVICE REQUIRES A SYSTEM PAGE 
LITERAL	DPT$M_SVP	= 1^2 - 1^1; 
MACRO		DPT$V_NOUNLOAD	= 13,2,1,0%; 		!DRIVER IS NOT TO BE UNLOADED 
LITERAL	DPT$M_NOUNLOAD	= 1^3 - 1^2; 
			
MACRO		DPT$W_UCBSIZE	= 14,0,16,0%; 		!SIZE OF UCB 
MACRO		DPT$W_INITTAB	= 16,0,16,0%; 		!OFFSET TO INIT TABLE 
MACRO		DPT$W_REINITTAB	= 18,0,16,0%; 		!OFFSET TO RE-INIT TABLE 
MACRO		DPT$W_UNLOAD	= 20,0,16,0%; 		!OFFSET TO UNLOAD ACTION ROUTINE 
MACRO		DPT$T_NAME	= 22,0,0,0%; 		!DRIVER NAME (COUNTED STRING) 
LITERAL	DPT$S_NAME	= 12; 
LITERAL	DPT$C_LENGTH	= 34; 
LITERAL	DPT$K_LENGTH	= 34; 				!LENGTH OF PROLOGUE TABLE 
 

 
 
!+ 
! TEMPORARY DATA STRUCTURE TYPE DEFINITIONS ********TEMP******** 
!- 
 
!...$DYNDEF	
 
LITERAL	
$EQULST (DYN$C_,GBL,1,1 			!BASE AND OFFSET OF 1 
 
	,(ADP,) 					!UNIBUS ADAPTER CONTROL BLOCK 
	,(ACB,) 	  				!AST CONTROL BLOCK 
	,(AQB,) 	  				!ACP QUEUE BLOCK 
	,(CEB,) 	  				!COMMON EVENT BLOCK 
	,(CRB,) 	  				!CHANNEL REQUEST BLOCK 
	,(DDB,) 	  				!DEVICE DESCRIPTOR BLOCK 
	,(FCB,) 	  				!FILE CONTROL BLOCK 
	,(FRK,) 	  				!FORK BLOCK 
	,(IDB,) 	  				!INTERRUPT DISPATCH BLOCK 
	,(IRP,) 	  				!I/O REQUEST PACKET 
	,(LOG,) 	  				!LOGICAL NAME BLOCK 
	,(PCB,) 	  				!PROCESS CONTROL BLOCK 
	,(PQB,) 	  				!PROCESS QUOTA BLOCK 
	,(RVT,) 	  				!RELATIVE VOLUME TABLE 
	,(TQE,) 	  				!TIMER QUEUE ENTRY 
	,(UCB,) 	  				!UNIT CONTROL BLOCK 
	,(VCB,) 	  				!VOLUME CONTROL BLOCK 
	,(WCB,) 					!WINDOW CONTROL BLOCK 
	,(BUFIO,) 					!BUFFERED I/O BLOCK 
	,(TYPAHD,) 					!TERMINAL TYPEAHEAD BUFFER 
	,(GSD,) 					!GLOBAL SECTION DESCRIPTOR BLOCK 
	,(MVL,) 					!MAGNETIC TAPE VOLUME LIST 
	,(NET,) 					!NETWORK MESSAGE BLOCK 
	,(KFI,) 					!KNOWN FILE ENTRY 
	,(MTL,) 					!MOUNTED VOLUME LIST ENTRY 
	,(BRDCST,) 					!BROADCAST MESSAGE BLOCK 
	,(CXB,) 					!COMPLEX CHAINED BUFFER 
	,(NDB,) 					! NETWORK NODE DESCRIPTOR BLOCK 
	,(SSB,) 					! LOGICAL LINK SUBCHANNEL STATUS BLOCK 
	,(DPT,) 					! DRIVER PROLOGUE TABLE 
	,(JPB,) 					! JOB PARAMETER BLOCK 
	,(PBH,) 					! PERFORMANCE BUFFER HEADER 
	,(PDB,) 					! PERFORMANCE DATA BLOCK 
	,(PIB,) 					! PERFORMANCE INFORMATION BLOCK 
	,(PFL,) 					! PAGE FILE CONTROL BLOCK 
	,(SFT,) 					! SWAP FILE TABLE 
	,(PTR,) 					! POINTER CONTROL BLOCK 
	,(KFH,) 					! KNOWN FILE IMAGE HEADER 
	); 

 
 
! 
! ERROR MESSAGE BUFFER HEADER 
! 
!		******	CAUTION  ****** 
! 
!	ALL OF THE EMBxxDEF STRUCTURES ASSUME THAT THE HEADER IS 
!	EXACTLY ONE LONGWORD IN LENGTH.  IF THIS FIELD CHANGES, 
!	IF EFFECTS ALL OF THE OTHER STRUCTURES. 
!	ALL MESSAGES HAVE TYPE,TIME, AND ERROR SEQUENCE IN THE 
!	SAME RELATIVE LOCATIONS. 
! 
 
!...$EMBHDDEF	 
 
MACRO		EMB$W_SIZE	= 0,0,16,0%; 			!SIZE OF ERROR MESSAGE IN BYTES 
MACRO		EMB$B_BUFIND	= 2,0,8,0%; 		!ALLOCATION BUFFER INDICATOR (0 OR 1) 
MACRO		EMB$B_VALID	= 3,0,8,0%; 			!ERROR MESSAGE VALID INDICATOR 
LITERAL	EMB$C_LENGTH	= 4; 
LITERAL	EMB$K_LENGTH	= 4; 				!LENGTH OF FIXED PARTOF MESSAGE HEADER 
MACRO		EMB$W_HD_ENTRY	= 4,0,16,0%; 		!ERROR MESSAGE ENTRY TYPE 
MACRO		EMB$B_DEVTYP	= 4,0,8,0%; 		!DEVICE TYPE 
MACRO		EMB$B_DEVCLS	= 5,0,8,0%; 		!DEVICE CLASS 
MACRO		EMB$Q_HD_TIME	= 6,0,0,0%; 		!TIME OF MESSAGE ENTRY 
LITERAL	EMB$S_HD_TIME	= 8; 
MACRO		EMB$W_HD_ERRSEQ	= 14,0,16,0%; 		!ERROR SEQUENCE FOR MESSAGE 

 
! 
! BUGCHECK ERROR MESSAGE BUFFER FORMAT (SYSTEM AND USER) 
! 
 
!...$EMBBCDEF			!BUG CHECK ENTRY FORMAT 
 
MACRO		EMB$W_BC_ENTRY	= 4,0,16,0%; 		!ENTRY TYPE 
MACRO		EMB$Q_BC_TIME	= 6,0,0,0%; 		!TIME IN 64 BITS 
LITERAL	EMB$S_BC_TIME	= 8; 
MACRO		EMB$W_BC_ERRSEQ	= 14,0,16,0%; 		!ERROR SEQUENCE NUMBER 
MACRO		EMB$L_BC_KSP	= 16,0,32,0%; 		!KERNEL STACK POINTER 
MACRO		EMB$L_BC_ESP	= 20,0,32,0%; 		!EXECUTIVE STACK POINTER 
MACRO		EMB$L_BC_SSP	= 24,0,32,0%; 		!SUPERVISOR STACK POINTER 
MACRO		EMB$L_BC_USP	= 28,0,32,0%; 		!USER STACK POINTER 
MACRO		EMB$L_BC_ISP	= 32,0,32,0%; 		!INTERRUPT STACK POINTER 
MACRO		EMB$L_BC_R0	= 36,0,32,0%; 			!REGISTER R0 
MACRO		EMB$L_BC_R1	= 40,0,32,0%; 			!REGISTER R1 
MACRO		EMB$L_BC_R2	= 44,0,32,0%; 			!REGISTER R2 
MACRO		EMB$L_BC_R3	= 48,0,32,0%; 			!REGISTER R3 
MACRO		EMB$L_BC_R4	= 52,0,32,0%; 			!REGISTER R4 
MACRO		EMB$L_BC_R5	= 56,0,32,0%; 			!REGISTER R5 
MACRO		EMB$L_BC_R6	= 60,0,32,0%; 			!REGISTER R6 
MACRO		EMB$L_BC_R7	= 64,0,32,0%; 			!REGISTER R7 
MACRO		EMB$L_BC_R8	= 68,0,32,0%; 			!REGISTER R8 
MACRO		EMB$L_BC_R9	= 72,0,32,0%; 			!REGISTER R9 
MACRO		EMB$L_BC_R10	= 76,0,32,0%; 		!REGISTER R10 
MACRO		EMB$L_BC_R11	= 80,0,32,0%; 		!REGISTER R11 
MACRO		EMB$L_BC_AP	= 84,0,32,0%; 			!ARGUMENT POINTER 
MACRO		EMB$L_BC_FP	= 88,0,32,0%; 			!FRAME POINTER 
MACRO		EMB$L_BC_SP	= 92,0,32,0%; 			!CURRENT STACK POINTER 
MACRO		EMB$L_BC_PC	= 96,0,32,0%; 			!PROGRAM COUNTER 
MACRO		EMB$L_BC_PSL	= 100,0,32,0%; 		!PROCESSOR STATUS 
MACRO		EMB$L_BC_CODE	= 104,0,32,0%; 		!BUGCHECK CODE 
MACRO		EMB$W_BC_PCBSZ	= 108,0,16,0%; 		!SIZE OF PCB IN BYTES 
LITERAL	EMB$C_BC_LENGTH	= 110; 
LITERAL	EMB$K_BC_LENGTH	= 110; 			!SIZE OF FIXED PART OF BUGCHECK MESSAGE 
MACRO		EMB$B_BC_PCB	= 110,0,8,0%; 		!START OF SOFTWARE PCB 
			! 
 
! 
! CRASH-RESTART ERROR MESSAGE BUFFER FORMAT 
! 
 
!...$EMBCRDEF			!CRASH RESTART RECORD FORMAT 
 
MACRO		EMB$W_CR_ENTRY	= 4,0,16,0%; 		!ENTRY TYPE 
MACRO		EMB$Q_CR_TIME	= 6,0,0,0%; 		!TIME IN 64 BITS 
LITERAL	EMB$S_CR_TIME	= 8; 
MACRO		EMB$W_CR_ERRSEQ	= 14,0,16,0%; 		!ERROR SEQUENCE NUMBER 
MACRO		EMB$L_CR_KSP	= 16,0,32,0%; 		!KERNEL STACK POINTER 
MACRO		EMB$L_CR_ESP	= 20,0,32,0%; 		!EXECUTIVE STACK POINTER 
MACRO		EMB$L_CR_SSP	= 24,0,32,0%; 		!SUPERVISOR STACK POINTER 
MACRO		EMB$L_CR_USP	= 28,0,32,0%; 		!USER STACK POINTER 
MACRO		EMB$L_CR_ISP	= 32,0,32,0%; 		!INTERRUPT STACK POINTER 
MACRO		EMB$L_CR_R0	= 36,0,32,0%; 			!REGISTER R0 
MACRO		EMB$L_CR_R1	= 40,0,32,0%; 			!REGISTER R1 
MACRO		EMB$L_CR_R2	= 44,0,32,0%; 			!REGISTER R2 
MACRO		EMB$L_CR_R3	= 48,0,32,0%; 			!REGISTER R3 
MACRO		EMB$L_CR_R4	= 52,0,32,0%; 			!REGISTER R4 
MACRO		EMB$L_CR_R5	= 56,0,32,0%; 			!REGISTER R5 
MACRO		EMB$L_CR_R6	= 60,0,32,0%; 			!REGISTER R6 
MACRO		EMB$L_CR_R7	= 64,0,32,0%; 			!REGISTER R7 
MACRO		EMB$L_CR_R8	= 68,0,32,0%; 			!REGISTER R8 
MACRO		EMB$L_CR_R9	= 72,0,32,0%; 			!REGISTER R9 
MACRO		EMB$L_CR_R10	= 76,0,32,0%; 		!REGISTER R10 
MACRO		EMB$L_CR_R11	= 80,0,32,0%; 		!REGISTER R11 
MACRO		EMB$L_CR_AP	= 84,0,32,0%; 			!ARGUMENT POINTER 
MACRO		EMB$L_CR_FP	= 88,0,32,0%; 			!FRAME POINTER 
MACRO		EMB$L_CR_SP	= 92,0,32,0%; 			!CURRENT STACK POINTER 
MACRO		EMB$L_CR_PC	= 96,0,32,0%; 			!PROGRAM COUNTER 
MACRO		EMB$L_CR_PSL	= 100,0,32,0%; 		!PROCESSOR STATUS 
MACRO		EMB$L_CR_P0BR	= 104,0,32,0%; 		!PROGRAM REGION BASE REGISTER 
MACRO		EMB$L_CR_P0LR	= 108,0,32,0%; 		!PROGRAM REGION LIMIT REGISTER 
MACRO		EMB$L_CR_P1BR	= 112,0,32,0%; 		!CONTROL REGION BASE REGISTER 
MACRO		EMB$L_CR_P1LR	= 116,0,32,0%; 		!CONTROL REGION LIMIT REGISTER 
MACRO		EMB$L_CR_SBR	= 120,0,32,0%; 		!SYSTEM BASE REGISTER 
MACRO		EMB$L_CR_SLR	= 124,0,32,0%; 		!SYSTEM LIMIT REGISTER 
MACRO		EMB$L_CR_PCBB	= 128,0,32,0%; 		!PROCESS CONTROL BLOCK BASE REGISTER 
MACRO		EMB$L_CR_SCBB	= 132,0,32,0%; 		!SYSTEM CONTROL BLOCK BASE REGISTER 
MACRO		EMB$L_CR_ASTLVL	= 136,0,32,0%; 		!AST DELIVERY LEVEL REGISTER 
MACRO		EMB$L_CR_SISR	= 140,0,32,0%; 		!SOFTWARE INTERRUPT SUMMARY REGISTER 
MACRO		EMB$L_CR_ICCS	= 144,0,32,0%; 		!INTERVAL TIMER CONTROL STATUS REGISTER 
MACRO		EMB$L_CR_ICR	= 148,0,32,0%; 		!INTERVAL COUNT REGISTER 
MACRO		EMB$L_CR_TODR	= 152,0,32,0%; 		!TIME OF DAY REGISTER 
MACRO		EMB$L_CR_ACCS	= 156,0,32,0%; 		!ACCELERATOR CONTROL REGISTER 
MACRO		EMB$L_CR_SBIFS	= 160,0,32,0%; 		!SBI FAULT STATUS REGISTER 
MACRO		EMB$L_CR_SBISC	= 164,0,32,0%; 		!SBI COMPARATOR REGISTER 
MACRO		EMB$L_CR_SBIMT	= 168,0,32,0%; 		!SBI MAINTENANCE REGISTER 
MACRO		EMB$L_CR_SBIER	= 172,0,32,0%; 		!SBI ERROR REGISTER 
MACRO		EMB$L_CR_SBITA	= 176,0,32,0%; 		!SBI TIMEOUT ADDRESS REGISTER 
MACRO		EMB$L_CR_SBIS	= 180,0,0,0%; 		!SBI SILO REGISTER 
LITERAL	EMB$S_CR_SBIS	= 64; 
MACRO		EMB$L_CR_CODE	= 244,0,32,0%; 		!BUGCHECK/CRASH CODE 
MACRO		EMB$W_CR_PCBSZ	= 248,0,16,0%; 		!SIZE OF PCB IN BYTES 
LITERAL	EMB$C_CR_LENGTH	= 250; 
LITERAL	EMB$K_CR_LENGTH	= 250; 			!SIZE OF FIXED PART OF BUGCHECK MESSAGE 

 
! 
! DEVICE ERROR MESSAGE BUFFER FORMAT (ERROR AND TIMEOUT) 
! 
 
!...$EMBDVDEF			!DEVICE ERROR RECORD FORMAT 
 
MACRO		EMB$W_DV_ENTRY	= 4,0,16,0%; 		!ENTRY TYPE (1=ERROR, 96=TIMEOUT) 
MACRO		EMB$Q_DV_TIME	= 6,0,0,0%; 		!TIME OF ERROR 
LITERAL	EMB$S_DV_TIME	= 8; 
MACRO		EMB$W_DV_ERRSEQ	= 14,0,16,0%; 		!ERROR SEQUENCE NUMBER 
MACRO		EMB$B_DV_ERTCNT	= 16,0,8,0%; 		!REMAINING NUMBER OF ERROR RETRIES 
MACRO		EMB$B_DV_ERTMAX	= 17,0,8,0%; 		!MAXIMUM NUMBER OF ERROR RETRIES 
MACRO		EMB$Q_DV_IOSB	= 18,0,0,0%; 		!FINAL I/O STATUS 
LITERAL	EMB$S_DV_IOSB	= 8; 
MACRO		EMB$W_DV_DEVSTS	= 26,0,16,0%; 		!FINAL DEVICE STATUS 
MACRO		EMB$B_DV_CLASS	= 28,0,8,0%; 		!DEVICE CLASS 
MACRO		EMB$B_DV_TYPE	= 29,0,8,0%; 		!DEVICE TYPE 
MACRO		EMB$L_DV_RQPID	= 30,0,32,0%; 		!REQUESTER PROCESS ID 
MACRO		EMB$W_DV_BOFF	= 34,0,16,0%; 		!BYTE OFFSET IN PAGE 
MACRO		EMB$W_DV_BCNT	= 36,0,16,0%; 		!TRANSFER BYTE COUNT 
MACRO		EMB$L_DV_MEDIA	= 38,0,32,0%; 		!STARTING MEDIA ADDRESS 
MACRO		EMB$W_DV_UNIT	= 42,0,16,0%; 		!PHYSICAL UNIT NUMBER 
MACRO		EMB$W_DV_ERRCNT	= 44,0,16,0%; 		!UNIT ERROR COUNT 
MACRO		EMB$L_DV_OPCNT	= 46,0,32,0%; 		!UNIT OPERATION COUNT 
MACRO		EMB$L_DV_OWNUIC	= 50,0,32,0%; 		!VOLUME OWNER UIC 
MACRO		EMB$L_DV_CHAR	= 54,0,32,0%; 		!DEVICE CHARACTERISTICS 
MACRO		EMB$B_DV_SLAVE	= 58,0,8,0%; 		!SLAVE CONTROLLER NUMBER 
MACRO		EMB$W_DV_FUNC	= 60,0,16,0%; 		!I/O FUNCTION VALUE 
MACRO		EMB$T_DV_NAME	= 62,0,0,0%; 		!DEVICE NAME 
LITERAL	EMB$S_DV_NAME	= 16; 
MACRO		EMB$L_DV_REGSAV	= 78,0,32,0%; 		!START OF REGISTER SAVE AREA 

 
! 
! TIME STAMP MSG FORMAT 
! 
 
!...$EMBTSDEF			!TIME STAMP RECORD FORMAT 
 
MACRO		EMB$W_TS_ENTRY	= 4,0,16,0%;  		!ENTRY TYPE 
MACRO		EMB$Q_TS_TIME	= 6,0,0,0%;  		!TIME IN 64 BITS 
LITERAL	EMB$S_TS_TIME	= 8; 
MACRO		EMB$W_TS_ERRSEQ	= 14,0,16,0%; 		!ERROR SEQ # 
LITERAL	EMB$C_TS_LENGTH	= 16; 
LITERAL	EMB$K_TS_LENGTH	= 16; 			!LENGTH OF TIME STAMP MSG 

 
! 
! SYSTEM SERVICE MESSAGE 
! 
!	NOTE:	SYSTEM SERVICE MESSAGE COVERS: 
! 
!		1) THE MESSAGES FROM THE SERVICE 
!		2) OPERATOR MESSAGES 
!		3) NETWORK MESSAGES 
! 
!	ONLY THE TYPE FIELD IS DIFERENT 
! 
 
!...$EMBSSDEF			!SYSTEM SERVICE RECORD FORMAT 
 
MACRO		EMB$W_SS_ENTRY	= 4,0,16,0%; 		!ENTRY TYPE 
MACRO		EMB$Q_SS_TIME	= 6,0,0,0%; 		!TIME IN 64 BITS 
LITERAL	EMB$S_SS_TIME	= 8; 
MACRO		EMB$W_SS_ERRSEQ	= 14,0,16,0%; 		!ERROR SEQUENCE NUMBER 
MACRO		EMB$W_SS_MSGSZ	= 16,0,16,0%; 		!MESSAGE TEXT SIZE IN BYTES 
LITERAL	EMB$C_SS_LENGTH	= 18; 
LITERAL	EMB$K_SS_LENGTH	= 18; 			!LENGTH OF CONSTANT PART 
MACRO		EMB$B_SS_MSGTXT	= 18,0,8,0%; 		!FIRST BYTE OF MESSAGE TEXT 

 
! 
! VOLUME MOUNT/DISMOUNT MESSAGE TYPE 
! 
 
!...$EMBVMDEF			!VOLUME MOUNT RECORD FORMAT 
 
MACRO		EMB$W_VM_ENTRY	= 4,0,16,0%; 		!ENTRY TYPE = EMB$K_VM OR EMB$K_VD 
MACRO		EMB$Q_VM_TIME	= 6,0,0,0%; 		!TIME IN 64 BIT FORMAT 
LITERAL	EMB$S_VM_TIME	= 8; 
MACRO		EMB$W_VM_ERRSEQ	= 14,0,16,0%; 		!ERROR SEQUENCE NUMBER 
MACRO		EMB$L_VM_OWNUIC	= 16,0,32,0%; 		!OWNER UIC OF THE VOLUME 
MACRO		EMB$L_VM_ERRCNT	= 20,0,32,0%; 		!UNIT ERROR COUNT FROM UCB 
MACRO		EMB$L_VM_OPRCNT	= 24,0,32,0%; 		!UNIT OPERATION COUNT FROM UCB 
MACRO		EMB$W_VM_UNIT	= 28,0,16,0%; 		!DEVICE UNIT NUMBER 
MACRO		EMB$B_VM_NAMLNG	= 30,0,8,0%; 		!LENGTH OF DEVICE GENERIC NAME 
MACRO		EMB$T_VM_NAMTXT	= 31,0,0,0%; 		!DEVICE GENERIC NAME 
LITERAL	EMB$S_VM_NAMTXT	= 15; 
MACRO		EMB$W_VM_VOLNUM	= 46,0,16,0%; 		!VOLUME NUMBER WITHIN SET 
MACRO		EMB$W_VM_NUMSET	= 48,0,16,0%; 		!NUMBER OF VOLUMES WITHIN SET 
MACRO		EMB$T_VM_LABEL	= 50,0,0,0%; 		!VOLUME LABEL 
LITERAL	EMB$S_VM_LABEL	= 12; 
LITERAL	EMB$C_VM_LENGTH	= 62; 
LITERAL	EMB$K_VM_LENGTH	= 62; 			!LENGTH OF BUFFER 

! 
! SYSTEM STARTUP MESSAGE 
! 
!...$EMBSUDEF			!SYSTEM UP MESSAGE BUFFER 
 
MACRO		EMB$W_SU_ENTRY	= 4,0,16,0%; 		!ENTRY TYPE (IE: BOOT OR POWER RECOVERY) 
MACRO		EMB$Q_SU_TIME	= 6,0,0,0%; 		!CONTENTS OF SYSTEM TIME QUADWORD 
LITERAL	EMB$S_SU_TIME	= 8; 
MACRO		EMB$W_SU_ERRSEQ	= 14,0,16,0%; 		!ERROR SEQUENCE NUMBER 
MACRO		EMB$L_SU_DAYTIM	= 16,0,32,0%; 		!CONTENTS OF TIME OF DAY CLOCK 
LITERAL	EMB$C_SU_LENGTH	= 20; 
LITERAL	EMB$K_SU_LENGTH	= 20; 			!LENGTH OF MESSAGE 

 
 
! 
! MACHINE CHECK LOG BUFFER FORMAT 
! 
 
!...$EMBMCDEF	 
 
MACRO		EMB$W_MC_ENTRY	= 4,0,16,0%; 		!ENTRY TYPE 
MACRO		EMB$Q_MC_TIME	= 6,0,0,0%; 		!TIME IN 64 BITS 
LITERAL	EMB$S_MC_TIME	= 8; 
MACRO		EMB$W_MC_ERRSEQ	= 14,0,16,0%; 		!ERROR SEQUENCE NUMBER 
MACRO		EMB$B_MC_SUMCOD	= 16,0,8,0%; 		!SUMMARY CODE 
MACRO		EMB$B_MC_TOPF	= 17,0,8,0%; 		!TIME OUT PENDING FLAG 
MACRO		EMB$B_MC_OPCODE	= 18,0,8,0%; 		!OPCODE OF INSTRUCTION CAUSING CHECK 
MACRO		EMB$B_MC_CACHEF	= 19,0,8,0%; 		!CACHE DISABLE FLAG, 1=GROUP 0, 2=G 1 
MACRO		EMB$L_MC_CES	= 20,0,32,0%; 		!CPU ERROR STATUS 
MACRO		EMB$L_MC_UPC	= 24,0,32,0%; 		!MICRO-PC AT FAULT TIME 
MACRO		EMB$L_MC_VA	= 28,0,32,0%; 			!VIRTUAL ADDRESS AT FAULT TIME 
MACRO		EMB$L_MC_D	= 32,0,32,0%; 			!CPU D REGISTER AT FAULT TIME 
MACRO		EMB$L_MC_TBER0	= 36,0,32,0%; 		!TRANSLATION BUFFER STATUS REG 0 
MACRO		EMB$L_MC_TBER1	= 40,0,32,0%; 		!TRANSLATION BUFFER STATUS REG 1 
MACRO		EMB$L_MC_TIMOAD	= 44,0,32,0%; 		!PHYSICAL ADDRESS CAUSING SBI TIMEOUT 
MACRO		EMB$L_MC_PARITY	= 48,0,32,0%; 		!CACHE STATUS REGISTER 
MACRO		EMB$L_MC_SBIERR	= 52,0,32,0%; 		!SBI ERROR REGISTER 
MACRO		EMB$L_MC_PC	= 56,0,32,0%; 			!PC OF INSTRUCTION CAUSING CHECK 
MACRO		EMB$L_MC_PSL	= 60,0,32,0%; 		!PSL OF MACHINE AT FAULT TIME 
LITERAL	EMB$C_MC_LENGTH	= 64; 
LITERAL	EMB$K_MC_LENGTH	= 64; 			!LENGTH OF MACHINE CHECK FRAME 

 
! 
! SOFT ECC DETECTED ERRORS AND SBI ALERT BUFFER FORMAT 
! 
 
!...$EMBSEDEF			! 
 
MACRO		EMB$W_SE_ENTRY	= 4,0,16,0%; 		!ENTRY TYPE 
MACRO		EMB$Q_SE_TIME	= 6,0,0,0%; 		!TIME IN 64 BITS 
LITERAL	EMB$S_SE_TIME	= 8; 
MACRO		EMB$W_SE_ERRSEQ	= 14,0,16,0%; 		!ERROR SEQUENCE NUMBER 
MACRO		EMB$L_SE_NUMCON	= 16,0,32,0%; 		!NUMBER OF MEMORY CONTROLLERS 
LITERAL	EMB$C_SE_LENGTH	= 20; 
LITERAL	EMB$K_SE_LENGTH	= 20; 			!LENGTH OF FIXED PART OF MSG 
MACRO		EMB$L_SE_TR	= 20,0,32,0%; 			!ADAPTOR TR NUMBER 
MACRO		EMB$L_SE_A	= 24,0,32,0%; 			!MEMORY REGISTER A 
MACRO		EMB$L_SE_B	= 28,0,32,0%; 			!MEMORY REGISTER B 
MACRO		EMB$L_SE_C	= 32,0,32,0%; 			!MEMORY REGISTER C 
MACRO		EMB$L_SE_PC	= 36,0,32,0%; 			!PC OF INSTRUCTION AT FAULT TIME 
MACRO		EMB$L_SE_PSL	= 40,0,32,0%; 		!PSL OF MACHINE AT FAULT TIME 

 
! 
! SBI FAULT BUFFER FORMAT AND ASYNCHRONOUS WRITE ERROR FORMAT 
! 
 
!...$EMBSBDEF			!SBI FAULT RECORD FORMAT 
 
MACRO		EMB$W_SB_ENTRY	= 4,0,16,0%; 		!ENTRY TYPE 
MACRO		EMB$Q_SB_TIME	= 6,0,0,0%; 		!TIME IN 64 BITS 
LITERAL	EMB$S_SB_TIME	= 8; 
MACRO		EMB$W_SB_ERRSEQ	= 14,0,16,0%; 		!ERROR SEQUENCE NUMBER 
MACRO		EMB$L_SB_FAULT	= 16,0,32,0%; 		!SBI FAULT/STATUS REGISTER 
MACRO		EMB$L_SB_SILCMP	= 20,0,32,0%; 		!SBI SILO COMPARATOR 
MACRO		EMB$L_SB_MAINT	= 24,0,32,0%; 		!SBI MAINTENANCE 
MACRO		EMB$L_SB_ERROR	= 28,0,32,0%; 		!SBI ERROR REG 
MACRO		EMB$L_SB_TIMOUT	= 32,0,32,0%; 		!SBI TIMEOUT REG 
MACRO		EMB$L_SB_SILO	= 36,0,0,0%; 		!SBI SILO REG 
LITERAL	EMB$S_SB_SILO	= 64; 
MACRO		EMB$L_SB_SBIRGS	= 100,0,0,0%; 		!REGISTER A'S ON BUS (OR 0) 
LITERAL	EMB$S_SB_SBIRGS	= 64; 
MACRO		EMB$L_SB_PC	= 164,0,32,0%; 			!PC OF INSTRUCTION AT FAULT TIME 
MACRO		EMB$L_SB_PSL	= 168,0,32,0%; 		!PSL OF MACHINE AT FAULT TIME 
LITERAL	EMB$C_SB_LENGTH	= 172; 
LITERAL	EMB$K_SB_LENGTH	= 172; 			!LENGTH OF SBI ERROR BUFFER 
			! 
 
 
! 
! ERROR MESSAGE ENTRY TYPE DEFINITIONS 
! 
!...$EMBETDEF			!ENTRY TYPE DEFINITIONS 
 
LITERAL	EMB$C_DE	= 01; 				!DEVICE ERROR 
LITERAL	EMB$K_DE	= 01; 				!DEVICE ERROR 
LITERAL	EMB$C_MC	= 02; 				!MACHINE CHECK 
LITERAL	EMB$K_MC	= 02; 				!MACHINE CHECK 
LITERAL	EMB$C_BE	= 04; 				!BUS ERROR 
LITERAL	EMB$K_BE	= 04; 				!BUS ERROR 
LITERAL	EMB$C_SA	= 05; 				!SBI ALERT 
LITERAL	EMB$K_SA	= 05; 				!SBI ALERT 
LITERAL	EMB$C_SE	= 06; 				!SOFT ECC ERROR 
LITERAL	EMB$K_SE	= 06; 				!SOFT ECC ERROR 
LITERAL	EMB$C_AW	= 07; 				!ASYNCHRONOUS WRITE ERROR 
LITERAL	EMB$K_AW	= 07; 				!ASYNCHRONOUS WRITE ERROR 
LITERAL	EMB$C_HE	= 08; 				!HARD ECC ERROR 
LITERAL	EMB$K_HE	= 08; 				!HARD ECC ERROR 
LITERAL	EMB$C_CS	= 32; 				!COLD START (IE: SYSTEM BOOT) 
LITERAL	EMB$K_CS	= 32; 				!COLD START (IE: SYSTEM BOOT) 
LITERAL	EMB$K_NF	= 35; 				!NEW FILE CREATED 
LITERAL	EMB$C_NF	= 35; 				!NEW FILE CREATED 
LITERAL	EMB$C_WS	= 36; 				!WARM START (IE: SYSTEM POWER RECOVERY) 
LITERAL	EMB$K_WS	= 36; 				!WARM START (IE: SYSTEM POWER RECOVERY) 
LITERAL	EMB$C_CR	= 37; 				!CRASH RE-START 
LITERAL	EMB$K_CR	= 37; 				!CRASH RE-START 
LITERAL	EMB$C_TS	= 38; 				!TIME STAMP ENTRY 
LITERAL	EMB$K_TS	= 38; 				!TIME STAMP ENTRY 
LITERAL	EMB$C_SS	= 39; 				!SYSTEM SERVICE MESSAGE 
LITERAL	EMB$K_SS	= 39; 				!SYSTEM SERVICE MESSAGE 
LITERAL	EMB$C_SBC	= 40; 				!SYSTEM BUGCHECK 
LITERAL	EMB$K_SBC	= 40; 				!SYSTEM BUGCHECK 
LITERAL	EMB$C_OM	= 41; 				!OPERATOR MESSAGE 
LITERAL	EMB$K_OM	= 41; 				!OPERATOR MESSAGE 
LITERAL	EMB$C_NM	= 42; 				!NETWORK MESSAGE 
LITERAL	EMB$K_NM	= 42; 				!NETWORK MESSAGE 
LITERAL	EMB$C_VM	= 64; 				!VOLUME MOUNT 
LITERAL	EMB$K_VM	= 64; 				!VOLUME MOUNT 
LITERAL	EMB$C_VD	= 65; 				!VOLUME DISMOUNT 
LITERAL	EMB$K_VD	= 65; 				!VOLUME DISMOUNT 
LITERAL	EMB$C_UI	= 97; 				!UNDEFINED INTERRUPT 
LITERAL	EMB$K_UI	= 97; 				!UNDEFINED INTERRUPT 
LITERAL	EMB$C_DT	= 96; 				!DEVICE TIMEOUT 
LITERAL	EMB$K_DT	= 96; 				!DEVICE TIMEOUT 
LITERAL	EMB$C_UBC	= 112; 				!USER BUGCHECK 
LITERAL	EMB$K_UBC	= 112; 				!USER BUGCHECK 
 

 
!+ 
! EOF1 ANSI MAGNETIC TAPE LABEL 
! THIS IS THE FIRST LABEL IN FILE TRAILER LABEL SET.  IT IS EQUIVALENT TO 
! HDR1 EXCEPT FOR THE FOLLOWING FIELDS. 
!- 
!...$EO1DEF		!EOF1 LABEL FORMAT 
 
MACRO		EO1$L_EO1LID	= 0,0,32,0%; 	!LABEL IDENTIFIER AND NUMBER 'EOF1' 
MACRO		EO1$T_BLOCKCNT	= 54,0,0,0%; 	!BLOCK COUNT 
LITERAL	EO1$S_BLOCKCNT	= 6; 

 
 
!+ 
! EOF2 ANDSI MAGNETIC TAPE LABEL 
! THIS IS THE SECOND LABEL IN THE FILE TRAILER LABEL SET.  IT IS EQUIVALENT 
! TO HDR2 EXCEPT FOR THE FOLLOWING FIELDS. 
!- 
!...$EO2DEF		!EOF2 LABEL FORMAT 
	 
MACRO		EO2$L_EO2LID	= 0,0,32,0%; 	!LABEL IDENTIFIER AND NUMBER 'EOF2' 

 
! 
! ERROR LOG ALLOCATION BUFFER HEADER 
! 
 
!...$ERLDEF	
 
MACRO		ERL$B_BUSY	= 0,0,8,0%; 			!NUMBER OF BUSY MESSAGES IN BUFFER 
MACRO		ERL$B_MSGCNT	= 1,0,8,0%; 		!NUMBER OF COMPLETED MESSAGES IN BUFFER 
MACRO		ERL$B_BUFIND	= 2,0,8,0%; 		!BUFFER INDICATOR OF RESPECTIVE BUFFER 
MACRO		ERL$L_NEXT	= 4,0,32,0%; 			!ADDRESS OF NEXT AVAILABLE SPACE IN BUFFER 
MACRO		ERL$L_END	= 8,0,32,0%; 			!ADDRESS OF END OF BUFFER + 1 
LITERAL	ERL$C_LENGTH	= 12; 
LITERAL	ERL$K_LENGTH	= 12; 				!LENGTH OF ALLOCATION BUFFER HEADER 
 
						!BUFFER FLAGS 
MACRO		ERL$V_LOCK	= 12,0,1,0%; 		!BUFFER ALLOCATION INTERLOCK 
LITERAL	ERL$M_LOCK	= 1^1 - 1^0; 
MACRO		ERL$V_TIMER	= 12,1,1,0%; 		!TIMER ACTIVE 
LITERAL	ERL$M_TIMER	= 1^2 - 1^1; 
					! 
 

 
!+ 
! FCB - FILE CONTROL BLOCK 
! 
! THERE IS ONE FILE CONTROL BLOCK FOR EACH UNIQUELY ACCESSED FILE ON A 
! VOLUME. THE FILE CONTROL BLOCK PROVIDES THE VEHICLE WHEREBY SHARED 
! ACCESS TO A FILE MAY BE CONTROLLED. 
!- 
 
!...$FCBDEF	
MACRO		FCB$L_FCBFL	= 0,0,32,0%; 			! FCB LIST FORWARD LINK 
MACRO		FCB$L_FCBBL	= 4,0,32,0%; 			! FCB LIST BACKWARD LINK 
MACRO		FCB$W_SIZE	= 8,0,16,0%; 		! SIZE OF FCB IN BYTES 
MACRO		FCB$B_TYPE	= 10,0,8,0%; 		! STRUCTURE TYPE OF FCB 
MACRO		FCB$L_EXFCB	= 12,0,32,0%; 			! ADDRESS OF EXTENSION FCB 
MACRO		FCB$L_WLFL	= 16,0,32,0%; 			! WINDOW LISTHEAD FORWARD LINK 
MACRO		FCB$L_WLBL	= 20,0,32,0%; 			! WINDOW LISTHEAD BACKWARD LINK 
MACRO		FCB$W_ACNT	= 24,0,16,0%; 		! FILE ACCESS COUNT 
MACRO		FCB$W_LCNT	= 26,0,16,0%; 		! FILE LOCK COUNT 
MACRO		FCB$W_WCNT	= 28,0,16,0%; 		! FILE WRITER COUNT 
MACRO		FCB$W_STATUS	= 30,0,16,0%; 		! FILE STATUS 
			 
MACRO		FCB$V_DIR	= 30,0,1,0%; 		! FCB IS A DIRECTORY LRU ENTRY 
MACRO		FCB$V_MARKDEL	= 30,1,1,0%; 		! FILE IS MARKED FOR DELETE 
MACRO		FCB$V_BADBLK	= 30,2,1,0%; 		! BAD BLOCK ENCOUNTERED IN FILE 
MACRO		FCB$V_EXCL	= 30,3,1,0%; 		! FILE IS EXCLUSIVELY ACCESSED 
MACRO		FCB$V_SPOOL	= 30,4,1,0%; 		! FILE IS AN INTERMEDIATE SPOOL FILE 
			
MACRO		FCB$W_FID	= 32,0,0,0%; 		! FILE IDENTIFICATION 
LITERAL	FCB$S_FID	= 6; 
MACRO		FCB$W_FID_NUM	= 32,0,16,0%; 	! FILE NUMBER 
MACRO		FCB$W_FID_SEQ	= 34,0,16,0%; 	! FILE SEQUENCE NUMBER 
MACRO		FCB$W_FID_RVN	= 36,0,16,0%; 	! RELATIVE VOLUME NUMBER 
MACRO		FCB$B_FID_RVN	= 36,0,8,0%; 	! SHORT FORM RVN 
MACRO		FCB$B_FID_NMX	= 37,0,8,0%; 	! EXTENDED FILE NUMBER 
MACRO		FCB$W_SEGN	= 38,0,16,0%; 		! FILE SEGMENT NUMBER 
MACRO		FCB$L_STVBN	= 40,0,32,0%; 			! STARTING VIRTUAL BLOCK NUMBER 
MACRO		FCB$L_STLBN	= 44,0,32,0%; 			! STARTING LOGICAL BLOCK NUMBER 
MACRO		FCB$L_HDLBN	= 48,0,32,0%; 			! LBN OF FILE HEADER 
MACRO		FCB$L_FILESIZE	= 52,0,32,0%; 		! FILE SIZE IN BLOCKS 
MACRO		FCB$L_FILEOWNER	= 56,0,32,0%; 		! FILE OWNER UIC 
MACRO		FCB$W_UICMEMBER	= 56,0,16,0%; 	! MEMBER NUMBER 
MACRO		FCB$W_UICGROUP	= 58,0,16,0%; 	! GROUP NUMBER 
MACRO		FCB$W_FILEPROT	= 60,0,16,0%; 		! FILE PROTECTION MASK 
MACRO		FCB$W_AMOD	= 62,0,16,0%; 		! LEAST PRIVILEGED ACCESS MODE 
MACRO		FCB$L_EFBLK	= 64,0,32,0%; 		! END OF FILE VBN 
MACRO		FCB$W_DIRSEQ	= 68,0,16,0%; 		! DIRECTORY USE SEQUENCE NUMBER 
MACRO		FCB$W_TCNT	= 70,0,16,0%; 		! COUNT OF TRUNCATE LOCKS 
LITERAL	FCB$C_LENGTH	= 72; 
LITERAL	FCB$K_LENGTH	= 72; 			! LENGTH OF STANDARD FCB 
MACRO		FCB$B_DIRIDX	= 72,0,0,0%; 		! DIRECTORY BLOCK INDEX AREA 
LITERAL	FCB$S_DIRIDX	= 16; 

 
!+ 
! FKB - FORK BLOCK 
! 
! A FORK BLOCK DESCRIBES THE CONTEXT OF A FORK PROCESS. EACH UNIT CONTROL 
! BLOCK CONTAINS A FORK BLOCK AS ITS FIRST SIX LONGWORDS. 
!- 
 
!...$FKBDEF	
 
MACRO		FKB$L_FQFL	= 0,0,32,0%; 			!FORK QUEUE FORWARD LINK 
MACRO		FKB$L_FQBL	= 4,0,32,0%; 			!FORK QUEUE BACKWARD LINK 
MACRO		FKB$W_SIZE	= 8,0,16,0%; 			!SIZE OF FKB IN BYTES 
MACRO		FKB$B_TYPE	= 10,0,8,0%; 			!STRUCTURE TYPE OF FKB 
MACRO		FKB$B_FIPL	= 11,0,8,0%; 			!FORK INTERRUPT PRIORITY LEVEL 
MACRO		FKB$L_FPC	= 12,0,32,0%; 			!FORK PC 
MACRO		FKB$L_FR3	= 16,0,32,0%; 			!FORK R3 
MACRO		FKB$L_FR4	= 20,0,32,0%; 			!FORK R4 
LITERAL	FKB$C_LENGTH	= 24; 
LITERAL	FKB$K_LENGTH	= 24; 				!STANDARD LENGTH OF FKB 
 

 
 
!+ 
! GLOBAL SECTION DESCRIPTOR BLOCK 
!- 
!...$GSDDEF	
 
MACRO		GSD$L_GSDFL	= 0,0,32,0%; 			!POINTER TO NEXT GSD 
MACRO		GSD$L_GSDBL	= 4,0,32,0%; 			!POINTER TO PREVIOUS GSD 
MACRO		GSD$W_SIZE	= 8,0,16,0%; 			!SIZE OF GSD IN BYTES 
MACRO		GSD$B_TYPE	= 10,0,8,0%; 			!STRUCTURE TYPE CODE FOR GSD 
MACRO		GSD$L_UIC	= 12,0,32,0%; 			!USER IDENT OF GSD CREATOR 
MACRO		GSD$W_GRP	= 14,0,16,0%; 			!GROUP NUMBER OF GSD CREATOR 
MACRO		GSD$W_PROT	= 16,0,16,0%; 			!PROTECTION MASK 
MACRO		GSD$W_GSTX	= 18,0,16,0%; 			!GLOBAL SECTION TABLE INDEX 
MACRO		GSD$L_IDENT	= 20,0,32,0%; 			!IDENTIFICATION OF GLOBAL SECTION 
MACRO		GSD$T_GSDNAM	= 24,0,0,0%; 		!GLOBAL SECTION TEXT NAME 
LITERAL	GSD$S_GSDNAM	= 16; 
LITERAL	GSD$C_LENGTH	= 40; 
LITERAL	GSD$K_LENGTH	= 40; 				!LENGTH OF GSD 
 

 
!+ 
! HDR1 ANDSI MAGNETIC TAPE LABEL 
! THIS IS THE FIRST LABEL IN THE FILE LABEL HEADER SET.  IF IDENTIFIES THE FILE. 
!- 
!...$HD1DEF		!HDR1 LABEL FORMAT 
 
MACRO		HD1$L_HD1LID	= 0,0,32,0%; 	!LABEL IDENTIFIER AND NUMBER 'HDR1' 
MACRO		HD1$T_FILEID	= 4,0,0,0%; 	!FILE IDENTIFIER 
LITERAL	HD1$S_FILEID	= 17; 
MACRO		HD1$T_FILESETID	= 21,0,0,0%; 	!FILE SET IDENTIFIER 
LITERAL	HD1$S_FILESETID	= 6; 
MACRO		HD1$T_FILESECNO	= 27,0,32,0%; 	!FILE SECTION NUMBER 
MACRO		HD1$T_FILESEQNO	= 31,0,32,0%; 	!FILE SEQUENCE NUMBER 
MACRO		HD1$T_GENNO	= 35,0,32,0%; 	!FILE GENERATION NUMBER 
MACRO		HD1$T_GENVER	= 39,0,16,0%; 	!FILE GENERATION VERSION NUMBER 
MACRO		HD1$T_CREATEDT	= 41,0,0,0%; 	!CREATION DATE ( YYDDD) 
LITERAL	HD1$S_CREATEDT	= 6; 
MACRO		HD1$T_EXPIREDT	= 47,0,0,0%; 	!EXPIRATION DATE 
LITERAL	HD1$S_EXPIREDT	= 6; 
MACRO		HD1$B_FILACCESS	= 53,0,8,0%; 	!FILE ACCESS 
MACRO		HD1$T_BLOCKCNT	= 54,0,0,0%; 	!BLOCK COUNT 
LITERAL	HD1$S_BLOCKCNT	= 6; 
MACRO		HD1$T_SYSCODE	= 60,0,0,0%; 	!SYSTEM CODE 
LITERAL	HD1$S_SYSCODE	= 13; 

 
 
 
!+ 
! HDR2 ANSI MAGNETIC TAPE LABEL 
! THIS IS THE SECOND LABEL IN FILE LABEL HEADER SET.  IT IDENTIFIES 
! THE FILE ATTRIBUTES. 
!- 
!...$HD2DEF		!HDR2 LABEL FORMAT 
 
MACRO		HD2$L_HD2LID	= 0,0,32,0%; 	!LABEL IDENTIFIER AND NUMBER 'HDR2' 
MACRO		HD2$B_RECFORMAT	= 4,0,8,0%; 	!RECORD FORMAT 
MACRO		HD2$T_BLOCKLEN	= 5,0,0,0%; 	!BLOCK LENGTH 
LITERAL	HD2$S_BLOCKLEN	= 5; 
MACRO		HD2$T_RECLEN	= 10,0,0,0%; 	!RECORD LENGTH 
LITERAL	HD2$S_RECLEN	= 5; 
MACRO		HD2$T_RECATR1	= 15,0,0,0%; 	!FIRST 20 BYTES OF FILES-11 RECORD ATTRIBUTES 
LITERAL	HD2$S_RECATR1	= 20; 
MACRO		HD2$B_FORMCNTRL	= 36,0,8,0%; 	!FORMS CONTROL 
MACRO		HD2$T_RECATR2	= 37,0,0,0%; 	!LAST 12 BYTES OF FILES-11 RECORD ATTRIBUTES 
LITERAL	HD2$S_RECATR2	= 12; 
MACRO		HD2$T_BUFOFF	= 50,0,16,0%; 	!BUFFER OFFSET 

 
!+ 
! IDB - INTERRUPT DISPATCH BLOCK 
! 
! AN INTERRUPT DISPATCH BLOCK PROVIDES THE INFORMATION NECESSARY FOR A 
! UNIT INDEPENDENT, BUT CONTROLLER SPECIFIC, INTERRUPT DISPATCHER TO 
! DISPATCH INTERRUPTS TO THE PROPER DRIVER TO HANDLE AN INTERRUPT ON 
! A DEVICE UNIT. 
!- 
 
!...$IDBDEF	
 
MACRO		IDB$L_CSR	= 0,0,32,0%; 			!CONTROLLER CSR ADDRESS 
MACRO		IDB$L_OWNER	= 4,0,32,0%; 			!OWNER UCB ADDRESS 
MACRO		IDB$W_SIZE	= 8,0,16,0%; 			!SIZE OF IDB IN BYTES 
MACRO		IDB$B_TYPE	= 10,0,8,0%; 			!STRUCTURE TYPE OF IDB 
MACRO		IDB$B_UNITS	= 11,0,8,0%; 			!NUMBER OF UNITS 
MACRO		IDB$L_ADP	= 12,0,32,0%; 			!ADDRESS OF UBA ADAPTER CONTROL BLOCK 
MACRO		IDB$L_UCBLST	= 16,0,0,0%; 		!UP TO 8 UCB OR SECONDARY IDB ADDRESSES 
LITERAL	IDB$S_UCBLST	= 32; 
LITERAL	IDB$C_LENGTH	= 48; 
LITERAL	IDB$K_LENGTH	= 48; 				!LENGTH OF STANDARD IDB 
 

 
 
!+ 
! IMAGE FILE DESCRIPTOR BLOCK - RETURNED BY IMAGE ACTIVATOR 
!- 
 
!...$IFDDEF	
 
MACRO		IFD$W_SIZE	= 0,0,16,0%; 			!SIZE IN BYTES OF IMAGE FILE DESCRIPTOR 
MACRO		IFD$W_FILNAMOFF	= 2,0,16,0%; 		!OFFSET TO RESULTANT FILE NAME STRING 
MACRO		IFD$W_CHAN	= 8,0,16,0%; 			!CHANNEL ON WHICH IMAGE FILE IS OPEN 
MACRO		IFD$W_CMCHAN	= 10,0,16,0%; 		!COMPATIBILITY MODE CHANNEL 
MACRO		IFD$L_CMKFIADR	= 12,0,32,0%; 		!COMPATIBILITY MODE IMAGE 
					!KNOWN FILE ENTRY ADDRESS OR 0 
MACRO		IFD$W_FLAGS	= 16,0,16,0%; 			!IMAGE FILE DESCRIPTOR FLAGS 
			 
MACRO		IFD$V_EXEONLY	= 16,0,1,0%; 		!EXECUTE ONLY FILE 
LITERAL	IFD$M_EXEONLY	= 1^1 - 1^0; 
			
LITERAL	IFD$C_LENGTH	= 20; 
LITERAL	IFD$K_LENGTH	= 20; 				!LENGTH OF FIXED AREA OF IFD 
 

 
!+ 
! IMAGE HEADER RECORD DEFINITIONS - FIRST RECORD OF IMAGE HEADER 
!- 
!...$IHDDEF	
 
MACRO		IHD$W_SIZE	= 0,0,16,0%; 			!SIZE IN BYTES OF IMAGE HEADER RECORD 
MACRO		IHD$W_ACTIVOFF	= 2,0,16,0%; 		!BYTE OFFSET TO ACTIVATION DATA 
MACRO		IHD$W_SYMDBGOFF	= 4,0,16,0%; 		!BYTE OFFSET TO SYMBOL TABLE AND DEBUG DATA 
MACRO		IHD$W_IMGIDOFF	= 6,0,16,0%; 		!BYTE OFFSET TO IMAGE IDENT DATA 
MACRO		IHD$W_PATCHOFF	= 8,0,16,0%; 		!BYTE OFFSET TO PATCH DATA 
MACRO		IHD$W_MAJORID	= 12,0,16,0%; 		!MAJOR ID 
LITERAL	IHD$K_MAJORID	= ('02'); 		!MAJOR ID VALUE 
MACRO		IHD$W_MINORID	= 14,0,16,0%; 		!MINOR ID 
LITERAL	IHD$K_MINORID	= ('01'); 		!MINOR ID VALUE 
MACRO		IHD$B_HDRBLKCNT	= 16,0,8,0%; 		!COUNT OF HEADER BLOCKS 
MACRO		IHD$B_IMGTYPE	= 17,0,8,0%; 		!IMAGE TYPE 
! 
! IMAGE TYPE CODES 
! 
LITERAL	IHD$K_EXE	= 1; 				!EXECUTABLE IMAGE 
LITERAL	IHD$K_LIM	= 2; 				!LINKABLE IMAGE 
 
MACRO		IHD$Q_PRIVREQS	= 20,0,0,0%; 		!REQUESTED PRIVILEGE MASK 
LITERAL	IHD$S_PRIVREQS	= 8; 
MACRO		IHD$W_IOCHANCNT	= 28,0,16,0%; 		!# OF CHANNELS REQUESTED 
					!0 IF DEFAULT 
MACRO		IHD$W_IMGIOCNT	= 30,0,16,0%; 		!# OF PAGES OF IMAGE I/O SECTION REQUESTED 
					!0 IF DEFAULT 
MACRO		IHD$L_LNKFLAGS	= 32,0,32,0%; 		!LINKER PRODUCED IMAGE FLAGS 
							!AS FOLLOWS: 
MACRO		IHD$V_LNKDEBUG	= 32,0,1,0%; 		!FULL DEBUGGING REQUESTED 
LITERAL	IHD$M_LNKDEBUG	= 1^1 - 1^0; 
MACRO		IHD$V_LNKNOTFR	= 32,1,1,0%; 		!FIRST TRANSFER ADDRESS MISSING 
LITERAL	IHD$M_LNKNOTFR	= 1^2 - 1^1; 
MACRO		IHD$V_NOP0BUFS	= 32,2,1,0%; 		!RMS USE OF P0 FOR IMAGE I/O DISABLED 
LITERAL	IHD$M_NOP0BUFS	= 1^3 - 1^2; 
MACRO		IHD$V_PICIMG	= 32,3,1,0%; 			!IMAGE IS POSITION INDEPENDENT 
LITERAL	IHD$M_PICIMG	= 1^4 - 1^3; 
							!FILL OUT TO HIGH BYTE OF LONG WORD 
MACRO		IHD$V_MATCHCTL	= 32,24,3,0%; 		!MATCH CONTROL FOR LINKABLE IMAGE 
LITERAL	IHD$M_MATCHCTL	= 1^27 - 1^24; 
			
MACRO		IHD$L_IDENT	= 36,0,32,0%; 			!GBL SEC IDENT VALUE FOR LINKABLE IMAGE 
LITERAL	IHD$C_LENGTH	= 40; 
LITERAL	IHD$K_LENGTH	= 40; 				!LENGTH OF FIXED AREA 
 

 
 
!+ 
! IMAGE HEADER ACTIVATION SECTION OFFSETS 
!- 
 
!...$IHADEF	
 
MACRO		IHA$L_TFRADR1	= 0,0,32,0%; 		!FIRST TRANSFER ADDRESS 
MACRO		IHA$L_TFRADR2	= 4,0,32,0%; 		!SECOND TRANSFER ADDRESS 
MACRO		IHA$L_TFRADR3	= 8,0,32,0%; 		!THIRD TRANSFER ADDRESS 
LITERAL	IHA$C_LENGTH	= 16; 
LITERAL	IHA$K_LENGTH	= 16; 				!SIZE OF ACTIVATION SECTION 
 

 
 
!+ 
! IMAGE HEADER PATCH SECTION OFFSETS 
!- 
 
!...$IHPDEF	
 
MACRO		IHP$L_ECO1	= 0,0,32,0%; 			!DEC ECO LEVELS 1-32 
MACRO		IHP$L_ECO2	= 4,0,32,0%; 			!DEC ECO LEVELS 33-64 
MACRO		IHP$L_ECO3	= 8,0,32,0%; 			!DEC ECO LEVELS 65-98 
MACRO		IHP$L_ECO4	= 12,0,32,0%; 			!USER ECO LEVELS 99-132 
MACRO		IHP$L_RW_PATSIZ	= 16,0,32,0%; 		!SIZE OF FREE RW PATCH AREA 
MACRO		IHP$L_RW_PATADR	= 20,0,32,0%; 		!VIR ADDR OF NEXT FREE RW PATCH AREA 
MACRO		IHP$L_RO_PATSIZ	= 24,0,32,0%; 		!SIZE OF FREE RO PATCH AREA 
MACRO		IHP$L_RO_PATADR	= 28,0,32,0%; 		!VIR ADDR OF NEXT FREE RO PATCH AREA 
MACRO		IHP$L_PATCOMTXT	= 32,0,32,0%; 		!PATCH COMMAND TEXT VIRTUAL BLOCK NUMBER 
MACRO		IHP$Q_PATDATE	= 36,0,0,0%; 		!DATE OF MOST RECENT PATCH 
LITERAL	IHP$S_PATDATE	= 8; 
LITERAL	IHP$C_LENGTH	= 44; 
LITERAL	IHP$K_LENGTH	= 44; 				!LENGTH OF PATCH HEADER SECTION 
 

 
 
!+ 
! IMAGE HEADER SYMBOL TABLE AND DEBUG SECTION OFFSETS 
!- 
 
!...$IHSDEF	
 
MACRO		IHS$L_DSTVBN	= 0,0,32,0%; 		!DEBUG SYMBOL TABLE VIRTUAL BLOCK NUMBER 
MACRO		IHS$L_GSTVBN	= 4,0,32,0%; 		!GLOBAL SYMBOL TABLE VIRTUAL BLOCK NUMBER 
MACRO		IHS$W_DSTBLKS	= 8,0,16,0%; 		!DEBUG SYMBOL TABLE BLOCK COUNT 
MACRO		IHS$W_GSTRECS	= 10,0,16,0%; 		!GLOBAL SYMBOL TABLE RECORD COUNT 
LITERAL	IHS$C_LENGTH	= 12; 
LITERAL	IHS$K_LENGTH	= 12; 				!LENGTH OF SYMBOL TABLE SECTION 
 

 
 
 
!+ 
! IMAGE HEADER IDENTIFICATION SECTION OFFSETS 
!- 
 
!...$IHIDEF	
 
MACRO		IHI$T_IMGNAM	= 0,0,0,0%; 		!IMAGE NAME STRING 
LITERAL	IHI$S_IMGNAM	= 16; 
MACRO		IHI$T_IMGID	= 16,0,0,0%; 		!IMAGE IDENT STRING 
LITERAL	IHI$S_IMGID	= 16; 
MACRO		IHI$Q_LINKTIME	= 32,0,0,0%; 		!DATE AND TIME THIS IMAGE WAS LINKED 
LITERAL	IHI$S_LINKTIME	= 8; 
					!STANDARD SYSTEM QUADWORD FORMAT 
MACRO		IHI$T_LINKID	= 40,0,0,0%; 		!LINKER IDENT STRING 
LITERAL	IHI$S_LINKID	= 16; 
LITERAL	IHI$C_LENGTH	= 56; 
LITERAL	IHI$K_LENGTH	= 56; 				!LENGTH OF IMAGE HEADER IDENT SECTION 
 

 
!+ 
! IMAGE HEADER RECORD DEFINITIONS - CROSS LINKER - MAJORID = "01" 
!	 1ST RECORD OF IMAGE HEADER BLOCK 
!- 
 
!...$IHXDEF	
 
MACRO		IHX$W_SIZE	= 0,0,16,0%; 			!SIZE IN BYTE OF IMAGE HEADER RECORD 
MACRO		IHX$B_HDRBLKCNT	= 2,0,8,0%; 		!COUNT OF BLOCKS IN IMAGE HEADER 
MACRO		IHX$Q_STARTADR	= 4,0,0,0%; 		!START ADDRESS 
LITERAL	IHX$S_STARTADR	= 8; 
MACRO		IHX$W_MAJORID	= 12,0,16,0%; 		!MAJOR ID OF IMAGE HEADER 
LITERAL	IHX$K_MAJORID	= (%X'3130'); 		!^A/01/ MAJOR ID VALUE FOR CROSS LINKER 
MACRO		IHX$W_MINORID	= 14,0,16,0%; 		!MINOR ID OF IMAGE HEADER 
LITERAL	IHX$K_MINORID	= (%X'3130'); 		!^A/01/ MINOR ID VALUE FOR CROSS LINKER 
LITERAL	IHX$K_MINORID1	= (%X'3130'); 		!^A/01/ MINOR ID VALUE FOR CROSS LINKER WITH 
					!SYMBOL TABLE AND 3RD TRANSFER ADR 
MACRO		IHX$T_IMGNAM	= 16,0,0,0%; 		!IMAGE NAME 
LITERAL	IHX$S_IMGNAM	= 24; 
! 
! THE FOLLOWING FIELDS ARE PRESENT FOR MINOR ID'S GREATER OR EQUAL TO "03" 
! 
MACRO		IHX$L_DSTVBN	= 40,0,32,0%; 		!DEBUG SYMBOL TABLE VBN 
MACRO		IHX$L_GSTVBN	= 44,0,32,0%; 		!GLOBAL SYMBOL TABLE VBN 
MACRO		IHX$W_DSTBLKS	= 48,0,16,0%; 		!DEBUG SYMBOL TABLE BLOCKS 
MACRO		IHX$W_GSTRECS	= 50,0,16,0%; 		!GLOBAL SYMBOL TABLE RECORD COUNT 
MACRO		IHX$L_TFRADR3	= 52,0,32,0%; 		!THIRD TRANSFER ADDRESS 
LITERAL	IHX$C_LENGTH	= 56; 
LITERAL	IHX$K_LENGTH	= 56; 				!LENGTH OF CROSS LINKER HEADER 
 

 
!+ 
!	RMS32 IMPURE AREA OFFSET DEFINITIONS 
! 
!- 
!...$IMPDEF	
 
MACRO		IMP$W_RMSSTATUS	= 0,0,16,0%; 	! RMS OVERALL STATUS 
			 
MACRO		IMP$V_IIOS	= 0,0,1,0%; 		! SET IF THIS IS THE IMAGE 
			! I.O SEGMENT 
MACRO		IMP$V_AST	= 0,1,1,0%; 		! SET IF RUNNING AT EXEC AST LEVEL 
MACRO		IMP$V_TEMP1	= 0,2,1,0%; 		! TEMPORARY FLAG 
MACRO		IMP$V_TEMP2	= 0,3,1,0%; 		!   " 
MACRO		IMP$V_IORUNDOWN	= 0,4,1,0%; 	! SET IF IO RUNDOWN IN PROGRESS 
MACRO		IMP$V_NOP0BUFS	= 0,5,1,0%; 	! SET IF RMS USE OF P0 FOR IMAGE I/O DISABLED 
			
! 
LITERAL	IMP$C_ASYEFN	= 30; 		! EFN FOR ASYNC WAITS 
LITERAL	IMP$C_IOREFN	= 30; 		! EFN FOR IO RUNDOWN SYNCHRONIZATION 
LITERAL	IMP$C_ASYQIOEFN	= 31; 		! EFN FOR ASYNC QIOS 
LITERAL	IMP$C_SYNCEFN	= 27; 		! BASE EFN FOR SYNCHRONOUS QIO'S 
			! (28, 29 ALSO USED) 
LITERAL	IMP$C_MBXEFN	= 26; 		! EFN FOR QIOS TO NETWORK MAILBOXES 
! 
MACRO		IMP$B_PROT	= 2,0,8,0%; 	! PROTECTION FOR I/O BUFFER PAGES 
MACRO		IMP$L_IOSEGADDR	= 4,0,32,0%; 	! ADDRESS OF FIRST FREE PAGE 
			! IN THIS (IMAGE OR PROCESS) 
			! I/O SEGMENT 
MACRO		IMP$L_IOSEGLEN	= 8,0,32,0%; 	! # OF FREE BYTES AT ABOVE ADDR 
MACRO		IMP$L_FREEPGLH	= 12,0,0,0%; 	! FREE PAGE LIST HEAD 
LITERAL	IMP$S_FREEPGLH	= 8; 
MACRO		IMP$L_SAVED_SP	= 20,0,32,0%; 	! SAVED VALUE OF SP AT ENTRY 
MACRO		IMP$L_IFABTBL	= 24,0,32,0%; 	! IFAB TABLE ADDR 
MACRO		IMP$L_IRABTBL	= 28,0,32,0%; 	! IRAB TABLE ADDR 
MACRO		IMP$W_ENTPERSEG	= 32,0,16,0%; 	! # OF SLOTS PER TABLE SEGMENT 
LITERAL	IMP$C_NPIOFILES	= 12; 		! # OF PIO SEGMENT FILES 
LITERAL	IMP$C_ENTPERSEG	= 15; 		! # OF IIO SEGMENT SLOTS 
				! PER INDEX TABLE SEGMENT 
MACRO		IMP$W_NUM_IFABS	= 34,0,16,0%; 	! NUMBER OF IFABS & IRABS CURRENTLY ALLOCATED 
MACRO		IMP$L_IFBTBLINK	= 36,0,32,0%; 	! START OF IFAB TABLE (LINK TO NEXT SEGMENT) 
MACRO		IMP$L_IRBTBLINK	= 100,0,32,0%; 	! START OF IRAB TABLE (LINK TO NEXT SEGMENT) 

 
 
!+ 
! TEMPORARY PROCESSOR PRIORITY LEVEL DEFINITIONS 
!- 
!...$IPLDEF	
 
LITERAL	
$EQULST (IPL$_,GBL,0,1 				! 
	,(HWCLK,24) 	   			!HARDWARE CLOCK LEVEL 
	,(IOPOST,4) 	   			!I/O POST PROCESSING LEVEL 
	,(MAILBOX,11) 	   			!WRITE MAILBOX INTERLOCK LEVEL 
	,(POWER,31) 	   			!POWERFAIL INTERLOCK LEVEL 
	,(QUEUEAST,6) 	   			!QUEUE AST LEVEL 
	,(SCHED,3) 	   			!SCHEDULER LEVEL 
	,(SYNCH,7) 	   			!SYSTEM DATA BASE SYNCHRONIZATION LEVEL 
	,(TIMER,7) 	   			!TIME QUEUE PROCESSING LEVEL 
	,(ASTDEL,2) 				!AST DELIVERY INTERRUPT 
	); 

 
!+ 
! IRP - I/O REQUEST PACKET 
! 
! I/O REQUEST PACKETS ARE CONSTRUCTED BY THE QUEUE I/O REQUEST SYSTEM 
! SERVICE. THE CONTENT OF AN I/O REQUEST PACKET DESCRIBES A FUNCTION TO 
! BE PERFORMED ON A DEVICE UNIT. 
!- 
 
!...$IRPDEF	
 
MACRO		IRP$L_IOQFL	= 0,0,32,0%; 			!I/O QUEUE FORWARD LINK 
MACRO		IRP$L_IOQBL	= 4,0,32,0%; 			!I/O QUEUE BACKWARD LINK 
MACRO		IRP$W_SIZE	= 8,0,16,0%; 			!SIZE OF IRP IN BYTES 
MACRO		IRP$B_TYPE	= 10,0,8,0%; 			!STRUCTURE TYPE FOR IRP 
MACRO		IRP$B_RMOD	= 11,0,8,0%; 			!ACCESS MODE OF REQUEST 
			 
MACRO		IRP$V_MODE	= 11,0,2,0%; 			! MODE SUBFIELD 
			
MACRO		IRP$L_PID	= 12,0,32,0%; 			!PROCESS ID OF REQUESTING PROCESS 
MACRO		IRP$L_AST	= 16,0,32,0%; 			!ADDRESS OF AST ROUTINE 
MACRO		IRP$L_ASTPRM	= 20,0,32,0%; 		!AST PARAMETER 
MACRO		IRP$L_WIND	= 24,0,32,0%; 			!ADDRESS OF WINDOW BLOCK 
MACRO		IRP$L_UCB	= 28,0,32,0%; 			!ADDRESS OF DEVICE UCB 
MACRO		IRP$W_FUNC	= 32,0,16,0%; 			!I/O FUNCTION CODE AND MODIFIERS 
						! I/O FUNCTION CODE FIELD DEFINITIONS 
MACRO		IRP$V_FCODE	= 32,0,6,0%; 			! FUNCTION CODE FIELD 
MACRO		IRP$V_FMOD	= 32,6,10,0%; 			! FUNCTION MODIFIER FIELD 
			
MACRO		IRP$B_EFN	= 34,0,8,0%; 			!EVENT FLAG NUMBER AND EVENT GROUP 
MACRO		IRP$B_PRI	= 35,0,8,0%; 			!BASE PRIORITY OF REQUESTING PROCESS 
MACRO		IRP$L_IOSB	= 36,0,32,0%; 			!ADDRESS OF I/O STATUS DOUBLE LONGWORD 
MACRO		IRP$W_CHAN	= 40,0,16,0%; 			!PROCESS I/O CHANNEL NUMBER 
MACRO		IRP$W_STS	= 42,0,16,0%; 			!REQUEST STATUS 
						! BIT DEFINITIONS 
MACRO		IRP$V_BUFIO	= 42,0,1,0%;  		! BUFFERED I/O FLAG   !THESE BITS 
LITERAL	IRP$M_BUFIO	= 1^1 - 1^0; 
MACRO		IRP$V_FUNC	= 42,1,1,0%; 		! 1=>READ FUNCTION    !MUST BE ADJACENT 
LITERAL	IRP$M_FUNC	= 1^2 - 1^1; 
MACRO		IRP$V_PAGIO	= 42,2,1,0%; 		! PAGING I/O FLAG     !AND IN ORDER 
LITERAL	IRP$M_PAGIO	= 1^3 - 1^2; 
MACRO		IRP$V_COMPLX	= 42,3,1,0%; 		! COMPLEX BUFFERED I/O 
LITERAL	IRP$M_COMPLX	= 1^4 - 1^3; 
MACRO		IRP$V_VIRTUAL	= 42,4,1,0%; 		! VIRTUAL I/O FUNCTION 
LITERAL	IRP$M_VIRTUAL	= 1^5 - 1^4; 
MACRO		IRP$V_CHAINED	= 42,5,1,0%; 		! CHAINED BUFFERED I/O OPERATION 
LITERAL	IRP$M_CHAINED	= 1^6 - 1^5; 
MACRO		IRP$V_SWAPIO	= 42,6,1,0%; 		! SWAP I/O OPERATION 
LITERAL	IRP$M_SWAPIO	= 1^7 - 1^6; 
MACRO		IRP$V_DIAGBUF	= 42,7,1,0%; 		! DIAGNOSTIC BUFFER ALLOCATED 
LITERAL	IRP$M_DIAGBUF	= 1^8 - 1^7; 
MACRO		IRP$V_PHYSIO	= 42,8,1,0%; 		! PHYSICAL I/O 
LITERAL	IRP$M_PHYSIO	= 1^9 - 1^8; 
MACRO		IRP$V_PRIVIO	= 42,9,1,0%; 		! REQUESTER HAS LOGICAL OR PHYSICAL PRIVILEGE 
LITERAL	IRP$M_PRIVIO	= 1^10 - 1^9; 
MACRO		IRP$V_MBXIO	= 42,10,1,0%; 		! MAILBOX BUFFERED READ 
LITERAL	IRP$M_MBXIO	= 1^11 - 1^10; 
					! END OF BIT DEFINITIONS 
MACRO		IRP$L_SVAPTE	= 44,0,32,0%; 		!SYSTEM VIRTUAL ADDRESS OF FIRST PTE 
MACRO		IRP$W_BOFF	= 48,0,16,0%; 			!BYTE OFFSET IN FIRST PAGE 
MACRO		IRP$W_BCNT	= 50,0,16,0%; 			!BYTE COUNT OF TRANSFER 
MACRO		IRP$L_IOST1	= 52,0,32,0%; 			!FIRST I/O STATUS LONGWORD (FOR I/O POST) 
MACRO		IRP$L_MEDIA	= 52,0,32,0%; 		!MEDIA ADDRESS 
MACRO		IRP$L_IOST2	= 56,0,32,0%; 			!SECOND I/O STATUS LONGWORD 
MACRO		IRP$L_TT_TERM	= 56,0,32,0%; 		!ADDRESS OF READ TERMINATORS MASK 
MACRO		IRP$B_CARCON	= 56,0,8,0%; 		!CARRIAGE CONTROL 
MACRO		IRP$Q_NT_PRVMSK	= 60,0,0,0%; 		! PRIVILEGE MASK FOR DECNET 
LITERAL	IRP$S_NT_PRVMSK	= 8; 
MACRO		IRP$W_ABCNT	= 60,0,16,0%; 		! ACCUMULATED BYTES TRANSFERED 
MACRO		IRP$W_TT_PRMPT	= 60,0,16,0%; 		! PROMPT SIZE 
MACRO		IRP$W_OBCNT	= 62,0,16,0%; 		! ORIGINAL TRANSFER BYTE COUNT 
MACRO		IRP$L_SEGVBN	= 64,0,32,0%; 		! VIRTUAL BLOCK NUMBER OF CURRENT SEGMENT 
MACRO		IRP$L_DIAGBUF	= 68,0,32,0%; 		! DIAGNOSTIC BUFFER ADDRESS 
MACRO		IRP$L_SEQNUM	= 72,0,32,0%; 		! SEQUENCE NUMBER 
LITERAL	IRP$C_LENGTH	= 76; 
LITERAL	IRP$K_LENGTH	= 76; 				! LENGTH OF STANDARD IRP 

 
!+ 
! IMAGE SECTION DESCRIPTOR DEFINITIONS 
!- 
 
!...$ISDDEF	
 
MACRO		ISD$W_SIZE	= 0,0,16,0%; 			!SIZE IN BYTES OF THIS ISD 
MACRO		ISD$W_PAGCNT	= 2,0,16,0%; 		!# OF PAGES DESCRIBED BY THIS ISD 
MACRO		ISD$L_VPNPFC	= 4,0,32,0%; 		!VPN & PFC VIELDS 
						! VIELDS IN VPNPFC 
MACRO		ISD$V_VPN	= 4,0,21,0%; 			! STARTING VIRTUAL PAGE NUMBER 
MACRO		ISD$V_P1	= 4,21,1,0%;   			! P1 SPACE 
MACRO		ISD$V_SYSTEM	= 4,22,1,0%; 			! SYSTEM SPACE 
							! SPARE 
MACRO		ISD$V_PFC	= 4,24,8,0%; 			! PAGE FAULT CLUSTER 
			
			 
MACRO		ISD$V_VPG	= 4,0,23,0%; 			! VIRTUAL PAGE INCLUDING P1 & S 
			
MACRO		ISD$B_PFC	= 7,0,8,0%; 			!PAGE FAULT CLUSTER 
MACRO		ISD$L_FLAGS	= 8,0,32,0%; 			!FLAGS AND ISD TYPE 
						! FLAG BIT DEFINITIONS 
MACRO		ISD$V_GBL	= 8,0,1,0%; 			! GLOBAL 
LITERAL	ISD$M_GBL	= 1^1 - 1^0; 
MACRO		ISD$V_CRF	= 8,1,1,0%; 			! COPY ON REFERENCE 
LITERAL	ISD$M_CRF	= 1^2 - 1^1; 
MACRO		ISD$V_DZRO	= 8,2,1,0%; 			! DEMAND ZERO PAGE 
LITERAL	ISD$M_DZRO	= 1^3 - 1^2; 
MACRO		ISD$V_WRT	= 8,3,1,0%; 			! WRITABLE 
LITERAL	ISD$M_WRT	= 1^4 - 1^3; 
MACRO		ISD$V_MATCHCTL	= 8,4,3,0%; 		! IDENT MATCH CONTROL FIELD 
LITERAL	ISD$M_MATCHCTL	= 1^7 - 1^4; 
MACRO		ISD$V_LASTCLU	= 8,7,1,0%; 			! ISD IS PART OF LAST P0 SPACE CLUSTER 
LITERAL	ISD$M_LASTCLU	= 1^8 - 1^7; 
			
MACRO		ISD$B_TYPE	= 11,0,8,0%; 			!ISD TYPE CODE 
LITERAL	ISD$C_LENDZRO	= 12; 
LITERAL	ISD$K_LENDZRO	= 12; 				!LENGTH OF DEMAND ZERO ISD 
MACRO		ISD$L_VBN	= 12,0,32,0%; 			!BASE VIRTUAL BLOCK NUMBER 
LITERAL	ISD$C_LENPRIV	= 16; 
LITERAL	ISD$K_LENPRIV	= 16; 				!LENGTH OF PRIVATE ISD 
MACRO		ISD$L_IDENT	= 16,0,32,0%; 			!IDENT FOR GLOBAL SECTION 
MACRO		ISD$T_GBLNAM	= 20,0,0,0%; 		!GLOBAL NAME COUNTED STRING 
LITERAL	ISD$S_GBLNAM	= 16; 
LITERAL	ISD$C_LENGLBL	= 36; 
LITERAL	ISD$K_LENGLBL	= 36; 				!LENGTH OF GLOBAL ISD 
 
 
!+ 
! MATCH CONTROL VIELD VALUES 
!- 
LITERAL	
$EQULST (ISD$K_,GBL,0,1 			!BASE OF ZERO , INCR 1 
	,(MATALL,) 	  			!MATCH ALWAYS, USE GLOBAL SECTION 
	,(MATEQU,) 	  			!MATCH IF ISD$L_IDENT EQU GBL ID 
	,(MATLEQ,) 					!MATCH IF ISD$L_IDENT LEQ GBL ID 
	,(MATNEV,) 					!MATCH NEVER, USE PRIVATE COPY 
	); 
 
!+ 
! ISD TYPE FIELD DEFINITIONS 
!- 
 
LITERAL	ISD$K_NORMAL	= 0; 			!NORMAL PROGRAM IMAGE SECTION 
					!NO SPECIAL ACTION REQUIRED 
LITERAL	ISD$K_USRSTACK	= (256-3); 		!USER STACK SECTION 
 

 
! 
! KNOWN FILE IMAGE HEADER DEFINITIONS 
! 
 
!...$KFHDEF	
 
MACRO		KFH$L_BUFEND	= 0,0,32,0%; 		!ADDRESS OF END OF KNOWN FILE HEADER 
MACRO		KFH$L_KFIADR	= 4,0,32,0%; 		!ADDRESS OF ASSOCIATED KNOWN FILE ENTRY 
MACRO		KFH$W_SIZE	= 8,0,16,0%; 			!SIZE OF DYNAMIC STRUCTURE 
MACRO		KFH$B_TYPE	= 10,0,8,0%; 			!DYNAMIC STRUCTURE TYPE 
LITERAL	KFH$C_LENGTH	= 12; 
LITERAL	KFH$K_LENGTH	= 12; 				!LENGTH OF OVERHEAD AREA 
 
! 
! THE REMAINDER OF THIS STRUCTURE CONTAINS THE IMAGE HEADER OF THE 
! SPECIFIED KNOWN FILE.  THE LOCATION KFI$L_IMGHDR IN THE KNOWN FILE 
! ENTRY POINTS KFH$C_LENGTH INTO THIS STRUCTURE, I.E AT THE IMAGE HEADER 
! ITSELF. 
! 

 
! 
! KNOWN FILE ENTRY DEFINITIONS 
! 
!...$KFIDEF	
 
MACRO		KFI$L_KFIQFL	= 0,0,32,0%; 		!KNOWN FILE QUEUE FORWARD LINK 
MACRO		KFI$L_KFIQBL	= 4,0,32,0%; 		!KNOWN FILE QUEUE BACK LINK 
MACRO		KFI$W_SIZE	= 8,0,16,0%; 			!SIZE OF BLOCK 
MACRO		KFI$B_TYPE	= 10,0,8,0%; 			!STRUCTURE TYPE 
MACRO		KFI$B_KFICTL	= 11,0,8,0%; 		!CONTROL BITS 
						!CONTROL BIT DEFINITIONS 
MACRO		KFI$V_KFIHD	= 11,0,1,0%; 			!KNOWN FILE HEADER BLOCK 
LITERAL	KFI$M_KFIHD	= 1^1 - 1^0; 
MACRO		KFI$V_FILIDOPEN	= 11,1,1,0%; 		!OPEN BY FILE ID IF SET 
LITERAL	KFI$M_FILIDOPEN	= 1^2 - 1^1; 
MACRO		KFI$V_DONOTOPEN	= 11,2,1,0%; 		!DO NOT OPEN THE FILE IF SET 
LITERAL	KFI$M_DONOTOPEN	= 1^3 - 1^2; 
							!SPARE 
MACRO		KFI$V_NOREPLACE	= 11,6,1,0%; 		!DELETE AND DO NOT REPLACE ENTRY 
LITERAL	KFI$M_NOREPLACE	= 1^7 - 1^6; 
MACRO		KFI$V_MARKDEL	= 11,7,1,0%; 			!ENTRY IS TO BE DELETED 
LITERAL	KFI$M_MARKDEL	= 1^8 - 1^7; 
			
MACRO		KFI$B_DEVUCB	= 12,0,8,0%; 		!DEVICE UCB OFFSET 
MACRO		KFI$B_DEVNAM	= 12,0,8,0%; 		!NAME THE ABOVE CONSISTENTLY 
MACRO		KFI$B_DIRNAM	= 13,0,8,0%; 		!DIRECTORY NAME STRING OFFSET 
MACRO		KFI$B_FILNAM	= 14,0,8,0%; 		!FILE NAME STRING OFFSET 
MACRO		KFI$B_TYPNAM	= 15,0,8,0%; 		!FILE TYPE STRING OFFSET 
MACRO		KFI$W_REFCNT	= 16,0,16,0%; 		!REFERENCE COUNT 
MACRO		KFI$B_KFIQNUM	= 18,0,8,0%; 		!KFIQ NUMBER (INDEX INTO VECTOR OF KFIQ'S) 
MACRO		KFI$B_KFISEQ	= 19,0,8,0%; 		!KNOWN FILE ENTRY SEQUENCE NUMBER 
			 
MACRO		KFI$V_KFISEQ	= 19,0,2,0%; 		!SEQUENCE NUMBER FIELD 
LITERAL	KFI$M_KFISEQ	= 1^2 - 1^0; 
			
LITERAL	KFI$C_KFIHDLEN	= 20; 
LITERAL	KFI$K_KFIHDLEN	= 20; 			!LENGTH OF KFI HEADER FIXED PORTION 
MACRO		KFI$W_FLAGS	= 20,0,16,0%; 			!FLAGS WORD 
						!FLAG BIT DEFINITIONS 
MACRO		KFI$V_KP_OPEN	= 20,0,1,0%; 			!KEEP THE IMAGE FILE OPEN 
LITERAL	KFI$M_KP_OPEN	= 1^1 - 1^0; 
MACRO		KFI$V_KP_RESHDR	= 20,1,1,0%; 		!MAKE IMAGE HEADER RESIDENT 
LITERAL	KFI$M_KP_RESHDR	= 1^2 - 1^1; 
MACRO		KFI$V_KP_SHARED	= 20,2,1,0%; 		!MAKE IMAGE SHARED 
LITERAL	KFI$M_KP_SHARED	= 1^3 - 1^2; 
							!SPARE BITS 
MACRO		KFI$V_LIM	= 20,6,1,0%; 			!LINKABLE IMAGE 
LITERAL	KFI$M_LIM	= 1^7 - 1^6; 
MACRO		KFI$V_PROCPRIV	= 20,7,1,0%; 		!USE PROCESS PRIVILEGE MASK 
LITERAL	KFI$M_PROCPRIV	= 1^8 - 1^7; 
MACRO		KFI$V_IS_RESHDR	= 20,8,1,0%; 		!IMAGE HEADER BLOCK IS RESIDENT 
LITERAL	KFI$M_IS_RESHDR	= 1^9 - 1^8; 
MACRO		KFI$V_IS_SHARED	= 20,9,1,0%; 		!IMAGE IS SHARED 
LITERAL	KFI$M_IS_SHARED	= 1^10 - 1^9; 
							!SPARE BITS 
MACRO		KFI$V_COMPATMOD	= 20,15,1,0%; 		!IMAGE IS COMPATABILITY MODE 
LITERAL	KFI$M_COMPATMOD	= 1^16 - 1^15; 
			
MACRO		KFI$W_GBLSECCNT	= 22,0,16,0%; 		!GLOBAL SECTION COUNT IF SHARED 
MACRO		KFI$L_USECNT	= 24,0,32,0%; 		!USAGE COUNTER 
MACRO		KFI$L_WINDOW	= 28,0,32,0%; 		!WCB ADDRESS IF OPEN 
MACRO		KFI$W_FID	= 28,0,16,0%; 			!FILE ID 
MACRO		KFI$W_FID_NUM	= 28,0,16,0%; 		!FILE NUMBER FIELD OF FILE ID 
MACRO		KFI$W_FID_SEQ	= 30,0,16,0%; 		!FILE SEQUENCE NUMBER FIELD OF FILE ID 
MACRO		KFI$L_IMGHDR	= 32,0,32,0%; 		!IMAGE HEADER ADDRESS IF RESIDENT 
MACRO		KFI$W_FID_RVN	= 32,0,16,0%; 		!RELATIVE VOLUME NUMBER FIELD OF FILE ID 
MACRO		KFI$Q_PROCPRIV	= 36,0,0,0%; 		!PROCESS PRIVILEGE MASK 
LITERAL	KFI$S_PROCPRIV	= 8; 
MACRO		KFI$B_MATCHCTL	= 44,0,8,0%; 		!GLOBAL SECTION MATCH CONTROL 
MACRO		KFI$L_IDENT	= 48,0,32,0%; 			!GLOBAL SECTION IDENT VALUE 
LITERAL	KFI$C_LENGTH	= 52; 
LITERAL	KFI$K_LENGTH	= 52; 				!LENGTH OF FIXED AREA OF KFI ENTRY 
 

 
! 
! KNOWN FILE POINTER BLOCK DEFINITIONS 
! 
!...$KFPDEF	
 
MACRO		KFP$B_QUECOUNT	= 0,0,8,0%; 		!INDEX OF LAST KNOWN FILE LIST IN USE 
MACRO		KFP$W_SIZE	= 8,0,16,0%; 			!SIZE OF POINTER BLOCK IN BYTES 
MACRO		KFP$B_TYPE	= 10,0,8,0%; 			!POINTER BLOCK TYPE 
MACRO		KFP$B_TYPE1	= 11,0,8,0%; 			!TYPE OF STRUCTURE POINTED TO 
MACRO		KFP$L_QUE0	= 12,0,32,0%; 			!POINTER TO KNOWN FILE QUEUE 0 
 

 
!+ 
! LOG - LOGICAL NAME BLOCK 
! 
! THERE IS ONE LOGICAL NAME BLOCK FOR EACH LOGICAL NAME ASSIGNMENT IN A 
! SYSTEM. LOGICAL NAME BLOCKS CAN BE LINKED INTO ONE OF THREE TABLES: 
!	1. A PER PROCESS TABLE. 
!	2. A GROUP WIDE TABLE. 
!	3. THE SYSTEM WIDE TABLE. 
!- 
 
!...$LOGDEF	
 
MACRO		LOG$L_LTFL	= 0,0,32,0%; 			!LOGICAL TABLE FORWARD LINK 
MACRO		LOG$L_LTBL	= 4,0,32,0%; 			!LOGICAL TABLE BACKWARD LINK 
MACRO		LOG$W_SIZE	= 8,0,16,0%; 			!SIZE OF LOG IN BYTES 
MACRO		LOG$B_TYPE	= 10,0,8,0%; 			!STRUCTURE TYPE FOR LOG 
MACRO		LOG$B_TABLE	= 11,0,8,0%; 			!LOGICAL NAME TABLE TYPE 
MACRO		LOG$W_GROUP	= 12,0,16,0%; 			!CREATOR GROUP NUMBER 
MACRO		LOG$B_AMOD	= 14,0,8,0%; 			!ACCESS MODE OF CREATOR 
MACRO		LOG$L_MBXUCB	= 16,0,32,0%; 		!MAILBOX UCB ADDRESS 
LITERAL	LOG$C_LENGTH	= 20; 
LITERAL	LOG$K_LENGTH	= 20; 				!LENGTH OF FIXED PART OF LOG 
MACRO		LOG$T_NAME	= 20,0,0,0%; 		!START OF LOGICAL NAME 
 
! 
! LOGICAL NAME TABLE NUMBERS 
! 
 
LITERAL	LOG$C_SYSTEM	= 0; 			!SYSTEM NAME TABLE 
LITERAL	LOG$C_GROUP	= 1; 				!GROUP NAME TABLE 
LITERAL	LOG$C_PROCESS	= 2; 			!PROCESS NAME TABLE 
 
! 
! MAXIMUM LENGTH OF LOGICAL NAME STRING 
! 
 
LITERAL	LOG$C_NAMLENGTH	= 64; 			!MAXIMUM LENGTH OF LOGICAL NAME STRING 
 

 
 
!+ 
! MASSBUS ADAPTER REGISTER OFFSET DEFINITIONS 
!- 
 
!...$MBADEF	
 
MACRO		MBA$L_CSR	= 0,0,32,0%; 			!CONFIGURATION STATUS REGISTER 
						! CONFIGURATION STATUS REGISTER FIELD DEFINITIONS 
MACRO		MBA$V_CSR_ADCOD	= 0,0,8,0%;    		! ADAPTER CODE FIELD 
				   			! RESERVED BITS 
MACRO		MBA$V_CSR_OT	= 0,21,1,0%;    		! OVER TEMPERATURE 
LITERAL	MBA$M_CSR_OT	= 1^22 - 1^21; 
MACRO		MBA$V_CSR_PU	= 0,22,1,0%;    		! ADAPTER POWER UP 
LITERAL	MBA$M_CSR_PU	= 1^23 - 1^22; 
MACRO		MBA$V_CSR_PD	= 0,23,1,0%;    		! ADAPTER POWER DOWN 
LITERAL	MBA$M_CSR_PD	= 1^24 - 1^23; 
				   			! RESERVED BITS 
MACRO		MBA$V_CSR_XMFLT	= 0,26,1,0%;    	! TRANSMITTER FAULT 
LITERAL	MBA$M_CSR_XMFLT	= 1^27 - 1^26; 
MACRO		MBA$V_CSR_MT	= 0,27,1,0%;    		! MULTIPLE TRANSMITTERS 
LITERAL	MBA$M_CSR_MT	= 1^28 - 1^27; 
				   			! RESERVED BIT 
MACRO		MBA$V_CSR_URD	= 0,29,1,0%;    		! UNEXPECTED READ DATA 
LITERAL	MBA$M_CSR_URD	= 1^30 - 1^29; 
MACRO		MBA$V_CSR_WS	= 0,30,1,0%;    		! WRITE SEQUENCE DATA 
LITERAL	MBA$M_CSR_WS	= 1^31 - 1^30; 
MACRO		MBA$V_CSR_PE	= 0,31,1,0%;  		! SBI PARITY ERROR 
LITERAL	MBA$M_CSR_PE	= 1^32 - 1^31; 
					! 
MACRO		MBA$L_CR	= 4,0,32,0%; 			!CONTROL REGISTER 
						! CONTROL REGISTER BIT DEFINITIONS 
MACRO		MBA$V_CR_INIT	= 4,0,1,0%;    		! ADAPTER INITIALIZATION 
LITERAL	MBA$M_CR_INIT	= 1^1 - 1^0; 
MACRO		MBA$V_CR_ABORT	= 4,1,1,0%;    		! ABORT OPERATION 
LITERAL	MBA$M_CR_ABORT	= 1^2 - 1^1; 
MACRO		MBA$V_CR_IE	= 4,2,1,0%; 		! INTERRUPT ENABLE 
LITERAL	MBA$M_CR_IE	= 1^3 - 1^2; 
					! 
MACRO		MBA$L_SR	= 8,0,32,0%; 			!STATUS REGISTER 
						! STATUS REGISTER BIT DEFINITIONS 
MACRO		MBA$V_SR_RDTO	= 8,0,1,0%;  		! READ DATA TIMEOUT 
LITERAL	MBA$M_SR_RDTO	= 1^1 - 1^0; 
MACRO		MBA$V_SR_ISTO	= 8,1,1,0%;    		! INTERFACE SEQUENCE TIMEOUT 
LITERAL	MBA$M_SR_ISTO	= 1^2 - 1^1; 
MACRO		MBA$V_SR_RDS	= 8,2,1,0%;    		! READ DATA SUBSTITUTE 
LITERAL	MBA$M_SR_RDS	= 1^3 - 1^2; 
MACRO		MBA$V_SR_ERCONF	= 8,3,1,0%;    	! ERROR CONFIRMATION 
LITERAL	MBA$M_SR_ERCONF	= 1^4 - 1^3; 
MACRO		MBA$V_SR_INVMAP	= 8,4,1,0%;    	! INVALID MAP REGISTER 
LITERAL	MBA$M_SR_INVMAP	= 1^5 - 1^4; 
MACRO		MBA$V_SR_MAPPE	= 8,5,1,0%;    		! MAP PARITY ERROR 
LITERAL	MBA$M_SR_MAPPE	= 1^6 - 1^5; 
MACRO		MBA$V_SR_MDPE	= 8,6,1,0%;    		! MASSBUS DATA PARITY ERROR 
LITERAL	MBA$M_SR_MDPE	= 1^7 - 1^6; 
MACRO		MBA$V_SR_MBEXC	= 8,7,1,0%;    		! MASSBUS EXCEPTION 
LITERAL	MBA$M_SR_MBEXC	= 1^8 - 1^7; 
MACRO		MBA$V_SR_MXF	= 8,8,1,0%;    		! MISSED TRANSFER ERROR 
LITERAL	MBA$M_SR_MXF	= 1^9 - 1^8; 
MACRO		MBA$V_SR_WCKLWR	= 8,9,1,0%;    	! WRITE CHECK ERROR LOWER BYTE 
LITERAL	MBA$M_SR_WCKLWR	= 1^10 - 1^9; 
MACRO		MBA$V_SR_WCKUPR	= 8,10,1,0%;    	! WRITE CHECK ERROR UPPER BYTE 
LITERAL	MBA$M_SR_WCKUPR	= 1^11 - 1^10; 
MACRO		MBA$V_SR_DLT	= 8,11,1,0%;    		! DATA LATE ERROR 
LITERAL	MBA$M_SR_DLT	= 1^12 - 1^11; 
MACRO		MBA$V_SR_DTABT	= 8,12,1,0%;    		! DATA TRANSFER ABORTED 
LITERAL	MBA$M_SR_DTABT	= 1^13 - 1^12; 
MACRO		MBA$V_SR_DTCOMP	= 8,13,1,0%;    	! DATA TRANSFER COMPLETE 
LITERAL	MBA$M_SR_DTCOMP	= 1^14 - 1^13; 
				   			! RESERVED BITS 
MACRO		MBA$V_SR_ATTN	= 8,16,1,0%;    		! MASSBUS ATTENTION 
LITERAL	MBA$M_SR_ATTN	= 1^17 - 1^16; 
MACRO		MBA$V_SR_MCPE	= 8,17,1,0%;    		! MASSBUS COMTROL PARITY ERROR 
LITERAL	MBA$M_SR_MCPE	= 1^18 - 1^17; 
MACRO		MBA$V_SR_NED	= 8,18,1,0%;    		! NONEXISTENT DRIVE 
LITERAL	MBA$M_SR_NED	= 1^19 - 1^18; 
MACRO		MBA$V_SR_PGE	= 8,19,1,0%;    		! PROGRAM ERROR 
LITERAL	MBA$M_SR_PGE	= 1^20 - 1^19; 
				   			! RESERVED BITS 
MACRO		MBA$V_SR_CRD	= 8,29,1,0%;    		! CORRECTED READ DATA 
LITERAL	MBA$M_SR_CRD	= 1^30 - 1^29; 
MACRO		MBA$V_SR_NRCONF	= 8,30,1,0%;    	! NO RESPONSE CONFIRMATION 
LITERAL	MBA$M_SR_NRCONF	= 1^31 - 1^30; 
MACRO		MBA$V_SR_DTBUSY	= 8,31,1,0%;  		! DATA TRANSFER BUSY 
LITERAL	MBA$M_SR_DTBUSY	= 1^32 - 1^31; 
					! 
LITERAL	
$EQULST (MBA$M_,GBL,0,1 				! ERROR BITS 
	,(ERROR,MBA$M_SR_RDTO OR  			! READ DATA TIMEOUT 
		MBA$M_SR_ISTO OR  			! INTERFACE SEQUENCE TIMEOUT 
		MBA$M_SR_RDS OR  			! READ DATA SUBSTITUTE 
		MBA$M_SR_ERCONF OR  	   	! ERROR CONFIRMATION 
		MBA$M_SR_INVMAP OR  	   	! INVALID MAP REGISTER 
		MBA$M_SR_MAPPE OR  	   	! MAP PARITY ERROR 
		MBA$M_SR_MDPE OR  			! MASSBUS DATA PARITY ERROR 
		MBA$M_SR_MBEXC OR  	   	! MASSBUS EXCEPTION 
		MBA$M_SR_MXF OR  	 		! MISSED TRANSFER ERROR 
		MBA$M_SR_WCKLWR OR  	   	! WRITE CHECK ERROR LOWER BYTE 
		MBA$M_SR_WCKUPR OR  	   	! WRITE CHECK ERROR UPPER BYTE 
		MBA$M_SR_DLT OR  	 		! DATA LATE ERROR 
		MBA$M_SR_DTABT OR  	   	! DATA TRANSFER ABORTED 
		MBA$M_SR_MCPE OR  			! MASSBUS COMTROL PARITY ERROR 
		MBA$M_SR_NED OR  	 		! NONEXISTENT DRIVE 
		MBA$M_SR_PGE) 	  		! PROGRAM ERROR 
	); 
MACRO		MBA$L_VAR	= 12,0,32,0%; 			!VIRTUAL ADDRESS REGISTER 
MACRO		MBA$L_BCR	= 16,0,32,0%; 			!BYTE COUNT REGISTER 
MACRO		MBA$L_ERB	= 1024,0,32,0%; 			!BASE ADDRESS OF EXTERNAL REGISTERS 
						! BASE ADDRESS FIELD DEFINITIONS 
							! REGISTER OFFSET ADDRESS BITS 
MACRO		MBA$V_ERB_UNIT	= 1024,7,3,0%; 		! DRIVE UNIT NUMBER 
					! 
MACRO		MBA$L_AS	= 1040,0,32,0%; 			!ATTENTION SUMMARY REGISTER 
					! TO POSITION TO 2048 
MACRO		MBA$L_MAP	= 2048,0,0,0%; 		!MAP REGISTERS 
LITERAL	MBA$S_MAP	= 1024; 
 

 
!+ 
! MOUNTED VOLUME LIST ENTRY. ONE SUCH ENTRY APPEARS IN THE PROCESS MOUNTED 
! VOLUME LIST FOR EACH VOLUME MOUNTED BY THE PROCESS AS /SHARE OR /NOSHARE. 
! IN ADDITION, EACH VOLUME MOUNTED /SYSTEM OR /GROUP HAS AN ENTRY IN THE 
! SYSTEM WIDE MOUNTED VOLUME LIST. 
!- 
 
!...$MTLDEF	
MACRO		MTL$L_MTLFL	= 0,0,32,0%; 				! FORWARD LIST POINTER 
MACRO		MTL$L_MTLBL	= 4,0,32,0%; 				! BACK LIST POINTER 
MACRO		MTL$W_SIZE	= 8,0,16,0%; 			! STRUCTURE SIZE IN BYTES 
MACRO		MTL$B_TYPE	= 10,0,8,0%; 			! STRUCTURE TYPE CODE 
MACRO		MTL$B_STATUS	= 11,0,8,0%; 			! STATUS BYTE 
MACRO		MTL$L_UCB	= 12,0,32,0%; 				! POINTER TO DEVICE UCB 
MACRO		MTL$L_LOGNAME	= 16,0,32,0%; 			! POINTER TO ASSOCIATED LOGICAL NAME 
LITERAL	MTL$C_LENGTH	= 24; 
LITERAL	MTL$K_LENGTH	= 24; 				! LENGTH OF STRUCTURE 

 
!+ 
! MUTEX DEFINITIONS 
!- 
!...$MTXDEF	
 
						! BIT DEFINITIONS 
				 
MACRO		MTX$V_WRT	= 0,16,1,0%; 			! WRITE PENDING OR IN PROGRESS 
					! 
MACRO		MTX$W_OWNCNT	= 0,0,16,0%; 		!OWNERSHIP COUNT 
MACRO		MTX$W_STS	= 2,0,16,0%; 			!STATUS BITS 
 

 
 
!+ 
! MAGNETIC TAPE VOLUME LIST 
! THIS STRUCTURE DESCRIBES THE VOLUMES IN A VOLUME SET 
!- 
!...$MVLDEF	
					 
MACRO		MVL$L_VCB	= 0,0,32,0%; 		!ADDRESS OF VCB 
MACRO		MVL$W_SIZE	= 8,0,16,0%; 		!SIZE OF STRUCTURE 
MACRO		MVL$B_TYPE	= 10,0,8,0%; 		!TYPE OF STRUCTURE 
MACRO		MVL$B_NVOLS	= 11,0,8,0%; 		!NUMBER OF VOLUMES IN VOLUME SET 
LITERAL	MVL$C_FIXLEN	= 12; 
LITERAL	MVL$K_FIXLEN	= 12; 			!LENGTH OF FIXED AREA OF STRUCTURE 
 
! THE FOLLOWING STRUCTURE IN REPEATED IN MVL FOR EACH VOLUME IN VOLUME SET 
			 
MACRO		MVL$T_VOLLBL	= 0,0,0,0%; 	!VOLUME LABEL 
LITERAL	MVL$S_VOLLBL	= 6; 
MACRO		MVL$B_RVN	= 6,0,8,0%; 		!RELATIVE UNIT NUMBER 
MACRO		MVL$B_STATUS	= 7,0,8,0%; 	!STATUS OF VOLUME 
			 
MACRO		MVL$V_MOUNTED	= 7,0,1,0%; 		!VOLUME IS MOUNTED 
			
LITERAL	MVL$C_LENGTH	= 8; 
LITERAL	MVL$K_LENGTH	= 8; 			!LENGTH OF STRUCTURE 

 
!+ 
! 
! FORMAT OF THE FILE NAME BLOCK. THE FILE NAME BLOCK IS USED AS AN INTERNAL 
! INTERFACE TO THE DIRECTORY SCAN ROUTINE, AND IS ALSO THE FORMAT OF A 
! DIRECTORY RECORD. 
! 
!- 
 
 
!...$NMBDEF	
MACRO		NMB$W_FID	= 0,0,0,0%; 	! FILE ID 
LITERAL	NMB$S_FID	= 6; 
MACRO		NMB$W_FID_NUM	= 0,0,16,0%; 	! FID - FILE NUMBER 
MACRO		NMB$W_FID_SEQ	= 2,0,16,0%; 	! FID - FILE SEQUENCE NUMBER 
MACRO		NMB$W_FID_RVN	= 4,0,16,0%; 	! FID - RELATIVE VOLUME NUMBER 
MACRO		NMB$W_NAME	= 6,0,0,0%; 	! FILE NAME (RAD-50) 
LITERAL	NMB$S_NAME	= 6; 
MACRO		NMB$W_TYPE	= 12,0,16,0%; 	! FILE TYPE (RAD-50) 
MACRO		NMB$W_VERSION	= 14,0,16,1%; 	! VERSION NUMBER 
LITERAL	NMB$C_DIRENTRY	= 16; 
LITERAL	NMB$K_DIRENTRY	= 16; 		! LENGTH OF DIRECTORY ENTRY 
 
MACRO		NMB$W_FLAGS	= 16,0,16,0%; 	! NAME STATUS FLAGS 
			 
				 
MACRO		NMB$V_ALLVER	= 16,3,1,0%; 		! MATCH ALL VERSIONS 
LITERAL	NMB$M_ALLVER	= 1^4 - 1^3; 
MACRO		NMB$V_ALLTYP	= 16,4,1,0%; 		! MATCH ALL TYPES 
LITERAL	NMB$M_ALLTYP	= 1^5 - 1^4; 
MACRO		NMB$V_ALLNAM	= 16,5,1,0%; 		! MATCH ALL NAMES 
LITERAL	NMB$M_ALLNAM	= 1^6 - 1^5; 
				 
MACRO		NMB$V_WILD	= 16,8,1,0%; 		! WILD CARDS IN FILE NAME 
LITERAL	NMB$M_WILD	= 1^9 - 1^8; 
MACRO		NMB$V_NEWVER	= 16,9,1,0%; 		! MAXIMIZE VERSION NUMBER 
LITERAL	NMB$M_NEWVER	= 1^10 - 1^9; 
MACRO		NMB$V_SUPERSEDE	= 16,10,1,0%; 	! SUPERSEDE EXISTING FILE 
LITERAL	NMB$M_SUPERSEDE	= 1^11 - 1^10; 
MACRO		NMB$V_FINDFID	= 16,11,1,0%; 		! SEARCH FOR FILE ID 
LITERAL	NMB$M_FINDFID	= 1^12 - 1^11; 
				 
MACRO		NMB$V_LOWVER	= 16,14,1,0%; 		! LOWER VERSION OF FILE EXISTS 
LITERAL	NMB$M_LOWVER	= 1^15 - 1^14; 
MACRO		NMB$V_HIGHVER	= 16,15,1,0%; 		! HIGHER VERSION OF FILE EXISTS 
LITERAL	NMB$M_HIGHVER	= 1^16 - 1^15; 
			
MACRO		NMB$W_CONTEXT	= 18,0,16,0%; 	! START POINT FOR NEXT FIND 
LITERAL	NMB$C_LENGTH	= 20; 
LITERAL	NMB$K_LENGTH	= 20; 		! LENGTH OF NAME BLOCK 

 
!+ 
! DEFINE PERFORMANCE BUFFER HEADER 
!- 
 
!...$PBHDEF	
 
MACRO		PBH$L_BUFRFL	= 0,0,32,0%; 		!BUFFER FORWARD LINK 
MACRO		PBH$L_BUFRBL	= 4,0,32,0%; 		!BUFFER BACKWARD LINK 
MACRO		PBH$W_SIZE	= 8,0,16,0%; 			!SIZE OF PERFORMANCE DATA BUFFER 
MACRO		PBH$B_TYPE	= 10,0,8,0%; 			!DATA STRUCTURE TYPE 
MACRO		PBH$W_MSGCNT	= 11,0,16,0%; 		!COUNT OF MESSAGES IN BUFFER 
LITERAL	PBH$C_START	= 13; 
LITERAL	PBH$K_START	= 13; 				!START OF DATA AREA 
LITERAL	PBH$C_LENGTH	= 512; 
LITERAL	PBH$K_LENGTH	= 512; 				!LENGTH OF PERFORMANCE DATA BUFFER 
 

 
!+ 
! PCB DEFINITIONS 
!- 
 
!...$PCBDEF	
 
MACRO		PCB$L_SQFL	= 0,0,32,0%; 			!STATE QUEUE FORWARD LINK 
MACRO		PCB$L_SQBL	= 4,0,32,0%; 			!STATE QUEUE BACKWARD LINK 
MACRO		PCB$W_SIZE	= 8,0,16,0%; 			!SIZE IN BYTES 
MACRO		PCB$B_TYPE	= 10,0,8,0%; 			!STRUCTURE TYPE CODE FOR PCB 
MACRO		PCB$B_PRI	= 11,0,8,0%; 			!PROCESS CURRENT PRIORITY 
MACRO		PCB$B_ASTACT	= 12,0,8,0%; 		!ACCESS MODES WITH ACTIVE ASTS 
MACRO		PCB$B_ASTEN	= 13,0,8,0%; 			!ACCESS MODES WITH ASTS ENABLED 
MACRO		PCB$W_MTXCNT	= 14,0,16,0%; 		!COUNT OF MUTEX SEMAPHORES OWNED 
MACRO		PCB$L_ASTQFL	= 16,0,32,0%; 		!AST QUEUE FORWARD LINK(HEAD) 
MACRO		PCB$L_ASTQBL	= 20,0,32,0%; 		!AST QUEUE BACK LINK(TAIL) 
MACRO		PCB$L_PHYPCB	= 24,0,32,0%; 		!PHYSICAL ADDRESS OF HW PCB 
MACRO		PCB$L_OWNER	= 28,0,32,0%; 			!PID OF CREATOR 
MACRO		PCB$L_UIC	= 32,0,32,0%; 			!LOGON UIC OF PROCESS 
MACRO		PCB$W_MEM	= 32,0,16,0%; 			!MEMBER NUMBER IN UIC 
MACRO		PCB$W_GRP	= 34,0,16,0%; 			!GROUP NUMBER IN UIC 
MACRO		PCB$L_WSSWP	= 36,0,32,0%; 			!SWAP FILE DISK ADDRESS 
MACRO		PCB$L_STS	= 40,0,32,0%; 			!PROCESS STATUS FLAGS 
						! BIT DEFINITIONS 
MACRO		PCB$V_RES	= 40,0,1,0%;    			! RESIDENT, IN BALANCE SET 
MACRO		PCB$V_DELPEN	= 40,1,1,0%;    		! DELETE PENDING 
MACRO		PCB$V_FORCPEN	= 40,2,1,0%;    		! FORCE EXIT PENDING 
MACRO		PCB$V_INQUAN	= 40,3,1,0%;    		! INITIAL QUANTUM IN PROGRESS 
MACRO		PCB$V_PSWAPM	= 40,4,1,0%; 			! PROCESS SWAP MODE (1=NOSWAP) 
MACRO		PCB$V_RESPEN	= 40,5,1,0%;    		! RESUME PENDING, SKIP SUSPEND 
MACRO		PCB$V_SSFEXC	= 40,6,1,0%;    		! SYSTEM SERVICE EXCEPTION ENABLE (K) 
MACRO		PCB$V_SSFEXCE	= 40,7,1,0%; 		! SYSTEM SERVICE EXCEPTION ENABLE (E) 
MACRO		PCB$V_SSFEXCS	= 40,8,1,0%; 		! SYSTEM SERVICE EXCEPTION ENABLE (S) 
MACRO		PCB$V_SSFEXCU	= 40,9,1,0%; 		! SYSTEM SERVICE EXCEPTION ENABLE (U) 
MACRO		PCB$V_SSRWAIT	= 40,10,1,0%;    		! SYSTEM SERVICE RESOURCE WAIT DISABLE 
MACRO		PCB$V_SUSPEN	= 40,11,1,0%;    		! SUSPEND PENDING 
MACRO		PCB$V_WAKEPEN	= 40,12,1,0%;    		! WAKE PENDING, SKIP HIBERNATE 
MACRO		PCB$V_WALL	= 40,13,1,0%;    		! WAIT FOR ALL EVENTS IN MASK 
MACRO		PCB$V_BATCH	= 40,14,1,0%;    		! PROCESS IS A BATCH JOB 
MACRO		PCB$V_NOACNT	= 40,15,1,0%;    		! NO ACCOUNTING FOR PROCESS 
MACRO		PCB$V_SWPVBN	= 40,16,1,0%; 			! WRITE FOR SWP VBN IN PROGRESS 
MACRO		PCB$V_ASTPEN	= 40,17,1,0%; 			! AST PENDING 
MACRO		PCB$V_PHDRES	= 40,18,1,0%; 			! PROCESS HEADER RESIDENT 
MACRO		PCB$V_HIBER	= 40,19,1,0%; 			! HIBERNATE AFTER INITIAL IMAGE ACTIVATE 
MACRO		PCB$V_LOGIN	= 40,20,1,0%; 			! LOGIN WITHOUT READING AUTH FILE 
MACRO		PCB$V_NETWRK	= 40,21,1,0%; 			! NETWORK CONNECTED JOB 
MACRO		PCB$V_PWRAST	= 40,22,1,0%; 			! POWER FAIL AST 
MACRO		PCB$V_NODELET	= 40,23,1,0%; 			! NO DELETE 
					! END OF BIT DEFINITIONS 
MACRO		PCB$L_WTIME	= 44,0,32,0%; 			!TIME AT START OF WAIT 
MACRO		PCB$W_STATE	= 48,0,16,0%; 			!PROCESS STATE 
MACRO		PCB$B_WEFC	= 50,0,8,0%; 			!WAITING EF CLUSTER NUMBER 
MACRO		PCB$B_PRIB	= 51,0,8,0%; 			!BASE PRIORITY 
MACRO		PCB$W_APTCNT	= 52,0,16,0%; 		!ACTIVE PAGE TABLE COUNT 
MACRO		PCB$W_TMBU	= 54,0,16,0%; 			!TERMINATION MAILBOX UNIT NO. 
MACRO		PCB$W_GPGCNT	= 56,0,16,0%; 		!GLOBAL PAGE COUNT IN WS 
MACRO		PCB$W_PPGCNT	= 58,0,16,0%; 		!PROCESS PAGE COUNT IN WS 
MACRO		PCB$W_ASTCNT	= 60,0,16,0%; 		!AST COUNT REMAINING 
MACRO		PCB$W_BIOCNT	= 62,0,16,0%; 		!BUFFERED I/O COUNT REMAINING 
MACRO		PCB$W_BIOLM	= 64,0,16,0%; 			!BUFFERED I/O LIMIT 
MACRO		PCB$W_BYTCNT	= 66,0,16,0%; 		!BYTE COUNT REMAINING FOR BUFFERED I/O 
MACRO		PCB$W_DIOCNT	= 68,0,16,0%; 		!DIRECT I/O COUNT REMAINING 
MACRO		PCB$W_DIOLM	= 70,0,16,0%; 			!DIRECT I/O COUNT LIMIT 
MACRO		PCB$W_FILCNT	= 72,0,16,0%; 		!COUNT REMAINING OF OPEN FILES 
MACRO		PCB$W_TQCNT	= 74,0,16,0%; 			!COUNT REMAINING OF TIMER QUEUE ENTRIES 
MACRO		PCB$L_PQB	= 76,0,32,0%; 			!POINTER TO PROCESS QUOTA BLOCK 
					!(PROCESS CREATION ONLY) 
MACRO		PCB$L_EFWM	= 76,0,32,0%; 			!EVENT FLAG WAIT MASK 
MACRO		PCB$L_EFCS	= 80,0,32,0%; 			!LOCAL EVENT FLAG CLUSTER,SYSTEM 
MACRO		PCB$L_EFCU	= 84,0,32,0%; 			!LOCAL EVENT FLAG CLUSTER, USER 
MACRO		PCB$L_EFC2P	= 88,0,32,0%; 			!POINTER TO GLOBAL CLUSTER #2 
MACRO		PCB$L_EFC3P	= 92,0,32,0%; 			!POINTER TO GLOBAL CLUSTER #3 
MACRO		PCB$L_PID	= 96,0,32,0%; 			!PROCESS IDENTIFICATION 
MACRO		PCB$L_PHD	= 100,0,32,0%; 			!PROCESS HEADER ADDRESS 
MACRO		PCB$W_BYTLM	= 104,0,16,0%; 			!BYTE COUNT LIMIT 
MACRO		PCB$W_PRCCNT	= 106,0,16,0%; 		!SUBPROCESS COUNT 
MACRO		PCB$T_LNAME	= 108,0,0,0%; 		!LOGICAL NAME OF PROCESS 
LITERAL	PCB$S_LNAME	= 16; 
LITERAL	PCB$C_LENGTH	= 124; 
LITERAL	PCB$K_LENGTH	= 124; 				!LENGTH OF PCB 
 

 
!+ 
! DEFINE DEVICE PERFORMANCE DATA BLOCK 
!- 
 
!...$PDBDEF	
 
MACRO		PDB$L_FREEFL	= 0,0,32,0%; 		!FREE BUFFER LISTHEAD FORWARD LINK 
MACRO		PDB$L_FREEBL	= 4,0,32,0%; 		!FREE BUFFER LISTHEAD BACKLINK 
MACRO		PDB$W_SIZE	= 8,0,16,0%; 			!SIZE OF DATA STRUCTURE 
MACRO		PDB$B_TYPE	= 10,0,8,0%; 			!TYPE OF DATA STRUCTURE 
MACRO		PDB$B_OVERRUN	= 11,0,8,0%; 		!OVERRUN INDICATOR 
MACRO		PDB$L_FILLFL	= 12,0,32,0%; 		!FILLED BUFFER LISTHEAD FORWARD LINK 
MACRO		PDB$L_FILLBL	= 16,0,32,0%; 		!FILLED BUFFER LISTHEAD BACKWARD LINK 
MACRO		PDB$L_CURBUF	= 20,0,32,0%; 		!ADDRESS OF CURRENT BUFFER 
MACRO		PDB$L_NXTBUF	= 24,0,32,0%; 		!ADDRESS OF NEXT LOCATION IN BUFFER 
MACRO		PDB$L_ENDBUF	= 28,0,32,0%; 		!ADDRESS OF END OF BUFFER 
MACRO		PDB$L_PID	= 32,0,32,0%; 			!PROCESS ID OF DATA COLLECTION PROCESS 
MACRO		PDB$B_DEVCLASS	= 36,0,8,0%; 		!DEVICE CLASS SELECTION 
MACRO		PDB$B_DEVTYPE	= 37,0,8,0%; 		!DEVICE TYPE SELECTION 
MACRO		PDB$W_ANDM	= 38,0,16,0%; 			!STATUS SELECTION 'AND' MASK 
MACRO		PDB$W_XORM	= 40,0,16,0%; 			!STATUS SELECTION 'XOR' MASK 
MACRO		PDB$W_BUFCNT	= 42,0,16,0%; 		!COUNT OF FILLED BUFFERS 
MACRO		PDB$Q_FUNC	= 44,0,0,0%; 			!SELECTION FUNCTION MASK 
LITERAL	PDB$S_FUNC	= 8; 
LITERAL	PDB$C_LENGTH	= 52; 
LITERAL	PDB$K_LENGTH	= 52; 				!LENGTH OF DATA CONTROL BLOCK 
 

 
 
!+ 
! PAGE FILE CONTROL BLOCK 
!- 
 
!...$PFLDEF	
 
! 
! ***** L_VBN, L_WINDOW, AND B_PFC MUST BE THE SAME OFFSET VALUES AS THE 
! ***** EQUIVALENTLY NAMED OFFSETS IN $SECDEF 
! 
MACRO		PFL$L_BITMAP	= 0,0,32,0%; 		!ADDRESS OF START OF BIT MAP 
					!BIT = 1 MEANS AVAILABLE 
MACRO		PFL$L_STARTBYTE	= 4,0,32,0%; 		!STARTING BYTE OFFSET TO SCAN 
MACRO		PFL$W_SIZE	= 8,0,16,0%; 			!SIZE OF PAGE FILE CONTROL BLOCK 
MACRO		PFL$B_TYPE	= 10,0,8,0%; 			!PAGE FILE CONTROL BLOCK TYPE CODE 
MACRO		PFL$B_PFC	= 11,0,8,0%; 			!PAGE FAULT CLUSTER FOR PAGE READS 
MACRO		PFL$L_WINDOW	= 12,0,32,0%; 		!WINDOW ADDRESS 
MACRO		PFL$L_VBN	= 16,0,32,0%; 			!BASE VBN 
MACRO		PFL$L_BITMAPSIZ	= 20,0,32,0%; 		!SIZE IN BYTES OF PAGE FILE 
MACRO		PFL$L_FREPAGCNT	= 24,0,32,0%; 		!COUNT - 1 OF PAGES WHICH MAY BE ALLOCATED 
MACRO		PFL$L_RESERVCNT	= 28,0,32,0%; 		!COUNT - 1 OF PAGES WHICH MAY BE RESERVED 
LITERAL	PFL$C_LENGTH	= 32; 
LITERAL	PFL$K_LENGTH	= 32; 				!SIZE OF PAGE FILE CONTROL BLOCK 
 

 
 
!+ 
! PFN DATA BASE DEFINITIONS 
!- 
 
!...$PFNDEF	
! 
! VIELD DEFINITIONS IN PFN$AB_STATE 
! 
			 
MACRO		PFN$V_LOC	= 0,0,3,0%; 		!LOCATION OF PAGE 
LITERAL	PFN$M_LOC	= 1^3 - 1^0; 
! 
! ***** THE FOLLOWING SPARE BIT MUST BE USED FOR EXTENSION OF THE LOC FIELD 
! ***** OR ALTERNATIVELY THE DELCON BIT MUST BE MOVED ADJACENT TO LOC 
! 
							!NOT IN USE 
MACRO		PFN$V_DELCON	= 0,4,1,0%; 		!DELETE PFN CONTENTS WHEN REF=0 
LITERAL	PFN$M_DELCON	= 1^5 - 1^4; 
							!NOT IN USE 
MACRO		PFN$V_MODIFY	= 0,7,1,0%; 		!MODIFY BIT 
LITERAL	PFN$M_MODIFY	= 1^8 - 1^7; 
			
! 
! VIELD DEFINITIONS IN PFN$AB_TYPE 
! 
			 
MACRO		PFN$V_PAGTYP	= 0,0,3,0%; 		!PAGE TYPE 
LITERAL	PFN$M_PAGTYP	= 1^3 - 1^0; 
							!NOT IN USE 
MACRO		PFN$V_COLLISION	= 0,4,1,0%; 		!EMPTY COLLISION QUEUE WHEN PAGE READ COMPLETE 
LITERAL	PFN$M_COLLISION	= 1^5 - 1^4; 
MACRO		PFN$V_BADPAG	= 0,5,1,0%; 		!BAD PAGE BIT 
LITERAL	PFN$M_BADPAG	= 1^6 - 1^5; 
MACRO		PFN$V_RPTEVT	= 0,6,1,0%; 		!REPORT EVENT ON I/O COMPLETE 
LITERAL	PFN$M_RPTEVT	= 1^7 - 1^6; 
			
! 
! VIELD DEFINITIONS IN PFN$AL_BAK 
! 
			 
MACRO		PFN$V_BAK	= 0,0,23,0%; 		!BACKUP ADDRESS 
LITERAL	PFN$M_BAK	= 1^23 - 1^0; 
MACRO		PFN$V_GBLBAK	= 0,23,1,0%; 		!GLOBAL BACKING STORE ADDRESS 
LITERAL	PFN$M_GBLBAK	= 1^24 - 1^23; 
MACRO		PFN$V_PGFLX	= 0,24,8,0%; 		!PAGE FILE INDEX 
LITERAL	PFN$M_PGFLX	= 1^32 - 1^24; 
			
! 
! LOCATION VIELD VALUES 
! 
LITERAL	
$EQULST (PFN$C_,GBL,0,1  
	,(FREPAGLST,0) 			!ON FREE PAGE LIST 
	,(MFYPAGLST,1) 			!ON MODIFIED PAGE LIST 
	,(BADPAGLST,2) 			!ON BAD PAGE LIST 
	,(RELPEND,3) 			!RELEASE PENDING 
					!WHEN REFCNT = 0 RELEASE PFN 
	,(RDERR,4) 				!READ ERROR WHILE PAGING IN 
	,(WRTINPROG,5) 			!WRITE IN PROGRESS (BY MFY PAG WRITER) 
	,(RDINPROG,6) 			!READ IN PROGRESS (PAGE IN) 
	,(ACTIVE,7) 			!PAGE IS ACTIVE AND VALID 
	); 
! 
! PAGE TYPE VIELD DEFINITIONS 
! 
LITERAL	
$EQULST (PFN$C_,GBL,0,1  
	,(PROCESS,0) 			!PROCESS PAGE 
	,(SYSTEM,1) 			!SYSTEM PAGE 
	,(GLOBAL,2) 			!GLOBAL PAGE (READ ONLY) 
	,(GBLWRT,3) 			!GLOBAL WRITABLE PAGE 
	,(PPGTBL,4) 			!PROCESS PAGE TABLE 
	,(GPGTBL,5) 			!GLOBAL PAGE TABLE 
	); 
 

 
!+ 
! A PROCESS HEADER CONTAINS THE SWAPPABLE SCHEDULER AND 
! MEMORY MANAGEMENT DATA BASES FOR A PROCESS IN THE 
! BALANCE SET. 
!- 
 
!...$PHDDEF	
 
MACRO		PHD$Q_PRIVMSK	= 0,0,0,0%; 		!PRIVILEGE MASK 
LITERAL	PHD$S_PRIVMSK	= 8; 
! 
! WORKING SET LIST POINTERS - THESE CONTAIN LONG WORD OFFSETS FROM THE 
! BEGINNING OF THE PROCESS HEADER. 
! 
MACRO		PHD$W_WSLIST	= 8,0,16,0%; 		!1ST WORKING SET LIST ENTRY 
MACRO		PHD$W_WSAUTH	= 10,0,16,0%; 		!AUTHORIZED WORKING SET SIZE 
MACRO		PHD$W_WSLOCK	= 12,0,16,0%; 		!1ST LOCKED WORKING SET LIST ENTRY 
MACRO		PHD$W_WSDYN	= 14,0,16,0%; 			!1ST DYNAMIC WORKING SET LIST ENTRY 
MACRO		PHD$W_WSNEXT	= 16,0,16,0%; 		!LAST WSL ENTRY REPLACED 
MACRO		PHD$W_WSLAST	= 18,0,16,0%; 		!LAST WSL ENTRY IN LIST 
! 
! ***** MOVE THE FOLLOWING TO THE ACCOUNTING AREA WHEN POSSIBLE 
! 
MACRO		PHD$L_REFERFLT	= 20,0,32,0%; 		!REFERENCE FAULT COUNT 
! 
! THE FOLLOWING TWO WORDS SPECIFY THE MAXIMUM AND INITIAL WORKING SET 
! SIZES FOR THE PROCESS.  RATHER THAN CONTAINING THE COUNT OF PAGES 
! THEY CONTAIN THE LONG WORD INDEX TO WHAT WOULD BE THE LAST WORKING 
! SET LIST ENTRY. 
! 
MACRO		PHD$W_WSQUOTA	= 24,0,16,0%; 		!QUOTA ON WORKING SET SIZE 
MACRO		PHD$W_DFWSCNT	= 26,0,16,0%; 		!DEFAULT WORKING SET SIZE 
MACRO		PHD$L_PAGFIL	= 28,0,32,0%; 		!PAGING FILE INDEX, LONG WORD REF 
MACRO		PHD$B_PAGFIL	= 31,0,8,0%; 		!PAGING FILE INDEX, BYTE REFERENCE 
! 
! PROCESS SECTION TABLE DATA BASE 
!	PSTBASOFF IS THE BYTE OFFSET (INTEGRAL # OF PAGES) FROM THE 
! BEGINNING OF THE PROCESS HEADER TO THE 1ST LONG WORD BEYOND THE 
! PROCESS SECTION TABLE. 
!	THE WORDS, PSTLAST AND PSTFREE ARE SECTION TABLE INDICES WHICH 
! ARE THE NEGATIVE LONG WORD INDEX FROM THE END OF THE SECTION TABLE TO 
! THE SECTION TABLE ENTRY. 
! 
MACRO		PHD$L_PSTBASOFF	= 32,0,32,0%; 		!BYTE OFFSET TO BASE OF PST 
					!FIRST LONG WORD NOT IN PST 
					!PST GROWS BACKWARDS FROM HERE 
MACRO		PHD$W_PST	= 32,0,16,0%; 			!*****TEMP***** 
MACRO		PHD$W_PSTLAST	= 36,0,16,0%; 		!END OF PROCESS SECTION TABLE 
					!ADR OF LAST PSTE ALLOCATED 
MACRO		PHD$W_PSTFREE	= 38,0,16,0%; 		!HEAD OF FREE PSTE LIST 
! 
! CREATE/DELETE PAGE CONTEXT 
! 
MACRO		PHD$L_FREP0VA	= 40,0,32,0%; 		!1ST FREE VIRTUAL ADR AT END OF P0 SPACE 
					!***** MUST BE QUAD WORD AWAY FROM FREP1VA 
MACRO		PHD$L_FREPTECNT	= 44,0,32,0%; 		!CNT OF FREE PTE'S BETWEEN THE ENDS 
					!0F THE P0 AND P1 PAGE TABLES 
MACRO		PHD$L_FREP1VA	= 48,0,32,0%; 		!1ST FREE VIRTUAL ADR AT END OF P1 SPACE 
MACRO		PHD$L_PGFLCNT	= 52,0,32,0%; 		!COUNT OF PAGE FILE PAGES THAT 
					!MAY STILL BE CREATED 
MACRO		PHD$B_DFPFC	= 56,0,8,0%; 			!DEFAULT PAGE FAULT CLUSTER 
MACRO		PHD$B_PGTBPFC	= 57,0,8,0%; 		!PAGE TABLE CLUSTER FACTOR 
MACRO		PHD$W_FLAGS	= 58,0,16,0%; 			!FLAGS WORD 
			 
MACRO		PHD$V_PFMFLG	= 58,0,1,0%; 			!PAGE FAULT MONITORING ENABLED 
LITERAL	PHD$M_PFMFLG	= 1^1 - 1^0; 
MACRO		PHD$V_DALCSTX	= 58,1,1,0%; 			!NEED TO DEALLOCATE SECTION INDICES 
LITERAL	PHD$M_DALCSTX	= 1^2 - 1^1; 
MACRO		PHD$V_WSPEAKCHK	= 58,2,1,0%; 		!CHECK FOR NEW WORKING SET SIZE PEAK 
LITERAL	PHD$M_WSPEAKCHK	= 1^3 - 1^2; 
			
! 
! QUOTAS AND LIMITS 
! 
MACRO		PHD$L_CPUTIM	= 60,0,32,0%; 		!ACCUMULATED CPU TIME CHARGED 
MACRO		PHD$W_QUANT	= 64,0,16,0%; 			!ACCUMULATED CPU TIME SINCE 
					!LAST QUANTUM OVERFLOW 
MACRO		PHD$W_PRCLM	= 66,0,16,0%; 			!SUBPROCESS QUOTA 
MACRO		PHD$W_ASTLM	= 68,0,16,0%; 			!AST LIMIT 
 
MACRO		PHD$W_PHVINDEX	= 70,0,16,0%; 		!PROCESS HEADER VECTOR INDEX 
MACRO		PHD$W_BAK	= 72,0,16,0%; 			!POINTER TO BACKUP ADDRESS VECTOR FOR 
					!PROCESS HEADER PAGES 
MACRO		PHD$W_WSLX	= 74,0,16,0%; 			!POINTER TO WORKING SET LIST INDEX 
					!SAVE AREA 
MACRO		PHD$W_PSTBASMAX	= 74,0,16,0%; 		!LW OFFSET TO TOP PST ADDRESS 
MACRO		PHD$L_PAGEFLTS	= 76,0,32,0%; 		!COUNT OF PAGE FAULTS 
 
! 
! THE NEXT TWO I/O COUNTERS MUST BE ADJACENT 
! 
 
MACRO		PHD$L_DIOCNT	= 80,0,32,0%; 		!DIRECT I/O COUNT 
MACRO		PHD$L_BIOCNT	= 84,0,32,0%; 		!BUFFERED I/O COUNT 
 
MACRO		PHD$L_CPULIM	= 88,0,32,0%; 		!LIMIT ON CPU TIME FOR PROCESS 
MACRO		PHD$L_PGFLQUOTA	= 92,0,32,0%; 		!MAXIMUM VIRTUAL PAGE COUNT 
MACRO		PHD$W_FILLM	= 96,0,16,0%; 			!OPEN FILE LIMIT 
MACRO		PHD$W_TQLM	= 98,0,16,0%; 			!TIMER QUEUE ENTRY LIMIT 
! 
! PAGE TABLE STATISTICS 
! 
MACRO		PHD$L_PTWSLELCK	= 100,0,32,0%; 		! BYTE OFFSET TO BYTE ARRAY OF COUNTS 
					! OF LOCKED WSLE'S IN THIS PAGE TABLE 
MACRO		PHD$L_PTWSLEVAL	= 104,0,32,0%; 		! BYTE OFFSET TO BYTE ARRAY OF COUNTS 
					! OF VALID WSLE'S IN THIS PAGE TABLE 
LITERAL	PHD$C_PHDPAGCTX	= 8; 			! SIZE OF CONTEXT FOR PHD PAGES 
MACRO		PHD$W_PTCNTLCK	= 108,0,16,0%; 		! COUNT OF PAGE TABLES CONTAINING 
					! 1 OR MORE LOCKED WSLE 
MACRO		PHD$W_PTCNTVAL	= 110,0,16,0%; 		! COUNT OF PAGE TABLES CONTAINING 
					! 1 OR MORE VALID WSLE 
MACRO		PHD$W_PTCNTACT	= 112,0,16,0%; 		! COUNT OF ACTIVE PAGE TABLES 
MACRO		PHD$W_PTCNTMAX	= 114,0,16,0%; 		! MAX COUNT OF PAGE TABLES 
					! WHICH HAVE NON-ZERO PTE'S 
MACRO		PHD$W_WSFLUID	= 116,0,16,0%; 		! GUARANTEED NUMBER OF FLUID WS PAGES 
MACRO		PHD$W_EXTDYNWS	= 118,0,16,0%; 		! EXTRA DYNAMIC WORKING SET LIST ENTRIES 
					! ABOVE REQUIRED WSFLUID MINIMUM 
! 
! HARDWARE PCB PORTION OF PROCESS HEADER 
! 
MACRO		PHD$L_PCB	= 120,0,32,0%; 			!HARDWARE PCB 
MACRO		PHD$L_KSP	= 120,0,32,0%; 			!KERNEL STACK POINTER 
MACRO		PHD$L_ESP	= 124,0,32,0%; 			!EXEC STACK POINTER 
MACRO		PHD$L_SSP	= 128,0,32,0%; 			!SUPERVISOR STACK POINTER 
MACRO		PHD$L_USP	= 132,0,32,0%; 			!USER STACK POINTER 
MACRO		PHD$L_R0	= 136,0,32,0%; 			!R0 
MACRO		PHD$L_R1	= 140,0,32,0%; 			!R1 
MACRO		PHD$L_R2	= 144,0,32,0%; 			!R2 
MACRO		PHD$L_R3	= 148,0,32,0%; 			!R3 
MACRO		PHD$L_R4	= 152,0,32,0%; 			!R4 
MACRO		PHD$L_R5	= 156,0,32,0%; 			!R5 
MACRO		PHD$L_R6	= 160,0,32,0%; 			!R6 
MACRO		PHD$L_R7	= 164,0,32,0%; 			!R7 
MACRO		PHD$L_R8	= 168,0,32,0%; 			!R8 
MACRO		PHD$L_R9	= 172,0,32,0%; 			!R9 
MACRO		PHD$L_R10	= 176,0,32,0%; 			!R10 
MACRO		PHD$L_R11	= 180,0,32,0%; 			!R11 
MACRO		PHD$L_R12	= 184,0,32,0%; 			!R12 
MACRO		PHD$L_R13	= 188,0,32,0%; 			!R13 
MACRO		PHD$L_PC	= 192,0,32,0%; 			!PC 
MACRO		PHD$L_PSL	= 196,0,32,0%; 			!PROGRAM STATUS LONGWORD 
MACRO		PHD$L_P0BR	= 200,0,32,0%; 			!P0 BASE REGISTER 
MACRO		PHD$L_P0LRASTL	= 204,0,32,0%; 		!P0LR, ASTLVL 
						! VIELDS IN P0LRASTL 
MACRO		PHD$V_P0LR	= 204,0,24,0%; 			!P0 LENGTH REGISTER 
MACRO		PHD$V_ASTLVL	= 204,24,8,0%; 		! AST LEVEL 
					! END OF VIELDS 
MACRO		PHD$B_ASTLVL	= 207,0,8,0%; 		!AST LEVEL SUBFIELD 
MACRO		PHD$L_P1BR	= 208,0,32,0%; 			!P1 BASE REGISTER 
MACRO		PHD$L_P1LR	= 212,0,32,0%; 			!P1 LENGTH REGISTER 
MACRO		PHD$W_EMPTPG	= 216,0,16,0%; 		!COUNT OF EMPTY WORKING SET PAGES 
! 
! END OF FIXED PORTION OF PROCESS HEADER 
! 
LITERAL	PHD$C_LENGTH	= 280; 
LITERAL	PHD$K_LENGTH	= 280; 				!LENGTH OF FIXED PART OF PROCESS HEADER 
MACRO		PHD$L_WSL	= 280,0,32,0%; 			!FIRST WORKING SET LIST ENTRY 
 

 
!+ 
! PERFORMANCE I/O INFORMATION BLOCK 
!- 
 
!...$PIBDEF	
 
MACRO		PIB$B_TYPE	= 0,0,8,0%; 			!TYPE OF ENTRY 
			 
 
! 
! START OF I/O REQUEST TRANSACTION MESSAGE BLOCK 
! 
 
			 
MACRO		PIB$B_SRQ_PRI	= 1,0,8,0%; 		!BASE PRIORITY OF PROCESS 
MACRO		PIB$L_SRQ_TIME	= 4,0,32,0%; 		!TIME OF I/O TRANSACTION 
MACRO		PIB$L_SRQ_SEQN	= 8,0,32,0%; 		!SEQUENCE NUMBER OF I/O TRANSACTION 
MACRO		PIB$L_SRQ_PID	= 12,0,32,0%; 		!REQUESTER PID 
MACRO		PIB$L_SRQ_UCB	= 16,0,32,0%; 		!ADDRESS OF DEVICE UCB 
MACRO		PIB$W_SRQ_FUNC	= 20,0,16,0%; 		!I/O FUNCTION CODE 
MACRO		PIB$W_SRQ_STS	= 22,0,16,0%; 		!I/O PACKET STATUS 
LITERAL	PIB$C_SRQ_SIZE	= 24; 
LITERAL	PIB$K_SRQ_SIZE	= 24; 			!LENGTH OF START I/O MESSAGE 
 
! 
! START OF I/O TRANSACTION MESSAGE BLOCK 
! 
 
			 
MACRO		PIB$W_SIO_BCNT	= 2,0,16,0%; 		!TRANSFER BYTE COUNT 
MACRO		PIB$L_SIO_TIME	= 4,0,32,0%; 		!TIME OF TRANSACTION 
MACRO		PIB$L_SIO_SEQN	= 8,0,32,0%; 		!SEQUENCE NUMBER OF TRANSACTION 
MACRO		PIB$L_SIO_MEDIA	= 12,0,32,0%; 		!TRANSFER MEDIA ADDRESS 
LITERAL	PIB$C_SIO_SIZE	= 16; 
LITERAL	PIB$K_SIO_SIZE	= 16; 			!LENGTH OF I/O TRANSACTION MESSAGE 
 
! 
! END OF I/O TRANSACTION MESSAGE BLOCK 
! 
 
			 
MACRO		PIB$L_EIO_TIME	= 4,0,32,0%; 		!TIME OF TRANSACTION 
MACRO		PIB$L_EIO_SEQN	= 8,0,32,0%; 		!SEQUENCE NUMBER OF TRANSACTION 
MACRO		PIB$Q_EIO_IOSB	= 12,0,0,0%; 		!FINAL I/O STATUS 
LITERAL	PIB$S_EIO_IOSB	= 8; 
LITERAL	PIB$C_EIO_SIZE	= 20; 
LITERAL	PIB$K_EIO_SIZE	= 20; 			!LENGTH OF END OF I/O TRANSACTION 
 
! 
! END OF I/O REQUEST MESSAGE BLOCK 
! 
 
			 
MACRO		PIB$L_ERQ_TIME	= 4,0,32,0%; 		!TIME OF TRANSACTION 
MACRO		PIB$L_ERQ_SEQN	= 8,0,32,0%; 		!SEQUENCE NUMBER OF TRANSACTION 
LITERAL	PIB$C_ERQ_SIZE	= 12; 
LITERAL	PIB$K_ERQ_SIZE	= 12; 			!LENGTH OF END OF I/O REQUEST TRANSACTION 
 
! 
! I/O MESSAGE BLOCK ENTRY TYPE CODES 
! 
 
LITERAL	PIB$K_SRQ	= 0; 				!START OF I/O REQUEST 
LITERAL	PIB$K_SIO	= 1; 				!START OF I/O TRANSACTION 
LITERAL	PIB$K_EIO	= 2; 				!END OF I/O TRANSACTION 
LITERAL	PIB$K_ERQ	= 3; 				!END OF I/O REQUEST 
 

 
!+ 
! PAGE FAULT MONITOR CONTROL BLOCK 
!- 
 
!...$PMBDEF	
 
MACRO		PMB$L_CURBUF	= 0,0,32,0%; 		!CURRENT BUFFER POINTER 
MACRO		PMB$L_BUFEND	= 4,0,32,0%; 		!CURRENT BUFFER END 
MACRO		PMB$W_SIZE	= 8,0,16,0%; 			!BLOCK SIZE FIELD 
MACRO		PMB$W_MBXCHN	= 10,0,16,0%; 		!SUBPROCESS MAILBOX CHANNEL 
MACRO		PMB$Q_HDR	= 12,0,0,0%; 			!FREE BUFFER QUEUE HEADER 
LITERAL	PMB$S_HDR	= 8; 
MACRO		PMB$Q_SBPHDR	= 20,0,0,0%; 		!SUBRPCESS QUEUE HEADER 
LITERAL	PMB$S_SBPHDR	= 8; 
MACRO		PMB$L_PID	= 28,0,32,0%; 			!SUBPROCESS PID 
MACRO		PMB$B_OVRRUN	= 32,0,8,0%; 		!DATA OVERRUN INDICATOR 
LITERAL	PMB$C_LENGTH	= 33; 
LITERAL	PMB$K_LENGTH	= 33; 				!LENGTH OF PMB 

 
!+ 
! PROCESS QUOTA BLOCK DEFINITION 
!- 
 
!...$PQBDEF	
 
MACRO		PQB$Q_PRVMSK	= 0,0,0,0%; 		!PRIVILEGE MASK 
LITERAL	PQB$S_PRVMSK	= 8; 
MACRO		PQB$W_SIZE	= 8,0,16,0%; 			!SIZE OF PQB IN BYTES 
MACRO		PQB$B_TYPE	= 10,0,8,0%; 			!STRUCTURE TYPE CODE 
MACRO		PQB$B_STS	= 11,0,8,0%; 			!STATUS FLAGS 
MACRO		PQB$T_IMAGE	= 12,0,0,0%; 		!IMAGE NAME FOR NEW PROCESS 
LITERAL	PQB$S_IMAGE	= 64; 
MACRO		PQB$T_ERROR	= 76,0,0,0%; 		!LOGICAL NAME FOR ERROR OUTPUT 
LITERAL	PQB$S_ERROR	= 64; 
MACRO		PQB$T_INPUT	= 140,0,0,0%; 		!LOGICAL NAME FOR INPUT 
LITERAL	PQB$S_INPUT	= 64; 
MACRO		PQB$T_OUTPUT	= 204,0,0,0%; 		!LOGICAL NAME FOR OUTPUT 
LITERAL	PQB$S_OUTPUT	= 64; 
MACRO		PQB$T_DISK	= 268,0,0,0%; 		!LOGICAL NAME FOR SYS$DISK 
LITERAL	PQB$S_DISK	= 64; 
MACRO		PQB$L_ASTLM	= 332,0,32,0%; 			!AST LIMIT 
MACRO		PQB$L_BIOLM	= 336,0,32,0%; 			!BUFFERED I/O LIMIT 
MACRO		PQB$L_BYTLM	= 340,0,32,0%; 			!BUFFERED I/O LIMIT 
MACRO		PQB$L_CPULM	= 344,0,32,0%; 			!CPU TIME LIMIT 
MACRO		PQB$L_DIOLM	= 348,0,32,0%; 			!DIRECT I/O LIMIT 
MACRO		PQB$L_FILLM	= 352,0,32,0%; 			!OPEN FILE LIMIT 
MACRO		PQB$L_PGFLQUOTA	= 356,0,32,0%; 		!PAGING FILE QUOTA 
MACRO		PQB$L_PRCLM	= 360,0,32,0%; 			!SUB-PROCESS LIMIT 
MACRO		PQB$L_TQELM	= 364,0,32,0%; 			!TIMER QUEUE ENTRY LIMIT 
MACRO		PQB$L_WSQUOTA	= 368,0,32,0%; 		!WORKING SET QUOTA 
MACRO		PQB$L_WSDEFAULT	= 372,0,32,0%; 		!WORKING SET DEFAULT 
MACRO		PQB$T_USERNAME	= 376,0,0,0%; 		!USERNAME FOR SUBPROCESS 
LITERAL	PQB$S_USERNAME	= 12; 
MACRO		PQB$T_ACCOUNT	= 388,0,0,0%; 		!ACCOUNT NAME FOR SUBPROCESS 
LITERAL	PQB$S_ACCOUNT	= 8; 
MACRO		PQB$T_DDSTRING	= 396,0,0,0%; 		!DEFAULT DIRECTORY STRING 
LITERAL	PQB$S_DDSTRING	= 32; 
LITERAL	PQB$C_LENGTH	= 428; 
LITERAL	PQB$K_LENGTH	= 428; 				!LENGTH OF PROCESS QUOTA BLOCK 
 

 
 
!+ 
! PRIORITY INCREMENT CLASS DEFINITIONS 
!- 
 
!...$PRIDEF	
 
LITERAL	
$EQULST (PRI$_,GBL,0,1  
	,(NULL,0) 					! NO PRIORITY INCREMENT 
	,(IOCOM,1) 					! DIRECT I/O COMPLETION 
	,(RESAVL,2) 				! RESOURCE AVAIL 
	,(TOCOM,3) 					! TERMINAL OUTPUT COMPLETE 
	,(TICOM,4) 					! TERMINAL INPUT COMPLETE 
	,(TIMER,2) 					! TIMER INTERVAL COMPLETION 
	); 

 
!+ 
! DEFINE PARAMETER DESCRIPTOR BLOCK 
!- 
!...$PRMDEF	
 
MACRO		PRM$L_ADDR	= 0,0,32,0%; 			!ADDRESS OF PARAMETER 
MACRO		PRM$L_DEFAULT	= 4,0,32,0%; 		!DEFAULT VALUE 
MACRO		PRM$L_MIN	= 8,0,32,0%; 			!MINIMUM VALUE (-1)=>NONE 
MACRO		PRM$L_MAX	= 12,0,32,0%; 			!MAXIMUM VALUE (-1)=>NONE 
MACRO		PRM$W_FLAGS	= 16,0,16,0%; 			!TYPE FLAGS 
						! BIT DEFINITIONS 
MACRO		PRM$V_DYNAMIC	= 16,0,1,0%; 		! DYNAMIC PARAMETER 
LITERAL	PRM$M_DYNAMIC	= 1^1 - 1^0; 
MACRO		PRM$V_STATIC	= 16,1,1,0%; 		! STATIC PARAMETER 
LITERAL	PRM$M_STATIC	= 1^2 - 1^1; 
MACRO		PRM$V_SYSGEN	= 16,2,1,0%; 		! SYSGEN PARAMETER 
LITERAL	PRM$M_SYSGEN	= 1^3 - 1^2; 
MACRO		PRM$V_ACP	= 16,3,1,0%; 			! ACP CONTROL PARAMETER 
LITERAL	PRM$M_ACP	= 1^4 - 1^3; 
MACRO		PRM$V_JBC	= 16,4,1,0%; 			! JOB CONTROL PARAMETER 
LITERAL	PRM$M_JBC	= 1^5 - 1^4; 
MACRO		PRM$V_RMS	= 16,5,1,0%; 			! RMS CONTROL PARAMETER 
LITERAL	PRM$M_RMS	= 1^6 - 1^5; 
MACRO		PRM$V_SYS	= 16,6,1,0%; 			! GENERAL SYSTEM PARAMETER 
LITERAL	PRM$M_SYS	= 1^7 - 1^6; 
MACRO		PRM$V_SPECIAL	= 16,7,1,0%; 		! SPECIAL PARAMETER 
LITERAL	PRM$M_SPECIAL	= 1^8 - 1^7; 
MACRO		PRM$V_DISPLAY	= 16,8,1,0%; 		! DISPLAY ONLY (NO CHANGE) 
LITERAL	PRM$M_DISPLAY	= 1^9 - 1^8; 
MACRO		PRM$V_CONTROL	= 16,9,1,0%; 		! CONTROL PARAMETER 
LITERAL	PRM$M_CONTROL	= 1^10 - 1^9; 
MACRO		PRM$V_MAJOR	= 16,10,1,0%; 		! MAJOR PARAMETER 
LITERAL	PRM$M_MAJOR	= 1^11 - 1^10; 
MACRO		PRM$V_PQL	= 16,11,1,0%; 			! PROCESS QUOTA LIST 
LITERAL	PRM$M_PQL	= 1^12 - 1^11; 
MACRO		PRM$V_NEG	= 16,12,1,0%; 			! NEGATIVE 
LITERAL	PRM$M_NEG	= 1^13 - 1^12; 
					! 
MACRO		PRM$B_SIZE	= 18,0,8,0%; 			!SIZE CODE FOR DATUM 
LITERAL	PRM$C_BYTE	= 8; 				! 
LITERAL	PRM$C_WORD	= 16; 				! 
LITERAL	PRM$C_LONG	= 32; 				! 
MACRO		PRM$B_POS	= 19,0,8,0%; 			!BIT POSITION 
MACRO		PRM$T_NAME	= 20,0,0,0%; 		!ASCIC NAME STRING 
LITERAL	PRM$S_NAME	= 16; 
MACRO		PRM$T_UNIT	= 36,0,0,0%; 		!ASCIC UNIT STRING 
LITERAL	PRM$S_UNIT	= 12; 
LITERAL	PRM$C_LENGTH	= 48; 
LITERAL	PRM$K_LENGTH	= 48; 				!SIZE OF DESCRIPTOR BLOCK 
			! 
 
!+ 
! DEFINE PAGE TABLE ENTRY VIELDS AND VALUES 
!- 
!...$PTEDEF	
! 
! VIELD DEFINITION FOR "VALID" PTE'S 
! 
			 
MACRO		PTE$V_PFN	= 0,0,21,0%; 		! PAGE FRAME NUMBER 
LITERAL	PTE$M_PFN	= 1^21 - 1^0; 
							! RESERVED 
MACRO		PTE$V_OWN	= 0,23,2,0%; 		! MODE OF THE OWNER 
LITERAL	PTE$M_OWN	= 1^25 - 1^23; 
							! RESERVED 
MACRO		PTE$V_MODIFY	= 0,26,1,0%; 		! MODIFY BIT 
LITERAL	PTE$M_MODIFY	= 1^27 - 1^26; 
MACRO		PTE$V_PROT	= 0,27,4,0%; 		! PROTECTION 
LITERAL	PTE$M_PROT	= 1^31 - 1^27; 
MACRO		PTE$V_VALID	= 0,31,1,0%; 		! VALID BIT 
LITERAL	PTE$M_VALID	= 1^32 - 1^31; 
			
! 
! VIELD DEFINITIONS FOR VARIOUS INVALID FORMS OF PTE 
! 
							! SECTION TABLE INDEX FORM 
MACRO		PTE$V_STX	= 0,0,16,0%; 			! SECTION TABLE INDEX 
MACRO		PTE$V_CRF	= 0,16,1,0%; 			! COPY ON REFERENCE 
LITERAL	PTE$M_CRF	= 1^17 - 1^16; 
MACRO		PTE$V_DZRO	= 0,17,1,0%; 		! DEMAND ZERO 
LITERAL	PTE$M_DZRO	= 1^18 - 1^17; 
MACRO		PTE$V_WRT	= 0,18,1,0%; 			! SECTION FILE IS ACCESSED FOR WRITING 
LITERAL	PTE$M_WRT	= 1^19 - 1^18; 
							! SPARE 
MACRO		PTE$V_TYP0	= 0,22,1,0%; 		! LOW ORDER BIT OF PTE TYPE 
LITERAL	PTE$M_TYP0	= 1^23 - 1^22; 
							! OWNER FIELD 
							! RESERVED 
MACRO		PTE$V_TYP1	= 0,26,1,0%; 		! HIGH ORDER BIT OF PTE TYPE 
LITERAL	PTE$M_TYP1	= 1^27 - 1^26; 
					! OVERLAYS MODIFY BIT 
			
						! PAGING FILE POINTER 
MACRO		PTE$V_PGFLVB	= 0,0,22,0%; 		! PAGE FILE VBN 
LITERAL	PTE$M_PGFLVB	= 1^22 - 1^0; 
			
 
						! GLOBAL PAGE TABLE POINTER 
MACRO		PTE$V_GPTX	= 0,0,22,0%; 		! GLOBAL PAGE TABLE INDEX 
LITERAL	PTE$M_GPTX	= 1^22 - 1^0; 
			
!+ 
! PROTECTION FIELD DEFINITIONS 
!- 
LITERAL	
$EQULST (PTE$C_,GBL,0,1  
	,(NA,(%B'0000'^$BITPOSITION(PTE$V_PROT))) 	 !  NO ACCESS 
	,(KR,(%B'0011'^$BITPOSITION(PTE$V_PROT))) 	 !  KERNEL READ ONLY 
	,(KW,(%B'0010'^$BITPOSITION(PTE$V_PROT))) 	 !  KERNEL WRITE 
	,(ER,(%B'0111'^$BITPOSITION(PTE$V_PROT))) 	 !  EXEC READ ONLY 
	,(EW,(%B'0101'^$BITPOSITION(PTE$V_PROT))) 	 !  EXEC WRITE 
	,(SR,(%B'1011'^$BITPOSITION(PTE$V_PROT))) 	 !  SUPER READ ONLY 
	,(SW,(%B'1000'^$BITPOSITION(PTE$V_PROT))) 	 !  SUPER WRITE 
	,(UR,(%B'1111'^$BITPOSITION(PTE$V_PROT))) 	 !  USER READ ONLY 
	,(UW,(%B'0100'^$BITPOSITION(PTE$V_PROT))) 	 !  USER WRITE 
	); 
LITERAL	
$EQULST (PTE$C_,GBL,0,1  
	,(ERKW,(%B'0110'^$BITPOSITION(PTE$V_PROT))) 	  	! EXEC READ KERNEL WRITE 
	,(SRKW,(%B'1010'^$BITPOSITION(PTE$V_PROT))) 	  	! SUPER READ KERNEL WRITE 
	,(SREW,(%B'1001'^$BITPOSITION(PTE$V_PROT))) 	  	! SUPER READ EXEC WRITE 
	,(URKW,(%B'1110'^$BITPOSITION(PTE$V_PROT))) 	  	! USER READ KERNEL WRITE 
	,(UREW,(%B'1101'^$BITPOSITION(PTE$V_PROT))) 	  	! USER READ EXEC WRITE 
	,(URSW,(%B'1100'^$BITPOSITION(PTE$V_PROT))) 	  	! USER READ SUPER WRITE 
	); 
!+ 
! OWNER FIELD DEFINITIONS 
!_ 
LITERAL	
$EQULST (PTE$C_,GBL,0,1  
	,(KOWN,(0^$BITPOSITION(PTE$V_OWN))) 		! KERNEL OWNER 
	,(EOWN,(1^$BITPOSITION(PTE$V_OWN))) 		! EXEC OWNER 
	,(SOWN,(2^$BITPOSITION(PTE$V_OWN))) 		! SUPER OWNER 
	,(UOWN,(3^$BITPOSITION(PTE$V_OWN))) 	 ! USER OWNER 
	); 

 
 
!+ 
! POINTER CONTROL BLOCK 
!	THIS IS A STRUCTURE OF POINTERS TO OTHER DYNAMIC STRUCTURES 
!	OF LIKE KIND.  TYPICALLY THE STRUCTURES POINTED TO ARE KNOWN 
!	BY THEIR LONG WORD INDEX INTO THE TABLE AND TO FACILITATE FETCHING 
!	THESE, IT IS CONVENTIONAL TO KEEP A POINTER TO THE BASE OF THE 
!	STRUCTURE POINTERS RATHER THAN (OR IN ADDITION TO) THE POINTER 
!	TO THE FRONT OF THE POINTER CONTROL BLOCK.  THE NUMBER OF POINTERS 
!	IN THE ARRAY PRECEEDS THE FIRST POINTER IN THE ARRAY. 
!- 
 
!...$PTRDEF	
 
MACRO		PTR$W_SIZE	= 8,0,16,0%; 			!SIZE OF DYNAMIC CONTROL BLOCK 
MACRO		PTR$B_TYPE	= 10,0,8,0%; 			!TYPE OF DYNAMIC CONTROL BLOCK 
MACRO		PTR$B_PTRTYPE	= 11,0,8,0%; 		!TYPE OF CONTROL BLOCK POINTED TO 
MACRO		PTR$L_PTRCNT	= 12,0,32,0%; 		!COUNT OF ENTRIES 
MACRO		PTR$L_PTR0	= 16,0,32,0%; 			!PTR NUMBER 0 
 

 
!+ 
! RESTART PARAMETER BLOCK DEFINITIONS 
!- 
!...$RPBDEF	
MACRO		RPB$L_BASE	= 0,0,32,0%; 			!PHYSICAL BASE ADDRESS OF 64K BLOCK 
MACRO		RPB$L_RESTART	= 4,0,32,0%; 		!POINTER TO RESTART ROUTINE (PHYSICAL) 
MACRO		RPB$L_CHKSUM	= 8,0,32,0%; 		!CHECKSUM OF BYTES 0-7F OF RESTART ROUTINE 
MACRO		RPB$L_RSTRTFLG	= 12,0,32,0%; 		!RESTART IN PROGRESS FLAG 
MACRO		RPB$L_HALTPC	= 16,0,32,0%; 		!PC AT RESTART/HALT 
MACRO		RPB$L_HALTPSL	= 20,0,32,0%; 		!PSL AT RESTART/HALT 
MACRO		RPB$L_HALTCODE	= 24,0,32,0%; 		!CODE DESCRIBING RESTART REASON 
MACRO		RPB$L_BOOTR0	= 28,0,32,0%; 		!SAVED BOOT PARAMETER R0 
MACRO		RPB$L_BOOTR1	= 32,0,32,0%; 		!SAVED BOOT PARAMETER R1 
MACRO		RPB$L_BOOTR2	= 36,0,32,0%; 		!SAVED BOTT PARAMETER R2 
MACRO		RPB$L_BOOTR3	= 40,0,32,0%; 		!SAVED BOOT PARAMETER R3 
MACRO		RPB$L_BOOTR4	= 44,0,32,0%; 		!SAVED BOOT PARAMETER R4 
MACRO		RPB$L_BOOTR5	= 48,0,32,0%; 		!SAVED BOOT PARAMETER R5 
						!DEFINE BOOT OPTION BITS 
MACRO		RPB$V_CONV	= 48,0,1,0%; 			! CONVERSATIONAL BOOTSTRAP 
MACRO		RPB$V_DEBUG	= 48,1,1,0%; 			! KEEP DEBUGGER CODE 
MACRO		RPB$V_INIBPT	= 48,2,1,0%; 			! INITIAL BREAKPOINT 
MACRO		RPB$V_BBLOCK	= 48,3,1,0%; 			! TRANSFER TO BOOTBLOCK 
MACRO		RPB$V_DIAG	= 48,4,1,0%; 			! BOOT DIAGNOSTIC FILE 
MACRO		RPB$V_BOOBPT	= 48,5,1,0%; 			! BOOTSTRAP BREAKPOINT 
MACRO		RPB$V_HEADER	= 48,6,1,0%; 			! USE START ADDRESS FROM IMAGE HEADER 
MACRO		RPB$V_NOTEST	= 48,7,1,0%; 			! FLAG TO INHIBIT MEMORY TESTING 
MACRO		RPB$V_SOLICT	= 48,8,1,0%; 			! SOLICIT BOOT FILE NAME 
MACRO		RPB$V_HALT	= 48,9,1,0%; 			! HALT BEFORE TRANSFER 
MACRO		RPB$V_NOPFND	= 48,10,1,0%; 			! INHIBIT PFN DELETION 
					! 
MACRO		RPB$L_IOVEC	= 52,0,32,0%; 			!ADDRESS OF BOOTSTRAP QIO VECTOR 
MACRO		RPB$L_IOVECSZ	= 56,0,32,0%; 		!SIZE OF BOOT QIO ROUTINE 
MACRO		RPB$L_FILLBN	= 60,0,32,0%; 		!LOGICAL BLOCK NUMBER OF BOOT FILE 
MACRO		RPB$L_FILSIZ	= 64,0,32,0%; 		!SIZE OF BOOT FILE 
MACRO		RPB$Q_PFNMAP	= 68,0,0,0%; 		!DESCRIPTOR FOR PFN BITMAP 
LITERAL	RPB$S_PFNMAP	= 8; 
MACRO		RPB$L_PFNCNT	= 76,0,32,0%; 		!COUNT OF PHYSICAL PAGES 
MACRO		RPB$L_SVASPT	= 80,0,32,0%; 		!SYSTEM VIRTUAL ADDRESS OF SPT 
MACRO		RPB$L_CSRPHY	= 84,0,32,0%; 		!UBA DEVICE CSR ADDRESS (PHYSICAL) 
MACRO		RPB$L_CSRVIR	= 88,0,32,0%; 		!UBA DEVICE CSR ADDRESS (VIRTUAL) 
MACRO		RPB$L_ADPPHY	= 92,0,32,0%; 		!ADAPTER CONFIGURATION REGISTER (PHYSICAL) 
MACRO		RPB$L_ADPVIR	= 96,0,32,0%; 		!ADAPTER CONFIGURATION REGISTER (VIRTUAL) 
MACRO		RPB$W_UNIT	= 100,0,16,0%; 			!UNIT NUMBER 
MACRO		RPB$B_DEVTYP	= 102,0,8,0%; 		!DEVICE TYPE CODE 
MACRO		RPB$B_SLAVE	= 103,0,8,0%; 			!SLAVE UNIT NUMBER 
MACRO		RPB$T_FILE	= 104,0,0,0%; 		!BOOT FILE NAME (ASCIC) 
LITERAL	RPB$S_FILE	= 40; 
MACRO		RPB$B_CONFREG	= 144,0,0,0%; 		!ARRAY OF ADAPTER TYPES 
LITERAL	RPB$S_CONFREG	= 16; 
MACRO		RPB$B_HDRPGCNT	= 160,0,8,0%; 		!COUNT OF HEADER PAGES 
MACRO		RPB$L_ISP	= 164,0,32,0%; 			!PWR FAIL INTERRUPT STACK POINTER 
MACRO		RPB$L_PCBB	= 168,0,32,0%; 			!PROCESS CONTROL BLOCK BASE 
MACRO		RPB$L_SBR	= 172,0,32,0%; 			!SYSTEM BASE REGISTER 
MACRO		RPB$L_SCBB	= 176,0,32,0%; 			!SYSTEM CONTROL BLOCK BASE 
MACRO		RPB$L_SISR	= 180,0,32,0%; 			!SOFTWARE INTERRUPT SUMMARY REGISTER 
MACRO		RPB$L_SLR	= 184,0,32,0%; 			!SYSTEM LENGTH REGISTER 
LITERAL	RPB$C_LENGTH	= 188; 
LITERAL	RPB$K_LENGTH	= 188; 				!LENGTH OF RPB 

 
!+ 
! RESOURCE NAME DEFINITIONS 
!- 
!...$RSNDEF	
 
LITERAL	
$EQULST (RSN$_,GBL,1,1 		!0 ORIGIN IN INCREMENTS OF 1 
	,(ASTWAIT,) 	 		!WAIT FOR AST EVENT, CHANNEL INTERLOCK 
	,(MAILBOX,) 				!MAILBOX SPACE 
	,(NPDYNMEM,) 	  		!NON-PAGED DYNAMIC MEMORY 
	,(PGFILE,) 				!PAGING FILE SPACE 
	,(PGDYNMEM,) 			!PAGED DYNAMIC MEMORY 
	,(BRKTHRU,) 				!TERMINAL BROADCAST 
	,(IACLOCK,) 				!IMAGE ACTIVATION INTERLOCK 
	); 

 
!+ 
! RVT - RELATIVE VOLUME TABLE 
! 
! A RELATIVE VOLUME MAPPING TABLE IS REQUIRED FOR EVERY MULTIVOLUME 
! STRUCTURE THAT IS MOUNTED IN A SYSTEM. 
!- 
 
!...$RVTDEF	
 
MACRO		RVT$W_SIZE	= 8,0,16,0%; 			!SIZE OF RVT IN BYTES 
MACRO		RVT$B_TYPE	= 10,0,8,0%; 			!STRUCTURE TYPE OF RVT 
MACRO		RVT$B_NVOLS	= 11,0,8,0%; 			!NUMBER OF VOLUMES IN SET 
MACRO		RVT$L_UCBLST	= 12,0,32,0%; 		!ADDRESSES OF THE RESPECTIVE UCB'S 
LITERAL	RVT$C_LENGTH	= 16; 
LITERAL	RVT$K_LENGTH	= 16; 				!LENGTH OF STANDARD RVT 
 

 
 
!+ 
! SWAP FILE TABLE 
!- 
 
!...$SFTDEF	
! 
! ***** L_VBN, L_WINDOW, AND B_PFC MUST BE THE SAME OFFSET VALUES AS THE 
! ***** EQUIVALENTLY NAMED OFFSETS IN $SECDEF 
! 
 
MACRO		SFT$B_SLTCNT	= 0,0,8,0%; 		! COUNT OF AVAILABLE SLOT COUNTS 
MACRO		SFT$B_IOSZ	= 1,0,8,0%; 			! MAXIMUM NUMBER OF PAGES FOR I/O OPS 
MACRO		SFT$W_SLOTSZ	= 2,0,16,0%; 		! SIZE OF SLOT IN BLOCKS 
MACRO		SFT$W_SIZE	= 8,0,16,0%; 			! SIZE OF DYNAMIC STRUCTURE 
MACRO		SFT$B_TYPE	= 10,0,8,0%; 			! TYPE OF DYNAMIC STRUCTURE 
MACRO		SFT$B_PFC	= 11,0,8,0%; 			! PAGE FAULT CLUSTER 
MACRO		SFT$L_WINDOW	= 12,0,32,0%; 		! POINTER TO WINDOW CONTROL BLOCK 
MACRO		SFT$L_VBN	= 16,0,32,0%; 			! BASE VBN 
MACRO		SFT$L_BITMAP	= 20,0,0,0%; 		! ALLOCATION BITMAP 
LITERAL	SFT$S_BITMAP	= 8; 
LITERAL	SFT$C_LENGTH	= 32; 
LITERAL	SFT$K_LENGTH	= 32; 				! SIZE OF SFT ENTRY 
 

 
 
!+ 
! SYSGEN PARAMETER DEFINITIONS 
!- 
 
!...$SGNDEF	
 
LITERAL	
$EQULST (SGN$C_,GBL,0,1 			! 
	,(BALSETCNT,24) 			! NUMBER OF PROCESSES IN BALANCE SET 
	,(DFWSCNT,100) 			! DEFAULT WORKING SET COUNT 
	,(DFWSQUOTA,120) 			! DEFAULT WORKING SET QUOTA 
	,(GBLSECCNT,40) 			! GLOBAL SECTION COUNT 
	,(MAXGPGCNT,2*1024) 		! GLOBAL PAGE COUNT (GPT SIZE) 
	,(MAXPAGCNT,128*32*4) 		! PHYSICAL MEMORY SIZE IN PAGES 
	,(MAXPGFL,4096) 			! DEFAULT MAXIMUM PAGING FILE 
	,(MAXPSTCNT,5) 			! MAX NUMBER OF PST ENTRIES 
	,(MAXVPGCNT,8*8*128) 		! MAX PROCESS VIRTUAL SIZE (PAGES) 
	,(MAXWSCNT,1024) 			! MAX WORKING SET SIZE (PAGES) 
	,(MINWSCNT,10) 			! MIN WORKING SET SIZE (PAGES) 
	,(NPAGEDYN,52*512) 			! NON-PAGED DYNAMIC POOL SIZE 
	,(NPROCS,64) 			! MAX NUMBER OF PROCESSES 
	,(PAGEDYN,2*16*512) 		! PAGED DYNAMIC POOL SIZE IN BYTES 
	,(PHYPAGCNT,32*128) 		! ACTUAL PHYSICAL PAGE COUNT 
	,(SFTMAX,3) 			! SWAP FILE TABLE ENTRIES 
	,(SYSDWSCNT,40) 			! DEFAULT SYSTEM WORKING SET COUNT 
	,(SYSVECPGS,3) 			! NO. OF PAGES OF SYSTEM SERVICE VECTORS 
	,(SYSWSCNT,96) 			! SYSTEM WORKING SET COUNT 
	); 

 
!+ 
! SCHEDULING STATES 
!- 
 
!...$STATEDEF	
 
LITERAL	
$EQULST (SCH$C_,GBL,1,1 		! DEFINITIONS START AT 1 
	,(COLPG,) 	  			!COLLIDED PAGE WAIT 
	,(MWAIT,) 	  			!MUTEX AND MISCELLANEOUS RESOURCE WAIT 
	,(CEF,) 	  			!COMMON EVENT FLAG WAIT STATE 
	,(PFW,) 	  			!PAGE FAULT WAIT 
	,(LEF,) 	  			!LOCAL EVENT FLAG WAIT 
	,(LEFO,) 	  			!LOCAL EVENT FLAG WAIT OUT OF BALANCE SET 
	,(HIB,) 	  			!HIBERNATE WAIT 
	,(HIBO,) 	  			!HIBERNATE WAIT OUT OF BALANCE SET 
	,(SUSP,) 	  			!SUSPENDED 
	,(SUSPO,) 				!SUSPENDED OUT OF THE BALANCE SET 
	,(FPG,) 	  			!FREEPAGE WAIT 
	,(COM,) 	  			!COMPUTE, IN BALANCE SET STATE 
	,(COMO,) 	  			!COMPUTE, OUT OF BALANCE SET STATE 
	,(CUR,) 	  			!CURRENT PROCESS STATE 
	); 

 
!+ 
! TQE - TIME QUEUE ENTRY 
! 
! TIME QUEUE ENTRIES ARE UTILIZED TO SET TIMERS, WAKE UP PROCESSES, AND 
! FOR INTERNAL SYSTEM SUBROUTINES. 
!- 
 
!...$TQEDEF	
 
MACRO		TQE$L_TQFL	= 0,0,32,0%; 			!TIME QUEUE FORWARD LINK 
MACRO		TQE$L_TQBL	= 4,0,32,0%; 			!TIME QUEUE BACKWARD LINK 
MACRO		TQE$W_SIZE	= 8,0,16,0%; 			!SIZE OF TQE IN BYTES 
MACRO		TQE$B_TYPE	= 10,0,8,0%; 			!STRUCTURE TYPE FOR TQE 
MACRO		TQE$B_RQTYPE	= 11,0,8,0%; 		!TIME QUEUE ENTRY TYPE 
						! TQE$B_RQTYPE BIT DEFINITIONS 
							! STARTING OFFSET 
MACRO		TQE$V_REPEAT	= 11,2,1,0%; 		! REPEAT REQUEST (1=YES) 
LITERAL	TQE$M_REPEAT	= 1^3 - 1^2; 
					! END OF BIT DEFINITIONS 
MACRO		TQE$L_PID	= 12,0,32,0%; 			!TIMER OR WAKE REQUEST PROCESS ID 
MACRO		TQE$L_FPC	= 12,0,32,0%; 			!TIMER SUBROUTINE ADDRESS 
MACRO		TQE$L_AST	= 16,0,32,0%; 			!ADDRESS OF AST ROUTINE 
MACRO		TQE$L_FR3	= 16,0,32,0%; 			!TIMER SUBROUTINE SAVED R3 
MACRO		TQE$L_ASTPRM	= 20,0,32,0%; 		!AST PARAMETER 
MACRO		TQE$L_FR4	= 20,0,32,0%; 			!TIMER SUBROUTINE SAVED R4 
MACRO		TQE$Q_TIME	= 24,0,0,0%; 			!ABSOLUTE EXPIRATION TIME 
LITERAL	TQE$S_TIME	= 8; 
MACRO		TQE$Q_DELTA	= 32,0,0,0%; 			!DELTA REPEAT TIME 
LITERAL	TQE$S_DELTA	= 8; 
MACRO		TQE$B_RMOD	= 40,0,8,0%; 			!ACCESS MODE OF REQUEST 
MACRO		TQE$B_EFN	= 41,0,8,0%; 			!EVENT FLAG NUMBER AND EVENT GROUP 
MACRO		TQE$L_RQPID	= 44,0,32,0%; 			!REQUESTER PROCESS ID 
LITERAL	TQE$C_LENGTH	= 48; 
LITERAL	TQE$K_LENGTH	= 48; 				!LENGTH OF STANDARD TQE 
 
! 
! TIME QUEUE ENTRY REQUEST TYPE DEFINITIONS 
! 
 
LITERAL	TQE$C_TMSNGL	= 0; 			!TIMER ENTRY SINGLE SHOT REQUEST 
LITERAL	TQE$C_SSREPT	= 1+TQE$M_REPEAT; 		!SYSTEM SUBROUTINE REPEAT REQUEST 
LITERAL	TQE$C_SSSNGL	= 1; 			!SYSTEM SUBROUTINE SINGLE SHOT REQUEST 
LITERAL	TQE$C_WKREPT	= 2+TQE$M_REPEAT; 		!WAKE ENTRY REPEAT REQUEST 
LITERAL	TQE$C_WKSNGL	= 2; 			!WAKE ENTRY SINGLE SHOT REQUEST 
 

 
 
!++ 
! TERMINAL DRIVER SYMBOLS 
!-- 
!...$TRMDEF			! 
							! 
MACRO		TRM$V_XON	= 0,0,1,0%;  
LITERAL	TRM$M_XON	= 1^1 - 1^0; 
MACRO		TRM$V_XOFF	= 0,1,1,0%;  
LITERAL	TRM$M_XOFF	= 1^2 - 1^1; 
MACRO		TRM$V_CTRLS	= 0,2,1,0%;  
LITERAL	TRM$M_CTRLS	= 1^3 - 1^2; 
MACRO		TRM$V_FILL	= 0,3,1,0%;  
LITERAL	TRM$M_FILL	= 1^4 - 1^3; 
MACRO		TRM$V_CURSOROV	= 0,4,1,0%;  
LITERAL	TRM$M_CURSOROV	= 1^5 - 1^4; 
MACRO		TRM$V_SENDLF	= 0,5,1,0%;  
LITERAL	TRM$M_SENDLF	= 1^6 - 1^5; 
MACRO		TRM$V_MULTIECHO	= 0,6,1,0%;  
LITERAL	TRM$M_MULTIECHO	= 1^7 - 1^6; 
MACRO		TRM$V_BRKTHRU	= 0,7,1,0%;  
LITERAL	TRM$M_BRKTHRU	= 1^8 - 1^7; 
MACRO		TRM$V_WRITE	= 0,8,1,0%;  
LITERAL	TRM$M_WRITE	= 1^9 - 1^8; 
MACRO		TRM$V_EOL	= 0,9,1,0%;  
LITERAL	TRM$M_EOL	= 1^10 - 1^9; 
MACRO		TRM$V_CTRLR	= 0,10,1,0%;  
LITERAL	TRM$M_CTRLR	= 1^11 - 1^10; 
MACRO		TRM$V_READ	= 0,11,1,0%;  
LITERAL	TRM$M_READ	= 1^12 - 1^11; 
MACRO		TRM$V_CTRLO	= 0,12,1,0%;  
LITERAL	TRM$M_CTRLO	= 1^13 - 1^12; 
MACRO		TRM$V_DELETE	= 0,13,1,0%;  
LITERAL	TRM$M_DELETE	= 1^14 - 1^13; 
			
			 
MACRO		TRM$V_A	= 0,0,13,0%;  
LITERAL	TRM$M_A	= 1^13 - 1^0; 
MACRO		TRM$V_WRITEALL	= 0,13,1,0%;  
LITERAL	TRM$M_WRITEALL	= 1^14 - 1^13; 
MACRO		TRM$V_PASSALL	= 0,14,1,0%;  
LITERAL	TRM$M_PASSALL	= 1^15 - 1^14; 
MACRO		TRM$V_NOECHO	= 0,15,1,0%;  
LITERAL	TRM$M_NOECHO	= 1^16 - 1^15; 
MACRO		TRM$V_TIMED	= 0,16,1,0%;  
LITERAL	TRM$M_TIMED	= 1^17 - 1^16; 
MACRO		TRM$V_PROMPT	= 0,17,1,0%;  
LITERAL	TRM$M_PROMPT	= 1^18 - 1^17; 
MACRO		TRM$V_NOFILTER	= 0,18,1,0%;  
LITERAL	TRM$M_NOFILTER	= 1^19 - 1^18; 
MACRO		TRM$V_MBDSABL	= 0,19,1,0%;  
LITERAL	TRM$M_MBDSABL	= 1^20 - 1^19; 
MACRO		TRM$V_NOTIFIED	= 0,20,1,0%;  
LITERAL	TRM$M_NOTIFIED	= 1^21 - 1^20; 
MACRO		TRM$V_ESCAPE	= 0,21,1,0%;  
LITERAL	TRM$M_ESCAPE	= 1^22 - 1^21; 
MACRO		TRM$V_BADESCAPE	= 0,22,1,0%;  
LITERAL	TRM$M_BADESCAPE	= 1^23 - 1^22; 
MACRO		TRM$V_ATNEWLINE	= 0,23,1,0%;  
LITERAL	TRM$M_ATNEWLINE	= 1^24 - 1^23; 
MACRO		TRM$V_TYPAHDFUL	= 0,24,1,0%;  
LITERAL	TRM$M_TYPAHDFUL	= 1^25 - 1^24; 
			
LITERAL	
$EQULST (TRMC$_,GBL,0,1 	 
	,(CTRLC,3) 		 
	,(BELL,7) 		 
	,(BS,8) 		 
	,(TAB,9) 		 
	,(LF,10) 		 
	,(VT,11) 		 
	,(FF,12) 		 
	,(CR,13) 		 
	,(CTRLO,15) 	 
	,(CTRLQ,17) 	 
	,(XON,17) 		 
	,(CTRLR,18) 	 
	,(CTRLS,19) 	 
	,(XOFF,19) 		 
	,(CTRLU,21) 	 
	,(CTRLX,24) 	 
	,(CTRLY,25) 	 
	,(CTRLZ,26) 	 
	,(ESCAPE,27) 	 
	,(BLANK,32) 	 
	,(DOLLAR,36) 	 
	,(PLUS,43) 		 
	,(ZERO,48) 		 
	,(ONE,49) 		 
	,(SCRIPT,96) 	 
	,(LOWA,97) 		 
	,(LOWZ,123) 	 
	,(DELETE,127) 	 
	,(NL,128) 		 
	); 
LITERAL	
$EQULST (TRM$C_,GBL,0,1  
	,(TYPEAHEAD,72) 	 
	,(HIGHIPL,22) 	 
	); 
			 
MACRO		TRM$V_FILLCNT	= 0,0,1,0%;  
					 
MACRO		TRM$V_INTERFACE	= 0,4,1,0%;  
			
			 
					 
MACRO		TRM$V_SPECIAL	= 0,4,1,0%;  
LITERAL	TRM$M_SPECIAL	= 1^5 - 1^4; 
MACRO		TRM$V_CTRLSEQ	= 0,5,1,0%;  
LITERAL	TRM$M_CTRLSEQ	= 1^6 - 1^5; 
MACRO		TRM$V_LOWER	= 0,6,1,0%;  
LITERAL	TRM$M_LOWER	= 1^7 - 1^6; 
MACRO		TRM$V_CTRL2SEQ	= 0,7,1,0%;  
LITERAL	TRM$M_CTRL2SEQ	= 1^8 - 1^7; 
			

 
!++ 
! TERMINAL DRIVER SYMBOLS 
!-- 
!...$TTYDEF			! 
						! 
MACRO		TTY$L_RB_NXT	= 0,0,32,0%; 		! READ BUFFER - NEXT CHARACTER 
MACRO		TTY$L_RB_UVA	= 4,0,32,0%; 		! READ BUFFER - USER VIRTUAL ADDR 
MACRO		TTY$W_RB_SIZE	= 8,0,16,0%; 		! READ BUFFER - BLOCK SIZE 
MACRO		TTY$W_RB_ORGHOR	= 12,0,16,0%; 		! READ BUFFER - ORIGIONAL HORIZON 
MACRO		TTY$W_RB_TIMOS	= 14,0,16,0%; 		! READ BUFFER - TIMEOUT SECONDS 
MACRO		TTY$L_RB_DATA	= 16,0,32,0%; 			! READ BUFFER  - DATA 
			 
MACRO		TTY$L_WB_NXT	= 0,0,32,0%; 		! WRITE BUFFER - NEXT CHARACTER 
MACRO		TTY$L_WB_END	= 4,0,32,0%; 		! WRITE BUFFER - END CHARACTER 
MACRO		TTY$W_WB_SIZE	= 8,0,16,0%; 		! WRITE BUFFER - SIZE 
MACRO		TTY$L_WB_DATA	= 12,0,32,0%; 		! WRITE BUFFER - DATA 
			 
MACRO		TTY$L_TA_PUT	= 0,0,32,0%; 		! TYPEAHEAD BUFFER - PUT POINTER 
MACRO		TTY$L_TA_GET	= 4,0,32,0%; 		! TYPEAHEAD BUFFER - GET POINTER 
MACRO		TTY$W_TA_SIZE	= 8,0,16,0%; 		! TYPEAHEAD BUFFER - BLOCK SIZE 
MACRO		TTY$B_TA_TYPE	= 10,0,8,0%; 		! 
MACRO		TTY$L_TA_END	= 12,0,32,0%; 		! TYPEAHEAD BUFFER - END ADDRESS 
MACRO		TTY$L_TA_DATA	= 16,0,32,0%; 		! TYPEAHEAD BUFFER - DATA START 
			 
MACRO		TTY$Q_BD_LINK	= 0,0,0,0%; 		! BROADCAST MESSAGE BLOCK - LINK 
LITERAL	TTY$S_BD_LINK	= 8; 
MACRO		TTY$W_BD_SIZE	= 8,0,16,0%; 		! BROADCAST MESSAGE BLOCK - SIZE 
MACRO		TTY$B_BD_TYPE	= 10,0,8,0%; 		! BROADCAST MESSAGE BLOCK - TYPE 
MACRO		TTY$L_BD_FORK	= 12,0,32,0%; 		! BROADCAST MESSAGE BLOCK - FORK BLOCK 
MACRO		TTY$L_BD_UCB	= 16,0,32,0%; 		! BROADCAST MESSAGE BLOCK - TARGET UCB 
MACRO		TTY$B_BD_WHO	= 20,0,8,0%; 		! BROADCAST MESSAGE BLOCK - TARGET DESC 
MACRO		TTY$B_BD_CNT	= 21,0,8,0%; 		! BROADCAST MESSAGE BLOCK - MESSAGE SIZE 
MACRO		TTY$B_BD_REFC	= 22,0,8,0%; 		! BROADCAST MESSAGE BLOCK - REF COUNT 
MACRO		TTY$B_BD_IPL	= 23,0,8,0%; 		! BROADCAST MESSAGE BLOCK - FORK IPL 
MACRO		TTY$L_BD_DATA	= 24,0,0,0%; 		! BROADCAST MESSAGE BLOCK - DATA 
LITERAL	TTY$S_BD_DATA	= 16; 
MACRO		TTY$L_BD_MIN	= 40,0,32,0%; 		! MINIMUM MESSAGE 
							! 
MACRO		TTY$V_ST_XON	= 40,0,1,0%;  
LITERAL	TTY$M_ST_XON	= 1^1 - 1^0; 
MACRO		TTY$V_ST_XOFF	= 40,1,1,0%;  
LITERAL	TTY$M_ST_XOFF	= 1^2 - 1^1; 
MACRO		TTY$V_ST_CTRLS	= 40,2,1,0%;  
LITERAL	TTY$M_ST_CTRLS	= 1^3 - 1^2; 
MACRO		TTY$V_ST_FILL	= 40,3,1,0%;  
LITERAL	TTY$M_ST_FILL	= 1^4 - 1^3; 
MACRO		TTY$V_ST_CURSOR	= 40,4,1,0%;  
LITERAL	TTY$M_ST_CURSOR	= 1^5 - 1^4; 
MACRO		TTY$V_ST_SENDLF	= 40,5,1,0%;  
LITERAL	TTY$M_ST_SENDLF	= 1^6 - 1^5; 
MACRO		TTY$V_ST_MULTI	= 40,6,1,0%;  
LITERAL	TTY$M_ST_MULTI	= 1^7 - 1^6; 
MACRO		TTY$V_ST_BRDCST	= 40,7,1,0%;  
LITERAL	TTY$M_ST_BRDCST	= 1^8 - 1^7; 
MACRO		TTY$V_ST_WRITE	= 40,8,1,0%;  
LITERAL	TTY$M_ST_WRITE	= 1^9 - 1^8; 
MACRO		TTY$V_ST_EOL	= 40,9,1,0%;  
LITERAL	TTY$M_ST_EOL	= 1^10 - 1^9; 
MACRO		TTY$V_ST_CTRLR	= 40,10,1,0%;  
LITERAL	TTY$M_ST_CTRLR	= 1^11 - 1^10; 
MACRO		TTY$V_ST_READ	= 40,11,1,0%;  
LITERAL	TTY$M_ST_READ	= 1^12 - 1^11; 
MACRO		TTY$V_ST_CTRLO	= 40,12,1,0%;  
LITERAL	TTY$M_ST_CTRLO	= 1^13 - 1^12; 
MACRO		TTY$V_ST_DEL	= 40,13,1,0%;  
LITERAL	TTY$M_ST_DEL	= 1^14 - 1^13; 
			
			 
MACRO		TTY$V_A	= 40,0,14,0%;  
LITERAL	TTY$M_A	= 1^14 - 1^0; 
MACRO		TTY$V_ST_PASALL	= 40,14,1,0%;  
LITERAL	TTY$M_ST_PASALL	= 1^15 - 1^14; 
MACRO		TTY$V_ST_NOECHO	= 40,15,1,0%;  
LITERAL	TTY$M_ST_NOECHO	= 1^16 - 1^15; 
MACRO		TTY$V_ST_WRTALL	= 40,16,1,0%;  
LITERAL	TTY$M_ST_WRTALL	= 1^17 - 1^16; 
MACRO		TTY$V_ST_PROMPT	= 40,17,1,0%;  
LITERAL	TTY$M_ST_PROMPT	= 1^18 - 1^17; 
MACRO		TTY$V_ST_NOFLTR	= 40,18,1,0%;  
LITERAL	TTY$M_ST_NOFLTR	= 1^19 - 1^18; 
MACRO		TTY$V_ST_ESC	= 40,19,1,0%;  
LITERAL	TTY$M_ST_ESC	= 1^20 - 1^19; 
MACRO		TTY$V_ST_BADESC	= 40,20,1,0%;  
LITERAL	TTY$M_ST_BADESC	= 1^21 - 1^20; 
MACRO		TTY$V_ST_NL	= 40,21,1,0%;  
LITERAL	TTY$M_ST_NL	= 1^22 - 1^21; 
MACRO		TTY$V_ST_TYPFUL	= 40,22,1,0%;  
LITERAL	TTY$M_ST_TYPFUL	= 1^23 - 1^22; 
MACRO		TTY$V_ST_SKIPLF	= 40,23,1,0%;  
LITERAL	TTY$M_ST_SKIPLF	= 1^24 - 1^23; 
MACRO		TTY$V_ST_GETAHD	= 40,24,1,0%;  
LITERAL	TTY$M_ST_GETAHD	= 1^25 - 1^24; 
MACRO		TTY$V_ST_UNSOL	= 40,25,1,0%;  
LITERAL	TTY$M_ST_UNSOL	= 1^26 - 1^25; 
MACRO		TTY$V_ST_ESC_O	= 40,26,1,0%;  
LITERAL	TTY$M_ST_ESC_O	= 1^27 - 1^26; 
			
LITERAL	
$EQULST (TTY$C_,GBL,0,1  
	,(CTRLC,3) 		 
	,(BELL,7) 		 
	,(BS,8) 		 
	,(TAB,9) 		 
	,(LF,10) 		 
	,(VT,11) 		 
	,(FF,12) 		 
	,(CR,13) 		 
	,(CTRLO,15) 	 
	,(CTRLQ,17) 	 
	,(XON,17) 		 
	,(CTRLR,18) 	 
	,(CTRLS,19) 	 
	,(XOFF,19) 		 
	,(CTRLU,21) 	 
	,(CTRLX,24) 	 
	,(CTRLY,25) 	 
	,(CTRLZ,26) 	 
	,(ESCAPE,27) 	 
	,(BLANK,32) 	 
	,(DOLLAR,36) 	 
	,(PLUS,43) 		 
	,(ZERO,48) 		 
	,(ONE,49) 		 
	,(SCRIPT,96) 	 
	,(LOWA,97) 		 
	,(LOWZ,123) 	 
	,(DELETE,127) 	 
	,(NL,128) 		 
	); 
LITERAL	
$EQULST (TTY$C_,GBL,0,1  
	,(TYPAHDSIZ,78) 	 
	,(HIGHIPL,22) 	 
	); 
LITERAL	
$EQULST (TTY$C_,GBL,0,1 				! DIALUP STATES 
	,(DS_IDLE,0) 	 
	,(DS_ACTIVE,1) 	 
	,(DS_ATTN1,2) 	 
	,(DS_ATTN3,9) 	 
	,(DS_HANG,10) 	 
	,(DS_RESET,11) 	 
	); 
LITERAL	
$EQULST (TTY$C_,GBL,0,1 				! INTERNAL FUNCTION CODES 
	,(FC_READ,) 	 
	,(FC_WRITE,) 	 
	,(FC_SETM,) 	 
	,(FC_SETC,) 	 
	,(FC_N_SET,) 	 
	); 
							! CHARACTER CHARACTERISTICS 
					 
MACRO		TTY$V_CH_SPEC	= 40,4,1,0%;  
LITERAL	TTY$M_CH_SPEC	= 1^5 - 1^4; 
MACRO		TTY$V_CH_CTRL	= 40,5,1,0%;  
LITERAL	TTY$M_CH_CTRL	= 1^6 - 1^5; 
MACRO		TTY$V_CH_LOWER	= 40,6,1,0%;  
LITERAL	TTY$M_CH_LOWER	= 1^7 - 1^6; 
MACRO		TTY$V_CH_CTRL2	= 40,7,1,0%;  
LITERAL	TTY$M_CH_CTRL2	= 1^8 - 1^7; 
			

 
!++ 
! USER AUTHORIZATION FILE FORMAT 
!-- 
 
!...$UAFDEF	
MACRO		UAF$T_USERNAME	= 0,0,0,0%; 		! USERNAME 
LITERAL	UAF$S_USERNAME	= 12; 
MACRO		UAF$L_PWD	= 12,0,32,0%; 			! HASHED PASSWORD 
MACRO		UAF$T_ACCOUNT	= 16,0,0,0%; 		! ACCOUNT NAME 
LITERAL	UAF$S_ACCOUNT	= 8; 
MACRO		UAF$L_UIC	= 24,0,32,0%; 			! USER ID CODE 
MACRO		UAF$W_MEM	= 24,0,16,0%; 			! MEMBER SUBFIELD 
MACRO		UAF$W_GRP	= 26,0,16,0%; 			! GROUP SUBFIELD 
MACRO		UAF$T_DEFDIR	= 28,0,0,0%; 		! DEFAULT DIRECTORY 
LITERAL	UAF$S_DEFDIR	= 32; 
MACRO		UAF$T_DEFDEV	= 60,0,0,0%; 		! DEFAULT DEVICE 
LITERAL	UAF$S_DEFDEV	= 16; 
MACRO		UAF$T_DEFCLI	= 76,0,0,0%; 		! DEFAULT COMMAND INTERPRETER 
LITERAL	UAF$S_DEFCLI	= 8; 
MACRO		UAF$L_CPUTIM	= 84,0,32,0%; 		! CPU TIME QUOTA 
MACRO		UAF$Q_PRIV	= 88,0,0,0%; 			! PROCESS PRIVILEGE VECTOR 
LITERAL	UAF$S_PRIV	= 8; 
MACRO		UAF$W_BIOLM	= 96,0,16,0%; 			! BUFFERED I/O LIMIT 
MACRO		UAF$W_BYTLM	= 98,0,16,0%; 			! BUFFERED I/O BYTE COUNT LIMIT 
MACRO		UAF$W_DIOLM	= 100,0,16,0%; 			! DIRECT I/O LIMIT 
MACRO		UAF$W_FILLM	= 102,0,16,0%; 			! OPEN FILE LIMIT 
MACRO		UAF$W_TQCNT	= 104,0,16,0%; 			! TIMER QUEUE ENTRY LIMIT 
MACRO		UAF$W_PRCCNT	= 106,0,16,0%; 		! SUBPROCESS CREATION LIMIT 
MACRO		UAF$W_WSQUOTA	= 108,0,16,0%; 		! WORKING SET SIZE LIMIT 
MACRO		UAF$W_DFWSCNT	= 110,0,16,0%; 		! DEFAULT WORKING SET SIZE 
MACRO		UAF$W_ASTLM	= 112,0,16,0%; 			! AST QUEUE LIMIT 
MACRO		UAF$W_PGFLQUOTA	= 114,0,16,0%; 		! PAGE FILE QUOTA 
MACRO		UAF$T_OWNER	= 116,0,0,0%; 		! OWNER'S NAME 
LITERAL	UAF$S_OWNER	= 20; 
MACRO		UAF$W_FILPRT	= 136,0,16,0%; 		! DEFAULT FILE PROTECTION 
MACRO		UAF$B_PRI	= 138,0,8,0%; 			! BASE PROCESS PRIORITY 
MACRO		UAF$B_FLAGS	= 139,0,8,0%; 			! USER FLAGS BYTE 
						!  BIT DEFINITIONS 
MACRO		UAF$V_DISCTLY	= 139,0,1,0%; 			! DON'T ALLOW USER CONTROL-Y 
MACRO		UAF$V_DEFCLI	= 139,1,1,0%; 			! ONLY ALLOW USER DEFAULT CLI 
			
MACRO		UAF$L_LEVEL	= 140,0,32,0%; 			! FOR RECORD AND FILE LEVEL INFO 
MACRO		UAF$T_LGICMD	= 144,0,0,0%; 		! ALTERNATE LOGIN COMMAND FILE NAME 
LITERAL	UAF$S_LGICMD	= 20; 
LITERAL	UAF$C_LENGTH	= 184; 
LITERAL	UAF$K_LENGTH	= 184; 	 

 
!+ 
! UNIBUS ADAPTER REGISTER OFFSET DEFINITIONS 
!- 
 
!...$UBADEF	
 
MACRO		UBA$L_CSR	= 0,0,32,0%; 			!CONFIGURATION STATUS REGISTER 
						! CONFIGURATION STATUS REGISTER FIELD DEFINITIONS 
MACRO		UBA$V_CSR_ADCOD	= 0,0,8,0%; 		! ADAPTER CODE FIELD 
							! RESERVED BITS 
MACRO		UBA$V_CSR_UBIC	= 0,16,1,0%; 		! UNIBUS INITIALIZATION COMPLETE 
LITERAL	UBA$M_CSR_UBIC	= 1^17 - 1^16; 
MACRO		UBA$V_CSR_UBPDN	= 0,17,1,0%; 		! UNIBUS POWER DOWN 
LITERAL	UBA$M_CSR_UBPDN	= 1^18 - 1^17; 
MACRO		UBA$V_CSR_UBIIP	= 0,18,1,0%; 		! UNIBUS INITIALIZATION IN PROGRESS 
LITERAL	UBA$M_CSR_UBIIP	= 1^19 - 1^18; 
							! RESERVED BITS 
MACRO		UBA$V_CSR_OT	= 0,21,1,0%; 		! OVER TEMPERATURE 
LITERAL	UBA$M_CSR_OT	= 1^22 - 1^21; 
MACRO		UBA$V_CSR_PU	= 0,22,1,0%; 		! ADAPTER POWER UP 
LITERAL	UBA$M_CSR_PU	= 1^23 - 1^22; 
MACRO		UBA$V_CSR_PD	= 0,23,1,0%; 		! ADAPTER POWER DOWN 
LITERAL	UBA$M_CSR_PD	= 1^24 - 1^23; 
							! RESERVED BITS 
MACRO		UBA$V_CSR_XMFLT	= 0,26,1,0%; 		! TRANSMITTER FAULT 
LITERAL	UBA$M_CSR_XMFLT	= 1^27 - 1^26; 
MACRO		UBA$V_CSR_MT	= 0,27,1,0%; 		! MULTIPLE TRANSMITTERS 
LITERAL	UBA$M_CSR_MT	= 1^28 - 1^27; 
MACRO		UBA$V_CSR_IS	= 0,28,1,0%; 		! INTERLOCK SEQUENCE FAULT 
LITERAL	UBA$M_CSR_IS	= 1^29 - 1^28; 
MACRO		UBA$V_CSR_URD	= 0,29,1,0%; 		! UNEXPECTED READ DATA 
LITERAL	UBA$M_CSR_URD	= 1^30 - 1^29; 
MACRO		UBA$V_CSR_WS	= 0,30,1,0%; 		! WRITE SEQUENCE DATA 
LITERAL	UBA$M_CSR_WS	= 1^31 - 1^30; 
MACRO		UBA$V_CSR_PE	= 0,31,1,0%; 		! SBI PARITY ERROR 
LITERAL	UBA$M_CSR_PE	= 1^32 - 1^31; 
					! 
MACRO		UBA$L_CR	= 4,0,32,0%; 			!CONTROL REGISTER 
						! CONTROL REGISTER FIELD DEFINITIONS 
MACRO		UBA$V_CR_INIT	= 4,0,1,0%; 		! ADAPTER INITIALIZATION 
LITERAL	UBA$M_CR_INIT	= 1^1 - 1^0; 
MACRO		UBA$V_CR_UBPF	= 4,1,1,0%; 		! UNIBUS POWER FAIL 
LITERAL	UBA$M_CR_UBPF	= 1^2 - 1^1; 
MACRO		UBA$V_CR_CNFIE	= 4,2,1,0%; 		! CONFIGURATION INTERRUPT ENABLE 
LITERAL	UBA$M_CR_CNFIE	= 1^3 - 1^2; 
MACRO		UBA$V_CR_SUEFIE	= 4,3,1,0%; 		! SBI TO UNIBUS ERROR FIELD INTERRUPT ENABLE 
LITERAL	UBA$M_CR_SUEFIE	= 1^4 - 1^3; 
MACRO		UBA$V_CR_USEFIE	= 4,4,1,0%; 		! UNIBUS TO SBI ERROR FIELD INTERRUPT ENABLE 
LITERAL	UBA$M_CR_USEFIE	= 1^5 - 1^4; 
MACRO		UBA$V_CR_BRIE	= 4,5,1,0%; 		! BUS REQUEST INTERRUPT ENABLE 
LITERAL	UBA$M_CR_BRIE	= 1^6 - 1^5; 
MACRO		UBA$V_CR_IFSIE	= 4,6,1,0%; 		! INTERRUPT FIELD SWITCH INTERRUPT ENABLE 
LITERAL	UBA$M_CR_IFSIE	= 1^7 - 1^6; 
MACRO		UBA$V_CR_ARLVL	= 4,7,2,0%; 		! ADAPTER REQUEST LEVEL 
LITERAL	UBA$M_CR_ARLVL	= 1^9 - 1^7; 
							! RESERVED BITS 
MACRO		UBA$V_CR_MRDSB	= 4,26,5,0%; 		! MAP REGISTER DISABLE 
					! 
MACRO		UBA$L_SR	= 8,0,32,0%; 			!STATUS REGISTER 
						! STATUS REGISTER FIELD DEFINITIONS 
MACRO		UBA$V_SR_SSYNC	= 8,0,1,0%; 		! UNIBUS SLAVE SYNC TIMEOUT 
LITERAL	UBA$M_SR_SSYNC	= 1^1 - 1^0; 
MACRO		UBA$V_SR_UBSTO	= 8,1,1,0%; 		! UNIBUS SELECT TIMEOUT 
LITERAL	UBA$M_SR_UBSTO	= 1^2 - 1^1; 
MACRO		UBA$V_SR_LER	= 8,2,1,0%; 		! LOST ERROR 
LITERAL	UBA$M_SR_LER	= 1^3 - 1^2; 
MACRO		UBA$V_SR_MRPE	= 8,3,1,0%; 		! MAP REGISTER PARITY ERROR 
LITERAL	UBA$M_SR_MRPE	= 1^4 - 1^3; 
MACRO		UBA$V_SR_IVMR	= 8,4,1,0%; 		! INVALID MAP REGISTER 
LITERAL	UBA$M_SR_IVMR	= 1^5 - 1^4; 
MACRO		UBA$V_SR_DPPE	= 8,5,1,0%; 		! DATAPATH PARITY ERROR 
LITERAL	UBA$M_SR_DPPE	= 1^6 - 1^5; 
MACRO		UBA$V_SR_CXTMO	= 8,6,1,0%; 		! COMMAND TRANSMISSION TIMEOUT 
LITERAL	UBA$M_SR_CXTMO	= 1^7 - 1^6; 
MACRO		UBA$V_SR_CXTER	= 8,7,1,0%; 		! COMMAND TRANSMISSION ERROR 
LITERAL	UBA$M_SR_CXTER	= 1^8 - 1^7; 
MACRO		UBA$V_SR_CRD	= 8,8,1,0%; 		! CORRECTED READ DATA 
LITERAL	UBA$M_SR_CRD	= 1^9 - 1^8; 
MACRO		UBA$V_SR_RDS	= 8,9,1,0%; 		! READ DATA SUBSTITUTE 
LITERAL	UBA$M_SR_RDS	= 1^10 - 1^9; 
MACRO		UBA$V_SR_RDTO	= 8,10,1,0%; 		! READ DATA TIMEOUT 
LITERAL	UBA$M_SR_RDTO	= 1^11 - 1^10; 
MACRO		UBA$V_SR_BRID	= 8,11,1,0%; 		! BUS REQUEST INTERRUPT DONE 
LITERAL	UBA$M_SR_BRID	= 1^12 - 1^11; 
							! RESERVED BITS 
MACRO		UBA$V_SR_BRRVF	= 8,24,4,0%; 		! BUS REQUEST RECEIVE VECTOR FULL 
MACRO		UBA$V_SR_BRSVF	= 8,28,1,0%; 		! BUS REQUEST SEND VECTOR FULL 
LITERAL	UBA$M_SR_BRSVF	= 1^29 - 1^28; 
MACRO		UBA$V_SR_RIE	= 8,29,1,0%; 		! REQUEST INTERRUPT ENABLED 
LITERAL	UBA$M_SR_RIE	= 1^30 - 1^29; 
MACRO		UBA$V_SR_UBIFS	= 8,30,1,0%; 		! UNIBUS INTERRUPT FIELD SWITCH 
LITERAL	UBA$M_SR_UBIFS	= 1^31 - 1^30; 
					! 
MACRO		UBA$L_DCR	= 12,0,32,0%; 			!DIAGNOSTIC CONTROL REGISTER 
MACRO		UBA$L_FMER	= 16,0,32,0%; 			!FAILED MAP ENTRY REGISTER 
						! FAILED MAP ENTRY REGISTER FIELD DEFINITIONS 
MACRO		UBA$V_FMER_MRN	= 16,0,9,0%; 		! FAILED MAP REGISTER NUMBER 
					! 
MACRO		UBA$L_FUBAR	= 20,0,32,0%; 			!FAILED UNIBUS ADDRESS REGISTER 
						! FAILED UNIBUS ADDRESS REGISTER FIELD DEFINITIONS 
MACRO		UBA$V_FUBAR_ADR	= 20,0,18,0%; 		! FAILED SBI TO UNIBUS ADDRESS 
					! 
MACRO		UBA$L_BRSVR	= 32,0,0,0%; 		!BUS REQUEST SEND VECTOR REGISTERS 
LITERAL	UBA$S_BRSVR	= 16; 
MACRO		UBA$L_BRRVR	= 48,0,0,0%; 		!BUS REQUEST RECEIVE VECTOR REGISTER 
LITERAL	UBA$S_BRRVR	= 16; 
						! BUS REQUEST RECEIVE VECTOR REGISTER FIELD DEFINITIONS 
MACRO		UBA$V_BRRVR_IVA	= 48,0,16,0%; 		! INTERRUPT VECTOR ADDRESS 
							! RESERVED BITS 
MACRO		UBA$V_BRRVR_AIR	= 48,31,1,0%; 		! ADAPTER INTERRUPT REQUEST PENDING 
LITERAL	UBA$M_BRRVR_AIR	= 1^32 - 1^31; 
					! 
MACRO		UBA$L_DPR	= 64,0,0,0%; 		!DATAPATH REGISTERS 
LITERAL	UBA$S_DPR	= 64; 
						! DATAPATH REGISTER FIELD DEFINITIONS 
MACRO		UBA$V_DPR_ADDR	= 64,0,16,0%; 		! BUFFERED UNIBUS ADDRESS 
MACRO		UBA$V_DPR_STATE	= 64,16,8,0%; 		! BUFFER STATE FLAGS 
							! RESERVED BITS 
MACRO		UBA$V_DPR_DPF	= 64,29,1,0%; 		! DATAPATH FUNCTION 
LITERAL	UBA$M_DPR_DPF	= 1^30 - 1^29; 
MACRO		UBA$V_DPR_XMTER	= 64,30,1,0%; 		! BUFFER TRANSFER ERROR 
LITERAL	UBA$M_DPR_XMTER	= 1^31 - 1^30; 
MACRO		UBA$V_DPR_BNE	= 64,31,1,0%; 		! BUFFER NOT EMPTY 
LITERAL	UBA$M_DPR_BNE	= 1^32 - 1^31; 
					! 
MACRO		UBA$L_MAP	= 2048,0,0,0%; 		!MAP REGISTERS 
LITERAL	UBA$S_MAP	= 1984; 
						! MAP REGISTER FIELD DEFINITIONS 
MACRO		UBA$V_MAP_ADDR	= 2048,0,21,0%; 		! SBI PAGE ADDRESS 
MACRO		UBA$V_MAP_DPD	= 2048,21,4,0%; 		! DATAPATH DESIGNATOR 
MACRO		UBA$V_MAP_BO	= 2048,25,1,0%; 		! BYTE OFFSET 
LITERAL	UBA$M_MAP_BO	= 1^26 - 1^25; 
							! RESERVED BITS 
MACRO		UBA$V_MAP_VALID	= 2048,31,1,0%; 		! MAP REGISTER VALID 
LITERAL	UBA$M_MAP_VALID	= 1^32 - 1^31; 
					! 
 

 
!+ 
! UCB - UNIT CONTROL BLOCK 
! 
! THERE IS ONE UCB FOR EACH DEVICE UNIT IN A SYSTEM. 
!- 
 
!...$UCBDEF	
 
						!MARK 0 POSITION 
MACRO		UCB$L_FQFL	= 0,0,32,0%; 			!FORK QUEUE FORWARD LINK 
MACRO		UCB$L_RQFL	= 0,0,32,0%; 			!NET RCV QUEUE FORWARD LINK 
MACRO		UCB$L_FQBL	= 4,0,32,0%; 			!FORK QUEUE BACKWARD LINK 
MACRO		UCB$L_RQBL	= 4,0,32,0%; 			!NET RCV QUEUE BACKWARD LINK 
MACRO		UCB$W_SIZE	= 8,0,16,0%; 			!SIZE OF UCB IN BYTES 
MACRO		UCB$B_TYPE	= 10,0,8,0%; 			!STRUCTURE TYPE FOR UCB 
MACRO		UCB$B_FIPL	= 11,0,8,0%; 			!FORK INTERRUPT PRIORITY LEVEL 
MACRO		UCB$L_ASTQFL	= 12,0,32,0%; 		!MAILBOX AST QUEUE LISTHEAD FORWARD LINK 
MACRO		UCB$L_FPC	= 12,0,32,0%; 			!FORK PC 
MACRO		UCB$T_PARTNER	= 12,0,8,0%; 		! NETWORK - PARTNER'S NODENAME 
MACRO		UCB$L_ASTQBL	= 16,0,32,0%; 		!MAILBOX AST QUEUE LISTHEAD BACKWARD LINK 
MACRO		UCB$L_FR3	= 16,0,32,0%; 			!FORK R3 
MACRO		UCB$L_FR4	= 20,0,32,0%; 			!FORK R4 
MACRO		UCB$L_FIRST	= 20,0,32,0%; 		! ADDR OF 1ST SEG OF CHAINED NET MSG 
MACRO		UCB$W_MSGMAX	= 20,0,16,0%; 		!MAILBOX MAXIMUM MESSAGES ALLOWED 
MACRO		UCB$W_MSGCNT	= 22,0,16,0%; 		!MAILBOX CURRENT NUMBER OF MESSAGES 
MACRO		UCB$W_BUFQUO	= 24,0,16,0%; 		!MAILBOX BUFFERED I/O QUOTA 
MACRO		UCB$W_DSTADDR	= 24,0,16,0%; 		! NETWORK - REMOTE CONNECT NO. 
MACRO		UCB$W_VPROT	= 26,0,16,0%; 			!VOLUME PROTECTION 
MACRO		UCB$W_SRCADDR	= 26,0,16,0%; 		! NETWORK - LOCAL CONNECT NO. 
MACRO		UCB$L_OWNUIC	= 28,0,32,0%; 		!VOLUME OWNER UIC 
MACRO		UCB$L_CRB	= 32,0,32,0%; 			!ADDRESS OF PRIMARY CHANNEL REQUEST BLOCK 
MACRO		UCB$L_DDB	= 36,0,32,0%; 			!BACKPOINTER TO DEVICE DATA BLOCK 
MACRO		UCB$L_PID	= 40,0,32,0%; 			!PROCESS ID OF OWNER PROCESS 
MACRO		UCB$L_LINK	= 44,0,32,0%; 			!ADDRESS OF NEXT UCB FOR RESPECTIVE DDB 
MACRO		UCB$L_VCB	= 48,0,32,0%; 			!ADDRESS OF VOLUME CONTROL BLOCK 
MACRO		UCB$L_DEVCHAR	= 52,0,32,0%; 		!DEVICE CHARACTERISTIC BITS 
MACRO		UCB$B_DEVCLASS	= 56,0,8,0%; 		!DEVICE CLASS 
MACRO		UCB$B_DEVTYPE	= 57,0,8,0%; 		!DEVICE TYPE 
MACRO		UCB$W_DEVBUFSIZ	= 58,0,16,0%; 		!DEVICE DEFAULT BUFFER SIZE 
MACRO		UCB$L_DEVDEPEND	= 60,0,32,0%; 		!DEVICE DEPENDENT DATA 
MACRO		UCB$L_TTCHAR	= 60,0,32,0%; 		!TERMINAL CHARACTERISTICS 
MACRO		UCB$B_SECTORS	= 60,0,8,0%; 		!DISK - SECTORS PER TRACK 
MACRO		UCB$B_LOCSRV	= 60,0,8,0%; 		! NETWORK - LOCAL LINK SERVICES 
MACRO		UCB$B_REMSRV	= 61,0,8,0%; 		! NETWORK - REMOTE LINK SERVICES 
MACRO		UCB$B_TRACKS	= 61,0,8,0%; 		!DISK - TRACKS PER CYLINDER 
MACRO		UCB$W_CYLINDERS	= 62,0,16,0%; 		!DISK - TOTAL CYLINDERS 
MACRO		UCB$W_BYTESTOGO	= 62,0,16,0%; 		! NETWORK - NO. OF BYTES LEFT IN RCV BFR 
MACRO		UCB$B_VERTSZ	= 63,0,8,0%; 		!VERTICAL PAGE SIZE 
MACRO		UCB$L_IOQFL	= 64,0,32,0%; 			!I/O QUEUE LISTHEAD FORWARD LINK 
MACRO		UCB$L_IOQBL	= 68,0,32,0%; 			!I/O QUEUE LISTHEAD BACKWARD LINK 
MACRO		UCB$W_UNIT	= 72,0,16,0%; 			!PHYSICAL DEVICE UNIT NUMBER 
MACRO		UCB$W_CHARGE	= 74,0,16,0%; 		!MAILBOX BYTE COUNT QUOTA CHARGE 
MACRO		UCB$B_CM1	= 74,0,8,0%; 			!LEVEL 1 CONTROLLER ALLOCATION MASK 
MACRO		UCB$B_CM2	= 75,0,8,0%; 			!LEVEL 2 CONTROLLER ALLOCATION MASK 
MACRO		UCB$B_ESCAPE	= 75,0,8,0%; 		!CURRENT ESCAPE SYNTAX RULE - TERMINAL 
MACRO		UCB$L_IRP	= 76,0,32,0%; 			!CURRENT I/O REQUEST PACKET ADDRESS 
MACRO		UCB$W_REFC	= 80,0,16,0%; 			!REFERENCE COUNT OF PROCESSES 
MACRO		UCB$B_DIPL	= 82,0,8,0%; 			!DEVICE INTERRUPT PRIORITY LEVEL 
MACRO		UCB$B_STATE	= 82,0,8,0%; 		! LINK STATE FOR NETWORK TRANSITIONS 
MACRO		UCB$B_AMOD	= 83,0,8,0%; 			!ALLOCATION ACCESS MODE 
MACRO		UCB$L_AMB	= 84,0,32,0%; 			!ASSOCIATED UNIT CONTROL BLOCK POINTER 
MACRO		UCB$W_STS	= 88,0,16,0%; 			!DEVICE UNIT STATUS 
						! UCB$W_STS BIT DEFINITIONS 
MACRO		UCB$V_TIM	= 88,0,1,0%; 			! TIME OUT ENABLED (1=YES) 
LITERAL	UCB$M_TIM	= 1^1 - 1^0; 
MACRO		UCB$V_INT	= 88,1,1,0%; 			! INTERRUPT EXPECTED (1=YES) 
LITERAL	UCB$M_INT	= 1^2 - 1^1; 
MACRO		UCB$V_ERLOGIP	= 88,2,1,0%; 		! ERROR LOG IN PROGRESS ON UNIT (1=YES) 
LITERAL	UCB$M_ERLOGIP	= 1^3 - 1^2; 
MACRO		UCB$V_CANCEL	= 88,3,1,0%; 		! CANCEL I/O ON UNIT (1=YES) 
LITERAL	UCB$M_CANCEL	= 1^4 - 1^3; 
MACRO		UCB$V_ONLINE	= 88,4,1,0%; 		! UNIT ONLINE (1=YES) 
LITERAL	UCB$M_ONLINE	= 1^5 - 1^4; 
MACRO		UCB$V_POWER	= 88,5,1,0%; 		! POWER FAILED WHILE UNIT BUSY (1=YES) 
LITERAL	UCB$M_POWER	= 1^6 - 1^5; 
MACRO		UCB$V_TIMOUT	= 88,6,1,0%; 		! UNIT TIMED OUT (1=YES) 
LITERAL	UCB$M_TIMOUT	= 1^7 - 1^6; 
MACRO		UCB$V_INTTYPE	= 88,7,1,0%; 		! RECEIVER INTERRUPT IF SET 
LITERAL	UCB$M_INTTYPE	= 1^8 - 1^7; 
MACRO		UCB$V_BSY	= 88,8,1,0%; 			! UNIT IS BUSY (1=YES) 
LITERAL	UCB$M_BSY	= 1^9 - 1^8; 
MACRO		UCB$V_MOUNTING	= 88,9,1,0%; 		! DEVICE IS BEING MOUNTED 
LITERAL	UCB$M_MOUNTING	= 1^10 - 1^9; 
MACRO		UCB$V_DEADMO	= 88,10,1,0%; 		! DEALLOCATE AT DISMOUNT 
LITERAL	UCB$M_DEADMO	= 1^11 - 1^10; 
MACRO		UCB$V_VALID	= 88,11,1,0%; 		! VOLUME IS SOFTWARE VALID 
LITERAL	UCB$M_VALID	= 1^12 - 1^11; 
MACRO		UCB$V_UNLOAD	= 88,12,1,0%; 		! UNLOAD VOLUME AT DISMOUNT 
LITERAL	UCB$M_UNLOAD	= 1^13 - 1^12; 
					! END OF BIT DEFINITIONS 
MACRO		UCB$W_DEVSTS	= 90,0,16,0%; 		! DEVICE DEPENDENT STATUS 
MACRO		UCB$L_CPID	= 92,0,32,0%; 			!MAILBOX CREATOR PROCESS ID 
MACRO		UCB$L_DUETIM	= 92,0,32,0%; 		!DUE TIME FOR I/O COMPLETION 
MACRO		UCB$L_OPCNT	= 96,0,32,0%; 			!COUNT OF OPERATIONS COMPLETED 
MACRO		UCB$L_LOGADR	= 100,0,32,0%; 		!MAILBOX LOGICAL NAME BLOCK ADDRESS 
MACRO		UCB$L_SVPN	= 100,0,32,0%; 			!SYSTEM VIRTUAL PAGE/MAP REGISTER NUMBER 
MACRO		UCB$L_SVAPTE	= 104,0,32,0%; 		!SYSTEM VIRTUAL ADDRESS OF PTE 
MACRO		UCB$W_BOFF	= 108,0,16,0%; 			!BYTE OFFSET IN FIRST PAGE 
MACRO		UCB$W_BCNT	= 110,0,16,0%; 			!BYTE COUNT OF TRANSFER 
MACRO		UCB$B_ERTCNT	= 112,0,8,0%; 		!ERROR LOG DEVICE CURRENT ERROR RETRY COUNT 
MACRO		UCB$B_ERTMAX	= 113,0,8,0%; 		!ERROR LOG DEVICE MAXIMUM ERROR RETRY COUNT 
MACRO		UCB$W_ERRCNT	= 114,0,16,0%; 		!DEVICE ERROR COUNT 
LITERAL	UCB$C_LENGTH	= 116; 
LITERAL	UCB$K_LENGTH	= 116; 				!LENGTH OF STANDARD UCB 
						!MARK END OF STANDARD UCB 
 
! 
! DEVICE DEPENDENT UCB EXTENSIONS 
! 
! MAILBOX 
! 
 
			 
						! UCB$W_DEVSTS BITS FOR MAILBOXES AND NETWORKS 
MACRO		UCB$V_PRMMBX	= 0,0,1,0%; 		! PERMANENT MAILBOX 
LITERAL	UCB$M_PRMMBX	= 1^1 - 1^0; 
MACRO		UCB$V_DELMBX	= 0,1,1,0%; 		! MAILBOX MARKED FOR DELETE 
LITERAL	UCB$M_DELMBX	= 1^2 - 1^1; 
MACRO		UCB$V_NT_BFROVF	= 0,2,1,0%; 		! TOO MANY BYTES RCVD 
LITERAL	UCB$M_NT_BFROVF	= 1^3 - 1^2; 
							! UNUSED 
MACRO		UCB$V_NT_NAME	= 0,4,1,0%; 		! LINK HAS DECLARED A CONNECT NAME 
LITERAL	UCB$M_NT_NAME	= 1^5 - 1^4; 
MACRO		UCB$V_NT_BREAK	= 0,5,1,0%; 		! LINK IS BEING BROKEN 
LITERAL	UCB$M_NT_BREAK	= 1^6 - 1^5; 
			
MACRO		UCB$W_MB_SEED	= -4,0,16,0%; 		!UNIT NUMBER SEED 
 
! 
! ERROR LOG DEVICES (ALL) 
! 
 
						! 
MACRO		UCB$B_SLAVE	= 116,0,8,0%; 			!SLAVE CONTROLLER NUMBER 
MACRO		UCB$B_SPR	= 117,0,8,0%; 			!SPARE UNUSED BYTE 
MACRO		UCB$B_FEX	= 118,0,8,0%; 			!FUNCTION DISPATCH TABLE INDEX 
MACRO		UCB$B_CEX	= 119,0,8,0%; 			!CASE TABLE FUNCTION EXECUTION INDEX 
MACRO		UCB$L_EMB	= 120,0,32,0%; 			!ADDRESS OF ERROR MESSAGE BUFFER 
MACRO		UCB$W_FUNC	= 126,0,16,0%; 			!I/O FUNCTION MODIFIERS 
MACRO		UCB$L_DPC	= 128,0,32,0%; 			!SAVED DRIVER SUBROUTINE RETURN ADDRESS 
						!MARK END OF ERROR LOG DEVICE PROLOGUE 
 
! 
! DISK (ALL) 
! 
 
						! 
						!UCB$W_DEVSTS BITS FOR DISKS 
MACRO		UCB$V_ECC	= 128,0,1,0%; 			!ECC CORRECTION MADE 
LITERAL	UCB$M_ECC	= 1^1 - 1^0; 
MACRO		UCB$V_DIAGBUF	= 128,1,1,0%; 		!DIAGNOSTIC BUFFER SPECIFIED 
LITERAL	UCB$M_DIAGBUF	= 1^2 - 1^1; 
MACRO		UCB$V_NOCNVRT	= 128,2,1,0%; 		!NO LBN TO MEDIA ADDRESS CONVERSION 
LITERAL	UCB$M_NOCNVRT	= 1^3 - 1^2; 
MACRO		UCB$V_DX_WRITE	= 128,3,1,0%; 		!FLOPPY WRITE OPERATION 
LITERAL	UCB$M_DX_WRITE	= 1^4 - 1^3; 
			
MACRO		UCB$L_MAXBLOCK	= 132,0,32,0%; 		!RANDOM ACCESS DEVICE HIGHEST BLOCK 
MACRO		UCB$W_DIRSEQ	= 136,0,16,0%; 		!DIRECTORY SEQUENCE NUMBER 
MACRO		UCB$W_OFFSET	= 138,0,16,0%; 		!CURRENT OFFSET REGISTER CONTENTS 
MACRO		UCB$L_MEDIA	= 140,0,32,0%; 			!MEDIA ADDRESS LONGWORD 
MACRO		UCB$W_DA	= 140,0,16,0%; 			!SAVED DESIRED SECTOR/TRACK ADDRESS REGISTER 
MACRO		UCB$W_DC	= 142,0,16,0%; 			!SAVED DESIRED CYLINDER ADDRESS REGISTER 
MACRO		UCB$W_EC1	= 144,0,16,0%; 			!ECC POSITION REGISTER 
MACRO		UCB$W_EC2	= 146,0,16,0%; 			!ECC PATTERN REGISTER 
MACRO		UCB$B_OFFNDX	= 148,0,8,0%; 		!CURRENT OFFSET TABLE INDEX 
MACRO		UCB$B_OFFRTC	= 149,0,8,0%; 		!CURRENT OFFSET RETRY COUNT 
MACRO		UCB$W_BCR	= 150,0,16,0%; 			!BYTE COUNT REGISTER 
			 
 
! 
! FLOPPY DEPENDENT BIT DEFINITIONS 
! 
 
			 
MACRO		UCB$L_DX_BUF	= 152,0,32,0%; 		!ADDRESS OF SECTOR BUFFER 
MACRO		UCB$L_DX_BFPNT	= 156,0,32,0%; 		!CURRENT SECTOR BUFFER POINTER 
MACRO		UCB$L_DX_RXDB	= 160,0,32,0%; 		!SAVED RECEIVER DATA BUFFER 
MACRO		UCB$W_DX_BCR	= 164,0,16,0%; 		!CURRENT FLOPPY BYTE COUNT 
MACRO		UCB$B_DX_SCTCNT	= 166,0,8,0%; 		!CURRENT SECTOR BYTE COUNT 
 
! 
! TERMINAL DEPENDENT BITS 
! 
						! UCB$W_DEVSTS BITS 
MACRO		UCB$V_JOB	= 167,0,1,0%; 			! JOB CONTROLLER NOTIFIED 
LITERAL	UCB$M_JOB	= 1^1 - 1^0; 
MACRO		UCB$V_TT_TIMO	= 167,1,1,0%; 		! TERMINAL READ TIMEOUT IN PROGRESS 
LITERAL	UCB$M_TT_TIMO	= 1^2 - 1^1; 
MACRO		UCB$V_TT_NOTIF	= 167,2,1,0%; 		! TERMINAL USER NOTIFIED OF UNSOLICTED DATA 
LITERAL	UCB$M_TT_NOTIF	= 1^3 - 1^2; 
			
! 
! NETWORK LOGICAL LINK (NETWORK MAILBOX) EXTENSION 
! 
			 
MACRO		UCB$L_NT_DATSSB	= 116,0,32,0%; 		! ADDRESS OF DATA SUBCHANNEL STATUS BLOCK 
MACRO		UCB$L_NT_INTSSB	= 120,0,32,0%; 		! ADDRESS OF INT/LS SSB 
MACRO		UCB$W_NT_CHAN	= 124,0,16,0%; 		! DDCMP CHANNEL NO. 
							! NETWORK - LINK SERVICE DEFS 
MACRO		UCB$V_LTYPE	= 126,0,2,0%; 			! LINK TYPE BITS 
MACRO		UCB$V_SEGFLO	= 126,2,1,0%; 			! SEGMENT REQUEST COUNTS 
MACRO		UCB$V_MSGFLO	= 126,3,1,0%; 			! MESSAGE REQUEST COUNTS 
MACRO		UCB$V_MSGACK	= 126,4,1,0%; 			! MESSAGE ACK/NAK 
MACRO		UCB$V_BACKP	= 126,5,1,0%; 		! BACKPRESSURE (1=> NO FLOW) 
LITERAL	UCB$M_BACKP	= 1^6 - 1^5; 
MACRO		UCB$V_LNKPRI	= 126,6,2,0%; 		! LINK PRIORITY (IGNORED) 
			
LITERAL	
$EQULST (UCB$C_,GBL,0,1 				! NETWORK CONSTANTS 
	,(LOGLNK,1) 			! CONNECT IS FOR LOGICAL LINK (NOT SINGLE MSG) 
	); 

 
 
!+ 
! VIRTUAL ADDRESS VIELDS 
!- 
!...$VADEF	
 
			 
MACRO		VA$V_BYTE	= 0,0,9,0%; 		!BYTE VIELD 
LITERAL	VA$M_BYTE	= 1^9 - 1^0; 
MACRO		VA$V_VPN	= 0,9,21,0%; 		!VIRTUAL PAGE NUMBER 
LITERAL	VA$M_VPN	= 1^30 - 1^9; 
MACRO		VA$V_P1	= 0,30,1,0%; 			!P1 SPACE 
LITERAL	VA$M_P1	= 1^31 - 1^30; 
MACRO		VA$V_SYSTEM	= 0,31,1,0%; 		!SYSTEM SPACE 
LITERAL	VA$M_SYSTEM	= 1^32 - 1^31; 
			
			 
				 
MACRO		VA$V_VPG	= 0,9,23,0%; 		!VIRTUAL PAGE INCLUDING P1 & S 
LITERAL	VA$M_VPG	= 1^32 - 1^9; 
			

 
!+ 
! VCB - VOLUME CONTROL BLOCK 
! 
! THERE IS ONE VOLUME CONTROL BLOCK FOR EACH MOUNTED DEVICE UNIT IN A 
! SYSTEM. IT CONTAINS INFORMATION NECESSARY TO CONTROL ACCESS TO AND 
! VERIFY CERTAIN VOLUME PARAMETERS IN THE CASE A DEVICE UNIT SHOULD 
! ERRONEOUSLY GO OFFLINE. 
!- 
 
!...$VCBDEF	
						! MARK 1 POSITION 
MACRO		VCB$L_FCBFL	= 0,0,32,0%; 			! FCB LISTHEAD FORWARD LINK 
MACRO		VCB$L_FCBBL	= 4,0,32,0%; 			! FCB LISTHEAD BACKWARD LINK 
MACRO		VCB$W_SIZE	= 8,0,16,0%; 		! SIZE OF VCB IN BYTES 
MACRO		VCB$B_TYPE	= 10,0,8,0%; 		! STRUCTURE TYPE OF VCB 
LITERAL	VCB$C_MRKLEN	= 11; 
LITERAL	VCB$K_MRKLEN	= 11; 			! MARK LENGTH 
						! MARK 2 POSITION 
MACRO		VCB$B_STATUS	= 11,0,8,0%; 		! VOLUME STATUS 
			 
MACRO		VCB$V_WRITE_IF	= 11,0,1,0%; 	! INDEX FILE IS WRITE ACCESSED 
MACRO		VCB$V_WRITE_SM	= 11,1,1,0%; 	! STORAGE MAP IS WRITE ACCESSED 
MACRO		VCB$V_HOMBLKBAD	= 11,2,1,0%; 	! PRIMARY HOME BLOCK IS BAD 
MACRO		VCB$V_IDXHDRBAD	= 11,3,1,0%; 	! PRIMARY INDEX FILE HEADER IS BAD 
MACRO		VCB$V_NOALLOC	= 11,4,1,0%; 		! ALLOCATION/DEALLOCATION INHIBITED (BAD BITMAPS) 
MACRO		VCB$V_EXTFID	= 11,5,1,0%; 		! VOLUME HAS 24 BIT FILE NUMBERS 
MACRO		VCB$V_GROUP	= 11,6,1,0%; 		! VOLUME IS MOUNTED /GROUP 
MACRO		VCB$V_SYSTEM	= 11,7,1,0%; 		! VOLUME IS MOUNTED /SYSTEM 
			
MACRO		VCB$W_TRANS	= 12,0,16,0%; 		! VOLUME TRANSACTION COUNT 
MACRO		VCB$W_RVN	= 14,0,16,0%; 			! RELATIVE VOLUME NUMBER 
MACRO		VCB$L_AQB	= 16,0,32,0%; 			! ADDRESS OF AQB 
MACRO		VCB$T_VOLNAME	= 20,0,0,0%; 		! VOLUME LABEL BLANK FILLED 
LITERAL	VCB$S_VOLNAME	= 12; 
MACRO		VCB$L_RVT	= 32,0,32,0%; 			! ADDRESS OF UCB OR RELATIVE VOLUME TABLE 
LITERAL	VCB$C_COMLEN	= 36; 
LITERAL	VCB$K_COMLEN	= 36; 			! LENGTH OF COMMON AREA 
						! MARK 3 POSITION 
MACRO		VCB$L_HOMELBN	= 36,0,32,0%; 		! LBN OF VOLUME HOME BLOCK 
MACRO		VCB$L_HOME2LBN	= 40,0,32,0%; 		! LBN OF ALTERNATE VOLUME HOME BLOCK 
MACRO		VCB$L_IXHDR2LBN	= 44,0,32,0%; 		! LBN OF ALTERNATE INDEX FILE HEADER 
MACRO		VCB$L_IBMAPLBN	= 48,0,32,0%; 		! LBN OF INDEX FILE BITMAP 
MACRO		VCB$L_SBMAPLBN	= 52,0,32,0%; 		! LBN OF STORAGE BITMAP 
MACRO		VCB$B_IBMAPSIZE	= 56,0,8,0%; 		! SIZE OF INDEX FILE BITMAP 
MACRO		VCB$B_SBMAPSIZE	= 57,0,8,0%; 		! SIZE OF STORAGE BITMAP 
MACRO		VCB$B_IBMAPVBN	= 58,0,8,0%; 		! CURRENT VBN IN INDEX FILE BIT MAP 
MACRO		VCB$B_SBMAPVBN	= 59,0,8,0%; 		! CURRENT VBN IN STORAGE MAP 
MACRO		VCB$W_CLUSTER	= 60,0,16,0%; 		! VOLUME CLUSTER SIZE 
MACRO		VCB$W_EXTEND	= 62,0,16,0%; 		! VOLUME DEFAULT FILE EXTENSION LENGTH 
MACRO		VCB$L_FREE	= 64,0,32,0%; 			! NUMBER OF FREE BLOCKS ON VOLUME 
MACRO		VCB$L_MAXFILES	= 68,0,32,0%; 		! MAXIMUM NUMBER OF FILES ALLOWED ON VOLUME 
MACRO		VCB$B_WINDOW	= 72,0,8,0%; 		! VOLUME DEFAULT WINDOW SIZE 
MACRO		VCB$B_LRU_LIM	= 73,0,8,1%; 		! VOLUME DIRECTORY LRU SIZE LIMIT 
MACRO		VCB$W_FILEPROT	= 74,0,16,0%; 		! VOLUME DEFAULT FILE PROTECTION 
MACRO		VCB$W_MCOUNT	= 76,0,16,0%; 		! MOUNT COUNT 
MACRO		VCB$B_EOFDELTA	= 78,0,8,0%; 		! INDEX FILE EOF UPDATE COUNT 
MACRO		VCB$B_RESFILES	= 79,0,8,0%; 		! NUMBER OF RESERVED FILES ON VOLUME 
MACRO		VCB$W_RECORDSZ	= 80,0,16,0%; 		! NUMBER OF BYTES IN A RECORD 
LITERAL	VCB$C_LENGTH	= 84; 
LITERAL	VCB$K_LENGTH	= 84; 			! LENGTH OF STANDARD VCB 
 
! 
! MTAACP VOLUME CONTROL BLOCK FIELDS 
! 
						! RESET POINTER TO  FCB LISTHEAD 
MACRO		VCB$L_BLOCKFL	= 0,0,32,0%; 		! BLOCKED REQUEST LISTHEAD FORWARD LINK 
MACRO		VCB$L_BLOCKBL	= 4,0,32,0%; 		! BLOCKED REQUEST LISTHEAD BACKWARD LINK 
						! RESET POINTER TO STATUS 
				 
MACRO		VCB$V_PARTFILE	= 11,0,1,0%; 	! PARTIAL FILE EXISTS ON TAPE 
MACRO		VCB$V_LOGICEOVS	= 11,1,1,0%; 	! POSITIONED AT LOGICAL END OF VOLUME SET 
MACRO		VCB$V_WAIMOUVOL	= 11,2,1,0%; 	! WAIT FOR VOLUME MOUNT 
LITERAL	VCB$M_WAIMOUVOL	= 1^3 - 1^2; 
MACRO		VCB$V_WAIREWIND	= 11,3,1,0%; 	! WAIT FOR REWIND COMPLETION 
LITERAL	VCB$M_WAIREWIND	= 1^4 - 1^3; 
MACRO		VCB$V_WAIUSRLBL	= 11,4,1,0%; 	! WAIT FOR USER LABEL 
LITERAL	VCB$M_WAIUSRLBL	= 1^5 - 1^4; 
MACRO		VCB$V_CANCELIO	= 11,5,1,0%; 	! CANCEL IO 
LITERAL	VCB$M_CANCELIO	= 1^6 - 1^5; 
MACRO		VCB$V_MUSTCLOSE	= 11,6,1,0%; 	! MUST CLOSE FILE 
LITERAL	VCB$M_MUSTCLOSE	= 1^7 - 1^6; 
MACRO		VCB$V_NOWRITE	= 11,7,1,0%; 	! DON'T WRITE TRAILERS 
LITERAL	VCB$M_NOWRITE	= 1^8 - 1^7; 
			
 
						! RESET POINTER TO END OF COMMON VCB 
MACRO		VCB$L_CUR_FID	= 36,0,32,0%; 		! CURRENT FILE IDENTIFICATION 
MACRO		VCB$W_CUR_NUM	= 36,0,16,0%; 		! CURRENT FILE SECTION NUMBER 
MACRO		VCB$W_CUR_SEQ	= 38,0,16,0%; 		! CURRENT FILE SEQUENCE NUMBER 
MACRO		VCB$L_START_FID	= 40,0,32,0%; 		! FILE IDENTIFICATION AT START OF SEARCH 
MACRO		VCB$W_START_NUM	= 40,0,16,0%; 	! FILE SECTION NUMBER AT START OF SEARCH 
MACRO		VCB$W_START_SEQ	= 42,0,16,0%; 	! FILE SEQUENCE NUMBER AT START OF SEARCH 
MACRO		VCB$W_MODE	= 44,0,16,0%; 		! MODE OF OPERATION 
			 
MACRO		VCB$V_OVREXP	= 44,0,1,0%; 		! OVERRIDE EXPIRATION 
MACRO		VCB$V_OVRACC	= 44,1,1,0%; 		! OVERRIDE ACCESS 
MACRO		VCB$V_OVRLBL	= 44,2,1,0%; 		! OVERRIDE LABELS 
MACRO		VCB$V_OVRSETID	= 44,3,1,0%; 	! OVERRIDE SET IDENTIFIER 
MACRO		VCB$V_INTCHG	= 44,4,1,0%; 		! INTERCHANGE TAPE 
MACRO		VCB$V_EBCDIC	= 44,5,1,0%; 		! EBCDIC CODE SET 
						! SPARE 
MACRO		VCB$V_STARFILE	= 44,8,1,0%; 	! CURRENT FILE IS A STARLET PRODUCED FILE 
			
	 
MACRO		VCB$B_TM	= 46,0,8,0%; 			! NUMBER OF TM'S INTO FILE 
MACRO		VCB$B_CUR_RVN	= 47,0,8,0%; 		! CURRENT RELATIVE VOLUME 
MACRO		VCB$L_ST_RECORD	= 48,0,32,0%; 		! NUMBER OF RECORDS UP TO AND INCLUDING LAST TAPE MARK 
MACRO		VCB$L_MVL	= 52,0,32,0%; 			! ADDRESS OF MAGNETIC TAPE VOLUME LIST 
MACRO		VCB$L_WCB	= 56,0,32,0%; 			! ADDRESS OF WINDOW FOR THIS VOLUME 
MACRO		VCB$L_VPFL	= 60,0,32,0%; 			! VIRTUAL PAGE LIST HEAD 
MACRO		VCB$L_VPBL	= 64,0,32,0%; 			! VIRTUAL PAGE LIST TAIL 
MACRO		VCB$L_USRLBLAST	= 68,0,32,0%; 		! ADDRESS OF USER LABEL AST CONTROL BLOCK 
 
! NOTE THAT FCP AND MTAACP SHARE VCB$W_MCOUNT(DISPLACEMENT 76) 
 
						! VCB FORMAT USED FOR SPOOLED DEVICE 
MACRO		VCB$B_QNAMECNT	= 11,0,8,0%; 		! BYTE COUNT OF QUEUE NAME 
MACRO		VCB$T_QNAME	= 12,0,0,0%; 		! ASCII NAME OF QUEUE FOR THIS DEVICE 
LITERAL	VCB$S_QNAME	= 20; 

 
!+ 
! VOL1 ANSI MAGNETIC TAPE LABEL 
! THIS IS THE FIRST BLOCK ON EVERY ANSI LABELED MAGNETIC TAPE. 
! IT IDENTIFIES THE VOLUME AND ITS PROTECTION. 
!- 
!...$VL1DEF		!VOL1 LABEL FORMAT 
 
MACRO		VL1$L_VL1LID	= 0,0,32,0%; 	!LABEL IDENTIFIER AND NUMBER 'VOL1' 
MACRO		VL1$T_VOLLBL	= 4,0,0,0%; 	!VOLUME LABEL 
LITERAL	VL1$S_VOLLBL	= 6; 
MACRO		VL1$B_VOLACCESS	= 10,0,8,0%; 	!VOLUME ACCESS 
MACRO		VL1$T_VOLOWNER	= 37,0,0,0%; 	!VOLUME OWNER IDENTIFICATION 
LITERAL	VL1$S_VOLOWNER	= 13; 
MACRO		VL1$B_DECSTDVER	= 50,0,8,0%; 	!DEC STANDARD VERSION 
MACRO		VL1$B_LBLSTDVER	= 79,0,8,0%; 	!LABEL STANDARD VERSION '3' 

 
 
!+ 
! WCB - WINDOW CONTROL BLOCK 
! 
! THERE IS A WINDOW CONTROL BLOCK FOR EACH FILE ACCESSED BY A PROCESS. 
! IT CONTAINS MAPPING INFORMATION SUCH THAT A LARGE PERCENTAGE OF VIRTUAL 
! FILE I/O CAN BE MAPPED FROM VIRTUAL TO LOGICAL BLOCK NUMBERS WITHOUT 
! HAVING TO READ THE RESPECTIVE FILE HEADER. 
!- 
 
!...$WCBDEF	
			 
MACRO		WCB$L_WLFL	= 0,0,32,0%; 			! WINDOW LIST FORWARD LINK 
MACRO		WCB$L_WLBL	= 4,0,32,0%; 			! WINDOW LIST BACKWARD LINK 
MACRO		WCB$W_SIZE	= 8,0,16,0%; 		! SIZE OF WINDOW BLOCK IN BYTES 
MACRO		WCB$B_TYPE	= 10,0,8,0%; 		! STRUCTURE TYPE OF WCB 
MACRO		WCB$B_ACCESS	= 11,0,8,0%; 		! ACCESS CONTROL BYTE 
						! WCB$B_ACCESS DEFINITIONS 
MACRO		WCB$V_READ	= 11,0,1,0%; 		! READ ACCESS ALLOWED (1=YES) 
LITERAL	WCB$M_READ	= 1^1 - 1^0; 
MACRO		WCB$V_WRITE	= 11,1,1,0%; 		! WRITE ACCESS ALLOWED (1=YES) 
LITERAL	WCB$M_WRITE	= 1^2 - 1^1; 
MACRO		WCB$V_NOTFCP	= 11,2,1,0%; 		! FILE NOT ACCESSED BY FCP IF SET 
LITERAL	WCB$M_NOTFCP	= 1^3 - 1^2; 
MACRO		WCB$V_SHRWCB	= 11,3,1,0%; 		! SHARED WINDOW 
LITERAL	WCB$M_SHRWCB	= 1^4 - 1^3; 
					! END OF WCB$B_ACCESS DEFINITIONS 
MACRO		WCB$L_PID	= 12,0,32,0%; 			! PROCESS ID OF ACCESSOR PROCESS 
MACRO		WCB$W_REFCNT	= 14,0,16,0%; 		! REFERENCE COUNT FOR SHARED WINDOW 
MACRO		WCB$L_ORGUCB	= 16,0,32,0%; 		! ADDRESS OF ORIGINAL UCB FROM CCB 
MACRO		WCB$W_ACON	= 20,0,16,0%; 		! ACCESS CONTROL INFORMATION 
				! NOTE - THESE BITS TRACK THE BITS 
				! IN FIB$L_ACCTL 
			 
MACRO		WCB$V_NOWRITE	= 20,0,1,0%; 		! NO OTHER WRITERS 
MACRO		WCB$V_DLOCK	= 20,1,1,0%; 		! ENABLE DEACCESS LOCK 
						! UNUSED 
MACRO		WCB$V_SPOOL	= 20,4,1,0%; 		! SPOOL FILE ON CLOSE 
MACRO		WCB$V_WRITECK	= 20,5,1,0%; 		! ENABLE WRITE CHECK 
MACRO		WCB$V_SEQONLY	= 20,6,1,0%; 		! SEQUENTIAL ONLY ACCESS 
						! SPARE 
MACRO		WCB$V_WRITEAC	= 20,8,1,0%; 		! WRITE ACCESS 
MACRO		WCB$V_READCK	= 20,9,1,0%; 		! ENABLE READ CHECK 
MACRO		WCB$V_NOREAD	= 20,10,1,0%; 		! NO OTHER READERS 
MACRO		WCB$V_NOTRUNC	= 20,11,1,0%; 		! NO TRUNCATES 
			
MACRO		WCB$W_NMAP	= 22,0,16,0%; 		! NUMBER OF MAPPING POINTERS 
MACRO		WCB$L_FCB	= 24,0,32,0%; 			! ADDRESS OF FCB 
MACRO		WCB$L_RVT	= 28,0,32,0%; 			! ADDRESS OF RELATIVE VOLUME TABLE 
MACRO		WCB$L_STVBN	= 32,0,32,0%; 			! STARTING VBN MAPPED BY WINDOW 
LITERAL	WCB$C_MAP	= 36; 
LITERAL	WCB$K_MAP	= 36; 				! MAP POINTERS START HERE 
LITERAL	WCB$C_LENGTH	= 36; 
LITERAL	WCB$K_LENGTH	= 36; 			! LENGTH OF STANDARD WCB SANS POINTERS 
MACRO		WCB$W_P1_COUNT	= 36,0,16,0%; 		! COUNT FIELD OF FIRST POINTER 
MACRO		WCB$L_P1_LBN	= 38,0,32,0%; 		! LBN FIELD OF SECOND POINTER 
MACRO		WCB$W_P2_COUNT	= 42,0,16,0%; 		! COUNT FIELD OF SECOND POINTER 
MACRO		WCB$L_P2_LBN	= 44,0,32,0%; 		! LBN FIELD OF FIRST POINTER 
			 
				! FORMAT OF RETRIEVAL POINTER 
MACRO		WCB$W_COUNT	= 0,0,16,0%; 		! COUNT FIELD 
MACRO		WCB$L_LBN	= 2,0,32,0%; 			! LBN FIELD 
			 
MACRO		WCB$W_PREVCOUNT	= -6,0,16,0%; 		! PREVIOUS RETRIEVAL POINTER 
MACRO		WCB$L_PREVLBN	= -4,0,32,0%;  
				! RETRIEVAL POINTER FORMAT 
	
 
!+ 
! WORKING SET LIST DEFINITIONS 
!- 
 
!...$WSLDEF	
 
			 
					!THE FOLLOWING 5 BITS MUST BE IN ORDER 
MACRO		WSL$V_VALID	= 0,0,1,0%; 			!WSL ENTRY VALID 
LITERAL	WSL$M_VALID	= 1^1 - 1^0; 
MACRO		WSL$V_PAGTYP	= 0,1,3,0%; 		!PAGE TYPE (SEE PFNDEF FOR VALUES) 
LITERAL	WSL$M_PAGTYP	= 1^4 - 1^1; 
MACRO		WSL$V_PFNLOCK	= 0,4,1,0%; 			!PAGE FRAME LOCK 
LITERAL	WSL$M_PFNLOCK	= 1^5 - 1^4; 
					!THE PRECEDING 5 BITS MUST BE IN ORDER 
MACRO		WSL$V_WSLOCK	= 0,5,1,0%; 			!WORKING SET LOCK 
LITERAL	WSL$M_WSLOCK	= 1^6 - 1^5; 
MACRO		WSL$V_GOODPAGE	= 0,6,1,0%; 		!THIS PAGE SHOULD REMAIN IN WS ONE MORE PASS 
LITERAL	WSL$M_GOODPAGE	= 1^7 - 1^6; 
							!SPARE BIT 
MACRO		WSL$V_MODIFY	= 0,8,1,0%; 			!SAVED MODIFY BIT 
LITERAL	WSL$M_MODIFY	= 1^9 - 1^8; 
			
 
LITERAL	WSL$C_LENGTH	= 4; 			!SIZE OF WS LIST ENTRY 
! 
! PAGE TYPE VIELD DEFINITIONS 
! 
LITERAL	
$EQULST (WSL$C_,GBL,0,1  
	,(PROCESS,0^WSL$V_PAGTYP) 		!PROCESS PAGE 
	,(SYSTEM,1^WSL$V_PAGTYP) 		!SYSTEM PAGE 
	,(GLOBAL,2^WSL$V_PAGTYP) 		!GLOBAL PAGE (READ ONLY) 
	,(GBLWRT,3^WSL$V_PAGTYP) 		!GLOBAL WRITABLE PAGE 
	,(PPGTBL,4^WSL$V_PAGTYP) 		!PROCESS PAGE TABLE 
	,(GPGTBL,5^WSL$V_PAGTYP) 		!GLOBAL PAGE TABLE 
	); 

 
!+ 
! WAIT QUEUE HEADER DEFINITIONS 
!- 
 
!...$WQHDEF	
 
MACRO		WQH$L_WQFL	= 0,0,32,0%; 		!HEAD OR FORWARD LINK 
MACRO		WQH$L_WQBL	= 4,0,32,0%; 		!TAIL OR BACKWARD LINK 
MACRO		WQH$W_WQCNT	= 8,0,16,0%; 		!WAIT QUEUE COUNT 
MACRO		WQH$W_WQSTATE	= 10,0,16,0%; 	!STATE NUMBER FOR WAIT 
LITERAL	WQH$C_LENGTH	= 12; 
LITERAL	WQH$K_LENGTH	= 12; 			!LENGTH OF WAIT QUEUE HEADER 
 

 
 

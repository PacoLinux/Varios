RMSTEST6        TEST MAGTAPE ;                                   22-AUG-1978 03:32:38   VAX-11 MACRO X0.3-11               Page   1
006                                                                                                                              (1)

                                     0000     1 ;	UETP prefix file (contains macro library file specs).
                                     0000     2 ;
                                     0000     3 	.LIBRARY	/EXECML$/	;SYSTEM MACROS
                                     0000     4 	.LIBRARY	/LIBD$:[SYSTST.OBJ]SYSTST.MLB/ ; PRIVATE UETP,SYSTST LIB
                                     0000     5 	.LIST	MEB
                                     0000     6 ;
                                     0000    31 	$BEGIN	RMSTEST6,006,__RMSTEST,<TEST MAGTAPE>,<GBL,LONG>
                                 00000000       	.PSECT	__RMSTEST,GBL,GBL,LONG
                                     0000    32 ;
                                     0000    33 	.ENABL DBG
                                     0000    34 ;
                                     0000    35 	$DEVDEF
                                     0000       	.SAVE
                                 00000000       	.PSECT	$ABS$,ABS
                                 00000000       	.RESTORE
                                     0000    36 .NLIST MEB
                                     0000    37 ;
                                     0000    38 ;  MACROS:
                                     0000    39 ;
                                     0000    40 	.MACRO	BUFF	NAM,SIZE
                                     0000    41 NAM'BUF::	.BLKB	SIZE
                                     0000    42 NAM'BSZ==SIZE
                                     0000    43 	.ENDM	BUFF
                                     0000    44 ;
                                     0000    45 ;
                                     0000    46 	.MACRO	TYPE	STRING, ?L
                                     0000    47 	STORE	<STRING>
                                     0000    48 	BLBC	VERBOSITY,L
                                     0000    49 	MOVL	#$$.TMPX,CMDORAB+RAB$L_RBF
                                     0000    50 	MOVW	#$$.TMPX1,CMDORAB+RAB$W_RSZ
                                     0000    51 	$PUT	RAB=CMDORAB,ERR=REPORT_ERROR
                                     0000    52 	BSBW	ERR
                                     0000    53    L:
                                     0000    54 	.ENDM	TYPE
                                     0000    55 ;
                                     0000    56 	.MACRO	WTTYPE	STRING
                                     0000    57 	$WAIT	RAB=CMDORAB
                                     0000    58 	TYPE	<STRING>
                                     0000    59 	.ENDM	WTTYPE
                                     0000    60 ;
                                     0000    61 	.MACRO	STORE	STRING,PRE
                                     0000    62 	.SAVE
                                     0000    63 	.PSECT	__$RMSNAM
                                     0000    64 	$$.TMPX=.
                                     0000    65 	PRE				; STORE ANY CARRIAGE CONTROL INFO
                                     0000    66 	.ASCII	%STRING%
                                     0000    67 	$$.TMPX1=.-$$.TMPX
                                     0000    68 	.RESTORE
                                     0000    69 	.ENDM	STORE
RMSTEST6        TEST MAGTAPE ;                                   22-AUG-1978 03:32:38   VAX-11 MACRO X0.3-11               Page   2
006                                                                                                                              (1)

                                     0000    71 ;
                                     0000    72 	.MACRO BEGIN TSTNAM
                                     0000    73 		STORE	<TSTNAM>
                                     0000    74 		MOVL	#$$.TMPX,BEG_DESCR+4		;ADDR
                                     0000    75 		MOVL	#$$.TMPX1,BEG_DESCR		;LEN
                                     0000    76 		BSBW BEGPUT
                                     0000    77 	.ENDM BEGIN
                                     0000    78 	.MACRO FINISH	TSTNAM
                                     0000    79 		STORE	<TSTNAM>
                                     0000    80 		MOVL	#$$.TMPX,FIN_DESCR+4		;ADDR
                                     0000    81 		MOVL	#$$.TMPX1,FIN_DESCR		;LEN
                                     0000    82 		BSBW FINPUT
                                     0000    83 	.ENDM FINISH
                                     0000    84 	.MACRO FIELD FLDNAM
                                     0000    85 		STORE <FLDNAM>
                                     0000    86 		MOVL	#$$.TMPX,FLD_DESCR+4		;ADDR
                                     0000    87 		MOVL	#$$.TMPX1,FLD_DESCR		;LEN
                                     0000    88 		BSBW FLDPUT
                                     0000    89 	.ENDM FIELD
                                     0000    90 	.MACRO	MBPT, ?L
                                     0000    91 	BLBC	VERBOSITY,L
                                     0000    92 	BPT
                                     0000    93    L:
                                     0000    94 	.ENDM	MBPT
                                     0000    95 ;
RMSTEST6        TEST MAGTAPE ;                                   22-AUG-1978 03:32:38   VAX-11 MACRO X0.3-11               Page   3
006                                                                                                                              (1)

                                 00000000    97 	.PSECT	__RMSTEST,GBL,LONG
                                     0000    98 	.ALIGN LONG
                                     0000    99 T6START::
                                     0000   100 MTAFAB:	$FAB	DNM=<TST$MTA:.FIL;1>,FNS=FNSIZE
                                     0050   101 MTARAB:	$RAB	RHB=RHBBUF,UBF=IOBUF,FAB=MTAFAB
                                     0094   102 	BUFF	IO,512.
                           00000000  0294   103 BUF:	.LONG	0		; KEY FOR RANDOM LOOKUP
                                     0298   104 ;
                                     0298   105 ;  FILE NAMES FOR VARIOUS FILES
                                     0298   106 ;
                     52 41 56 54 4D  0298   107 MTVAR_FNM:	.ASCII	\MTVAR\
                           00000005  029D   108 FNSIZE=.-MTVAR_FNM
                     58 49 46 54 4D  029D   109 MTFIX_FNM:	.ASCII	\MTFIX\
                     43 46 56 54 4D  02A2   110 MTVFC_FNM:	.ASCII	\MTVFC\
                     31 54 53 54 4D  02A7   111 MTST1_FNM:	.ASCII	\MTST1\
                     58 49 46 46 4E  02AC   112 NONFIL_FNM:	.ASCII	\NFFIX\
RMSTEST6        TEST MAGTAPE ;                                   22-AUG-1978 03:32:38   VAX-11 MACRO X0.3-11               Page   4
006                                                                                                                              (2)

                                     02B1   114 ;
                                     02B1   115 ;
                                     02B1   116 ;THIS IS A TEST PROGRAM TO TEST OUT THE USE OF MAGTAPES THROUGH RMS-32
                                     02B1   117 ;IT EXERCISES THE BASIC FUNCTIONALITY
                                     02B1   118 ;
                                     02B1   119 TST$MTA::
                               0FFC  02B1   120 	.WORD	^M<R2,R3,R4,R5,R6,R7,R8,R9,R10,R11>
                                     02B3   121 	
                                     02B3   122 ;
                                     02B3   123 ;CREATE 3 FILES ON THE TAPE - WITH DIFFERENT RECORD FORMATS, AND FILL THEM
                                     02B3   124 ;
                                     02B3   125 	BEGIN	<MAGTAPE TESTS>
                                     02C8   126 ;
                                     02C8   127 ;THE 1ST FILE -- RFM=FIX
                                     02C8   128 ;
            59       FD84 CF     DE  02C8   129 	MOVAL	MTARAB,R9
                                     02CD   130 	$FAB_STORE	FAB=MTAFAB,RFM=FIX,MRS=#50,FNA=MTFIX_FNM,-
                                     02CD   131 			FOP=<RWO,SUP>,RAT=<CR,BLK>,FAC=PUT
                                     02EF   132 	$RAB_STORE	RAB=R9,RSZ=#50,RBF=IOBUF
                                     02F9   133 
                                     02F9   134 ; CREATE A FILE AND CLOSE IT IN ORDER TO DISCOVER IF THE DEVICE IS MOUNTED FOREIGN
                                     02F9   135 ;
                                     02F9   136 	$CREATE	FAB=MTAFAB,ERR=REPORT_ERROR
                          FCF3'  30  030A   137 	BSBW	ERR
                          07B2   30  030D   138 	BSBW	CLOSE_MT
       FD2B CF            18     E0  0310   139 	BBS	#DEV$V_FOR,FAB$L_DEV+MTAFAB,5$
                          04         0315       
                          0005   30  0316   140 	BSBW	STRMT
                                 04  0319   141 	RET
                          051E   30  031A   142 5$:	BSBW	NON_FILE
                                 04  031D   143 	RET
                                     031E   144 STRMT:
                                     031E   145 	TYPE	<CREATE 3 TEST FILES ON TAPE>
            56            32     D0  034D   146 	MOVL		#50,R6				; ALTERNATE RECORD SIZE
                          0758   30  0350   147 	BSBW	DO_PUT
                                     0353   148 ;
                                     0353   149 ;  NOW THE 2ND FILE W/ RFM = VAR
                                     0353   150 ;
                                     0353   151 	$FAB_STORE	FAB=MTAFAB,FNA=MTVAR_FNM,RFM=VAR,MRS=#0,BLS=#512,-
                                     0353   152 			FOP=<POS,SUP>
         40 A0            05     E1  0373   153 	BBC	#DEV$V_SQD,FAB$L_DEV(R0),10$	; BRANCH IF NOT MAGTAPE
                          04         0377       
         1E A0            08     8A  0378   154 	BICB2	#FAB$M_BLK,FAB$B_RAT(R0)	; VERIFY BLK DEFAULTING
                                     037C   155 10$:	$RAB_STORE	RAB=R9,RSZ=#79		;PRIMARY LENGTH
            56            3B     9A  0382   156 	MOVZBL	#59,R6				;ALTERNATE SIZE
                          0723   30  0385   157 	BSBW	DO_PUT
                                     0388   158 ;
                                     0388   159 ;  NOW THE 3RD FILE W/ RFM = VFC
                                     0388   160 ;
                                     0388   161 	$FAB_STORE	FAB=MTAFAB,FNA=MTVFC_FNM,RFM=VFC,BLS=#1024,-
                                     0388   162 			FOP=<POS,RWC,SUP>,FSZ=#4
                                     03A9   163 	$RAB_STORE	RAB=R9,RSZ=#75		;PRIMARY SIZE
            56            37     D0  03AF   164 	MOVL	#55,R6				;ALTERNATE SIZE
                          06F6   30  03B2   165 	BSBW	DO_PUT
RMSTEST6        TEST MAGTAPE ;                                   22-AUG-1978 03:32:38   VAX-11 MACRO X0.3-11               Page   5
006                                                                                                                              (2)

                                     03B5   167 ;++
                                     03B5   168 ;
                                     03B5   169 ;  REREAD 3 CREATED FILES AND VERIFY THEIR CONTENTS
                                     03B5   170 ;
                                     03B5   171 ;--
                                     03B5   172 	TYPE	<RE-READ FILES CREATED IN STEP 1>
                                     03E4   173 	$RAB_STORE	RAB=R9,ROP=<LOC>
                                     03EC   174 	$FAB_STORE	FAB=MTAFAB,FNA=MTFIX_FNM,FOP=#0,-
                                     03EC   175 			RAT=#0,ORG=REL,FAC=<GET,BRO>
                          072F   30  0406   176 	BSBW	OPEN_MT
            01       FC12 CF     91  0409   177 	CMPB	MTAFAB+FAB$B_RFM,#FAB$C_FIX		; IS IT FIXED RFM?
                          15     13  040E   178 	BEQL	RMT1
                                     0410   179 	FIELD	<RFM (NOT = FIXED)>
       FC16 CF            05     E1  0425   180 RMT1:	BBC	#DEV$V_SQD,FAB$L_DEV+MTAFAB,RMT2	; SKIP TEST IF DISK
                          1E         042A       
       0800 8F       FC0D CF     B1  042B   181 	CMPW	MTAFAB+FAB$W_BLS,#2048			; IS BLOCK SIZE RIGHT?
                          15     13  0432   182 	BEQL	RMT2
                                     0434   183 	FIELD	<BLS>
            32       FBE9 CF     B1  0449   184 RMT2:	CMPW	MTAFAB+FAB$W_MRS,#50			; IS RECORD SIZE RIGHT?
                          15     13  044E   185 	BEQL	RMT3
                                     0450   186 	FIELD	<MRS>
                          0732   30  0465   187 RMT3:	BSBW	READ_MT					; READ AND VERIFY RECORDS
                              32 32  0468   188 	.BYTE	50,50
                          07FF   30  046A   189 	BSBW	EOF_CLOSE				; CHECK EOF AND CLOSE
                                     046D   190 ;
                                     046D   191 ;  2ND FILE
                                     046D   192 ;
                                     046D   193 	$FAB_STORE	FAB=MTAFAB,FNA=MTVAR_FNM,RAT=#0,ORG=REL
                          06B6   30  047F   194 	BSBW	OPEN_MT
            02       FB99 CF     91  0482   195 	CMPB	MTAFAB+FAB$B_RFM,#FAB$C_VAR
                          15     13  0487   196 	BEQL	RMT4
                                     0489   197 	FIELD	<RFM (NOT = VAR)>
       0200 8F       FB9A CF     B1  049E   198 RMT4:	CMPW	MTAFAB+FAB$W_BLS,#512			; IS BLOCK SIZE CORRECT?
                          15     13  04A5   199 	BEQL	RMT5
                                     04A7   200 	FIELD	<BLS>
                     FB76 CF     B5  04BC   201 RMT5:	TSTW	MTAFAB+FAB$W_MRS			; IS MAX RECORD SIZE RIGHT?
                          15     13  04C0   202 	BEQL	RMT6
                                     04C2   203 	FIELD	<MRS>
                          06BB   30  04D7   204 RMT6:	BSBW	READ_MT_VAR				; READ & VERIFY RECORDS
                          078F   30  04DA   205 	BSBW	EOF_CLOSE
                                     04DD   206 ;
                                     04DD   207 ;  3RD FILE
                                     04DD   208 ;
                                     04DD   209 	$FAB_STORE	FAB=MTAFAB,FNA=MTVFC_FNM,RAT=#0,ORG=REL
                          0646   30  04EF   210 	BSBW	OPEN_MT
            03       FB29 CF     91  04F2   211 	CMPB	FAB$B_RFM+MTAFAB,#FAB$C_VFC		; RIGHT RECORD FORMAT?
                          15     13  04F7   212 	BEQL	RMT7
                                     04F9   213 	FIELD	<RFM (NOT = VFC)>
       FB2D CF            05     E1  050E   214 RMT7:	BBC	#DEV$V_SQD,FAB$L_DEV+MTAFAB,RMT8	; SKIP TEST IF DISK
                          1E         0513       
       0400 8F       FB24 CF     B1  0514   215 	CMPW	MTAFAB+FAB$W_BLS,#1024			; RIGHT BLOCK SIZE?
                          15     13  051B   216 	BEQL	RMT8
                                     051D   217 	FIELD	<BLS>
                     FB00 CF     B5  0532   218 RMT8:	TSTW	MTAFAB+FAB$W_MRS			; MRS OK?
                          15     13  0536   219 	BEQL	RMT9
                                     0538   220 	FIELD	<MRS>
                          064A   30  054D   221 RMT9:	BSBW	READ_MT
RMSTEST6        TEST MAGTAPE ;                                   22-AUG-1978 03:32:38   VAX-11 MACRO X0.3-11               Page   6
006                                                                                                                              (2)

                              37 4B  0550   222 	.BYTE	75,55
                          0717   30  0552   223 	BSBW	EOF_CLOSE
RMSTEST6        TEST MAGTAPE ;                                   22-AUG-1978 03:32:38   VAX-11 MACRO X0.3-11               Page   7
006                                                                                                                              (2)

                                     0555   225 ;++
                                     0555   226 ;
                                     0555   227 ;  RE-OPEN MTVAR.FIL AND TEST SPACING AND REWIND
                                     0555   228 ;
                                     0555   229 ;--
                                     0555   230 	TYPE	<PERFORM SPACING AND REWIND TESTS>
                                     0584   231 	$FAB_STORE	FAB=MTAFAB,FNA=MTVAR_FNM
                          05A6   30  058F   232 	BSBW	OPEN_MT
                                     0592   233 	$RAB_STORE	RAB=R9,BKT=#16			; SPACE COUNT
                                     0596   234 	$SPACE	R9
                          06D8   30  059F   235 	BSBW	CHKEOF1					; VERIFY AT EOF
                                     05A2   236 	$RAB_STORE	R9,BKT=#16
                                     05A6   237 	$SPACE	R9					;SPACE FORWARD AT EOF
                          06C8   30  05AF   238 	BSBW	CHKEOF1					;VERIFY STILL AT EOF
                                     05B2   239 	$RAB_STORE	R9,BKT=#-16			; BACKSPACE COUNT
                                     05BA   240 	$SPACE	R9
                          06C4   30  05C3   241 	BSBW	CHKBOF					; VERIFY AT START OF FILE
                                     05C6   242 	$RAB_STORE	R9,BKT=#8
                                     05CA   243 	$SPACE	RAB=R9,ERR=REPORT_ERROR
                          FA24'  30  05D9   244 	BSBW	ERR
                                     05DC   245 	$RAB_STORE	R9,BKT=#0			;COUNT = 0
                                     05DF   246 	$SPACE	RAB=R9,ERR=REPORT_ERROR
                          FA0F'  30  05EE   247 	BSBW	ERR
                                     05F1   248 	$RAB_STORE	R9,BKT=#-4
                                     05F9   249 	$SPACE	RAB=R9,ERR=REPORT_ERROR
                          F9F5'  30  0608   250 	BSBW	ERR
                                     060B   251 ;
                                     060B   252 ;  READ RECORDS FROM BLOCK 4 THRU END OF FILE, VERIFYING GOODNESS
                                     060B   253 ;
            57            39     9A  060B   254 	MOVZBL	#^A/!/+24,R7				; STARTING REC #
                          058C   30  060E   255 	BSBW	LOOP1					; VERIFY RECORDS
                              3B 4F  0611   256 	.BYTE	79,59
                                     0613   257 	$RAB_STORE	R9,BKT=#-100
                                     061B   258 	$SPACE	R9
                          0663   30  0624   259 	BSBW	CHKBOF					; VERIFY AT START
                          056B   30  0627   260 	BSBW	READ_MT_VAR
                                     062A   261 	$REWIND	RAB=R9,ERR=REPORT_ERROR
                          F9C4'  30  0639   262 	BSBW	ERR
                          0556   30  063C   263 	BSBW	READ_MT_VAR
                          062A   30  063F   264 	BSBW	EOF_CLOSE
RMSTEST6        TEST MAGTAPE ;                                   22-AUG-1978 03:32:38   VAX-11 MACRO X0.3-11               Page   8
006                                                                                                                              (2)

                                     0642   266 ;++
                                     0642   267 ;
                                     0642   268 ;  TEST OF "CREATE IF" AND $NXTVOL
                                     0642   269 ;
                                     0642   270 ;--
                                     0642   271 	TYPE <PERFORM "CREATE IF", $TRUNCATE  AND $NXTVOL TESTS>
                                     0671   272 	$FAB_STORE	FAB=MTAFAB,FAC=PUT,FNA=MTST1_FNM,-
                                     0671   273 			FOP=CIF,RFM=VAR
                                     068C   274 	$ERASE	FAB=R0					; ERASE IN CASE DISK FILE
                          0475   30  0695   275 	BSBW		CREATE_MT
   00000000'8F       F96C CF     D1  0698   276 	CMPL	MTAFAB+FAB$L_STS,#RMS$_CREATED
                          18     13  06A1   277 	BEQL	RMT11
                                     06A3   278 	FIELD	<STS (EXPECTED "RMS$_CREATED")>
                          F945'  30  06B8   279 	BSBW	ERR
                                     06BB   280 RMT11:	$RAB_STORE	RAB=R9,RBF=IOBUF,RSZ=#50
         04 A9            02     88  06C5   281 	BISB2	#RAB$M_TPT,RAB$L_ROP(R9)		; ALLOW PUT NOT AT EOF
                                     06C9   282 	$PUT	RAB=R9,ERR=REPORT_ERROR
                          F925'  30  06D8   283 	BSBW	ERR
                          03E4   30  06DB   284 	BSBW	CLOSE_MT
                                     06DE   285 ;
                                     06DE   286 ;  NOW RE-OPEN FILE JUST CREATED ABOVE AND OVERWRITE RECORD
                                     06DE   287 ;
                                     06DE   288 	$FAB_STORE	FAB=MTAFAB,FAC=<GET,PUT,TRN>,FOP=<CIF,NEF>
                          041B   30  06EF   289 	BSBW	CREATE_MT
   00000000'8F       F912 CF     D1  06F2   290 	CMPL	MTAFAB+FAB$L_STS,#RMS$_NORMAL
                          18     13  06FB   291 	BEQL	RMT12
                                     06FD   292 	FIELD	<STS (EXPECTED "NORMAL")>
                          F8EB'  30  0712   293 	BSBW	ERR
                                     0715   294 RMT12:	$RAB_STORE	RAB=R9,RBF=IOBUF,RSZ=#79
            56            3B     D0  0721   295 	MOVL	#59,R6					; ALTERNATE REC SIZE
                          03B0   30  0724   296 	BSBW	PUTRECS
                                     0727   297 ;
                                     0727   298 ;	TEST TRUNCATE
                                     0727   299 ;
                          03AD   30  0727   300 	BSBW	PUTRECS					;WRITE 2ND HALF OF FILE
                                     072A   301 	$REWIND	RAB=R9,ERR=REPORT_ERROR
                          F8C4'  30  0739   302 	BSBW	ERR
                          0456   30  073C   303 	BSBW	READ_MT_VAR				;READ 1ST HALF OF FILE
                                     073F   304 	$GET	RAB=R9,ERR=REPORT_ERROR		;NEED TO ADVANCE THE CURRENT
                          F8AF'  30  074E   305 	BSBW	ERR				;RECORD POINTER BEFORE TRUNCATE
                                     0751   306 	$TRUNCATE RAB=R9,ERR=REPORT_ERROR
                          F89D'  30  0760   307 	BSBW	ERR					;TRUNCATE 2ND HALF OF FILE
                          050B   30  0763   308 	BSBW	CHKEOF					;CHECK FOR EOF
                                     0766   309 	$RAB_STORE	RAB=R9,RBF=IOBUF,RSZ=#79
            56            3B     D0  0772   310 	MOVL	#59,R6
                          035F   30  0775   311 	BSBW	PUTRECS					;RE-PUT 2ND HALF
                                     0778   312 	$REWIND	RAB=R9,ERR=REPORT_ERROR
                          F876'  30  0787   313 	BSBW	ERR
                          0408   30  078A   314 	BSBW	READ_MT_VAR				;READ 1ST HALF
                          0405   30  078D   315 	BSBW	READ_MT_VAR				;READ 2ND HALF, VERIFYING
                          04DE   30  0790   316 	BSBW	CHKEOF					;CHECK FOR EOF AGAIN
                                     0793   317 	$REWIND	RAB=R9,ERR=REPORT_ERROR
                          F85B'  30  07A2   318 	BSBW	ERR
                          03ED   30  07A5   319 	BSBW	READ_MT_VAR				;READ 1ST HALF
                                     07A8   320 	$GET	RAB=R9,ERR=REPORT_ERROR		;NEED TO ADVANCE THE CURRENT
                          F846'  30  07B7   321 	BSBW	ERR				;RECORD POINTER BEFORE TRUNCATE
                                     07BA   322 	$TRUNCATE RAB=R9,ERR=REPORT_ERROR		;TRUNC 2ND HALF
RMSTEST6        TEST MAGTAPE ;                                   22-AUG-1978 03:32:38   VAX-11 MACRO X0.3-11               Page   9
006                                                                                                                              (2)

                          F834'  30  07C9   323 	BSBW	ERR					;LEAVE FILE AS BEFORE
       F86F CF            05     E1  07CC   324 	BBC	#DEV$V_SQD,FAB$L_DEV+MTAFAB,20$		; BRANCH IF NOT REALLY MT
                          19         07D1       
            12   00000000'EF     E9  07D2   325 	BLBC	VERBOSITY,20$				; BRANCH IF NOT INTERACTIVE
                                     07D9   326 	$NXTVOL	RAB=R9,ERR=REPORT_ERROR
                          F815'  30  07E8   327 	BSBW	ERR
                                     07EB   328 20$:	$RAB_STORE	RAB=R9,RBF=IOBUF,RSZ=#79
            56            3B     D0  07F7   329 	MOVL	#59,R6
                          02DA   30  07FA   330 	BSBW	PUTRECS
                                     07FD   331 	$REWIND	RAB=R9,ERR=REPORT_ERROR
                          F7F1'  30  080C   332 	BSBW	ERR
                          0383   30  080F   333 	BSBW	READ_MT_VAR				; READ RECS FROM REL VOL 1
                          0380   30  0812   334 	BSBW	READ_MT_VAR				; READ RECS FORM REL VOL 2
                                     0815   335 	$FAB_STORE	FAB=MTAFAB,FOP=<RWC>		; CAUSE VOLUME SET REWIND
                          0447   30  0822   336 	BSBW	EOF_CLOSE
                                     0825   337 	FINISH	<MAGTAPE TESTS>
                                     083A   338 
                                 05  083A   339 	RSB
RMSTEST6        TEST MAGTAPE ;                                   22-AUG-1978 03:32:38   VAX-11 MACRO X0.3-11               Page  10
006                                                                                                                              (3)

                                     083B   341 ;++
                                     083B   342 ; NON-FILE STRUCTURED TESTS
                                     083B   343 ;--
                                     083B   344 ;
                                     083B   345 
                                     083B   346 ; 
                                     083B   347 ; FIRST WRITE OUT A FIX LENGTH 512 BYTE RECORD FILE
                                     083B   348 ; NOTE:  SET TST$MTA TO DISK IF NON_FILE STRUCTURED DISK TEST WANTED.
                                     083B   349 ; MOUNT/FO DEV /REC=512/BLO=512
                                     083B   350 NON_FILE:TYPE	<NON_FILE STRUCTURE CREATE TEST>
            59       F7E2 CF     DE  086A   351 	MOVAL	MTARAB,R9
                                     086F   352 	$FAB_STORE	FAB=MTAFAB,RFM=FIX,MRS=#512,FNA=NONFIL_FNM,-
                                     086F   353 			RAT=#0,FAC=PUT,BLS=#512
                                     0891   354 	$RAB_STORE	RAB=R9,RSZ=#512,RBF=IOBUF
            56   00000200 8F     D0  089D   355 	MOVL	#512,R6
                          0204   30  08A4   356 	BSBW	DO_PUT
                                     08A7   357 
                                     08A7   358 ; NOW OPEN FILE AND CHECK ATTRIBUTES
                                     08A7   359 	$RAB_STORE	RAB=R9,ROP=<LOC>
                                     08AF   360 	$FAB_STORE	FAB=MTAFAB,FNA=NONFIL_FNM,FOP=#0,RAT=#0,-
                                     08AF   361 			FAC=<GET,BRO>
                          0270   30  08C5   362 	BSBW	OPEN_MT
                                     08C8   363 	$REWIND	RAB=R9,ERR=REPORT_ERROR
                          F726'  30  08D7   364 	BSBW	ERR
                          038F   30  08DA   365 	BSBW	EOF_CLOSE
            50   00000000'8F     D0  08DD   366 	MOVL	#MTAFAB,R0
                          0251   30  08E4   367 	BSBW	OPEN_MT
            01       F734 CF     91  08E7   368 	CMPB	MTAFAB+FAB$B_RFM,#FAB$C_FIX
                          15     13  08EC   369 	BEQL	NF10
                                     08EE   370 	FIELD	<RFM(NOT FIXED)>
       F738 CF            05     E1  0903   371 NF10:	BBC	#DEV$V_SQD,FAB$L_DEV+MTAFAB,NF20
                          1E         0908       
       0200 8F       F72F CF     B1  0909   372 	CMPW	MTAFAB+FAB$W_BLS,#512
                          15     13  0910   373 	BEQL	NF20
                                     0912   374 	FIELD	<BLS>
       0200 8F       F70B CF     B1  0927   375 NF20:	CMPW	MTAFAB+FAB$W_MRS,#512
                          15     13  092E   376 	BEQL	NF30
                                     0930   377 	FIELD	<MRS>
       F6F6 CF            05     E0  0945   378 NF30:	BBS	#DEV$V_SQD,FAB$L_DEV+MTAFAB,NF35
                          03         094A       
                          0089   31  094B   379 	BRW	NF40
                                     094E   380 NF35:	TYPE	<NON-FILE STRUCTURED MT TESTS>
                                     097D   381 	$RAB_STORE	RAB=R9,BKT=#10
                                     0981   382 	$SPACE		RAB=R9,ERR=REPORT_ERROR
                          F66D'  30  0990   383 	BSBW		ERR
                                     0993   384 
                                     0993   385 ; READ RECORDS FROM BLOCK 11 THRU END
            57            2B     9A  0993   386 	MOVZBL	#^A/!/ + 10,R7
                          0204   30  0996   387 	BSBW	LOOP1
                              00 00  0999   388 	.BYTE	0,0
                                     099B   389 	$RAB_STORE	RAB=R9,BKT=#-10
                                     09A3   390 	$SPACE		RAB=R9,ERR=REPORT_ERROR
                          F64B'  30  09B2   391 	BSBW		ERR
            57         71 8F     9A  09B5   392 	MOVZBL	#^X71,R7
                          01E1   30  09B9   393 	BSBW	LOOP1
                              00 00  09BC   394 	.BYTE	0,0
                          02AB   30  09BE   395 	BSBW	EOF_CLOSE
RMSTEST6        TEST MAGTAPE ;                                   22-AUG-1978 03:32:38   VAX-11 MACRO X0.3-11               Page  11
006                                                                                                                              (3)

                                     09C1   396 	FINISH	<NON-FILE STRUCTURED MT TESTS(IGNORE RAT ERROR)>
                                 05  09D6   397 	RSB
                                     09D7   398 ; NON-FILE STRUCTURED RANDOM DISK TEST
                                     09D7   399 ;
                                     09D7   400 NF40:	TYPE 	<NON_FILE STRUCTURED RANDOM DISK TEST>
                                     0A06   401 ;
                                     0A06   402 ; NOW OPEN FOR KEYED ACCESS
                                     0A06   403 	$RAB_STORE	RAB=R9,ROP=<LOC>,RAC=<KEY>,KBF=BUF
       F877 CF            01     9A  0A18   404 	MOVZBL	#1,BUF
                          0034   30  0A1D   405 	BSBW	CHECK_ONE
       F86E CF         59 8F     9A  0A20   406 	MOVZBL	#89,BUF
                          002B   30  0A26   407 	BSBW	CHECK_ONE
       F866 CF            19     9A  0A29   408 	MOVZBL	#25,BUF
                                     0A2E   409 	
                          0023   30  0A2E   410 NF50:	BSBW	CHECK_ONE
       F85A CF   00000059 8F     F3  0A31   411 	AOBLEQ	#89,BUF,NF50
                          F3         0A3A       
                          0084   30  0A3B   412 	BSBW	CLOSE_MT
                                     0A3E   413 	FINISH	<NON-FILE STRUCTURE DISK TESTS(IGNORE RAT ERROR)>
                                 05  0A53   414 	RSB
                                     0A54   415 
                                     0A54   416 ; CHECK ONE DISK RECORD
                                     0A54   417 ;
                                     0A54   418 CHECK_ONE:
                                     0A54   419 	$GET	RAB=R9,ERR=REPORT_ERROR
                          F59A'  30  0A63   420 	BSBW	ERR
            50            21     9A  0A66   421 	MOVZBL	#^A/!/,R0
            50       F827 CF     C0  0A69   422 	ADDL2	BUF,R0
         22 A9       0200 8F     B1  0A6E   423 	CMPW	#512,RAB$W_RSZ(R9)
                          15     13  0A74   424 	BEQL	ONE10
                                     0A76   425 	FIELD	<RSZ>
         28 B9         22 A9     2D  0A8B   426 ONE10:	CMPC5	RAB$W_RSZ(R9),@RAB$L_RBF(R9),R0,-
            00            50         0A90       
                          6E         0A92       
                                     0A93   427 		#0,(SP)
                          15     13  0A93   428 	BEQL	ONE20
                                     0A95   429 	FIELD	<RECORD>
                                 05  0AAA   430 ONE20:	RSB
RMSTEST6        TEST MAGTAPE ;                                   22-AUG-1978 03:32:38   VAX-11 MACRO X0.3-11               Page  12
006                                                                                                                              (4)

                                     0AAB   432 ;++
                                     0AAB   433 ;
                                     0AAB   434 ;  SUBROUTINES TO DO THE NITTY-GRITTIES OF THE MAGTAPE TESTS
                                     0AAB   435 ;
                                     0AAB   436 ;--
                                     0AAB   437 ;
                                     0AAB   438 ;	ROUTINE TO CREATE A MAGTAPE TEST FILE
                                     0AAB   439 ;
                                     0AAB   440 ;	R9 POINTS TO THE RAB
                                     0AAB   441 ;	RAB$W_RSZ(R9) CONTAINS THE SIZE OF THE RECORDS TO BE OUTPUT
                                     0AAB   442 ;	R6 IS THE ALTERNATE SIZE OF THE RECORDS TO BE OUTPUT
                                     0AAB   443 ;	R7 WILL BE DESTROYED
                                     0AAB   444 ;	R0 HAS FAB ADDRESS
                                     0AAB   445 ;
                                     0AAB   446 DO_PUT:
                          005F   30  0AAB   447 	BSBW	CREATE_MT
                          27     10  0AAE   448 	BSBB	PUTRECS				; CREATE THE RECORDS
                                     0AB0   449 	$DISCONNECT	RAB=R9,ERR=REPORT_ERROR
                          F53E'  30  0ABF   450 	BSBW	ERR
                                     0AC2   451 CLOSE_MT:
                                     0AC2   452 	$CLOSE	FAB=MTAFAB,ERR=REPORT_ERROR
                          F52A'  30  0AD3   453 	BSBW	ERR
                                 05  0AD6   454 	RSB
                                     0AD7   455 ;
                                     0AD7   456 ;  SUBROUTINE TO ACTUALLY PUT THE RECORDS IN THE FILE
                                     0AD7   457 ;
                                     0AD7   458 PUTRECS:
            57            21     D0  0AD7   459 	MOVL	#^A/!/,R7			; STARTING CHARACTER
                                     0ADA   460 LOOP:						;LOOP TO PUT  RECORDS OUT
            6E            00     2C  0ADA   461 	MOVC5	#0,(SP),R7,RAB$W_RSZ(R9),IOBUF		;FILL IOBUF W/ CHARACTERS
         22 A9            57         0ADD       
                     F5B1 CF         0AE0       
         2C B9            57     D0  0AE3   462 	MOVL	R7,@RAB$L_RHB(R9)			;FILL IN HEADER
                                     0AE7   463 	$PUT	RAB=R9,ERR=REPORT_ERROR
                          F507'  30  0AF6   464 	BSBW	ERR
            50         22 A9     B0  0AF9   465 	MOVW	RAB$W_RSZ(R9),R0			;SWAP REC LENGTHS
         22 A9            56     B0  0AFD   466 	MOVW	R6,RAB$W_RSZ(R9)
            56            50     D0  0B01   467 	MOVL	R0,R6
            57   0000007B 8F     F2  0B04   468 	AOBLSS	#^X7B,R7,LOOP
                          CE         0B0B       
                                 05  0B0C   469 	RSB
RMSTEST6        TEST MAGTAPE ;                                   22-AUG-1978 03:32:38   VAX-11 MACRO X0.3-11               Page  13
006                                                                                                                              (4)

                                     0B0D   471 ;
                                     0B0D   472 ;  ROUTINE TO CREATE A FILE
                                     0B0D   473 ;
                                     0B0D   474 CREATE_MT:
                                     0B0D   475 	$CREATE	FAB=MTAFAB,ERR=REPORT_ERROR
                          F4DF'  30  0B1E   476 	BSBW	ERR
                     F4DF CF     D4  0B21   477 	CLRL	FAB$L_FOP+MTAFAB
                                     0B25   478 	$CONNECT	RAB=R9,ERR=REPORT_ERROR
                          F4C9'  30  0B34   479 	BSBW	ERR
                                 05  0B37   480 	RSB
                                     0B38   481 
                                     0B38   482 
                                     0B38   483 ;
                                     0B38   484 ;  ROUTINE TO OPEN A MT FILE
                                     0B38   485 ;
                                     0B38   486 OPEN_MT:
                                     0B38   487 	$OPEN	FAB=R0,ERR=REPORT_ERROR
                          F4B6'  30  0B47   488 	BSBW	ERR
                                     0B4A   489 	$CONNECT	RAB=R9,ERR=REPORT_ERROR
                          F4A4'  30  0B59   490 	BSBW	ERR
            00       F4BD CF     91  0B5C   491 	CMPB	MTAFAB+FAB$B_ORG,#FAB$C_SEQ
                          15     13  0B61   492 	BEQL	OPN1
                                     0B63   493 	FIELD	<ORG (NOT SEQUENTIAL)>
       F4A1 CF            02     93  0B78   494 OPN1:	BITB	#FAB$M_CR,MTAFAB+FAB$B_RAT
                          15     12  0B7D   495 	BNEQ	OPN2
                                     0B7F   496 	FIELD	<RAT (CR NOT SET)>
                                 05  0B94   497 OPN2:	RSB
RMSTEST6        TEST MAGTAPE ;                                   22-AUG-1978 03:32:38   VAX-11 MACRO X0.3-11               Page  14
006                                                                                                                              (4)

                                     0B95   499 ;
                                     0B95   500 ;  READ AND CHECK MAGTAPE FILE
                                     0B95   501 ;
                                     0B95   502 READ_MT_VAR:
                          03     10  0B95   503 	BSBB	READ_MT
                              3B 4F  0B97   504 	.BYTE	79,59
                                 05  0B99   505 	RSB
                                     0B9A   506 
                                     0B9A   507 READ_MT:
            57            21     D0  0B9A   508 	MOVL	#^A/!/,R7			; STARTING CHARACTER
                                     0B9D   509 LOOP1:	$GET	RAB=R9,ERR=REPORT_ERROR
                          F451'  30  0BAC   510 	BSBW	ERR
   00000094'8F         28 A9     D1  0BAF   511 	CMPL	RAB$L_RBF(R9),#IOBUF
                          1D     12  0BB7   512 	BNEQ	LP1				; BRANCH IF LOCATE MODE WORKED
                                     0BB9   513 	FIELD	<RBF (INDICATES MOVE MODE)>
                                     0BCE   514 	MBPT
            50         00 BE     9A  0BD6   515 LP1:	MOVZBL	@(SP),R0			; GET EXPECTED SIZE
                          08     12  0BDA   516 	BNEQ	5$
            50       0200 8F     3C  0BDC   517 	MOVZWL	#512,R0
                          000A   31  0BE1   518 	BRW	10$
            07            57     E8  0BE4   519 5$:	BLBS	R7,10$				; BRANCH UNLESS ALTERNATE
            50            6E     D0  0BE7   520 	MOVL	(SP),R0
            50         01 A0     9A  0BEA   521 	MOVZBL	1(R0),R0			; GET ALTERNATE RECORD SIZE
         22 A9            50     B1  0BEE   522 10$:	CMPW	R0,RAB$W_RSZ(R9)		; SIZE RIGHT?
                          1D     13  0BF2   523 	BEQL	LP2				; BRANCH IF RIGHT
                                     0BF4   524 	FIELD	<RSZ>
                                     0C09   525 	MBPT
            6E            00     2D  0C11   526 LP2:	CMPC5	#0,(SP),R7,R0,@RAB$L_RBF(R9)	; RECORD CONTENTS OK?
            50            57         0C14       
                       28 B9         0C16       
                          1D     13  0C18   527 	BEQL	LP3				; BRANCH IF YES
                                     0C1A   528 	FIELD	<RBF (BAD RECORD CONTENTS)>
                                     0C2F   529 	MBPT
            03       F3E4 CF     91  0C37   530 LP3:	CMPB	MTAFAB+FAB$B_RFM,#FAB$C_VFC
                          23     12  0C3C   531 	BNEQ	LP4				; BRANCH IF NOT VFC RFM
            57         2C B9     D1  0C3E   532 	CMPL	@RAB$L_RHB(R9),R7		; RHB CONTENTS OK?
                          1D     13  0C42   533 	BEQL	LP4
                                     0C44   534 	FIELD	<RHB>
                                     0C59   535 	MBPT
            01         7A 8F     9D  0C61   536 LP4:	ACBB	#^X7A,#1,R7,LOOP1
            FF35          57         0C65       
            6E            02     C0  0C68   537 	ADDL2	#2,(SP)				; BUMP PAST ARGS
                                 05  0C6B   538 	RSB
RMSTEST6        TEST MAGTAPE ;                                   22-AUG-1978 03:32:38   VAX-11 MACRO X0.3-11               Page  15
006                                                                                                                              (4)

                                     0C6C   540 ;
                                     0C6C   541 ;  SUBROUTINE TO CHECK FOR AT EOF AND CLOSE MT FILE
                                     0C6C   542 ;
                                     0C6C   543 EOF_CLOSE:
                          03     10  0C6C   544 	BSBB	CHKEOF
                          FE51   31  0C6E   545 	BRW	CLOSE_MT
                                     0C71   546 
                                     0C71   547 
                                     0C71   548 ;
                                     0C71   549 ;  SUBROUTINE TO CHECK FOR AT EOF
                                     0C71   550 ;
                                     0C71   551 CHKEOF:	$GET	R9				;EXPECT EOF
                                     0C7A   552 CHKEOF1:
   00000000'8F            50     D1  0C7A   553 	CMPL	R0,#RMS$_EOF
                          06     13  0C81   554 	BEQL	CK5
            5A            59     D0  0C83   555 	MOVL	R9,R10
                          F377'  30  0C86   556 	BSBW	EOFPUT				;GIVE ERROR MESG'S
                                 05  0C89   557 CK5:	RSB
                                     0C8A   558 
                                     0C8A   559 
                                     0C8A   560 ;
                                     0C8A   561 ;  SUBROUTINE TO CHECK FOR ERROR CODE = RMS$_BOF
                                     0C8A   562 ;
   00000000'8F            50     D1  0C8A   563 CHKBOF:	CMPL	R0,#RMS$_BOF
                          1E     13  0C91   564 	BEQL	CKBEND
            5A            59     D0  0C93   565 	MOVL	R9,R10
                          F367'  30  0C96   566 	BSBW	REPORT_ERR
                                     0C99   567 	FIELD	<STS (EXPECTED RMS$_BOF)>
                          F34F'  30  0CAE   568 	BSBW	ERR
                                 05  0CB1   569 CKBEND:	RSB
                                     0CB2   570 
                                     0CB2   571 
                                     0CB2   572 	.END
RMSTEST6        TEST MAGTAPE ;                                   22-AUG-1978 03:32:38   VAX-11 MACRO X0.3-11               Page  16
SYMBOL TABLE                                                                                                                     (4)

$$.PSECT_EP    = 00000000            DEV$V_CCL      = 00000001            FAB$L_FOP        00000004    D       
$$.TAB         = 00000050 R  D  02   DEV$V_DIR      = 00000003            FAB$L_JNL        00000020    D       
$$.TABEND      = 00000094 R  D  02   DEV$V_DMT      = 00000015            FAB$L_MRN        00000038    D       
$$.TMP         = 00010000    D       DEV$V_ELG      = 00000016            FAB$L_NAM        00000028    D       
$$.TMP1        = 00000001    D       DEV$V_FOD      = 0000000E            FAB$L_SDC        00000044            
$$.TMP2        = 00000059            DEV$V_FOR      = 00000018    D       FAB$L_STS        00000008    D       
$$.TMPX        = 0000024E R  D  05   DEV$V_GEN      = 00000011            FAB$L_STV        0000000C            
$$.TMPX1       = 00000017    D       DEV$V_IDV      = 0000001A            FAB$L_XAB        00000024    D       
$$RMSTEST      = 0000001E            DEV$V_MBX      = 00000014            FAB$M_BIO      = 00000020            
$$RMS_PBUGCHK  = 00000010            DEV$V_MNT      = 00000013            FAB$M_BLK      = 00000008    D       
$$RMS_TBUGCHK  = 00000008            DEV$V_NET      = 0000000D            FAB$M_BRO      = 00000040            
$$RMS_UMODE    = 00000004            DEV$V_ODV      = 0000001B            FAB$M_CBT      = 00200000            
..AFLG         = 00000000    D       DEV$V_RCK      = 0000001E            FAB$M_CIF      = 02000000            
..FLG          = 00000002    D       DEV$V_REC      = 00000000            FAB$M_CR       = 00000002    D       
..N            = 00000001            DEV$V_RND      = 0000001C            FAB$M_CTG      = 00100000            
..TYP          = 00000003    D       DEV$V_RTM      = 0000001D            FAB$M_DEL      = 00000004            
.LEN           = 00000004    D       DEV$V_SDI      = 00000004            FAB$M_DFW      = 00000020            
BEGPUT           ********   X   02   DEV$V_SHR      = 00000010            FAB$M_DLT      = 00008000            
BEG_DESCR        ********   X   02   DEV$V_SPL      = 00000006            FAB$M_DMO      = 00001000            
BIT...         = 00000020    D       DEV$V_SQD      = 00000005    D       FAB$M_ESC      = 08000000            
BUF              00000294 R  D  02   DEV$V_SWL      = 00000019            FAB$M_EXE      = 00000080            
CHECK_ONE        00000A54 R  D  02   DEV$V_TRM      = 00000002            FAB$M_FTN      = 00000001            
CHKBOF           00000C8A R  D  02   DEV$V_WCK      = 0000001F            FAB$M_GET      = 00000002            
CHKEOF           00000C71 R  D  02   DO_PUT           00000AAB R  D  02   FAB$M_INP      = 00080000            
CHKEOF1          00000C7A R  D  02   EOFPUT           ********   X   02   FAB$M_JNL      = 00400000            
CK5              00000C89 R  D  02   EOF_CLOSE        00000C6C R  D  02   FAB$M_KFO      = 40000000            
CKBEND           00000CB1 R  D  02   ERR              ********   X   02   FAB$M_MSE      = 00000010            
CLOSE_MT         00000AC2 R  D  02   FAB$B_BID        00000000            FAB$M_MXV      = 00000002            
CMDORAB          ********   X   02   FAB$B_BKS        0000003E    D       FAB$M_NAM      = 01000000            
CREATE_MT        00000B0D R  D  02   FAB$B_BLN        00000001            FAB$M_NEF      = 00000400            
DEV$M_ALL      = 00800000            FAB$B_DNS        00000035    D       FAB$M_NFS      = 00010000            
DEV$M_AVL      = 00040000            FAB$B_FAC        00000016    D       FAB$M_NIL      = 00000020            
DEV$M_CCL      = 00000002            FAB$B_FNS        00000034    D       FAB$M_OFP      = 20000000            
DEV$M_DIR      = 00000008            FAB$B_FSZ        0000003F    D       FAB$M_POS      = 00000100            
DEV$M_DMT      = 00200000            FAB$B_ORG        0000001D    D       FAB$M_PPF      = 00040000            
DEV$M_ELG      = 00400000            FAB$B_RAT        0000001E    D       FAB$M_PPF_IND  = 00004000            
DEV$M_FOD      = 00004000            FAB$B_RFM        0000001F    D       FAB$M_PPF_RAT  = 00003FC0            
DEV$M_FOR      = 01000000            FAB$B_RTV        0000001C    D       FAB$M_PRN      = 00000004            
DEV$M_GEN      = 00020000            FAB$B_SHR        00000017    D       FAB$M_PUT      = 00000001            
DEV$M_IDV      = 04000000            FAB$C_BID      = 00000003    D       FAB$M_RCK      = 00800000            
DEV$M_MBX      = 00100000            FAB$C_BLN        00000050    D       FAB$M_RWC      = 00000800            
DEV$M_MNT      = 00080000            FAB$C_FIX      = 00000001    D       FAB$M_RWO      = 00000080            
DEV$M_NET      = 00002000            FAB$C_HSH      = 00000030            FAB$M_SCF      = 00004000            
DEV$M_ODV      = 08000000            FAB$C_IDX      = 00000020            FAB$M_SHRDEL   = 00000004            
DEV$M_RCK      = 40000000            FAB$C_MAXRFM   = 00000003            FAB$M_SHRGET   = 00000002            
DEV$M_REC      = 00000001            FAB$C_REL      = 00000010    D       FAB$M_SHRPUT   = 00000001            
DEV$M_RND      = 10000000            FAB$C_RFM_DFLT = 00000002            FAB$M_SHRUPD   = 00000008            
DEV$M_RTM      = 20000000            FAB$C_SEQ      = 00000000    D       FAB$M_SPL      = 00002000            
DEV$M_SDI      = 00000010            FAB$C_UDF      = 00000000            FAB$M_SQO      = 00000040            
DEV$M_SHR      = 00010000            FAB$C_VAR      = 00000002    D       FAB$M_SUP      = 00000004            
DEV$M_SPL      = 00000040            FAB$C_VFC      = 00000003    D       FAB$M_TEF      = 10000000            
DEV$M_SQD      = 00000020            FAB$K_BLN        00000050            FAB$M_TMD      = 00000010            
DEV$M_SWL      = 02000000            FAB$L_ALQ        00000010    D       FAB$M_TMP      = 00000008            
DEV$M_TRM      = 00000004            FAB$L_CTX        00000018    D       FAB$M_TRN      = 00000010            
DEV$M_WCK      = 80000000            FAB$L_DEV        00000040    D       FAB$M_UFM      = 04000000            
DEV$V_ALL      = 00000017            FAB$L_DNA        00000030    D       FAB$M_UFO      = 00020000            
DEV$V_AVL      = 00000012            FAB$L_FNA        0000002C    D       FAB$M_UPD      = 00000008            
RMSTEST6        TEST MAGTAPE ;                                   22-AUG-1978 03:32:38   VAX-11 MACRO X0.3-11               Page  17
SYMBOL TABLE                                                                                                                     (4)

FAB$M_UPI      = 00000040            FAB$W_DEQ        00000014    D       RAB$L_DCT        00000038            
FAB$M_WCK      = 00000200            FAB$W_IFI        00000002            RAB$L_FAB        0000003C    D       
FAB$S_ORG      = 00000004            FAB$W_MRS        00000036    D       RAB$L_KBF        00000030    D       
FAB$S_PPF_RAT  = 00000008            FINPUT           ********   X   02   RAB$L_PBF        00000030            
FAB$V_BIO      = 00000005            FIN_DESCR        ********   X   02   RAB$L_RBF        00000028    D       
FAB$V_BLK      = 00000003    D       FLDPUT           ********   X   02   RAB$L_RFA0       00000010            
FAB$V_BRO      = 00000006    D       FLD_DESCR        ********   X   02   RAB$L_RHB        0000002C    D       
FAB$V_CBT      = 00000015            FNSIZE         = 00000005    D       RAB$L_ROP        00000004    D       
FAB$V_CIF      = 00000019    D       GBL...         = 00000000    D       RAB$L_STS        00000008            
FAB$V_CR       = 00000001    D       IOBSZ          = 00000200  G         RAB$L_STV        0000000C            
FAB$V_CTG      = 00000014            IOBUF            00000094 RG D  02   RAB$L_UBF        00000024    D       
FAB$V_DEL      = 00000002            LOOP             00000ADA R  D  02   RAB$M_ASY      = 00000001            
FAB$V_DFW      = 00000005            LOOP1            00000B9D R  D  02   RAB$M_BIO      = 00000800            
FAB$V_DLT      = 0000000F            LP1              00000BD6 R  D  02   RAB$M_CCO      = 80000000            
FAB$V_DMO      = 0000000C            LP2              00000C11 R  D  02   RAB$M_CVT      = 04000000            
FAB$V_ESC      = 0000001B            LP3              00000C37 R  D  02   RAB$M_EOF      = 00000100            
FAB$V_EXE      = 00000007            LP4              00000C61 R  D  02   RAB$M_FDL      = 00000040            
FAB$V_FTN      = 00000000            MTAFAB           00000000 R  D  02   RAB$M_HSH      = 00000080            
FAB$V_GET      = 00000001    D       MTARAB           00000050 R  D  02   RAB$M_KGE      = 00200000            
FAB$V_INP      = 00000013            MTFIX_FNM        0000029D R  D  02   RAB$M_KGT      = 00400000            
FAB$V_JNL      = 00000016            MTST1_FNM        000002A7 R  D  02   RAB$M_LIM      = 00004000            
FAB$V_KFO      = 0000001E            MTVAR_FNM        00000298 R  D  02   RAB$M_LOA      = 00002000            
FAB$V_MSE      = 00000004            MTVFC_FNM        000002A2 R  D  02   RAB$M_LOC      = 00010000            
FAB$V_MXV      = 00000001            NF10             00000903 R  D  02   RAB$M_MAS      = 00000020            
FAB$V_NAM      = 00000018            NF20             00000927 R  D  02   RAB$M_NLK      = 00100000            
FAB$V_NEF      = 0000000A    D       NF30             00000945 R  D  02   RAB$M_NXR      = 00800000            
FAB$V_NFS      = 00000010            NF35             0000094E R  D  02   RAB$M_PMT      = 40000000            
FAB$V_NIL      = 00000005            NF40             000009D7 R  D  02   RAB$M_PPF_IND  = 00004000            
FAB$V_OFP      = 0000001D            NF50             00000A2E R  D  02   RAB$M_PPF_RAT  = 00003FC0            
FAB$V_ORG      = 00000004            NONFIL_FNM       000002AC R  D  02   RAB$M_PTA      = 20000000            
FAB$V_POS      = 00000008    D       NON_FILE         0000083B R  D  02   RAB$M_RAH      = 00000200            
FAB$V_PPF      = 00000012            ONE10            00000A8B R  D  02   RAB$M_RLK      = 00080000            
FAB$V_PPF_IND  = 0000000E            ONE20            00000AAA R  D  02   RAB$M_RNE      = 01000000            
FAB$V_PPF_RAT  = 00000006            OPEN_MT          00000B38 R  D  02   RAB$M_RNF      = 08000000            
FAB$V_PRN      = 00000002            OPN1             00000B78 R  D  02   RAB$M_TMO      = 02000000            
FAB$V_PUT      = 00000000    D       OPN2             00000B94 R  D  02   RAB$M_TPT      = 00000002    D       
FAB$V_RCK      = 00000017            PUTRECS          00000AD7 R  D  02   RAB$M_UIF      = 00000010            
FAB$V_RWC      = 0000000B    D       RAB$B_BID        00000000            RAB$M_ULK      = 00040000            
FAB$V_RWO      = 00000007    D       RAB$B_BLN        00000001            RAB$M_WAT      = 00020000            
FAB$V_SCF      = 0000000E            RAB$B_KRF        00000035    D       RAB$M_WBH      = 00000400            
FAB$V_SHRDEL   = 00000002            RAB$B_KSZ        00000034    D       RAB$S_PPF_RAT  = 00000008            
FAB$V_SHRGET   = 00000001            RAB$B_MBC        00000037    D       RAB$V_ASY      = 00000000            
FAB$V_SHRPUT   = 00000000            RAB$B_MBF        00000036    D       RAB$V_BIO      = 0000000B            
FAB$V_SHRUPD   = 00000003            RAB$B_PSZ        00000034            RAB$V_CCO      = 0000001F            
FAB$V_SPL      = 0000000D            RAB$B_RAC        0000001E    D       RAB$V_CVT      = 0000001A            
FAB$V_SQO      = 00000006            RAB$B_ROP1       00000005            RAB$V_EOF      = 00000008            
FAB$V_SUP      = 00000002    D       RAB$B_ROP2       00000006            RAB$V_FDL      = 00000006            
FAB$V_TEF      = 0000001C            RAB$B_ROP3       00000007            RAB$V_HSH      = 00000007            
FAB$V_TMD      = 00000004            RAB$B_TMO        0000001F    D       RAB$V_KGE      = 00000015            
FAB$V_TMP      = 00000003            RAB$C_BID      = 00000001    D       RAB$V_KGT      = 00000016            
FAB$V_TRN      = 00000004    D       RAB$C_BLN        00000044    D       RAB$V_LIM      = 0000000E            
FAB$V_UFM      = 0000001A            RAB$C_KEY      = 00000001    D       RAB$V_LOA      = 0000000D            
FAB$V_UFO      = 00000011            RAB$C_RFA      = 00000002            RAB$V_LOC      = 00000010    D       
FAB$V_UPD      = 00000003            RAB$C_SEQ      = 00000000    D       RAB$V_MAS      = 00000005            
FAB$V_UPI      = 00000006            RAB$K_BLN        00000044            RAB$V_NLK      = 00000014            
FAB$V_WCK      = 00000009            RAB$L_BKT        00000038    D       RAB$V_NXR      = 00000017            
FAB$W_BLS        0000003C    D       RAB$L_CTX        00000018    D       RAB$V_PMT      = 0000001E            
RMSTEST6        TEST MAGTAPE ;                                   22-AUG-1978 03:32:38   VAX-11 MACRO X0.3-11               Page  18
SYMBOL TABLE                                                                                                                     (4)

RAB$V_PPF_IND  = 0000000E            
RAB$V_PPF_RAT  = 00000006            
RAB$V_PTA      = 0000001D            
RAB$V_RAH      = 00000009            
RAB$V_RLK      = 00000013            
RAB$V_RNE      = 00000018            
RAB$V_RNF      = 0000001B            
RAB$V_TMO      = 00000019            
RAB$V_TPT      = 00000001            
RAB$V_UIF      = 00000004            
RAB$V_ULK      = 00000012            
RAB$V_WAT      = 00000011            
RAB$V_WBH      = 0000000A            
RAB$W_ISI        00000002            
RAB$W_RFA        00000010            
RAB$W_RFA4       00000014            
RAB$W_RSZ        00000022    D       
RAB$W_USZ        00000020    D       
READ_MT          00000B9A R  D  02   
READ_MT_VAR      00000B95 R  D  02   
REPORT_ERR       ********   X   02   
REPORT_ERROR     ********   X   02   
RHBBUF           ********   X   02   
RMS$_BOF         ********   X   02   
RMS$_CREATED     ********   X   02   
RMS$_EOF         ********   X   02   
RMS$_NORMAL      ********   X   02   
RMT1             00000425 R  D  02   
RMT11            000006BB R  D  02   
RMT12            00000715 R  D  02   
RMT2             00000449 R  D  02   
RMT3             00000465 R  D  02   
RMT4             0000049E R  D  02   
RMT5             000004BC R  D  02   
RMT6             000004D7 R  D  02   
RMT7             0000050E R  D  02   
RMT8             00000532 R  D  02   
RMT9             0000054D R  D  02   
STRMT            0000031E R  D  02   
SYS$CLOSE        ********  GX   02   
SYS$CONNECT      ********  GX   02   
SYS$CREATE       ********  GX   02   
SYS$DISCONNECT   ********  GX   02   
SYS$ERASE        ********  GX   02   
SYS$GET          ********  GX   02   
SYS$NXTVOL       ********  GX   02   
SYS$OPEN         ********  GX   02   
SYS$PUT          ********  GX   02   
SYS$REWIND       ********  GX   02   
SYS$SPACE        ********  GX   02   
SYS$TRUNCATE     ********  GX   02   
T6START          00000000 RG D  02   
TST$MTA          000002B1 RG D  02   
VERBOSITY        ********   X   02   


PROGRAM SECTION SYNOPSIS
RMSTEST6        TEST MAGTAPE ;                                   22-AUG-1978 03:32:38   VAX-11 MACRO X0.3-11               Page  19
PROGRAM SECTION SYNOPSIS                                                                                                         (4)


.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
__RMSTEST        00000CB2      02     NOPIC   USR   CON   REL   GBL NOSHR   EXE   RD    WRT LONG  
$ABS$            00000050      03     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
$RMSNAM          0000000E      04     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
__$RMSNAM        00000265      05     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
3098. BYTES LEFT IN FREE MEMORY POOL.
14. BYTES OF RECLAIMED MEMORY.
OBJ$:RMSTEST6,LIS$:RMSTEST6/-SP=SRC$:UETPLIBS,SRCD$:[RMSTEST]RMSTEST6
120 MLB DIR RDS - 856 GETS TO DEFINE 49 MACROS. 124 INTER. FILE WRITES. 

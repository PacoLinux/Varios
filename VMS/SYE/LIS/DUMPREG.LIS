
                22-Aug-1978 02:49:18	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 1   
					DUMPREG.FOR.7       

0001    	SUBROUTINE DUMP REG( LUN, NUMREGS, REG)
0002    	BYTE		LUN
0003    	INTEGER*2	NUMREGS		! COMPATABILITY C OLD SYE.
        					! ACTUALLY, I*4 NUMREGS.
        					! ACTUALLY, REG(0)==NUMREGS.
0004    	INTEGER*4	REG(1)		! ASSUMES CHECK=NOBOUNDS
         
        C
        C
        C	OWN STORAGE:
        C
0005    	INTEGER*4	L_LOCAL
0006    	BYTE		B_LOCAL(0:3)
0007    	EQUIVALENCE(	L_LOCAL,	B_LOCAL(0))
         
         
         
0008    	CALL LINCHK(LUN,2)
0009    	WRITE( LUN, 501)
0010     501	FORMAT('0Entry Dump:')
         
         
0011    	DO  600, I = 1,NUMREGS
0012    	    L_LOCAL = REG(I)
0013    	    DO 550, J=3,0,-1
0014    		IF(
        	1	    (B_LOCAL(J) .GE. 'A'
        	2		    .AND.
        	3	    B_LOCAL(J) .LE. 'Z')
        	4		    .OR.
        	5	    (B_LOCAL(J) .GE. 'a'
        	6		    .AND.
        	7	    B_LOCAL(J) .LE. 'z')
        	8		    .OR.
        	9	    (B_LOCAL(J) .GE. '0'
        	1		    .AND.
        	2	    B_LOCAL(J) .LE. '9'))
        	3		THEN
0015    				B_LOCAL(J) = B_LOCAL(J)
0016    			ELSE
0017    				B_LOCAL(J) = '.'
0018    		ENDIF
0019     550	    CONTINUE
0020    	    CALL LINCHK(LUN,1)
0021    	    WRITE( LUN, 511)  I, REG(I), L_LOCAL
0022     511	    FORMAT( ' 	Longword',I3,T23,'X''',Z8,'''',T40,'/',A4,'/')
0023     600	CONTINUE
         
         
0024    	RETURN
0025    	END

DUMPREG         22-Aug-1978 02:49:18	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 2   
					DUMPREG.FOR.7       

		.TITLE	DUMPREG
		.IDENT	01

    0000	.PSECT	$LOCAL
    0000  B_LOCAL:
    0000  L_LOCAL:

    0000	.PSECT	$PDATA
    0000	.LONG	^X00000002
    0004	.LONG	^X00000001

    000C	.PSECT	$LOCAL
    000C	.LONG	^X04080004
    0010	.LONG	^X00000000
    0014	.LONG	^X01200000,^X00000004
    001C	.LONG	^X00000000
    0020	.LONG	^X00000002
    0024	.LONG	^X00000000
    0028	.ADDR	$PDATA
    002C	.LONG	^X00000002
    0030	.LONG	^X00000000
    0034	.ADDR	$PDATA+^X4

    0008	.PSECT	$PDATA
    0008  .501:
    0008	.XBYTE	0F,0C,30,45,6E,74,72,79,20,44,75,6D,70,3A,04
    0017  .511:
    0017	.XBYTE	0F,0A,20,09,4C,6F,6E,67,77,6F,72,64,18,03,0D,17
    0027	.XBYTE	0F,02,58,27,19,08,0F,01,27,0D,28,0F,01,2F,15,04
    0037	.XBYTE	0F,01,2F,04

    0000	.PSECT	$CODE
    0000  DUMPREG::
    0000	.WORD	^M<IV,R8,R9,R10,R11>
    0002	MOVAL	$LOCAL+^X4, R11
    0009	MOVL	REG(AP), $LOCAL+^X10(R11)
    000E	SUBL3	#4, REG(AP), $LOCAL+^X1C(R11)
									    ; 0008
    0014	MOVAB	@LUN(AP), $LOCAL+^X24(R11)
    0019	CALLG	$LOCAL+^X20(R11), LINCHK
									    ; 0009
    0021	PUSHAL	.501
    0027	CVTBL	@LUN(AP), -(SP)
    002B	CALLS	#2, FOR$WRITE_SF
    0032	CALLS	#0, FOR$IO_END
									    ; 0011
    0039	CVTWL	@NUMREGS(AP), R8
    003D	MOVL	#1, I(R11)
    0040	MOVAL	@$LOCAL+^X1C(R11), R9
    0044  L$IAEH:
									    ; 0012
    0044	MOVL	I(R11), R0
    0047	MOVL	(R9)[R0], L_LOCAL(R11)
									    ; 0013
    004C	MOVL	#3, R10
    004F  L$IALJ:

DUMPREG         22-Aug-1978 02:49:18	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 3   
					DUMPREG.FOR.7       

									    ; 0014
    004F	CMPB	B_LOCAL(R11)[R10], #65
    0055	BLSS	L$IAEM
    0057	CMPB	B_LOCAL(R11)[R10], #90
    005D	BLEQ	L$IAOL
    005F  L$IAEM:
    005F	CMPB	B_LOCAL(R11)[R10], #97
    0065	BLSS	L$IAKM
    0067	CMPB	B_LOCAL(R11)[R10], #122
    006D	BLEQ	L$IAOL
    006F  L$IAKM:
    006F	CMPB	B_LOCAL(R11)[R10], #48
    0074	BLSS	L$IAMK
    0076	CMPB	B_LOCAL(R11)[R10], #57
    007B	BGTR	L$IAMK
    007D  L$IAOL:
									    ; 0016
    007D	BRB	L$IACL
    007F  L$IAMK:
									    ; 0017
    007F	MOVB	#46, B_LOCAL(R11)[R10]
									    ; 0018
    0084  L$IACL:
									    ; 0019
    0084	SOBGEQ	R10, L$IALJ
									    ; 0020
    0087	MOVAB	@LUN(AP), $LOCAL+^X30(R11)
    008C	CALLG	$LOCAL+^X2C(R11), LINCHK
									    ; 0021
    0094	PUSHAL	.511
    009A	CVTBL	@LUN(AP), -(SP)
    009E	CALLS	#2, FOR$WRITE_SF
    00A5	PUSHAL	I(R11)
    00A7	CALLS	#1, FOR$IO_L_R
    00AE	MOVL	I(R11), R0
    00B1	PUSHAL	(R9)[R0]
    00B4	CALLS	#1, FOR$IO_L_R
    00BB	PUSHAL	L_LOCAL(R11)
    00BE	CALLS	#1, FOR$IO_L_R
    00C5	CALLS	#0, FOR$IO_END
									    ; 0023
    00CC	ACBL	R8, #1, I(R11), L$IAEH
    00D2	MOVL	R10, J(R11)
									    ; 0024
    00D6	RET	
		.END

DUMPREG         22-Aug-1978 02:49:18	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 4   
					DUMPREG.FOR.7       

PROGRAM SECTIONS

    Name                 Bytes   Attributes

  0 $CODE                  215   PIC CON REL LCL   SHR   EXE   RD NOWRT LONG
  1 $PDATA                  59   PIC CON REL LCL   SHR NOEXE   RD NOWRT LONG
  2 $LOCAL                  56   PIC CON REL LCL NOSHR NOEXE   RD   WRT LONG


ENTRY POINTS

    Address  Type Name           

  0-00000000      DUMPREG        


VARIABLES

    Address  Type Name               Address  Type Name               Address  Type Name               Address  Type Name           

  2-00000004  I*4 I                2-00000008  I*4 J               AP-00000004@ L*1 LUN              2-00000000  I*4 L_LOCAL        
 AP-00000008@ I*2 NUMREGS        


ARRAYS

    Address  Type Name		       Bytes  Dimensions

  2-00000000  L*1 B_LOCAL                  4  (0:3)
 AP-0000000C@ I*4 REG                      4  (1)


LABELS

    Address   Label       Address   Label       Address   Label       Address   Label   

  1-00000008  501'      1-00000017  511'          **      550           **      600     


FUNCTIONS AND SUBROUTINES REFERENCED

LINCHK         


Total Space Allocated = 330 Bytes


COMPILER OPTIONS

/CHECK=(NOBOUNDS,OVERFLOW)
/DEBUG=(NOSYMBOLS,TRACEBACK)
/OPTIMIZE  /WARNINGS  /I4  /NOD_LINES  

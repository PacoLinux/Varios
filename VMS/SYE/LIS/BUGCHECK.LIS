
                22-Aug-1978 02:51:45	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 1   
					BUGCHECK.FOR.15     

0001    	SUBROUTINE BUGCHECK (LUN)
0002    	BYTE	LUN
        C
        C	INCLUDE FILES:
        C
0003    	INCLUDE 'SRC$:BCEMBDEF.FOR/NOLIST'
        C
        C	OWN STORAGE:
        C
0066    	INTEGER*4	LINE_CT,SIZE
0067    	INTEGER*4	PCB(32)
0068    	EQUIVALENCE (PCB(1),EMB$B_BC_PCB)
0069    	INTEGER*4	MSG_LENGTH
0070    	CHARACTER*256	MSG_TEXT
        C
        C
        C
         
0071    	CALL LINCHK(LUN,2)
0072    	WRITE (LUN,100) 'BUGCHECK CODE:',EMB$L_BC_CODE
0073    100	FORMAT ('0',A,:,T23,Z8)
0074    	CALL 	CSTRING(EMB$L_BC_CODE,%REF(MSG_TEXT),MSG_LENGTH)
0075    	IF (MSG_LENGTH .NE. 0)
        	1	THEN
0076    			CALL LINCHK(LUN,1)
0077    			WRITE(LUN,110)MSG_TEXT(1:MSG_LENGTH)
0078    	ENDIF
0079    110	FORMAT (' ',T5,A)
        C
        C	REGISTER SUMMARY OUTPUT
        C
0080    	CALL REG_SUM (LUN,EMB$L_BC_KSP)
        C
        C	PCB OUTPUT
        C
0081    	SIZE=EMB$W_BC_PCBSZ/4
0082    	LINE_CT=SIZE+2
0083    	CALL LINCHK(LUN,LINE_CT)
0084    	WRITE (LUN,200) (PCB(I),I=1,SIZE)
0085    200	FORMAT ('0SOFTWARE PCB:'/<SIZE>(T10,Z8/))
0086    	RETURN
0087    	END

BUGCHECK        22-Aug-1978 02:51:45	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 2   
					BUGCHECK.FOR.15     

		.TITLE	BUGCHECK
		.IDENT	01

    0000	.PSECT	EMB
    0000  EMB:
    006E  EMB$B_BC_PCB:
    006E  PCB:
    006C  EMB$W_BC_PCBSZ:
    0068  EMB$L_BC_CODE:
    0064  EMB$L_BC_PSL:
    0060  EMB$L_BC_PC:
    005C  EMB$L_BC_SP:
    0058  EMB$L_BC_FP:
    0054  EMB$L_BC_AP:
    0050  EMB$L_BC_R11:
    004C  EMB$L_BC_R10:
    0048  EMB$L_BC_R9:
    0044  EMB$L_BC_R8:
    0040  EMB$L_BC_R7:
    003C  EMB$L_BC_R6:
    0038  EMB$L_BC_R5:
    0034  EMB$L_BC_R4:
    0030  EMB$L_BC_R3:
    002C  EMB$L_BC_R2:
    0028  EMB$L_BC_R1:
    0024  EMB$L_BC_R0:
    0020  EMB$L_BC_ISP:
    001C  EMB$L_BC_USP:
    0018  EMB$L_BC_SSP:
    0014  EMB$L_BC_ESP:
    0010  EMB$L_BC_KSP:
    000E  EMB$W_BC_ERRSEQ:
    0006  EMB$Q_BC_TIME:
    0004  EMB$W_BC_ENTRY:

    0000	.PSECT	$PDATA
    0000	.LONG	^X00000002
    0004	.XBYTE	42,55,47,43,48,45,43,4B,20,43,4F,44,45,3A
    0012	.LONG	^X00000001

    011C	.PSECT	$LOCAL
    011C	.LONG	^X00000002
    0120	.LONG	^X00000000
    0124	.ADDR	$PDATA
    0128	.LONG	^X010E000E
    012C	.ADDR	$PDATA+^X4
    0130	.LONG	^X00000003
    0134	.ADDR	EMB$L_BC_CODE
    0138	.ADDR	MSG_TEXT
    013C	.ADDR	MSG_LENGTH
    0140	.LONG	^X00000002
    0144	.LONG	^X00000000
    0148	.ADDR	$PDATA+^X12
    014C	.LONG	^X010E0000
    0150	.ADDR	MSG_TEXT
    0154	.LONG	^X00000002

BUGCHECK        22-Aug-1978 02:51:45	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 3   
					BUGCHECK.FOR.15     

    0158	.LONG	^X00000000
    015C	.ADDR	EMB$L_BC_KSP
    0160	.LONG	^X00000002
    0164	.LONG	^X00000000
    0168	.ADDR	LINE_CT

    0016	.PSECT	$PDATA
    0016  .100:
    0016	.XBYTE	0F,01,30,29,07,0D,17,19,08,04
    0020  .110:
    0020	.XBYTE	0F,01,20,0D,05,29,04
    0027  .200:
    0027	.XBYTE	0F,0E,30,53,4F,46,54,57,41,52,45,20,50,43,42,3A
    0037	.XBYTE	05,01,82,80
    003B	.ADDR	L$JBKL
    003F	.XBYTE	0D,0A,19,08,05,03,04

    0000	.PSECT	$CODE
    0000  BUGCHECK::
    0000	.WORD	^M<IV,R10,R11>
    0002	MOVAL	$LOCAL+^X100, R11
									    ; 0071
    0009	MOVAB	@LUN(AP), $LOCAL+^X120(R11)
    000E	CALLG	$LOCAL+^X11C(R11), LINCHK
									    ; 0072
    0016	PUSHAL	.100
    001C	CVTBL	@LUN(AP), -(SP)
    0020	CALLS	#2, FOR$WRITE_SF
    0027	PUSHAB	$LOCAL+^X128(R11)
    002A	CALLS	#1, FOR$IO_T_DS
    0031	PUSHAL	EMB$L_BC_CODE
    0037	CALLS	#1, FOR$IO_L_R
    003E	CALLS	#0, FOR$IO_END
									    ; 0074
    0045	CALLG	$LOCAL+^X130(R11), CSTRING
									    ; 0075
    004D	TSTL	MSG_LENGTH(R11)
    0050	BEQL	L$JBPH
									    ; 0076
    0052	MOVAB	@LUN(AP), $LOCAL+^X144(R11)
    0057	CALLG	$LOCAL+^X140(R11), LINCHK
									    ; 0077
    005F	PUSHAL	.110
    0065	CVTBL	@LUN(AP), -(SP)
    0069	CALLS	#2, FOR$WRITE_SF
    0070	MOVW	MSG_LENGTH(R11), $LOCAL+^X14C(R11)
    0075	PUSHAB	$LOCAL+^X14C(R11)
    0078	CALLS	#1, FOR$IO_T_DS
    007F	CALLS	#0, FOR$IO_END
									    ; 0078
    0086  L$JBPH:
									    ; 0080
    0086	MOVAB	@LUN(AP), $LOCAL+^X158(R11)
    008B	CALLG	$LOCAL+^X154(R11), REG_SUM
									    ; 0081
    0093	DIVW3	#4, EMB$W_BC_PCBSZ, R0

BUGCHECK        22-Aug-1978 02:51:45	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 4   
					BUGCHECK.FOR.15     

    009B	CVTWL	R0, SIZE(R11)
									    ; 0082
    009F	ADDL3	#2, SIZE(R11), LINE_CT(R11)
									    ; 0083
    00A5	MOVAB	@LUN(AP), $LOCAL+^X164(R11)
    00AA	CALLG	$LOCAL+^X160(R11), LINCHK
									    ; 0084
    00B2	PUSHAL	.200
    00B8	CVTBL	@LUN(AP), -(SP)
    00BC	CALLS	#2, FOR$WRITE_SF
    00C3	MOVL	#1, R10
    00C6  L$JBBK:
    00C6	PUSHAL	PCB-4[R10]
    00CD	CALLS	#1, FOR$IO_L_R
    00D4	AOBLEQ	SIZE(R11), R10, L$JBBK
    00D9	MOVL	R10, I(R11)
    00DD	CALLS	#0, FOR$IO_END
									    ; 0086
    00E4	RET	
    00E5  L$JBKL:
    00E5	.WORD	^M<IV>
    00E7	MOVL	SIZE, R0
    00EE	RET	
		.END

BUGCHECK        22-Aug-1978 02:51:45	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 5   
					BUGCHECK.FOR.15     

PROGRAM SECTIONS

    Name                 Bytes   Attributes

  0 $CODE                  239   PIC CON REL LCL   SHR   EXE   RD NOWRT LONG
  1 $PDATA                  70   PIC CON REL LCL   SHR NOEXE   RD NOWRT LONG
  2 $LOCAL                 364   PIC CON REL LCL NOSHR NOEXE   RD   WRT LONG
  3 EMB                    500   PIC OVR REL GBL   SHR NOEXE   RD   WRT LONG


ENTRY POINTS

    Address  Type Name           

  0-00000000      BUGCHECK       


VARIABLES

    Address  Type Name               Address  Type Name               Address  Type Name               Address  Type Name           

  3-0000006E  L*1 EMB$B_BC_PCB     2-00000104  I*4 EMB$C_BC_LENGTH  2-00000108  I*4 EMB$K_BC_LENGTH  3-00000054  I*4 EMB$L_BC_AP    
  3-00000068  I*4 EMB$L_BC_CODE    3-00000014  I*4 EMB$L_BC_ESP     3-00000058  I*4 EMB$L_BC_FP      3-00000020  I*4 EMB$L_BC_ISP   
  3-00000010  I*4 EMB$L_BC_KSP     3-00000060  I*4 EMB$L_BC_PC      3-00000064  I*4 EMB$L_BC_PSL     3-00000024  I*4 EMB$L_BC_R0    
  3-00000028  I*4 EMB$L_BC_R1      3-0000004C  I*4 EMB$L_BC_R10     3-00000050  I*4 EMB$L_BC_R11     3-0000002C  I*4 EMB$L_BC_R2    
  3-00000030  I*4 EMB$L_BC_R3      3-00000034  I*4 EMB$L_BC_R4      3-00000038  I*4 EMB$L_BC_R5      3-0000003C  I*4 EMB$L_BC_R6    
  3-00000040  I*4 EMB$L_BC_R7      3-00000044  I*4 EMB$L_BC_R8      3-00000048  I*4 EMB$L_BC_R9      3-0000005C  I*4 EMB$L_BC_SP    
  3-00000018  I*4 EMB$L_BC_SSP     3-0000001C  I*4 EMB$L_BC_USP     2-00000100  I*4 EMB$L_SID        3-00000006  R*8 EMB$Q_BC_TIME  
  3-00000004  I*2 EMB$W_BC_ENTRY   3-0000000E  I*2 EMB$W_BC_ERRSEQ  3-0000006C  I*2 EMB$W_BC_PCBSZ   2-00000118  I*4 I              
  2-0000010C  I*4 LINE_CT         AP-00000004@ L*1 LUN              2-00000114  I*4 MSG_LENGTH       2-00000000  CHR MSG_TEXT       
  2-00000110  I*4 SIZE           


ARRAYS

    Address  Type Name		       Bytes  Dimensions

  3-00000000  L*1 EMB                    500  (0:499)
  3-0000006E  I*4 PCB                    128  (32)


LABELS

    Address   Label       Address   Label       Address   Label   

  1-00000016  100'      1-00000020  110'      1-00000027  200'    


FUNCTIONS AND SUBROUTINES REFERENCED

CSTRING           LINCHK            REG_SUM        


Total Space Allocated = 1173 Bytes



BUGCHECK        22-Aug-1978 02:51:45	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 6   
					BUGCHECK.FOR.15     

COMPILER OPTIONS

/CHECK=(NOBOUNDS,OVERFLOW)
/DEBUG=(NOSYMBOLS,TRACEBACK)
/OPTIMIZE  /WARNINGS  /I4  /NOD_LINES  


                22-Aug-1978 02:50:20	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 1   
					BITCNT.FOR.3        

0001    	INTEGER*2 FUNCTION BITCNT(REG)
0002    	INTEGER*4	REG
        C
        C	OWN STORAGE:
        C
0003    	INTEGER*4	L_BIT
         
         
0004    	BITCNT	= 0
0005    	L_BIT	= '80000000'X
         
0006    	DO 100,  I=31,0,-1
0007    	   IF(IAND(REG,L_BIT) .EQ. L_BIT)  BITCNT = BITCNT + 1
0008    	   L_BIT = ISHFT(L_BIT,-1)
0009     100	CONTINUE
         
0010    	RETURN
0011    	END

BITCNT          22-Aug-1978 02:50:20	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 2   
					BITCNT.FOR.3        

		.TITLE	BITCNT
		.IDENT	01

    0000	.PSECT	$PDATA
    0000	.LONG	^XFFFFFFFF

    000C	.PSECT	$LOCAL
    000C	.LONG	^X00000002
    0010	.ADDR	L_BIT
    0014	.ADDR	$PDATA

    0000	.PSECT	$CODE
    0000  BITCNT::
    0000	.WORD	^M<IV,R10,R11>
    0002	MOVAL	$LOCAL+^X4, R11
									    ; 0004
    0009	CLRW	BITCNT(R11)
									    ; 0005
    000C	MOVL	#-2147483648, L_BIT(R11)
									    ; 0006
    0013	MOVL	#31, R10
    0016  L$IACD:
									    ; 0007
    0016	MCOML	L_BIT(R11), R0
    0019	BICL3	R0, @REG(AP), R0
    001E	CMPL	R0, L_BIT(R11)
    0021	BNEQ	L$IADF
    0023	INCW	BITCNT(R11)
    0026  L$IADF:
									    ; 0008
    0026	CALLG	$LOCAL+^XC(R11), MTH$JISHFT
    002E	MOVL	R0, L_BIT(R11)
									    ; 0009
    0031	SOBGEQ	R10, L$IACD
    0034	MOVL	R10, I(R11)
									    ; 0010
    0038	MOVW	BITCNT(R11), R0
    003C	RET	
		.END

BITCNT          22-Aug-1978 02:50:20	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 3   
					BITCNT.FOR.3        

PROGRAM SECTIONS

    Name                 Bytes   Attributes

  0 $CODE                   61   PIC CON REL LCL   SHR   EXE   RD NOWRT LONG
  1 $PDATA                   4   PIC CON REL LCL   SHR NOEXE   RD NOWRT LONG
  2 $LOCAL                  24   PIC CON REL LCL NOSHR NOEXE   RD   WRT LONG


ENTRY POINTS

    Address  Type Name           

  0-00000000  I*2 BITCNT         


VARIABLES

    Address  Type Name               Address  Type Name               Address  Type Name           

  2-00000008  I*4 I                2-00000004  I*4 L_BIT           AP-00000004@ I*4 REG            


LABELS

    Address   Label   

      **      100     


FUNCTIONS AND SUBROUTINES REFERENCED

MTH$JISHFT     


Total Space Allocated = 89 Bytes


COMPILER OPTIONS

/CHECK=(NOBOUNDS,OVERFLOW)
/DEBUG=(NOSYMBOLS,TRACEBACK)
/OPTIMIZE  /WARNINGS  /I4  /NOD_LINES  


                22-Aug-1978 02:54:01	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 1   
					VBITCNT.FOR.2       

0001    	INTEGER*2 FUNCTION VBITCNT(REG,BEG,END)
0002    	INTEGER*4	REG,BEG,END
        C
        C	OWN STORAGE:
        C
0003    	INTEGER*4	BIT(0:31)
0004    	DATA		BIT(0)	/'00000001'X/
0005    	DATA		BIT(1)	/'00000002'X/
0006    	DATA		BIT(2)	/'00000004'X/
0007    	DATA		BIT(3)	/'00000008'X/
0008    	DATA		BIT(4)	/'00000010'X/
0009    	DATA		BIT(5)	/'00000020'X/
0010    	DATA		BIT(6)	/'00000040'X/
0011    	DATA		BIT(7)	/'00000080'X/
0012    	DATA		BIT(8)	/'00000100'X/
0013    	DATA		BIT(9)	/'00000200'X/
0014    	DATA		BIT(10) /'00000400'X/
0015    	DATA		BIT(11) /'00000800'X/
0016    	DATA		BIT(12) /'00001000'X/
0017    	DATA		BIT(13) /'00002000'X/
0018    	DATA		BIT(14) /'00004000'X/
0019    	DATA		BIT(15) /'00008000'X/
0020    	DATA		BIT(16)	/'00010000'X/
0021    	DATA		BIT(17) /'00020000'X/
0022    	DATA		BIT(18) /'00040000'X/
0023    	DATA		BIT(19) /'00080000'X/
0024    	DATA		BIT(20) /'00100000'X/
0025    	DATA		BIT(21) /'00200000'X/
0026    	DATA		BIT(22) /'00400000'X/
0027    	DATA		BIT(23)	/'00800000'X/
0028    	DATA		BIT(24) /'01000000'X/
0029    	DATA		BIT(25) /'02000000'X/
0030    	DATA		BIT(26)	/'04000000'X/
0031    	DATA		BIT(27)	/'08000000'X/
0032    	DATA		BIT(28) /'10000000'X/
0033    	DATA		BIT(29) /'20000000'X/
0034    	DATA		BIT(30) /'40000000'X/
0035    	DATA		BIT(31) /'80000000'X/
         
         
0036    	VBITCNT=0
         
0037    	DO 100  I=BEG,END
0038    		IF ((REG .AND. BIT(I)) .NE. 0) VBITCNT=VBITCNT+1
0039    100	CONTINUE
0040    	RETURN
0041    	END

VBITCNT         22-Aug-1978 02:54:01	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 2   
					VBITCNT.FOR.2       

		.TITLE	VBITCNT
		.IDENT	01

    0000	.PSECT	$LOCAL
    0000  BIT:
    0000	.LONG	^X00000001
    0004  BIT+4:
    0004	.LONG	^X00000002
    0008  BIT+8:
    0008	.LONG	^X00000004
    000C  BIT+12:
    000C	.LONG	^X00000008
    0010  BIT+16:
    0010	.LONG	^X00000010
    0014  BIT+20:
    0014	.LONG	^X00000020
    0018  BIT+24:
    0018	.LONG	^X00000040
    001C  BIT+28:
    001C	.LONG	^X00000080
    0020  BIT+32:
    0020	.LONG	^X00000100
    0024  BIT+36:
    0024	.LONG	^X00000200
    0028  BIT+40:
    0028	.LONG	^X00000400
    002C  BIT+44:
    002C	.LONG	^X00000800
    0030  BIT+48:
    0030	.LONG	^X00001000
    0034  BIT+52:
    0034	.LONG	^X00002000
    0038  BIT+56:
    0038	.LONG	^X00004000
    003C  BIT+60:
    003C	.LONG	^X00008000
    0040  BIT+64:
    0040	.LONG	^X00010000
    0044  BIT+68:
    0044	.LONG	^X00020000
    0048  BIT+72:
    0048	.LONG	^X00040000
    004C  BIT+76:
    004C	.LONG	^X00080000
    0050  BIT+80:
    0050	.LONG	^X00100000
    0054  BIT+84:
    0054	.LONG	^X00200000
    0058  BIT+88:
    0058	.LONG	^X00400000
    005C  BIT+92:
    005C	.LONG	^X00800000
    0060  BIT+96:
    0060	.LONG	^X01000000
    0064  BIT+100:
    0064	.LONG	^X02000000

VBITCNT         22-Aug-1978 02:54:01	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 3   
					VBITCNT.FOR.2       

    0068  BIT+104:
    0068	.LONG	^X04000000
    006C  BIT+108:
    006C	.LONG	^X08000000
    0070  BIT+112:
    0070	.LONG	^X10000000
    0074  BIT+116:
    0074	.LONG	^X20000000
    0078  BIT+120:
    0078	.LONG	^X40000000
    007C  BIT+124:
    007C	.LONG	^X80000000

    0000	.PSECT	$CODE
    0000  VBITCNT::
    0000	.WORD	^M<IV,R9,R10,R11>
    0002	MOVAL	$LOCAL+^X84, R11
									    ; 0036
    0009	CLRW	VBITCNT(R11)
									    ; 0037
    000C	MOVL	@END(AP), R9
    0010	MOVL	@BEG(AP), R10
    0014  L$IAFF:
									    ; 0038
    0014	BITL	@REG(AP), BIT(R11)[R10]
    001B	BEQL	L$IAOG
    001D	INCW	VBITCNT(R11)
    0020  L$IAOG:
									    ; 0039
    0020	AOBLEQ	R9, R10, L$IAFF
    0024	MOVL	R10, I(R11)
									    ; 0040
    0027	MOVW	VBITCNT(R11), R0
    002B	RET	
		.END

VBITCNT         22-Aug-1978 02:54:01	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 4   
					VBITCNT.FOR.2       

PROGRAM SECTIONS

    Name                 Bytes   Attributes

  0 $CODE                   44   PIC CON REL LCL   SHR   EXE   RD NOWRT LONG
  2 $LOCAL                 136   PIC CON REL LCL NOSHR NOEXE   RD   WRT LONG


ENTRY POINTS

    Address  Type Name           

  0-00000000  I*2 VBITCNT        


VARIABLES

    Address  Type Name               Address  Type Name               Address  Type Name               Address  Type Name           

 AP-00000008@ I*4 BEG             AP-0000000C@ I*4 END              2-00000084  I*4 I               AP-00000004@ I*4 REG            


ARRAYS

    Address  Type Name		       Bytes  Dimensions

  2-00000000  I*4 BIT                    128  (0:31)


LABELS

    Address   Label   

      **      100     


Total Space Allocated = 180 Bytes


COMPILER OPTIONS

/CHECK=(NOBOUNDS,OVERFLOW)
/DEBUG=(NOSYMBOLS,TRACEBACK)
/OPTIMIZE  /WARNINGS  /I4  /NOD_LINES  

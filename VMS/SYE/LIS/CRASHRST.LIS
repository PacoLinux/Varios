
                22-Aug-1978 02:51:49	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 1   
					CRASHRST.FOR.20     

0001    	SUBROUTINE CRASH_RESTART (LUN)
0002    	BYTE	LUN
         
        C
        C	INCLUDE FILES:
        C
0003    	INCLUDE 'SRC$:CREMBDEF.FOR/NOLIST'
         
        C
        C	EXTERNAL ROUTINES:
        C
0105    	INTEGER*2	BITCNT
         
        C
        C	EQUATED SYMBOLS:
        C
         
        C
        C	OWN STORAGE:
        C
         
0106    	INTEGER*4	MSG_LENGTH
0107    	INTEGER*4	LINE_CT,TEMP
0108    	INTEGER*4	REG(10),PCB(32)
0109    	EQUIVALENCE	(REG(1),EMB$L_CR_P0BR)
0110    	EQUIVALENCE	(PCB(1),EMB$B_CR_PCB)
0111    	CHARACTER*32	ICCS_BITS(0:15),ACCS_BITS(0:31)
0112    	CHARACTER*256	MSG_TEXT
0113    	CHARACTER*15	ASTLVL(0:4)
        	
         
0114    	DATA	ICCS_BITS(0)	/'RUN BIT SET<0>'/
0115    	DATA	ICCS_BITS(4)	/'TRANSFER BIT SET<4>'/
0116    	DATA	ICCS_BITS(5)	/'SINGLE CLOCK BIT SET<5>'/
0117    	DATA	ICCS_BITS(6)	/'INTERRUPT ENABLE<6>'/
0118    	DATA	ICCS_BITS(7)	/'INTERRUPT REQUEST BIT SET <7>'/
0119    	DATA	ICCS_BITS(15)	/'ERROR BIT SET<15>'/
         
0120    	DATA	ACCS_BITS(0)	/'ACCELERATOR TYPE:<3:0>'/
0121    	DATA	ACCS_BITS(15)	/'ACCELERATOR ENABLED<15>'/
0122    	DATA	ACCS_BITS(27)	/'RESERVED OPERAND<27>'/
0123    	DATA	ACCS_BITS(31)	/'ERROR BIT SET<31>'/
         
0124    	DATA	ASTLVL(0)	/'KERNEL AST'/
0125    	DATA	ASTLVL(1)	/'EXECUTIVE AST'/
0126    	DATA	ASTLVL(2)	/'SUPERVISOR AST'/
0127    	DATA	ASTLVL(3)	/'USER AST'/
0128    	DATA	ASTLVL(4)	/'NO AST''S PENDING'/
         
0129    	CALL LINCHK(LUN,2)
0130    	WRITE (LUN,100) 'CRASH/BUGCHECK CODE:',EMB$L_CR_CODE
0131    100	FORMAT ('0',A,:,T23,Z8)
0132    	CALL CSTRING(EMB$L_CR_CODE,%REF(MSG_TEXT),MSG_LENGTH)
0133    	IF (MSG_LENGTH .NE. 0)
        	1	THEN
0134    			CALL LINCHK(LUN,1)

CRASH_RESTART   22-Aug-1978 02:51:49	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 2   
					CRASHRST.FOR.20     

0135    			WRITE (LUN,110) MSG_TEXT(1:MSG_LENGTH)
0136    	ENDIF
0137    110	FORMAT (' ',T5,A)
         
        C
        C	REGISTER SUMMARY OUTPUT
        C
         
0138    	CALL REG_SUM(LUN,EMB$L_CR_KSP)
         
        C
        C	SYSTEM REGISTER OUTPUT
        C
         
0139    	CALL LINCHK (LUN,12)
0140    	WRITE (LUN,200) (REG(I),I=1,9),ASTLVL(EMB$L_CR_ASTLVL),REG(10)
0141    200	FORMAT ('0SYSTEM REGISTERS:'/
        	1	' ',T10,'P0BR(ID#24):',T23,Z8/
        	2	' ',T10,'P0LR(ID#3C):',T23,Z8/
        	3	' ',T10,'P1BR(ID#25):',T23,Z8/
        	4	' ',T10,'P1LR(ID#3D):',T23,Z8/
        	5	' ',T10,'SBR(PHY.ADR):',T23,Z8/
        	6	' ',T10,'SLR(ID#3E):',T23,Z8/
        	7	' ',T10,'PCBB(PHY.ADR):',T23,Z8/
        	8	' ',T10,'SCBB(PHY.ADR):',T23,Z8/
        	9	' ',T10,'ASTLVL:',T23,Z8,T40,A/
        	1	' ',T10,'SISR(ID#0E):',T23,Z8)
        C
        C	CLOCK REGISTERS
        C
         
0142    	LINE_CT=(BITCNT(EMB$L_CR_ICCS .AND. '000080F1'X))+5
0143    	CALL LINCHK (LUN,LINE_CT)
         
0144    	WRITE (LUN,300) EMB$L_CR_ICCS
0145    300	FORMAT ('0CLOCK REGISTER:'/
        	1	' ',T10,'ICCS(ID#0A):',T23,Z8)
0146    	CALL BITS_OUTPUT (LUN,EMB$L_CR_ICCS,ICCS_BITS(0),0,15,0)
0147    	WRITE (LUN,310)
        	1		EMB$L_CR_ICR,
        	2		EMB$L_CR_TODR
0148    310	FORMAT (
        	1		' ',T10,'ICR(ID#0B):',T23,Z8/
        	2		' ',T10,'TODR(ID#01):',T23,Z8)
         
        C
        C	ACCELERATOR REGISTER
        C
         
0149    	LINE_CT=(BITCNT(EMB$L_CR_ACCS .AND. '88008000'X))+3
0150    	CALL LINCHK(LUN,LINE_CT)
0151    	WRITE (LUN,400)EMB$L_CR_ACCS
0152    400	FORMAT ('0ACCELERATOR REGISTER:'/
        	1	' ',T10,'ACCS(ID#17):',T23,Z8)
0153    	CALL BITS_OUTPUT(LUN,EMB$L_CR_ACCS,ACCS_BITS(15),15,31,0)
0154    	TEMP=LIB$EXTZV (0,4,EMB$L_CR_ACCS)

CRASH_RESTART   22-Aug-1978 02:51:49	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 3   
					CRASHRST.FOR.20     

0155    	WRITE (LUN,410)TEMP
0156    410	FORMAT (' ',T40,'ACCELERATOR TYPE:',T65,Z1)
         
        C
        C	SBI REGISTERS AND SILO
        C
         
0157    	CALL SBI_REG(LUN,EMB$L_CR_SBIFS)
         
        C
        C	SOFTWARE PCB
        C
         
0158    	TEMP=EMB$W_CR_PCBSZ/4
0159    	LINE_CT=TEMP+2
0160    	CALL LINCHK (LUN,LINE_CT)
0161    	WRITE (LUN,500) (PCB(I),I=1,TEMP)
0162    500	FORMAT ('0SOFTWARE PCB:'/<TEMP>(T10,Z8/))
0163    	RETURN
0164    	END

CRASH_RESTART   22-Aug-1978 02:51:49	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 4   
					CRASHRST.FOR.20     

		.TITLE	CRASH_RESTART
		.IDENT	01

    0000	.PSECT	EMB
    0000  EMB:
    0068  EMB$L_CR_P0BR:
    0068  REG:
    00FA  EMB$B_CR_PCB:
    00FA  PCB:
    00F8  EMB$W_CR_PCBSZ:
    00F4  EMB$L_CR_CODE:
    00B4  EMB$L_CR_SBIS:
    00B0  EMB$L_CR_SBITA:
    00AC  EMB$L_CR_SBIER:
    00A8  EMB$L_CR_SBIMT:
    00A4  EMB$L_CR_SBISC:
    00A0  EMB$L_CR_SBIFS:
    009C  EMB$L_CR_ACCS:
    0098  EMB$L_CR_TODR:
    0094  EMB$L_CR_ICR:
    0090  EMB$L_CR_ICCS:
    008C  EMB$L_CR_SISR:
    0088  EMB$L_CR_ASTLVL:
    0084  EMB$L_CR_SCBB:
    0080  EMB$L_CR_PCBB:
    007C  EMB$L_CR_SLR:
    0078  EMB$L_CR_SBR:
    0074  EMB$L_CR_P1LR:
    0070  EMB$L_CR_P1BR:
    006C  EMB$L_CR_P0LR:
    0064  EMB$L_CR_PSL:
    0060  EMB$L_CR_PC:
    005C  EMB$L_CR_SP:
    0058  EMB$L_CR_FP:
    0054  EMB$L_CR_AP:
    0050  EMB$L_CR_R11:
    004C  EMB$L_CR_R10:
    0048  EMB$L_CR_R9:
    0044  EMB$L_CR_R8:
    0040  EMB$L_CR_R7:
    003C  EMB$L_CR_R6:
    0038  EMB$L_CR_R5:
    0034  EMB$L_CR_R4:
    0030  EMB$L_CR_R3:
    002C  EMB$L_CR_R2:
    0028  EMB$L_CR_R1:
    0024  EMB$L_CR_R0:
    0020  EMB$L_CR_ISP:
    001C  EMB$L_CR_USP:
    0018  EMB$L_CR_SSP:
    0014  EMB$L_CR_ESP:
    0010  EMB$L_CR_KSP:
    000E  EMB$W_CR_ERRSEQ:
    0006  EMB$Q_CR_TIME:
    0004  EMB$W_CR_ENTRY:
    0000  EMB$L_CR_SID:

CRASH_RESTART   22-Aug-1978 02:51:49	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 5   
					CRASHRST.FOR.20     


    0000	.PSECT	$PDATA
    0000	.LONG	^X00000002
    0004	.XBYTE	43,52,41,53,48,2F,42,55,47,43,48,45,43,4B,20,43
    0014	.XBYTE	4F,44,45,3A
    0018	.LONG	^X00000001
    001C	.LONG	^X0000000C
    0020	.LONG	^X00000000
    0024	.LONG	^X0000000F
    0028	.LONG	^X0000001F
    002C	.LONG	^X00000004

    0760	.PSECT	$LOCAL
    0760	.LONG	^X00000002
    0764	.LONG	^X00000000
    0768	.ADDR	$PDATA
    076C	.LONG	^X010E0014
    0770	.ADDR	$PDATA+^X4
    0774	.LONG	^X00000003
    0778	.ADDR	EMB$L_CR_CODE
    077C	.ADDR	MSG_TEXT
    0780	.ADDR	MSG_LENGTH
    0784	.LONG	^X00000002
    0788	.LONG	^X00000000
    078C	.ADDR	$PDATA+^X18
    0790	.LONG	^X010E0000
    0794	.ADDR	MSG_TEXT
    0798	.LONG	^X00000002
    079C	.LONG	^X00000000
    07A0	.ADDR	EMB$L_CR_KSP
    07A4	.LONG	^X00000002
    07A8	.LONG	^X00000000
    07AC	.ADDR	$PDATA+^X1C
    07B0	.LONG	^X010E0000
    07B4	.LONG	^X00000000
    07B8	.LONG	^X00000001
    07BC	.LONG	^X00000000
    07C0	.LONG	^X00000002
    07C4	.LONG	^X00000000
    07C8	.ADDR	LINE_CT
    07CC	.LONG	^X010E0020
    07D0	.ADDR	ICCS_BITS
    07D4	.LONG	^X00000006
    07D8	.LONG	^X00000000
    07DC	.ADDR	EMB$L_CR_ICCS
    07E0	.ADDR	$LOCAL+^X7CC
    07E4	.ADDR	$PDATA+^X20
    07E8	.ADDR	$PDATA+^X24
    07EC	.ADDR	$PDATA+^X20
    07F0	.LONG	^X010E0020
    07F4	.ADDR	ACCS_BITS+480
    07F8	.LONG	^X00000006
    07FC	.LONG	^X00000000
    0800	.ADDR	EMB$L_CR_ACCS
    0804	.ADDR	$LOCAL+^X7F0
    0808	.ADDR	$PDATA+^X24

CRASH_RESTART   22-Aug-1978 02:51:49	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 6   
					CRASHRST.FOR.20     

    080C	.ADDR	$PDATA+^X28
    0810	.ADDR	$PDATA+^X20
    0814	.LONG	^X00000003
    0818	.ADDR	$PDATA+^X20
    081C	.ADDR	$PDATA+^X2C
    0820	.ADDR	EMB$L_CR_ACCS
    0824	.LONG	^X00000002
    0828	.LONG	^X00000000
    082C	.ADDR	EMB$L_CR_SBIFS

    0030	.PSECT	$PDATA
    0030  .100:
    0030	.XBYTE	0F,01,30,29,07,0D,17,19,08,04
    003A  .110:
    003A	.XBYTE	0F,01,20,0D,05,29,04
    0041  .200:
    0041	.XBYTE	0F,12,30,53,59,53,54,45,4D,20,52,45,47,49,53,54
    0051	.XBYTE	45,52,53,3A,05,0F,01,20,0D,0A,0F,0C,50,30,42,52
    0061	.XBYTE	28,49,44,23,32,34,29,3A,0D,17,19,08,05,0F,01,20
    0071	.XBYTE	0D,0A,0F,0C,50,30,4C,52,28,49,44,23,33,43,29,3A
    0081	.XBYTE	0D,17,19,08,05,0F,01,20,0D,0A,0F,0C,50,31,42,52
    0091	.XBYTE	28,49,44,23,32,35,29,3A,0D,17,19,08,05,0F,01,20
    00A1	.XBYTE	0D,0A,0F,0C,50,31,4C,52,28,49,44,23,33,44,29,3A
    00B1	.XBYTE	0D,17,19,08,05,0F,01,20,0D,0A,0F,0D,53,42,52,28
    00C1	.XBYTE	50,48,59,2E,41,44,52,29,3A,0D,17,19,08,05,0F,01
    00D1	.XBYTE	20,0D,0A,0F,0B,53,4C,52,28,49,44,23,33,45,29,3A
    00E1	.XBYTE	0D,17,19,08,05,0F,01,20,0D,0A,0F,0E,50,43,42,42
    00F1	.XBYTE	28,50,48,59,2E,41,44,52,29,3A,0D,17,19,08,05,0F
    0101	.XBYTE	01,20,0D,0A,0F,0E,53,43,42,42,28,50,48,59,2E,41
    0111	.XBYTE	44,52,29,3A,0D,17,19,08,05,0F,01,20,0D,0A,0F,07
    0121	.XBYTE	41,53,54,4C,56,4C,3A,0D,17,19,08,0D,28,29,05,0F
    0131	.XBYTE	01,20,0D,0A,0F,0C,53,49,53,52,28,49,44,23,30,45
    0141	.XBYTE	29,3A,0D,17,19,08,04
    0148  .300:
    0148	.XBYTE	0F,10,30,43,4C,4F,43,4B,20,52,45,47,49,53,54,45
    0158	.XBYTE	52,3A,05,0F,01,20,0D,0A,0F,0C,49,43,43,53,28,49
    0168	.XBYTE	44,23,30,41,29,3A,0D,17,19,08,04
    0173  .310:
    0173	.XBYTE	0F,01,20,0D,0A,0F,0B,49,43,52,28,49,44,23,30,42
    0183	.XBYTE	29,3A,0D,17,19,08,05,0F,01,20,0D,0A,0F,0C,54,4F
    0193	.XBYTE	44,52,28,49,44,23,30,31,29,3A,0D,17,19,08,04
    01A2  .400:
    01A2	.XBYTE	0F,16,30,41,43,43,45,4C,45,52,41,54,4F,52,20,52
    01B2	.XBYTE	45,47,49,53,54,45,52,3A,05,0F,01,20,0D,0A,0F,0C
    01C2	.XBYTE	41,43,43,53,28,49,44,23,31,37,29,3A,0D,17,19,08
    01D2	.XBYTE	04
    01D3  .410:
    01D3	.XBYTE	0F,01,20,0D,28,0F,11,41,43,43,45,4C,45,52,41,54
    01E3	.XBYTE	4F,52,20,54,59,50,45,3A,0D,41,19,01,04
    01F0  .500:
    01F0	.XBYTE	0F,0E,30,53,4F,46,54,57,41,52,45,20,50,43,42,3A
    0200	.XBYTE	05,01,82,80
    0204	.ADDR	L$CCLA
    0208	.XBYTE	0D,0A,19,08,05,03,04

    0000	.PSECT	$LOCAL

CRASH_RESTART   22-Aug-1978 02:51:49	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 7   
					CRASHRST.FOR.20     

    0000  ICCS_BITS:
    0000	.XBYTE	52,55,4E,20,42,49,54,20,53,45,54,3C,30,3E
    000E	.XBYTE	20 [18]
    0080  ICCS_BITS+128:
    0080	.XBYTE	54,52,41,4E,53,46,45,52,20,42,49,54,20,53,45,54
    0090	.XBYTE	3C,34,3E
    0093	.XBYTE	20 [13]
    00A0  ICCS_BITS+160:
    00A0	.XBYTE	53,49,4E,47,4C,45,20,43,4C,4F,43,4B,20,42,49,54
    00B0	.XBYTE	20,53,45,54,3C,35,3E
    00B7	.XBYTE	20 [9]
    00C0  ICCS_BITS+192:
    00C0	.XBYTE	49,4E,54,45,52,52,55,50,54,20,45,4E,41,42,4C,45
    00D0	.XBYTE	3C,36,3E
    00D3	.XBYTE	20 [13]
    00E0  ICCS_BITS+224:
    00E0	.XBYTE	49,4E,54,45,52,52,55,50,54,20,52,45,51,55,45,53
    00F0	.XBYTE	54,20,42,49,54,20,53,45,54,20,3C,37,3E
    00FD	.XBYTE	20 [3]
    01E0  ICCS_BITS+480:
    01E0	.XBYTE	45,52,52,4F,52,20,42,49,54,20,53,45,54,3C,31,35
    01F0	.XBYTE	3E
    01F1	.XBYTE	20 [15]
    0200  ACCS_BITS:
    0200	.XBYTE	41,43,43,45,4C,45,52,41,54,4F,52,20,54,59,50,45
    0210	.XBYTE	3A,3C,33,3A,30,3E
    0216	.XBYTE	20 [10]
    03E0  ACCS_BITS+480:
    03E0	.XBYTE	41,43,43,45,4C,45,52,41,54,4F,52,20,45,4E,41,42
    03F0	.XBYTE	4C,45,44,3C,31,35,3E
    03F7	.XBYTE	20 [9]
    0560  ACCS_BITS+864:
    0560	.XBYTE	52,45,53,45,52,56,45,44,20,4F,50,45,52,41,4E,44
    0570	.XBYTE	3C,32,37,3E
    0574	.XBYTE	20 [12]
    05E0  ACCS_BITS+992:
    05E0	.XBYTE	45,52,52,4F,52,20,42,49,54,20,53,45,54,3C,33,31
    05F0	.XBYTE	3E
    05F1	.XBYTE	20 [15]
    0600  ASTLVL:
    0600	.XBYTE	4B,45,52,4E,45,4C,20,41,53,54
    060A	.XBYTE	20 [5]
    060F  ASTLVL+15:
    060F	.XBYTE	45,58,45,43,55,54,49,56,45,20,41,53,54
    061C	.XBYTE	20 [2]
    061E  ASTLVL+30:
    061E	.XBYTE	53,55,50,45,52,56,49,53,4F,52,20,41,53,54
    062C	.XBYTE	20 [1]
    062D  ASTLVL+45:
    062D	.XBYTE	55,53,45,52,20,41,53,54
    0635	.XBYTE	20 [7]
    063C  ASTLVL+60:
    063C	.XBYTE	4E,4F,20,41,53,54,27,53,20,50,45,4E,44,49,4E

    0000	.PSECT	$CODE
    0000  CRASH_RESTART::

CRASH_RESTART   22-Aug-1978 02:51:49	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 8   
					CRASHRST.FOR.20     

    0000	.WORD	^M<IV,R9,R10,R11>
    0002	MOVAL	$LOCAL+^X74C, R11
									    ; 0129
    0009	MOVAB	@LUN(AP), $LOCAL+^X764(R11)
    000E	CALLG	$LOCAL+^X760(R11), LINCHK
									    ; 0130
    0016	PUSHAL	.100
    001C	CVTBL	@LUN(AP), -(SP)
    0020	CALLS	#2, FOR$WRITE_SF
    0027	PUSHAB	$LOCAL+^X76C(R11)
    002A	CALLS	#1, FOR$IO_T_DS
    0031	MOVAL	EMB, R9
    0038	PUSHAL	EMB$L_CR_CODE(R9)
    003C	CALLS	#1, FOR$IO_L_R
    0043	CALLS	#0, FOR$IO_END
									    ; 0132
    004A	CALLG	$LOCAL+^X774(R11), CSTRING
									    ; 0133
    0052	TSTL	MSG_LENGTH(R11)
    0055	BEQL	L$MBJI
									    ; 0134
    0057	MOVAB	@LUN(AP), $LOCAL+^X788(R11)
    005C	CALLG	$LOCAL+^X784(R11), LINCHK
									    ; 0135
    0064	PUSHAL	.110
    006A	CVTBL	@LUN(AP), -(SP)
    006E	CALLS	#2, FOR$WRITE_SF
    0075	MOVW	MSG_LENGTH(R11), $LOCAL+^X790(R11)
    007A	PUSHAB	$LOCAL+^X790(R11)
    007D	CALLS	#1, FOR$IO_T_DS
    0084	CALLS	#0, FOR$IO_END
									    ; 0136
    008B  L$MBJI:
									    ; 0138
    008B	MOVAB	@LUN(AP), $LOCAL+^X79C(R11)
    0090	CALLG	$LOCAL+^X798(R11), REG_SUM
									    ; 0139
    0098	MOVAB	@LUN(AP), $LOCAL+^X7A8(R11)
    009D	CALLG	$LOCAL+^X7A4(R11), LINCHK
									    ; 0140
    00A5	PUSHAL	.200
    00AB	CVTBL	@LUN(AP), -(SP)
    00AF	CALLS	#2, FOR$WRITE_SF
    00B6	MOVL	#1, R10
    00B9  L$MBLK:
    00B9	PUSHAL	REG-4(R9)[R10]
    00BD	CALLS	#1, FOR$IO_L_R
    00C4	AOBLEQ	#9, R10, L$MBLK
    00C8	MULL3	#15, EMB$L_CR_ASTLVL(R9), R0
    00CE	MOVW	#15, $LOCAL+^X7B0(R11)
    00D2	MOVAB	ASTLVL(R11)[R0], $LOCAL+^X7B4(R11)
    00D9	PUSHAB	$LOCAL+^X7B0(R11)
    00DC	CALLS	#1, FOR$IO_T_DS
    00E3	PUSHAL	REG+36(R9)
    00E7	CALLS	#1, FOR$IO_L_R
    00EE	CALLS	#0, FOR$IO_END

CRASH_RESTART   22-Aug-1978 02:51:49	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 9   
					CRASHRST.FOR.20     

									    ; 0142
    00F5	BICL3	#^XFFFF7F0E, EMB$L_CR_ICCS(R9), -(SP)
    00FF	MOVL	SP, $LOCAL+^X7BC(R11)
    0103	CALLG	$LOCAL+^X7B8(R11), BITCNT
    010B	ADDL2	#4, SP
    010E	ADDW2	#5, R0
    0111	CVTWL	R0, LINE_CT(R11)
									    ; 0143
    0115	MOVAB	@LUN(AP), $LOCAL+^X7C4(R11)
    011A	CALLG	$LOCAL+^X7C0(R11), LINCHK
									    ; 0144
    0122	PUSHAL	.300
    0128	CVTBL	@LUN(AP), -(SP)
    012C	CALLS	#2, FOR$WRITE_SF
    0133	PUSHAL	EMB$L_CR_ICCS(R9)
    0137	CALLS	#1, FOR$IO_L_R
    013E	CALLS	#0, FOR$IO_END
									    ; 0146
    0145	MOVAB	@LUN(AP), $LOCAL+^X7D8(R11)
    014B	CALLG	$LOCAL+^X7D4(R11), BITS_OUTPUT
									    ; 0147
    0154	PUSHAL	.310
    015A	CVTBL	@LUN(AP), -(SP)
    015E	CALLS	#2, FOR$WRITE_SF
    0165	PUSHAL	EMB$L_CR_ICR(R9)
    0169	CALLS	#1, FOR$IO_L_R
    0170	PUSHAL	EMB$L_CR_TODR(R9)
    0174	CALLS	#1, FOR$IO_L_R
    017B	CALLS	#0, FOR$IO_END
									    ; 0149
    0182	BICL3	#^X77FF7FFF, EMB$L_CR_ACCS(R9), -(SP)
    018C	MOVL	SP, $LOCAL+^X7BC(R11)
    0190	CALLG	$LOCAL+^X7B8(R11), BITCNT
    0198	ADDL2	#4, SP
    019B	ADDW2	#3, R0
    019E	CVTWL	R0, LINE_CT(R11)
									    ; 0150
    01A2	MOVAB	@LUN(AP), $LOCAL+^X7C4(R11)
    01A7	CALLG	$LOCAL+^X7C0(R11), LINCHK
									    ; 0151
    01AF	PUSHAL	.400
    01B5	CVTBL	@LUN(AP), -(SP)
    01B9	CALLS	#2, FOR$WRITE_SF
    01C0	PUSHAL	EMB$L_CR_ACCS(R9)
    01C4	CALLS	#1, FOR$IO_L_R
    01CB	CALLS	#0, FOR$IO_END
									    ; 0153
    01D2	MOVAB	@LUN(AP), $LOCAL+^X7FC(R11)
    01D8	CALLG	$LOCAL+^X7F8(R11), BITS_OUTPUT
									    ; 0154
    01E1	CALLG	$LOCAL+^X814(R11), LIB$EXTZV
    01EA	MOVL	R0, TEMP(R11)
									    ; 0155
    01EE	PUSHAL	.410
    01F4	CVTBL	@LUN(AP), -(SP)
    01F8	CALLS	#2, FOR$WRITE_SF

CRASH_RESTART   22-Aug-1978 02:51:49	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 10  
					CRASHRST.FOR.20     

    01FF	PUSHAL	TEMP(R11)
    0202	CALLS	#1, FOR$IO_L_R
    0209	CALLS	#0, FOR$IO_END
									    ; 0157
    0210	MOVAB	@LUN(AP), $LOCAL+^X828(R11)
    0216	CALLG	$LOCAL+^X824(R11), SBI_REG
									    ; 0158
    021F	DIVW3	#4, EMB$W_CR_PCBSZ(R9), R0
    0225	CVTWL	R0, TEMP(R11)
									    ; 0159
    0229	ADDL3	#2, TEMP(R11), LINE_CT(R11)
									    ; 0160
    022F	MOVAB	@LUN(AP), $LOCAL+^X7C4(R11)
    0234	CALLG	$LOCAL+^X7C0(R11), LINCHK
									    ; 0161
    023C	PUSHAL	.500
    0242	CVTBL	@LUN(AP), -(SP)
    0246	CALLS	#2, FOR$WRITE_SF
    024D	MOVL	#1, R10
    0250  L$MBCP:
    0250	PUSHAL	PCB-4(R9)[R10]
    0255	CALLS	#1, FOR$IO_L_R
    025C	AOBLEQ	TEMP(R11), R10, L$MBCP
    0261	MOVL	R10, I(R11)
    0265	CALLS	#0, FOR$IO_END
									    ; 0163
    026C	RET	
    026D  L$CCLA:
    026D	.WORD	^M<IV>
    026F	MOVL	TEMP, R0
    0276	RET	
		.END

CRASH_RESTART   22-Aug-1978 02:51:49	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 11  
					CRASHRST.FOR.20     

PROGRAM SECTIONS

    Name                 Bytes   Attributes

  0 $CODE                  631   PIC CON REL LCL   SHR   EXE   RD NOWRT LONG
  1 $PDATA                 527   PIC CON REL LCL   SHR NOEXE   RD NOWRT LONG
  2 $LOCAL                2096   PIC CON REL LCL NOSHR NOEXE   RD   WRT LONG
  3 EMB                    500   PIC OVR REL GBL   SHR NOEXE   RD   WRT LONG


ENTRY POINTS

    Address  Type Name           

  0-00000000      CRASH_RESTART  


VARIABLES

    Address  Type Name               Address  Type Name               Address  Type Name               Address  Type Name           

  3-000000FA  L*1 EMB$B_CR_PCB     3-0000009C  I*4 EMB$L_CR_ACCS    3-00000054  I*4 EMB$L_CR_AP      3-00000088  I*4 EMB$L_CR_ASTLVL
  3-000000F4  I*4 EMB$L_CR_CODE    3-00000014  I*4 EMB$L_CR_ESP     3-00000058  I*4 EMB$L_CR_FP      3-00000090  I*4 EMB$L_CR_ICCS  
  3-00000094  I*4 EMB$L_CR_ICR     3-00000020  I*4 EMB$L_CR_ISP     3-00000010  I*4 EMB$L_CR_KSP     3-00000068  I*4 EMB$L_CR_P0BR  
  3-0000006C  I*4 EMB$L_CR_P0LR    3-00000070  I*4 EMB$L_CR_P1BR    3-00000074  I*4 EMB$L_CR_P1LR    3-00000060  I*4 EMB$L_CR_PC    
  3-00000080  I*4 EMB$L_CR_PCBB    3-00000064  I*4 EMB$L_CR_PSL     3-00000024  I*4 EMB$L_CR_R0      3-00000028  I*4 EMB$L_CR_R1    
  3-0000004C  I*4 EMB$L_CR_R10     3-00000050  I*4 EMB$L_CR_R11     3-0000002C  I*4 EMB$L_CR_R2      3-00000030  I*4 EMB$L_CR_R3    
  3-00000034  I*4 EMB$L_CR_R4      3-00000038  I*4 EMB$L_CR_R5      3-0000003C  I*4 EMB$L_CR_R6      3-00000040  I*4 EMB$L_CR_R7    
  3-00000044  I*4 EMB$L_CR_R8      3-00000048  I*4 EMB$L_CR_R9      3-000000AC  I*4 EMB$L_CR_SBIER   3-000000A0  I*4 EMB$L_CR_SBIFS 
  3-000000A8  I*4 EMB$L_CR_SBIMT   3-000000B4  I*4 EMB$L_CR_SBIS    3-000000A4  I*4 EMB$L_CR_SBISC   3-000000B0  I*4 EMB$L_CR_SBITA 
  3-00000078  I*4 EMB$L_CR_SBR     3-00000084  I*4 EMB$L_CR_SCBB    3-00000000  R*4 EMB$L_CR_SID     3-0000008C  I*4 EMB$L_CR_SISR  
  3-0000007C  I*4 EMB$L_CR_SLR     3-0000005C  I*4 EMB$L_CR_SP      3-00000018  I*4 EMB$L_CR_SSP     3-00000098  I*4 EMB$L_CR_TODR  
  3-0000001C  I*4 EMB$L_CR_USP     2-0000074C  I*4 EMB$L_SID        3-00000006  R*8 EMB$Q_CR_TIME    3-00000004  I*2 EMB$W_CR_ENTRY 
  3-0000000E  I*2 EMB$W_CR_ERRSEQ  3-000000F8  I*2 EMB$W_CR_PCBSZ   2-0000075C  I*4 I                2-00000754  I*4 LINE_CT        
 AP-00000004@ L*1 LUN              2-00000750  I*4 MSG_LENGTH       2-0000064B  CHR MSG_TEXT         2-00000758  I*4 TEMP           


ARRAYS

    Address  Type Name		       Bytes  Dimensions

  2-00000200  CHR ACCS_BITS             1024  (0:31)
  2-00000600  CHR ASTLVL                  75  (0:4)
  3-00000000  L*1 EMB                    500  (0:499)
  2-00000000  CHR ICCS_BITS              512  (0:15)
  3-000000FA  I*4 PCB                    128  (32)
  3-00000068  I*4 REG                     40  (10)


LABELS

    Address   Label       Address   Label       Address   Label       Address   Label       Address   Label       Address   Label   

  1-00000030  100'      1-0000003A  110'      1-00000041  200'      1-00000148  300'      1-00000173  310'      1-000001A2  400'    
  1-000001D3  410'      1-000001F0  500'    


CRASH_RESTART   22-Aug-1978 02:51:49	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 12  
					CRASHRST.FOR.20     


FUNCTIONS AND SUBROUTINES REFERENCED

BITCNT            BITS_OUTPUT       CSTRING           LIB$EXTZV         LINCHK            REG_SUM           SBI_REG        


Total Space Allocated = 3754 Bytes


COMPILER OPTIONS

/CHECK=(NOBOUNDS,OVERFLOW)
/DEBUG=(NOSYMBOLS,TRACEBACK)
/OPTIMIZE  /WARNINGS  /I4  /NOD_LINES  

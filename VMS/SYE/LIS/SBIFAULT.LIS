
                22-Aug-1978 02:53:20	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 1   
					SBIFAULT.FOR.19     

0001    	SUBROUTINE SBI_FAULT (LUN)
0002    	BYTE 	LUN
         
        C
        C	INCLUDE FILES:
        C
0003    	INCLUDE	'SRC$:SBEMBDEF.FOR/NOLIST'
         
        C
        C	EQUATED SYMBOLS:
        C
         
0035    	PARAMETER	BIT03='00000008'X
0036    	PARAMETER	BIT04='00000010'X
        C
        C	OWN STORAGE:
        C
0037    	INTEGER*2	LINE_CT
0038    	INTEGER*4	TEMP,MAJTYP,MINTYP,ADAPTOR,UNIT
0039    	INTEGER*4	SBIRGS(0:15)
0040    	EQUIVALENCE	(SBIRGS(0),EMB$L_SB_SBIRGS)
0041    	INTEGER*4	REG(0:20)
0042    	EQUIVALENCE	(REG(0),EMB$L_SB_FAULT)
         
0043    	CHARACTER*2	NUMBER(0:15)
0044    	CHARACTER*7	ADAPTOR_NAME(0:2)
0045    	CHARACTER*32	CONFIG_BITS(7:31)
0046    	CHARACTER*53	TITLE
0047    	CHARACTER*55	STRING
        C
        C	EXTERNAL ROUTINES
        C
0048    	INTEGER*2	BITCNT
         
         
         
         
0049    	DATA	NUMBER(0)	/' 0'/
0050    	DATA	NUMBER(1)	/' 1'/
0051    	DATA	NUMBER(2)	/' 2'/
0052    	DATA	NUMBER(3)	/' 3'/
0053    	DATA	NUMBER(4)	/' 4'/
0054    	DATA	NUMBER(5)	/' 5'/
0055    	DATA	NUMBER(6)	/' 6'/
0056    	DATA	NUMBER(7)	/' 7'/
0057    	DATA	NUMBER(8)	/' 8'/
0058    	DATA	NUMBER(9)	/' 9'/
0059    	DATA	NUMBER(10)	/'10'/
0060    	DATA	NUMBER(11)	/'11'/
0061    	DATA	NUMBER(12)	/'12'/
0062    	DATA	NUMBER(13)	/'13'/
0063    	DATA	NUMBER(14)	/'14'/
0064    	DATA	NUMBER(15)	/'15'/
         
         
0065    	DATA	CONFIG_BITS(7)	/'ADAPTOR TYPE CODE<07:00>:'/

SBI_FAULT       22-Aug-1978 02:53:20	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 2   
					SBIFAULT.FOR.19     

0066    	DATA	CONFIG_BITS(21)	/'OVER TEMPERATURE SET<21>'/
0067    	DATA	CONFIG_BITS(22)	/'POWER UP BIT SET<22>'/
0068    	DATA	CONFIG_BITS(23)	/'POWER DOWN BIT SET<23>'/
0069    	DATA	CONFIG_BITS(26)	/'TRANSMITTER DURING FAULT<26>'/
0070    	DATA	CONFIG_BITS(27)	/'MULTIPLE TRANSMITTER FAULT<27>'/
0071    	DATA	CONFIG_BITS(28)	/'INTERLOCK SEQUENCE FAULT<28>'/
0072    	DATA	CONFIG_BITS(29)	/'UNEXPECTED READ DATA FAULT<29>'/
0073    	DATA	CONFIG_BITS(30)	/'WRITE SEQUENCE FAULT<30>'/
0074    	DATA	CONFIG_BITS(31)	/'PARITY FAULT<31>'/
         
0075    	DATA	ADAPTOR_NAME(0)	/'RH780 #'/
0076    	DATA	ADAPTOR_NAME(1)	/'DW780 #'/
         
         
0077    	DATA	TITLE		/'SBIFS-1B SBISC-1C SBIMT-1D SBITA-1A SBI SILO-18'/
        C
        C	BEGIN OUTPUT
        C
         
        C
        C	WRITE OUT PC AND PSL
        C
         
0078    	CALL LINCHK (LUN,1)
0079    	WRITE (LUN,200)	'PC:',EMB$L_SB_PC
0080    	CALL PSL (LUN,EMB$L_SB_PSL)
0081    	CALL SBI_REG (LUN,EMB$L_SB_FAULT)
         
        C
        C	NEXUS' A REGISTERS
        C
0082    	CALL LINCHK (LUN,2)
0083    	WRITE (LUN,100) 'SBI NEXUS'' CONFIG REGISTERS:'
0084    100	FORMAT('0',A)
0085    	DO 700	I=0,15
0086    		IF (SBIRGS(I) .EQ. 0)
        	1	   THEN
0087    			GO TO 700
0088    		   ELSE
0089    		   	LINE_CT=BITCNT(SBIRGS(I) .AND. 'FCE00000'X)+3
0090    		        CALL LINCHK (LUN,LINE_CT)
0091    			STRING='TR # '//NUMBER(I)
0092    			WRITE (LUN,200) STRING, SBIRGS(I)
0093    			CALL BITS_OUTPUT (LUN,SBIRGS(I),CONFIG_BITS(21),21,31,0)
0094    			TEMP=LIB$EXTZV (0,8,SBIRGS(I))
0095    			WRITE (LUN,300) CONFIG_BITS(7),TEMP
0096    			MAJTYP=TEMP/32
0097    			MINTYP=TEMP-(MAJTYP*32)
0098    			IF (MAJTYP .EQ. 0)
        	1		   THEN
0099    			      IF ((TEMP .AND. BIT03) .NE. 0)
        	1		         THEN
0100    			            STRING='MS780A'
0101    			         ELSEIF ((TEMP .AND. BIT04) .NE. 0)THEN
0102    			            STRING='MS780C'
0103    			         ELSE

SBI_FAULT       22-Aug-1978 02:53:20	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 3   
					SBIFAULT.FOR.19     

0104    			            STRING='INVALID ADAPTOR TYPE'
0105    			      ENDIF
0106    			   ELSEIF (MAJTYP .EQ. 1) THEN		!ADAPTORS
0107    			      ADAPTOR=MINTYP/8
0108    			      UNIT=MINTYP-(ADAPTOR*8)
0109    			      STRING=ADAPTOR_NAME(ADAPTOR)//NUMBER(UNIT)
0110    			   ELSE
0111    			      STRING='INVALID ADAPTOR TYPE'
0112    			ENDIF
0113    			WRITE (LUN,310)STRING
0114    310			FORMAT (' ',T45,A)
0115    		ENDIF
0116    200	FORMAT (' ',T10,A,T23,Z8)
0117    300	FORMAT (' ',T40,A,:,T65,Z8)
0118    700	CONTINUE
0119    	RETURN
         
         
0120    	ENTRY B_SBI_FAULT(LUN)
         
0121    	CALL LINCHK(LUN,3)
0122    	WRITE (LUN,800) TITLE
0123    800	FORMAT ('0',T10,A)
0124    	CALL CRYPTK8(LUN,'        ',REG,21)
0125    	RETURN
         
         
0126     	ENTRY C_SBI_FAULT(LUN)
         
0127    	CALL LINCHK (LUN,1)
0128    	IF (EMB$W_SB_ENTRY .EQ. 4)
        	1	CALL CRYPTK8(LUN,'FAULT   ',REG,21)
0129    	IF (EMB$W_SB_ENTRY .EQ. 7)
        	1	CALL CRYPTK8 (LUN,'ASYN WT ',REG,21)
0130    	RETURN
0131    	END

SBI_FAULT       22-Aug-1978 02:53:20	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 4   
					SBIFAULT.FOR.19     

		.TITLE	SBI_FAULT
		.IDENT	01

    0000	.PSECT	EMB
    0000  EMB:
    0010  EMB$L_SB_FAULT:
    0010  REG:
    0064  EMB$L_SB_SBIRGS:
    0064  SBIRGS:
    00A8  EMB$L_SB_PSL:
    00A4  EMB$L_SB_PC:
    0024  EMB$L_SB_SILO:
    0020  EMB$L_SB_TIMOUT:
    001C  EMB$L_SB_ERROR:
    0018  EMB$L_SB_MAINT:
    0014  EMB$L_SB_SILCMP:
    000E  EMB$W_SB_ERRSEQ:
    0006  EMB$Q_SB_TIME:
    0004  EMB$W_SB_ENTRY:
    0000  EMB$L_SB_SID:

    0000	.PSECT	$PDATA
    0000	.LONG	^X00000001
    0004	.XBYTE	50,43,3A
    0007	.LONG	^X00000002
    000B	.XBYTE	53,42,49,20,4E,45,58,55,53,27,20,43,4F,4E,46,49
    001B	.XBYTE	47,20,52,45,47,49,53,54,45,52,53,3A
    0027	.LONG	^X00000003
    002B	.LONG	^X00000015
    002F	.LONG	^X0000001F
    0033	.LONG	^X00000000
    0037	.LONG	^X00000008
    003B	.XBYTE	20,20,20,20,20,20,20,20,00
    0044	.XBYTE	46,41,55,4C,54,20,20,20,00
    004D	.XBYTE	41,53,59,4E,20,57,54,20,00

    03E8	.PSECT	$LOCAL
    03E8	.LONG	^X010E0035
    03EC	.ADDR	TITLE
    03F0	.LONG	^X010E0037
    03F4	.ADDR	STRING
    03F8	.LONG	^X00000002
    03FC	.LONG	^X00000000
    0400	.ADDR	$PDATA
    0404	.LONG	^X010E0003
    0408	.ADDR	$PDATA+^X4
    040C	.LONG	^X00000002
    0410	.LONG	^X00000000
    0414	.ADDR	EMB$L_SB_PSL
    0418	.LONG	^X00000002
    041C	.LONG	^X00000000
    0420	.ADDR	EMB$L_SB_FAULT
    0424	.LONG	^X00000002
    0428	.LONG	^X00000000
    042C	.ADDR	$PDATA+^X7
    0430	.LONG	^X010E001C

SBI_FAULT       22-Aug-1978 02:53:20	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 5   
					SBIFAULT.FOR.19     

    0434	.ADDR	$PDATA+^XB
    0438	.LONG	^X00000001
    043C	.LONG	^X00000000
    0440	.LONG	^X00000002
    0444	.LONG	^X00000000
    0448	.ADDR	LINE_CT
    044C	.LONG	^X010E0020
    0450	.ADDR	CONFIG_BITS+448
    0454	.LONG	^X00000006
    0458	.LONG	^X00000000
    045C	.LONG	^X00000000
    0460	.ADDR	$LOCAL+^X44C
    0464	.ADDR	$PDATA+^X2B
    0468	.ADDR	$PDATA+^X2F
    046C	.ADDR	$PDATA+^X33
    0470	.LONG	^X00000003
    0474	.ADDR	$PDATA+^X33
    0478	.ADDR	$PDATA+^X37
    047C	.LONG	^X00000000
    0480	.LONG	^X010E0000
    0484	.LONG	^X00000000
    0488	.LONG	^X00000002
    048C	.LONG	^X00000000
    0490	.ADDR	$PDATA+^X27
    0494	.LONG	^X010E0008
    0498	.ADDR	$PDATA+^X3B
    049C	.LONG	^X010E0008
    04A0	.ADDR	$PDATA+^X44
    04A4	.LONG	^X010E0008
    04A8	.ADDR	$PDATA+^X4D
    04AC	.LONG	^X00000004
    04B0	.LONG	^X00000000
    04B4	.CKARG	$LOCAL+^X494
    04B8	.ADDR	REG
    04BC	.ADDR	$PDATA+^X2B
    04C0	.LONG	^X00000004
    04C4	.LONG	^X00000000
    04C8	.CKARG	$LOCAL+^X49C
    04CC	.ADDR	REG
    04D0	.ADDR	$PDATA+^X2B
    04D4	.LONG	^X00000004
    04D8	.LONG	^X00000000
    04DC	.CKARG	$LOCAL+^X4A4
    04E0	.ADDR	REG
    04E4	.ADDR	$PDATA+^X2B

    0056	.PSECT	$PDATA
    0056  .100:
    0056	.XBYTE	0F,01,30,29,04
    005B  .310:
    005B	.XBYTE	0F,01,20,0D,2D,29,04
    0062  .200:
    0062	.XBYTE	0F,01,20,0D,0A,29,0D,17,19,08,04
    006D  .300:
    006D	.XBYTE	0F,01,20,0D,28,29,07,0D,41,19,08,04
    0079  .800:

SBI_FAULT       22-Aug-1978 02:53:20	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 6   
					SBIFAULT.FOR.19     

    0079	.XBYTE	0F,01,30,0D,0A,29,04

    0000	.PSECT	$LOCAL
    0000  NUMBER:
    0000	.XBYTE	20,30
    0002  NUMBER+2:
    0002	.XBYTE	20,31
    0004  NUMBER+4:
    0004	.XBYTE	20,32
    0006  NUMBER+6:
    0006	.XBYTE	20,33
    0008  NUMBER+8:
    0008	.XBYTE	20,34
    000A  NUMBER+10:
    000A	.XBYTE	20,35
    000C  NUMBER+12:
    000C	.XBYTE	20,36
    000E  NUMBER+14:
    000E	.XBYTE	20,37
    0010  NUMBER+16:
    0010	.XBYTE	20,38
    0012  NUMBER+18:
    0012	.XBYTE	20,39
    0014  NUMBER+20:
    0014	.XBYTE	31,30
    0016  NUMBER+22:
    0016	.XBYTE	31,31
    0018  NUMBER+24:
    0018	.XBYTE	31,32
    001A  NUMBER+26:
    001A	.XBYTE	31,33
    001C  NUMBER+28:
    001C	.XBYTE	31,34
    001E  NUMBER+30:
    001E	.XBYTE	31,35
    0035  CONFIG_BITS:
    0035	.XBYTE	41,44,41,50,54,4F,52,20,54,59,50,45,20,43,4F,44
    0045	.XBYTE	45,3C,30,37,3A,30,30,3E,3A
    004E	.XBYTE	20 [7]
    01F5  CONFIG_BITS+448:
    01F5	.XBYTE	4F,56,45,52,20,54,45,4D,50,45,52,41,54,55,52,45
    0205	.XBYTE	20,53,45,54,3C,32,31,3E
    020D	.XBYTE	20 [8]
    0215  CONFIG_BITS+480:
    0215	.XBYTE	50,4F,57,45,52,20,55,50,20,42,49,54,20,53,45,54
    0225	.XBYTE	3C,32,32,3E
    0229	.XBYTE	20 [12]
    0235  CONFIG_BITS+512:
    0235	.XBYTE	50,4F,57,45,52,20,44,4F,57,4E,20,42,49,54,20,53
    0245	.XBYTE	45,54,3C,32,33,3E
    024B	.XBYTE	20 [10]
    0295  CONFIG_BITS+608:
    0295	.XBYTE	54,52,41,4E,53,4D,49,54,54,45,52,20,44,55,52,49
    02A5	.XBYTE	4E,47,20,46,41,55,4C,54,3C,32,36,3E
    02B1	.XBYTE	20 [4]
    02B5  CONFIG_BITS+640:

SBI_FAULT       22-Aug-1978 02:53:20	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 7   
					SBIFAULT.FOR.19     

    02B5	.XBYTE	4D,55,4C,54,49,50,4C,45,20,54,52,41,4E,53,4D,49
    02C5	.XBYTE	54,54,45,52,20,46,41,55,4C,54,3C,32,37,3E
    02D3	.XBYTE	20 [2]
    02D5  CONFIG_BITS+672:
    02D5	.XBYTE	49,4E,54,45,52,4C,4F,43,4B,20,53,45,51,55,45,4E
    02E5	.XBYTE	43,45,20,46,41,55,4C,54,3C,32,38,3E
    02F1	.XBYTE	20 [4]
    02F5  CONFIG_BITS+704:
    02F5	.XBYTE	55,4E,45,58,50,45,43,54,45,44,20,52,45,41,44,20
    0305	.XBYTE	44,41,54,41,20,46,41,55,4C,54,3C,32,39,3E
    0313	.XBYTE	20 [2]
    0315  CONFIG_BITS+736:
    0315	.XBYTE	57,52,49,54,45,20,53,45,51,55,45,4E,43,45,20,46
    0325	.XBYTE	41,55,4C,54,3C,33,30,3E
    032D	.XBYTE	20 [8]
    0335  CONFIG_BITS+768:
    0335	.XBYTE	50,41,52,49,54,59,20,46,41,55,4C,54,3C,33,31,3E
    0345	.XBYTE	20 [16]
    0020  ADAPTOR_NAME:
    0020	.XBYTE	52,48,37,38,30,20,23
    0027  ADAPTOR_NAME+7:
    0027	.XBYTE	44,57,37,38,30,20,23
    0355  TITLE:
    0355	.XBYTE	53,42,49,46,53,2D,31,42,20,53,42,49,53,43,2D,31
    0365	.XBYTE	43,20,53,42,49,4D,54,2D,31,44,20,53,42,49,54,41
    0375	.XBYTE	2D,31,41,20,53,42,49,20,53,49,4C,4F,2D,31,38
    0384	.XBYTE	20 [6]

    0000	.PSECT	$CODE
    0000  SBI_FAULT::
    0000	.WORD	^M<IV,R2,R3,R4,R5,R8,R9,R10,R11>
    0002	MOVAL	$LOCAL+^X3C4, R11
									    ; 0078
    0009	MOVAB	@LUN(AP), $LOCAL+^X3FC(R11)
    000E	CALLG	$LOCAL+^X3F8(R11), LINCHK
									    ; 0079
    0016	PUSHAL	.200
    001C	CVTBL	@LUN(AP), -(SP)
    0020	CALLS	#2, FOR$WRITE_SF
    0027	PUSHAB	$LOCAL+^X404(R11)
    002A	CALLS	#1, FOR$IO_T_DS
    0031	PUSHAL	EMB$L_SB_PC
    0037	CALLS	#1, FOR$IO_L_R
    003E	CALLS	#0, FOR$IO_END
									    ; 0080
    0045	MOVAB	@LUN(AP), $LOCAL+^X410(R11)
    004A	CALLG	$LOCAL+^X40C(R11), PSL
									    ; 0081
    0052	MOVAB	@LUN(AP), $LOCAL+^X41C(R11)
    0057	CALLG	$LOCAL+^X418(R11), SBI_REG
									    ; 0082
    005F	MOVAB	@LUN(AP), $LOCAL+^X428(R11)
    0064	CALLG	$LOCAL+^X424(R11), LINCHK
									    ; 0083
    006C	PUSHAL	.100
    0072	CVTBL	@LUN(AP), -(SP)

SBI_FAULT       22-Aug-1978 02:53:20	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 8   
					SBIFAULT.FOR.19     

    0076	CALLS	#2, FOR$WRITE_SF
    007D	PUSHAB	$LOCAL+^X430(R11)
    0080	CALLS	#1, FOR$IO_T_DS
    0087	CALLS	#0, FOR$IO_END
									    ; 0085
    008E	CLRL	I(R11)
    0091  L$IBEL:
									    ; 0086
    0091	MOVAL	EMB, R9
    0098	MOVL	I(R11), R10
    009C	TSTL	SBIRGS(R9)[R10]
    00A0	BNEQ	L$IBFM
									    ; 0087
    00A2	BRW	.700
									    ; 0088
    00A5  L$IBFM:
									    ; 0089
    00A5	BICL3	#^X31FFFFF, SBIRGS(R9)[R10], -(SP)
    00AF	MOVL	SP, $LOCAL+^X43C(R11)
    00B3	CALLG	$LOCAL+^X438(R11), BITCNT
    00BB	ADDL2	#4, SP
    00BE	ADDW3	#3, R0, LINE_CT(R11)
									    ; 0090
    00C3	MOVAB	@LUN(AP), $LOCAL+^X444(R11)
    00C9	CALLG	$LOCAL+^X440(R11), LINCHK
									    ; 0091
    00D1	MULL3	#2, R10, R0
    00D5	SUBL2	#2, SP
    00D8	MOVC3	#2, NUMBER(R11)[R0], (SP)
    00DF	SUBL2	#5, SP
    00E2	MOVC3	#5, $PDATA+^X80, (SP)
    00EA	MOVC5	#7, (SP), #^X20, #55, STRING(R11)
    00F1	MOVL	R1, SP
									    ; 0092
    00F4	PUSHAL	.200
    00FA	CVTBL	@LUN(AP), -(SP)
    00FE	CALLS	#2, FOR$WRITE_SF
    0105	PUSHAB	$LOCAL+^X3F0(R11)
    0108	CALLS	#1, FOR$IO_T_DS
    010F	PUSHAL	SBIRGS(R9)[R10]
    0113	CALLS	#1, FOR$IO_L_R
    011A	CALLS	#0, FOR$IO_END
									    ; 0093
    0121	MOVAB	@LUN(AP), $LOCAL+^X458(R11)
    0127	MOVAL	SBIRGS(R9)[R10], $LOCAL+^X45C(R11)
    012E	CALLG	$LOCAL+^X454(R11), BITS_OUTPUT
									    ; 0094
    0137	MOVAL	SBIRGS(R9)[R10], $LOCAL+^X47C(R11)
    013E	CALLG	$LOCAL+^X470(R11), LIB$EXTZV
    0147	MOVL	R0, TEMP(R11)
									    ; 0095
    014B	PUSHAL	.300
    0151	CVTBL	@LUN(AP), R8
    0155	PUSHL	R8
    0157	CALLS	#2, FOR$WRITE_SF
    015E	MOVW	#32, $LOCAL+^X480(R11)

SBI_FAULT       22-Aug-1978 02:53:20	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 9   
					SBIFAULT.FOR.19     

    0163	MOVAB	CONFIG_BITS(R11), $LOCAL+^X484(R11)
    016A	PUSHAB	$LOCAL+^X480(R11)
    016E	CALLS	#1, FOR$IO_T_DS
    0175	PUSHAL	TEMP(R11)
    0178	CALLS	#1, FOR$IO_L_R
    017F	CALLS	#0, FOR$IO_END
									    ; 0096
    0186	DIVL3	#32, TEMP(R11), R9
									    ; 0097
    018B	MULL3	#32, R9, R0
    018F	MOVL	TEMP(R11), R10
    0193	SUBL3	R0, R10, MINTYP(R11)
									    ; 0098
    0198	TSTL	R9
    019A	BNEQ	L$IBHO
									    ; 0099
    019C	BITL	R10, #^X8
    019F	BEQL	L$IBNO
									    ; 0100
    01A1	MOVC5	#6, $PDATA+^X85, #^X20, #55, STRING(R11)
									    ; 0101
    01AC	BRB	L$IBDP
    01AE  L$IBNO:
    01AE	BITL	R10, #^X10
    01B1	BEQL	L$IBJP
									    ; 0102
    01B3	MOVC5	#6, $PDATA+^X8B, #^X20, #55, STRING(R11)
									    ; 0103
    01BE	BRB	L$IBDP
    01C0  L$IBJP:
									    ; 0104
    01C0	MOVC5	#20, $PDATA+^X91, #^X20, #55, STRING(R11)
									    ; 0105
    01CB  L$IBDP:
									    ; 0106
    01CB	BRB	L$MBAA
    01CD  L$IBHO:
    01CD	CMPL	R9, #1
    01D0	BNEQ	L$MBGA
									    ; 0107
    01D2	DIVL3	#8, MINTYP(R11), ADAPTOR(R11)
									    ; 0108
    01D8	MULL3	#8, ADAPTOR(R11), R0
    01DD	SUBL3	R0, MINTYP(R11), UNIT(R11)
									    ; 0109
    01E3	MULL3	#2, UNIT(R11), R0
    01E8	SUBL2	#2, SP
    01EB	MOVC3	#2, NUMBER(R11)[R0], (SP)
    01F2	MULL3	#7, ADAPTOR(R11), R0
    01F7	SUBL2	#7, SP
    01FA	MOVC3	#7, ADAPTOR_NAME(R11)[R0], (SP)
    0201	MOVC5	#9, (SP), #^X20, #55, STRING(R11)
    0208	MOVL	R1, SP
									    ; 0110
    020B	BRB	L$MBAA
    020D  L$MBGA:

SBI_FAULT       22-Aug-1978 02:53:20	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 10  
					SBIFAULT.FOR.19     

									    ; 0111
    020D	MOVC5	#20, $PDATA+^X91, #^X20, #55, STRING(R11)
									    ; 0112
    0218  L$MBAA:
    0218	MOVL	R9, MAJTYP(R11)
									    ; 0113
    021C	PUSHAL	.310
    0222	PUSHL	R8
    0224	CALLS	#2, FOR$WRITE_SF
    022B	PUSHAB	$LOCAL+^X3F0(R11)
    022E	CALLS	#1, FOR$IO_T_DS
    0235	CALLS	#0, FOR$IO_END
									    ; 0115
    023C  L$IBLM:
									    ; 0118
    023C  .700:
    023C	ACBL	#15, #1, I(R11), L$IBEL
									    ; 0119
    0243	RET	
    0244  B_SBI_FAULT::
    0244	.WORD	^M<IV,R2,R3,R4,R5,R8,R9,R10,R11>
    0246	MOVAL	$LOCAL+^X3C4, R11
    024D  L$MBKB:
									    ; 0121
    024D	MOVAB	@LUN(AP), $LOCAL+^X48C(R11)
    0253	CALLG	$LOCAL+^X488(R11), LINCHK
									    ; 0122
    025C	PUSHAL	.800
    0262	CVTBL	@LUN(AP), -(SP)
    0266	CALLS	#2, FOR$WRITE_SF
    026D	PUSHAB	$LOCAL+^X3E8(R11)
    0270	CALLS	#1, FOR$IO_T_DS
    0277	CALLS	#0, FOR$IO_END
									    ; 0124
    027E	MOVAB	@LUN(AP), $LOCAL+^X4B0(R11)
    0284	CALLG	$LOCAL+^X4AC(R11), CRYPTK8
									    ; 0125
    028D	RET	
    028E  C_SBI_FAULT::
    028E	.WORD	^M<IV,R2,R3,R4,R5,R8,R9,R10,R11>
    0290	MOVAL	$LOCAL+^X3C4, R11
    0297  L$MBAF:
									    ; 0127
    0297	MOVAB	@LUN(AP), $LOCAL+^X3FC(R11)
    029C	CALLG	$LOCAL+^X3F8(R11), LINCHK
									    ; 0128
    02A4	CMPW	EMB$W_SB_ENTRY, #4
    02AB	BNEQ	L$MBKF
    02AD	MOVAB	@LUN(AP), $LOCAL+^X4C4(R11)
    02B3	CALLG	$LOCAL+^X4C0(R11), CRYPTK8
    02BC  L$MBKF:
									    ; 0129
    02BC	CMPW	EMB$W_SB_ENTRY, #7
    02C3	BNEQ	L$MBGH
    02C5	MOVAB	@LUN(AP), $LOCAL+^X4D8(R11)
    02CB	CALLG	$LOCAL+^X4D4(R11), CRYPTK8

SBI_FAULT       22-Aug-1978 02:53:20	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 11  
					SBIFAULT.FOR.19     

    02D4  L$MBGH:
									    ; 0130
    02D4	RET	

    0080	.PSECT	$PDATA
    0080	.XBYTE	54,52,20,23,20
    0085	.XBYTE	4D,53,37,38,30,41
    008B	.XBYTE	4D,53,37,38,30,43
    0091	.XBYTE	49,4E,56,41,4C,49,44,20,41,44,41,50,54,4F,52,20
    00A1	.XBYTE	54,59,50,45
		.END

SBI_FAULT       22-Aug-1978 02:53:20	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 12  
					SBIFAULT.FOR.19     

PROGRAM SECTIONS

    Name                 Bytes   Attributes

  0 $CODE                  725   PIC CON REL LCL   SHR   EXE   RD NOWRT LONG
  1 $PDATA                 165   PIC CON REL LCL   SHR NOEXE   RD NOWRT LONG
  2 $LOCAL                1256   PIC CON REL LCL NOSHR NOEXE   RD   WRT LONG
  3 EMB                    500   PIC OVR REL GBL   SHR NOEXE   RD   WRT LONG


ENTRY POINTS

    Address  Type Name               Address  Type Name               Address  Type Name           

  0-00000244      B_SBI_FAULT      0-0000028E      C_SBI_FAULT      0-00000000      SBI_FAULT      


VARIABLES

    Address  Type Name               Address  Type Name               Address  Type Name               Address  Type Name           

  2-000003DC  I*4 ADAPTOR          2-000003C8  I*4 EMB$C_SB_LENGTH  2-000003CC  I*4 EMB$K_SB_LENGTH  3-0000001C  I*4 EMB$L_SB_ERROR 
  3-00000010  I*4 EMB$L_SB_FAULT   3-00000018  I*4 EMB$L_SB_MAINT   3-000000A4  I*4 EMB$L_SB_PC      3-000000A8  I*4 EMB$L_SB_PSL   
  3-00000064  I*4 EMB$L_SB_SBIRGS  3-00000000  R*4 EMB$L_SB_SID     3-00000014  I*4 EMB$L_SB_SILCMP  3-00000024  I*4 EMB$L_SB_SILO  
  3-00000020  I*4 EMB$L_SB_TIMOUT  2-000003C4  I*4 EMB$L_SID        3-00000006  R*8 EMB$Q_SB_TIME    3-00000004  I*2 EMB$W_SB_ENTRY 
  3-0000000E  I*2 EMB$W_SB_ERRSEQ  2-000003E4  I*4 I                2-000003C2  I*2 LINE_CT         AP-00000004@ L*1 LUN            
  2-000003D4  I*4 MAJTYP           2-000003D8  I*4 MINTYP           2-0000038A  CHR STRING           2-000003D0  I*4 TEMP           
  2-00000355  CHR TITLE            2-000003E0  I*4 UNIT           


ARRAYS

    Address  Type Name		       Bytes  Dimensions

  2-00000020  CHR ADAPTOR_NAME            21  (0:2)
  2-00000035  CHR CONFIG_BITS            800  (7:31)
  3-00000000  L*1 EMB                    500  (0:499)
  2-00000000  CHR NUMBER                  32  (0:15)
  3-00000010  I*4 REG                     84  (0:20)
  3-00000064  I*4 SBIRGS                  64  (0:15)


LABELS

    Address   Label       Address   Label       Address   Label       Address   Label       Address   Label       Address   Label   

  1-00000056  100'      1-00000062  200'      1-0000006D  300'      1-0000005B  310'      0-0000023C  700       1-00000079  800'    


FUNCTIONS AND SUBROUTINES REFERENCED

BITCNT            BITS_OUTPUT       CRYPTK8           LIB$EXTZV         LINCHK            PSL               SBI_REG        


Total Space Allocated = 2646 Bytes


SBI_FAULT       22-Aug-1978 02:53:20	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 13  
					SBIFAULT.FOR.19     


COMPILER OPTIONS

/CHECK=(NOBOUNDS,OVERFLOW)
/DEBUG=(NOSYMBOLS,TRACEBACK)
/OPTIMIZE  /WARNINGS  /I4  /NOD_LINES  

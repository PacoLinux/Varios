
                22-Aug-1978 02:49:21	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 1   
					MBAREG.FOR.4        

0001    	SUBROUTINE MBAREG(LUN,REG)
0002    	BYTE		LUN
0003    	INTEGER*4	REG (0:7)
         
        C
        C	INCLUDE FILES:
        C
        C			NONE
         
        C
        C	EQUATED SYMBOLS:
        C
0004    	PARAMETER	MBACSR	= 1	! CONFIGURATION REG
0005    	PARAMETER	MBACR	= 2	! CONTROL REG
0006    	PARAMETER	MBASR	= 3	! STATUS REG
0007    	PARAMETER	MBAVAR	= 4	! VIRTUAL ADDRESS REG
0008    	PARAMETER	MBABCR	= 5	! BYTE COUNT REGISTER
0009    	PARAMETER	FINAL MAP = 6
0010    	PARAMETER	PREV MAP = 7
         
        C
        C	OWN STORAGE:
        C
0011    	INTEGER*4	L_BIT
0012    	INTEGER*2	BYTE OFF
0013    	INTEGER*2	MAP SEL
0014    	CHARACTER*25	MBACSR_BIT(0:31)
0015    	CHARACTER*25	MBACR_BIT(0:31)
0016    	CHARACTER*25	MBASR_BIT(0:31)
         
        C
        C	EXTERNAL ROUTINES:
        C
0017    	INTEGER*2	BITCNT
         
0018    	DATA		MBACSR_BIT(0)/'BIT 0 IS SET  -  ERROR'/
0019    	DATA		MBACSR_BIT(1)/'BIT 1 IS SET  -  ERROR'/
0020    	DATA		MBACSR_BIT(2)/'BIT 2 IS SET  -  ERROR'/
0021    	DATA		MBACSR_BIT(3)/'BIT 3 IS SET  -  ERROR'/
0022    	DATA		MBACSR_BIT(4)/'BIT 4 IS SET  -  ERROR'/
0023    	DATA		MBACSR_BIT(5)/'ADAPTOR IS MBA'/
0024    	DATA		MBACSR_BIT(6)/'BIT 6 IS SET  -  ERROR'/
0025    	DATA		MBACSR_BIT(7)/'BIT 7 IS SET  -  ERROR'/
0026    	DATA		MBACSR_BIT(8)/'BIT 8 IS SET  -  ERROR'/
0027    	DATA		MBACSR_BIT(9)/'BIT 9 IS SET  -  ERROR'/
0028    	DATA		MBACSR_BIT(10)/'BIT 10 IS SET  -  ERROR'/
0029    	DATA		MBACSR_BIT(11)/'BIT 11 IS SET  -  ERROR'/
0030    	DATA		MBACSR_BIT(12)/'BIT 12 IS SET  -  ERROR'/
0031    	DATA		MBACSR_BIT(13)/'BIT 13 IS SET  -  ERROR'/
0032    	DATA		MBACSR_BIT(14)/'BIT 14 IS SET  -  ERROR'/
0033    	DATA		MBACSR_BIT(15)/'BIT 15 IS SET  -  ERROR'/
0034    	DATA		MBACSR_BIT(16)/'BIT 16 IS SET  -  ERROR'/
0035    	DATA		MBACSR_BIT(17)/'BIT 17 IS SET  -  ERROR'/
0036    	DATA		MBACSR_BIT(18)/'BIT 18 IS SET  -  ERROR'/
0037    	DATA		MBACSR_BIT(19)/'BIT 19 IS SET  -  ERROR'/
0038    	DATA		MBACSR_BIT(20)/'BIT 20 IS SET  -  ERROR'/

MBAREG          22-Aug-1978 02:49:21	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 2   
					MBAREG.FOR.4        

0039    	DATA		MBACSR_BIT(21)/'OVER TEMPERATURE'/
0040    	DATA		MBACSR_BIT(22)/'ADAPTOR POWER UP'/
0041    	DATA		MBACSR_BIT(23)/'ADAPTOR POWER DOWN'/
0042    	DATA		MBACSR_BIT(24)/'MBZ BIT 24 SET'/
0043    	DATA		MBACSR_BIT(25)/'MBZ BIT 25 SET'/
0044    	DATA		MBACSR_BIT(26)/'TRANSMIT FAULT'/
0045    	DATA		MBACSR_BIT(27)/'MULTIPLE TRANSMITTER'/
0046    	DATA		MBACSR_BIT(28)/'MBZ BIT 28 SET'/
0047    	DATA		MBACSR_BIT(29)/'UNEXPECTED READ DATA'/
0048    	DATA		MBACSR_BIT(30)/'WRITE DATA SEQUENCE'/
0049    	DATA		MBACSR_BIT(31)/'SBI PARITY ERROR'/
         
0050    	DATA		MBACR_BIT(0)/'INIT SET  -  ERROR'/
0051    	DATA		MBACR_BIT(1)/'ABORT DATA TRANSFER'/
0052    	DATA		MBACR_BIT(2)/'INTERRUPT ENABLE'/
0053    	DATA		MBACR_BIT(3)/'MAINTENANCE MODE'/
0054    	DATA		MBACR_BIT(4)/'MBZ BIT 4 IS SET'/
0055    	DATA		MBACR_BIT(5)/'MBZ BIT 5 IS SET'/
0056    	DATA		MBACR_BIT(6)/'MBZ BIT 6 IS SET'/
0057    	DATA		MBACR_BIT(7)/'MBZ BIT 7 IS SET'/
0058    	DATA		MBACR_BIT(8)/'MBZ BIT 8 IS SET'/
0059    	DATA		MBACR_BIT(9)/'MBZ BIT 9 IS SET'/
0060    	DATA		MBACR_BIT(10)/'MBZ BIT 10 IS SET'/
0061    	DATA		MBACR_BIT(11)/'MBZ BIT 11 IS SET'/
0062    	DATA		MBACR_BIT(12)/'MBZ BIT 12 IS SET'/
0063    	DATA		MBACR_BIT(13)/'MBZ BIT 13 IS SET'/
0064    	DATA		MBACR_BIT(14)/'MBZ BIT 14 IS SET'/
0065    	DATA		MBACR_BIT(15)/'MBZ BIT 15 IS SET'/
0066    	DATA		MBACR_BIT(16)/'MBZ BIT 16 IS SET'/
0067    	DATA		MBACR_BIT(17)/'MBZ BIT 17 IS SET'/
0068    	DATA		MBACR_BIT(18)/'MBZ BIT 18 IS SET'/
0069    	DATA		MBACR_BIT(19)/'MBZ BIT 19 IS SET'/
0070    	DATA		MBACR_BIT(20)/'MBZ BIT 20 IS SET'/
0071    	DATA		MBACR_BIT(21)/'MBZ BIT 21 IS SET'/
0072    	DATA		MBACR_BIT(22)/'MBZ BIT 22 IS SET'/
0073    	DATA		MBACR_BIT(23)/'MBZ BIT 23 IS SET'/
0074    	DATA		MBACR_BIT(24)/'MBZ BIT 24 IS SET'/
0075    	DATA		MBACR_BIT(25)/'MBZ BIT 25 IS SET'/
0076    	DATA		MBACR_BIT(26)/'MBZ BIT 26 IS SET'/
0077    	DATA		MBACR_BIT(27)/'MBZ BIT 27 IS SET'/
0078    	DATA		MBACR_BIT(28)/'MBZ BIT 28 IS SET'/
0079    	DATA		MBACR_BIT(29)/'MBZ BIT 29 IS SET'/
0080    	DATA		MBACR_BIT(30)/'MBZ BIT 30 IS SET'/
0081    	DATA		MBACR_BIT(31)/'MBZ BIT 31 IS SET'/
         
0082    	DATA		MBASR_BIT(0)/'READ DATA TIMEOUT'/
0083    	DATA		MBASR_BIT(1)/'INTERFACE SEQ TIMEOUT'/
0084    	DATA		MBASR_BIT(2)/'READ DATA SUBSTITUTE'/
0085    	DATA		MBASR_BIT(3)/'ERROR CONFIRMATION'/
0086    	DATA		MBASR_BIT(4)/'INVALID MAP'/
0087    	DATA		MBASR_BIT(5)/'PAGE FRAME MP PAR ERR'/
0088    	DATA		MBASR_BIT(6)/'MASSBUS DATA PAR ERR'/
0089    	DATA		MBASR_BIT(7)/'MASSBUS EXCEPTION'/
0090    	DATA		MBASR_BIT(8)/'MISS TRANSFER ERROR'/
0091    	DATA		MBASR_BIT(9)/'WRITE CHK LOWER ERR'/
0092    	DATA		MBASR_BIT(10)/'WRITE CHK UPPER ERR'/

MBAREG          22-Aug-1978 02:49:21	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 3   
					MBAREG.FOR.4        

0093    	DATA		MBASR_BIT(11)/'DATA LATE'/
0094    	DATA		MBASR_BIT(12)/'DATA TRANSFER ABORTED'/
0095    	DATA		MBASR_BIT(13)/'DATA TRANSFER COMPLETED'/
0096    	DATA		MBASR_BIT(14)/'MBZ BIT 14 SET'/
0097    	DATA		MBASR_BIT(15)/'MBZ BIT 15 SET'/
0098    	DATA		MBASR_BIT(16)/'ATTN FROM MASSBUS'/
0099    	DATA		MBASR_BIT(17)/'MASSBUS CNTRL PAR ERR'/
0100    	DATA		MBASR_BIT(18)/'NON-EXISTENT DRIVE'/
0101    	DATA		MBASR_BIT(19)/'PROGRAMMING ERROR'/
0102    	DATA		MBASR_BIT(20)/'MBZ BIT 20 SET'/
0103    	DATA		MBASR_BIT(21)/'MBZ BIT 21 SET'/
0104    	DATA		MBASR_BIT(22)/'MBZ BIT 22 SET'/
0105    	DATA		MBASR_BIT(23)/'MBZ BIT 23 SET'/
0106    	DATA		MBASR_BIT(24)/'MBZ BIT 24 SET '/
0107    	DATA		MBASR_BIT(25)/'MBZ BIT 25 SET'/
0108    	DATA		MBASR_BIT(26)/'MBZ BIT 26 SET'/
0109    	DATA		MBASR_BIT(27)/'MBZ BIT 27 SET'/
0110    	DATA		MBASR_BIT(28)/'MBZ BIT 28 SET'/
0111    	DATA		MBASR_BIT(29)/'CORRECTED READ DATA'/
0112    	DATA		MBASR_BIT(30)/'NO RESPONSE CONFIRMN'/
0113    	DATA		MBASR_BIT(31)/'DATA TRANSFER BUSY'/
         
         
        C
0114    	CALL LINCHK(LUN,2)
         
0115    	WRITE(LUN,501)
0116     501	FORMAT('0MBA REGISTERS:')
         
0117    	CALL MBAASC(LUN,'MBACSR',REG(MBACSR),MBACSR_BIT(0))
         
0118    	CALL MBAASC(LUN,'MBACR',REG(MBACR),MBACR_BIT(0))
         
0119    	CALL MBAASC(LUN,'MBASR',REG(MBASR),MBASR_BIT(0))
         
0120    	CALL LINCHK(LUN,3+MIN(1,BITCNT(IAND(REG(MBAVAR),'FFFF8000'X))))
         
0121    	BYTEOFF	= IAND(REG(MBAVAR),'01FF'X)
0122    	MAPSEL	= IAND(REG(MBAVAR),'01FE00'X) / 2**9
         
0123    	WRITE(LUN,701) REG(MBAVAR), MAPSEL, BYTEOFF
0124     701	FORMAT(' ',T10,'MBAVAR',T23,Z8,T40,'MAP SELECT =',I4,'.'
        	1	/,' ',T40,'BYTE OFFSET =',I4,'.')
         
0125    	IF(IAND(REG(MBAVAR),'FFFF8000'X) .NE. 0)  WRITE(LUN,711)
0126     711	FORMAT(' ',T40,'ERROR - HIGH 16-BITS MBAVAR NON-ZERO')
         
         
0127    	WRITE(LUN,722)  REG(MBABCR)
0128     722	FORMAT(' ',T10,'MBABCR',T23,Z8)
         
0129    	CALL LINCHK(LUN,4)
         
0130    	WRITE(LUN,731)  REG(FINAL MAP),REG(PREV MAP)
0131     731	FORMAT('0MBA MAPPING REGISTER:'/
        	1	' ',T10,'FINAL',T23,Z8/

MBAREG          22-Aug-1978 02:49:21	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 4   
					MBAREG.FOR.4        

        	2	' ',T10,'PREVIOUS',T23,Z8)
         
0132    	RETURN
0133    	END

MBAREG          22-Aug-1978 02:49:21	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 5   
					MBAREG.FOR.4        

		.TITLE	MBAREG
		.IDENT	01

    0000	.PSECT	$PDATA
    0000	.LONG	^X00000002
    0004	.LONG	^X00000004
    0008	.XBYTE	4D,42,41,43,53,52,00
    000F	.XBYTE	4D,42,41,43,52,00
    0015	.XBYTE	4D,42,41,53,52,00

    0968	.PSECT	$LOCAL
    0968	.LONG	^X04080004
    096C	.LONG	^X00000000
    0970	.LONG	^X01200000,^X00000020
    0978	.LONG	^X00000000
    097C	.LONG	^X00000002
    0980	.LONG	^X00000000
    0984	.ADDR	$PDATA
    0988	.LONG	^X010E0006
    098C	.ADDR	$PDATA+^X8
    0990	.LONG	^X010E0019
    0994	.ADDR	MBACSR_BIT
    0998	.LONG	^X010E0005
    099C	.ADDR	$PDATA+^XF
    09A0	.LONG	^X010E0019
    09A4	.ADDR	MBACR_BIT
    09A8	.LONG	^X010E0005
    09AC	.ADDR	$PDATA+^X15
    09B0	.LONG	^X010E0019
    09B4	.ADDR	MBASR_BIT
    09B8	.LONG	^X00000001
    09BC	.LONG	^X00000000
    09C0	.LONG	^X00000002
    09C4	.LONG	^X00000000
    09C8	.LONG	^X00000000
    09CC	.LONG	^X00000002
    09D0	.LONG	^X00000000
    09D4	.ADDR	$PDATA+^X4
    09D8	.LONG	^X00000004
    09DC	.LONG	^X00000000
    09E0	.CKARG	$LOCAL+^X988
    09E4	.LONG	^X00000000
    09E8	.ADDR	$LOCAL+^X990
    09EC	.LONG	^X00000004
    09F0	.LONG	^X00000000
    09F4	.CKARG	$LOCAL+^X998
    09F8	.LONG	^X00000000
    09FC	.ADDR	$LOCAL+^X9A0
    0A00	.LONG	^X00000004
    0A04	.LONG	^X00000000
    0A08	.CKARG	$LOCAL+^X9A8
    0A0C	.LONG	^X00000000
    0A10	.ADDR	$LOCAL+^X9B0

    001B	.PSECT	$PDATA
    001B  .501:

MBAREG          22-Aug-1978 02:49:21	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 6   
					MBAREG.FOR.4        

    001B	.XBYTE	0F,0F,30,4D,42,41,20,52,45,47,49,53,54,45,52,53
    002B	.XBYTE	3A,04
    002D  .701:
    002D	.XBYTE	0F,01,20,0D,0A,0F,06,4D,42,41,56,41,52,0D,17,19
    003D	.XBYTE	08,0D,28,0F,0C,4D,41,50,20,53,45,4C,45,43,54,20
    004D	.XBYTE	3D,18,04,0F,01,2E,05,0F,01,20,0D,28,0F,0D,42,59
    005D	.XBYTE	54,45,20,4F,46,46,53,45,54,20,3D,18,04,0F,01,2E
    006D	.XBYTE	04
    006E  .711:
    006E	.XBYTE	0F,01,20,0D,28,0F,24,45,52,52,4F,52,20,2D,20,48
    007E	.XBYTE	49,47,48,20,31,36,2D,42,49,54,53,20,4D,42,41,56
    008E	.XBYTE	41,52,20,4E,4F,4E,2D,5A,45,52,4F,04
    009A  .722:
    009A	.XBYTE	0F,01,20,0D,0A,0F,06,4D,42,41,42,43,52,0D,17,19
    00AA	.XBYTE	08,04
    00AC  .731:
    00AC	.XBYTE	0F,16,30,4D,42,41,20,4D,41,50,50,49,4E,47,20,52
    00BC	.XBYTE	45,47,49,53,54,45,52,3A,05,0F,01,20,0D,0A,0F,05
    00CC	.XBYTE	46,49,4E,41,4C,0D,17,19,08,05,0F,01,20,0D,0A,0F
    00DC	.XBYTE	08,50,52,45,56,49,4F,55,53,0D,17,19,08,04

    0000	.PSECT	$LOCAL
    0000  MBACSR_BIT:
    0000	.XBYTE	42,49,54,20,30,20,49,53,20,53,45,54,20,20,2D,20
    0010	.XBYTE	20,45,52,52,4F,52
    0016	.XBYTE	20 [3]
    0019  MBACSR_BIT+25:
    0019	.XBYTE	42,49,54,20,31,20,49,53,20,53,45,54,20,20,2D,20
    0029	.XBYTE	20,45,52,52,4F,52
    002F	.XBYTE	20 [3]
    0032  MBACSR_BIT+50:
    0032	.XBYTE	42,49,54,20,32,20,49,53,20,53,45,54,20,20,2D,20
    0042	.XBYTE	20,45,52,52,4F,52
    0048	.XBYTE	20 [3]
    004B  MBACSR_BIT+75:
    004B	.XBYTE	42,49,54,20,33,20,49,53,20,53,45,54,20,20,2D,20
    005B	.XBYTE	20,45,52,52,4F,52
    0061	.XBYTE	20 [3]
    0064  MBACSR_BIT+100:
    0064	.XBYTE	42,49,54,20,34,20,49,53,20,53,45,54,20,20,2D,20
    0074	.XBYTE	20,45,52,52,4F,52
    007A	.XBYTE	20 [3]
    007D  MBACSR_BIT+125:
    007D	.XBYTE	41,44,41,50,54,4F,52,20,49,53,20,4D,42,41
    008B	.XBYTE	20 [11]
    0096  MBACSR_BIT+150:
    0096	.XBYTE	42,49,54,20,36,20,49,53,20,53,45,54,20,20,2D,20
    00A6	.XBYTE	20,45,52,52,4F,52
    00AC	.XBYTE	20 [3]
    00AF  MBACSR_BIT+175:
    00AF	.XBYTE	42,49,54,20,37,20,49,53,20,53,45,54,20,20,2D,20
    00BF	.XBYTE	20,45,52,52,4F,52
    00C5	.XBYTE	20 [3]
    00C8  MBACSR_BIT+200:
    00C8	.XBYTE	42,49,54,20,38,20,49,53,20,53,45,54,20,20,2D,20
    00D8	.XBYTE	20,45,52,52,4F,52

MBAREG          22-Aug-1978 02:49:21	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 7   
					MBAREG.FOR.4        

    00DE	.XBYTE	20 [3]
    00E1  MBACSR_BIT+225:
    00E1	.XBYTE	42,49,54,20,39,20,49,53,20,53,45,54,20,20,2D,20
    00F1	.XBYTE	20,45,52,52,4F,52
    00F7	.XBYTE	20 [3]
    00FA  MBACSR_BIT+250:
    00FA	.XBYTE	42,49,54,20,31,30,20,49,53,20,53,45,54,20,20,2D
    010A	.XBYTE	20,20,45,52,52,4F,52
    0111	.XBYTE	20 [2]
    0113  MBACSR_BIT+275:
    0113	.XBYTE	42,49,54,20,31,31,20,49,53,20,53,45,54,20,20,2D
    0123	.XBYTE	20,20,45,52,52,4F,52
    012A	.XBYTE	20 [2]
    012C  MBACSR_BIT+300:
    012C	.XBYTE	42,49,54,20,31,32,20,49,53,20,53,45,54,20,20,2D
    013C	.XBYTE	20,20,45,52,52,4F,52
    0143	.XBYTE	20 [2]
    0145  MBACSR_BIT+325:
    0145	.XBYTE	42,49,54,20,31,33,20,49,53,20,53,45,54,20,20,2D
    0155	.XBYTE	20,20,45,52,52,4F,52
    015C	.XBYTE	20 [2]
    015E  MBACSR_BIT+350:
    015E	.XBYTE	42,49,54,20,31,34,20,49,53,20,53,45,54,20,20,2D
    016E	.XBYTE	20,20,45,52,52,4F,52
    0175	.XBYTE	20 [2]
    0177  MBACSR_BIT+375:
    0177	.XBYTE	42,49,54,20,31,35,20,49,53,20,53,45,54,20,20,2D
    0187	.XBYTE	20,20,45,52,52,4F,52
    018E	.XBYTE	20 [2]
    0190  MBACSR_BIT+400:
    0190	.XBYTE	42,49,54,20,31,36,20,49,53,20,53,45,54,20,20,2D
    01A0	.XBYTE	20,20,45,52,52,4F,52
    01A7	.XBYTE	20 [2]
    01A9  MBACSR_BIT+425:
    01A9	.XBYTE	42,49,54,20,31,37,20,49,53,20,53,45,54,20,20,2D
    01B9	.XBYTE	20,20,45,52,52,4F,52
    01C0	.XBYTE	20 [2]
    01C2  MBACSR_BIT+450:
    01C2	.XBYTE	42,49,54,20,31,38,20,49,53,20,53,45,54,20,20,2D
    01D2	.XBYTE	20,20,45,52,52,4F,52
    01D9	.XBYTE	20 [2]
    01DB  MBACSR_BIT+475:
    01DB	.XBYTE	42,49,54,20,31,39,20,49,53,20,53,45,54,20,20,2D
    01EB	.XBYTE	20,20,45,52,52,4F,52
    01F2	.XBYTE	20 [2]
    01F4  MBACSR_BIT+500:
    01F4	.XBYTE	42,49,54,20,32,30,20,49,53,20,53,45,54,20,20,2D
    0204	.XBYTE	20,20,45,52,52,4F,52
    020B	.XBYTE	20 [2]
    020D  MBACSR_BIT+525:
    020D	.XBYTE	4F,56,45,52,20,54,45,4D,50,45,52,41,54,55,52,45
    021D	.XBYTE	20 [9]
    0226  MBACSR_BIT+550:
    0226	.XBYTE	41,44,41,50,54,4F,52,20,50,4F,57,45,52,20,55,50
    0236	.XBYTE	20 [9]
    023F  MBACSR_BIT+575:

MBAREG          22-Aug-1978 02:49:21	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 8   
					MBAREG.FOR.4        

    023F	.XBYTE	41,44,41,50,54,4F,52,20,50,4F,57,45,52,20,44,4F
    024F	.XBYTE	57,4E
    0251	.XBYTE	20 [7]
    0258  MBACSR_BIT+600:
    0258	.XBYTE	4D,42,5A,20,42,49,54,20,32,34,20,53,45,54
    0266	.XBYTE	20 [11]
    0271  MBACSR_BIT+625:
    0271	.XBYTE	4D,42,5A,20,42,49,54,20,32,35,20,53,45,54
    027F	.XBYTE	20 [11]
    028A  MBACSR_BIT+650:
    028A	.XBYTE	54,52,41,4E,53,4D,49,54,20,46,41,55,4C,54
    0298	.XBYTE	20 [11]
    02A3  MBACSR_BIT+675:
    02A3	.XBYTE	4D,55,4C,54,49,50,4C,45,20,54,52,41,4E,53,4D,49
    02B3	.XBYTE	54,54,45,52
    02B7	.XBYTE	20 [5]
    02BC  MBACSR_BIT+700:
    02BC	.XBYTE	4D,42,5A,20,42,49,54,20,32,38,20,53,45,54
    02CA	.XBYTE	20 [11]
    02D5  MBACSR_BIT+725:
    02D5	.XBYTE	55,4E,45,58,50,45,43,54,45,44,20,52,45,41,44,20
    02E5	.XBYTE	44,41,54,41
    02E9	.XBYTE	20 [5]
    02EE  MBACSR_BIT+750:
    02EE	.XBYTE	57,52,49,54,45,20,44,41,54,41,20,53,45,51,55,45
    02FE	.XBYTE	4E,43,45
    0301	.XBYTE	20 [6]
    0307  MBACSR_BIT+775:
    0307	.XBYTE	53,42,49,20,50,41,52,49,54,59,20,45,52,52,4F,52
    0317	.XBYTE	20 [9]
    0320  MBACR_BIT:
    0320	.XBYTE	49,4E,49,54,20,53,45,54,20,20,2D,20,20,45,52,52
    0330	.XBYTE	4F,52
    0332	.XBYTE	20 [7]
    0339  MBACR_BIT+25:
    0339	.XBYTE	41,42,4F,52,54,20,44,41,54,41,20,54,52,41,4E,53
    0349	.XBYTE	46,45,52
    034C	.XBYTE	20 [6]
    0352  MBACR_BIT+50:
    0352	.XBYTE	49,4E,54,45,52,52,55,50,54,20,45,4E,41,42,4C,45
    0362	.XBYTE	20 [9]
    036B  MBACR_BIT+75:
    036B	.XBYTE	4D,41,49,4E,54,45,4E,41,4E,43,45,20,4D,4F,44,45
    037B	.XBYTE	20 [9]
    0384  MBACR_BIT+100:
    0384	.XBYTE	4D,42,5A,20,42,49,54,20,34,20,49,53,20,53,45,54
    0394	.XBYTE	20 [9]
    039D  MBACR_BIT+125:
    039D	.XBYTE	4D,42,5A,20,42,49,54,20,35,20,49,53,20,53,45,54
    03AD	.XBYTE	20 [9]
    03B6  MBACR_BIT+150:
    03B6	.XBYTE	4D,42,5A,20,42,49,54,20,36,20,49,53,20,53,45,54
    03C6	.XBYTE	20 [9]
    03CF  MBACR_BIT+175:
    03CF	.XBYTE	4D,42,5A,20,42,49,54,20,37,20,49,53,20,53,45,54
    03DF	.XBYTE	20 [9]

MBAREG          22-Aug-1978 02:49:21	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 9   
					MBAREG.FOR.4        

    03E8  MBACR_BIT+200:
    03E8	.XBYTE	4D,42,5A,20,42,49,54,20,38,20,49,53,20,53,45,54
    03F8	.XBYTE	20 [9]
    0401  MBACR_BIT+225:
    0401	.XBYTE	4D,42,5A,20,42,49,54,20,39,20,49,53,20,53,45,54
    0411	.XBYTE	20 [9]
    041A  MBACR_BIT+250:
    041A	.XBYTE	4D,42,5A,20,42,49,54,20,31,30,20,49,53,20,53,45
    042A	.XBYTE	54
    042B	.XBYTE	20 [8]
    0433  MBACR_BIT+275:
    0433	.XBYTE	4D,42,5A,20,42,49,54,20,31,31,20,49,53,20,53,45
    0443	.XBYTE	54
    0444	.XBYTE	20 [8]
    044C  MBACR_BIT+300:
    044C	.XBYTE	4D,42,5A,20,42,49,54,20,31,32,20,49,53,20,53,45
    045C	.XBYTE	54
    045D	.XBYTE	20 [8]
    0465  MBACR_BIT+325:
    0465	.XBYTE	4D,42,5A,20,42,49,54,20,31,33,20,49,53,20,53,45
    0475	.XBYTE	54
    0476	.XBYTE	20 [8]
    047E  MBACR_BIT+350:
    047E	.XBYTE	4D,42,5A,20,42,49,54,20,31,34,20,49,53,20,53,45
    048E	.XBYTE	54
    048F	.XBYTE	20 [8]
    0497  MBACR_BIT+375:
    0497	.XBYTE	4D,42,5A,20,42,49,54,20,31,35,20,49,53,20,53,45
    04A7	.XBYTE	54
    04A8	.XBYTE	20 [8]
    04B0  MBACR_BIT+400:
    04B0	.XBYTE	4D,42,5A,20,42,49,54,20,31,36,20,49,53,20,53,45
    04C0	.XBYTE	54
    04C1	.XBYTE	20 [8]
    04C9  MBACR_BIT+425:
    04C9	.XBYTE	4D,42,5A,20,42,49,54,20,31,37,20,49,53,20,53,45
    04D9	.XBYTE	54
    04DA	.XBYTE	20 [8]
    04E2  MBACR_BIT+450:
    04E2	.XBYTE	4D,42,5A,20,42,49,54,20,31,38,20,49,53,20,53,45
    04F2	.XBYTE	54
    04F3	.XBYTE	20 [8]
    04FB  MBACR_BIT+475:
    04FB	.XBYTE	4D,42,5A,20,42,49,54,20,31,39,20,49,53,20,53,45
    050B	.XBYTE	54
    050C	.XBYTE	20 [8]
    0514  MBACR_BIT+500:
    0514	.XBYTE	4D,42,5A,20,42,49,54,20,32,30,20,49,53,20,53,45
    0524	.XBYTE	54
    0525	.XBYTE	20 [8]
    052D  MBACR_BIT+525:
    052D	.XBYTE	4D,42,5A,20,42,49,54,20,32,31,20,49,53,20,53,45
    053D	.XBYTE	54
    053E	.XBYTE	20 [8]
    0546  MBACR_BIT+550:
    0546	.XBYTE	4D,42,5A,20,42,49,54,20,32,32,20,49,53,20,53,45

MBAREG          22-Aug-1978 02:49:21	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 10  
					MBAREG.FOR.4        

    0556	.XBYTE	54
    0557	.XBYTE	20 [8]
    055F  MBACR_BIT+575:
    055F	.XBYTE	4D,42,5A,20,42,49,54,20,32,33,20,49,53,20,53,45
    056F	.XBYTE	54
    0570	.XBYTE	20 [8]
    0578  MBACR_BIT+600:
    0578	.XBYTE	4D,42,5A,20,42,49,54,20,32,34,20,49,53,20,53,45
    0588	.XBYTE	54
    0589	.XBYTE	20 [8]
    0591  MBACR_BIT+625:
    0591	.XBYTE	4D,42,5A,20,42,49,54,20,32,35,20,49,53,20,53,45
    05A1	.XBYTE	54
    05A2	.XBYTE	20 [8]
    05AA  MBACR_BIT+650:
    05AA	.XBYTE	4D,42,5A,20,42,49,54,20,32,36,20,49,53,20,53,45
    05BA	.XBYTE	54
    05BB	.XBYTE	20 [8]
    05C3  MBACR_BIT+675:
    05C3	.XBYTE	4D,42,5A,20,42,49,54,20,32,37,20,49,53,20,53,45
    05D3	.XBYTE	54
    05D4	.XBYTE	20 [8]
    05DC  MBACR_BIT+700:
    05DC	.XBYTE	4D,42,5A,20,42,49,54,20,32,38,20,49,53,20,53,45
    05EC	.XBYTE	54
    05ED	.XBYTE	20 [8]
    05F5  MBACR_BIT+725:
    05F5	.XBYTE	4D,42,5A,20,42,49,54,20,32,39,20,49,53,20,53,45
    0605	.XBYTE	54
    0606	.XBYTE	20 [8]
    060E  MBACR_BIT+750:
    060E	.XBYTE	4D,42,5A,20,42,49,54,20,33,30,20,49,53,20,53,45
    061E	.XBYTE	54
    061F	.XBYTE	20 [8]
    0627  MBACR_BIT+775:
    0627	.XBYTE	4D,42,5A,20,42,49,54,20,33,31,20,49,53,20,53,45
    0637	.XBYTE	54
    0638	.XBYTE	20 [8]
    0640  MBASR_BIT:
    0640	.XBYTE	52,45,41,44,20,44,41,54,41,20,54,49,4D,45,4F,55
    0650	.XBYTE	54
    0651	.XBYTE	20 [8]
    0659  MBASR_BIT+25:
    0659	.XBYTE	49,4E,54,45,52,46,41,43,45,20,53,45,51,20,54,49
    0669	.XBYTE	4D,45,4F,55,54
    066E	.XBYTE	20 [4]
    0672  MBASR_BIT+50:
    0672	.XBYTE	52,45,41,44,20,44,41,54,41,20,53,55,42,53,54,49
    0682	.XBYTE	54,55,54,45
    0686	.XBYTE	20 [5]
    068B  MBASR_BIT+75:
    068B	.XBYTE	45,52,52,4F,52,20,43,4F,4E,46,49,52,4D,41,54,49
    069B	.XBYTE	4F,4E
    069D	.XBYTE	20 [7]
    06A4  MBASR_BIT+100:
    06A4	.XBYTE	49,4E,56,41,4C,49,44,20,4D,41,50

MBAREG          22-Aug-1978 02:49:21	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 11  
					MBAREG.FOR.4        

    06AF	.XBYTE	20 [14]
    06BD  MBASR_BIT+125:
    06BD	.XBYTE	50,41,47,45,20,46,52,41,4D,45,20,4D,50,20,50,41
    06CD	.XBYTE	52,20,45,52,52
    06D2	.XBYTE	20 [4]
    06D6  MBASR_BIT+150:
    06D6	.XBYTE	4D,41,53,53,42,55,53,20,44,41,54,41,20,50,41,52
    06E6	.XBYTE	20,45,52,52
    06EA	.XBYTE	20 [5]
    06EF  MBASR_BIT+175:
    06EF	.XBYTE	4D,41,53,53,42,55,53,20,45,58,43,45,50,54,49,4F
    06FF	.XBYTE	4E
    0700	.XBYTE	20 [8]
    0708  MBASR_BIT+200:
    0708	.XBYTE	4D,49,53,53,20,54,52,41,4E,53,46,45,52,20,45,52
    0718	.XBYTE	52,4F,52
    071B	.XBYTE	20 [6]
    0721  MBASR_BIT+225:
    0721	.XBYTE	57,52,49,54,45,20,43,48,4B,20,4C,4F,57,45,52,20
    0731	.XBYTE	45,52,52
    0734	.XBYTE	20 [6]
    073A  MBASR_BIT+250:
    073A	.XBYTE	57,52,49,54,45,20,43,48,4B,20,55,50,50,45,52,20
    074A	.XBYTE	45,52,52
    074D	.XBYTE	20 [6]
    0753  MBASR_BIT+275:
    0753	.XBYTE	44,41,54,41,20,4C,41,54,45
    075C	.XBYTE	20 [16]
    076C  MBASR_BIT+300:
    076C	.XBYTE	44,41,54,41,20,54,52,41,4E,53,46,45,52,20,41,42
    077C	.XBYTE	4F,52,54,45,44
    0781	.XBYTE	20 [4]
    0785  MBASR_BIT+325:
    0785	.XBYTE	44,41,54,41,20,54,52,41,4E,53,46,45,52,20,43,4F
    0795	.XBYTE	4D,50,4C,45,54,45,44
    079C	.XBYTE	20 [2]
    079E  MBASR_BIT+350:
    079E	.XBYTE	4D,42,5A,20,42,49,54,20,31,34,20,53,45,54
    07AC	.XBYTE	20 [11]
    07B7  MBASR_BIT+375:
    07B7	.XBYTE	4D,42,5A,20,42,49,54,20,31,35,20,53,45,54
    07C5	.XBYTE	20 [11]
    07D0  MBASR_BIT+400:
    07D0	.XBYTE	41,54,54,4E,20,46,52,4F,4D,20,4D,41,53,53,42,55
    07E0	.XBYTE	53
    07E1	.XBYTE	20 [8]
    07E9  MBASR_BIT+425:
    07E9	.XBYTE	4D,41,53,53,42,55,53,20,43,4E,54,52,4C,20,50,41
    07F9	.XBYTE	52,20,45,52,52
    07FE	.XBYTE	20 [4]
    0802  MBASR_BIT+450:
    0802	.XBYTE	4E,4F,4E,2D,45,58,49,53,54,45,4E,54,20,44,52,49
    0812	.XBYTE	56,45
    0814	.XBYTE	20 [7]
    081B  MBASR_BIT+475:
    081B	.XBYTE	50,52,4F,47,52,41,4D,4D,49,4E,47,20,45,52,52,4F

MBAREG          22-Aug-1978 02:49:21	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 12  
					MBAREG.FOR.4        

    082B	.XBYTE	52
    082C	.XBYTE	20 [8]
    0834  MBASR_BIT+500:
    0834	.XBYTE	4D,42,5A,20,42,49,54,20,32,30,20,53,45,54
    0842	.XBYTE	20 [11]
    084D  MBASR_BIT+525:
    084D	.XBYTE	4D,42,5A,20,42,49,54,20,32,31,20,53,45,54
    085B	.XBYTE	20 [11]
    0866  MBASR_BIT+550:
    0866	.XBYTE	4D,42,5A,20,42,49,54,20,32,32,20,53,45,54
    0874	.XBYTE	20 [11]
    087F  MBASR_BIT+575:
    087F	.XBYTE	4D,42,5A,20,42,49,54,20,32,33,20,53,45,54
    088D	.XBYTE	20 [11]
    0898  MBASR_BIT+600:
    0898	.XBYTE	4D,42,5A,20,42,49,54,20,32,34,20,53,45,54,20
    08A7	.XBYTE	20 [10]
    08B1  MBASR_BIT+625:
    08B1	.XBYTE	4D,42,5A,20,42,49,54,20,32,35,20,53,45,54
    08BF	.XBYTE	20 [11]
    08CA  MBASR_BIT+650:
    08CA	.XBYTE	4D,42,5A,20,42,49,54,20,32,36,20,53,45,54
    08D8	.XBYTE	20 [11]
    08E3  MBASR_BIT+675:
    08E3	.XBYTE	4D,42,5A,20,42,49,54,20,32,37,20,53,45,54
    08F1	.XBYTE	20 [11]
    08FC  MBASR_BIT+700:
    08FC	.XBYTE	4D,42,5A,20,42,49,54,20,32,38,20,53,45,54
    090A	.XBYTE	20 [11]
    0915  MBASR_BIT+725:
    0915	.XBYTE	43,4F,52,52,45,43,54,45,44,20,52,45,41,44,20,44
    0925	.XBYTE	41,54,41
    0928	.XBYTE	20 [6]
    092E  MBASR_BIT+750:
    092E	.XBYTE	4E,4F,20,52,45,53,50,4F,4E,53,45,20,43,4F,4E,46
    093E	.XBYTE	49,52,4D,4E
    0942	.XBYTE	20 [5]
    0947  MBASR_BIT+775:
    0947	.XBYTE	44,41,54,41,20,54,52,41,4E,53,46,45,52,20,42,55
    0957	.XBYTE	53,59
    0959	.XBYTE	20 [7]

    0000	.PSECT	$CODE
    0000  MBAREG::
    0000	.WORD	^M<IV,R9,R10,R11>
    0002	MOVAL	$LOCAL+^X964, R11
    0009	MOVL	REG(AP), $LOCAL+^X96C(R11)
    000E	MOVL	REG(AP), $LOCAL+^X978(R11)
									    ; 0114
    0013	MOVAB	@LUN(AP), $LOCAL+^X980(R11)
    0018	CALLG	$LOCAL+^X97C(R11), LINCHK
									    ; 0115
    0020	PUSHAL	.501
    0026	CVTBL	@LUN(AP), -(SP)
    002A	CALLS	#2, FOR$WRITE_SF
    0031	CALLS	#0, FOR$IO_END

MBAREG          22-Aug-1978 02:49:21	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 13  
					MBAREG.FOR.4        

									    ; 0117
    0038	MOVAB	@LUN(AP), $LOCAL+^X9DC(R11)
    003D	MOVAL	@$LOCAL+^X978(R11), R10
    0041	MOVAL	4(R10), $LOCAL+^X9E4(R11)
    0047	CALLG	$LOCAL+^X9D8(R11), MBAASC
									    ; 0118
    004F	MOVAB	@LUN(AP), $LOCAL+^X9F0(R11)
    0055	MOVAL	8(R10), $LOCAL+^X9F8(R11)
    005B	CALLG	$LOCAL+^X9EC(R11), MBAASC
									    ; 0119
    0064	MOVAB	@LUN(AP), $LOCAL+^XA04(R11)
    006A	MOVAL	12(R10), $LOCAL+^XA0C(R11)
    0070	CALLG	$LOCAL+^XA00(R11), MBAASC
									    ; 0120
    0079	MOVAB	@LUN(AP), $LOCAL+^X9C4(R11)
    007E	BICL3	#^X7FFF, 16(R10), -(SP)
    0087	MOVL	SP, $LOCAL+^X9BC(R11)
    008B	CALLG	$LOCAL+^X9B8(R11), BITCNT
    0093	ADDL2	#4, SP
    0096	CMPW	R0, #1
    0099	BLEQ	$CODE+^X9E
    009B	MOVW	#1, R0
    009E	ADDW3	#3, R0, -(SP)
    00A2	MOVL	SP, $LOCAL+^X9C8(R11)
    00A6	CALLG	$LOCAL+^X9C0(R11), LINCHK
    00AE	ADDL2	#2, SP
									    ; 0121
    00B1	BICL3	#^XFFFFFE00, 16(R10), R0
    00BA	CVTLW	R0, BYTEOFF(R11)
									    ; 0122
    00BE	BICL3	#^XFFFE01FF, 16(R10), R1
    00C7	DIVL2	#512, R1
    00CE	CVTLW	R1, MAPSEL(R11)
									    ; 0123
    00D2	PUSHAL	.701
    00D8	CVTBL	@LUN(AP), R9
    00DC	PUSHL	R9
    00DE	CALLS	#2, FOR$WRITE_SF
    00E5	PUSHAL	16(R10)
    00E8	CALLS	#1, FOR$IO_L_R
    00EF	PUSHAW	MAPSEL(R11)
    00F2	CALLS	#1, FOR$IO_W_R
    00F9	PUSHAW	BYTEOFF(R11)
    00FC	CALLS	#1, FOR$IO_W_R
    0103	CALLS	#0, FOR$IO_END
									    ; 0125
    010A	BITL	16(R10), #^XFFFF8000
    0112	BEQL	L$OBOB
    0114	PUSHAL	.711
    011A	PUSHL	R9
    011C	CALLS	#2, FOR$WRITE_SF
    0123	CALLS	#0, FOR$IO_END
    012A  L$OBOB:
									    ; 0127
    012A	PUSHAL	.722
    0130	PUSHL	R9

MBAREG          22-Aug-1978 02:49:21	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 14  
					MBAREG.FOR.4        

    0132	CALLS	#2, FOR$WRITE_SF
    0139	PUSHAL	20(R10)
    013C	CALLS	#1, FOR$IO_L_R
    0143	CALLS	#0, FOR$IO_END
									    ; 0129
    014A	MOVAB	@LUN(AP), $LOCAL+^X9D0(R11)
    014F	CALLG	$LOCAL+^X9CC(R11), LINCHK
									    ; 0130
    0157	PUSHAL	.731
    015D	CVTBL	@LUN(AP), -(SP)
    0161	CALLS	#2, FOR$WRITE_SF
    0168	PUSHAL	24(R10)
    016B	CALLS	#1, FOR$IO_L_R
    0172	PUSHAL	28(R10)
    0175	CALLS	#1, FOR$IO_L_R
    017C	CALLS	#0, FOR$IO_END
									    ; 0132
    0183	RET	
		.END

MBAREG          22-Aug-1978 02:49:21	VAX-11 FORTRAN IV-PLUS V1.0-2      Page 15  
					MBAREG.FOR.4        

PROGRAM SECTIONS

    Name                 Bytes   Attributes

  0 $CODE                  388   PIC CON REL LCL   SHR   EXE   RD NOWRT LONG
  1 $PDATA                 234   PIC CON REL LCL   SHR NOEXE   RD NOWRT LONG
  2 $LOCAL                2580   PIC CON REL LCL NOSHR NOEXE   RD   WRT LONG


ENTRY POINTS

    Address  Type Name           

  0-00000000      MBAREG         


VARIABLES

    Address  Type Name               Address  Type Name               Address  Type Name               Address  Type Name           

  2-00000960  I*2 BYTEOFF         AP-00000004@ L*1 LUN              2-00000964  I*4 L_BIT            2-00000962  I*2 MAPSEL         


ARRAYS

    Address  Type Name		       Bytes  Dimensions

  2-00000320  CHR MBACR_BIT              800  (0:31)
  2-00000000  CHR MBACSR_BIT             800  (0:31)
  2-00000640  CHR MBASR_BIT              800  (0:31)
 AP-00000008@ I*4 REG                     32  (0:7)


LABELS

    Address   Label       Address   Label       Address   Label       Address   Label       Address   Label   

  1-0000001B  501'      1-0000002D  701'      1-0000006E  711'      1-0000009A  722'      1-000000AC  731'    


FUNCTIONS AND SUBROUTINES REFERENCED

BITCNT            LINCHK            MBAASC         


Total Space Allocated = 3202 Bytes


COMPILER OPTIONS

/CHECK=(NOBOUNDS,OVERFLOW)
/DEBUG=(NOSYMBOLS,TRACEBACK)
/OPTIMIZE  /WARNINGS  /I4  /NOD_LINES  


; Bliss-32 7.352	Saturday 22-AUG-1978 04:39:32	DBB3:[TRACE.SRC]TBKSTO.B32;3					Page 1
; Digital Equipment Corporation
;
;	0001	MODULE TBKSTO (	IDENT = '000008' ) =
;	0002	BEGIN
;	0003	
;	0004	! Copyright (C) 1978
;	0005	! Digital Equipment Corporation, Maynard, Massachusetts 01754
;	0006	!
;	0007	! This software is furnished under a license for use only on a
;	0008	! single computer system and may be copied only with the inclusion
;	0009	! of the above copyright notice. This software, or any
;	0010	! other copies thereof, may not be provided or otherwise made
;	0011	! available to any other person except for use on such system
;	0012	! and to one who agrees to these license terms. Title to and
;	0013	! ownership of the software shall at all times remain in DEC.
;	0014	!
;	0015	! The information in this software is subject to change without
;	0016	! notice and should not be construed as a commitment by Digital
;	0017	! Equipment Corporation.
;	0018	!
;	0019	! DEC assumes no responsibility for the use or reliability of
;	0020	! its software on equipment which is not supplied by DEC.
;	0021	!
;	0022	! FACILITY:
;	0023	!	TRACEBACK
;	0024	!
;	0025	!++
;	0026	! Abstract:
;	0027	!	Declares global variables for DEBUG facility
;	0028	!
;	0029	! Version:	08
;	0030	!
;	0031	! History:
;	0032	!	Author:
;	0033	!		Carol Peters, 11 January 1978 : Version 01
;	0034	!
;	0035	!	Modified by:
;	0036	!		Dale Roedger, 15 June 1978: Version 08
;	0037	!
;	0038	! Revision history:
;	0039	!
;	0040	!	02	19-jan-78	KGP	-Add variables TBK$... for
;	0041	!					communication with other TBK modules.
;	0042	!	03	28-feb-78	KGP	-Communication variables for the
;	0043	!					 PUTMSG interface.
;	0044	!	04	1-mar-78	KGP	-All non-diagnostic output now gets
;	0045	!					 built in an output buffer so that we 
;	0046	!					 only do 1 $PUT.
;	0047	!					-We now have another RAB for
;	0048	!					 SYS$ERROR, and no longer have
;	0049	!					 any FABs at all for output.
;	0050	!	05	2-mar-78	KGP	-Beginning exception_type for
;	0051	!					 FTN PC correlation is now decided
;	0052	!					 in BAS (is no longer local to DPC)
;	0053	!	06	8-mar-78	KGP	-New require file names since now 
;	0054	!					 DEBUG is separate from TRACE.
;	0055	!	07	26-APR-78	DAR	Modified require and library directives

; Bliss-32 7.352	Saturday 22-AUG-1978 04:39:32	DBB3:[TRACE.SRC]TBKSTO.B32;3					Page 1-1
; Digital Equipment Corporation
;
;	0056	!					for native build.
;	0057	!	08	15-JUN-78	DAR	Changed all DBG$ symbols to TBK$.
;	0058	!--

; Bliss-32 7.352	Saturday 22-AUG-1978 04:39:32	DBB3:[TRACE.SRC]TBKSTO.B32;3					Page 2
; Digital Equipment Corporation
;
;	0059	! Include files:
;	0060	!
;	0061	LIBRARY 'SYS$LIBRARY:STARLET.L32';
;	0062	
;	0063	REQUIRE 'SRC$:TBKPCT.REQ';
;	0075	REQUIRE 'SRC$:TBKGEN.REQ';
;	0142	REQUIRE 'SRC$:TBKRST.REQ';
;	1231	
;	1232	!
;	1233	! Global variables:
;	1234	!
;	1235	GLOBAL LITERAL
;	1236				! The base of RST storage.  Some of the RST
;	1237				! data structures base 'pointers' off this.
;	1238		tbk$_rst_begin	= %X'7FFF0000';
;	1239	
;	1240	GLOBAL
;	1241		TBK$GL_EXC_TYPE,	! Initial FAULT/TRAP type for PC correlation.
;	1242	
;	1243					! All non-diagnostic output goes thru
;	1244					! this buffer.
;	1245		tbk$output_buf : vector[ tty_out_width, byte ],
;	1246		tbk$cp_out_str : ref VECTOR[, BYTE],		! POINTS INTO CURRENT OUTPUT BUFFER.
;	1247		tbk$gl_buf_siz,				! holds current character count in output buffer
;	1248	
;	1249		!++
;	1250		! Pointers to the TRACEBACK output routine.
;	1251		!++
;	1252	
;	1253		TBK$MODULE_CS : CS_POINTER,
;	1254		TBK$ROUTINE_CS : CS_POINTER,
;	1255		TBK$GL_LINE,
;	1256		TBK$REL_PC,
;	1257	
;	1258		TBK$MODULE_DST : REF DST_RECORD,
;	1259	
;	1260		!++
;	1261		! Declare the RAB blocks for output
;	1262		! to SYS$OUTPUT and SYS$ERROR.
;	1263		!--
;	1264		tbk$gl_outprab:	$RAB (),
;	1265		tbk$gl_errrab:	$RAB ();
;	1266	
;	1267	END
;	1268	ELUDOM


							    .TITLE  TBKSTO
							    .IDENT  \000008\

							    .PSECT  TBK$GLOBAL,NOEXE,  PIC,2

					      00000 TBK$GL_EXC_TYPE::
							    .BLKB   4
					      00004 TBK$OUTPUT_BUF::

; Bliss-32 7.352	Saturday 22-AUG-1978 04:39:32	DBB3:[TRACE.SRC]TBKSTO.B32;3					Page 2-1
; Digital Equipment Corporation
;
							    .BLKB   132
					      00088 TBK$CP_OUT_STR::
							    .BLKB   4
					      0008C TBK$GL_BUF_SIZ::
							    .BLKB   4
					      00090 TBK$MODULE_CS::
							    .BLKB   4
					      00094 TBK$ROUTINE_CS::
							    .BLKB   4
					      00098 TBK$GL_LINE::
							    .BLKB   4
					      0009C TBK$REL_PC::
							    .BLKB   4
					      000A0 TBK$MODULE_DST::
							    .BLKB   4
					      000A4 TBK$GL_OUTPRAB::
							    .BYTE   1							      ;
					      000A5 	    .BYTE   68							      ;
					      000A6 	    .WORD   0							      ;
					      000A8 	    .LONG   0							      ;
					      000AC 	    .LONG   0							      ;
					      000B0 	    .LONG   0							      ;
					      000B4 	    .WORD   0, 0, 0						      ;
					      000BA 	    .WORD   0							      ;
					      000BC 	    .LONG   0							      ;
					      000C0 	    .WORD   0							      ;
					      000C2 	    .BYTE   0							      ;
					      000C3 	    .BYTE   0							      ;
					      000C4 	    .WORD   0							      ;
					      000C6 	    .WORD   0							      ;
					      000C8 	    .LONG   0							      ;
					      000CC 	    .LONG   0							      ;
					      000D0 	    .LONG   0							      ;
					      000D4 	    .LONG   0							      ;
					      000D8 	    .BYTE   0							      ;
					      000D9 	    .BYTE   0							      ;
					      000DA 	    .BYTE   0							      ;
					      000DB 	    .BYTE   0							      ;
					      000DC 	    .LONG   0							      ;
					      000E0 	    .LONG   0							      ;
					      000E4 	    .LONG   0							      ;
					      000E8 TBK$GL_ERRRAB::
							    .BYTE   1							      ;
					      000E9 	    .BYTE   68							      ;
					      000EA 	    .WORD   0							      ;
					      000EC 	    .LONG   0							      ;
					      000F0 	    .LONG   0							      ;
					      000F4 	    .LONG   0							      ;
					      000F8 	    .WORD   0, 0, 0						      ;
					      000FE 	    .WORD   0							      ;
					      00100 	    .LONG   0							      ;
					      00104 	    .WORD   0							      ;
					      00106 	    .BYTE   0							      ;
					      00107 	    .BYTE   0							      ;
					      00108 	    .WORD   0							      ;

; Bliss-32 7.352	Saturday 22-AUG-1978 04:39:32	DBB3:[TRACE.SRC]TBKSTO.B32;3					Page 2-2
; Digital Equipment Corporation
;
					      0010A 	    .WORD   0							      ;
					      0010C 	    .LONG   0							      ;
					      00110 	    .LONG   0							      ;
					      00114 	    .LONG   0							      ;
					      00118 	    .LONG   0							      ;
					      0011C 	    .BYTE   0							      ;
					      0011D 	    .BYTE   0							      ;
					      0011E 	    .BYTE   0							      ;
					      0011F 	    .BYTE   0							      ;
					      00120 	    .LONG   0							      ;
					      00124 	    .LONG   0							      ;
					      00128 	    .LONG   0							      ;

						    TBK$_RST_BEGIN==	2147418112



;				       PSECT SUMMARY
;
;	Name		 Bytes			       Attributes
;
;  TBK$GLOBAL     	   300    WRT,  RD ,NOEXE,NOSHR,  LCL,  REL,  CON,  PIC,ALIGN(2)
;  $CODE$         	     0  NOWRT,  RD ,  EXE,NOSHR,  LCL,  REL,  CON,NOPIC,ALIGN(2)




;				LIBRARY STATISTICS
;
;					     -------- Symbols --------    Blocks
;	File				     Total    Loaded   Percent      Read
;
;  DBA4:[SYSLIB]STARLET.L32;1		      2688         8         0       116





; Size:		0 code + 300 data bytes
; Run Time:	00:06.2
; Elapsed Time:	00:08.4
; Memory Used:	148 pages
; Compilation Complete

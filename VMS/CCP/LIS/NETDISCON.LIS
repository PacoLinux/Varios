NETDISCON       - PROCESS DISCONNECTS                            22-AUG-1978 00:53:51   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (1)    3500  HISTORY
   (1)    4300  DECLARATIONS
   (1)    7900  SEND DISCONNECT MESSAGES
   (1)   16200  LINK TERMINATION DUE TO DETECTED PROTOCOL ERROR
   (1)   22800  ALLOCATE AND TRANSMIT A DISCONNECT MSG
   (1)   28500  SEND AND RECEIVE DISCONNECT MESSAGES
NETDISCON       - PROCESS DISCONNECTS                            22-AUG-1978 00:53:51   VAX-11 MACRO X0.3-11               Page   1
X01                                                                                                                              (1)

                                     0000   100 
                                     0000   200 	.TITLE	NETDISCON - PROCESS DISCONNECTS
                                     0000   300 	.IDENT	/X01/
                                     0000   400 
                                     0000   500 ;
                                     0000   600 ; COPYRIGHT (C) 1977, 1978
                                     0000   700 ; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS 01754
                                     0000   800 ;
                                     0000   900 ; THIS SOFTWARE IS FURNISHED  UNDER A LICENSE FOR USE ONLY ON A SINGLE
                                     0000  1000 ; COMPUTER  SYSTEM AND  MAY BE  COPIED ONLY WITH  THE INCLUSION OF THE
                                     0000  1100 ; ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE, OR ANY OTHER COPIES THEREOF,
                                     0000  1200 ; MAY NOT BE PROVIDED OR  OTHERWISE MADE AVAILABLE TO ANY OTHER PERSON
                                     0000  1300 ; EXCEPT FOR USE ON SUCH SYSTEM AND TO ONE WHO AGREES TO THESE LICENSE
                                     0000  1400 ; TERMS.  TITLE TO AND  OWNERSHIP OF THE  SOFTWARE  SHALL AT ALL TIMES
                                     0000  1500 ; REMAIN IN DEC.
                                     0000  1600 ;
                                     0000  1700 ; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE WITHOUT NOTICE
                                     0000  1800 ; AND SHOULD  NOT BE CONSTRUED  AS A COMMITMENT  BY DIGITAL  EQUIPMENT
                                     0000  1900 ; CORPORATION.
                                     0000  2000 ;
                                     0000  2100 ; DEC ASSUMES  NO  RESPONSIBILITY  FOR  THE USE OR  RELIABILITY OF ITS
                                     0000  2200 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
                                     0000  2300 
                                     0000  2400 ;++
                                     0000  2500 ; FACILITY:	NETWORK ACP
                                     0000  2600 ;
                                     0000  2700 ; ABSTRACT:
                                     0000  2800 ;	THIS MODULE CONTAINS PROCESSING FOR VARIOUS KINDS OF DISCONNECTS:
                                     0000  2900 ;	DISCONNECTS, USER ABORTS, CONNECT REJECTS.
                                     0000  3000 ;
                                     0000  3100 ; ENVIRONMENT:
                                     0000  3200 ;	MODE = KERNEL
                                     0000  3300 ;--
NETDISCON       - PROCESS DISCONNECTS                            22-AUG-1978 00:53:51   VAX-11 MACRO X0.3-11               Page   2
X01             HISTORY                                                                                                          (1)

                                     0000  3500 	.SBTTL	HISTORY
                                     0000  3600 ; AUTHOR:	SCOTT G. DAVIS, CREATION DATE: 20-APR-77
                                     0000  3700 ;
                                     0000  3800 ; MODIFIED BY:
                                     0000  3900 ;
                                     0000  4000 ;	, : VERSION
                                     0000  4100 ; 01	- 
NETDISCON       - PROCESS DISCONNECTS                            22-AUG-1978 00:53:51   VAX-11 MACRO X0.3-11               Page   3
X01             DECLARATIONS                                                                                                     (1)

                                     0000  4300 	.SBTTL	DECLARATIONS
                                     0000  4400 ;
                                     0000  4500 ; INCLUDE FILES:
                                     0000  4600 ;
                                     0000  4700 	$CXBDEF
                                     0000  4800 	$DRDEF
                                     0000  4900 	$IRPDEF
                                     0000  5000 	$MSGDEF
                                     0000  5100 	$NDBDEF
                                     0000  5200 	$NETMSGDEF
                                     0000  5300 	$SSBDEF
                                     0000  5400 	$UCBDEF
                                     0000  5500 
                                     0000  5600 ;
                                     0000  5700 ; MACROS:
                                     0000  5800 ;
                                     0000  5900 
                                     0000  6000 ;
                                     0000  6100 ; EQUATED SYMBOLS:
                                     0000  6200 ;
                                     0000  6300 
                                     0000  6400 ;
                                     0000  6500 ; MISCELLANEOUS
                                     0000  6600 ;
                                     0000  6700 	$EQULST	NET_,,,,<-
                                     0000  6800 		<MAXDIS,16>,-		; MAX LTH OF DISCONNECT DATA
                                     0000  6900 >
                                     0000  7000 
                                     0000  7100 ;
                                     0000  7200 ; OWN STORAGE:
                                     0000  7300 ;
                                 00000000  7400 	.PSECT	NET_IMPURE,WRT,NOEXE
                                     0000  7500 
                                 00  0000  7600 REJ_FLAG:	.BYTE	0		; SET TO FLAG CONNECT REJ OR NOT NSP DISC
NETDISCON       - PROCESS DISCONNECTS                            22-AUG-1978 00:53:51   VAX-11 MACRO X0.3-11               Page   4
X01             DECLARATIONS                                                                                                     (1)

                                 00000000  7800 	.PSECT	NET_DISCONNECT,NOWRT
                                     0000  7900 	.SBTTL	SEND DISCONNECT MESSAGES
                                     0000  8000 ;++
                                     0000  8100 ; FUNCTIONAL DESCRIPTION:
                                     0000  8200 ;
                                     0000  8300 ; NET$XMT_DIS - LOCAL USER DISCONNECTED OR ABORTED(EXITED)
                                     0000  8400 ;	IF OPERATION IS SYNCHRONOUS DISCONNECT, ALL RECEIVES ARE TERMINATED,
                                     0000  8500 ;	AND A DI IS MANUFACTURED, TO BE SENT WHEN ALL TRANSMISSIONS ARE ACK'D
                                     0000  8600 ;
                                     0000  8700 ; NET$USER_REJECT - LOCAL USER REJECTED CONNECT
                                     0000  8800 ;
                                     0000  8900 ;		TABLE OF INTERESTING ITEMS
                                     0000  9000 ;
                                     0000  9100 ; ENTRY(NET$)    MSG SENT    DISC CODE
                                     0000  9200 ;
                                     0000  9300 ; XMT_DIS	  DI 		NORMAL,ABORT
                                     0000  9400 ; USER_REJECT	  DI 		ABORT
                                     0000  9500 ;
                                     0000  9600 ; CALLING SEQUENCE:
                                     0000  9700 ;
                                     0000  9800 ;	ENTERED VIA CASE IN NET$TRN
                                     0000  9900 ;
                                     0000 10000 ; INPUT PARAMETERS:
                                     0000 10100 ;
                                     0000 10200 ;	R5 - UCB ADDRESS
                                     0000 10300 ;	R10 - USER BYTE COUNT (NET$USER_REJECT)
                                     0000 10400 ;	R11 - USER BUFFER ADDRESS (NET$USER_REJECT)
                                     0000 10500 ;
                                     0000 10600 ; COMPLETION CODES:
                                     0000 10700 ;
                                     0000 10800 ;	SS$_ILLIOFUNC - SYNCHRONOUS DISCONNECT ATTEMPTED WITH OUTSTANDING XMT'S
                                     0000 10900 ;	SS$_TOOMUCHDATA - MORE THAN 16 BYTES OF OPTIONAL DATA SPECIFIED
                                     0000 11000 ;
                                     0000 11100 ; SIDE EFFECTS:
                                     0000 11200 ;
                                     0000 11300 ;	NONE
                                     0000 11400 ;
                                     0000 11500 ;--
                                     0000 11600 
                                     0000 11700 	.ENABL	LSB
                                     0000 11800 
                                     0000 11900 NET$XMT_DIS::
                     0000'CF     94  0000 12000 	CLRB	W^REJ_FLAG		; NOT A CONNECT REJECT
                          FFF9'  30  0004 12100 	BSBW	NET$GET_NCB		; PICK UP NCB POINTER AND LTH
                     0000'CF     9F  0007 12200 	PUSHAB	W^NET$TERM_DEAC		; THIS WILL TERMINATE THE DEACCESS
            58            09     B0  000B 12300 	MOVW	#NET$C_DR_ABORT,R8	; ASSUME DISCONNECT ABORT
                          06     11  000E 12400 	BRB	10$			; GO TO COMMON CODE
                                     0010 12500 
                                     0010 12600 NET$USER_REJECT::
                     0000'CF     96  0010 12700 	INCB	W^REJ_FLAG		; CONNECT REJECT
                                     0014 12800 
                                     0014 12900 	ASSUME NET$C_DR_NORMAL EQ 0
                                     0014 13000 
                          58     B4  0014 13100 	CLRW	R8			; SET IN DISCONNECT REASON
                                     0016 13200 10$:
            53         4C A5     D0  0016 13300 	MOVL	UCB$L_IRP(R5),R3	; GET THE IRP ADDRESS
         20 A3            00'    E0  001A 13400 	BBS	S^#IO$V_ABORT,IRP$W_FUNC(R3),100$ ; IF BS DISCONNECT ABORT
NETDISCON       - PROCESS DISCONNECTS                            22-AUG-1978 00:53:51   VAX-11 MACRO X0.3-11               Page   5
X01             SEND DISCONNECT MESSAGES                                                                                         (1)

                          07         001E       
         20 A3            00'    E1  001F 13500 	BBC	S^#IO$V_SYNCH,IRP$W_FUNC(R3),100$ ; IF BC, DEACCESS DUE TO RUNDOWN
                          02         0023       
                                     0024 13600 
                                     0024 13700 	ASSUME NET$C_DR_NORMAL EQ 0
                                     0024 13800 
                          58     B4  0024 13900 	CLRW	R8			; SET IN DISCONNECT REASON
                                     0026 14000 100$:
                          5A     D5  0026 14100 	TSTL	R10			; ANY DATA?
                          17     13  0028 14200 	BEQL	150$			; IF EQL NO
            5A            01     C3  002A 14300 	SUBL3	#1,R10,R9		; GET NO. OF BYTES OF DATA SUPPLIED
                          59         002D       
            5A            8B     9A  002E 14400 	MOVZBL	(R11)+,R10		; GET NO. OF BYTES USER SAID WERE THERE
            5A            59     D1  0031 14500 	CMPL	R9,R10			; TAKE MINIMUM OF WHAT HE SAID AND WHAT IS
                          03     1E  0034 14600 	BGEQU	110$			; IF GEQU KEEP GOING
            5A            59     D0  0036 14700 	MOVL	R9,R10			; HE SAID MORE THAN HE HAD
                                     0039 14800 110$:
            5A            10     D1  0039 14900 	CMPL	#NET_MAXDIS,R10		; IS MORE THAN THE MAX SUPPLIED?
                          03     1E  003C 15000 	BGEQU	150$			; IF GEQU NO
            5A            10     D0  003E 15100 	MOVL	#NET_MAXDIS,R10		; TRUNCATE THE DATA
                                     0041 15200 150$:
                          48     10  0041 15300 	BSBB	NET$XMT_DI		; SEND THE DI
       0000'CF            00     E4  0043 15400 	BBSC	#0,W^REJ_FLAG,200$	; IF BS CONNECT REJECT
                          03         0048       
                          FFB4'  30  0049 15500 	BSBW	NET$SHUTDOWN		; SHUT DOWN THE LOGICAL LINK
                                     004C 15600 200$:
                          9E     16  004C 15700 	JSB	@(SP)+			; TERMINATE THE I/O OPERATION
                                 04  004E 15800 	RET				; DONE
                                     004F 15900 
                                     004F 16000 	.DSABL	LSB
NETDISCON       - PROCESS DISCONNECTS                            22-AUG-1978 00:53:51   VAX-11 MACRO X0.3-11               Page   6
X01             LINK TERMINATION DUE TO DETECTED PROTOCOL ERROR                                                                  (1)

                                     004F 16200 	.SBTTL	LINK TERMINATION DUE TO DETECTED PROTOCOL ERRORS
                                     004F 16300 ;++
                                     004F 16400 ; FUNCTIONAL DESCRIPTION:
                                     004F 16500 ;
                                     004F 16600 ; NET$TIMER_AST - ENTERED IF CONNECT TIMEOUT OCCURS.  CONNECT IS ABORTED
                                     004F 16700 ; NET$MBX_FULL - DISCONNECT LINK: UNABLE TO POST MESSAGE TO ASSOCIATED MBX
                                     004F 16800 ; NET$THIRD_PARTY - PROCESS THIRD PARTY (NETWORK MANAGER) DISCONNECT
                                     004F 16900 ; NET$PROT_ERROR - MESSAGE RECEIVED WITH MISSING FIELDS OR RESERVED
                                     004F 17000 ;	BITS OR VALUES USED.
                                     004F 17100 ; NET$TERM_LINK - SPECIFIC PROTOCOL ERROR DETECTED - REASON SUPPLIED
                                     004F 17200 ;
                                     004F 17300 ; CALLING SEQUENCE:
                                     004F 17400 ;
                                     004F 17500 ;	BRW	NET$PROT_ERROR/TERM_LINK
                                     004F 17600 ;	CALLS	#0,NET$THIRD_PARTY
                                     004F 17700 ;
                                     004F 17800 ; INPUT PARAMETERS:
                                     004F 17900 ;
                                     004F 18000 ;	R5 - LOGICAL LINK UCB ADDRESS
                                     004F 18100 ;	R8 - DISCONNECT REASON CODE (NET$TERM_LINK)
                                     004F 18200 ;	4(AP) - UCB ADDRESS OF CONNECTOR (NET$TIMER_AST)
                                     004F 18300 ;
                                     004F 18400 ; COMPLETION CODES:
                                     004F 18500 ;
                                     004F 18600 ;	SS$_REJECT (CONNECT REJECT)
                                     004F 18700 ;	SS$_TIMEOUT
                                     004F 18800 ;
                                     004F 18900 ; SIDE EFFECTS:
                                     004F 19000 ;
                                     004F 19100 ;	LOCAL LINK BROKEN OR CONNECT (CIS STATE) REJECTED
                                     004F 19200 ;
                                     004F 19300 ;--
                                     004F 19400 
                               0000  004F 19500 NET$TIMER_AST::	.WORD	0		; ENTRY POINT
            55         04 AC     D0  0051 19600 	MOVL	4(AP),R5		; FETCH THE UCB ADDRESS
            53            00'    D0  0055 19700 	MOVL	S^#NET$C_EV_CONTMO,R3	; GET THE EVENT CODE
                          25     11  0058 19800 	BRB	TERM_COMMON		; GO TO COMMON CODE
                                     005A 19900 
                                     005A 20000 NET$MBX_FULL::
            58            28     B0  005A 20100 	MOVW	#NET$C_DR_LOSS,R8	; SAY "DATA LOSS"
                          0A     11  005D 20200 	BRB	NET$TERM_LINK		; GO TO COMMON CODE
                                     005F 20300 
                               0000  005F 20400 NET$THIRD_PARTY::	.WORD	0	; ENTRY
            58            08     B0  0061 20500 	MOVW	#NET$C_DR_THIRD,R8	; INDICATE DISCONNECT REASON
                          03     11  0064 20600 	BRB	NET$TERM_LINK		; GO TO COMMON CODE
                                     0066 20700 
                                     0066 20800 NET$PROT_ERROR::
            58            07     B0  0066 20900 	MOVW	#NET$C_DR_PROTCL,R8	; GENERAL PROTOCOL ERROR
                                     0069 21000 
                                     0069 21100 NET$TERM_LINK::
                                     0069 21200 ;
                                     0069 21300 ; SEND A DC IF LINK NOT IN CIS STATE
                                     0069 21400 ;
         52 A5            00'    91  0069 21500 	CMPB	S^#NET$C_ST_CIS,UCB$B_STATE(R5) ; LINK IN CIS STATE?
                          02     13  006D 21600 	BEQL	10$			; IF EQL YES
                          21     10  006F 21700 	BSBB	NET$XMT_DC		; DO IT
                                     0071 21800 10$:
NETDISCON       - PROCESS DISCONNECTS                            22-AUG-1978 00:53:51   VAX-11 MACRO X0.3-11               Page   7
X01             LINK TERMINATION DUE TO DETECTED PROTOCOL ERROR                                                                  (1)

            5A       0000'CF     9E  0071 21900 	MOVAB	W^NET$AB_UTLBUF,R10	; SET UP TO STORE DUMMY DISCONNECT REASON
            5B            5A     D0  0076 22000 	MOVL	R10,R11			; MAKE IT LOOK LIKE A FINISHED MESSAGE
            8B            58     B0  0079 22100 	MOVW	R8,(R11)+		; STORE THE REASON
            53            00'    D0  007C 22200 	MOVL	S^#NET$C_EV_PROTCL,R3	; SAY A PROTOCOL ERROR
                                     007F 22300 TERM_COMMON:
            57         52 A5     9E  007F 22400 	MOVAB	UCB$B_STATE(R5),R7	; POINT TO STATE BYTE
       0000'CF            00     FB  0083 22500 	CALLS	#0,W^NET$TRN		; DO THE TRANSITION
                          FF75'  31  0088 22600 	BRW	NET$AST_EXIT		; DEALLOCATE OFFENDING MESSAGE AND FINISH UP
NETDISCON       - PROCESS DISCONNECTS                            22-AUG-1978 00:53:51   VAX-11 MACRO X0.3-11               Page   8
X01             ALLOCATE AND TRANSMIT A DISCONNECT MSG                                                                           (1)

                                     008B 22800 	.SBTTL	ALLOCATE AND TRANSMIT A DISCONNECT MSG
                                     008B 22900 ;++
                                     008B 23000 ; FUNCTIONAL DESCRIPTION:
                                     008B 23100 ;
                                     008B 23200 ; NET$XMT_DI - THIS ROUTINE ALLOCATES, FILLS IN, AND XMTS A DI MSG.
                                     008B 23300 ; NET$XMT_DC - THIS ROUTINE ALLOCATES, FILLS IN, AND XMTS A DC MSG.
                                     008B 23400 ;
                                     008B 23500 ; CALLING SEQUENCE:
                                     008B 23600 ;
                                     008B 23700 ;	BSB	NET$XMT_DI/C
                                     008B 23800 ;
                                     008B 23900 ; INPUT PARAMETERS:
                                     008B 24000 ;
                                     008B 24100 ;	R5 - UCB ADDRESS
                                     008B 24200 ;	R8 - DISCONNECT REASON (2 BYTES)
                                     008B 24300 ;	R10 - NO. OF BYTES OF USRDATA (DI ONLY)
                                     008B 24400 ;	R11 - ADDRESS OF USER DATA (DI ONLY)
                                     008B 24500 ;	NET$GW_CHANNEL - CHANNEL NUMBER (XMT_DC)
                                     008B 24600 ;
                                     008B 24700 ; SIDE EFFECTS:
                                     008B 24800 ;
                                     008B 24900 ;	DISCONNECT MSG SENT TO PARTNER NODE
                                     008B 25000 ;
                                     008B 25100 ;--
                                     008B 25200 
                                     008B 25300 NET$XMT_DI::
                          59     D4  008B 25400 	CLRL	R9			; FLAG DI
                          FF70'  30  008D 25500 	BSBW	NET$ALLOCDI		; ALLOCATE A DI MSG
                          06     11  0090 25600 	BRB	COMMON1			; GO TO COMMON CODE
                                     0092 25700 
                                     0092 25800 NET$XMT_DC::
            59            01     D0  0092 25900 	MOVL	#1,R9			; FLAG DC
                          FF68'  30  0095 26000 	BSBW	NET$ALLOCDC		; ALLOCATE A DC MSG
                                     0098 26100 
                                     0098 26200 COMMON1:
                       14 A6     D4  0098 26300 	CLRL	CXB$L_SSB(R6)		; NO ASSOCIATED SSB
                          55     D5  009B 26400 	TSTL	R5			; SEE IF THERE IS A LOGICAL LINK
                          0C     12  009D 26500 	BNEQ	10$			; IF NEQ YES
            83       0000'CF     D0  009F 26600 	MOVL	W^NET$GW_SRCADDR,(R3)+	; REVERSE SOURCE AND DESTINATION
            54       0000'CF     B0  00A4 26700 	MOVW	W^NET$GW_CHANNEL,R4	; GET THE CHANNEL NO.
                          08     11  00A9 26800 	BRB	20$			; FINISH IN COMMON CODE
                                     00AB 26900 10$:
            83         18 A5     D0  00AB 27000 	MOVL	UCB$W_DSTADDR(R5),(R3)+	; HIS CONNECT NO. AND MINE
            54         7C A5     B0  00AF 27100 	MOVW	UCB$W_NT_CHAN(R5),R4	; GET THE ASSOCIATED UCB ADDRESS
                                     00B3 27200 20$:
            83            58     B0  00B3 27300 	MOVW	R8,(R3)+		; SET REASON
            0D            59     E8  00B6 27400 	BLBS	R9,30$			; IF BS DC - NO USRDATA
                                     00B9 27500 ;
                                     00B9 27600 ; PICK UP USRDATA, IF ANY
                                     00B9 27700 ;
            83            5A     90  00B9 27800 	MOVB	R10,(R3)+		; STORE THE BYTE COUNT
            7E            54     7D  00BC 27900 	MOVQ	R4,-(SP)		; SAVE CHANNEL NO. AND UCB ADDRESS
            6B            5A     28  00BF 28000 	MOVC3	R10,(R11),(R3)		; MOVE IN THE USRDATA
                          63         00C2       
            54            8E     7D  00C3 28100 	MOVQ	(SP)+,R4		; RESTORE REGS
                                     00C6 28200 30$:
                          FF37'  31  00C6 28300 	BRW	NET$XMT_MSG		; SEND THE DISCONNECT MESSAGE AND RETURN
NETDISCON       - PROCESS DISCONNECTS                            22-AUG-1978 00:53:51   VAX-11 MACRO X0.3-11               Page   9
X01             SEND AND RECEIVE DISCONNECT MESSAGES                                                                             (1)

                                     00C9 28500 	.SBTTL	SEND AND RECEIVE DISCONNECT MESSAGES
                                     00C9 28600 ;++
                                     00C9 28700 ; FUNCTIONAL DESCRIPTION:
                                     00C9 28800 ;
                                     00C9 28900 ; NET$BUST_LINK - PROCESS DEACCESS FUNCTION AND CLEAN UP DATA BASE
                                     00C9 29000 ;
                                     00C9 29100 ; NET$DEAC_COMP - PROCESS DEACCESS FUNCTION
                                     00C9 29200 ;
                                     00C9 29300 ; NET$DCIDLE - ILLEGAL MSG RCVD FOR NON-EXISTENT LINK
                                     00C9 29400 ;
                                     00C9 29500 ; NET$REMDIS - REMOTE DISCONNECT OR ABORT
                                     00C9 29600 ;
                                     00C9 29700 ; NET$NSPDIS - NSP DIDN'T LIKE SOMETHING AND SENT A DC
                                     00C9 29800 ;
                                     00C9 29900 ; NET$PARTNER_REJ - DI RECEIVED: CONNECT REJECT BY PARTNER OR PARTNER ABORTED
                                     00C9 30000 ;
                                     00C9 30100 ; NET$NSPREJ - DC RECEIVED: CONNECT REJECT BY NSP
                                     00C9 30200 ;
                                     00C9 30300 ;
                                     00C9 30400 ;		TABLE OF INTERESTING ITEMS
                                     00C9 30500 ;
                                     00C9 30600 ; ENTRY(NET$)    ATTENTION CODE    MSG SENT    DISC CODE
                                     00C9 30700 ;
                                     00C9 30800 ; DCIDLE		-		DC	NORMAL
                                     00C9 30900 ; REMDIS	 MSG$_DISCON		DC	CONF
                                     00C9 31000 ; 		 MSG$_ABORT		DC	CONF
                                     00C9 31100 ; 		 MSG$_EXIT		DC	CONF
                                     00C9 31200 ; NSPDIS	 MSG$_PROTOCOL		-	-
                                     00C9 31300 ; PARTNER_REJ		-		DC	CONF
                                     00C9 31400 ; NSPREJ		-		-	-
                                     00C9 31500 ;
                                     00C9 31600 ; CALLING SEQUENCE:
                                     00C9 31700 ;
                                     00C9 31800 ;	ENTERED VIA CASE IN NET$TRN
                                     00C9 31900 ;
                                     00C9 32000 ; INPUT PARAMETERS:
                                     00C9 32100 ;
                                     00C9 32200 ;	R5 - UCB ADDRESS OR 0 (IF NO UCB)
                                     00C9 32300 ;	R4 - UCB ADDRESS OF ASSOCIATED PHYSICAL LINK
                                     00C9 32400 ;		IF ENTRY WAS FROM NET$AST
                                     00C9 32500 ;
                                     00C9 32600 ; IMPLICIT INPUTS:
                                     00C9 32700 ;
                                     00C9 32800 ;	R10 - CURRENT MSG BUFFER PTR
                                     00C9 32900 ;	R11 - POINTER BEYOND END OF MESSAGE
                                     00C9 33000 ;
                                     00C9 33100 ;--
                                     00C9 33200 
                                     00C9 33300 NET$BUST_LINK::
                          FF34'  30  00C9 33400 	BSBW	NET$SHUTDOWN		; KILL THE LINK
                          FF31'  30  00CC 33500 	BSBW	NET$TERM_DEAC		; COMPLETE THE DEACCESS
                                 04  00CF 33600 	RET				; DONE
                                     00D0 33700 
                                     00D0 33800 NET$DEAC_COMP::
       0000'CF       0000'8F     3C  00D0 33900 	MOVZWL	#SS$_FILNOTACC,W^NET$GQ_USR_STAT ; FILE NOT ACCESSED
                          FF26'  30  00D7 34000 	BSBW	NET$FINISH_DEAC		; CLEAN UP
                                 04  00DA 34100 	RET				; THAT IS ALL
NETDISCON       - PROCESS DISCONNECTS                            22-AUG-1978 00:53:51   VAX-11 MACRO X0.3-11               Page  10
X01             SEND AND RECEIVE DISCONNECT MESSAGES                                                                             (1)

                                     00DB 34200 
                                     00DB 34300 NET$DCIDLE::
                          FF22'  30  00DB 34400 	BSBW	NET$FND_NDB_CHN		; GET THE NDB
                          03     12  00DE 34500 	BNEQ	10$			; IF NEQ IT'S STILL THERE
                          FF1D'  31  00E0 34600 	BRW	NET$AST_EXIT		; GET RID OF ANY MESSAGE
                                     00E3 34700 10$:
            51         1A A9     9E  00E3 34800 	MOVAB	NDB$T_NAME(R9),R1	; POINT TO NAME
                          FF16'  30  00E7 34900 	BSBW	NET$MOVE_DSTNOD		; USE IT AS DSTNODE NAME
                                     00EA 35000 	UPDATE	DISCARD			; ANOTHER MESSAGE DISCARDED
            58            29     B0  00F2 35100 	MOVW	#NET$C_DR_NOLINK,R8	; SET DISCONNECT REASON
                          0097   31  00F5 35200 	BRW	DC_COMMON		; GO TO COMMON CODE
                                     00F8 35300  
                                     00F8 35400 NET$PARTNER_REJ::
                     0000'CF     94  00F8 35500 	CLRB	W^REJ_FLAG		; INDICATE DC REQUIRED
                          04     11  00FC 35600 	BRB	REJ_COMMON		; GO TO COMMON CODE
                                     00FE 35700 
                                     00FE 35800 NET$NSPREJ::
                     0000'CF     96  00FE 35900 	INCB	W^REJ_FLAG		; INDICATE DC NOT REQUIRED
                                     0102 36000 REJ_COMMON:
                     0004'CF     D4  0102 36100 	CLRL	W^NET$GQ_USR_STAT+4	; ASSUME NO ERROR CODE IN MSG
                                     0106 36200 	BMSGOV	10$,2			; NEED 2 BYTES OF CODE
       0004'CF            8A     3C  010E 36300 	MOVZWL	(R10)+,W^NET$GQ_USR_STAT+4 ; GET THEM
                                     0113 36400 10$:
            57            38     B0  0113 36500 	MOVW	#MSG$_REJECT,R7		; GET THE ATTENTION CODE
                     0195'CF     9F  0116 36600 	PUSHAB	W^DISC_ACC_DONE		; ROUTINE TO FINISH WITH
                          3E     11  011A 36700 	BRB	CONTINUE_REJ		; FINISH IN CONTINUE_REJ CODE
                                     011C 36800 
                                     011C 36900 	.ENABL	LSB
                                     011C 37000 
                                     011C 37100 NET$NSPDIS::
                     0000'CF     96  011C 37200 	INCB	W^REJ_FLAG		; INDICATE NO DC REQUIRED
                          04     11  0120 37300 	BRB	2$			; SEND AN ATTENTION TO USER
                                     0122 37400 
                                     0122 37500 NET$REMDIS::
                     0000'CF     94  0122 37600 	CLRB	W^REJ_FLAG		; INDICATE DC REQUIRED
                                     0126 37700 2$:
                     0000'CF     9F  0126 37800 	PUSHAB	W^NET$ABORT_IO		; SET ADDRESS OF TERMINATION ROUTINE
                                     012A 37900 	BMSGOV	5$,2			; NEED TWO BYTES OF REASON CODE
            57            33     B0  0132 38000 	MOVW	#MSG$_DISCON,R7		; ASSUME SYNCHRONOUS DISCONNECT
            59            8A     B0  0135 38100 	MOVW	(R10)+,R9		; GET REASON CODE BYTES
       0004'CF            59     3C  0138 38200 	MOVZWL	R9,W^NET$GQ_USR_STAT+4	; STORE DEVICE DEPENDENT STATUS
                                     013D 38300 
                                     013D 38400 	ASSUME	NET$C_DR_NORMAL EQ 0
                                     013D 38500 
                          1B     13  013D 38600 	BEQL	10$			; IF EQL SYNCHRONOUS DISCONNECT
            57            30     B0  013F 38700 	MOVW	#MSG$_ABORT,R7		; ASSUME DISCONNECT ABORT
            09            59     B1  0142 38800 	CMPW	R9,#NET$C_DR_ABORT	; IS IT?
                          13     13  0145 38900 	BEQL	10$			; IF EQL YES
            57            34     B0  0147 39000 	MOVW	#MSG$_EXIT,R7		; ASSUME USER EXITED
            26            59     B1  014A 39100 	CMPW	R9,#NET$C_DR_EXIT	; PREMATURE EXIT?
                          0B     13  014D 39200 	BEQL	10$			; IF EQL YES
            57            39     B0  014F 39300 	MOVW	#MSG$_THIRDPARTY,R7	; ASSUME THIRD PARTY DISCONNECT
            08            59     B1  0152 39400 	CMPW	R9,#NET$C_DR_THIRD	; WAS IT?
                          03     13  0155 39500 	BEQL	10$			; IF EQL YES
                                     0157 39600 5$:
            57            37     B0  0157 39700 	MOVW	#MSG$_PROTOCOL,R7	; OTHERWISE, MAKE IT A PROTOCOL ERROR
                                     015A 39800 
NETDISCON       - PROCESS DISCONNECTS                            22-AUG-1978 00:53:51   VAX-11 MACRO X0.3-11               Page  11
X01             SEND AND RECEIVE DISCONNECT MESSAGES                                                                             (1)

                                     015A 39900 CONTINUE_REJ:
                                     015A 40000 10$:
            56            2A     B0  015A 40100 	MOVW	#NET$C_DR_CONF,R6	; SET DISCONNECT REASON - ASSUME CONFIRM
                          58     D4  015D 40200 	CLRL	R8			; ASSUME NO DATA
                                     015F 40300 	BMSGOV	40$			; NEED COUNT BYTE
            58            8A     9A  0164 40400 	MOVZBL	(R10)+,R8		; GET NO. OF DATA CHARS
            10            58     91  0167 40500 	CMPB	R8,#NET_MAXDIS		; TOO MANY BYTES?
                          06     1B  016A 40600 	BLEQU	30$			; IF LEQU NO
            58            10     9A  016C 40700 	MOVZBL	#NET_MAXDIS,R8		; TRUNCATE THE DATA
            56            2B     B0  016F 40800 	MOVW	#NET$C_DR_IMLONG,R6	; SET DISCONNECT REASON - IMAGE FIELD TOO LONG
                                     0172 40900 30$:
            5B            5A     C3  0172 41000 	SUBL3	R10,R11,R9		; GET THE NO. OF BYTES IN MSG
                          59         0175       
            58            59     D1  0176 41100 	CMPL	R9,R8			; TOO MANY?
                          06     1B  0179 41200 	BLEQU	40$			; IF LEQU NO
            58            59     D0  017B 41300 	MOVL	R9,R8			; TAKE AS MANY AS THERE ARE
            56            2B     B0  017E 41400 	MOVW	#NET$C_DR_IMLONG,R6	; SET DISCONNECT REASON - IMAGE FIELD TOO LONG
                                     0181 41500 40$:
                          FE7C'  30  0181 41600 	BSBW	NET$ATTENTION		; DELIVER ATTENTION, IF ANY
            58            56     B0  0184 41700 	MOVW	R6,R8			; SET DISCONNECT REASON
                          9E     16  0187 41800 	JSB	@(SP)+			; TERMINATE I/O APPROPRIATELY
       0000'CF            00     E4  0189 41900 	BBSC	#0,W^REJ_FLAG,COMMON	; IF BS, NO DC REQUIRED
                          03         018E       
                                     018F 42000 DC_COMMON:
                          FF00   30  018F 42100 	BSBW	NET$XMT_DC		; SEND THE DC
                                     0192 42200  
                                     0192 42300 	.DSABL	LSB
                                     0192 42400 
                                     0192 42500 COMMON:
                          FE6B'  31  0192 42600 	BRW	NET$AST_EXIT		; DONE
                                     0195 42700 
                                     0195 42800 
                                     0195 42900 ;++
                                     0195 43000 ;
                                     0195 43100 ; DISC_ACC_DONE - TERMINATE CONNECT WITH BAD ACCESS
                                     0195 43200 ;
                                     0195 43300 ;--
                                     0195 43400 
                                     0195 43500 DISC_ACC_DONE:
                          FE68'  30  0195 43600 	BSBW	NET$SHUTDOWN		; CLEAN UP THE DATA BASE
       0000'CF       0000'8F     3C  0198 43700 	MOVZWL	#SS$_REJECT,W^NET$GQ_USR_STAT ; SET IN REJECT STATUS
                          FE5E'  31  019F 43800 	BRW	NET$BAD_ACCESS		; POST THE I/O COMPLETION AND RETURN
                                     01A2 43900 
                                     01A2 44000 	.END
NETDISCON       - PROCESS DISCONNECTS                            22-AUG-1978 00:53:51   VAX-11 MACRO X0.3-11               Page  12
SYMBOL TABLE                                                                                                                     (1)

BIT...         = 00000000            IRP$M_PAGIO    = 00000004            MSG$_SNDACC    = 0000000A            
COMMON           00000192 R     04   IRP$M_PHYSIO   = 00000100            MSG$_SNDSMB    = 00000004            
COMMON1          00000098 R     04   IRP$M_PRIVIO   = 00000200            MSG$_SUSOPR    = 00000012            
CONTINUE_REJ     0000015A R     04   IRP$M_SWAPIO   = 00000040            MSG$_THIRDPARTY= 00000039            
CXB$B_CODE       0000000B            IRP$M_VIRTUAL  = 00000010            MSG$_TIMEOUT   = 0000003A            
CXB$B_TYPE       0000000A            IRP$Q_NT_PRVMSK  0000003C            MSG$_TRMHANGUP = 00000006            
CXB$C_DDCCON   = 00000001            IRP$S_FCODE    = 00000006            MSG$_TRMUNSOLIC= 00000001            
CXB$C_DDCDAT   = 00000002            IRP$S_FMOD     = 0000000A            MSG$_XM_ATTN   = 0000000D            
CXB$C_DDCERR   = 00000004            IRP$S_MODE     = 00000002            MSG$_XM_DATAVL = 0000000B            
CXB$C_DDCRCV   = 00000003            IRP$V_BUFIO    = 00000000            MSG$_XM_SHUTDN = 0000000C            
CXB$C_LENGTH     00000018            IRP$V_CHAINED  = 00000005            NDB$B_COMMVER    0000002B            
CXB$C_NSPSTART   0000001A            IRP$V_COMPLX   = 00000003            NDB$B_CONNTMO    0000004F            
CXB$K_LENGTH     00000018            IRP$V_DIAGBUF  = 00000007            NDB$B_FUNC       00000021            
CXB$K_NSPSTART   0000001A            IRP$V_FCODE    = 00000000            NDB$B_NONPRVACC  00000050            
CXB$L_BL         00000004            IRP$V_FMOD     = 00000006            NDB$B_NUMBUF     0000000B            
CXB$L_FL         00000000            IRP$V_FUNC     = 00000001            NDB$B_PRVACC     0000007C            
CXB$L_IRP        00000010            IRP$V_MBXIO    = 0000000A            NDB$B_RTEVER     00000028            
CXB$L_LINK       00000010            IRP$V_MODE     = 00000000            NDB$B_STATE      00000016            
CXB$L_SSB        00000014            IRP$V_PAGIO    = 00000002            NDB$B_STATUS     00000017            
CXB$W_CHANNEL    00000010            IRP$V_PHYSIO   = 00000008            NDB$B_TYPE       0000000A            
CXB$W_LENGTH     0000000C            IRP$V_PRIVIO   = 00000009            NDB$C_CTL_LOOP = 00000005            
CXB$W_OFFSET     0000000E            IRP$V_SWAPIO   = 00000006            NDB$C_LENGTH     000000BC            
CXB$W_SIZE       00000008            IRP$V_VIRTUAL  = 00000004            NDB$C_LOOP     = 00000003            
DC_COMMON        0000018F R     04   IRP$W_ABCNT      0000003C            NDB$C_MAINT    = 00000004            
DISC_ACC_DONE    00000195 R     04   IRP$W_BCNT       00000032            NDB$C_MSG_DCHK = 00000009            
GBL...         = 00000000            IRP$W_BOFF       00000030            NDB$C_MSG_DOWN = 00000003            
IO$V_ABORT       ********   X   04   IRP$W_CHAN       00000028            NDB$C_MSG_DSRCH= 00000007            
IO$V_SYNCH       ********   X   04   IRP$W_FUNC       00000020            NDB$C_MSG_LOOPB= 00000008            
IRP$B_CARCON     00000038            IRP$W_OBCNT      0000003E            NDB$C_MSG_MAINT= 00000002            
IRP$B_EFN        00000022            IRP$W_SIZE       00000008            NDB$C_MSG_NGINI= 00000004            
IRP$B_PRI        00000023            IRP$W_STS        0000002A            NDB$C_MSG_OKINI= 00000005            
IRP$B_RMOD       0000000B            IRP$W_TT_PRMPT   0000003C            NDB$C_MSG_SHUT = 00000006            
IRP$B_TYPE       0000000A            MSG$_ABOOPR    = 00000011            NDB$C_MSG_START= 00000001            
IRP$C_LENGTH     0000004C            MSG$_ABORT     = 00000030            NDB$C_OFF      = 00000001            
IRP$K_LENGTH     0000004C            MSG$_ACCRSP    = 00000021            NDB$C_ON       = 00000000            
IRP$L_AST        00000010            MSG$_CONFIRM   = 00000031            NDB$C_SHUT     = 00000002            
IRP$L_ASTPRM     00000014            MSG$_CONNECT   = 00000032            NDB$K_LENGTH     000000BC            
IRP$L_DIAGBUF    00000044            MSG$_CRUNSOLIC = 00000002            NDB$L_LINE_NAME  00000004            
IRP$L_IOQBL      00000004            MSG$_DELPROC   = 00000003            NDB$L_NEXT       00000000            
IRP$L_IOQFL      00000000            MSG$_DELSMB    = 00000014            NDB$M_CTL_LOOP = 00000008            
IRP$L_IOSB       00000024            MSG$_DEVOFFLIN = 00000005            NDB$M_LOOPBACK = 00000001            
IRP$L_IOST1      00000034            MSG$_DEVONLIN  = 00000007            NDB$M_OFF      = 00000002            
IRP$L_IOST2      00000038            MSG$_DISCON    = 00000033            NDB$M_SHUT     = 00000004            
IRP$L_MEDIA      00000034            MSG$_EXIT      = 00000034            NDB$Q_AST        0000000C            
IRP$L_PID        0000000C            MSG$_INIOPR    = 00000010            NDB$Q_ZEROTIME   000000AC            
IRP$L_SEGVBN     00000040            MSG$_INTMSG    = 00000035            NDB$T_NAME       0000001A            
IRP$L_SEQNUM     00000048            MSG$_OPREPLY   = 00000009            NDB$T_SYSVER     0000002E            
IRP$L_SVAPTE     0000002C            MSG$_OPRQST    = 00000008            NDB$V_CTL_LOOP = 00000003            
IRP$L_TT_TERM    00000038            MSG$_PATHLOST  = 00000036            NDB$V_LOOPBACK = 00000000            
IRP$L_UCB        0000001C            MSG$_PROTOCOL  = 00000037            NDB$V_OFF      = 00000001            
IRP$L_WIND       00000018            MSG$_REJECT    = 00000038            NDB$V_SHUT     = 00000002            
IRP$M_BUFIO    = 00000001            MSG$_RESOPR    = 00000013            NDB$W_BLKSIZE    00000022            
IRP$M_CHAINED  = 00000020            MSG$_SCANBAD   = 00000028            NDB$W_BUFSIZE    000000A8            
IRP$M_COMPLX   = 00000008            MSG$_SCANRSP   = 00000029            NDB$W_CHANNEL    00000014            
IRP$M_DIAGBUF  = 00000080            MSG$_SMBDON    = 00000009            NDB$W_CHAR       000000AA            
IRP$M_FUNC     = 00000002            MSG$_SMBINI    = 00000008            NDB$W_HISBLKSIZ  000000B8            
IRP$M_MBXIO    = 00000400            MSG$_SMBRSP    = 00000020            NDB$W_HISNSPSIZ  000000BA            
NETDISCON       - PROCESS DISCONNECTS                            22-AUG-1978 00:53:51   VAX-11 MACRO X0.3-11               Page  13
SYMBOL TABLE                                                                                                                     (1)

NDB$W_MAXLNK     00000026            NET$C_PRINRM   = 00000001            NET$V_INTMSG   = 00000005            
NDB$W_NODEADDR   00000018            NET$C_RTHDR    = 00000002            NET$V_LTYPE    = 00000000            
NDB$W_NSPSIZE    00000024            NET$C_RTHDROVH = 0000000F            NET$V_MPRI     = 00000002            
NDB$W_RCVBLKS    000000B4            NET$C_ST_CIS     ********   X   04   NET$V_MSGFLG   = 00000002            
NDB$W_SIZE       00000008            NET$DCIDLE       000000DB RG    04   NET$V_MSGID    = 00000000            
NDB$W_XMTBLKS    000000B6            NET$DEAC_COMP    000000D0 RG    04   NET$V_MSGTYP   = 00000002            
NET$ABORT_IO     ********   X   04   NET$FINISH_DEAC  ********   X   04   NET$V_REMLFS   = 00000004            
NET$AB_UTLBUF    ********   X   04   NET$FND_NDB_CHN  ********   X   04   NET$V_RFMT     = 00000006            
NET$ALLOCDC      ********   X   04   NET$GET_NCB      ********   X   04   NET$V_SUBTYP   = 00000004            
NET$ALLOCDI      ********   X   04   NET$GQ_USR_STAT  ********   X   04   NET$XMT_DC       00000092 RG    04   
NET$AST_EXIT     ********   X   04   NET$GW_CHANNEL   ********   X   04   NET$XMT_DI       0000008B RG    04   
NET$ATTENTION    ********   X   04   NET$GW_DISCARD   ********   X   04   NET$XMT_DIS      00000000 RG    04   
NET$BAD_ACCESS   ********   X   04   NET$GW_SRCADDR   ********   X   04   NET$XMT_MSG      ********   X   04   
NET$BUST_LINK    000000C9 RG    04   NET$MBX_FULL     0000005A RG    04   NET_MAXDIS     = 00000010            
NET$C_ACKM     = 00000001            NET$MOVE_DSTNOD  ********   X   04   REJ_COMMON       00000102 R     04   
NET$C_ACKOFF   = 00000005            NET$M_BOM      = 00000020            REJ_FLAG         00000000 R     03   
NET$C_CC       = 00000002            NET$M_EOM      = 00000040            SS$_FILNOTACC    ********   X   04   
NET$C_CI       = 00000001            NET$M_INTLS    = 00000010            SS$_REJECT       ********   X   04   
NET$C_CTRLM    = 00000002            NET$M_INTMSG   = 00000020            SSB$B_FCVAL      00000021            
NET$C_DATAM    = 00000000            NET$NSPDIS       0000011C RG    04   SSB$B_PNDCNT     00000023            
NET$C_DATREQ   = 00000000            NET$NSPREJ       000000FE RG    04   SSB$B_REQCNT     00000022            
NET$C_DC       = 00000004            NET$PARTNER_REJ  000000F8 RG    04   SSB$B_TIPC       00000020            
NET$C_DI       = 00000003            NET$PROT_ERROR   00000066 RG    04   SSB$B_TYPE       0000000A            
NET$C_DR_ABORT = 00000009            NET$REMDIS       00000122 RG    04   SSB$C_LENGTH     00000024            
NET$C_DR_ACCESS= 00000022            NET$SHUTDOWN     ********   X   04   SSB$K_LENGTH     00000024            
NET$C_DR_ACCNT = 00000024            NET$S_ACKOPT   = 00000001            SSB$L_UCB        00000014            
NET$C_DR_BADFC = 00000018            NET$S_BOM      = 00000001            SSB$L_WACKQBL    00000010            
NET$C_DR_BADLNK= 00000016            NET$S_EFMT     = 00000002            SSB$L_WACKQFL    0000000C            
NET$C_DR_BADSRV= 00000023            NET$S_EOM      = 00000001            SSB$L_XQBL       00000004            
NET$C_DR_CONF  = 0000002A            NET$S_FCINT    = 00000002            SSB$L_XQFL       00000000            
NET$C_DR_EXIT  = 00000026            NET$S_FCMOD    = 00000002            SSB$M_ACKP     = 00008000            
NET$C_DR_FMT   = 00000005            NET$S_FCOPT    = 00000002            SSB$M_NAKP     = 00007000            
NET$C_DR_IMLONG= 0000002B            NET$S_INTLS    = 00000001            SSB$S_NAKP     = 00000003            
NET$C_DR_LOSS  = 00000028            NET$S_INTMSG   = 00000001            SSB$V_ACKP     = 0000000F            
NET$C_DR_NOBJ  = 00000004            NET$S_LTYPE    = 00000002            SSB$V_NAKP     = 0000000C            
NET$C_DR_NOCON = 00000020            NET$S_MPRI     = 00000002            SSB$W_RCVSEGACK  0000001A            
NET$C_DR_NOLINK= 00000029            NET$S_MSGFLG   = 00000005            SSB$W_RCVSEGNUM  00000018            
NET$C_DR_NONZ  = 00000015            NET$S_MSGID    = 00000002            SSB$W_SIZE       00000008            
NET$C_DR_NOPATH= 00000027            NET$S_MSGTYP   = 00000002            SSB$W_XMTSEGACK  0000001E            
NET$C_DR_NORMAL= 00000000            NET$S_REMLFS   = 00000004            SSB$W_XMTSEGNUM  0000001C            
NET$C_DR_PROTCL= 00000007            NET$S_RFMT     = 00000001            TERM_COMMON      0000007F R     04   
NET$C_DR_RSU   = 00000001            NET$S_SUBTYP   = 00000003            UCB$B_AMOD       00000053            
NET$C_DR_SEGSIZ= 00000025            NET$TERM_DEAC    ********   X   04   UCB$B_CEX        00000077            
NET$C_DR_SHUT  = 00000003            NET$TERM_LINK    00000069 RG    04   UCB$B_CM1        0000004A            
NET$C_DR_THIRD = 00000008            NET$THIRD_PARTY  0000005F RG    04   UCB$B_CM2        0000004B            
NET$C_DR_ZERO  = 00000017            NET$TIMER_AST    0000004F RG    04   UCB$B_DEVCLASS   00000038            
NET$C_EV_CONTMO  ********   X   04   NET$TRN          ********   X   04   UCB$B_DEVTYPE    00000039            
NET$C_EV_PROTCL  ********   X   04   NET$UP_COUNTER   ********   X   04   UCB$B_DIPL       00000052            
NET$C_INTREQ   = 00000001            NET$USER_REJECT  00000010 RG    04   UCB$B_DX_SCTCNT  000000A6            
NET$C_LOGLNK   = 00000001            NET$V_ACKOPT   = 00000004            UCB$B_ERTCNT     00000070            
NET$C_MAXNSPOVH= 00000018            NET$V_BOM      = 00000005            UCB$B_ERTMAX     00000071            
NET$C_MSGFLG   = 00000000            NET$V_EFMT     = 00000004            UCB$B_ESCAPE     0000004B            
NET$C_NODMSG   = 00000005            NET$V_EOM      = 00000006            UCB$B_FEX        00000076            
NET$C_NOP      = 00000000            NET$V_FCINT    = 00000002            UCB$B_FIPL       0000000B            
NET$C_NSPOVH   = 0000000B            NET$V_FCMOD    = 00000000            UCB$B_LOCSRV     0000003C            
NET$C_NSPV3    = 00000000            NET$V_FCOPT    = 00000002            UCB$B_OFFNDX     00000094            
NET$C_PIGGYBACK= 00008000            NET$V_INTLS    = 00000004            UCB$B_OFFRTC     00000095            
NETDISCON       - PROCESS DISCONNECTS                            22-AUG-1978 00:53:51   VAX-11 MACRO X0.3-11               Page  14
SYMBOL TABLE                                                                                                                     (1)

UCB$B_REMSRV     0000003D            UCB$M_ERLOGIP  = 00000004            UCB$W_CHARGE     0000004A            
UCB$B_SECTORS    0000003C            UCB$M_INT      = 00000002            UCB$W_CYLINDERS  0000003E            
UCB$B_SLAVE      00000074            UCB$M_INTTYPE  = 00000080            UCB$W_DA         0000008C            
UCB$B_SPR        00000075            UCB$M_JOB      = 00000001            UCB$W_DC         0000008E            
UCB$B_STATE      00000052            UCB$M_MOUNTING = 00000200            UCB$W_DEVBUFSIZ  0000003A            
UCB$B_TRACKS     0000003D            UCB$M_NOCNVRT  = 00000004            UCB$W_DEVSTS     0000005A            
UCB$B_TYPE       0000000A            UCB$M_NT_BFROVF= 00000004            UCB$W_DIRSEQ     00000088            
UCB$B_VERTSZ     0000003F            UCB$M_NT_BREAK = 00000020            UCB$W_DSTADDR    00000018            
UCB$C_LENGTH     00000074            UCB$M_NT_NAME  = 00000010            UCB$W_DX_BCR     000000A4            
UCB$C_LOGLNK   = 00000001            UCB$M_ONLINE   = 00000010            UCB$W_EC1        00000090            
UCB$K_LENGTH     00000074            UCB$M_POWER    = 00000020            UCB$W_EC2        00000092            
UCB$L_AMB        00000054            UCB$M_PRMMBX   = 00000001            UCB$W_ERRCNT     00000072            
UCB$L_ASTQBL     00000010            UCB$M_TIM      = 00000001            UCB$W_FUNC       0000007E            
UCB$L_ASTQFL     0000000C            UCB$M_TIMOUT   = 00000040            UCB$W_MB_SEED    FFFFFFFC            
UCB$L_CPID       0000005C            UCB$M_TT_NOTIF = 00000004            UCB$W_MSGCNT     00000016            
UCB$L_CRB        00000020            UCB$M_TT_TIMO  = 00000002            UCB$W_MSGMAX     00000014            
UCB$L_DDB        00000024            UCB$M_UNLOAD   = 00001000            UCB$W_NT_CHAN    0000007C            
UCB$L_DEVCHAR    00000034            UCB$M_VALID    = 00000800            UCB$W_OFFSET     0000008A            
UCB$L_DEVDEPEND  0000003C            UCB$S_LNKPRI   = 00000002            UCB$W_REFC       00000050            
UCB$L_DPC        00000080            UCB$S_LTYPE    = 00000002            UCB$W_SIZE       00000008            
UCB$L_DUETIM     0000005C            UCB$T_PARTNER    0000000C            UCB$W_SRCADDR    0000001A            
UCB$L_DX_BFPNT   0000009C            UCB$V_BACKP    = 00000005            UCB$W_STS        00000058            
UCB$L_DX_BUF     00000098            UCB$V_BSY      = 00000008            UCB$W_UNIT       00000048            
UCB$L_DX_RXDB    000000A0            UCB$V_CANCEL   = 00000003            UCB$W_VPROT      0000001A            
UCB$L_EMB        00000078            UCB$V_DEADMO   = 0000000A            
UCB$L_FIRST      00000014            UCB$V_DELMBX   = 00000001            
UCB$L_FPC        0000000C            UCB$V_DIAGBUF  = 00000001            
UCB$L_FQBL       00000004            UCB$V_DX_WRITE = 00000003            
UCB$L_FQFL       00000000            UCB$V_ECC      = 00000000            
UCB$L_FR3        00000010            UCB$V_ERLOGIP  = 00000002            
UCB$L_FR4        00000014            UCB$V_INT      = 00000001            
UCB$L_IOQBL      00000044            UCB$V_INTTYPE  = 00000007            
UCB$L_IOQFL      00000040            UCB$V_JOB      = 00000000            
UCB$L_IRP        0000004C            UCB$V_LNKPRI   = 00000006            
UCB$L_LINK       0000002C            UCB$V_LTYPE    = 00000000            
UCB$L_LOGADR     00000064            UCB$V_MOUNTING = 00000009            
UCB$L_MAXBLOCK   00000084            UCB$V_MSGACK   = 00000004            
UCB$L_MEDIA      0000008C            UCB$V_MSGFLO   = 00000003            
UCB$L_NT_DATSSB  00000074            UCB$V_NOCNVRT  = 00000002            
UCB$L_NT_INTSSB  00000078            UCB$V_NT_BFROVF= 00000002            
UCB$L_OPCNT      00000060            UCB$V_NT_BREAK = 00000005            
UCB$L_OWNUIC     0000001C            UCB$V_NT_NAME  = 00000004            
UCB$L_PID        00000028            UCB$V_ONLINE   = 00000004            
UCB$L_RQBL       00000004            UCB$V_POWER    = 00000005            
UCB$L_RQFL       00000000            UCB$V_PRMMBX   = 00000000            
UCB$L_SVAPTE     00000068            UCB$V_SEGFLO   = 00000002            
UCB$L_SVPN       00000064            UCB$V_TIM      = 00000000            
UCB$L_TTCHAR     0000003C            UCB$V_TIMOUT   = 00000006            
UCB$L_VCB        00000030            UCB$V_TT_NOTIF = 00000002            
UCB$M_BACKP    = 00000020            UCB$V_TT_TIMO  = 00000001            
UCB$M_BSY      = 00000100            UCB$V_UNLOAD   = 0000000C            
UCB$M_CANCEL   = 00000008            UCB$V_VALID    = 0000000B            
UCB$M_DEADMO   = 00000400            UCB$W_BCNT       0000006E            
UCB$M_DELMBX   = 00000002            UCB$W_BCR        00000096            
UCB$M_DIAGBUF  = 00000002            UCB$W_BOFF       0000006C            
UCB$M_DX_WRITE = 00000008            UCB$W_BUFQUO     00000018            
UCB$M_ECC      = 00000001            UCB$W_BYTESTOGO  0000003E            
NETDISCON       - PROCESS DISCONNECTS                            22-AUG-1978 00:53:51   VAX-11 MACRO X0.3-11               Page  15
PROGRAM SECTION SYNOPSIS                                                                                                         (1)



PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
$ABS$            FFFFFFFE      02     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
NET_IMPURE       00000001      03     NOPIC   USR   CON   REL   LCL NOSHR NOEXE   RD    WRT BYTE  
NET_DISCONNECT   000001A2      04     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD  NOWRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
12764. BYTES LEFT IN FREE MEMORY POOL.
2424. BYTES OF RECLAIMED MEMORY.
OBJ$:NETDISCON,LIS$:NETDISCON/-SP=EXECML$/ML,M1/ML,M2/ML,SRC$:NETDISCON
59 MLB DIR RDS - 755 GETS TO DEFINE 22 MACROS. 51 INTER. FILE WRITES. 

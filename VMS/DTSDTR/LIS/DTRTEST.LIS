TST$DTRTEST     - DTR TEST ROUTINES                              22-AUG-1978 01:08:30   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (2)      94  DECLARATIONS
   (3)     117  TST$CONN_DTR - CONNECT TEST
   (4)     207  TST$DATA_DTR - DATA TEST
   (5)     392  TST$DISC_DTR - DISCONNECT TEST
   (6)     489  TST$INTE_DTR - INTERRUPT TEST
   (7)     617  TST$MISC_DTR - MISCELLANEOUS TEST
   (8)     666  TST$BAD_DTR - INVALID TEST TYPE
TST$DTRTEST     - DTR TEST ROUTINES                              22-AUG-1978 01:08:30   VAX-11 MACRO X0.3-11               Page   1
X0.1-9                                                                                                                           (1)

                                     0000     1 	.TITLE	TST$DTRTEST - DTR TEST ROUTINES
                                     0000     2 	.IDENT	/X0.1-9/
                                     0000     3 
                                     0000     4 ;
                                     0000     5 ;			  COPYRIGHT (c) 1977, 1978 BY
                                     0000     6 ;	      DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
                                     0000     7 ;
                                     0000     8 ; THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND  COPIED
                                     0000     9 ; ONLY  IN  ACCORDANCE  WITH  THE  TERMS  OF  SUCH  LICENSE AND WITH THE
                                     0000    10 ; INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE OR  ANY  OTHER
                                     0000    11 ; COPIES  THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY
                                     0000    12 ; OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE  IS  HEREBY
                                     0000    13 ; TRANSFERRED.
                                     0000    14 ;
                                     0000    15 ; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE  WITHOUT  NOTICE
                                     0000    16 ; AND  SHOULD  NOT  BE  CONSTRUED  AS  A COMMITMENT BY DIGITAL EQUIPMENT
                                     0000    17 ; CORPORATION.
                                     0000    18 ;
                                     0000    19 ; DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE OR  RELIABILITY  OF  ITS
                                     0000    20 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.
                                     0000    21 ;
                                     0000    22 
                                     0000    23 ;++
                                     0000    24 ; FACILITY: DTS/DTR DECNET TEST PACKAGE
                                     0000    25 ;
                                     0000    26 ; ABSTRACT:
                                     0000    27 ;	THIS MODULE IMPLEMENTS THE CONNECT, DATA, DISCONNECT,
                                     0000    28 ;	INTERRUPT, AND MISCELLANEOUS TEST SEQUENCES FOR DTR.
                                     0000    29 ;
                                     0000    30 ; ENVIRONMENT: DTR RUNS IN USER MODE AND REQUIRES NETWORK PRIVILEGE.
                                     0000    31 ;
                                     0000    32 ; AUTHOR: JAMES A. KRYCKA,	CREATION DATE: 11-AUG-77
                                     0000    33 ;
                                     0000    34 ; MODIFICATIONS:
                                     0000    35 ;
                                     0000    36 ;--
TST$DTRTEST     - DTR TEST ROUTINES                              22-AUG-1978 01:08:30   VAX-11 MACRO X0.3-11               Page   2
X0.1-9          DECLARATIONS                                                                                                     (2)

                                     0000    38 	.SBTTL	DECLARATIONS
                                     0000    39 
                                     0000    40 ;
                                     0000    41 ; INCLUDE FILES:
                                     0000    42 ;
                                     0000    43 	$DTSDEF
                                     0000    44 	CMDDEF				; DEFINE COMMAND LANGUAGE SYMBOLS
                                     0000    45 	EFNDEF				; DEFINE EFN'S AND FUNCTION CODES
                                     0000    46 	$MSGDEF				; DEFINE MAILBOX MESSAGE ID CODES
                                     0000    47 	.IIF NE	K_LIST_MEB, .LIST MEB	; DEFINED IN DTPREFIX.MAR
                                     0000    48 ;
                                     0000    49 ; MACROS:
                                     0000    50 ;
                                     0000    51 ;	NONE
                                     0000    52 ;
                                     0000    53 ; EQUATED SYMBOLS:
                                     0000    54 ;
                                     0000    55 ;	NONE
                                     0000    56 ;
                                     0000    57 ; OWN STORAGE:
                                     0000    58 ;
                                     0000    59 ;	NONE
TST$DTRTEST     - DTR TEST ROUTINES                              22-AUG-1978 01:08:30   VAX-11 MACRO X0.3-11               Page   3
X0.1-9          TST$CONN_DTR - CONNECT TEST                                                                                      (3)

                                     0000    61 	.SBTTL	TST$CONN_DTR - CONNECT TEST
                                 00000000    62 	.PSECT	TST$CODE	NOWRT
                                     0000    63 RT::					; SYMBOL FOR DEBUGGING PURPOSES
                                     0000    64 
                                     0000    65 ;++
                                     0000    66 ; FUNCTIONAL DESCRIPTION:
                                     0000    67 ;
                                     0000    68 ;	NONE
                                     0000    69 ;
                                     0000    70 ; CALLING SEQUENCE:
                                     0000    71 ;
                                     0000    72 ;	BSB/JSB	TST$CONN_DTR
                                     0000    73 ;
                                     0000    74 ; INPUT PARAMETERS:
                                     0000    75 ;
                                     0000    76 ;	R9	TEST SUBFUNCTION VALUE
                                     0000    77 ;	R10	ADDRESS OF NCB USERDATA FIELD (COUNTED ASCII STRING)
                                     0000    78 ;	R11	ADDRESS OF NCB DESCRIPTOR BLOCK
                                     0000    79 ;
                                     0000    80 ; IMPLICIT INPUTS:
                                     0000    81 ;
                                     0000    82 ;	NONE
                                     0000    83 ;
                                     0000    84 ; OUTPUT PARAMETERS:
                                     0000    85 ;
                                     0000    86 ;	R0	COMPLETION CODE
                                     0000    87 ;	R1	ADDRESS OF TEST ID STRING
                                     0000    88 ;	R2-R11	DESTROYED
                                     0000    89 ;
                                     0000    90 ; IMPLICIT OUTPUTS:
                                     0000    91 ;
                                     0000    92 ;	NONE
                                     0000    93 ;
                                     0000    94 ; COMPLETION CODES:
                                     0000    95 ;
                                     0000    96 ;	R0	1 = SUCCESS; 0 = FAILURE
                                     0000    97 ;
                                     0000    98 ; SIDE EFFECTS:
                                     0000    99 ;
                                     0000   100 ;	NONE
                                     0000   101 ;
                                     0000   102 ;--
                                     0000   103 
                                     0000   104 TST$CONN_DTR::				; ENTRY POINT
            05            59     91  0000   105 	CMPB	R9,#5			;
                          0C     1B  0003   106 	BLEQU	5$			;
                          015F   30  0005   107 	BSBW	TST$CONN_REJECT		; ISSUE CONNECT REJECT
            50   01F58053 8F     D0  0008   108 	MOVL	#DTS$_BADSUBFCN,R0			; GIVE REASON FOR FAILURE
                          2E     11  000F   109 	BRB	CONN_FAILURE		;
            59         FF 8F     9C  0011   110 5$:	ROTL	#-1,R9,R6		; DIVIDE CONTEST FIELD BY 2 TO
                          56         0015       
                                     0016   111 					;  DETERMINE WHAT TYPE (IF ANY)
                                     0016   112 					;  OF USERDATA IS TO BE RETURNED.
                                     0016   113 	$CASEB	SELECTOR=R6,DISPL=<-	; RETURN:
                                     0016   114 		10$-			;  NO USERDATA
                                     0016   115 		20$-			;  STANDARD DATA
                                     0016   116 		30$-			;  RECEIVED DATA
TST$DTRTEST     - DTR TEST ROUTINES                              22-AUG-1978 01:08:30   VAX-11 MACRO X0.3-11               Page   4
X0.1-9          TST$CONN_DTR - CONNECT TEST                                                                                      (3)

                                     0016   117 	>				;
                          6A     94  0020   118 10$:	CLRB	(R10)			; ZERO LENGTH OF USERDATA STRING
                          09     11  0022   119 	BRB	30$			; CONTINUE
            8A            10     90  0024   120 20$:	MOVB	#16,(R10)+		; STORE 16 BYTES OF THE STANDARD
                                     0027   121 					;  DATA PATTERN AS A COUNTED STRING
       0001'CF            10     28  0027   122 	MOVC3	#16,W^TST$GT_STANDARD+1,(R10) ; "
                          6A         002C       
                                     002D   123 
                                     002D   124 ;
                                     002D   125 ; RESPOND WITH CONNECT ACCEPT OR CONNECT REJECT AS APPROPRIATE.
                                     002D   126 ;
                                     002D   127 
            52            02     D0  002D   128 30$:	MOVL	#EFN_K_CONN_REJE,R2	; ASSUME CONNECT REJECT
            03            59     E9  0030   129 	BLBC	R9,40$			; IS IT A REJECT REQUEST?
            52            01     D0  0033   130 	MOVL	#EFN_K_CONN_ACCE,R2	; NO, IT'S A CONNECT ACCEPT
            54            5B     D0  0036   131 40$:	MOVL	R11,R4			; P2 = ADDRESS OF NCB DESCRIPTOR BLOCK
                          FFC4'  30  0039   132 	BSBW	TST$QIOW		; RESPOND TO CONNECT INITIATE
                                     003C   133 ;	BLBC	R9,CONN_SUCCESS		; DID WE REJECT THE CONNECTION?
                                     003C   134 ;					; NO, WAIT FOR DISCONNECT FROM DTS
                                     003C   135 ;	MOVL	#EFN_K_READ_MAIL,R2	; GET FUNCTION/INDEX CODE
                                     003C   136 ;	MOVZBL	#TST$K_MAILBUF,R4	; GET MAILBOX BUFFER SIZE
                                     003C   137 ;	BSBW	TST$QIOW		; READ MAILBOX
                                     003C   138 ;	BSBW	TST$EXAM_MAIL		; PARSE MAILBOX MESSAGE
                                     003C   139 ;	CMPW	R6,#MSG$_DISCON		; WAS IT A SYNCHRONOUS DISCONNECT?
                                     003C   140 ;	BEQLU	CONN_SUCCESS		; YES, THAT'S OK
                                     003C   141 ;	CMPW	R6,#MSG$_ABORT		; WAS IT A DISCONNECT ABORT?
                                     003C   142 ;	BEQLU	CONN_SUCCESS		; YES, THAT'S OK TOO
                                     003C   143 ;	MOVL	#8,R0			; NO, GIVE REASON AND EXIT
                                     003C   144 ;	BRB	CONN_FAILURE		;
                                     003C   145 CONN_SUCCESS:				; TEST WAS SUCCESSFUL
            50            01     D0  003C   146 	MOVL	#1,R0			; SET COMPLETION CODE TO SUCCESS
                                     003F   147 CONN_FAILURE:				; ENTER HERE IF TEST FAILED
            51       0000'CF     9E  003F   148 	MOVAB	W^TST$GT_CONN,R1	; RETURN ADDRESS OF TEST ID STRING
                                 05  0044   149 	RSB				; YES, EXIT
TST$DTRTEST     - DTR TEST ROUTINES                              22-AUG-1978 01:08:30   VAX-11 MACRO X0.3-11               Page   5
X0.1-9          TST$DATA_DTR - DATA TEST                                                                                         (4)

                                     0045   151 	.SBTTL	TST$DATA_DTR - DATA TEST
                                 00000045   152 	.PSECT	TST$CODE	NOWRT
                                     0045   153 
                                     0045   154 ;++
                                     0045   155 ; FUNCTIONAL DESCRIPTION:
                                     0045   156 ;
                                     0045   157 ;	NONE
                                     0045   158 ;
                                     0045   159 ; CALLING SEQUENCE:
                                     0045   160 ;
                                     0045   161 ;	BSB/JSB	TST$DATA_DTR
                                     0045   162 ;
                                     0045   163 ; INPUT PARAMETERS:
                                     0045   164 ;
                                     0045   165 ;	R9	TEST SUBFUNCTION VALUE
                                     0045   166 ;	R10	ADDRESS OF NCB USERDATA FIELD (COUNTED ASCII STRING)
                                     0045   167 ;	R11	ADDRESS OF NCB DESCRIPTOR BLOCK
                                     0045   168 ;
                                     0045   169 ; IMPLICIT INPUTS:
                                     0045   170 ;
                                     0045   171 ;	NONE
                                     0045   172 ;
                                     0045   173 ; OUTPUT PARAMETERS:
                                     0045   174 ;
                                     0045   175 ;	R0	COMPLETION CODE
                                     0045   176 ;	R1	ADDRESS OF TEST ID STRING
                                     0045   177 ;	R2-R11	DESTROYED
                                     0045   178 ;
                                     0045   179 ; IMPLICIT OUTPUTS:
                                     0045   180 ;
                                     0045   181 ;	NONE
                                     0045   182 ;
                                     0045   183 ; COMPLETION CODES:
                                     0045   184 ;
                                     0045   185 ;	R0	1 = SUCCESS; 0 = FAILURE
                                     0045   186 ;
                                     0045   187 ; SIDE EFFECTS:
                                     0045   188 ;
                                     0045   189 ;	NONE
                                     0045   190 ;
                                     0045   191 ;--
                                     0045   192 
                                     0045   193 TST$DATA_DTR::				; ENTRY POINT
            03            59     91  0045   194 	CMPB	R9,#VAL_K_TYPE_ECHO	;
                          0C     1B  0048   195 	BLEQU	10$			;
                          011A   30  004A   196 	BSBW	TST$CONN_REJECT		; ISSUE CONNECT REJECT
            50   01F58053 8F     D0  004D   197 	MOVL	#DTS$_BADSUBFCN,R0			; GIVE REASON FOR FAILURE
                          6B     11  0054   198 	BRB	55$			;
            50         03 AA     9E  0056   199 10$:	MOVAB	3(R10),R0		; SAVE REMAINING FIELDS IN MESSAGE
            02            60     91  005A   200 	CMPB	(R0),#VAL_K_FLOW_MESS	;
                          0C     13  005D   201 	BEQL	20$			;
                          0105   30  005F   202 	BSBW	TST$CONN_REJECT		; ISSUE CONNECT REJECT
            50   01F58063 8F     D0  0062   203 	MOVL	#DTS$_INVOPTION,R0			; GIVE REASON FOR FAILURE
                          56     11  0069   204 	BRB	55$			;
       0000'CF            80     90  006B   205 20$:	MOVB	(R0)+,W^TST$GB_FLOW	; STORE FCOPT VALUE
            01            60     91  0070   206 	CMPB	(R0),#1			;
                          0C     13  0073   207 	BEQL	30$			;
TST$DTRTEST     - DTR TEST ROUTINES                              22-AUG-1978 01:08:30   VAX-11 MACRO X0.3-11               Page   6
X0.1-9          TST$DATA_DTR - DATA TEST                                                                                         (4)

                          00EF   30  0075   208 	BSBW	TST$CONN_REJECT		; ISSUE CONNECT REJECT
            50   01F58063 8F     D0  0078   209 	MOVL	#DTS$_INVOPTION,R0			; GIVE REASON FOR FAILURE
                          40     11  007F   210 	BRB	55$			;
       0000'CF            80     90  0081   211 30$:	MOVB	(R0)+,W^TST$GB_RQUEUE	; STORE FCVAL VALUE
                          60     95  0086   212 	TSTB	(R0)			;
                          0C     13  0088   213 	BEQL	40$			;
                          00DA   30  008A   214 	BSBW	TST$CONN_REJECT		; ISSUE CONNECT REJECT
            50   01F58063 8F     D0  008D   215 	MOVL	#DTS$_INVOPTION,R0			; GIVE REASON FOR FAILURE
                          2B     11  0094   216 	BRB	55$			;
       0000'CF            80     90  0096   217 40$:	MOVB	(R0)+,W^TST$GB_NAK	; STORE NAK VALUE
                          60     95  009B   218 	TSTB	(R0)			;
                          0C     13  009D   219 	BEQL	50$			;
                          00C5   30  009F   220 	BSBW	TST$CONN_REJECT		; ISSUE CONNECT REJECT
            50   01F58063 8F     D0  00A2   221 	MOVL	#DTS$_INVOPTION,R0			; GIVE REASON FOR FAILURE
                          16     11  00A9   222 	BRB	55$			;
       0000'CF            80     90  00AB   223 50$:	MOVB	(R0)+,W^TST$GB_BACK	; STORE BPVAL VALUE
       1000 8F            60     B1  00B0   224 	CMPW	(R0),#MAX_K_SIZE_DA	;
                          0D     15  00B5   225 	BLEQ	60$			;
                          00AD   30  00B7   226 	BSBW	TST$CONN_REJECT		; ISSUE CONNECT REJECT
            50   01F58063 8F     D0  00BA   227 	MOVL	#DTS$_INVOPTION,R0			; GIVE REASON FOR FAILURE
                          0098   31  00C1   228 55$:	BRW	DATA_FAILURE		;
       0000'CF            80     B0  00C4   229 60$:	MOVW	(R0)+,W^TST$GW_SIZE	; STORE MSGLEN VALUE
                                     00C9   230 
                                     00C9   231 ;
                                     00C9   232 ; RESPOND TO CONNECT INITIATE WITH A CONNECT ACCEPT WITHOUT USERDATA.
                                     00C9   233 ;
                                     00C9   234 
                          0096   30  00C9   235 	BSBW	TST$CONN_ACCEPT		;
                                     00CC   236 
                                     00CC   237 ;
                                     00CC   238 ; DATA TEST INITIALIZATION
                                     00CC   239 ;
                                     00CC   240 
                     0000'CF     7C  00CC   241 	CLRQ	W^TST$GL_XMITDATA	; ZERO TRANSMIT AND RECEIVE
                                     00D0   242 					;  MESSAGE COUNTERS
                     0000'CF     7C  00D0   243 	CLRQ	W^TST$GL_XMITINTE	; ZERO TRANSMIT AND RECEIVE
                                     00D4   244 					;  INTERRUPT MESSAGE COUNTERS
       0000'CF            01     D0  00D4   245 	MOVL	#1,W^TST$GL_STATUS	; SET AST STATUS CODE TO SUCCESS
                     0000'CF     94  00D9   246 	CLRB	W^TST$GB_ASTFLAGS	;NOTE TIMER RUNNING
   00000000'EF   00000000'EF     DE  00DD   247 	MOVAL	TST$QB_QHEAD,TST$QB_QHEAD;INIT QUEUE HEAD
   00000004'EF   00000000'EF     DE  00E8   248 	MOVAL	TST$QB_QHEAD,TST$QB_QHEAD+4
                                     00F3   249 ;
                                     00F3   250 ; PUT REPETITIONS OF THE STANDARD DATA PATTERN IN THE MESSAGE BUFFER
                                     00F3   251 ; BEGINNING AT BUFFER+4.
                                     00F3   252 ;
                                     00F3   253 
            53       0000'CF     9E  00F3   254 	MOVAB	W^TST$GB_XMITBUF,R3	; GET ADDRESS OF MESSAGE
                          83     D4  00F8   255 	CLRL	(R3)+			; INITIALIZE MESSAGE SEQUENCE NUMBER
            54       0000'CF     3C  00FA   256 	MOVZWL	W^TST$GW_SIZE,R4	; GET MESSAGE SIZE
            54            04     B1  00FF   257 	CMPW	#4,R4			;ANY DATA IN MSG?
                          06     18  0102   258 	BGEQ	70$			;NO, SO WHY FILLBUFFER
            54            04     C2  0104   259 	SUBL2	#4,R4			; REDUCE SIZE ACCORDINGLY
                          FEF6'  30  0107   260 	BSBW	TST$STANDARD		; PUT STD DATA PATTERN IN BUFFER
                                     010A   261 
                                     010A   262 70$:
                                     010A   263 ;
                                     010A   264 ; RECEIVE [AND TRANSMIT] DATA MESSAGES UNTIL DTS DISCONNECTS THE LINK
TST$DTRTEST     - DTR TEST ROUTINES                              22-AUG-1978 01:08:30   VAX-11 MACRO X0.3-11               Page   7
X0.1-9          TST$DATA_DTR - DATA TEST                                                                                         (4)

                                     010A   265 ;
                                     010A   266 
            52            07     D0  010A   267 	MOVL	#EFN_K_RECV_DATA,R2	; GET FUNCTION/INDEX CODE
            54       0000'CF     3C  010D   268 	MOVZWL	W^TST$GW_SIZE,R4	; GET MESSAGE SIZE
            55       0000'CF     9E  0112   269 	MOVAB	W^TST$RECVAST_DTR,R5	; GET ADDRESS OF AST ROUTINE
                          FEE6'  30  0117   270 	BSBW	TST$QIOAST		; START UP RECEIVE MESSAGE STREAM
            52            00     D0  011A   271 	MOVL	#EFN_K_READ_MAIL,R2	; GET FUNCTION/INDEX CODE
            54         00'8F     9A  011D   272 	MOVZBL	#TST$K_MAILBUF,R4	; GET MAILBOX BUFFER SIZE
            55       0000'CF     9E  0121   273 	MOVAB	W^TST$MAILAST_DTR,R5	; GET ADDRESS OF AST ROUTINE
                          FED7'  30  0126   274 	BSBW	TST$QIOAST		; START UP READ MAILBOX STREAM
                                     0129   275 
                                     0129   276 ;
                                     0129   277 ; WAIT FOR LINK DISCONNECT
                                     0129   278 ;
                                     0129   279 
                          07     11  0129   280 	BRB	110$			;CHECK FOR ASTS 
                                     012B   281 100$:
                                     012B   282 	$HIBER_S			;GO TO SLEEP TILL AN AST
                                     0132   283 110$:
            20       0000'CF     E8  0132   284 	BLBS	W^TST$GB_ASTFLAGS,120$	;JUMP IF TIMER EXPIRED
            50   00000000'FF     0F  0137   285 	REMQUE	@TST$QB_QHEAD,R0	;DEQUEUE AN AST
                          EB     1D  013E   286 	BVS	100$			;NOTHING THERE ,SLEEP
            52       0000'C0     D0  0140   287 	MOVL	TST$QB_CODE(R0),R2		;QIO FUNCTION/CODE
            54       0000'C0     D0  0145   288 	MOVL	TST$QB_BUFLEN(R0),R4		;SIZE FOR DATA MSG
            55       0000'C0     D0  014A   289 	MOVL	TST$QB_ASTADR(R0),R5	;AST ADDRESS FOR QIO
                          FEAE'  30  014F   290 	BSBW	TST$QIOAST		;DO QIO WITH AST
                                     0152   291 	CHECK_SS			;MAKE SERVICE OKAY
                          DB     11  0155   292 	BRB	110$			;DEQUEUE ANOTHER
                                     0157   293 120$:
                                     0157   294 
                                     0157   295 ;
                                     0157   296 ; DATA TEST IS FINISHED
                                     0157   297 ;
                                     0157   298 
            50       0000'CF     D0  0157   299 	MOVL	W^TST$GL_STATUS,R0	; POST STATUS
                                     015C   300 DATA_FAILURE:				; ENTER HERE IF TEST FAILED
            51       0000'CF     9E  015C   301 	MOVAB	W^TST$GT_DATA,R1	; RETURN ADDRESS OF TEST ID STRING
                                 05  0161   302 	RSB				; EXIT
                                     0162   303 
                                     0162   304 ;
                                     0162   305 ; SUBROUTINE TO ISSUE A CONNECT ACCEPT WITHOUT USERDATA.
                                     0162   306 ;
                                     0162   307 
                                     0162   308 TST$CONN_ACCEPT::			; CONTROL POINT
            52            01     D0  0162   309 	MOVL	#EFN_K_CONN_ACCE,R2	; GET FUNCTION/INDEX CODE
                          03     11  0165   310 	BRB	ACCEPT_REJECT		; JOIN COMMON CODE
                                     0167   311 
                                     0167   312 ;
                                     0167   313 ; SUBROUTINE TO ISSUE A CONNECT REJECT WITHOUT USERDATA.
                                     0167   314 ;
                                     0167   315 
                                     0167   316 TST$CONN_REJECT::			; CONTROL POINT
            52            02     D0  0167   317 	MOVL	#EFN_K_CONN_REJE,R2	; GET FUNCTION/INDEX CODE
                                     016A   318 ACCEPT_REJECT:				; CONTROL POINT
                                     016A   319 
                                     016A   320 ;
                                     016A   321 ; AN ALTERNATE TO THE FOLLOWING TWO INSTRUCTIONS IS:
TST$DTRTEST     - DTR TEST ROUTINES                              22-AUG-1978 01:08:30   VAX-11 MACRO X0.3-11               Page   8
X0.1-9          TST$DATA_DTR - DATA TEST                                                                                         (4)

                                     016A   322 ;
                                     016A   323 ;	CLRB	(R10)
                                     016A   324 ;
                                     016A   325 ; THE LONGER SEQUENCE BELOW IS USED TO CHECKOUT NETACP'S HANDLING
                                     016A   326 ; OF NO USERDATA STRING PRESENT.
                                     016A   327 ;
                                     016A   328 
            8A            22     90  016A   329 	MOVB	#^A\"\,(R10)+		; TERMINATE NCB STRING BEFORE
                                     016D   330 					;  COUNTED USERDATA STRING
            5A         04 AB     C3  016D   331 	SUBL3	4(R11),R10,(R11)	; REDUCE SIZE IN NCB DESCRIPTOR
                          6B         0171       
            54            5B     D0  0172   332 	MOVL	R11,R4			; P2 = ADDRESS OF NCB DESCRIPTOR BLOCK
                          FE88'  30  0175   333 	BSBW	TST$QIOW		; ISSUE THE CONNECT REJECT
                                 05  0178   334 	RSB				; EXIT
TST$DTRTEST     - DTR TEST ROUTINES                              22-AUG-1978 01:08:30   VAX-11 MACRO X0.3-11               Page   9
X0.1-9          TST$DISC_DTR - DISCONNECT TEST                                                                                   (5)

                                     0179   336 	.SBTTL	TST$DISC_DTR - DISCONNECT TEST
                                 00000179   337 	.PSECT	TST$CODE	NOWRT
                                     0179   338 
                                     0179   339 ;++
                                     0179   340 ; FUNCTIONAL DESCRIPTION:
                                     0179   341 ;
                                     0179   342 ;	NONE
                                     0179   343 ;
                                     0179   344 ; CALLING SEQUENCE:
                                     0179   345 ;
                                     0179   346 ;	BSB/JSB	TST$DISC_DTR
                                     0179   347 ;
                                     0179   348 ; INPUT PARAMETERS:
                                     0179   349 ;
                                     0179   350 ;	R9	TEST SUBFUNCTION VALUE
                                     0179   351 ;	R10	ADDRESS OF NCB USERDATA FIELD (COUNTED ASCII STRING)
                                     0179   352 ;	R11	ADDRESS OF NCB DESCRIPTOR BLOCK
                                     0179   353 ;
                                     0179   354 ; IMPLICIT INPUTS:
                                     0179   355 ;
                                     0179   356 ;	NONE
                                     0179   357 ;
                                     0179   358 ; OUTPUT PARAMETERS:
                                     0179   359 ;
                                     0179   360 ;	R0	COMPLETION CODE
                                     0179   361 ;	R1	ADDRESS OF TEST ID STRING
                                     0179   362 ;	R2-R11	DESTROYED
                                     0179   363 ;
                                     0179   364 ; IMPLICIT OUTPUTS:
                                     0179   365 ;
                                     0179   366 ;	NONE
                                     0179   367 ;
                                     0179   368 ; COMPLETION CODES:
                                     0179   369 ;
                                     0179   370 ;	R0	1 = SUCCESS; 0 = FAILURE
                                     0179   371 ;
                                     0179   372 ; SIDE EFFECTS:
                                     0179   373 ;
                                     0179   374 ;	NONE
                                     0179   375 ;
                                     0179   376 ;--
                                     0179   377 
                                     0179   378 TST$DISC_DTR::				; ENTRY POINT
            05            59     91  0179   379 	CMPB	R9,#5			;
                          0C     1B  017C   380 	BLEQU	5$			;
                          FFE6   30  017E   381 	BSBW	TST$CONN_REJECT		; ISSUE CONNECT REJECT
            50   01F58053 8F     D0  0181   382 	MOVL	#DTS$_BADSUBFCN,R0			; GIVE REASON FOR FAILURE
                          4B     11  0188   383 	BRB	DISC_FAILURE		;
                                     018A   384 
                                     018A   385 ;
                                     018A   386 ; RESPOND TO CONNECT INITIATE WITH A CONNECT ACCEPT WITHOUT USERDATA.
                                     018A   387 ;
                                     018A   388 
            57            6A     90  018A   389 5$:	MOVB	(R10),R7		; SAVE USERDATA STRING COUNT
                          FFD2   30  018D   390 	BSBW	TST$CONN_ACCEPT		;
                          5A     D7  0190   391 	DECL	R10			; RESTORE POINTER
            6A            57     90  0192   392 	MOVB	R7,(R10)		; RESTORE USERDATA STRING COUNT
TST$DTRTEST     - DTR TEST ROUTINES                              22-AUG-1978 01:08:30   VAX-11 MACRO X0.3-11               Page  10
X0.1-9          TST$DISC_DTR - DISCONNECT TEST                                                                                   (5)

                                     0195   393 
                                     0195   394 ;
                                     0195   395 ; CONTINUE SET-UP FOR DISCONNECT OF LINK JUST ESTABLISHED.
                                     0195   396 ;
                                     0195   397 
            54       0000'CF     7E  0195   398 	MOVAQ	W^TST$GQ_DEACCESS,R4	; P2 = ADDR OF USERDATA DESC BLOCK
            59         FF 8F     9C  019A   399 	ROTL	#-1,R9,R6		; DIVIDE DISTEST FIELD BY 2 TO
                          56         019E       
                                     019F   400 					; DETERMINE WHAT TYPE (IF ANY)
                                     019F   401 					; OF USERDATA IS TO BE RETURNED.
                                     019F   402 	$CASEB	SELECTOR=R6,DISPL=<-	; RETURN:
                                     019F   403 		10$-			;  NO USERDATA
                                     019F   404 		20$-			;  STANDARD DATA
                                     019F   405 		30$-			;  RECEIVED DATA
                                     019F   406 	>				;
                          54     D4  01A9   407 10$:	CLRL	R4			; P2 = 0; SPECIFY NO USERDATA
                          19     11  01AB   408 	BRB	40$			; CONTINUE
            64            11     D0  01AD   409 20$:	MOVL	#<1+16>,(R4)		; SPECIFY SIZE OF USERDATA
                                     01B0   410 					;  COUNTED STRING
       0000'CF            10     90  01B0   411 	MOVB	#16,W^TST$GT_STANDARD	; MODIFY COUNT
         04 A4       0000'CF     9E  01B5   412 	MOVAB	W^TST$GT_STANDARD,4(R4)	; SPECIFY ADDRESS OF COUNTED STRING
                          09     11  01BB   413 	BRB	40$			; CONTINUE
            64            6A     9A  01BD   414 30$:	MOVZBL	(R10),(R4)		; SPECIFY SIZE OF RECEIVED DATA
                          64     D6  01C0   415 	INCL	(R4)			;  COUNTED STRING
         04 A4            5A     D0  01C2   416 	MOVL	R10,4(R4)		; SPECIFY ADDRESS OF COUNTED STRING
                                     01C6   417 
                                     01C6   418 ;
                                     01C6   419 ; DETERMINE WHETHER TO RESPOND WITH A SYNCHRONOUS DISCONNECT OR A
                                     01C6   420 ; DISCONNECT ABORT.
                                     01C6   421 ;
                                     01C6   422 
            52            03     D0  01C6   423 40$:	MOVL	#EFN_K_DISC_SYNC,R2	; ASSUME SYNCHRONOUS DISCONNECT
            03            59     E9  01C9   424 	BLBC	R9,50$			; IS IT A SYNC DISCONNECT REQUEST?
            52            04     D0  01CC   425 	MOVL	#EFN_K_DISC_ABRT,R2	; NO IT'S A DISCONNECT ABORT
                          FE2E'  30  01CF   426 50$:	BSBW	TST$QIOW		; DISCONNECT THE LINK
                                     01D2   427 DISC_SUCCESS:				; TEST WAS SUCCESSFUL
            50            01     D0  01D2   428 	MOVL	#1,R0			; SET COMPLETION CODE TO SUCCESS
                                     01D5   429 DISC_FAILURE:				; ENTER HERE IF TEST FAILED
            51       0000'CF     9E  01D5   430 	MOVAB	W^TST$GT_DISC,R1	; RETURN ADDRESS OF TEST ID STRING
                                 05  01DA   431 	RSB				; EXIT
TST$DTRTEST     - DTR TEST ROUTINES                              22-AUG-1978 01:08:30   VAX-11 MACRO X0.3-11               Page  11
X0.1-9          TST$INTE_DTR - INTERRUPT TEST                                                                                    (6)

                                     01DB   433 	.SBTTL	TST$INTE_DTR - INTERRUPT TEST
                                 000001DB   434 	.PSECT	TST$CODE	NOWRT
                                     01DB   435 
                                     01DB   436 ;++
                                     01DB   437 ; FUNCTIONAL DESCRIPTION:
                                     01DB   438 ;
                                     01DB   439 ;	NONE
                                     01DB   440 ;
                                     01DB   441 ; CALLING SEQUENCE:
                                     01DB   442 ;
                                     01DB   443 ;	BSB/JSB	TST$INTE_DTR
                                     01DB   444 ;
                                     01DB   445 ; INPUT PARAMETERS:
                                     01DB   446 ;
                                     01DB   447 ;	R9	TEST SUBFUNCTION VALUE
                                     01DB   448 ;	R10	ADDRESS OF NCB USERDATA FIELD (COUNTED ASCII STRING)
                                     01DB   449 ;	R11	ADDRESS OF NCB DESCRIPTOR BLOCK
                                     01DB   450 ;
                                     01DB   451 ; IMPLICIT INPUTS:
                                     01DB   452 ;
                                     01DB   453 ;	NONE
                                     01DB   454 ;
                                     01DB   455 ; OUTPUT PARAMETERS:
                                     01DB   456 ;
                                     01DB   457 ;	R0	COMPLETION CODE
                                     01DB   458 ;	R1	ADDRESS OF TEST ID STRING
                                     01DB   459 ;	R2-R11	DESTROYED
                                     01DB   460 ;
                                     01DB   461 ; IMPLICIT OUTPUTS:
                                     01DB   462 ;
                                     01DB   463 ;	NONE
                                     01DB   464 ;
                                     01DB   465 ; COMPLETION CODES:
                                     01DB   466 ;
                                     01DB   467 ;	R0	1 = SUCCESS; 0 = FAILURE
                                     01DB   468 ;
                                     01DB   469 ; SIDE EFFECTS:
                                     01DB   470 ;
                                     01DB   471 ;	NONE
                                     01DB   472 ;
                                     01DB   473 ;--
                                     01DB   474 
                                     01DB   475 TST$INTE_DTR::				; ENTRY POINT
            03            59     91  01DB   476 	CMPB	R9,#VAL_K_TYPE_ECHO	;
                          0C     1B  01DE   477 	BLEQU	10$			;
                          FF84   30  01E0   478 	BSBW	TST$CONN_REJECT		; ISSUE CONNECT REJECT
            50   01F58053 8F     D0  01E3   479 	MOVL	#DTS$_BADSUBFCN,R0			; GIVE REASON FOR FAILURE
                          10     11  01EA   480 	BRB	15$			;INTERRUPT FAILURE
            01         03 AA     91  01EC   481 10$:	CMPB	3(R10),#1		;
                          0D     13  01F0   482 	BEQL	20$			;
                          FF72   30  01F2   483 	BSBW	TST$CONN_REJECT		; ISSUE CONNECT REJECT
            50   01F58063 8F     D0  01F5   484 	MOVL	#DTS$_INVOPTION,R0			; GIVE REASON FOR FAILURE
                          008E   31  01FC   485 15$:	BRW	INTE_FAILURE		;
       0000'CF         03 AA     90  01FF   486 20$:	MOVB	3(R10),W^TST$GB_RQUEUE	; STORE FCVAL VALUE
                                 B0  0205   487 	MOVW	#MAX_K_SIZE_IN,-	; STORE INTERRUPT MESSAGE SIZE
       0000'CF            10         0206   488 		W^TST$GW_SIZE		; SINCE THE TEST REQUEST DOES NOT
                                     020A   489 					;  SPECIFY A SIZE, MAKE IT THE
TST$DTRTEST     - DTR TEST ROUTINES                              22-AUG-1978 01:08:30   VAX-11 MACRO X0.3-11               Page  12
X0.1-9          TST$INTE_DTR - INTERRUPT TEST                                                                                    (6)

                                     020A   490 					;  MAXIMUM SIZE
                                     020A   491 
                                     020A   492 ;
                                     020A   493 ; RESPOND TO CONNECT INITIATE WITH A CONNECT ACCEPT WITHOUT USERDATA.
                                     020A   494 ;
                                     020A   495 
                          FF55   30  020A   496 	BSBW	TST$CONN_ACCEPT		;
                                     020D   497 
                                     020D   498 ;
                                     020D   499 ; INTERRUPT TEST INITIALIZATION
                                     020D   500 ;
                                     020D   501 
                     0000'CF     7C  020D   502 	CLRQ	W^TST$GL_XMITDATA	; ZERO TRANSMIT AND RECEIVE
                                     0211   503 					;  MESSAGE COUNTERS
                     0000'CF     7C  0211   504 	CLRQ	W^TST$GL_XMITINTE	; ZERO TRANSMIT AND RECEIVE
       0000'CF            01     D0  0215   505 	MOVL	#1,W^TST$GL_STATUS	; SET AST STATUS CODE TO SUCCESS
                                     021A   506 					;  INTERRUPT MESSAGE COUNTERS
                     0000'CF     94  021A   507 	CLRB	W^TST$GB_ASTFLAGS	;NOTE TIMER RUNNING
   00000000'EF   00000000'EF     DE  021E   508 	MOVAL	TST$QB_QHEAD,TST$QB_QHEAD;INIT QUEUE HEAD
   00000004'EF   00000000'EF     DE  0229   509 	MOVAL	TST$QB_QHEAD,TST$QB_QHEAD+4
                                     0234   510 ;
                                     0234   511 ; PUT REPETITIONS OF THE STANDARD DATA PATTERN IN THE INTERRUPT MESSAGE BUFFER
                                     0234   512 ; BEGINNING AT BUFFER+4.
                                     0234   513 ;
                                     0234   514 
            53       0000'CF     9E  0234   515 	MOVAB	W^TST$GB_INTEBUF,R3	; GET ADDRESS OF MESSAGE
                          83     D4  0239   516 	CLRL	(R3)+			; INITIALIZE MESSAGE SEQUENCE NUMBER
            54       0000'CF     3C  023B   517 	MOVZWL	W^TST$GW_SIZE,R4	; GET MESSAGE SIZE
            54            04     B1  0240   518 	CMPW	#4,R4			;ANY DATA IN MSG?
                          06     18  0243   519 	BGEQ	30$			;NOPE DONT FILL BUFFER
            54            04     C2  0245   520 	SUBL2	#4,R4			; REDUCE SIZE ACCORDINGLY
                          FDB5'  30  0248   521 	BSBW	TST$STANDARD		; PUT STD DATA PATTERN IN BUFFER
                                     024B   522 
                                     024B   523 30$:
                                     024B   524 ;
                                     024B   525 ; RECEIVE [AND TRANSMIT] INTERRUPT MESSAGES UNTIL DTS DISCONNECTS THE LINK
                                     024B   526 ;
                                     024B   527 
            52            00     D0  024B   528 	MOVL	#EFN_K_READ_MAIL,R2	; GET FUNCTION/INDEX CODE
            54         00'8F     9A  024E   529 	MOVZBL	#TST$K_MAILBUF,R4	; GET MAILBOX BUFFER SIZE
            55       0000'CF     9E  0252   530 	MOVAB	W^TST$MAILAST_DTR,R5	; GET ADDRESS OF AST ROUTINE
                          FDA6'  30  0257   531 	BSBW	TST$QIOAST		; START UP READ MAILBOX STREAM
                                     025A   532 
                                     025A   533 ;
                                     025A   534 ; WAIT FOR LINK DISCONNECT
                                     025A   535 ;
                                     025A   536 
                          07     11  025A   537 	BRB	110$			;CHECK FOR ASTS
                                     025C   538 100$:
                                     025C   539 	$HIBER_S			;GO TO SLEEP TILL AN AST
                                     0263   540 110$:
            20       0000'CF     E8  0263   541 	BLBS	W^TST$GB_ASTFLAGS,120$	;JUMP IF TIMER EXPIRED
            50   00000000'FF     0F  0268   542 	REMQUE	@TST$QB_QHEAD,R0	;DEQUEUE AN AST
                          EB     1D  026F   543 	BVS	100$			;NOTHING THERE ,SLEEP
            52       0000'C0     D0  0271   544 	MOVL	TST$QB_CODE(R0),R2		;QIO FUNCTION/CODE
            54       0000'C0     D0  0276   545 	MOVL	TST$QB_BUFLEN(R0),R4		;SIZE FOR DATA MSG
            55       0000'C0     D0  027B   546 	MOVL	TST$QB_ASTADR(R0),R5	;AST ADDRESS FOR QIO
TST$DTRTEST     - DTR TEST ROUTINES                              22-AUG-1978 01:08:30   VAX-11 MACRO X0.3-11               Page  13
X0.1-9          TST$INTE_DTR - INTERRUPT TEST                                                                                    (6)

                          FD7D'  30  0280   547 	BSBW	TST$QIOAST		;DO QIO WITH AST
                                     0283   548 	CHECK_SS			;MAKE SERVICE OKAY
                          DB     11  0286   549 	BRB	110$			;DEQUEUE ANOTHER
                                     0288   550 120$:
                                     0288   551 
                                     0288   552 ;
                                     0288   553 ; INTERRUPT TEST IS FINISHED
                                     0288   554 ;
                                     0288   555 
            50       0000'CF     D0  0288   556 	MOVL	W^TST$GL_STATUS,R0	; POST STATUS
                                     028D   557 INTE_FAILURE:				; ENTER HERE IF TEST FAILED
            51       0000'CF     9E  028D   558 	MOVAB	W^TST$GT_INTE,R1	; RETURN ADDRESS OF TEST ID STRING
                                 05  0292   559 	RSB				; EXIT
TST$DTRTEST     - DTR TEST ROUTINES                              22-AUG-1978 01:08:30   VAX-11 MACRO X0.3-11               Page  14
X0.1-9          TST$MISC_DTR - MISCELLANEOUS TEST                                                                                (7)

                                     0293   561 	.SBTTL	TST$MISC_DTR - MISCELLANEOUS TEST
                                 00000293   562 	.PSECT	TST$CODE	NOWRT
                                     0293   563 
                                     0293   564 ;++
                                     0293   565 ; FUNCTIONAL DESCRIPTION:
                                     0293   566 ;
                                     0293   567 ;	NONE
                                     0293   568 ;
                                     0293   569 ; CALLING SEQUENCE:
                                     0293   570 ;
                                     0293   571 ;	BSB/JSB	TST$MISC_DTR
                                     0293   572 ;
                                     0293   573 ; INPUT PARAMETERS:
                                     0293   574 ;
                                     0293   575 ;	R9	TEST SUBFUNCTION VALUE
                                     0293   576 ;	R10	ADDRESS OF NCB USERDATA FIELD (COUNTED ASCII STRING)
                                     0293   577 ;	R11	ADDRESS OF NCB DESCRIPTOR BLOCK
                                     0293   578 ;
                                     0293   579 ; IMPLICIT INPUTS:
                                     0293   580 ;
                                     0293   581 ;	NONE
                                     0293   582 ;
                                     0293   583 ; OUTPUT PARAMETERS:
                                     0293   584 ;
                                     0293   585 ;	R0	COMPLETION CODE
                                     0293   586 ;	R1	ADDRESS OF TEST ID STRING
                                     0293   587 ;	R2-R11	DESTROYED
                                     0293   588 ;
                                     0293   589 ; IMPLICIT OUTPUTS:
                                     0293   590 ;
                                     0293   591 ;	NONE
                                     0293   592 ;
                                     0293   593 ; COMPLETION CODES:
                                     0293   594 ;
                                     0293   595 ;	R0	1 = SUCCESS; 0 = FAILURE
                                     0293   596 ;
                                     0293   597 ; SIDE EFFECTS:
                                     0293   598 ;
                                     0293   599 ;	NONE
                                     0293   600 ;
                                     0293   601 ;--
                                     0293   602 
                                     0293   603 TST$MISC_DTR::				; ENTRY POINT
                                     0293   604 MISC_SUCCESS:				; TEST WAS SUCCESSFUL
            50            01     D0  0293   605 	MOVL	#1,R0			; SET COMPLETION CODE TO SUCCESS
                                     0296   606 MISC_FAILURE:				; ENTER HERE IF TEST FAILED
            51       0000'CF     9E  0296   607 	MOVAB	W^TST$GT_MISC,R1	; RETURN ADDRESS OF TEST ID STRING
                                 05  029B   608 	RSB				; EXIT
TST$DTRTEST     - DTR TEST ROUTINES                              22-AUG-1978 01:08:30   VAX-11 MACRO X0.3-11               Page  15
X0.1-9          TST$BAD_DTR - INVALID TEST TYPE                                                                                  (8)

                                     029C   610 	.SBTTL	TST$BAD_DTR - INVALID TEST TYPE
                                 0000029C   611 	.PSECT	TST$CODE	NOWRT
                                     029C   612 
                                     029C   613 ;++
                                     029C   614 ; FUNCTIONAL DESCRIPTION:
                                     029C   615 ;
                                     029C   616 ;	NONE
                                     029C   617 ;
                                     029C   618 ; CALLING SEQUENCE:
                                     029C   619 ;
                                     029C   620 ;	BSB/JSB	TST$BAD_DTR
                                     029C   621 ;
                                     029C   622 ; INPUT PARAMETERS:
                                     029C   623 ;
                                     029C   624 ;	R9	TEST SUBFUNCTION VALUE
                                     029C   625 ;	R10	ADDRESS OF NCB USERDATA FIELD (COUNTED ASCII STRING)
                                     029C   626 ;	R11	ADDRESS OF NCB DESCRIPTOR BLOCK
                                     029C   627 ;
                                     029C   628 ; IMPLICIT INPUTS:
                                     029C   629 ;
                                     029C   630 ;	NONE
                                     029C   631 ;
                                     029C   632 ; OUTPUT PARAMETERS:
                                     029C   633 ;
                                     029C   634 ;	R0	COMPLETION CODE
                                     029C   635 ;	R1	ADDRESS OF TEST ID STRING
                                     029C   636 ;	R2-R11	DESTROYED
                                     029C   637 ;
                                     029C   638 ; IMPLICIT OUTPUTS:
                                     029C   639 ;
                                     029C   640 ;	NONE
                                     029C   641 ;
                                     029C   642 ; COMPLETION CODES:
                                     029C   643 ;
                                     029C   644 ;	R0	8 = FAILURE
                                     029C   645 ;
                                     029C   646 ; SIDE EFFECTS:
                                     029C   647 ;
                                     029C   648 ;	NONE
                                     029C   649 ;
                                     029C   650 ;--
                                     029C   651 
                                     029C   652 TST$BAD_DTR::				; ENTRY POINT
                          FEC8   30  029C   653 	BSBW	TST$CONN_REJECT		; ISSUE CONNECT REJECT
            50   01F5805B 8F     D0  029F   654 	MOVL	#DTS$_BADFUNC,R0			; GIVE REASON FOR FAILURE
            51       0000'CF     9E  02A6   655 	MOVAB	W^TST$GT_ERROR,R1	; RETURN ADDRESS OF TEST ID STRING
                                 05  02AB   656 	RSB				; EXIT
                                     02AC   657 	.END
TST$DTRTEST     - DTR TEST ROUTINES                              22-AUG-1978 01:08:30   VAX-11 MACRO X0.3-11               Page  16
SYMBOL TABLE                                                                                                                     (8)

$$COUNT        = 00000003            MAX_K_BACK     = 00000080            TST$DISC_DTR     00000179 RG    03   
ACCEPT_REJECT    0000016A R     03   MAX_K_DISPLAY  = 00000026            TST$GB_ASTFLAGS  ********   X   03   
BIT...         = 0000003B            MAX_K_NAK      = 00000080            TST$GB_BACK      ********   X   03   
CONN_FAILURE     0000003F R     03   MAX_K_RQUEUE_DA= 00000008            TST$GB_FLOW      ********   X   03   
CONN_SUCCESS     0000003C R     03   MAX_K_RQUEUE_IN= 00000008            TST$GB_INTEBUF   ********   X   03   
DATA_FAILURE     0000015C R     03   MAX_K_SIZE_DA  = 00001000            TST$GB_NAK       ********   X   03   
DFT_K_BACK     = 00000000            MAX_K_SIZE_IN  = 00000010            TST$GB_RQUEUE    ********   X   03   
DFT_K_DISPLAY  = 00000000            MAX_K_SPEED    = 000F4240            TST$GB_XMITBUF   ********   X   03   
DFT_K_FLOW     = 00000002            MAX_K_SQUEUE_DA= 00000008            TST$GL_STATUS    ********   X   03   
DFT_K_NAK      = 00000000            MAX_K_SQUEUE_IN= 00000008            TST$GL_XMITDATA  ********   X   03   
DFT_K_PRINT    = 00000000            MAX_K_TIME_DA  = 00057E40            TST$GL_XMITINTE  ********   X   03   
DFT_K_RETURN_CO= 00000000            MAX_K_TIME_IN  = 00057E40            TST$GQ_DEACCESS  ********   X   03   
DFT_K_RETURN_DI= 00000000            MISC_FAILURE     00000296 R     03   TST$GT_CONN      ********   X   03   
DFT_K_RQUEUE_DA= 00000001            MISC_SUCCESS     00000293 R     03   TST$GT_DATA      ********   X   03   
DFT_K_RQUEUE_IN= 00000001            MSG$_ABOOPR    = 00000011            TST$GT_DISC      ********   X   03   
DFT_K_SIZE_DA  = 00000080            MSG$_ABORT     = 00000030            TST$GT_ERROR     ********   X   03   
DFT_K_SIZE_IN  = 00000010            MSG$_ACCRSP    = 00000021            TST$GT_INTE      ********   X   03   
DFT_K_SPEED    = 000F4240            MSG$_CONFIRM   = 00000031            TST$GT_MISC      ********   X   03   
DFT_K_SQUEUE_DA= 00000001            MSG$_CONNECT   = 00000032            TST$GT_STANDARD  ********   X   03   
DFT_K_SQUEUE_IN= 00000001            MSG$_CRUNSOLIC = 00000002            TST$GW_SIZE      ********   X   03   
DFT_K_STAT     = 00000001            MSG$_DELPROC   = 00000003            TST$INTE_DTR     000001DB RG    03   
DFT_K_TIME_DA  = 0000001E            MSG$_DELSMB    = 00000014            TST$K_MAILBUF    ********   X   03   
DFT_K_TIME_IN  = 0000001E            MSG$_DEVOFFLIN = 00000005            TST$MAILAST_DTR  ********   X   03   
DFT_K_TYPE_CO  = 00000001            MSG$_DEVONLIN  = 00000007            TST$MISC_DTR     00000293 RG    03   
DFT_K_TYPE_DA  = 00000000            MSG$_DISCON    = 00000033            TST$QB_ASTADR    ********   X   03   
DFT_K_TYPE_DI  = 00000001            MSG$_EXIT      = 00000034            TST$QB_BUFLEN    ********   X   03   
DFT_K_TYPE_IN  = 00000000            MSG$_INIOPR    = 00000010            TST$QB_CODE      ********   X   03   
DFT_K_TYPE_MI  = 00000000            MSG$_INTMSG    = 00000035            TST$QB_QHEAD     ********   X   03   
DISC_FAILURE     000001D5 R     03   MSG$_OPREPLY   = 00000009            TST$QIOAST       ********   X   03   
DISC_SUCCESS     000001D2 R     03   MSG$_OPRQST    = 00000008            TST$QIOW         ********   X   03   
DTS$_BADDATDAT = 01F58033            MSG$_PATHLOST  = 00000036            TST$RECVAST_DTR  ********   X   03   
DTS$_BADDATLEN = 01F58023            MSG$_PROTOCOL  = 00000037            TST$STANDARD     ********   X   03   
DTS$_BADFUNC   = 01F5805B            MSG$_REJECT    = 00000038            VAL_K_BACK_NO  = 00000000            
DTS$_BADMAIL   = 01F5803B            MSG$_RESOPR    = 00000013            VAL_K_DISP_NO  = 00000000            
DTS$_BADPAT    = 01F58043            MSG$_SCANBAD   = 00000028            VAL_K_FLOW_MESS= 00000002            
DTS$_BADSEQNUM = 01F5804B            MSG$_SCANRSP   = 00000029            VAL_K_FLOW_NO  = 00000000            
DTS$_BADSUBFCN = 01F58053            MSG$_SMBDON    = 00000009            VAL_K_FLOW_SEGM= 00000001            
DTS$_BADUSRDAT = 01F58013            MSG$_SMBINI    = 00000008            VAL_K_NAK_NO   = 00000000            
DTS$_BADUSRLEN = 01F5800B            MSG$_SMBRSP    = 00000020            VAL_K_PRIN_NO  = 00000000            
DTS$_CINBAD    = 01F58003            MSG$_SNDACC    = 0000000A            VAL_K_PRIN_YES = 00000080            
DTS$_CINREJ    = 01F5801B            MSG$_SNDSMB    = 00000004            VAL_K_RETU_NO  = 00000000            
DTS$_DISBAD    = 01F5802B            MSG$_SUSOPR    = 00000012            VAL_K_RETU_RECE= 00000004            
DTS$_INVOPTION = 01F58063            MSG$_THIRDPARTY= 00000039            VAL_K_RETU_STAN= 00000002            
EFN_K_CONN_ACCE= 00000001            MSG$_TIMEOUT   = 0000003A            VAL_K_STAT_NO  = 00000000            
EFN_K_CONN_INIT= 00000001            MSG$_TRMHANGUP = 00000006            VAL_K_STAT_YES = 00000001            
EFN_K_CONN_REJE= 00000002            MSG$_TRMUNSOLIC= 00000001            VAL_K_TEST_CONN= 00000000            
EFN_K_DISC_ABRT= 00000004            MSG$_XM_ATTN   = 0000000D            VAL_K_TEST_DATA= 00000001            
EFN_K_DISC_SYNC= 00000003            MSG$_XM_DATAVL = 0000000B            VAL_K_TEST_DISC= 00000002            
EFN_K_READ_MAIL= 00000000            MSG$_XM_SHUTDN = 0000000C            VAL_K_TEST_INTE= 00000003            
EFN_K_RECV_DATA= 00000007            RT               00000000 RG    03   VAL_K_TEST_MISC= 00000004            
EFN_K_SIGNAL   = 00000009            SYS$HIBER        ********   X   03   VAL_K_TYPE_ABRT= 00000001            
EFN_K_TIMER    = 00000008            TST$BAD_DTR      0000029C RG    03   VAL_K_TYPE_ACCE= 00000001            
EFN_K_XMIT_DATA= 00000005            TST$CHECK_SS     ********   X   03   VAL_K_TYPE_ECHO= 00000003            
EFN_K_XMIT_INTE= 00000006            TST$CONN_ACCEPT  00000162 RG    03   VAL_K_TYPE_NAME= 00000000            
GBL...         = 00000000            TST$CONN_DTR     00000000 RG    03   VAL_K_TYPE_PATT= 00000002            
INTE_FAILURE     0000028D R     03   TST$CONN_REJECT  00000167 RG    03   VAL_K_TYPE_REJE= 00000000            
K_LIST_MEB     = 00000000            TST$DATA_DTR     00000045 RG    03   VAL_K_TYPE_SEQU= 00000001            
TST$DTRTEST     - DTR TEST ROUTINES                              22-AUG-1978 01:08:30   VAX-11 MACRO X0.3-11               Page  17
SYMBOL TABLE                                                                                                                     (8)

VAL_K_TYPE_SINK= 00000000            
VAL_K_TYPE_SYNC= 00000000            


PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
$ABS$            00000000      02     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
TST$CODE         000002AC      03     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD  NOWRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
20602. BYTES LEFT IN FREE MEMORY POOL.
12. BYTES OF RECLAIMED MEMORY.
OBJ$:DTRTEST,LIS$:DTRTEST/-SP=SRC$:DTPREFIX,DTRTEST
19 MLB DIR RDS - 242 GETS TO DEFINE 14 MACROS. 21 INTER. FILE WRITES. 

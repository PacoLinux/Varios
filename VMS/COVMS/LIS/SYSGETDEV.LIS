SYSGETDEV       - SYSTEM SERVICES TO GET DEVICE INFORMATION      21-AUG-1978 23:41:00   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (1)      92  GET CHANNEL INFORMATION
   (1)     145  GET DEVICE INFORMATION
SYSGETDEV       - SYSTEM SERVICES TO GET DEVICE INFORMATION      21-AUG-1978 23:41:00   VAX-11 MACRO X0.3-11               Page   1
01                                                                                                                               (1)

                                     0000     1 	.TITLE	SYSGETDEV - SYSTEM SERVICES TO GET DEVICE INFORMATION
                                     0000     2 	.IDENT	/01/
                                     0000     3  
                                     0000     4 ;
                                     0000     5 ; COPYRIGHT (C) 1977
                                     0000     6 ; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
                                     0000     7 ;
                                     0000     8 ; THIS SOFTWARE IS FURNISHED UNDER  A LICENSE FOR USE ONLY  ON  A
                                     0000     9 ; SINGLE COMPUTER SYSTEM AND MAY BE  COPIED ONLY WITH  THE INCLU-
                                     0000    10 ; SION OF  THE  ABOVE  COPYRIGHT NOTICE.  THIS SOFTWARE,  OR  ANY
                                     0000    11 ; OTHER COPIES THEREOF, MAY NOT BE  PROVIDED  OR  OTHERWISE  MADE
                                     0000    12 ; AVAILABLE TO ANY OTHER PERSON EXCEPT  FOR  USE  ON  SUCH SYSTEM
                                     0000    13 ; AND TO  ONE WHO AGREES  TO  THESE LICENSE  TERMS.  TITLE TO AND
                                     0000    14 ; OWNERSHIP OF THE SOFTWARE SHALL AT ALL TIMES REMAIN IN DEC.
                                     0000    15 ;
                                     0000    16 ; THE INFORMATION IN THIS SOFTWARE  IS  SUBJECT TO CHANGE WITHOUT
                                     0000    17 ; NOTICE AND SHOULD NOT BE CONSTRUED  AS  A COMMITMENT BY DIGITAL
                                     0000    18 ; EQUIPMENT CORPORATION.
                                     0000    19 ;
                                     0000    20 ; DEC ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY OF ITS
                                     0000    21 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
                                     0000    22 ;
                                     0000    23 ; D. N. CUTLER 21-OCT-77
                                     0000    24 ;
                                     0000    25 ; SYSTEM SERVICES TO GET DEVICE INFORMATION
                                     0000    26 ;
                                     0000    27 ; MACRO LIBRARY CALLS
                                     0000    28 ;
                                     0000    29  
                                     0000    30 	$CCBDEF				;DEFINE CCB OFFSETS
                                     0000    31 	$DDBDEF				;DEFINE DDB OFFSETS
                                     0000    32 	$DIBDEF				;DEFINE DIB OFFSETS
                                     0000    33 	$SSDEF				;DEFINE SYSTEM STATUS VALUES
                                     0000    34 	$UCBDEF				;DEFINE UCB OFFSETS
                                     0000    35 	$VCBDEF				;DEFINE VCB OFFSETS
                                     0000    36  
                                     0000    37 ;
                                     0000    38 ; LOCAL MACROS
                                     0000    39 ;
                                     0000    40 ; GENERATE DEVICE INFORMATION CONTROL TABLE
                                     0000    41 ;
                                     0000    42  
                                     0000    43 	.MACRO	GENTAB OFFSET,LENGTH
                                     0000    44 	.WORD	UCB$'OFFSET
                                     0000    45 	.BYTE	LENGTH
                                     0000    46 	.ENDM	GENTAB
                                     0000    47  
                                     0000    48 ;
                                     0000    49 ; LOCAL SYMBOLS
                                     0000    50 ;
                                     0000    51 ; GET CHANNEL INFORMATION ARGUMENT LIST OFFSET DEFINITIONS
                                     0000    52 ;
                                     0000    53  
                           00000004  0000    54 CHAN=4					;I/O CHANNEL NUMBER
                           00000008  0000    55 PRILEN=8				;ADDRESS TO STORE LENGTH OF PRIMARY STRING
                           0000000C  0000    56 PRIBUF=12				;ADDRESS OF PRIMARY BUFFER DESCRIPTOR
                           00000010  0000    57 SCDLEN=16				;ADDRESS TO STORE LENGTH OF SECONDARY STRING
SYSGETDEV       - SYSTEM SERVICES TO GET DEVICE INFORMATION      21-AUG-1978 23:41:00   VAX-11 MACRO X0.3-11               Page   2
01                                                                                                                               (1)

                           00000014  0000    58 SCDBUF=20				;ADDRESS OF SECONDARY BUFFER DESCRIPTOR
                                     0000    59  
                                     0000    60 ;
                                     0000    61 ; GET DEVICE INFORMATION ARGUMENT LIST OFFSET INFORMATION
                                     0000    62 ;
                                     0000    63  
                           00000004  0000    64 DEVNAM=4				;ADDRESS OF DEVICE NAME DESCRIPTOR
                           00000008  0000    65 PRILEN=8				;ADDRESS TO STORE LENGTH OF PRIMARY STRING
                           0000000C  0000    66 PRIBUF=12				;ADDRESS OF PRIMARY BUFFER DESCRIPTOR
                           00000010  0000    67 SCDLEN=16				;ADDRESS TO STORE LENGTH OF SECONDARY STRING
                           00000014  0000    68 SCDBUF=20				;ADDRESS OF SECONDARY BUFFER DESCRIPTOR
                                     0000    69  
                                     0000    70 ;
                                     0000    71 ; LOCAL DATA
                                     0000    72 ;
                                     0000    73 ; DEVICE INFORMATION CONTROL TABLE
                                     0000    74 ;
                                     0000    75  
                                 00000000    76 	.PSECT	Y$EXEPAGED
                                     0000    77 DEVTAB:					;
                                     0000    78 	GENTAB	L_DEVCHAR,4		;DEVICE CHARACTERISTICS
                                     0003    79 	GENTAB	B_DEVCLASS,1		;DEVICE CLASS
                                     0006    80 	GENTAB	B_DEVTYPE,1		;DEVICE TYPE
                                     0009    81 	GENTAB	W_DEVBUFSIZ,2		;DEVICE BUFFER SIZE
                                     000C    82 	GENTAB	L_DEVDEPEND,4		;DEVICE DEPENDENT INFORMATION
                                     000F    83 	GENTAB	W_UNIT,2		;DEVICE UNIT NUMBER
                               0000  0012    84 	.WORD	0			;TABLE ESCAPE
                                     0014    85 	GENTAB	L_PID,4			;DEVICE OWNER PROCESS IDENTIFICATION
                                     0017    86 	GENTAB	L_OWNUIC,4		;DEVICE OWNER USER IDENTIFICATION CODE
                                     001A    87 	GENTAB	W_VPROT,2		;DEVICE PROCTECTION MASK
                                     001D    88 	GENTAB	W_ERRCNT,2		;DEVICE ERROR COUNT
                                     0020    89 	GENTAB	L_OPCNT,4		;DEVICE OPERATIONS COMPLETE COUNT
                               0000  0023    90 	.WORD	0			;END OF TABLE
SYSGETDEV       - SYSTEM SERVICES TO GET DEVICE INFORMATION      21-AUG-1978 23:41:00   VAX-11 MACRO X0.3-11               Page   3
01              GET CHANNEL INFORMATION                                                                                          (1)

                                     0025    92 	.SBTTL	GET CHANNEL INFORMATION
                                     0025    93 ;+
                                     0025    94 ; EXE$GETCHN - GET CHANNEL INFORMATION
                                     0025    95 ;
                                     0025    96 ; THIS SERVICE PROVIDES THE CAPABILITY TO RETRIEVE INFORMATION ABOUT A
                                     0025    97 ; DEVICE THAT IS ASSIGNED TO A CHANNEL AND ITS ASSOCIATED DEVICE IF ANY.
                                     0025    98 ;
                                     0025    99 ; INPUTS:
                                     0025   100 ;
                                     0025   101 ;	CHAN(AP) = I/O CHANNEL NUMBER.
                                     0025   102 ;	PRILEN(AP) = ADDRESS TO STORE LENGTH OF PRIMARY DEVICE INFORMATION.
                                     0025   103 ;	PRIBUF(AP) = ADDRESS OF PRIMARY BUFFER DESCRIPTOR.
                                     0025   104 ;	SCDLEN(AP) = ADDRESS TO STORE LENGTH OF SECONDARY DEVICE INFORMATION.
                                     0025   105 ;	SCDBUF(AP) = ADDRESS OF SECONDARY BUFFER DESCRIPTOR.
                                     0025   106 ;
                                     0025   107 ;	R4 = CURRENT PROCESS PCB ADDRESS.
                                     0025   108 ;
                                     0025   109 ; OUTPUTS:
                                     0025   110 ;
                                     0025   111 ;	R0 LOW BIT CLEAR INDICATES FAILURE TO RETRIEVE DEVICE INFORMATION.
                                     0025   112 ;
                                     0025   113 ;		R0 = SS$_ACCVIO - PRIMARY OR SECONDARY BUFFER DESCRIPTOR
                                     0025   114 ;			CANNOT BE READ BY CALLING ACCESS MODE, OR PRIMARY
                                     0025   115 ;			BUFFER, PRIMARY BUFFER LENGTH, SECONDARY BUFFER, OR
                                     0025   116 ;			SECONDARY BUFFER LENGTH CANNOT BE WRITTEN BY CALLING
                                     0025   117 ;			ACCESS MODE.
                                     0025   118 ;
                                     0025   119 ;		R0 = SS$_IVCHAN - INVALID CHANNEL NUMBER SPECIFIED.
                                     0025   120 ;
                                     0025   121 ;		R0 = SS$_NOPRIV - SPECIFIED CHANNEL IS NOT ASSIGNED TO A
                                     0025   122 ;			DEVICE OR THE CALLING ACCESS MODE DOES NOT HAVE
                                     0025   123 ;			PRIVILEGE TO ACCESS THE CHANNEL.
                                     0025   124 ;
                                     0025   125 ;	R0 LOW BIT SET INDICATES SUCCESSFUL COMPLETION.
                                     0025   126 ;
                                     0025   127 ;		R0 = SS$_BUFFEROVF - NORMAL COMPLETION, ALL CHARACTERISTIC
                                     0025   128 ;			INFORMATION DID NOT FIT IN SPECIFIED BUFFER(S).
                                     0025   129 ;
                                     0025   130 ;		R0 = SS$_NORMAL - NORMAL COMPLETION, ALL CHARACTERISTIC
                                     0025   131 ;			INFORMATION TRANSFERED.
                                     0025   132 ;-
                                     0025   133  
                                     0025   134 	.ENABL	LSB
                               03FC' 0025   135 	.ENTRY	EXE$GETCHN,^M<R2,R3,R4,R5,R6,R7,R8,R9>
            50         04 AC     3C  0027   136 	MOVZWL	CHAN(AP),R0		;GET CHANNEL NUMBER
                          FFD2'  30  002B   137 	BSBW	IOC$VERIFYCHAN		;VERIFY CHANNEL NUMBER
            0E            50     E9  002E   138 	BLBC	R0,20$			;IF LBC INVALID CHANNEL
            55            61     D0  0031   139 	MOVL	CCB$L_UCB(R1),R5	;GET ADDRESS OF DEVICE UCB
                 00000000'EF     16  0034   140 	JSB	SCH$IOLOCKR		;LOCK I/O DATABASE FOR READ ACCESS
                          26     11  003A   141 	BRB	30$			;
            50            0C     3C  003C   142 10$:	MOVZWL	#SS$_ACCVIO,R0		;SET ACCESS VIOLATION STATUS
                                 04  003F   143 20$:	RET				;
SYSGETDEV       - SYSTEM SERVICES TO GET DEVICE INFORMATION      21-AUG-1978 23:41:00   VAX-11 MACRO X0.3-11               Page   4
01              GET DEVICE INFORMATION                                                                                           (1)

                                     0040   145 	.SBTTL	GET DEVICE INFORMATION
                                     0040   146 ;+
                                     0040   147 ; EXE$GETDEV - GET DEVICE INFORMATION
                                     0040   148 ;
                                     0040   149 ; THIS SERVICE PROVIDES THE CAPABILITY TO RETRIEVE INFORMATION ABOUT A
                                     0040   150 ; DEVICE AND ITS ASSOCIATED DEVICE IF ANY.
                                     0040   151 ;
                                     0040   152 ; INPUTS:
                                     0040   153 ;
                                     0040   154 ;	DEVNAM(AP) = ADDRESS OF DEVICE NAME DESCRIPTOR.
                                     0040   155 ;	PRILEN(AP) = ADDRESS TO STORE LENGTH OF PRIMARY DEVICE INFORMATION.
                                     0040   156 ;	PRIBUF(AP) = ADDRESS OF PRIMARY BUFFER DESCRIPTOR.
                                     0040   157 ;	SCDLEN(AP) = ADDRESS TO STORE LENGTH OF SECONDARY DEVICE INFORMATION.
                                     0040   158 ;	SCDBUF(AP) = ADDRESS OF SECONDARY BUFFER DESCRIPTOR.
                                     0040   159 ;
                                     0040   160 ;	R4 = CURRENT PROCESS PCB ADDRESS.
                                     0040   161 ;
                                     0040   162 ; OUTPUTS:
                                     0040   163 ;
                                     0040   164 ;	R0 LOW BIT CLEAR INDICATES FAILURE TO RETRIEVE DEVICE INFORMATION.
                                     0040   165 ;
                                     0040   166 ;		R0 = SS$_ACCVIO - DEVICE NAME STRING, DEVICE NAME STRING
                                     0040   167 ;			DESCRIPTOR, PRIMARY BUFFER DESCRIPTOR, OR SECONDARY
                                     0040   168 ;			BUFFER DESCRIPTOR CANNOT BE READ BY CALLING ACCESS
                                     0040   169 ;			MODE, OR PRIMARY BUFFER, PRIMARY BUFFER LENGTH,
                                     0040   170 ;			SECONDARY BUFFER, OR SECONDARY BUFFER LENGTH CANNOT
                                     0040   171 ;			BE WRITTEN BY CALLING ACCESS MODE.
                                     0040   172 ;
                                     0040   173 ;		R0 = SS$_IVDEVNAM - DEVICE NAME STRING CONTAINS INVALID
                                     0040   174 ;			CHARACTERS, OR NO DEVICE DEVICE NAME STRING DESCRIPTOR
                                     0040   175 ;			SPECIFIED.
                                     0040   176 ;
                                     0040   177 ;		R0 = SS$_IVLOGNAM - ZERO OR GREATER THAN MAXIMUM LENGTH DEVICE
                                     0040   178 ;			NAME STRING SPECIFIED.
                                     0040   179 ;
                                     0040   180 ;		R0 = SS$_NONLOCAL - DEVICE EXISTS ON A REMOTE SYSTEM.
                                     0040   181 ;
                                     0040   182 ;		R0 = SS$_NOSUCHDEV - SPECIFIED DEVICE DOES NOT EXIST ON HOST
                                     0040   183 ;			SYSTEM.
                                     0040   184 ;
                                     0040   185 ;	R0 LOW BIT SET INDICATES SUCCESSFUL COMPLETION.
                                     0040   186 ;
                                     0040   187 ;		R0 = SS$_BUFFEROVF - NORMAL COMPLETION, ALL CHARACTERISTIC
                                     0040   188 ;			INFORMATION DID NOT FIT IN SPECIFIED BUFFER(S).
                                     0040   189 ;
                                     0040   190 ;		R0 = SS$_NORMAL - NORMAL COMPLETION, ALL CHARACTERISTIC
                                     0040   191 ;			INFORMATION TRANSFERED.
                                     0040   192 ;-
                                     0040   193  
                               03FC' 0040   194 	.ENTRY	EXE$GETDEV,^M<R2,R3,R4,R5,R6,R7,R8,R9>
            50       0144 8F     3C  0042   195 	MOVZWL	#SS$_IVDEVNAM,R0	;SET INVALID DEVICE NAME STATUS
            51         04 AC     D0  0047   196 	MOVL	DEVNAM(AP),R1		;GET ADDRESS OF DEVICE NAME DESCRIPTOR
                          F2     13  004B   197 	BEQL	20$			;IF EQL NONE SPECIFIED
                                     004D   198 	IFNORD	#8,(R1),10$		;CAN DEVICE NAME DESCRIPTOR BE READ?
                 00000000'EF     16  0053   199 	JSB	SCH$IOLOCKR		;LOCK I/O DATABASE FOR READ ACCESS
                          FFA4'  30  0059   200 	BSBW	IOC$SEARCHDEV		;SEARCH FOR DEVICE
            2F            50     E9  005C   201 	BLBC	R0,70$			;IF LBC SEARCH FAILURE
SYSGETDEV       - SYSTEM SERVICES TO GET DEVICE INFORMATION      21-AUG-1978 23:41:00   VAX-11 MACRO X0.3-11               Page   5
01              GET DEVICE INFORMATION                                                                                           (1)

            55            51     D0  005F   202 	MOVL	R1,R5			;SAVE ADDRESS OF DEVICE UCB
            54            55     D0  0062   203 30$:	MOVL	R5,R4			;ASSUME ASSOCIATED UCB NOT SPOOL DEVICE
         34 A5            00'    E1  0065   204 	BBC	S^#DEV$V_SPL,UCB$L_DEVCHAR(R5),40$ ;IF CLR, THEN DEVICE NOT SPOOLED
                          04         0069       
            54         54 A5     D0  006A   205 	MOVL	UCB$L_AMB(R5),R4	;GET INTERMEDIATE DEVICE UCB ADDRESS
            56            01     3C  006E   206 40$:	MOVZWL	#SS$_NORMAL,R6		;ASSUME ALL INFO CAN BE RETURNED
            57         08 AC     7D  0071   207 	MOVQ	PRILEN(AP),R7		;GET PRIMARY BUFFER PARAMETERS
                          1A     10  0075   208 	BSBB	FILBUF			;FILL PRIMARY BUFFER
            54         54 A5     D0  0077   209 	MOVL	UCB$L_AMB(R5),R4	;ANY ASSOCIATED UCB?
                          05     13  007B   210 	BEQL	50$			;IF EQL NO
         34 A5            00'    E1  007D   211 	BBC	S^#DEV$V_SPL,UCB$L_DEVCHAR(R5),60$ ;IF CLR, THEN DEVICE NOT SPOOLED
                          03         0081       
            54            55     D0  0082   212 50$:	MOVL	R5,R4			;SET SECONDARY DEVICE UCB ADDRESS
            57         10 AC     7D  0085   213 60$:	MOVQ	SCDLEN(AP),R7		;GET SECONDARY BUFFER PARAMETERS
                          06     10  0089   214 	BSBB	FILBUF			;FILL SECONDARY BUFFER
            50            56     D0  008B   215 	MOVL	R6,R0			;SET FINAL REQUEST STATUS
                          FF6F'  31  008E   216 70$:	BRW	IOC$UNLOCK		;UNLOCK I/O DATABASE AND RETURN STATUS
                                     0091   217 	.DSABL	LSB
                                     0091   218  
                                     0091   219 ;
                                     0091   220 ; SUBROUTINE TO FILL CHARACTERISTIC BUFFER
                                     0091   221 ;
                                     0091   222  
            59       FF6B CF     9E  0091   223 FILBUF:	MOVAB	DEVTAB,R9		;GET ADDRESS OF DEVICE CONTROL TABLE
                          58     D5  0096   224 	TSTL	R8			;ANY BUFFER SPECIFIED?
                          64     13  0098   225 	BEQL	30$			;IF EQL NO
                                     009A   226 	IFNORD	#8,(R8),ACCVIO		;CAN OUTPUT BUFFER DESCRIPTOR BE READ?
            52            68     3C  00A0   227 	MOVZWL	(R8),R2			;GET SIZE OF OUTPUT BUFFER
                          60     13  00A3   228 	BEQL	BUFOVF			;IF EQL NULL
            53         04 A8     D0  00A5   229 	MOVL	4(R8),R3		;GET ADDRESS OF OUTPUT BUFFER
                                     00A9   230 	IFNOWRT	R2,(R3),ACCVIO		;CAN ENTIRE BUFFER BE WRITTEN?
                          5B     10  00AF   231 	BSBB	MOVINFO			;MOVE DEVICE INFORMATION TO BUFFER
                          22     DD  00B1   232 	PUSHL	#DIB$K_LENGTH		;SET OFFSET TO DEVICE NAME
            51            6E     9E  00B3   233 	MOVAB	(SP),R1			;GET ADDRESS OF DEVICE NAME OFFSET
            50            02     D0  00B6   234 	MOVL	#2,R0			;SET BYTE COUNT
                          62     10  00B9   235 	BSBB	MOVITEM			;MOVE ADDRESS OF DEVICE NAME TO BUFFER
                          4F     10  00BB   236 	BSBB	MOVINFO			;MOVE DEVICE INFORMATION TO BUFFER
            59         24 A4     D0  00BD   237 	MOVL	UCB$L_DDB(R4),R9	;GET ADDRESS OF DDB
            50         14 A9     9A  00C1   238 	MOVZBL	DDB$T_NAME(R9),R0	;GET LENGTH OF DEVICE NAME
                          50     D6  00C5   239 	INCL	R0			;ACCOUNT FOR BYTE COUNT
            6E            50     C0  00C7   240 	ADDL	R0,(SP)			;CALCULATE OFFSET TO VOLUME LABEL
         34 A4            00'    E1  00CA   241 	BBC	S^#DEV$V_MNT,UCB$L_DEVCHAR(R4),10$ ;IF CLR, DEVICE NOT MOUNTED
                          00         00CE       
                          6E     D4  00CF   242 10$:	CLRL	(SP)			;CLEAR OFFSET TO VOLUME LABEL
            51            6E     9E  00D1   243 20$:	MOVAB	(SP),R1			;GET ADDRESS OF VOLUME LABEL ADDRESS
            50            02     D0  00D4   244 	MOVL	#2,R0			;SET BYTE COUNT
                          44     10  00D7   245 	BSBB	MOVITEM			;MOVE OFFSET TO VOLUME LABEL TO BUFFER
            51         14 A9     9E  00D9   246 	MOVAB	DDB$T_NAME(R9),R1	;GET ADDRESS OF DEVICE NAME
            50            61     9A  00DD   247 	MOVZBL	(R1),R0			;GET LENGTH OF DEVICE NAME
                          50     D6  00E0   248 	INCL	R0			;ACCOUNT FOR COUNT BYTE
                          39     10  00E2   249 	BSBB	MOVITEM			;MOVE DEVICE NAME TO BUFFER
                          8E     D5  00E4   250 	TSTL	(SP)+			;ANY VOLUME LABEL TO MOVE?
                          16     13  00E6   251 	BEQL	30$			;IF EQL NO
                          52     D5  00E8   252 	TSTL	R2			;ANY MORE ROOM IN BUFFER?
                          19     13  00EA   253 	BEQL	BUFOVF			;IF EQL NO
                          52     D7  00EC   254 	DECL	R2			;REDUCE REMAINING SPACE IN BUFFER
            83            0C     90  00EE   255 	MOVB	#12,(R3)+		;INSERT LENGTH OF VOLUME LABEL
SYSGETDEV       - SYSTEM SERVICES TO GET DEVICE INFORMATION      21-AUG-1978 23:41:00   VAX-11 MACRO X0.3-11               Page   6
01              GET DEVICE INFORMATION                                                                                           (1)

            51         30 A4     D0  00F1   256 	MOVL	UCB$L_VCB(R4),R1	;GET ADDRESS OF VCB
            51         14 A1     9E  00F5   257 	MOVAB	VCB$T_VOLNAME(R1),R1	;GET ADDRESS OF VOLUME LABEL
            50            0C     D0  00F9   258 	MOVL	#12,R0			;SET BYTE COUNT
                          1F     10  00FC   259 	BSBB	MOVITEM			;MOVE VOLUME LABEL TO BUFFER
                                 05  00FE   260 30$:	RSB				;
                                     00FF   261  
                                     00FF   262 ;
                                     00FF   263 ; INFORMATION BUFFER DESCRIPTOR CANNOT BE READ OR INFORMATION BUFFER OR
                                     00FF   264 ; INFORMATION BUFFER LENGTH CANNOT BE WRITTEN.
                                     00FF   265 ;
                                     00FF   266  
            50            0C     3C  00FF   267 ACCVIO:	MOVZWL	#SS$_ACCVIO,R0		;SET ACCESS VIOLATION
                          FEFB'  31  0102   268 	BRW	IOC$UNLOCK		;UNLOCK I/O DATABASE AND RETURN STATUS
                                     0105   269  
                                     0105   270 ;
                                     0105   271 ; INFORMATION BUFFER OVERFLOW
                                     0105   272 ;
                                     0105   273  
            56       0601 8F     3C  0105   274 BUFOVF:	MOVZWL	#SS$_BUFFEROVF,R6	;SET BUFFER OVERFLOW STATUS
                          1D     11  010A   275 	BRB	STORLEN			;STORE LENGTH OF INFORMATION
                                     010C   276  
                                     010C   277 ;
                                     010C   278 ; MOVE DEVICE INFORMATION TO BUFFER
                                     010C   279 ;
                                     010C   280  
                                     010C   281 MOVINFO:				;
            51            89     3C  010C   282 	MOVZWL	(R9)+,R1		;GET OFFSET TO FIRST UCB ITEM
            51            54     C0  010F   283 10$:	ADDL	R4,R1			;CALCULATE ADDRESS OF UCB ITEM
            50            89     9A  0112   284 	MOVZBL	(R9)+,R0		;GET LENGTH OF UCB ITEM
                          06     10  0115   285 	BSBB	MOVITEM			;MOVE ITEM TO INFORMATION BUFFER
            51            89     3C  0117   286 	MOVZWL	(R9)+,R1		;GET OFFSET TO NEXT UCB ITEM
                          F3     12  011A   287 	BNEQ	10$			;IF NEQ MORE TO GO
                                 05  011C   288 	RSB				;
                                     011D   289  
                                     011D   290 ;
                                     011D   291 ; MOVE ITEM TO INFORMATION BUFFER
                                     011D   292 ;
                                     011D   293  
                                     011D   294 MOVITEM:				;MOVE ITEM TO INFORMATION BUFFER
                          52     D5  011D   295 	TSTL	R2			;ANY SPACE LEFT IN BUFFER?
                          E4     13  011F   296 	BEQL	BUFOVF			;IF EQL NO
                          52     D7  0121   297 	DECL	R2			;REDUCE REMAINING BUFFER SPACE
            83            81     90  0123   298 	MOVB	(R1)+,(R3)+		;MOVE BYTE TO BUFFER
            F4            50     F5  0126   299 	SOBGTR	R0,MOVITEM		;ANY MORE BYTES TO MOVE?
                                     0129   300 STORLEN:				;STORE BUFFER LENGTH
                          57     D5  0129   301 	TSTL	R7			;ADDRESS SPECIFIED TO STORE RESULT LENGTH?
                          0A     13  012B   302 	BEQL	10$			;IF EQL NO
                                     012D   303 	IFNOWRT	#2,(R7),ACCVIO		;CAN LENGTH BE WRITTEN?
            68            52     A3  0133   304 	SUBW3	R2,(R8),(R7)		;CALCULATE LENGTH OF RESULT STRING
                          67         0136       
                                 05  0137   305 10$:	RSB				;
                                     0138   306  
                                     0138   307 	.END
SYSGETDEV       - SYSTEM SERVICES TO GET DEVICE INFORMATION      21-AUG-1978 23:41:00   VAX-11 MACRO X0.3-11               Page   7
SYMBOL TABLE                                                                                                                     (1)

ACCVIO           000000FF R     03   SS$_ACCVIO     = 0000000C            SS$_FCPWRITERR = 000008A0            
BIT...         = 00000009            SS$_ARITH      = 00000404            SS$_FILACCERR  = 0000009C            
BUFOVF           00000105 R     03   SS$_ASTFLT     = 0000040C            SS$_FILALRACC  = 000000A4            
CCB$B_AMOD       00000009            SS$_BADATTRIB  = 00000034            SS$_FILELOCKED = 000008A8            
CCB$B_STS        00000008            SS$_BADCHKSUM  = 00000808            SS$_FILENUMCHK = 000008B0            
CCB$C_LENGTH     00000010            SS$_BADESCAPE  = 0000003C            SS$_FILESEQCHK = 000008B8            
CCB$K_LENGTH     00000010            SS$_BADFILEHDR = 00000810            SS$_FILESTRUCT = 000008C0            
CCB$L_DIRP       0000000C            SS$_BADFILENAME= 00000818            SS$_FILNOTACC  = 000000AC            
CCB$L_UCB        00000000            SS$_BADFILEVER = 00000820            SS$_FILNOTCNTG = 000002AC            
CCB$L_WIND       00000004            SS$_BADIMGHDR  = 00000044            SS$_FILNOTEXP  = 000000B4            
CCB$W_IOC        0000000A            SS$_BADIRECTORY= 00000828            SS$_FORMAT     = 000000BC            
CHAN           = 00000004            SS$_BADPARAM   = 00000014            SS$_GPTFULL    = 000000C4            
DDB$B_ACPCLASS   00000013            SS$_BADSTACK   = 000002B4            SS$_GSDFULL    = 000000CC            
DDB$B_TYPE       0000000A            SS$_BEGOFFILE  = 00000938            SS$_GSDNOTXXX  = 000000D4            
DDB$C_LENGTH     00000014            SS$_BLOCKCNTERR= 00000940            SS$_HANGUP     = 000002CC            
DDB$K_LENGTH     00000014            SS$_BREAK      = 00000414            SS$_HEADERFULL = 000008C8            
DDB$L_ACPD       00000010            SS$_BUFFEROVF  = 00000601            SS$_IDXFILEFULL= 000008D0            
DDB$L_DDT        0000000C            SS$_BUGCHECK   = 000002A4            SS$_ILLBLKNUM  = 000000DC            
DDB$L_LINK       00000000            SS$_CANCEL     = 00000830            SS$_ILLCNTRFUNC= 000000E4            
DDB$L_UCB        00000004            SS$_CHANINTLK  = 0000004C            SS$_ILLEFC     = 000000EC            
DDB$T_NAME       00000014            SS$_CLIFRCEXT  = 00000980            SS$_ILLIOFUNC  = 000000F4            
DDB$W_SIZE       00000008            SS$_CMODSUPR   = 0000041C            SS$_ILLLBLAST  = 00000968            
DEV$V_MNT        ********   X   03   SS$_CMODUSER   = 00000424            SS$_ILLPAGCNT  = 000000FC            
DEV$V_SPL        ********   X   03   SS$_COMPAT     = 0000042C            SS$_ILLSEQOP   = 000002DC            
DEVNAM         = 00000004            SS$_CONTINUE   = 00000001            SS$_ILLSER     = 00000104            
DEVTAB           00000000 R     03   SS$_CONTROLC   = 00000651            SS$_ILLUSRLBLRD= 00000958            
DIB$B_DEVCLASS   00000004            SS$_CONTROLO   = 00000609            SS$_ILLUSRLBLWT= 00000960            
DIB$B_DEVTYPE    00000005            SS$_CONTROLY   = 00000611            SS$_INCVOLLABEL= 0000010C            
DIB$C_LENGTH     00000022            SS$_CREATED    = 00000619            SS$_INSFARG    = 00000114            
DIB$K_LENGTH     00000022            SS$_CTRLERR    = 00000054            SS$_INSFMEM    = 00000124            
DIB$L_DEVCHAR    00000000            SS$_DATACHECK  = 0000005C            SS$_INSFRAME   = 0000012C            
DIB$L_DEVDEPEND  00000008            SS$_DATAOVERUN = 00000838            SS$_INSFWSL    = 0000011C            
DIB$L_OPCNT      0000001C            SS$_DEBUG      = 0000046C            SS$_IVADDR     = 00000134            
DIB$L_OWNUIC     00000014            SS$_DEVACTIVE  = 000002C4            SS$_IVCHAN     = 0000013C            
DIB$L_PID        00000010            SS$_DEVALLOC   = 00000840            SS$_IVCHNLSEC  = 0000026C            
DIB$W_DEVBUFSIZ  00000006            SS$_DEVALRALLOC= 00000641            SS$_IVDEVNAM   = 00000144            
DIB$W_DEVNAMOFF  0000000E            SS$_DEVASSIGN  = 00000848            SS$_IVGSDNAM   = 0000014C            
DIB$W_ERRCNT     0000001A            SS$_DEVFOREIGN = 00000064            SS$_IVLOGNAM   = 00000154            
DIB$W_UNIT       0000000C            SS$_DEVICEFULL = 00000850            SS$_IVLOGTAB   = 0000015C            
DIB$W_VOLNAMOFF  00000020            SS$_DEVMOUNT   = 0000006C            SS$_IVPROTECT  = 000002F4            
DIB$W_VPROT      00000018            SS$_DEVNOTALLOC= 00000858            SS$_IVQUOTAL   = 00000164            
EXE$GETCHN       00000025 RG    03   SS$_DEVNOTMBX  = 00000074            SS$_IVSECFLG   = 0000016C            
EXE$GETDEV       00000040 RG    03   SS$_DEVNOTMOUNT= 0000007C            SS$_IVSECIDCTL = 000002E4            
FILBUF           00000091 R     03   SS$_DEVOFFLINE = 00000084            SS$_IVSSRQ     = 00000174            
GBL...         = 00000000            SS$_DIRFULL    = 00000860            SS$_IVSTSFLG   = 0000017C            
IOC$SEARCHDEV    ********   X   03   SS$_DRVERR     = 0000008C            SS$_IVTIME     = 00000184            
IOC$UNLOCK       ********   X   03   SS$_DUPFILENAME= 00000868            SS$_LENVIO     = 0000018C            
IOC$VERIFYCHAN   ********   X   03   SS$_DUPLNAM    = 00000094            SS$_LKWSETFUL  = 00000194            
MOVINFO          0000010C R     03   SS$_ENDOFFILE  = 00000870            SS$_MBFULL     = 000008D8            
MOVITEM          0000011D R     03   SS$_ENDOFTAPE  = 00000878            SS$_MBTOOSML   = 0000019C            
PRIBUF         = 0000000C            SS$_ENDOFUSRLBL= 00000970            SS$_MCHECK     = 000002BC            
PRILEN         = 00000008            SS$_EXQUOTA    = 0000001C            SS$_MEDOFL     = 000001A4            
SCDBUF         = 00000014            SS$_EXTIDXFILE = 00000880            SS$_MSGNOTFND  = 00000621            
SCDLEN         = 00000010            SS$_FCPREADERR = 00000888            SS$_MUSTCLOSEFL= 00000948            
SCH$IOLOCKR      ********   X   03   SS$_FCPREPSTN  = 00000988            SS$_NODATA     = 000001AC            
SS$_ABORT      = 0000002C            SS$_FCPREWNDERR= 00000890            SS$_NOHANDLER  = 000008F8            
SS$_ACCONFLICT = 00000800            SS$_FCPSPACERR = 00000898            SS$_NOHOMEBLK  = 000008E0            
SYSGETDEV       - SYSTEM SERVICES TO GET DEVICE INFORMATION      21-AUG-1978 23:41:00   VAX-11 MACRO X0.3-11               Page   8
SYMBOL TABLE                                                                                                                     (1)

SS$_NOIOCHAN   = 000001B4            SS$_WRITLCK    = 0000025C            UCB$L_NT_DATSSB  00000074            
SS$_NOLINKS    = 0000027C            STORLEN          00000129 R     03   UCB$L_NT_INTSSB  00000078            
SS$_NOLOGNAM   = 000001BC            UCB$B_AMOD       00000053            UCB$L_OPCNT      00000060            
SS$_NOMBX      = 00000274            UCB$B_CEX        00000077            UCB$L_OWNUIC     0000001C            
SS$_NOMOREFILES= 00000930            UCB$B_CM1        0000004A            UCB$L_PID        00000028            
SS$_NONEXDRV   = 000001C4            UCB$B_CM2        0000004B            UCB$L_RQBL       00000004            
SS$_NONEXPR    = 000008E8            UCB$B_DEVCLASS   00000038            UCB$L_RQFL       00000000            
SS$_NONLOCAL   = 000008F0            UCB$B_DEVTYPE    00000039            UCB$L_SVAPTE     00000068            
SS$_NOPRIV     = 00000024            UCB$B_DIPL       00000052            UCB$L_SVPN       00000064            
SS$_NORMAL     = 00000001            UCB$B_DX_SCTCNT  FFFFFFFE            UCB$L_TTCHAR     0000003C            
SS$_NOSIGNAL   = 00000900            UCB$B_DX_SPARE   FFFFFFFF            UCB$L_VCB        00000030            
SS$_NOSOLICIT  = 00000284            UCB$B_ERTCNT     00000070            UCB$M_BSY      = 00000100            
SS$_NOSUCHDEV  = 00000908            UCB$B_ERTMAX     00000071            UCB$M_CANCEL   = 00000008            
SS$_NOSUCHFILE = 00000910            UCB$B_ESCAPE     0000004B            UCB$M_DEADMO   = 00000400            
SS$_NOSUCHNODE = 0000028C            UCB$B_FEX        00000076            UCB$M_DELMBX   = 00000002            
SS$_NOSUCHSEC  = 00000978            UCB$B_FIPL       0000000B            UCB$M_DIAGBUF  = 00000002            
SS$_NOTAPEOP   = 00000264            UCB$B_LOCSRV     0000003C            UCB$M_DX_WRITE = 00000008            
SS$_NOTFILEDEV = 000001CC            UCB$B_OFFNDX     00000090            UCB$M_ECC      = 00000001            
SS$_NOTINTBLSZ = 000001D4            UCB$B_OFFRTC     00000091            UCB$M_ERLOGIP  = 00000004            
SS$_NOTLABELMT = 000001DC            UCB$B_REMSRV     0000003D            UCB$M_INT      = 00000002            
SS$_NOTNETDEV  = 000002EC            UCB$B_SECTORS    0000003C            UCB$M_INTTYPE  = 00000080            
SS$_NOTRAN     = 00000629            UCB$B_SLAVE      00000074            UCB$M_JOB      = 00000001            
SS$_NOTSQDEV   = 000001E4            UCB$B_SPR        00000075            UCB$M_MOUNTING = 00000200            
SS$_OPCCUS     = 00000434            UCB$B_STATE      00000052            UCB$M_NOCNVRT  = 00000004            
SS$_OPCDEC     = 0000043C            UCB$B_TRACKS     0000003D            UCB$M_NT_BFROVF= 00000004            
SS$_OPINCOMPL  = 000002D4            UCB$B_TYPE       0000000A            UCB$M_NT_BREAK = 00000020            
SS$_PAGOWNVIO  = 000001EC            UCB$B_VERTSZ     0000003F            UCB$M_NT_NAME  = 00000010            
SS$_PAGRDERR   = 00000444            UCB$C_LENGTH     00000074            UCB$M_NT_NONTR = 00000040            
SS$_PARITY     = 000001F4            UCB$C_LOGLNK   = 00000001            UCB$M_NT_SDP   = 00000008            
SS$_PARTESCAPE = 000001FC            UCB$K_LENGTH     00000074            UCB$M_ONLINE   = 00000010            
SS$_PFMBSY     = 00000204            UCB$L_AMB        00000054            UCB$M_POWER    = 00000020            
SS$_PSTFULL    = 0000020C            UCB$L_ASTQBL     00000010            UCB$M_PRMMBX   = 00000001            
SS$_RADRMOD    = 0000044C            UCB$L_ASTQFL     0000000C            UCB$M_TIM      = 00000001            
SS$_REJECT     = 00000294            UCB$L_CPID       0000005C            UCB$M_TIMOUT   = 00000040            
SS$_REMOTE     = 00000649            UCB$L_CRB        00000020            UCB$M_TT_NOTIF = 00000004            
SS$_RESIGNAL   = 00000918            UCB$L_DDB        00000024            UCB$M_TT_TIMO  = 00000002            
SS$_RESULTOVF  = 00000214            UCB$L_DEVCHAR    00000034            UCB$M_VALID    = 00000800            
SS$_ROPRAND    = 00000454            UCB$L_DEVDEPEND  0000003C            UCB$S_LNKPRI   = 00000002            
SS$_SECTBLFUL  = 0000021C            UCB$L_DPC        0000007C            UCB$S_LTYPE    = 00000002            
SS$_SSFAIL     = 0000045C            UCB$L_DUETIM     0000005C            UCB$T_PARTNER    0000000C            
SS$_SUPERSEDE  = 00000631            UCB$L_DX_BFPNT   FFFFFFF4            UCB$V_BACKP    = 00000005            
SS$_TAPEPOSLOST= 00000224            UCB$L_DX_BUF     FFFFFFF0            UCB$V_BSY      = 00000008            
SS$_TBIT       = 00000464            UCB$L_DX_RXDB    FFFFFFF8            UCB$V_CANCEL   = 00000003            
SS$_TIMEOUT    = 0000022C            UCB$L_EMB        00000078            UCB$V_DEADMO   = 0000000A            
SS$_TOOMANYVER = 00000990            UCB$L_FIRST      00000014            UCB$V_DELMBX   = 00000001            
SS$_TOOMUCHDATA= 0000029C            UCB$L_FPC        0000000C            UCB$V_DIAGBUF  = 00000001            
SS$_UNASEFC    = 00000234            UCB$L_FQBL       00000004            UCB$V_DX_WRITE = 00000003            
SS$_UNSAFE     = 0000023C            UCB$L_FQFL       00000000            UCB$V_ECC      = 00000000            
SS$_UNWIND     = 00000920            UCB$L_FR3        00000010            UCB$V_ERLOGIP  = 00000002            
SS$_UNWINDING  = 00000928            UCB$L_FR4        00000014            UCB$V_INT      = 00000001            
SS$_VASFULL    = 00000244            UCB$L_IOQBL      00000044            UCB$V_INTTYPE  = 00000007            
SS$_VECINUSE   = 0000024C            UCB$L_IOQFL      00000040            UCB$V_JOB      = 00000000            
SS$_VOLINV     = 00000254            UCB$L_IRP        0000004C            UCB$V_LNKPRI   = 00000006            
SS$_WAITUSRLBL = 00000950            UCB$L_LINK       0000002C            UCB$V_LTYPE    = 00000000            
SS$_WASCLR     = 00000001            UCB$L_LOGADR     00000064            UCB$V_MOUNTING = 00000009            
SS$_WASECC     = 00000639            UCB$L_MAXBLOCK   00000080            UCB$V_MSGACK   = 00000004            
SS$_WASSET     = 00000009            UCB$L_MEDIA      00000088            UCB$V_MSGFLO   = 00000003            
SYSGETDEV       - SYSTEM SERVICES TO GET DEVICE INFORMATION      21-AUG-1978 23:41:00   VAX-11 MACRO X0.3-11               Page   9
SYMBOL TABLE                                                                                                                     (1)

UCB$V_NOCNVRT  = 00000002            VCB$C_MRKLEN     0000000B            VCB$W_RVN        0000000E            
UCB$V_NT_BFROVF= 00000002            VCB$K_COMLEN     00000024            VCB$W_SIZE       00000008            
UCB$V_NT_BREAK = 00000005            VCB$K_LENGTH     00000050            VCB$W_START_NUM  00000028            
UCB$V_NT_NAME  = 00000004            VCB$K_MRKLEN     0000000B            VCB$W_START_SEQ  0000002A            
UCB$V_NT_NONTR = 00000006            VCB$L_AQB        00000010            VCB$W_TRANS      0000000C            
UCB$V_NT_SDP   = 00000003            VCB$L_BLOCKBL    00000004            
UCB$V_ONLINE   = 00000004            VCB$L_BLOCKFL    00000000            
UCB$V_POWER    = 00000005            VCB$L_CUR_FID    00000024            
UCB$V_PRMMBX   = 00000000            VCB$L_FCBBL      00000004            
UCB$V_SEGFLO   = 00000002            VCB$L_FCBFL      00000000            
UCB$V_TIM      = 00000000            VCB$L_FREE       00000040            
UCB$V_TIMOUT   = 00000006            VCB$L_HOME2LBN   00000028            
UCB$V_TT_NOTIF = 00000002            VCB$L_HOMELBN    00000024            
UCB$V_TT_TIMO  = 00000001            VCB$L_IBMAPLBN   00000030            
UCB$V_VALID    = 0000000B            VCB$L_IXHDR2LBN  0000002C            
UCB$W_BCNT       0000006E            VCB$L_MAXFILES   00000044            
UCB$W_BCR        00000092            VCB$L_MVL        00000034            
UCB$W_BOFF       0000006C            VCB$L_RVT        00000020            
UCB$W_BUFQUO     00000018            VCB$L_SBMAPLBN   00000034            
UCB$W_BYTESTOGO  0000003E            VCB$L_START_FID  00000028            
UCB$W_CHARGE     0000004A            VCB$L_ST_RECORD  00000030            
UCB$W_CYLINDERS  0000003E            VCB$L_USRLBLAST  00000044            
UCB$W_DA         00000088            VCB$L_VPBL       00000040            
UCB$W_DC         0000008A            VCB$L_VPFL       0000003C            
UCB$W_DEVBUFSIZ  0000003A            VCB$L_WCB        00000038            
UCB$W_DEVSTS     0000005A            VCB$M_CANCELIO = 00000020            
UCB$W_DSTADDR    00000018            VCB$M_MUSTCLOSE= 00000040            
UCB$W_DX_BCR     FFFFFFFC            VCB$M_WAIMOUVOL= 00000004            
UCB$W_EC1        0000008C            VCB$M_WAIREWIND= 00000008            
UCB$W_EC2        0000008E            VCB$M_WAIUSRLBL= 00000010            
UCB$W_ERRCNT     00000072            VCB$T_VOLNAME    00000014            
UCB$W_FUNC       00000084            VCB$V_CANCELIO = 00000005            
UCB$W_MB_SEED    FFFFFFFC            VCB$V_EBCDIC   = 00000005            
UCB$W_MSGCNT     00000016            VCB$V_EXTFID   = 00000005            
UCB$W_MSGMAX     00000014            VCB$V_GROUP    = 00000006            
UCB$W_NT_CHAN    0000007C            VCB$V_INTCHG   = 00000004            
UCB$W_OFFSET     00000086            VCB$V_LOGICEOVS= 00000001            
UCB$W_REFC       00000050            VCB$V_MUSTCLOSE= 00000006            
UCB$W_SIZE       00000008            VCB$V_OVRACC   = 00000001            
UCB$W_SRCADDR    0000001A            VCB$V_OVREXP   = 00000000            
UCB$W_STS        00000058            VCB$V_OVRLBL   = 00000002            
UCB$W_UNIT       00000048            VCB$V_OVRSETID = 00000003            
UCB$W_VPROT      0000001A            VCB$V_PARTFILE = 00000000            
VCB$B_CUR_RVN    0000002F            VCB$V_STARFILE = 00000008            
VCB$B_EOFDELTA   0000004E            VCB$V_SYSTEM   = 00000007            
VCB$B_IBMAPSIZE  00000038            VCB$V_WAIMOUVOL= 00000002            
VCB$B_IBMAPVBN   0000003A            VCB$V_WAIREWIND= 00000003            
VCB$B_LRU_LIM    00000049            VCB$V_WAIUSRLBL= 00000004            
VCB$B_RESFILES   0000004F            VCB$V_WRITE_IF = 00000000            
VCB$B_SBMAPSIZE  00000039            VCB$V_WRITE_SM = 00000001            
VCB$B_SBMAPVBN   0000003B            VCB$W_CLUSTER    0000003C            
VCB$B_STATUS     0000000B            VCB$W_CUR_NUM    00000024            
VCB$B_TM         0000002E            VCB$W_CUR_SEQ    00000026            
VCB$B_TYPE       0000000A            VCB$W_EXTEND     0000003E            
VCB$B_WINDOW     00000048            VCB$W_FILEPROT   0000004A            
VCB$C_COMLEN     00000024            VCB$W_MCOUNT     0000004C            
VCB$C_LENGTH     00000050            VCB$W_MODE       0000002C            
SYSGETDEV       - SYSTEM SERVICES TO GET DEVICE INFORMATION      21-AUG-1978 23:41:00   VAX-11 MACRO X0.3-11               Page  10
PROGRAM SECTION SYNOPSIS                                                                                                         (1)



PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
$ABS$            FFFFFFFF      02     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
Y$EXEPAGED       00000138      03     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
12078. BYTES LEFT IN FREE MEMORY POOL.
3870. BYTES OF RECLAIMED MEMORY.
OBJ$:SYSGETDEV,LIS$:SYSGETDEV/-SP=LIB$:LIB/ML,SRC$:SYSGETDEV
7 MLB DIR RDS - 745 GETS TO DEFINE 17 MACROS. 51 INTER. FILE WRITES. 

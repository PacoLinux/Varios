RSXLPDRV        - VAX/VMS RSX11M AME LINE PRINTER DRIVER         22-AUG-1978 00:24:35   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (2)     128  RSX$LP_DRV - RSX11M AME LINE PRINTER DRIVER
   (3)     182  LP_WLB AND LP_WVB FUNCTIONS
RSXLPDRV        - VAX/VMS RSX11M AME LINE PRINTER DRIVER         22-AUG-1978 00:24:35   VAX-11 MACRO X0.3-11               Page   1
V05.0                                                                                                                            (1)

                                     0000     1 	.TITLE	RSXLPDRV - VAX/VMS RSX11M AME LINE PRINTER DRIVER
                                     0000     2 	.IDENT	/V05.0/		;
                                     0000     3 
                                     0000     4 ;
                                     0000     5 ; COPYRIGHT (C) 1977
                                     0000     6 ; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS 01754
                                     0000     7 ;
                                     0000     8 ; THIS SOFTWARE IS FURNISHED  UNDER A LICENSE FOR USE ONLY ON A SINGLE
                                     0000     9 ; COMPUTER  SYSTEM AND  MAY BE  COPIED ONLY WITH  THE INCLUSION OF THE
                                     0000    10 ; ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE, OR ANY OTHER COPIES THEREOF,
                                     0000    11 ; MAY NOT BE PROVIDED OR  OTHERWISE MADE AVAILABLE TO ANY OTHER PERSON
                                     0000    12 ; EXCEPT FOR USE ON SUCH SYSTEM AND TO ONE WHO AGREES TO THESE LICENSE
                                     0000    13 ; TERMS.  TITLE TO AND  OWNERSHIP OF THE  SOFTWARE  SHALL AT ALL TIMES
                                     0000    14 ; REMAIN IN DEC.
                                     0000    15 ;
                                     0000    16 ; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE WITHOUT NOTICE
                                     0000    17 ; AND SHOULD  NOT BE CONSTRUED  AS A COMMITMENT  BY DIGITAL  EQUIPMENT
                                     0000    18 ; CORPORATION.
                                     0000    19 ;
                                     0000    20 ; DEC ASSUMES  NO  RESPONSIBILITY  FOR  THE USE OR  RELIABILITY OF ITS
                                     0000    21 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
                                     0000    22 
                                     0000    23 ;++
                                     0000    24 ; FACILITY:
                                     0000    25 ;
                                     0000    26 ;	VAX/VMS RSX11M AME
                                     0000    27 ;
                                     0000    28 ; ABSTRACT:
                                     0000    29 ;
                                     0000    30 ;	LINE PRINTER DRIVER
                                     0000    31 ;
                                     0000    32 ; AUTHOR: R.HEINEN 4-NOV-76
                                     0000    33 ;--
                                     0000    34 ;
                                     0000    35 ; EXTERNAL SYMBOLS
                                     0000    36 ;
                                     0000    37 	$RSXDEF			; DEFINE RSX SYMBOLS
RSXLPDRV        - VAX/VMS RSX11M AME LINE PRINTER DRIVER         22-AUG-1978 00:24:35   VAX-11 MACRO X0.3-11               Page   2
V05.0           RSX$LP_DRV - RSX11M AME LINE PRINTER DRIVER                                                                      (2)

                                     0000    39 	.SBTTL	RSX$LP_DRV - RSX11M AME LINE PRINTER DRIVER
                                     0000    40  
                                 00000000    41 	.PSECT	RSXCODE,NOWRT
                                     0000    42 ;++
                                     0000    43 ; RSX$LP_DRV - RSX11M AME LINE PRINTER DRIVER
                                     0000    44 ;
                                     0000    45 ; FUNCTIONAL DESCRIPTION:
                                     0000    46 ;
                                     0000    47 ; THIS ROUTINE PROCESSES I/O DIRECTED TO A LINE PRINTER
                                     0000    48 ;
                                     0000    49 ; INPUTS:
                                     0000    50 ;
                                     0000    51 ;	R2 = ADDRESS OF THE QIO CONTEXT BLOCK
                                     0000    52 ;	R3 = MAJOR FUNCTION CODE
                                     0000    53 ;	R5 = ADDRESS OF THE DPB AREA
                                     0000    54 ;	R6 = ADDRESS OF THE IMAGE STACK
                                     0000    55 ;	R8 = ADDRESS OF THE LUT
                                     0000    56 ;	R10 = ADDRESS OF THE IMAGE IMPURE SECTION
                                     0000    57 ;	R11 = ADDRESS OF THE IMAGE
                                     0000    58 ;
                                     0000    59 ; OUTPUTS:
                                     0000    60 ;
                                     0000    61 ;	R2,R6,R8,R10,R11 ARE PRESERVED
                                     0000    62 ;--
                                     0000    63 RSX$LP_DRV::				; LINE PRINTER DRIVER
                                     0000    64 	CASE	R3,<-			;
                                     0000    65 		RSX$IOKILL,-		; I/O KILL
                                     0000    66 		LP_WLB,-		; WRITE LOGICAL BLOCK
                                     0000    67 		RSX$IEIFC,-		; READ LOGICAL BLOCK
                                     0000    68 		RSX$DLVRQIOAST,-	; ATTACH DEVICE
                                     0000    69 		RSX$DLVRQIOAST,-	; DETACH DEVICE
                                     0000    70 		RSX$IEIFC,-		; FUNCTION CODE 5
                                     0000    71 		RSX$IEIFC,-		; FUNCTION CODE 6
                                     0000    72 		RSX$IEIFC,-		; ILLEGAL
                                     0000    73 		RSX$IEIFC,-		; ILLEGAL
                                     0000    74 		RSX$DLVRQIOAST,-	; FUNCTION CODE 9
                                     0000    75 		RSX$IEIFC,-		; ILLEGAL
                                     0000    76 		RSX$DLVRQIOAST,-	; ACP FUNCTIONS
                                     0000    77 		RSX$DLVRQIOAST,-	; ACP FUNCTIONS
                                     0000    78 		RSX$DLVRQIOAST,-	; ACP FUNCTIONS
                                     0000    79 		RSX$DLVRQIOAST,-	; ACP FUNCTIONS
                                     0000    80 		RSX$DLVRQIOAST,-	; ACP FUNCTIONS
                                     0000    81 		RSX$DLVRQIOAST,-	; ACP FUNCTIONS
                                     0000    82 		RSX$IEIFC,-		; READ VIRTUAL
                                     0000    83 		LP_WLB,-		; WRITE VIRTUAL BLOCK
                                     0000    84 		RSX$DLVRQIOAST,-	; ACP FUNCTIONS
                                     0000    85 		RSX$DLVRQIOAST,-	; ACP FUNCTIONS
                                     0000    86 		RSX$DLVRQIOAST,-	; ACP FUNCTIONS
                                     0000    87 		RSX$DLVRQIOAST,-	; ACP FUNCTIONS
                                     0000    88 		RSX$DLVRQIOAST,-	; ACP FUNCTIONS
                                     0000    89 		RSX$DLVRQIOAST,-	; ACP FUNCTIONS
                                     0000    90 		>
                          FFC7'  31  0036    91 	BRW	RSX$IEIFC		; ERROR EXIT
RSXLPDRV        - VAX/VMS RSX11M AME LINE PRINTER DRIVER         22-AUG-1978 00:24:35   VAX-11 MACRO X0.3-11               Page   3
V05.0           LP_WLB AND LP_WVB FUNCTIONS                                                                                      (3)

                                     0039    93 	.SBTTL	LP_WLB AND LP_WVB FUNCTIONS
                                     0039    94 ;
                                     0039    95 ; WRITE VIRTUAL BLOCK
                                     0039    96 ;
                                     0039    97 LP_WVB:					; WRITE VIRTUAL BLOCK
         0C AA       0000'8F     3C  0039    98 	MOVZWL	#IO$_WRITEVBLK,I_SCRATCH+12(R10); SET FUNCTION CODE
                          FFBE'  31  003F    99 	BRW	RSX$ISSUQIO		; PERFORM THE I/O
                                     0042   100 ;
                                     0042   101 ; WRITE LOGICAL BLOCK
                                     0042   102 ;
                                     0042   103 LP_WLB:					; WRITE LOGICAL BLOCK
         0C AA       0000'8F     3C  0042   104 	MOVZWL	#IO$_WRITELBLK,I_SCRATCH+12(R10); SET THE FUNCTION CODE
                          FFB5'  31  0048   105 	BRW	RSX$ISSUQIO		; PERFORM THE FUNCTION
                                     004B   106 	.END
RSXLPDRV        - VAX/VMS RSX11M AME LINE PRINTER DRIVER         22-AUG-1978 00:24:35   VAX-11 MACRO X0.3-11               Page   4
SYMBOL TABLE                                                                                                                     (3)

$$MSG          = 00000000            H.LUN            0000003E            IE.ISQ         = FFFFFFC3            
...GBL         = 00000000            H.NLUN           0000003C            IE.LCK         = FFFFFFE5            
ACBC_CTLRCAST  = 00000002            H.NML            00000031            IE.MOD         = FFFFFFEB            
ACBC_FLOATAST  = 00000003            H.ODVA           00000012            IE.NBF         = FFFFFFD9            
ACBC_PWRAST    = 00000000            H.ODVL           00000014            IE.NBK         = FFFFFFD7            
ACBC_RCVAST    = 00000001            H.OVLY           0000002C            IE.NDR         = FFFFFFB8            
ACBV_INPROG    = 00000001            H.PFVA           0000001A            IE.NFI         = FFFFFFC4            
ACBV_PERM      = 00000000            H.RCVA           0000001E            IE.NFW         = FFFFFFBB            
ACBV_TYPE      = 00000008            H.RRVA           00000032            IE.NLK         = FFFFFFB1            
ACB_FLAGS        0000000C            H.SPRI           00000030            IE.NLN         = FFFFFFDB            
ACB_LINK         00000000            H.TKVA           00000016            IE.NNC         = FFFFFFB3            
ACB_UPC          0000000A            H.TKVL           00000018            IE.NNL         = FFFFFFB2            
ACB_UPRM         00000008            H.VEXT           0000002E            IE.NNN         = FFFFFFBC            
ADR_HIGHLIM      00000004            H.WND            00000024            IE.NOD         = FFFFFFE9            
ADR_LOWLIM       00000000            IE.2DV         = FFFFFFD0            IE.NSF         = FFFFFFE6            
ADR_SIZE         00000008            IE.ABO         = FFFFFFF1            IE.NST         = FFFFFFB0            
AP_NAME          00000004            IE.ALC         = FFFFFFAC            IE.OFL         = FFFFFFBF            
AST_PARAM        00000004            IE.ALN         = FFFFFFDE            IE.ONP         = FFFFFFFB            
AST_PC           00000010            IE.AST         = FFFFFFB0            IE.OVR         = FFFFFFEE            
AST_PSL          00000014            IE.BAD         = FFFFFFFF            IE.PES         = FFFFFFAD            
AST_R0           00000008            IE.BBE         = FFFFFFC8            IE.PRI         = FFFFFFF0            
AST_R1           0000000C            IE.BCC         = FFFFFFBE            IE.RAC         = FFFFFFD4            
BIT...         = 00068084            IE.BDI         = FFFFFFCC            IE.RAT         = FFFFFFD3            
C$$ORE         = 00000000            IE.BDR         = FFFFFFCE            IE.RBG         = FFFFFFD8            
C_CANONPS      = 83C00000            IE.BDV         = FFFFFFC9            IE.RCN         = FFFFFFD2            
C_RCVDSTR      = 44564352            IE.BHD         = FFFFFFC0            IE.RER         = FFFFFFE0            
FCB_ATTRIBS      0000007C            IE.BLB         = FFFFFFBA            IE.RNM         = FFFFFFCD            
FCB_FIB          0000004C            IE.BLK         = FFFFFFEC            IE.RSU         = FFFFFFEF            
FCB_FID          00000000            IE.BNM         = FFFFFFCA            IE.SNC         = FFFFFFDD            
FCB_FNAME        00000014            IE.BTF         = FFFFFFB4            IE.SPC         = FFFFFFFA            
FCB_FNAMEDESC    0000000C            IE.BTP         = FFFFFFD5            IE.SQC         = FFFFFFDC            
FCB_FNB          00000002            IE.BVR         = FFFFFFC1            IE.SRE         = FFFFFFF2            
FCB_PC           00000078            IE.BYT         = FFFFFFED            IE.STK         = FFFFFFC6            
FCB_RESULT       00000030            IE.CKS         = FFFFFFE2            IE.TMM         = FFFFFFB9            
FCB_RESULTDESC   00000004            IE.CLO         = FFFFFFDA            IE.TMO         = FFFFFFB6            
FCB_SIZE         000000B4            IE.CNR         = FFFFFFB7            IE.ULK         = FFFFFFAB            
FP_AP            00000008            IE.CON         = FFFFFFEA            IE.VER         = FFFFFFFC            
FP_FP            0000000C            IE.DAA         = FFFFFFF8            IE.WAC         = FFFFFFE3            
FP_PC            00000010            IE.DAO         = FFFFFFF3            IE.WAT         = FFFFFFE1            
FP_PSL           00000004            IE.DFU         = FFFFFFE8            IE.WCK         = FFFFFFAA            
FP_REGISTERS     00000014            IE.DNA         = FFFFFFF9            IE.WER         = FFFFFFDF            
GBL...         = 00000000            IE.DNR         = FFFFFFFD            IE.WLK         = FFFFFFF4            
H.CSP            00000000            IE.DUN         = FFFFFFF7            IO$_WRITELBLK    ********   X   05   
H.CUIC           00000008            IE.DUP         = FFFFFFC7            IO$_WRITEVBLK    ********   X   05   
H.DSW            00000026            IE.EOF         = FFFFFFF6            IS.BV          = 00000005            
H.DUIC           0000000A            IE.EOT         = FFFFFFC2            IS.CC          = 00000301            
H.EFLM           00000004            IE.EOV         = FFFFFFF5            IS.CR          = 00000D01            
H.EFSV           00000020            IE.EXP         = FFFFFFB5            IS.EOT         = 00000401            
H.FCS            00000028            IE.FEX         = FFFFFFCF            IS.ESC         = 00001B01            
H.FORT           0000002A            IE.FHE         = FFFFFFC5            IS.ESQ         = 00009B01            
H.FPSA           00000022            IE.FLN         = FFFFFFAF            IS.PES         = 00008001            
H.FPVA           0000001C            IE.FOP         = FFFFFFCB            IS.PND         = 00000000            
H.GARD           0000003A            IE.HFU         = FFFFFFE4            IS.RDD         = 00000002            
H.HDLN           00000002            IE.IES         = FFFFFFAE            IS.SUC         = 00000001            
H.IPC            0000000E            IE.IFC         = FFFFFFFE            IS.TAB         = 00000901            
H.IPS            0000000C            IE.IFU         = FFFFFFE7            IS.TMO         = 00000002            
H.ISP            00000010            IE.ILL         = FFFFFFD6            I_ADR0           000000D8            
RSXLPDRV        - VAX/VMS RSX11M AME LINE PRINTER DRIVER         22-AUG-1978 00:24:35   VAX-11 MACRO X0.3-11               Page   5
SYMBOL TABLE                                                                                                                     (3)

I_ASCIINAME      0000011C            LUTC_TRM       = 00000001            SV_ASTLVL        00000005            
I_ASTPOOL        000000A8            LUTV_CTRLC     = 00000002            SV_DCL           00000002            
I_ASTQUEUE       000000A0            LUTV_CTRLO     = 00000000            SV_FLOATAST      0000000A            
I_BAILOUTFP      0000018C            LUTV_PRM       = 00000003            SV_FRESTORE      00000003            
I_CMDAD          000000C4            LUTV_TI        = 00000001            SV_NOAST         00000004            
I_CMDSZ          000000C0            LUT_CHAN         0000000C            SV_PENDWAIT      00000006            
I_CURAST         00000194            LUT_CHAR         00000014            SV_PWRAST        00000009            
I_FCBPOOL        000000B0            LUT_CTRLC        00000034            SV_RCVAST        00000008            
I_FCC            000001B0            LUT_FLAGS        0000000A            SV_RESTORE       00000000            
I_FLOATA0        000001BC            LUT_INFONAME     00000030            SV_TRANSLATE     00000001            
I_FLOATA1        000001C4            LUT_INFOUNIT     00000032            SV_WAIT          00000007            
I_FLOATA2        000001CC            LUT_LINK         00000000            S_PC             00000020            
I_FLOATA3        000001D4            LUT_REALNAME     00000020            S_PS             00000024            
I_FLOATA4        000001DC            LUT_REF          00000008            S_R0             00000000            
I_FLOATA5        000001E4            LUT_RSXNAME      00000010            S_R1             00000004            
I_FLOATADR       000001AC            LUT_RSXUNIT      00000012            S_R2             00000008            
I_FLOATAST       000001A0            LUT_SIZE         00000038            S_R3             0000000C            
I_FLOATCSR       000001A4            LUT_TYPE         00000018            S_R4             00000010            
I_FLOATERR       000001A8            LUT_UNIT         00000020            S_R5             00000014            
I_FLOATTMP       000001B4            PSL_CC         = 00000000            S_R6             00000018            
I_GARD           000000C8            PSL_CM         = 0000001F            S_TYPE           0000001C            
I_HIGHEFN        00000148            PSL_FPD        = 0000001B            W.BATT           00000006            
I_HIGHSIZE       000000D0            PSL_FU         = 00000006            W.BFPD           0000000C            
I_IMAGEVBN       000000D4            PSL_TBIT       = 00000004            W.BHVR           00000004            
I_INISIZE        000000CC            QIOV_FILES     = 00000000            W.BLGH           00000010            
I_LENGTH         000001EC            QIO_FLAGS        0000001C            W.BLPD           0000000E            
I_LOGNAME        000000B8            QIO_FUNCTION     0000001A            W.BLVR           00000002            
I_LUT            00000144            QIO_IOSB         0000000E            W.BNPD           0000000D            
I_NLUN           00000140            QIO_LUT          00000016            W.BOFF           0000000A            
I_PC             00000184            QIO_SECONDBLK    0000001E            W.BPCB           00000000            
I_PROCNAME       00000128            QIO_SIZE         00000022            W.BSIZ           00000008            
I_PS             00000188            RSX$C_SUBSYSTEM= 00000006            
I_PWRAST         0000019C            RSX$DLVRQIOAST   ********   X   05   
I_R0             00000164            RSX$IEIFC        ********   X   05   
I_R1             00000168            RSX$IOKILL       ********   X   05   
I_R2             0000016C            RSX$ISSUQIO      ********   X   05   
I_R3             00000170            RSX$LP_DRV       00000000 RG    05   
I_R4             00000174            RSX$_ACCVIO    = 00068044            
I_R5             00000178            RSX$_BADLIBREF = 0006806C            
I_R6             0000017C            RSX$_BADSTACK  = 0006804C            
I_RAD50NAME      00000124            RSX$_BREAK     = 0006800C            
I_RCVAST         00000198            RSX$_EXITSTATUS= 00068180            
I_RCVMAIL        0000013C            RSX$_EXTERNABRT= 0006805C            
I_RUNFLAGS       00000190            RSX$_ILLINST   = 0006802C            
I_SCRATCH        00000000            RSX$_INSFDYNMEM= 00068054            
I_STATE          0000014C            RSX$_IOT       = 00068014            
I_TYPE           00000180            RSX$_LIBNOTFND = 00068074            
I_UIC            00000118            RSX$_LOADERROR = 0006807C            
I_WAIT           00000154            RSX$_NONRSXEMT = 0006801C            
I_WAITSAVE       0000015C            RSX$_NOSUCHDEV = 000680C2            
LP_WLB           00000042 R     05   RSX$_NOTSKIMG  = 00068064            
LP_WVB           00000039 R     05   RSX$_ODDADDR   = 00068034            
LUTC_CR        = 00000005            RSX$_PMD       = 000680CA            
LUTC_DISK      = 00000002            RSX$_RCVMBXSIZ = 0000012C            
LUTC_LP        = 00000004            RSX$_RESERVED  = 00068004            
LUTC_RMS       = 00000000            RSX$_TBIT      = 0006803C            
LUTC_TAPE      = 00000003            RSX$_TRAP      = 00068024            
RSXLPDRV        - VAX/VMS RSX11M AME LINE PRINTER DRIVER         22-AUG-1978 00:24:35   VAX-11 MACRO X0.3-11               Page   6
PROGRAM SECTION SYNOPSIS                                                                                                         (3)



PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
..ABS.           00000042      02     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
$ABS$            00000000      03     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
RSXDEF           000001F0      04     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
RSXCODE          0000004B      05     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD  NOWRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
18078. BYTES LEFT IN FREE MEMORY POOL.
24. BYTES OF RECLAIMED MEMORY.
OBJ$:RSXLPDRV,LIS$:RSXLPDRV/-SP=SRC$:C,RSXLPDRV
16 MLB DIR RDS - 420 GETS TO DEFINE 14 MACROS. 11 INTER. FILE WRITES. 

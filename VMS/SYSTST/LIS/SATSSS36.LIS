SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (1)      48  DECLARATIONS
   (1)     101  CONDITION TABLES
   (1)     138  TM_SETUP, TM_CLEANUP
   (1)     237  CONDITION SUBROUTINES - SETUP AND CLEANUP 
   (1)     325  FORM_CONDS
   (1)     418  VERIFY
   (1)     568  VFY_CLEANUP
SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page   1
1.0                                                                                                                              (1)

                                     0000     1 	.TITLE	SATSSS36 SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)
                                     0000     2 	.IDENT	/1.0/
                                     0000     3 
                                     0000     4 ;
                                     0000     5 ;			  COPYRIGHT (c) 1977,1978 BY
                                     0000     6 ;	      DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
                                     0000     7 ;
                                     0000     8 ; THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND  COPIED
                                     0000     9 ; ONLY  IN  ACCORDANCE  WITH  THE  TERMS  OF  SUCH  LICENSE AND WITH THE
                                     0000    10 ; INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE OR  ANY  OTHER
                                     0000    11 ; COPIES  THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY
                                     0000    12 ; OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE  IS  HEREBY
                                     0000    13 ; TRANSFERRED.
                                     0000    14 ;
                                     0000    15 ; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE  WITHOUT  NOTICE
                                     0000    16 ; AND  SHOULD  NOT  BE  CONSTRUED  AS  A COMMITMENT BY DIGITAL EQUIPMENT
                                     0000    17 ; CORPORATION.
                                     0000    18 ;
                                     0000    19 ; DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE OR  RELIABILITY  OF  ITS
                                     0000    20 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.
                                     0000    21 ;
                                     0000    22 
                                     0000    23 ;++
                                     0000    24 ; FACILITY:	SYSTST (SATS SYSTEM SERVICE TESTS)
                                     0000    25 ;
                                     0000    26 ; ABSTRACT:
                                     0000    27 ;
                                     0000    28 ;		THIS MODULE CONTAINS SUBROUTINES WHICH, WHEN LINKED
                                     0000    29 ; WITH SUCCOMMON.OBJ, FORM TEST MODULE SATSSS36 TO TEST SUCCESSFUL
                                     0000    30 ; OPERATION OF THE $DELPRC SYSTEM SERVICE. THE SERVICE IS INVOKED
                                     0000    31 ; UNDER VARIOUS INPUT CONDITIONS WITH VARYING INPUT PARAMETERS. ONLY
                                     0000    32 ; SUCCESSFUL STATUS CODES ARE EXPECTED IN THIS TEST MODULE.  CORRECT 
                                     0000    33 ; OPERATION OF THE SERVICE FOR EACH OF ITS ISSUANCES IS VERIFIED BY
                                     0000    34 ; CHECKING FOR AN SS$_NORMAL STATUS CODE, EXPECTED RETURN ARGUMENTS
                                     0000    35 ; AND EXPECTED FUNCTIONALITY PERFORMED.
                                     0000    36 ;
                                     0000    37 ; ENVIRONMENT:	USER MODE IMAGE; NEEDS CMKRNL PRIVILEGE,
                                     0000    38 ;		DYNAMICALLY ACQUIRES OTHER PRIVILEGES, AS NEEDED.
                                     0000    39 ;
                                     0000    40 ; AUTHOR: THOMAS L. CAFARELLA,		CREATION DATE: MAR, 1978
                                     0000    41 ;
                                     0000    42 ; MODIFIED BY:
                                     0000    43 ;
                                     0000    44 ;	, : VERSION
                                     0000    45 ; 01	- 
                                     0000    46 ;--
SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page   2
1.0             DECLARATIONS                                                                                                     (1)

                                     0000    48 	.SBTTL	DECLARATIONS
                                     0000    49 ;
                                     0000    50 ; INCLUDE FILES:
                                     0000    51 ;
                                     0000    52 	$PRVDEF				; PRIVILEGE BIT DEFINITIONS
                                     0000    53 	$PHDDEF				; PROCESS HEADER OFFSETS
                                     0000    54 	$PQLDEF				; PROCESS QUOTA CODES
                                     0000    55 	$PCBDEF				; PCB LABELS
                                     0000    56 	$MSGDEF				; MAILBOX MSG IDENTIFIERS
                                     0000    57 	$LOGDEF				; LOGICAL NAME TABLE TYPE SYMBOLS
                                     0000    58 	$DIBDEF				; DEVICE INFO BLOCK OFFSETS
                                     0000    59 ;
                                     0000    60 ; MACROS:
                                     0000    61 ;
                                     0000    62 ;
                                     0000    63 ; EQUATED SYMBOLS:
                                     0000    64 ;
                                     0000    65 ;
                                     0000    66 ; OWN STORAGE:
                                     0000    67 ;
SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page   3
1.0             DECLARATIONS                                                                                                     (1)

                                 00000000    69 	.PSECT	RODATA,RD,NOWRT,NOEXE,LONG
                                     0000    70 TEST_MOD_NAME::	STRING	C,<SATSSS36>	; TEST MODULE NAME
                                     0009    71 TEST_MOD_NAME_D: STRING	I,<SATSSS36>	; TEST MODULE NAME DESCRIPTOR
                                     0019    72 MSG1_INP_CTL:	STRING	I,<  SSDPC!4ZW: CONDITIONS:>
                                     0039    73 					; FAO CTL STRING FOR MSG1 IN SUCCOMMON.MAR
                                     0039    74 MSG3_ERR_CTL::	STRING	I,< *SSDPC!4ZW: !AS> 
                                     0051    75 					; FAO CTL STRING FOR MSG3 IN SUCCOMMON.MAR
                  FFFFFFFF DC3CBA00  0051    76 ONE_MIN:	.LONG	-10*1000*1000*60,-1 ; ONE MINUTE (WAKE-UP DELTA)
                                     0059    77 CREATED_PRN:	STRING	I,<SATSSS36_CRE> ; PROCESS & MBX NAME FOR CREATED PROCESS
                                     006D    78 IMAGNAM:	STRING	I,<SYSTST$RES:SATSUT14.EXE> ; IMAGE NAME FOR CREATED PROC
                                     008C    79 LOGNAM_PID:	STRING	I,<SYSTST$PID>	; LOG NAME OF CREATING PID
                           00000004  009E    80 EQUIV_PID:	.LONG	4		; EQUIV NAME STRING DESCRIPTOR
                           000000EB' 00A2    81 		.ADDRESS CREATING_PID	; ... OF CREATING PID
                                     00A6    82 QUOTALIST:	$QUOTA	CPULM,0		; INFINITE CPU
                                     00AB    83 		$QUOTA	BYTLM,512	; BYTE LIMIT FOR BUFFERED I/O
                                     00B0    84 		$QUOTA	FILLM,2		; OPEN FILE COUNT LIMIT
                                     00B5    85 		$QUOTA	PGFLQUOTA,10	; PAGING FILE QUOTA
                                     00BA    86 		$QUOTA	PRCLM,2		; SUBPROCESS QUOTA
                                     00BF    87 		$QUOTA	TQELM,3		; TIMER QUEUE ENTRY QUOTA
                                     00C4    88 		$QUOTA	LISTEND		; DEFINES END OF LIST
SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page   4
1.0             DECLARATIONS                                                                                                     (1)

                                 00000000    90 	.PSECT	RWDATA,RD,WRT,NOEXE,LONG
                           00000008  0000    91 PRIVMASK:	.BLKQ	1		; ADDR OF PRIVILEGE MASK (IN PHD)
                           0000000C  0008    92 MBXCHAN:	.BLKL	1		; CHAN NO. FOR MAILBOX FOR CREATED PROCESS
                                     000C    93 MBXCHANINFO:	STRING O,75		; CHANNEL INFO RETURNED BY GETCHN
                           00000063  005F    94 MBXUNIT:	.BLKL	1		; SAVE AREA FOR MAILBOX UNIT NUMBER
                                     0063    95 MBXBUFF:	STRING	O,120		; MAILBOX BUFFER FOR CREATED PROCESS
                           000000E7  00E3    96 DEST_PIDADR:	.BLKL	1		; DESTINATION PID ADDR, WRITTEN BY SUBJ S.S.
                           000000EB  00E7    97 ZEROPID:	.BLKL	1		; PID OF ZEROES
                           00000000  00EB    98 CREATING_PID:	.LONG	0		; PID OF CREATING PROCESS
                           000000F3  00EF    99 CREATED_PID:	.BLKL	1		; PID OF CREATED PROCESS
SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page   5
1.0             CONDITION TABLES                                                                                                 (1)

                                     00F3   101 	.SBTTL	CONDITION TABLES
                                     00F3   102 ;
                                     00F3   103 ;	***** CONDITION TABLES FOR DELPRC SYSTEM SERVICE *****
                                     00F3   104 ;
                                     00F3   105 	COND	1,NOTARG,<PID ADDRESS>,-
                                     00F3   106 		  <NOT SPECIFIED>,-
                                     00F3   107 		  <SPECIFIED, NON-ZERO>,-
                                     00F3   108 		  <SPECIFIED, ZERO>,-
                                     00F3   109  
                           00000000' 013E   110 		    .ADDRESS	0
                           000000EF' 0142   111 		    .ADDRESS	CREATED_PID
                           000000E7' 0146   112 		    .ADDRESS	ZEROPID
                                     014A   113 ;
                                     014A   114 	COND	2,NOTARG,<PROCESS NAME ADDRESS>,-
                                     014A   115 		  <SPECIFIED>,-
                                     014A   116 		  <NOT SPECIFIED>,-
                                     014A   117  
                           00000059' 0180   118 		    .ADDRESS	CREATED_PRN
                           00000000' 0184   119 		    .ADDRESS	0
                                     0188   120 ;
                                     0188   121 	COND	3,NOTARG,<CREATED PROCESS TYPE>,-
                                     0188   122 		  <SUBPROCESS>,-
                                     0188   123 		  <DETACHED, DIFFERENT GROUP>,-
                                     0188   124 		  <DETACHED, SAME GROUP, SAME MEMBER>,-
                                     0188   125 		  <DETACHED, SAME GROUP, DIFFERENT MEMBER>,-
                                     0188   126  
                           00000000  021C   127 		    .LONG	0	   ; PSEUDO-UIC
                           00000224  0220   128 		    .BLKL	1	   ; UIC
                           00000228  0224   129 		    .BLKL	1	   ; UIC
                           0000022C  0228   130 		    .BLKL	1	   ; UIC
                                     022C   131 ;
                                     022C   132 	COND	4,NULL
                                     022D   133 
                                     022D   134 	COND	5,NULL
                                     022E   135 
                                 00000000   136 	.PSECT	SATSSS36,RD,WRT,EXE
SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page   6
1.0             TM_SETUP, TM_CLEANUP                                                                                             (1)

                                     0000   138 	.SBTTL	TM_SETUP, TM_CLEANUP
                                     0000   139 ;++
                                     0000   140 ; FUNCTIONAL DESCRIPTION:
                                     0000   141 ;
                                     0000   142 ;		TM_SETUP AND TM_CLEANUP ARE CALLED TO PERFORM
                                     0000   143 ; REQUIRED HOUSEKEEPING AT THE BEGINNING AND END, RESPECTIVELY, OF
                                     0000   144 ; TEST MODULE EXECUTION.
                                     0000   145 ;
                                     0000   146 ; CALLING SEQUENCE:
                                     0000   147 ;
                                     0000   148 ;	BSBW TM_SETUP   BSBW TM_CLEANUP
                                     0000   149 ;
                                     0000   150 ; INPUT PARAMETERS:
                                     0000   151 ;
                                     0000   152 ;	NONE
                                     0000   153 ;
                                     0000   154 ; IMPLICIT INPUTS:
                                     0000   155 ;
                                     0000   156 ;	NONE
                                     0000   157 ;
                                     0000   158 ; OUTPUT PARAMETERS:
                                     0000   159 ;
                                     0000   160 ;	NONE
                                     0000   161 ;
                                     0000   162 ; IMPLICIT OUTPUTS:
                                     0000   163 ;
                                     0000   164 ;	TM_SETUP:  COND TABLE INDEX REGISTERS (R2,3,4,5,6) CLEARED;
                                     0000   165 ;		   ALL PRIVILEGES ACQUIRED.
                                     0000   166 ;
                                     0000   167 ; COMPLETION CODES:
                                     0000   168 ;
                                     0000   169 ;	EFLAG SET TO NON-ZERO IF ERROR ENCOUNTERED.
                                     0000   170 ;
                                     0000   171 ; SIDE EFFECTS:
                                     0000   172 ;
                                     0000   173 ;	SS_CHECK AND ERR_EXIT MACROS CAUSE PREMATURE EXIT 
                                     0000   174 ;	(VIA RSB) IF ERROR ENCOUNTERED.
                                     0000   175 ;
                                     0000   176 ;--
                                     0000   177 
                                     0000   178 
                                     0000   179 
                                     0000   180 TM_SETUP::
                          52     D4  0000   181 	CLRL	R2			; INITIALIZE
                          53     D4  0002   182 	CLRL	R3			; .. CONDITION
                          54     D4  0004   183 	CLRL	R4			; .... TABLE
                          55     D4  0006   184 	CLRL	R5			; ...... INDEX
                          56     D4  0008   185 	CLRL	R6			; ........ REGISTERS
                          FFF3'  30  000A   186 	BSBW	MOD_MSG_PRINT		; PRINT TEST MODULE BEGIN MSG
   00000000'EF   00000000'EF     DE  000D   187 	MOVAL	TEST_MOD_SUCC,TMD_ADDR	; ASSUME END MSG WILL SHOW SUCCESS
            00   00000000'8F     F0  0018   188 	INSV	#SUCCESS,#0,#3,MOD_MSG_CODE ; ADJUST STATUS CODE FOR SUCCESS
   00000000'EF            03         001F       
                                     0025   189 	MODE	TO,5$,KRNL		; KERNEL MODE TO ACCESS PHD
            59   00000000'9F     D0  0048   190 	MOVL	@#CTL$GL_PHD,R9		; GET PROCESS HEADER ADDRESS
   00000000'EF            69     DE  004F   191 	MOVAL	PHD$Q_PRIVMSK(R9),PRIVMASK ; GET PRIV MASK ADDRESS
                                     0056   192 	MODE	FROM,5$	; BACK TO USER MODE
                                     0057   193 	PRIV	ADD,ALL			; GET ALL PRIVILEGES
SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page   7
1.0             TM_SETUP, TM_CLEANUP                                                                                             (1)

                                     0080   194 	$SETPRN_S TEST_MOD_NAME_D 	; SET PROCESS NAME
                                     008D   195 	SS_CHECK  NORMAL		; CHECK STATUS CODE RETURNED FROM SETPRN
                                     00BB   196 	$WAKE_S	PIDADR=CREATING_PID 	; GET MY PID
                                     00CA   197 	SS_CHECK NORMAL			; CHECK FOR NORMAL RETURN
                                     00F8   198 	$HIBER_S			; UNDO ABOVE WAKE
                                     00FF   199 	SS_CHECK NORMAL			; CHECK FOR NORMAL RETURN
                                     012D   200 	$CRELOG_S TBLFLG=#LOG$C_SYSTEM, - ; GET MY PID INTO LOG NAME TABLE
                                     012D   201 		  LOGNAM=LOGNAM_PID, -	; ... FOR USE BY CREATED PROCESS
                                     012D   202 		  EQLNAM=EQUIV_PID
            2E            50     E8  0144   203 	BLBS	R0,10$			; IF SUCCESSFUL, CONTINUE
                                     0147   204 	SS_CHECK NORMAL			; USE SS_CHECK TO TERMINATE MODULE
                                     0175   205 10$:
                                     0175   206 ;
                                     0175   207 ; THE FOLLOWING CODE ESTABLISHES UIC'S IN THE CONDITION 3 TABLE
                                     0175   208 ;
                                     0175   209 	MODE	TO,20$,KRNL		; KERNEL MODE TO ACCESS PCB
            59   00000000'9F     D0  0198   210 	MOVL	@#SCH$GL_CURPCB,R9 	; GET CURRENT PCB ADDRESS
            59         20 A9     D0  019F   211 	MOVL	PCB$L_UIC(R9),R9 	; PICK UP UIC FROM PCB
                                     01A3   212 	MODE	FROM,20$		; ... AND GET BACK TO USER MODE
                                     01A4   213 ; R9 NOW CONTAINS "MY" UIC
            5A            01     9A  01A4   214 	MOVZBL	#1,R10			; GET COND3 TABLE INDEX NUMBER INTO A REG
            59   00010000 8F     C1  01A7   215 	ADDL3	#^X10000,R9,COND3_E[R10] ; PUT DIFF GROUP UIC INTO 2ND TABLE ELT
                 0000021C'EF4A       01AE       
                          5A     D6  01B4   216 	INCL	R10			; POINT TO 3RD COND3 TABLE ELEMENT
   0000021C'EF4A          59     D0  01B6   217 	MOVL	R9,COND3_E[R10]		; PUT MY UIC INTO TABLE
                          5A     D6  01BE   218 	INCL	R10			; POINT TO 4TH COND3 TABLE ELEMENT
            59            01     C1  01C0   219 	ADDL3	#1,R9,COND3_E[R10] 	; PUT DIFF MEMBER UIC INTO THE TABLE
                 0000021C'EF4A       01C3       
                                     01C9   220 	$CREMBX_S CHAN=MBXCHAN, LOGNAM=CREATED_PRN, -
                                     01C9   221 		  MAXMSG=#120, PROMSK=#0, BUFQUO=#240
                                     01EC   222 					; GET MAILBOX FOR PROCESS
                                     01EC   223 	SS_CHECK NORMAL			; CHECK NORMAL COMPLETION
                                     021A   224 	$GETCHN_S CHAN=MBXCHAN, PRIBUF=MBXCHANINFO 
                                     0234   225 					; GET CHAN INFO (UNIT NUMBER)
                                     0234   226 	SS_CHECK NORMAL			; CHECK NORMAL COMPLETION
   0000005F'EF   00000020'EF     3C  0262   227 	MOVZWL	MBXCHANINFO+8+DIB$W_UNIT,MBXUNIT
                                     026D   228 					; SAVE MAILBOX UNIT NUMBER
                                 05  026D   229 	RSB				; RETURN TO MAIN ROUTINE
                                     026E   230 TM_CLEANUP::
                                     026E   231 	$DELMBX_S  MBXCHAN		; DELETE TERMINATION MAILBOX
                                     027C   232 	$DELLOG_S TBLFLG=#LOG$C_SYSTEM, - ; DELETE LOG NAME ACQUIRED ABOVE
                                     027C   233 		  LOGNAM=LOGNAM_PID
                          FD70'  30  028D   234 	BSBW	MOD_MSG_PRINT		; PRINT TEST MODULE END MSG
                                 05  0290   235 	RSB				; RETURN TO MAIN ROUTINE
SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page   8
1.0             CONDITION SUBROUTINES - SETUP AND CLEANUP                                                                        (1)

                                     0291   237 	.SBTTL	CONDITION SUBROUTINES - SETUP AND CLEANUP 
                                     0291   238 ;++
                                     0291   239 ; FUNCTIONAL DESCRIPTION:
                                     0291   240 ;
                                     0291   241 ;		CONDX AND CONDX_CLEANUP ARE SUBROUTINES WHICH ARE EXECUTED
                                     0291   242 ; BEFORE AND AFTER THE VERIFY SUBROUTINE, RESPECTIVELY, WHENEVER A NEW
                                     0291   243 ; CONDITION X VALUE IS SELECTED (SEE FUNCTIONAL DESCRIPTION OF SUCCOMMON
                                     0291   244 ; ROUTINE IN SUCCOMMON.MAR). ANY SETUP FUNCTION PARTICULAR TO THE 
                                     0291   245 ; CONDITION X TABLE IS INCLUDED IN THE CONDX SUBROUTINE AND CLEANED
                                     0291   246 ; UP, IF NECESSARY, IN THE CONDX_CLEANUP SUBROUTINE. THIS INCLUDES,
                                     0291   247 ; ESPECIALLY, CODE TO DETECT CONFLICTS AMONG CURRENT ENTRIES IN TWO
                                     0291   248 ; OR MORE CONDITION TABLES. IF A CONFLICT IS DETECTED, A NON-ZERO
                                     0291   249 ; VALUE IS STORED INTO CONFLICT, WHICH CAUSES THE CALLING ROUTINE
                                     0291   250 ; (SUCCOMMON) TO SKIP THE CURRENT ENTRY IN THE CONDITION X TABLE.
                                     0291   251 ;
                                     0291   252 ; CALLING SEQUENCE:
                                     0291   253 ;
                                     0291   254 ;	BSBW CONDX   BSBW CONDX_CLEANUP
                                     0291   255 ;	  WHERE X = 1,2,3,4,5
                                     0291   256 ;
                                     0291   257 ; INPUT PARAMETERS:
                                     0291   258 ;
                                     0291   259 ;	CONFLICT = 0
                                     0291   260 ;
                                     0291   261 ; IMPLICIT INPUTS:
                                     0291   262 ;
                                     0291   263 ;	R2,3,4,5,6 CONTAIN CURRENT CONDITION TABLE INDEX VALUES
                                     0291   264 ;	  FOR COND TABLES 1,2,3,4,5, RESPECTIVELY.
                                     0291   265 ;
                                     0291   266 ; OUTPUT PARAMETERS:
                                     0291   267 ;
                                     0291   268 ;	CONFLICT SET TO NON-ZERO IF COND TABLE CONFLICT DETECTED.
                                     0291   269 ;
                                     0291   270 ; IMPLICIT OUTPUTS:
                                     0291   271 ;
                                     0291   272 ;	R2,3,4,5,6 PRESERVED
                                     0291   273 ;
                                     0291   274 ; COMPLETION CODES:
                                     0291   275 ;
                                     0291   276 ;	NONE
                                     0291   277 ;
                                     0291   278 ; SIDE EFFECTS:
                                     0291   279 ;
                                     0291   280 ;	NONE
                                     0291   281 ;
                                     0291   282 ;--
                                     0291   283 
                                     0291   284 
                                     0291   285 
                                     0291   286 COND1::
                                 05  0291   287 	RSB				; RETURN TO MAIN ROUTINE
                                     0292   288 COND1_CLEANUP::
                                 05  0292   289 	RSB				; RETURN TO MAIN ROUTINE
                                     0293   290 COND2::
   0000013E'EF42 000000E7'8F     D1  0293   291 	CMPL	#ZEROPID,COND1_E[R2] 	; PID SPECIFIED AS 0 ??
                          14     12  029F   292 	BNEQU	COND2X			; NO -- NO CONFLICT
                 00000180'EF43   D5  02A1   293 	TSTL	COND2_E[R3]		; YES -- IS THERE A PROCESS NAME ??
SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page   9
1.0             CONDITION SUBROUTINES - SETUP AND CLEANUP                                                                        (1)

                          0B     12  02A8   294 	BNEQU	COND2X			; YES -- NO CONFLICT
   00000000'EF   00000000'EF     90  02AA   295 	MOVB	ONES,CONFLICT		; NO -- INDICATE CONFLICT BECAUSE THIS TYPE
                                     02B5   296 					; ... OF DELPRC WOULD DELETE CREATING PROC
                                     02B5   297 COND2X:
                                 05  02B5   298 	RSB				; RETURN TO MAIN ROUTINE
                                     02B6   299 COND2_CLEANUP::
                                 05  02B6   300 	RSB				; RETURN TO MAIN ROUTINE
                                     02B7   301 COND3::
   0000013E'EF42 000000EF'8F     D1  02B7   302 	CMPL	#CREATED_PID,COND1_E[R2] ; NON-ZERO PID SPECIFIED ?
                          19     13  02C3   303 	BEQLU	COND3X			; YES -- NO CONFLICT
                 00000180'EF43   D5  02C5   304 	TSTL	COND2_E[R3]		; IS PROCESS NAME SPECIFIED ?
                          10     13  02CC   305 	BEQL	COND3X			; NO -- NO CONFLICT
                                     02CE   306 ;
                                     02CE   307 ; NOTE -- AT THIS POINT, PROCESS WILL BE REFERENCED BY PROCESS NAME.
                                     02CE   308 ;
            01            54     D1  02CE   309 	CMPL	R4,#1			; DOES CONDITION 3 SPECIFY DIFFERENT GROUP ?
                          0B     12  02D1   310 	BNEQ	COND3X			; NO -- NO CONFLICT
   00000000'EF   00000000'EF     90  02D3   311 	MOVB	ONES,CONFLICT		; YES -- PROCESS NAME FOR DIFF GROUP IS CONF
                                     02DE   312 COND3X:
                                 05  02DE   313 	RSB				; RETURN TO MAIN ROUTINE
                                     02DF   314 COND3_CLEANUP::
                                 05  02DF   315 	RSB				; RETURN TO MAIN ROUTINE
                                     02E0   316 COND4::
                                 05  02E0   317 	RSB				; RETURN TO MAIN ROUTINE
                                     02E1   318 COND4_CLEANUP::
                                 05  02E1   319 	RSB				; RETURN TO MAIN ROUTINE
                                     02E2   320 COND5::
                                 05  02E2   321 	RSB				; RETURN TO MAIN ROUTINE
                                     02E3   322 COND5_CLEANUP::
                                 05  02E3   323 	RSB				; RETURN TO MAIN ROUTINE
SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page  10
1.0             FORM_CONDS                                                                                                       (1)

                                     02E4   325 	.SBTTL	FORM_CONDS
                                     02E4   326 ;++
                                     02E4   327 ; FUNCTIONAL DESCRIPTION:
                                     02E4   328 ;
                                     02E4   329 ; 		FORM_CONDS FORMATS AND PRINTS INFORMATION ABOUT
                                     02E4   330 ;  THE CURRENT ELEMENT IN EACH OF THE CONDITION TABLES.
                                     02E4   331 ;
                                     02E4   332 ; CALLING SEQUENCE:
                                     02E4   333 ;
                                     02E4   334 ;	BSBW FORM_CONDS
                                     02E4   335 ;
                                     02E4   336 ; INPUT PARAMETERS:
                                     02E4   337 ;
                                     02E4   338 ;	NONE
                                     02E4   339 ;
                                     02E4   340 ; IMPLICIT INPUTS:
                                     02E4   341 ;
                                     02E4   342 ;	R2,3,4,5,6 CONTAIN CURRENT CONDITION TABLE INDEX VALUES
                                     02E4   343 ;	  FOR COND TABLES 1,2,3,4,5, RESPECTIVELY.
                                     02E4   344 ;	FOR X = 1,2,3,4,5 :
                                     02E4   345 ;		CONDX_T - TITLE TEXT FOR CONDX TABLE
                                     02E4   346 ;		CONDX_TAB - ELEMENT TEXT FOR CONDX TABLE
                                     02E4   347 ;		CONDX_C - CONTEXT OF THE CONDX TABLE
                                     02E4   348 ;		CONDX_E - DATA ELEMENTS OF THE CONDX TABLE
                                     02E4   349 ;
                                     02E4   350 ; OUTPUT PARAMETERS:
                                     02E4   351 ;
                                     02E4   352 ;	NONE
                                     02E4   353 ;
                                     02E4   354 ; IMPLICIT OUTPUTS:
                                     02E4   355 ;
                                     02E4   356 ;	NONE
                                     02E4   357 ;
                                     02E4   358 ; COMPLETION CODES:
                                     02E4   359 ;
                                     02E4   360 ;	NONE
                                     02E4   361 ;
                                     02E4   362 ; SIDE EFFECTS:
                                     02E4   363 ;
                                     02E4   364 ;	NONE
                                     02E4   365 ;
                                     02E4   366 ;--
                                     02E4   367 
                                     02E4   368 
                                     02E4   369 
                                     02E4   370 FORM_CONDS::
                                     02E4   371 	$FAO_S	MSG1_INP_CTL,FAO_LEN,FAO_DESC,TESTNUM
                                     0303   372 					; FORMAT CONDITIONS HEADER MSG
                          FCFA'  30  0303   373 	BSBW	OUTPUT_MSG		; ... AND PRINT IT
            14            00     91  0306   374 	CMPB	#COND1_C,#NULL		; IS CONDITION 1 NULL ?
                          03     12  0309   375 	BNEQU	10$			; NO -- CONTINUE
                          00BF   31  030B   376 	BRW	FORM_CONDSX		; YES -- SUBROUTINE IS FINISHED
                                     030E   377 10$:
   00000000'EF   000000F3'EF     DE  030E   378 	MOVAL	COND1_T,MSG_A		; SAVE ADDRESS OF CONDITION 1 TITLE FOR FAO
   00000000'EF   00000100'EF42   D0  0319   379 	MOVL	COND1_TAB[R2],MSG_B 	; SAVE ADDR OF COND 1 CURR TEXT ELT FOR FAO
   00000000'EF            00     90  0325   380 	MOVB	#COND1_C,MSG_CTXT 	; SAVE CONDITION 1 CONTEXT FOR FAO
                                     032C   381 	MOV_VAL	COND1_C,COND1_E[R2],MSG_DATA1 ; GIVE COND 1 DATA VALUE TO FAO
SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page  11
1.0             FORM_CONDS                                                                                                       (1)

                          FCD1'  30  032C   382 	BSBW	WRITE_MSG2		; FORMAT AND WRITE CONDITION 1 MSG
            14            00     91  032F   383 	CMPB	#COND2_C,#NULL		; IS CONDITION 2 NULL ?
                          03     12  0332   384 	BNEQU	20$			; NO -- CONTINUE
                          0096   31  0334   385 	BRW	FORM_CONDSX		; YES -- SUBROUTINE IS FINISHED
                                     0337   386 20$:
   00000000'EF   0000014A'EF     DE  0337   387 	MOVAL	COND2_T,MSG_A		; SAVE ADDRESS OF CONDITION 2 TITLE FOR FAO
   00000000'EF   00000160'EF43   D0  0342   388 	MOVL	COND2_TAB[R3],MSG_B 	; SAVE ADDR OF COND 2 CURR TEXT ELT FOR FAO
   00000000'EF            00     90  034E   389 	MOVB	#COND2_C,MSG_CTXT 	; SAVE CONDITION 2 CONTEXT FOR FAO
                                     0355   390 	MOV_VAL	COND2_C,COND2_E[R3],MSG_DATA1 ; GIVE COND 2 DATA VALUE TO FAO
                          FCA8'  30  0355   391 	BSBW	WRITE_MSG2		; FORMAT AND WRITE CONDITION 2 MSG
            14            00     91  0358   392 	CMPB	#COND3_C,#NULL		; IS CONDITION 3 NULL ?
                          03     12  035B   393 	BNEQU	30$			; NO -- CONTINUE
                          006D   31  035D   394 	BRW	FORM_CONDSX		; YES -- SUBROUTINE IS FINISHED
                                     0360   395 30$:
   00000000'EF   00000188'EF     DE  0360   396 	MOVAL	COND3_T,MSG_A		; SAVE ADDRESS OF CONDITION 3 TITLE FOR FAO
   00000000'EF   0000019E'EF44   D0  036B   397 	MOVL	COND3_TAB[R4],MSG_B 	; SAVE ADDR OF COND 3 CURR TEXT ELT FOR FAO
   00000000'EF            00     90  0377   398 	MOVB	#COND3_C,MSG_CTXT 	; SAVE CONDITION 3 CONTEXT FOR FAO
                                     037E   399 	MOV_VAL	COND3_C,COND3_E[R4],MSG_DATA1 ; GIVE COND 3 DATA VALUE TO FAO
                          FC7F'  30  037E   400 	BSBW	WRITE_MSG2		; FORMAT AND WRITE CONDITION 3 MSG
            14            14     91  0381   401 	CMPB	#COND4_C,#NULL		; IS CONDITION 4 NULL ?
                          47     13  0384   402 	BEQLU	FORM_CONDSX		; YES -- SUBROUTINE IS FINISHED
   00000000'EF   0000022C'EF     DE  0386   403 	MOVAL	COND4_T,MSG_A		; SAVE ADDRESS OF CONDITION 4 TITLE FOR FAO
   00000000'EF   0000022C'EF45   D0  0391   404 	MOVL	COND4_TAB[R5],MSG_B 	; SAVE ADDR OF COND 4 CURR TEXT ELT FOR FAO
   00000000'EF            14     90  039D   405 	MOVB	#COND4_C,MSG_CTXT 	; SAVE CONDITION 4 CONTEXT FOR FAO
                                     03A4   406 	MOV_VAL	COND4_C,COND4_E[R5],MSG_DATA1 ; GIVE COND 4 DATA VALUE TO FAO
                          FC59'  30  03A4   407 	BSBW	WRITE_MSG2		; FORMAT AND WRITE CONDITION 4 MSG
            14            14     91  03A7   408 	CMPB	#COND5_C,#NULL		; IS CONDITION 5 NULL ?
                          21     13  03AA   409 	BEQLU	FORM_CONDSX		; YES -- SUBROUTINE IS FINISHED
   00000000'EF   0000022D'EF     DE  03AC   410 	MOVAL	COND5_T,MSG_A		; SAVE ADDRESS OF CONDITION 5 TITLE FOR FAO
   00000000'EF   0000022D'EF46   D0  03B7   411 	MOVL	COND5_TAB[R6],MSG_B 	; SAVE ADDR OF COND 5 CURR TEXT ELT FOR FAO
   00000000'EF            14     90  03C3   412 	MOVB	#COND5_C,MSG_CTXT 	; SAVE CONDITION 5 CONTEXT FOR FAO
                                     03CA   413 	MOV_VAL	COND5_C,COND5_E[R6],MSG_DATA1 ; GIVE COND 5 DATA VALUE TO FAO
                          FC33'  30  03CA   414 	BSBW	WRITE_MSG2		; FORMAT AND WRITE CONDITION 5 MSG
                                     03CD   415 FORM_CONDSX:
                                 05  03CD   416 	RSB				; RETURN TO CALLER
SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page  12
1.0             VERIFY                                                                                                           (1)

                                     03CE   418 	.SBTTL	VERIFY
                                     03CE   419 ;++
                                     03CE   420 ; FUNCTIONAL DESCRIPTION:
                                     03CE   421 ;
                                     03CE   422 ;		VERIFY IS CALLED ONCE FOR EACH COMBINATION OF CONDITION
                                     03CE   423 ; TABLE VALUES (AS DETERMINED BY THE INDEX REGISTERS R2,3,4,5,6 FOR
                                     03CE   424 ; COND TABLES 1,2,3,4,5, RESPECTIVELY). VERIFY ESTABLISHES THE CONDITIONS
                                     03CE   425 ; SPECIFIED BY THE COND TABLES AND ISSUES THE SUBJECT SYSTEM SERVICE
                                     03CE   426 ; ($DELPRC). THEN, THE SUCCESSFUL OPERATION OF THE SERVICE IS VERIFIED
                                     03CE   427 ; BY EXAMINING THE STATUS CODE RETURNED, THE VALUES FOR RETURN ARGUMENTS
                                     03CE   428 ; AND THE FUNCTIONALITY PERFORMED. THE EXAMINATIONS TAKE THE FORM OF 
                                     03CE   429 ; COMPARISONS AGAINST EXPECTED VALUES. ANY FAILING COMPARISON CAUSES AN
                                     03CE   430 ; ERR_EXIT MACRO TO BE EXECUTED (EITHER DIRECTLY, OR INDIRECTLY,
                                     03CE   431 ; THROUGH THE SS_CHECK MACRO); ERR_EXIT SETS EFLAG TO NON-ZERO,
                                     03CE   432 ; PRINTS ERROR MESSAGES AND CAUSES AN IMMEDIATE RSB TO CALLER.
                                     03CE   433 ; WHEN ERR_EXIT IS EXECUTED, FURTHER CALLS TO VERIFY ARE SUPPRESSED,
                                     03CE   434 ; AND, AFTER EXECUTING CLEANUP SUBROUTINES, THE IMAGE EXITS.
                                     03CE   435 ;
                                     03CE   436 ; CALLING SEQUENCE:
                                     03CE   437 ;
                                     03CE   438 ;	BSBW VERIFY
                                     03CE   439 ;
                                     03CE   440 ; INPUT PARAMETERS:
                                     03CE   441 ;
                                     03CE   442 ;	NONE
                                     03CE   443 ;
                                     03CE   444 ; IMPLICIT INPUTS:
                                     03CE   445 ;
                                     03CE   446 ;	R2,3,4,5,6 CONTAIN CURRENT CONDITION TABLE INDEX VALUES
                                     03CE   447 ;	  FOR COND TABLES 1,2,3,4,5, RESPECTIVELY.
                                     03CE   448 ;	FOR X = 1,2,3,4,5 :
                                     03CE   449 ;		CONDX_E - ADDRESS OF TABLE OF DATA VALUES FOR CONDX
                                     03CE   450 ;		  TABLE. IF THE CONTEXT OF TABLE X IS A SYSTEM SERVICE
                                     03CE   451 ;		  ARGUMENT, THE ARGUMENT NAME MAY BE USED AS A SYNONYM
                                     03CE   452 ;		  FOR CONDX_E.
                                     03CE   453 ;
                                     03CE   454 ; OUTPUT PARAMETERS:
                                     03CE   455 ;
                                     03CE   456 ;	NONE
                                     03CE   457 ;
                                     03CE   458 ; IMPLICIT OUTPUTS:
                                     03CE   459 ;
                                     03CE   460 ;	VERIFY HAS NO OUTPUT. SINCE ITS PURPOSE IS TO TEST FOR ERRORS,
                                     03CE   461 ;	IT MERELY RETURNS TO CALLER NORMALLY AFTER THE TESTS, PROVIDING
                                     03CE   462 ;	ALL WERE SUCCESSFUL; IF AN ERROR IS DISCOVERED, RETURN IS VIA
                                     03CE   463 ;	AN ERR_EXIT OR SS_CHECK MACRO, BOTH OF WHICH DOCUMENT DETECTED
                                     03CE   464 ;	ERRORS.
                                     03CE   465 ;
                                     03CE   466 ; COMPLETION CODES:
                                     03CE   467 ;
                                     03CE   468 ;	EFLAG SET TO NON-ZERO IF ERROR ENCOUNTERED.
                                     03CE   469 ;
                                     03CE   470 ; SIDE EFFECTS:
                                     03CE   471 ;
                                     03CE   472 ;	SS_CHECK AND ERR_EXIT MACROS CAUSE PREMATURE EXIT 
                                     03CE   473 ;	(VIA RSB) IF ERROR ENCOUNTERED.
                                     03CE   474 ;
SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page  13
1.0             VERIFY                                                                                                           (1)

                                     03CE   475 ;--
                                     03CE   476 
                                     03CE   477 
                                     03CE   478 
                                     03CE   479 VERIFY::
                 00000000'EF     95  03CE   480 	TSTB	CFLAG			; SHOULD CONDITIONS BE PRINTED ?
                          03     13  03D4   481 	BEQL	5$			; NO -- CONTINUE
                          FF0B   30  03D6   482 	BSBW	FORM_CONDS		; YES -- FMT & PRINT ALL CONDS FOR THIS T.C.
                                     03D9   483 5$:
                 000000E7'EF     D4  03D9   484 	CLRL	ZEROPID			; CLEAR ZERO PID
                                     03DF   485 	$CREPRC_S PIDADR=CREATED_PID, PRCNAM=CREATED_PRN, -
                                     03DF   486 		  UIC=COND3_E[R4], IMAGE=IMAGNAM, -
                                     03DF   487 		  MBXUNT=MBXUNIT, QUOTA=QUOTALIST
                                     0418   488 					; CREATE A PROCESS TO BE DELPRC'D
                                     0418   489 	SS_CHECK NORMAL			; ... AND MAKE SURE IT CREATED OK
                                     0446   490 	$SCHDWK_S DAYTIM=ONE_MIN 	; WAKE SELF IN 1 MIN IF CREATED PROC DOESN'T
                                     0459   491 	SS_CHECK NORMAL			; CHECK FOR NORMAL RETURN
                                     0487   492 	$HIBER_S			; SLEEP UNTIL CREATED PROC IS FULLY CREATED
                                     048E   493 	SS_CHECK NORMAL			; EXPECT NORMAL RETURN
                                     04BC   494 	$CANWAK_S 			; GET RID OF SCHEDULED WAKE-UP
                                     04C7   495 	SS_CHECK NORMAL			; CHECK FOR NORMAL STATUS RETURN
                                     04F5   496 ;
                                     04F5   497 ; SCHEDULED WAKE-UP WILL ONLY BE EFFECTED IF CREATED PROCESS DOES
                                     04F5   498 ; NOT GET FULLY CREATED. IN THIS CASE, THE SUBJECT SYSTEM SERVICE
                                     04F5   499 ; BELOW WILL FAIL WITH AN APPROPRIATE ERROR CONDITION.
                                     04F5   500 ;
                                     04F5   501 ;
                                     04F5   502 ; THE FOLLOWING CODE LOOKS FOR THE SPECIAL CASE OF NO PID SPECIFIED
                                     04F5   503 ; AND NO PROCESS NAME SPECIFIED IN CONDITION TABLES. IF THIS CASE
                                     04F5   504 ; IS PRESENT, DELPRC IS NOT ISSUED HERE, BUT, INSTEAD, A $WAKE IS
                                     04F5   505 ; ISSUED FOR THE CREATED PROCESS, WHICH, IN TURN, ISSUES A $DELPRC
                                     04F5   506 ; TO DELETE ITSELF. FOR ALL OTHER CASES, THE CREATED PROCESS
                                     04F5   507 ; IS DELETED BY A $DELPRC ISSUED HERE IN THIS PROCESS.
                                     04F5   508 ;
                 0000013E'EF42   D5  04F5   509 	TSTL	COND1_E[R2]		; IS PIDADR SPECIFIED ??
                          49     12  04FC   510 	BNEQU	10$			; YES -- NO SPECIAL CASE -- CONTINUE
                 00000180'EF43   D5  04FE   511 	TSTL	COND2_E[R3]		; NO -- HOW ABOUT PROCESS NAME ??
                          40     12  0505   512 	BNEQU	10$			; IT EXISTS -- A NORMAL CASE
                                     0507   513 	$WAKE_S PIDADR=CREATED_PID 	; NO PIDADR OR PIDADR SPECIFIED
                                     0516   514 					; WAKE CREATED PROCESS TO DELETE ITSELF
                                     0516   515 	SS_CHECK NORMAL			; CHECK FOR NORMAL STATUS RETURN
                          00FD   31  0544   516 	BRW	20$			; ... AND GO WAIT FOR ITS MAIL
                                     0547   517 10$:
                                     0547   518 ;
                                     0547   519 ; SET UP TO ISSUE SUBJECT $DELPRC IN THIS PROCESS
                                     0547   520 ;
   000000E3'EF   0000013E'EF42   D0  0547   521 	MOVL	COND1_E[R2],DEST_PIDADR	; GET PID ADDRESS OUT OF TABLE
            59   00000180'EF43   D0  0553   522 	MOVL	COND2_E[R3],R9		; PRCNAM ADDRESS INTO REG FOR INDIRECT REF
                                     055B   523 ;
                                     055B   524 ; ****** SYSTEM SERVICE CALL WHICH IS THE SUBJECT OF THIS TEST CASE ******
                                     055B   525 ;
                                     055B   526 	$DELPRC_S PIDADR=@DEST_PIDADR, PRCNAM=(R9)
   00000000'8F            50     D1  056A   527 	CMPL	R0,#SS$_NORMAL		; CODE RECEIVED = CODE EXPECTED ?
                          61     13  0571   528 	BEQLU	15$			; YES -- CONTINUE
   00000000'EF   00000000'8F     D0  0573   529 	MOVL	#SS$_NORMAL,EXPV 	; NO -- LOAD UP EXPECTED AND ...
   00000000'EF            50     D0  057E   530 	MOVL	R0,RECV			; ... RECEIVED VALUES, THEN EXIT
                                     0585   531 	ERR_EXIT LONG,<INCORRECT STATUS CODE RETURNED FROM DELPRC>
SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page  14
1.0             VERIFY                                                                                                           (1)

                                     05D4   532 15$:
                 000000E3'EF     D5  05D4   533 	TSTL	DEST_PIDADR		; PID RETURNED BY DELPRC ?
                          68     13  05DA   534 	BEQL	20$			; NO -- KEEP GOING
   000000E3'FF   000000EF'EF     D1  05DC   535 	CMPL	CREATED_PID,@DEST_PIDADR ; YES -- IS IT THE CORRECT ONE ?
                          5B     13  05E7   536 	BEQL	20$			; YES -- CONTINUE
   00000000'EF   000000EF'EF     D0  05E9   537 	MOVL	CREATED_PID,EXPV 	; NO --LOAD UP EXPECTED AND ...
   00000000'EF   000000E3'FF     D0  05F4   538 	MOVL	@DEST_PIDADR,RECV 	; ... RECEIVED VALUES, THEN EXIT
                                     05FF   539 	ERR_EXIT LONG,<INCORRECT PID RETURNED BY DELPRC>
                                     0644   540 20$:
                                     0644   541 ;
                                     0644   542 ; CREATED PROCESS HAS BEEN DELPRC'D (BY THIS PROCESS OR BY ITSELF)
                                     0644   543 ;
                                     0644   544 	$QIOW_S	CHAN=MBXCHAN, FUNC=#IO$_READVBLK, -
                                     0644   545 		P1=MBXBUFF+8, P2=MBXBUFF
                                     066D   546 					; WAIT FOR CREATED PROCESS TO SEND MAIL
                                     066D   547 	SS_CHECK NORMAL			; CHECK FOR NORMAL STATUS CODE
            03   0000006B'EF     B1  069B   548 	CMPW	MBXBUFF+8,#MSG$_DELPROC ; DOES MAILBOX HAVE TERMINATION MSG ??
                          57     13  06A2   549 	BEQLU	30$			; YES -- AS EXPECTED
   00000000'EF            03     B0  06A4   550 	MOVW	#MSG$_DELPROC,EXPV 	; NO -- LOAD UP EXPECTED AND
   00000000'EF   0000006B'EF     B0  06AB   551 	MOVW	MBXBUFF+8,RECV		; ... RECEIVED VALUES, THEN EXIT
                                     06B6   552 	ERR_EXIT WORD,<INCORRECT MAILBOX MSG IDENTIFIER>
                                     06FB   553 30$:
   000000EF'EF   00000073'EF     D1  06FB   554 	CMPL	MBXBUFF+16,CREATED_PID 	; DOES MAILBOX MSG HAVE CORRECT PID ??
                          5C     13  0706   555 	BEQLU	40$			; YES -- AS EXPECTED
   00000000'EF   000000EF'EF     D0  0708   556 	MOVL	CREATED_PID,EXPV 	; NO -- LOAD UP EXPECTED AND
   00000000'EF   00000073'EF     D0  0713   557 	MOVL	MBXBUFF+16,RECV		; ... RECEIVED VALUES, THEN EXIT
                                     071E   558 	ERR_EXIT LONG,<INCORRECT PID RETURNED IN MAILBOX>
                                     0764   559 40$:
                 0000006F'EF     D5  0764   560 	TSTL	MBXBUFF+12		; DOES MAILBOX MSG INDICATE 0 STATUS CODE ??
                          5F     13  076A   561 	BEQLU	VERIFYX			; YES -- ALL IS OK
                 00000000'EF     D4  076C   562 	CLRL	EXPV			; NO -- LOAD UP EXPECTED AND
   00000000'EF   0000006F'EF     D0  0772   563 	MOVL	MBXBUFF+12,RECV		; ... RECEIVED VALUES, THEN EXIT
                                     077D   564 	ERR_EXIT LONG,<INCORRECT STATUS CODE RETURNED IN MAILBOX>
                                     07CB   565 VERIFYX:
                                 05  07CB   566 	RSB				; RETURN TO CALLER
SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page  15
1.0             VFY_CLEANUP                                                                                                      (1)

                                     07CC   568 	.SBTTL	VFY_CLEANUP
                                     07CC   569 ;++
                                     07CC   570 ; FUNCTIONAL DESCRIPTION:
                                     07CC   571 ;
                                     07CC   572 ;		VFY_CLEANUP EXECUTES SYSTEM SERVICES TO UNDO THE
                                     07CC   573 ; EFFECT OF THOSE ISSUED IN THE VERIFY SUBROUTINE. VFY_CLEANUP MUST
                                     07CC   574 ; ASSUME THAT VERIFY MAY NOT HAVE EXECUTED IN ITS ENTIRETY (IF AN
                                     07CC   575 ; ERROR IS FOUND). ALSO, VFY_CLEANUP MAY ISSUE SS_CHECK OR ERR_EXIT
                                     07CC   576 ; ONLY AFTER PERFORMING ALL OF ITS CLEANUP OPERATIONS; THIS IS REQUIRED
                                     07CC   577 ; IN THE EVENT THAT VFY_CLEANUP IS CALLED DURING ERROR PROCESSING,
                                     07CC   578 ; WHEN PERFORMING THE REQUIRED CLEANUP IS MORE IMPORTANT THAN
                                     07CC   579 ; POSSIBLY DISCOVERING A SECOND ERROR.
                                     07CC   580 ;
                                     07CC   581 ; CALLING SEQUENCE:
                                     07CC   582 ;
                                     07CC   583 ;	BSBW VFY_CLEANUP
                                     07CC   584 ;
                                     07CC   585 ; INPUT PARAMETERS:
                                     07CC   586 ;
                                     07CC   587 ;	NONE
                                     07CC   588 ;
                                     07CC   589 ; IMPLICIT INPUTS:
                                     07CC   590 ;
                                     07CC   591 ;	R2,3,4,5,6 CONTAIN CURRENT CONDITION TABLE INDEX VALUES
                                     07CC   592 ;	  FOR COND TABLES 1,2,3,4,5, RESPECTIVELY.
                                     07CC   593 ;	FOR X = 1,2,3,4,5 :
                                     07CC   594 ;		CONDX_E - ADDRESS OF TABLE OF DATA VALUES FOR CONDX
                                     07CC   595 ;		  TABLE. IF THE CONTEXT OF TABLE X IS A SYSTEM SERVICE
                                     07CC   596 ;		  ARGUMENT, THE ARGUMENT NAME MAY BE USED AS A SYNONYM
                                     07CC   597 ;		  FOR CONDX_E.
                                     07CC   598 ;
                                     07CC   599 ; OUTPUT PARAMETERS:
                                     07CC   600 ;
                                     07CC   601 ;	NONE
                                     07CC   602 ;
                                     07CC   603 ; IMPLICIT OUTPUTS:
                                     07CC   604 ;
                                     07CC   605 ;	NONE
                                     07CC   606 ;
                                     07CC   607 ; COMPLETION CODES:
                                     07CC   608 ;
                                     07CC   609 ;	EFLAG SET TO NON-ZERO IF ERROR ENCOUNTERED.
                                     07CC   610 ;
                                     07CC   611 ; SIDE EFFECTS:
                                     07CC   612 ;
                                     07CC   613 ;	SS_CHECK AND ERR_EXIT MACROS CAUSE PREMATURE EXIT 
                                     07CC   614 ;	(VIA RSB) IF ERROR ENCOUNTERED.
                                     07CC   615 ;
                                     07CC   616 ;--
                                     07CC   617 
                                     07CC   618 
                                     07CC   619 
                                     07CC   620 VFY_CLEANUP::
                                     07CC   621 	$DELPRC_S PRCNAM=CREATED_PRN 	; DELETE CREATED PROCESS (IF STILL HERE)
                                 05  07DB   622 	RSB				; RETURN TO CALLER
                                     07DC   623 	.END
SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page  16
SYMBOL TABLE                                                                                                                     (1)

$$$$           = 00000787 R     05   CTL$GL_PHD       ********   X   05   MSG$_CRUNSOLIC = 00000002            
$$$CHARS       = 00000029            DESC           = 00000010  G         MSG$_DELPROC   = 00000003            
$$$CHARS1      = 0000000A            DEST_PIDADR      000000E3 R     04   MSG$_DELSMB    = 00000014            
$$$CHARS2      = 00000019            DIB$B_DEVCLASS   00000004            MSG$_DEVOFFLIN = 00000005            
$$$CHARS3      = 00000021            DIB$B_DEVTYPE    00000005            MSG$_DEVONLIN  = 00000007            
$$$CHARS4      = 00000026            DIB$C_LENGTH     00000024            MSG$_DISCON    = 00000033            
$$$CHARS5      = 00000000            DIB$K_LENGTH     00000024            MSG$_EXIT      = 00000034            
$$$COND_A      = 00000003            DIB$L_DEVCHAR    00000000            MSG$_INIOPR    = 00000010            
$$$STRINGS     = 00000001            DIB$L_DEVDEPEND  00000008            MSG$_INTMSG    = 00000035            
$$$STRINGS2    = 00000005            DIB$L_OPCNT      0000001C            MSG$_OPREPLY   = 00000009            
$$T1           = 00000001            DIB$L_OWNUIC     00000014            MSG$_OPRQST    = 00000008            
$$T2           = 00000004            DIB$L_PID        00000010            MSG$_PATHLOST  = 00000036            
BIT...         = 0000003B            DIB$W_DEVBUFSIZ  00000006            MSG$_PROTOCOL  = 00000037            
BYTE           = 00000001  G         DIB$W_DEVNAMOFF  0000000E            MSG$_REJECT    = 00000038            
CFLAG            ********   X   05   DIB$W_ERRCNT     0000001A            MSG$_RESOPR    = 00000013            
CHMRTN           ********   X   05   DIB$W_RECSIZ     00000022            MSG$_SCANBAD   = 00000028            
CHM_CONT         ********   X   05   DIB$W_UNIT       0000000C            MSG$_SCANRSP   = 00000029            
COMP_SC          ********   X   05   DIB$W_VOLNAMOFF  00000020            MSG$_SMBDON    = 00000009            
COND1            00000291 RG    05   DIB$W_VPROT      00000018            MSG$_SMBINI    = 00000008            
COND1_C        = 00000000            EFLAG            ********   X   05   MSG$_SMBRSP    = 00000020            
COND1_CLEANUP    00000292 RG    05   EQUIV_PID        0000009E R     03   MSG$_SNDACC    = 0000000A            
COND1_E          0000013E R     04   EXPV             ********   X   05   MSG$_SNDSMB    = 00000004            
COND1_H          000000FF RG    04   FAO_DESC         ********   X   05   MSG$_SUSOPR    = 00000012            
COND1_T          000000F3 R     04   FAO_LEN          ********   X   05   MSG$_THIRDPARTY= 00000039            
COND1_TAB        00000100 R     04   FORM_CONDS       000002E4 RG    05   MSG$_TIMEOUT   = 0000003A            
COND2            00000293 RG    05   FORM_CONDSX      000003CD R     05   MSG$_TRMHANGUP = 00000006            
COND2X           000002B5 R     05   GBL...         = 00000000            MSG$_TRMUNSOLIC= 00000001            
COND2_C        = 00000000            IMAGNAM          0000006D R     03   MSG$_XM_ATTN   = 0000000D            
COND2_CLEANUP    000002B6 RG    05   IO$_READVBLK     ********   X   05   MSG$_XM_DATAVL = 0000000B            
COND2_E          00000180 R     04   LOG$B_AMOD       0000000E            MSG$_XM_SHUTDN = 0000000C            
COND2_H          0000015F RG    04   LOG$B_TABLE      0000000B            MSG1_INP_CTL     00000019 R     03   
COND2_T          0000014A R     04   LOG$B_TYPE       0000000A            MSG3_ERR_CTL     00000039 RG    03   
COND2_TAB        00000160 R     04   LOG$C_GROUP    = 00000001            MSG_A            ********   X   05   
COND3            000002B7 RG    05   LOG$C_LENGTH     00000014            MSG_B            ********   X   05   
COND3X           000002DE R     05   LOG$C_NAMLENGTH= 00000040            MSG_CTXT         ********   X   05   
COND3_C        = 00000000            LOG$C_PROCESS  = 00000002            NOTARG         = 00000000  G         
COND3_CLEANUP    000002DF RG    05   LOG$C_SYSTEM   = 00000000            NULL           = 00000014  G         
COND3_E          0000021C R     04   LOG$K_LENGTH     00000014            ONES             ********   X   05   
COND3_H          0000019D RG    04   LOG$L_LTBL       00000004            ONE_MIN          00000051 R     03   
COND3_T          00000188 R     04   LOG$L_LTFL       00000000            OUTPUT_MSG       ********   X   05   
COND3_TAB        0000019E R     04   LOG$L_MBXUCB     00000010            PCB$B_ASTACT     0000000C            
COND4            000002E0 RG    05   LOG$T_NAME       00000014            PCB$B_ASTEN      0000000D            
COND4_C        = 00000014            LOG$W_GROUP      0000000C            PCB$B_PRI        0000000B            
COND4_CLEANUP    000002E1 RG    05   LOG$W_SIZE       00000008            PCB$B_PRIB       00000033            
COND4_H          0000022C RG    04   LOGNAM_PID       0000008C R     03   PCB$B_TYPE       0000000A            
COND4_T          0000022C R     04   LONG           = 00000004  G         PCB$B_WEFC       00000032            
COND4_TAB        0000022C R     04   MBXBUFF          00000063 R     04   PCB$C_LENGTH     0000007C            
COND5            000002E2 RG    05   MBXCHAN          00000008 R     04   PCB$K_LENGTH     0000007C            
COND5_C        = 00000014            MBXCHANINFO      0000000C R     04   PCB$L_ASTQBL     00000014            
COND5_CLEANUP    000002E3 RG    05   MBXUNIT          0000005F R     04   PCB$L_ASTQFL     00000010            
COND5_H          0000022D RG    04   MOD_MSG_CODE     ********   X   05   PCB$L_EFC2P      00000058            
COND5_T          0000022D R     04   MOD_MSG_PRINT    ********   X   05   PCB$L_EFC3P      0000005C            
COND5_TAB        0000022D R     04   MSG$_ABOOPR    = 00000011            PCB$L_EFCS       00000050            
CONFLICT         ********   X   05   MSG$_ABORT     = 00000030            PCB$L_EFCU       00000054            
CREATED_PID      000000EF R     04   MSG$_ACCRSP    = 00000021            PCB$L_EFWM       0000004C            
CREATED_PRN      00000059 R     03   MSG$_CONFIRM   = 00000031            PCB$L_OWNER      0000001C            
CREATING_PID     000000EB R     04   MSG$_CONNECT   = 00000032            PCB$L_PHD        00000064            
SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page  17
SYMBOL TABLE                                                                                                                     (1)

PCB$L_PHYPCB     00000018            PHD$B_PGTBPFC    00000039            PHD$W_BAK        00000048            
PCB$L_PID        00000060            PHD$C_LENGTH     00000118            PHD$W_DFWSCNT    0000001A            
PCB$L_PQB        0000004C            PHD$C_PHDPAGCTX= 00000008            PHD$W_EMPTPG     000000D8            
PCB$L_SQBL       00000004            PHD$K_LENGTH     00000118            PHD$W_EXTDYNWS   00000076            
PCB$L_SQFL       00000000            PHD$L_BIOCNT     00000054            PHD$W_FILLM      00000060            
PCB$L_STS        00000028            PHD$L_CPULIM     00000058            PHD$W_FLAGS      0000003A            
PCB$L_UIC        00000020            PHD$L_CPUTIM     0000003C            PHD$W_PHVINDEX   00000046            
PCB$L_WSSWP      00000024            PHD$L_DIOCNT     00000050            PHD$W_PRCLM      00000042            
PCB$L_WTIME      0000002C            PHD$L_ESP        0000007C            PHD$W_PST        00000020            
PCB$T_LNAME      0000006C            PHD$L_FREP0VA    00000028            PHD$W_PSTBASMAX  0000004A            
PCB$V_ASTPEN   = 00000011            PHD$L_FREP1VA    00000030            PHD$W_PSTFREE    00000026            
PCB$V_BATCH    = 0000000E            PHD$L_FREPTECNT  0000002C            PHD$W_PSTLAST    00000024            
PCB$V_DELPEN   = 00000001            PHD$L_KSP        00000078            PHD$W_PTCNTACT   00000070            
PCB$V_FORCPEN  = 00000002            PHD$L_P0BR       000000C8            PHD$W_PTCNTLCK   0000006C            
PCB$V_HIBER    = 00000013            PHD$L_P0LRASTL   000000CC            PHD$W_PTCNTMAX   00000072            
PCB$V_INQUAN   = 00000003            PHD$L_P1BR       000000D0            PHD$W_PTCNTVAL   0000006E            
PCB$V_LOGIN    = 00000014            PHD$L_P1LR       000000D4            PHD$W_QUANT      00000040            
PCB$V_NETWRK   = 00000015            PHD$L_PAGEFLTS   0000004C            PHD$W_TQLM       00000062            
PCB$V_NOACNT   = 0000000F            PHD$L_PAGFIL     0000001C            PHD$W_WSAUTH     0000000A            
PCB$V_NODELET  = 00000017            PHD$L_PC         000000C0            PHD$W_WSDYN      0000000E            
PCB$V_PHDRES   = 00000012            PHD$L_PCB        00000078            PHD$W_WSFLUID    00000074            
PCB$V_PSWAPM   = 00000004            PHD$L_PGFLCNT    00000034            PHD$W_WSLAST     00000012            
PCB$V_PWRAST   = 00000016            PHD$L_PGFLQUOTA  0000005C            PHD$W_WSLIST     00000008            
PCB$V_RES      = 00000000            PHD$L_PSL        000000C4            PHD$W_WSLOCK     0000000C            
PCB$V_RESPEN   = 00000005            PHD$L_PSTBASOFF  00000020            PHD$W_WSLX       0000004A            
PCB$V_SSFEXC   = 00000006            PHD$L_PTWSLELCK  00000064            PHD$W_WSNEXT     00000010            
PCB$V_SSFEXCE  = 00000007            PHD$L_PTWSLEVAL  00000068            PHD$W_WSQUOTA    00000018            
PCB$V_SSFEXCS  = 00000008            PHD$L_R0         00000088            PQL$_ASTLM     = 00000001            
PCB$V_SSFEXCU  = 00000009            PHD$L_R1         0000008C            PQL$_BIOLM     = 00000002            
PCB$V_SSRWAIT  = 0000000A            PHD$L_R10        000000B0            PQL$_BYTLM     = 00000003            
PCB$V_SUSPEN   = 0000000B            PHD$L_R11        000000B4            PQL$_CPULM     = 00000004            
PCB$V_SWPVBN   = 00000010            PHD$L_R12        000000B8            PQL$_DIOLM     = 00000005            
PCB$V_WAKEPEN  = 0000000C            PHD$L_R13        000000BC            PQL$_FILLM     = 00000006            
PCB$V_WALL     = 0000000D            PHD$L_R2         00000090            PQL$_LENGTH    = 0000000C            
PCB$W_APTCNT     00000034            PHD$L_R3         00000094            PQL$_LISTEND   = 00000000            
PCB$W_ASTCNT     0000003C            PHD$L_R4         00000098            PQL$_PGFLQUOTA = 00000007            
PCB$W_BIOCNT     0000003E            PHD$L_R5         0000009C            PQL$_PRCLM     = 00000008            
PCB$W_BIOLM      00000040            PHD$L_R6         000000A0            PQL$_TQELM     = 00000009            
PCB$W_BYTCNT     00000042            PHD$L_R7         000000A4            PQL$_WSDEFAULT = 0000000B            
PCB$W_BYTLM      00000068            PHD$L_R8         000000A8            PQL$_WSQUOTA   = 0000000A            
PCB$W_DIOCNT     00000044            PHD$L_R9         000000AC            PRIVMASK         00000000 R     04   
PCB$W_DIOLM      00000046            PHD$L_REFERFLT   00000014            PROCESS_ERR      ********   X   05   
PCB$W_FILCNT     00000048            PHD$L_SSP        00000080            PRV$V_ALLSPOOL = 00000004            
PCB$W_GPGCNT     00000038            PHD$L_USP        00000084            PRV$V_BUGCHK   = 00000017            
PCB$W_GRP        00000022            PHD$L_WSL        00000118            PRV$V_CMEXEC   = 00000001            
PCB$W_MEM        00000020            PHD$M_DALCSTX  = 00000002            PRV$V_CMKRNL   = 00000000            
PCB$W_MTXCNT     0000000E            PHD$M_PFMFLG   = 00000001            PRV$V_DETACH   = 00000005            
PCB$W_PPGCNT     0000003A            PHD$M_WSPEAKCHK= 00000004            PRV$V_DIAGNOSE = 00000006            
PCB$W_PRCCNT     0000006A            PHD$Q_PRIVMSK    00000000            PRV$V_EXQUOTA  = 00000013            
PCB$W_SIZE       00000008            PHD$S_ASTLVL   = 00000008            PRV$V_GROUP    = 00000008            
PCB$W_STATE      00000030            PHD$S_P0LR     = 00000018            PRV$V_GRPNAM   = 00000003            
PCB$W_TMBU       00000036            PHD$V_ASTLVL   = 00000018            PRV$V_LOG_IO   = 00000007            
PCB$W_TQCNT      0000004A            PHD$V_DALCSTX  = 00000001            PRV$V_MOUNT    = 00000011            
PCV              ********   X   05   PHD$V_P0LR     = 00000000            PRV$V_NETMBX   = 00000014            
PHD$B_ASTLVL     000000CF            PHD$V_PFMFLG   = 00000000            PRV$V_NOACNT   = 00000009            
PHD$B_DFPFC      00000038            PHD$V_WSPEAKCHK= 00000002            PRV$V_OPER     = 00000012            
PHD$B_PAGFIL     0000001F            PHD$W_ASTLM      00000044            PRV$V_PHY_IO   = 00000016            
SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page  18
SYMBOL TABLE                                                                                                                     (1)

PRV$V_PRMCEB   = 0000000A            
PRV$V_PRMGBL   = 00000018            
PRV$V_PRMMBX   = 0000000B            
PRV$V_PSWAPM   = 0000000C            
PRV$V_SETPRI   = 0000000D            
PRV$V_SETPRV   = 0000000E            
PRV$V_SYSGBL   = 00000019            
PRV$V_SYSNAM   = 00000002            
PRV$V_TMPMBX   = 0000000F            
PRV$V_VOLPRO   = 00000015            
PRV$V_WORLD    = 00000010            
QUAD           = 00000008  G         
QUOTALIST        000000A6 R     03   
RECV             ********   X   05   
REST_REGS        ********   X   05   
SAVE_REGS        ********   X   05   
SCH$GL_CURPCB    ********   X   05   
SS$_NORMAL       ********   X   05   
SUCCESS          ********   X   05   
SYS$CANWAK       ********   X   05   
SYS$CMKRNL       ********   X   05   
SYS$CRELOG       ********   X   05   
SYS$CREMBX       ********   X   05   
SYS$CREPRC       ********   X   05   
SYS$DELLOG       ********   X   05   
SYS$DELMBX       ********   X   05   
SYS$DELPRC       ********   X   05   
SYS$FAO          ********   X   05   
SYS$GETCHN       ********   X   05   
SYS$HIBER        ********   X   05   
SYS$QIOW         ********   X   05   
SYS$SCHDWK       ********   X   05   
SYS$SETPRN       ********   X   05   
SYS$WAKE         ********   X   05   
TESTNUM          ********   X   05   
TEST_MOD_NAME    00000000 RG    03   
TEST_MOD_NAME_D  00000009 R     03   
TEST_MOD_SUCC    ********   X   05   
TMD_ADDR         ********   X   05   
TM_CLEANUP       0000026E RG    05   
TM_SETUP         00000000 RG    05   
VERIFY           000003CE RG    05   
VERIFYX          000007CB R     05   
VFY_CLEANUP      000007CC RG    05   
WORD           = 00000002  G         
WRITE_MSG2       ********   X   05   
ZEROPID          000000E7 R     04   


PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
$ABS$            0000011C      02     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
RODATA           000000C9      03     NOPIC   USR   CON   REL   LCL NOSHR NOEXE   RD  NOWRT LONG  
RWDATA           0000022E      04     NOPIC   USR   CON   REL   LCL NOSHR NOEXE   RD    WRT LONG  
SATSSS36         000007DC      05     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
SATSSS36        SATS SYSTEM SERVICE TESTS  $DELPRC (SUCC S.C.)   22-AUG-1978 04:02:41   VAX-11 MACRO X0.3-11               Page  19
PROGRAM SECTION SYNOPSIS                                                                                                         (1)



THERE WERE NO ERRORS OR WARNINGS.
8170. BYTES LEFT IN FREE MEMORY POOL.
704. BYTES OF RECLAIMED MEMORY.
OBJ$:SATSSS36,LIS$:SATSSS36/-SP=EXECML$/ML,LIB$:SYSTST.MLB/ML,SRC$:SATSSS36
74 MLB DIR RDS - 987 GETS TO DEFINE 43 MACROS. 56 INTER. FILE WRITES. 

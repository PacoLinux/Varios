SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (1)      48  DECLARATIONS
   (1)      81  CONDITION TABLES
   (1)     112  TM_SETUP, TM_CLEANUP
   (1)     175  CONDITION SUBROUTINES - SETUP AND CLEANUP 
   (1)     252  FORM_CONDS
   (1)     345  VERIFY
   (1)     515  VFY_CLEANUP
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page   1
1.0                                                                                                                              (1)

                                     0000     1 	.TITLE	SATSSS79 SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)
                                     0000     2 	.IDENT	/1.0/
                                     0000     3 
                                     0000     4 ;
                                     0000     5 ;			  COPYRIGHT (c) 1977,1978 BY
                                     0000     6 ;	      DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
                                     0000     7 ;
                                     0000     8 ; THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND  COPIED
                                     0000     9 ; ONLY  IN  ACCORDANCE  WITH  THE  TERMS  OF  SUCH  LICENSE AND WITH THE
                                     0000    10 ; INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE OR  ANY  OTHER
                                     0000    11 ; COPIES  THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY
                                     0000    12 ; OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE  IS  HEREBY
                                     0000    13 ; TRANSFERRED.
                                     0000    14 ;
                                     0000    15 ; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE  WITHOUT  NOTICE
                                     0000    16 ; AND  SHOULD  NOT  BE  CONSTRUED  AS  A COMMITMENT BY DIGITAL EQUIPMENT
                                     0000    17 ; CORPORATION.
                                     0000    18 ;
                                     0000    19 ; DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE OR  RELIABILITY  OF  ITS
                                     0000    20 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.
                                     0000    21 ;
                                     0000    22 
                                     0000    23 ;++
                                     0000    24 ; FACILITY:	SYSTST (SATS SYSTEM SERVICE TESTS)
                                     0000    25 ;
                                     0000    26 ; ABSTRACT:
                                     0000    27 ;
                                     0000    28 ;		THIS MODULE CONTAINS SUBROUTINES WHICH, WHEN LINKED
                                     0000    29 ; WITH SUCCOMMON.OBJ, FORM TEST MODULE SATSSS79 TO TEST SUCCESSFUL
                                     0000    30 ; OPERATION OF THE $LCK/ULKPAG SYSTEM SERVICES. EACH SERVICE IS INVOKED
                                     0000    31 ; UNDER VARIOUS INPUT CONDITIONS WITH VARYING INPUT PARAMETERS. ONLY
                                     0000    32 ; SUCCESSFUL STATUS CODES ARE EXPECTED IN THIS TEST MODULE.  CORRECT 
                                     0000    33 ; OPERATION OF EACH SERVICE FOR EACH OF ITS ISSUANCES IS VERIFIED BY
                                     0000    34 ; CHECKING FOR AN SS$_NORMAL STATUS CODE, EXPECTED RETURN ARGUMENTS
                                     0000    35 ; AND EXPECTED FUNCTIONALITY PERFORMED.
                                     0000    36 ;
                                     0000    37 ; ENVIRONMENT:	USER MODE IMAGE; NEEDS CMKRNL PRIVILEGE,
                                     0000    38 ;		DYNAMICALLY ACQUIRES OTHER PRIVILEGES, AS NEEDED.
                                     0000    39 ;
                                     0000    40 ; AUTHOR: THOMAS L. CAFARELLA,		CREATION DATE: APR, 1978
                                     0000    41 ;
                                     0000    42 ; MODIFIED BY:
                                     0000    43 ;
                                     0000    44 ;	, : VERSION
                                     0000    45 ; 01	- 
                                     0000    46 ;--
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page   2
1.0             DECLARATIONS                                                                                                     (1)

                                     0000    48 	.SBTTL	DECLARATIONS
                                     0000    49 ;
                                     0000    50 ; INCLUDE FILES:
                                     0000    51 ;
                                     0000    52 	$PRVDEF				; PRIVILEGE BIT DEFINITIONS
                                     0000    53 	$PHDDEF				; PROCESS HEADER OFFSETS
                                     0000    54 	$PSLDEF				; PROCESSOR STATUS LONGWORD DEFINITIONS
                                     0000    55 ;
                                     0000    56 ; MACROS:
                                     0000    57 ;
                                     0000    58 ;
                                     0000    59 ; EQUATED SYMBOLS:
                                     0000    60 ;
                                     0000    61 ;
                                     0000    62 ; OWN STORAGE:
                                     0000    63 ;
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page   3
1.0             DECLARATIONS                                                                                                     (1)

                                 00000000    65 	.PSECT	RODATA,RD,NOWRT,NOEXE,LONG
                                     0000    66 TEST_MOD_NAME::	STRING	C,<SATSSS79>	; TEST MODULE NAME
                                     0009    67 TEST_MOD_NAME_D: STRING	I,<SATSSS79>	; TEST MODULE NAME DESCRIPTOR
                                     0019    68 MSG1_INP_CTL:	STRING	I,<  SSLUP!4ZW: CONDITIONS:>
                                     0039    69 					; FAO CTL STRING FOR MSG1 IN SUCCOMMON.MAR
                                     0039    70 MSG3_ERR_CTL::	STRING	I,< *SSLUP!4ZW: !AS> 
                                     0051    71 					; FAO CTL STRING FOR MSG3 IN SUCCOMMON.MAR
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page   4
1.0             DECLARATIONS                                                                                                     (1)

                                 00000000    73 	.PSECT	RWDATA,RD,WRT,NOEXE,LONG
                           00000008  0000    74 PRIVMASK:	.BLKQ	1		; ADDR OF PRIVILEGE MASK (IN PHD)
                           0000000C  0008    75 PAGCNT_ERG:	.BLKL	1		; PAGCNT ARGUMENT FOR EXPREG
                           00000010  000C    76 REGION_ERG:	.BLKL	1		; REGION ARGUMENT FOR EXPREG
                           00000014  0010    77 ACMODE_ERG:	.BLKL	1		; ACMODE ARGUMENT FOR EXPREG
                           0000001C  0014    78 RETADR:		.BLKQ	1		; RETADR ARG FOR SUBJ $LCKPAG & $ULKPAG
                           0000001D  001C    79 LOCKMODE:	.BLKB	1		; SAVE AREA FOR MODE OF LCKPAG/ULKPAG ISSUER
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page   5
1.0             CONDITION TABLES                                                                                                 (1)

                                     001D    81 	.SBTTL	CONDITION TABLES
                                     001D    82 ;
                                     001D    83 ;	***** CONDITION TABLES FOR LCKPAG/ULKPAG SYSTEM SERVICES *****
                                     001D    84 ;
                                     001D    85 	COND	1,QUAD,<INADR>,-
                                     001D    86 		  <CURRENT IMAGE PAGE>,-
                                     001D    87 		  <PROGRAM REGION -- SINGLE PAGE>,-
                                     001D    88 		  <PROGRAM REGION -- MULTIPLE PAGES>,-
                                     001D    89 		  <CONTROL REGION -- SINGLE PAGE>,-
                                     001D    90 		  <CONTROL REGION -- MULTIPLE PAGES>,-
                                     001D    91  
                  00000000'00000000' 00C9    92 		    .LONG	TM_SETUP,TM_SETUP
00000000'00000000'00000000'00000000' 00D1    93 		    .LONG	0[8]
00000000'00000000'00000000'00000000' 00E1       
                                     00F1    94 ;
                                     00F1    95 	COND	2,NOTARG,<PAGE OWNER/LOCKER ACCESS MODES>,-
                                     00F1    96 		  <KERNEL/KERNEL>,-
                                     00F1    97 		  <USER/KERNEL>,-
                                     00F1    98 		  <USER/USER>,-
                                     00F1    99  
                              00 00  0141   100 		    .BYTE	PSL$C_KERNEL,PSL$C_KERNEL
                              00 03  0143   101 		    .BYTE	PSL$C_USER,PSL$C_KERNEL
                              03 03  0145   102 		    .BYTE	PSL$C_USER,PSL$C_USER
                                     0147   103 ;
                                     0147   104 	COND	3,NULL
                                     0148   105  
                                     0148   106 	COND	4,NULL
                                     0149   107  
                                     0149   108 	COND	5,NULL
                                     014A   109  
                                 00000000   110 	.PSECT	SATSSS79,RD,WRT,EXE
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page   6
1.0             TM_SETUP, TM_CLEANUP                                                                                             (1)

                                     0000   112 	.SBTTL	TM_SETUP, TM_CLEANUP
                                     0000   113 ;++
                                     0000   114 ; FUNCTIONAL DESCRIPTION:
                                     0000   115 ;
                                     0000   116 ;		TM_SETUP AND TM_CLEANUP ARE CALLED TO PERFORM
                                     0000   117 ; REQUIRED HOUSEKEEPING AT THE BEGINNING AND END, RESPECTIVELY, OF
                                     0000   118 ; TEST MODULE EXECUTION.
                                     0000   119 ;
                                     0000   120 ; CALLING SEQUENCE:
                                     0000   121 ;
                                     0000   122 ;	BSBW TM_SETUP   BSBW TM_CLEANUP
                                     0000   123 ;
                                     0000   124 ; INPUT PARAMETERS:
                                     0000   125 ;
                                     0000   126 ;	NONE
                                     0000   127 ;
                                     0000   128 ; IMPLICIT INPUTS:
                                     0000   129 ;
                                     0000   130 ;	NONE
                                     0000   131 ;
                                     0000   132 ; OUTPUT PARAMETERS:
                                     0000   133 ;
                                     0000   134 ;	NONE
                                     0000   135 ;
                                     0000   136 ; IMPLICIT OUTPUTS:
                                     0000   137 ;
                                     0000   138 ;	TM_SETUP:  COND TABLE INDEX REGISTERS (R2,3,4,5,6) CLEARED;
                                     0000   139 ;		   ALL PRIVILEGES ACQUIRED.
                                     0000   140 ;
                                     0000   141 ; COMPLETION CODES:
                                     0000   142 ;
                                     0000   143 ;	EFLAG SET TO NON-ZERO IF ERROR ENCOUNTERED.
                                     0000   144 ;
                                     0000   145 ; SIDE EFFECTS:
                                     0000   146 ;
                                     0000   147 ;	SS_CHECK AND ERR_EXIT MACROS CAUSE PREMATURE EXIT 
                                     0000   148 ;	(VIA RSB) IF ERROR ENCOUNTERED.
                                     0000   149 ;
                                     0000   150 ;--
                                     0000   151 
                                     0000   152 
                                     0000   153 
                                     0000   154 TM_SETUP::
                          52     D4  0000   155 	CLRL	R2			; INITIALIZE
                          53     D4  0002   156 	CLRL	R3			; .. CONDITION
                          54     D4  0004   157 	CLRL	R4			; .... TABLE
                          55     D4  0006   158 	CLRL	R5			; ...... INDEX
                          56     D4  0008   159 	CLRL	R6			; ........ REGISTERS
                          FFF3'  30  000A   160 	BSBW	MOD_MSG_PRINT		; PRINT TEST MODULE BEGIN MSG
   00000000'EF   00000000'EF     DE  000D   161 	MOVAL	TEST_MOD_SUCC,TMD_ADDR	; ASSUME END MSG WILL SHOW SUCCESS
            00   00000000'8F     F0  0018   162 	INSV	#SUCCESS,#0,#3,MOD_MSG_CODE ; ADJUST STATUS CODE FOR SUCCESS
   00000000'EF            03         001F       
                                     0025   163 	MODE	TO,5$,KRNL		; KERNEL MODE TO ACCESS PHD
            59   00000000'9F     D0  0048   164 	MOVL	@#CTL$GL_PHD,R9		; GET PROCESS HEADER ADDRESS
   00000000'EF            69     DE  004F   165 	MOVAL	PHD$Q_PRIVMSK(R9),PRIVMASK ; GET PRIV MASK ADDRESS
                                     0056   166 	MODE	FROM,5$	; BACK TO USER MODE
                                     0057   167 	PRIV	ADD,ALL			; GET ALL PRIVILEGES
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page   7
1.0             TM_SETUP, TM_CLEANUP                                                                                             (1)

                                     0080   168 	$SETPRN_S TEST_MOD_NAME_D 	; SET PROCESS NAME
                                     008D   169 	SS_CHECK  NORMAL		; CHECK STATUS CODE RETURNED FROM SETPRN
                                 05  00BB   170 	RSB				; RETURN TO MAIN ROUTINE
                                     00BC   171 TM_CLEANUP::
                          FF41'  30  00BC   172 	BSBW	MOD_MSG_PRINT		; PRINT TEST MODULE END MSG
                                 05  00BF   173 	RSB				; RETURN TO MAIN ROUTINE
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page   8
1.0             CONDITION SUBROUTINES - SETUP AND CLEANUP                                                                        (1)

                                     00C0   175 	.SBTTL	CONDITION SUBROUTINES - SETUP AND CLEANUP 
                                     00C0   176 ;++
                                     00C0   177 ; FUNCTIONAL DESCRIPTION:
                                     00C0   178 ;
                                     00C0   179 ;		CONDX AND CONDX_CLEANUP ARE SUBROUTINES WHICH ARE EXECUTED
                                     00C0   180 ; BEFORE AND AFTER THE VERIFY SUBROUTINE, RESPECTIVELY, WHENEVER A NEW
                                     00C0   181 ; CONDITION X VALUE IS SELECTED (SEE FUNCTIONAL DESCRIPTION OF SUCCOMMON
                                     00C0   182 ; ROUTINE IN SUCCOMMON.MAR). ANY SETUP FUNCTION PARTICULAR TO THE 
                                     00C0   183 ; CONDITION X TABLE IS INCLUDED IN THE CONDX SUBROUTINE AND CLEANED
                                     00C0   184 ; UP, IF NECESSARY, IN THE CONDX_CLEANUP SUBROUTINE. THIS INCLUDES,
                                     00C0   185 ; ESPECIALLY, CODE TO DETECT CONFLICTS AMONG CURRENT ENTRIES IN TWO
                                     00C0   186 ; OR MORE CONDITION TABLES. IF A CONFLICT IS DETECTED, A NON-ZERO
                                     00C0   187 ; VALUE IS STORED INTO CONFLICT, WHICH CAUSES THE CALLING ROUTINE
                                     00C0   188 ; (SUCCOMMON) TO SKIP THE CURRENT ENTRY IN THE CONDITION X TABLE.
                                     00C0   189 ;
                                     00C0   190 ; CALLING SEQUENCE:
                                     00C0   191 ;
                                     00C0   192 ;	BSBW CONDX   BSBW CONDX_CLEANUP
                                     00C0   193 ;	  WHERE X = 1,2,3,4,5
                                     00C0   194 ;
                                     00C0   195 ; INPUT PARAMETERS:
                                     00C0   196 ;
                                     00C0   197 ;	CONFLICT = 0
                                     00C0   198 ;
                                     00C0   199 ; IMPLICIT INPUTS:
                                     00C0   200 ;
                                     00C0   201 ;	R2,3,4,5,6 CONTAIN CURRENT CONDITION TABLE INDEX VALUES
                                     00C0   202 ;	  FOR COND TABLES 1,2,3,4,5, RESPECTIVELY.
                                     00C0   203 ;
                                     00C0   204 ; OUTPUT PARAMETERS:
                                     00C0   205 ;
                                     00C0   206 ;	CONFLICT SET TO NON-ZERO IF COND TABLE CONFLICT DETECTED.
                                     00C0   207 ;
                                     00C0   208 ; IMPLICIT OUTPUTS:
                                     00C0   209 ;
                                     00C0   210 ;	R2,3,4,5,6 PRESERVED
                                     00C0   211 ;
                                     00C0   212 ; COMPLETION CODES:
                                     00C0   213 ;
                                     00C0   214 ;	NONE
                                     00C0   215 ;
                                     00C0   216 ; SIDE EFFECTS:
                                     00C0   217 ;
                                     00C0   218 ;	NONE
                                     00C0   219 ;
                                     00C0   220 ;--
                                     00C0   221 
                                     00C0   222 
                                     00C0   223 
                                     00C0   224 COND1::
                                 05  00C0   225 	RSB				; RETURN TO MAIN ROUTINE
                                     00C1   226 COND1_CLEANUP::
                                 05  00C1   227 	RSB				; RETURN TO MAIN ROUTINE
                                     00C2   228 COND2::
                          52     D5  00C2   229 	TSTL	R2			; FIRST COND 1 ELEMENT ??
                          0F     12  00C4   230 	BNEQ	COND2X			; NO -- NO CONFLICT
                          53     D5  00C6   231 	TSTL	R3			; YES -- FIRST COND 2 ELEMENT ALSO ??
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page   9
1.0             CONDITION SUBROUTINES - SETUP AND CLEANUP                                                                        (1)

                          0B     12  00C8   232 	BNEQ	COND2X			; NO -- NO CONFLICT
   00000000'EF   00000000'EF     90  00CA   233 	MOVB	ONES,CONFLICT		; YES -- INDICATE CONFLICT BECAUSE ...
                                     00D5   234 					; ... CURRENT IMAGE PAGE NOT OWNED BY KRNL
                                     00D5   235 COND2X:
                                 05  00D5   236 	RSB				; RETURN TO MAIN ROUTINE
                                     00D6   237 COND2_CLEANUP::
                                 05  00D6   238 	RSB				; RETURN TO MAIN ROUTINE
                                     00D7   239 COND3::
                                 05  00D7   240 	RSB				; RETURN TO MAIN ROUTINE
                                     00D8   241 COND3_CLEANUP::
                                 05  00D8   242 	RSB				; RETURN TO MAIN ROUTINE
                                     00D9   243 COND4::
                                 05  00D9   244 	RSB				; RETURN TO MAIN ROUTINE
                                     00DA   245 COND4_CLEANUP::
                                 05  00DA   246 	RSB				; RETURN TO MAIN ROUTINE
                                     00DB   247 COND5::
                                 05  00DB   248 	RSB				; RETURN TO MAIN ROUTINE
                                     00DC   249 COND5_CLEANUP::
                                 05  00DC   250 	RSB				; RETURN TO MAIN ROUTINE
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page  10
1.0             FORM_CONDS                                                                                                       (1)

                                     00DD   252 	.SBTTL	FORM_CONDS
                                     00DD   253 ;++
                                     00DD   254 ; FUNCTIONAL DESCRIPTION:
                                     00DD   255 ;
                                     00DD   256 ; 		FORM_CONDS FORMATS AND PRINTS INFORMATION ABOUT
                                     00DD   257 ;  THE CURRENT ELEMENT IN EACH OF THE CONDITION TABLES.
                                     00DD   258 ;
                                     00DD   259 ; CALLING SEQUENCE:
                                     00DD   260 ;
                                     00DD   261 ;	BSBW FORM_CONDS
                                     00DD   262 ;
                                     00DD   263 ; INPUT PARAMETERS:
                                     00DD   264 ;
                                     00DD   265 ;	NONE
                                     00DD   266 ;
                                     00DD   267 ; IMPLICIT INPUTS:
                                     00DD   268 ;
                                     00DD   269 ;	R2,3,4,5,6 CONTAIN CURRENT CONDITION TABLE INDEX VALUES
                                     00DD   270 ;	  FOR COND TABLES 1,2,3,4,5, RESPECTIVELY.
                                     00DD   271 ;	FOR X = 1,2,3,4,5 :
                                     00DD   272 ;		CONDX_T - TITLE TEXT FOR CONDX TABLE
                                     00DD   273 ;		CONDX_TAB - ELEMENT TEXT FOR CONDX TABLE
                                     00DD   274 ;		CONDX_C - CONTEXT OF THE CONDX TABLE
                                     00DD   275 ;		CONDX_E - DATA ELEMENTS OF THE CONDX TABLE
                                     00DD   276 ;
                                     00DD   277 ; OUTPUT PARAMETERS:
                                     00DD   278 ;
                                     00DD   279 ;	NONE
                                     00DD   280 ;
                                     00DD   281 ; IMPLICIT OUTPUTS:
                                     00DD   282 ;
                                     00DD   283 ;	NONE
                                     00DD   284 ;
                                     00DD   285 ; COMPLETION CODES:
                                     00DD   286 ;
                                     00DD   287 ;	NONE
                                     00DD   288 ;
                                     00DD   289 ; SIDE EFFECTS:
                                     00DD   290 ;
                                     00DD   291 ;	NONE
                                     00DD   292 ;
                                     00DD   293 ;--
                                     00DD   294 
                                     00DD   295 
                                     00DD   296 
                                     00DD   297 FORM_CONDS::
                                     00DD   298 	$FAO_S	MSG1_INP_CTL,FAO_LEN,FAO_DESC,TESTNUM
                                     00FC   299 					; FORMAT CONDITIONS HEADER MSG
                          FF01'  30  00FC   300 	BSBW	OUTPUT_MSG		; ... AND PRINT IT
            14            08     91  00FF   301 	CMPB	#COND1_C,#NULL		; IS CONDITION 1 NULL ?
                          03     12  0102   302 	BNEQU	10$			; NO -- CONTINUE
                          00CB   31  0104   303 	BRW	FORM_CONDSX		; YES -- SUBROUTINE IS FINISHED
                                     0107   304 10$:
   00000000'EF   0000001D'EF     DE  0107   305 	MOVAL	COND1_T,MSG_A		; SAVE ADDRESS OF CONDITION 1 TITLE FOR FAO
   00000000'EF   00000024'EF42   D0  0112   306 	MOVL	COND1_TAB[R2],MSG_B 	; SAVE ADDR OF COND 1 CURR TEXT ELT FOR FAO
   00000000'EF            08     90  011E   307 	MOVB	#COND1_C,MSG_CTXT 	; SAVE CONDITION 1 CONTEXT FOR FAO
                                     0125   308 	MOV_VAL	COND1_C,COND1_E[R2],MSG_DATA1 ; GIVE COND 1 DATA VALUE TO FAO
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page  11
1.0             FORM_CONDS                                                                                                       (1)

                          FECC'  30  0131   309 	BSBW	WRITE_MSG2		; FORMAT AND WRITE CONDITION 1 MSG
            14            00     91  0134   310 	CMPB	#COND2_C,#NULL		; IS CONDITION 2 NULL ?
                          03     12  0137   311 	BNEQU	20$			; NO -- CONTINUE
                          0096   31  0139   312 	BRW	FORM_CONDSX		; YES -- SUBROUTINE IS FINISHED
                                     013C   313 20$:
   00000000'EF   000000F1'EF     DE  013C   314 	MOVAL	COND2_T,MSG_A		; SAVE ADDRESS OF CONDITION 2 TITLE FOR FAO
   00000000'EF   00000111'EF43   D0  0147   315 	MOVL	COND2_TAB[R3],MSG_B 	; SAVE ADDR OF COND 2 CURR TEXT ELT FOR FAO
   00000000'EF            00     90  0153   316 	MOVB	#COND2_C,MSG_CTXT 	; SAVE CONDITION 2 CONTEXT FOR FAO
                                     015A   317 	MOV_VAL	COND2_C,COND2_E[R3],MSG_DATA1 ; GIVE COND 2 DATA VALUE TO FAO
                          FEA3'  30  015A   318 	BSBW	WRITE_MSG2		; FORMAT AND WRITE CONDITION 2 MSG
            14            14     91  015D   319 	CMPB	#COND3_C,#NULL		; IS CONDITION 3 NULL ?
                          03     12  0160   320 	BNEQU	30$			; NO -- CONTINUE
                          006D   31  0162   321 	BRW	FORM_CONDSX		; YES -- SUBROUTINE IS FINISHED
                                     0165   322 30$:
   00000000'EF   00000147'EF     DE  0165   323 	MOVAL	COND3_T,MSG_A		; SAVE ADDRESS OF CONDITION 3 TITLE FOR FAO
   00000000'EF   00000147'EF44   D0  0170   324 	MOVL	COND3_TAB[R4],MSG_B 	; SAVE ADDR OF COND 3 CURR TEXT ELT FOR FAO
   00000000'EF            14     90  017C   325 	MOVB	#COND3_C,MSG_CTXT 	; SAVE CONDITION 3 CONTEXT FOR FAO
                                     0183   326 	MOV_VAL	COND3_C,COND3_E[R4],MSG_DATA1 ; GIVE COND 3 DATA VALUE TO FAO
                          FE7A'  30  0183   327 	BSBW	WRITE_MSG2		; FORMAT AND WRITE CONDITION 3 MSG
            14            14     91  0186   328 	CMPB	#COND4_C,#NULL		; IS CONDITION 4 NULL ?
                          47     13  0189   329 	BEQLU	FORM_CONDSX		; YES -- SUBROUTINE IS FINISHED
   00000000'EF   00000148'EF     DE  018B   330 	MOVAL	COND4_T,MSG_A		; SAVE ADDRESS OF CONDITION 4 TITLE FOR FAO
   00000000'EF   00000148'EF45   D0  0196   331 	MOVL	COND4_TAB[R5],MSG_B 	; SAVE ADDR OF COND 4 CURR TEXT ELT FOR FAO
   00000000'EF            14     90  01A2   332 	MOVB	#COND4_C,MSG_CTXT 	; SAVE CONDITION 4 CONTEXT FOR FAO
                                     01A9   333 	MOV_VAL	COND4_C,COND4_E[R5],MSG_DATA1 ; GIVE COND 4 DATA VALUE TO FAO
                          FE54'  30  01A9   334 	BSBW	WRITE_MSG2		; FORMAT AND WRITE CONDITION 4 MSG
            14            14     91  01AC   335 	CMPB	#COND5_C,#NULL		; IS CONDITION 5 NULL ?
                          21     13  01AF   336 	BEQLU	FORM_CONDSX		; YES -- SUBROUTINE IS FINISHED
   00000000'EF   00000149'EF     DE  01B1   337 	MOVAL	COND5_T,MSG_A		; SAVE ADDRESS OF CONDITION 5 TITLE FOR FAO
   00000000'EF   00000149'EF46   D0  01BC   338 	MOVL	COND5_TAB[R6],MSG_B 	; SAVE ADDR OF COND 5 CURR TEXT ELT FOR FAO
   00000000'EF            14     90  01C8   339 	MOVB	#COND5_C,MSG_CTXT 	; SAVE CONDITION 5 CONTEXT FOR FAO
                                     01CF   340 	MOV_VAL	COND5_C,COND5_E[R6],MSG_DATA1 ; GIVE COND 5 DATA VALUE TO FAO
                          FE2E'  30  01CF   341 	BSBW	WRITE_MSG2		; FORMAT AND WRITE CONDITION 5 MSG
                                     01D2   342 FORM_CONDSX:
                                 05  01D2   343 	RSB				; RETURN TO CALLER
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page  12
1.0             VERIFY                                                                                                           (1)

                                     01D3   345 	.SBTTL	VERIFY
                                     01D3   346 ;++
                                     01D3   347 ; FUNCTIONAL DESCRIPTION:
                                     01D3   348 ;
                                     01D3   349 ;		VERIFY IS CALLED ONCE FOR EACH COMBINATION OF CONDITION
                                     01D3   350 ; TABLE VALUES (AS DETERMINED BY THE INDEX REGISTERS R2,3,4,5,6 FOR
                                     01D3   351 ; COND TABLES 1,2,3,4,5, RESPECTIVELY). VERIFY ESTABLISHES THE CONDITIONS
                                     01D3   352 ; SPECIFIED BY THE COND TABLES AND ISSUES THE SUBJECT SYSTEM SERVICES
                                     01D3   353 ; ($LCKPAG & $ULKPAG). THEN, THE SUCCESSFUL OPERATION OF THE SERVICES IS
                                     01D3   354 ; VERIFIED BY EXAMINING THE STATUS CODES RETURNED, THE VALUES FOR RETURN ARGS
                                     01D3   355 ; AND THE FUNCTIONALITY PERFORMED. THE EXAMINATIONS TAKE THE FORM OF 
                                     01D3   356 ; COMPARISONS AGAINST EXPECTED VALUES. ANY FAILING COMPARISON CAUSES AN
                                     01D3   357 ; ERR_EXIT MACRO TO BE EXECUTED (EITHER DIRECTLY, OR INDIRECTLY,
                                     01D3   358 ; THROUGH THE SS_CHECK MACRO); ERR_EXIT SETS EFLAG TO NON-ZERO,
                                     01D3   359 ; PRINTS ERROR MESSAGES AND CAUSES AN IMMEDIATE RSB TO CALLER.
                                     01D3   360 ; WHEN ERR_EXIT IS EXECUTED, FURTHER CALLS TO VERIFY ARE SUPPRESSED,
                                     01D3   361 ; AND, AFTER EXECUTING CLEANUP SUBROUTINES, THE IMAGE EXITS.
                                     01D3   362 ;
                                     01D3   363 ; CALLING SEQUENCE:
                                     01D3   364 ;
                                     01D3   365 ;	BSBW VERIFY
                                     01D3   366 ;
                                     01D3   367 ; INPUT PARAMETERS:
                                     01D3   368 ;
                                     01D3   369 ;	NONE
                                     01D3   370 ;
                                     01D3   371 ; IMPLICIT INPUTS:
                                     01D3   372 ;
                                     01D3   373 ;	R2,3,4,5,6 CONTAIN CURRENT CONDITION TABLE INDEX VALUES
                                     01D3   374 ;	  FOR COND TABLES 1,2,3,4,5, RESPECTIVELY.
                                     01D3   375 ;	FOR X = 1,2,3,4,5 :
                                     01D3   376 ;		CONDX_E - ADDRESS OF TABLE OF DATA VALUES FOR CONDX
                                     01D3   377 ;		  TABLE. IF THE CONTEXT OF TABLE X IS A SYSTEM SERVICE
                                     01D3   378 ;		  ARGUMENT, THE ARGUMENT NAME MAY BE USED AS A SYNONYM
                                     01D3   379 ;		  FOR CONDX_E.
                                     01D3   380 ;
                                     01D3   381 ; OUTPUT PARAMETERS:
                                     01D3   382 ;
                                     01D3   383 ;	NONE
                                     01D3   384 ;
                                     01D3   385 ; IMPLICIT OUTPUTS:
                                     01D3   386 ;
                                     01D3   387 ;	VERIFY HAS NO OUTPUT. SINCE ITS PURPOSE IS TO TEST FOR ERRORS,
                                     01D3   388 ;	IT MERELY RETURNS TO CALLER NORMALLY AFTER THE TESTS, PROVIDING
                                     01D3   389 ;	ALL WERE SUCCESSFUL; IF AN ERROR IS DISCOVERED, RETURN IS VIA
                                     01D3   390 ;	AN ERR_EXIT OR SS_CHECK MACRO, BOTH OF WHICH DOCUMENT DETECTED
                                     01D3   391 ;	ERRORS.
                                     01D3   392 ;
                                     01D3   393 ; COMPLETION CODES:
                                     01D3   394 ;
                                     01D3   395 ;	EFLAG SET TO NON-ZERO IF ERROR ENCOUNTERED.
                                     01D3   396 ;
                                     01D3   397 ; SIDE EFFECTS:
                                     01D3   398 ;
                                     01D3   399 ;	SS_CHECK AND ERR_EXIT MACROS CAUSE PREMATURE EXIT 
                                     01D3   400 ;	(VIA RSB) IF ERROR ENCOUNTERED.
                                     01D3   401 ;
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page  13
1.0             VERIFY                                                                                                           (1)

                                     01D3   402 ;--
                                     01D3   403 
                                     01D3   404 
                                     01D3   405 
                                     01D3   406 VERIFY::
                 00000000'EF     95  01D3   407 	TSTB	CFLAG			; SHOULD CONDITIONS BE PRINTED ?
                          03     13  01D9   408 	BEQL	5$			; NO -- CONTINUE
                          FEFF   30  01DB   409 	BSBW	FORM_CONDS		; YES -- FMT & PRINT ALL CONDS FOR THIS T.C.
                                     01DE   410 5$:
            57   00000141'EF43   B0  01DE   411 	MOVW	COND2_E[R3],R7		; GET CURRENT ACMODE SETTINGS
   00000010'EF            57     9A  01E6   412 	MOVZBL	R7,ACMODE_ERG		; ISOLATE PAGE OWNER ACMODE FOR $EXPREG
            57         F8 8F     78  01ED   413 	ASHL	#-8,R7,R7		; SHIFT LOCKER'S MODE TO LOW-ORDER BYTE
                          57         01F1       
   0000001C'EF            57     90  01F2   414 	MOVB	R7,LOCKMODE		; ... AND REMEMBER LOCKER'S MODE
                                     01F9   415 ;
                                     01F9   416 ; SET UP INADR ARGUMENT IN COND 1 TABLE BY ISSUING $EXPREG
                                     01F9   417 ;
                          52     D5  01F9   418 	TSTL	R2			; FIRST COND 1 ELEMENT ??
                          03     12  01FB   419 	BNEQ	10$			; NO -- CONTINUE
                          00A3   31  01FD   420 	BRW	40$			; YES -- INADR ALREADY SET UP
                                     0200   421 10$:
                 000000C9'EF42   7C  0200   422 	CLRQ	INADR[R2]		; CLEAR $EXPREG RETURN AREA
                 0000000C'EF     D4  0207   423 	CLRL	REGION_ERG		; ASSUME PROGRAM REGION
   00000008'EF            01     9A  020D   424 	MOVZBL	#1,PAGCNT_ERG		; ... AND SINGLE PAGE COUNT
            02            52     D1  0214   425 	CMPL	R2,#2			; IS IT PROGRAM REGION ??
                          07     15  0217   426 	BLEQ	15$			; YES -- GO CHECK PAGE COUNT
   0000000C'EF            01     9A  0219   427 	MOVZBL	#1,REGION_ERG		; NO -- MUST BE CONTROL REGION
                                     0220   428 15$:
            01            52     D1  0220   429 	CMPL	R2,#1			; IS IT SINGLE PAGE ??
                          0C     13  0223   430 	BEQL	20$			; YES -- GO ESTABLISH MODE
            03            52     D1  0225   431 	CMPL	R2,#3			; COULD STILL BE SINGLE PAGE
                          07     13  0228   432 	BEQL	20$			; IT IS -- GO ESTABLISH MODE
   00000008'EF            0A     9A  022A   433 	MOVZBL	#10,PAGCNT_ERG		; MULTIPLE PAGES
                                     0231   434 20$:
                                     0231   435 	MODE	TO,30$,KRNL		; GET KERNEL MODE, SO ACMODE ARG WORKS
                                     0254   436 	$EXPREG_S REGION=REGION_ERG, PAGCNT=PAGCNT_ERG, -
                                     0254   437 		  ACMODE=ACMODE_ERG, RETADR=INADR[R2]
                                     0274   438 	MODE	FROM,30$		; BACK TO USER MODE
                                     0275   439 	SS_CHECK NORMAL			; CHECK FOR NORMAL STATUS RETURN
                                     02A3   440 40$:
                                     02A3   441 ;
                                     02A3   442 ; ****** SYSTEM SERVICE CALLS WHICH ARE THE SUBJECT OF THIS TEST CASE ******
                                     02A3   443 ;
            00   0000001C'EF     91  02A3   444 	CMPB	LOCKMODE,#PSL$C_KERNEL 	; IS LOCKER'S MODE KERNEL ??
                          3C     12  02AA   445 	BNEQ	50$			; NO -- SIMPLY ISSUE IT IN USER
                                     02AC   446 	MODE	TO,60$,KRNL		; YES -- ISSUE SERVICE IN KERNEL MODE
                                     02CF   447 	$LCKPAG_S INADR=INADR[R2], RETADR=RETADR
                                     02E5   448 	MODE	FROM,60$		; BACK TO USER MODE
                          16     11  02E6   449 	BRB	70$			; GO CHECK STATUS RETURN VALUE
                                     02E8   450 50$:
                                     02E8   451 	$LCKPAG_S INADR=INADR[R2], RETADR=RETADR
                                     02FE   452 70$:
   00000000'8F            50     D1  02FE   453 	CMPL	R0,#SS$_WASCLR		; CODE RECEIVED = CODE EXPECTED ?
                          61     13  0305   454 	BEQLU	80$			; YES -- CONTINUE
   00000000'EF   00000000'8F     D0  0307   455 	MOVL	#SS$_WASCLR,EXPV 	; NO -- LOAD UP EXPECTED AND ...
   00000000'EF            50     D0  0312   456 	MOVL	R0,RECV			; ... RECEIVED VALUES, THEN EXIT
                                     0319   457 	ERR_EXIT LONG,<INCORRECT STATUS CODE RETURNED FROM LCKPAG>
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page  14
1.0             VERIFY                                                                                                           (1)

                                     0368   458 80$:
                                     0368   459 ;
                                     0368   460 ; COMPARE INADR AGAINST RETADR (EXCEPT LOW-ORDER 9 BITS) AND,
                                     0368   461 ; IF OK, GO ISSUE $ULKPAG.
                                     0368   462 ;
            57   000000C9'EF42   7D  0368   463 	MOVQ	INADR[R2],R7		; GET INADR PAIR INTO REGS
            17            09     EF  0370   464 	EXTZV	#9,#23,R7,R7		; SHIFT RIGHT 9 BITS
            57            57         0373       
            17            09     ED  0375   465 	CMPZV	#9,#23,RETADR,R7 	; INADR = RETADR (FIRST OF PAIR) ??
            57   00000014'EF         0378       
                          13     12  037E   466 	BNEQU	90$			; NO -- ERROR
            17            09     EF  0380   467 	EXTZV	#9,#23,R8,R8		; SHIFT RIGHT 9 BITS
            58            58         0383       
            17            09     ED  0385   468 	CMPZV	#9,#23,RETADR+4,R8 	; INADR = RETADR (2ND OF PAIR) ??
            58   00000018'EF         0388       
                          03     12  038E   469 	BNEQU	90$			; NO -- ERROR
                          0068   31  0390   470 	BRW	100$			; YES -- SKIP ERROR PROCESSING
                                     0393   471 90$:
   00000000'EF   000000C9'EF42   7D  0393   472 	MOVQ	INADR[R2],EXPV		; LOAD UP EXPECTED AND ...
   00000000'EF   00000014'EF     7D  039F   473 	MOVQ	RETADR,RECV		; ... RECEIVED VALUES, THEN EXIT
                                     03AA   474 	ERR_EXIT QUAD,<UNEXPECTED VALUE FROM LCKPAG FOR>,-
                                     03AA   475 		      < RETADR PAIR>
                                     03FB   476 100$:
                                     03FB   477 ;
                                     03FB   478 ; SET UP TO ISSUE $ULKPAG
                                     03FB   479 ;
            00   0000001C'EF     91  03FB   480 	CMPB	LOCKMODE,#PSL$C_KERNEL 	; IS LOCKER'S MODE KERNEL ??
                          3C     12  0402   481 	BNEQ	120$			; NO -- SIMPLY ISSUE IT IN USER
                                     0404   482 	MODE	TO,110$,KRNL		; YES -- ISSUE SERVICE IN KERNEL MODE
                                     0427   483 	$ULKPAG_S INADR=INADR[R2], RETADR=RETADR
                                     043D   484 	MODE	FROM,110$		; BACK TO USER MODE
                          16     11  043E   485 	BRB	130$			; GO CHECK STATUS RETURN VALUE
                                     0440   486 120$:
                                     0440   487 	$ULKPAG_S INADR=INADR[R2], RETADR=RETADR
                                     0456   488 130$:
   00000000'8F            50     D1  0456   489 	CMPL	R0,#SS$_WASSET		; CODE RECEIVED = CODE EXPECTED ?
                          61     13  045D   490 	BEQLU	140$			; YES -- CONTINUE
   00000000'EF   00000000'8F     D0  045F   491 	MOVL	#SS$_WASSET,EXPV 	; NO -- LOAD UP EXPECTED AND ...
   00000000'EF            50     D0  046A   492 	MOVL	R0,RECV			; ... RECEIVED VALUES, THEN EXIT
                                     0471   493 	ERR_EXIT LONG,<INCORRECT STATUS CODE RETURNED FROM ULKPAG>
                                     04C0   494 140$:
                                     04C0   495 ;
                                     04C0   496 ; COMPARE INADR AGAINST RETADR (EXCEPT LOW-ORDER 9 BITS) AND,
                                     04C0   497 ; IF OK, VERIFY ROUTINE IS COMPLETE, GO DO ANOTHER TEST CASE.
                                     04C0   498 ;
            57   000000C9'EF42   7D  04C0   499 	MOVQ	INADR[R2],R7		; GET INADR PAIR INTO REGS
            17            09     EF  04C8   500 	EXTZV	#9,#23,R7,R7		; SHIFT RIGHT 9 BITS
            57            57         04CB       
            17            09     ED  04CD   501 	CMPZV	#9,#23,RETADR,R7 	; INADR = RETADR (FIRST OF PAIR) ??
            57   00000014'EF         04D0       
                          13     12  04D6   502 	BNEQU	150$			; NO -- ERROR
            17            09     EF  04D8   503 	EXTZV	#9,#23,R8,R8		; SHIFT RIGHT 9 BITS
            58            58         04DB       
            17            09     ED  04DD   504 	CMPZV	#9,#23,RETADR+4,R8 	; INADR = RETADR (2ND OF PAIR) ??
            58   00000018'EF         04E0       
                          03     12  04E6   505 	BNEQU	150$			; NO -- ERROR
                          0068   31  04E8   506 	BRW	VERIFYX			; YES -- SKIP ERROR PROCESSING
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page  15
1.0             VERIFY                                                                                                           (1)

                                     04EB   507 150$:
   00000000'EF   000000C9'EF42   7D  04EB   508 	MOVQ	INADR[R2],EXPV		; LOAD UP EXPECTED AND ...
   00000000'EF   00000014'EF     7D  04F7   509 	MOVQ	RETADR,RECV		; ... RECEIVED VALUES, THEN EXIT
                                     0502   510 	ERR_EXIT QUAD,<UNEXPECTED VALUE FROM ULKPAG FOR>,-
                                     0502   511 		      < RETADR PAIR>
                                     0553   512 VERIFYX:
                                 05  0553   513 	RSB				; RETURN TO CALLER
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page  16
1.0             VFY_CLEANUP                                                                                                      (1)

                                     0554   515 	.SBTTL	VFY_CLEANUP
                                     0554   516 ;++
                                     0554   517 ; FUNCTIONAL DESCRIPTION:
                                     0554   518 ;
                                     0554   519 ;		VFY_CLEANUP EXECUTES SYSTEM SERVICES TO UNDO THE
                                     0554   520 ; EFFECT OF THOSE ISSUED IN THE VERIFY SUBROUTINE. VFY_CLEANUP MUST
                                     0554   521 ; ASSUME THAT VERIFY MAY NOT HAVE EXECUTED IN ITS ENTIRETY (IF AN
                                     0554   522 ; ERROR IS FOUND). ALSO, VFY_CLEANUP MAY ISSUE SS_CHECK OR ERR_EXIT
                                     0554   523 ; ONLY AFTER PERFORMING ALL OF ITS CLEANUP OPERATIONS; THIS IS REQUIRED
                                     0554   524 ; IN THE EVENT THAT VFY_CLEANUP IS CALLED DURING ERROR PROCESSING,
                                     0554   525 ; WHEN PERFORMING THE REQUIRED CLEANUP IS MORE IMPORTANT THAN
                                     0554   526 ; POSSIBLY DISCOVERING A SECOND ERROR.
                                     0554   527 ;
                                     0554   528 ; CALLING SEQUENCE:
                                     0554   529 ;
                                     0554   530 ;	BSBW VFY_CLEANUP
                                     0554   531 ;
                                     0554   532 ; INPUT PARAMETERS:
                                     0554   533 ;
                                     0554   534 ;	NONE
                                     0554   535 ;
                                     0554   536 ; IMPLICIT INPUTS:
                                     0554   537 ;
                                     0554   538 ;	R2,3,4,5,6 CONTAIN CURRENT CONDITION TABLE INDEX VALUES
                                     0554   539 ;	  FOR COND TABLES 1,2,3,4,5, RESPECTIVELY.
                                     0554   540 ;	FOR X = 1,2,3,4,5 :
                                     0554   541 ;		CONDX_E - ADDRESS OF TABLE OF DATA VALUES FOR CONDX
                                     0554   542 ;		  TABLE. IF THE CONTEXT OF TABLE X IS A SYSTEM SERVICE
                                     0554   543 ;		  ARGUMENT, THE ARGUMENT NAME MAY BE USED AS A SYNONYM
                                     0554   544 ;		  FOR CONDX_E.
                                     0554   545 ;
                                     0554   546 ; OUTPUT PARAMETERS:
                                     0554   547 ;
                                     0554   548 ;	NONE
                                     0554   549 ;
                                     0554   550 ; IMPLICIT OUTPUTS:
                                     0554   551 ;
                                     0554   552 ;	NONE
                                     0554   553 ;
                                     0554   554 ; COMPLETION CODES:
                                     0554   555 ;
                                     0554   556 ;	EFLAG SET TO NON-ZERO IF ERROR ENCOUNTERED.
                                     0554   557 ;
                                     0554   558 ; SIDE EFFECTS:
                                     0554   559 ;
                                     0554   560 ;	SS_CHECK AND ERR_EXIT MACROS CAUSE PREMATURE EXIT 
                                     0554   561 ;	(VIA RSB) IF ERROR ENCOUNTERED.
                                     0554   562 ;
                                     0554   563 ;--
                                     0554   564 
                                     0554   565 
                                     0554   566 
                                     0554   567 VFY_CLEANUP::
                          52     D5  0554   568 	TSTL	R2			; FIRST COND 1 ELEMENT ??
                          03     12  0556   569 	BNEQ	10$			; NO -- CONTINUE
                          0077   31  0558   570 	BRW	VFY_CLEANUPX		; YES -- NO PAGES TO DELETE
                                     055B   571 10$:
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page  17
1.0             VFY_CLEANUP                                                                                                      (1)

            57   000000C9'EF42   7D  055B   572 	MOVQ	INADR[R2],R7		; AVOID INDEX MODE, USE REGS
                          57     D5  0563   573 	TSTL	R7			; DID $EXPREG GET SOME SPACE ABOVE ??
                          03     12  0565   574 	BNEQU	20$			; YES -- CONTINUE
                          0068   31  0567   575 	BRW	VFY_CLEANUPX		; NO -- NO PAGES TO DELETE
                                     056A   576 20$:
                                     056A   577 	MODE TO,30$,KRNL		; KRNL MODE TO DELETE ACQUIRED PAGES
                                     058D   578 	$DELTVA_S INADR=INADR[R2], -
                                     058D   579 		  ACMODE=ACMODE_ERG	; ....
                                     05A3   580 	MODE FROM,30$			; BACK TO USER MODE
                                     05A4   581 	SS_CHECK NORMAL			; CHECK RETURN STATUS VALUE
                                     05D2   582 VFY_CLEANUPX:
                                 05  05D2   583 	RSB				; RETURN TO CALLER
                                     05D3   584 	.END
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page  18
SYMBOL TABLE                                                                                                                     (1)

$$$$           = 0000050C R     05   FAO_LEN          ********   X   05   PHD$L_R2         00000090            
$$$CHARS       = 0000002C            FORM_CONDS       000000DD RG    05   PHD$L_R3         00000094            
$$$CHARS1      = 0000000D            FORM_CONDSX      000001D2 R     05   PHD$L_R4         00000098            
$$$CHARS2      = 0000000B            GBL...         = 00000000            PHD$L_R5         0000009C            
$$$CHARS3      = 00000009            INADR            000000C9 R     04   PHD$L_R6         000000A0            
$$$CHARS4      = 00000000            LOCKMODE         0000001C R     04   PHD$L_R7         000000A4            
$$$CHARS5      = 00000000            LONG           = 00000004  G         PHD$L_R8         000000A8            
$$$COND_A      = 00000002            MOD_MSG_CODE     ********   X   05   PHD$L_R9         000000AC            
$$$STRINGS     = 00000001            MOD_MSG_PRINT    ********   X   05   PHD$L_REFERFLT   00000014            
$$$STRINGS2    = 00000005            MSG1_INP_CTL     00000019 R     03   PHD$L_SSP        00000080            
$$T2           = 00000004            MSG3_ERR_CTL     00000039 RG    03   PHD$L_USP        00000084            
ACMODE_ERG       00000010 R     04   MSG_A            ********   X   05   PHD$L_WSL        00000118            
BIT...         = 00000000            MSG_B            ********   X   05   PHD$M_DALCSTX  = 00000002            
BYTE           = 00000001  G         MSG_CTXT         ********   X   05   PHD$M_PFMFLG   = 00000001            
CFLAG            ********   X   05   MSG_DATA1        ********   X   05   PHD$M_WSPEAKCHK= 00000004            
CHMRTN           ********   X   05   NOTARG         = 00000000  G         PHD$Q_PRIVMSK    00000000            
CHM_CONT         ********   X   05   NULL           = 00000014  G         PHD$S_ASTLVL   = 00000008            
COMP_SC          ********   X   05   ONES             ********   X   05   PHD$S_P0LR     = 00000018            
COND1            000000C0 RG    05   OUTPUT_MSG       ********   X   05   PHD$V_ASTLVL   = 00000018            
COND1_C        = 00000008            PAGCNT_ERG       00000008 R     04   PHD$V_DALCSTX  = 00000001            
COND1_CLEANUP    000000C1 RG    05   PCV              ********   X   05   PHD$V_P0LR     = 00000000            
COND1_E          000000C9 R     04   PHD$B_ASTLVL     000000CF            PHD$V_PFMFLG   = 00000000            
COND1_H          00000023 RG    04   PHD$B_DFPFC      00000038            PHD$V_WSPEAKCHK= 00000002            
COND1_T          0000001D R     04   PHD$B_PAGFIL     0000001F            PHD$W_ASTLM      00000044            
COND1_TAB        00000024 R     04   PHD$B_PGTBPFC    00000039            PHD$W_BAK        00000048            
COND2            000000C2 RG    05   PHD$C_LENGTH     00000118            PHD$W_DFWSCNT    0000001A            
COND2X           000000D5 R     05   PHD$C_PHDPAGCTX= 00000008            PHD$W_EMPTPG     000000D8            
COND2_C        = 00000000            PHD$K_LENGTH     00000118            PHD$W_EXTDYNWS   00000076            
COND2_CLEANUP    000000D6 RG    05   PHD$L_BIOCNT     00000054            PHD$W_FILLM      00000060            
COND2_E          00000141 R     04   PHD$L_CPULIM     00000058            PHD$W_FLAGS      0000003A            
COND2_H          00000110 RG    04   PHD$L_CPUTIM     0000003C            PHD$W_PHVINDEX   00000046            
COND2_T          000000F1 R     04   PHD$L_DIOCNT     00000050            PHD$W_PRCLM      00000042            
COND2_TAB        00000111 R     04   PHD$L_ESP        0000007C            PHD$W_PST        00000020            
COND3            000000D7 RG    05   PHD$L_FREP0VA    00000028            PHD$W_PSTBASMAX  0000004A            
COND3_C        = 00000014            PHD$L_FREP1VA    00000030            PHD$W_PSTFREE    00000026            
COND3_CLEANUP    000000D8 RG    05   PHD$L_FREPTECNT  0000002C            PHD$W_PSTLAST    00000024            
COND3_H          00000147 RG    04   PHD$L_KSP        00000078            PHD$W_PTCNTACT   00000070            
COND3_T          00000147 R     04   PHD$L_P0BR       000000C8            PHD$W_PTCNTLCK   0000006C            
COND3_TAB        00000147 R     04   PHD$L_P0LRASTL   000000CC            PHD$W_PTCNTMAX   00000072            
COND4            000000D9 RG    05   PHD$L_P1BR       000000D0            PHD$W_PTCNTVAL   0000006E            
COND4_C        = 00000014            PHD$L_P1LR       000000D4            PHD$W_QUANT      00000040            
COND4_CLEANUP    000000DA RG    05   PHD$L_PAGEFLTS   0000004C            PHD$W_TQLM       00000062            
COND4_H          00000148 RG    04   PHD$L_PAGFIL     0000001C            PHD$W_WSAUTH     0000000A            
COND4_T          00000148 R     04   PHD$L_PC         000000C0            PHD$W_WSDYN      0000000E            
COND4_TAB        00000148 R     04   PHD$L_PCB        00000078            PHD$W_WSFLUID    00000074            
COND5            000000DB RG    05   PHD$L_PGFLCNT    00000034            PHD$W_WSLAST     00000012            
COND5_C        = 00000014            PHD$L_PGFLQUOTA  0000005C            PHD$W_WSLIST     00000008            
COND5_CLEANUP    000000DC RG    05   PHD$L_PSL        000000C4            PHD$W_WSLOCK     0000000C            
COND5_H          00000149 RG    04   PHD$L_PSTBASOFF  00000020            PHD$W_WSLX       0000004A            
COND5_T          00000149 R     04   PHD$L_PTWSLELCK  00000064            PHD$W_WSNEXT     00000010            
COND5_TAB        00000149 R     04   PHD$L_PTWSLEVAL  00000068            PHD$W_WSQUOTA    00000018            
CONFLICT         ********   X   05   PHD$L_R0         00000088            PRIVMASK         00000000 R     04   
CTL$GL_PHD       ********   X   05   PHD$L_R1         0000008C            PROCESS_ERR      ********   X   05   
DESC           = 00000010  G         PHD$L_R10        000000B0            PRV$V_ALLSPOOL = 00000004            
EFLAG            ********   X   05   PHD$L_R11        000000B4            PRV$V_BUGCHK   = 00000017            
EXPV             ********   X   05   PHD$L_R12        000000B8            PRV$V_CMEXEC   = 00000001            
FAO_DESC         ********   X   05   PHD$L_R13        000000BC            PRV$V_CMKRNL   = 00000000            
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page  19
SYMBOL TABLE                                                                                                                     (1)

PRV$V_DETACH   = 00000005            SAVE_REGS        ********   X   05   
PRV$V_DIAGNOSE = 00000006            SS$_NORMAL       ********   X   05   
PRV$V_EXQUOTA  = 00000013            SS$_WASCLR       ********   X   05   
PRV$V_GROUP    = 00000008            SS$_WASSET       ********   X   05   
PRV$V_GRPNAM   = 00000003            SUCCESS          ********   X   05   
PRV$V_LOG_IO   = 00000007            SYS$CMKRNL       ********   X   05   
PRV$V_MOUNT    = 00000011            SYS$DELTVA       ********   X   05   
PRV$V_NETMBX   = 00000014            SYS$EXPREG       ********   X   05   
PRV$V_NOACNT   = 00000009            SYS$FAO          ********   X   05   
PRV$V_OPER     = 00000012            SYS$LCKPAG       ********   X   05   
PRV$V_PHY_IO   = 00000016            SYS$SETPRN       ********   X   05   
PRV$V_PRMCEB   = 0000000A            SYS$ULKPAG       ********   X   05   
PRV$V_PRMGBL   = 00000018            TESTNUM          ********   X   05   
PRV$V_PRMMBX   = 0000000B            TEST_MOD_NAME    00000000 RG    03   
PRV$V_PSWAPM   = 0000000C            TEST_MOD_NAME_D  00000009 R     03   
PRV$V_SETPRI   = 0000000D            TEST_MOD_SUCC    ********   X   05   
PRV$V_SETPRV   = 0000000E            TMD_ADDR         ********   X   05   
PRV$V_SYSGBL   = 00000019            TM_CLEANUP       000000BC RG    05   
PRV$V_SYSNAM   = 00000002            TM_SETUP         00000000 RG    05   
PRV$V_TMPMBX   = 0000000F            VERIFY           000001D3 RG    05   
PRV$V_VOLPRO   = 00000015            VERIFYX          00000553 R     05   
PRV$V_WORLD    = 00000010            VFY_CLEANUP      00000554 RG    05   
PSL$C_EXEC     = 00000001            VFY_CLEANUPX     000005D2 R     05   
PSL$C_KERNEL   = 00000000            WORD           = 00000002  G         
PSL$C_SUPER    = 00000002            WRITE_MSG2       ********   X   05   
PSL$C_USER     = 00000003            
PSL$M_CM       = 80000000            
PSL$M_CURMOD   = 03000000            
PSL$M_DV       = 00000080            
PSL$M_FPD      = 08000000            
PSL$M_FU       = 00000040            
PSL$M_IPL      = 001F0000            
PSL$M_IS       = 04000000            
PSL$M_IV       = 00000020            
PSL$M_PRVMOD   = 00C00000            
PSL$M_SAFBITS  = 000037FF            
PSL$M_TBIT     = 00000010            
PSL$M_TP       = 40000000            
PSL$S_CURMOD   = 00000002            
PSL$S_IPL      = 00000005            
PSL$S_PRVMOD   = 00000002            
PSL$V_CM       = 0000001F            
PSL$V_CURMOD   = 00000018            
PSL$V_DV       = 00000007            
PSL$V_FPD      = 0000001B            
PSL$V_FU       = 00000006            
PSL$V_IPL      = 00000010            
PSL$V_IS       = 0000001A            
PSL$V_IV       = 00000005            
PSL$V_PRVMOD   = 00000016            
PSL$V_TBIT     = 00000004            
PSL$V_TP       = 0000001E            
QUAD           = 00000008  G         
RECV             ********   X   05   
REGION_ERG       0000000C R     04   
REST_REGS        ********   X   05   
RETADR           00000014 R     04   
SATSSS79        SATS SYST SERV TESTS  $LCK/ULKPAG (SUCC S.C.)    22-AUG-1978 04:18:20   VAX-11 MACRO X0.3-11               Page  20
PROGRAM SECTION SYNOPSIS                                                                                                         (1)



PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
$ABS$            0000011C      02     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
RODATA           00000051      03     NOPIC   USR   CON   REL   LCL NOSHR NOEXE   RD  NOWRT LONG  
RWDATA           0000014A      04     NOPIC   USR   CON   REL   LCL NOSHR NOEXE   RD    WRT LONG  
SATSSS79         000005D3      05     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
14380. BYTES LEFT IN FREE MEMORY POOL.
82. BYTES OF RECLAIMED MEMORY.
OBJ$:SATSSS79,LIS$:SATSSS79/-SP=EXECML$/ML,LIB$:SYSTST.MLB/ML,SRC$:SATSSS79
42 MLB DIR RDS - 670 GETS TO DEFINE 29 MACROS. 36 INTER. FILE WRITES. 

SATSUT12        UTILITY TO TELL SYSTST WHEN TO ABORT             22-AUG-1978 04:22:38   VAX-11 MACRO X0.3-11               Page   1
1.0                                                                                                                              (1)

                                     0000     1 	.TITLE SATSUT12  UTILITY TO TELL SYSTST WHEN TO ABORT
                                     0000     2 	.IDENT /1.0/
                                     0000     3 
                                     0000     4 ;
                                     0000     5 ; COPYRIGHT (C) 1978
                                     0000     6 ; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS 01754
                                     0000     7 ;
                                     0000     8 ; THIS SOFTWARE IS FURNISHED  UNDER A LICENSE FOR USE ONLY ON A SINGLE
                                     0000     9 ; COMPUTER  SYSTEM AND  MAY BE  COPIED ONLY WITH  THE INCLUSION OF THE
                                     0000    10 ; ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE, OR ANY OTHER COPIES THEREOF,
                                     0000    11 ; MAY NOT BE PROVIDED OR  OTHERWISE MADE AVAILABLE TO ANY OTHER PERSON
                                     0000    12 ; EXCEPT FOR USE ON SUCH SYSTEM AND TO ONE WHO AGREES TO THESE LICENSE
                                     0000    13 ; TERMS.  TITLE TO AND  OWNERSHIP OF THE  SOFTWARE  SHALL AT ALL TIMES
                                     0000    14 ; REMAIN IN DEC.
                                     0000    15 ;
                                     0000    16 ; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE WITHOUT NOTICE
                                     0000    17 ; AND SHOULD  NOT BE CONSTRUED  AS A COMMITMENT  BY DIGITAL  EQUIPMENT
                                     0000    18 ; CORPORATION.
                                     0000    19 ;
                                     0000    20 ; DEC ASSUMES  NO  RESPONSIBILITY  FOR  THE USE OR  RELIABILITY OF ITS
                                     0000    21 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
                                     0000    22 ;
                                     0000    23 
                                     0000    24 ;++
                                     0000    25 ; FACILITY:
                                     0000    26 ; 	THIS MODULE WILL BE DISTRIBUTED WITH VAX/VMS UNDER THE UETP UIC.
                                     0000    27 ;
                                     0000    28 ; ABSTRACT:
                                     0000    29 ;	THIS MODULE WILL TRANSLATE A GROUP WIDE LOGICAL NAME
                                     0000    30 ;	SYSTST$ABORT TO SEE IF USER OR UETP HAS SET IT TO 'YES'
                                     0000    31 ;	TO REQUEST A PREMATURE ABORT OF THE SYSTEM SERVICE TESTS
                                     0000    32 ;	BUT WITH ALL TEST RESULTS AND SUMMARY INFORMATION INTACT.
                                     0000    33 ;	THIS USUALLY HAPPENS WHEN THE USER OF THE UETP HAS
                                     0000    34 ;	ENTERED CONTROL-C TO THE NATIVE MODE PORTION OF THE
                                     0000    35 ;	UETP TEST.
                                     0000    36 ;	THIS ALSO CAN BY USED BY THOSE WHO SUBMIT THE SYSTEM SERVICE
                                     0000    37 ;	TESTS AND WANT TO ABORT IT AFTER THE BATCH STREAM HAS
                                     0000    38 ;	STARTED IT. THE USER TYPES --
                                     0000    39 ;		$DEF/GR SYSTST$ABORT YES
                                     0000    40 ;
                                     0000    41 ;
                                     0000    42 ; ENVIRONMENT:
                                     0000    43 ; 	THE MODULE WILL RUN IN USER ACCESS MODE, WITH INTERRUPTS ENABLED
                                     0000    44 ;
                                     0000    45 ; AUTHOR: DICK BATOR,	CREATION DATE: 31-JAN-78
                                     0000    46 ;
                                     0000    47 ; MODIFIED BY:
                                     0000    48 ;		T. CAFARELLA (1-FEB-78) TO CHANGE TRNBUFF TO A
                                     0000    49 ;				STRING DESCRIPTOR.
                                     0000    50 ;
                                     0000    51 ;	, : VERSION
                                     0000    52 ;--
SATSUT12        UTILITY TO TELL SYSTST WHEN TO ABORT             22-AUG-1978 04:22:38   VAX-11 MACRO X0.3-11               Page   2
1.0                                                                                                                              (2)

                                 00000000    54 	.PSECT	SATSUT12,RD,WRT,EXE,LONG
                                     0000    55 ;*******************************************************
                                     0000    56 ;	DATA AREA
                                     0000    57 ;*******************************************************
                                     0000    58 SSLOGNAM: STRING I,<SYSTST$ABORT>	; LOGICAL NAME TO USE
                           00000000  0014    59 TRNLEN:	.LONG	0
                                     0018    60 TRNBUFF: STRING	O,30			; BUFFER FOR EQUIV STRING
                                     003E    61 ;
                                     003E    62 ;
                                     003E    63 ;
                                     003E    64 ;
                                     003E    65 	.LIST	MEB
                               0000' 003E    66 	.ENTRY	SATSUT12,0		; MAIN ENTRY
                                     0040    67 	$TRNLOG_S SSLOGNAM,TRNLEN,TRNBUFF,,,#5 ; SEARCH GROUP TABLE ONLY
                          05     DD  0040       		PUSHL	#5
                          00     DD  0042       		PUSHL	#0
                          00     DD  0044       		PUSHL	#0
                       CF AF     7F  0046       		PUSHAQ	TRNBUFF
                       C8 AF     3F  0049       		PUSHAW	TRNLEN
                       B1 AF     7F  004C       		PUSHAQ	SSLOGNAM
   00000000'GF            06     FB  004F       		CALLS	#6,G^SYS$TRNLOG
            20            50     E9  0056    68 	BLBC	R0,20$			; ERROR?
   00000000'8F            50     D1  0059    69 	CMPL	R0,#SS$_NOTRAN		; CANT HANDLE THIS CASE, EXIT
                          17     13  0060    70 	BEQL	20$
         59 8F         BB AF     91  0062    71 	CMPB	TRNBUFF+8,#^A/Y/	; UPPER CASE Y?
                          07     13  0067    72 	BEQL	10$
         79 8F         B4 AF     91  0069    73 	CMPB	TRNBUFF+8,#^A/y/	; lower case y
                          09     12  006E    74 	BNEQ	20$			; BRANCH IF NOT A 'Y'
                                     0070    75 10$:
            52   10000003 8F     D0  0070    76 	MOVL	#^X10000003,R2		; YES, Y=>ABORT. NON PRINT MSG CODE
                          07     11  0077    77 	BRB	30$			;  WITH SEVERITY = I  (INFORMATION)
                                     0079    78 20$:
            52   10000001 8F     D0  0079    79 	MOVL	#^X10000001,R2		; NO ABORT. RETURN SUCCESS
                                     0080    80 30$:
                                     0080    81 	$EXIT_S R2			; EXIT WITH STATUS
                          52     DD  0080       		PUSHL	R2
   00000000'GF            01     FB  0082       		CALLS	#1,G^SYS$EXIT
                                     0089    82 ;
                                     0089    83 	.END	SATSUT12
SATSUT12        UTILITY TO TELL SYSTST WHEN TO ABORT             22-AUG-1978 04:22:38   VAX-11 MACRO X0.3-11               Page   3
SYMBOL TABLE                                                                                                                     (2)

$$$CHARS       = 0000000C            
$$$STRINGS     = 00000000            
SATSUT12         0000003E RG    02   
SS$_NOTRAN       ********   X   02   
SSLOGNAM         00000000 R     02   
SYS$EXIT         ********   X   02   
SYS$TRNLOG       ********   X   02   
TRNBUFF          00000018 R     02   
TRNLEN           00000014 R     02   


PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
SATSUT12         00000089      02     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT LONG  


THERE WERE NO ERRORS OR WARNINGS.
27100. BYTES LEFT IN FREE MEMORY POOL.
OBJ$:SATSUT12,LIS$:SATSUT12/-SP=EXECML$/ML,LIB$:SYSTST.MLB/ML,SRC$:SATSUT12
8 MLB DIR RDS - 63 GETS TO DEFINE 4 MACROS. 2 INTER. FILE WRITES. 

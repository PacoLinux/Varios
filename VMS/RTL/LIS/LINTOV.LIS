
; Bliss-32 10.1-416	Monday 21-AUG-1978 19:34:22	DBB3:[RTL.SRC]LINTOV.B32;7					Page 1
;
;	0001	MODULE LIB$INT_OVER (	! Enable/disable integer overflow traps
;	0002		IDENT = '0-06'	! file: LINTOV.B42
;	0003			) =
;	0004	BEGIN
;	0005	
;	0006	!
;	0007	!			  COPYRIGHT (c) 1977 BY
;	0008	!	      DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
;	0009	!
;	0010	! THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND  COPIED
;	0011	! ONLY  IN  ACCORDANCE  WITH  THE  TERMS  OF  SUCH  LICENSE AND WITH THE
;	0012	! INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE OR  ANY  OTHER
;	0013	! COPIES  THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY
;	0014	! OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE  IS  HEREBY
;	0015	! TRANSFERRED.
;	0016	!
;	0017	! THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE  WITHOUT  NOTICE
;	0018	! AND  SHOULD  NOT  BE  CONSTRUED  AS  A COMMITMENT BY DIGITAL EQUIPMENT
;	0019	! CORPORATION.
;	0020	!
;	0021	! DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE OR  RELIABILITY  OF  ITS
;	0022	! SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.
;	0023	!
;	0024	
;	0025	!++
;	0026	! FACILITY:	Utility Library
;	0027	!
;	0028	! ABSTRACT:
;	0029	!
;	0030	!	LIB$INT_OVER enables or disables integer overflow
;	0031	!	for the calling procedure activation.  The previous setting
;	0032	!	of the enable is returned as a value.
;	0033	!
;	0034	! ENVIRONMENT:	User mode, re-entrant, AST level or not or mixed.
;	0035	!
;	0036	! AUTHOR:	Thomas N. Hastings	CREATION DATE: 8-Oct-77
;	0037	!
;	0038	! MODIFIED BY:
;	0039	!
;	0040	! 	Thomas N. Hastings, 8-Oct-77: VERSION 0
;	0041	! 01	-	original 
;	0042	! 0-2	- Declare PSECTs.  TNH 19-Dec-77
;	0043	! 0-03	- Change to STARLET library.  DGP 20-Apr-78
;	0044	! 0-04	- Set proper stack frame.  TNH 21-Apr-78
;	0045	! 0-05	- Change REQUIRE files for VAX system build.  DGP 28-Apr-78
;	0046	! 0-06	- Change STARLET to RTLSTARLE to avoid conflicts.  DGP 1-May-78
;	0047	!--

; Bliss-32 10.1-416	Monday 21-AUG-1978 19:34:22	DBB3:[RTL.SRC]LINTOV.B32;7					Page 2
;
;	0048	!
;	0049	! TABLE OF CONTENTS:
;	0050	!
;	0051	
;	0052	FORWARD ROUTINE
;	0053	
;	0054		LIB$INT_OVER;			! Enable/disable integer overflow
;	0055	
;	0056	!
;	0057	! INCLUDE FILES:
;	0058	!
;	0059		REQUIRE	'RTLIN:LPSECT';		! Define DECLARE_PSECTS macro
; %PRINT:	 REQUIRE FILE: LPSECT.B32, VERSION 01-5, TNH, 27-Jun-78
;65535  0113		LIBRARY	'RTLSTARLE';		! STARLET library for macros and symbols
;65535  0114	
;65535  0115	!
;65535  0116	! MACROS:
;65535  0117	!
;65535  0118	
;65535  0119	!
;65535  0120	! EQUATED SYMBOLS:
;65535  0121	!
;65535  0122	
;65535  0123	
;65535  0124	!
;65535  0125	! Declare PSECTs
;65535  0126	!
;65535  0127	
;65535  0128		DECLARE_PSECTS (LIB);	! Declare LIB$CODE and LIB$DATA PSECTs
;65535  0129	
;65535  0130	!
;65535  0131	! OWN STORAGE:
;65535  0132	!
;65535  0133	
;65535  0134	!
;65535  0135	! EXTERNAL REFERENCES:
;65535  0136	!
;65535  0137	

; Bliss-32 10.1-416	Monday 21-AUG-1978 19:34:22	DBB3:[RTL.SRC]LINTOV.B32;7					Page 3
;
;65535  0138	GLOBAL ROUTINE LIB$INT_OVER (	! Enable/disable integer overflow
;65535  0139		NEW_SETTING)		! Adr. of longword containing new setting
;65535  0140		=		! Value is old setting
;65535  0141	
;65535  0142	!++
;65535  0143	! FUNCTIONAL DESCRIPTION:
;65535  0144	!
;65535  0145	!	LIB$INT_OVER enables or disables integer overflow
;65535  0146	!	for the calling procedure activation.  The previous setting
;65535  0147	!	of the enable is returned as a value.
;65535  0148	!
;65535  0149	! FORMAL PARAMETERS:
;65535  0150	!
;65535  0151	!	new_setting.rlu.r	Adr. of longword containing new enable setting.
;65535  0152	!				Bit 0 = 1 is enable, bit 0 = 0 is disable.
;65535  0153	!
;65535  0154	! IMPLICIT INPUTS:
;65535  0155	!
;65535  0156	!	NONE
;65535  0157	!
;65535  0158	! IMPLICIT OUTPUTS:
;65535  0159	!
;65535  0160	!	NONE
;65535  0161	!
;65535  0162	! ROUTINE VALUE:
;65535  0163	!
;65535  0164	!	OLD_SETTING.wlu.v		previous contents of SRM$W_PSW[PSW$V_IV]
;65535  0165	!					in the callers frame.
;65535  0166	!
;65535  0167	! COMPLETION CODES:
;65535  0168	!
;65535  0169	!	NONE
;65535  0170	!
;65535  0171	! SIDE EFFECTS:
;65535  0172	!
;65535  0173	!	The callers stack frame will be modified.
;65535  0174	!
;65535  0175	!--
;65535  0176	
;65535  0177	    BEGIN
;65535  0178	
;65535  0179	    LOCAL
;65535  0180		OLD_SETTING;		! store the old SETTING of integer overflow enable
;65535  0181	    BUILTIN
;65535  0182		FP;
;65535  0183	    MAP
;65535  0184		NEW_SETTING: REF VECTOR[1, LONG],	! Scalar call-by-reference
;65535  0185		FP: REF BLOCK[,BYTE];
;65535  0186	    OLD_SETTING = .FP[SF$V_IV];
;65535  0187	    FP[SF$V_IV] = .NEW_SETTING[0];
;65535  0188	    RETURN .OLD_SETTING;
;65535  0189	    END;			!End of LIB$INT_OVER


							    .TITLE  LIB$INT_OVER

; Bliss-32 10.1-416	Monday 21-AUG-1978 19:34:22	DBB3:[RTL.SRC]LINTOV.B32;7					Page 3-1
;
							    .IDENT  \0-06\



							    .PSECT  LIB$CODE,NOWRT,  SHR,  PIC,2

					 0000 00000 	    .ENTRY  LIB$INT_OVER, Save nothing				      ; 0138
      04   AE	         01 	       05  EF 00002 	    EXTZV   #5, #1, 4(FP), OLD_SETTING				      ; 0186
				       50     00007									      ;
	   01 	         05 	  04   BC  F0 00008 	    INSV    @NEW_SETTING, #5, #1, 4(FP)				      ; 0187
				  04   AE     0000D									      ;
					   04 0000F 	    RET     							      ; 0138

; Routine Size:  16 bytes



; Bliss-32 10.1-416	Monday 21-AUG-1978 19:34:22	DBB3:[RTL.SRC]LINTOV.B32;7					Page 4
;
;65535  0190	END				!End of module
;65535  0191	ELUDOM






;				       PSECT SUMMARY
;
;	Name		 Bytes			       Attributes
;
;  LIB$CODE       	    16  NOWRT,  RD ,  EXE,  SHR,  LCL,  REL,  CON,  PIC,ALIGN(2)




;				LIBRARY STATISTICS
;
;					     -------- Symbols --------    Blocks
;	File				     Total    Loaded   Percent      Read
;
;  DBA4:[SYSLIB]STARLET.L32;1		      2688         1         0       108





; Size:		16 code + 0 data bytes
; Run Time:	00:02.2
; Elapsed Time:	00:08.2
; Memory Used:	121 pages
; Compilation Complete

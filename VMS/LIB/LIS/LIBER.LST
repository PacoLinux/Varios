FORMAT	MACRO M1110  22-AUG-78 02:10
TABLE OF CONTENTS

     1-  300	OBJECT LANGUAGE DEFS
FORMAT	MACRO M1110  22-AUG-78 02:10  PAGE 1


    100						.TITLE	FORMAT
    200						.IDENT	/X0300/
    300						.SBTTL	OBJECT LANGUAGE DEFS
FORMAT	MACRO M1110  22-AUG-78 02:10  PAGE 3


      1					; COPYRIGHT (C) 1976, 1977
      2					; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
      3					;
      4					; THIS SOFTWARE IS FURNISHED UNDER  A LICENSE FOR USE ONLY  ON  A
      5					; SINGLE COMPUTER SYSTEM AND MAY BE  COPIED ONLY WITH  THE INCLU-
      6					; SION OF  THE  ABOVE  COPYRIGHT NOTICE.  THIS SOFTWARE,  OR  ANY
      7					; OTHER COPIES THEREOF, MAY NOT BE  PROVIDED  OR  OTHERWISE  MADE
      8					; AVAILABLE TO ANY OTHER PERSON EXCEPT  FOR  USE  ON  SUCH SYSTEM
      9					; AND TO  ONE WHO AGREES  TO  THESE LICENSE  TERMS.  TITLE TO AND
     10					; OWNERSHIP OF THE SOFTWARE SHALL AT ALL TIMES REMAIN IN DEC.
     11					;
     12					; THE INFORMATION IN THIS SOFTWARE  IS  SUBJECT TO CHANGE WITHOUT
     13					; NOTICE AND SHOULD NOT BE CONSTRUED  AS  A COMMITMENT BY DIGITAL
     14					; EQUIPMENT CORPORATION.
     15					;
     16					; DEC ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY OF ITS
     17					; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
LIBER	MACRO M1110  22-AUG-78 02:10  PAGE 4


      1						.TITLE	LIBER
      2						.IDENT	/X05.01/
      3
      4					; COPYRIGHT (C) 1976, 1977
      5					; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
      6					;
      7					; THIS SOFTWARE IS FURNISHED UNDER  A LICENSE FOR USE ONLY  ON  A
      8					; SINGLE COMPUTER SYSTEM AND MAY BE  COPIED ONLY WITH  THE INCLU-
      9					; SION OF  THE  ABOVE  COPYRIGHT NOTICE.  THIS SOFTWARE,  OR  ANY
     10					; OTHER COPIES THEREOF, MAY NOT BE  PROVIDED  OR  OTHERWISE  MADE
     11					; AVAILABLE TO ANY OTHER PERSON EXCEPT  FOR  USE  ON  SUCH SYSTEM
     12					; AND TO  ONE WHO AGREES  TO  THESE LICENSE  TERMS.  TITLE TO AND
     13					; OWNERSHIP OF THE SOFTWARE SHALL AT ALL TIMES REMAIN IN DEC.
     14					;
     15					; THE INFORMATION IN THIS SOFTWARE  IS  SUBJECT TO CHANGE WITHOUT
     16					; NOTICE AND SHOULD NOT BE CONSTRUED  AS  A COMMITMENT BY DIGITAL
     17					; EQUIPMENT CORPORATION.
     18					;
     19					; DEC ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY OF ITS
     20					; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
     21					;
     22					; VERSION X05.01
     23					;
     24					;
     25					; WRITTEN BY:
     26					;	GEORGE W. BERRY
     27					;
     28					; MODIFIED BY:
     29					;	C.A. D'ELIA	08-MAY-74
     30					;	C.A. D'ELIA	30-JUN-74  (VIRTUAL TABLES)
     31					;	THOMAS J. MILLER 07-NOV-74
     32					;
     33					;	T. J. MILLER 11-JAN-76
     34					;
     35					;		TM001 -- ADDITION OF EXTRACT SWITCH (/EX).
     36					;
     37					;
     38					;
     39					; ERROR MESSAGE ROUTINE
     40					;
     41
     42					;
     43					; EQUATED SYMBOLS
     44					;
     45
     46		000000 			S$V0==0				;SEV 0=DIAGNOSTIC MESSAGE
     47		000001 			S$V1==1				;SEV 1=DIAG IF TERM IN/FATAL IF NOT
     48		000002 			S$V2==2				;SEV 2=FATAL ERROR
     49
     50					;
     51					; LOCAL MACROS
     52					;
     53					; ERROR MESSAGE DEFINITION
     54					;
     55					; ERM NUM,FORMAT
     56					;
     57					; WHERE:
LIBER	MACRO M1110  22-AUG-78 02:10  PAGE 4-1


     58					;
     59					;	NUM=ERROR NUMBER.
     60					;	FORMAT=ERROR MESSAGE FORMAT STATEMENT.
     61					;
     62
     63						.MACRO	ERM NUM,FORMAT
     64						.RADIX	10
     65						ERN	E$R'NUM,\Z,<FORMAT>
     66						.RADIX	8
     67					Z = Z+1
     68						.ENDM
     69
     70
     71
     72						.MACRO	ERN	TAG,NUM,FORMAT
     73						.LIST
     74
     75
     76								TAG==NUM'.
     77						.NLIST
     78						.IF DF	R$$11M
     79						.PSECT	MSGTXT,D,GBL
     80						.LIST
     81								ERR'NUM':	.ASCIZ	\FORMAT\
     82						.NLIST
     83						.PSECT	MSGLST,D,GBL
     84						.WORD	ERR'NUM
     85						.ENDC
     86						.ENDM
     87
     88
     89
     90
     91					;
     92					; INITIALIZE FOR THE ERROR MESSAGE MACRO INVOCATIONS
     93					;
     94
     95		000000 			Z=0				;START NUMBERING AT ZERO
     96
     98	000000					.PSECT	MSGLST,D,GBL
     99	000000				$MGLST::			;REF LABEL TO LIST OF FORMAT ADDRESSES
    101
    102
    103					;+
    104					;
    105					; ERROR MESSAGES AND NUMBERS FOR THE LIBRARIAN
    106					;
    107					;-
    108
    109						.NLIST	MC
    110						.NLIST	BIN
    111

					E$R0==0.
	000000				ERR0:	.ASCIZ	\ILLEGAL GET COMMAND LINE ERROR CODE%N\
    112

LIBER	MACRO M1110  22-AUG-78 02:10  PAGE 4-2


					E$R01==1.
	000046				ERR1:	.ASCIZ	\INPUT ERROR ON %X%N\
    113

					E$R1==2.
	000072				ERR2:	.ASCIZ	\COMMAND SYNTAX ERROR%N%VA%N\
    114

					E$R02==3.
	000126				ERR3:	.ASCIZ	\OUTPUT ERROR ON %X%N\
    115

					E$R3==4.
	000153				ERR4:	.ASCIZ	\ILLEGAL SWITCH%N%VA%N\
    116

					E$R4==5.
	000201				ERR5:	.ASCIZ	\INSUFFICIENT DYNAMIC MEMORY TO CONTINUE%N\
    117

					E$R5==6.
	000253				ERR6:	.ASCIZ	\INVALID LIBRARY TYPE SPECIFIED%N\
    118

					E$R6==7.
	000314				ERR7:	.ASCIZ	\COMMAND I/O ERROR%N\
    119

					E$R7==8.
	000340				ERR8:	.ASCIZ	\INDIRECT FILE OPEN FAILURE%N%VA%N\
    120

					E$R8==9.
	000402				ERR9:	.ASCIZ	\INDIRECT COMMAND SYNTAX ERROR%N%VA%N\
    121

					E$R09==10.
	000447				ERR10:	.ASCIZ	\BAD LIBRARY HEADER%N\
    122

					E$R9==11.
	000474				ERR11:	.ASCIZ	\INDIRECT FILE DEPTH EXCEEDED%N%VA%N\
    123

					E$R10==12.
	000540				ERR12:	.ASCIZ	\I/O ERROR ON INPUT FILE %X%N\
    124

					E$R11==13.
	000575				ERR13:	.ASCIZ	\OPEN FAILURE ON FILE %X%N\
    125

					E$R13==14.
	000627				ERR14:	.ASCIZ	\INVALID GST AND/OR MNT SPECIFICATION%N\
    126

					E$R14==15.
LIBER	MACRO M1110  22-AUG-78 02:10  PAGE 4-3


	000676				ERR15:	.ASCIZ	\POSITIONING ERROR ON %X%N\
    127

					E$R15==16.
	000730				ERR16:	.ASCIZ	\GST OR MNT EXCEEDED IN %X%N\
    128

					E$R16==17.
	000764				ERR17:	.ASCIZ	\DUPLICATE MODULE NAME "%VA" IN %X%N\
    129

					E$R17==18.
	001030				ERR18:	.ASCIZ	\GET TIME FAILED%N\
    130

					E$R18==19.
	001052				ERR19:	.ASCIZ	\NO MODULE NAMED "%VA"%N\
    131

					E$R19==20.
	001102				ERR20:	.ASCIZ	\INVALID NAME -- "%VA"%N\
    132

					E$R20==21.
	001132				ERR21:	.ASCIZ	\LIBRARY FILE SPECIFICATION MISSING%N\
    133

					E$R21==22.
	001177				ERR22:	.ASCIZ	\ILLEGAL SWITCH COMBINATION%N\
    134

					E$R22==23.
	001234				ERR23:	.ASCIZ	\NO GLOBAL SYMBOL NAMED "%VA"%N\
    135

					E$R23==24.
	001273				ERR24:	.ASCIZ	\DUPLICATE GLOBAL SYMBOL "%VA" IN %X%N\
    136

					E$R24==25.
	001341				ERR25:	.ASCIZ	\TOO MANY OUTPUT FILES SPECIFIED%N\
    137

					E$R26==26.
	001403				ERR26:	.ASCIZ	\EXACTLY ONE INPUT FILE MUST APPEAR WITH /CO%N\
    138

					E$R27==27.
	001461				ERR27:	.ASCIZ	\FATAL COMPRESS ERROR\
    139

					E$R28==28.
	001506				ERR28:	.ASCIZ	\GST OR MNT SPACE EXCEEDED IN COMPRESS%N\
    140

					E$R29==29.
	001556				ERR29:	.ASCIZ	\ERROR IN LIBRARY TABLES, FILE %X%N\
LIBER	MACRO M1110  22-AUG-78 02:10  PAGE 4-4


    141

					E$R30==30.
	001621				ERR30:	.ASCIZ	\INVALID FORMAT, INPUT FILE %X%N\
    142

					E$R31==31.
	001661				ERR31:	.ASCIZ	\OPEN FAILURE ON LBR WORK FILE%N\
    143

					E$R32==32.
	001721				ERR32:	.ASCIZ	\MARK FOR DELETE FAILURE ON LBR WORK FILE%N\
    144

					E$R33==33.
	001774				ERR33:	.ASCIZ	\TOO MANY INPUT FILES%N\
    145

					E$R34==34.
	002023				ERR34:	.ASCIZ	\MISSING OUTPUT FILE SPECIFIER%N\
    146

					E$R55==35.
	002063				ERR35:	.ASCIZ	\ILLEGAL FILENAME%N%VA%N\
    147

					E$R56==36.
	002113				ERR36:	.ASCIZ	\ILLEGAL DEVICE/VOLUME%N%VA%N\
    148

					E$R58==37.
	002150				ERR37:	.ASCIZ	\ILLEGAL DIRECTORY%N%VA%N\
    149

					E$R73==38.
	002201				ERR38:	.ASCIZ	\WORK FILE I/O ERROR%N\
    150

					E$R76==39.
	002227				ERR39:	.ASCIZ	\VIRTUAL STORAGE REQUIREMENT EXCEEDS 65536. WORDS%N\
    151

					E$R77==40.
	002312				ERR40:	.ASCIZ	\SEVERITY LEVEL OF %B ON MODULE "%VA"%N\
    152
    153						.LIST	BIN
    154						.LIST	MC
    155
    156	000000					.PSECT
    157
    158
    159
    160					;+
    161					; **-$ERMSG-ERROR MESSAGE ROUTINE
    162					;
    163					; THIS ROUTINE IS CALLED TO OUTPUT AN ERROR MESSAGE. THE SEVERITY OF
    164					; THE ERROR IS USED TO SELECT A PREFIX THAT IS TO BE OUTPUT WITH THE
LIBER	MACRO M1110  22-AUG-78 02:10  PAGE 4-5


    165					; MESSAGE. THE ERROR NUMBER SPECIFIES AN ERROR FORMAT WHICH IS PASSED
    166					; TO '$FMTER' TO EDIT THE ERROR MESSAGE. THE RESULTANT ERROR MESSAGE IS
    167					; THEN OUTPUT USING THE ROUTINE '$EROUT'. IF THE SEVERITY OF THE ERROR
    168					; IS 2, AB$RT IS SET, OR THE SEVERITY OF THE ERROR IS 1 AND THE INPUT IS
    169					; NOT COMING FROM A TERMINAL, THEN THE CURRENT BUILD IS TERMINATED. ELSE
    170					; A RETURN TO THE CALLER IS EXECUTED.
    171					;
    172					; INPUTS:
    173					;
    174					;	R1=ERROR/SEVERITY NUMBERS.
    175					;	R2=ARGUMENT BLOCK ADDRESS.
    176					;
    177					; OUTPUTS:
    178					;
    179					;	IF THE SEVERITY OF THE ERROR IS FATAL OR AB$RT IS SET, THEN
    180					;	THE CURRENT BUILD IS TERMINATED BY CLOSING ALL OPEN FILES AND
    181					;	JUMPING TO THE RESTART ADDRESS IN THE ROOT SEGMENT.
    182					;-
    183
    184	000000				$ERMSG::SAVRG			;SAVE R3-R5
    185	000004					CALL	$FMTER		;FORMAT ERROR MESSAGE
    186	000010	000167 	000000G			JMP	$EROUT		;PRINT MESSAGE
    187
    188
    189		000001 				.END
LIBER	MACRO M1110  22-AUG-78 02:10  PAGE 4-6
SYMBOL TABLE

CTLGRP= 000120   	ERR4    000153R     014	E$R31 = 000037 G 	M$TCPN  000002      004	SF$WK = 000001
EOM$MX= 000007   	ERR40   002312R     014	E$R32 = 000040 G 	OBJ$SL= 000000   	SRF$MX= 000025
ERR0    000000R     014	ERR5    000201R     014	E$R33 = 000041 G 	OB$DBG= 000004   	STAGRP= 000000
ERR1    000046R     014	ERR6    000253R     014	E$R34 = 000042 G 	OB$EOM= 000003   	STOGRP= 000024
ERR10   000447R     014	ERR7    000314R     014	E$R4  = 000005 G 	OB$GSD= 000001   	S$DNAM  000013      011
ERR11   000474R     014	ERR8    000340R     014	E$R5  = 000006 G 	OB$HDR= 000000   	S$DNLN  000012      011
ERR12   000540R     014	ERR9    000402R     014	E$R55 = 000043 G 	OB$LNK= 000005   	S$DPSI  000005      011
ERR13   000575R     014	E$OMAD  000003      012	E$R56 = 000044 G 	OB$TIR= 000002   	S$DVAL  000006      011
ERR14   000627R     014	E$OMER  000001      012	E$R58 = 000045 G 	OPRGRP= 000062   	S$MXLN= 000017
ERR15   000676R     014	E$OMPS  000002      012	E$R6  = 000007 G 	O$BJTY  000000      002	S$RNAM  000006      010
ERR16   000730R     014	E$R0  = 000000 G 	E$R7  = 000010 G 	PAGALI= 000011   	S$RNLN  000005      010
ERR17   000764R     014	E$R01 = 000001 G 	E$R73 = 000046 G 	PF$GBL= 000020   	S$SDTY  000002      007
ERR18   001030R     014	E$R02 = 000003 G 	E$R76 = 000047 G 	PF$OVL= 000004   	S$SFL0  000003      007
ERR19   001052R     014	E$R09 = 000012 G 	E$R77 = 000050 G 	PF$PIC= 000001   	S$SFL1  000004      007
ERR2    000072R     014	E$R1  = 000002 G 	E$R8  = 000011 G 	PF$RD = 000200   	S$V0  = 000000 G
ERR20   001102R     014	E$R10 = 000014 G 	E$R9  = 000013 G 	PF$REL= 000010   	S$V1  = 000001 G
ERR21   001132R     014	E$R11 = 000015 G 	GS$ARG= 000003   	PF$SHR= 000040   	S$V2  = 000002 G
ERR22   001177R     014	E$R13 = 000016 G 	GS$EPM= 000002   	PF$UNI= 000002   	S$$LIB= 000000
ERR23   001234R     014	E$R14 = 000017 G 	GS$PSC= 000000   	PF$WRT= 000001   	TIRMAX= 000121
ERR24   001273R     014	E$R15 = 000020 G 	GS$SYM= 000001   	PF$XEQ= 000100   	T$CHAR= 000005
ERR25   001341R     014	E$R16 = 000021 G 	G$SDTY  000001      005	PSD$MX= 000031   	T$HEAD= 000000
ERR26   001403R     014	E$R17 = 000022 G 	MAXALI= 000011   	P$SALI  000002      006	T$SLEN= 000004
ERR27   001461R     014	E$R18 = 000023 G 	MHD$MX= 000111   	P$SALO  000005      006	T$SMBL= 000004
ERR28   001506R     014	E$R19 = 000024 G 	MH$CPY= 000004   	P$SFL0  000003      006	V$MEML= 000002
ERR29   001556R     014	E$R20 = 000025 G 	MH$GTX= 000006   	P$SFL1  000004      006	Z     = 000051
ERR3    000126R     014	E$R21 = 000026 G 	MH$LNM= 000001   	P$SNAM  000012      006	$     = 000000      012
ERR30   001621R     014	E$R22 = 000027 G 	MH$MHD= 000000   	P$SNLN  000011      006	$ERMSG  000000RG
ERR31   001661R     014	E$R23 = 000030 G 	MH$MTC= 000005   	Q$$CMO= 000000   	$EROUT= ****** GX
ERR32   001721R     014	E$R24 = 000031 G 	MH$SRC= 000002   	R$MXLN= 001000   	$FMTER= ****** GX
ERR33   001774R     014	E$R26 = 000032 G 	MH$TTL= 000003   	R$$11M= 000000   	$MGLST  000000RG    013
ERR34   002023R     014	E$R27 = 000033 G 	MTC$MX= 000213   	SDF$MX= 000032   	$SAVRG= ****** GX
ERR35   002063R     014	E$R28 = 000034 G 	M$HDMS  000003      003	SF$DEF= 000002   	$$    = 000001
ERR36   002113R     014	E$R29 = 000035 G 	M$HDNM  000005      003	SF$REL= 000010   	$$S   = 000005
ERR37   002150R     014	E$R3  = 000004 G 	M$HDSL  000002      003	SF$UNI= 000004   	$$0   = 000002
ERR38   002201R     014	E$R30 = 000036 G 	M$HDST  000001      003	SF$VAL= 000020   	$$1   = 000002
ERR39   002227R     014

. ABS.	000000	   000
      	000014	   001
OBJREC	000001	   002
MHDREC	000111	   003
MTCREC	000213	   004
GSDREC	000002	   005
PSDEF 	000031	   006
SYMBOL	000005	   007
SYMREF	000025	   010
SYMDEF	000032	   011
EOMREC	000007	   012
MSGLST	000122	   013
MSGTXT	002361	   014
ERRORS DETECTED:  0

VIRTUAL MEMORY USED:  1769 WORDS  ( 7 PAGES)
DYNAMIC MEMORY:  2772 WORDS  ( 10 PAGES)
ELAPSED TIME:  00:00:16
OBJ$:LIBER,LIS$:LIBER/-SP=SRC$:NEWFORMAT.,LIBPRE,LIBER

FORMAT	MACRO M1110  22-AUG-78 02:12
TABLE OF CONTENTS

     1-  300	OBJECT LANGUAGE DEFS
FORMAT	MACRO M1110  22-AUG-78 02:12  PAGE 1


    100						.TITLE	FORMAT
    200						.IDENT	/X0300/
    300						.SBTTL	OBJECT LANGUAGE DEFS
FORMAT	MACRO M1110  22-AUG-78 02:12  PAGE 3


      1					; COPYRIGHT (C) 1976, 1977
      2					; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
      3					;
      4					; THIS SOFTWARE IS FURNISHED UNDER  A LICENSE FOR USE ONLY  ON  A
      5					; SINGLE COMPUTER SYSTEM AND MAY BE  COPIED ONLY WITH  THE INCLU-
      6					; SION OF  THE  ABOVE  COPYRIGHT NOTICE.  THIS SOFTWARE,  OR  ANY
      7					; OTHER COPIES THEREOF, MAY NOT BE  PROVIDED  OR  OTHERWISE  MADE
      8					; AVAILABLE TO ANY OTHER PERSON EXCEPT  FOR  USE  ON  SUCH SYSTEM
      9					; AND TO  ONE WHO AGREES  TO  THESE LICENSE  TERMS.  TITLE TO AND
     10					; OWNERSHIP OF THE SOFTWARE SHALL AT ALL TIMES REMAIN IN DEC.
     11					;
     12					; THE INFORMATION IN THIS SOFTWARE  IS  SUBJECT TO CHANGE WITHOUT
     13					; NOTICE AND SHOULD NOT BE CONSTRUED  AS  A COMMITMENT BY DIGITAL
     14					; EQUIPMENT CORPORATION.
     15					;
     16					; DEC ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY OF ITS
     17					; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
LIBLCD	MACRO M1110  22-AUG-78 02:12  PAGE 4


      1						.TITLE	LIBLCD
      2						.IDENT	/X03.01/
      3
      4					; COPYRIGHT (C) 1976, 1977
      5					; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
      6					;
      7					; THIS SOFTWARE IS FURNISHED UNDER  A LICENSE FOR USE ONLY  ON  A
      8					; SINGLE COMPUTER SYSTEM AND MAY BE  COPIED ONLY WITH  THE INCLU-
      9					; SION OF  THE  ABOVE  COPYRIGHT NOTICE.  THIS SOFTWARE,  OR  ANY
     10					; OTHER COPIES THEREOF, MAY NOT BE  PROVIDED  OR  OTHERWISE  MADE
     11					; AVAILABLE TO ANY OTHER PERSON EXCEPT  FOR  USE  ON  SUCH SYSTEM
     12					; AND TO  ONE WHO AGREES  TO  THESE LICENSE  TERMS.  TITLE TO AND
     13					; OWNERSHIP OF THE SOFTWARE SHALL AT ALL TIMES REMAIN IN DEC.
     14					;
     15					; THE INFORMATION IN THIS SOFTWARE  IS  SUBJECT TO CHANGE WITHOUT
     16					; NOTICE AND SHOULD NOT BE CONSTRUED  AS  A COMMITMENT BY DIGITAL
     17					; EQUIPMENT CORPORATION.
     18					;
     19					; DEC ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY OF ITS
     20					; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
     21					;
     22					; VERSION X03.01
     23					;
     24					; WRITTEN BY:
     25					;	GEORGE W. BERRY
     26					;
     27					; MODIFIED BY:
     28					;	C.A. D'ELIA	16-JUN-74
     29					;	C.A. D'ELIA	20-JUN-74  (VIRTUAL TABLES)
     30					;	THOMAS J. MILLER 07-NOV-74
     31					;
     32					;	T. J. MILLER 11-JAN-76
     33					;
     34					;		TM001 -- ADDITION OF EXTRACT SWITCH (/EX).
     35					;
     36					;
     37
     38					;
     39					; MACRO LIBRARY CALLS
     40					;
     41
     42						.MCALL	FDOFF$
     43	000000					FDOFF$	DEF$L
     44						.MCALL	FCSBT$
     45	000000					FCSBT$
     46						.MCALL	CSI$
     47	000000					CSI$
     48						.MCALL	CLOSE$
     49
     50
     51					;+
     52					;
     53					; **-$LISCD- LISTING COMMAND DECODER
     54					;
     55					; THIS ROUTINE SCANS THE COMMAND LINE FOR A LISTING OUTPUT
     56					; SPECIFICATION.  IF IT IS PRESENT, THE LISTING ROUTINE,
     57					; '$LIS' IS CALLED.  A DIAGNOSTIC IS ISSUED IF TOO MANY OUTPUT
LIBLCD	MACRO M1110  22-AUG-78 02:12  PAGE 4-1


     58					; FILES ARE SPECIFIED.  FINALLY, THE LIBRARY FILE IS CLOSED AND
     59					; THE LIBRARIAN IS RESTARTED OR TERMINATED.
     60					;
     61					; INPUTS:
     62					;
     63					;	R5 = $SWTCH ADDRESS
     64					;
     65					; OUTPUTS:
     66					;
     67					;	NONE
     68					;
     69					;-
     70
     71	000000				$LISCD::
     72	000000	032715 	000000G			BIT	#EX$SW,(R5)	;WAS /EX SPECIFIED?                             ; TM001
     73	000004	001032 				BNE	60$		;IF NE YES, NO LISTING                          ; TM001
     74	000006	012704 	000000G			MOV	#$LISPT,R4	;PREPARE TO SCAN FOR LISTING FILE
     75	000012	012714 	000000G			MOV	#LISPT,(R4)	;INSURE PROPER FDB ADDRESS
     76	000016	011400 				MOV	(R4),R0		;PUT LISTING FDB ADDR IN R0
     77	000020	012701 	000000G			MOV	#$CSIBK,R1	;PUT CSI BLOCK ADDR IN R1
     78	000024					CALL	$SCANO		;SCAN THE COMMAND LINE
     79	000030	103006 				BCC	40$		;BRANCH IF LISTING FILE FOUND
     80	000032	032715 	000000G			BIT	#LI$SW,(R5)	;ELSE, TEST FOR /LI SWITCH
     81	000036	001405 				BEQ	50$		;BRANCH -- NO LISTING DESIRED
     82
     83
     90
     91	000040	005014 				CLR	(R4)		;ELSE, FORCE LISTING TO CMD OUTPUT
     92
     93
     95
     96
     97	000042	052715 	000000G			BIS	#SP$SW,(R5)	;FORCE NO SPOOLING
     98	000046				40$:	CALL	$LIS		;PRODUCE LIBRARY LISTINGS
     99	000052	132767 	000020 	000001G	50$:	BITB	#CS.MOR,$CSIBK+C.STAT  ;MORE OUTPUT FILES?
    100	000060	001404 				BEQ	60$		;BRANCH IF NOT
    101	000062	012701 				MOV	(PC)+,R1	;ELSE, DIAG -- TOO MANY OUTPUT FILES
    102	000064	   000G	   000G			.BYTE	E$R24,S$V0
    103	000066					CALL	$ERMSG		;SEND DIAGNOSTIC MESSAGE
    104	000072	016700 	000000G		60$:	MOV	$LIBPT,R0	;PUT LIBRARY FDB ADDR IN R0
    105	000076	012760 	000001 	000000 		MOV	#R.FIX,F.RTYP(R0)  ;SET FIXED LENGTH RECORDS
    106	000104					CLOSE$	R0		;CLOSE LIBRARY FILE
    107	000110					CLOSE$	$WRKPT		;CLOSE WORK FILE
    108	000120	000167 	000000G			JMP	$RSTRT		;ELSE, RESTART LIBRARIAN
    109
    110
    111		000001 				.END
LIBLCD	MACRO M1110  22-AUG-78 02:12  PAGE 4-2
SYMBOL TABLE

CH.AND= 000001   	FD.ISP= 002000   	F.FVER= 000120   	NB.SNM= 000040   	SF$UNI= 000004
CS.DIF= 000002   	FD.MNT= 100000   	F.HIBK= 000004   	NB.STP= 000020   	SF$VAL= 000020
CS.DVF= 000004   	FD.OSP= 004000   	F.LUN = 000042   	NB.SVR= 000010   	SF$WK = 000001
CS.EQU= 000040   	FD.PLC= 000004   	F.MBCT= 000054   	NB.TYP= 000002   	SP$SW = ****** GX
CS.INP= 000001   	FD.PRN= 000004   	F.MBC1= 000055   	NB.VER= 000001   	SRF$MX= 000025
CS.MOR= 000020   	FD.PSE= 010000   	F.MBFG= 000056   	N.DID = 000024   	STAGRP= 000000
CS.NMF= 000001   	FD.RAH= 000001   	F.NRBD= 000024   	N.DVNM= 000032   	STOGRP= 000024
CS.OUT= 000002   	FD.RAN= 000002   	F.NREC= 000030   	N.FID = 000000   	S$DNAM  000013      011
CS.WLD= 000010   	FD.REC= 000001   	F.OVBS= 000030   	N.FNAM= 000006   	S$DNLN  000012      011
CTLGRP= 000120   	FD.RWM= 000001   	F.RACC= 000016   	N.FTYP= 000014   	S$DPSI  000005      011
C.CMLD= 000002   	FD.SDI= 000020   	F.RATT= 000001   	N.FVER= 000016   	S$DVAL  000006      011
C.DEVD= 000006   	FD.SQD= 000040   	F.RCNM= 000034   	N.NEXT= 000022   	S$MXLN= 000017
C.DIRD= 000012   	FD.TTY= 000004   	F.RCTL= 000017   	N.STAT= 000020   	S$RNAM  000006      010
C.DSDS= 000006   	FD.WBH= 000002   	F.RSIZ= 000002   	N.UNIT= 000034   	S$RNLN  000005      010
C.FILD= 000016   	FF.CHR= 000005   	F.RTYP= 000000   	OBJ$SL= 000000   	S$SDTY  000002      007
C.MKW1= 000024   	FF.NV = 000003   	F.SEQN= 000100   	OB$DBG= 000004   	S$SFL0  000003      007
C.MKW2= 000026   	FF.POE= 000002   	F.SPDV= 000072   	OB$EOM= 000003   	S$SFL1  000004      007
C.SIZE= 000054   	FF.RWD= 000001   	F.SPUN= 000074   	OB$GSD= 000001   	S$V0  = ****** GX
C.STAT= 000001   	FF.RWF= 000006   	F.STBK= 000036   	OB$HDR= 000000   	S$$LIB= 000000
C.SWAD= 000022   	FF.SPC= 000004   	F.UNIT= 000136   	OB$LNK= 000005   	S.FATT= 000016
C.TYPR= 000000   	FO.APD= 000106   	F.URBD= 000020   	OB$TIR= 000002   	S.FDB = 000140
EOM$MX= 000007   	FO.MFY= 000002   	F.VBN = 000064   	OPRGRP= 000062   	S.FNAM= 000006
EX$SW = ****** GX	FO.RD = 000001   	F.VBSZ= 000060   	O$BJTY  000000      002	S.FNB = 000036
E$OMAD  000003      012	FO.UPD= 000006   	GS$ARG= 000003   	PAGALI= 000011   	S.FNBW= 000017
E$OMER  000001      012	FO.WRT= 000016   	GS$EPM= 000002   	PAR$$$= 000067   	S.FNTY= 000004
E$OMPS  000002      012	F.ACTL= 000076   	GS$PSC= 000000   	PF$GBL= 000020   	S.FTYP= 000002
E$R24 = ****** GX	F.ALOC= 000040   	GS$SYM= 000001   	PF$OVL= 000004   	S.NFEN= 000020
FA.APD= 000100   	F.BBFS= 000062   	G$SDTY  000001      005	PF$PIC= 000001   	TIRMAX= 000121
FA.CRE= 000010   	F.BDB = 000070   	LISPT = ****** GX	PF$RD = 000200   	T$CHAR= 000005
FA.DLK= 001000   	F.BGBC= 000057   	LI$SW = ****** GX	PF$REL= 000010   	T$HEAD= 000000
FA.ENB= 100000   	F.BKDN= 000026   	MAXALI= 000011   	PF$SHR= 000040   	T$SLEN= 000004
FA.EXC= 002000   	F.BKDS= 000020   	MHD$MX= 000111   	PF$UNI= 000002   	T$SMBL= 000004
FA.EXT= 000004   	F.BKEF= 000050   	MH$CPY= 000004   	PF$WRT= 000001   	V$MEML= 000002
FA.NSP= 000100   	F.BKP1= 000051   	MH$GTX= 000006   	PF$XEQ= 000100   	$     = 000000      012
FA.POS= 010000   	F.BKST= 000024   	MH$LNM= 000001   	PSD$MX= 000031   	$CSIBK= ****** GX
FA.RD = 000001   	F.BKVB= 000064   	MH$MHD= 000000   	P$SALI  000002      006	$ERMSG= ****** GX
FA.RWD= 004000   	F.CHR = 000075   	MH$MTC= 000005   	P$SALO  000005      006	$LIBPT= ****** GX
FA.SEQ= 040000   	F.CNTG= 000034   	MH$SRC= 000002   	P$SFL0  000003      006	$LIS  = ****** GX
FA.SHR= 000040   	F.DFNB= 000046   	MH$TTL= 000003   	P$SFL1  000004      006	$LISCD  000000RG
FA.TMP= 000020   	F.DSPT= 000044   	MTC$MX= 000213   	P$SNAM  000012      006	$LISPT= ****** GX
FA.WCK= 020000   	F.DVNM= 000134   	M$HDMS  000003      003	P$SNLN  000011      006	$RSTRT= ****** GX
FA.WRT= 000002   	F.EFBK= 000010   	M$HDNM  000005      003	Q$$CMO= 000000   	$SCANO= ****** GX
FD.BLK= 000010   	F.EFN = 000050   	M$HDSL  000002      003	R$MXLN= 001000   	$WRKPT= ****** GX
FD.CCL= 000002   	F.EOBB= 000032   	M$HDST  000001      003	R$$11M= 000000   	$$    = 000001
FD.COM= 020000   	F.ERR = 000052   	M$TCPN  000002      004	R.FIX = 000001   	$$S   = 000005
FD.CR = 000002   	F.FACC= 000043   	NB.DEV= 000200   	R.SEQ = 000003   	$$0   = 000002
FD.DIR= 000010   	F.FFBY= 000014   	NB.DIR= 000100   	R.VAR = 000002   	$$1   = 000002
FD.FTN= 000001   	F.FNAM= 000110   	NB.NAM= 000004   	SDF$MX= 000032   	.CLOSE= ****** G
FD.F11= 040000   	F.FNB = 000102   	NB.SD1= 000400   	SF$DEF= 000002   	...GBL= 000000
FD.INS= 000010   	F.FTYP= 000116   	NB.SD2= 001000   	SF$REL= 000010   	...TPC= 000140

. ABS.	000000	   000
      	000124	   001
OBJREC	000001	   002
MHDREC	000111	   003
MTCREC	000213	   004
GSDREC	000002	   005
LIBLCD	MACRO M1110  22-AUG-78 02:12  PAGE 4-3
SYMBOL TABLE

PSDEF 	000031	   006
SYMBOL	000005	   007
SYMREF	000025	   010
SYMDEF	000032	   011
EOMREC	000007	   012
ERRORS DETECTED:  0

VIRTUAL MEMORY USED:  2633 WORDS  ( 11 PAGES)
DYNAMIC MEMORY:  3828 WORDS  ( 14 PAGES)
ELAPSED TIME:  00:00:14
OBJ$:LIBLCD,LIS$:LIBLCD/-SP=SRC$:NEWFORMAT.,LIBPRE,LIBLCD

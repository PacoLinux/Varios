FORMAT	MACRO M1110  22-AUG-78 02:13
TABLE OF CONTENTS

     1-  300	OBJECT LANGUAGE DEFS
FORMAT	MACRO M1110  22-AUG-78 02:13  PAGE 1


    100						.TITLE	FORMAT
    200						.IDENT	/X0300/
    300						.SBTTL	OBJECT LANGUAGE DEFS
FORMAT	MACRO M1110  22-AUG-78 02:13  PAGE 3


      1					; COPYRIGHT (C) 1976, 1977
      2					; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
      3					;
      4					; THIS SOFTWARE IS FURNISHED UNDER  A LICENSE FOR USE ONLY  ON  A
      5					; SINGLE COMPUTER SYSTEM AND MAY BE  COPIED ONLY WITH  THE INCLU-
      6					; SION OF  THE  ABOVE  COPYRIGHT NOTICE.  THIS SOFTWARE,  OR  ANY
      7					; OTHER COPIES THEREOF, MAY NOT BE  PROVIDED  OR  OTHERWISE  MADE
      8					; AVAILABLE TO ANY OTHER PERSON EXCEPT  FOR  USE  ON  SUCH SYSTEM
      9					; AND TO  ONE WHO AGREES  TO  THESE LICENSE  TERMS.  TITLE TO AND
     10					; OWNERSHIP OF THE SOFTWARE SHALL AT ALL TIMES REMAIN IN DEC.
     11					;
     12					; THE INFORMATION IN THIS SOFTWARE  IS  SUBJECT TO CHANGE WITHOUT
     13					; NOTICE AND SHOULD NOT BE CONSTRUED  AS  A COMMITMENT BY DIGITAL
     14					; EQUIPMENT CORPORATION.
     15					;
     16					; DEC ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY OF ITS
     17					; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
LIBNXT	MACRO M1110  22-AUG-78 02:13  PAGE 4


      1						.TITLE	LIBNXT
      2						.IDENT	/02/
      3
      4					; COPYRIGHT (C) 1976, 1977
      5					; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
      6					;
      7					; THIS SOFTWARE IS FURNISHED UNDER  A LICENSE FOR USE ONLY  ON  A
      8					; SINGLE COMPUTER SYSTEM AND MAY BE  COPIED ONLY WITH  THE INCLU-
      9					; SION OF  THE  ABOVE  COPYRIGHT NOTICE.  THIS SOFTWARE,  OR  ANY
     10					; OTHER COPIES THEREOF, MAY NOT BE  PROVIDED  OR  OTHERWISE  MADE
     11					; AVAILABLE TO ANY OTHER PERSON EXCEPT  FOR  USE  ON  SUCH SYSTEM
     12					; AND TO  ONE WHO AGREES  TO  THESE LICENSE  TERMS.  TITLE TO AND
     13					; OWNERSHIP OF THE SOFTWARE SHALL AT ALL TIMES REMAIN IN DEC.
     14					;
     15					; THE INFORMATION IN THIS SOFTWARE  IS  SUBJECT TO CHANGE WITHOUT
     16					; NOTICE AND SHOULD NOT BE CONSTRUED  AS  A COMMITMENT BY DIGITAL
     17					; EQUIPMENT CORPORATION.
     18					;
     19					; DEC ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY OF ITS
     20					; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
     21					;
     22					; VERSION 02
     23					;
     24					; WRITTEN BY:
     25					;	GEORGE W. BERRY
     26					;
     27					; MODIFIED BY:
     28					;	C.A. D'ELIA	10-JUN-74
     29					;
     30					;
     31
     32					;+
     33					;
     34					; **-$NEXT- COMPUTE NEXT MODULE HEADER ADDRESS
     35					;
     36					; THIS ROUTINE COMPUTES THE ADDRESS OF THE NEXT MODULE HEADER.
     37					;
     38					; INPUTS:
     39					;
     40					;	R1 = VBN OF CURRENT MODULE HEADER
     41					;	R2 = BYTE-IN-BLOCK OF CURRENT MODULE HEADER
     42					;	MODULE HEADER BLOCK IS SET UP
     43					;
     44					; OUTPUTS:
     45					;
     46					;	R0 IS UNCHANGED
     47					;	R1 = BLOCK OF NEXT MODULE HEADER
     48					;	R2 = BYTE-IN-BLOCK OF NEXT MODULE HEADER
     49					;
     50					;-
     51	000000				$NEXT::	SAVRG			;SAVE R3-R5
     52	000004	016704 	000000G			MOV	$MOSZ,R4	;GET MODULE SIZE
     53	000010	016705 	000002G			MOV	$MOSZ+2,R5
     54	000014	060205 				ADD	R2,R5		;COMPUTE UPDATED BYTE IN BLOCK
     55	000016	005504 				ADC	R4		;(DOUBLE PRECISION)
     56	000020	010502 				MOV	R5,R2
     57	000022	042702 	177000 			BIC	#177000,R2	;R2 = NEXT M.H. BYTE-IN-BLOCK
LIBNXT	MACRO M1110  22-AUG-78 02:13  PAGE 4-1


     58
     59
     66
     67	000026	105005 				CLRB	R5		;DIVIDE THE DOUBLE WORD  ...
     68	000030	150405 				BISB	R4,R5		;... NUMBER IN R4-R5 ...
     69	000032	000305 				SWAB	R5		;... BY ...
     70	000034	105004 				CLRB	R4		;... 256.
     71	000036	000304 				SWAB	R4		;
     72	000040	006204 				ASR	R4		;MAKE FINAL RESULT A DIVISION ...
     73	000042	006005 				ROR	R5		;... BY 512.
     74
     75
     77
     78
     79	000044	060501 				ADD	R5,R1		;AND UPDATE BLOCK NUMBER
     80	000046					RETURN
     81
     82
     83		000001 				.END
LIBNXT	MACRO M1110  22-AUG-78 02:13  PAGE 4-2
SYMBOL TABLE

CTLGRP= 000120   	MH$TTL= 000003   	PF$OVL= 000004   	SDF$MX= 000032   	S$SFL0  000003      007
EOM$MX= 000007   	MTC$MX= 000213   	PF$PIC= 000001   	SF$DEF= 000002   	S$SFL1  000004      007
E$OMAD  000003      012	M$HDMS  000003      003	PF$RD = 000200   	SF$REL= 000010   	S$$LIB= 000000
E$OMER  000001      012	M$HDNM  000005      003	PF$REL= 000010   	SF$UNI= 000004   	TIRMAX= 000121
E$OMPS  000002      012	M$HDSL  000002      003	PF$SHR= 000040   	SF$VAL= 000020   	T$CHAR= 000005
GS$ARG= 000003   	M$HDST  000001      003	PF$UNI= 000002   	SF$WK = 000001   	T$HEAD= 000000
GS$EPM= 000002   	M$TCPN  000002      004	PF$WRT= 000001   	SRF$MX= 000025   	T$SLEN= 000004
GS$PSC= 000000   	OBJ$SL= 000000   	PF$XEQ= 000100   	STAGRP= 000000   	T$SMBL= 000004
GS$SYM= 000001   	OB$DBG= 000004   	PSD$MX= 000031   	STOGRP= 000024   	V$MEML= 000002
G$SDTY  000001      005	OB$EOM= 000003   	P$SALI  000002      006	S$DNAM  000013      011	$     = 000000      012
MAXALI= 000011   	OB$GSD= 000001   	P$SALO  000005      006	S$DNLN  000012      011	$MOSZ = ****** GX
MHD$MX= 000111   	OB$HDR= 000000   	P$SFL0  000003      006	S$DPSI  000005      011	$NEXT   000000RG
MH$CPY= 000004   	OB$LNK= 000005   	P$SFL1  000004      006	S$DVAL  000006      011	$SAVRG= ****** GX
MH$GTX= 000006   	OB$TIR= 000002   	P$SNAM  000012      006	S$MXLN= 000017   	$$    = 000001
MH$LNM= 000001   	OPRGRP= 000062   	P$SNLN  000011      006	S$RNAM  000006      010	$$S   = 000005
MH$MHD= 000000   	O$BJTY  000000      002	Q$$CMO= 000000   	S$RNLN  000005      010	$$0   = 000002
MH$MTC= 000005   	PAGALI= 000011   	R$MXLN= 001000   	S$SDTY  000002      007	$$1   = 000002
MH$SRC= 000002   	PF$GBL= 000020   	R$$11M= 000000

. ABS.	000000	   000
      	000050	   001
OBJREC	000001	   002
MHDREC	000111	   003
MTCREC	000213	   004
GSDREC	000002	   005
PSDEF 	000031	   006
SYMBOL	000005	   007
SYMREF	000025	   010
SYMDEF	000032	   011
EOMREC	000007	   012
ERRORS DETECTED:  0

VIRTUAL MEMORY USED:  853 WORDS  ( 4 PAGES)
DYNAMIC MEMORY:  2772 WORDS  ( 10 PAGES)
ELAPSED TIME:  00:00:07
OBJ$:LIBNXT,LIS$:LIBNXT/-SP=SRC$:NEWFORMAT.,LIBPRE,LIBNXT

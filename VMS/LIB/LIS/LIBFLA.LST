FORMAT	MACRO M1110  22-AUG-78 02:11
TABLE OF CONTENTS

     1-  300	OBJECT LANGUAGE DEFS
FORMAT	MACRO M1110  22-AUG-78 02:11  PAGE 1


    100						.TITLE	FORMAT
    200						.IDENT	/X0300/
    300						.SBTTL	OBJECT LANGUAGE DEFS
FORMAT	MACRO M1110  22-AUG-78 02:11  PAGE 3


      1					; COPYRIGHT (C) 1976, 1977
      2					; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
      3					;
      4					; THIS SOFTWARE IS FURNISHED UNDER  A LICENSE FOR USE ONLY  ON  A
      5					; SINGLE COMPUTER SYSTEM AND MAY BE  COPIED ONLY WITH  THE INCLU-
      6					; SION OF  THE  ABOVE  COPYRIGHT NOTICE.  THIS SOFTWARE,  OR  ANY
      7					; OTHER COPIES THEREOF, MAY NOT BE  PROVIDED  OR  OTHERWISE  MADE
      8					; AVAILABLE TO ANY OTHER PERSON EXCEPT  FOR  USE  ON  SUCH SYSTEM
      9					; AND TO  ONE WHO AGREES  TO  THESE LICENSE  TERMS.  TITLE TO AND
     10					; OWNERSHIP OF THE SOFTWARE SHALL AT ALL TIMES REMAIN IN DEC.
     11					;
     12					; THE INFORMATION IN THIS SOFTWARE  IS  SUBJECT TO CHANGE WITHOUT
     13					; NOTICE AND SHOULD NOT BE CONSTRUED  AS  A COMMITMENT BY DIGITAL
     14					; EQUIPMENT CORPORATION.
     15					;
     16					; DEC ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY OF ITS
     17					; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
LIBFLA	MACRO M1110  22-AUG-78 02:11  PAGE 4


      1						.TITLE	LIBFLA
      2						.IDENT	/03/
      3
      4					; COPYRIGHT (C) 1976, 1977
      5					; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
      6					;
      7					; THIS SOFTWARE IS FURNISHED UNDER  A LICENSE FOR USE ONLY  ON  A
      8					; SINGLE COMPUTER SYSTEM AND MAY BE  COPIED ONLY WITH  THE INCLU-
      9					; SION OF  THE  ABOVE  COPYRIGHT NOTICE.  THIS SOFTWARE,  OR  ANY
     10					; OTHER COPIES THEREOF, MAY NOT BE  PROVIDED  OR  OTHERWISE  MADE
     11					; AVAILABLE TO ANY OTHER PERSON EXCEPT  FOR  USE  ON  SUCH SYSTEM
     12					; AND TO  ONE WHO AGREES  TO  THESE LICENSE  TERMS.  TITLE TO AND
     13					; OWNERSHIP OF THE SOFTWARE SHALL AT ALL TIMES REMAIN IN DEC.
     14					;
     15					; THE INFORMATION IN THIS SOFTWARE  IS  SUBJECT TO CHANGE WITHOUT
     16					; NOTICE AND SHOULD NOT BE CONSTRUED  AS  A COMMITMENT BY DIGITAL
     17					; EQUIPMENT CORPORATION.
     18					;
     19					; DEC ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY OF ITS
     20					; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
     21					;
     22					; VERSION 03
     23					;
     24					; WRITTEN BY:
     25					;	GEORGE W. BERRY
     26					;
     27					; MODIFIED BY:
     28					;	C.A. D'ELIA	24-JUN-74
     29					;	THOMAS J. MILLER 07-NOV-74
     30					;
     31					;
     32
     33					;
     34					; MACRO CALLS
     35					;
     36
     37						.MCALL	FDOFF$
     38	000000					FDOFF$	DEF$L
     39
     40
     41					;+
     42					;
     43					; **-$FIXLA-RECOMPUTE L$LA
     44					;
     45					; THIS ROUTINE IS CALLED TO RECOMPUTE THE AVAILABLE FREE SPACE
     46					; IN THE LIBRARY.  THE VALUE (IN BYTES) IS STORED IN THE HEADER
     47					; AT LOCATIONS L$LA AND L$LA+2.
     48					;
     49					;-
     50	000000				$FIXLA::SAVRG			;SAVE R3-R5
     51	000004	016700 	000000G			MOV	$LIBPT,R0	;POINT TO LIB FDB
     52	000010	016005 	000006 			MOV	F.HIBK+2(R0),R5	;GET FILE SIZE IN BLOCKS
     53	000014	166705 	000000G			SUB	L$NX,R5		;GET FREE BLOCKS
     54	000020	005205 				INC	R5		;FUDGE FOR LAST BLOCK
     55
     56
     64
LIBFLA	MACRO M1110  22-AUG-78 02:11  PAGE 4-1


     65	000022	000305 				SWAB	R5		;PERFORM SHIFT BY EIGHT BITS
     66	000024	010504 				MOV	R5,R4		;COPY INTO R4 FOR COMBINED SHIFT
     67	000026	105005 				CLRB	R5		;CLEAR LOW HALF OF R5
     68	000030	040504 				BIC	R5,R4		;CLEAR HIGH HALF OF R4
     69	000032	006305 				ASL	R5		;PERFORM NINTH SHIFT
     70	000034	006104 				ROL	R4		;AND MAKE IT COMBINED RESULT
     71
     72
     74
     75
     76	000036	166705 	000002G			SUB	L$NX+2,R5	;COMPUTE FREE BYTES IN LAST BLOCK
     77	000042	005604 				SBC	R4
     78	000044	010467 	000000G			MOV	R4,L$LA		;AND STORE VALUE
     79	000050	010567 	000002G			MOV	R5,L$LA+2	;DOUBLE PRECISION
     80	000054					RETURN
     81
     82		000001 				.END
LIBFLA	MACRO M1110  22-AUG-78 02:11  PAGE 4-2
SYMBOL TABLE

CTLGRP= 000120   	F.LUN = 000042   	MH$GTX= 000006   	PF$GBL= 000020   	S$DVAL  000006      011
EOM$MX= 000007   	F.MBCT= 000054   	MH$LNM= 000001   	PF$OVL= 000004   	S$MXLN= 000017
E$OMAD  000003      012	F.MBC1= 000055   	MH$MHD= 000000   	PF$PIC= 000001   	S$RNAM  000006      010
E$OMER  000001      012	F.MBFG= 000056   	MH$MTC= 000005   	PF$RD = 000200   	S$RNLN  000005      010
E$OMPS  000002      012	F.NRBD= 000024   	MH$SRC= 000002   	PF$REL= 000010   	S$SDTY  000002      007
F.ACTL= 000076   	F.NREC= 000030   	MH$TTL= 000003   	PF$SHR= 000040   	S$SFL0  000003      007
F.ALOC= 000040   	F.OVBS= 000030   	MTC$MX= 000213   	PF$UNI= 000002   	S$SFL1  000004      007
F.BBFS= 000062   	F.RACC= 000016   	M$HDMS  000003      003	PF$WRT= 000001   	S$$LIB= 000000
F.BDB = 000070   	F.RATT= 000001   	M$HDNM  000005      003	PF$XEQ= 000100   	S.FATT= 000016
F.BGBC= 000057   	F.RCNM= 000034   	M$HDSL  000002      003	PSD$MX= 000031   	S.FDB = 000140
F.BKDN= 000026   	F.RCTL= 000017   	M$HDST  000001      003	P$SALI  000002      006	S.FNAM= 000006
F.BKDS= 000020   	F.RSIZ= 000002   	M$TCPN  000002      004	P$SALO  000005      006	S.FNB = 000036
F.BKEF= 000050   	F.RTYP= 000000   	N.DID = 000024   	P$SFL0  000003      006	S.FNBW= 000017
F.BKP1= 000051   	F.SEQN= 000100   	N.DVNM= 000032   	P$SFL1  000004      006	S.FNTY= 000004
F.BKST= 000024   	F.SPDV= 000072   	N.FID = 000000   	P$SNAM  000012      006	S.FTYP= 000002
F.BKVB= 000064   	F.SPUN= 000074   	N.FNAM= 000006   	P$SNLN  000011      006	S.NFEN= 000020
F.CHR = 000075   	F.STBK= 000036   	N.FTYP= 000014   	Q$$CMO= 000000   	TIRMAX= 000121
F.CNTG= 000034   	F.UNIT= 000136   	N.FVER= 000016   	R$MXLN= 001000   	T$CHAR= 000005
F.DFNB= 000046   	F.URBD= 000020   	N.NEXT= 000022   	R$$11M= 000000   	T$HEAD= 000000
F.DSPT= 000044   	F.VBN = 000064   	N.STAT= 000020   	SDF$MX= 000032   	T$SLEN= 000004
F.DVNM= 000134   	F.VBSZ= 000060   	N.UNIT= 000034   	SF$DEF= 000002   	T$SMBL= 000004
F.EFBK= 000010   	GS$ARG= 000003   	OBJ$SL= 000000   	SF$REL= 000010   	V$MEML= 000002
F.EFN = 000050   	GS$EPM= 000002   	OB$DBG= 000004   	SF$UNI= 000004   	$     = 000000      012
F.EOBB= 000032   	GS$PSC= 000000   	OB$EOM= 000003   	SF$VAL= 000020   	$FIXLA  000000RG
F.ERR = 000052   	GS$SYM= 000001   	OB$GSD= 000001   	SF$WK = 000001   	$LIBPT= ****** GX
F.FACC= 000043   	G$SDTY  000001      005	OB$HDR= 000000   	SRF$MX= 000025   	$SAVRG= ****** GX
F.FFBY= 000014   	L$LA  = ****** GX	OB$LNK= 000005   	STAGRP= 000000   	$$    = 000001
F.FNAM= 000110   	L$NX  = ****** GX	OB$TIR= 000002   	STOGRP= 000024   	$$S   = 000005
F.FNB = 000102   	MAXALI= 000011   	OPRGRP= 000062   	S$DNAM  000013      011	$$0   = 000002
F.FTYP= 000116   	MHD$MX= 000111   	O$BJTY  000000      002	S$DNLN  000012      011	$$1   = 000002
F.FVER= 000120   	MH$CPY= 000004   	PAGALI= 000011   	S$DPSI  000005      011	...TPC= 000140
F.HIBK= 000004

. ABS.	000000	   000
      	000056	   001
OBJREC	000001	   002
MHDREC	000111	   003
MTCREC	000213	   004
GSDREC	000002	   005
PSDEF 	000031	   006
SYMBOL	000005	   007
SYMREF	000025	   010
SYMDEF	000032	   011
EOMREC	000007	   012
ERRORS DETECTED:  0

VIRTUAL MEMORY USED:  2032 WORDS  ( 8 PAGES)
DYNAMIC MEMORY:  2772 WORDS  ( 10 PAGES)
ELAPSED TIME:  00:00:09
OBJ$:LIBFLA,LIS$:LIBFLA/-SP=SRC$:NEWFORMAT.,LIBPRE,LIBFLA

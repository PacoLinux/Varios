INSLIST         - INSTALL LIST COMMAND                           22-AUG-1978 01:17:28   VAX-11 MACRO X0.3-11               Page   0
TABLE OF CONTENTS   

   (2)     100  DECLARATIONS
   (3)     100  LIST COMMAND - LIST THE KNOWN FILES
   (4)     100  SUPPORT ROUTINES FOR LIST COMMAND
INSLIST         - INSTALL LIST COMMAND                           22-AUG-1978 01:17:28   VAX-11 MACRO X0.3-11               Page   1
X0110                                                                                                                            (1)

                                     0000   100 	.TITLE	INSLIST - INSTALL LIST COMMAND
                                     0000   200 	.IDENT	/X0110/
                                     0000   300 
                                     0000   400 ;
                                     0000   500 ;			  COPYRIGHT (c) 1978 BY
                                     0000   600 ;	      DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
                                     0000   700 ;
                                     0000   800 ; THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND  COPIED
                                     0000   900 ; ONLY  IN  ACCORDANCE  WITH  THE  TERMS  OF  SUCH  LICENSE AND WITH THE
                                     0000  1000 ; INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE OR  ANY  OTHER
                                     0000  1100 ; COPIES  THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY
                                     0000  1200 ; OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE  IS  HEREBY
                                     0000  1300 ; TRANSFERRED.
                                     0000  1400 ;
                                     0000  1500 ; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE  WITHOUT  NOTICE
                                     0000  1600 ; AND  SHOULD  NOT  BE  CONSTRUED  AS  A COMMITMENT BY DIGITAL EQUIPMENT
                                     0000  1700 ; CORPORATION.
                                     0000  1800 ;
                                     0000  1900 ; DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE OR  RELIABILITY  OF  ITS
                                     0000  2000 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.
                                     0000  2100 ;
                                     0000  2200 
                                     0000  2300 ;++
                                     0000  2400 ; FACILITY:
                                     0000  2500 ;
                                     0000  2600 ; ABSTRACT:
                                     0000  2700 ;
                                     0000  2800 ;
                                     0000  2900 ; ENVIRONMENT:
                                     0000  3000 ;
                                     0000  3100 ; AUTHOR: P. H. LIPMAN	, CREATION DATE: 12-JUL-78
                                     0000  3200 ;
                                     0000  3300 ; MODIFIED BY:
                                     0000  3400 ;
                                     0000  3500 ;	, : VERSION
                                     0000  3600 ; 01	- 
                                     0000  3700 ;--
INSLIST         - INSTALL LIST COMMAND                           22-AUG-1978 01:17:28   VAX-11 MACRO X0.3-11               Page   2
X0110           DECLARATIONS                                                                                                     (2)

                                     0000   100 	.SBTTL	DECLARATIONS
                                     0000   200 ;
                                     0000   300 ; INCLUDE FILES:
                                     0000   400 ;
                                     0000   500 	$ATRDEF				;FCP FILE ATTRIBUTE DEFINITIONS
                                     0000   600 	$DDBDEF				;DEVICE DESCRIPTOR BLOCK DEFINITIONS
                                     0000   700 	$FCBDEF				;FILE CONTROL BLOCK DEFINITIONS
                                     0000   800 	$FIBDEF				;FILE IDENTIFICATION BLOCK DEFINITIONS
                                     0000   850 	$KFHDEF				;KNOWN FILE IMAGE HEADER DEFINITIONS
                                     0000   900 	$KFIDEF				;DEFINE KNOWN FILE ENTRY OFFSETS
                                     0000  1000 	$KFPDEF				;DEFINE KNOWN FILE POINTER BLOCK OFFSETS
                                     0000  1100 	$UCBDEF				;UNIT CONTROL BLOCK DEFINITIONS
                                     0000  1200 	$WCBDEF				;WINDOW CONTROL BLOCK DEFINITIONS
                                     0000  1300 ;
                                     0000  1400 ; MACROS:
                                     0000  1500 ;
                                     0000  1600 	.MACRO	STRDSC	NAM,STR
                                     0000  1700 	.SAVE
                                     0000  1800 	.PSECT	RO_BYTE	BYTE,RD,NOWRT,NOEXE
                                     0000  1900 'NAM'_ADR:
                                     0000  2000 	.ASCII	STR
                                     0000  2100 	'NAM'_SIZ = .-'NAM'_ADR
                                     0000  2200 	.PSECT	RO_LONG	LONG,RD,NOWRT,NOEXE
                                     0000  2300 'NAM'_DSC:
                                     0000  2400 	.LONG	'NAM'_SIZ
                                     0000  2500 	.LONG	'NAM'_ADR
                                     0000  2600 	.RESTORE
                                     0000  2700 	.ENDM	STRDSC
                                     0000  2800 ;
                                     0000  2900 ; EQUATED SYMBOLS:
                                     0000  3000 ;
                                     0000  3005 ;
                                     0000  3010 ; KNOWN FILE ENTRY EXTENSION OFFSETS
                                     0000  3015 ;
                                     0000  3020 	$OFFSET	0,POSITIVE,<-
                                     0000  3025 		KFX_L_KFIADR,-		;KNOWN FILE ENTRY ADDRESS
                                     0000  3030 		<KFX_W_FID,8>,-		;FILE ID
                                     0000  3035 		<KFX_W_WINDOWSIZ,2>,-	;SIZE OF WINDOW CONTROL BLOCK
                                     0000  3040 		<KFX_W_IMGHDRSIZ,2>,-	;SIZE OF RESIDENT IMAGE HEADER
                                     0000  3045 		<KFX_C_LENGTH,0>,-	;SIZE OF KNOWN FILE ENTRY EXTENSION
                                     0000  3095 		>
                                     0000       KFX_L_KFIADR:
                                     0004       KFX_W_FID:
                                     000C       KFX_W_WINDOWSIZ:
                                     000E       KFX_W_IMGHDRSIZ:
                                     0010       KFX_C_LENGTH:
                                     0000  3100 ;
                                     0000  3200 ; OWN STORAGE
                                     0000  3300 ;
                                     0000  3400 
                                 00000000  3500 	.PSECT	DATA	LONG,WRT,NOEXE
                                     0000  3600 ;
                                     0000  3700 ; ***** DO NOT SEPARATE THE FOLLOWING LINES
                                     0000  3800 ;
                                     0000  3900 KFI_LIST_PARAM:
                           00000002  0000  4000 	.LONG	2			;PARAMETER LIST TO KERNEL ROUTINE
                                     0004  4100 					;FOR COPYING THE KFI LISTS TO USER
INSLIST         - INSTALL LIST COMMAND                           22-AUG-1978 01:17:28   VAX-11 MACRO X0.3-11               Page   3
X0110           DECLARATIONS                                                                                                     (2)

                                     0004  4200 KFI_ENTRY_ADR:
                           00000008  0004  4300 	.BLKL	1			;ADDRESS OF KNOWN FILE LIST ENTRY OR 0
                                     0008  4400 LIST_ADR:				;RANGE OF ADDRESSES CREATED FOR 
                           00000010  0008  4500 	.BLKL	2			;THE KNOWN FILE ENTRIES
                                     0010  4600 ;
                                     0010  4700 ; ***** DO NOT SEPARATE THE PRECEDING LINES
                                     0010  4800 ;
                                     0010  4900 EXPREG_PAGCNT:
                           00000014  0010  5000 	.BLKL	1			;NUMBER OF PAGES OF BUFFER TO CREATE
                                     0014  5100 FAO_OUT_STR_DSC:
                           0000001C  0014  5200 	.BLKL	2			;OUTPUT STRING DESCRIPTOR
                                     001C  5300 FAO_OUT_LEN:
                           00000020  001C  5400 	.BLKL	1			;RETURN LENGTH FROM FAO
                                     0020  5500 ;
                                     0020  5600 ; ***** DO NOT SEPARATE THE FOLLOWING LINES.
                                     0020  5700 ;
                                     0020  5800 STRPTR_ARRAY:
                                     0020  5900 LAST_DEVNAM:
                           00000030  0020  6000 	.BLKL	4			;DEVICE, DIRECTORY, NAME, TYPE
                                     0030  6100 					;POINTERS TO COUNTED STRINGS
                                     0030  6200 KFIADR:
                           00000034  0030  6300 	.BLKL	1			;ADDRESS OF KNOWN FILE ENTRY
                                     0034  6400 USECNT:
                           00000038  0034  6500 	.BLKL	1			;USE COUNT FOR THE ENTRY
                                     0038  6600 ;
                                     0038  6700 ; ***** DO NO SEPARATE THE PRECEDING LINES
                                     0038  6800 ;
                                     0038  6900 FAO_PRM:
                           00000054  0038  7000 	.BLKL	7			;FAO PARAMETER LIST
                                     0054  7100 REC_BUF:
                           000000D8  0054  7200 	.BLKB	132			;RECORD BUFFER
                           00000084  00D8  7300 	REC_BUFSIZ=.-REC_BUF
                                     00D8  7400 FIB_DSC:				;DESCRIPTOR FOR FILE IDENT BLOCK
                           0000000A  00D8  7500 	.LONG	FIB$W_FID+6		;SIZE
                           000000E0' 00DC  7600 	.LONG	FIB			;ADDRESS
                           000000EC  00E0  7700 FIB:	.BLKB	FIB$W_FID+8		;FILE IDENTIFICATION BLOCK
                                     00EC  7800 ATRCTLBLK:				;ATTRIBUTE CONTROL BLOCK
                          0007 0002  00EC  7900 	.WORD	ATR$S_FILVER,ATR$C_FILVER ;FOR READING FILE VERSION GIVEN FILE ID
                           00000038' 00F0  8000 	.LONG	FAO_PRM			;ADDRESS TO STORE VERSION NUMBER
                           00000000  00F4  8100 	.LONG	0			;END ATTRIBUTE LIST
                           000000FC  00F8  8200 CHAN:	.BLKL	1			;CHANNEL FOR READ ATTRIBUTES
                           00000104  00FC  8300 IOSB:	.BLKL	2			;I/O STATUS BLOCK FOR READ ATT
                                     0104  8400 
                                 00000000  8500 	.PSECT	RO_LONG	LONG,RD,NOWRT,NOEXE
                                     0000  8600 
                                     0000  8700 FLAGS_LIST:
                  00000009'00000000' 0000  8800 	.LONG	SHAR_ADR,KFI$V_IS_SHARED
                  00000008'00000006' 0008  8900 	.LONG	HEAD_ADR,KFI$V_IS_RESHDR
                  00000007'0000000C' 0010  9000 	.LONG	PRIV_ADR,KFI$V_PROCPRIV
                  00000012'00000012' 0018  9100 	.LONG	OPEN_ADR,KFI$V_DONOTOPEN+16
                  0000000F'00000018' 0020  9200 	.LONG	COMPAT_ADR,KFI$V_COMPATMOD
                  00000006'00000020' 0028  9300 	.LONG	NOEXE_ADR,KFI$V_LIM
                           00000000  0030  9400 	.LONG	0
                                     0034  9500 ;
                                     0034  9600 ; COUNTED STRINGS
                                     0034  9700 ;
                                 00000000  9800 	.PSECT	RO_BYTE	BYTE,RD,NOWRT,NOEXE
INSLIST         - INSTALL LIST COMMAND                           22-AUG-1978 01:17:28   VAX-11 MACRO X0.3-11               Page   4
X0110           DECLARATIONS                                                                                                     (2)

                                     0000  9900 SHAR_ADR:
                  20 72 61 68 53 00' 0000 10000 	.ASCIC	/Shar /
                                 05  0000       
                                     0006 10100 HEAD_ADR:
                  20 64 61 65 48 00' 0006 10200 	.ASCIC	/Head /
                                 05  0006       
                                     000C 10300 PRIV_ADR:
                  20 76 69 72 50 00' 000C 10400 	.ASCIC	/Priv /
                                 05  000C       
                                     0012 10500 OPEN_ADR:
                  20 6E 65 70 4F 00' 0012 10600 	.ASCIC	/Open /
                                 05  0012       
                                     0018 10700 COMPAT_ADR:
            20 74 61 70 6D 6F 43 00' 0018 10800 	.ASCIC	/Compat /
                                 07  0018       
                                     0020 10900 NOEXE_ADR:
                  65 78 65 6F 4E 00' 0020 11000 	.ASCIC	/Noexe/
                                 05  0020       
                                     0026 11100 ;
                                     0026 11200 ; FAO CONTROL STRINGS
                                     0026 11300 ;
                                     0026 11400 	STRDSC	KFINAM,</!AC:[!AC]!AC.!AC/>
                                     0026 11500 	STRDSC	VERSION,</;!UW/>
                                     0026 11600 	STRDSC	FLAGS,</!AC/>
                                     0026 11700 	STRDSC	RUN_CNT ,</    # of times run  = !UL/>
                                     0026 11800 	STRDSC	PRIV_MSK,</    Privilege bits  = !XL,!XL/>
                                     0026 11900 	STRDSC	KFIENTRY,<$    Entry  adr/size = !XL/!UW$>
                                     0026 12000 	STRDSC	WINDOW,  <$    Window adr/size = !XL/!UW$>
                                     0026 12100 	STRDSC	HEADER,  <$    Header adr/size = !XL/!UW$>
INSLIST         - INSTALL LIST COMMAND                           22-AUG-1978 01:17:28   VAX-11 MACRO X0.3-11               Page   5
X0110           LIST COMMAND - LIST THE KNOWN FILES                                                                              (3)

                                     0026   100 	.SBTTL	LIST COMMAND - LIST THE KNOWN FILES
                                     0026   200 
                                     0026   300 	.LIST	MEB
                                 00000000   400 	.PSECT	CODE	RD,NOWRT,EXE
                                     0000   500 ;
                                     0000   600 ; LIST THE KNOWN FILE LIST
                                     0000   700 ;
                                     0000   800 ; CALLING SEQUENCE:
                                     0000   900 ;
                                     0000  1000 ;	CALLG	ARGLIST,INS$LIST
                                     0000  1100 ;
                                     0000  1200 ; INPUTS:
                                     0000  1300 ;
                                     0000  1400 ;	 4(AP) = ADDRESS OF RAB FOR OUTPUT
                                     0000  1500 ;	 8(AP) = ADDRESS OF KNOWN FILE ENTRY TO LIST
                                     0000  1600 ;	       = 0 IF LISTING ENTIRE KNOWN FILE LIST
                                     0000  1610 ;	12(AP) = 0 IF NORMAL LISTING
                                     0000  1620 ;	       = 1 IF FULL LISTING
                                     0000  1700 ;
                                     0000  1800 ; OUTPUTS:
                                     0000  1900 ;
                                     0000  2000 ;	R0 = STATUS
                                     0000  2100 ;
                                     0000  2200 
                                     0000  2300 GET_BIGGER_BUF:
            50   00000000'8F     D1  0000  2320 	CMPL	#SS$_ACCVIO,R0		;SEE IF NEED MORE BUFFER SPACE
                          17     12  0007  2340 	BNEQ	LIST_ERROR		;BRANCH IF SOME OTHER ERROR
                                     0009  2400 	$DELTVA_S INADR=W^LIST_ADR
                          00     DD  0009       		PUSHL	#0
                          00     DD  000B       		PUSHL	#0
                     0008'CF     7F  000D       		PUSHAQ	W^LIST_ADR
   00000000'GF            03     FB  0011       		CALLS	#3,G^SYS$DELTVA
       0010'CF            02     C4  0018  2500 	MULL	#2,W^EXPREG_PAGCNT
            12            50     E8  001D  2600 	BLBS	R0,CREATE_BUFFER
                                     0020  2700 
                                     0020  2800 LIST_ERROR:
                                 04  0020  2900 	RET
                                     0021  3000 
                                     0021  3100 INS$LIST::
                               0FFC  0021  3200 	.WORD	^M<R2,R3,R4,R5,R6,R7,R8,R9,R10,R11>
            5B         04 AC     D0  0023  3300 	MOVL	4(AP),R11		;GET ADDRESS OF OUTPUT RAB
       0004'CF         08 AC     D0  0027  3400 	MOVL	8(AP),W^KFI_ENTRY_ADR	;ENTRY TO BE LISTED
       0010'CF            04     D0  002D  3500 	MOVL	#4,W^EXPREG_PAGCNT	;INITIAL BUFFER SIZE
                                     0032  3600 CREATE_BUFFER:
                                     0032  3700 	$EXPREG_S -			;CREATE SOME ADDRESS SPACE TO MOVE
                                     0032  3800 		PAGCNT=W^EXPREG_PAGCNT,-
                                     0032  3900 		RETADR=W^LIST_ADR	;THE KNOWN FILE ENTRIES TO
                          00     DD  0032       		PUSHL	#0
                          00     DD  0034       		PUSHL	#0
                     0008'CF     7F  0036       		PUSHAQ	W^LIST_ADR
                     0010'CF     DD  003A       		PUSHL	W^EXPREG_PAGCNT
   00000000'GF            04     FB  003E       		CALLS	#4,G^SYS$EXPREG
            D8            50     E9  0045  4000 	BLBC	R0,LIST_ERROR		;BRANCH IF FAILED TO GET THE SPACE
                                     0048  4100 	$CMKRNL_S W^GET_KFI_LISTS,W^KFI_LIST_PARAM ;COPY THE KNOWN FILE ENTIRES
                     0000'CF     DF  0048       		PUSHAL	W^KFI_LIST_PARAM
                     026F'CF     DF  004C       		PUSHAL	W^GET_KFI_LISTS
   00000000'GF            02     FB  0050       		CALLS	#2,G^SYS$CMKRNL
INSLIST         - INSTALL LIST COMMAND                           22-AUG-1978 01:17:28   VAX-11 MACRO X0.3-11               Page   6
X0110           LIST COMMAND - LIST THE KNOWN FILES                                                                              (3)

            A6            50     E9  0057  4200 	BLBC	R0,GET_BIGGER_BUF	;BRANCH IF NEED MORE BUFFER SPACE
            57       0008'CF     D0  005A  4300 	MOVL	W^LIST_ADR,R7		;ADDRESS OF KNOWN FILE ENTRY BUFFER
         00'AB       0054'CF     9E  005F  4400 	MOVAB	W^REC_BUF,B^RAB$L_RBF(R11) ;SET RECORD BUFFER ADDRESS
                          01EC   30  0065  4500 	BSBW	PUT_INIT		;INIT FOR FIRST PUT
                          018C   31  0068  4600 	BRW	LIST_NEXT1
                                     006B  4700 ;
                                     006B  4800 ; BEGINNING OF NEXT KFI ENTRY
                                     006B  4900 ;
                                     006B  5000 LIST_NEXT:
            53            04     D0  006B  5100 	MOVL	#4,R3			;4 STRINGS TO LOOP THROUGH
            57            0C     C1  006E  5200 	ADDL3	#KFI$B_DEVNAM,R7,R1	;ADR OF BYTE OFFSETS TO NAME STRINGS
                          51         0071       
            52       0020'CF     9E  0072  5300 	MOVAB	W^STRPTR_ARRAY,R2	;ADR OF VECTOR OF STRING POINTERS
            50            81     9A  0077  5400 10$:	MOVZBL	(R1)+,R0		;OFFSET TO NEXT STRING IF PRESENT
                          04     13  007A  5500 	BEQL	20$			;BRANCH IF NOT PRESENT
            57            50     C1  007C  5600 	ADDL3	R0,R7,(R2)		;STORE STRING ADDRESS
                          62         007F       
            52            04     C0  0080  5700 20$:	ADDL	#4,R2			;NEXT STRING ADDRESS
            F1            53     F5  0083  5800 	SOBGTR	R3,10$			;LOOP THROUGH 4 STRINGS
         0B A7            00     E1  0086  5900 	BBC	#KFI$V_KFIHD,KFI$B_KFICTL(R7),60$ ;BRANCH IF NOT HEADER ENTRY
                          03         008A       
                          015F   31  008B  6000 	BRW	LIST_NEXT2		;NO OUTPUT FOR HEADER ENTRY
            50       0034'CF     9E  008E  6100 60$:	MOVAB	W^KFINAM_DSC,R0		;CONTROL STRING ADDRESS FOR NAME
            51       0020'CF     9E  0093  6200 	MOVAB	W^STRPTR_ARRAY,R1	;ADDRESS OF FAO PARAMETER LIST
                          017D   30  0098  6300 	BSBW	FAOL			;CONVERT THE FILE NAME
                                     009B  6400 ;
                                     009B  6500 ; USING THE FILE ID FROM THE KNOWN FILE ENTRY, GET THE FILE VERSION.
                                     009B  6600 ;
                     0038'CF     D4  009B  6650 	CLRL	W^FAO_PRM		;ASSUME NO VERSION NUMBER
       00E4'CF         04 A8     7D  009F  6700 	MOVQ	KFX_W_FID(R8),W^FIB+FIB$W_FID ;SET FILE ID IN FIB
                          6D     13  00A5  6800 	BEQL	80$			;BRANCH IF NO FILE ID
            51       0020'CF     D0  00A7  6900 	MOVL	W^LAST_DEVNAM,R1	;ADR OF LAST DEVICE NAME STRING
            50            81     9A  00AC  7000 	MOVZBL	(R1)+,R0		;SIZE IN R0, ADR IN R1
                          03     BB  00AF  7100 	PUSHR	#^M<R0,R1>		;MAKE A DESCRIPTOR ON THE STACK
            50            5E     D0  00B1  7200 	MOVL	SP,R0			;ADDRESS OF THE DESCRIPTOR
                                     00B4  7300 	$ASSIGN_S (R0),W^CHAN		;ASSIGN A CHANNEL TO THE DEVICE
                          7E     7C  00B4       		CLRQ	-(SP)
                     00F8'CF     3F  00B6       		PUSHAW	W^CHAN
                          60     7F  00BA       		PUSHAQ	(R0)
   00000000'GF            04     FB  00BC       		CALLS	#4,G^SYS$ASSIGN
                          06     BA  00C3  7400 	POPR	#^M<R1,R2>		;CLEAN OFF STACK
            49            50     E9  00C5  7500 	BLBC	R0,70$			;BRANCH IF FAILED TO ASSIGN THE CHAN
                                     00C8  7600 	$QIOW_S -
                                     00C8  7700 		FUNC=#IO$_ACCESS,-	;ACCESS QI/O
                                     00C8  7800 		CHAN=W^CHAN,-		;CHANNEL
                                     00C8  7900 		IOSB=W^IOSB,-		;I/O STATUS BLOCK
                                     00C8  8000 		P1=W^FIB_DSC,-		;FILE IDENT BLOCK DESCRIPTOR
                                     00C8  8100 		P5=#ATRCTLBLK		;ATTRIBUTE CONTROL BLOCK
                          00     DD  00C8       		PUSHL	#0
                 000000EC'8F     DD  00CA       		PUSHL	#ATRCTLBLK
                          7E     7C  00D0       		CLRQ	-(SP)
                          00     DD  00D2       		PUSHL	#0
                     00D8'CF     DF  00D4       		PUSHAL	W^FIB_DSC
                          7E     7C  00D8       		CLRQ	-(SP)
                     00FC'CF     7F  00DA       		PUSHAQ	W^IOSB
            7E       0000'8F     3C  00DE       		MOVZWL	#IO$_ACCESS,-(SP)
            7E       00F8'CF     3C  00E3       		MOVZWL	W^CHAN,-(SP)
INSLIST         - INSTALL LIST COMMAND                           22-AUG-1978 01:17:28   VAX-11 MACRO X0.3-11               Page   7
X0110           LIST COMMAND - LIST THE KNOWN FILES                                                                              (3)

                          00     DD  00E8       		PUSHL	#0
   00000000'GF            0C     FB  00EA       		CALLS	#12,G^SYS$QIOW
            52            50     D0  00F1  8200 	MOVL	R0,R2			;SAVE STATUS FROM QIO
                                     00F4  8300 	$DASSGN_S W^CHAN		;DEASSIGN THE CHANNEL
            7E       00F8'CF     3C  00F4       		MOVZWL	W^CHAN,-(SP)
   00000000'GF            01     FB  00F9       		CALLS	#1,G^SYS$DASSGN
            0E            50     E9  0100  8400 	BLBC	R0,70$			;BRANCH IF ERROR
            50            52     D0  0103  8500 	MOVL	R2,R0			;STATUS FROM QIO
            08            50     E9  0106  8600 	BLBC	R0,70$			;BRANCH IF ERROR
            50       00FC'CF     3C  0109  8700 	MOVZWL	W^IOSB,R0		;GET I/O STATUS
            03            50     E8  010E  8800 	BLBS	R0,80$			;BRANCH IF SUCCESSFUL
                          FF0C   31  0111  8900 70$:	BRW	LIST_ERROR		;LISTING COMMAND ERROR
                     0038'CF     D5  0114  9000 80$:	TSTL	W^FAO_PRM		;VERSION TO BE PRINTED?
                          08     13  0118  9100 	BEQL	90$			;BRANCH IF NOT
            50       003C'CF     9E  011A  9200 	MOVAB	W^VERSION_DSC,R0	;CONTROL STRING ADDRESS
                          00F1   30  011F  9300 	BSBW	FAO			;CONVERT THE VERSION
                                 C3  0122  9400 90$:	SUBL3	W^FAO_OUT_STR_DSC+4,-	;SKIP TO COLUMN 40
   0000007C'8F       0018'CF         0123  9500 		#REC_BUF+40,R0		;CALCULATE NO. OF COLUMNS TO SKIP
                          50         012B       
                          03     14  012C  9600 	BGTR	100$			;BRANCH IF NOT ALREADY BEYOND
            50            01     D0  012E  9700 	MOVL	#1,R0			;SKIP 1 COLUMN IF BEYOND
       0018'CF            50     C0  0131  9800 100$:	ADDL	R0,W^FAO_OUT_STR_DSC+4	;UPDATE THE ADDRESS
       0014'CF            50     C2  0136  9900 	SUBL	R0,W^FAO_OUT_STR_DSC	;AND SIZE REMAINING
                                     013B 10000 ;
                                     013B 10100 ; FORM FLAGS IN R2 AND CONVERT TO NAMES
                                     013B 10200 ;
            52         14 A7     3C  013B 10300 	MOVZWL	KFI$W_FLAGS(R7),R2	;LOW 16 BITS OF FLAGS
            10         0B A7     F0  013F 10400 	INSV	KFI$B_KFICTL(R7),#16,#8,R2 ;NEXT 8 BITS ARE CONTROL FLAGS
            52            08         0143       
            53       0000'CF     9E  0145 10500 	MOVAB	W^FLAGS_LIST,R3		;LIST OF STRING ADR, BIT # PAIRS
       0038'CF            83     D0  014A 10600 120$:	MOVL	(R3)+,W^FAO_PRM		;GET NEXT STRING ADDRESS
                          1F     13  014F 10700 	BEQL	160$			;BRANCH IF END OF ADDRESSES
            52            83     E0  0151 10800 	BBS	(R3)+,R2,140$		;BRANCH IF SPECIFIED BIT IS SET
                          11         0154       
            50       0038'DF     9A  0155 10900 	MOVZBL	@W^FAO_PRM,R0		;NOT SET, GET COUNT OF SPACES
       0018'CF            50     C0  015A 11000 	ADDL	R0,W^FAO_OUT_STR_DSC+4	;ADJUST ADDRESS
       0014'CF            50     C2  015F 11100 	SUBL	R0,W^FAO_OUT_STR_DSC	;AND SIZE OF STRING DESCRIPTOR
                          E4     11  0164 11200 	BRB	120$
            50       0044'CF     9E  0166 11300 140$:	MOVAB	W^FLAGS_DSC,R0		;CONTROL STRING ADDRESS
                          00A5   30  016B 11400 	BSBW	FAO			;CONVERT ONE FLAG STRING
                          DA     11  016E 11500 	BRB	120$			;BRANCH IF ANOTHER TO DO
                          00CD   30  0170 11600 160$:	BSBW	PUT
            76         0C AC     E9  0173 11650 	BLBC	12(AP),LIST_NEXT2	;BRANCH IF NOT FULL LISTING
         14 A7            06     E0  0177 11700 	BBS	#KFI$V_LIM,KFI$W_FLAGS(R7),200$ ;BRANCH IF NOT EXECUTABLE
                          0F         017B       
            50       004C'CF     9E  017C 11800 	MOVAB	W^RUN_CNT_DSC,R0	;CONTROL STRING FOR RUN COUNTER
            57            18     C1  0181 11900 	ADDL3	#KFI$L_USECNT,R7,R1	;ADDRESS OF PARAMETER LIST
                          51         0184       
                          0090   30  0185 12000 	BSBW	FAOL			;CONVERT RUN COUNTER
                          00B5   30  0188 12100 	BSBW	PUT			;AND OUTPUT IT
         14 A7            07     E1  018B 12200 200$:	BBC	#KFI$V_PROCPRIV,KFI$W_FLAGS(R7),220$ ;BRANCH IF NOT PRIVILEGED
                          0F         018F       
            50       0054'CF     9E  0190 12300 	MOVAB	W^PRIV_MSK_DSC,R0	;CONTROL STRING FOR PRIVILEGE BITS
            57            24     C1  0195 12400 	ADDL3	#KFI$Q_PROCPRIV,R7,R1	;ADDRESS OF PRIVILEGE BITS
                          51         0198       
                          007C   30  0199 12500 	BSBW	FAOL			;CONVERT PRIVILEGE BITS
                          00A1   30  019C 12600 	BSBW	PUT			;AND OUTPUT
INSLIST         - INSTALL LIST COMMAND                           22-AUG-1978 01:17:28   VAX-11 MACRO X0.3-11               Page   8
X0110           LIST COMMAND - LIST THE KNOWN FILES                                                                              (3)

            50       005C'CF     9E  019F 12700 220$:	MOVAB	W^KFIENTRY_DSC,R0	;CONTROL STRING FOR KFI ENTRY ADR/SIZE
       0038'CF            68     D0  01A4 12800 	MOVL	KFX_L_KFIADR(R8),W^FAO_PRM ;ADDRESS OF KNOWN FILE ENTRY
       003C'CF         08 A7     3C  01A9 12850 	MOVZWL	KFI$W_SIZE(R7),W^FAO_PRM+4 ;SIZE OF THE KNOWN FILE ENTRY
                          0061   30  01AF 12900 	BSBW	FAO			;FORMAT STRUCTURE ADR AND SIZE
                          008B   30  01B2 13000 	BSBW	PUT			;AND OUTPUT IT
         0B A7            02     E1  01B5 13100 	BBC	#KFI$V_DONOTOPEN,KFI$B_KFICTL(R7),240$ ;BRANCH IF NOT OPEN
                          17         01B9       
            50       0064'CF     9E  01BA 13200 	MOVAB	W^WINDOW_DSC,R0		;CONTROL STRING FOR WINDOW ADR/SIZE
       0038'CF         1C A7     D0  01BF 13300 	MOVL	KFI$L_WINDOW(R7),W^FAO_PRM ;ADDRESS OF WINDOW CONTROL BLOCK
       003C'CF         0C A8     3C  01C5 13350 	MOVZWL	KFX_W_WINDOWSIZ(R8),W^FAO_PRM+4 ;SIZE OF WINDOW
                          0045   30  01CB 13400 	BSBW	FAO			;CONVERT STRUCTURE ADR AND SIZE
                          006F   30  01CE 13500 	BSBW	PUT			;AND OUTPUT IT
         14 A7            08     E1  01D1 13600 240$:	BBC	#KFI$V_IS_RESHDR,KFI$W_FLAGS(R7),260$ ;BRANCH IF NOT RESIDENT HDR
                          17         01D5       
            50       006C'CF     9E  01D6 13700 	MOVAB	W^HEADER_DSC,R0		;CONTROL STRING FOR HEADER ADR/SIZE
       0038'CF         20 A7     D0  01DB 13800 	MOVL	KFI$L_IMGHDR(R7),W^FAO_PRM ;ADDRESS OF IMAGE HEADER
       003C'CF         0E A8     3C  01E1 13850 	MOVZWL	KFX_W_IMGHDRSIZ(R8),W^FAO_PRM+4 ;SIZE OF IMAGE HEADER
                          0029   30  01E7 13900 	BSBW	FAO			;CONVERT STRUCTURE ADR AND SIZE
                          0053   30  01EA 14000 	BSBW	PUT			;AND OUTPUT IT
                                     01ED 14050 260$:
                                     01ED 14100 LIST_NEXT2:
            50         08 A7     3C  01ED 14200 	MOVZWL	KFI$W_SIZE(R7),R0	;CHAIN TO NEXT KNOWN FILE ENTRY
            57            50     C0  01F1 14300 	ADDL	R0,R7			;ADDRESS OF NEXT KNOWN FILE ENTRY
            57            10     C0  01F4 14400 	ADDL	#KFX_C_LENGTH,R7	;KFI EXTENSION
                                     01F7 14500 LIST_NEXT1:
            58         08 A7     3C  01F7 14600 	MOVZWL	KFI$W_SIZE(R7),R8	;END OF KNOWN FILE ENTRIES?
                          06     13  01FB 14700 	BEQL	LIST_DONE		;BRANCH IF LAST ONE IS DONE
            58            57     C0  01FD 14800 	ADDL	R7,R8			;ADDRESS OF KFI ENTRY EXTENSION
                          FE68   31  0200 14900 	BRW	LIST_NEXT		;GO LIST NEXT ENTRY
                                     0203 15000 LIST_DONE:
                                     0203 15100 	$DELTVA_S -			;CLEAN UP THE KNOWN FILE ENTRY BUFFER
                                     0203 15200 		INADR=W^LIST_ADR
                          00     DD  0203       		PUSHL	#0
                          00     DD  0205       		PUSHL	#0
                     0008'CF     7F  0207       		PUSHAQ	W^LIST_ADR
   00000000'GF            03     FB  020B       		CALLS	#3,G^SYS$DELTVA
                                     0212 15500 LIST_ERROR1:
                                 04  0212 15600 	RET
INSLIST         - INSTALL LIST COMMAND                           22-AUG-1978 01:17:28   VAX-11 MACRO X0.3-11               Page   9
X0110           SUPPORT ROUTINES FOR LIST COMMAND                                                                                (4)

                                     0213   100 	.SBTTL	SUPPORT ROUTINES FOR LIST COMMAND
                                     0213   200 
                                     0213   300 ;
                                     0213   400 ; CALL FAO TO FORMAT THE NEXT PART OF THE MESSAGE
                                     0213   500 ;
                                     0213   600 ; CALLING SEQUENCE:
                                     0213   700 ;
                                     0213   800 ;	BSBW	FAO
                                     0213   900 ;	BSBW	FAOL
                                     0213  1000 ;
                                     0213  1100 ; INPUTS:
                                     0213  1200 ;
                                     0213  1300 ;	R0 = FAO CONTROL STRING DESCRIPTOR ADDRESS
                                     0213  1400 ;	R1 = PARAMETER LIST ADDRESS IF ENTERED AT FAOL
                                     0213  1600 ;	R7 = KFI ENTRY ADDRESS USED ONLY IF ENTERED AT FAO_SET_PRM
                                     0213  1700 ;	FAO_OUT_STR_DSC IS THE ADDRESS OF THE OUTPUT STRING DESCRIPTOR
                                     0213  1800 ;
                                     0213  1900 ; OUTPUTS:
                                     0213  2000 ;
                                     0213  2100 ;	OUTPUT STRING DESCRIPTOR UPDATED TO REFLECT ADDED BYTES
                                     0213  2200 ;	JMP'S TO LIST_ERROR IF ERROR
                                     0213  2300 ;
                                     0213  2400 
            51       0038'CF     9E  0213  2800 FAO:	MOVAB	W^FAO_PRM,R1		;ADDRESS OF PARAMETER LIST
                                     0218  2900 FAOL:	$FAOL_S	(R0),W^FAO_OUT_LEN,W^FAO_OUT_STR_DSC,(R1)
                          61     DF  0218       		PUSHAL	(R1)
                     0014'CF     7F  021A       		PUSHAQ	W^FAO_OUT_STR_DSC
                     001C'CF     3F  021E       		PUSHAW	W^FAO_OUT_LEN
                          60     7F  0222       		PUSHAQ	(R0)
   00000000'GF            04     FB  0224       		CALLS	#4,G^SYS$FAOL
            0F            50     E9  022B  3000 	BLBC	R0,20$			;BRANCH IF ERROR
       0018'CF       001C'CF     C0  022E  3100 	ADDL	W^FAO_OUT_LEN,W^FAO_OUT_STR_DSC+4 ;ADDRESS OF NEXT AVAILABLE BYTE
       0014'CF       001C'CF     C2  0235  3200 	SUBL	W^FAO_OUT_LEN,W^FAO_OUT_STR_DSC ;SIZE OF REMAINING BUFFER
                                 05  023C  3300 	RSB
                                     023D  3400 20$:
                          FDE0   31  023D  3500 	BRW	LIST_ERROR
                                     0240  3600 ;
                                     0240  3700 ; PUT THE RECORD AND INIT FOR THE NEXT
                                     0240  3800 ;
                                     0240  3900 ; CALLING SEQUENCE:
                                     0240  4000 ;
                                     0240  4100 ;	BSBW	PUT
                                     0240  4200 ;
                                     0240  4300 ; INPUTS:
                                     0240  4400 ;
                                     0240  4500 ;	R11 = RAB ADDRESS
                                     0240  4600 ;
                                     0240  4700 ; OUTPUTS:
                                     0240  4800 ;
                                     0240  4900 ;	R0-R5 ALTERED
                                     0240  5000 ;	READY FOR NEW RECORD TO BE BUILT
                                     0240  5100 ;
                                     0240  5200 PUT:
       0018'CF         00'AB     C3  0240  5300 	SUBL3	B^RAB$L_RBF(R11),W^FAO_OUT_STR_DSC+4,R0 ;BYTES IN RECORD
                          50         0246       
         00'AB            50     B0  0247  5400 	MOVW	R0,B^RAB$W_RSZ(R11)	;SET RECORD SIZE IN RAB
                                     024B  5500 	$PUT	(R11)			;OUTPUT THE RECORD
INSLIST         - INSTALL LIST COMMAND                           22-AUG-1978 01:17:28   VAX-11 MACRO X0.3-11               Page  10
X0110           SUPPORT ROUTINES FOR LIST COMMAND                                                                                (4)

                          6B     DF  024B       		PUSHAL	(R11)
   00000000'9F            01     FB  024D       		CALLS	#$$.TMP1,@#SYS$PUT
                                     0254  5600 PUT_INIT:
       0014'CF   00000084 8F     D0  0254  5700 	MOVL	#REC_BUFSIZ,W^FAO_OUT_STR_DSC ;SET SIZE OF BUFFER
       0018'CF       0054'CF     9E  025D  5800 	MOVAB	W^REC_BUF,W^FAO_OUT_STR_DSC+4 ;AND THE ADDRESS
            61            00     2C  0264  5900 	MOVC5	#0,(R1),#^A/ /,#REC_BUFSIZ,W^REC_BUF ;BLANK THE RECORD BUFFER
       0084 8F            20         0267       
                     0054'CF         026B       
                                 05  026E  6000 	RSB
INSLIST         - INSTALL LIST COMMAND                           22-AUG-1978 01:17:28   VAX-11 MACRO X0.3-11               Page  11
X0110           SUPPORT ROUTINES FOR LIST COMMAND                                                                                (5)

                                     026F   100 ;
                                     026F   200 ; KERNEL MODE ROUTINE FOR MOVING THE KNOWN FILE LISTS TO USER MEMORY
                                     026F   300 ;
                                     026F   400 ; CALLING SEQUENCE:
                                     026F   500 ;
                                     026F   600 ;	CALLG	ARGLIST,GET_KFI_LISTS
                                     026F   700 ;
                                     026F   800 ; INPUTS:
                                     026F   900 ;
                                     026F  1000 ;	4(AP) = ADDRESS OF KNOWN FILE ENTRY TO LIST
                                     026F  1100 ;	      = 0 IF LISTING THE ENTIRE LIST
                                     026F  1200 ;	8(AP) = ADDRESS TO COPY THE KNOWN FILE LISTS TO
                                     026F  1300 ;	R4 = PROCESS CONTROL BLOCK ADDRESS CURTESY OF THE CHANGE MODE DISPATCHER
                                     026F  1400 ;
                                     026F  1500 ; OUTPUTS:
                                     026F  1600 ;
                                     026F  1700 ;	KNOWN FILE ENTRIES COPIED TO SPECIFIED BUFFER
                                     026F  1800 ;
                                     026F  1900 
                                     026F  2000 GET_KFI_LISTS:
                               07FC  026F  2100 	.WORD	^M<R2,R3,R4,R5,R6,R7,R8,R9,R10>
                          00'    DD  0271  2200 	PUSHL	S^#SS$_NORMAL		;ASSUME SUCCESSFUL COMPLETION
            50   00000000'EF     DE  0273  2300 	MOVAL	EXE$GL_KFIMTX,R0	;ADDRESS OF KNOWN FILE MUTEX
                          11     BB  027A  2400 	PUSHR	#^M<R0,R4>		;SAVE MUTEX ADR, PCB ADR
                 00000000'EF     16  027C  2500 	JSB	SCH$LOCKR		;LOCK THE MUTEX FOR READING
                                     0282  2600 					;RETURNS AT IPL=ASTDEL
            53         08 AC     D0  0282  2700 	MOVL	8(AP),R3		;GET ADDRESS OF USER MODE BUFFER
            58         04 AC     D0  0286  2800 	MOVL	4(AP),R8		;GET ENTRY ADDRESS TO LIST
                          4C     12  028A  2900 	BNEQ	100$			;BRANCH IF ENTRY SPECIFIED
                                     028C  3000 					;OTHERWISE LIST THEM ALL
            5A   00000000'EF     D0  028C  3100 	MOVL	EXE$GL_KNOWNFIL,R10	;ADDRESS OF FIRST KNOWN FILE LIST POINTER
                          2D     13  0293  3200 	BEQL	50$			;BRANCH IF NO KNOWN FILE LISTS AT ALL
            56         F4 AA     9A  0295  3300 	MOVZBL	<KFP$B_QUECOUNT-KFP$L_QUE0>(R10),R6 ;MAX NO. OF LISTS ACTIVE
                          27     13  0299  3400 	BEQL	50$			;BRANCH IF NO KNOWN FILE LISTS
            59            8A     D0  029B  3500 10$:	MOVL	(R10)+,R9		;ADDRESS OF LIST HEAD FOR THIS LIST
                          13     13  029E  3600 	BEQL	40$			;BRANCH IF THIS LIST IS NOT IN USE
            57            59     D0  02A0  3700 	MOVL	R9,R7			;COPY THE LIST HEAD ADR
                          06     11  02A3  3800 	BRB	30$			;LOOP 0 OR MORE TIMES
                          0053   30  02A5  3900 20$:	BSBW	MOV_KFI_ENTRY		;MOVE THE KFI ENTRY
            27            50     E9  02A8  4000 	BLBC	R0,60$			;BRANCH IF ERROR
            57            67     D0  02AB  4100 30$:	MOVL	(R7),R7			;ADDRESS OF NEXT ENTRY
            59            57     D1  02AE  4200 	CMPL	R7,R9			;BACK TO HEAD OF LIST?
                          F2     12  02B1  4300 	BNEQ	20$			;BRANCH IF NOT, COPY NEXT ENTRY
            E5            56     F5  02B3  4400 40$:	SOBGTR	R6,10$			;DO THE NEXT LIST IF ANY
                                     02B6  4500 45$:	IFNOWRT	#KFI$W_SIZE+2,(R3),55$	;IF ENOUGH IS WRITABLE
            0A            00     0D  02B6       		PROBEW	#0,#KFI$W_SIZE+2,(R3)
                          63         02B9       
                          11     13  02BA       		BEQL	55$
            63            00     2C  02BC  4600 	MOVC5	#0,(R3),#0,#KFI$W_SIZE+2,(R3) ;ZERO THE NEXT SIZE FIELD
            0A            00         02BF       
                          63         02C1       
                          11     BA  02C2  4700 50$:	POPR	#^M<R0,R4>		;ADR OF KFI MUTEX, ADR OF PCB
                 00000000'EF     16  02C4  4800 	JSB	SCH$UNLOCK		;RELEASE THE KNOWN FILE MUTEX
                          01     BA  02CA  4900 	POPR	#^M<R0>			;GET RETURN STATUS
                                 04  02CC  5000 	RET
                                     02CD  5100 ;
                                     02CD  5200 ; FAILED TO MAKE LAST NULL ENTRY IN OUTPUT BUFFER
INSLIST         - INSTALL LIST COMMAND                           22-AUG-1978 01:17:28   VAX-11 MACRO X0.3-11               Page  12
X0110           SUPPORT ROUTINES FOR LIST COMMAND                                                                                (5)

                                     02CD  5300 ;
            50       0000'8F     3C  02CD  5400 55$:	MOVZWL	#SS$_ACCVIO,R0
                                     02D2  5500 ;
                                     02D2  5600 ; FAILED TO MOVE THE KNOWN FILE ENTRY, R0 IS REASON WHY
                                     02D2  5700 ;
         08 AE            50     D0  02D2  5800 60$:	MOVL	R0,8(SP)		;CANNOT ACCESS THE OUTPUT BUFFER
                          EA     11  02D6  5900 	BRB	50$
                                     02D8  6000 ;
                                     02D8  6100 ; LIST SPECIFIED KNOWN FILE ENTRY
                                     02D8  6200 ;
            58            03     CA  02D8  6300 100$:	BICL	#KFI$M_KFISEQ,R8	;CLEAR LOW ORDER BITS
            59         12 A8     9A  02DB  6400 	MOVZBL	KFI$B_KFIQNUM(R8),R9	;LIST INDEX FOR LIST CONTAINING THIS ENTRY
            59   00000000'FF49   D0  02DF  6500 	MOVL	@EXE$GL_KNOWNFIL[R9],R9 ;LIST HEAD FOR THE LIST
            57            69     D0  02E7  6600 	MOVL	(R9),R7			;ADDRESS OF HEADER ENTRY
                          000E   30  02EA  6700 	BSBW	MOV_KFI_ENTRY		;MOVE THE HEADER ENTRY
            E2            50     E9  02ED  6800 	BLBC	R0,60$			;BRANCH IF ERROR
            57            58     D0  02F0  6900 	MOVL	R8,R7			;ADDRESS OF DESIRED ENTRY
                          0005   30  02F3  7000 	BSBW	MOV_KFI_ENTRY		;MOVE IT
            BD            50     E8  02F6  7100 	BLBS	R0,45$			;IF SUCCESSFUL, STORE NULL ENTRY
                          D7     11  02F9  7200 	BRB	60$			;RETURN THE ERROR
                                     02FB  7300 ;
                                     02FB  7400 ; MOVE THE KFI ENTRY TO USER BUFFER
                                     02FB  7500 ;
                                     02FB  7600 ; CALLING SEQUENCE:
                                     02FB  7700 ;
                                     02FB  7800 ;	BSBW	MOV_KFI_ENTRY
                                     02FB  7900 ;
                                     02FB  8000 ; INPUTS:
                                     02FB  8100 ;
                                     02FB  8200 ;	R3 = ADDRESS OF BUFFER TO MOVE ENTRY TO
                                     02FB  8300 ;	R7 = ADDRESS OF KNOWN FILE ENTRY TO MOVE
                                     02FB  8400 ;
                                     02FB  8500 ; OUTPUTS:
                                     02FB  8600 ;
                                     02FB  8700 ;	R0 = COMPLETION STATUS
                                     02FB  8800 ;	R3 UPDATED ADDRESS OF OUTPUT BUFFER
                                     02FB  8900 ;	R1-R2,R4-R5 ALTERED
                                     02FB  9000 ;
                                     02FB  9100 
                                     02FB  9200 MOV_KFI_ENTRY:
         08 A7            10     A1  02FB  9300 10$:	ADDW3	#KFX_C_LENGTH,KFI$W_SIZE(R7),R0 ;SIZE OF KFI ENTRY PLUS EXTENSION
                          50         02FF       
                                     0300  9400 	IFNOWRT	R0,(R3),60$		;MAKE SURE THIS CAN BE WRITTEN
            50            00     0D  0300       		PROBEW	#0,R0,(R3)
                          63         0303       
                          54     13  0304       		BEQL	60$
            67         08 A7     28  0306  9500 	MOVC3	KFI$W_SIZE(R7),(R7),(R3) ;MOVE THE KNOWN FILE ENTRY
                          63         030A       
                                     030B  9600 ;
                                     030B  9650 ; NOTE THAT R5 = 0 AS A RESULT OF THE ABOVE MOVC
                                     030B  9700 ; FORM THE EXTENSION OF THE KNOWN FILE ENTRY
                                     030B  9800 ;	FIRST LONG WORD IS THE ADDRESS OF THE KNOWN FILE ENTRY
                                     030B  9900 ;	NEXT 8 BYTES (ONLY 6 REALLY USED) IS THE FILE ID OF THE FILE
                                     030B  9920 ;	NEXT 2 BYTES IS THE SIZE IN BYTES OF THE WINDOW CONTROL BLOCK
                                     030B  9940 ;	NEXT 2 BYTES IS THE SIZE OF THE RESIDENT IMAGE HEADER
                                     030B 10000 ;
            63            57     D0  030B 10100 	MOVL	R7,KFX_L_KFIADR(R3)	;KNOWN FILE ENTRY ADDRESS
INSLIST         - INSTALL LIST COMMAND                           22-AUG-1978 01:17:28   VAX-11 MACRO X0.3-11               Page  13
X0110           SUPPORT ROUTINES FOR LIST COMMAND                                                                                (5)

                       04 A3     7C  030E 10200 	CLRQ	KFX_W_FID(R3)		;ASSUME NO FILE ID AVAILABLE
                       0C A3     D4  0311 10250 	CLRL	KFX_W_WINDOWSIZ(R3)	;ZERO THE SIZE FIELDS
         0B A7            00     E0  0314 10300 	BBS	#KFI$V_KFIHD,KFI$B_KFICTL(R7),50$ ;NO FILE ID IF HEADER
                          3A         0318       
         0B A7            01     E1  0319 10400 	BBC	#KFI$V_FILIDOPEN,KFI$B_KFICTL(R7),30$ ;BRANCH IF NOT FILE ID OPEN
                          07         031D       
         04 A3         1C A7     7D  031E 10500 	MOVQ	KFI$W_FID(R7),KFX_W_FID(R3) ;STORE FILE ID FROM KFI ENTRY
                          16     11  0323 10600 	BRB	40$
         0B A7            02     E1  0325 10700 30$:	BBC	#KFI$V_DONOTOPEN,KFI$B_KFICTL(R7),40$ ;BRANCH IF FILE NOT OPEN
                          11         0329       
            55         1C A7     D0  032A 10800 	MOVL	KFI$L_WINDOW(R7),R5	;ADDRESS OF WINDOW CONTROL BLOCK
                          14     18  032E 10900 	BGEQ	45$			;BRANCH IF NOT A WINDOW
            50         18 A5     D0  0330 11000 	MOVL	WCB$L_FCB(R5),R0	;GET FILE CONTROL BLOCK ADDRESS
                          05     18  0334 11100 	BGEQ	40$			;BRANCH IF NONE PRESENT
         04 A3         20 A0     7D  0336 11200 	MOVQ	FCB$W_FID(R0),KFX_W_FID(R3) ;GET FILE ID FROM THE FCB
                          55     D5  033B 11310 40$:	TSTL	R5			;WINDOW CONTROL BLOCK PRESENT?
                          05     13  033D 11315 	BEQL	45$			;BRANCH IF NOT
         0C A3         08 A5     B0  033F 11320 	MOVW	WCB$W_SIZE(R5),KFX_W_WINDOWSIZ(R3) ;SET WINDOW CONTROL BLOCK SIZE
         14 A7            08     E1  0344 11330 45$:	BBC	#KFI$V_IS_RESHDR,KFI$W_FLAGS(R7),50$ ;BRANCH IF NO RESIDENT HDR
                          0A         0348       
         20 A7            0C     C3  0349 11335 	SUBL3	#KFH$C_LENGTH,KFI$L_IMGHDR(R7),R0 ;ADR OF KNOWN FILE HEADER
                          50         034D       
         0E A3         08 A0     B0  034E 11340 	MOVW	KFH$W_SIZE(R0),KFX_W_IMGHDRSIZ(R3) ;SET SIZE OF KNOWN FILE HEADER
            53            10     C0  0353 11345 50$:	ADDL	#KFX_C_LENGTH,R3	;ACCOUNT FOR HEADER SIZE
            50            00'    D0  0356 11400 	MOVL	S^#SS$_NORMAL,R0	;SUCCESS STATUS
                                 05  0359 11500 	RSB
                                     035A 11600 ;
                                     035A 11700 ; CANNOT WRITE THE SPECIFIED OUTPUT BUFFER
                                     035A 11800 ;
            50       0000'8F     3C  035A 11900 60$:	MOVZWL	#SS$_ACCVIO,R0		;RETURN ACCESS VIOLATION
                                 05  035F 12000 	RSB
                                     0360 12100 
                                     0360 12200 
                                     0360 12300 
                                     0360 12400 	.END
INSLIST         - INSTALL LIST COMMAND                           22-AUG-1978 01:17:28   VAX-11 MACRO X0.3-11               Page  14
SYMBOL TABLE                                                                                                                     (5)

$$.TMP1        = 00000001            BIT...         = 0000000C            FCB$W_STATUS     0000001E            
$$.TMP2        = 0000006B            CHAN             000000F8 R     03   FCB$W_TCNT       00000046            
$$T1           = 00000001            COMPAT_ADR       00000018 R     05   FCB$W_UICGROUP   0000003A            
ATR$C_ACLEVEL  = 00000018            CREATE_BUFFER    00000032 R     06   FCB$W_UICMEMBER  00000038            
ATR$C_ALCONTROL= 0000000E            DDB$B_ACPCLASS   00000013            FCB$W_WCNT       0000001C            
ATR$C_ASCDATES = 0000000D            DDB$B_TYPE       0000000A            FIB              000000E0 R     03   
ATR$C_ASCNAME  = 00000010            DDB$C_LENGTH     00000034            FIB$B_ALALIGN    00000021            
ATR$C_BAKDATE  = 00000014            DDB$K_LENGTH     00000034            FIB$B_ALOPTS     00000020            
ATR$C_BLOCKSIZE= 0000000B            DDB$L_ACPD       00000010            FIB$B_DID_NMX    0000000F            
ATR$C_CREDATE  = 00000011            DDB$L_DDT        0000000C            FIB$B_DID_RVN    0000000E            
ATR$C_DIRSEQ   = 0000001B            DDB$L_LINK       00000000            FIB$B_FID_NMX    00000009            
ATR$C_ENDLBLAST= 0000000F            DDB$L_UCB        00000004            FIB$B_FID_RVN    00000008            
ATR$C_EXPDAT   = 00000008            DDB$T_DRVNAME    00000024            FIB$B_LOC_NMX    00000027            
ATR$C_EXPDATE  = 00000013            DDB$T_NAME       00000014            FIB$B_LOC_RVN    00000026            
ATR$C_FILNAM   = 00000005            DDB$W_SIZE       00000008            FIB$B_WSIZE      00000003            
ATR$C_FILTYP   = 00000006            DIR...         = 00000001            FIB$C_ACCDATA    0000000A            
ATR$C_FILVER   = 00000007            EXE$GL_KFIMTX    ********   X   06   FIB$C_ALCDATA    0000002C            
ATR$C_FPRO     = 00000016            EXE$GL_KNOWNFIL  ********   X   06   FIB$C_CYL      = 00000001            
ATR$C_HEADER   = 0000000A            EXPREG_PAGCNT    00000010 R     03   FIB$C_DIRDATA    00000016            
ATR$C_RECATTR  = 00000004            FAO              00000213 R     06   FIB$C_EXTDATA    00000020            
ATR$C_REVDATE  = 00000012            FAOL             00000218 R     06   FIB$C_ILLEGAL  = 00000005            
ATR$C_RPRO     = 00000017            FAO_OUT_LEN      0000001C R     03   FIB$C_LBN      = 00000002            
ATR$C_SEMASK   = 00000019            FAO_OUT_STR_DSC  00000014 R     03   FIB$C_LENGTH     0000002C            
ATR$C_STATBLK  = 00000009            FAO_PRM          00000038 R     03   FIB$C_MTALEN     0000001C            
ATR$C_UCHAR    = 00000003            FCB$B_DIRIDX     00000048            FIB$C_NEXTVOL  = 00000003            
ATR$C_UIC      = 00000015            FCB$B_FID_NMX    00000025            FIB$C_POSEND   = 00000002            
ATR$C_UIC_RO   = 0000001A            FCB$B_FID_RVN    00000024            FIB$C_REWINDFIL= 00000006            
ATR$C_USERLABEL= 0000000C            FCB$B_TYPE       0000000A            FIB$C_REWINDVOL= 00000001            
ATR$L_ADDR       00000004            FCB$C_LENGTH     00000048            FIB$C_RFI      = 00000004            
ATR$S_ACLEVEL  = 00000002            FCB$K_LENGTH     00000048            FIB$C_SPACE    = 00000004            
ATR$S_ALCONTROL= 0000000E            FCB$L_EFBLK      00000040            FIB$C_VBN      = 00000003            
ATR$S_ASCDATES = 00000023            FCB$L_EXFCB      0000000C            FIB$K_ACCDATA    0000000A            
ATR$S_ASCNAME  = 00000014            FCB$L_FCBBL      00000004            FIB$K_ALCDATA    0000002C            
ATR$S_BAKDATE  = 00000008            FCB$L_FCBFL      00000000            FIB$K_DIRDATA    00000016            
ATR$S_BLOCKSIZE= 00000002            FCB$L_FILEOWNER  00000038            FIB$K_EXTDATA    00000020            
ATR$S_CREDATE  = 00000008            FCB$L_FILESIZE   00000034            FIB$K_LENGTH     0000002C            
ATR$S_DIRSEQ   = 00000002            FCB$L_HDLBN      00000030            FIB$K_MTALEN     0000001C            
ATR$S_ENDLBLAST= 00000004            FCB$L_STLBN      0000002C            FIB$L_ACCTL      00000000            
ATR$S_EXPDAT   = 00000007            FCB$L_STVBN      00000028            FIB$L_CNTRLVAL   00000018            
ATR$S_EXPDATE  = 00000008            FCB$L_WLBL       00000014            FIB$L_EXSZ       00000018            
ATR$S_FILNAM   = 00000006            FCB$L_WLFL       00000010            FIB$L_EXVBN      0000001C            
ATR$S_FILTYP   = 00000002            FCB$V_BADBLK   = 00000002            FIB$L_LOC_ADDR   00000028            
ATR$S_FILVER   = 00000002            FCB$V_DIR      = 00000000            FIB$L_WCC        00000010            
ATR$S_FPRO     = 00000002            FCB$V_EXCL     = 00000003            FIB$M_ALCON    = 00000001            
ATR$S_HEADER   = 00000200            FCB$V_MARKDEL  = 00000001            FIB$M_ALCONB   = 00000002            
ATR$S_RECATTR  = 00000020            FCB$V_SPOOL    = 00000004            FIB$M_ALDEF    = 00000008            
ATR$S_REVDATE  = 00000008            FCB$W_ACNT       00000018            FIB$M_ALLNAM   = 00000020            
ATR$S_RPRO     = 00000002            FCB$W_AMOD       0000003E            FIB$M_ALLTYP   = 00000010            
ATR$S_SEMASK   = 00000008            FCB$W_DIRSEQ     00000044            FIB$M_ALLVER   = 00000008            
ATR$S_STATBLK  = 0000000A            FCB$W_FID        00000020            FIB$M_CURPOS   = 00000010            
ATR$S_UCHAR    = 00000001            FCB$W_FID_NUM    00000020            FIB$M_DLOCK    = 00000002            
ATR$S_UIC      = 00000004            FCB$W_FID_RVN    00000024            FIB$M_EXACT    = 00000001            
ATR$S_UIC_RO   = 00000004            FCB$W_FID_SEQ    00000022            FIB$M_EXECUTE  = 00010000            
ATR$S_USERLABEL= 00000050            FCB$W_FILEPROT   0000003C            FIB$M_EXTEND   = 00000080            
ATR$W_SIZE       00000000            FCB$W_LCNT       0000001A            FIB$M_FILCON   = 00000004            
ATR$W_TYPE       00000002            FCB$W_SEGN       00000026            FIB$M_FINDFID  = 00000800            
ATRCTLBLK        000000EC R     03   FCB$W_SIZE       00000008            FIB$M_HIGHVER  = 00008000            
INSLIST         - INSTALL LIST COMMAND                           22-AUG-1978 01:17:28   VAX-11 MACRO X0.3-11               Page  15
SYMBOL TABLE                                                                                                                     (5)

FIB$M_LOWVER   = 00004000            FIB$W_DID_SEQ    0000000C            KFI$M_KFIHD    = 00000001            
FIB$M_MARKBAD  = 00000400            FIB$W_EXCTL      00000016            KFI$M_KFISEQ   = 00000003            
FIB$M_NEWVER   = 00000200            FIB$W_FID        00000004            KFI$M_KP_OPEN  = 00000001            
FIB$M_NOHDREXT = 00000200            FIB$W_FID_NUM    00000004            KFI$M_KP_RESHDR= 00000002            
FIB$M_NOREAD   = 00000400            FIB$W_FID_RVN    00000008            KFI$M_KP_SHARED= 00000004            
FIB$M_NOTRUNC  = 00000800            FIB$W_FID_SEQ    00000006            KFI$M_LIM      = 00000040            
FIB$M_NOWRITE  = 00000001            FIB$W_LOC_FID    00000022            KFI$M_MARKDEL  = 00000080            
FIB$M_ONCYL    = 00000002            FIB$W_LOC_NUM    00000022            KFI$M_NOREPLACE= 00000040            
FIB$M_PRSRV_ATR= 00020000            FIB$W_LOC_RVN    00000026            KFI$M_PROCPRIV = 00000080            
FIB$M_READCK   = 00000200            FIB$W_LOC_SEQ    00000024            KFI$Q_PROCPRIV   00000024            
FIB$M_REWIND   = 00000008            FIB$W_NMCTL      00000014            KFI$S_KFISEQ   = 00000002            
FIB$M_SEQONLY  = 00000040            FIB_DSC          000000D8 R     03   KFI$V_COMPATMOD= 0000000F            
FIB$M_SPOOL    = 00000010            FLAGS_ADR        0000003A R     05   KFI$V_DONOTOPEN= 00000002            
FIB$M_SUPERSEDE= 00000400            FLAGS_DSC        00000044 R     04   KFI$V_FILIDOPEN= 00000001            
FIB$M_TRUNC    = 00000100            FLAGS_LIST       00000000 R     04   KFI$V_IS_RESHDR= 00000008            
FIB$M_UPDATE   = 00000040            FLAGS_SIZ      = 00000003            KFI$V_IS_SHARED= 00000009            
FIB$M_WILD     = 00000100            GBL...         = 00000000            KFI$V_KFIHD    = 00000000            
FIB$M_WRITE    = 00000100            GET_BIGGER_BUF   00000000 R     06   KFI$V_KFISEQ   = 00000000            
FIB$M_WRITECK  = 00000020            GET_KFI_LISTS    0000026F R     06   KFI$V_KP_OPEN  = 00000000            
FIB$V_ALCON    = 00000000            HEADER_ADR       000000AD R     05   KFI$V_KP_RESHDR= 00000001            
FIB$V_ALCONB   = 00000001            HEADER_DSC       0000006C R     04   KFI$V_KP_SHARED= 00000002            
FIB$V_ALDEF    = 00000003            HEADER_SIZ     = 0000001D            KFI$V_LIM      = 00000006            
FIB$V_ALLNAM   = 00000005            HEAD_ADR         00000006 R     05   KFI$V_MARKDEL  = 00000007            
FIB$V_ALLTYP   = 00000004            INS$LIST         00000021 RG    06   KFI$V_NOREPLACE= 00000006            
FIB$V_ALLVER   = 00000003            IO$_ACCESS       ********   X   06   KFI$V_PROCPRIV = 00000007            
FIB$V_CURPOS   = 00000004            IOSB             000000FC R     03   KFI$W_FID        0000001C            
FIB$V_DLOCK    = 00000001            KFH$B_TYPE       0000000A            KFI$W_FID_NUM    0000001C            
FIB$V_EXACT    = 00000000            KFH$C_LENGTH     0000000C            KFI$W_FID_RVN    00000020            
FIB$V_EXECUTE  = 00000010            KFH$K_LENGTH     0000000C            KFI$W_FID_SEQ    0000001E            
FIB$V_EXTEND   = 00000007            KFH$L_BUFEND     00000000            KFI$W_FLAGS      00000014            
FIB$V_FILCON   = 00000002            KFH$L_KFIADR     00000004            KFI$W_GBLSECCNT  00000016            
FIB$V_FINDFID  = 0000000B            KFH$W_SIZE       00000008            KFI$W_REFCNT     00000010            
FIB$V_HIGHVER  = 0000000F            KFI$B_DEVNAM     0000000C            KFI$W_SIZE       00000008            
FIB$V_LOWVER   = 0000000E            KFI$B_DEVUCB     0000000C            KFIADR           00000030 R     03   
FIB$V_MARKBAD  = 0000000A            KFI$B_DIRNAM     0000000D            KFIENTRY_ADR     00000073 R     05   
FIB$V_NEWVER   = 00000009            KFI$B_FILNAM     0000000E            KFIENTRY_DSC     0000005C R     04   
FIB$V_NOHDREXT = 00000009            KFI$B_KFICTL     0000000B            KFIENTRY_SIZ   = 0000001D            
FIB$V_NOREAD   = 0000000A            KFI$B_KFIQNUM    00000012            KFINAM_ADR       00000026 R     05   
FIB$V_NOTRUNC  = 0000000B            KFI$B_KFISEQ     00000013            KFINAM_DSC       00000034 R     04   
FIB$V_NOWRITE  = 00000000            KFI$B_MATCHCTL   0000002C            KFINAM_SIZ     = 00000010            
FIB$V_ONCYL    = 00000001            KFI$B_TYPE       0000000A            KFI_ENTRY_ADR    00000004 R     03   
FIB$V_PRSRV_ATR= 00000011            KFI$B_TYPNAM     0000000F            KFI_LIST_PARAM   00000000 R     03   
FIB$V_READCK   = 00000009            KFI$C_KFIHDLEN   00000014            KFP$B_QUECOUNT   00000000            
FIB$V_REWIND   = 00000003            KFI$C_LENGTH     00000034            KFP$B_TYPE       0000000A            
FIB$V_SEQONLY  = 00000006            KFI$K_KFIHDLEN   00000014            KFP$B_TYPE1      0000000B            
FIB$V_SPOOL    = 00000004            KFI$K_LENGTH     00000034            KFP$L_QUE0       0000000C            
FIB$V_SUPERSEDE= 0000000A            KFI$L_IDENT      00000030            KFP$W_SIZE       00000008            
FIB$V_TRUNC    = 00000008            KFI$L_IMGHDR     00000020            KFX_C_LENGTH     00000010            
FIB$V_UPDATE   = 00000006            KFI$L_KFIQBL     00000004            KFX_L_KFIADR     00000000            
FIB$V_WILD     = 00000008            KFI$L_KFIQFL     00000000            KFX_W_FID        00000004            
FIB$V_WRITE    = 00000008            KFI$L_USECNT     00000018            KFX_W_IMGHDRSIZ  0000000E            
FIB$V_WRITECK  = 00000005            KFI$L_WINDOW     0000001C            KFX_W_WINDOWSIZ  0000000C            
FIB$W_ALLOC      00000022            KFI$M_COMPATMOD= 00008000            LAST_DEVNAM      00000020 R     03   
FIB$W_CNTRLFUNC  00000016            KFI$M_DONOTOPEN= 00000004            LIST_ADR         00000008 R     03   
FIB$W_DID        0000000A            KFI$M_FILIDOPEN= 00000002            LIST_DONE        00000203 R     06   
FIB$W_DID_NUM    0000000A            KFI$M_IS_RESHDR= 00000100            LIST_ERROR       00000020 R     06   
FIB$W_DID_RVN    0000000E            KFI$M_IS_SHARED= 00000200            LIST_ERROR1      00000212 R     06   
INSLIST         - INSTALL LIST COMMAND                           22-AUG-1978 01:17:28   VAX-11 MACRO X0.3-11               Page  16
SYMBOL TABLE                                                                                                                     (5)

LIST_NEXT        0000006B R     06   UCB$B_VERTSZ     0000003F            UCB$M_NT_BREAK = 00000020            
LIST_NEXT1       000001F7 R     06   UCB$C_LENGTH     00000074            UCB$M_NT_NAME  = 00000010            
LIST_NEXT2       000001ED R     06   UCB$C_LOGLNK   = 00000001            UCB$M_ONLINE   = 00000010            
MOV_KFI_ENTRY    000002FB R     06   UCB$K_LENGTH     00000074            UCB$M_POWER    = 00000020            
NOEXE_ADR        00000020 R     05   UCB$L_AMB        00000054            UCB$M_PRMMBX   = 00000001            
OPEN_ADR         00000012 R     05   UCB$L_ASTQBL     00000010            UCB$M_TIM      = 00000001            
PRIV_ADR         0000000C R     05   UCB$L_ASTQFL     0000000C            UCB$M_TIMOUT   = 00000040            
PRIV_MSK_ADR     00000056 R     05   UCB$L_CPID       0000005C            UCB$M_TT_NOTIF = 00000004            
PRIV_MSK_DSC     00000054 R     04   UCB$L_CRB        00000020            UCB$M_TT_TIMO  = 00000002            
PRIV_MSK_SIZ   = 0000001D            UCB$L_DDB        00000024            UCB$M_UNLOAD   = 00001000            
PUT              00000240 R     06   UCB$L_DEVCHAR    00000034            UCB$M_VALID    = 00000800            
PUT_INIT         00000254 R     06   UCB$L_DEVDEPEND  0000003C            UCB$S_LNKPRI   = 00000002            
RAB$L_RBF        ********   X   06   UCB$L_DPC        00000080            UCB$S_LTYPE    = 00000002            
RAB$W_RSZ        ********   X   06   UCB$L_DUETIM     0000005C            UCB$T_PARTNER    0000000C            
REC_BUF          00000054 R     03   UCB$L_DX_BFPNT   0000009C            UCB$V_BACKP    = 00000005            
REC_BUFSIZ     = 00000084            UCB$L_DX_BUF     00000098            UCB$V_BSY      = 00000008            
RUN_CNT_ADR      0000003D R     05   UCB$L_DX_RXDB    000000A0            UCB$V_CANCEL   = 00000003            
RUN_CNT_DSC      0000004C R     04   UCB$L_EMB        00000078            UCB$V_DEADMO   = 0000000A            
RUN_CNT_SIZ    = 00000019            UCB$L_FIRST      00000014            UCB$V_DELMBX   = 00000001            
SAVABS...      = 00000010            UCB$L_FPC        0000000C            UCB$V_DIAGBUF  = 00000001            
SCH$LOCKR        ********   X   06   UCB$L_FQBL       00000004            UCB$V_DX_WRITE = 00000003            
SCH$UNLOCK       ********   X   06   UCB$L_FQFL       00000000            UCB$V_ECC      = 00000000            
SHAR_ADR         00000000 R     05   UCB$L_FR3        00000010            UCB$V_ERLOGIP  = 00000002            
SS$_ACCVIO       ********   X   06   UCB$L_FR4        00000014            UCB$V_INT      = 00000001            
SS$_NORMAL       ********   X   06   UCB$L_IOQBL      00000044            UCB$V_INTTYPE  = 00000007            
STRPTR_ARRAY     00000020 R     03   UCB$L_IOQFL      00000040            UCB$V_JOB      = 00000000            
SYS$ASSIGN       ********   X   06   UCB$L_IRP        0000004C            UCB$V_LNKPRI   = 00000006            
SYS$CMKRNL       ********   X   06   UCB$L_LINK       0000002C            UCB$V_LTYPE    = 00000000            
SYS$DASSGN       ********   X   06   UCB$L_LOGADR     00000064            UCB$V_MOUNTING = 00000009            
SYS$DELTVA       ********   X   06   UCB$L_MAXBLOCK   00000084            UCB$V_MSGACK   = 00000004            
SYS$EXPREG       ********   X   06   UCB$L_MEDIA      0000008C            UCB$V_MSGFLO   = 00000003            
SYS$FAOL         ********   X   06   UCB$L_NT_DATSSB  00000074            UCB$V_NOCNVRT  = 00000002            
SYS$PUT          ********  GX   06   UCB$L_NT_INTSSB  00000078            UCB$V_NT_BFROVF= 00000002            
SYS$QIOW         ********   X   06   UCB$L_OPCNT      00000060            UCB$V_NT_BREAK = 00000005            
UCB$B_AMOD       00000053            UCB$L_OWNUIC     0000001C            UCB$V_NT_NAME  = 00000004            
UCB$B_CEX        00000077            UCB$L_PID        00000028            UCB$V_ONLINE   = 00000004            
UCB$B_CM1        0000004A            UCB$L_RQBL       00000004            UCB$V_POWER    = 00000005            
UCB$B_CM2        0000004B            UCB$L_RQFL       00000000            UCB$V_PRMMBX   = 00000000            
UCB$B_DEVCLASS   00000038            UCB$L_SVAPTE     00000068            UCB$V_SEGFLO   = 00000002            
UCB$B_DEVTYPE    00000039            UCB$L_SVPN       00000064            UCB$V_TIM      = 00000000            
UCB$B_DIPL       00000052            UCB$L_TTCHAR     0000003C            UCB$V_TIMOUT   = 00000006            
UCB$B_DX_SCTCNT  000000A6            UCB$L_VCB        00000030            UCB$V_TT_NOTIF = 00000002            
UCB$B_ERTCNT     00000070            UCB$M_BACKP    = 00000020            UCB$V_TT_TIMO  = 00000001            
UCB$B_ERTMAX     00000071            UCB$M_BSY      = 00000100            UCB$V_UNLOAD   = 0000000C            
UCB$B_ESCAPE     0000004B            UCB$M_CANCEL   = 00000008            UCB$V_VALID    = 0000000B            
UCB$B_FEX        00000076            UCB$M_DEADMO   = 00000400            UCB$W_BCNT       0000006E            
UCB$B_FIPL       0000000B            UCB$M_DELMBX   = 00000002            UCB$W_BCR        00000096            
UCB$B_LOCSRV     0000003C            UCB$M_DIAGBUF  = 00000002            UCB$W_BOFF       0000006C            
UCB$B_OFFNDX     00000094            UCB$M_DX_WRITE = 00000008            UCB$W_BUFQUO     00000018            
UCB$B_OFFRTC     00000095            UCB$M_ECC      = 00000001            UCB$W_BYTESTOGO  0000003E            
UCB$B_REMSRV     0000003D            UCB$M_ERLOGIP  = 00000004            UCB$W_CHARGE     0000004A            
UCB$B_SECTORS    0000003C            UCB$M_INT      = 00000002            UCB$W_CYLINDERS  0000003E            
UCB$B_SLAVE      00000074            UCB$M_INTTYPE  = 00000080            UCB$W_DA         0000008C            
UCB$B_SPR        00000075            UCB$M_JOB      = 00000001            UCB$W_DC         0000008E            
UCB$B_STATE      00000052            UCB$M_MOUNTING = 00000200            UCB$W_DEVBUFSIZ  0000003A            
UCB$B_TRACKS     0000003D            UCB$M_NOCNVRT  = 00000004            UCB$W_DEVSTS     0000005A            
UCB$B_TYPE       0000000A            UCB$M_NT_BFROVF= 00000004            UCB$W_DIRSEQ     00000088            
INSLIST         - INSTALL LIST COMMAND                           22-AUG-1978 01:17:28   VAX-11 MACRO X0.3-11               Page  17
SYMBOL TABLE                                                                                                                     (5)

UCB$W_DSTADDR    00000018            WCB$W_NMAP       00000016            
UCB$W_DX_BCR     000000A4            WCB$W_P1_COUNT   00000024            
UCB$W_EC1        00000090            WCB$W_P2_COUNT   0000002A            
UCB$W_EC2        00000092            WCB$W_PREVCOUNT  FFFFFFFA            
UCB$W_ERRCNT     00000072            WCB$W_REFCNT     0000000E            
UCB$W_FUNC       0000007E            WCB$W_SIZE       00000008            
UCB$W_MB_SEED    FFFFFFFC            WINDOW_ADR       00000090 R     05   
UCB$W_MSGCNT     00000016            WINDOW_DSC       00000064 R     04   
UCB$W_MSGMAX     00000014            WINDOW_SIZ     = 0000001D            
UCB$W_NT_CHAN    0000007C            
UCB$W_OFFSET     0000008A            
UCB$W_REFC       00000050            
UCB$W_SIZE       00000008            
UCB$W_SRCADDR    0000001A            
UCB$W_STS        00000058            
UCB$W_UNIT       00000048            
UCB$W_VPROT      0000001A            
USECNT           00000034 R     03   
VERSION_ADR      00000036 R     05   
VERSION_DSC      0000003C R     04   
VERSION_SIZ    = 00000004            
WCB$B_ACCESS     0000000B            
WCB$B_TYPE       0000000A            
WCB$C_LENGTH     00000024            
WCB$C_MAP        00000024            
WCB$K_LENGTH     00000024            
WCB$K_MAP        00000024            
WCB$L_FCB        00000018            
WCB$L_LBN        00000002            
WCB$L_ORGUCB     00000010            
WCB$L_P1_LBN     00000026            
WCB$L_P2_LBN     0000002C            
WCB$L_PID        0000000C            
WCB$L_PREVLBN    FFFFFFFC            
WCB$L_RVT        0000001C            
WCB$L_STVBN      00000020            
WCB$L_WLBL       00000004            
WCB$L_WLFL       00000000            
WCB$M_NOTFCP   = 00000004            
WCB$M_READ     = 00000001            
WCB$M_SHRWCB   = 00000008            
WCB$M_WRITE    = 00000002            
WCB$V_DLOCK    = 00000001            
WCB$V_NOREAD   = 0000000A            
WCB$V_NOTFCP   = 00000002            
WCB$V_NOTRUNC  = 0000000B            
WCB$V_NOWRITE  = 00000000            
WCB$V_READ     = 00000000            
WCB$V_READCK   = 00000009            
WCB$V_SEQONLY  = 00000006            
WCB$V_SHRWCB   = 00000003            
WCB$V_SPOOL    = 00000004            
WCB$V_WRITE    = 00000001            
WCB$V_WRITEAC  = 00000008            
WCB$V_WRITECK  = 00000005            
WCB$W_ACON       00000014            
WCB$W_COUNT      00000000            
INSLIST         - INSTALL LIST COMMAND                           22-AUG-1978 01:17:28   VAX-11 MACRO X0.3-11               Page  18
PROGRAM SECTION SYNOPSIS                                                                                                         (5)



PROGRAM SECTION SYNOPSIS

.  ABS  .        00000000      00     NOPIC   USR   CON   ABS   LCL NOSHR NOEXE NORD  NOWRT BYTE  
. BLANK .        00000000      01     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD    WRT BYTE  
$ABS$            FFFFFFFE      02     NOPIC   USR   CON   ABS   LCL NOSHR   EXE   RD    WRT BYTE  
DATA             00000104      03     NOPIC   USR   CON   REL   LCL NOSHR NOEXE   RD    WRT LONG  
RO_LONG          00000074      04     NOPIC   USR   CON   REL   LCL NOSHR NOEXE   RD  NOWRT LONG  
RO_BYTE          000000CA      05     NOPIC   USR   CON   REL   LCL NOSHR NOEXE   RD  NOWRT BYTE  
CODE             00000360      06     NOPIC   USR   CON   REL   LCL NOSHR   EXE   RD  NOWRT BYTE  


THERE WERE NO ERRORS OR WARNINGS.
7540. BYTES LEFT IN FREE MEMORY POOL.
1790. BYTES OF RECLAIMED MEMORY.
OBJ$:INSLIST,LIS$:INSLIST/-SP=EXECML$/ML,SRC$:INSLIST
21 MLB DIR RDS - 1004 GETS TO DEFINE 34 MACROS. 67 INTER. FILE WRITES. 
